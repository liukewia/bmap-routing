(window.webpackJsonp=window.webpackJsonp||[]).push([[7,4,12],{"+6XX":function(rt,je,U){var xe=U("y1pI");function Oe(F){return xe(this.__data__,F)>-1}rt.exports=Oe},"+QRC":function(rt,je,U){"use strict";var xe=U("E9nw"),Oe={"text/plain":"Text","text/html":"Url",default:"Text"},F="Copy to clipboard: #{key}, Enter";function K(ve){var Pe=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return ve.replace(/#{\s*key\s*}/g,Pe)}function Ae(ve,Pe){var We,we,De,at,se,Re,mt=!1;Pe||(Pe={}),We=Pe.debug||!1;try{De=xe(),at=document.createRange(),se=document.getSelection(),Re=document.createElement("span"),Re.textContent=ve,Re.style.all="unset",Re.style.position="fixed",Re.style.top=0,Re.style.clip="rect(0, 0, 0, 0)",Re.style.whiteSpace="pre",Re.style.webkitUserSelect="text",Re.style.MozUserSelect="text",Re.style.msUserSelect="text",Re.style.userSelect="text",Re.addEventListener("copy",function(St){if(St.stopPropagation(),Pe.format)if(St.preventDefault(),typeof St.clipboardData=="undefined"){We&&console.warn("unable to use e.clipboardData"),We&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var Xr=Oe[Pe.format]||Oe.default;window.clipboardData.setData(Xr,ve)}else St.clipboardData.clearData(),St.clipboardData.setData(Pe.format,ve);Pe.onCopy&&(St.preventDefault(),Pe.onCopy(St.clipboardData))}),document.body.appendChild(Re),at.selectNodeContents(Re),se.addRange(at);var st=document.execCommand("copy");if(!st)throw new Error("copy command was unsuccessful");mt=!0}catch(St){We&&console.error("unable to copy using execCommand: ",St),We&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(Pe.format||"text",ve),Pe.onCopy&&Pe.onCopy(window.clipboardData),mt=!0}catch(Xr){We&&console.error("unable to copy using clipboardData: ",Xr),We&&console.error("falling back to prompt"),we=K("message"in Pe?Pe.message:F),window.prompt(we,ve)}}finally{se&&(typeof se.removeRange=="function"?se.removeRange(at):se.removeAllRanges()),Re&&document.body.removeChild(Re),De()}return mt}rt.exports=Ae},"/MfK":function(rt,je,U){"use strict";var xe=U("q1tI"),Oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},F=Oe,K=U("6VBw"),Ae=function(We,we){return xe.createElement(K.a,Object.assign({},We,{ref:we,icon:F}))};Ae.displayName="DeleteOutlined";var ve=je.a=xe.forwardRef(Ae)},"/qDX":function(rt,je,U){},"/s86":function(rt,je,U){"use strict";var xe=U("Telt"),Oe=U("Tckk"),F=U("q1tI"),K=U.n(F),Ae="valueType request plain renderFormItem render text formItemProps valueEnum",ve="fieldProps isDefaultDom groupProps contentRender submitterProps submitter";function Pe(S){var E="".concat(Ae," ").concat(ve).split(/[\s\n]+/),R={};return Object.keys(S||{}).forEach(function(N){E.includes(N)||(R[N]=S[N])}),R}var We=U("PjWh"),we=U("LQCs"),De=U("giR+"),at=U("fyUT"),se=U("CeSn"),Re=U.n(se);function mt(S){return S===0?null:S>0?"+":"-"}function st(S){return S===0?"#595959":S>0?"#ff4d4f":"#52c41a"}function St(S){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return E&&E>0?S.toFixed(E):S}function Xr(){return Xr=Object.assign||function(S){for(var E=1;E<arguments.length;E++){var R=arguments[E];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(S[N]=R[N])}return S},Xr.apply(this,arguments)}function zt(S,E){var R=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);E&&(N=N.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),R.push.apply(R,N)}return R}function nr(S){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?zt(Object(R),!0).forEach(function(N){pn(S,N,R[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(R)):zt(Object(R)).forEach(function(N){Object.defineProperty(S,N,Object.getOwnPropertyDescriptor(R,N))})}return S}function pn(S,E,R){return E in S?Object.defineProperty(S,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[E]=R,S}function Vr(S,E){if(S==null)return{};var R=$e(S,E),N,q;if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(S);for(q=0;q<ie.length;q++)N=ie[q],!(E.indexOf(N)>=0)&&(!Object.prototype.propertyIsEnumerable.call(S,N)||(R[N]=S[N]))}return R}function $e(S,E){if(S==null)return{};var R={},N=Object.keys(S),q,ie;for(ie=0;ie<N.length;ie++)q=N[ie],!(E.indexOf(q)>=0)&&(R[q]=S[q]);return R}var Et=function(E,R){var N=E.text,q=E.prefix,ie=E.precision,d=E.showSymbol,n=E.suffix,l=n===void 0?"%":n,a=E.mode,f=E.showColor,h=f===void 0?!1:f,y=E.render,m=E.renderFormItem,C=E.fieldProps,P=Vr(E,["text","prefix","precision","showSymbol","suffix","mode","showColor","render","renderFormItem","fieldProps"]),B=Object(F.useMemo)(function(){return typeof N=="string"&&N.includes("%")?Re()(N.replace("%","")):Re()(N)},[N]);if(a==="read"){var M=h?{color:st(B)}:{},T=K.a.createElement("span",{style:M,ref:R},q&&K.a.createElement("span",null,q),d&&K.a.createElement(F.Fragment,null,mt(B)," "),St(Math.abs(B),ie),l&&l);return y?y(N,nr(nr({mode:a},C),{},{prefix:q,precision:ie,showSymbol:d,suffix:l}),T):T}if(a==="edit"||a==="update"){var L=K.a.createElement(at.a,Xr({ref:R,formatter:function(H){return H&&q?"".concat(q," ").concat(H).replace(/\B(?=(\d{3})+(?!\d))/g,","):H},parser:function(H){return H?H.replace(new RegExp("\\".concat(q,"\\s?|(,*)"),"g"),""):""}},C,P));return m?m(N,nr({mode:a},C),L):L}return null},Xt=K.a.forwardRef(Et),et=U("GNNt"),bt=U("wEI+"),Zt=U("TSYQ"),qe=U.n(Zt),Ie=U("75XV");function ht(S,E,R){return E in S?Object.defineProperty(S,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[E]=R,S}var Er=function(E,R){var N,q=E.border,ie=q===void 0?!1:q,d=E.children,n=Object(F.useContext)(bt.b.ConfigContext),l=n.getPrefixCls,a=l("pro-field-index-column");return K.a.createElement("div",{ref:R,className:qe()(a,(N={},ht(N,"".concat(a,"-border"),ie),ht(N,"top-three",d>3),N))},d)},Cn=K.a.forwardRef(Er),pr=U("MXD1"),$r=U("CFYs");function An(S,E){var R=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);E&&(N=N.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),R.push.apply(R,N)}return R}function rn(S){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?An(Object(R),!0).forEach(function(N){fr(S,N,R[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(R)):An(Object(R)).forEach(function(N){Object.defineProperty(S,N,Object.getOwnPropertyDescriptor(R,N))})}return S}function fr(S,E,R){return E in S?Object.defineProperty(S,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[E]=R,S}function _r(){return _r=Object.assign||function(S){for(var E=1;E<arguments.length;E++){var R=arguments[E];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(S[N]=R[N])}return S},_r.apply(this,arguments)}function Wr(S,E){if(S==null)return{};var R=dt(S,E),N,q;if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(S);for(q=0;q<ie.length;q++)N=ie[q],!(E.indexOf(N)>=0)&&(!Object.prototype.propertyIsEnumerable.call(S,N)||(R[N]=S[N]))}return R}function dt(S,E){if(S==null)return{};var R={},N=Object.keys(S),q,ie;for(ie=0;ie<N.length;ie++)q=N[ie],!(E.indexOf(q)>=0)&&(R[q]=S[q]);return R}function At(S){return typeof S!="number"?"exception":S===100?"success":S<0?"exception":S<100?"active":"normal"}var cn=function(E,R){var N=E.text,q=E.mode,ie=E.render,d=E.plain,n=E.renderFormItem,l=E.fieldProps,a=Wr(E,["text","mode","render","plain","renderFormItem","fieldProps"]),f=Object(F.useMemo)(function(){return typeof N=="string"&&N.includes("%")?Re()(N.replace("%","")):Re()(N)},[N]);if(q==="read"){var h=K.a.createElement($r.a,_r({ref:R,size:"small",style:{minWidth:100,maxWidth:320},percent:f,steps:d?10:void 0,status:At(f)},l));return ie?ie(f,rn({mode:q},l),h):h}if(q==="edit"||q==="update"){var y=K.a.createElement(at.a,_r({ref:R},a,l));return n?n(N,rn({mode:q},l),y):y}return null},Jt=K.a.forwardRef(cn);function rr(){return rr=Object.assign||function(S){for(var E=1;E<arguments.length;E++){var R=arguments[E];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(S[N]=R[N])}return S},rr.apply(this,arguments)}function Gn(S,E){var R=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);E&&(N=N.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),R.push.apply(R,N)}return R}function Kr(S){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?Gn(Object(R),!0).forEach(function(N){ai(S,N,R[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(R)):Gn(Object(R)).forEach(function(N){Object.defineProperty(S,N,Object.getOwnPropertyDescriptor(R,N))})}return S}function ai(S,E,R){return E in S?Object.defineProperty(S,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[E]=R,S}function Nn(S,E){if(S==null)return{};var R=So(S,E),N,q;if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(S);for(q=0;q<ie.length;q++)N=ie[q],!(E.indexOf(N)>=0)&&(!Object.prototype.propertyIsEnumerable.call(S,N)||(R[N]=S[N]))}return R}function So(S,E){if(S==null)return{};var R={},N=Object.keys(S),q,ie;for(ie=0;ie<N.length;ie++)q=N[ie],!(E.indexOf(q)>=0)&&(R[q]=S[q]);return R}var Wo=new Intl.NumberFormat("zh-Hans-CN",{currency:"CNY"}),Un=new Intl.NumberFormat("zh-Hans-CN",{currency:"CNY",style:"currency",minimumFractionDigits:2}),an=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),In=new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB"}),Jr=new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}),Xn=function(E,R){var N=R;return typeof N=="string"&&(N=Number(N)),E==="en_US"?an.format(N):E==="ru_RU"?In.format(N):E==="ms_MY"?Jr.format(N):E===void 0?Wo.format(N):Un.format(N)},hr=function(E,R){var N=E.text,q=E.mode,ie=E.locale,d=ie===void 0?"":ie,n=E.render,l=E.renderFormItem,a=E.fieldProps,f=Nn(E,["text","mode","locale","render","renderFormItem","fieldProps"]),h=Object(we.c)(),y=f.moneySymbol===void 0?h.getMessage("moneySymbol","\uFFE5"):f.moneySymbol;if(q==="read"){var m=K.a.createElement("span",{ref:R},Xn(y?d||h.locale||"zh-CN":void 0,N));return n?n(N,Kr({mode:q},a),m):m}if(q==="edit"||q==="update"){var C=K.a.createElement(at.a,rr({ref:R,min:0,precision:2,formatter:function(B){return B?"".concat(y," ").concat(B).replace(/\B(?=(\d{3})+(?!\d))/g,","):""},parser:function(B){return B?B.replace(new RegExp("\\".concat(y,"\\s?|(,*)"),"g"),""):""},style:{width:"100%"}},f,a));return l?l(N,Kr({mode:q},a),C):C}return null},dn=K.a.forwardRef(hr),Mn=U("ZTW2"),Tn=U("+BJd"),kr=U("+L6B"),ei=U("wd/R"),Mi=U.n(ei),Di=U("Kwbf"),ui={getNow:function(){return Mi()()},getFixedDate:function(E){return Mi()(E,"YYYY-MM-DD")},getEndDate:function(E){var R=E.clone();return R.endOf("month")},getWeekDay:function(E){var R=E.clone().locale("en_US");return R.weekday()+R.localeData().firstDayOfWeek()},getYear:function(E){return E.year()},getMonth:function(E){return E.month()},getDate:function(E){return E.date()},getHour:function(E){return E.hour()},getMinute:function(E){return E.minute()},getSecond:function(E){return E.second()},addYear:function(E,R){var N=E.clone();return N.add(R,"year")},addMonth:function(E,R){var N=E.clone();return N.add(R,"month")},addDate:function(E,R){var N=E.clone();return N.add(R,"day")},setYear:function(E,R){var N=E.clone();return N.year(R)},setMonth:function(E,R){var N=E.clone();return N.month(R)},setDate:function(E,R){var N=E.clone();return N.date(R)},setHour:function(E,R){var N=E.clone();return N.hour(R)},setMinute:function(E,R){var N=E.clone();return N.minute(R)},setSecond:function(E,R){var N=E.clone();return N.second(R)},isAfter:function(E,R){return E.isAfter(R)},isValidate:function(E){return E.isValid()},locale:{getWeekFirstDay:function(E){var R=Mi()().locale(E);return R.localeData().firstDayOfWeek()},getWeekFirstDate:function(E,R){var N=R.clone(),q=N.locale(E);return q.weekday(0)},getWeek:function(E,R){var N=R.clone(),q=N.locale(E);return q.week()},getShortWeekDays:function(E){var R=Mi()().locale(E);return R.localeData().weekdaysMin()},getShortMonths:function(E){var R=Mi()().locale(E);return R.localeData().monthsShort()},format:function(E,R,N){var q=R.clone(),ie=q.locale(E);return ie.format(N)},parse:function(E,R,N){for(var q=[],ie=0;ie<N.length;ie+=1){var d=N[ie],n=R;if(d.includes("wo")||d.includes("Wo")){d=d.replace(/wo/g,"w").replace(/Wo/g,"W");var l=d.match(/[-YyMmDdHhSsWwGg]+/g),a=n.match(/[-\d]+/g);l&&a?(d=l.join(""),n=a.join("")):q.push(d.replace(/o/g,""))}var f=Mi()(n,d,E,!0);if(f.isValid())return f}for(var h=0;h<q.length;h+=1){var y=Mi()(R,q[h],E,!1);if(y.isValid())return Object(Di.b)(!1,"Not match any format strictly and fallback to fuzzy match. Please help to fire a issue about this."),y}return null}}},Po=ui,cr=U("wx14"),$o=U("2/Rp");function As(S){return F.createElement($o.a,Object(cr.a)({size:"small",type:"primary"},S))}var Gi=U("mr32");function Xs(S){return F.createElement(Gi.a,Object(cr.a)({color:"blue"},S))}var un=U("rePB"),ko=U("1OyB"),ss=U("vuIU"),Gr=U("Ji7U"),Yl=U("LK+K"),ou={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"},ea=ou,Eu=U("6VBw"),wi=function(E,R){return F.createElement(Eu.a,Object.assign({},E,{ref:R,icon:ea}))};wi.displayName="CalendarOutlined";var Pi=F.forwardRef(wi),hi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},Mt=hi,wn=function(E,R){return F.createElement(Eu.a,Object.assign({},E,{ref:R,icon:Mt}))};wn.displayName="ClockCircleOutlined";var Ot=F.forwardRef(wn),ar=U("jN4g"),Mr=U("VTBJ"),jt=U("ODXe"),gr=U("6cGi"),Vn=U("U8pU"),_n=U("4IlW"),vo=F.createContext({}),Ei=vo,Oo={visibility:"hidden"};function Je(S){var E=S.prefixCls,R=S.prevIcon,N=R===void 0?"\u2039":R,q=S.nextIcon,ie=q===void 0?"\u203A":q,d=S.superPrevIcon,n=d===void 0?"\xAB":d,l=S.superNextIcon,a=l===void 0?"\xBB":l,f=S.onSuperPrev,h=S.onSuperNext,y=S.onPrev,m=S.onNext,C=S.children,P=F.useContext(Ei),B=P.hideNextBtn,M=P.hidePrevBtn;return F.createElement("div",{className:E},f&&F.createElement("button",{type:"button",onClick:f,tabIndex:-1,className:"".concat(E,"-super-prev-btn"),style:M?Oo:{}},n),y&&F.createElement("button",{type:"button",onClick:y,tabIndex:-1,className:"".concat(E,"-prev-btn"),style:M?Oo:{}},N),F.createElement("div",{className:"".concat(E,"-view")},C),m&&F.createElement("button",{type:"button",onClick:m,tabIndex:-1,className:"".concat(E,"-next-btn"),style:B?Oo:{}},ie),h&&F.createElement("button",{type:"button",onClick:h,tabIndex:-1,className:"".concat(E,"-super-next-btn"),style:B?Oo:{}},a))}var nt=Je;function ut(S){var E=S.prefixCls,R=S.generateConfig,N=S.viewDate,q=S.onPrevDecades,ie=S.onNextDecades,d=F.useContext(Ei),n=d.hideHeader;if(n)return null;var l="".concat(E,"-header"),a=R.getYear(N),f=Math.floor(a/Ja)*Ja,h=f+Ja-1;return F.createElement(nt,Object(cr.a)({},S,{prefixCls:l,onSuperPrev:q,onSuperNext:ie}),f,"-",h)}var Dt=ut;function en(S,E,R,N,q){var ie=S.setHour(E,R);return ie=S.setMinute(ie,N),ie=S.setSecond(ie,q),ie}function bn(S,E,R,N,q,ie){var d=Math.floor(S/N)*N;if(d<S)return[d,60-q,60-ie];var n=Math.floor(E/q)*q;if(n<E)return[d,n,60-ie];var l=Math.floor(R/ie)*ie;return[d,n,l]}function jr(S,E){var R=S.getYear(E),N=S.getMonth(E)+1,q=S.getEndDate(S.getFixedDate("".concat(R,"-").concat(N,"-01"))),ie=S.getDate(q),d=N<10?"0".concat(N):"".concat(N);return"".concat(R,"-").concat(d,"-").concat(ie)}function tn(S){for(var E=S.prefixCls,R=S.disabledDate,N=S.onSelect,q=S.picker,ie=S.rowNum,d=S.colNum,n=S.prefixColumn,l=S.rowClassName,a=S.baseDate,f=S.getCellClassName,h=S.getCellText,y=S.getCellNode,m=S.getCellDate,C=S.generateConfig,P=S.titleCell,B=S.headerCells,M=F.useContext(Ei),T=M.onDateMouseEnter,L=M.onDateMouseLeave,z=M.mode,H="".concat(E,"-cell"),Z=[],J=0;J<ie;J+=1){for(var V=[],ne=void 0,Ce=function(Ue){var tt,He=J*d+Ue,kt=m(a,He),Wt=Nc({cellDate:kt,mode:z,disabledDate:R,generateConfig:C});Ue===0&&(ne=kt,n&&V.push(n(ne)));var Dr=P&&P(kt);V.push(F.createElement("td",{key:Ue,title:Dr,className:qe()(H,Object(Mr.a)((tt={},Object(un.a)(tt,"".concat(H,"-disabled"),Wt),Object(un.a)(tt,"".concat(H,"-start"),h(kt)===1||q==="year"&&Number(Dr)%10==0),Object(un.a)(tt,"".concat(H,"-end"),Dr===jr(C,kt)||q==="year"&&Number(Dr)%10==9),tt),f(kt))),onClick:function(){Wt||N(kt)},onMouseEnter:function(){!Wt&&T&&T(kt)},onMouseLeave:function(){!Wt&&L&&L(kt)}},y?y(kt):F.createElement("div",{className:"".concat(H,"-inner")},h(kt))))},_e=0;_e<d;_e+=1)Ce(_e);Z.push(F.createElement("tr",{key:J,className:l&&l(ne)},V))}return F.createElement("div",{className:"".concat(E,"-body")},F.createElement("table",{className:"".concat(E,"-content")},B&&F.createElement("thead",null,F.createElement("tr",null,B)),F.createElement("tbody",null,Z)))}var yn=3,Qn=4;function mi(S){var E=di-1,R=S.prefixCls,N=S.viewDate,q=S.generateConfig,ie="".concat(R,"-cell"),d=q.getYear(N),n=Math.floor(d/di)*di,l=Math.floor(d/Ja)*Ja,a=l+Ja-1,f=q.setYear(N,l-Math.ceil((yn*Qn*di-Ja)/2)),h=function(m){var C,P=q.getYear(m),B=P+E;return C={},Object(un.a)(C,"".concat(ie,"-in-view"),l<=P&&B<=a),Object(un.a)(C,"".concat(ie,"-selected"),P===n),C};return F.createElement(tn,Object(cr.a)({},S,{rowNum:Qn,colNum:yn,baseDate:f,getCellText:function(m){var C=q.getYear(m);return"".concat(C,"-").concat(C+E)},getCellClassName:h,getCellDate:function(m,C){return q.addYear(m,C*di)}}))}var si=mi,Ji=U("KQm4"),Hi=U("wgJM"),eo=U("x/xZ"),go=new Map;function Ro(S,E){var R;function N(){Object(eo.a)(S)?E():R=Object(Hi.a)(function(){N()})}return N(),function(){Hi.a.cancel(R)}}function va(S,E,R){if(go.get(S)&&cancelAnimationFrame(go.get(S)),R<=0){go.set(S,requestAnimationFrame(function(){S.scrollTop=E}));return}var N=E-S.scrollTop,q=N/R*10;go.set(S,requestAnimationFrame(function(){S.scrollTop+=q,S.scrollTop!==E&&va(S,E,R-10)}))}function zo(S,E){var R=E.onLeftRight,N=E.onCtrlLeftRight,q=E.onUpDown,ie=E.onPageUpDown,d=E.onEnter,n=S.which,l=S.ctrlKey,a=S.metaKey;switch(n){case _n.a.LEFT:if(l||a){if(N)return N(-1),!0}else if(R)return R(-1),!0;break;case _n.a.RIGHT:if(l||a){if(N)return N(1),!0}else if(R)return R(1),!0;break;case _n.a.UP:if(q)return q(-1),!0;break;case _n.a.DOWN:if(q)return q(1),!0;break;case _n.a.PAGE_UP:if(ie)return ie(-1),!0;break;case _n.a.PAGE_DOWN:if(ie)return ie(1),!0;break;case _n.a.ENTER:if(d)return d(),!0;break}return!1}function tl(S,E,R,N){var q=S;if(!q)switch(E){case"time":q=N?"hh:mm:ss a":"HH:mm:ss";break;case"week":q="gggg-wo";break;case"month":q="YYYY-MM";break;case"quarter":q="YYYY-[Q]Q";break;case"year":q="YYYY";break;default:q=R?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD"}return q}function yl(S,E,R){var N=S==="time"?8:10,q=typeof E=="function"?E(R.getNow()).length:E.length;return Math.max(N,q)+2}var au=null,jl=new Set;function Gu(S){return!au&&typeof window!="undefined"&&window.addEventListener&&(au=function(R){Object(Ji.a)(jl).forEach(function(N){N(R)})},window.addEventListener("mousedown",au)),jl.add(S),function(){jl.delete(S),jl.size===0&&(window.removeEventListener("mousedown",au),au=null)}}function mc(S){var E=S.target;if(S.composed&&E.shadowRoot){var R;return((R=S.composedPath)===null||R===void 0?void 0:R.call(S)[0])||E}return E}var Kc=function(E){return E==="month"||E==="date"?"year":E},gs=function(E){return E==="date"?"month":E},mf=function(E){return E==="month"||E==="date"?"quarter":E},Zc=function(E){return E==="date"?"week":E},Hf={year:Kc,month:gs,quarter:mf,week:Zc,time:null,date:null};function Ac(S,E){return S.some(function(R){return R&&R.contains(E)})}var di=10,Ja=di*10;function Jc(S){var E=S.prefixCls,R=S.onViewDateChange,N=S.generateConfig,q=S.viewDate,ie=S.operationRef,d=S.onSelect,n=S.onPanelChange,l="".concat(E,"-decade-panel");ie.current={onKeyDown:function(y){return zo(y,{onLeftRight:function(C){d(N.addYear(q,C*di),"key")},onCtrlLeftRight:function(C){d(N.addYear(q,C*Ja),"key")},onUpDown:function(C){d(N.addYear(q,C*di*yn),"key")},onEnter:function(){n("year",q)}})}};var a=function(y){var m=N.addYear(q,y*Ja);R(m),n(null,m)},f=function(y){d(y,"mouse"),n("year",y)};return F.createElement("div",{className:l},F.createElement(Dt,Object(cr.a)({},S,{prefixCls:E,onPrevDecades:function(){a(-1)},onNextDecades:function(){a(1)}})),F.createElement(si,Object(cr.a)({},S,{prefixCls:E,onSelect:f})))}var La=Jc,Vf=7;function zl(S,E){if(!S&&!E)return!0;if(!S||!E)return!1}function nd(S,E,R){var N=zl(E,R);if(typeof N=="boolean")return N;var q=Math.floor(S.getYear(E)/10),ie=Math.floor(S.getYear(R)/10);return q===ie}function tc(S,E,R){var N=zl(E,R);return typeof N=="boolean"?N:S.getYear(E)===S.getYear(R)}function Mh(S,E){var R=Math.floor(S.getMonth(E)/3);return R+1}function _f(S,E,R){var N=zl(E,R);return typeof N=="boolean"?N:tc(S,E,R)&&Mh(S,E)===Mh(S,R)}function rc(S,E,R){var N=zl(E,R);return typeof N=="boolean"?N:tc(S,E,R)&&S.getMonth(E)===S.getMonth(R)}function su(S,E,R){var N=zl(E,R);return typeof N=="boolean"?N:S.getYear(E)===S.getYear(R)&&S.getMonth(E)===S.getMonth(R)&&S.getDate(E)===S.getDate(R)}function Xl(S,E,R){var N=zl(E,R);return typeof N=="boolean"?N:S.getHour(E)===S.getHour(R)&&S.getMinute(E)===S.getMinute(R)&&S.getSecond(E)===S.getSecond(R)}function Dc(S,E,R,N){var q=zl(R,N);return typeof q=="boolean"?q:S.locale.getWeek(E,R)===S.locale.getWeek(E,N)}function bu(S,E,R){return su(S,E,R)&&Xl(S,E,R)}function Ha(S,E,R,N){return!E||!R||!N?!1:!su(S,E,N)&&!su(S,R,N)&&S.isAfter(N,E)&&S.isAfter(R,N)}function Ko(S,E,R){var N=E.locale.getWeekFirstDay(S),q=E.setDate(R,1),ie=E.getWeekDay(q),d=E.addDate(q,N-ie);return E.getMonth(d)===E.getMonth(R)&&E.getDate(d)>1&&(d=E.addDate(d,-7)),d}function Tu(S,E,R){var N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;switch(E){case"year":return R.addYear(S,N*10);case"quarter":case"month":return R.addYear(S,N);default:return R.addMonth(S,N)}}function zs(S,E){var R=E.generateConfig,N=E.locale,q=E.format;return typeof q=="function"?q(S):R.locale.format(N.locale,S,q)}function Eh(S,E){var R=E.generateConfig,N=E.locale,q=E.formatList;return!S||typeof q[0]=="function"?null:R.locale.parse(N.locale,S,q)}function Nc(S){var E=S.cellDate,R=S.mode,N=S.disabledDate,q=S.generateConfig;if(!N)return!1;var ie=function(C,P,B){for(var M=P;M<=B;){var T=void 0;switch(C){case"date":{if(T=q.setDate(E,M),!N(T))return!1;break}case"month":{if(T=q.setMonth(E,M),!Nc({cellDate:T,mode:"month",generateConfig:q,disabledDate:N}))return!1;break}case"year":{if(T=q.setYear(E,M),!Nc({cellDate:T,mode:"year",generateConfig:q,disabledDate:N}))return!1;break}}M+=1}return!0};switch(R){case"date":case"week":return N(E);case"month":{var d=1,n=q.getDate(q.getEndDate(E));return ie("date",d,n)}case"quarter":{var l=Math.floor(q.getMonth(E)/3)*3,a=l+2;return ie("month",l,a)}case"year":return ie("month",0,11);case"decade":{var f=q.getYear(E),h=Math.floor(f/di)*di,y=h+di-1;return ie("year",h,y)}}}function Ed(S){var E=F.useContext(Ei),R=E.hideHeader;if(R)return null;var N=S.prefixCls,q=S.generateConfig,ie=S.locale,d=S.value,n=S.format,l="".concat(N,"-header");return F.createElement(nt,{prefixCls:l},d?zs(d,{locale:ie,format:n,generateConfig:q}):"\xA0")}var Zd=Ed,Wf=U("YrtM");function Jd(S){var E=S.prefixCls,R=S.units,N=S.onSelect,q=S.value,ie=S.active,d=S.hideDisabledOptions,n="".concat(E,"-cell"),l=F.useContext(Ei),a=l.open,f=Object(F.useRef)(null),h=Object(F.useRef)(new Map),y=Object(F.useRef)();return Object(F.useLayoutEffect)(function(){var m=h.current.get(q);m&&a!==!1&&va(f.current,m.offsetTop,120)},[q]),Object(F.useLayoutEffect)(function(){if(a){var m=h.current.get(q);m&&(y.current=Ro(m,function(){va(f.current,m.offsetTop,0)}))}return function(){var C;(C=y.current)===null||C===void 0||C.call(y)}},[a]),F.createElement("ul",{className:qe()("".concat(E,"-column"),Object(un.a)({},"".concat(E,"-column-active"),ie)),ref:f,style:{position:"relative"}},R.map(function(m){var C;return d&&m.disabled?null:F.createElement("li",{key:m.value,ref:function(B){h.current.set(m.value,B)},className:qe()(n,(C={},Object(un.a)(C,"".concat(n,"-disabled"),m.disabled),Object(un.a)(C,"".concat(n,"-selected"),q===m.value),C)),onClick:function(){m.disabled||N(m.value)}},F.createElement("div",{className:"".concat(n,"-inner")},m.label))}))}var id=Jd;function zh(S,E){for(var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0",N=String(S);N.length<E;)N="".concat(R).concat(S);return N}var Th=function(){for(var E=arguments.length,R=new Array(E),N=0;N<E;N++)R[N]=arguments[N];return R};function If(S){return S==null?[]:Array.isArray(S)?S:[S]}function ql(S){var E={};return Object.keys(S).forEach(function(R){(R.substr(0,5)==="data-"||R.substr(0,5)==="aria-"||R==="role"||R==="name")&&R.substr(0,7)!=="data-__"&&(E[R]=S[R])}),E}function Ho(S,E){return S?S[E]:null}function ul(S,E,R){var N=[Ho(S,0),Ho(S,1)];return N[R]=typeof E=="function"?E(N[R]):E,!N[0]&&!N[1]?null:N}function oh(S,E){if(S.length!==E.length)return!0;for(var R=0;R<S.length;R+=1)if(S[R].disabled!==E[R].disabled)return!0;return!1}function ls(S,E,R,N){for(var q=[],ie=S;ie<=E;ie+=R)q.push({label:zh(ie,2),value:ie,disabled:(N||[]).includes(ie)});return q}function cl(S){var E=S.generateConfig,R=S.prefixCls,N=S.operationRef,q=S.activeColumnIndex,ie=S.value,d=S.showHour,n=S.showMinute,l=S.showSecond,a=S.use12Hours,f=S.hourStep,h=f===void 0?1:f,y=S.minuteStep,m=y===void 0?1:y,C=S.secondStep,P=C===void 0?1:C,B=S.disabledHours,M=S.disabledMinutes,T=S.disabledSeconds,L=S.hideDisabledOptions,z=S.onSelect,H=[],Z="".concat(R,"-content"),J="".concat(R,"-time-panel"),V,ne=ie?E.getHour(ie):-1,Ce=ne,_e=ie?E.getMinute(ie):-1,Fe=ie?E.getSecond(ie):-1,Ue=function(ci,Rn,Ps,Qi){var Ga=ie||E.getNow(),wl=Math.max(0,Rn),za=Math.max(0,Ps),qu=Math.max(0,Qi);return Ga=en(E,Ga,!a||!ci?wl:wl+12,za,qu),Ga},tt=ls(0,23,h,B&&B()),He=Object(Wf.a)(function(){return tt},tt,oh);a&&(V=Ce>=12,Ce%=12);var kt=F.useMemo(function(){if(!a)return[!1,!1];var Yn=[!0,!0];return He.forEach(function(ci){var Rn=ci.disabled,Ps=ci.value;Rn||(Ps>=12?Yn[1]=!1:Yn[0]=!1)}),Yn},[a,He]),Wt=Object(jt.a)(kt,2),Dr=Wt[0],qr=Wt[1],br=F.useMemo(function(){return a?He.filter(V?function(Yn){return Yn.value>=12}:function(Yn){return Yn.value<12}).map(function(Yn){var ci=Yn.value%12,Rn=ci===0?"12":zh(ci,2);return Object(Mr.a)(Object(Mr.a)({},Yn),{},{label:Rn,value:ci})}):He},[a,V,He]),On=ls(0,59,m,M&&M(ne)),Lt=ls(0,59,P,T&&T(ne,_e));N.current={onUpDown:function(ci){var Rn=H[q];if(Rn)for(var Ps=Rn.units.findIndex(function(za){return za.value===Rn.value}),Qi=Rn.units.length,Ga=1;Ga<Qi;Ga+=1){var wl=Rn.units[(Ps+ci*Ga+Qi)%Qi];if(wl.disabled!==!0){Rn.onSelect(wl.value);break}}}};function xr(Yn,ci,Rn,Ps,Qi){Yn!==!1&&H.push({node:F.cloneElement(ci,{prefixCls:J,value:Rn,active:q===H.length,onSelect:Qi,units:Ps,hideDisabledOptions:L}),onSelect:Qi,value:Rn,units:Ps})}xr(d,F.createElement(id,{key:"hour"}),Ce,br,function(Yn){z(Ue(V,Yn,_e,Fe),"mouse")}),xr(n,F.createElement(id,{key:"minute"}),_e,On,function(Yn){z(Ue(V,Ce,Yn,Fe),"mouse")}),xr(l,F.createElement(id,{key:"second"}),Fe,Lt,function(Yn){z(Ue(V,Ce,_e,Yn),"mouse")});var kn=-1;return typeof V=="boolean"&&(kn=V?1:0),xr(a===!0,F.createElement(id,{key:"12hours"}),kn,[{label:"AM",value:0,disabled:Dr},{label:"PM",value:1,disabled:qr}],function(Yn){z(Ue(!!Yn,Ce,_e,Fe),"mouse")}),F.createElement("div",{className:Z},H.map(function(Yn){var ci=Yn.node;return ci}))}var wp=cl,mm=function(E){return E.filter(function(R){return R!==!1}).length};function Qc(S){var E=S.generateConfig,R=S.format,N=R===void 0?"HH:mm:ss":R,q=S.prefixCls,ie=S.active,d=S.operationRef,n=S.showHour,l=S.showMinute,a=S.showSecond,f=S.use12Hours,h=f===void 0?!1:f,y=S.onSelect,m=S.value,C="".concat(q,"-time-panel"),P=F.useRef(),B=F.useState(-1),M=Object(jt.a)(B,2),T=M[0],L=M[1],z=mm([n,l,a,h]);return d.current={onKeyDown:function(Z){return zo(Z,{onLeftRight:function(V){L((T+V+z)%z)},onUpDown:function(V){T===-1?L(0):P.current&&P.current.onUpDown(V)},onEnter:function(){y(m||E.getNow(),"key"),L(-1)}})},onBlur:function(){L(-1)}},F.createElement("div",{className:qe()(C,Object(un.a)({},"".concat(C,"-active"),ie))},F.createElement(Zd,Object(cr.a)({},S,{format:N,prefixCls:q})),F.createElement(wp,Object(cr.a)({},S,{prefixCls:q,activeColumnIndex:T,operationRef:P})))}var od=Qc,vf=F.createContext({}),gf=vf;function qc(S){var E=S.cellPrefixCls,R=S.generateConfig,N=S.rangedValue,q=S.hoverRangedValue,ie=S.isInView,d=S.isSameCell,n=S.offsetCell,l=S.today,a=S.value;function f(h){var y,m=n(h,-1),C=n(h,1),P=Ho(N,0),B=Ho(N,1),M=Ho(q,0),T=Ho(q,1),L=Ha(R,M,T,h);function z(Ce){return d(P,Ce)}function H(Ce){return d(B,Ce)}var Z=d(M,h),J=d(T,h),V=(L||J)&&(!ie(m)||H(m)),ne=(L||Z)&&(!ie(C)||z(C));return y={},Object(un.a)(y,"".concat(E,"-in-view"),ie(h)),Object(un.a)(y,"".concat(E,"-in-range"),Ha(R,P,B,h)),Object(un.a)(y,"".concat(E,"-range-start"),z(h)),Object(un.a)(y,"".concat(E,"-range-end"),H(h)),Object(un.a)(y,"".concat(E,"-range-start-single"),z(h)&&!B),Object(un.a)(y,"".concat(E,"-range-end-single"),H(h)&&!P),Object(un.a)(y,"".concat(E,"-range-start-near-hover"),z(h)&&(d(m,M)||Ha(R,M,T,m))),Object(un.a)(y,"".concat(E,"-range-end-near-hover"),H(h)&&(d(C,T)||Ha(R,M,T,C))),Object(un.a)(y,"".concat(E,"-range-hover"),L),Object(un.a)(y,"".concat(E,"-range-hover-start"),Z),Object(un.a)(y,"".concat(E,"-range-hover-end"),J),Object(un.a)(y,"".concat(E,"-range-hover-edge-start"),V),Object(un.a)(y,"".concat(E,"-range-hover-edge-end"),ne),Object(un.a)(y,"".concat(E,"-range-hover-edge-start-near-range"),V&&d(m,B)),Object(un.a)(y,"".concat(E,"-range-hover-edge-end-near-range"),ne&&d(C,P)),Object(un.a)(y,"".concat(E,"-today"),d(l,h)),Object(un.a)(y,"".concat(E,"-selected"),d(a,h)),y}return f}function ad(S){var E=S.prefixCls,R=S.generateConfig,N=S.prefixColumn,q=S.locale,ie=S.rowCount,d=S.viewDate,n=S.value,l=S.dateRender,a=F.useContext(gf),f=a.rangedValue,h=a.hoverRangedValue,y=Ko(q.locale,R,d),m="".concat(E,"-cell"),C=R.locale.getWeekFirstDay(q.locale),P=R.getNow(),B=[],M=q.shortWeekDays||(R.locale.getShortWeekDays?R.locale.getShortWeekDays(q.locale):[]);N&&B.push(F.createElement("th",{key:"empty","aria-label":"empty cell"}));for(var T=0;T<Vf;T+=1)B.push(F.createElement("th",{key:T},M[(T+C)%Vf]));var L=qc({cellPrefixCls:m,today:P,value:n,generateConfig:R,rangedValue:N?null:f,hoverRangedValue:N?null:h,isSameCell:function(Z,J){return su(R,Z,J)},isInView:function(Z){return rc(R,Z,d)},offsetCell:function(Z,J){return R.addDate(Z,J)}}),z=l?function(H){return l(H,P)}:void 0;return F.createElement(tn,Object(cr.a)({},S,{rowNum:ie,colNum:Vf,baseDate:y,getCellNode:z,getCellText:R.getDate,getCellClassName:L,getCellDate:R.addDate,titleCell:function(Z){return zs(Z,{locale:q,format:"YYYY-MM-DD",generateConfig:R})},headerCells:B}))}var Ni=ad;function Uh(S){var E=S.prefixCls,R=S.generateConfig,N=S.locale,q=S.viewDate,ie=S.onNextMonth,d=S.onPrevMonth,n=S.onNextYear,l=S.onPrevYear,a=S.onYearClick,f=S.onMonthClick,h=F.useContext(Ei),y=h.hideHeader;if(y)return null;var m="".concat(E,"-header"),C=N.shortMonths||(R.locale.getShortMonths?R.locale.getShortMonths(N.locale):[]),P=R.getMonth(q),B=F.createElement("button",{type:"button",key:"year",onClick:a,tabIndex:-1,className:"".concat(E,"-year-btn")},zs(q,{locale:N,format:N.yearFormat,generateConfig:R})),M=F.createElement("button",{type:"button",key:"month",onClick:f,tabIndex:-1,className:"".concat(E,"-month-btn")},N.monthFormat?zs(q,{locale:N,format:N.monthFormat,generateConfig:R}):C[P]),T=N.monthBeforeYear?[M,B]:[B,M];return F.createElement(nt,Object(cr.a)({},S,{prefixCls:m,onSuperPrev:l,onPrev:d,onNext:ie,onSuperNext:n}),T)}var Td=Uh,bp=6;function Fu(S){var E=S.prefixCls,R=S.panelName,N=R===void 0?"date":R,q=S.keyboardConfig,ie=S.active,d=S.operationRef,n=S.generateConfig,l=S.value,a=S.viewDate,f=S.onViewDateChange,h=S.onPanelChange,y=S.onSelect,m="".concat(E,"-").concat(N,"-panel");d.current={onKeyDown:function(M){return zo(M,Object(Mr.a)({onLeftRight:function(L){y(n.addDate(l||a,L),"key")},onCtrlLeftRight:function(L){y(n.addYear(l||a,L),"key")},onUpDown:function(L){y(n.addDate(l||a,L*Vf),"key")},onPageUpDown:function(L){y(n.addMonth(l||a,L),"key")}},q))}};var C=function(M){var T=n.addYear(a,M);f(T),h(null,T)},P=function(M){var T=n.addMonth(a,M);f(T),h(null,T)};return F.createElement("div",{className:qe()(m,Object(un.a)({},"".concat(m,"-active"),ie))},F.createElement(Td,Object(cr.a)({},S,{prefixCls:E,value:l,viewDate:a,onPrevYear:function(){C(-1)},onNextYear:function(){C(1)},onPrevMonth:function(){P(-1)},onNextMonth:function(){P(1)},onMonthClick:function(){h("month",a)},onYearClick:function(){h("year",a)}})),F.createElement(Ni,Object(cr.a)({},S,{onSelect:function(M){return y(M,"mouse")},prefixCls:E,value:l,viewDate:a,rowCount:bp})))}var wc=Fu;function Qd(S,E,R){if(!R)return E;var N=E;return N=S.setHour(N,S.getHour(R)),N=S.setMinute(N,S.getMinute(R)),N=S.setSecond(N,S.getSecond(R)),N}var sd=Th("date","time");function ah(S){var E=S.prefixCls,R=S.operationRef,N=S.generateConfig,q=S.value,ie=S.defaultValue,d=S.disabledTime,n=S.showTime,l=S.onSelect,a="".concat(E,"-datetime-panel"),f=F.useState(null),h=Object(jt.a)(f,2),y=h[0],m=h[1],C=F.useRef({}),P=F.useRef({}),B=Object(Vn.a)(n)==="object"?Object(Mr.a)({},n):{};function M(H){var Z=sd.indexOf(y)+H,J=sd[Z]||null;return J}var T=function(Z){P.current.onBlur&&P.current.onBlur(Z),m(null)};R.current={onKeyDown:function(Z){if(Z.which===_n.a.TAB){var J=M(Z.shiftKey?-1:1);return m(J),J&&Z.preventDefault(),!0}if(y){var V=y==="date"?C:P;return V.current&&V.current.onKeyDown&&V.current.onKeyDown(Z),!0}return[_n.a.LEFT,_n.a.RIGHT,_n.a.UP,_n.a.DOWN].includes(Z.which)?(m("date"),!0):!1},onBlur:T,onClose:T};var L=function(Z,J){var V=Z;J==="date"&&!q&&B.defaultValue?(V=N.setHour(V,N.getHour(B.defaultValue)),V=N.setMinute(V,N.getMinute(B.defaultValue)),V=N.setSecond(V,N.getSecond(B.defaultValue))):J==="time"&&!q&&ie&&(V=N.setYear(V,N.getYear(ie)),V=N.setMonth(V,N.getMonth(ie)),V=N.setDate(V,N.getDate(ie))),l&&l(V,"mouse")},z=d?d(q||null):{};return F.createElement("div",{className:qe()(a,Object(un.a)({},"".concat(a,"-active"),y))},F.createElement(wc,Object(cr.a)({},S,{operationRef:C,active:y==="date",onSelect:function(Z){L(Qd(N,Z,n&&Object(Vn.a)(n)==="object"?n.defaultValue:null),"date")}})),F.createElement(od,Object(cr.a)({},S,{format:void 0},B,z,{defaultValue:void 0,operationRef:P,active:y==="time",onSelect:function(Z){L(Z,"time")}})))}var qd=ah;function _h(S){var E=S.prefixCls,R=S.generateConfig,N=S.locale,q=S.value,ie="".concat(E,"-cell"),d=function(f){return F.createElement("td",{key:"week",className:qe()(ie,"".concat(ie,"-week"))},R.locale.getWeek(N.locale,f))},n="".concat(E,"-week-panel-row"),l=function(f){return qe()(n,Object(un.a)({},"".concat(n,"-selected"),Dc(R,N.locale,q,f)))};return F.createElement(wc,Object(cr.a)({},S,{panelName:"week",prefixColumn:d,rowClassName:l,keyboardConfig:{onLeftRight:null}}))}var us=_h;function ze(S){var E=S.prefixCls,R=S.generateConfig,N=S.locale,q=S.viewDate,ie=S.onNextYear,d=S.onPrevYear,n=S.onYearClick,l=F.useContext(Ei),a=l.hideHeader;if(a)return null;var f="".concat(E,"-header");return F.createElement(nt,Object(cr.a)({},S,{prefixCls:f,onSuperPrev:d,onSuperNext:ie}),F.createElement("button",{type:"button",onClick:n,className:"".concat(E,"-year-btn")},zs(q,{locale:N,format:N.yearFormat,generateConfig:R})))}var Le=ze,it=3,Qe=4;function Gt(S){var E=S.prefixCls,R=S.locale,N=S.value,q=S.viewDate,ie=S.generateConfig,d=S.monthCellRender,n=F.useContext(gf),l=n.rangedValue,a=n.hoverRangedValue,f="".concat(E,"-cell"),h=qc({cellPrefixCls:f,value:N,generateConfig:ie,rangedValue:l,hoverRangedValue:a,isSameCell:function(B,M){return rc(ie,B,M)},isInView:function(){return!0},offsetCell:function(B,M){return ie.addMonth(B,M)}}),y=R.shortMonths||(ie.locale.getShortMonths?ie.locale.getShortMonths(R.locale):[]),m=ie.setMonth(q,0),C=d?function(P){return d(P,R)}:void 0;return F.createElement(tn,Object(cr.a)({},S,{rowNum:Qe,colNum:it,baseDate:m,getCellNode:C,getCellText:function(B){return R.monthFormat?zs(B,{locale:R,format:R.monthFormat,generateConfig:ie}):y[ie.getMonth(B)]},getCellClassName:h,getCellDate:ie.addMonth,titleCell:function(B){return zs(B,{locale:R,format:"YYYY-MM",generateConfig:ie})}}))}var yt=Gt;function mr(S){var E=S.prefixCls,R=S.operationRef,N=S.onViewDateChange,q=S.generateConfig,ie=S.value,d=S.viewDate,n=S.onPanelChange,l=S.onSelect,a="".concat(E,"-month-panel");R.current={onKeyDown:function(y){return zo(y,{onLeftRight:function(C){l(q.addMonth(ie||d,C),"key")},onCtrlLeftRight:function(C){l(q.addYear(ie||d,C),"key")},onUpDown:function(C){l(q.addMonth(ie||d,C*it),"key")},onEnter:function(){n("date",ie||d)}})}};var f=function(y){var m=q.addYear(d,y);N(m),n(null,m)};return F.createElement("div",{className:a},F.createElement(Le,Object(cr.a)({},S,{prefixCls:E,onPrevYear:function(){f(-1)},onNextYear:function(){f(1)},onYearClick:function(){n("year",d)}})),F.createElement(yt,Object(cr.a)({},S,{prefixCls:E,onSelect:function(y){l(y,"mouse"),n("date",y)}})))}var vr=mr;function Ar(S){var E=S.prefixCls,R=S.generateConfig,N=S.locale,q=S.viewDate,ie=S.onNextYear,d=S.onPrevYear,n=S.onYearClick,l=F.useContext(Ei),a=l.hideHeader;if(a)return null;var f="".concat(E,"-header");return F.createElement(nt,Object(cr.a)({},S,{prefixCls:f,onSuperPrev:d,onSuperNext:ie}),F.createElement("button",{type:"button",onClick:n,className:"".concat(E,"-year-btn")},zs(q,{locale:N,format:N.yearFormat,generateConfig:R})))}var sn=Ar,bi=4,nn=1;function Ti(S){var E=S.prefixCls,R=S.locale,N=S.value,q=S.viewDate,ie=S.generateConfig,d=F.useContext(gf),n=d.rangedValue,l=d.hoverRangedValue,a="".concat(E,"-cell"),f=qc({cellPrefixCls:a,value:N,generateConfig:ie,rangedValue:n,hoverRangedValue:l,isSameCell:function(m,C){return _f(ie,m,C)},isInView:function(){return!0},offsetCell:function(m,C){return ie.addMonth(m,C*3)}}),h=ie.setDate(ie.setMonth(q,0),1);return F.createElement(tn,Object(cr.a)({},S,{rowNum:nn,colNum:bi,baseDate:h,getCellText:function(m){return zs(m,{locale:R,format:R.quarterFormat||"[Q]Q",generateConfig:ie})},getCellClassName:f,getCellDate:function(m,C){return ie.addMonth(m,C*3)},titleCell:function(m){return zs(m,{locale:R,format:"YYYY-[Q]Q",generateConfig:ie})}}))}var yo=Ti;function mn(S){var E=S.prefixCls,R=S.operationRef,N=S.onViewDateChange,q=S.generateConfig,ie=S.value,d=S.viewDate,n=S.onPanelChange,l=S.onSelect,a="".concat(E,"-quarter-panel");R.current={onKeyDown:function(y){return zo(y,{onLeftRight:function(C){l(q.addMonth(ie||d,C*3),"key")},onCtrlLeftRight:function(C){l(q.addYear(ie||d,C),"key")},onUpDown:function(C){l(q.addYear(ie||d,C),"key")}})}};var f=function(y){var m=q.addYear(d,y);N(m),n(null,m)};return F.createElement("div",{className:a},F.createElement(sn,Object(cr.a)({},S,{prefixCls:E,onPrevYear:function(){f(-1)},onNextYear:function(){f(1)},onYearClick:function(){n("year",d)}})),F.createElement(yo,Object(cr.a)({},S,{prefixCls:E,onSelect:function(y){l(y,"mouse")}})))}var ca=mn;function co(S){var E=S.prefixCls,R=S.generateConfig,N=S.viewDate,q=S.onPrevDecade,ie=S.onNextDecade,d=S.onDecadeClick,n=F.useContext(Ei),l=n.hideHeader;if(l)return null;var a="".concat(E,"-header"),f=R.getYear(N),h=Math.floor(f/Xi)*Xi,y=h+Xi-1;return F.createElement(nt,Object(cr.a)({},S,{prefixCls:a,onSuperPrev:q,onSuperNext:ie}),F.createElement("button",{type:"button",onClick:d,className:"".concat(E,"-decade-btn")},h,"-",y))}var is=co,Yi=3,fa=4;function ha(S){var E=S.prefixCls,R=S.value,N=S.viewDate,q=S.locale,ie=S.generateConfig,d=F.useContext(gf),n=d.rangedValue,l=d.hoverRangedValue,a="".concat(E,"-cell"),f=ie.getYear(N),h=Math.floor(f/Xi)*Xi,y=h+Xi-1,m=ie.setYear(N,h-Math.ceil((Yi*fa-Xi)/2)),C=function(M){var T=ie.getYear(M);return h<=T&&T<=y},P=qc({cellPrefixCls:a,value:R,generateConfig:ie,rangedValue:n,hoverRangedValue:l,isSameCell:function(M,T){return tc(ie,M,T)},isInView:C,offsetCell:function(M,T){return ie.addYear(M,T)}});return F.createElement(tn,Object(cr.a)({},S,{rowNum:fa,colNum:Yi,baseDate:m,getCellText:ie.getYear,getCellClassName:P,getCellDate:ie.addYear,titleCell:function(M){return zs(M,{locale:q,format:"YYYY",generateConfig:ie})}}))}var Da=ha,Xi=10;function fo(S){var E=S.prefixCls,R=S.operationRef,N=S.onViewDateChange,q=S.generateConfig,ie=S.value,d=S.viewDate,n=S.sourceMode,l=S.onSelect,a=S.onPanelChange,f="".concat(E,"-year-panel");R.current={onKeyDown:function(m){return zo(m,{onLeftRight:function(P){l(q.addYear(ie||d,P),"key")},onCtrlLeftRight:function(P){l(q.addYear(ie||d,P*Xi),"key")},onUpDown:function(P){l(q.addYear(ie||d,P*Yi),"key")},onEnter:function(){a(n==="date"?"date":"month",ie||d)}})}};var h=function(m){var C=q.addYear(d,m*10);N(C),a(null,C)};return F.createElement("div",{className:f},F.createElement(is,Object(cr.a)({},S,{prefixCls:E,onPrevDecade:function(){h(-1)},onNextDecade:function(){h(1)},onDecadeClick:function(){a("decade",d)}})),F.createElement(Da,Object(cr.a)({},S,{prefixCls:E,onSelect:function(m){a(n==="date"?"date":"month",m),l(m,"mouse")}})))}var Qa=fo;function po(S,E,R){return R?F.createElement("div",{className:"".concat(S,"-footer-extra")},R(E)):null}function ws(S){var E=S.prefixCls,R=S.rangeList,N=R===void 0?[]:R,q=S.components,ie=q===void 0?{}:q,d=S.needConfirmButton,n=S.onNow,l=S.onOk,a=S.okDisabled,f=S.showNow,h=S.locale,y,m;if(N.length){var C=ie.rangeItem||"span";y=F.createElement(F.Fragment,null,N.map(function(B){var M=B.label,T=B.onClick,L=B.onMouseEnter,z=B.onMouseLeave;return F.createElement("li",{key:M,className:"".concat(E,"-preset")},F.createElement(C,{onClick:T,onMouseEnter:L,onMouseLeave:z},M))}))}if(d){var P=ie.button||"button";n&&!y&&f!==!1&&(y=F.createElement("li",{className:"".concat(E,"-now")},F.createElement("a",{className:"".concat(E,"-now-btn"),onClick:n},h.now))),m=d&&F.createElement("li",{className:"".concat(E,"-ok")},F.createElement(P,{disabled:a,onClick:l},h.ok))}return!y&&!m?null:F.createElement("ul",{className:"".concat(E,"-ranges")},y,m)}function os(S){var E,R=S.prefixCls,N=R===void 0?"rc-picker":R,q=S.className,ie=S.style,d=S.locale,n=S.generateConfig,l=S.value,a=S.defaultValue,f=S.pickerValue,h=S.defaultPickerValue,y=S.disabledDate,m=S.mode,C=S.picker,P=C===void 0?"date":C,B=S.tabIndex,M=B===void 0?0:B,T=S.showNow,L=S.showTime,z=S.showToday,H=S.renderExtraFooter,Z=S.hideHeader,J=S.onSelect,V=S.onChange,ne=S.onPanelChange,Ce=S.onMouseDown,_e=S.onPickerValueChange,Fe=S.onOk,Ue=S.components,tt=S.direction,He=S.hourStep,kt=He===void 0?1:He,Wt=S.minuteStep,Dr=Wt===void 0?1:Wt,qr=S.secondStep,br=qr===void 0?1:qr,On=P==="date"&&!!L||P==="time",Lt=24%kt==0,xr=60%Dr==0,kn=60%br==0,Yn=F.useContext(Ei),ci=Yn.operationRef,Rn=Yn.panelRef,Ps=Yn.onSelect,Qi=Yn.hideRanges,Ga=Yn.defaultOpenValue,wl=F.useContext(gf),za=wl.inRange,qu=wl.panelPosition,$u=wl.rangedValue,ru=wl.hoverRangedValue,Au=F.useRef({}),Bf=F.useRef(!0),xc=Object(gr.a)(null,{value:l,defaultValue:a,postState:function(la){return!la&&Ga&&P==="time"?Ga:la}}),wd=Object(jt.a)(xc,2),Cc=wd[0],bf=wd[1],kd=Object(gr.a)(null,{value:f,defaultValue:h||Cc,postState:function(la){return la||n.getNow()}}),Sf=Object(jt.a)(kd,2),Hd=Sf[0],Pc=Sf[1],Mu=function(la){Pc(la),_e&&_e(la)},Mf=function(la){var ml=Hf[P];return ml?ml(la):la},Nh=Object(gr.a)(function(){return P==="time"?"time":Mf("date")},{value:m}),Gs=Object(jt.a)(Nh,2),Ui=Gs[0],sl=Gs[1];F.useEffect(function(){sl(P)},[P]);var Vd=F.useState(function(){return Ui}),Wd=Object(jt.a)(Vd,2),Sa=Wd[0],jf=Wd[1],uf=function(la,ml){var Fh=Mf(la||Ui);jf(Ui),sl(Fh),ne&&(Ui!==Fh||bu(n,Hd,Hd))&&ne(ml,Fh)},bl=function(la,ml){var Fh=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(Ui===P||Fh)&&(bf(la),J&&J(la),Ps&&Ps(la,ml),V&&!bu(n,la,Cc)&&!(y==null?void 0:y(la))&&V(la))},xh=function(la){return Au.current&&Au.current.onKeyDown?([_n.a.LEFT,_n.a.RIGHT,_n.a.UP,_n.a.DOWN,_n.a.PAGE_UP,_n.a.PAGE_DOWN,_n.a.ENTER].includes(la.which)&&la.preventDefault(),Au.current.onKeyDown(la)):(Object(Di.a)(!1,"Panel not correct handle keyDown event. Please help to fire issue about this."),!1)},zf=function(la){Au.current&&Au.current.onBlur&&Au.current.onBlur(la)};ci&&qu!=="right"&&(ci.current={onKeyDown:xh,onClose:function(){Au.current&&Au.current.onClose&&Au.current.onClose()}}),F.useEffect(function(){l&&!Bf.current&&Pc(l)},[l]),F.useEffect(function(){Bf.current=!1},[]);var ns,nh=Object(Mr.a)(Object(Mr.a)({},S),{},{operationRef:Au,prefixCls:N,viewDate:Hd,value:Cc,onViewDateChange:Mu,sourceMode:Sa,onPanelChange:uf,disabledDate:y});switch(delete nh.onChange,delete nh.onSelect,Ui){case"decade":ns=F.createElement(La,Object(cr.a)({},nh,{onSelect:function(la,ml){Mu(la),bl(la,ml)}}));break;case"year":ns=F.createElement(Qa,Object(cr.a)({},nh,{onSelect:function(la,ml){Mu(la),bl(la,ml)}}));break;case"month":ns=F.createElement(vr,Object(cr.a)({},nh,{onSelect:function(la,ml){Mu(la),bl(la,ml)}}));break;case"quarter":ns=F.createElement(ca,Object(cr.a)({},nh,{onSelect:function(la,ml){Mu(la),bl(la,ml)}}));break;case"week":ns=F.createElement(us,Object(cr.a)({},nh,{onSelect:function(la,ml){Mu(la),bl(la,ml)}}));break;case"time":delete nh.showTime,ns=F.createElement(od,Object(cr.a)({},nh,Object(Vn.a)(L)==="object"?L:null,{onSelect:function(la,ml){Mu(la),bl(la,ml)}}));break;default:L?ns=F.createElement(qd,Object(cr.a)({},nh,{onSelect:function(la,ml){Mu(la),bl(la,ml)}})):ns=F.createElement(wc,Object(cr.a)({},nh,{onSelect:function(la,ml){Mu(la),bl(la,ml)}}))}var bd,xp,bv=function(){var la=n.getNow(),ml=bn(n.getHour(la),n.getMinute(la),n.getSecond(la),Lt?kt:1,xr?Dr:1,kn?br:1),Fh=en(n,la,ml[0],ml[1],ml[2]);bl(Fh,"submit")};Qi||(bd=po(N,Ui,H),xp=ws({prefixCls:N,components:Ue,needConfirmButton:On,okDisabled:!Cc||y&&y(Cc),locale:d,showNow:T,onNow:On&&bv,onOk:function(){Cc&&(bl(Cc,"submit",!0),Fe&&Fe(Cc))}}));var Hp;if(z&&Ui==="date"&&P==="date"&&!L){var Sd=n.getNow(),Om="".concat(N,"-today-btn"),Gc=y&&y(Sd);Hp=F.createElement("a",{className:qe()(Om,Gc&&"".concat(Om,"-disabled")),"aria-disabled":Gc,onClick:function(){Gc||bl(Sd,"mouse",!0)}},d.today)}return F.createElement(Ei.Provider,{value:Object(Mr.a)(Object(Mr.a)({},Yn),{},{mode:Ui,hideHeader:"hideHeader"in S?Z:Yn.hideHeader,hidePrevBtn:za&&qu==="right",hideNextBtn:za&&qu==="left"})},F.createElement("div",{tabIndex:M,className:qe()("".concat(N,"-panel"),q,(E={},Object(un.a)(E,"".concat(N,"-panel-has-range"),$u&&$u[0]&&$u[1]),Object(un.a)(E,"".concat(N,"-panel-has-range-hover"),ru&&ru[0]&&ru[1]),Object(un.a)(E,"".concat(N,"-panel-rtl"),tt==="rtl"),E)),style:ie,onKeyDown:xh,onBlur:zf,onMouseDown:Ce,ref:Rn},ns,bd||xp||Hp?F.createElement("div",{className:"".concat(N,"-footer")},bd,xp,Hp):null))}var Ls=os,oa=U("uciX"),Lo={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};function wa(S){var E,R=S.prefixCls,N=S.popupElement,q=S.popupStyle,ie=S.visible,d=S.dropdownClassName,n=S.dropdownAlign,l=S.transitionName,a=S.getPopupContainer,f=S.children,h=S.range,y=S.popupPlacement,m=S.direction,C="".concat(R,"-dropdown"),P=function(){return y!==void 0?y:m==="rtl"?"bottomRight":"bottomLeft"};return F.createElement(oa.a,{showAction:[],hideAction:[],popupPlacement:P(),builtinPlacements:Lo,prefixCls:C,popupTransitionName:l,popup:N,popupAlign:n,popupVisible:ie,popupClassName:qe()(d,(E={},Object(un.a)(E,"".concat(C,"-range"),h),Object(un.a)(E,"".concat(C,"-rtl"),m==="rtl"),E)),popupStyle:q,getPopupContainer:a},f)}var ba=wa;function ho(S){var E=S.open,R=S.value,N=S.isClickOutside,q=S.triggerOpen,ie=S.forwardKeyDown,d=S.onKeyDown,n=S.blurToCancel,l=S.onSubmit,a=S.onCancel,f=S.onFocus,h=S.onBlur,y=Object(F.useState)(!1),m=Object(jt.a)(y,2),C=m[0],P=m[1],B=Object(F.useState)(!1),M=Object(jt.a)(B,2),T=M[0],L=M[1],z=Object(F.useRef)(!1),H=Object(F.useRef)(!1),Z=Object(F.useRef)(!1),J={onMouseDown:function(){P(!0),q(!0)},onKeyDown:function(ne){var Ce=function(){Z.current=!0};if(d(ne,Ce),!Z.current){switch(ne.which){case _n.a.ENTER:{E?l()!==!1&&P(!0):q(!0),ne.preventDefault();return}case _n.a.TAB:{C&&E&&!ne.shiftKey?(P(!1),ne.preventDefault()):!C&&E&&!ie(ne)&&ne.shiftKey&&(P(!0),ne.preventDefault());return}case _n.a.ESC:{P(!0),a();return}}!E&&![_n.a.SHIFT].includes(ne.which)?q(!0):C||ie(ne)}},onFocus:function(ne){P(!0),L(!0),f&&f(ne)},onBlur:function(ne){if(z.current||!N(document.activeElement)){z.current=!1;return}n?setTimeout(function(){N(document.activeElement)&&a()},0):E&&(q(!1),H.current&&l()),L(!1),h&&h(ne)}};return Object(F.useEffect)(function(){H.current=!1},[E]),Object(F.useEffect)(function(){H.current=!0},[R]),Object(F.useEffect)(function(){return Gu(function(V){var ne=mc(V);if(E){var Ce=N(ne);Ce?(!T||Ce)&&q(!1):(z.current=!0,requestAnimationFrame(function(){z.current=!1}))}})}),[J,{focused:T,typing:C}]}function qa(S){var E=S.valueTexts,R=S.onTextChange,N=F.useState(""),q=Object(jt.a)(N,2),ie=q[0],d=q[1],n=F.useRef([]);n.current=E;function l(f){d(f),R(f)}function a(){d(n.current[0])}return F.useEffect(function(){E.every(function(f){return f!==ie})&&a()},[E.join("||")]),[ie,l,a]}var da=U("Gytx"),ta=U.n(da);function Ka(S,E){var R=E.formatList,N=E.generateConfig,q=E.locale;return Object(Wf.a)(function(){if(!S)return[[""],""];for(var ie="",d=[],n=0;n<R.length;n+=1){var l=R[n],a=zs(S,{generateConfig:N,locale:q,format:l});d.push(a),n===0&&(ie=a)}return[d,ie]},[S,R],function(ie,d){return ie[0]!==d[0]||!ta()(ie[1],d[1])})}function Za(S,E){var R=E.formatList,N=E.generateConfig,q=E.locale,ie=Object(F.useState)(null),d=Object(jt.a)(ie,2),n=d[0],l=d[1],a=Object(F.useRef)(null);function f(B){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(cancelAnimationFrame(a.current),M){l(B);return}a.current=requestAnimationFrame(function(){l(B)})}var h=Ka(n,{formatList:R,generateConfig:N,locale:q}),y=Object(jt.a)(h,2),m=y[1];function C(B){f(B)}function P(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;f(null,B)}return Object(F.useEffect)(function(){P(!0)},[S]),Object(F.useEffect)(function(){return function(){return cancelAnimationFrame(a.current)}},[]),[m,C,P]}function cs(S){var E,R=S.prefixCls,N=R===void 0?"rc-picker":R,q=S.id,ie=S.tabIndex,d=S.style,n=S.className,l=S.dropdownClassName,a=S.dropdownAlign,f=S.popupStyle,h=S.transitionName,y=S.generateConfig,m=S.locale,C=S.inputReadOnly,P=S.allowClear,B=S.autoFocus,M=S.showTime,T=S.picker,L=T===void 0?"date":T,z=S.format,H=S.use12Hours,Z=S.value,J=S.defaultValue,V=S.open,ne=S.defaultOpen,Ce=S.defaultOpenValue,_e=S.suffixIcon,Fe=S.clearIcon,Ue=S.disabled,tt=S.disabledDate,He=S.placeholder,kt=S.getPopupContainer,Wt=S.pickerRef,Dr=S.panelRender,qr=S.onChange,br=S.onOpenChange,On=S.onFocus,Lt=S.onBlur,xr=S.onMouseDown,kn=S.onMouseUp,Yn=S.onMouseEnter,ci=S.onMouseLeave,Rn=S.onContextMenu,Ps=S.onClick,Qi=S.onKeyDown,Ga=S.onSelect,wl=S.direction,za=S.autoComplete,qu=za===void 0?"off":za,$u=F.useRef(null),ru=L==="date"&&!!M||L==="time",Au=If(tl(z,L,M,H)),Bf=F.useRef(null),xc=F.useRef(null),wd=Object(gr.a)(null,{value:Z,defaultValue:J}),Cc=Object(jt.a)(wd,2),bf=Cc[0],kd=Cc[1],Sf=F.useState(bf),Hd=Object(jt.a)(Sf,2),Pc=Hd[0],Mu=Hd[1],Mf=F.useRef(null),Nh=Object(gr.a)(!1,{value:V,defaultValue:ne,postState:function(Ys){return Ue?!1:Ys},onChange:function(Ys){br&&br(Ys),!Ys&&Mf.current&&Mf.current.onClose&&Mf.current.onClose()}}),Gs=Object(jt.a)(Nh,2),Ui=Gs[0],sl=Gs[1],Vd=Ka(Pc,{formatList:Au,generateConfig:y,locale:m}),Wd=Object(jt.a)(Vd,2),Sa=Wd[0],jf=Wd[1],uf=qa({valueTexts:Sa,onTextChange:function(Ys){var Cp=Eh(Ys,{locale:m,formatList:Au,generateConfig:y});Cp&&(!tt||!tt(Cp))&&Mu(Cp)}}),bl=Object(jt.a)(uf,3),xh=bl[0],zf=bl[1],ns=bl[2],nh=function(Ys){Mu(Ys),kd(Ys),qr&&!bu(y,bf,Ys)&&qr(Ys,Ys?zs(Ys,{generateConfig:y,locale:m,format:Au[0]}):"")},bd=function(Ys){Ue&&Ys||sl(Ys)},xp=function(Ys){return Ui&&Mf.current&&Mf.current.onKeyDown?Mf.current.onKeyDown(Ys):(Object(Di.a)(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this."),!1)},bv=function(){kn&&kn.apply(void 0,arguments),$u.current&&($u.current.focus(),bd(!0))},Hp=ho({blurToCancel:ru,open:Ui,value:xh,triggerOpen:bd,forwardKeyDown:xp,isClickOutside:function(Ys){return!Ac([Bf.current,xc.current],Ys)},onSubmit:function(){return tt&&tt(Pc)?!1:(nh(Pc),bd(!1),ns(),!0)},onCancel:function(){bd(!1),Mu(bf),ns()},onKeyDown:function(Ys,Cp){Qi==null||Qi(Ys,Cp)},onFocus:On,onBlur:Lt}),Sd=Object(jt.a)(Hp,2),Om=Sd[0],Gc=Sd[1],ia=Gc.focused,la=Gc.typing;F.useEffect(function(){Ui||(Mu(bf),!Sa.length||Sa[0]===""?zf(""):jf!==xh&&ns())},[Ui,Sa]),F.useEffect(function(){Ui||ns()},[L]),F.useEffect(function(){Mu(bf)},[bf]),Wt&&(Wt.current={focus:function(){$u.current&&$u.current.focus()},blur:function(){$u.current&&$u.current.blur()}});var ml=Za(xh,{formatList:Au,generateConfig:y,locale:m}),Fh=Object(jt.a)(ml,3),Rm=Fh[0],ap=Fh[1],Km=Fh[2],cf=Object(Mr.a)(Object(Mr.a)({},S),{},{className:void 0,style:void 0,pickerValue:void 0,onPickerValueChange:void 0,onChange:null}),Kv=F.createElement(Ls,Object(cr.a)({},cf,{generateConfig:y,className:qe()(Object(un.a)({},"".concat(N,"-panel-focused"),!la)),value:Pc,locale:m,tabIndex:-1,onSelect:function(Ys){Ga==null||Ga(Ys),Mu(Ys)},direction:wl,onPanelChange:function(Ys,Cp){var Zm=S.onPanelChange;Km(!0),Zm==null||Zm(Ys,Cp)}}));Dr&&(Kv=Dr(Kv));var Lm=F.createElement("div",{className:"".concat(N,"-panel-container"),onMouseDown:function(Ys){Ys.preventDefault()}},Kv),bg;_e&&(bg=F.createElement("span",{className:"".concat(N,"-suffix")},_e));var Vp;P&&bf&&!Ue&&(Vp=F.createElement("span",{onMouseDown:function(Ys){Ys.preventDefault(),Ys.stopPropagation()},onMouseUp:function(Ys){Ys.preventDefault(),Ys.stopPropagation(),nh(null),bd(!1)},className:"".concat(N,"-clear")},Fe||F.createElement("span",{className:"".concat(N,"-clear-btn")})));var Uf=function(Ys,Cp){(Cp==="submit"||Cp!=="key"&&!ru)&&(nh(Ys),bd(!1))},cm=wl==="rtl"?"bottomRight":"bottomLeft";return F.createElement(Ei.Provider,{value:{operationRef:Mf,hideHeader:L==="time",panelRef:Bf,onSelect:Uf,open:Ui,defaultOpenValue:Ce,onDateMouseEnter:ap,onDateMouseLeave:Km}},F.createElement(ba,{visible:Ui,popupElement:Lm,popupStyle:f,prefixCls:N,dropdownClassName:l,dropdownAlign:a,getPopupContainer:kt,transitionName:h,popupPlacement:cm,direction:wl},F.createElement("div",{className:qe()(N,n,(E={},Object(un.a)(E,"".concat(N,"-disabled"),Ue),Object(un.a)(E,"".concat(N,"-focused"),ia),Object(un.a)(E,"".concat(N,"-rtl"),wl==="rtl"),E)),style:d,onMouseDown:xr,onMouseUp:bv,onMouseEnter:Yn,onMouseLeave:ci,onContextMenu:Rn,onClick:Ps},F.createElement("div",{className:qe()("".concat(N,"-input"),Object(un.a)({},"".concat(N,"-input-placeholder"),!!Rm)),ref:xc},F.createElement("input",Object(cr.a)({id:q,tabIndex:ie,disabled:Ue,readOnly:C||typeof Au[0]=="function"||!la,value:Rm||xh,onChange:function(Ys){zf(Ys.target.value)},autoFocus:B,placeholder:He,ref:$u,title:xh},Om,{size:yl(L,Au[0],y)},ql(S),{autoComplete:qu})),bg,Vp))))}var Uo=function(S){Object(Gr.a)(R,S);var E=Object(Yl.a)(R);function R(){var N;return Object(ko.a)(this,R),N=E.apply(this,arguments),N.pickerRef=F.createRef(),N.focus=function(){N.pickerRef.current&&N.pickerRef.current.focus()},N.blur=function(){N.pickerRef.current&&N.pickerRef.current.blur()},N}return Object(ss.a)(R,[{key:"render",value:function(){return F.createElement(cs,Object(cr.a)({},this.props,{pickerRef:this.pickerRef}))}}]),R}(F.Component),nc=Uo;function Yu(S,E,R){var N=S.picker,q=S.locale,ie=S.selectedValue,d=S.disabledDate,n=S.disabled,l=S.generateConfig,a=Ho(ie,0),f=Ho(ie,1);function h(B){return l.locale.getWeekFirstDate(q.locale,B)}function y(B){var M=l.getYear(B),T=l.getMonth(B);return M*100+T}function m(B){var M=l.getYear(B),T=Mh(l,B);return M*10+T}var C=F.useCallback(function(B){if(d&&d(B))return!0;if(n[1]&&f)return!su(l,B,f)&&l.isAfter(B,f);if(E&&f)switch(N){case"quarter":return m(B)>m(f);case"month":return y(B)>y(f);case"week":return h(B)>h(f);default:return!su(l,B,f)&&l.isAfter(B,f)}return!1},[d,n[1],f,E]),P=F.useCallback(function(B){if(d&&d(B))return!0;if(n[0]&&a)return!su(l,B,f)&&l.isAfter(a,B);if(R&&a)switch(N){case"quarter":return m(B)<m(a);case"month":return y(B)<y(a);case"week":return h(B)<h(a);default:return!su(l,B,a)&&l.isAfter(a,B)}return!1},[d,n[0],a,R]);return[C,P]}function Bu(S,E,R,N){var q=Tu(S,R,N,1);function ie(d){return d(S,E)?"same":d(q,E)?"closing":"far"}switch(R){case"year":return ie(function(d,n){return nd(N,d,n)});case"quarter":case"month":return ie(function(d,n){return tc(N,d,n)});default:return ie(function(d,n){return rc(N,d,n)})}}function El(S,E,R,N){var q=Ho(S,0),ie=Ho(S,1);if(E===0)return q;if(q&&ie){var d=Bu(q,ie,R,N);switch(d){case"same":return q;case"closing":return q;default:return Tu(ie,R,N,-1)}}return q}function ja(S){var E=S.values,R=S.picker,N=S.defaultDates,q=S.generateConfig,ie=F.useState(function(){return[Ho(N,0),Ho(N,1)]}),d=Object(jt.a)(ie,2),n=d[0],l=d[1],a=F.useState(null),f=Object(jt.a)(a,2),h=f[0],y=f[1],m=Ho(E,0),C=Ho(E,1);function P(M){return n[M]?n[M]:Ho(h,M)||El(E,M,R,q)||m||C||q.getNow()}function B(M,T){if(M){var L=ul(h,M,T);l(ul(n,null,T)||[null,null]);var z=(T+1)%2;Ho(E,z)||(L=ul(L,M,z)),y(L)}else(m||C)&&y(null)}return[P,B]}function lu(S,E){return S&&S[0]&&S[1]&&E.isAfter(S[0],S[1])?[S[1],S[0]]:S}function $c(S,E,R,N){return!!(S||N&&N[E]||R[(E+1)%2])}function Ul(S){var E,R,N,q=S.prefixCls,ie=q===void 0?"rc-picker":q,d=S.id,n=S.style,l=S.className,a=S.popupStyle,f=S.dropdownClassName,h=S.transitionName,y=S.dropdownAlign,m=S.getPopupContainer,C=S.generateConfig,P=S.locale,B=S.placeholder,M=S.autoFocus,T=S.disabled,L=S.format,z=S.picker,H=z===void 0?"date":z,Z=S.showTime,J=S.use12Hours,V=S.separator,ne=V===void 0?"~":V,Ce=S.value,_e=S.defaultValue,Fe=S.defaultPickerValue,Ue=S.open,tt=S.defaultOpen,He=S.disabledDate,kt=S.disabledTime,Wt=S.dateRender,Dr=S.panelRender,qr=S.ranges,br=S.allowEmpty,On=S.allowClear,Lt=S.suffixIcon,xr=S.clearIcon,kn=S.pickerRef,Yn=S.inputReadOnly,ci=S.mode,Rn=S.renderExtraFooter,Ps=S.onChange,Qi=S.onOpenChange,Ga=S.onPanelChange,wl=S.onCalendarChange,za=S.onFocus,qu=S.onBlur,$u=S.onOk,ru=S.onKeyDown,Au=S.components,Bf=S.order,xc=S.direction,wd=S.activePickerIndex,Cc=S.autoComplete,bf=Cc===void 0?"off":Cc,kd=H==="date"&&!!Z||H==="time",Sf=Object(F.useRef)({}),Hd=Object(F.useRef)(null),Pc=Object(F.useRef)(null),Mu=Object(F.useRef)(null),Mf=Object(F.useRef)(null),Nh=Object(F.useRef)(null),Gs=Object(F.useRef)(null),Ui=Object(F.useRef)(null),sl=If(tl(L,H,Z,J)),Vd=Object(gr.a)(0,{value:wd}),Wd=Object(jt.a)(Vd,2),Sa=Wd[0],jf=Wd[1],uf=Object(F.useRef)(null),bl=F.useMemo(function(){return Array.isArray(T)?T:[T||!1,T||!1]},[T]),xh=Object(gr.a)(null,{value:Ce,defaultValue:_e,postState:function(Fn){return H==="time"&&!Bf?Fn:lu(Fn,C)}}),zf=Object(jt.a)(xh,2),ns=zf[0],nh=zf[1],bd=ja({values:ns,picker:H,defaultDates:Fe,generateConfig:C}),xp=Object(jt.a)(bd,2),bv=xp[0],Hp=xp[1],Sd=Object(gr.a)(ns,{postState:function(Fn){var ri=Fn;if(bl[0]&&bl[1])return ri;for(var to=0;to<2;to+=1)bl[to]&&!Ho(ri,to)&&!Ho(br,to)&&(ri=ul(ri,C.getNow(),to));return ri}}),Om=Object(jt.a)(Sd,2),Gc=Om[0],ia=Om[1],la=Object(gr.a)([H,H],{value:ci}),ml=Object(jt.a)(la,2),Fh=ml[0],Rm=ml[1];Object(F.useEffect)(function(){Rm([H,H])},[H]);var ap=function(Fn,ri){Rm(Fn),Ga&&Ga(ri,Fn)},Km=Yu({picker:H,selectedValue:Gc,locale:P,disabled:bl,disabledDate:He,generateConfig:C},Sf.current[1],Sf.current[0]),cf=Object(jt.a)(Km,2),Kv=cf[0],Lm=cf[1],bg=Object(gr.a)(!1,{value:Ue,defaultValue:tt,postState:function(Fn){return bl[Sa]?!1:Fn},onChange:function(Fn){Qi&&Qi(Fn),!Fn&&uf.current&&uf.current.onClose&&uf.current.onClose()}}),Vp=Object(jt.a)(bg,2),Uf=Vp[0],cm=Vp[1],Ef=Uf&&Sa===0,Ys=Uf&&Sa===1,Cp=Object(F.useState)(0),Zm=Object(jt.a)(Cp,2),E0=Zm[0],T0=Zm[1];Object(F.useEffect)(function(){!Uf&&Hd.current&&T0(Hd.current.offsetWidth)},[Uf]);var Zv=F.useRef();function fm(Si,Fn){if(Si)clearTimeout(Zv.current),Sf.current[Fn]=!0,jf(Fn),cm(Si),Uf||Hp(null,Fn);else if(Sa===Fn){cm(Si);var ri=Sf.current;Zv.current=setTimeout(function(){ri===Sf.current&&(Sf.current={})})}}function Sv(Si){fm(!0,Si),setTimeout(function(){var Fn=[Gs,Ui][Si];Fn.current&&Fn.current.focus()},0)}function Jm(Si,Fn){var ri=Si,to=Ho(ri,0),Ma=Ho(ri,1);to&&Ma&&C.isAfter(to,Ma)&&(H==="week"&&!Dc(C,P.locale,to,Ma)||H==="quarter"&&!_f(C,to,Ma)||H!=="week"&&H!=="quarter"&&H!=="time"&&!su(C,to,Ma)?(Fn===0?(ri=[to,null],Ma=null):(to=null,ri=[null,Ma]),Sf.current=Object(un.a)({},Fn,!0)):(H!=="time"||Bf!==!1)&&(ri=lu(ri,C))),ia(ri);var Ch=ri&&ri[0]?zs(ri[0],{generateConfig:C,locale:P,format:sl[0]}):"",ff=ri&&ri[1]?zs(ri[1],{generateConfig:C,locale:P,format:sl[0]}):"";if(wl){var Oc={range:Fn===0?"start":"end"};wl(ri,[Ch,ff],Oc)}var Lu=$c(to,0,bl,br),Ah=$c(Ma,1,bl,br),Ap=ri===null||Lu&&Ah;Ap&&(nh(ri),Ps&&(!bu(C,Ho(ns,0),to)||!bu(C,Ho(ns,1),Ma))&&Ps(ri,[Ch,ff]));var wh=null;Fn===0&&!bl[1]?wh=1:Fn===1&&!bl[0]&&(wh=0),wh!==null&&wh!==Sa&&(!Sf.current[wh]||!Ho(ri,wh))&&Ho(ri,Fn)?Sv(wh):fm(!1,Fn)}var _0=function(Fn){return Uf&&uf.current&&uf.current.onKeyDown?uf.current.onKeyDown(Fn):(Object(Di.a)(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this."),!1)},s1={formatList:sl,generateConfig:C,locale:P},Dm=Ka(Ho(Gc,0),s1),I0=Object(jt.a)(Dm,2),Jv=I0[0],px=I0[1],P0=Ka(Ho(Gc,1),s1),Mv=Object(jt.a)(P0,2),Qm=Mv[0],Sg=Mv[1],so=function(Fn,ri){var to=Eh(Fn,{locale:P,formatList:sl,generateConfig:C}),Ma=ri===0?Kv:Lm;to&&!Ma(to)&&(ia(ul(Gc,to,ri)),Hp(to,ri))},Rl=qa({valueTexts:Jv,onTextChange:function(Fn){return so(Fn,0)}}),hm=Object(jt.a)(Rl,3),Zg=hm[0],l1=hm[1],O0=hm[2],u1=qa({valueTexts:Qm,onTextChange:function(Fn){return so(Fn,1)}}),R0=Object(jt.a)(u1,3),Jg=R0[0],Gd=R0[1],Qg=R0[2],c1=Object(F.useState)(null),L0=Object(jt.a)(c1,2),mx=L0[0],D0=L0[1],N0=Object(F.useState)(null),Cy=Object(jt.a)(N0,2),Ev=Cy[0],Tv=Cy[1],Mg=Za(Zg,{formatList:sl,generateConfig:C,locale:P}),Qv=Object(jt.a)(Mg,3),qv=Qv[0],$v=Qv[1],_v=Qv[2],qg=Za(Jg,{formatList:sl,generateConfig:C,locale:P}),F0=Object(jt.a)(qg,3),eg=F0[0],tg=F0[1],Eg=F0[2],f1=function(Fn){Tv(ul(Gc,Fn,Sa)),Sa===0?$v(Fn):tg(Fn)},Ay=function(){Tv(ul(Gc,null,Sa)),Sa===0?_v():Eg()},wy=function(Fn,ri){return{blurToCancel:kd,forwardKeyDown:_0,onBlur:qu,isClickOutside:function(Ma){return!Ac([Pc.current,Mu.current,Mf.current],Ma)},onFocus:function(Ma){jf(Fn),za&&za(Ma)},triggerOpen:function(Ma){fm(Ma,Fn)},onSubmit:function(){Jm(Gc,Fn),ri()},onCancel:function(){fm(!1,Fn),ia(ns),ri()}}},B0=ho(Object(Mr.a)(Object(Mr.a)({},wy(0,O0)),{},{open:Ef,value:Zg,onKeyDown:function(Fn,ri){ru==null||ru(Fn,ri)}})),by=Object(jt.a)(B0,2),h1=by[0],d1=by[1],Sy=d1.focused,My=d1.typing,j0=ho(Object(Mr.a)(Object(Mr.a)({},wy(1,Qg)),{},{open:Ys,value:Jg,onKeyDown:function(Fn,ri){ru==null||ru(Fn,ri)}})),Tg=Object(jt.a)(j0,2),p1=Tg[0],Ey=Tg[1],Ty=Ey.focused,$g=Ey.typing,z0=function(Fn){!Uf&&!Gs.current.contains(Fn.target)&&!Ui.current.contains(Fn.target)&&(bl[0]?bl[1]||Sv(1):Sv(0))},U0=function(Fn){Uf&&(Sy||Ty)&&!Gs.current.contains(Fn.target)&&!Ui.current.contains(Fn.target)&&Fn.preventDefault()},k0=ns&&ns[0]?zs(ns[0],{locale:P,format:"YYYYMMDDHHmmss",generateConfig:C}):"",m1=ns&&ns[1]?zs(ns[1],{locale:P,format:"YYYYMMDDHHmmss",generateConfig:C}):"";Object(F.useEffect)(function(){Uf||(ia(ns),!Jv.length||Jv[0]===""?l1(""):px!==Zg&&O0(),!Qm.length||Qm[0]===""?Gd(""):Sg!==Jg&&Qg())},[Uf,Jv,Qm]),Object(F.useEffect)(function(){ia(ns)},[k0,m1]),kn&&(kn.current={focus:function(){Gs.current&&Gs.current.focus()},blur:function(){Gs.current&&Gs.current.blur(),Ui.current&&Ui.current.blur()}});var _y=Object.keys(qr||{}),A=_y.map(function(Si){var Fn=qr[Si],ri=typeof Fn=="function"?Fn():Fn;return{label:Si,onClick:function(){Jm(ri,null),fm(!1,Sa)},onMouseEnter:function(){D0(ri)},onMouseLeave:function(){D0(null)}}});function O(){var Si=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Fn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ri=null;Uf&&Ev&&Ev[0]&&Ev[1]&&C.isAfter(Ev[1],Ev[0])&&(ri=Ev);var to=Z;if(Z&&Object(Vn.a)(Z)==="object"&&Z.defaultValue){var Ma=Z.defaultValue;to=Object(Mr.a)(Object(Mr.a)({},Z),{},{defaultValue:Ho(Ma,Sa)||void 0})}var Ch=null;return Wt&&(Ch=function(Oc,Lu){return Wt(Oc,Lu,{range:Sa?"end":"start"})}),F.createElement(gf.Provider,{value:{inRange:!0,panelPosition:Si,rangedValue:mx||Gc,hoverRangedValue:ri}},F.createElement(Ls,Object(cr.a)({},S,Fn,{dateRender:Ch,showTime:to,mode:Fh[Sa],generateConfig:C,style:void 0,direction:xc,disabledDate:Sa===0?Kv:Lm,disabledTime:function(Oc){return kt?kt(Oc,Sa===0?"start":"end"):!1},className:qe()(Object(un.a)({},"".concat(ie,"-panel-focused"),Sa===0?!My:!$g)),value:Ho(Gc,Sa),locale:P,tabIndex:-1,onPanelChange:function(Oc,Lu){Sa===0&&_v(!0),Sa===1&&Eg(!0),ap(ul(Fh,Lu,Sa),ul(Gc,Oc,Sa));var Ah=Oc;Si==="right"&&Fh[Sa]===Lu&&(Ah=Tu(Ah,Lu,C,-1)),Hp(Ah,Sa)},onOk:null,onSelect:void 0,onChange:void 0,defaultValue:Sa===0?Ho(Gc,1):Ho(Gc,0),defaultPickerValue:void 0})))}var Y=0,he=0;Sa&&Mu.current&&Nh.current&&Pc.current&&(Y=Mu.current.offsetWidth+Nh.current.offsetWidth,Pc.current.offsetWidth&&Y>Pc.current.offsetWidth&&(he=Y));var Ne=xc==="rtl"?{right:Y}:{left:Y};function Ze(){var Si,Fn=po(ie,Fh[Sa],Rn),ri=ws({prefixCls:ie,components:Au,needConfirmButton:kd,okDisabled:!Ho(Gc,Sa)||He&&He(Gc[Sa]),locale:P,rangeList:A,onOk:function(){Ho(Gc,Sa)&&(Jm(Gc,Sa),$u&&$u(Gc))}});if(H!=="time"&&!Z){var to=bv(Sa),Ma=Tu(to,H,C),Ch=Fh[Sa],ff=Ch===H,Oc=O(ff?"left":!1,{pickerValue:to,onPickerValueChange:function(wh){Hp(wh,Sa)}}),Lu=O("right",{pickerValue:Ma,onPickerValueChange:function(wh){Hp(Tu(wh,H,C,-1),Sa)}});xc==="rtl"?Si=F.createElement(F.Fragment,null,Lu,ff&&Oc):Si=F.createElement(F.Fragment,null,Oc,ff&&Lu)}else Si=O();var Ah=F.createElement(F.Fragment,null,F.createElement("div",{className:"".concat(ie,"-panels")},Si),(Fn||ri)&&F.createElement("div",{className:"".concat(ie,"-footer")},Fn,ri));return Dr&&(Ah=Dr(Ah)),F.createElement("div",{className:"".concat(ie,"-panel-container"),style:{marginLeft:he},ref:Pc,onMouseDown:function(wh){wh.preventDefault()}},Ah)}var It=F.createElement("div",{className:qe()("".concat(ie,"-range-wrapper"),"".concat(ie,"-").concat(H,"-range-wrapper")),style:{minWidth:E0}},F.createElement("div",{className:"".concat(ie,"-range-arrow"),style:Ne}),Ze()),Rt;Lt&&(Rt=F.createElement("span",{className:"".concat(ie,"-suffix")},Lt));var or;On&&(Ho(ns,0)&&!bl[0]||Ho(ns,1)&&!bl[1])&&(or=F.createElement("span",{onMouseDown:function(Fn){Fn.preventDefault(),Fn.stopPropagation()},onMouseUp:function(Fn){Fn.preventDefault(),Fn.stopPropagation();var ri=ns;bl[0]||(ri=ul(ri,null,0)),bl[1]||(ri=ul(ri,null,1)),Jm(ri,null),fm(!1,Sa)},className:"".concat(ie,"-clear")},xr||F.createElement("span",{className:"".concat(ie,"-clear-btn")})));var Hn={size:yl(H,sl[0],C)},xn=0,ti=0;Mu.current&&Mf.current&&Nh.current&&(Sa===0?ti=Mu.current.offsetWidth:(xn=Y,ti=Mf.current.offsetWidth));var qi=xc==="rtl"?{right:xn}:{left:xn},Yo=function(Fn,ri){var to=ul(Gc,Fn,Sa);ri==="submit"||ri!=="key"&&!kd?(Jm(to,Sa),Sa===0?_v():Eg()):ia(to)};return F.createElement(Ei.Provider,{value:{operationRef:uf,hideHeader:H==="time",onDateMouseEnter:f1,onDateMouseLeave:Ay,hideRanges:!0,onSelect:Yo,open:Uf}},F.createElement(ba,{visible:Uf,popupElement:It,popupStyle:a,prefixCls:ie,dropdownClassName:f,dropdownAlign:y,getPopupContainer:m,transitionName:h,range:!0,direction:xc},F.createElement("div",Object(cr.a)({ref:Hd,className:qe()(ie,"".concat(ie,"-range"),l,(E={},Object(un.a)(E,"".concat(ie,"-disabled"),bl[0]&&bl[1]),Object(un.a)(E,"".concat(ie,"-focused"),Sa===0?Sy:Ty),Object(un.a)(E,"".concat(ie,"-rtl"),xc==="rtl"),E)),style:n,onClick:z0,onMouseDown:U0},ql(S)),F.createElement("div",{className:qe()("".concat(ie,"-input"),(R={},Object(un.a)(R,"".concat(ie,"-input-active"),Sa===0),Object(un.a)(R,"".concat(ie,"-input-placeholder"),!!qv),R)),ref:Mu},F.createElement("input",Object(cr.a)({id:d,disabled:bl[0],readOnly:Yn||typeof sl[0]=="function"||!My,value:qv||Zg,onChange:function(Fn){l1(Fn.target.value)},autoFocus:M,placeholder:Ho(B,0)||"",ref:Gs},h1,Hn,{autoComplete:bf}))),F.createElement("div",{className:"".concat(ie,"-range-separator"),ref:Nh},ne),F.createElement("div",{className:qe()("".concat(ie,"-input"),(N={},Object(un.a)(N,"".concat(ie,"-input-active"),Sa===1),Object(un.a)(N,"".concat(ie,"-input-placeholder"),!!eg),N)),ref:Mf},F.createElement("input",Object(cr.a)({disabled:bl[1],readOnly:Yn||typeof sl[0]=="function"||!$g,value:eg||Jg,onChange:function(Fn){Gd(Fn.target.value)},placeholder:Ho(B,1)||"",ref:Ui},p1,Hn,{autoComplete:bf}))),F.createElement("div",{className:"".concat(ie,"-active-bar"),style:Object(Mr.a)(Object(Mr.a)({},qi),{},{width:ti,position:"absolute"})}),Rt,or)))}var uu=function(S){Object(Gr.a)(R,S);var E=Object(Yl.a)(R);function R(){var N;return Object(ko.a)(this,R),N=E.apply(this,arguments),N.pickerRef=F.createRef(),N.focus=function(){N.pickerRef.current&&N.pickerRef.current.focus()},N.blur=function(){N.pickerRef.current&&N.pickerRef.current.blur()},N}return Object(ss.a)(R,[{key:"render",value:function(){return F.createElement(Ul,Object(cr.a)({},this.props,{pickerRef:this.pickerRef}))}}]),R}(F.Component),Ks=uu,fs=nc,ju=U("61s2");function $l(S,E,R){return R!==void 0?R:S==="year"&&E.lang.yearPlaceholder?E.lang.yearPlaceholder:S==="quarter"&&E.lang.quarterPlaceholder?E.lang.quarterPlaceholder:S==="month"&&E.lang.monthPlaceholder?E.lang.monthPlaceholder:S==="week"&&E.lang.weekPlaceholder?E.lang.weekPlaceholder:S==="time"&&E.timePickerLocale.placeholder?E.timePickerLocale.placeholder:E.lang.placeholder}function ic(S,E,R){return R!==void 0?R:S==="year"&&E.lang.yearPlaceholder?E.lang.rangeYearPlaceholder:S==="month"&&E.lang.monthPlaceholder?E.lang.rangeMonthPlaceholder:S==="week"&&E.lang.weekPlaceholder?E.lang.rangeWeekPlaceholder:S==="time"&&E.timePickerLocale.placeholder?E.timePickerLocale.rangePlaceholder:E.lang.rangePlaceholder}var Nl=U("uaoM"),zu=U("H84U"),bs=U("YMnH"),Uu=U("3Nzz"),Yt=function(S,E){var R={};for(var N in S)Object.prototype.hasOwnProperty.call(S,N)&&E.indexOf(N)<0&&(R[N]=S[N]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,N=Object.getOwnPropertySymbols(S);q<N.length;q++)E.indexOf(N[q])<0&&Object.prototype.propertyIsEnumerable.call(S,N[q])&&(R[N[q]]=S[N[q]]);return R};function Ur(S){function E(l,a){var f=function(h){Object(Gr.a)(m,h);var y=Object(Yl.a)(m);function m(C){var P;return Object(ko.a)(this,m),P=y.call(this,C),P.pickerRef=F.createRef(),P.focus=function(){P.pickerRef.current&&P.pickerRef.current.focus()},P.blur=function(){P.pickerRef.current&&P.pickerRef.current.blur()},P.getDefaultLocale=function(){var B=P.props.locale,M=Object(cr.a)(Object(cr.a)({},ju.a),B);return M.lang=Object(cr.a)(Object(cr.a)({},M.lang),(B||{}).lang),M},P.renderPicker=function(B){var M=P.context,T=M.getPrefixCls,L=M.direction,z=M.getPopupContainer,H=P.props,Z=H.prefixCls,J=H.getPopupContainer,V=H.className,ne=H.size,Ce=H.bordered,_e=Ce===void 0?!0:Ce,Fe=H.placeholder,Ue=Yt(H,["prefixCls","getPopupContainer","className","size","bordered","placeholder"]),tt=P.props,He=tt.format,kt=tt.showTime,Wt=T("picker",Z),Dr={showToday:!0},qr={};l&&(qr.picker=l);var br=l||P.props.picker;return qr=Object(cr.a)(Object(cr.a)(Object(cr.a)({},qr),kt?pa(Object(cr.a)({format:He,picker:br},kt)):{}),br==="time"?pa(Object(cr.a)(Object(cr.a)({format:He},P.props),{picker:br})):{}),F.createElement(Uu.b.Consumer,null,function(On){var Lt,xr=ne||On;return F.createElement(fs,Object(cr.a)({ref:P.pickerRef,placeholder:$l(br,B,Fe),suffixIcon:br==="time"?F.createElement(Ot,null):F.createElement(Pi,null),clearIcon:F.createElement(ar.a,null),allowClear:!0,transitionName:"slide-up"},Dr,Ue,qr,{locale:B.lang,className:qe()((Lt={},Object(un.a)(Lt,"".concat(Wt,"-").concat(xr),xr),Object(un.a)(Lt,"".concat(Wt,"-borderless"),!_e),Lt),V),prefixCls:Wt,getPopupContainer:J||z,generateConfig:S,prevIcon:F.createElement("span",{className:"".concat(Wt,"-prev-icon")}),nextIcon:F.createElement("span",{className:"".concat(Wt,"-next-icon")}),superPrevIcon:F.createElement("span",{className:"".concat(Wt,"-super-prev-icon")}),superNextIcon:F.createElement("span",{className:"".concat(Wt,"-super-next-icon")}),components:Fi,direction:L}))})},Object(Nl.a)(l!=="quarter",a,"DatePicker.".concat(a," is legacy usage. Please use DatePicker[picker='").concat(l,"'] directly.")),P}return Object(ss.a)(m,[{key:"render",value:function(){return F.createElement(bs.a,{componentName:"DatePicker",defaultLocale:this.getDefaultLocale},this.renderPicker)}}]),m}(F.Component);return f.contextType=zu.b,a&&(f.displayName=a),f}var R=E(),N=E("week","WeekPicker"),q=E("month","MonthPicker"),ie=E("year","YearPicker"),d=E("time","TimePicker"),n=E("quarter","QuarterPicker");return{DatePicker:R,WeekPicker:N,MonthPicker:q,YearPicker:ie,TimePicker:d,QuarterPicker:n}}var Lr={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"},zi=Lr,Mo=function(E,R){return F.createElement(Eu.a,Object.assign({},E,{ref:R,icon:zi}))};Mo.displayName="SwapRightOutlined";var Ta=F.forwardRef(Mo),Ss=function(S,E){var R={};for(var N in S)Object.prototype.hasOwnProperty.call(S,N)&&E.indexOf(N)<0&&(R[N]=S[N]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,N=Object.getOwnPropertySymbols(S);q<N.length;q++)E.indexOf(N[q])<0&&Object.prototype.propertyIsEnumerable.call(S,N[q])&&(R[N[q]]=S[N[q]]);return R};function Go(S){var E=function(R){Object(Gr.a)(q,R);var N=Object(Yl.a)(q);function q(){var ie;return Object(ko.a)(this,q),ie=N.apply(this,arguments),ie.pickerRef=F.createRef(),ie.focus=function(){ie.pickerRef.current&&ie.pickerRef.current.focus()},ie.blur=function(){ie.pickerRef.current&&ie.pickerRef.current.blur()},ie.getDefaultLocale=function(){var d=ie.props.locale,n=Object(cr.a)(Object(cr.a)({},ju.a),d);return n.lang=Object(cr.a)(Object(cr.a)({},n.lang),(d||{}).lang),n},ie.renderPicker=function(d){var n=ie.context,l=n.getPrefixCls,a=n.direction,f=n.getPopupContainer,h=ie.props,y=h.prefixCls,m=h.getPopupContainer,C=h.className,P=h.size,B=h.bordered,M=B===void 0?!0:B,T=h.placeholder,L=Ss(h,["prefixCls","getPopupContainer","className","size","bordered","placeholder"]),z=ie.props,H=z.format,Z=z.showTime,J=z.picker,V=l("picker",y),ne={};return ne=Object(cr.a)(Object(cr.a)(Object(cr.a)({},ne),Z?pa(Object(cr.a)({format:H,picker:J},Z)):{}),J==="time"?pa(Object(cr.a)(Object(cr.a)({format:H},ie.props),{picker:J})):{}),F.createElement(Uu.b.Consumer,null,function(Ce){var _e,Fe=P||Ce;return F.createElement(Ks,Object(cr.a)({separator:F.createElement("span",{"aria-label":"to",className:"".concat(V,"-separator")},F.createElement(Ta,null)),ref:ie.pickerRef,placeholder:ic(J,d,T),suffixIcon:J==="time"?F.createElement(Ot,null):F.createElement(Pi,null),clearIcon:F.createElement(ar.a,null),allowClear:!0,transitionName:"slide-up"},L,ne,{className:qe()((_e={},Object(un.a)(_e,"".concat(V,"-").concat(Fe),Fe),Object(un.a)(_e,"".concat(V,"-borderless"),!M),_e),C),locale:d.lang,prefixCls:V,getPopupContainer:m||f,generateConfig:S,prevIcon:F.createElement("span",{className:"".concat(V,"-prev-icon")}),nextIcon:F.createElement("span",{className:"".concat(V,"-next-icon")}),superPrevIcon:F.createElement("span",{className:"".concat(V,"-super-prev-icon")}),superNextIcon:F.createElement("span",{className:"".concat(V,"-super-next-icon")}),components:Fi,direction:a}))})},ie}return Object(ss.a)(q,[{key:"render",value:function(){return F.createElement(bs.a,{componentName:"DatePicker",defaultLocale:this.getDefaultLocale},this.renderPicker)}}]),q}(F.Component);return E.contextType=zu.b,E}var Fi={button:As,rangeItem:Xs};function Zo(S){return S?Array.isArray(S)?S:[S]:[]}function pa(S){var E=S.format,R=S.picker,N=S.showHour,q=S.showMinute,ie=S.showSecond,d=S.use12Hours,n=Zo(E)[0],l=Object(cr.a)({},S);return n&&typeof n=="string"&&(!n.includes("s")&&ie===void 0&&(l.showSecond=!1),!n.includes("m")&&q===void 0&&(l.showMinute=!1),!n.includes("H")&&!n.includes("h")&&N===void 0&&(l.showHour=!1),(n.includes("a")||n.includes("A"))&&d===void 0&&(l.use12Hours=!0)),R==="time"?l:(typeof n=="function"&&delete l.format,{showTime:l})}function Kl(S){var E=Ur(S),R=E.DatePicker,N=E.WeekPicker,q=E.MonthPicker,ie=E.YearPicker,d=E.TimePicker,n=E.QuarterPicker,l=Go(S),a=R;return a.WeekPicker=N,a.MonthPicker=q,a.YearPicker=ie,a.RangePicker=l,a.TimePicker=d,a.QuarterPicker=n,a}var oc=Kl,ef=oc(Po),cu=ef,Gf=U("POPG"),Ds=function S(E,R){return Object(Gf.a)(E)||Mi.a.isMoment(E)?E:Array.isArray(E)?E.map(function(N){return S(N,R)}):Mi()(E,R)},Yf=Ds,Xf=U("iGn7"),vc=U("Z1je");function Kf(){return Kf=Object.assign||function(S){for(var E=1;E<arguments.length;E++){var R=arguments[E];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(S[N]=R[N])}return S},Kf.apply(this,arguments)}function sh(S,E){var R=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);E&&(N=N.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),R.push.apply(R,N)}return R}function ld(S){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?sh(Object(R),!0).forEach(function(N){lh(S,N,R[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(R)):sh(Object(R)).forEach(function(N){Object.defineProperty(S,N,Object.getOwnPropertyDescriptor(R,N))})}return S}function lh(S,E,R){return E in S?Object.defineProperty(S,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[E]=R,S}function _u(S,E){return bc(S)||ac(S,E)||uh(S,E)||yf()}function yf(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uh(S,E){if(!!S){if(typeof S=="string")return gc(S,E);var R=Object.prototype.toString.call(S).slice(8,-1);if(R==="Object"&&S.constructor&&(R=S.constructor.name),R==="Map"||R==="Set")return Array.from(S);if(R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return gc(S,E)}}function gc(S,E){(E==null||E>S.length)&&(E=S.length);for(var R=0,N=new Array(E);R<E;R++)N[R]=S[R];return N}function ac(S,E){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(S)))){var R=[],N=!0,q=!1,ie=void 0;try{for(var d=S[Symbol.iterator](),n;!(N=(n=d.next()).done)&&(R.push(n.value),!(E&&R.length===E));N=!0);}catch(l){q=!0,ie=l}finally{try{!N&&d.return!=null&&d.return()}finally{if(q)throw ie}}return R}}function bc(S){if(Array.isArray(S))return S}var xo=function(E,R){var N=E.text,q=E.mode,ie=E.format,d=E.label,n=E.light,l=E.render,a=E.renderFormItem,f=E.plain,h=E.showTime,y=E.fieldProps,m=E.picker,C=E.bordered,P=Object(we.c)(),B=Object(F.useContext)(bt.b.SizeContext),M=Object(F.useContext)(bt.b.ConfigContext),T=M.getPrefixCls,L=T("pro-field-date-picker"),z=Object(F.useState)(!1),H=_u(z,2),Z=H[0],J=H[1];if(q==="read"){var V=K.a.createElement("span",{ref:R},N?Mi()(N).format(ie||"YYYY-MM-DD"):"-");return l?l(N,ld({mode:q},y),K.a.createElement("span",null,V)):V}if(q==="edit"||q==="update"){var ne,Ce=y.disabled,_e=y.value,Fe=y.onChange,Ue=y.allowClear,tt=y.placeholder,He=tt===void 0?P.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9"):tt,kt=Yf(_e);if(n){var Wt=kt&&kt.format(ie)||"";ne=K.a.createElement("div",{className:"".concat(L,"-light"),onClick:function(){J(!0)}},K.a.createElement(cu,Kf({picker:m,showTime:h,format:ie,ref:R},y,{value:kt,onChange:function(qr){Fe&&Fe(qr),setTimeout(function(){J(!1)},0)},onOpenChange:J,open:Z})),K.a.createElement(Xf.a,{label:d,disabled:Ce,placeholder:He,size:B,value:Wt,onClear:function(){Fe&&Fe(null)},allowClear:Ue,bordered:C,expanded:Z}))}else ne=K.a.createElement(cu,Kf({picker:m,showTime:h,format:ie,placeholder:He,bordered:f===void 0?!0:!f,ref:R},y,{value:kt}));return a?a(N,ld({mode:q},y),ne):ne}return null},sc=K.a.forwardRef(xo),_d=U("5Dmo"),eu=U("3S7+");function Ih(){return Ih=Object.assign||function(S){for(var E=1;E<arguments.length;E++){var R=arguments[E];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(S[N]=R[N])}return S},Ih.apply(this,arguments)}function $d(S,E){var R=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);E&&(N=N.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),R.push.apply(R,N)}return R}function Id(S){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?$d(Object(R),!0).forEach(function(N){Kp(S,N,R[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(R)):$d(Object(R)).forEach(function(N){Object.defineProperty(S,N,Object.getOwnPropertyDescriptor(R,N))})}return S}function Kp(S,E,R){return E in S?Object.defineProperty(S,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[E]=R,S}var ep=function(E){var R=E.text,N=E.mode,q=E.render,ie=E.renderFormItem,d=E.format,n=E.fieldProps,l=Object(we.c)();if(N==="read"){var a=K.a.createElement(eu.a,{title:Mi()(R).format(d||"YYYY-MM-DD HH:mm:ss")},Mi()(R).fromNow());return q?q(R,Id({mode:N},n),K.a.createElement(K.a.Fragment,null,a)):K.a.createElement(K.a.Fragment,null,a)}if(N==="edit"||N==="update"){var f=l.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9"),h=Yf(n.value),y=K.a.createElement(cu,Ih({placeholder:f},n,{value:h}));return ie?ie(R,Id({mode:N},n),y):y}return null},Vo=ep;function ud(){return ud=Object.assign||function(S){for(var E=1;E<arguments.length;E++){var R=arguments[E];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(S[N]=R[N])}return S},ud.apply(this,arguments)}function Zf(S,E){var R=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);E&&(N=N.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),R.push.apply(R,N)}return R}function tp(S){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?Zf(Object(R),!0).forEach(function(N){Pd(S,N,R[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(R)):Zf(Object(R)).forEach(function(N){Object.defineProperty(S,N,Object.getOwnPropertyDescriptor(R,N))})}return S}function Pd(S,E,R){return E in S?Object.defineProperty(S,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[E]=R,S}function cd(S,E){return Ph(S)||Np(S,E)||Us(S,E)||no()}function no(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Us(S,E){if(!!S){if(typeof S=="string")return fd(S,E);var R=Object.prototype.toString.call(S).slice(8,-1);if(R==="Object"&&S.constructor&&(R=S.constructor.name),R==="Map"||R==="Set")return Array.from(S);if(R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return fd(S,E)}}function fd(S,E){(E==null||E>S.length)&&(E=S.length);for(var R=0,N=new Array(E);R<E;R++)N[R]=S[R];return N}function Np(S,E){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(S)))){var R=[],N=!0,q=!1,ie=void 0;try{for(var d=S[Symbol.iterator](),n;!(N=(n=d.next()).done)&&(R.push(n.value),!(E&&R.length===E));N=!0);}catch(l){q=!0,ie=l}finally{try{!N&&d.return!=null&&d.return()}finally{if(q)throw ie}}return R}}function Ph(S){if(Array.isArray(S))return S}var tf=function(E,R){var N=E.text,q=E.mode,ie=E.format,d=E.render,n=E.renderFormItem,l=E.plain,a=E.showTime,f=E.fieldProps,h=Object(we.c)(),y=Array.isArray(N)?N:[],m=cd(y,2),C=m[0],P=m[1],B=C?Mi()(C).format(ie||"YYYY-MM-DD"):"",M=P?Mi()(P).format(ie||"YYYY-MM-DD"):"";if(q==="read"){var T=K.a.createElement("div",{ref:R},K.a.createElement("div",null,B||"-"),K.a.createElement("div",null,M||"-"));return d?d(N,tp({mode:q},f),K.a.createElement("span",null,T)):T}if(q==="edit"||q==="update"){var L=Yf(f.value),z=K.a.createElement(cu.RangePicker,ud({ref:R,format:ie,showTime:a,placeholder:[h.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9"),h.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9")],bordered:l===void 0?!0:!l},f,{value:L}));return n?n(N,tp({mode:q},f),z):z}return null},Od=K.a.forwardRef(tf),Xu=U("5NDa"),io=U("5rEg");function Ns(){return Ns=Object.assign||function(S){for(var E=1;E<arguments.length;E++){var R=arguments[E];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(S[N]=R[N])}return S},Ns.apply(this,arguments)}function Pf(S,E){var R=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);E&&(N=N.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),R.push.apply(R,N)}return R}function Of(S){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?Pf(Object(R),!0).forEach(function(N){Ku(S,N,R[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(R)):Pf(Object(R)).forEach(function(N){Object.defineProperty(S,N,Object.getOwnPropertyDescriptor(R,N))})}return S}function Ku(S,E,R){return E in S?Object.defineProperty(S,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[E]=R,S}var Oh=function(E,R){if(typeof E!="string")return E;try{if(R==="json")return JSON.stringify(JSON.parse(E),null,2)}catch(N){}return E},Sp=function(E,R){var N=E.text,q=E.mode,ie=E.render,d=E.language,n=d===void 0?"text":d,l=E.renderFormItem,a=E.plain,f=E.fieldProps,h=Oh(N,n);if(q==="read"){var y=K.a.createElement("pre",Ns({ref:R},f,{style:Of({padding:16,overflow:"auto",fontSize:"85%",lineHeight:1.45,backgroundColor:"#f6f8fa",borderRadius:3,width:"min-content"},f.style)}),K.a.createElement("code",null,h));return ie?ie(h,Of(Of({mode:q},f),{},{ref:R}),y):y}if(q==="edit"||q==="update"){var m=K.a.createElement(io.a.TextArea,Ns({rows:5},f,{ref:R}));return a&&(m=K.a.createElement(io.a,Ns({},f,{ref:R}))),l?l(h,Of(Of({mode:q},f),{},{ref:R}),m):m}return null},Jf=K.a.forwardRef(Sp),kh=U("cIOH"),Hh=U("pL63"),ga=function(S,E){var R={};for(var N in S)Object.prototype.hasOwnProperty.call(S,N)&&E.indexOf(N)<0&&(R[N]=S[N]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,N=Object.getOwnPropertySymbols(S);q<N.length;q++)E.indexOf(N[q])<0&&Object.prototype.propertyIsEnumerable.call(S,N[q])&&(R[N[q]]=S[N[q]]);return R},Zu=cu.TimePicker,fl=cu.RangePicker,Fc=F.forwardRef(function(S,E){return F.createElement(fl,Object(cr.a)({},S,{picker:"time",mode:void 0,ref:E}))}),Ve=F.forwardRef(function(S,E){var R=S.addon,N=S.renderExtraFooter,q=S.popupClassName,ie=ga(S,["addon","renderExtraFooter","popupClassName"]),d=F.useMemo(function(){if(N)return N;if(R)return Object(Nl.a)(!1,"TimePicker","`addon` is deprecated. Please use `renderExtraFooter` instead."),R},[R,N]);return F.createElement(Zu,Object(cr.a)({},ie,{dropdownClassName:q,mode:void 0,ref:E,renderExtraFooter:d}))});Ve.displayName="TimePicker",Ve.RangePicker=Fc;var Bc=Ve;function lc(){return lc=Object.assign||function(S){for(var E=1;E<arguments.length;E++){var R=arguments[E];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(S[N]=R[N])}return S},lc.apply(this,arguments)}function uc(S,E){var R=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);E&&(N=N.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),R.push.apply(R,N)}return R}function fi(S){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?uc(Object(R),!0).forEach(function(N){Iu(S,N,R[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(R)):uc(Object(R)).forEach(function(N){Object.defineProperty(S,N,Object.getOwnPropertyDescriptor(R,N))})}return S}function Iu(S,E,R){return E in S?Object.defineProperty(S,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[E]=R,S}function rf(S,E){return Qf(S)||xl(S,E)||hd(S,E)||Mp()}function Mp(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hd(S,E){if(!!S){if(typeof S=="string")return Rd(S,E);var R=Object.prototype.toString.call(S).slice(8,-1);if(R==="Object"&&S.constructor&&(R=S.constructor.name),R==="Map"||R==="Set")return Array.from(S);if(R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return Rd(S,E)}}function Rd(S,E){(E==null||E>S.length)&&(E=S.length);for(var R=0,N=new Array(E);R<E;R++)N[R]=S[R];return N}function xl(S,E){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(S)))){var R=[],N=!0,q=!1,ie=void 0;try{for(var d=S[Symbol.iterator](),n;!(N=(n=d.next()).done)&&(R.push(n.value),!(E&&R.length===E));N=!0);}catch(l){q=!0,ie=l}finally{try{!N&&d.return!=null&&d.return()}finally{if(q)throw ie}}return R}}function Qf(S){if(Array.isArray(S))return S}var Vh=function(E,R){var N=E.text,q=E.mode,ie=E.light,d=E.label,n=E.format,l=E.render,a=E.renderFormItem,f=E.plain,h=E.fieldProps,y=Object(F.useState)(!1),m=rf(y,2),C=m[0],P=m[1],B=Object(F.useContext)(bt.b.SizeContext),M=Object(F.useContext)(bt.b.ConfigContext),T=M.getPrefixCls,L=T("pro-field-date-picker");if(q==="read"){var z=K.a.createElement("span",{ref:R},N?Mi()(N).format(n||"HH:mm:ss"):"-");return l?l(N,fi({mode:q},h),K.a.createElement("span",null,z)):z}if(q==="edit"||q==="update"){var H,Z=h.disabled,J=h.onChange,V=h.placeholder,ne=h.allowClear,Ce=h.value,_e=Yf(Ce);if(ie){var Fe=_e&&_e.format(n||"HH:mm:ss")||"";H=K.a.createElement("div",{className:"".concat(L,"-light"),onClick:function(){P(!0)}},K.a.createElement(Bc,lc({value:_e,format:n,ref:R},h,{onChange:function(tt){J&&J(tt),setTimeout(function(){P(!1)},0)},onOpenChange:P,open:C})),K.a.createElement(Xf.a,{label:d,disabled:Z,placeholder:V,size:B,value:Fe,allowClear:ne,onClear:function(){J&&J(null)},expanded:C}))}else H=K.a.createElement(cu.TimePicker,lc({ref:R,format:n,bordered:f===void 0?!0:!f},h,{value:_e}));return a?a(N,fi({mode:q},h),H):H}return null},Wh=function(E){var R=E.text,N=E.mode,q=E.format,ie=E.render,d=E.renderFormItem,n=E.plain,l=E.fieldProps,a=Array.isArray(R)?R:[],f=rf(a,2),h=f[0],y=f[1],m=h?Mi()(h).format(q||"YYYY-MM-DD"):"",C=y?Mi()(y).format(q||"YYYY-MM-DD"):"";if(N==="read"){var P=K.a.createElement("div",null,K.a.createElement("div",null,m||"-"),K.a.createElement("div",null,C||"-"));return ie?ie(R,fi({mode:N},l),K.a.createElement("span",null,P)):P}if(N==="edit"||N==="update"){var B=l.value,M=Yf(B),T=K.a.createElement(Bc.RangePicker,lc({format:q,bordered:n===void 0?!0:!n},l,{value:M}));return d?d(R,fi({mode:N},l),T):T}return null},qf=K.a.forwardRef(Vh);function dd(S,E){var R=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);E&&(N=N.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),R.push.apply(R,N)}return R}function jc(S){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?dd(Object(R),!0).forEach(function(N){oe(S,N,R[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(R)):dd(Object(R)).forEach(function(N){Object.defineProperty(S,N,Object.getOwnPropertyDescriptor(R,N))})}return S}function oe(S,E,R){return E in S?Object.defineProperty(S,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[E]=R,S}function te(){return te=Object.assign||function(S){for(var E=1;E<arguments.length;E++){var R=arguments[E];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(S[N]=R[N])}return S},te.apply(this,arguments)}function ce(S,E){if(S==null)return{};var R=Se(S,E),N,q;if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(S);for(q=0;q<ie.length;q++)N=ie[q],!(E.indexOf(N)>=0)&&(!Object.prototype.propertyIsEnumerable.call(S,N)||(R[N]=S[N]))}return R}function Se(S,E){if(S==null)return{};var R={},N=Object.keys(S),q,ie;for(ie=0;ie<N.length;ie++)q=N[ie],!(E.indexOf(q)>=0)&&(R[q]=S[q]);return R}function Ye(S,E){return ln(S)||yr(S,E)||_t(S,E)||Ct()}function Ct(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _t(S,E){if(!!S){if(typeof S=="string")return Nr(S,E);var R=Object.prototype.toString.call(S).slice(8,-1);if(R==="Object"&&S.constructor&&(R=S.constructor.name),R==="Map"||R==="Set")return Array.from(S);if(R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return Nr(S,E)}}function Nr(S,E){(E==null||E>S.length)&&(E=S.length);for(var R=0,N=new Array(E);R<E;R++)N[R]=S[R];return N}function yr(S,E){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(S)))){var R=[],N=!0,q=!1,ie=void 0;try{for(var d=S[Symbol.iterator](),n;!(N=(n=d.next()).done)&&(R.push(n.value),!(E&&R.length===E));N=!0);}catch(l){q=!0,ie=l}finally{try{!N&&d.return!=null&&d.return()}finally{if(q)throw ie}}return R}}function ln(S){if(Array.isArray(S))return S}var ni=K.a.forwardRef(function(S,E){var R=Object(F.useRef)(!0),N=Object(F.useState)(S.value),q=Ye(N,2),ie=q[0],d=q[1];Object(F.useEffect)(function(){d(S.value)},[S.value]);var n=S.composition,l=ce(S,["composition"]);return K.a.createElement(io.a,te({ref:E},l,n?{value:ie,onCompositionStart:function(){R.current=!1},onCompositionEnd:function(f){if(R.current===void 0){var h;S==null||(h=S.onChange)===null||h===void 0||h.call(S,f)}R.current=!0},onChange:function(f){if(d(f.target.value),R.current){var h;S==null||(h=S.onChange)===null||h===void 0||h.call(S,f)}else R.current=void 0}}:{}))}),Oi=function(E,R){var N=E.text,q=E.mode,ie=E.render,d=E.renderFormItem,n=E.fieldProps,l=Object(we.c)(),a=Object(F.useRef)();if(Object(F.useImperativeHandle)(R,function(){return jc({},a.current||{})},[a.current]),q==="read"){var f=N||"-";return ie?ie(N,jc({mode:q},n),K.a.createElement(K.a.Fragment,null,f)):K.a.createElement(K.a.Fragment,null,f)}if(q==="edit"||q==="update"){var h=l.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),y=K.a.createElement(ni,te({placeholder:h,ref:a,allowClear:!0},n));return d?d(N,jc({mode:q},n),y):y}return null},Ki=K.a.forwardRef(Oi);function Bi(){return Bi=Object.assign||function(S){for(var E=1;E<arguments.length;E++){var R=arguments[E];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(S[N]=R[N])}return S},Bi.apply(this,arguments)}function Ri(S,E){var R=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);E&&(N=N.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),R.push.apply(R,N)}return R}function ma(S){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?Ri(Object(R),!0).forEach(function(N){ra(S,N,R[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(R)):Ri(Object(R)).forEach(function(N){Object.defineProperty(S,N,Object.getOwnPropertyDescriptor(R,N))})}return S}function ra(S,E,R){return E in S?Object.defineProperty(S,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[E]=R,S}var Fs=function(E,R){var N=E.text,q=E.mode,ie=E.render,d=E.renderFormItem,n=E.fieldProps,l=Object(we.c)();if(q==="read"){var a=K.a.createElement("span",{ref:R},N||"-");return ie?ie(N,ma({mode:q},n),a):a}if(q==="edit"||q==="update"){var f=K.a.createElement(io.a.TextArea,Bi({rows:3,onKeyPress:function(y){y.key==="Enter"&&y.stopPropagation()},placeholder:l.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),ref:R},n));return d?d(N,ma({mode:q},n),f):f}return null},fu=K.a.forwardRef(Fs),Zs=U("DYRE"),_a=U("zeV3"),ku=U("9BLJ"),zc=U("fHMl");function hu(){return hu=Object.assign||function(S){for(var E=1;E<arguments.length;E++){var R=arguments[E];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(S[N]=R[N])}return S},hu.apply(this,arguments)}function Na(S,E){var R=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);E&&(N=N.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),R.push.apply(R,N)}return R}function Va(S){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?Na(Object(R),!0).forEach(function(N){Rf(S,N,R[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(R)):Na(Object(R)).forEach(function(N){Object.defineProperty(S,N,Object.getOwnPropertyDescriptor(R,N))})}return S}function Rf(S,E,R){return E in S?Object.defineProperty(S,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[E]=R,S}function Hu(S,E){return nf(S)||Zl(S,E)||Ju(S,E)||Vu()}function Vu(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ju(S,E){if(!!S){if(typeof S=="string")return yc(S,E);var R=Object.prototype.toString.call(S).slice(8,-1);if(R==="Object"&&S.constructor&&(R=S.constructor.name),R==="Map"||R==="Set")return Array.from(S);if(R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return yc(S,E)}}function yc(S,E){(E==null||E>S.length)&&(E=S.length);for(var R=0,N=new Array(E);R<E;R++)N[R]=S[R];return N}function Zl(S,E){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(S)))){var R=[],N=!0,q=!1,ie=void 0;try{for(var d=S[Symbol.iterator](),n;!(N=(n=d.next()).done)&&(R.push(n.value),!(E&&R.length===E));N=!0);}catch(l){q=!0,ie=l}finally{try{!N&&d.return!=null&&d.return()}finally{if(q)throw ie}}return R}}function nf(S){if(Array.isArray(S))return S}function du(S,E){if(S==null)return{};var R=xf(S,E),N,q;if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(S);for(q=0;q<ie.length;q++)N=ie[q],!(E.indexOf(N)>=0)&&(!Object.prototype.propertyIsEnumerable.call(S,N)||(R[N]=S[N]))}return R}function xf(S,E){if(S==null)return{};var R={},N=Object.keys(S),q,ie;for(ie=0;ie<N.length;ie++)q=N[ie],!(E.indexOf(q)>=0)&&(R[q]=S[q]);return R}var Su=function(E,R){var N=E.text,q=E.mode,ie=E.render,d=E.renderFormItem,n=E.fieldProps,l=du(E,["text","mode","render","renderFormItem","fieldProps"]),a=Object(we.c)(),f=Object(gr.a)(function(){return l.visible||!1},{value:l.visible,onChange:l.onVisible}),h=Hu(f,2),y=h[0],m=h[1];if(q==="read"){var C=K.a.createElement(K.a.Fragment,null,"-");return N&&(C=K.a.createElement(_a.b,null,K.a.createElement("span",{ref:R},y?N:"\uFF0A \uFF0A \uFF0A \uFF0A \uFF0A"),K.a.createElement("a",{onClick:function(){return m(!y)}},y?K.a.createElement(ku.a,null):K.a.createElement(zc.a,null)))),ie?ie(N,Va({mode:q},n),C):C}if(q==="edit"||q==="update"){var P=K.a.createElement(io.a.Password,hu({placeholder:a.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),ref:R},n));return d?d(N,Va({mode:q},n),P):P}return null},pu=K.a.forwardRef(Su);function ch(S,E){var R=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);E&&(N=N.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),R.push.apply(R,N)}return R}function $f(S){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?ch(Object(R),!0).forEach(function(N){To(S,N,R[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(R)):ch(Object(R)).forEach(function(N){Object.defineProperty(S,N,Object.getOwnPropertyDescriptor(R,N))})}return S}function To(S,E,R){return E in S?Object.defineProperty(S,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[E]=R,S}var Li=function(E){return E.map(function(R,N){return K.a.isValidElement(R)?K.a.cloneElement(R,$f({key:N},R==null?void 0:R.props)):K.a.createElement(K.a.Fragment,{key:N},R)})},Zi=function(E){var R=E.text,N=E.mode,q=E.render,ie=E.fieldProps,d=Object(F.useContext)(bt.b.ConfigContext),n=d.getPrefixCls,l=n("pro-field-option");if(q){var a=q(R,$f({mode:N},ie),K.a.createElement(K.a.Fragment,null));return!a||(a==null?void 0:a.length)<1||!Array.isArray(a)?null:K.a.createElement(_a.b,{size:16,className:l},Li(a))}return!R||!Array.isArray(R)?K.a.isValidElement(R)?R:null:K.a.createElement(_a.b,{size:16,className:l},Li(R))},Io=Zi,_i=U("WmNS"),Co=U.n(_i),hs=U("T2oS"),mu=U("W9HT");function ks(S){return cc(S)||Do(S)||ya(S)||Pu()}function Pu(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ya(S,E){if(!!S){if(typeof S=="string")return hl(S,E);var R=Object.prototype.toString.call(S).slice(8,-1);if(R==="Object"&&S.constructor&&(R=S.constructor.name),R==="Map"||R==="Set")return Array.from(S);if(R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return hl(S,E)}}function Do(S){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(S))return Array.from(S)}function cc(S){if(Array.isArray(S))return hl(S)}function hl(S,E){(E==null||E>S.length)&&(E=S.length);for(var R=0,N=new Array(E);R<E;R++)N[R]=S[R];return N}function dl(S,E,R,N,q,ie,d){try{var n=S[ie](d),l=n.value}catch(a){R(a);return}n.done?E(l):Promise.resolve(l).then(N,q)}function Ms(S){return function(){var E=this,R=arguments;return new Promise(function(N,q){var ie=S.apply(E,R);function d(l){dl(ie,N,q,d,n,"next",l)}function n(l){dl(ie,N,q,d,n,"throw",l)}d(void 0)})}}var Lf=function(E,R){var N=Object(F.useRef)(!1);Object(F.useEffect)(function(){if(!N.current)N.current=!0;else return E();return function(){}},R)};function Ou(S,E,R){var N=Array.isArray(E)?E:[],q=typeof E=="number"?E:R||0,ie=Object(F.useRef)(),d=Object(F.useRef)(S);d.current=S;var n=Object(F.useCallback)(function(){ie.current&&clearTimeout(ie.current)},[]),l=Object(F.useCallback)(Ms(Co.a.mark(function a(){var f,h,y,m=arguments;return Co.a.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:for(f=m.length,h=new Array(f),y=0;y<f;y++)h[y]=m[y];return P.abrupt("return",new Promise(function(B){n(),ie.current=setTimeout(Ms(Co.a.mark(function M(){return Co.a.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,d.current.apply(d,h);case 2:B();case 3:case"end":return L.stop()}},M)})),q)}));case 2:case"end":return P.stop()}},a)})),[q,n]);return Lf(function(){return l(),n},[].concat(ks(N),[l])),Object(F.useEffect)(function(){return n},[]),{run:l,cancel:n}}var Ru=Ou,sp=U("g5r2"),Zp=Object.prototype.hasOwnProperty;function fh(S,E){var R,N;if(S===E)return!0;if(S&&E&&(R=S.constructor)===E.constructor){if(R===Date)return S.getTime()===E.getTime();if(R===RegExp)return S.toString()===E.toString();if(R===Array){if((N=S.length)===E.length)for(;N--&&fh(S[N],E[N]););return N===-1}if(!R||typeof S=="object"){N=0;for(R in S)if(Zp.call(S,R)&&++N&&!Zp.call(E,R)||!(R in E)||!fh(S[R],E[R]))return!1;return Object.keys(E).length===N}}return S!==S&&E!==E}var of=new WeakMap,Wu=0;function eh(S){if(!S.length)return"";for(var E="arg",R=0;R<S.length;++R){if(S[R]===null){E+="@null";continue}var N=void 0;typeof S[R]!="object"&&typeof S[R]!="function"?typeof S[R]=="string"?N='"'+S[R]+'"':N=String(S[R]):of.has(S[R])?N=of.get(S[R]):(N=Wu,of.set(S[R],Wu++)),E+="@"+N}return E}var Uc=function(){function S(E){E===void 0&&(E={}),this.__cache=new Map(Object.entries(E)),this.__listeners=[]}return S.prototype.get=function(E){var R=this.serializeKey(E)[0];return this.__cache.get(R)},S.prototype.set=function(E,R){var N=this.serializeKey(E)[0];this.__cache.set(N,R),this.notify()},S.prototype.keys=function(){return Array.from(this.__cache.keys())},S.prototype.has=function(E){var R=this.serializeKey(E)[0];return this.__cache.has(R)},S.prototype.clear=function(){this.__cache.clear(),this.notify()},S.prototype.delete=function(E){var R=this.serializeKey(E)[0];this.__cache.delete(R),this.notify()},S.prototype.serializeKey=function(E){var R=null;if(typeof E=="function")try{E=E()}catch(ie){E=""}Array.isArray(E)?(R=E,E=eh(E)):E=String(E||"");var N=E?"err@"+E:"",q=E?"validating@"+E:"";return[E,R,N,q]},S.prototype.subscribe=function(E){var R=this;if(typeof E!="function")throw new Error("Expected the listener to be a function.");var N=!0;return this.__listeners.push(E),function(){if(!!N){N=!1;var q=R.__listeners.indexOf(E);q>-1&&(R.__listeners[q]=R.__listeners[R.__listeners.length-1],R.__listeners.length--)}}},S.prototype.notify=function(){for(var E=0,R=this.__listeners;E<R.length;E++){var N=R[E];N()}},S}(),th=Uc;function Js(){return typeof navigator.onLine!="undefined"?navigator.onLine:!0}function vu(){return typeof document!="undefined"&&typeof document.visibilityState!="undefined"?document.visibilityState!=="hidden":!0}var Kn=function(E){return fetch(E).then(function(R){return R.json()})},lp={isOnline:Js,isDocumentVisible:vu,fetcher:Kn},Qs=new th;function hh(S,E,R,N,q){if(!!R.isDocumentVisible()&&!(typeof R.errorRetryCount=="number"&&q.retryCount>R.errorRetryCount)){var ie=Math.min(q.retryCount||0,8),d=~~((Math.random()+.5)*(1<<ie))*R.errorRetryInterval;setTimeout(N,d,q)}}var Ld=typeof window!="undefined"&&navigator.connection&&["slow-2g","2g"].indexOf(navigator.connection.effectiveType)!==-1,Rh={onLoadingSlow:function(){},onSuccess:function(){},onError:function(){},onErrorRetry:hh,errorRetryInterval:(Ld?10:5)*1e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:(Ld?5:3)*1e3,refreshInterval:0,revalidateOnFocus:!0,revalidateOnReconnect:!0,refreshWhenHidden:!1,refreshWhenOffline:!1,shouldRetryOnError:!0,suspense:!1,compare:fh,fetcher:lp.fetcher,isOnline:lp.isOnline,isDocumentVisible:lp.isDocumentVisible},up=Rh,Dd=Object(F.createContext)({});Dd.displayName="SWRConfigContext";var Sc=Dd,Dv=function(S,E,R,N){function q(ie){return ie instanceof R?ie:new R(function(d){d(ie)})}return new(R||(R=Promise))(function(ie,d){function n(f){try{a(N.next(f))}catch(h){d(h)}}function l(f){try{a(N.throw(f))}catch(h){d(h)}}function a(f){f.done?ie(f.value):q(f.value).then(n,l)}a((N=N.apply(S,E||[])).next())})},cp=function(S,E){var R={label:0,sent:function(){if(ie[0]&1)throw ie[1];return ie[1]},trys:[],ops:[]},N,q,ie,d;return d={next:n(0),throw:n(1),return:n(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function n(a){return function(f){return l([a,f])}}function l(a){if(N)throw new TypeError("Generator is already executing.");for(;R;)try{if(N=1,q&&(ie=a[0]&2?q.return:a[0]?q.throw||((ie=q.return)&&ie.call(q),0):q.next)&&!(ie=ie.call(q,a[1])).done)return ie;switch(q=0,ie&&(a=[a[0]&2,ie.value]),a[0]){case 0:case 1:ie=a;break;case 4:return R.label++,{value:a[1],done:!1};case 5:R.label++,q=a[1],a=[0];continue;case 7:a=R.ops.pop(),R.trys.pop();continue;default:if(ie=R.trys,!(ie=ie.length>0&&ie[ie.length-1])&&(a[0]===6||a[0]===2)){R=0;continue}if(a[0]===3&&(!ie||a[1]>ie[0]&&a[1]<ie[3])){R.label=a[1];break}if(a[0]===6&&R.label<ie[1]){R.label=ie[1],ie=a;break}if(ie&&R.label<ie[2]){R.label=ie[2],R.ops.push(a);break}ie[2]&&R.ops.pop(),R.trys.pop();continue}a=E.call(S,R)}catch(f){a=[6,f],q=0}finally{N=ie=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},Jp=typeof window=="undefined"||!!(typeof Deno!="undefined"&&Deno&&Deno.version&&Deno.version.deno),Gh=Jp?null:window.requestAnimationFrame||function(S){return setTimeout(S,1)},Qp=Jp?F.useEffect:F.useLayoutEffect,Es={},pd={},Lh={},md={},qp={},Fp={},$a={},ov=function(){var S=0;return function(){return++S}}();if(!Jp&&window.addEventListener){var vm=function(E){if(!(!up.isDocumentVisible()||!up.isOnline()))for(var R in E)E[R][0]&&E[R][0]()};window.addEventListener("visibilitychange",function(){return vm(Lh)},!1),window.addEventListener("focus",function(){return vm(Lh)},!1),window.addEventListener("online",function(){return vm(md)},!1)}var jm=function(E,R){R===void 0&&(R=!0);var N=Qs.serializeKey(E),q=N[0],ie=N[2],d=N[3];if(!q)return Promise.resolve();var n=qp[q];if(q&&n){for(var l=Qs.get(q),a=Qs.get(ie),f=Qs.get(d),h=[],y=0;y<n.length;++y)h.push(n[y](R,l,a,f,y>0));return Promise.all(h).then(function(){return Qs.get(q)})}return Promise.resolve(Qs.get(q))},$p=function(E,R,N,q){var ie=qp[E];if(E&&ie)for(var d=0;d<ie.length;++d)ie[d](!1,R,N,q)},mg=function(E,R,N){return N===void 0&&(N=!0),Dv(void 0,void 0,void 0,function(){var q,ie,d,n,l,a,f,h,y,m,C,P,B;return cp(this,function(M){switch(M.label){case 0:if(q=Qs.serializeKey(E),ie=q[0],d=q[2],!ie)return[2];if(typeof R=="undefined")return[2,jm(E,N)];if(Fp[ie]=ov()-1,$a[ie]=0,n=Fp[ie],l=pd[ie],h=!1,R&&typeof R=="function")try{R=R(Qs.get(ie))}catch(T){f=T}if(!(R&&typeof R.then=="function"))return[3,5];h=!0,M.label=1;case 1:return M.trys.push([1,3,,4]),[4,R];case 2:return a=M.sent(),[3,4];case 3:return y=M.sent(),f=y,[3,4];case 4:return[3,6];case 5:a=R,M.label=6;case 6:return m=function(){if(n!==Fp[ie]||l!==pd[ie]){if(f)throw f;return!0}},m()?[2,a]:(typeof a!="undefined"&&Qs.set(ie,a),Qs.set(d,f),$a[ie]=ov()-1,h?[3,8]:[4,0]);case 7:if(M.sent(),m())return[2,a];M.label=8;case 8:if(C=qp[ie],C){for(P=[],B=0;B<C.length;++B)P.push(C[B](!!N,a,f,void 0,B>0));return[2,Promise.all(P).then(function(){if(f)throw f;return Qs.get(ie)})]}if(f)throw f;return[2,a]}})})};function av(){for(var S=this,E=[],R=0;R<arguments.length;R++)E[R]=arguments[R];var N,q,ie={};E.length>=1&&(N=E[0]),E.length>2?(q=E[1],ie=E[2]):typeof E[1]=="function"?q=E[1]:typeof E[1]=="object"&&(ie=E[1]);var d=Qs.serializeKey(N),n=d[0],l=d[1],a=d[2],f=d[3];ie=Object.assign({},up,Object(F.useContext)(Sc),ie);var h=Object(F.useRef)(ie);Qp(function(){h.current=ie}),typeof q=="undefined"&&(q=ie.fetcher);var y=function(){var kt=Qs.get(n);return typeof kt=="undefined"?ie.initialData:kt},m=y(),C=Qs.get(a),P=!!Qs.get(f),B=Object(F.useRef)({data:!1,error:!1,isValidating:!1}),M=Object(F.useRef)({data:m,error:C,isValidating:P});Object(F.useDebugValue)(M.current.data);var T=Object(F.useState)(null)[1],L=Object(F.useCallback)(function(He){var kt=!1;for(var Wt in He)M.current[Wt]!==He[Wt]&&(M.current[Wt]=He[Wt],B.current[Wt]&&(kt=!0));if(kt||ie.suspense){if(z.current||!Z.current)return;T({})}},[]),z=Object(F.useRef)(!1),H=Object(F.useRef)(n),Z=Object(F.useRef)(!1),J=Object(F.useRef)({emit:function(kt){for(var Wt,Dr=[],qr=1;qr<arguments.length;qr++)Dr[qr-1]=arguments[qr];z.current||!Z.current||(Wt=h.current)[kt].apply(Wt,Dr)}}),V=Object(F.useCallback)(function(He,kt){return mg(H.current,He,kt)},[]),ne=function(kt,Wt){!Wt||(kt[n]?kt[n].push(Wt):kt[n]=[Wt])},Ce=function(kt,Wt){if(kt[n]){var Dr=kt[n],qr=Dr.indexOf(Wt);qr>=0&&(Dr[qr]=Dr[Dr.length-1],Dr.pop())}},_e=Object(F.useCallback)(function(He){return He===void 0&&(He={}),Dv(S,void 0,void 0,function(){var kt,Wt,Dr,qr,br,On,Lt,xr;return cp(this,function(kn){switch(kn.label){case 0:if(!n||!q)return[2,!1];if(z.current)return[2,!1];He=Object.assign({dedupe:!1},He),kt=!0,Wt=typeof Es[n]!="undefined"&&He.dedupe,kn.label=1;case 1:return kn.trys.push([1,6,,7]),L({isValidating:!0}),Qs.set(f,!0),Wt||$p(n,M.current.data,M.current.error,!0),Dr=void 0,qr=void 0,Wt?(qr=pd[n],[4,Es[n]]):[3,3];case 2:return Dr=kn.sent(),[3,5];case 3:return ie.loadingTimeout&&!Qs.get(n)&&setTimeout(function(){kt&&J.current.emit("onLoadingSlow",n,ie)},ie.loadingTimeout),l!==null?Es[n]=q.apply(void 0,l):Es[n]=q(n),pd[n]=qr=ov(),[4,Es[n]];case 4:Dr=kn.sent(),setTimeout(function(){delete Es[n],delete pd[n]},ie.dedupingInterval),J.current.emit("onSuccess",Dr,n,ie),kn.label=5;case 5:return br=pd[n]>qr||Fp[n]&&(qr<=Fp[n]||qr<=$a[n]||$a[n]===0),br?(L({isValidating:!1}),[2,!1]):(Qs.set(n,Dr),Qs.set(a,void 0),Qs.set(f,!1),On={isValidating:!1},typeof M.current.error!="undefined"&&(On.error=void 0),ie.compare(M.current.data,Dr)||(On.data=Dr),L(On),Wt||$p(n,Dr,On.error,!1),[3,7]);case 6:return Lt=kn.sent(),delete Es[n],delete pd[n],Qs.set(a,Lt),M.current.error!==Lt&&(L({isValidating:!1,error:Lt}),Wt||$p(n,void 0,Lt,!1)),J.current.emit("onError",Lt,n,ie),ie.shouldRetryOnError&&(xr=(He.retryCount||0)+1,J.current.emit("onErrorRetry",Lt,n,ie,_e,Object.assign({dedupe:!0},He,{retryCount:xr}))),[3,7];case 7:return kt=!1,[2,!0]}})})},[n]);Qp(function(){if(!!n){z.current=!1,Z.current=!0;var He=M.current.data,kt=y();H.current!==n&&(H.current=n),ie.compare(He,kt)||L({data:kt});var Wt=function(){return _e({dedupe:!0})};(ie.revalidateOnMount||!ie.initialData&&ie.revalidateOnMount===void 0)&&(typeof kt!="undefined"?Gh(Wt):Wt());var Dr=!1,qr=function(){Dr||!h.current.revalidateOnFocus||(Dr=!0,Wt(),setTimeout(function(){return Dr=!1},h.current.focusThrottleInterval))},br=function(){h.current.revalidateOnReconnect&&Wt()},On=function(xr,kn,Yn,ci,Rn){xr===void 0&&(xr=!0),Rn===void 0&&(Rn=!0);var Ps={},Qi=!1;return typeof kn!="undefined"&&!ie.compare(M.current.data,kn)&&(Ps.data=kn,Qi=!0),M.current.error!==Yn&&(Ps.error=Yn,Qi=!0),typeof ci!="undefined"&&M.current.isValidating!==ci&&(Ps.isValidating=ci,Qi=!0),Qi&&L(Ps),xr?Rn?Wt():_e():!1};return ne(Lh,qr),ne(md,br),ne(qp,On),function(){L=function(){return null},z.current=!0,Ce(Lh,qr),Ce(md,br),Ce(qp,On)}}},[n,_e]),Qp(function(){var He=null,kt=function Wt(){return Dv(S,void 0,void 0,function(){return cp(this,function(Dr){switch(Dr.label){case 0:return!M.current.error&&(h.current.refreshWhenHidden||h.current.isDocumentVisible())&&(h.current.refreshWhenOffline||h.current.isOnline())?[4,_e({dedupe:!0})]:[3,2];case 1:Dr.sent(),Dr.label=2;case 2:return h.current.refreshInterval&&(He=setTimeout(Wt,h.current.refreshInterval)),[2]}})})};return h.current.refreshInterval&&(He=setTimeout(kt,h.current.refreshInterval)),function(){He&&clearTimeout(He)}},[ie.refreshInterval,ie.refreshWhenHidden,ie.refreshWhenOffline,_e]);var Fe=Object(F.useMemo)(function(){var He={revalidate:_e,mutate:V};return Object.defineProperties(He,{error:{get:function(){return B.current.error=!0,H.current===n?M.current.error:C},enumerable:!0},data:{get:function(){return B.current.data=!0,H.current===n?M.current.data:m},enumerable:!0},isValidating:{get:function(){return B.current.isValidating=!0,n?M.current.isValidating:!1},enumerable:!0}}),He},[_e]);if(ie.suspense){var Ue=Qs.get(n),tt=Qs.get(a);if(typeof Ue=="undefined"&&(Ue=m),typeof tt=="undefined"&&(tt=C),typeof Ue=="undefined"&&typeof tt=="undefined"){if(Es[n]||_e(),Es[n]&&typeof Es[n].then=="function")throw Es[n];Ue=Es[n]}if(typeof Ue=="undefined"&&tt)throw tt;return{error:tt,data:Ue,revalidate:_e,mutate:V,isValidating:M.current.isValidating}}return Fe}var dh=Sc.Provider,sv=av,Bp=function(){return Bp=Object.assign||function(S){for(var E,R=1,N=arguments.length;R<N;R++){E=arguments[R];for(var q in E)Object.prototype.hasOwnProperty.call(E,q)&&(S[q]=E[q])}return S},Bp.apply(this,arguments)},zm=function(S,E,R,N){function q(ie){return ie instanceof R?ie:new R(function(d){d(ie)})}return new(R||(R=Promise))(function(ie,d){function n(f){try{a(N.next(f))}catch(h){d(h)}}function l(f){try{a(N.throw(f))}catch(h){d(h)}}function a(f){f.done?ie(f.value):q(f.value).then(n,l)}a((N=N.apply(S,E||[])).next())})},vg=function(S,E){var R={label:0,sent:function(){if(ie[0]&1)throw ie[1];return ie[1]},trys:[],ops:[]},N,q,ie,d;return d={next:n(0),throw:n(1),return:n(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function n(a){return function(f){return l([a,f])}}function l(a){if(N)throw new TypeError("Generator is already executing.");for(;R;)try{if(N=1,q&&(ie=a[0]&2?q.return:a[0]?q.throw||((ie=q.return)&&ie.call(q),0):q.next)&&!(ie=ie.call(q,a[1])).done)return ie;switch(q=0,ie&&(a=[a[0]&2,ie.value]),a[0]){case 0:case 1:ie=a;break;case 4:return R.label++,{value:a[1],done:!1};case 5:R.label++,q=a[1],a=[0];continue;case 7:a=R.ops.pop(),R.trys.pop();continue;default:if(ie=R.trys,!(ie=ie.length>0&&ie[ie.length-1])&&(a[0]===6||a[0]===2)){R=0;continue}if(a[0]===3&&(!ie||a[1]>ie[0]&&a[1]<ie[3])){R.label=a[1];break}if(a[0]===6&&R.label<ie[1]){R.label=ie[1],ie=a;break}if(ie&&R.label<ie[2]){R.label=ie[2],R.ops.push(a);break}ie[2]&&R.ops.pop(),R.trys.pop();continue}a=E.call(S,R)}catch(f){a=[6,f],q=0}finally{N=ie=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},lv=function(S,E){var R={};for(var N in S)Object.prototype.hasOwnProperty.call(S,N)&&E.indexOf(N)<0&&(R[N]=S[N]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,N=Object.getOwnPropertySymbols(S);q<N.length;q++)E.indexOf(N[q])<0&&Object.prototype.propertyIsEnumerable.call(S,N[q])&&(R[N[q]]=S[N[q]]);return R};function Cf(){for(var S=this,E=[],R=0;R<arguments.length;R++)E[R]=arguments[R];var N,q,ie={};E.length>=1&&(N=E[0]),E.length>2?(q=E[1],ie=E[2]):typeof E[1]=="function"?q=E[1]:typeof E[1]=="object"&&(ie=E[1]),ie=Object.assign({},up,Object(F.useContext)(Sc),ie);var d=ie.initialSize,n=d===void 0?1:d,l=ie.revalidateAll,a=l===void 0?!1:l,f=ie.persistSize,h=f===void 0?!1:f,y=ie.fetcher,m=lv(ie,["initialSize","revalidateAll","persistSize","fetcher"]);typeof q=="undefined"&&(q=y);var C=null;try{C=Qs.serializeKey(N(0,null))[0]}catch(Ce){}var P=Object(F.useState)(!1)[1],B=null;C&&(B="context@"+C);var M=null,T;C&&(M="size@"+C,T=Qs.get(M));var L=Object(F.useRef)(T||n),z=Object(F.useRef)(!1);Object(F.useEffect)(function(){z.current?h||(L.current=n):z.current=!0},[C]);var H=sv(C?["many",C]:null,function(){return zm(S,void 0,void 0,function(){var Ce,_e,Fe,Ue,tt,He,kt,Wt,Dr,qr,br;return vg(this,function(On){switch(On.label){case 0:Ce=Qs.get(B)||{},_e=Ce.originalData,Fe=Ce.force,Ue=[],tt=null,He=0,On.label=1;case 1:return He<L.current?(kt=Qs.serializeKey(N(He,tt)),Wt=kt[0],Dr=kt[1],Wt?(qr=Qs.get(Wt),br=a||Fe||typeof Fe=="undefined"&&He===0||_e&&!ie.compare(_e[He],qr)||typeof qr=="undefined",br?Dr===null?[3,3]:[4,q.apply(void 0,Dr)]:[3,6]):[3,8]):[3,8];case 2:return qr=On.sent(),[3,5];case 3:return[4,q(Wt)];case 4:qr=On.sent(),On.label=5;case 5:Qs.set(Wt,qr),On.label=6;case 6:Ue.push(qr),tt=qr,On.label=7;case 7:return++He,[3,1];case 8:return Qs.delete(B),[2,Ue]}})})},m),Z=Object(F.useRef)(H.data);Object(F.useEffect)(function(){Z.current=H.data},[H.data]);var J=Object(F.useCallback)(function(Ce,_e){if(_e===void 0&&(_e=!0),_e&&typeof Ce!="undefined"){var Fe=Z.current;Qs.set(B,{originalData:Fe,force:!1})}else _e&&Qs.set(B,{force:!0});return H.mutate(Ce,_e)},[H.mutate,B]),V=L.current,ne=Object(F.useCallback)(function(Ce){return typeof Ce=="function"?L.current=Ce(L.current):typeof Ce=="number"&&(L.current=Ce),Qs.set(M,L.current),P(function(_e){return!_e}),J(function(_e){return _e})},[J,M]);return Bp(Bp({},H),{mutate:J,size:V,setSize:ne})}var Df=sv,af=U("OaEy"),em=U("2fM7"),rp=U("l+S1"),tm=U("jkmW");function gm(){return gm=Object.assign||function(S){for(var E=1;E<arguments.length;E++){var R=arguments[E];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(S[N]=R[N])}return S},gm.apply(this,arguments)}function ph(S,E,R){return E in S?Object.defineProperty(S,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[E]=R,S}function jp(S,E){return Nv(S)||Nd(S,E)||Ep(S,E)||uv()}function uv(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ep(S,E){if(!!S){if(typeof S=="string")return ym(S,E);var R=Object.prototype.toString.call(S).slice(8,-1);if(R==="Object"&&S.constructor&&(R=S.constructor.name),R==="Map"||R==="Set")return Array.from(S);if(R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return ym(S,E)}}function ym(S,E){(E==null||E>S.length)&&(E=S.length);for(var R=0,N=new Array(E);R<E;R++)N[R]=S[R];return N}function Nd(S,E){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(S)))){var R=[],N=!0,q=!1,ie=void 0;try{for(var d=S[Symbol.iterator](),n;!(N=(n=d.next()).done)&&(R.push(n.value),!(E&&R.length===E));N=!0);}catch(l){q=!0,ie=l}finally{try{!N&&d.return!=null&&d.return()}finally{if(q)throw ie}}return R}}function Nv(S){if(Array.isArray(S))return S}function Um(S,E){if(S==null)return{};var R=cv(S,E),N,q;if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(S);for(q=0;q<ie.length;q++)N=ie[q],!(E.indexOf(N)>=0)&&(!Object.prototype.propertyIsEnumerable.call(S,N)||(R[N]=S[N]))}return R}function cv(S,E){if(S==null)return{};var R={},N=Object.keys(S),q,ie;for(ie=0;ie<N.length;ie++)q=N[ie],!(E.indexOf(q)>=0)&&(R[q]=S[q]);return R}function xm(S){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xm=function(R){return typeof R}:xm=function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},xm(S)}var km=function(E,R){return xm(R)!=="object"?E[R]||R:E[R==null?void 0:R.value]||R.label},fv=function(E,R){var N=E.label,q=E.prefixCls,ie=E.onChange,d=E.value,n=E.mode,l=E.children,a=E.defaultValue,f=E.size,h=E.showSearch,y=E.disabled,m=E.style,C=E.className,P=E.bordered,B=E.options,M=E.onSearch,T=E.allowClear,L=E.labelInValue,z=Um(E,["label","prefixCls","onChange","value","mode","children","defaultValue","size","showSearch","disabled","style","className","bordered","options","onSearch","allowClear","labelInValue"]),H=E.placeholder,Z=H===void 0?N:H,J=Object(F.useContext)(bt.b.ConfigContext),V=J.getPrefixCls,ne=V("pro-field-select-light-select"),Ce=Object(F.useState)(!1),_e=jp(Ce,2),Fe=_e[0],Ue=_e[1],tt=Object(F.useState)(""),He=jp(tt,2),kt=He[0],Wt=He[1],Dr=Object(F.useMemo)(function(){var br={};return B==null||B.forEach(function(On){var Lt=On.label,xr=On.value;br[xr]=Lt||xr}),br},[B]),qr=Array.isArray(d)?d.map(function(br){return km(Dr,br)}):km(Dr,d);return K.a.createElement("div",{className:qe()(ne,ph({},"".concat(ne,"-searchable"),h),C),style:m,onClick:function(){y||Ue(!0)}},K.a.createElement(em.a,gm({},z,{allowClear:T,value:d,mode:n,labelInValue:L,size:f,disabled:y,onChange:function(On,Lt){ie&&ie(On,Lt),n!=="multiple"&&setTimeout(function(){Ue(!1)},0)},bordered:P,showSearch:h,onSearch:M,style:m,dropdownRender:function(On){return K.a.createElement("div",{ref:R},h&&K.a.createElement("div",{style:{margin:"4px 8px"}},K.a.createElement(io.a,{value:kt,allowClear:T,onChange:function(xr){Wt(xr.target.value.toLowerCase()),M==null||M(xr.target.value)},onKeyDown:function(xr){xr.stopPropagation()},style:{width:"100%"},prefix:K.a.createElement(rp.a,null)})),On)},open:Fe,onDropdownVisibleChange:Ue,prefixCls:q,options:kt?B==null?void 0:B.filter(function(br){return String(br.label).toLowerCase().includes(kt)||br.value.toLowerCase().includes(kt)}):B})),K.a.createElement(Xf.a,{ellipsis:!0,size:f,label:N,placeholder:Z,disabled:y,expanded:Fe,bordered:P,allowClear:T,value:qr||(d==null?void 0:d.label)||d,onClear:function(){ie==null||ie(void 0,void 0)}}))},hv=K.a.forwardRef(fv);function Hm(){return Hm=Object.assign||function(S){for(var E=1;E<arguments.length;E++){var R=arguments[E];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(S[N]=R[N])}return S},Hm.apply(this,arguments)}function vd(S,E){var R=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);E&&(N=N.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),R.push.apply(R,N)}return R}function rm(S){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?vd(Object(R),!0).forEach(function(N){nm(S,N,R[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(R)):vd(Object(R)).forEach(function(N){Object.defineProperty(S,N,Object.getOwnPropertyDescriptor(R,N))})}return S}function nm(S,E,R){return E in S?Object.defineProperty(S,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[E]=R,S}function mh(S,E){if(S==null)return{};var R=np(S,E),N,q;if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(S);for(q=0;q<ie.length;q++)N=ie[q],!(E.indexOf(N)>=0)&&(!Object.prototype.propertyIsEnumerable.call(S,N)||(R[N]=S[N]))}return R}function np(S,E){if(S==null)return{};var R={},N=Object.keys(S),q,ie;for(ie=0;ie<N.length;ie++)q=N[ie],!(E.indexOf(q)>=0)&&(R[q]=S[q]);return R}var Vm=em.a.Option,Fv=function(E,R){var N=E.optionItemRender,q=E.mode,ie=E.onSearch,d=E.onFocus,n=E.onChange,l=E.searchOnFocus,a=l===void 0?!1:l,f=E.resetAfterSelect,h=f===void 0?!1:f,y=E.className,m=E.disabled,C=E.options,P=E.fetchData,B=E.resetData,M=E.dropdownMatchSelectWidth,T=M===void 0?!1:M,L=E.prefixCls,z=mh(E,["optionItemRender","mode","onSearch","onFocus","onChange","searchOnFocus","resetAfterSelect","className","disabled","options","fetchData","resetData","dropdownMatchSelectWidth","prefixCls"]),H=Object(F.useContext)(bt.b.ConfigContext),Z=H.getPrefixCls,J=Z("pro-filed-search-select",L),V=qe()(J,y,nm({},"".concat(J,"-disabled"),m)),ne=function(_e,Fe){if(q==="multiple"&&Array.isArray(_e)&&_e.length>0)return _e.map(function(tt,He){var kt=Fe==null?void 0:Fe[He],Wt=(kt==null?void 0:kt["data-item"])||{};return rm(rm({},Wt),tt)});var Ue=Fe&&Fe["data-item"]||{};return rm(rm({},Ue),_e)};return K.a.createElement(em.a,Hm({ref:R,className:V,showArrow:!1,autoClearSearchValue:!0,filterOption:!1,allowClear:!0,dropdownMatchSelectWidth:T,disabled:m,mode:q},z,{optionLabelProp:"label",onSearch:(z==null?void 0:z.showSearch)?function(Ce){P(Ce),ie==null||ie(Ce)}:void 0,onChange:function(_e,Fe){if(!E.labelInValue){n==null||n(_e);return}var Ue=ne(_e,Fe);n==null||n(Ue),h&&B()},onFocus:function(_e){a&&P(""),d==null||d(_e)}}),(C||[]).map(function(Ce){var _e=Ce.label,Fe=Ce.value;return K.a.createElement(Vm,{value:Fe,key:Fe,"data-item":Ce,className:"".concat(J,"-option"),label:Ce.label},(N==null?void 0:N(Ce))||_e)}))},fp=K.a.forwardRef(Fv),zp=U("PQMj"),Fd=U("8XRh"),dv=U("0n0R");function im(S){var E=S.prefixCls,R=S.value,N=S.current,q=S.offset,ie=q===void 0?0:q,d;return ie&&(d={position:"absolute",top:"".concat(ie,"00%"),left:0}),F.createElement("p",{style:d,className:qe()("".concat(E,"-only-unit"),{current:N})},R)}function Cm(S,E,R){for(var N=S,q=0;(N+10)%10!==E;)N+=R,q+=R;return q}function es(S){var E=S.prefixCls,R=S.count,N=S.value,q=Number(N),ie=Math.abs(R),d=F.useState(q),n=Object(jt.a)(d,2),l=n[0],a=n[1],f=F.useState(ie),h=Object(jt.a)(f,2),y=h[0],m=h[1],C=function(){a(q),m(ie)};F.useEffect(function(){var Z=setTimeout(function(){C()},1e3);return function(){clearTimeout(Z)}},[q]);var P,B;if(l===q||Number.isNaN(q)||Number.isNaN(l))P=[F.createElement(im,Object(cr.a)({},S,{key:q,current:!0}))],B={transition:"none"};else{P=[];for(var M=q+10,T=[],L=q;L<=M;L+=1)T.push(L);var z=T.findIndex(function(Z){return Z%10===l});P=T.map(function(Z,J){var V=Z%10;return F.createElement(im,Object(cr.a)({},S,{key:Z,value:V,offset:J-z,current:J===z}))});var H=y<ie?1:-1;B={transform:"translateY(".concat(-Cm(l,q,H),"00%)")}}return F.createElement("span",{className:"".concat(E,"-only"),style:B,onTransitionEnd:C},P)}var om=function(S,E){var R={};for(var N in S)Object.prototype.hasOwnProperty.call(S,N)&&E.indexOf(N)<0&&(R[N]=S[N]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,N=Object.getOwnPropertySymbols(S);q<N.length;q++)E.indexOf(N[q])<0&&Object.prototype.propertyIsEnumerable.call(S,N[q])&&(R[N[q]]=S[N[q]]);return R},Jo=function(E){var R=E.prefixCls,N=E.count,q=E.className,ie=E.motionClassName,d=E.style,n=E.title,l=E.show,a=E.component,f=a===void 0?"sup":a,h=E.children,y=om(E,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),m=F.useContext(zu.b),C=m.getPrefixCls,P=C("scroll-number",R),B=Object(cr.a)(Object(cr.a)({},y),{"data-show":l,style:d,className:qe()(P,q,ie),title:n}),M=N;if(N&&Number(N)%1==0){var T=String(N).split("");M=T.map(function(L,z){return F.createElement(es,{prefixCls:P,count:Number(N),value:L,key:T.length-z})})}return d&&d.borderColor&&(B.style=Object(cr.a)(Object(cr.a)({},d),{boxShadow:"0 0 0 1px ".concat(d.borderColor," inset")})),h?Object(dv.a)(h,function(L){return{className:qe()("".concat(P,"-custom-component"),L==null?void 0:L.className,ie)}}):F.createElement(f,B,M)},Am=Jo,gu=U("09Wf");function Qu(S){return gu.a.indexOf(S)!==-1}var Up=function(E){var R,N=E.className,q=E.prefixCls,ie=E.style,d=E.color,n=E.children,l=E.text,a=E.placement,f=a===void 0?"end":a,h=F.useContext(zu.b),y=h.getPrefixCls,m=h.direction,C=y("ribbon",q),P=Qu(d),B=qe()(C,"".concat(C,"-placement-").concat(f),(R={},Object(un.a)(R,"".concat(C,"-rtl"),m==="rtl"),Object(un.a)(R,"".concat(C,"-color-").concat(d),P),R),N),M={},T={};return d&&!P&&(M.background=d,T.color=d),F.createElement("div",{className:"".concat(C,"-wrapper")},n,F.createElement("div",{className:B,style:Object(cr.a)(Object(cr.a)({},M),ie)},F.createElement("span",{className:"".concat(C,"-text")},l),F.createElement("div",{className:"".concat(C,"-corner"),style:T})))},wm=Up,bm=function(S,E){var R={};for(var N in S)Object.prototype.hasOwnProperty.call(S,N)&&E.indexOf(N)<0&&(R[N]=S[N]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,N=Object.getOwnPropertySymbols(S);q<N.length;q++)E.indexOf(N[q])<0&&Object.prototype.propertyIsEnumerable.call(S,N[q])&&(R[N[q]]=S[N[q]]);return R},Tp=function(E){var R,N,q=E.prefixCls,ie=E.scrollNumberPrefixCls,d=E.children,n=E.status,l=E.text,a=E.color,f=E.count,h=f===void 0?null:f,y=E.overflowCount,m=y===void 0?99:y,C=E.dot,P=C===void 0?!1:C,B=E.size,M=B===void 0?"default":B,T=E.title,L=E.offset,z=E.style,H=E.className,Z=E.showZero,J=Z===void 0?!1:Z,V=bm(E,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","showZero"]),ne=F.useContext(zu.b),Ce=ne.getPrefixCls,_e=ne.direction,Fe=Ce("badge",q),Ue=h>m?"".concat(m,"+"):h,tt=n!=null||a!=null,He=Ue==="0"||Ue===0,kt=P&&!He||tt,Wt=kt?"":Ue,Dr=Object(F.useMemo)(function(){var za=Wt==null||Wt==="";return(za||He&&!J)&&!kt},[Wt,He,J,kt]),qr=Object(F.useRef)(h);Dr||(qr.current=h);var br=qr.current,On=Object(F.useRef)(Wt);Dr||(On.current=Wt);var Lt=On.current,xr=Object(F.useRef)(kt);Dr||(xr.current=kt);var kn=Object(F.useMemo)(function(){if(!L)return Object(cr.a)({},z);var za={marginTop:L[1]};return _e==="rtl"?za.left=parseInt(L[0],10):za.right=-parseInt(L[0],10),Object(cr.a)(Object(cr.a)({},za),z)},[_e,L,z]),Yn=T!=null?T:typeof br=="string"||typeof br=="number"?br:void 0,ci=Dr||!l?null:F.createElement("span",{className:"".concat(Fe,"-status-text")},l),Rn=!br||Object(Vn.a)(br)!=="object"?void 0:Object(dv.a)(br,function(za){return{style:Object(cr.a)(Object(cr.a)({},kn),za.style)}}),Ps=qe()((R={},Object(un.a)(R,"".concat(Fe,"-status-dot"),tt),Object(un.a)(R,"".concat(Fe,"-status-").concat(n),!!n),Object(un.a)(R,"".concat(Fe,"-status-").concat(a),Qu(a)),R)),Qi={};a&&!Qu(a)&&(Qi.background=a);var Ga=qe()(Fe,(N={},Object(un.a)(N,"".concat(Fe,"-status"),tt),Object(un.a)(N,"".concat(Fe,"-not-a-wrapper"),!d),Object(un.a)(N,"".concat(Fe,"-rtl"),_e==="rtl"),N),H);if(!d&&tt){var wl=kn.color;return F.createElement("span",Object(cr.a)({},V,{className:Ga,style:kn}),F.createElement("span",{className:Ps,style:Qi}),F.createElement("span",{style:{color:wl},className:"".concat(Fe,"-status-text")},l))}return F.createElement("span",Object(cr.a)({},V,{className:Ga}),d,F.createElement(Fd.b,{visible:!Dr,motionName:"".concat(Fe,"-zoom"),motionAppear:!1},function(za){var qu,$u=za.className,ru=Ce("scroll-number",ie),Au=xr.current,Bf=qe()((qu={},Object(un.a)(qu,"".concat(Fe,"-dot"),Au),Object(un.a)(qu,"".concat(Fe,"-count"),!Au),Object(un.a)(qu,"".concat(Fe,"-count-sm"),M==="small"),Object(un.a)(qu,"".concat(Fe,"-multiple-words"),!Au&&Lt&&(Lt==null?void 0:Lt.toString().length)>1),Object(un.a)(qu,"".concat(Fe,"-status-").concat(n),!!n),Object(un.a)(qu,"".concat(Fe,"-status-").concat(a),Qu(a)),qu)),xc=Object(cr.a)({},kn);return a&&!Qu(a)&&(xc=xc||{},xc.background=a),F.createElement(Am,{prefixCls:ru,show:!Dr,motionClassName:$u,className:Bf,count:Lt,title:Yn,style:xc,key:"scrollNumber"},Rn)}),ci)};Tp.Ribbon=wm;var Bd=Tp,Ug=U("B+1O"),ee={Success:function(E){var R=E.children;return K.a.createElement(Bd,{status:"success",text:R})},Error:function(E){var R=E.children;return K.a.createElement(Bd,{status:"error",text:R})},Default:function(E){var R=E.children;return K.a.createElement(Bd,{status:"default",text:R})},Processing:function(E){var R=E.children;return K.a.createElement(Bd,{status:"processing",text:R})},Warning:function(E){var R=E.children;return K.a.createElement(Bd,{status:"warning",text:R})},success:function(E){var R=E.children;return K.a.createElement(Bd,{status:"success",text:R})},error:function(E){var R=E.children;return K.a.createElement(Bd,{status:"error",text:R})},default:function(E){var R=E.children;return K.a.createElement(Bd,{status:"default",text:R})},processing:function(E){var R=E.children;return K.a.createElement(Bd,{status:"processing",text:R})},warning:function(E){var R=E.children;return K.a.createElement(Bd,{status:"warning",text:R})}},le=function(E){var R=E.color,N=E.children;return K.a.createElement(Bd,{color:R,text:N})},fe=ee;function re(){return re=Object.assign||function(S){for(var E=1;E<arguments.length;E++){var R=arguments[E];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(S[N]=R[N])}return S},re.apply(this,arguments)}function Q(S,E,R,N,q,ie,d){try{var n=S[ie](d),l=n.value}catch(a){R(a);return}n.done?E(l):Promise.resolve(l).then(N,q)}function pe(S){return function(){var E=this,R=arguments;return new Promise(function(N,q){var ie=S.apply(E,R);function d(l){Q(ie,N,q,d,n,"next",l)}function n(l){Q(ie,N,q,d,n,"throw",l)}d(void 0)})}}function ye(S,E){var R=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);E&&(N=N.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),R.push.apply(R,N)}return R}function Te(S){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?ye(Object(R),!0).forEach(function(N){Be(S,N,R[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(R)):ye(Object(R)).forEach(function(N){Object.defineProperty(S,N,Object.getOwnPropertyDescriptor(R,N))})}return S}function Be(S,E,R){return E in S?Object.defineProperty(S,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[E]=R,S}function Ke(S,E){if(S==null)return{};var R=lt(S,E),N,q;if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(S);for(q=0;q<ie.length;q++)N=ie[q],!(E.indexOf(N)>=0)&&(!Object.prototype.propertyIsEnumerable.call(S,N)||(R[N]=S[N]))}return R}function lt(S,E){if(S==null)return{};var R={},N=Object.keys(S),q,ie;for(ie=0;ie<N.length;ie++)q=N[ie],!(E.indexOf(q)>=0)&&(R[q]=S[q]);return R}function ot(S,E){return sr(S)||Ft(S,E)||Vt(S,E)||Tt()}function Tt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ft(S,E){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(S)))){var R=[],N=!0,q=!1,ie=void 0;try{for(var d=S[Symbol.iterator](),n;!(N=(n=d.next()).done)&&(R.push(n.value),!(E&&R.length===E));N=!0);}catch(l){q=!0,ie=l}finally{try{!N&&d.return!=null&&d.return()}finally{if(q)throw ie}}return R}}function sr(S){if(Array.isArray(S))return S}function ur(S){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ur=function(R){return typeof R}:ur=function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},ur(S)}function tr(S){return Bn(S)||Qr(S)||Vt(S)||$t()}function $t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vt(S,E){if(!!S){if(typeof S=="string")return wr(S,E);var R=Object.prototype.toString.call(S).slice(8,-1);if(R==="Object"&&S.constructor&&(R=S.constructor.name),R==="Map"||R==="Set")return Array.from(S);if(R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return wr(S,E)}}function Qr(S){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(S))return Array.from(S)}function Bn(S){if(Array.isArray(S))return wr(S)}function wr(S,E){(E==null||E>S.length)&&(E=S.length);for(var R=0,N=new Array(E);R<E;R++)N[R]=S[R];return N}var on=0,jn=function(E){return Sn(E)==="map"?E:new Map(Object.entries(E||{}))},fn=function S(E,R){if(Array.isArray(E))return K.a.createElement(_a.b,null,E.map(function(l){return K.a.createElement(K.a.Fragment,{key:(l==null?void 0:l.value)||l},S(l,R))}));var N=jn(R);if(!N.has(E)&&!N.has("".concat(E)))return(E==null?void 0:E.label)||E;var q=N.get(E)||N.get("".concat(E));if(!q)return(E==null?void 0:E.label)||E;var ie=q.status,d=q.color,n=fe[ie||"Init"];return n?K.a.createElement(n,null,q.text):d?K.a.createElement(le,{color:d},q.text):q.text||q},zr=function(E){var R=E.label,N=E.words,q=new RegExp(N.join("|"),"g"),ie=R.replace(q,"#@$&#"),d=ie.split("#").map(function(n){return n[0]==="@"?K.a.createElement("span",{style:{color:"#1890ff"}},n.slice(1)):n});return K.a.createElement.apply(K.a,["div",null].concat(tr(d)))};function Sn(S){var E=Object.prototype.toString.call(S).match(/^\[object (.*)\]$/)[1].toLowerCase();return E==="string"&&ur(S)==="object"?"object":S===null?"null":S===void 0?"undefined":E}var xi=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Map,R=[],N=jn(E);return N.forEach(function(q,ie){var d=N.get(ie)||N.get("".concat(ie));if(!!d){if(ur(d)==="object"&&(d==null?void 0:d.text)){R.push({text:d==null?void 0:d.text,value:ie,disabled:d.disabled});return}R.push({text:d,value:ie})}}),R},mo=function(E){var R,N=Object(F.useState)(void 0),q=ot(N,2),ie=q[0],d=q[1],n=Object(F.useState)(function(){return E.proFieldKey?E.proFieldKey:E.request?(on+=1,on):"no-fetch"}),l=ot(n,1),a=l[0],f=Object(F.useRef)(a),h=Object(F.useCallback)(function(ne){return xi(jn(ne)).map(function(Ce){var _e=Ce.value,Fe=Ce.text,Ue=Ke(Ce,["value","text"]);return Te({label:Fe,value:_e,key:_e},Ue)})},[]),y=Object(gr.a)(function(){return E.valueEnum?h(E.valueEnum):[]},{value:(R=E.fieldProps)===null||R===void 0?void 0:R.options}),m=ot(y,2),C=m[0],P=m[1];Object(sp.a)(function(){var ne;!E.valueEnum||((ne=E.fieldProps)===null||ne===void 0?void 0:ne.options)||P(h(E.valueEnum))},[E.valueEnum]);var B=Object(F.useState)(!1),M=ot(B,2),T=M[0],L=M[1],z=function(){var ne=pe(Co.a.mark(function Ce(){var _e;return Co.a.wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:if(E.request){Ue.next=2;break}return Ue.abrupt("return",[]);case 2:return L(!0),Ue.next=5,E.request(Te(Te({},E.params),{},{keyWords:ie}),E);case 5:return _e=Ue.sent,L(!1),Ue.abrupt("return",_e);case 8:case"end":return Ue.stop()}},Ce)}));return function(){return ne.apply(this,arguments)}}(),H=Df([f.current,JSON.stringify(E.params)],z,{revalidateOnFocus:!1}),Z=H.data,J=H.mutate,V=Ru(pe(Co.a.mark(function ne(){return Co.a.wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:J(z,!1);case 1:case"end":return _e.stop()}},ne)})),[],200);return[T,E.request?Z:C==null?void 0:C.filter(function(ne){var Ce;return!!(!ie||(ne==null||(Ce=ne.label)===null||Ce===void 0?void 0:Ce.toString().includes(ie))||ne.value.toString().includes(ie))}),function(ne){d(ne),V.run()},function(){d(void 0),J(pe(Co.a.mark(function ne(){return Co.a.wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return _e.abrupt("return",[]);case 1:case"end":return _e.stop()}},ne)})),!1)}]},yi=function(E,R){var N=E.mode,q=E.valueEnum,ie=E.render,d=E.renderFormItem,n=E.request,l=E.fieldProps,a=E.plain,f=E.children,h=E.light,y=E.proFieldKey,m=Ke(E,["mode","valueEnum","render","renderFormItem","request","fieldProps","plain","children","light","proFieldKey"]),C=Object(F.useRef)(),P=Object(we.c)(),B=Object(F.useRef)("");Object(F.useEffect)(function(){on+=1},[]);var M=mo(E),T=ot(M,4),L=T[0],z=T[1],H=T[2],Z=T[3],J=Object(F.useContext)(bt.b.SizeContext);if(Object(F.useImperativeHandle)(R,function(){return Te(Te({},C.current||{}),{},{fetchData:function(){return H()}})}),N==="read"){var V,ne=(z==null?void 0:z.length)?z==null?void 0:z.reduce(function(tt,He){return Te(Te({},tt),{},Be({},He.value,He.label))},{}):void 0;if((V=m.text)===null||V===void 0?void 0:V.label){var Ce;return(Ce=m.text)===null||Ce===void 0?void 0:Ce.label}var _e=K.a.createElement(K.a.Fragment,null,fn(m.text,jn(q||ne)));return ie?ie(m.text,Te({mode:N},l),_e)||null:_e}if(N==="edit"||N==="update"){var Fe=function(){return h?K.a.createElement(hv,re({loading:L,ref:C,allowClear:!0,size:J},m,{options:z},l)):K.a.createElement(fp,re({key:"SearchSelect",style:{minWidth:100},loading:L,ref:C,allowClear:!0,notFoundContent:L?K.a.createElement(mu.a,{size:"small"}):l==null?void 0:l.notFoundContent,fetchData:function(kt){B.current=kt,H(kt)},resetData:Z,optionItemRender:function(kt){return typeof kt.label=="string"&&B.current?K.a.createElement(zr,{label:kt.label,words:[B.current]}):kt.label}},m,{placeholder:P.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9")},l,{options:z}))},Ue=Fe();return d?d(m.text,Te(Te({mode:N},l),{},{options:z}),Ue)||null:Ue}return null},Ci=K.a.forwardRef(yi),aa=U("sRBo"),ds=U("kaz8"),xa=U("PdkY");function ts(){return ts=Object.assign||function(S){for(var E=1;E<arguments.length;E++){var R=arguments[E];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(S[N]=R[N])}return S},ts.apply(this,arguments)}function Ts(S,E){var R=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);E&&(N=N.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),R.push.apply(R,N)}return R}function ys(S){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?Ts(Object(R),!0).forEach(function(N){Wa(S,N,R[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(R)):Ts(Object(R)).forEach(function(N){Object.defineProperty(S,N,Object.getOwnPropertyDescriptor(R,N))})}return S}function Wa(S,E,R){return E in S?Object.defineProperty(S,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[E]=R,S}function ps(S,E){return _s(S)||na(S,E)||qs(S,E)||Hs()}function Hs(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qs(S,E){if(!!S){if(typeof S=="string")return rl(S,E);var R=Object.prototype.toString.call(S).slice(8,-1);if(R==="Object"&&S.constructor&&(R=S.constructor.name),R==="Map"||R==="Set")return Array.from(S);if(R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return rl(S,E)}}function rl(S,E){(E==null||E>S.length)&&(E=S.length);for(var R=0,N=new Array(E);R<E;R++)N[R]=S[R];return N}function na(S,E){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(S)))){var R=[],N=!0,q=!1,ie=void 0;try{for(var d=S[Symbol.iterator](),n;!(N=(n=d.next()).done)&&(R.push(n.value),!(E&&R.length===E));N=!0);}catch(l){q=!0,ie=l}finally{try{!N&&d.return!=null&&d.return()}finally{if(q)throw ie}}return R}}function _s(S){if(Array.isArray(S))return S}function Fl(S,E){if(S==null)return{};var R=Tl(S,E),N,q;if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(S);for(q=0;q<ie.length;q++)N=ie[q],!(E.indexOf(N)>=0)&&(!Object.prototype.propertyIsEnumerable.call(S,N)||(R[N]=S[N]))}return R}function Tl(S,E){if(S==null)return{};var R={},N=Object.keys(S),q,ie;for(ie=0;ie<N.length;ie++)q=N[ie],!(E.indexOf(q)>=0)&&(R[q]=S[q]);return R}var kl=function(E,R){var N=E.layout,q=N===void 0?"horizontal":N,ie=E.renderFormItem,d=E.mode,n=E.render,l=Fl(E,["layout","renderFormItem","mode","render"]),a=Object(F.useContext)(bt.b.ConfigContext),f=a.getPrefixCls,h=f("pro-field-checkbox"),y=mo(l),m=ps(y,3),C=m[0],P=m[1],B=m[2],M=Object(F.useRef)();if(Object(F.useImperativeHandle)(R,function(){return ys(ys({},M.current||{}),{},{fetchData:function(){return B()}})}),C)return K.a.createElement(mu.a,{size:"small"});if(d==="read"){var T=(P==null?void 0:P.length)?P==null?void 0:P.reduce(function(Z,J){return ys(ys({},Z),{},Wa({},J.value,J.label))},{}):void 0,L=fn(l.text,jn(l.valueEnum||T));return n?n(l.text,ys({mode:d},l.fieldProps),K.a.createElement(K.a.Fragment,null,L))||null:K.a.createElement(_a.b,null,L)}if(d==="edit"){var z,H=K.a.createElement(ds.a.Group,ts({},l.fieldProps,{className:qe()((z=l.fieldProps)===null||z===void 0?void 0:z.className,"".concat(h,"-").concat(q)),options:P==null?void 0:P.map(function(Z){return typeof Z=="string"?{key:Z,label:Z,value:Z}:Z})}));return ie?ie(l.text,ys({mode:d},l.fieldProps),H)||null:H}return null},sa=K.a.forwardRef(kl),Vs=U("xzDV"),nl=U("m+aA");function yu(S){var E=S.pageXOffset,R="scrollLeft";if(typeof E!="number"){var N=S.document;E=N.documentElement[R],typeof E!="number"&&(E=N.body[R])}return E}function il(S){var E,R,N=S.ownerDocument,q=N.body,ie=N&&N.documentElement,d=S.getBoundingClientRect();return E=d.left,R=d.top,E-=ie.clientLeft||q.clientLeft||0,R-=ie.clientTop||q.clientTop||0,{left:E,top:R}}function Qo(S){var E=il(S),R=S.ownerDocument,N=R.defaultView||R.parentWindow;return E.left+=yu(N),E.left}var xu=function(S){Object(Gr.a)(R,S);var E=Object(Yl.a)(R);function R(){var N;return Object(ko.a)(this,R),N=E.apply(this,arguments),N.onHover=function(q){var ie=N.props,d=ie.onHover,n=ie.index;d(q,n)},N.onClick=function(q){var ie=N.props,d=ie.onClick,n=ie.index;d(q,n)},N.onKeyDown=function(q){var ie=N.props,d=ie.onClick,n=ie.index;q.keyCode===13&&d(q,n)},N}return Object(ss.a)(R,[{key:"getClassName",value:function(){var q=this.props,ie=q.prefixCls,d=q.index,n=q.value,l=q.allowHalf,a=q.focused,f=d+1,h=ie;return n===0&&d===0&&a?h+=" ".concat(ie,"-focused"):l&&n+.5>=f&&n<f?(h+=" ".concat(ie,"-half ").concat(ie,"-active"),a&&(h+=" ".concat(ie,"-focused"))):(h+=f<=n?" ".concat(ie,"-full"):" ".concat(ie,"-zero"),f===n&&a&&(h+=" ".concat(ie,"-focused"))),h}},{key:"render",value:function(){var q=this.onHover,ie=this.onClick,d=this.onKeyDown,n=this.props,l=n.disabled,a=n.prefixCls,f=n.character,h=n.characterRender,y=n.index,m=n.count,C=n.value,P=typeof f=="function"?f(this.props):f,B=K.a.createElement("li",{className:this.getClassName()},K.a.createElement("div",{onClick:l?null:ie,onKeyDown:l?null:d,onMouseMove:l?null:q,role:"radio","aria-checked":C>y?"true":"false","aria-posinset":y+1,"aria-setsize":m,tabIndex:l?-1:0},K.a.createElement("div",{className:"".concat(a,"-first")},P),K.a.createElement("div",{className:"".concat(a,"-second")},P)));return h&&(B=h(B,this.props)),B}}]),R}(K.a.Component);function Ao(){}var No=function(S){Object(Gr.a)(R,S);var E=Object(Yl.a)(R);function R(N){var q;Object(ko.a)(this,R),q=E.call(this,N),q.onHover=function(d,n){var l=q.props.onHoverChange,a=q.getStarValue(n,d.pageX),f=q.state.cleanedValue;a!==f&&q.setState({hoverValue:a,cleanedValue:null}),l(a)},q.onMouseLeave=function(){var d=q.props.onHoverChange;q.setState({hoverValue:void 0,cleanedValue:null}),d(void 0)},q.onClick=function(d,n){var l=q.props.allowClear,a=q.state.value,f=q.getStarValue(n,d.pageX),h=!1;l&&(h=f===a),q.onMouseLeave(),q.changeValue(h?0:f),q.setState({cleanedValue:h?f:null})},q.onFocus=function(){var d=q.props.onFocus;q.setState({focused:!0}),d&&d()},q.onBlur=function(){var d=q.props.onBlur;q.setState({focused:!1}),d&&d()},q.onKeyDown=function(d){var n=d.keyCode,l=q.props,a=l.count,f=l.allowHalf,h=l.onKeyDown,y=l.direction,m=y==="rtl",C=q.state.value;n===_n.a.RIGHT&&C<a&&!m?(f?C+=.5:C+=1,q.changeValue(C),d.preventDefault()):n===_n.a.LEFT&&C>0&&!m||n===_n.a.RIGHT&&C>0&&m?(f?C-=.5:C-=1,q.changeValue(C),d.preventDefault()):n===_n.a.LEFT&&C<a&&m&&(f?C+=.5:C+=1,q.changeValue(C),d.preventDefault()),h&&h(d)},q.saveRef=function(d){return function(n){q.stars[d]=n}},q.saveRate=function(d){q.rate=d};var ie=N.value;return ie===void 0&&(ie=N.defaultValue),q.stars={},q.state={value:ie,focused:!1,cleanedValue:null},q}return Object(ss.a)(R,[{key:"componentDidMount",value:function(){var q=this.props,ie=q.autoFocus,d=q.disabled;ie&&!d&&this.focus()}},{key:"getStarDOM",value:function(q){return Object(nl.a)(this.stars[q])}},{key:"getStarValue",value:function(q,ie){var d=this.props,n=d.allowHalf,l=d.direction,a=l==="rtl",f=q+1;if(n){var h=this.getStarDOM(q),y=Qo(h),m=h.clientWidth;(a&&ie-y>m/2||!a&&ie-y<m/2)&&(f-=.5)}return f}},{key:"focus",value:function(){var q=this.props.disabled;q||this.rate.focus()}},{key:"blur",value:function(){var q=this.props.disabled;q||this.rate.blur()}},{key:"changeValue",value:function(q){var ie=this.props.onChange;"value"in this.props||this.setState({value:q}),ie(q)}},{key:"render",value:function(){for(var q=this.props,ie=q.count,d=q.allowHalf,n=q.style,l=q.prefixCls,a=q.disabled,f=q.className,h=q.character,y=q.characterRender,m=q.tabIndex,C=q.direction,P=this.state,B=P.value,M=P.hoverValue,T=P.focused,L=[],z=a?"".concat(l,"-disabled"):"",H=0;H<ie;H+=1)L.push(K.a.createElement(xu,{ref:this.saveRef(H),index:H,count:ie,disabled:a,prefixCls:"".concat(l,"-star"),allowHalf:d,value:M===void 0?B:M,onClick:this.onClick,onHover:this.onHover,key:H,character:h,characterRender:y,focused:T}));var Z=qe()(l,z,f,Object(un.a)({},"".concat(l,"-rtl"),C==="rtl"));return K.a.createElement("ul",{className:Z,style:n,onMouseLeave:a?null:this.onMouseLeave,tabIndex:a?-1:m,onFocus:a?null:this.onFocus,onBlur:a?null:this.onBlur,onKeyDown:a?null:this.onKeyDown,ref:this.saveRate,role:"radiogroup"},L)}}],[{key:"getDerivedStateFromProps",value:function(q,ie){return"value"in q&&q.value!==void 0?Object(Mr.a)(Object(Mr.a)({},ie),{},{value:q.value}):ie}}]),R}(K.a.Component);No.defaultProps={defaultValue:0,count:5,allowHalf:!1,allowClear:!0,style:{},prefixCls:"rc-rate",onChange:Ao,character:"\u2605",onHoverChange:Ao,tabIndex:0,direction:"ltr"};var ms=No,Is=ms,$s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"},el=$s,Mc=function(E,R){return F.createElement(Eu.a,Object.assign({},E,{ref:R,icon:el}))};Mc.displayName="StarFilled";var Af=F.forwardRef(Mc),ip=function(S,E){var R={};for(var N in S)Object.prototype.hasOwnProperty.call(S,N)&&E.indexOf(N)<0&&(R[N]=S[N]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,N=Object.getOwnPropertySymbols(S);q<N.length;q++)E.indexOf(N[q])<0&&Object.prototype.propertyIsEnumerable.call(S,N[q])&&(R[N[q]]=S[N[q]]);return R},Cl=F.forwardRef(function(S,E){var R=S.prefixCls,N=S.tooltips,q=ip(S,["prefixCls","tooltips"]),ie=function(h,y){var m=y.index;return N?F.createElement(eu.a,{title:N[m]},h):h},d=F.useContext(zu.b),n=d.getPrefixCls,l=d.direction,a=n("rate",R);return F.createElement(Is,Object(cr.a)({ref:E,characterRender:ie},q,{prefixCls:a,direction:l}))});Cl.displayName="Rate",Cl.defaultProps={character:F.createElement(Af,null)};var Nf=Cl;function Ff(S,E){var R=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);E&&(N=N.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),R.push.apply(R,N)}return R}function gd(S){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?Ff(Object(R),!0).forEach(function(N){sf(S,N,R[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(R)):Ff(Object(R)).forEach(function(N){Object.defineProperty(S,N,Object.getOwnPropertyDescriptor(R,N))})}return S}function sf(S,E,R){return E in S?Object.defineProperty(S,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[E]=R,S}function fc(){return fc=Object.assign||function(S){for(var E=1;E<arguments.length;E++){var R=arguments[E];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(S[N]=R[N])}return S},fc.apply(this,arguments)}var hp=function(E,R){var N=E.text,q=E.mode,ie=E.render,d=E.renderFormItem,n=E.fieldProps;if(q==="read"){var l=K.a.createElement(Nf,fc({allowHalf:!0,disabled:!0,ref:R,value:N},n));return ie?ie(N,gd({mode:q},n),K.a.createElement(K.a.Fragment,null,l)):l}if(q==="edit"||q==="update"){var a=K.a.createElement(Nf,fc({allowHalf:!0,ref:R},n));return d?d(N,gd({mode:q},n),a):a}return null},Bs=K.a.forwardRef(hp),Hl=U("czTT"),Vl=U("Ff2n"),Ws=F.forwardRef(function(S,E){var R,N=S.prefixCls,q=N===void 0?"rc-switch":N,ie=S.className,d=S.checked,n=S.defaultChecked,l=S.disabled,a=S.loadingIcon,f=S.checkedChildren,h=S.unCheckedChildren,y=S.onClick,m=S.onChange,C=S.onKeyDown,P=Object(Vl.a)(S,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),B=Object(gr.a)(!1,{value:d,defaultValue:n}),M=Object(jt.a)(B,2),T=M[0],L=M[1];function z(V,ne){var Ce=T;return l||(Ce=V,L(Ce),m==null||m(Ce,ne)),Ce}function H(V){V.which===_n.a.LEFT?z(!1,V):V.which===_n.a.RIGHT&&z(!0,V),C==null||C(V)}function Z(V){var ne=z(!T,V);y==null||y(ne,V)}var J=qe()(q,ie,(R={},Object(un.a)(R,"".concat(q,"-checked"),T),Object(un.a)(R,"".concat(q,"-disabled"),l),R));return F.createElement("button",Object.assign({},P,{type:"button",role:"switch","aria-checked":T,disabled:l,className:J,ref:E,onKeyDown:H,onClick:Z}),a,F.createElement("span",{className:"".concat(q,"-inner")},T?f:h))});Ws.displayName="Switch";var Al=Ws,Cu=U("ye1Q"),_l=U("g0mS"),tu=function(S,E){var R={};for(var N in S)Object.prototype.hasOwnProperty.call(S,N)&&E.indexOf(N)<0&&(R[N]=S[N]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,N=Object.getOwnPropertySymbols(S);q<N.length;q++)E.indexOf(N[q])<0&&Object.prototype.propertyIsEnumerable.call(S,N[q])&&(R[N[q]]=S[N[q]]);return R},ol=F.forwardRef(function(S,E){var R,N=S.prefixCls,q=S.size,ie=S.loading,d=S.className,n=d===void 0?"":d,l=S.disabled,a=tu(S,["prefixCls","size","loading","className","disabled"]);Object(Nl.a)("checked"in a||!("value"in a),"Switch","`value` is not a valid prop, do you mean `checked`?");var f=F.useContext(zu.b),h=f.getPrefixCls,y=f.direction,m=F.useContext(Uu.b),C=h("switch",N),P=F.createElement("div",{className:"".concat(C,"-handle")},ie&&F.createElement(Cu.a,{className:"".concat(C,"-loading-icon")})),B=qe()((R={},Object(un.a)(R,"".concat(C,"-small"),(q||m)==="small"),Object(un.a)(R,"".concat(C,"-loading"),ie),Object(un.a)(R,"".concat(C,"-rtl"),y==="rtl"),R),n);return F.createElement(_l.a,{insertExtraNode:!0},F.createElement(Al,Object(cr.a)({},a,{prefixCls:C,className:B,disabled:l||ie,ref:E,loadingIcon:P})))});ol.__ANT_SWITCH=!0,ol.displayName="Switch";var kc=ol,Yh=U("BGR+");function dp(){return dp=Object.assign||function(S){for(var E=1;E<arguments.length;E++){var R=arguments[E];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(S[N]=R[N])}return S},dp.apply(this,arguments)}function jd(S,E){var R=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);E&&(N=N.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),R.push.apply(R,N)}return R}function Xh(S){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?jd(Object(R),!0).forEach(function(N){vh(S,N,R[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(R)):jd(Object(R)).forEach(function(N){Object.defineProperty(S,N,Object.getOwnPropertyDescriptor(R,N))})}return S}function vh(S,E,R){return E in S?Object.defineProperty(S,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[E]=R,S}var Ec=function(E,R){var N=E.text,q=E.mode,ie=E.render,d=E.renderFormItem,n=E.fieldProps;if(q==="read"){var l=N?n==null?void 0:n.checkedChildren:n==null?void 0:n.unCheckedChildren;return ie?ie(N,Xh({mode:q},n),K.a.createElement(K.a.Fragment,null,l)):l||"-"}if(q==="edit"||q==="update"){var a=K.a.createElement(kc,dp({ref:R},Object(Yh.a)(n,["value"]),{checked:(n==null?void 0:n.checked)||(n==null?void 0:n.value)}));return d?d(N,Xh({mode:q},n),a):a}return null},Kh=K.a.forwardRef(Ec);function Hc(){return Hc=Object.assign||function(S){for(var E=1;E<arguments.length;E++){var R=arguments[E];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(S[N]=R[N])}return S},Hc.apply(this,arguments)}function Zh(S,E){var R=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);E&&(N=N.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),R.push.apply(R,N)}return R}function lf(S){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?Zh(Object(R),!0).forEach(function(N){gh(S,N,R[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(R)):Zh(Object(R)).forEach(function(N){Object.defineProperty(S,N,Object.getOwnPropertyDescriptor(R,N))})}return S}function gh(S,E,R){return E in S?Object.defineProperty(S,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[E]=R,S}function pp(S,E){if(S==null)return{};var R=op(S,E),N,q;if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(S);for(q=0;q<ie.length;q++)N=ie[q],!(E.indexOf(N)>=0)&&(!Object.prototype.propertyIsEnumerable.call(S,N)||(R[N]=S[N]))}return R}function op(S,E){if(S==null)return{};var R={},N=Object.keys(S),q,ie;for(ie=0;ie<N.length;ie++)q=N[ie],!(E.indexOf(q)>=0)&&(R[q]=S[q]);return R}var _p=function(E,R){var N=E.text,q=E.mode,ie=E.render,d=E.renderFormItem,n=E.fieldProps,l=pp(E,["text","mode","render","renderFormItem","fieldProps"]);if(q==="read"){var a=new Intl.NumberFormat().format(Number(N)),f=K.a.createElement("span",{ref:R},a);return ie?ie(N,lf({mode:q},n),f):f}if(q==="edit"||q==="update"){var h=K.a.createElement(at.a,Hc({ref:R,min:0,style:{width:"100%"}},l,n));return d?d(N,lf({mode:q},n),h):h}return null},zd=K.a.forwardRef(_p);function yd(){return yd=Object.assign||function(S){for(var E=1;E<arguments.length;E++){var R=arguments[E];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(S[N]=R[N])}return S},yd.apply(this,arguments)}function Jh(S,E){var R=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);E&&(N=N.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),R.push.apply(R,N)}return R}function xd(S){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?Jh(Object(R),!0).forEach(function(N){rs(S,N,R[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(R)):Jh(Object(R)).forEach(function(N){Object.defineProperty(S,N,Object.getOwnPropertyDescriptor(R,N))})}return S}function rs(S,E,R){return E in S?Object.defineProperty(S,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[E]=R,S}function vs(S,E){if(S==null)return{};var R=Wl(S,E),N,q;if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(S);for(q=0;q<ie.length;q++)N=ie[q],!(E.indexOf(N)>=0)&&(!Object.prototype.propertyIsEnumerable.call(S,N)||(R[N]=S[N]))}return R}function Wl(S,E){if(S==null)return{};var R={},N=Object.keys(S),q,ie;for(ie=0;ie<N.length;ie++)q=N[ie],!(E.indexOf(q)>=0)&&(R[q]=S[q]);return R}function Cd(S){var E="",R=Math.floor(S/3600),N=Math.floor(S/60%60),q=Math.floor(S%60);return E="".concat(q,"\u79D2"),N>0&&(E="".concat(N,"\u5206\u949F").concat(E)),R>0&&(E="".concat(R,"\u5C0F\u65F6").concat(E)),E}var hc=function(E,R){var N=E.text,q=E.mode,ie=E.render,d=E.renderFormItem,n=E.fieldProps,l=vs(E,["text","mode","render","renderFormItem","fieldProps"]);if(q==="read"){var a=Cd(Number(N)),f=K.a.createElement("span",{ref:R},a);return ie?ie(N,xd({mode:q},n),f):f}if(q==="edit"||q==="update"){var h=K.a.createElement(at.a,yd({ref:R,min:0,style:{width:"100%"}},l,n));return d?d(N,xd({mode:q},n),h):h}return null},Dh=K.a.forwardRef(hc),Sm=U("7Kak"),Mm=U("9yH6"),Bv=U("nSmt");function kp(){return kp=Object.assign||function(S){for(var E=1;E<arguments.length;E++){var R=arguments[E];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(S[N]=R[N])}return S},kp.apply(this,arguments)}function Ip(S,E){var R=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);E&&(N=N.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),R.push.apply(R,N)}return R}function mp(S){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?Ip(Object(R),!0).forEach(function(N){jv(S,N,R[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(R)):Ip(Object(R)).forEach(function(N){Object.defineProperty(S,N,Object.getOwnPropertyDescriptor(R,N))})}return S}function jv(S,E,R){return E in S?Object.defineProperty(S,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[E]=R,S}function Em(S,E){return mv(S)||Wm(S,E)||pv(S,E)||Tm()}function Tm(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pv(S,E){if(!!S){if(typeof S=="string")return zv(S,E);var R=Object.prototype.toString.call(S).slice(8,-1);if(R==="Object"&&S.constructor&&(R=S.constructor.name),R==="Map"||R==="Set")return Array.from(S);if(R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R))return zv(S,E)}}function zv(S,E){(E==null||E>S.length)&&(E=S.length);for(var R=0,N=new Array(E);R<E;R++)N[R]=S[R];return N}function Wm(S,E){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(S)))){var R=[],N=!0,q=!1,ie=void 0;try{for(var d=S[Symbol.iterator](),n;!(N=(n=d.next()).done)&&(R.push(n.value),!(E&&R.length===E));N=!0);}catch(l){q=!0,ie=l}finally{try{!N&&d.return!=null&&d.return()}finally{if(q)throw ie}}return R}}function mv(S){if(Array.isArray(S))return S}function Pp(S,E){if(S==null)return{};var R=vv(S,E),N,q;if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(S);for(q=0;q<ie.length;q++)N=ie[q],!(E.indexOf(N)>=0)&&(!Object.prototype.propertyIsEnumerable.call(S,N)||(R[N]=S[N]))}return R}function vv(S,E){if(S==null)return{};var R={},N=Object.keys(S),q,ie;for(ie=0;ie<N.length;ie++)q=N[ie],!(E.indexOf(q)>=0)&&(R[q]=S[q]);return R}var gv=function(E,R){var N=E.radioType,q=E.renderFormItem,ie=E.mode,d=E.render,n=Pp(E,["radioType","renderFormItem","mode","render"]),l=Object(F.useContext)(bt.b.ConfigContext),a=l.getPrefixCls,f=a("pro-field-radio"),h=mo(n),y=Em(h,3),m=y[0],C=y[1],P=y[2],B=Object(F.useRef)();if(Object(F.useImperativeHandle)(R,function(){return mp(mp({},B.current||{}),{},{fetchData:function(){return P()}})}),m)return K.a.createElement(mu.a,{size:"small"});if(ie==="read"){var M=(C==null?void 0:C.length)?C==null?void 0:C.reduce(function(Z,J){return mp(mp({},Z),{},jv({},J.value,J.label))},{}):void 0,T=K.a.createElement(K.a.Fragment,null,fn(n.text,jn(n.valueEnum||M)));return d?d(n.text,mp({mode:ie},n.fieldProps),T)||null:T}if(ie==="edit"){var L,z=N==="button"?Mm.a.Button:Mm.a,H=K.a.createElement(Mm.a.Group,kp({ref:B},n.fieldProps,{className:qe()((L=n.fieldProps)===null||L===void 0?void 0:L.className,"".concat(f,"-").concat(n.fieldProps.layout||"horizontal")),options:void 0}),C==null?void 0:C.map(function(Z){return typeof Z=="string"?{label:Z,value:Z}:Z}).map(function(Z){return K.a.createElement(z,kp({key:Z.value},Z),Z.label)}));return q?q(n.text,mp({mode:ie},n.fieldProps),H)||null:H}return null},Uv=K.a.forwardRef(gv),al=U("QeVK"),Il=U("y0+3"),Tc=U("1W/9"),_c=U("l4aY");function am(S){var E=S.prefixCls,R=S.style,N=S.visible,q=S.maskProps,ie=S.motionName;return F.createElement(Fd.b,{key:"mask",visible:N,motionName:ie,leavedClassName:"".concat(E,"-mask-hidden")},function(d){var n=d.className,l=d.style;return F.createElement("div",Object(cr.a)({style:Object(Mr.a)(Object(Mr.a)({},l),R),className:qe()("".concat(E,"-mask"),n)},q))})}function Qh(S,E,R){var N=E;return!N&&R&&(N="".concat(S,"-").concat(R)),N}var Gm=-1;function sm(){return Gm+=1,Gm}function pl(S,E){var R=S["page".concat(E?"Y":"X","Offset")],N="scroll".concat(E?"Top":"Left");if(typeof R!="number"){var q=S.document;R=q.documentElement[N],typeof R!="number"&&(R=q.body[N])}return R}function kv(S){var E=S.getBoundingClientRect(),R={left:E.left,top:E.top},N=S.ownerDocument,q=N.defaultView||N.parentWindow;return R.left+=pl(q),R.top+=pl(q,!0),R}var kg=F.memo(function(S){var E=S.children;return E},function(S,E){var R=E.shouldUpdate;return!R}),Vc={width:0,height:0,overflow:"hidden",outline:"none"},Hg=F.forwardRef(function(S,E){var R=S.closable,N=S.prefixCls,q=S.width,ie=S.height,d=S.footer,n=S.title,l=S.closeIcon,a=S.style,f=S.className,h=S.visible,y=S.forceRender,m=S.bodyStyle,C=S.bodyProps,P=S.children,B=S.destroyOnClose,M=S.modalRender,T=S.motionName,L=S.ariaId,z=S.onClose,H=S.onVisibleChanged,Z=S.onMouseDown,J=S.onMouseUp,V=S.mousePosition,ne=Object(F.useRef)(),Ce=Object(F.useRef)(),_e=Object(F.useRef)();F.useImperativeHandle(E,function(){return{focus:function(){var xr;(xr=ne.current)===null||xr===void 0||xr.focus()},changeActive:function(xr){var kn=document,Yn=kn.activeElement;xr&&Yn===Ce.current?ne.current.focus():!xr&&Yn===ne.current&&Ce.current.focus()}}});var Fe=F.useState(),Ue=Object(jt.a)(Fe,2),tt=Ue[0],He=Ue[1],kt={};q!==void 0&&(kt.width=q),ie!==void 0&&(kt.height=ie),tt&&(kt.transformOrigin=tt);function Wt(){var Lt=kv(_e.current);He(V?"".concat(V.x-Lt.left,"px ").concat(V.y-Lt.top,"px"):"")}var Dr;d&&(Dr=F.createElement("div",{className:"".concat(N,"-footer")},d));var qr;n&&(qr=F.createElement("div",{className:"".concat(N,"-header")},F.createElement("div",{className:"".concat(N,"-title"),id:L},n)));var br;R&&(br=F.createElement("button",{type:"button",onClick:z,"aria-label":"Close",className:"".concat(N,"-close")},l||F.createElement("span",{className:"".concat(N,"-close-x")})));var On=F.createElement("div",{className:"".concat(N,"-content")},br,qr,F.createElement("div",Object(cr.a)({className:"".concat(N,"-body"),style:m},C),P),Dr);return F.createElement(Fd.b,{visible:h,onVisibleChanged:H,onAppearPrepare:Wt,onEnterPrepare:Wt,forceRender:y,motionName:T,removeOnLeave:B,ref:_e},function(Lt,xr){var kn=Lt.className,Yn=Lt.style;return F.createElement("div",{key:"dialog-element",role:"document",ref:xr,style:Object(Mr.a)(Object(Mr.a)(Object(Mr.a)({},Yn),a),kt),className:qe()(N,f,kn),onMouseDown:Z,onMouseUp:J},F.createElement("div",{tabIndex:0,ref:ne,style:Vc,"aria-hidden":"true"}),F.createElement(kg,{shouldUpdate:h||y},M?M(On):On),F.createElement("div",{tabIndex:0,ref:Ce,style:Vc,"aria-hidden":"true"}))})});Hg.displayName="Content";var yv=Hg;function Vg(S){var E=S.prefixCls,R=E===void 0?"rc-dialog":E,N=S.zIndex,q=S.visible,ie=q===void 0?!1:q,d=S.keyboard,n=d===void 0?!0:d,l=S.focusTriggerAfterClose,a=l===void 0?!0:l,f=S.scrollLocker,h=S.title,y=S.wrapStyle,m=S.wrapClassName,C=S.wrapProps,P=S.onClose,B=S.afterClose,M=S.transitionName,T=S.animation,L=S.closable,z=L===void 0?!0:L,H=S.mask,Z=H===void 0?!0:H,J=S.maskTransitionName,V=S.maskAnimation,ne=S.maskClosable,Ce=ne===void 0?!0:ne,_e=S.maskStyle,Fe=S.maskProps,Ue=Object(F.useRef)(),tt=Object(F.useRef)(),He=Object(F.useRef)(),kt=F.useState(ie),Wt=Object(jt.a)(kt,2),Dr=Wt[0],qr=Wt[1],br=Object(F.useRef)();br.current||(br.current="rcDialogTitle".concat(sm()));function On(Qi){if(Qi){if(!Object(_c.a)(tt.current,document.activeElement)){var Ga;Ue.current=document.activeElement,(Ga=He.current)===null||Ga===void 0||Ga.focus()}}else{if(qr(!1),Z&&Ue.current&&a){try{Ue.current.focus({preventScroll:!0})}catch(wl){}Ue.current=null}B==null||B()}}function Lt(Qi){P==null||P(Qi)}var xr=Object(F.useRef)(!1),kn=Object(F.useRef)(),Yn=function(){clearTimeout(kn.current),xr.current=!0},ci=function(){kn.current=setTimeout(function(){xr.current=!1})},Rn=null;Ce&&(Rn=function(Ga){xr.current?xr.current=!1:tt.current===Ga.target&&Lt(Ga)});function Ps(Qi){if(n&&Qi.keyCode===_n.a.ESC){Qi.stopPropagation(),Lt(Qi);return}ie&&Qi.keyCode===_n.a.TAB&&He.current.changeActive(!Qi.shiftKey)}return Object(F.useEffect)(function(){return ie&&qr(!0),function(){}},[ie]),Object(F.useEffect)(function(){return function(){clearTimeout(kn.current)}},[]),Object(F.useEffect)(function(){return Dr?(f==null||f.lock(),f==null?void 0:f.unLock):function(){}},[Dr]),F.createElement("div",{className:"".concat(R,"-root")},F.createElement(am,{prefixCls:R,visible:Z&&ie,motionName:Qh(R,J,V),style:Object(Mr.a)({zIndex:N},_e),maskProps:Fe}),F.createElement("div",Object(cr.a)({tabIndex:-1,onKeyDown:Ps,className:qe()("".concat(R,"-wrap"),m),ref:tt,onClick:Rn,role:"dialog","aria-labelledby":h?br.current:null,style:Object(Mr.a)(Object(Mr.a)({zIndex:N},y),{},{display:Dr?null:"none"})},C),F.createElement(yv,Object(cr.a)({},S,{onMouseDown:Yn,onMouseUp:ci,ref:He,closable:z,ariaId:br.current,prefixCls:R,visible:ie,onClose:Lt,onVisibleChanged:On,motionName:Qh(R,M,T)}))))}var Ud=function(E){var R=E.visible,N=E.getContainer,q=E.forceRender,ie=E.destroyOnClose,d=ie===void 0?!1:ie,n=E.afterClose,l=F.useState(R),a=Object(jt.a)(l,2),f=a[0],h=a[1];return F.useEffect(function(){R&&h(!0)},[R]),N===!1?F.createElement(Vg,Object(cr.a)({},E,{getOpenCount:function(){return 2}})):!q&&d&&!f?null:F.createElement(Tc.a,{visible:R,forceRender:q,getContainer:N},function(y){return F.createElement(Vg,Object(cr.a)({},E,{destroyOnClose:d,afterClose:function(){n==null||n(),h(!1)}},y))})};Ud.displayName="Dialog";var dy=Ud,g0=dy,xv=U("zT1h");function Ge(S){var E=F.useRef(null),R=F.useState(S),N=Object(jt.a)(R,2),q=N[0],ie=N[1],d=F.useRef([]),n=function(a){E.current===null&&(d.current=[],E.current=Object(Hi.a)(function(){ie(function(f){var h=f;return d.current.forEach(function(y){h=Object(Mr.a)(Object(Mr.a)({},h),y)}),E.current=null,h})})),d.current.push(a)};return F.useEffect(function(){return function(){return E.current&&Hi.a.cancel(E.current)}},[]),[q,n]}function Hv(S,E,R,N){var q=E+R,ie=(R-N)/2;if(R>N){if(E>0)return Object(un.a)({},S,ie);if(E<0&&q<N)return Object(un.a)({},S,-ie)}else if(E<0||q>N)return Object(un.a)({},S,E<0?ie:-ie);return{}}function _m(S,E,R,N){var q=Object(Il.a)(),ie=q.width,d=q.height,n=null;return S<=ie&&E<=d?n={x:0,y:0}:(S>ie||E>d)&&(n=Object(Mr.a)(Object(Mr.a)({},Hv("x",R,S,ie)),Hv("y",N,E,d))),n}var Wg=F.createContext({previewUrls:new Map,setPreviewUrls:function(){return null},current:null,setCurrent:function(){return null},setShowPreview:function(){return null},setMousePosition:function(){return null},registerImage:function(){return function(){return null}}}),Ia=Wg.Provider,Vv=function(E){var R=E.previewPrefixCls,N=R===void 0?"rc-image-preview":R,q=E.children,ie=E.icons,d=ie===void 0?{}:ie,n=E.preview,l=Object(Vn.a)(n)==="object"?n:{},a=l.visible,f=a===void 0?void 0:a,h=l.onVisibleChange,y=h===void 0?void 0:h,m=l.getContainer,C=m===void 0?void 0:m,P=l.current,B=P===void 0?0:P,M=Object(Vl.a)(l,["visible","onVisibleChange","getContainer","current"]),T=Object(F.useState)(new Map),L=Object(jt.a)(T,2),z=L[0],H=L[1],Z=Object(F.useState)(),J=Object(jt.a)(Z,2),V=J[0],ne=J[1],Ce=Object(gr.a)(!!f,{value:f,onChange:y}),_e=Object(jt.a)(Ce,2),Fe=_e[0],Ue=_e[1],tt=Object(F.useState)(null),He=Object(jt.a)(tt,2),kt=He[0],Wt=He[1],Dr=f!==void 0,qr=Array.from(z.keys()),br=qr[B],On=function(kn,Yn){var ci=function(){H(function(Ps){var Qi=new Map(Ps),Ga=Qi.delete(kn);return Ga?Qi:Ps})};return z.get(kn)===Yn||H(function(Rn){return new Map(Rn).set(kn,Yn)}),ci},Lt=function(kn){kn.stopPropagation(),Ue(!1),Wt(null)};return F.useEffect(function(){ne(br)},[br]),F.useEffect(function(){!Fe&&Dr&&ne(br)},[br,Dr,Fe]),F.createElement(Ia,{value:{isPreviewGroup:!0,previewUrls:z,setPreviewUrls:H,current:V,setCurrent:ne,setShowPreview:Ue,setMousePosition:Wt,registerImage:On}},q,F.createElement(x0,Object(cr.a)({"aria-hidden":!Fe,visible:Fe,prefixCls:N,onClose:Lt,mousePosition:kt,src:z.get(V),icons:d,getContainer:C},M)))},Wv=Vv,Xe=F.useState,y0=F.useEffect,gg={x:0,y:0},Im=function(E){var R=E.prefixCls,N=E.src,q=E.alt,ie=E.onClose,d=E.afterClose,n=E.visible,l=E.icons,a=l===void 0?{}:l,f=Object(Vl.a)(E,["prefixCls","src","alt","onClose","afterClose","visible","icons"]),h=a.rotateLeft,y=a.rotateRight,m=a.zoomIn,C=a.zoomOut,P=a.close,B=a.left,M=a.right,T=Xe(1),L=Object(jt.a)(T,2),z=L[0],H=L[1],Z=Xe(0),J=Object(jt.a)(Z,2),V=J[0],ne=J[1],Ce=Ge(gg),_e=Object(jt.a)(Ce,2),Fe=_e[0],Ue=_e[1],tt=F.useRef(),He=F.useRef({originX:0,originY:0,deltaX:0,deltaY:0}),kt=F.useState(!1),Wt=Object(jt.a)(kt,2),Dr=Wt[0],qr=Wt[1],br=F.useContext(Wg),On=br.previewUrls,Lt=br.current,xr=br.isPreviewGroup,kn=br.setCurrent,Yn=On.size,ci=Array.from(On.keys()),Rn=ci.indexOf(Lt),Ps=xr?On.get(Lt):N,Qi=xr&&Yn>1,Ga=F.useState({wheelDirection:0}),wl=Object(jt.a)(Ga,2),za=wl[0],qu=wl[1],$u=function(){H(1),ne(0),Ue(gg)},ru=function(){H(function(Ui){return Ui+1}),Ue(gg)},Au=function(){z>1&&H(function(Ui){return Ui-1}),Ue(gg)},Bf=function(){ne(function(Ui){return Ui+90})},xc=function(){ne(function(Ui){return Ui-90})},wd=function(Ui){Ui.preventDefault(),Ui.stopPropagation(),Rn>0&&kn(ci[Rn-1])},Cc=function(Ui){Ui.preventDefault(),Ui.stopPropagation(),Rn<Yn-1&&kn(ci[Rn+1])},bf=qe()(Object(un.a)({},"".concat(R,"-moving"),Dr)),kd="".concat(R,"-operations-operation"),Sf="".concat(R,"-operations-icon"),Hd=[{icon:P,onClick:ie,type:"close"},{icon:m,onClick:ru,type:"zoomIn"},{icon:C,onClick:Au,type:"zoomOut",disabled:z===1},{icon:y,onClick:Bf,type:"rotateRight"},{icon:h,onClick:xc,type:"rotateLeft"}],Pc=function(){if(n&&Dr){var Ui=tt.current.offsetWidth*z,sl=tt.current.offsetHeight*z,Vd=tt.current.getBoundingClientRect(),Wd=Vd.left,Sa=Vd.top,jf=V%180!=0;qr(!1);var uf=_m(jf?sl:Ui,jf?Ui:sl,Wd,Sa);uf&&Ue(Object(Mr.a)({},uf))}},Mu=function(Ui){Ui.button===0&&(Ui.preventDefault(),Ui.stopPropagation(),He.current.deltaX=Ui.pageX-Fe.x,He.current.deltaY=Ui.pageY-Fe.y,He.current.originX=Fe.x,He.current.originY=Fe.y,qr(!0))},Mf=function(Ui){n&&Dr&&Ue({x:Ui.pageX-He.current.deltaX,y:Ui.pageY-He.current.deltaY})},Nh=function(Ui){if(!!n){Ui.preventDefault();var sl=Ui.deltaY;qu({wheelDirection:sl})}};return y0(function(){var Gs=za.wheelDirection;Gs>0?Au():Gs<0&&ru()},[za]),y0(function(){var Gs,Ui,sl=Object(xv.a)(window,"mouseup",Pc,!1),Vd=Object(xv.a)(window,"mousemove",Mf,!1),Wd=Object(xv.a)(window,"wheel",Nh,{passive:!1});try{window.top!==window.self&&(Gs=Object(xv.a)(window.top,"mouseup",Pc,!1),Ui=Object(xv.a)(window.top,"mousemove",Mf,!1))}catch(Sa){Object(Di.c)(!1,"[rc-image] ".concat(Sa))}return function(){sl.remove(),Vd.remove(),Wd.remove(),Gs&&Gs.remove(),Ui&&Ui.remove()}},[n,Dr]),F.createElement(g0,Object(cr.a)({transitionName:"zoom",maskTransitionName:"fade",closable:!1,keyboard:!0,prefixCls:R,onClose:ie,afterClose:$u,visible:n,wrapClassName:bf},f),F.createElement("ul",{className:"".concat(R,"-operations")},Hd.map(function(Gs){var Ui=Gs.icon,sl=Gs.onClick,Vd=Gs.type,Wd=Gs.disabled;return F.createElement("li",{className:qe()(kd,Object(un.a)({},"".concat(R,"-operations-operation-disabled"),!!Wd)),onClick:sl,key:Vd},F.isValidElement(Ui)?F.cloneElement(Ui,{className:Sf}):Ui)})),F.createElement("div",{className:"".concat(R,"-img-wrapper"),style:{transform:"translate3d(".concat(Fe.x,"px, ").concat(Fe.y,"px, 0)")}},F.createElement("img",{onMouseDown:Mu,ref:tt,className:"".concat(R,"-img"),src:Ps,alt:q,style:{transform:"scale3d(".concat(z,", ").concat(z,", 1) rotate(").concat(V,"deg)")}})),Qi&&F.createElement("div",{className:qe()("".concat(R,"-switch-left"),Object(un.a)({},"".concat(R,"-switch-left-disabled"),Rn===0)),onClick:wd},B),Qi&&F.createElement("div",{className:qe()("".concat(R,"-switch-right"),Object(un.a)({},"".concat(R,"-switch-right-disabled"),Rn===Yn-1)),onClick:Cc},M))},x0=Im,Gv=0,Gg=function(E){var R=E.src,N=E.alt,q=E.onPreviewClose,ie=E.prefixCls,d=ie===void 0?"rc-image":ie,n=E.previewPrefixCls,l=n===void 0?"".concat(d,"-preview"):n,a=E.placeholder,f=E.fallback,h=E.width,y=E.height,m=E.style,C=E.preview,P=C===void 0?!0:C,B=E.className,M=E.onClick,T=E.onError,L=E.wrapperClassName,z=E.wrapperStyle,H=E.crossOrigin,Z=E.decoding,J=E.loading,V=E.referrerPolicy,ne=E.sizes,Ce=E.srcSet,_e=E.useMap,Fe=Object(Vl.a)(E,["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","crossOrigin","decoding","loading","referrerPolicy","sizes","srcSet","useMap"]),Ue=a&&a!==!0,tt=Object(Vn.a)(P)==="object"?P:{},He=tt.src,kt=tt.visible,Wt=kt===void 0?void 0:kt,Dr=tt.onVisibleChange,qr=Dr===void 0?q:Dr,br=tt.getContainer,On=br===void 0?void 0:br,Lt=tt.mask,xr=tt.maskClassName,kn=tt.icons,Yn=Object(Vl.a)(tt,["src","visible","onVisibleChange","getContainer","mask","maskClassName","icons"]),ci=He!=null?He:R,Rn=Wt!==void 0,Ps=Object(gr.a)(!!Wt,{value:Wt,onChange:qr}),Qi=Object(jt.a)(Ps,2),Ga=Qi[0],wl=Qi[1],za=Object(F.useState)(Ue?"loading":"normal"),qu=Object(jt.a)(za,2),$u=qu[0],ru=qu[1],Au=Object(F.useState)(null),Bf=Object(jt.a)(Au,2),xc=Bf[0],wd=Bf[1],Cc=$u==="error",bf=F.useContext(Wg),kd=bf.isPreviewGroup,Sf=bf.setCurrent,Hd=bf.setShowPreview,Pc=bf.setMousePosition,Mu=bf.registerImage,Mf=F.useState(function(){return Gv+=1,Gv}),Nh=Object(jt.a)(Mf,1),Gs=Nh[0],Ui=P&&!Cc,sl=function(){ru("normal")},Vd=function(ns){T&&T(ns),ru("error")},Wd=function(ns){if(!Rn){var nh=Object(Il.b)(ns.target),bd=nh.left,xp=nh.top;kd?(Sf(Gs),Pc({x:bd,y:xp})):wd({x:bd,y:xp})}kd?Hd(!0):wl(!0),M&&M(ns)},Sa=function(ns){ns.stopPropagation(),wl(!1),Rn||wd(null)},jf=function(ns){$u==="loading"&&(ns==null?void 0:ns.complete)&&(ns.naturalWidth||ns.naturalHeight)&&sl()};F.useEffect(function(){var zf=Mu(Gs,ci);return zf},[]),F.useEffect(function(){var zf=Mu(Gs,ci);Ui||zf()},[ci,Ui]),F.useEffect(function(){Cc&&ru("normal"),Ue&&ru("loading")},[R]);var uf=qe()(d,L,Object(un.a)({},"".concat(d,"-error"),Cc)),bl=Cc&&f?f:ci,xh={crossOrigin:H,decoding:Z,loading:J,referrerPolicy:V,sizes:ne,srcSet:Ce,useMap:_e,alt:N,className:qe()("".concat(d,"-img"),Object(un.a)({},"".concat(d,"-img-placeholder"),a===!0),B),style:Object(Mr.a)({height:y},m)};return F.createElement(F.Fragment,null,F.createElement("div",Object(cr.a)({},Fe,{className:uf,onClick:P&&!Cc?Wd:M,style:Object(Mr.a)({width:h,height:y},z)}),F.createElement("img",Object(cr.a)({},xh,{ref:jf},Cc&&f?{src:f}:{onLoad:sl,onError:Vd,src:R})),$u==="loading"&&F.createElement("div",{"aria-hidden":"true",className:"".concat(d,"-placeholder")},a),Lt&&Ui&&F.createElement("div",{className:qe()("".concat(d,"-mask"),xr)},Lt)),!kd&&Ui&&F.createElement(x0,Object(cr.a)({"aria-hidden":!Ga,visible:Ga,prefixCls:l,onClose:Sa,mousePosition:xc,src:bl,alt:N,getContainer:On,icons:kn},Yn)))};Gg.PreviewGroup=Wv,Gg.displayName="Image";var lm=Gg,yg=lm,C0=U("D7Yy"),Ic={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},A0=Ic,xg=function(E,R){return F.createElement(Eu.a,Object.assign({},E,{ref:R,icon:A0}))};xg.displayName="RotateLeftOutlined";var Pl=F.forwardRef(xg),py={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},my=py,qh=function(E,R){return F.createElement(Eu.a,Object.assign({},E,{ref:R,icon:my}))};qh.displayName="RotateRightOutlined";var Cg=F.forwardRef(qh),Wc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},w0=Wc,dc=function(E,R){return F.createElement(Eu.a,Object.assign({},E,{ref:R,icon:w0}))};dc.displayName="ZoomInOutlined";var vp=F.forwardRef(dc),gp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},wf=gp,Op=function(E,R){return F.createElement(Eu.a,Object.assign({},E,{ref:R,icon:wf}))};Op.displayName="ZoomOutOutlined";var $h=F.forwardRef(Op),Yg=U("4i/N"),vy=U("5bA4"),Ym=U("UESt"),Yv=function(S,E){var R={};for(var N in S)Object.prototype.hasOwnProperty.call(S,N)&&E.indexOf(N)<0&&(R[N]=S[N]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,N=Object.getOwnPropertySymbols(S);q<N.length;q++)E.indexOf(N[q])<0&&Object.prototype.propertyIsEnumerable.call(S,N[q])&&(R[N[q]]=S[N[q]]);return R},yh={rotateLeft:F.createElement(Pl,null),rotateRight:F.createElement(Cg,null),zoomIn:F.createElement(vp,null),zoomOut:F.createElement($h,null),close:F.createElement(Yg.a,null),left:F.createElement(vy.a,null),right:F.createElement(Ym.a,null)},gy=function(E){var R=E.previewPrefixCls,N=Yv(E,["previewPrefixCls"]),q=F.useContext(zu.b),ie=q.getPrefixCls,d=ie("image-preview",R);return F.createElement(yg.PreviewGroup,Object(cr.a)({previewPrefixCls:d,icons:yh},N))},Xg=gy,Pm=function(S,E){var R={};for(var N in S)Object.prototype.hasOwnProperty.call(S,N)&&E.indexOf(N)<0&&(R[N]=S[N]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var q=0,N=Object.getOwnPropertySymbols(S);q<N.length;q++)E.indexOf(N[q])<0&&Object.prototype.propertyIsEnumerable.call(S,N[q])&&(R[N[q]]=S[N[q]]);return R},Xm=function(E){var R=E.prefixCls,N=E.preview,q=Pm(E,["prefixCls","preview"]),ie=Object(F.useContext)(zu.b),d=ie.getPrefixCls,n=d("image",R),l=Object(F.useContext)(zu.b),a=l.locale,f=a===void 0?C0.a:a,h=f.Image||C0.a.Image,y=F.useMemo(function(){return N===!1?N:Object(cr.a)({mask:F.createElement("div",{className:"".concat(n,"-mask-info")},F.createElement(ku.a,null),h==null?void 0:h.preview),icons:yh},Object(Vn.a)(N)==="object"?N:null)},[N,h]);return F.createElement(yg,Object(cr.a)({prefixCls:n,preview:y},q))};Xm.PreviewGroup=Xg;var um=Xm;function Ag(){return Ag=Object.assign||function(S){for(var E=1;E<arguments.length;E++){var R=arguments[E];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(S[N]=R[N])}return S},Ag.apply(this,arguments)}function b0(S,E){var R=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);E&&(N=N.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),R.push.apply(R,N)}return R}function S0(S){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?b0(Object(R),!0).forEach(function(N){Xv(S,N,R[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(R)):b0(Object(R)).forEach(function(N){Object.defineProperty(S,N,Object.getOwnPropertyDescriptor(R,N))})}return S}function Xv(S,E,R){return E in S?Object.defineProperty(S,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[E]=R,S}var yy=function(E){var R=E.text,N=E.mode,q=E.render,ie=E.renderFormItem,d=E.fieldProps,n=E.placeholder,l=E.width;if(N==="read"){var a=K.a.createElement(um,{width:l||32,src:R});return q?q(R,S0({mode:N},d),a):a}if(N==="edit"||N==="update"){var f=K.a.createElement(io.a,Ag({placeholder:n},d));return ie?ie(R,S0({mode:N},d),f):f}return null},Cv=yy;function xy(S,E){if(S==null)return{};var R=wg(S,E),N,q;if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(S);for(q=0;q<ie.length;q++)N=ie[q],!(E.indexOf(N)>=0)&&(!Object.prototype.propertyIsEnumerable.call(S,N)||(R[N]=S[N]))}return R}function wg(S,E){if(S==null)return{};var R={},N=Object.keys(S),q,ie;for(ie=0;ie<N.length;ie++)q=N[ie],!(E.indexOf(q)>=0)&&(R[q]=S[q]);return R}function Ad(S){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ad=function(R){return typeof R}:Ad=function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},Ad(S)}function Ol(){return Ol=Object.assign||function(S){for(var E=1;E<arguments.length;E++){var R=arguments[E];for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(S[N]=R[N])}return S},Ol.apply(this,arguments)}function M0(S,E){var R=Object.keys(S);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(S);E&&(N=N.filter(function(q){return Object.getOwnPropertyDescriptor(S,q).enumerable})),R.push.apply(R,N)}return R}function rh(S){for(var E=1;E<arguments.length;E++){var R=arguments[E]!=null?arguments[E]:{};E%2?M0(Object(R),!0).forEach(function(N){Av(S,N,R[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(R)):M0(Object(R)).forEach(function(N){Object.defineProperty(S,N,Object.getOwnPropertyDescriptor(R,N))})}return S}function Av(S,E,R){return E in S?Object.defineProperty(S,E,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[E]=R,S}var Kg=function(E,R,N){var q=Pe(N.fieldProps);return R.type==="progress"?K.a.createElement(Jt,Ol({},N,{text:E,fieldProps:rh({status:R.status?R.status:void 0},q)})):R.type==="money"?K.a.createElement(dn,Ol({locale:R.locale},N,{fieldProps:q,text:E,moneySymbol:R.moneySymbol})):R.type==="percent"?K.a.createElement(Xt,Ol({},N,{text:E,showSymbol:R.showSymbol,precision:R.precision,fieldProps:q,showColor:R.showColor})):R.type==="image"?K.a.createElement(Cv,Ol({},N,{text:E,width:R.width})):E},yp=function(E,R,N,q){if(Ad(R)==="object")return Kg(E,R,N);var ie=N.mode,d=ie===void 0?"read":ie,n=N.emptyText,l=n===void 0?"-":n,a=q&&q[R];if(a){if(delete N.ref,d==="read"){var f;return(f=a.render)===null||f===void 0?void 0:f.call(a,E,rh(rh({text:E},N),{},{mode:d||"read"}),K.a.createElement(K.a.Fragment,null,E))}if(d==="update"||d==="edit"){var h;return(h=a.renderFormItem)===null||h===void 0?void 0:h.call(a,E,rh({text:E},N),K.a.createElement(K.a.Fragment,null,E))}}if(l!==!1&&d==="read"&&R!=="option"&&R!=="switch"&&typeof E!="boolean"&&typeof E!="number"&&!E){var y=N.fieldProps,m=N.render;return m?m(E,rh({mode:d},y),K.a.createElement(K.a.Fragment,null,l)):K.a.createElement(K.a.Fragment,null,l)}return delete N.emptyText,R==="money"?K.a.createElement(dn,Ol({},N,{text:E})):R==="date"?K.a.createElement(sc,Ol({text:E,format:"YYYY-MM-DD"},N)):R==="dateWeek"?K.a.createElement(sc,Ol({text:E,format:"YYYY-wo",picker:"week"},N)):R==="dateMonth"?K.a.createElement(sc,Ol({text:E,format:"YYYY-MM",picker:"month"},N)):R==="dateQuarter"?K.a.createElement(sc,Ol({text:E,format:"YYYY-\\QQ",picker:"quarter"},N)):R==="dateYear"?K.a.createElement(sc,Ol({text:E,format:"YYYY",picker:"year"},N)):R==="dateRange"?K.a.createElement(Od,Ol({text:E,format:"YYYY-MM-DD"},N)):R==="dateTime"?K.a.createElement(sc,Ol({text:E,format:"YYYY-MM-DD HH:mm:ss",showTime:!0},N)):R==="dateTimeRange"?K.a.createElement(Od,Ol({text:E,format:"YYYY-MM-DD HH:mm:ss",showTime:!0},N)):R==="time"?K.a.createElement(qf,Ol({text:E,format:"HH:mm:ss"},N)):R==="timeRange"?K.a.createElement(Wh,Ol({text:E,format:"HH:mm:ss"},N)):R==="fromNow"?K.a.createElement(Vo,Ol({text:E},N)):R==="index"?K.a.createElement(Cn,null,E+1):R==="indexBorder"?K.a.createElement(Cn,{border:!0},E+1):R==="progress"?K.a.createElement(Jt,Ol({},N,{text:E})):R==="percent"?K.a.createElement(Xt,Ol({text:E},N)):R==="avatar"&&typeof E=="string"&&N.mode==="read"?K.a.createElement(Oe.a,{src:E,size:22,shape:"circle"}):R==="code"?K.a.createElement(Jf,Ol({text:E},N)):R==="jsonCode"?K.a.createElement(Jf,Ol({text:E,language:"json"},N)):R==="textarea"?K.a.createElement(fu,Ol({text:E},N)):R==="digit"?K.a.createElement(zd,Ol({text:E},N)):R==="second"?K.a.createElement(Dh,Ol({text:E},N)):R==="select"||R==="text"&&(N.valueEnum||N.request)?K.a.createElement(Ci,Ol({text:E},N)):R==="checkbox"?K.a.createElement(sa,Ol({text:E},N)):R==="radio"?K.a.createElement(Uv,Ol({text:E},N)):R==="radioButton"?K.a.createElement(Uv,Ol({radioType:"button",text:E},N)):R==="rate"?K.a.createElement(Bs,Ol({text:E},N)):R==="switch"?K.a.createElement(Kh,Ol({text:E},N)):R==="option"?K.a.createElement(Io,Ol({text:E},N)):R==="password"?K.a.createElement(pu,Ol({text:E},N)):R==="image"?K.a.createElement(Cv,Ol({text:E},N)):K.a.createElement(Ki,Ol({text:E},N))},Pa=function(E,R){var N,q=E.text,ie=E.valueType,d=ie===void 0?"text":ie,n=E.onChange,l=E.value,a=xy(E,["text","valueType","onChange","value"]),f=Object(we.c)(),h=Object(F.useContext)(we.b),y=(l||n||(a==null?void 0:a.fieldProps))&&rh(rh({value:l},Object(We.a)(a==null?void 0:a.fieldProps)),{},{onChange:function(){for(var C,P,B=arguments.length,M=new Array(B),T=0;T<B;T++)M[T]=arguments[T];n==null||n.apply(void 0,M),a==null||(C=a.fieldProps)===null||C===void 0||(P=C.onChange)===null||P===void 0||P.call.apply(P,[C].concat(M))}});return K.a.createElement(K.a.Fragment,null,yp((N=q!=null?q:y==null?void 0:y.value)!==null&&N!==void 0?N:"",d||"text",rh(rh({},a),{},{mode:a.mode||"read",ref:R,placeholder:f.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),fieldProps:Pe(y)}),h.valueTypeMap))},wv=je.a=K.a.forwardRef(Pa)},"03A+":function(rt,je,U){var xe=U("JTzB"),Oe=U("ExA7"),F=Object.prototype,K=F.hasOwnProperty,Ae=F.propertyIsEnumerable,ve=xe(function(){return arguments}())?xe:function(Pe){return Oe(Pe)&&K.call(Pe,"callee")&&!Ae.call(Pe,"callee")};rt.exports=ve},"0Cz8":function(rt,je,U){var xe=U("Xi7e"),Oe=U("ebwN"),F=U("e4Nc"),K=200;function Ae(ve,Pe){var We=this.__data__;if(We instanceof xe){var we=We.__data__;if(!Oe||we.length<K-1)return we.push([ve,Pe]),this.size=++We.size,this;We=this.__data__=new F(we)}return We.set(ve,Pe),this.size=We.size,this}rt.exports=Ae},"0GZW":function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("mrSG"),Oe=U("W1EI"),F=xe.__importDefault(U("s+10")),K=xe.__importDefault(U("Gytx")),Ae=["click","dblclick","rightclick","mousedown","mouseup","mouseout","mouseover","mousemove","remove","lineupdate"],ve={enableMassClear:["enableMassClear","disableMassClear"],enableEditing:["enableEditing","disableEditing"]},Pe=function(We){xe.__extends(we,We);function we(De){var at=We.call(this,De)||this;return at.options=["strokeColor","strokeWeight","strokeOpacity","strokeStyle","fillColor","fillOpacity","enableMassClear","enableEditing","enableClicking"],at}return we.prototype.componentDidUpdate=function(De){var at=this.props,se=at.strokeColor,Re=at.strokeWeight,mt=at.strokeOpacity,st=at.strokeStyle,St=at.fillColor,Xr=at.fillOpacity,zt=De.strokeColor,nr=De.strokeWeight,pn=De.strokeOpacity,Vr=De.strokeStyle,$e=De.fillColor,Et=De.fillOpacity,Xt=!K.default(se,zt),et=!K.default(Re,nr),bt=!K.default(mt,pn),Zt=!K.default(st,Vr),qe=!K.default(St,$e),Ie=!K.default(Xr,Et);(Xt||et||bt||Zt||qe||Ie)&&this.overlay.setOptions(this.getOptions()),this.onDataUpdate(De)},we.prototype.componentDidMount=function(){this.initialize()},we.prototype.componentWillUnmount=function(){this.destroy()},we.prototype.destroy=function(){this.overlay&&(this.props.map.removeOverlay(this.overlay),this.instance=this.overlay=void 0)},we.prototype.initialize=function(){var De=this.props.map;if(!!De){this.destroy(),this.instance=this.overlay=this.getOverlay(),De.addOverlay(this.overlay);var at;if(this.overlay instanceof BMapGL.Polyline||this.overlay instanceof BMapGL.Polygon){var se=this.overlay.getPath();at=De.getViewport(se,this.props.viewportOptions||{})}else if(this.overlay instanceof BMapGL.Circle){var Re=this.overlay.getBounds();at=De.getViewport(Re,this.props.viewportOptions||{})}at&&this.props.autoViewport&&De.setViewport(at)}},we.prototype.getOverlay=function(){throw new Error("Method getOverlay not implemented.")},we.prototype.onDataUpdate=function(De){throw new Error("Method onDataUpdate not implemented.")},we}(Oe.Component);je.default=F.default(Pe,Ae,ve)},"0uCz":function(rt,je,U){"use strict";window._hmt=window._hmt||[],function(){var xe=document.createElement("script");xe.src="https://hm.baidu.com/hm.js?b97569d26a525941d8d163729d284198";var Oe=document.getElementsByTagName("script")[0];Oe.parentNode.insertBefore(xe,Oe)}()},"0ycA":function(rt,je){function U(){return[]}rt.exports=U},"14J3":function(rt,je,U){"use strict";var xe=U("cIOH"),Oe=U.n(xe),F=U("1GLa")},"1W/9":function(rt,je,U){"use strict";var xe=U("1OyB"),Oe=U("vuIU"),F=U("Ji7U"),K=U("md7G"),Ae=U("foSv"),ve=U("U8pU"),Pe=U("q1tI"),We=U("wgJM"),we=U("QC+M"),De=U("MNnm"),at=U("qx4F");function se(pr){var $r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!pr)return{};var An=$r.element,rn=An===void 0?document.body:An,fr={},_r=Object.keys(pr);return _r.forEach(function(Wr){fr[Wr]=rn.style[Wr]}),_r.forEach(function(Wr){rn.style[Wr]=pr[Wr]}),fr}var Re=se;function mt(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var st={},St=function(pr){if(!(!mt()&&!pr)){var $r="ant-scrolling-effect",An=new RegExp("".concat($r),"g"),rn=document.body.className;if(pr){if(!An.test(rn))return;Re(st),st={},document.body.className=rn.replace(An,"").trim();return}var fr=Object(at.a)();if(fr&&(st=Re({position:"relative",width:"calc(100% - ".concat(fr,"px)")}),!An.test(rn))){var _r="".concat(rn," ").concat($r);document.body.className=_r.trim()}}},Xr=U("KQm4"),zt=[],nr="ant-scrolling-effect",pn=new RegExp("".concat(nr),"g"),Vr=0,$e=new Map,Et=function pr($r){var An=this;Object(xe.a)(this,pr),this.getContainer=function(){var rn;return(rn=An.options)===null||rn===void 0?void 0:rn.container},this.reLock=function(rn){var fr=zt.find(function(_r){var Wr=_r.target;return Wr===An.lockTarget});fr&&An.unLock(),An.options=rn,fr&&(fr.options=rn,An.lock())},this.lock=function(){var rn;if(!zt.some(function(At){var cn=At.target;return cn===An.lockTarget})){if(zt.some(function(At){var cn,Jt=At.options;return(Jt==null?void 0:Jt.container)===((cn=An.options)===null||cn===void 0?void 0:cn.container)})){zt=[].concat(Object(Xr.a)(zt),[{target:An.lockTarget,options:An.options}]);return}var fr=0,_r=((rn=An.options)===null||rn===void 0?void 0:rn.container)||document.body;(_r===document.body&&window.innerWidth-document.documentElement.clientWidth>0||_r.scrollHeight>_r.clientHeight)&&(fr=Object(at.a)());var Wr=_r.className;if(zt.filter(function(At){var cn,Jt=At.options;return(Jt==null?void 0:Jt.container)===((cn=An.options)===null||cn===void 0?void 0:cn.container)}).length===0&&$e.set(_r,Re({width:"calc(100% - ".concat(fr,"px)"),overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:_r})),!pn.test(Wr)){var dt="".concat(Wr," ").concat(nr);_r.className=dt.trim()}zt=[].concat(Object(Xr.a)(zt),[{target:An.lockTarget,options:An.options}])}},this.unLock=function(){var rn,fr=zt.find(function(dt){var At=dt.target;return At===An.lockTarget});if(zt=zt.filter(function(dt){var At=dt.target;return At!==An.lockTarget}),!(!fr||zt.some(function(dt){var At,cn=dt.options;return(cn==null?void 0:cn.container)===((At=fr.options)===null||At===void 0?void 0:At.container)}))){var _r=((rn=An.options)===null||rn===void 0?void 0:rn.container)||document.body,Wr=_r.className;!pn.test(Wr)||(Re($e.get(_r),{element:_r}),$e.delete(_r),_r.className=_r.className.replace(pn,"").trim())}},this.lockTarget=Vr++,this.options=$r};function Xt(pr){var $r=et();return function(){var rn=Object(Ae.a)(pr),fr;if($r){var _r=Object(Ae.a)(this).constructor;fr=Reflect.construct(rn,arguments,_r)}else fr=rn.apply(this,arguments);return Object(K.a)(this,fr)}}function et(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(pr){return!1}}var bt=0,Zt=Object(De.a)();function qe(){return 0}var Ie={},ht=function($r){if(!Zt)return null;if($r){if(typeof $r=="string")return document.querySelectorAll($r)[0];if(typeof $r=="function")return $r();if(Object(ve.a)($r)==="object"&&$r instanceof window.HTMLElement)return $r}return document.body},Er=function(pr){Object(F.a)(An,pr);var $r=Xt(An);function An(rn){var fr;return Object(xe.a)(this,An),fr=$r.call(this,rn),fr.componentRef=Pe.createRef(),fr.updateScrollLocker=function(_r){var Wr=_r||{},dt=Wr.visible,At=fr.props,cn=At.getContainer,Jt=At.visible;Jt&&Jt!==dt&&Zt&&ht(cn)!==fr.scrollLocker.getContainer()&&fr.scrollLocker.reLock({container:ht(cn)})},fr.updateOpenCount=function(_r){var Wr=_r||{},dt=Wr.visible,At=Wr.getContainer,cn=fr.props,Jt=cn.visible,rr=cn.getContainer;Jt!==dt&&Zt&&ht(rr)===document.body&&(Jt&&!dt?bt+=1:_r&&(bt-=1));var Gn=typeof rr=="function"&&typeof At=="function";(Gn?rr.toString()!==At.toString():rr!==At)&&fr.removeCurrentContainer()},fr.attachToParent=function(){var _r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(_r||fr.container&&!fr.container.parentNode){var Wr=ht(fr.props.getContainer);return Wr?(Wr.appendChild(fr.container),!0):!1}return!0},fr.getContainer=function(){return Zt?(fr.container||(fr.container=document.createElement("div"),fr.attachToParent(!0)),fr.setWrapperClassName(),fr.container):null},fr.setWrapperClassName=function(){var _r=fr.props.wrapperClassName;fr.container&&_r&&_r!==fr.container.className&&(fr.container.className=_r)},fr.removeCurrentContainer=function(){var _r,Wr;(_r=fr.container)===null||_r===void 0||(Wr=_r.parentNode)===null||Wr===void 0||Wr.removeChild(fr.container)},fr.switchScrollingEffect=function(){bt===1&&!Object.keys(Ie).length?(St(),Ie=Re({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"})):bt||(Re(Ie),Ie={},St(!0))},fr.scrollLocker=new Et({container:ht(rn.getContainer)}),fr}return Object(Oe.a)(An,[{key:"componentDidMount",value:function(){var fr=this;this.updateOpenCount(),this.attachToParent()||(this.rafId=Object(We.a)(function(){fr.forceUpdate()}))}},{key:"componentDidUpdate",value:function(fr){this.updateOpenCount(fr),this.updateScrollLocker(fr),this.setWrapperClassName(),this.attachToParent()}},{key:"componentWillUnmount",value:function(){var fr=this.props,_r=fr.visible,Wr=fr.getContainer;Zt&&ht(Wr)===document.body&&(bt=_r&&bt?bt-1:bt),this.removeCurrentContainer(),We.a.cancel(this.rafId)}},{key:"render",value:function(){var fr=this.props,_r=fr.children,Wr=fr.forceRender,dt=fr.visible,At=null,cn={getOpenCount:function(){return bt},getContainer:this.getContainer,switchScrollingEffect:this.switchScrollingEffect,scrollLocker:this.scrollLocker};return(Wr||dt||this.componentRef.current)&&(At=Pe.createElement(we.a,{getContainer:this.getContainer,ref:this.componentRef},_r(cn))),At}}]),An}(Pe.Component),Cn=je.a=Er},"1hJj":function(rt,je,U){var xe=U("e4Nc"),Oe=U("ftKO"),F=U("3A9y");function K(Ae){var ve=-1,Pe=Ae==null?0:Ae.length;for(this.__data__=new xe;++ve<Pe;)this.add(Ae[ve])}K.prototype.add=K.prototype.push=Oe,K.prototype.has=F,rt.exports=K},"2fM7":function(rt,je,U){"use strict";var xe=U("rePB"),Oe=U("wx14"),F=U("q1tI"),K=U("bT9E"),Ae=U("TSYQ"),ve=U.n(Ae),Pe=U("1OyB"),We=U("vuIU"),we=U("Ji7U"),De=U("LK+K"),at=U("Ff2n"),se=U("ODXe"),Re=U("4IlW"),mt=U("bX4T"),st=U("YrtM"),St=U("t23M");function Xr(ze,Le){var it=Object.keys(ze);if(Object.getOwnPropertySymbols){var Qe=Object.getOwnPropertySymbols(ze);Le&&(Qe=Qe.filter(function(Gt){return Object.getOwnPropertyDescriptor(ze,Gt).enumerable})),it.push.apply(it,Qe)}return it}function zt(ze){for(var Le=1;Le<arguments.length;Le++){var it=arguments[Le]!=null?arguments[Le]:{};Le%2?Xr(Object(it),!0).forEach(function(Qe){nr(ze,Qe,it[Qe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ze,Object.getOwnPropertyDescriptors(it)):Xr(Object(it)).forEach(function(Qe){Object.defineProperty(ze,Qe,Object.getOwnPropertyDescriptor(it,Qe))})}return ze}function nr(ze,Le,it){return Le in ze?Object.defineProperty(ze,Le,{value:it,enumerable:!0,configurable:!0,writable:!0}):ze[Le]=it,ze}var pn=F.forwardRef(function(ze,Le){var it=ze.height,Qe=ze.offset,Gt=ze.children,yt=ze.prefixCls,mr=ze.onInnerResize,vr={},Ar={display:"flex",flexDirection:"column"};return Qe!==void 0&&(vr={height:it,position:"relative",overflow:"hidden"},Ar=zt(zt({},Ar),{},{transform:"translateY(".concat(Qe,"px)"),position:"absolute",left:0,right:0,top:0})),F.createElement("div",{style:vr},F.createElement(St.a,{onResize:function(bi){var nn=bi.offsetHeight;nn&&mr&&mr()}},F.createElement("div",{style:Ar,className:ve()(nr({},"".concat(yt,"-holder-inner"),yt)),ref:Le},Gt)))});pn.displayName="Filler";var Vr=pn,$e=U("wgJM");function Et(ze){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Et=function(it){return typeof it}:Et=function(it){return it&&typeof Symbol=="function"&&it.constructor===Symbol&&it!==Symbol.prototype?"symbol":typeof it},Et(ze)}function Xt(ze,Le,it){return Le in ze?Object.defineProperty(ze,Le,{value:it,enumerable:!0,configurable:!0,writable:!0}):ze[Le]=it,ze}function et(ze,Le){if(!(ze instanceof Le))throw new TypeError("Cannot call a class as a function")}function bt(ze,Le){for(var it=0;it<Le.length;it++){var Qe=Le[it];Qe.enumerable=Qe.enumerable||!1,Qe.configurable=!0,"value"in Qe&&(Qe.writable=!0),Object.defineProperty(ze,Qe.key,Qe)}}function Zt(ze,Le,it){return Le&&bt(ze.prototype,Le),it&&bt(ze,it),ze}function qe(ze,Le){if(typeof Le!="function"&&Le!==null)throw new TypeError("Super expression must either be null or a function");ze.prototype=Object.create(Le&&Le.prototype,{constructor:{value:ze,writable:!0,configurable:!0}}),Le&&Ie(ze,Le)}function Ie(ze,Le){return Ie=Object.setPrototypeOf||function(Qe,Gt){return Qe.__proto__=Gt,Qe},Ie(ze,Le)}function ht(ze){var Le=pr();return function(){var Qe=$r(ze),Gt;if(Le){var yt=$r(this).constructor;Gt=Reflect.construct(Qe,arguments,yt)}else Gt=Qe.apply(this,arguments);return Er(this,Gt)}}function Er(ze,Le){return Le&&(Et(Le)==="object"||typeof Le=="function")?Le:Cn(ze)}function Cn(ze){if(ze===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ze}function pr(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(ze){return!1}}function $r(ze){return $r=Object.setPrototypeOf?Object.getPrototypeOf:function(it){return it.__proto__||Object.getPrototypeOf(it)},$r(ze)}var An=20;function rn(ze){return"touches"in ze?ze.touches[0].pageY:ze.pageY}var fr=function(ze){qe(it,ze);var Le=ht(it);function it(){var Qe;return et(this,it),Qe=Le.apply(this,arguments),Qe.moveRaf=null,Qe.scrollbarRef=F.createRef(),Qe.thumbRef=F.createRef(),Qe.visibleTimeout=null,Qe.state={dragging:!1,pageY:null,startTop:null,visible:!1},Qe.delayHidden=function(){clearTimeout(Qe.visibleTimeout),Qe.setState({visible:!0}),Qe.visibleTimeout=setTimeout(function(){Qe.setState({visible:!1})},2e3)},Qe.onScrollbarTouchStart=function(Gt){Gt.preventDefault()},Qe.onContainerMouseDown=function(Gt){Gt.stopPropagation(),Gt.preventDefault()},Qe.patchEvents=function(){window.addEventListener("mousemove",Qe.onMouseMove),window.addEventListener("mouseup",Qe.onMouseUp),Qe.thumbRef.current.addEventListener("touchmove",Qe.onMouseMove),Qe.thumbRef.current.addEventListener("touchend",Qe.onMouseUp)},Qe.removeEvents=function(){window.removeEventListener("mousemove",Qe.onMouseMove),window.removeEventListener("mouseup",Qe.onMouseUp),Qe.scrollbarRef.current.removeEventListener("touchstart",Qe.onScrollbarTouchStart),Qe.thumbRef.current.removeEventListener("touchstart",Qe.onMouseDown),Qe.thumbRef.current.removeEventListener("touchmove",Qe.onMouseMove),Qe.thumbRef.current.removeEventListener("touchend",Qe.onMouseUp),$e.a.cancel(Qe.moveRaf)},Qe.onMouseDown=function(Gt){var yt=Qe.props.onStartMove;Qe.setState({dragging:!0,pageY:rn(Gt),startTop:Qe.getTop()}),yt(),Qe.patchEvents(),Gt.stopPropagation(),Gt.preventDefault()},Qe.onMouseMove=function(Gt){var yt=Qe.state,mr=yt.dragging,vr=yt.pageY,Ar=yt.startTop,sn=Qe.props.onScroll;if($e.a.cancel(Qe.moveRaf),mr){var bi=rn(Gt)-vr,nn=Ar+bi,Ti=Qe.getEnableScrollRange(),yo=Qe.getEnableHeightRange(),mn=yo?nn/yo:0,ca=Math.ceil(mn*Ti);Qe.moveRaf=Object($e.a)(function(){sn(ca)})}},Qe.onMouseUp=function(){var Gt=Qe.props.onStopMove;Qe.setState({dragging:!1}),Gt(),Qe.removeEvents()},Qe.getSpinHeight=function(){var Gt=Qe.props,yt=Gt.height,mr=Gt.count,vr=yt/mr*10;return vr=Math.max(vr,An),vr=Math.min(vr,yt/2),Math.floor(vr)},Qe.getEnableScrollRange=function(){var Gt=Qe.props,yt=Gt.scrollHeight,mr=Gt.height;return yt-mr||0},Qe.getEnableHeightRange=function(){var Gt=Qe.props.height,yt=Qe.getSpinHeight();return Gt-yt||0},Qe.getTop=function(){var Gt=Qe.props.scrollTop,yt=Qe.getEnableScrollRange(),mr=Qe.getEnableHeightRange();if(Gt===0||yt===0)return 0;var vr=Gt/yt;return vr*mr},Qe.getVisible=function(){var Gt=Qe.state.visible,yt=Qe.props,mr=yt.height,vr=yt.scrollHeight;return mr>=vr?!1:Gt},Qe}return Zt(it,[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(Gt){Gt.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var Gt=this.state.dragging,yt=this.props.prefixCls,mr=this.getSpinHeight(),vr=this.getTop(),Ar=this.getVisible();return F.createElement("div",{ref:this.scrollbarRef,className:"".concat(yt,"-scrollbar"),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:Ar?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},F.createElement("div",{ref:this.thumbRef,className:ve()("".concat(yt,"-scrollbar-thumb"),Xt({},"".concat(yt,"-scrollbar-thumb-moving"),Gt)),style:{width:"100%",height:mr,top:vr,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}]),it}(F.Component);function _r(ze){var Le=ze.children,it=ze.setRef,Qe=F.useCallback(function(Gt){it(Gt)},[]);return F.cloneElement(Le,{ref:Qe})}function Wr(ze,Le,it,Qe,Gt,yt){var mr=yt.getKey;return ze.slice(Le,it+1).map(function(vr,Ar){var sn=Le+Ar,bi=Gt(vr,sn,{}),nn=mr(vr);return F.createElement(_r,{key:nn,setRef:function(yo){return Qe(vr,yo)}},bi)})}var dt=U("m+aA");function At(ze,Le){if(!(ze instanceof Le))throw new TypeError("Cannot call a class as a function")}function cn(ze,Le){for(var it=0;it<Le.length;it++){var Qe=Le[it];Qe.enumerable=Qe.enumerable||!1,Qe.configurable=!0,"value"in Qe&&(Qe.writable=!0),Object.defineProperty(ze,Qe.key,Qe)}}function Jt(ze,Le,it){return Le&&cn(ze.prototype,Le),it&&cn(ze,it),ze}var rr=function(){function ze(){At(this,ze),this.maps={},this.maps.prototype=null}return Jt(ze,[{key:"set",value:function(it,Qe){this.maps[it]=Qe}},{key:"get",value:function(it){return this.maps[it]}}]),ze}(),Gn=rr;function Kr(ze,Le){return Un(ze)||Wo(ze,Le)||Nn(ze,Le)||ai()}function ai(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nn(ze,Le){if(!!ze){if(typeof ze=="string")return So(ze,Le);var it=Object.prototype.toString.call(ze).slice(8,-1);if(it==="Object"&&ze.constructor&&(it=ze.constructor.name),it==="Map"||it==="Set")return Array.from(ze);if(it==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(it))return So(ze,Le)}}function So(ze,Le){(Le==null||Le>ze.length)&&(Le=ze.length);for(var it=0,Qe=new Array(Le);it<Le;it++)Qe[it]=ze[it];return Qe}function Wo(ze,Le){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(ze)))){var it=[],Qe=!0,Gt=!1,yt=void 0;try{for(var mr=ze[Symbol.iterator](),vr;!(Qe=(vr=mr.next()).done)&&(it.push(vr.value),!(Le&&it.length===Le));Qe=!0);}catch(Ar){Gt=!0,yt=Ar}finally{try{!Qe&&mr.return!=null&&mr.return()}finally{if(Gt)throw yt}}return it}}function Un(ze){if(Array.isArray(ze))return ze}function an(ze,Le,it){var Qe=F.useState(0),Gt=Kr(Qe,2),yt=Gt[0],mr=Gt[1],vr=Object(F.useRef)(new Map),Ar=Object(F.useRef)(new Gn),sn=Object(F.useRef)(0);function bi(){sn.current+=1;var Ti=sn.current;Promise.resolve().then(function(){Ti===sn.current&&(vr.current.forEach(function(yo,mn){if(yo&&yo.offsetParent){var ca=Object(dt.a)(yo),co=ca.offsetHeight;Ar.current.get(mn)!==co&&Ar.current.set(mn,ca.offsetHeight)}}),mr(function(yo){return yo+1}))})}function nn(Ti,yo){var mn=ze(Ti),ca=vr.current.get(mn);yo?(vr.current.set(mn,yo),bi()):vr.current.delete(mn),!ca!=!yo&&(yo?Le==null||Le(Ti):it==null||it(Ti))}return[nn,bi,Ar.current,yt]}function In(ze){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?In=function(it){return typeof it}:In=function(it){return it&&typeof Symbol=="function"&&it.constructor===Symbol&&it!==Symbol.prototype?"symbol":typeof it},In(ze)}function Jr(ze,Le,it,Qe,Gt,yt,mr,vr){var Ar=F.useRef();return function(sn){if(sn==null){vr();return}if($e.a.cancel(Ar.current),typeof sn=="number")mr(sn);else if(sn&&In(sn)==="object"){var bi,nn=sn.align;"index"in sn?bi=sn.index:bi=Le.findIndex(function(ca){return Gt(ca)===sn.key});var Ti=sn.offset,yo=Ti===void 0?0:Ti,mn=function ca(co,is){if(!(co<0||!ze.current)){var Yi=ze.current.clientHeight,fa=!1,ha=is;if(Yi){for(var Da=is||nn,Xi=0,fo=0,Qa=0,po=Math.min(Le.length,bi),ws=0;ws<=po;ws+=1){var os=Gt(Le[ws]);fo=Xi;var Ls=it.get(os);Qa=fo+(Ls===void 0?Qe:Ls),Xi=Qa,ws===bi&&Ls===void 0&&(fa=!0)}var oa=null;switch(Da){case"top":oa=fo-yo;break;case"bottom":oa=Qa-Yi+yo;break;default:{var Lo=ze.current.scrollTop,wa=Lo+Yi;fo<Lo?ha="top":Qa>wa&&(ha="bottom")}}oa!==null&&oa!==ze.current.scrollTop&&mr(oa)}Ar.current=Object($e.a)(function(){fa&&yt(),ca(co-1,ha)})}};mn(3)}}}function Xn(ze,Le,it,Qe){var Gt=it-ze,yt=Le-it,mr=Math.min(Gt,yt)*2;if(Qe<=mr){var vr=Math.floor(Qe/2);return Qe%2?it+vr+1:it-vr}return Gt>yt?it-(Qe-yt):it+(Qe-Gt)}function hr(ze,Le,it){var Qe=ze.length,Gt=Le.length,yt,mr;if(Qe===0&&Gt===0)return null;Qe<Gt?(yt=ze,mr=Le):(yt=Le,mr=ze);var vr={__EMPTY_ITEM__:!0};function Ar(mn){return mn!==void 0?it(mn):vr}for(var sn=null,bi=Math.abs(Qe-Gt)!==1,nn=0;nn<mr.length;nn+=1){var Ti=Ar(yt[nn]),yo=Ar(mr[nn]);if(Ti!==yo){sn=nn,bi=bi||Ti!==Ar(mr[nn+1]);break}}return sn===null?null:{index:sn,multiple:bi}}function dn(ze,Le){return Mi(ze)||ei(ze,Le)||Tn(ze,Le)||Mn()}function Mn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tn(ze,Le){if(!!ze){if(typeof ze=="string")return kr(ze,Le);var it=Object.prototype.toString.call(ze).slice(8,-1);if(it==="Object"&&ze.constructor&&(it=ze.constructor.name),it==="Map"||it==="Set")return Array.from(ze);if(it==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(it))return kr(ze,Le)}}function kr(ze,Le){(Le==null||Le>ze.length)&&(Le=ze.length);for(var it=0,Qe=new Array(Le);it<Le;it++)Qe[it]=ze[it];return Qe}function ei(ze,Le){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(ze)))){var it=[],Qe=!0,Gt=!1,yt=void 0;try{for(var mr=ze[Symbol.iterator](),vr;!(Qe=(vr=mr.next()).done)&&(it.push(vr.value),!(Le&&it.length===Le));Qe=!0);}catch(Ar){Gt=!0,yt=Ar}finally{try{!Qe&&mr.return!=null&&mr.return()}finally{if(Gt)throw yt}}return it}}function Mi(ze){if(Array.isArray(ze))return ze}function Di(ze,Le,it){var Qe=F.useState(ze),Gt=dn(Qe,2),yt=Gt[0],mr=Gt[1],vr=F.useState(null),Ar=dn(vr,2),sn=Ar[0],bi=Ar[1];return F.useEffect(function(){var nn=hr(yt||[],ze||[],Le);(nn==null?void 0:nn.index)!==void 0&&(it==null||it(nn.index),bi(ze[nn.index])),mr(ze)},[ze]),[sn]}function ui(ze){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ui=function(it){return typeof it}:ui=function(it){return it&&typeof Symbol=="function"&&it.constructor===Symbol&&it!==Symbol.prototype?"symbol":typeof it},ui(ze)}var Po=(typeof navigator=="undefined"?"undefined":ui(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),cr=Po,$o=function(ze,Le){var it=Object(F.useRef)(!1),Qe=Object(F.useRef)(null);function Gt(){clearTimeout(Qe.current),it.current=!0,Qe.current=setTimeout(function(){it.current=!1},50)}var yt=Object(F.useRef)({top:ze,bottom:Le});return yt.current.top=ze,yt.current.bottom=Le,function(mr){var vr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Ar=mr<0&&yt.current.top||mr>0&&yt.current.bottom;return vr&&Ar?(clearTimeout(Qe.current),it.current=!1):(!Ar||it.current)&&Gt(),!it.current&&Ar}};function As(ze,Le,it,Qe){var Gt=Object(F.useRef)(0),yt=Object(F.useRef)(null),mr=Object(F.useRef)(null),vr=Object(F.useRef)(!1),Ar=$o(Le,it);function sn(nn){if(!!ze){$e.a.cancel(yt.current);var Ti=nn.deltaY;Gt.current+=Ti,mr.current=Ti,!Ar(Ti)&&(cr||nn.preventDefault(),yt.current=Object($e.a)(function(){var yo=vr.current?10:1;Qe(Gt.current*yo),Gt.current=0}))}}function bi(nn){!ze||(vr.current=nn.detail===mr.current)}return[sn,bi]}var Gi=14/15;function Xs(ze,Le,it){var Qe=Object(F.useRef)(!1),Gt=Object(F.useRef)(0),yt=Object(F.useRef)(null),mr=Object(F.useRef)(null),vr,Ar=function(Ti){if(Qe.current){var yo=Math.ceil(Ti.touches[0].pageY),mn=Gt.current-yo;Gt.current=yo,it(mn)&&Ti.preventDefault(),clearInterval(mr.current),mr.current=setInterval(function(){mn*=Gi,(!it(mn,!0)||Math.abs(mn)<=.1)&&clearInterval(mr.current)},16)}},sn=function(){Qe.current=!1,vr()},bi=function(Ti){vr(),Ti.touches.length===1&&!Qe.current&&(Qe.current=!0,Gt.current=Math.ceil(Ti.touches[0].pageY),yt.current=Ti.target,yt.current.addEventListener("touchmove",Ar),yt.current.addEventListener("touchend",sn))};vr=function(){yt.current&&(yt.current.removeEventListener("touchmove",Ar),yt.current.removeEventListener("touchend",sn))},F.useLayoutEffect(function(){return ze&&Le.current.addEventListener("touchstart",bi),function(){Le.current.removeEventListener("touchstart",bi),vr(),clearInterval(mr.current)}},[ze])}function un(ze,Le){var it=Object.keys(ze);if(Object.getOwnPropertySymbols){var Qe=Object.getOwnPropertySymbols(ze);Le&&(Qe=Qe.filter(function(Gt){return Object.getOwnPropertyDescriptor(ze,Gt).enumerable})),it.push.apply(it,Qe)}return it}function ko(ze){for(var Le=1;Le<arguments.length;Le++){var it=arguments[Le]!=null?arguments[Le]:{};Le%2?un(Object(it),!0).forEach(function(Qe){ss(ze,Qe,it[Qe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ze,Object.getOwnPropertyDescriptors(it)):un(Object(it)).forEach(function(Qe){Object.defineProperty(ze,Qe,Object.getOwnPropertyDescriptor(it,Qe))})}return ze}function ss(ze,Le,it){return Le in ze?Object.defineProperty(ze,Le,{value:it,enumerable:!0,configurable:!0,writable:!0}):ze[Le]=it,ze}function Gr(ze,Le){return wi(ze)||Eu(ze,Le)||ou(ze,Le)||Yl()}function Yl(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ou(ze,Le){if(!!ze){if(typeof ze=="string")return ea(ze,Le);var it=Object.prototype.toString.call(ze).slice(8,-1);if(it==="Object"&&ze.constructor&&(it=ze.constructor.name),it==="Map"||it==="Set")return Array.from(ze);if(it==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(it))return ea(ze,Le)}}function ea(ze,Le){(Le==null||Le>ze.length)&&(Le=ze.length);for(var it=0,Qe=new Array(Le);it<Le;it++)Qe[it]=ze[it];return Qe}function Eu(ze,Le){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(ze)))){var it=[],Qe=!0,Gt=!1,yt=void 0;try{for(var mr=ze[Symbol.iterator](),vr;!(Qe=(vr=mr.next()).done)&&(it.push(vr.value),!(Le&&it.length===Le));Qe=!0);}catch(Ar){Gt=!0,yt=Ar}finally{try{!Qe&&mr.return!=null&&mr.return()}finally{if(Gt)throw yt}}return it}}function wi(ze){if(Array.isArray(ze))return ze}function Pi(ze,Le){if(ze==null)return{};var it=hi(ze,Le),Qe,Gt;if(Object.getOwnPropertySymbols){var yt=Object.getOwnPropertySymbols(ze);for(Gt=0;Gt<yt.length;Gt++)Qe=yt[Gt],!(Le.indexOf(Qe)>=0)&&(!Object.prototype.propertyIsEnumerable.call(ze,Qe)||(it[Qe]=ze[Qe]))}return it}function hi(ze,Le){if(ze==null)return{};var it={},Qe=Object.keys(ze),Gt,yt;for(yt=0;yt<Qe.length;yt++)Gt=Qe[yt],!(Le.indexOf(Gt)>=0)&&(it[Gt]=ze[Gt]);return it}var Mt=[],wn={overflowY:"auto",overflowAnchor:"none"};function Ot(ze,Le){var it=ze.prefixCls,Qe=it===void 0?"rc-virtual-list":it,Gt=ze.className,yt=ze.height,mr=ze.itemHeight,vr=ze.fullHeight,Ar=vr===void 0?!0:vr,sn=ze.style,bi=ze.data,nn=ze.children,Ti=ze.itemKey,yo=ze.virtual,mn=ze.component,ca=mn===void 0?"div":mn,co=ze.onScroll,is=Pi(ze,["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll"]),Yi=!!(yo!==!1&&yt&&mr),fa=Yi&&bi&&mr*bi.length>yt,ha=Object(F.useState)(0),Da=Gr(ha,2),Xi=Da[0],fo=Da[1],Qa=Object(F.useState)(!1),po=Gr(Qa,2),ws=po[0],os=po[1],Ls=ve()(Qe,Gt),oa=bi||Mt,Lo=Object(F.useRef)(),wa=Object(F.useRef)(),ba=Object(F.useRef)(),ho=F.useCallback(function(Fi){return typeof Ti=="function"?Ti(Fi):Fi==null?void 0:Fi[Ti]},[Ti]),qa={getKey:ho};function da(Fi){fo(function(Zo){var pa;typeof Fi=="function"?pa=Fi(Zo):pa=Fi;var Kl=ic(pa);return Lo.current.scrollTop=Kl,Kl})}var ta=Object(F.useRef)({start:0,end:oa.length}),Ka=Object(F.useRef)(),Za=Di(oa,ho),cs=Gr(Za,1),Uo=cs[0];Ka.current=Uo;var nc=an(ho,null,null),Yu=Gr(nc,4),Bu=Yu[0],El=Yu[1],ja=Yu[2],lu=Yu[3],$c=F.useMemo(function(){if(!Yi)return{scrollHeight:void 0,start:0,end:oa.length-1,offset:void 0};if(!fa){var Fi;return{scrollHeight:((Fi=wa.current)===null||Fi===void 0?void 0:Fi.offsetHeight)||0,start:0,end:oa.length-1,offset:void 0}}for(var Zo=0,pa,Kl,oc,ef=oa.length,cu=0;cu<ef;cu+=1){var Gf=oa[cu],Ds=ho(Gf),Yf=ja.get(Ds),Xf=Zo+(Yf===void 0?mr:Yf);Xf>=Xi&&pa===void 0&&(pa=cu,Kl=Zo),Xf>Xi+yt&&oc===void 0&&(oc=cu),Zo=Xf}return pa===void 0&&(pa=0,Kl=0),oc===void 0&&(oc=oa.length-1),oc=Math.min(oc+1,oa.length),{scrollHeight:Zo,start:pa,end:oc,offset:Kl}},[fa,Yi,Xi,oa,lu,yt]),Ul=$c.scrollHeight,uu=$c.start,Ks=$c.end,fs=$c.offset;ta.current.start=uu,ta.current.end=Ks;var ju=Ul-yt,$l=Object(F.useRef)(ju);$l.current=ju;function ic(Fi){var Zo=Fi;return Number.isNaN($l.current)||(Zo=Math.min(Zo,$l.current)),Zo=Math.max(Zo,0),Zo}var Nl=Xi<=0,zu=Xi>=ju,bs=$o(Nl,zu);function Uu(Fi){var Zo=Fi;da(Zo)}function Yt(Fi){var Zo=Fi.currentTarget.scrollTop;Zo!==Xi&&da(Zo),co==null||co(Fi)}var Ur=As(Yi,Nl,zu,function(Fi){da(function(Zo){var pa=Zo+Fi;return pa})}),Lr=Gr(Ur,2),zi=Lr[0],Mo=Lr[1];Xs(Yi,Lo,function(Fi,Zo){return bs(Fi,Zo)?!1:(zi({preventDefault:function(){},deltaY:Fi}),!0)}),F.useLayoutEffect(function(){function Fi(Zo){Yi&&Zo.preventDefault()}return Lo.current.addEventListener("wheel",zi),Lo.current.addEventListener("DOMMouseScroll",Mo),Lo.current.addEventListener("MozMousePixelScroll",Fi),function(){Lo.current.removeEventListener("wheel",zi),Lo.current.removeEventListener("DOMMouseScroll",Mo),Lo.current.removeEventListener("MozMousePixelScroll",Fi)}},[Yi]);var Ta=Jr(Lo,oa,ja,mr,ho,El,da,function(){var Fi;(Fi=ba.current)===null||Fi===void 0||Fi.delayHidden()});F.useImperativeHandle(Le,function(){return{scrollTo:Ta}});var Ss=Wr(oa,uu,Ks,Bu,nn,qa),Go=null;return yt&&(Go=ko(ss({},Ar?"height":"maxHeight",yt),wn),Yi&&(Go.overflowY="hidden",ws&&(Go.pointerEvents="none"))),F.createElement("div",Object.assign({style:ko(ko({},sn),{},{position:"relative"}),className:Ls},is),F.createElement(ca,{className:"".concat(Qe,"-holder"),style:Go,ref:Lo,onScroll:Yt},F.createElement(Vr,{prefixCls:Qe,height:Ul,offset:fs,onInnerResize:El,ref:wa},Ss)),Yi&&F.createElement(fr,{ref:ba,prefixCls:Qe,scrollTop:Xi,height:yt,scrollHeight:Ul,count:oa.length,onScroll:Uu,onStartMove:function(){os(!0)},onStopMove:function(){os(!1)}}))}var ar=F.forwardRef(Ot);ar.displayName="List";var Mr=ar,jt=Mr,gr=function(Le){var it=Le.className,Qe=Le.customizeIcon,Gt=Le.customizeIconProps,yt=Le.onMouseDown,mr=Le.onClick,vr=Le.children,Ar;return typeof Qe=="function"?Ar=Qe(Gt):Ar=Qe,F.createElement("span",{className:it,onMouseDown:function(bi){bi.preventDefault(),yt&&yt(bi)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:mr,"aria-hidden":!0},Ar!==void 0?Ar:F.createElement("span",{className:ve()(it.split(/\s+/).map(function(sn){return"".concat(sn,"-icon")}))},vr))},Vn=gr,_n=function(Le,it){var Qe=Le.prefixCls,Gt=Le.id,yt=Le.flattenOptions,mr=Le.childrenAsData,vr=Le.values,Ar=Le.searchValue,sn=Le.multiple,bi=Le.defaultActiveFirstOption,nn=Le.height,Ti=Le.itemHeight,yo=Le.notFoundContent,mn=Le.open,ca=Le.menuItemSelectedIcon,co=Le.virtual,is=Le.onSelect,Yi=Le.onToggleOpen,fa=Le.onActiveValue,ha=Le.onScroll,Da=Le.onMouseEnter,Xi="".concat(Qe,"-item"),fo=Object(st.a)(function(){return yt},[mn,yt],function(da,ta){return ta[0]&&da[1]!==ta[1]}),Qa=F.useRef(null),po=function(ta){ta.preventDefault()},ws=function(ta){Qa.current&&Qa.current.scrollTo({index:ta})},os=function(ta){for(var Ka=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Za=fo.length,cs=0;cs<Za;cs+=1){var Uo=(ta+cs*Ka+Za)%Za,nc=fo[Uo],Yu=nc.group,Bu=nc.data;if(!Yu&&!Bu.disabled)return Uo}return-1},Ls=F.useState(function(){return os(0)}),oa=Object(se.a)(Ls,2),Lo=oa[0],wa=oa[1],ba=function(ta){var Ka=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;wa(ta);var Za={source:Ka?"keyboard":"mouse"},cs=fo[ta];if(!cs){fa(null,-1,Za);return}fa(cs.data.value,ta,Za)};F.useEffect(function(){ba(bi!==!1?os(0):-1)},[fo.length,Ar]),F.useEffect(function(){var da=setTimeout(function(){if(!sn&&mn&&vr.size===1){var Ka=Array.from(vr)[0],Za=fo.findIndex(function(cs){var Uo=cs.data;return Uo.value===Ka});ba(Za),ws(Za)}});if(mn){var ta;(ta=Qa.current)===null||ta===void 0||ta.scrollTo(void 0)}return function(){return clearTimeout(da)}},[mn]);var ho=function(ta){ta!==void 0&&is(ta,{selected:!vr.has(ta)}),sn||Yi(!1)};if(F.useImperativeHandle(it,function(){return{onKeyDown:function(ta){var Ka=ta.which;switch(Ka){case Re.a.UP:case Re.a.DOWN:{var Za=0;if(Ka===Re.a.UP?Za=-1:Ka===Re.a.DOWN&&(Za=1),Za!==0){var cs=os(Lo+Za,Za);ws(cs),ba(cs,!0)}break}case Re.a.ENTER:{var Uo=fo[Lo];Uo&&!Uo.data.disabled?ho(Uo.data.value):ho(void 0),mn&&ta.preventDefault();break}case Re.a.ESC:Yi(!1),mn&&ta.stopPropagation()}},onKeyUp:function(){},scrollTo:function(ta){ws(ta)}}}),fo.length===0)return F.createElement("div",{role:"listbox",id:"".concat(Gt,"_list"),className:"".concat(Xi,"-empty"),onMouseDown:po},yo);function qa(da){var ta=fo[da];if(!ta)return null;var Ka=ta.data||{},Za=Ka.value,cs=Ka.label,Uo=Ka.children,nc=Object(mt.a)(Ka,!0),Yu=mr?Uo:cs;return ta?F.createElement("div",Object.assign({"aria-label":typeof Yu=="string"?Yu:null},nc,{key:da,role:"option",id:"".concat(Gt,"_list_").concat(da),"aria-selected":vr.has(Za)}),Za):null}return F.createElement(F.Fragment,null,F.createElement("div",{role:"listbox",id:"".concat(Gt,"_list"),style:{height:0,width:0,overflow:"hidden"}},qa(Lo-1),qa(Lo),qa(Lo+1)),F.createElement(jt,{itemKey:"key",ref:Qa,data:fo,height:nn,itemHeight:Ti,fullHeight:!1,onMouseDown:po,onScroll:ha,virtual:co,onMouseEnter:Da},function(da,ta){var Ka,Za=da.group,cs=da.groupOption,Uo=da.data,nc=Uo.label,Yu=Uo.key;if(Za)return F.createElement("div",{className:ve()(Xi,"".concat(Xi,"-group"))},nc!==void 0?nc:Yu);var Bu=Uo.disabled,El=Uo.value,ja=Uo.title,lu=Uo.children,$c=Uo.style,Ul=Uo.className,uu=Object(at.a)(Uo,["disabled","value","title","children","style","className"]),Ks=vr.has(El),fs="".concat(Xi,"-option"),ju=ve()(Xi,fs,Ul,(Ka={},Object(xe.a)(Ka,"".concat(fs,"-grouped"),cs),Object(xe.a)(Ka,"".concat(fs,"-active"),Lo===ta&&!Bu),Object(xe.a)(Ka,"".concat(fs,"-disabled"),Bu),Object(xe.a)(Ka,"".concat(fs,"-selected"),Ks),Ka)),$l=mr?lu:nc,ic=!ca||typeof ca=="function"||Ks,Nl=$l||El,zu=typeof Nl=="string"||typeof Nl=="number"?Nl.toString():void 0;return ja!==void 0&&(zu=ja),F.createElement("div",Object.assign({},uu,{"aria-selected":Ks,className:ju,title:zu,onMouseMove:function(){Lo===ta||Bu||ba(ta)},onClick:function(){Bu||ho(El)},style:$c}),F.createElement("div",{className:"".concat(fs,"-content")},Nl),F.isValidElement(ca)||Ks,ic&&F.createElement(Vn,{className:"".concat(Xi,"-option-state"),customizeIcon:ca,customizeIconProps:{isSelected:Ks}},Ks?"\u2713":null))}))},vo=F.forwardRef(_n);vo.displayName="OptionList";var Ei=vo,Oo=function(){return null};Oo.isSelectOption=!0;var Je=Oo,nt=function(){return null};nt.isSelectOptGroup=!0;var ut=nt,Dt=U("VTBJ"),en=U("Zm9Q");function bn(ze){var Le=ze.key,it=ze.props,Qe=it.children,Gt=it.value,yt=Object(at.a)(it,["children","value"]);return Object(Dt.a)({key:Le,value:Gt!==void 0?Gt:Le,children:Qe},yt)}function jr(ze){var Le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Object(en.a)(ze).map(function(it,Qe){if(!F.isValidElement(it)||!it.type)return null;var Gt=it.type.isSelectOptGroup,yt=it.key,mr=it.props,vr=mr.children,Ar=Object(at.a)(mr,["children"]);return Le||!Gt?bn(it):Object(Dt.a)(Object(Dt.a)({key:"__RC_SELECT_GRP__".concat(yt===null?Qe:yt,"__"),label:yt},Ar),{},{options:jr(vr)})}).filter(function(it){return it})}var tn=U("T5bk"),yn=U("KQm4"),Qn=U("U8pU"),mi=U("Kwbf");function si(ze){return Array.isArray(ze)?ze:ze!==void 0?[ze]:[]}function Ji(ze,Le){var it=Le.labelInValue,Qe=Le.combobox,Gt=new Map;if(ze===void 0||ze===""&&Qe)return[[],Gt];var yt=Array.isArray(ze)?ze:[ze],mr=yt;return it&&(mr=yt.map(function(vr){var Ar=vr.key,sn=vr.value,bi=sn!==void 0?sn:Ar;return Gt.set(bi,vr),bi})),[mr,Gt]}function Hi(ze,Le){var it=Le.optionLabelProp,Qe=Le.labelInValue,Gt=Le.prevValueMap,yt=Le.options,mr=Le.getLabeledValue,vr=ze;return Qe&&(vr=vr.map(function(Ar){return mr(Ar,{options:yt,prevValueMap:Gt,labelInValue:Qe,optionLabelProp:it})})),vr}function eo(ze,Le){var it=Object(yn.a)(Le),Qe;for(Qe=ze.length-1;Qe>=0&&ze[Qe].disabled;Qe-=1);var Gt=null;return Qe!==-1&&(Gt=it[Qe],it.splice(Qe,1)),{values:it,removedValue:Gt}}var go=typeof window!="undefined"&&window.document&&window.document.documentElement,Ro=go,va=0;function zo(){var ze;return Ro?(ze=va,va+=1):ze="TEST_OR_SSR",ze}function tl(ze,Le){var it=ze.key,Qe;return"value"in ze&&(Qe=ze.value),it!=null?it:Qe!==void 0?Qe:"rc-index-key-".concat(Le)}function yl(ze){var Le=[];function it(Qe,Gt){Qe.forEach(function(yt){Gt||!("options"in yt)?Le.push({key:tl(yt,Le.length),groupOption:Gt,data:yt}):(Le.push({key:tl(yt,Le.length),group:!0,data:yt}),it(yt.options,!0))})}return it(ze,!1),Le}function au(ze){var Le=Object(Dt.a)({},ze);return"props"in Le||Object.defineProperty(Le,"props",{get:function(){return Object(mi.a)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),Le}}),Le}function jl(ze,Le){var it=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Qe=it.prevValueOptions,Gt=Qe===void 0?[]:Qe,yt=new Map;return Le.forEach(function(mr){if(!mr.group){var vr=mr.data;yt.set(vr.value,vr)}}),ze.map(function(mr){var vr=yt.get(mr);return vr||(vr=Object(Dt.a)({},Gt.find(function(Ar){return Ar._INTERNAL_OPTION_VALUE_===mr}))),au(vr)})}var Gu=function(Le,it){var Qe=it.options,Gt=it.prevValueMap,yt=it.labelInValue,mr=it.optionLabelProp,vr=jl([Le],Qe)[0],Ar={value:Le},sn=yt?Gt.get(Le):void 0;return sn&&Object(Qn.a)(sn)==="object"&&"label"in sn?(Ar.label=sn.label,vr&&typeof sn.label=="string"&&typeof vr[mr]=="string"&&sn.label.trim()!==vr[mr].trim()&&Object(mi.a)(!1,"`label` of `value` is not same as `label` in Select options.")):vr&&mr in vr?Ar.label=vr[mr]:(Ar.label=Le,Ar.isCacheable=!0),Ar.key=Ar.value,Ar};function mc(ze){return si(ze).join("")}function Kc(ze){return function(Le,it){var Qe=Le.toLowerCase();if("options"in it)return mc(it.label).toLowerCase().includes(Qe);var Gt=it[ze],yt=mc(Gt).toLowerCase();return yt.includes(Qe)}}function gs(ze,Le,it){var Qe=it.optionFilterProp,Gt=it.filterOption,yt=[],mr;return Gt===!1?Object(yn.a)(Le):(typeof Gt=="function"?mr=Gt:mr=Kc(Qe),Le.forEach(function(vr){if("options"in vr){var Ar=mr(ze,vr);if(Ar)yt.push(vr);else{var sn=vr.options.filter(function(bi){return mr(ze,bi)});sn.length&&yt.push(Object(Dt.a)(Object(Dt.a)({},vr),{},{options:sn}))}return}mr(ze,au(vr))&&yt.push(vr)}),yt)}function mf(ze,Le){if(!Le||!Le.length)return null;var it=!1;function Qe(yt,mr){var vr=Object(tn.a)(mr),Ar=vr[0],sn=vr.slice(1);if(!Ar)return[yt];var bi=yt.split(Ar);return it=it||bi.length>1,bi.reduce(function(nn,Ti){return[].concat(Object(yn.a)(nn),Object(yn.a)(Qe(Ti,sn)))},[]).filter(function(nn){return nn})}var Gt=Qe(ze,Le);return it?Gt:null}function Zc(ze,Le){var it=jl([ze],Le)[0];return it.disabled}function Hf(ze,Le,it,Qe){var Gt=si(Le).slice().sort(),yt=Object(yn.a)(ze),mr=new Set;return ze.forEach(function(vr){vr.options?vr.options.forEach(function(Ar){mr.add(Ar.value)}):mr.add(vr.value)}),Gt.forEach(function(vr){var Ar=Qe?vr.value:vr;if(!mr.has(Ar)){var sn;yt.push(Qe?(sn={},Object(xe.a)(sn,it,vr.label),Object(xe.a)(sn,"value",Ar),sn):{value:Ar})}}),yt}var Ac=U("6cGi");function di(ze){var Le=ze.prefixCls,it=ze.item,Qe=ze.renderItem,Gt=ze.responsive,yt=ze.registerSize,mr=ze.itemKey,vr=ze.className,Ar=ze.style,sn=ze.children,bi=ze.display,nn=ze.order,Ti=Gt&&!bi;function yo(co){yt(mr,co)}F.useEffect(function(){return function(){yo(null)}},[]);var mn=it!==void 0?Qe(it):sn,ca=F.createElement("div",{className:ve()(Le,vr),style:Object(Dt.a)({opacity:Ti?.2:1,height:Ti?0:void 0,overflowY:Ti?"hidden":void 0,order:Gt?nn:void 0,pointerEvents:Ti?"none":void 0},Ar)},mn);return Gt&&(ca=F.createElement(St.a,{onResize:function(is){var Yi=is.offsetWidth;yo(Yi)}},ca)),ca}function Ja(){var ze=Object(F.useState)({}),Le=Object(se.a)(ze,2),it=Le[1],Qe=Object(F.useRef)([]),Gt=Object(F.useRef)(!1),yt=0,mr=0;Object(F.useEffect)(function(){return function(){Gt.current=!0}},[]);function vr(Ar){var sn=yt;yt+=1,Qe.current.length<sn+1&&(Qe.current[sn]=Ar);var bi=Qe.current[sn];function nn(Ti){Qe.current[sn]=typeof Ti=="function"?Ti(Qe.current[sn]):Ti,$e.a.cancel(mr),mr=Object($e.a)(function(){Gt.current||it({})})}return[bi,nn]}return vr}var Jc="responsive";function La(ze){return"+ ".concat(ze.length," ...")}function Vf(ze,Le){var it=ze.prefixCls,Qe=it===void 0?"rc-overflow":it,Gt=ze.data,yt=Gt===void 0?[]:Gt,mr=ze.renderItem,vr=ze.itemKey,Ar=ze.itemWidth,sn=Ar===void 0?10:Ar,bi=ze.style,nn=ze.className,Ti=ze.maxCount,yo=ze.renderRest,mn=yo===void 0?La:yo,ca=ze.suffix,co=Ja(),is=co(0),Yi=Object(se.a)(is,2),fa=Yi[0],ha=Yi[1],Da=co(new Map),Xi=Object(se.a)(Da,2),fo=Xi[0],Qa=Xi[1],po=co(0),ws=Object(se.a)(po,2),os=ws[0],Ls=ws[1],oa=co(0),Lo=Object(se.a)(oa,2),wa=Lo[0],ba=Lo[1],ho=co(0),qa=Object(se.a)(ho,2),da=qa[0],ta=qa[1],Ka=Object(F.useState)(null),Za=Object(se.a)(Ka,2),cs=Za[0],Uo=Za[1],nc=Object(F.useState)(0),Yu=Object(se.a)(nc,2),Bu=Yu[0],El=Yu[1],ja=Object(F.useState)(!1),lu=Object(se.a)(ja,2),$c=lu[0],Ul=lu[1],uu="".concat(Qe,"-item"),Ks=Math.max(os,wa),fs=yt.length&&Ti===Jc,ju=fs||typeof Ti=="number"&&yt.length>Ti,$l=Object(F.useMemo)(function(){var Fi=yt;return fs?Fi=yt.slice(0,Math.min(yt.length,fa/sn)):typeof Ti=="number"&&(Fi=yt.slice(0,Ti)),Fi},[yt,sn,fa,Ti,fs]),ic=Object(F.useMemo)(function(){return fs?yt.slice(Bu+1):yt.slice($l.length)},[yt,$l,fs,Bu]),Nl=Object(F.useCallback)(function(Fi,Zo){var pa;return typeof vr=="function"?vr(Fi):(pa=vr&&(Fi==null?void 0:Fi[vr]))!==null&&pa!==void 0?pa:Zo},[vr]),zu=Object(F.useCallback)(mr||function(Fi){return Fi},[mr]);function bs(Fi,Zo){El(Fi),Zo||Ul(Fi<yt.length-1)}function Uu(Fi,Zo){ha(Zo.clientWidth)}function Yt(Fi,Zo){Qa(function(pa){var Kl=new Map(pa);return Zo===null?Kl.delete(Fi):Kl.set(Fi,Zo),Kl})}function Ur(Fi,Zo){ba(Zo),Ls(wa)}function Lr(Fi,Zo){ta(Zo)}function zi(Fi){return fo.get(Nl($l[Fi],Fi))}F.useLayoutEffect(function(){if(fa&&Ks&&$l){var Fi=da,Zo=$l.length,pa=Zo-1;if(!Zo){bs(0),Uo(null);return}for(var Kl=0;Kl<Zo;Kl+=1){var oc=zi(Kl);if(oc===void 0){bs(Kl-1,!0);break}if(Fi+=oc,Kl===pa-1&&Fi+zi(pa)<=fa){bs(pa),Uo(null);break}else if(Fi+Ks>fa){bs(Kl-1),Uo(Fi-oc-da+wa);break}else if(Kl===pa){bs(pa),Uo(Fi-da);break}}ca&&zi(0)+da>fa&&Uo(null)}},[fa,fo,wa,da,Nl,$l]);var Mo=$c&&!!ic.length,Ta={};cs!==null&&fs&&(Ta={position:"absolute",left:cs,top:0});var Ss={prefixCls:uu,responsive:fs},Go=F.createElement("div",{className:ve()(Qe,nn),style:bi,ref:Le},$l.map(function(Fi,Zo){var pa=Nl(Fi,Zo);return F.createElement(di,Object(Oe.a)({},Ss,{order:Zo,key:pa,item:Fi,renderItem:zu,itemKey:pa,registerSize:Yt,display:Zo<=Bu}))}),ju?F.createElement(di,Object(Oe.a)({},Ss,{order:Mo?Bu:Number.MAX_SAFE_INTEGER,className:"".concat(uu,"-rest"),registerSize:Ur,display:Mo}),typeof mn=="function"?mn(ic):mn):null,ca&&F.createElement(di,Object(Oe.a)({},Ss,{order:Bu,className:"".concat(uu,"-suffix"),registerSize:Lr,display:!0,style:Ta}),ca));return fs&&(Go=F.createElement(St.a,{onResize:Uu},Go)),Go}var zl=F.forwardRef(Vf);zl.displayName="Overflow";var nd=zl,tc=nd,Mh=U("c+Xe"),_f=function(Le,it){var Qe=Le.prefixCls,Gt=Le.id,yt=Le.inputElement,mr=Le.disabled,vr=Le.tabIndex,Ar=Le.autoFocus,sn=Le.autoComplete,bi=Le.editable,nn=Le.accessibilityIndex,Ti=Le.value,yo=Le.maxLength,mn=Le.onKeyDown,ca=Le.onMouseDown,co=Le.onChange,is=Le.onPaste,Yi=Le.onCompositionStart,fa=Le.onCompositionEnd,ha=Le.open,Da=Le.attrs,Xi=yt||F.createElement("input",null),fo=Xi,Qa=fo.ref,po=fo.props,ws=po.onKeyDown,os=po.onChange,Ls=po.onMouseDown,oa=po.onCompositionStart,Lo=po.onCompositionEnd,wa=po.style;return Xi=F.cloneElement(Xi,Object(Dt.a)(Object(Dt.a)({id:Gt,ref:Object(Mh.a)(it,Qa),disabled:mr,tabIndex:vr,autoComplete:sn||"off",type:"search",autoFocus:Ar,className:"".concat(Qe,"-selection-search-input"),style:Object(Dt.a)(Object(Dt.a)({},wa),{},{opacity:bi?null:0}),role:"combobox","aria-expanded":ha,"aria-haspopup":"listbox","aria-owns":"".concat(Gt,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(Gt,"_list"),"aria-activedescendant":"".concat(Gt,"_list_").concat(nn)},Da),{},{value:bi?Ti:"",maxLength:yo,readOnly:!bi,unselectable:bi?null:"on",onKeyDown:function(ho){mn(ho),ws&&ws(ho)},onMouseDown:function(ho){ca(ho),Ls&&Ls(ho)},onChange:function(ho){co(ho),os&&os(ho)},onCompositionStart:function(ho){Yi(ho),oa&&oa(ho)},onCompositionEnd:function(ho){fa(ho),Lo&&Lo(ho)},onPaste:is})),Xi},rc=F.forwardRef(_f);rc.displayName="Input";var su=rc;function Xl(ze,Le){Ro?F.useLayoutEffect(ze,Le):F.useEffect(ze,Le)}var Dc=function(Le){Le.preventDefault(),Le.stopPropagation()},bu=function(Le){var it=Le.id,Qe=Le.prefixCls,Gt=Le.values,yt=Le.open,mr=Le.searchValue,vr=Le.inputRef,Ar=Le.placeholder,sn=Le.disabled,bi=Le.mode,nn=Le.showSearch,Ti=Le.autoFocus,yo=Le.autoComplete,mn=Le.accessibilityIndex,ca=Le.tabIndex,co=Le.removeIcon,is=Le.maxTagCount,Yi=Le.maxTagTextLength,fa=Le.maxTagPlaceholder,ha=fa===void 0?function(Ul){return"+ ".concat(Ul.length," ...")}:fa,Da=Le.tagRender,Xi=Le.onToggleOpen,fo=Le.onSelect,Qa=Le.onInputChange,po=Le.onInputPaste,ws=Le.onInputKeyDown,os=Le.onInputMouseDown,Ls=Le.onInputCompositionStart,oa=Le.onInputCompositionEnd,Lo=F.useRef(null),wa=Object(F.useState)(0),ba=Object(se.a)(wa,2),ho=ba[0],qa=ba[1],da=Object(F.useState)(!1),ta=Object(se.a)(da,2),Ka=ta[0],Za=ta[1],cs="".concat(Qe,"-selection"),Uo=yt||bi==="tags"?mr:"",nc=bi==="tags"||nn&&(yt||Ka);Xl(function(){qa(Lo.current.scrollWidth)},[Uo]);function Yu(Ul,uu,Ks,fs){return F.createElement("span",{className:ve()("".concat(cs,"-item"),Object(xe.a)({},"".concat(cs,"-item-disabled"),uu))},F.createElement("span",{className:"".concat(cs,"-item-content")},Ul),Ks&&F.createElement(Vn,{className:"".concat(cs,"-item-remove"),onMouseDown:Dc,onClick:fs,customizeIcon:co},"\xD7"))}function Bu(Ul,uu,Ks,fs,ju){var $l=function(Nl){Dc(Nl),Xi(!0)};return F.createElement("span",{onMouseDown:$l},Da({label:uu,value:Ul,disabled:Ks,closable:fs,onClose:ju}))}function El(Ul){var uu=Ul.disabled,Ks=Ul.label,fs=Ul.value,ju=!sn&&!uu,$l=Ks;if(typeof Yi=="number"&&(typeof Ks=="string"||typeof Ks=="number")){var ic=String($l);ic.length>Yi&&($l="".concat(ic.slice(0,Yi),"..."))}var Nl=function(bs){bs&&bs.stopPropagation(),fo(fs,{selected:!1})};return typeof Da=="function"?Bu(fs,$l,uu,ju,Nl):Yu($l,uu,ju,Nl)}function ja(Ul){var uu=typeof ha=="function"?ha(Ul):ha;return Yu(uu,!1)}var lu=F.createElement("div",{className:"".concat(cs,"-search"),style:{width:ho},onFocus:function(){Za(!0)},onBlur:function(){Za(!1)}},F.createElement(su,{ref:vr,open:yt,prefixCls:Qe,id:it,inputElement:null,disabled:sn,autoFocus:Ti,autoComplete:yo,editable:nc,accessibilityIndex:mn,value:Uo,onKeyDown:ws,onMouseDown:os,onChange:Qa,onPaste:po,onCompositionStart:Ls,onCompositionEnd:oa,tabIndex:ca,attrs:Object(mt.a)(Le,!0)}),F.createElement("span",{ref:Lo,className:"".concat(cs,"-search-mirror"),"aria-hidden":!0},Uo,"\xA0")),$c=F.createElement(tc,{prefixCls:"".concat(cs,"-overflow"),data:Gt,renderItem:El,renderRest:ja,suffix:lu,itemKey:"key",maxCount:is});return F.createElement(F.Fragment,null,$c,!Gt.length&&!Uo&&F.createElement("span",{className:"".concat(cs,"-placeholder")},Ar))},Ha=bu,Ko=function(Le){var it=Le.inputElement,Qe=Le.prefixCls,Gt=Le.id,yt=Le.inputRef,mr=Le.disabled,vr=Le.autoFocus,Ar=Le.autoComplete,sn=Le.accessibilityIndex,bi=Le.mode,nn=Le.open,Ti=Le.values,yo=Le.placeholder,mn=Le.tabIndex,ca=Le.showSearch,co=Le.searchValue,is=Le.activeValue,Yi=Le.maxLength,fa=Le.onInputKeyDown,ha=Le.onInputMouseDown,Da=Le.onInputChange,Xi=Le.onInputPaste,fo=Le.onInputCompositionStart,Qa=Le.onInputCompositionEnd,po=F.useState(!1),ws=Object(se.a)(po,2),os=ws[0],Ls=ws[1],oa=bi==="combobox",Lo=oa||ca,wa=Ti[0],ba=co||"";oa&&is&&!os&&(ba=is),F.useEffect(function(){oa&&Ls(!1)},[oa,is]);var ho=bi!=="combobox"&&!nn?!1:!!ba,qa=wa&&(typeof wa.label=="string"||typeof wa.label=="number")?wa.label.toString():void 0;return F.createElement(F.Fragment,null,F.createElement("span",{className:"".concat(Qe,"-selection-search")},F.createElement(su,{ref:yt,prefixCls:Qe,id:Gt,open:nn,inputElement:it,disabled:mr,autoFocus:vr,autoComplete:Ar,editable:Lo,accessibilityIndex:sn,value:ba,onKeyDown:fa,onMouseDown:ha,onChange:function(ta){Ls(!0),Da(ta)},onPaste:Xi,onCompositionStart:fo,onCompositionEnd:Qa,tabIndex:mn,attrs:Object(mt.a)(Le,!0),maxLength:oa?Yi:void 0})),!oa&&wa&&!ho&&F.createElement("span",{className:"".concat(Qe,"-selection-item"),title:qa},wa.label),!wa&&!ho&&F.createElement("span",{className:"".concat(Qe,"-selection-placeholder")},yo))},Tu=Ko;function zs(){var ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,Le=F.useRef(null),it=F.useRef(null);F.useEffect(function(){return function(){window.clearTimeout(it.current)}},[]);function Qe(Gt){(Gt||Le.current===null)&&(Le.current=Gt),window.clearTimeout(it.current),it.current=window.setTimeout(function(){Le.current=null},ze)}return[function(){return Le.current},Qe]}var Eh=function(Le,it){var Qe=Object(F.useRef)(null),Gt=Object(F.useRef)(!1),yt=Le.prefixCls,mr=Le.multiple,vr=Le.open,Ar=Le.mode,sn=Le.showSearch,bi=Le.tokenWithEnter,nn=Le.onSearch,Ti=Le.onSearchSubmit,yo=Le.onToggleOpen,mn=Le.onInputKeyDown,ca=Le.domRef;F.useImperativeHandle(it,function(){return{focus:function(){Qe.current.focus()},blur:function(){Qe.current.blur()}}});var co=zs(0),is=Object(se.a)(co,2),Yi=is[0],fa=is[1],ha=function(ho){var qa=ho.which;(qa===Re.a.UP||qa===Re.a.DOWN)&&ho.preventDefault(),mn&&mn(ho),qa===Re.a.ENTER&&Ar==="tags"&&!Gt.current&&!vr&&Ti(ho.target.value),[Re.a.SHIFT,Re.a.TAB,Re.a.BACKSPACE,Re.a.ESC].includes(qa)||yo(!0)},Da=function(){fa(!0)},Xi=Object(F.useRef)(null),fo=function(ho){nn(ho,!0,Gt.current)!==!1&&yo(!0)},Qa=function(){Gt.current=!0},po=function(ho){Gt.current=!1,fo(ho.target.value)},ws=function(ho){var qa=ho.target.value;if(bi&&Xi.current&&/[\r\n]/.test(Xi.current)){var da=Xi.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");qa=qa.replace(da,Xi.current)}Xi.current=null,fo(qa)},os=function(ho){var qa=ho.clipboardData,da=qa.getData("text");Xi.current=da},Ls=function(ho){var qa=ho.target;if(qa!==Qe.current){var da=document.body.style.msTouchAction!==void 0;da?setTimeout(function(){Qe.current.focus()}):Qe.current.focus()}},oa=function(ho){var qa=Yi();ho.target!==Qe.current&&!qa&&ho.preventDefault(),(Ar!=="combobox"&&(!sn||!qa)||!vr)&&(vr&&nn("",!0,!1),yo())},Lo={inputRef:Qe,onInputKeyDown:ha,onInputMouseDown:Da,onInputChange:ws,onInputPaste:os,onInputCompositionStart:Qa,onInputCompositionEnd:po},wa=mr?F.createElement(Ha,Object.assign({},Le,Lo)):F.createElement(Tu,Object.assign({},Le,Lo));return F.createElement("div",{ref:ca,className:"".concat(yt,"-selector"),onClick:Ls,onMouseDown:oa},wa)},Nc=F.forwardRef(Eh);Nc.displayName="Selector";var Ed=Nc,Zd=U("uciX"),Wf=function(Le){var it=typeof Le!="number"?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:it,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:it,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:it,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:it,adjustY:1}}}},Jd=function(Le,it){var Qe=Le.prefixCls,Gt=Le.disabled,yt=Le.visible,mr=Le.children,vr=Le.popupElement,Ar=Le.containerWidth,sn=Le.animation,bi=Le.transitionName,nn=Le.dropdownStyle,Ti=Le.dropdownClassName,yo=Le.direction,mn=yo===void 0?"ltr":yo,ca=Le.dropdownMatchSelectWidth,co=ca===void 0?!0:ca,is=Le.dropdownRender,Yi=Le.dropdownAlign,fa=Le.getPopupContainer,ha=Le.empty,Da=Le.getTriggerDOMNode,Xi=Object(at.a)(Le,["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode"]),fo="".concat(Qe,"-dropdown"),Qa=vr;is&&(Qa=is(vr));var po=F.useMemo(function(){return Wf(co)},[co]),ws=sn?"".concat(fo,"-").concat(sn):bi,os=F.useRef(null);F.useImperativeHandle(it,function(){return{getPopupElement:function(){return os.current}}});var Ls=Object(Dt.a)({minWidth:Ar},nn);return typeof co=="number"?Ls.width=co:co&&(Ls.width=Ar),F.createElement(Zd.a,Object.assign({},Xi,{showAction:[],hideAction:[],popupPlacement:mn==="rtl"?"bottomRight":"bottomLeft",builtinPlacements:po,prefixCls:fo,popupTransitionName:ws,popup:F.createElement("div",{ref:os},Qa),popupAlign:Yi,popupVisible:yt,getPopupContainer:fa,popupClassName:ve()(Ti,Object(xe.a)({},"".concat(fo,"-empty"),ha)),popupStyle:Ls,getTriggerDOMNode:Da}),mr)},id=F.forwardRef(Jd);id.displayName="SelectTrigger";var zh=id,Th="RC_SELECT_INTERNAL_PROPS_MARK";function If(){var ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,Le=F.useState(!1),it=Object(se.a)(Le,2),Qe=it[0],Gt=it[1],yt=F.useRef(null),mr=function(){window.clearTimeout(yt.current)};F.useEffect(function(){return mr},[]);var vr=function(sn,bi){mr(),yt.current=window.setTimeout(function(){Gt(sn),bi&&bi()},ze)};return[Qe,vr,mr]}function ql(ze,Le,it){var Qe=F.useRef(null);Qe.current={elements:ze.filter(function(Gt){return Gt}),open:Le,triggerOpen:it},F.useEffect(function(){function Gt(yt){var mr=yt.target;mr.shadowRoot&&yt.composed&&(mr=yt.composedPath()[0]||mr),Qe.current.open&&Qe.current.elements.every(function(vr){return!vr.contains(mr)&&vr!==mr})&&Qe.current.triggerOpen(!1)}return window.addEventListener("mousedown",Gt),function(){return window.removeEventListener("mousedown",Gt)}},[])}function Ho(ze){var Le=F.useRef(ze),it=F.useMemo(function(){var Qe=new Map;Le.current.forEach(function(yt){var mr=yt.value,vr=yt.label;mr!==vr&&Qe.set(mr,vr)});var Gt=ze.map(function(yt){var mr=Qe.get(yt.value);return yt.isCacheable&&mr?Object(Dt.a)(Object(Dt.a)({},yt),{},{label:mr}):yt});return Le.current=Gt,Gt},[ze]);return it}function ul(ze){var Le=F.useRef(null),it=F.useMemo(function(){var Gt=new Map;return ze.forEach(function(yt){var mr=yt.data.value;Gt.set(mr,yt)}),Gt},[ze]);Le.current=it;var Qe=function(yt){return yt.map(function(mr){return Le.current.get(mr)}).filter(Boolean)};return Qe}var oh=["removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","tabIndex"];function ls(ze){var Le=ze.prefixCls,it=ze.components.optionList,Qe=ze.convertChildrenToData,Gt=ze.flattenOptions,yt=ze.getLabeledValue,mr=ze.filterOptions,vr=ze.isValueDisabled,Ar=ze.findValueOption,sn=ze.warningProps,bi=ze.fillOptionsWithMissingValue,nn=ze.omitDOMProps;function Ti(mn,ca){var co,is=mn.prefixCls,Yi=is===void 0?Le:is,fa=mn.className,ha=mn.id,Da=mn.open,Xi=mn.defaultOpen,fo=mn.options,Qa=mn.children,po=mn.mode,ws=mn.value,os=mn.defaultValue,Ls=mn.labelInValue,oa=mn.showSearch,Lo=mn.inputValue,wa=mn.searchValue,ba=mn.filterOption,ho=mn.filterSort,qa=mn.optionFilterProp,da=qa===void 0?"value":qa,ta=mn.autoClearSearchValue,Ka=ta===void 0?!0:ta,Za=mn.onSearch,cs=mn.allowClear,Uo=mn.clearIcon,nc=mn.showArrow,Yu=mn.inputIcon,Bu=mn.menuItemSelectedIcon,El=mn.disabled,ja=mn.loading,lu=mn.defaultActiveFirstOption,$c=mn.notFoundContent,Ul=$c===void 0?"Not Found":$c,uu=mn.optionLabelProp,Ks=mn.backfill,fs=mn.tabIndex,ju=mn.getInputElement,$l=mn.getPopupContainer,ic=mn.listHeight,Nl=ic===void 0?200:ic,zu=mn.listItemHeight,bs=zu===void 0?20:zu,Uu=mn.animation,Yt=mn.transitionName,Ur=mn.virtual,Lr=mn.dropdownStyle,zi=mn.dropdownClassName,Mo=mn.dropdownMatchSelectWidth,Ta=mn.dropdownRender,Ss=mn.dropdownAlign,Go=mn.showAction,Fi=Go===void 0?[]:Go,Zo=mn.direction,pa=mn.tokenSeparators,Kl=mn.tagRender,oc=mn.onPopupScroll,ef=mn.onDropdownVisibleChange,cu=mn.onFocus,Gf=mn.onBlur,Ds=mn.onKeyUp,Yf=mn.onKeyDown,Xf=mn.onMouseDown,vc=mn.onChange,Kf=mn.onSelect,sh=mn.onDeselect,ld=mn.onClear,lh=mn.internalProps,_u=lh===void 0?{}:lh,yf=Object(at.a)(mn,["prefixCls","className","id","open","defaultOpen","options","children","mode","value","defaultValue","labelInValue","showSearch","inputValue","searchValue","filterOption","filterSort","optionFilterProp","autoClearSearchValue","onSearch","allowClear","clearIcon","showArrow","inputIcon","menuItemSelectedIcon","disabled","loading","defaultActiveFirstOption","notFoundContent","optionLabelProp","backfill","tabIndex","getInputElement","getPopupContainer","listHeight","listItemHeight","animation","transitionName","virtual","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","showAction","direction","tokenSeparators","tagRender","onPopupScroll","onDropdownVisibleChange","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown","onChange","onSelect","onDeselect","onClear","internalProps"]),uh=_u.mark===Th,gc=nn?nn(yf):yf;oh.forEach(function(To){delete gc[To]});var ac=Object(F.useRef)(null),bc=Object(F.useRef)(null),xo=Object(F.useRef)(null),sc=Object(F.useRef)(null),_d=Object(F.useMemo)(function(){return(pa||[]).some(function(To){return[`
`,`\r
`].includes(To)})},[pa]),eu=If(),Ih=Object(se.a)(eu,3),$d=Ih[0],Id=Ih[1],Kp=Ih[2],ep=Object(F.useState)(),Vo=Object(se.a)(ep,2),ud=Vo[0],Zf=Vo[1];Object(F.useEffect)(function(){Zf("rc_select_".concat(zo()))},[]);var tp=ha||ud,Pd=uu;Pd===void 0&&(Pd=fo?"label":"children");var cd=po==="combobox"?!1:Ls,no=po==="tags"||po==="multiple",Us=oa!==void 0?oa:no||po==="combobox",fd=Object(F.useRef)(null);F.useImperativeHandle(ca,function(){var To;return{focus:xo.current.focus,blur:xo.current.blur,scrollTo:(To=sc.current)===null||To===void 0?void 0:To.scrollTo}});var Np=Object(Ac.a)(os,{value:ws}),Ph=Object(se.a)(Np,2),tf=Ph[0],Od=Ph[1],Xu=Object(F.useMemo)(function(){return Ji(tf,{labelInValue:cd,combobox:po==="combobox"})},[tf,cd]),io=Object(se.a)(Xu,2),Ns=io[0],Pf=io[1],Of=Object(F.useMemo)(function(){return new Set(Ns)},[Ns]),Ku=Object(F.useState)(null),Oh=Object(se.a)(Ku,2),Sp=Oh[0],Jf=Oh[1],kh=Object(F.useState)(""),Hh=Object(se.a)(kh,2),ga=Hh[0],Zu=Hh[1],fl=ga;po==="combobox"&&tf!==void 0?fl=tf:wa!==void 0?fl=wa:Lo&&(fl=Lo);var Fc=Object(F.useMemo)(function(){var To=fo;return To===void 0&&(To=Qe(Qa)),po==="tags"&&bi&&(To=bi(To,tf,Pd,Ls)),To||[]},[fo,Qa,po,tf]),Ve=Object(F.useMemo)(function(){return Gt(Fc,mn)},[Fc]),Bc=ul(Ve),lc=Object(F.useMemo)(function(){if(!fl||!Us)return Object(yn.a)(Fc);var To=mr(fl,Fc,{optionFilterProp:da,filterOption:po==="combobox"&&ba===void 0?function(){return!0}:ba});return po==="tags"&&To.every(function(Li){return Li[da]!==fl})&&To.unshift({value:fl,label:fl,key:"__RC_SELECT_TAG_PLACEHOLDER__"}),ho&&Array.isArray(To)?Object(yn.a)(To).sort(ho):To},[Fc,fl,po,Us,ho]),uc=Object(F.useMemo)(function(){return Gt(lc,mn)},[lc]);Object(F.useEffect)(function(){sc.current&&sc.current.scrollTo&&sc.current.scrollTo(0)},[fl]);var fi=Object(F.useMemo)(function(){var To=Ns.map(function(Li){var Zi=Bc([Li]),Io=yt(Li,{options:Zi,prevValueMap:Pf,labelInValue:cd,optionLabelProp:Pd});return Object(Dt.a)(Object(Dt.a)({},Io),{},{disabled:vr(Li,Zi)})});return!po&&To.length===1&&To[0].value===null&&To[0].label===null?[]:To},[tf,Fc,po]);fi=Ho(fi);var Iu=function(Li,Zi,Io){var _i=Bc([Li]),Co=Ar([Li],_i)[0];if(!_u.skipTriggerSelect){var hs=cd?yt(Li,{options:_i,prevValueMap:Pf,labelInValue:cd,optionLabelProp:Pd}):Li;Zi&&Kf?Kf(hs,Co):!Zi&&sh&&sh(hs,Co)}uh&&(Zi&&_u.onRawSelect?_u.onRawSelect(Li,Co,Io):!Zi&&_u.onRawDeselect&&_u.onRawDeselect(Li,Co,Io))},rf=Object(F.useState)([]),Mp=Object(se.a)(rf,2),hd=Mp[0],Rd=Mp[1],xl=function(Li){if(!(uh&&_u.skipTriggerChange)){var Zi=Bc(Li),Io=Hi(Array.from(Li),{labelInValue:cd,options:Zi,getLabeledValue:yt,prevValueMap:Pf,optionLabelProp:Pd}),_i=no?Io:Io[0];if(vc&&(Ns.length!==0||Io.length!==0)){var Co=Ar(Li,Zi,{prevValueOptions:hd});Rd(Co.map(function(hs,mu){var ks=Object(Dt.a)({},hs);return Object.defineProperty(ks,"_INTERNAL_OPTION_VALUE_",{get:function(){return Li[mu]}}),ks})),vc(_i,no?Co:Co[0])}Od(_i)}},Qf=function(Li,Zi){var Io=Zi.selected,_i=Zi.source;if(!El){var Co;no?(Co=new Set(Ns),Io?Co.add(Li):Co.delete(Li)):(Co=new Set,Co.add(Li)),(no||!no&&Array.from(Ns)[0]!==Li)&&xl(Array.from(Co)),Iu(Li,!no||Io,_i),po==="combobox"?(Zu(String(Li)),Jf("")):(!no||Ka)&&(Zu(""),Jf(""))}},Vh=function(Li,Zi){Qf(Li,Object(Dt.a)(Object(Dt.a)({},Zi),{},{source:"option"}))},Wh=function(Li,Zi){Qf(Li,Object(Dt.a)(Object(Dt.a)({},Zi),{},{source:"selection"}))},qf=po==="combobox"&&ju&&ju()||null,dd=Object(Ac.a)(void 0,{defaultValue:Xi,value:Da}),jc=Object(se.a)(dd,2),oe=jc[0],te=jc[1],ce=oe,Se=!Ul&&!lc.length;(El||Se&&ce&&po==="combobox")&&(ce=!1);var Ye=Se?!1:ce,Ct=function(Li){var Zi=Li!==void 0?Li:!ce;oe!==Zi&&!El&&(te(Zi),ef&&ef(Zi))};ql([ac.current,bc.current&&bc.current.getPopupElement()],Ye,Ct);var _t=function(Li,Zi,Io){var _i=!0,Co=Li;Jf(null);var hs=Io?null:mf(Li,pa),mu=hs;if(po==="combobox")Zi&&xl([Co]);else if(hs){Co="",po!=="tags"&&(mu=hs.map(function(Pu){var ya=Ve.find(function(Do){var cc=Do.data;return cc[Pd]===Pu});return ya?ya.data.value:null}).filter(function(Pu){return Pu!==null}));var ks=Array.from(new Set([].concat(Object(yn.a)(Ns),Object(yn.a)(mu))));xl(ks),ks.forEach(function(Pu){Iu(Pu,!0,"input")}),Ct(!1),_i=!1}return Zu(Co),Za&&fl!==Co&&Za(Co),_i},Nr=function(Li){var Zi=Array.from(new Set([].concat(Object(yn.a)(Ns),[Li])));xl(Zi),Zi.forEach(function(Io){Iu(Io,!0,"input")}),Zu("")};Object(F.useEffect)(function(){oe&&!!El&&te(!1)},[El]),Object(F.useEffect)(function(){!ce&&!no&&po!=="combobox"&&_t("",!1,!1)},[ce]);var yr=zs(),ln=Object(se.a)(yr,2),ni=ln[0],Oi=ln[1],Ki=function(Li){var Zi=ni(),Io=Li.which;if(!ce&&Io===Re.a.ENTER&&Ct(!0),Oi(!!fl),Io===Re.a.BACKSPACE&&!Zi&&no&&!fl&&Ns.length){var _i=eo(fi,Ns);_i.removedValue!==null&&(xl(_i.values),Iu(_i.removedValue,!1,"input"))}for(var Co=arguments.length,hs=new Array(Co>1?Co-1:0),mu=1;mu<Co;mu++)hs[mu-1]=arguments[mu];if(ce&&sc.current){var ks;(ks=sc.current).onKeyDown.apply(ks,[Li].concat(hs))}Yf&&Yf.apply(void 0,[Li].concat(hs))},Bi=function(Li){for(var Zi=arguments.length,Io=new Array(Zi>1?Zi-1:0),_i=1;_i<Zi;_i++)Io[_i-1]=arguments[_i];if(ce&&sc.current){var Co;(Co=sc.current).onKeyUp.apply(Co,[Li].concat(Io))}Ds&&Ds.apply(void 0,[Li].concat(Io))},Ri=Object(F.useRef)(!1),ma=function(){Id(!0),El||(cu&&!Ri.current&&cu.apply(void 0,arguments),Fi.includes("focus")&&Ct(!0)),Ri.current=!0},ra=function(){Id(!1,function(){Ri.current=!1,Ct(!1)}),!El&&(fl&&(po==="tags"?(_t("",!1,!1),xl(Array.from(new Set([].concat(Object(yn.a)(Ns),[fl]))))):po==="multiple"&&Zu("")),Gf&&Gf.apply(void 0,arguments))},Fs=[];Object(F.useEffect)(function(){return function(){Fs.forEach(function(To){return clearTimeout(To)}),Fs.splice(0,Fs.length)}},[]);var fu=function(Li){var Zi=Li.target,Io=bc.current&&bc.current.getPopupElement();if(Io&&Io.contains(Zi)){var _i=setTimeout(function(){var ks=Fs.indexOf(_i);ks!==-1&&Fs.splice(ks,1),Kp(),Io.contains(document.activeElement)||xo.current.focus()});Fs.push(_i)}if(Xf){for(var Co=arguments.length,hs=new Array(Co>1?Co-1:0),mu=1;mu<Co;mu++)hs[mu-1]=arguments[mu];Xf.apply(void 0,[Li].concat(hs))}},Zs=Object(F.useState)(0),_a=Object(se.a)(Zs,2),ku=_a[0],zc=_a[1],hu=lu!==void 0?lu:po!=="combobox",Na=function(Li,Zi){var Io=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_i=Io.source,Co=_i===void 0?"keyboard":_i;zc(Zi),Ks&&po==="combobox"&&Li!==null&&Co==="keyboard"&&Jf(String(Li))},Va=Object(F.useState)(null),Rf=Object(se.a)(Va,2),Hu=Rf[0],Vu=Rf[1],Ju=Object(F.useState)({}),yc=Object(se.a)(Ju,2),Zl=yc[1];function nf(){Zl({})}Xl(function(){if(Ye){var To=Math.ceil(ac.current.offsetWidth);Hu!==To&&Vu(To)}},[Ye]);var du=F.createElement(it,{ref:sc,prefixCls:Yi,id:tp,open:ce,childrenAsData:!fo,options:lc,flattenOptions:uc,multiple:no,values:Of,height:Nl,itemHeight:bs,onSelect:Vh,onToggleOpen:Ct,onActiveValue:Na,defaultActiveFirstOption:hu,notFoundContent:Ul,onScroll:oc,searchValue:fl,menuItemSelectedIcon:Bu,virtual:Ur!==!1&&Mo!==!1,onMouseEnter:nf}),xf,Su=function(){uh&&_u.onClear&&_u.onClear(),ld&&ld(),xl([]),_t("",!1,!1)};!El&&cs&&(Ns.length||fl)&&(xf=F.createElement(Vn,{className:"".concat(Yi,"-clear"),onMouseDown:Su,customizeIcon:Uo},"\xD7"));var pu=nc!==void 0?nc:ja||!no&&po!=="combobox",ch;pu&&(ch=F.createElement(Vn,{className:ve()("".concat(Yi,"-arrow"),Object(xe.a)({},"".concat(Yi,"-arrow-loading"),ja)),customizeIcon:Yu,customizeIconProps:{loading:ja,searchValue:fl,open:ce,focused:$d,showSearch:Us}}));var $f=ve()(Yi,fa,(co={},Object(xe.a)(co,"".concat(Yi,"-focused"),$d),Object(xe.a)(co,"".concat(Yi,"-multiple"),no),Object(xe.a)(co,"".concat(Yi,"-single"),!no),Object(xe.a)(co,"".concat(Yi,"-allow-clear"),cs),Object(xe.a)(co,"".concat(Yi,"-show-arrow"),pu),Object(xe.a)(co,"".concat(Yi,"-disabled"),El),Object(xe.a)(co,"".concat(Yi,"-loading"),ja),Object(xe.a)(co,"".concat(Yi,"-open"),ce),Object(xe.a)(co,"".concat(Yi,"-customize-input"),qf),Object(xe.a)(co,"".concat(Yi,"-show-search"),Us),co));return F.createElement("div",Object.assign({className:$f},gc,{ref:ac,onMouseDown:fu,onKeyDown:Ki,onKeyUp:Bi,onFocus:ma,onBlur:ra}),$d&&!ce&&F.createElement("span",{style:{width:0,height:0,display:"flex",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(Ns.join(", "))),F.createElement(zh,{ref:bc,disabled:El,prefixCls:Yi,visible:Ye,popupElement:du,containerWidth:Hu,animation:Uu,transitionName:Yt,dropdownStyle:Lr,dropdownClassName:zi,direction:Zo,dropdownMatchSelectWidth:Mo,dropdownRender:Ta,dropdownAlign:Ss,getPopupContainer:$l,empty:!Fc.length,getTriggerDOMNode:function(){return fd.current}},F.createElement(Ed,Object.assign({},mn,{domRef:fd,prefixCls:Yi,inputElement:qf,ref:xo,id:tp,showSearch:Us,mode:po,accessibilityIndex:ku,multiple:no,tagRender:Kl,values:fi,open:ce,onToggleOpen:Ct,searchValue:fl,activeValue:Sp,onSearch:_t,onSearchSubmit:Nr,onSelect:Wh,tokenWithEnter:_d}))),ch,xf)}var yo=F.forwardRef(Ti);return yo}function cl(ze){var Le=ze.mode,it=ze.options,Qe=ze.children,Gt=ze.backfill,yt=ze.allowClear,mr=ze.placeholder,vr=ze.getInputElement,Ar=ze.showSearch,sn=ze.onSearch,bi=ze.defaultOpen,nn=ze.autoFocus,Ti=ze.labelInValue,yo=ze.value,mn=ze.inputValue,ca=ze.optionLabelProp,co=Le==="multiple"||Le==="tags",is=Ar!==void 0?Ar:co||Le==="combobox",Yi=it||jr(Qe);if(Object(mi.a)(Le!=="tags"||Yi.every(function(Xi){return!Xi.disabled}),"Please avoid setting option to disabled in tags mode since user can always type text as tag."),Le==="tags"||Le==="combobox"){var fa=Yi.some(function(Xi){return Xi.options?Xi.options.some(function(fo){return typeof("value"in fo?fo.value:fo.key)=="number"}):typeof("value"in Xi?Xi.value:Xi.key)=="number"});Object(mi.a)(!fa,"`value` of Option should not use number type when `mode` is `tags` or `combobox`.")}if(Object(mi.a)(Le!=="combobox"||!ca,"`combobox` mode not support `optionLabelProp`. Please set `value` on Option directly."),Object(mi.a)(Le==="combobox"||!Gt,"`backfill` only works with `combobox` mode."),Object(mi.a)(Le==="combobox"||!vr,"`getInputElement` only work with `combobox` mode."),Object(mi.b)(Le!=="combobox"||!vr||!yt||!mr,"Customize `getInputElement` should customize clear and placeholder logic instead of configuring `allowClear` and `placeholder`."),sn&&!is&&Le!=="combobox"&&Le!=="tags"&&Object(mi.a)(!1,"`onSearch` should work with `showSearch` instead of use alone."),Object(mi.b)(!bi||nn,"`defaultOpen` makes Select open without focus which means it will not close by click outside. You can set `autoFocus` if needed."),yo!=null){var ha=si(yo);Object(mi.a)(!Ti||ha.every(function(Xi){return Object(Qn.a)(Xi)==="object"&&("key"in Xi||"value"in Xi)}),"`value` should in shape of `{ value: string | number, label?: ReactNode }` when you set `labelInValue` to `true`"),Object(mi.a)(!co||Array.isArray(yo),"`value` should be array when `mode` is `multiple` or `tags`")}if(Qe){var Da=null;Object(en.a)(Qe).some(function(Xi){if(!F.isValidElement(Xi)||!Xi.type)return!1;var fo=Xi.type;if(fo.isSelectOption)return!1;if(fo.isSelectOptGroup){var Qa=Object(en.a)(Xi.props.children).every(function(po){return!F.isValidElement(po)||!Xi.type||po.type.isSelectOption?!0:(Da=po.type,!1)});return!Qa}return Da=fo,!0}),Da&&Object(mi.a)(!1,"`children` should be `Select.Option` or `Select.OptGroup` instead of `".concat(Da.displayName||Da.name||Da,"`.")),Object(mi.a)(mn===void 0,"`inputValue` is deprecated, please use `searchValue` instead.")}}var wp=cl,mm=ls({prefixCls:"rc-select",components:{optionList:Ei},convertChildrenToData:jr,flattenOptions:yl,getLabeledValue:Gu,filterOptions:gs,isValueDisabled:Zc,findValueOption:jl,warningProps:wp,fillOptionsWithMissingValue:Hf}),Qc=function(ze){Object(we.a)(it,ze);var Le=Object(De.a)(it);function it(){var Qe;return Object(Pe.a)(this,it),Qe=Le.apply(this,arguments),Qe.selectRef=F.createRef(),Qe.focus=function(){Qe.selectRef.current.focus()},Qe.blur=function(){Qe.selectRef.current.blur()},Qe}return Object(We.a)(it,[{key:"render",value:function(){return F.createElement(mm,Object.assign({ref:this.selectRef},this.props))}}]),it}(F.Component);Qc.Option=Je,Qc.OptGroup=ut;var od=Qc,vf=od,gf=U("H84U"),qc=U("8Skl"),ad=U("ye1Q"),Ni=U("bRQS"),Uh=U("4i/N"),Td=U("jN4g"),bp=U("l+S1");function Fu(ze){var Le=ze.suffixIcon,it=ze.clearIcon,Qe=ze.menuItemSelectedIcon,Gt=ze.removeIcon,yt=ze.loading,mr=ze.multiple,vr=ze.prefixCls,Ar=it;it||(Ar=F.createElement(Td.a,null));var sn=null;if(Le!==void 0)sn=Le;else if(yt)sn=F.createElement(ad.a,{spin:!0});else{var bi="".concat(vr,"-suffix");sn=function(mn){var ca=mn.open,co=mn.showSearch;return ca&&co?F.createElement(bp.a,{className:bi}):F.createElement(qc.a,{className:bi})}}var nn=null;Qe!==void 0?nn=Qe:mr?nn=F.createElement(Ni.a,null):nn=null;var Ti=null;return Gt!==void 0?Ti=Gt:Ti=F.createElement(Uh.a,null),{clearIcon:Ar,suffixIcon:sn,itemIcon:nn,removeIcon:Ti}}var wc=U("3Nzz"),Qd=function(ze,Le){var it={};for(var Qe in ze)Object.prototype.hasOwnProperty.call(ze,Qe)&&Le.indexOf(Qe)<0&&(it[Qe]=ze[Qe]);if(ze!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Gt=0,Qe=Object.getOwnPropertySymbols(ze);Gt<Qe.length;Gt++)Le.indexOf(Qe[Gt])<0&&Object.prototype.propertyIsEnumerable.call(ze,Qe[Gt])&&(it[Qe[Gt]]=ze[Qe[Gt]]);return it},sd="SECRET_COMBOBOX_MODE_DO_NOT_USE",ah=function(Le,it){var Qe,Gt=Le.prefixCls,yt=Le.bordered,mr=yt===void 0?!0:yt,vr=Le.className,Ar=Le.getPopupContainer,sn=Le.dropdownClassName,bi=Le.listHeight,nn=bi===void 0?256:bi,Ti=Le.listItemHeight,yo=Ti===void 0?24:Ti,mn=Le.size,ca=Le.notFoundContent,co=Le.transitionName,is=co===void 0?"slide-up":co,Yi=Qd(Le,["prefixCls","bordered","className","getPopupContainer","dropdownClassName","listHeight","listItemHeight","size","notFoundContent","transitionName"]),fa=F.useContext(gf.b),ha=fa.getPopupContainer,Da=fa.getPrefixCls,Xi=fa.renderEmpty,fo=fa.direction,Qa=fa.virtual,po=fa.dropdownMatchSelectWidth,ws=F.useContext(wc.b),os=Da("select",Gt),Ls=F.useMemo(function(){var Uo=Yi.mode;if(Uo!=="combobox")return Uo===sd?"combobox":Uo},[Yi.mode]),oa=Ls==="multiple"||Ls==="tags",Lo;ca!==void 0?Lo=ca:Ls==="combobox"?Lo=null:Lo=Xi("Select");var wa=Fu(Object(Oe.a)(Object(Oe.a)({},Yi),{multiple:oa,prefixCls:os})),ba=wa.suffixIcon,ho=wa.itemIcon,qa=wa.removeIcon,da=wa.clearIcon,ta=Object(K.a)(Yi,["suffixIcon","itemIcon"]),Ka=ve()(sn,Object(xe.a)({},"".concat(os,"-dropdown-").concat(fo),fo==="rtl")),Za=mn||ws,cs=ve()((Qe={},Object(xe.a)(Qe,"".concat(os,"-lg"),Za==="large"),Object(xe.a)(Qe,"".concat(os,"-sm"),Za==="small"),Object(xe.a)(Qe,"".concat(os,"-rtl"),fo==="rtl"),Object(xe.a)(Qe,"".concat(os,"-borderless"),!mr),Qe),vr);return F.createElement(vf,Object(Oe.a)({ref:it,virtual:Qa,dropdownMatchSelectWidth:po},ta,{transitionName:is,listHeight:nn,listItemHeight:yo,mode:Ls,prefixCls:os,direction:fo,inputIcon:ba,menuItemSelectedIcon:ho,removeIcon:qa,clearIcon:da,notFoundContent:Lo,className:cs,getPopupContainer:Ar||ha,dropdownClassName:Ka}))},qd=F.forwardRef(ah),_h=qd;_h.SECRET_COMBOBOX_MODE_DO_NOT_USE=sd,_h.Option=Je,_h.OptGroup=ut;var us=je.a=_h},"2gN3":function(rt,je,U){var xe=U("Kz5y"),Oe=xe["__core-js_shared__"];rt.exports=Oe},"3A9y":function(rt,je){function U(xe){return this.__data__.has(xe)}rt.exports=U},"3Fdi":function(rt,je){var U=Function.prototype,xe=U.toString;function Oe(F){if(F!=null){try{return xe.call(F)}catch(K){}try{return F+""}catch(K){}}return""}rt.exports=Oe},"3Ree":function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("mrSG"),Oe=U("4K7L"),F=xe.__importStar(U("q1tI")),K=U("W1EI"),Ae=function(ve){xe.__extends(Pe,ve);function Pe(We){return ve.call(this,We)||this}return Pe.prototype.componentDidMount=function(){this.initialize(),this.forceUpdate()},Pe.prototype.componentWillUnmount=function(){this.view&&(this.view.destroy(),this.view=null)},Pe.prototype.componentDidUpdate=function(We){(!this.map||!this.view)&&this.initialize()},Pe.prototype.initialize=function(){var We=this.props.map;if(!(!We||this.view)&&(this.map=We,!this.view)){var we=[],De=this.props.effects;De&&De.length&&De.forEach(function(at){at==="bloom"?we.push(new Oe.BloomEffect):at==="bright"?we.push(new Oe.BrightEffect):at==="blur"&&we.push(new Oe.BlurEffect)}),this.view=new Oe.View({effects:we,map:We})}},Pe.prototype.renderChildren=function(We){var we=this;if(!(!We||!this.map||!this.view))return F.default.Children.map(We,function(De){if(!!De)return typeof De.type=="string"?De:F.default.cloneElement(De,{map:we.map,view:we.view})})},Pe.prototype.render=function(){return F.default.createElement(F.Fragment,null,this.renderChildren(this.props.children))},Pe}(K.Component);je.default=Ae},"3RkO":function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});function xe(Oe){if(typeof Oe=="string")return Oe;if(!!Oe)return Oe.displayName||Oe.name||"Component"}je.default=xe},"4K7L":function(rt,je,U){(function(xe){function Oe(F,K,Ae){for(var ve=K.length,Pe=new Uint8Array(3*ve/4-(K[ve-2]=="="?2:K[ve-1]=="="?1:0)),We=new Uint8Array(130),we=0;64>we;we++)We["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(we)]=we;for(var De=we=0;we<ve;we+=4){var at=We[K.charCodeAt(we+1)],se=We[K.charCodeAt(we+2)];Pe[De++]=We[K.charCodeAt(we)]<<2|at>>4,Pe[De++]=(at&15)<<4|se>>2,Pe[De++]=(se&3)<<6|We[K.charCodeAt(we+3)]&63}return Ae&&!F?WebAssembly.instantiate(Pe,Ae):Ae||F?(F=new WebAssembly.Module(Pe),Ae?new WebAssembly.Instance(F,Ae):F):WebAssembly.compile(Pe)}(function(F,K){K(je)})(this,function(F){function K(d){this.options=d||{},this.paneName=this.options.paneName||"labelPane",this.zIndex=this.options.zIndex||1,this._map=d.map,this._lastDrawTime=null,this.show()}function Ae(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}function ve(d,n){return n={exports:{}},d(n,n.exports),n.exports}function Pe(d,n){return function(l){return n(d(l))}}function We(d){var n=function(a){return a==null?a:(1<arguments.length&&(a=Array.prototype.slice.call(arguments)),d(a))};return"conversion"in d&&(n.conversion=d.conversion),n}function we(d){var n=function(a){if(a==null)return a;1<arguments.length&&(a=Array.prototype.slice.call(arguments));var f=d(a);if((typeof f=="undefined"?"undefined":ac(f))==="object")for(var h=f.length,y=0;y<h;y++)f[y]=Math.round(f[y]);return f};return"conversion"in d&&(n.conversion=d.conversion),n}function De(d,n){if(!(this instanceof De))return new De(d,n);if(n&&n in te&&(n=null),n&&!(n in jc))throw Error("Unknown model: "+n);if(typeof d=="undefined")this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(d instanceof De)this.model=d.model,this.color=d.color.slice(),this.valpha=d.valpha;else if(typeof d=="string"){if(n=Vh.get(d),n===null)throw Error("Unable to parse color from string: "+d);this.model=n.model;var l=jc[this.model].channels;this.color=n.value.slice(0,l),this.valpha=typeof n.value[l]=="number"?n.value[l]:1}else if(d.length)this.model=n||"rgb",l=jc[this.model].channels,n=oe.call(d,0,l),this.color=mt(n,l),this.valpha=typeof d[l]=="number"?d[l]:1;else if(typeof d=="number")d&=16777215,this.model="rgb",this.color=[d>>16&255,d>>8&255,d&255],this.valpha=1;else{if(this.valpha=1,n=Fu(d),"alpha"in d&&(n.splice(n.indexOf("alpha"),1),this.valpha=typeof d.alpha=="number"?d.alpha:0),n=n.sort().join(""),!(n in ce))throw Error("Unable to parse color from object: "+fi(d));this.model=ce[n],l=jc[this.model].labels;var a=[];for(n=0;n<l.length;n++)a.push(d[l[n]]);this.color=mt(a)}if(Se[this.model])for(l=jc[this.model].channels,n=0;n<l;n++)(d=Se[this.model][n])&&(this.color[n]=d(this.color[n]));this.valpha=Math.max(0,Math.min(1,this.valpha)),Ve&&Ve(this)}function at(d){return function(n){return Number(n.toFixed(d))}}function se(d,n,l){return d=Array.isArray(d)?d:[d],d.forEach(function(a){(Se[a]||(Se[a]=[]))[n]=l}),d=d[0],function(a){if(arguments.length){l&&(a=l(a));var f=this[d]();return f.color[n]=a,f}return f=this[d]().color[n],l&&(f=l(f)),f}}function Re(d){return function(n){return Math.max(0,Math.min(d,n))}}function mt(d,n){for(var l=0;l<n;l++)typeof d[l]!="number"&&(d[l]=0);return d}function st(d){return d*Math.PI/180}function St(d){return d/Math.PI*180}function Xr(d){return Math.pow(2,Math.ceil(Math.log(d)/Math.LN2))}function zt(d){return Math.pow(2,Math.floor(Math.log(d)/Math.LN2))}function nr(d,n){return 1e-8>Math.abs(d-n)}function pn(){}function Vr(d,n){for(var l in n)d[l]=n[l]}function $e(d,n){this.lng=d,this.lat=n}function Et(d,n){this.x=d,this.y=n}function Xt(d,n){var l=document.createElement("canvas");return d&&(l.width=d),n&&(l.height=n),l}function et(d){d=d||{},this.gradient=d.gradient||{"0.25":"rgba(0, 0, 255, 1)","0.55":"rgba(0, 255, 0, 1)","0.85":"rgba(255, 255, 0, 1)",1:"rgba(255, 0, 0, 1)"},this.maxSize=d.maxSize===void 0?35:d.maxSize,this.minSize=d.minSize||0,this.max=d.max||100,this.min=d.min||0,this.initPalette()}function bt(d){this.options=d||{},this._initialize()}function Zt(d,n,l,a,f){var h=1-d,y=1-d;return h*h*h*n+3*y*y*d*l+3*(1-d)*d*d*a+d*d*d*f}function qe(d){this.WORLD_SIZE_MC_HALF=20037726372307256e-9,this.WORLD_SIZE_MC=2*this.WORLD_SIZE_MC_HALF,this.options=d||{},this._initialize()}function Ie(d,n){return d&&n?Math.round(Math.sqrt(Math.pow(d.lng-n.lng,2)+Math.pow(d.lat-n.lat,2))):0}function ht(d){return d=d.split("|"),d[0]=d[0].split(","),{lng:parseFloat(d[0][0]),lat:parseFloat(d[0][1])}}function Er(d){for(var n=d.length;0<=--n;)d[n]=0}function Cn(d,n,l,a,f){this.static_tree=d,this.extra_bits=n,this.extra_base=l,this.elems=a,this.max_length=f,this.has_stree=d&&d.length}function pr(d,n){this.dyn_tree=d,this.max_code=0,this.stat_desc=n}function $r(d,n,l,a,f){this.good_length=d,this.max_lazy=n,this.nice_length=l,this.max_chain=a,this.func=f}function An(){this.strm=null,this.status=0,this.pending_buf=null,this.wrap=this.pending=this.pending_out=this.pending_buf_size=0,this.gzhead=null,this.gzindex=0,this.method=Wu,this.last_flush=-1,this.w_mask=this.w_bits=this.w_size=0,this.window=null,this.window_size=0,this.head=this.prev=null,this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Uc(this.dyn_ltree),Uc(this.dyn_dtree),Uc(this.bl_tree),this.bl_desc=this.d_desc=this.l_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Uc(this.heap),this.heap_max=this.heap_len=0,this.depth=new Uint16Array(573),Uc(this.depth),this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function rn(d){d=this.options=Qp.assign({level:av,method:sv,chunkSize:16384,windowBits:15,memLevel:8,strategy:dh},d||{}),d.raw&&0<d.windowBits?d.windowBits=-d.windowBits:d.gzip&&0<d.windowBits&&16>d.windowBits&&(d.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qp,this.strm.avail_out=0;var n=Gh.deflateInit2(this.strm,d.level,d.method,d.windowBits,d.memLevel,d.strategy);if(n!==$p)throw Error(Io[n]);if(d.header&&Gh.deflateSetHeader(this.strm,d.header),d.dictionary){if(d=typeof d.dictionary=="string"?md.string2buf(d.dictionary):Fp.call(d.dictionary)==="[object ArrayBuffer]"?new Uint8Array(d.dictionary):d.dictionary,n=Gh.deflateSetDictionary(this.strm,d),n!==$p)throw Error(Io[n]);this._dict_set=!0}}function fr(d,n){if(n=new rn(n),n.push(d,!0),n.err)throw n.msg||Io[n.err];return n.result}function _r(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.total=this.check=this.dmax=this.flags=0,this.head=null,this.wnext=this.whave=this.wsize=this.wbits=0,this.window=null,this.extra=this.offset=this.length=this.bits=this.hold=0,this.distcode=this.lencode=null,this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.distdyn=this.lendyn=null,this.was=this.back=this.sane=0}function Wr(d){var n=this.options=Qp.assign({chunkSize:65536,windowBits:15,to:""},d||{});if(n.raw&&0<=n.windowBits&&16>n.windowBits&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),!(0<=n.windowBits&&16>n.windowBits)||d&&d.windowBits||(n.windowBits+=32),15<n.windowBits&&48>n.windowBits&&(n.windowBits&15)==0&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qp,this.strm.avail_out=0,d=vd.inflateInit2(this.strm,n.windowBits),d!==Vm||(this.header=new rm,vd.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=md.string2buf(n.dictionary):nm.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(d=vd.inflateSetDictionary(this.strm,n.dictionary),d!==Vm))))throw Error(Io[d])}function dt(d,n){if(n=new Wr(n),n.push(d),n.err)throw n.msg||Io[n.err];return n.result}function At(d){for(var n=["webgl2","experimental-webgl2","webgl","experimental-webgl"],l,a=0;a<n.length;a++)try{if(l=d.getContext(n[a],{alpha:!0,premultipliedAlpha:!1}))break}catch(f){}return l}function cn(d,n,l){l=us({TEXTURE_MAG_FILTER:"LINEAR",TEXTURE_MIN_FILTER:"LINEAR",TEXTURE_WRAP_S:"REPEAT",TEXTURE_WRAP_T:"REPEAT"},l);var a=d.createTexture();d.bindTexture(d.TEXTURE_2D,a),d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,!0),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,n);for(var f in l)d.texParameteri(d.TEXTURE_2D,d[f],d[l[f]]);return d.bindTexture(d.TEXTURE_2D,null),a}function Jt(d,n,l,a){if((typeof n=="undefined"?"undefined":ac(n))==="object")n=cn(d,n,a),l(n,null);else{var f=new Image;f.crossOrigin="anonymous",f.onload=function(){var h=zt(f.width),y=zt(f.height),m=document.createElement("canvas");m.width=h,m.height=y,m.getContext("2d").drawImage(f,0,0,h,y),f=m,h=cn(d,f,a),l(h,f)},f.src=n}}function rr(d,n,l){l=l||2;var a=n&&n.length,f=a?n[0]*l:d.length,h=Gn(d,0,f,l,!0),y=[];if(!h||h.next===h.prev)return y;var m;if(a){var C=l;a=[];var P,B=0;for(P=n.length;B<P;B++){var M=n[B]*C,T=B<P-1?n[B+1]*C:d.length;M=Gn(d,M,T,C,!1),M===M.next&&(M.steiner=!0),a.push(an(M))}for(a.sort(So),B=0;B<a.length;B++)C=a[B],n=h,(n=Wo(C,n))&&(C=kr(n,C),Kr(n,n.next),Kr(C,C.next)),h=Kr(h,h.next)}if(d.length>80*l){var L=m=d[0],z=a=d[1];for(C=l;C<f;C+=l)B=d[C],n=d[C+1],B<L&&(L=B),n<z&&(z=n),B>m&&(m=B),n>a&&(a=n);m=Math.max(m-L,a-z),m=m!==0?1/m:0}return ai(h,y,l,L,z,m),y}function Gn(d,n,l,a,f){if(f===0<ui(d,n,l,a))for(f=n;f<l;f+=a)var h=ei(f,d[f],d[f+1],h);else for(f=l-a;f>=n;f-=a)h=ei(f,d[f],d[f+1],h);return h&&Xn(h,h.next)&&(Mi(h),h=h.next),h}function Kr(d,n){if(!d)return d;n||(n=d);do{var l=!1;if(d.steiner||!Xn(d,d.next)&&Jr(d.prev,d,d.next)!==0)d=d.next;else{if(Mi(d),d=n=d.prev,d===d.next)break;l=!0}}while(l||d!==n);return n}function ai(d,n,l,a,f,h,y){if(d){if(!y&&h){var m=d,C=m;do C.z===null&&(C.z=Un(C.x,C.y,a,f,h)),C.prevZ=C.prev,C=C.nextZ=C.next;while(C!==m);C.prevZ.nextZ=null,C.prevZ=null,m=C;var P,B,M,T,L=1;do{C=m;var z=m=null;for(B=0;C;){B++;var H=C;for(P=M=0;P<L&&(M++,H=H.nextZ,H);P++);for(T=L;0<M||0<T&&H;)M!==0&&(T===0||!H||C.z<=H.z)?(P=C,C=C.nextZ,M--):(P=H,H=H.nextZ,T--),z?z.nextZ=P:m=P,P.prevZ=z,z=P;C=H}z.nextZ=null,L*=2}while(1<B)}for(m=d;d.prev!==d.next;){if(C=d.prev,H=d.next,h)z=Nn(d,a,f,h);else e:if(z=d,B=z.prev,M=z,L=z.next,0<=Jr(B,M,L))z=!1;else{for(P=z.next.next;P!==z.prev;){if(In(B.x,B.y,M.x,M.y,L.x,L.y,P.x,P.y)&&0<=Jr(P.prev,P,P.next)){z=!1;break e}P=P.next}z=!0}if(z)n.push(C.i/l),n.push(d.i/l),n.push(H.i/l),Mi(d),m=d=H.next;else if(d=H,d===m){if(!y)ai(Kr(d),n,l,a,f,h,1);else if(y===1){d=Kr(d),y=n,m=l,C=d;do H=C.prev,z=C.next.next,!Xn(H,z)&&hr(H,C,C.next,z)&&Tn(H,z)&&Tn(z,H)&&(y.push(H.i/m),y.push(C.i/m),y.push(z.i/m),Mi(C),Mi(C.next),C=d=z),C=C.next;while(C!==d);d=Kr(C),ai(d,n,l,a,f,h,2)}else if(y===2)e:{y=d;do{for(m=y.next.next;m!==y.prev;){if(C=y.i!==m.i){if(C=y,H=m,z=C.next.i!==H.i&&C.prev.i!==H.i){t:{z=C;do{if(z.i!==C.i&&z.next.i!==C.i&&z.i!==H.i&&z.next.i!==H.i&&hr(z,z.next,C,H)){z=!0;break t}z=z.next}while(z!==C);z=!1}z=!z}if(z){if(z=Tn(C,H)&&Tn(H,C)){z=C,B=!1,M=(C.x+H.x)/2,L=(C.y+H.y)/2;do z.y>L!=z.next.y>L&&z.next.y!==z.y&&M<(z.next.x-z.x)*(L-z.y)/(z.next.y-z.y)+z.x&&(B=!B),z=z.next;while(z!==C);z=B}z=z&&(Jr(C.prev,C,H.prev)||Jr(C,H.prev,H))||Xn(C,H)&&0<Jr(C.prev,C,C.next)&&0<Jr(H.prev,H,H.next)}C=z}if(C){d=kr(y,m),y=Kr(y,y.next),d=Kr(d,d.next),ai(y,n,l,a,f,h),ai(d,n,l,a,f,h);break e}m=m.next}y=y.next}while(y!==d)}break}}}}function Nn(d,n,l,a){var f=d.prev,h=d.next;if(0<=Jr(f,d,h))return!1;var y=f.x>d.x?f.x>h.x?f.x:h.x:d.x>h.x?d.x:h.x,m=f.y>d.y?f.y>h.y?f.y:h.y:d.y>h.y?d.y:h.y,C=Un(f.x<d.x?f.x<h.x?f.x:h.x:d.x<h.x?d.x:h.x,f.y<d.y?f.y<h.y?f.y:h.y:d.y<h.y?d.y:h.y,n,l,a);for(n=Un(y,m,n,l,a),l=d.prevZ,a=d.nextZ;l&&l.z>=C&&a&&a.z<=n;){if(l!==d.prev&&l!==d.next&&In(f.x,f.y,d.x,d.y,h.x,h.y,l.x,l.y)&&0<=Jr(l.prev,l,l.next)||(l=l.prevZ,a!==d.prev&&a!==d.next&&In(f.x,f.y,d.x,d.y,h.x,h.y,a.x,a.y)&&0<=Jr(a.prev,a,a.next)))return!1;a=a.nextZ}for(;l&&l.z>=C;){if(l!==d.prev&&l!==d.next&&In(f.x,f.y,d.x,d.y,h.x,h.y,l.x,l.y)&&0<=Jr(l.prev,l,l.next))return!1;l=l.prevZ}for(;a&&a.z<=n;){if(a!==d.prev&&a!==d.next&&In(f.x,f.y,d.x,d.y,h.x,h.y,a.x,a.y)&&0<=Jr(a.prev,a,a.next))return!1;a=a.nextZ}return!0}function So(d,n){return d.x-n.x}function Wo(d,n){var l=n,a=d.x,f=d.y,h=-Infinity;do{if(f<=l.y&&f>=l.next.y&&l.next.y!==l.y){var y=l.x+(f-l.y)*(l.next.x-l.x)/(l.next.y-l.y);if(y<=a&&y>h){if(h=y,y===a){if(f===l.y)return l;if(f===l.next.y)return l.next}var m=l.x<l.next.x?l:l.next}}l=l.next}while(l!==n);if(!m)return null;if(a===h)return m;n=m,y=m.x;var C=m.y,P=Infinity;l=m;do{if(a>=l.x&&l.x>=y&&a!==l.x&&In(f<C?a:h,f,y,C,f<C?h:a,f,l.x,l.y)){var B=Math.abs(f-l.y)/(a-l.x),M;if((M=Tn(l,d))&&!(M=B<P)&&(M=B===P)&&!(M=l.x>m.x)&&(M=l.x===m.x)){M=m;var T=l;M=0>Jr(M.prev,M,T.prev)&&0>Jr(T.next,M,M.next)}M&&(m=l,P=B)}l=l.next}while(l!==n);return m}function Un(d,n,l,a,f){return d=32767*(d-l)*f,n=32767*(n-a)*f,d=(d|d<<8)&16711935,d=(d|d<<4)&252645135,d=(d|d<<2)&858993459,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,(d|d<<1)&1431655765|((n|n<<1)&1431655765)<<1}function an(d){var n=d,l=d;do(n.x<l.x||n.x===l.x&&n.y<l.y)&&(l=n),n=n.next;while(n!==d);return l}function In(d,n,l,a,f,h,y,m){return 0<=(f-y)*(n-m)-(d-y)*(h-m)&&0<=(d-y)*(a-m)-(l-y)*(n-m)&&0<=(l-y)*(h-m)-(f-y)*(a-m)}function Jr(d,n,l){return(n.y-d.y)*(l.x-n.x)-(n.x-d.x)*(l.y-n.y)}function Xn(d,n){return d.x===n.x&&d.y===n.y}function hr(d,n,l,a){var f=Mn(Jr(d,n,l)),h=Mn(Jr(d,n,a)),y=Mn(Jr(l,a,d)),m=Mn(Jr(l,a,n));return!!(f!==h&&y!==m||f===0&&dn(d,l,n)||h===0&&dn(d,a,n)||y===0&&dn(l,d,a)||m===0&&dn(l,n,a))}function dn(d,n,l){return n.x<=Math.max(d.x,l.x)&&n.x>=Math.min(d.x,l.x)&&n.y<=Math.max(d.y,l.y)&&n.y>=Math.min(d.y,l.y)}function Mn(d){return 0<d?1:0>d?-1:0}function Tn(d,n){return 0>Jr(d.prev,d,d.next)?0<=Jr(d,n,d.next)&&0<=Jr(d,d.prev,n):0>Jr(d,n,d.prev)||0>Jr(d,d.next,n)}function kr(d,n){var l=new Di(d.i,d.x,d.y),a=new Di(n.i,n.x,n.y),f=d.next,h=n.prev;return d.next=n,n.prev=d,l.next=f,f.prev=l,a.next=l,l.prev=a,h.next=a,a.prev=h,a}function ei(d,n,l,a){return d=new Di(d,n,l),a?(d.next=a.next,d.prev=a,a.next.prev=d,a.next=d):(d.prev=d,d.next=d),d}function Mi(d){d.next.prev=d.prev,d.prev.next=d.next,d.prevZ&&(d.prevZ.nextZ=d.nextZ),d.nextZ&&(d.nextZ.prevZ=d.prevZ)}function Di(d,n,l){this.i=d,this.x=n,this.y=l,this.nextZ=this.prevZ=this.z=this.next=this.prev=null,this.steiner=!1}function ui(d,n,l,a){for(var f=0,h=l-a;n<l;n+=a)f+=(d[h]-d[n])*(d[n+1]+d[h+1]),h=n;return f}function Po(d){try{return ds.createObjectURL(new Blob([d],{type:"application/javascript"}))}catch(l){var n=new aa;return n.append(d),ds.createObjectURL(n.getBlob(type))}}function cr(d,n){this.shapeLayer=d,this.gl=n,this.initData()}function $o(d,n,l,a){var f=[];return a=a*Math.PI/180,f[0]=(d-l[0])*Math.cos(a)-(n-l[1])*Math.sin(a)+l[0],f[1]=(d-l[0])*Math.sin(a)+(n-l[1])*Math.cos(a)+l[1],f}function As(){yu=!0;for(var d=0;64>d;++d)sa[d]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[d],Vs["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(d)]=d;Vs[45]=62,Vs[95]=63}function Gi(d,n,l){for(var a=[],f=n;f<l;f+=3)n=(d[f]<<16)+(d[f+1]<<8)+d[f+2],a.push(sa[n>>18&63]+sa[n>>12&63]+sa[n>>6&63]+sa[n&63]);return a.join("")}function Xs(d){yu||As();for(var n=d.length,l=n%3,a="",f=[],h=0,y=n-l;h<y;h+=16383)f.push(Gi(d,h,h+16383>y?y:h+16383));return l===1?(d=d[n-1],a+=sa[d>>2],a+=sa[d<<4&63],a+="=="):l===2&&(d=(d[n-2]<<8)+d[n-1],a+=sa[d>>10],a+=sa[d>>4&63],a+=sa[d<<2&63],a+="="),f.push(a),f.join("")}function un(d,n,l,a,f){var h=8*f-a-1,y=(1<<h)-1,m=y>>1,C=-7;f=l?f-1:0;var P=l?-1:1,B=d[n+f];for(f+=P,l=B&(1<<-C)-1,B>>=-C,C+=h;0<C;l=256*l+d[n+f],f+=P,C-=8);for(h=l&(1<<-C)-1,l>>=-C,C+=a;0<C;h=256*h+d[n+f],f+=P,C-=8);if(l===0)l=1-m;else{if(l===y)return h?NaN:Infinity*(B?-1:1);h+=Math.pow(2,a),l-=m}return(B?-1:1)*h*Math.pow(2,l-a)}function ko(d,n,l,a,f,h){var y,m=8*h-f-1,C=(1<<m)-1,P=C>>1,B=f===23?Math.pow(2,-24)-Math.pow(2,-77):0;h=a?0:h-1;var M=a?1:-1,T=0>n||n===0&&0>1/n?1:0;for(n=Math.abs(n),isNaN(n)||n===Infinity?(n=isNaN(n)?1:0,a=C):(a=Math.floor(Math.log(n)/Math.LN2),1>n*(y=Math.pow(2,-a))&&(a--,y*=2),n=1<=a+P?n+B/y:n+B*Math.pow(2,1-P),2<=n*y&&(a++,y/=2),a+P>=C?(n=0,a=C):1<=a+P?(n=(n*y-1)*Math.pow(2,f),a+=P):(n=n*Math.pow(2,P-1)*Math.pow(2,f),a=0));8<=f;d[l+h]=n&255,h+=M,n/=256,f-=8);for(a=a<<f|n,m+=f;0<m;d[l+h]=a&255,h+=M,a/=256,m-=8);d[l+h-M]|=128*T}function ss(d,n){if((Gr.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<n)throw new RangeError("Invalid typed array length");return Gr.TYPED_ARRAY_SUPPORT?(d=new Uint8Array(n),d.__proto__=Gr.prototype):(d===null&&(d=new Gr(n)),d.length=n),d}function Gr(d,n,l){if(!(Gr.TYPED_ARRAY_SUPPORT||this instanceof Gr))return new Gr(d,n,l);if(typeof d=="number"){if(typeof n=="string")throw Error("If encoding is specified then the first argument must be a string");return ea(this,d)}return Yl(this,d,n,l)}function Yl(d,n,l,a){if(typeof n=="number")throw new TypeError('"value" argument must not be a number');if(typeof ArrayBuffer!="undefined"&&n instanceof ArrayBuffer){if(n.byteLength,0>l||n.byteLength<l)throw new RangeError("'offset' is out of bounds");if(n.byteLength<l+(a||0))throw new RangeError("'length' is out of bounds");return n=l===void 0&&a===void 0?new Uint8Array(n):a===void 0?new Uint8Array(n,l):new Uint8Array(n,l,a),Gr.TYPED_ARRAY_SUPPORT?(d=n,d.__proto__=Gr.prototype):d=Eu(d,n),d}if(typeof n=="string"){if(a=d,d=l,(typeof d!="string"||d==="")&&(d="utf8"),!Gr.isEncoding(d))throw new TypeError('"encoding" must be a valid string encoding');return l=Mt(n,d)|0,a=ss(a,l),n=a.write(n,d),n!==l&&(a=a.slice(0,n)),a}return wi(d,n)}function ou(d){if(typeof d!="number")throw new TypeError('"size" argument must be a number');if(0>d)throw new RangeError('"size" argument must not be negative')}function ea(d,n){if(ou(n),d=ss(d,0>n?0:Pi(n)|0),!Gr.TYPED_ARRAY_SUPPORT)for(var l=0;l<n;++l)d[l]=0;return d}function Eu(d,n){var l=0>n.length?0:Pi(n.length)|0;d=ss(d,l);for(var a=0;a<l;a+=1)d[a]=n[a]&255;return d}function wi(d,n){if(hi(n)){var l=Pi(n.length)|0;return d=ss(d,l),d.length===0||n.copy(d,0,0,l),d}if(n){if(typeof ArrayBuffer!="undefined"&&n.buffer instanceof ArrayBuffer||"length"in n)return(l=typeof n.length!="number")||(l=n.length,l=l!==l),l?ss(d,0):Eu(d,n);if(n.type==="Buffer"&&Qo(n.data))return Eu(d,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Pi(d){if(d>=(Gr.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(Gr.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return d|0}function hi(d){return!(d==null||!d._isBuffer)}function Mt(d,n){if(hi(d))return d.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(d)||d instanceof ArrayBuffer))return d.byteLength;typeof d!="string"&&(d=""+d);var l=d.length;if(l===0)return 0;for(var a=!1;;)switch(n){case"ascii":case"latin1":case"binary":return l;case"utf8":case"utf-8":case void 0:return nt(d).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*l;case"hex":return l>>>1;case"base64":return Dt(d).length;default:if(a)return nt(d).length;n=(""+n).toLowerCase(),a=!0}}function wn(d,n,l){var a=!1;if((n===void 0||0>n)&&(n=0),n>this.length||((l===void 0||l>this.length)&&(l=this.length),0>=l)||(l>>>=0,n>>>=0,l<=n))return"";for(d||(d="utf8");;)switch(d){case"hex":for(d=n,n=l,l=this.length,(!d||0>d)&&(d=0),(!n||0>n||n>l)&&(n=l),a="",l=d;l<n;++l)d=a,a=this[l],a=16>a?"0"+a.toString(16):a.toString(16),a=d+a;return a;case"utf8":case"utf-8":return jt(this,n,l);case"ascii":for(d="",l=Math.min(this.length,l);n<l;++n)d+=String.fromCharCode(this[n]&127);return d;case"latin1":case"binary":for(d="",l=Math.min(this.length,l);n<l;++n)d+=String.fromCharCode(this[n]);return d;case"base64":return n=n===0&&l===this.length?Xs(this):Xs(this.slice(n,l)),n;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(n=this.slice(n,l),l="",d=0;d<n.length;d+=2)l+=String.fromCharCode(n[d]+256*n[d+1]);return l;default:if(a)throw new TypeError("Unknown encoding: "+d);d=(d+"").toLowerCase(),a=!0}}function Ot(d,n,l){var a=d[n];d[n]=d[l],d[l]=a}function ar(d,n,l,a,f){if(d.length===0)return-1;if(typeof l=="string"?(a=l,l=0):2147483647<l?l=2147483647:-2147483648>l&&(l=-2147483648),l=+l,isNaN(l)&&(l=f?0:d.length-1),0>l&&(l=d.length+l),l>=d.length){if(f)return-1;l=d.length-1}else if(0>l)if(f)l=0;else return-1;if(typeof n=="string"&&(n=Gr.from(n,a)),hi(n))return n.length===0?-1:Mr(d,n,l,a,f);if(typeof n=="number")return n&=255,Gr.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?f?Uint8Array.prototype.indexOf.call(d,n,l):Uint8Array.prototype.lastIndexOf.call(d,n,l):Mr(d,[n],l,a,f);throw new TypeError("val must be string, number or Buffer")}function Mr(d,n,l,a,f){function h(P,B){return y===1?P[B]:P.readUInt16BE(B*y)}var y=1,m=d.length,C=n.length;if(a!==void 0&&(a=String(a).toLowerCase(),a==="ucs2"||a==="ucs-2"||a==="utf16le"||a==="utf-16le")){if(2>d.length||2>n.length)return-1;y=2,m/=2,C/=2,l/=2}if(f)for(a=-1;l<m;l++)if(h(d,l)===h(n,a===-1?0:l-a)){if(a===-1&&(a=l),l-a+1===C)return a*y}else a!==-1&&(l-=l-a),a=-1;else for(l+C>m&&(l=m-C);0<=l;l--){for(m=!0,a=0;a<C;a++)if(h(d,l+a)!==h(n,a)){m=!1;break}if(m)return l}return-1}function jt(d,n,l){l=Math.min(d.length,l);for(var a=[];n<l;){var f=d[n],h=null,y=239<f?4:223<f?3:191<f?2:1;if(n+y<=l)switch(y){case 1:128>f&&(h=f);break;case 2:var m=d[n+1];(m&192)==128&&(f=(f&31)<<6|m&63,127<f&&(h=f));break;case 3:m=d[n+1];var C=d[n+2];(m&192)==128&&(C&192)==128&&(f=(f&15)<<12|(m&63)<<6|C&63,2047<f&&(55296>f||57343<f)&&(h=f));break;case 4:m=d[n+1],C=d[n+2];var P=d[n+3];(m&192)==128&&(C&192)==128&&(P&192)==128&&(f=(f&15)<<18|(m&63)<<12|(C&63)<<6|P&63,65535<f&&1114112>f&&(h=f))}h===null?(h=65533,y=1):65535<h&&(h-=65536,a.push(h>>>10&1023|55296),h=56320|h&1023),a.push(h),n+=y}if(d=a.length,d<=xu)a=String.fromCharCode.apply(String,a);else{for(l="",n=0;n<d;)l+=String.fromCharCode.apply(String,a.slice(n,n+=xu));a=l}return a}function gr(d,n,l){if(d%1!=0||0>d)throw new RangeError("offset is not uint");if(d+n>l)throw new RangeError("Trying to access beyond buffer length")}function Vn(d,n,l,a,f,h){if(!hi(d))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>f||n<h)throw new RangeError('"value" argument is out of bounds');if(l+a>d.length)throw new RangeError("Index out of range")}function _n(d,n,l,a){0>n&&(n=65535+n+1);for(var f=0,h=Math.min(d.length-l,2);f<h;++f)d[l+f]=(n&255<<8*(a?f:1-f))>>>8*(a?f:1-f)}function vo(d,n,l,a){0>n&&(n=4294967295+n+1);for(var f=0,h=Math.min(d.length-l,4);f<h;++f)d[l+f]=n>>>8*(a?f:3-f)&255}function Ei(d,n,l,a,f,h){if(l+a>d.length)throw new RangeError("Index out of range");if(0>l)throw new RangeError("Index out of range")}function Oo(d,n,l,a,f){return f||Ei(d,n,l,4,34028234663852886e22,-34028234663852886e22),ko(d,n,l,a,23,4),l+4}function Je(d,n,l,a,f){return f||Ei(d,n,l,8,17976931348623157e292,-17976931348623157e292),ko(d,n,l,a,52,8),l+8}function nt(d,n){n=n||Infinity;for(var l,a=d.length,f=null,h=[],y=0;y<a;++y){if(l=d.charCodeAt(y),55295<l&&57344>l){if(!f){if(56319<l){-1<(n-=3)&&h.push(239,191,189);continue}else if(y+1===a){-1<(n-=3)&&h.push(239,191,189);continue}f=l;continue}if(56320>l){-1<(n-=3)&&h.push(239,191,189),f=l;continue}l=(f-55296<<10|l-56320)+65536}else f&&-1<(n-=3)&&h.push(239,191,189);if(f=null,128>l){if(0>--n)break;h.push(l)}else if(2048>l){if(0>(n-=2))break;h.push(l>>6|192,l&63|128)}else if(65536>l){if(0>(n-=3))break;h.push(l>>12|224,l>>6&63|128,l&63|128)}else if(1114112>l){if(0>(n-=4))break;h.push(l>>18|240,l>>12&63|128,l>>6&63|128,l&63|128)}else throw Error("Invalid code point")}return h}function ut(d){for(var n=[],l=0;l<d.length;++l)n.push(d.charCodeAt(l)&255);return n}function Dt(d){if(d=(d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")).replace(Ao,""),2>d.length)d="";else for(;d.length%4!=0;)d+="=";yu||As();var n=d.length;if(0<n%4)throw Error("Invalid string. Length must be a multiple of 4");var l=d[n-2]==="="?2:d[n-1]==="="?1:0,a=new nl(3*n/4-l),f=0<l?n-4:n,h=0;for(n=0;n<f;n+=4){var y=Vs[d.charCodeAt(n)]<<18|Vs[d.charCodeAt(n+1)]<<12|Vs[d.charCodeAt(n+2)]<<6|Vs[d.charCodeAt(n+3)];a[h++]=y>>16&255,a[h++]=y>>8&255,a[h++]=y&255}return l===2?(y=Vs[d.charCodeAt(n)]<<2|Vs[d.charCodeAt(n+1)]>>4,a[h++]=y&255):l===1&&(y=Vs[d.charCodeAt(n)]<<10|Vs[d.charCodeAt(n+1)]<<4|Vs[d.charCodeAt(n+2)]>>2,a[h++]=y>>8&255,a[h++]=y&255),a}function en(d,n,l,a){for(var f=0;f<a&&!(f+l>=n.length||f>=d.length);++f)n[f+l]=d[f];return f}function bn(d){return!!d.constructor&&typeof d.constructor.isBuffer=="function"&&d.constructor.isBuffer(d)}function jr(d,n){var l=[];return d.forEach(function(a){l.push(n?-a:a,a)}),l}function tn(d){for(var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,l=[],a=0;a<d-1;a++){var f=2*(a+n);l.push(f,f+1,f+2),l.push(f+2,f+1,f+3)}return l}function yn(d){return function(n,l,a){return n=l+d,l=a.length-1,a[0<l?0>n?0:n>l?l:n:n<l?l:0<n?0:n]}}function Qn(d){if(!d[0]||!d[0].length)return d;for(var n=d[0].length,l=[],a=0,f=0;f<d.length;f++)for(var h=0;h<n;h++)l[a++]=d[f][h];return l}function mi(){for(var d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],n=[],l=0,a=0;a<d.length;a++){var f=d[a];if(0<a){var h=d[a-1];l+=Math.sqrt(Math.pow(f[0]-h[0],2)+Math.pow(f[1]-h[1],2))}n.push(l)}return{arr:n,total:l}}function si(){var d=document.createElement("canvas");d.width=d.height=32;var n=d.getContext("2d");return{canvas:d,ctx:n}}function Ji(){var d=(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{}).color,n=si(),l=n.canvas;return n=n.ctx,n.save(),n.moveTo(0,0),n.lineTo(20,0),n.lineTo(32,16),n.lineTo(20,32),n.lineTo(0,32),n.lineTo(10,16),n.fillStyle=d||"#fff",n.fill(),n.restore(),l}function Hi(d,n){return on.set(d,-n[1],n[0])}function eo(d,n,l){return on.sub(d,n,l),on.normalize(d,d),d}function go(d){var n=0,l=0,a=!0,f=!1,h=void 0;try{for(var y=tf(d),m;!(a=(m=y.next()).done);a=!0){var C=m.value;n+=C.w*C.h,l=Math.max(l,C.w)}}catch(H){f=!0,h=H}finally{try{!a&&y.return&&y.return()}finally{if(f)throw h}}d.sort(function(H,Z){return Z.h-H.h}),l=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(n/.95)),l),h:Infinity}],f=a=0,h=!0,y=!1,m=void 0;try{for(var P=tf(d),B;!(h=(B=P.next()).done);h=!0)for(var M=B.value,T=l.length-1;0<=T;T--){var L=l[T];if(!(M.w>L.w||M.h>L.h)){if(M.x=L.x,M.y=L.y,f=Math.max(f,M.y+M.h),a=Math.max(a,M.x+M.w),M.w===L.w&&M.h===L.h){var z=l.pop();T<l.length&&(l[T]=z)}else M.h===L.h?(L.x+=M.w,L.w-=M.w):(M.w!==L.w&&l.push({x:L.x+M.w,y:L.y,w:L.w-M.w,h:M.h}),L.y+=M.h,L.h-=M.h);break}}}catch(H){y=!0,m=H}finally{try{!h&&P.return&&P.return()}finally{if(y)throw m}}return{w:a,h:f,fill:n/(a*f)||0}}function Ro(d,n,l){return l=Math.PI/180*(60*l+30),[d.x+n*Math.cos(l),d.y+n*Math.sin(l)]}function va(d,n,l){for(var a={},f=[],h=d.length,y=n/2/Math.sin(Math.PI/3),m=1.5*y,C=1,P=0;P<h;++P){var B=d[P].geometry.coordinates;l&&(B=l(B));var M=+B[0],T=+B[1];if(!isNaN(M)&&!isNaN(T)){B=Math.round(T/=m);var L=Math.round(M=M/n-(B&1)/2),z=T-B;if(1<3*Math.abs(z)){var H=M-L,Z=L+(M<L?-1:1)/2,J=B+(T<B?-1:1);M-=Z,T-=J,H*H+z*z>M*M+T*T&&(L=Z+(B&1?1:-1)/2,B=J)}z=L+"-"+B,(H=a[z])?(H.count+=d[P].count||1,C=Math.max(C,H.count)):(a[z]={center:{x:(L+(B&1)/2)*n,y:B*m},count:d[P].count||1},f.push(a[z]))}}return f.max=C,f.r=y,f}function zo(d){var n,l;this.promise=new d(function(a,f){if(n!==void 0||l!==void 0)throw TypeError("Bad Promise constructor");n=a,l=f}),this.resolve=If(n),this.reject=If(l)}function tl(d,n,l,a){switch(a){case 5122:return new Int16Array(d,n,l);case 5123:return new Uint16Array(d,n,l);case 5124:return new Int32Array(d,n,l);case 5125:return new Uint32Array(d,n,l);case 5126:return new Float32Array(d,n,l);default:return null}}function yl(d){return tl(d.bufferView.data,d.byteOffset,d.count*Kg[d.type],d.componentType)}function au(d){var n="",l=d.lastIndexOf("/");return l!==-1&&(n=d.substring(0,l+1)),n}function jl(d,n){var l=new XMLHttpRequest;l.overrideMimeType("application/json"),l.open("GET",d,!0),l.onreadystatechange=function(){l.readyState==4&&l.status=="200"&&n(l.responseText,this)},l.send(null)}function Gu(d,n){var l=new XMLHttpRequest;l.responseType="arraybuffer",l.open("GET",d,!0),l.onreadystatechange=function(){if(l.readyState==4&&l.status=="200"){var a=l.response;a&&n&&n(a)}},l.send(null)}function mc(d,n,l){var a=new Image;a.crossOrigin="Anonymous",a.src=d,a.onload=function(){l(a,n)}}function Kc(d){function n(Lt,xr){l.uniform1i(Lt,xr.index),l.activeTexture(l.TEXTURE0+xr.index),Lt=Fe.glTF.textures[xr.index],l.bindTexture(l.TEXTURE_2D,Lt.texture),l.bindSampler(xr.index,Lt.sampler?Lt.sampler.sampler:y)}var l=d.gl,a=0,f=[];d=l.canvas;var h=function(xr,kn,Yn){for(this.glTFScene=xr,this.glTF=kn,this.id=Yn,this.rootTransform=zr.create(),this.nodeMatrix=Array(kn.nodes.length),xr=0,kn=this.nodeMatrix.length;xr<kn;xr++)this.nodeMatrix[xr]=zr.create()},y=l.createSampler();l.samplerParameteri(y,l.TEXTURE_MIN_FILTER,l.NEAREST_MIPMAP_LINEAR),l.samplerParameteri(y,l.TEXTURE_MAG_FILTER,l.LINEAR),l.samplerParameteri(y,l.TEXTURE_WRAP_S,l.REPEAT),l.samplerParameteri(y,l.TEXTURE_WRAP_T,l.REPEAT),l.bindVertexArray(null),l.bindVertexArray(null);var m={HAS_SKIN:1,SKIN_VEC8:2,HAS_BASECOLORMAP:4,HAS_NORMALMAP:8,HAS_METALROUGHNESSMAP:16,HAS_OCCLUSIONMAP:32,HAS_EMISSIVEMAP:64},C={},P=function(){this.flags=0,this.programObject=null};P.prototype.hasSkin=function(){return this.flags&m.HAS_SKIN},P.prototype.hasBaseColorMap=function(){return this.flags&m.HAS_BASECOLORMAP},P.prototype.hasNormalMap=function(){return this.flags&m.HAS_NORMALMAP},P.prototype.hasMetalRoughnessMap=function(){return this.flags&m.HAS_METALROUGHNESSMAP},P.prototype.hasOcclusionMap=function(){return this.flags&m.HAS_OCCLUSIONMAP},P.prototype.hasEmissiveMap=function(){return this.flags&m.HAS_EMISSIVEMAP},P.prototype.defineMacro=function(Lt){m[Lt]!==void 0&&(this.flags|=m[Lt])},P.prototype.compile=function(){var Lt=C[this.flags];if(Lt)this.programObject=Lt;else{var xr=Lt="";this.flags&m.HAS_SKIN&&(Lt+=`#define HAS_SKIN
`),this.flags&m.SKIN_VEC8&&(Lt+=`#define SKIN_VEC8
`),this.flags&m.HAS_BASECOLORMAP&&(xr+=`#define HAS_BASECOLORMAP
`),this.flags&m.HAS_NORMALMAP&&(xr+=`#define HAS_NORMALMAP
`),this.flags&m.HAS_METALROUGHNESSMAP&&(xr+=`#define HAS_METALROUGHNESSMAP
`),this.flags&m.HAS_OCCLUSIONMAP&&(xr+=`#define HAS_OCCLUSIONMAP
`),this.flags&m.HAS_EMISSIVEMAP&&(xr+=`#define HAS_EMISSIVEMAP
`),Lt=Pa.createProgram(l,`#version 300 es
`+Lt+`#define POSITION_LOCATION 0
#define NORMAL_LOCATION 1
#define TEXCOORD_0_LOCATION 2
#define JOINTS_0_LOCATION 3
#define JOINTS_1_LOCATION 5
#define WEIGHTS_0_LOCATION 4
#define WEIGHTS_1_LOCATION 6
#define TANGENT_LOCATION 7
precision highp float;precision highp int;uniform mat4 u_MVP;uniform mat4 u_MV;uniform mat4 u_MVNormal;
#ifdef HAS_SKIN
uniform JointMatrix{mat4 matrix[65];}u_jointMatrix;
#endif
layout(location=POSITION_LOCATION)in vec3 position;layout(location=NORMAL_LOCATION)in vec3 normal;layout(location=TEXCOORD_0_LOCATION)in vec2 uv;
#ifdef HAS_SKIN
layout(location=JOINTS_0_LOCATION)in vec4 joint0;layout(location=WEIGHTS_0_LOCATION)in vec4 weight0;
#ifdef SKIN_VEC8
layout(location=JOINTS_1_LOCATION)in vec4 joint1;layout(location=WEIGHTS_1_LOCATION)in vec4 weight1;
#endif
#endif
out vec3 v_position;out vec3 v_normal;out vec2 v_uv;void main(){
#ifdef HAS_SKIN
mat4 skinMatrix=weight0.x*u_jointMatrix.matrix[int(joint0.x)]+weight0.y*u_jointMatrix.matrix[int(joint0.y)]+weight0.z*u_jointMatrix.matrix[int(joint0.z)]+weight0.w*u_jointMatrix.matrix[int(joint0.w)];
#ifdef SKIN_VEC8
skinMatrix+=weight1.x*u_jointMatrix.matrix[int(joint1.x)]+weight1.y*u_jointMatrix.matrix[int(joint1.y)]+weight1.z*u_jointMatrix.matrix[int(joint1.z)]+weight1.w*u_jointMatrix.matrix[int(joint1.w)];
#endif
#endif
v_uv=uv;
#ifdef HAS_SKIN
v_normal=normalize((u_MVNormal*transpose(inverse(skinMatrix))*vec4(normal,0)).xyz);vec4 pos=u_MV*skinMatrix*vec4(position,1.0);gl_Position=u_MVP*skinMatrix*vec4(position,1.0);
#else
v_normal=normalize((u_MVNormal*vec4(normal,0)).xyz);vec4 pos=u_MV*vec4(position,1.0);gl_Position=u_MVP*vec4(position,1.0);
#endif
v_position=vec3(pos.xyz)/pos.w;}`,`#version 300 es
`+xr+`#define FRAG_COLOR_LOCATION 0
precision highp float;precision highp int;uniform sampler2D u_brdfLUT;uniform vec4 u_baseColorFactor;
#ifdef HAS_BASECOLORMAP
uniform sampler2D u_baseColorTexture;
#endif
#ifdef HAS_NORMALMAP
uniform sampler2D u_normalTexture;uniform float u_normalTextureScale;
#endif
#ifdef HAS_EMISSIVEMAP
uniform sampler2D u_emissiveTexture;uniform vec3 u_emissiveFactor;
#endif
#ifdef HAS_METALROUGHNESSMAP
uniform sampler2D u_metallicRoughnessTexture;
#endif
uniform float u_metallicFactor;uniform float u_roughnessFactor;
#ifdef HAS_OCCLUSIONMAP
uniform sampler2D u_occlusionTexture;uniform float u_occlusionStrength;
#endif
in vec3 v_position;in vec3 v_normal;in vec2 v_uv;layout(location=FRAG_COLOR_LOCATION)out vec4 frag_color;struct PBRInfo{float NdotL;float NdotV;float NdotH;float LdotH;float VdotH;float perceptualRoughness;float metalness;vec3 reflectance0;vec3 reflectance90;float alphaRoughness;vec3 diffuseColor;vec3 specularColor;};const float M_PI=3.141592653589793;const float c_MinRoughness=0.04;vec3 getNormal(){vec3 pos_dx=dFdx(v_position);vec3 pos_dy=dFdy(v_position);vec3 tex_dx=dFdx(vec3(v_uv,0.0));vec3 tex_dy=dFdy(vec3(v_uv,0.0));vec3 t=(tex_dy.t*pos_dx-tex_dx.t*pos_dy)/(tex_dx.s*tex_dy.t-tex_dy.s*tex_dx.t);vec3 ng=v_normal;t=normalize(t-ng*dot(ng,t));vec3 b=normalize(cross(ng,t));mat3 tbn=mat3(t,b,ng);
#ifdef HAS_NORMALMAP
vec3 n=texture(u_normalTexture,v_uv).rgb;n=normalize(tbn*((2.0*n-1.0)*vec3(u_normalTextureScale,u_normalTextureScale,1.0)));
#else
vec3 n=tbn[2].xyz;
#endif
return n;}vec3 getIBLContribution(PBRInfo pbrInputs,vec3 n,vec3 reflection){float mipCount=10.0;float lod=(pbrInputs.perceptualRoughness*mipCount);vec3 brdf=texture(u_brdfLUT,vec2(pbrInputs.NdotV,1.0-pbrInputs.perceptualRoughness)).rgb;vec3 diffuseLight=vec3(0.6,0.6,0.6);vec3 specularLight=vec3(0.6,0.6,0.6);vec3 diffuse=diffuseLight*pbrInputs.diffuseColor;vec3 specular=specularLight*(pbrInputs.specularColor*brdf.x+brdf.y);return diffuse+specular;}vec3 diffuse(PBRInfo pbrInputs){return pbrInputs.diffuseColor/M_PI;}vec3 specularReflection(PBRInfo pbrInputs){return pbrInputs.reflectance0+(pbrInputs.reflectance90-pbrInputs.reflectance0)*pow(clamp(1.0-pbrInputs.VdotH,0.0,1.0),5.0);}float geometricOcclusion(PBRInfo pbrInputs){float NdotL=pbrInputs.NdotL;float NdotV=pbrInputs.NdotV;float r=pbrInputs.alphaRoughness;float attenuationL=2.0*NdotL/(NdotL+sqrt(r*r+(1.0-r*r)*(NdotL*NdotL)));float attenuationV=2.0*NdotV/(NdotV+sqrt(r*r+(1.0-r*r)*(NdotV*NdotV)));return attenuationL*attenuationV;}float microfacetDistribution(PBRInfo pbrInputs){float roughnessSq=pbrInputs.alphaRoughness*pbrInputs.alphaRoughness;float f=(pbrInputs.NdotH*roughnessSq-pbrInputs.NdotH)*pbrInputs.NdotH+1.0;return roughnessSq/(M_PI*f*f);}void main(){float perceptualRoughness=u_roughnessFactor;float metallic=u_metallicFactor;
#ifdef HAS_METALROUGHNESSMAP
vec4 mrSample=texture(u_metallicRoughnessTexture,v_uv);perceptualRoughness=mrSample.g*perceptualRoughness;metallic=mrSample.b*metallic;
#endif
perceptualRoughness=clamp(perceptualRoughness,c_MinRoughness,1.0);metallic=clamp(metallic,0.0,1.0);float alphaRoughness=perceptualRoughness*perceptualRoughness;
#ifdef HAS_BASECOLORMAP
vec4 baseColor=texture(u_baseColorTexture,v_uv)*u_baseColorFactor;
#else
vec4 baseColor=u_baseColorFactor;
#endif
vec3 f0=vec3(0.04);vec3 diffuseColor=baseColor.rgb*(vec3(1.0)-f0);diffuseColor*=1.0-metallic;vec3 specularColor=mix(f0,baseColor.rgb,metallic);float reflectance=max(max(specularColor.r,specularColor.g),specularColor.b);float reflectance90=clamp(reflectance*25.0,0.0,1.0);vec3 specularEnvironmentR0=specularColor.rgb;vec3 specularEnvironmentR90=vec3(1.0,1.0,1.0)*reflectance90;vec3 n=getNormal();vec3 v=normalize(-v_position);vec3 l=normalize(vec3(1.0,1.0,1.0));vec3 h=normalize(l+v);vec3 reflection=-normalize(reflect(v,n));float NdotL=clamp(dot(n,l),0.001,1.0);float NdotV=abs(dot(n,v))+0.001;float NdotH=clamp(dot(n,h),0.0,1.0);float LdotH=clamp(dot(l,h),0.0,1.0);float VdotH=clamp(dot(v,h),0.0,1.0);PBRInfo pbrInputs=PBRInfo(NdotL,NdotV,NdotH,LdotH,VdotH,perceptualRoughness,metallic,specularEnvironmentR0,specularEnvironmentR90,alphaRoughness,diffuseColor,specularColor);vec3 F=specularReflection(pbrInputs);float G=geometricOcclusion(pbrInputs);float D=microfacetDistribution(pbrInputs);vec3 diffuseContrib=(1.0-F)*diffuse(pbrInputs);vec3 specContrib=max(vec3(0.0),F*G*D/(4.0*NdotL*NdotV));vec3 color=NdotL*(diffuseContrib+specContrib);color+=getIBLContribution(pbrInputs,n,reflection);
#ifdef HAS_OCCLUSIONMAP
float ao=texture(u_occlusionTexture,v_uv).r;color=mix(color,color*ao,u_occlusionStrength);
#endif
#ifdef HAS_EMISSIVEMAP
vec3 emissive=texture(u_emissiveTexture,v_uv).rgb*u_emissiveFactor;color+=emissive;
#endif
frag_color=vec4(color,baseColor.a);}`),this.programObject={program:Lt,uniformLocations:{},uniformBlockIndices:{}},this.flags&m.HAS_SKIN&&(this.programObject.uniformBlockIndices.JointMatrix=l.getUniformBlockIndex(Lt,"JointMatrix")),xr=this.programObject.uniformLocations,xr.MVP=l.getUniformLocation(Lt,"u_MVP"),xr.MVNormal=l.getUniformLocation(Lt,"u_MVNormal"),xr.MV=l.getUniformLocation(Lt,"u_MV"),xr.baseColorFactor=l.getUniformLocation(Lt,"u_baseColorFactor"),xr.metallicFactor=l.getUniformLocation(Lt,"u_metallicFactor"),xr.roughnessFactor=l.getUniformLocation(Lt,"u_roughnessFactor"),this.flags&m.HAS_BASECOLORMAP&&(xr.baseColorTexture=l.getUniformLocation(Lt,"u_baseColorTexture")),this.flags&m.HAS_NORMALMAP&&(xr.normalTexture=l.getUniformLocation(Lt,"u_normalTexture"),xr.normalTextureScale=l.getUniformLocation(Lt,"u_normalTextureScale")),this.flags&m.HAS_METALROUGHNESSMAP&&(xr.metallicRoughnessTexture=l.getUniformLocation(Lt,"u_metallicRoughnessTexture")),this.flags&m.HAS_OCCLUSIONMAP&&(xr.occlusionTexture=l.getUniformLocation(Lt,"u_occlusionTexture"),xr.occlusionStrength=l.getUniformLocation(Lt,"u_occlusionStrength")),this.flags&m.HAS_EMISSIVEMAP&&(xr.emissiveTexture=l.getUniformLocation(Lt,"u_emissiveTexture"),xr.emissiveFactor=l.getUniformLocation(Lt,"u_emissiveFactor")),l.useProgram(null),C[this.flags]=this.programObject}};var B=1,M=wr.create(),T=zr.create();fn.create();var L=[];l.enable(l.CULL_FACE),l.cullFace(l.BACK),l.frontFace(l.CCW);var z=!0;l.enable(l.DEPTH_TEST),l.depthFunc(l.LEQUAL);var H=H||{},Z=null;wr.create();var J=zr.create();zr.perspective(J,.785,d.width/d.height,.01,100),zr.create();var V=zr.create(),ne=zr.create(),Ce=zr.create();zr.create();var _e,Fe,Ue=[1,1,1,1],tt=H.drawPrimitive=function(Lt,xr){if(On){ne=V=On.matrix,zr.invert(Ce,V),zr.transpose(Ce,Ce),xr=Ue;var kn=Lt.shader,Yn=Lt.material;if(Yn!==null){var ci=Yn.pbrMetallicRoughness;xr=ci.baseColorFactor,Lt.material.doubleSided===z&&((z=!Lt.material.doubleSided)?l.enable(l.CULL_FACE):l.disable(l.CULL_FACE))}Z!=Lt.shader.programObject&&(Z=Lt.shader.programObject,l.useProgram(Z.program)),Yn&&(kn.hasBaseColorMap()&&n(Z.uniformLocations.baseColorTexture,ci.baseColorTexture),kn.hasNormalMap()&&(n(Z.uniformLocations.normalTexture,Yn.normalTexture),l.uniform1f(Z.uniformLocations.normalTextureScale,Yn.normalTexture.scale)),kn.hasMetalRoughnessMap()&&n(Z.uniformLocations.metallicRoughnessTexture,ci.metallicRoughnessTexture),l.uniform1f(Z.uniformLocations.metallicFactor,ci.metallicFactor),l.uniform1f(Z.uniformLocations.roughnessFactor,ci.roughnessFactor),kn.hasOcclusionMap()&&(n(Z.uniformLocations.occlusionTexture,Yn.occlusionTexture),l.uniform1f(Z.uniformLocations.occlusionStrength,Yn.occlusionTexture.strength)),kn.hasEmissiveMap()&&(n(Z.uniformLocations.emissiveTexture,Yn.emissiveTexture),l.uniform3fv(Z.uniformLocations.emissiveFactor,Yn.emissiveFactor))),kn.hasSkin()&&l.uniformBlockBinding(Z.program,Z.uniformBlockIndices.JointMatrix,_e),l.activeTexture(l.TEXTURE0+29),l.bindTexture(l.TEXTURE_2D,null),l.uniform4fv(Z.uniformLocations.baseColorFactor,xr),l.uniformMatrix4fv(Z.uniformLocations.MV,!1,V),l.uniformMatrix4fv(Z.uniformLocations.MVP,!1,ne),l.uniformMatrix4fv(Z.uniformLocations.MVNormal,!1,Ce),l.bindVertexArray(Lt.vertexArray),Lt.indices!==null?l.drawElements(Lt.mode,Lt.indicesLength,Lt.indicesComponentType,Lt.indicesOffset):l.drawArrays(Lt.mode,Lt.drawArraysOffset,Lt.drawArraysCount),l.bindVertexArray(null)}},He=zr.create(),kt=zr.create(),Wt=H.drawNode=function(Lt,xr,kn,Yn){if(xr=kn[xr],Yn!==void 0?zr.mul(xr,Yn,Lt.matrix):zr.copy(xr,Lt.matrix),Lt.skin!==null){var ci=Lt.skin;_e=ci.uniformBlockID;var Rn=Lt.skin.joints;for(zr.invert(kt,xr),Yn=0,Qi=Rn.length;Yn<Qi;Yn++){var Ps=Rn[Yn];zr.mul(He,kn[Ps.nodeID],ci.inverseBindMatrix[Yn]),zr.mul(He,kt,He),ci.jointMatrixUnidormBufferData.set(He,16*Yn)}l.bindBuffer(l.UNIFORM_BUFFER,ci.jointMatrixUniformBuffer),l.bufferSubData(l.UNIFORM_BUFFER,0,ci.jointMatrixUnidormBufferData,0,ci.jointMatrixUnidormBufferData.length)}var Qi;if(Lt.mesh!==null)for(ci=Lt.mesh,Yn=0,Qi=ci.primitives.length;Yn<Qi;Yn++)tt(ci.primitives[Yn],xr);for(Lt.skin!==null&&l.bindBuffer(l.UNIFORM_BUFFER,null),Yn=0,Qi=Lt.children.length;Yn<Qi;Yn++)Wt(Lt.children[Yn],Lt.children[Yn].nodeID,kn,xr)},Dr=H.drawScene=function(Lt){var xr=Lt.glTF;if(xr.animations){var kn=xr.animations[a],Yn,ci=0;for(Yn=kn.samplers.length;ci<Yn;ci++)kn.samplers[ci].getValue(br);for(ci=0,Yn=kn.channels.length;ci<Yn;ci++){var Rn=kn.channels[ci],Ps=Rn.sampler,Qi=xr.nodes[Rn.target.nodeID];switch(Rn.target.path){case"rotation":Bn.copy(Qi.rotation,Ps.curValue);break;case"translation":wr.copy(Qi.translation,Ps.curValue);break;case"scale":wr.copy(Qi.scale,Ps.curValue)}Qi.updateMatrixFromTRS()}}for(kn=0,xr=Lt.glTFScene.nodes.length;kn<xr;kn++)Wt(Lt.glTFScene.nodes[kn],Lt.glTFScene.nodes[kn].nodeID,Lt.nodeMatrix,Lt.rootTransform)},qr=performance.now(),br=0,On;return{setupScene:function(xr,kn){function Yn(qu,$u){if(qu!==void 0){var ru=qu.bufferView;return ru.target===null?(l.bindBuffer(l.ARRAY_BUFFER,ru.buffer),l.bufferData(l.ARRAY_BUFFER,ru.data,l.STATIC_DRAW)):l.bindBuffer(ru.target,ru.buffer),qu.prepareVertexAttrib($u,l),!0}return!1}var ci;if(xr.animations){var Rn=0;for(ci=xr.animations.length;Rn<ci;Rn++)f.add(xr.animations[Rn].name||Rn)}a=0,Rn=xr.scenes[xr.defaultScene],wr.fromValues(1.2*Rn.boundingBox.transform[0],0,0),wr.create(),kn?kn=L[kn.id]=new h(Rn,xr,kn.id):(kn=new h(Rn,xr,L.length),L.push(kn)),L.length===1&&(zr.identity(T),B=1/Math.max(Rn.boundingBox.transform[0],Math.max(Rn.boundingBox.transform[5],Rn.boundingBox.transform[10])),zr.getTranslation(M,Rn.boundingBox.transform),wr.scale(M,M,-1),M[0]+=-.5*Rn.boundingBox.transform[0],M[1]+=-.5*Rn.boundingBox.transform[5],M[2]+=-.5*Rn.boundingBox.transform[10],B*=.5,T[0]=B,T[5]=B,T[10]=B,zr.translate(T,T,M),wr.set(M,0,0,-1.5),B=1);var Ps;for(Rn=0,ci=xr.bufferViews.length;Rn<ci;Rn++){var Qi=xr.bufferViews[Rn];Qi.createBuffer(l),Qi.bindData(l)}if(xr.textures)for(Rn=0,ci=xr.textures.length;Rn<ci;Rn++){var Ga=xr.textures[Rn];Ga.createTexture(l)}if(xr.samplers)for(Rn=0,ci=xr.samplers.length;Rn<ci;Rn++)Ga=xr.samplers[Rn],Ga.createSampler(l);if(xr.skins)for(Rn=0,ci=xr.skins.length;Rn<ci;Rn++)Ga=xr.skins[Rn],Ga.jointMatrixUniformBuffer=l.createBuffer(),l.bindBufferBase(l.UNIFORM_BUFFER,Ga.uniformBlockID,Ga.jointMatrixUniformBuffer),l.bindBuffer(l.UNIFORM_BUFFER,Ga.jointMatrixUniformBuffer),l.bufferData(l.UNIFORM_BUFFER,Ga.jointMatrixUnidormBufferData,l.DYNAMIC_DRAW),l.bufferSubData(l.UNIFORM_BUFFER,0,Ga.jointMatrixUnidormBufferData),l.bindBuffer(l.UNIFORM_BUFFER,null);var wl=0;for(Ps=xr.meshes.length;wl<Ps;wl++)for(Ga=xr.meshes[wl],Rn=0,ci=Ga.primitives.length;Rn<ci;++Rn){var za=Ga.primitives[Rn];za.shader=new P,za.vertexArray=Qi=l.createVertexArray(),l.bindVertexArray(Qi),Yn(za.attributes.POSITION,0),Yn(za.attributes.NORMAL,1),Yn(za.attributes.TEXCOORD_0,2),Yn(za.attributes.JOINTS_0,3)&&Yn(za.attributes.WEIGHTS_0,4)&&za.shader.defineMacro("HAS_SKIN"),Yn(za.attributes.JOINTS_1,5)&&Yn(za.attributes.WEIGHTS_1,6)&&za.shader.defineMacro("SKIN_VEC8"),za.indices!==null&&(Qi=xr.accessors[za.indices],Qi=Qi.bufferView,Qi.target===null?(l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,Qi.buffer),l.bufferData(l.ELEMENT_ARRAY_BUFFER,Qi.data,l.STATIC_DRAW)):l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,Qi.buffer)),l.bindVertexArray(null),l.bindBuffer(l.ARRAY_BUFFER,null),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,null),(Qi=za.material)&&(Qi.pbrMetallicRoughness.baseColorTexture&&za.shader.defineMacro("HAS_BASECOLORMAP"),Qi.pbrMetallicRoughness.metallicRoughnessTexture&&za.shader.defineMacro("HAS_METALROUGHNESSMAP"),Qi.normalTexture&&za.shader.defineMacro("HAS_NORMALMAP"),Qi.occlusionTexture&&za.shader.defineMacro("HAS_OCCLUSIONMAP"),Qi.emissiveTexture&&za.shader.defineMacro("HAS_EMISSIVEMAP")),za.shader.compile()}return kn},render:H.render=function(Lt){On=Lt,Lt=new Date().getTime();var xr,kn=0;for(xr=L.length;kn<xr;kn++)Fe=L[kn],Dr(L[kn]);Z=null,br=.001*(Lt-qr)}}}function gs(d){this.options=d=d||{},d.colors=d.colors||["rgba(0,192,73,0.99609375)","rgba(242,48,48,0.99609375)","rgba(255,159,25,0.99609375)"];var n=d.colors;this.drawTogether=!0,this.parseColors(n),this.tileSize=256,this.ratio=window.devicePixelRatio,this.cache={},d.getTileUrl&&(this.getTileUrl=d.getTileUrl),this._loadCount={}}function mf(d){var n=d/2,l=d+n,a=new Xt(2*l,2*l),f=a.getContext("2d");return f.shadowBlur=n,f.shadowColor="black",f.shadowOffsetX=f.shadowOffsetY=1e4,f.beginPath(),f.arc(l-1e4,l-1e4,d,0,2*Math.PI,!0),f.closePath(),f.fill(),a}var Zc=window.BMapGL||window.BMap;Zc&&Zc.Overlay&&(K.prototype=new Zc.Overlay),K.prototype.initialize=function(d){this._map=d;var n=this.canvas=document.createElement("canvas"),l=this.ctx=this.canvas.getContext("2d");n.style.cssText="position:absolute;left:0;top:0;z-index:"+this.zIndex+";",this.adjustSize(),this.adjustRatio(l),d.getContainer().appendChild(n);var a=this;return d.addEventListener("resize",function(){a.adjustSize(),a._draw()}),this.canvas},K.prototype.adjustSize=function(){var d=this._map.getSize(),n=this.canvas;n.width=d.width,n.height=d.height,n.style.width=n.width+"px",n.style.height=n.height+"px"},K.prototype.adjustRatio=function(d){var n=(window.devicePixelRatio||1)/(d.backingStorePixelRatio||d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1),l=d.canvas.width,a=d.canvas.height;d.canvas.width=l*n,d.canvas.height=a*n,d.canvas.style.width=l+"px",d.canvas.style.height=a+"px",d.scale(n,n)},K.prototype.draw=function(){this._draw.apply(this,arguments)},K.prototype._draw=function(){this.dispatchEvent("draw"),this.options.update&&this.options.update.apply(this,arguments)},K.prototype.getContainer=function(){return this.canvas},K.prototype.show=function(){this.canvas||this._map.addOverlay(this),this.canvas.style.display="block"},K.prototype.hide=function(){this.canvas.style.display="none"},K.prototype.setZIndex=function(d){this.canvas.style.zIndex=d},K.prototype.getZIndex=function(){return this.zIndex};var Hf=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof xe!="undefined"?xe:typeof self!="undefined"?self:{},Ac=ve(function(d,n){n.__esModule=!0,n.default=function(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}}),di=Ae(Ac),Ja=function(n){if(n==null)throw TypeError("Can't call method on  "+n);return n},Jc={}.hasOwnProperty,La=function(n,l){return Jc.call(n,l)},Vf={}.toString,zl=function(n){return Vf.call(n).slice(8,-1)},nd=Object("z").propertyIsEnumerable(0)?Object:function(d){return zl(d)=="String"?d.split(""):Object(d)},tc=function(n){return nd(Ja(n))},Mh=Math.ceil,_f=Math.floor,rc=function(n){return isNaN(n=+n)?0:(0<n?_f:Mh)(n)},su=Math.min,Xl=function(n){return 0<n?su(rc(n),9007199254740991):0},Dc=Math.max,bu=Math.min,Ha=ve(function(d){d=d.exports={version:"2.6.5"},typeof __e=="number"&&(__e=d)}),Ko=ve(function(d){d=d.exports=typeof window!="undefined"&&Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")(),typeof __g=="number"&&(__g=d)}),Tu=ve(function(d){var n=Ko["__core-js_shared__"]||(Ko["__core-js_shared__"]={});(d.exports=function(l,a){return n[l]||(n[l]=a!==void 0?a:{})})("versions",[]).push({version:Ha.version,mode:"pure",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"})}),zs=0,Eh=Math.random(),Nc=function(n){return"Symbol(".concat(n===void 0?"":n,")_",(++zs+Eh).toString(36))},Ed=Tu("keys"),Zd=function(n){return Ed[n]||(Ed[n]=Nc(n))},Wf=function(d){return function(n,l,a){n=tc(n);var f=Xl(n.length);if(a=rc(a),a=0>a?Dc(a+f,0):bu(a,f),d&&l!=l){for(;f>a;)if(l=n[a++],l!=l)return!0}else for(;f>a;a++)if((d||a in n)&&n[a]===l)return d||a||0;return!d&&-1}}(!1),Jd=Zd("IE_PROTO"),id=function(n,l){n=tc(n);var a=0,f=[],h;for(h in n)h!=Jd&&La(n,h)&&f.push(h);for(;l.length>a;)La(n,h=l[a++])&&(~Wf(f,h)||f.push(h));return f},zh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Th=Object.keys||function(d){return id(d,zh)},If=function(n){if(typeof n!="function")throw TypeError(n+" is not a function!");return n},ql=function(n,l,a){if(If(n),l===void 0)return n;switch(a){case 1:return function(f){return n.call(l,f)};case 2:return function(f,h){return n.call(l,f,h)};case 3:return function(f,h,y){return n.call(l,f,h,y)}}return function(){return n.apply(l,arguments)}},Ho=function(n){return typeof n=="object"?n!==null:typeof n=="function"},ul=function(n){if(!Ho(n))throw TypeError(n+" is not an object!");return n},oh=function(n){try{return!!n()}catch(l){return!0}},ls=!oh(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7}),cl=Ko.document,wp=Ho(cl)&&Ho(cl.createElement),mm=!ls&&!oh(function(){return Object.defineProperty(wp?cl.createElement("div"):{},"a",{get:function(){return 7}}).a!=7}),Qc=function(n,l){if(!Ho(n))return n;var a,f;if(l&&typeof(a=n.toString)=="function"&&!Ho(f=a.call(n))||typeof(a=n.valueOf)=="function"&&!Ho(f=a.call(n))||!l&&typeof(a=n.toString)=="function"&&!Ho(f=a.call(n)))return f;throw TypeError("Can't convert object to primitive value")},od=Object.defineProperty,vf={f:ls?Object.defineProperty:function(d,n,l){if(ul(d),n=Qc(n,!0),ul(l),mm)try{return od(d,n,l)}catch(a){}if("get"in l||"set"in l)throw TypeError("Accessors not supported!");return"value"in l&&(d[n]=l.value),d}},gf=function(n,l){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:l}},qc=ls?function(d,n,l){return vf.f(d,n,gf(1,l))}:function(d,n,l){return d[n]=l,d},ad=function d(n,l,a){var f=n&d.F,h=n&d.G,y=n&d.S,m=n&d.P,C=n&d.B,P=n&d.W,B=h?Ha:Ha[l]||(Ha[l]={}),M=B.prototype;y=h?Ko:y?Ko[l]:(Ko[l]||{}).prototype;var T;h&&(a=l);for(T in a)if(l=!f&&y&&y[T]!==void 0,!l||!La(B,T)){var L=l?y[T]:a[T];B[T]=h&&typeof y[T]!="function"?a[T]:C&&l?ql(L,Ko):P&&y[T]==L?function(z){var H=function(J,V,ne){if(this instanceof z){switch(arguments.length){case 0:return new z;case 1:return new z(J);case 2:return new z(J,V)}return new z(J,V,ne)}return z.apply(this,arguments)};return H.prototype=z.prototype,H}(L):m&&typeof L=="function"?ql(Function.call,L):L,m&&((B.virtual||(B.virtual={}))[T]=L,n&d.R&&M&&!M[T]&&qc(M,T,L))}};ad.F=1,ad.G=2,ad.S=4,ad.P=8,ad.B=16,ad.W=32,ad.U=64,ad.R=128;var Ni=ad,Uh=function(n,l){var a=(Ha.Object||{})[n]||Object[n],f={};f[n]=l(a),Ni(Ni.S+Ni.F*oh(function(){a(1)}),"Object",f)};Uh("keys",function(){return function(d){return Th(Object(Ja(d)))}});var Td=Ha.Object.keys,bp=ve(function(d){d.exports={default:Td,__esModule:!0}}),Fu=Ae(bp),wc=Object.getOwnPropertySymbols,Qd={}.propertyIsEnumerable,sd=Object.assign,ah=!sd||oh(function(){var d={},n={},l=Symbol();return d[l]=7,"abcdefghijklmnopqrst".split("").forEach(function(a){n[a]=a}),sd({},d)[l]!=7||Object.keys(sd({},n)).join("")!="abcdefghijklmnopqrst"})?function(d,n){for(var l=Object(Ja(d)),a=arguments.length,f=1,h=wc,y=Qd;a>f;)for(var m=nd(arguments[f++]),C=h?Th(m).concat(h(m)):Th(m),P=C.length,B=0,M;P>B;)y.call(m,M=C[B++])&&(l[M]=m[M]);return l}:sd;Ni(Ni.S+Ni.F,"Object",{assign:ah});var qd=Ha.Object.assign,_h=ve(function(d){d.exports={default:qd,__esModule:!0}}),us=Ae(_h),ze=Zd("IE_PROTO"),Le=Object.prototype,it=Object.getPrototypeOf||function(d){return d=Object(Ja(d)),La(d,ze)?d[ze]:typeof d.constructor=="function"&&d instanceof d.constructor?d.constructor.prototype:d instanceof Object?Le:null};Uh("getPrototypeOf",function(){return function(d){return it(Object(Ja(d)))}});var Qe=Ha.Object.getPrototypeOf,Gt=ve(function(d){d.exports={default:Qe,__esModule:!0}}),yt=Ae(Gt);Ni(Ni.S+Ni.F*!ls,"Object",{defineProperty:vf.f});var mr=Ha.Object,vr=function(n,l,a){return mr.defineProperty(n,l,a)},Ar=ve(function(d){d.exports={default:vr,__esModule:!0}}),sn=Ae(Ar),bi=ve(function(d,n){n.__esModule=!0;var l=Ar&&Ar.__esModule?Ar:{default:Ar};n.default=function(){function a(f,h){for(var y=0;y<h.length;y++){var m=h[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),(0,l.default)(f,m.key,m)}}return function(f,h,y){return h&&a(f.prototype,h),y&&a(f,y),f}}()}),nn=Ae(bi),Ti={},yo=ls?Object.defineProperties:function(d,n){ul(d);for(var l=Th(n),a=l.length,f=0,h;a>f;)vf.f(d,h=l[f++],n[h]);return d},mn=Ko.document,ca=mn&&mn.documentElement,co=Zd("IE_PROTO"),is=function(){},Yi=function(){var n=wp?cl.createElement("iframe"):{},l=zh.length;for(n.style.display="none",ca.appendChild(n),n.src="javascript:",n=n.contentWindow.document,n.open(),n.write("<script>document.F=Object</script>"),n.close(),Yi=n.F;l--;)delete Yi.prototype[zh[l]];return Yi()},fa=Object.create||function(d,n){if(d!==null){is.prototype=ul(d);var l=new is;is.prototype=null,l[co]=d}else l=Yi();return n===void 0?l:yo(l,n)},ha=ve(function(d){var n=Tu("wks"),l=Ko.Symbol,a=typeof l=="function";(d.exports=function(f){return n[f]||(n[f]=a&&l[f]||(a?l:Nc)("Symbol."+f))}).store=n}),Da=vf.f,Xi=ha("toStringTag"),fo=function(n,l,a){n&&!La(n=a?n:n.prototype,Xi)&&Da(n,Xi,{configurable:!0,value:l})},Qa={};qc(Qa,ha("iterator"),function(){return this});var po=function(n,l,a){n.prototype=fa(Qa,{next:gf(1,a)}),fo(n,l+" Iterator")},ws=ha("iterator"),os=!([].keys&&"next"in[].keys()),Ls=function(){return this},oa=function(n,l,a,f,h,y,m){po(a,l,f),f=function(ne){return!os&&ne in M?M[ne]:function(){return new a(this,ne)}};var C=l+" Iterator",P=h=="values",B=!1,M=n.prototype,T=M[ws]||M["@@iterator"]||h&&M[h],L=T||f(h),z=h?P?f("entries"):L:void 0,H=l=="Array"&&M.entries||T,Z;if(H&&(n=it(H.call(new n)),n!==Object.prototype&&n.next&&fo(n,C,!0)),P&&T&&T.name!=="values"&&(B=!0,L=function(){return T.call(this)}),m&&(os||B||!M[ws])&&qc(M,ws,L),Ti[l]=L,Ti[C]=Ls,h){var J={values:P?L:f("values"),keys:y?L:f("keys"),entries:z};if(m)for(Z in J)Z in M||qc(M,Z,J[Z]);else Ni(Ni.P+Ni.F*(os||B),l,J)}return J},Lo=function(d){return function(n,l){n=String(Ja(n)),l=rc(l);var a=n.length,f;if(0>l||l>=a)return d?"":void 0;var h=n.charCodeAt(l);return 55296>h||56319<h||l+1===a||56320>(f=n.charCodeAt(l+1))||57343<f?d?n.charAt(l):h:d?n.slice(l,l+2):(h-55296<<10)+(f-56320)+65536}}(!0);oa(String,"String",function(d){this._t=String(d),this._i=0},function(){var d=this._t,n=this._i;return n>=d.length?{value:void 0,done:!0}:(d=Lo(d,n),this._i+=d.length,{value:d,done:!1})});var wa=function(n,l){return{value:l,done:!!n}};oa(Array,"Array",function(d,n){this._t=tc(d),this._i=0,this._k=n},function(){var d=this._t,n=this._k,l=this._i++;return!d||l>=d.length?(this._t=void 0,wa(1)):n=="keys"?wa(0,l):n=="values"?wa(0,d[l]):wa(0,[l,d[l]])},"values"),Ti.Arguments=Ti.Array;for(var ba=ha("toStringTag"),ho="CSSRuleList CSSStyleDeclaration CSSValueList ClientRectList DOMRectList DOMStringList DOMTokenList DataTransferItemList FileList HTMLAllCollection HTMLCollection HTMLFormElement HTMLSelectElement MediaList MimeTypeArray NamedNodeMap NodeList PaintRequestList Plugin PluginArray SVGLengthList SVGNumberList SVGPathSegList SVGPointList SVGStringList SVGTransformList SourceBufferList StyleSheetList TextTrackCueList TextTrackList TouchList".split(" "),qa=0;qa<ho.length;qa++){var da=ho[qa],ta=Ko[da],Ka=ta&&ta.prototype;Ka&&!Ka[ba]&&qc(Ka,ba,da),Ti[da]=Ti.Array}var Za={f:ha},cs=Za.f("iterator"),Uo=ve(function(d){d.exports={default:cs,__esModule:!0}});Ae(Uo);var nc=ve(function(d){var n=Nc("meta"),l=vf.f,a=0,f=Object.isExtensible||function(){return!0},h=!oh(function(){return f(Object.preventExtensions({}))}),y=function(P){l(P,n,{value:{i:"O"+ ++a,w:{}}})},m=d.exports={KEY:n,NEED:!1,fastKey:function(P,B){if(!Ho(P))return typeof P=="symbol"?P:(typeof P=="string"?"S":"P")+P;if(!La(P,n)){if(!f(P))return"F";if(!B)return"E";y(P)}return P[n].i},getWeak:function(P,B){if(!La(P,n)){if(!f(P))return!0;if(!B)return!1;y(P)}return P[n].w},onFreeze:function(P){return h&&m.NEED&&f(P)&&!La(P,n)&&y(P),P}}}),Yu=vf.f,Bu=function(n){var l=Ha.Symbol||(Ha.Symbol={});n.charAt(0)=="_"||n in l||Yu(l,n,{value:Za.f(n)})},El=Array.isArray||function(d){return zl(d)=="Array"},ja=zh.concat("length","prototype"),lu=Object.getOwnPropertyNames||function(d){return id(d,ja)},$c=lu,Ul={}.toString,uu=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Ks=function(n){if(uu&&Ul.call(n)=="[object Window]")try{var l=$c(n)}catch(a){l=uu.slice()}else l=$c(tc(n));return l},fs=Object.getOwnPropertyDescriptor,ju={f:ls?fs:function(d,n){if(d=tc(d),n=Qc(n,!0),mm)try{return fs(d,n)}catch(l){}if(La(d,n))return gf(!Qd.call(d,n),d[n])}},$l=nc.KEY,ic=ju.f,Nl=vf.f,zu=Ks,bs=Ko.Symbol,Uu=Ko.JSON,Yt=Uu&&Uu.stringify,Ur=ha("_hidden"),Lr=ha("toPrimitive"),zi={}.propertyIsEnumerable,Mo=Tu("symbol-registry"),Ta=Tu("symbols"),Ss=Tu("op-symbols"),Go=Object.prototype,Fi=typeof bs=="function",Zo=Ko.QObject,pa=!Zo||!Zo.prototype||!Zo.prototype.findChild,Kl=ls&&oh(function(){return fa(Nl({},"a",{get:function(){return Nl(this,"a",{value:7}).a}})).a!=7})?function(d,n,l){var a=ic(Go,n);a&&delete Go[n],Nl(d,n,l),a&&d!==Go&&Nl(Go,n,a)}:Nl,oc=function(n){var l=Ta[n]=fa(bs.prototype);return l._k=n,l},ef=Fi&&typeof bs.iterator=="symbol"?function(d){return typeof d=="symbol"}:function(d){return d instanceof bs},cu=function d(n,l,a){return n===Go&&d(Ss,l,a),ul(n),l=Qc(l,!0),ul(a),La(Ta,l)?(a.enumerable?(La(n,Ur)&&n[Ur][l]&&(n[Ur][l]=!1),a=fa(a,{enumerable:gf(0,!1)})):(La(n,Ur)||Nl(n,Ur,gf(1,{})),n[Ur][l]=!0),Kl(n,l,a)):Nl(n,l,a)},Gf=function(n,l){ul(n);var a=l=tc(l),f=Th(a),h=wc;if(h){h=h(a);for(var y=Qd,m=0,C;h.length>m;)y.call(a,C=h[m++])&&f.push(C)}a=0,C=f.length;for(var P;C>a;)cu(n,P=f[a++],l[P]);return n},Ds=function(n){var l=zi.call(this,n=Qc(n,!0));return this===Go&&La(Ta,n)&&!La(Ss,n)?!1:l||!La(this,n)||!La(Ta,n)||La(this,Ur)&&this[Ur][n]?l:!0},Yf=function(n,l){if(n=tc(n),l=Qc(l,!0),n!==Go||!La(Ta,l)||La(Ss,l)){var a=ic(n,l);return!a||!La(Ta,l)||La(n,Ur)&&n[Ur][l]||(a.enumerable=!0),a}},Xf=function(n){n=zu(tc(n));for(var l=[],a=0,f;n.length>a;)La(Ta,f=n[a++])||f==Ur||f==$l||l.push(f);return l},vc=function(n){var l=n===Go;n=zu(l?Ss:tc(n));for(var a=[],f=0,h;n.length>f;)La(Ta,h=n[f++])&&(l?La(Go,h):1)&&a.push(Ta[h]);return a};Fi||(bs=function(){if(this instanceof bs)throw TypeError("Symbol is not a constructor!");var n=Nc(0<arguments.length?arguments[0]:void 0),l=function a(f){this===Go&&a.call(Ss,f),La(this,Ur)&&La(this[Ur],n)&&(this[Ur][n]=!1),Kl(this,n,gf(1,f))};return ls&&pa&&Kl(Go,n,{configurable:!0,set:l}),oc(n)},qc(bs.prototype,"toString",function(){return this._k}),ju.f=Yf,vf.f=cu,lu=Ks=Xf,Qd=Ds,wc=vc,Za.f=function(d){return oc(ha(d))}),Ni(Ni.G+Ni.W+Ni.F*!Fi,{Symbol:bs});for(var Kf="hasInstance isConcatSpreadable iterator match replace search species split toPrimitive toStringTag unscopables".split(" "),sh=0;Kf.length>sh;)ha(Kf[sh++]);for(var ld=Th(ha.store),lh=0;ld.length>lh;)Bu(ld[lh++]);Ni(Ni.S+Ni.F*!Fi,"Symbol",{for:function(n){return La(Mo,n+="")?Mo[n]:Mo[n]=bs(n)},keyFor:function(n){if(!ef(n))throw TypeError(n+" is not a symbol!");for(var l in Mo)if(Mo[l]===n)return l},useSetter:function(){pa=!0},useSimple:function(){pa=!1}}),Ni(Ni.S+Ni.F*!Fi,"Object",{create:function(n,l){return l===void 0?fa(n):Gf(fa(n),l)},defineProperty:cu,defineProperties:Gf,getOwnPropertyDescriptor:Yf,getOwnPropertyNames:Xf,getOwnPropertySymbols:vc}),Uu&&Ni(Ni.S+Ni.F*(!Fi||oh(function(){var d=bs();return Yt([d])!="[null]"||Yt({a:d})!="{}"||Yt(Object(d))!="{}"})),"JSON",{stringify:function(n){for(var l=[n],a=1,f;arguments.length>a;)l.push(arguments[a++]);if(f=a=l[1],(Ho(a)||n!==void 0)&&!ef(n))return El(a)||(a=function(y,m){if(typeof f=="function"&&(m=f.call(this,y,m)),!ef(m))return m}),l[1]=a,Yt.apply(Uu,l)}}),bs.prototype[Lr]||qc(bs.prototype,Lr,bs.prototype.valueOf),fo(bs,"Symbol"),fo(Math,"Math",!0),fo(Ko.JSON,"JSON",!0),Bu("asyncIterator"),Bu("observable");var _u=Ha.Symbol,yf=ve(function(d){d.exports={default:_u,__esModule:!0}}),uh=Ae(yf),gc=ve(function(d,n){n.__esModule=!0,d=Uo&&Uo.__esModule?Uo:{default:Uo};var l=yf&&yf.__esModule?yf:{default:yf},a=typeof l.default=="function"&&typeof d.default=="symbol"?function(f){return typeof f}:function(f){return f&&typeof l.default=="function"&&f.constructor===l.default&&f!==l.default.prototype?"symbol":typeof f};n.default=typeof l.default=="function"&&a(d.default)==="symbol"?function(f){return typeof f=="undefined"?"undefined":a(f)}:function(f){return f&&typeof l.default=="function"&&f.constructor===l.default&&f!==l.default.prototype?"symbol":typeof f=="undefined"?"undefined":a(f)}}),ac=Ae(gc),bc=ve(function(d,n){n.__esModule=!0;var l=gc&&gc.__esModule?gc:{default:gc};n.default=function(a,f){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||(typeof f=="undefined"?"undefined":(0,l.default)(f))!=="object"&&typeof f!="function"?a:f}}),xo=Ae(bc),sc=Object.setPrototypeOf||("__proto__"in{}?function(d,n,l){try{l=ql(Function.call,ju.f(Object.prototype,"__proto__").set,2),l(d,[]),n=!(d instanceof Array)}catch(a){n=!0}return function(a,f){if(ul(a),!Ho(f)&&f!==null)throw TypeError(f+": can't set as prototype!");return n?a.__proto__=f:l(a,f),a}}({},!1):void 0);Ni(Ni.S,"Object",{setPrototypeOf:sc});var _d=Ha.Object.setPrototypeOf,eu=ve(function(d){d.exports={default:_d,__esModule:!0}});Ae(eu),Ni(Ni.S,"Object",{create:fa});var Ih=Ha.Object,$d=function(n,l){return Ih.create(n,l)},Id=ve(function(d){d.exports={default:$d,__esModule:!0}}),Kp=Ae(Id),ep=ve(function(d,n){function l(y){return y&&y.__esModule?y:{default:y}}n.__esModule=!0;var a=l(eu),f=l(Id),h=l(gc);n.default=function(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof m=="undefined"?"undefined":(0,h.default)(m)));y.prototype=(0,f.default)(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(a.default?(0,a.default)(y,m):y.__proto__=m)}}),Vo=Ae(ep),ud=ha("toStringTag"),Zf=zl(function(){return arguments}())=="Arguments",tp=function(n){var l;if(n===void 0)var a="Undefined";else{if(n===null)var f="Null";else{e:{var h=n=Object(n);try{f=h[ud];break e}catch(y){}f=void 0}f=typeof(a=f)=="string"?a:Zf?zl(n):(l=zl(n))=="Object"&&typeof n.callee=="function"?"Arguments":l}a=f}return a},Pd=ha("iterator"),cd=Ha.isIterable=function(d){return d=Object(d),d[Pd]!==void 0||"@@iterator"in d||Ti.hasOwnProperty(tp(d))},no=ve(function(d){d.exports={default:cd,__esModule:!0}});Ae(no);var Us=ha("iterator"),fd=Ha.getIteratorMethod=function(d){if(d!=null)return d[Us]||d["@@iterator"]||Ti[tp(d)]},Np=Ha.getIterator=function(d){var n=fd(d);if(typeof n!="function")throw TypeError(d+" is not iterable!");return ul(n.call(d))},Ph=ve(function(d){d.exports={default:Np,__esModule:!0}}),tf=Ae(Ph),Od=ve(function(d,n){n.__esModule=!0;var l=no&&no.__esModule?no:{default:no},a=Ph&&Ph.__esModule?Ph:{default:Ph};n.default=function(){return function(f,h){if(Array.isArray(f))return f;if((0,l.default)(Object(f))){var y=[],m=!0,C=!1,P=void 0;try{for(var B=(0,a.default)(f),M;!(m=(M=B.next()).done)&&(y.push(M.value),!h||y.length!==h);m=!0);}catch(T){C=!0,P=T}finally{try{!m&&B.return&&B.return()}finally{if(C)throw P}}return y}throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()}),Xu=Ae(Od),io=function(n,l,a,f){try{return f?l(ul(a)[0],a[1]):l(a)}catch(h){throw l=n.return,l!==void 0&&ul(l.call(n)),h}},Ns=ha("iterator"),Pf=Array.prototype,Of=ha("iterator"),Ku=!1;try{[7][Of]().return=function(){Ku=!0}}catch(d){}var Oh=function(n,l){if(!l&&!Ku)return!1;var a=!1;try{l=[7];var f=l[Of]();f.next=function(){return{done:a=!0}},l[Of]=function(){return f},n(l)}catch(h){}return a};Ni(Ni.S+Ni.F*!Oh(function(d){}),"Array",{from:function(n){var l=Object(Ja(n)),a=typeof this=="function"?this:Array,f=arguments.length,h=1<f?arguments[1]:void 0,y=h!==void 0,m=0,C=fd(l),P;if(y&&(h=ql(h,2<f?arguments[2]:void 0,2)),C!=null&&(a!=Array||C===void 0||Ti.Array!==C&&Pf[Ns]!==C))for(l=C.call(l),a=new a;!(P=l.next()).done;m++)f=a,C=m,P=y?io(l,h,[P.value,m],!0):P.value,C in f?vf.f(f,C,gf(0,P)):f[C]=P;else for(f=Xl(l.length),a=new a(f);f>m;m++){C=a,P=m;var B=y?h(l[m],m):l[m];P in C?vf.f(C,P,gf(0,B)):C[P]=B}return a.length=m,a}});var Sp=Ha.Array.from,Jf=ve(function(d){d.exports={default:Sp,__esModule:!0}}),kh=Ae(Jf),Hh=ve(function(d,n){n.__esModule=!0;var l=Jf&&Jf.__esModule?Jf:{default:Jf};n.default=function(a){if(Array.isArray(a)){for(var f=0,h=Array(a.length);f<a.length;f++)h[f]=a[f];return h}return(0,l.default)(a)}}),ga=Ae(Hh),Zu=nc.onFreeze;Uh("freeze",function(d){return function(n){return d&&Ho(n)?d(Zu(n)):n}});var fl=Ha.Object.freeze,Fc=ve(function(d){d.exports={default:fl,__esModule:!0}}),Ve=Ae(Fc),Bc=Ha.JSON||(Ha.JSON={stringify:JSON.stringify}),lc=function(n){return Bc.stringify.apply(Bc,arguments)},uc=ve(function(d){d.exports={default:lc,__esModule:!0}}),fi=Ae(uc),Iu={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},rf=ju.f;Uh("getOwnPropertyDescriptor",function(){return function(d,n){return rf(tc(d),n)}});var Mp=Ha.Object,hd=function(n,l){return Mp.getOwnPropertyDescriptor(n,l)},Rd=ve(function(d){d.exports={default:hd,__esModule:!0}}),xl=Ae(Rd),Qf=ve(function(d){var n=Array.prototype.concat,l=Array.prototype.slice,a=d.exports=function(f){for(var h=[],y=0,m=f.length;y<m;y++){var C=f[y],P=(P=C)&&typeof P!="string"?P instanceof Array||Array.isArray(P)||0<=P.length&&(P.splice instanceof Function||xl(P,P.length-1)&&P.constructor.name!=="String"):!1;P?h=n.call(h,l.call(C)):h.push(C)}return h};a.wrap=function(f){return function(){return f(a(arguments))}}}),Vh=ve(function(d){function n(y,m,C){return Math.min(Math.max(m,y),C)}function l(y){return y=y.toString(16).toUpperCase(),2>y.length?"0"+y:y}var a={},f;for(f in Iu)Iu.hasOwnProperty(f)&&(a[Iu[f]]=f);var h=d.exports={to:{},get:{}};h.get=function(y){switch(y.substring(0,3).toLowerCase()){case"hsl":y=h.get.hsl(y);var m="hsl";break;case"hwb":y=h.get.hwb(y),m="hwb";break;default:y=h.get.rgb(y),m="rgb"}return y?{model:m,value:y}:null},h.get.rgb=function(y){if(!y)return null;var m=/^#([a-f0-9]{3,4})$/i,C=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,P=/^rgba?\(\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,B=/(\D+)/,M=[0,0,0,1],T;if(T=y.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(m=T[2],T=T[1],y=0;3>y;y++)C=2*y,M[y]=parseInt(T.slice(C,C+2),16);m&&(M[3]=Math.round(parseInt(m,16)/255*100)/100)}else if(T=y.match(m)){for(T=T[1],m=T[3],y=0;3>y;y++)M[y]=parseInt(T[y]+T[y],16);m&&(M[3]=Math.round(parseInt(m+m,16)/255*100)/100)}else if(T=y.match(C)){for(y=0;3>y;y++)M[y]=parseInt(T[y+1],0);T[4]&&(M[3]=parseFloat(T[4]))}else if(T=y.match(P)){for(y=0;3>y;y++)M[y]=Math.round(2.55*parseFloat(T[y+1]));T[4]&&(M[3]=parseFloat(T[4]))}else return(T=y.match(B))?T[1]==="transparent"?[0,0,0,0]:(M=Iu[T[1]],M?(M[3]=1,M):null):null;for(y=0;3>y;y++)M[y]=n(M[y],0,255);return M[3]=n(M[3],0,1),M},h.get.hsl=function(y){if(!y)return null;var m=y.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(m){var C=parseFloat(m[4]);y=(parseFloat(m[1])+360)%360;var P=n(parseFloat(m[2]),0,100);return m=n(parseFloat(m[3]),0,100),C=n(isNaN(C)?1:C,0,1),[y,P,m,C]}return null},h.get.hwb=function(y){if(!y)return null;var m=y.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(m){var C=parseFloat(m[4]);y=(parseFloat(m[1])%360+360)%360;var P=n(parseFloat(m[2]),0,100);return m=n(parseFloat(m[3]),0,100),C=n(isNaN(C)?1:C,0,1),[y,P,m,C]}return null},h.to.hex=function(){var y=Qf(arguments);return"#"+l(y[0])+l(y[1])+l(y[2])+(1>y[3]?l(Math.round(255*y[3])):"")},h.to.rgb=function(){var y=Qf(arguments);return 4>y.length||y[3]===1?"rgb("+Math.round(y[0])+", "+Math.round(y[1])+", "+Math.round(y[2])+")":"rgba("+Math.round(y[0])+", "+Math.round(y[1])+", "+Math.round(y[2])+", "+y[3]+")"},h.to.rgb.percent=function(){var y=Qf(arguments),m=Math.round(y[0]/255*100),C=Math.round(y[1]/255*100),P=Math.round(y[2]/255*100);return 4>y.length||y[3]===1?"rgb("+m+"%, "+C+"%, "+P+"%)":"rgba("+m+"%, "+C+"%, "+P+"%, "+y[3]+")"},h.to.hsl=function(){var y=Qf(arguments);return 4>y.length||y[3]===1?"hsl("+y[0]+", "+y[1]+"%, "+y[2]+"%)":"hsla("+y[0]+", "+y[1]+"%, "+y[2]+"%, "+y[3]+")"},h.to.hwb=function(){var y=Qf(arguments),m="";return 4<=y.length&&y[3]!==1&&(m=", "+y[3]),"hwb("+y[0]+", "+y[1]+"%, "+y[2]+"%"+m+")"},h.to.keyword=function(y){return a[y.slice(0,3)]}}),Wh=ve(function(d){var n={};for(f in Iu)Iu.hasOwnProperty(f)&&(n[Iu[f]]=f);var l=d.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},a;for(a in l)if(l.hasOwnProperty(a)){if(!("channels"in l[a]))throw Error("missing channels property: "+a);if(!("labels"in l[a]))throw Error("missing channel labels property: "+a);if(l[a].labels.length!==l[a].channels)throw Error("channel and label counts mismatch: "+a);d=l[a].channels;var f=l[a].labels;delete l[a].channels,delete l[a].labels,Object.defineProperty(l[a],"channels",{value:d}),Object.defineProperty(l[a],"labels",{value:f})}l.rgb.hsl=function(h){var y=h[0]/255,m=h[1]/255,C=h[2]/255;h=Math.min(y,m,C);var P=Math.max(y,m,C),B=P-h,M;return P===h?M=0:y===P?M=(m-C)/B:m===P?M=2+(C-y)/B:C===P&&(M=4+(y-m)/B),M=Math.min(60*M,360),0>M&&(M+=360),y=(h+P)/2,[M,100*(P===h?0:.5>=y?B/(P+h):B/(2-P-h)),100*y]},l.rgb.hsv=function(h){var y,m=h[0]/255,C=h[1]/255,P=h[2]/255,B=Math.max(m,C,P),M=B-Math.min(m,C,P);if(M===0)var T=y=0;else{y=M/B,h=(B-m)/6/M+.5;var L=(B-C)/6/M+.5;M=(B-P)/6/M+.5,m===B?T=M-L:C===B?T=1/3+h-M:P===B&&(T=2/3+L-h),0>T?T+=1:1<T&&--T}return[360*T,100*y,100*B]},l.rgb.hwb=function(h){var y=h[0],m=h[1],C=h[2];h=l.rgb.hsl(h)[0];var P=1/255*Math.min(y,Math.min(m,C));return C=1-1/255*Math.max(y,Math.max(m,C)),[h,100*P,100*C]},l.rgb.cmyk=function(h){var y=h[0]/255,m=h[1]/255;h=h[2]/255;var C=Math.min(1-y,1-m,1-h);return[100*((1-y-C)/(1-C)||0),100*((1-m-C)/(1-C)||0),100*((1-h-C)/(1-C)||0),100*C]},l.rgb.keyword=function(h){var y=n[h];if(y)return y;y=Infinity;var m;for(m in Iu)if(Iu.hasOwnProperty(m)){var C=Iu[m];if(C=Math.pow(h[0]-C[0],2)+Math.pow(h[1]-C[1],2)+Math.pow(h[2]-C[2],2),C<y){y=C;var P=m}}return P},l.keyword.rgb=function(h){return Iu[h]},l.rgb.xyz=function(h){var y=h[0]/255,m=h[1]/255;return h=h[2]/255,y=.04045<y?Math.pow((y+.055)/1.055,2.4):y/12.92,m=.04045<m?Math.pow((m+.055)/1.055,2.4):m/12.92,h=.04045<h?Math.pow((h+.055)/1.055,2.4):h/12.92,[100*(.4124*y+.3576*m+.1805*h),100*(.2126*y+.7152*m+.0722*h),100*(.0193*y+.1192*m+.9505*h)]},l.rgb.lab=function(h){var y=l.rgb.xyz(h);h=y[0];var m=y[1];return y=y[2],h/=95.047,m/=100,y/=108.883,h=.008856<h?Math.pow(h,1/3):7.787*h+16/116,m=.008856<m?Math.pow(m,1/3):7.787*m+16/116,y=.008856<y?Math.pow(y,1/3):7.787*y+16/116,[116*m-16,500*(h-m),200*(m-y)]},l.hsl.rgb=function(h){var y=h[0]/360,m=h[1]/100;if(h=h[2]/100,m===0){var C=255*h;return[C,C,C]}m=.5>h?h*(1+m):h+m-h*m,h=2*h-m;for(var P=[0,0,0],B=0;3>B;B++)C=y+1/3*-(B-1),0>C&&C++,1<C&&C--,C=1>6*C?h+6*(m-h)*C:1>2*C?m:2>3*C?h+(m-h)*(2/3-C)*6:h,P[B]=255*C;return P},l.hsl.hsv=function(h){var y=h[0],m=h[1]/100;h=h[2]/100;var C=m,P=Math.max(h,.01);return h*=2,m*=1>=h?h:2-h,C*=1>=P?P:2-P,[y,100*(h===0?2*C/(P+C):2*m/(h+m)),(h+m)/2*100]},l.hsv.rgb=function(h){var y=h[0]/60,m=h[1]/100;h=h[2]/100;var C=Math.floor(y)%6,P=y-Math.floor(y);y=255*h*(1-m);var B=255*h*(1-m*P);switch(m=255*h*(1-m*(1-P)),h*=255,C){case 0:return[h,m,y];case 1:return[B,h,y];case 2:return[y,h,m];case 3:return[y,B,h];case 4:return[m,y,h];case 5:return[h,y,B]}},l.hsv.hsl=function(h){var y=h[0],m=h[1]/100;h=h[2]/100;var C=Math.max(h,.01),P=(2-m)*C;return C=m*C/(1>=P?P:2-P)||0,[y,100*C,(2-m)*h/2*100]},l.hwb.rgb=function(h){var y=h[0]/360,m=h[1]/100;h=h[2]/100;var C=m+h;switch(1<C&&(m/=C,h/=C),C=Math.floor(6*y),h=1-h,y=6*y-C,(C&1)!=0&&(y=1-y),y=m+y*(h-m),C){default:case 6:case 0:C=h;var P=y;break;case 1:C=y,P=h;break;case 2:C=m,P=h,m=y;break;case 3:C=m,P=y,m=h;break;case 4:C=y,P=m,m=h;break;case 5:C=h,P=m,m=y}return[255*C,255*P,255*m]},l.cmyk.rgb=function(h){var y=h[3]/100;return[255*(1-Math.min(1,h[0]/100*(1-y)+y)),255*(1-Math.min(1,h[1]/100*(1-y)+y)),255*(1-Math.min(1,h[2]/100*(1-y)+y))]},l.xyz.rgb=function(h){var y=h[0]/100,m=h[1]/100,C=h[2]/100;h=3.2406*y+-1.5372*m+-.4986*C;var P=-.9689*y+1.8758*m+.0415*C;return y=.0557*y+-.204*m+1.057*C,h=.0031308<h?1.055*Math.pow(h,1/2.4)-.055:12.92*h,P=.0031308<P?1.055*Math.pow(P,1/2.4)-.055:12.92*P,y=.0031308<y?1.055*Math.pow(y,1/2.4)-.055:12.92*y,h=Math.min(Math.max(0,h),1),P=Math.min(Math.max(0,P),1),y=Math.min(Math.max(0,y),1),[255*h,255*P,255*y]},l.xyz.lab=function(h){var y=h[0],m=h[1];return h=h[2],y/=95.047,m/=100,h/=108.883,y=.008856<y?Math.pow(y,1/3):7.787*y+16/116,m=.008856<m?Math.pow(m,1/3):7.787*m+16/116,h=.008856<h?Math.pow(h,1/3):7.787*h+16/116,[116*m-16,500*(y-m),200*(m-h)]},l.lab.xyz=function(h){var y=h[1],m=h[2];h=(h[0]+16)/116,y=y/500+h,m=h-m/200;var C=Math.pow(h,3),P=Math.pow(y,3),B=Math.pow(m,3);return[95.047*(.008856<P?P:(y-16/116)/7.787),100*(.008856<C?C:(h-16/116)/7.787),108.883*(.008856<B?B:(m-16/116)/7.787)]},l.lab.lch=function(h){var y=h[0],m=h[1];h=h[2];var C=360*Math.atan2(h,m)/2/Math.PI;return 0>C&&(C+=360),[y,Math.sqrt(m*m+h*h),C]},l.lch.lab=function(h){var y=h[0],m=h[1];return h=h[2]/360*2*Math.PI,[y,m*Math.cos(h),m*Math.sin(h)]},l.rgb.ansi16=function(h){var y=h[0],m=h[1],C=h[2],P=1 in arguments?arguments[1]:l.rgb.hsv(h)[2];return P=Math.round(P/50),P===0?30:(y=30+(Math.round(C/255)<<2|Math.round(m/255)<<1|Math.round(y/255)),P===2&&(y+=60),y)},l.hsv.ansi16=function(h){return l.rgb.ansi16(l.hsv.rgb(h),h[2])},l.rgb.ansi256=function(h){var y=h[0],m=h[1];return h=h[2],y===m&&m===h?8>y?16:248<y?231:Math.round((y-8)/247*24)+232:16+36*Math.round(y/255*5)+6*Math.round(m/255*5)+Math.round(h/255*5)},l.ansi16.rgb=function(h){var y=h%10;return y===0||y===7?(50<h&&(y+=3.5),y=y/10.5*255,[y,y,y]):(h=.5*(~~(50<h)+1),[(y&1)*h*255,(y>>1&1)*h*255,(y>>2&1)*h*255])},l.ansi256.rgb=function(h){if(232<=h){var y=10*(h-232)+8;return[y,y,y]}h-=16,y=Math.floor(h/36)/5*255;var m=Math.floor((h%=36)/6)/5*255;return[y,m,h%6/5*255]},l.rgb.hex=function(h){return h=(((Math.round(h[0])&255)<<16)+((Math.round(h[1])&255)<<8)+(Math.round(h[2])&255)).toString(16).toUpperCase(),"000000".substring(h.length)+h},l.hex.rgb=function(h){if(h=h.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i),!h)return[0,0,0];var y=h[0];return h[0].length===3&&(y=y.split("").map(function(m){return m+m}).join("")),h=parseInt(y,16),[h>>16&255,h>>8&255,h&255]},l.rgb.hcg=function(h){var y=h[0]/255,m=h[1]/255;h=h[2]/255;var C=Math.max(Math.max(y,m),h),P=Math.min(Math.min(y,m),h),B=C-P;return[(0>=B?0:C===y?(m-h)/B%6:C===m?2+(h-y)/B:(y-m)/B+8)/6%1*360,100*B,100*(1>B?P/(1-B):0)]},l.hsl.hcg=function(h){var y=h[1]/100,m=h[2]/100,C=0;return y=.5>m?2*y*m:2*y*(1-m),1>y&&(C=(m-.5*y)/(1-y)),[h[0],100*y,100*C]},l.hsv.hcg=function(h){var y=h[2]/100,m=h[1]/100*y,C=0;return 1>m&&(C=(y-m)/(1-m)),[h[0],100*m,100*C]},l.hcg.rgb=function(h){var y=h[1]/100,m=h[2]/100;if(y===0)return[255*m,255*m,255*m];var C=[0,0,0];h=h[0]/360%1*6;var P=h%1,B=1-P;switch(Math.floor(h)){case 0:C[0]=1,C[1]=P,C[2]=0;break;case 1:C[0]=B,C[1]=1,C[2]=0;break;case 2:C[0]=0,C[1]=1,C[2]=P;break;case 3:C[0]=0,C[1]=B,C[2]=1;break;case 4:C[0]=P,C[1]=0,C[2]=1;break;default:C[0]=1,C[1]=0,C[2]=B}return m*=1-y,[255*(y*C[0]+m),255*(y*C[1]+m),255*(y*C[2]+m)]},l.hcg.hsv=function(h){var y=h[1]/100,m=y+h[2]/100*(1-y),C=0;return 0<m&&(C=y/m),[h[0],100*C,100*m]},l.hcg.hsl=function(h){var y=h[1]/100,m=h[2]/100*(1-y)+.5*y,C=0;return 0<m&&.5>m?C=y/(2*m):.5<=m&&1>m&&(C=y/(2*(1-m))),[h[0],100*C,100*m]},l.hcg.hwb=function(h){var y=h[1]/100,m=y+h[2]/100*(1-y);return[h[0],100*(m-y),100*(1-m)]},l.hwb.hcg=function(h){var y=1-h[2]/100,m=y-h[1]/100,C=0;return 1>m&&(C=(y-m)/(1-m)),[h[0],100*m,100*C]},l.apple.rgb=function(h){return[h[0]/65535*255,h[1]/65535*255,h[2]/65535*255]},l.rgb.apple=function(h){return[h[0]/255*65535,h[1]/255*65535,h[2]/255*65535]},l.gray.rgb=function(h){return[h[0]/100*255,h[0]/100*255,h[0]/100*255]},l.gray.hsl=l.gray.hsv=function(h){return[0,0,h[0]]},l.gray.hwb=function(h){return[0,100,h[0]]},l.gray.cmyk=function(h){return[0,0,0,h[0]]},l.gray.lab=function(h){return[h[0],0,0]},l.gray.hex=function(h){return h=Math.round(h[0]/100*255)&255,h=((h<<16)+(h<<8)+h).toString(16).toUpperCase(),"000000".substring(h.length)+h},l.rgb.gray=function(h){return[(h[0]+h[1]+h[2])/3/255*100]}}),qf=function(n){for(var l={},a=Fu(Wh),f=a.length,h=0;h<f;h++)l[a[h]]={distance:-1,parent:null};for(a=[n],l[n].distance=0;a.length;){n=a.pop(),f=Fu(Wh[n]),h=f.length;for(var y=0;y<h;y++){var m=f[y],C=l[m];C.distance===-1&&(C.distance=l[n].distance+1,C.parent=n,a.unshift(m))}}for(a={},n=Fu(l),f=n.length,h=0;h<f;h++){var P=n[h];if(l[P].parent!==null){y=P,m=l,C=[m[P].parent,P];var B=Wh[m[P].parent][P];for(P=m[P].parent;m[P].parent;)C.unshift(m[P].parent),B=Pe(Wh[m[P].parent][P],B),P=m[P].parent;B.conversion=C,a[y]=B}}return a},dd={};Fu(Wh).forEach(function(d){dd[d]={},Object.defineProperty(dd[d],"channels",{value:Wh[d].channels}),Object.defineProperty(dd[d],"labels",{value:Wh[d].labels});var n=qf(d);Fu(n).forEach(function(l){var a=n[l];dd[d][l]=we(a),dd[d][l].raw=We(a)})});var jc=dd,oe=[].slice,te=["keyword","gray","hex"],ce={};Fu(jc).forEach(function(d){ce[oe.call(jc[d].labels).sort().join("")]=d});var Se={};De.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(n){var l=this.model in Vh.to?this:this.rgb();return l=l.round(typeof n=="number"?n:1),n=l.valpha===1?l.color:l.color.concat(this.valpha),Vh.to[l.model](n)},percentString:function(n){return n=this.rgb().round(typeof n=="number"?n:1),n=n.valpha===1?n.color:n.color.concat(this.valpha),Vh.to.rgb.percent(n)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var n={},l=jc[this.model].channels,a=jc[this.model].labels,f=0;f<l;f++)n[a[f]]=this.color[f];return this.valpha!==1&&(n.alpha=this.valpha),n},unitArray:function(){var n=this.rgb().color;return n[0]/=255,n[1]/=255,n[2]/=255,this.valpha!==1&&n.push(this.valpha),n},unitObject:function(){var n=this.rgb().object();return n.r/=255,n.g/=255,n.b/=255,this.valpha!==1&&(n.alpha=this.valpha),n},round:function(n){return n=Math.max(n||0,0),new De(this.color.map(at(n)).concat(this.valpha),this.model)},alpha:function(n){return arguments.length?new De(this.color.concat(Math.max(0,Math.min(1,n))),this.model):this.valpha},red:se("rgb",0,Re(255)),green:se("rgb",1,Re(255)),blue:se("rgb",2,Re(255)),hue:se(["hsl","hsv","hsl","hwb","hcg"],0,function(d){return(d%360+360)%360}),saturationl:se("hsl",1,Re(100)),lightness:se("hsl",2,Re(100)),saturationv:se("hsv",1,Re(100)),value:se("hsv",2,Re(100)),chroma:se("hcg",1,Re(100)),gray:se("hcg",2,Re(100)),white:se("hwb",1,Re(100)),wblack:se("hwb",2,Re(100)),cyan:se("cmyk",0,Re(100)),magenta:se("cmyk",1,Re(100)),yellow:se("cmyk",2,Re(100)),black:se("cmyk",3,Re(100)),x:se("xyz",0,Re(100)),y:se("xyz",1,Re(100)),z:se("xyz",2,Re(100)),l:se("lab",0,Re(100)),a:se("lab",1),b:se("lab",2),keyword:function(n){return arguments.length?new De(n):jc[this.model].keyword(this.color)},hex:function(n){return arguments.length?new De(n):Vh.to.hex(this.rgb().round().color)},rgbNumber:function(){var n=this.rgb().color;return(n[0]&255)<<16|(n[1]&255)<<8|n[2]&255},luminosity:function(){for(var n=this.rgb().color,l=[],a=0;a<n.length;a++){var f=n[a]/255;l[a]=.03928>=f?f/12.92:Math.pow((f+.055)/1.055,2.4)}return .2126*l[0]+.7152*l[1]+.0722*l[2]},contrast:function(n){var l=this.luminosity();return n=n.luminosity(),l>n?(l+.05)/(n+.05):(n+.05)/(l+.05)},level:function(n){return n=this.contrast(n),7.1<=n?"AAA":4.5<=n?"AA":""},isDark:function(){var n=this.rgb().color;return 128>(299*n[0]+587*n[1]+114*n[2])/1e3},isLight:function(){return!this.isDark()},negate:function(){for(var n=this.rgb(),l=0;3>l;l++)n.color[l]=255-n.color[l];return n},lighten:function(n){var l=this.hsl();return l.color[2]+=l.color[2]*n,l},darken:function(n){var l=this.hsl();return l.color[2]-=l.color[2]*n,l},saturate:function(n){var l=this.hsl();return l.color[1]+=l.color[1]*n,l},desaturate:function(n){var l=this.hsl();return l.color[1]-=l.color[1]*n,l},whiten:function(n){var l=this.hwb();return l.color[1]+=l.color[1]*n,l},blacken:function(n){var l=this.hwb();return l.color[2]+=l.color[2]*n,l},grayscale:function(){var n=this.rgb().color;return n=.3*n[0]+.59*n[1]+.11*n[2],De.rgb(n,n,n)},fade:function(n){return this.alpha(this.valpha-this.valpha*n)},opaquer:function(n){return this.alpha(this.valpha+this.valpha*n)},rotate:function(n){var l=this.hsl(),a=l.color[0];return a=(a+n)%360,l.color[0]=0>a?360+a:a,l},mix:function(n,l){if(!n||!n.rgb)throw Error('Argument to "mix" was not a Color instance, but rather an instance of '+(typeof n=="undefined"?"undefined":ac(n)));n=n.rgb();var a=this.rgb();l=l===void 0?.5:l;var f=2*l-1,h=n.alpha()-a.alpha();return f=((f*h==-1?f:(f+h)/(1+f*h))+1)/2,h=1-f,De.rgb(f*n.red()+h*a.red(),f*n.green()+h*a.green(),f*n.blue()+h*a.blue(),n.alpha()*l+a.alpha()*(1-l))}},Fu(jc).forEach(function(d){if(te.indexOf(d)===-1){var n=jc[d].channels;De.prototype[d]=function(){if(this.model===d)return new De(this);if(arguments.length)return new De(arguments,d);var l=typeof arguments[n]=="number"?n:this.valpha,a=jc[this.model][d].raw(this.color);return a=Array.isArray(a)?a:[a],new De(a.concat(l),d)},De[d]=function(l){return typeof l=="number"&&(l=mt(oe.call(arguments),n)),new De(l,d)}}}),Vr($e.prototype,{equals:function(n){return this.lat===n.lat&&this.lng===n.lng},clone:function(){return new $e(this.lat,this.lng)},getLngSpan:function(n){return n=Math.abs(n-this.lng),180<n&&(n=360-n),n},sub:function(n){return new $e(this.lat-n.lat,this.lng-n.lng)},toString:function(){return"Point"}}),Vr(pn,{EARTHRADIUS:637099681e-2,MCBAND:[1289059486e-2,836237787e-2,5591021,348198983e-2,167804312e-2,0],LLBAND:[75,60,45,30,15,0],MC2LL:[[1410526172116255e-23,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,173379812e-1],[-7435856389565537e-24,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,1026014486e-2],[-3030883460898826e-23,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,685681737e-2],[-1981981304930552e-23,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,448277706e-2],[309191371068437e-23,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,25551644e-1],[2890871144776878e-24,8983055095805407e-21,-3068298e-14,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],LL2MC:[[-.0015702102444,111320.7020616939,1704480524535203,-10338987376042340,26112667856603880,-35149669176653700,26595700718403920,-10725012454188240,1800819912950474,82.5],[.0008277824516172526,111320.7020463578,6477955746671607e-7,-4082003173641316e-6,1077490566351142e-5,-1517187553151559e-5,1205306533862167e-5,-5124939663577472e-6,9133119359512032e-7,67.5],[.00337398766765,111320.7020202162,4481351045890365e-9,-2339375119931662e-8,7968221547186455e-8,-1159649932797253e-7,9723671115602145e-8,-4366194633752821e-8,8477230501135234e-9,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837749470245e-9,992013.7397791013,-122195221711287e-8,1340652697009075e-9,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758690035394e-9,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]],getDistanceByMC:function(n,l){if(!n||!l||(n=this.convertMC2LL(n),!n))return 0;var a=this.toRadians(n.lng);if(n=this.toRadians(n.lat),l=this.convertMC2LL(l),!l)return 0;var f=this.toRadians(l.lng);return l=this.toRadians(l.lat),this.getDistance(a,f,n,l)},getDistanceByLL:function(n,l){if(!n||!l)return 0;n.lng=this.getLoop(n.lng,-180,180),n.lat=this.getRange(n.lat,-74,74),l.lng=this.getLoop(l.lng,-180,180),l.lat=this.getRange(l.lat,-74,74);var a=this.toRadians(n.lng),f=this.toRadians(n.lat);return n=this.toRadians(l.lng),l=this.toRadians(l.lat),this.getDistance(a,n,f,l)},convertMC2LL:function(n){if(n==null)return new $e(0,0);if(180>n.lng&&-180<n.lng&&90>n.lat&&-90<n.lat)return n;for(var l=new $e(Math.abs(n.lng),Math.abs(n.lat)),a=0;a<this.MCBAND.length;a++)if(l.lat>=this.MCBAND[a]){var f=this.MC2LL[a];break}return n=this.convertor(n,f),n=new $e(n.lng.toFixed(6),n.lat.toFixed(6))},convertLL2MC:function(n){if(n==null)return new $e(0,0);if(180<n.lng||-180>n.lng||90<n.lat||-90>n.lat)return n;n.lng=this.getLoop(n.lng,-180,180),n.lat=this.getRange(n.lat,-74,74);for(var l=new $e(n.lng,n.lat),a=0;a<this.LLBAND.length;a++)if(l.lat>=this.LLBAND[a]){var f=this.LL2MC[a];break}if(!f){for(a=0;a<this.LLBAND.length;a++)if(l.lat<=-this.LLBAND[a]){f=this.LL2MC[a];break}}return n=this.convertor(n,f),n=new $e(Number(n.lng.toFixed(2)),Number(n.lat.toFixed(2)))},convertor:function(n,l){if(n&&l){var a=l[0]+l[1]*Math.abs(n.lng),f=Math.abs(n.lat)/l[9];return l=l[2]+l[3]*f+l[4]*f*f+l[5]*f*f*f+l[6]*f*f*f*f+l[7]*f*f*f*f*f+l[8]*f*f*f*f*f*f,a*=0>n.lng?-1:1,l*=0>n.lat?-1:1,new $e(a,l)}},getDistance:function(n,l,a,f){return this.EARTHRADIUS*Math.acos(Math.sin(a)*Math.sin(f)+Math.cos(a)*Math.cos(f)*Math.cos(l-n))},toRadians:function(n){return Math.PI*n/180},toDegrees:function(n){return 180*n/Math.PI},getRange:function(n,l,a){return l!=null&&(n=Math.max(n,l)),a!=null&&(n=Math.min(n,a)),n},getLoop:function(n,l,a){for(;n>a;)n-=a-l;for(;n<l;)n+=a-l;return n}}),Vr(pn.prototype,{lngLatToMercator:function(n){return pn.convertLL2MC(n)},lngLatToPoint:function(n){return n=pn.convertLL2MC(n),new Et(n.lng,n.lat)},mercatorToLngLat:function(n){return pn.convertMC2LL(n)},pointToLngLat:function(n){return n=new $e(n.x,n.y),pn.convertMC2LL(n)},pointToPixel:function(n,l,a,f,h){if(n)return n=this.lngLatToMercator(n,h),l=this.getZoomUnits(l),new Et(Math.round((n.lng-a.lng)/l+f.width/2),Math.round((a.lat-n.lat)/l+f.height/2))},pixelToPoint:function(n,l,a,f,h){if(n)return l=this.getZoomUnits(l),n=new $e(a.lng+l*(n.x-f.width/2),a.lat-l*(n.y-f.height/2)),this.mercatorToLngLat(n,h)},getZoomUnits:function(n){return Math.pow(2,18-n)}}),et.prototype.setMax=function(d){this.max=d||100},et.prototype.setMin=function(d){this.min=d||0},et.prototype.setMaxSize=function(d){this.maxSize=d||35},et.prototype.setMinSize=function(d){this.minSize=d||0},et.prototype.initPalette=function(){var d=this.gradient,n=this.paletteCtx=new Xt(256,1).getContext("2d"),l=n.createLinearGradient(0,0,256,1);Fu(d).forEach(function(a){l.addColorStop(parseFloat(a),d[a])}),n.fillStyle=l,n.fillRect(0,0,256,1),n.imageData=n.getImageData(0,0,256,1).data},et.prototype.getColor=function(d){return d=this.getImageData(d),"rgba("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]/256+")"},et.prototype.getImageData=function(d){var n=this.paletteCtx.imageData;if(d===void 0)return n;var l=this.max,a=this.min;return d>l&&(d=l),d<a&&(d=a),d=4*Math.floor((d-a)/(l-a)*255),[n[d],n[d+1],n[d+2],n[d+3]]},et.prototype.getSize=function(d){var n=this.max,l=this.min,a=this.maxSize,f=this.minSize;return d>n&&(d=n),d<l&&(d=l),f+(d-l)/(n-l)*(a-f)},bt.prototype._initialize=function(){this.v0=this._normalizaCoord(this.options.start),this.v3=this._normalizaCoord(this.options.end),this.v1=this._getControlPoint(this.v0,this.v3,4),this.v2=this._getControlPoint(this.v3,this.v0,5),this.v0[2]||(this.v0[2]=0),this.v3[2]||(this.v3[2]=0)},bt.prototype.setOptions=function(d){this.options=d||{},this._initialize()},bt.prototype.getPoints=function(d){d===void 0&&(d=20);for(var n=[],l=0;l<=d;l++)n.push(this._getPoint(l/d));return n},bt.prototype._normalizaCoord=function(d){return d?(d=pn.convertLL2MC({lng:Number(d[0]),lat:Number(d[1])}),[d.lng,d.lat]):[]},bt.prototype._getControlPoint=function(d,n){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1;return[].concat(ga(this._getQuarter(d,n)),[this._getDistance(d,n)/l])},bt.prototype._getQuarter=function(d,n){return[(3*d[0]+n[0])/4,(3*d[1]+n[1])/4]},bt.prototype._getDistance=function(d,n){return Math.sqrt(Math.pow(d[0]-n[0],2)+Math.pow(d[1]-n[1],2))},bt.prototype._getPoint=function(d){var n=[],l=this.v0,a=this.v1,f=this.v2,h=this.v3;return n.push(Zt(d,l[0],a[0],f[0],h[0]),Zt(d,l[1],a[1],f[1],h[1]),Zt(d,l[2],a[2],f[2],h[2])),n},qe.prototype._initialize=function(){this.points=this.options.points||this.options.point||[],this.greatCirclePoints=[];for(var d=[],n=0;n<this.points.length;n++){var l=this._normalizaCoord(this.points[n]);l&&d.push(l)}this.points=d},qe.prototype.setOptions=function(d){this.options=d||{},this._initialize()},qe.prototype.getPoints=function(){if(this.greatCirclePoints.length===0)for(var d=0;d<this.points.length-1;d++)this._calcGreatCirclePoints(this.points[d],this.points[d+1]);return this.greatCirclePoints},qe.prototype._normalizaCoord=function(d){if(!d)return null;d instanceof Array&&(d={lng:Number(d[0]),lat:Number(d[1])});var n=pn.convertLL2MC(d);return d=pn.convertMC2LL(d),n.latLng=d,n},qe.prototype._calcGreatCirclePoints=function(d,n){var l=d.latLng,a=n.latLng;if(!nr(l.lng,a.lng)||!nr(l.lat,a.lat)){var f=pn.getDistance(st(l.lng),st(l.lat),st(a.lng),st(a.lat));if(!(25e4>f)){f=Math.round(f/15e4);var h=this._calcAngularDistance(l,a);this.greatCirclePoints.push([d.lng,d.lat]);for(var y=0;y<f;y++){var m=this._calcMiddlePoint(l,a,y/f,h);m=pn.convertLL2MC(m);var C=Ie(m,d);30037726<C&&(m.lng=m.lng<d.lng?m.lng+this.WORLD_SIZE_MC:m.lng-this.WORLD_SIZE_MC),this.greatCirclePoints.push([m.lng,m.lat]),d=m}C=Ie(n,d),30037726<C&&(n.lng=n.lng<d.lng?n.lng+this.WORLD_SIZE_MC:n.lng-this.WORLD_SIZE_MC),this.greatCirclePoints.push([n.lng,n.lat])}}},qe.prototype._calcAngularDistance=function(d,n){var l=st(d.lat),a=st(n.lat);return d=st(d.lng),n=st(n.lng),Math.acos(Math.sin(l)*Math.sin(a)+Math.cos(l)*Math.cos(a)*Math.cos(Math.abs(n-d)))},qe.prototype._calcMiddlePoint=function(d,n,l,a){var f=n.lat,h=d.lng;n=n.lng,d=st(d.lat),f=st(f),h=st(h);var y=st(n);return n=Math.sin((1-l)*a)/Math.sin(a),a=Math.sin(l*a)/Math.sin(a),l=n*Math.cos(d)*Math.cos(h)+a*Math.cos(f)*Math.cos(y),h=n*Math.cos(d)*Math.sin(h)+a*Math.cos(f)*Math.sin(y),d=Math.atan2(n*Math.sin(d)+a*Math.sin(f),Math.sqrt(Math.pow(l,2)+Math.pow(h,2))),new $e(St(Math.atan2(h,l)),St(d))};var Ye=function(){function d(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};di(this,d),this.options=n,this._initialize()}return nn(d,[{key:"_initialize",value:function(){this.points=this.options.points}},{key:"_normalizaCoord",value:function(l){return l?(l instanceof Array&&(l={lng:Number(l[0]),lat:Number(l[1])}),pn.convertLL2MC(l)):null}},{key:"setOptions",value:function(){this.options=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},this._initialize()}},{key:"getPoints",value:function(l){for(var a=[],f=this.points,h=0;h<f.length-1;h++){var y=this.getCurveByTwoPoints(this._normalizaCoord(f[h]),this._normalizaCoord(f[h+1]),l);y&&0<y.length&&(a=a.concat(y))}return a}},{key:"getCurveByTwoPoints",value:function(l,a){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:20;if(!l||!a)return null;var h=[],y=0;if((typeof a=="undefined"?"undefined":ac(a))===void 0)typeof h=="undefined"||ac(h);else{var m=parseFloat(l.lat),C=parseFloat(a.lat),P=parseFloat(l.lng),B=parseFloat(a.lng);B>P&&180<parseFloat(B-P)&&0>P&&(P=parseFloat(360+P),B=parseFloat(360+B));var M=0;if(C===m)var T=0,L=P-B;else B===P?(T=Math.PI/2,L=m-C):(T=Math.atan((C-m)/(B-P)),L=(C-m)/Math.sin(T));for(M===0&&(M=T+Math.PI/5),L/=2,T=L*Math.cos(M)+P,M=L*Math.sin(M)+m,L=0;L<f+1;L++){var z=P*(1-2*y+y*y)+T*(2*y-2*y*y)+B*y*y,H=a.lng;h.push([0>l.lng&&0<H?z-360:z,m*(1-2*y+y*y)+M*(2*y-2*y*y)+C*y*y]),y+=1/f}return h}}}]),d}(),Ct=[{n:"\u5317\u4EAC",g:"116.395645,39.929986|12"},{n:"\u4E0A\u6D77",g:"121.487899,31.249162|12"},{n:"\u5929\u6D25",g:"117.210813,39.14393|12"},{n:"\u91CD\u5E86",g:"106.530635,29.544606|12"}],_t=[{n:"\u5B89\u5FBD",g:"117.216005,31.859252|8",cities:[{n:"\u5408\u80A5",g:"117.282699,31.866942|12"},{n:"\u5B89\u5E86",g:"117.058739,30.537898|13"},{n:"\u868C\u57E0",g:"117.35708,32.929499|13"},{n:"\u4EB3\u5DDE",g:"115.787928,33.871211|13"},{n:"\u5DE2\u6E56",g:"117.88049,31.608733|13"},{n:"\u6C60\u5DDE",g:"117.494477,30.660019|14"},{n:"\u6EC1\u5DDE",g:"118.32457,32.317351|13"},{n:"\u961C\u9633",g:"115.820932,32.901211|13"},{n:"\u6DEE\u5317",g:"116.791447,33.960023|13"},{n:"\u6DEE\u5357",g:"117.018639,32.642812|13"},{n:"\u9EC4\u5C71",g:"118.29357,29.734435|13"},{n:"\u516D\u5B89",g:"116.505253,31.755558|13"},{n:"\u9A6C\u978D\u5C71",g:"118.515882,31.688528|13"},{n:"\u5BBF\u5DDE",g:"116.988692,33.636772|13"},{n:"\u94DC\u9675",g:"117.819429,30.94093|14"},{n:"\u829C\u6E56",g:"118.384108,31.36602|12"},{n:"\u5BA3\u57CE",g:"118.752096,30.951642|13"}]},{n:"\u798F\u5EFA",g:"117.984943,26.050118|8",cities:[{n:"\u798F\u5DDE",g:"119.330221,26.047125|12"},{n:"\u9F99\u5CA9",g:"117.017997,25.078685|13"},{n:"\u5357\u5E73",g:"118.181883,26.643626|13"},{n:"\u5B81\u5FB7",g:"119.542082,26.656527|14"},{n:"\u8386\u7530",g:"119.077731,25.44845|13"},{n:"\u6CC9\u5DDE",g:"118.600362,24.901652|12"},{n:"\u4E09\u660E",g:"117.642194,26.270835|14"},{n:"\u53A6\u95E8",g:"118.103886,24.489231|12"},{n:"\u6F33\u5DDE",g:"117.676205,24.517065|12"}]},{n:"\u7518\u8083",g:"102.457625,38.103267|6",cities:[{n:"\u5170\u5DDE",g:"103.823305,36.064226|12"},{n:"\u767D\u94F6",g:"104.171241,36.546682|13"},{n:"\u5B9A\u897F",g:"104.626638,35.586056|13"},{n:"\u7518\u5357\u5DDE",g:"102.917442,34.992211|14"},{n:"\u5609\u5CEA\u5173",g:"98.281635,39.802397|13"},{n:"\u91D1\u660C",g:"102.208126,38.516072|13"},{n:"\u9152\u6CC9",g:"98.508415,39.741474|13"},{n:"\u4E34\u590F\u5DDE",g:"103.215249,35.598514|13"},{n:"\u9647\u5357",g:"104.934573,33.39448|14"},{n:"\u5E73\u51C9",g:"106.688911,35.55011|13"},{n:"\u5E86\u9633",g:"107.644227,35.726801|13"},{n:"\u5929\u6C34",g:"105.736932,34.584319|13"},{n:"\u6B66\u5A01",g:"102.640147,37.933172|13"},{n:"\u5F20\u6396",g:"100.459892,38.93932|13"}]},{n:"\u5E7F\u4E1C",g:"113.394818,23.408004|8",cities:[{n:"\u5E7F\u5DDE",g:"113.30765,23.120049|12"},{n:"\u6F6E\u5DDE",g:"116.630076,23.661812|13"},{n:"\u4E1C\u839E",g:"113.763434,23.043024|12"},{n:"\u4F5B\u5C71",g:"113.134026,23.035095|13"},{n:"\u6CB3\u6E90",g:"114.713721,23.757251|12"},{n:"\u60E0\u5DDE",g:"114.410658,23.11354|12"},{n:"\u6C5F\u95E8",g:"113.078125,22.575117|13"},{n:"\u63ED\u9633",g:"116.379501,23.547999|13"},{n:"\u8302\u540D",g:"110.931245,21.668226|13"},{n:"\u6885\u5DDE",g:"116.126403,24.304571|13"},{n:"\u6E05\u8FDC",g:"113.040773,23.698469|13"},{n:"\u6C55\u5934",g:"116.72865,23.383908|13"},{n:"\u6C55\u5C3E",g:"115.372924,22.778731|14"},{n:"\u97F6\u5173",g:"113.594461,24.80296|13"},{n:"\u6DF1\u5733",g:"114.025974,22.546054|12"},{n:"\u9633\u6C5F",g:"111.97701,21.871517|14"},{n:"\u4E91\u6D6E",g:"112.050946,22.937976|13"},{n:"\u6E5B\u6C5F",g:"110.365067,21.257463|13"},{n:"\u8087\u5E86",g:"112.479653,23.078663|13"},{n:"\u4E2D\u5C71",g:"113.42206,22.545178|12"},{n:"\u73E0\u6D77",g:"113.562447,22.256915|13"}]},{n:"\u5E7F\u897F",g:"108.924274,23.552255|7",cities:[{n:"\u5357\u5B81",g:"108.297234,22.806493|12"},{n:"\u767E\u8272",g:"106.631821,23.901512|13"},{n:"\u5317\u6D77",g:"109.122628,21.472718|13"},{n:"\u5D07\u5DE6",g:"107.357322,22.415455|14"},{n:"\u9632\u57CE\u6E2F",g:"108.351791,21.617398|15"},{n:"\u6842\u6797",g:"110.26092,25.262901|12"},{n:"\u8D35\u6E2F",g:"109.613708,23.103373|13"},{n:"\u6CB3\u6C60",g:"108.069948,24.699521|14"},{n:"\u8D3A\u5DDE",g:"111.552594,24.411054|14"},{n:"\u6765\u5BBE",g:"109.231817,23.741166|14"},{n:"\u67F3\u5DDE",g:"109.422402,24.329053|12"},{n:"\u94A6\u5DDE",g:"108.638798,21.97335|13"},{n:"\u68A7\u5DDE",g:"111.305472,23.485395|13"},{n:"\u7389\u6797",g:"110.151676,22.643974|14"}]},{n:"\u8D35\u5DDE",g:"106.734996,26.902826|8",cities:[{n:"\u8D35\u9633",g:"106.709177,26.629907|12"},{n:"\u5B89\u987A",g:"105.92827,26.228595|13"},{n:"\u6BD5\u8282\u5730\u533A",g:"105.300492,27.302612|14"},{n:"\u516D\u76D8\u6C34",g:"104.852087,26.591866|13"},{n:"\u94DC\u4EC1\u5730\u533A",g:"109.196161,27.726271|14"},{n:"\u9075\u4E49",g:"106.93126,27.699961|13"},{n:"\u9ED4\u897F\u5357\u5DDE",g:"104.900558,25.095148|11"},{n:"\u9ED4\u4E1C\u5357\u5DDE",g:"107.985353,26.583992|11"},{n:"\u9ED4\u5357\u5DDE",g:"107.523205,26.264536|11"}]},{n:"\u6D77\u5357",g:"109.733755,19.180501|9",cities:[{n:"\u6D77\u53E3",g:"110.330802,20.022071|13"},{n:"\u767D\u6C99",g:"109.358586,19.216056|12"},{n:"\u4FDD\u4EAD",g:"109.656113,18.597592|12"},{n:"\u660C\u6C5F",g:"109.0113,19.222483|12"},{n:"\u510B\u5DDE",g:"109.413973,19.571153|13"},{n:"\u6F84\u8FC8",g:"109.996736,19.693135|13"},{n:"\u4E1C\u65B9",g:"108.85101,18.998161|13"},{n:"\u5B9A\u5B89",g:"110.32009,19.490991|13"},{n:"\u743C\u6D77",g:"110.414359,19.21483|13"},{n:"\u743C\u4E2D",g:"109.861849,19.039771|12"},{n:"\u4E50\u4E1C",g:"109.062698,18.658614|12"},{n:"\u4E34\u9AD8",g:"109.724101,19.805922|13"},{n:"\u9675\u6C34",g:"109.948661,18.575985|12"},{n:"\u4E09\u4E9A",g:"109.522771,18.257776|12"},{n:"\u5C6F\u660C",g:"110.063364,19.347749|13"},{n:"\u4E07\u5B81",g:"110.292505,18.839886|13"},{n:"\u6587\u660C",g:"110.780909,19.750947|13"},{n:"\u4E94\u6307\u5C71",g:"109.51775,18.831306|13"}]},{n:"\u6CB3\u5317",g:"115.661434,38.61384|7",cities:[{n:"\u77F3\u5BB6\u5E84",g:"114.522082,38.048958|12"},{n:"\u4FDD\u5B9A",g:"115.49481,38.886565|13"},{n:"\u6CA7\u5DDE",g:"116.863806,38.297615|13"},{n:"\u627F\u5FB7",g:"117.933822,40.992521|14"},{n:"\u90AF\u90F8",g:"114.482694,36.609308|13"},{n:"\u8861\u6C34",g:"115.686229,37.746929|13"},{n:"\u5ECA\u574A",g:"116.703602,39.518611|13"},{n:"\u79E6\u7687\u5C9B",g:"119.604368,39.945462|12"},{n:"\u5510\u5C71",g:"118.183451,39.650531|13"},{n:"\u90A2\u53F0",g:"114.520487,37.069531|13"},{n:"\u5F20\u5BB6\u53E3",g:"114.893782,40.811188|13"}]},{n:"\u6CB3\u5357",g:"113.486804,34.157184|7",cities:[{n:"\u90D1\u5DDE",g:"113.649644,34.75661|12"},{n:"\u5B89\u9633",g:"114.351807,36.110267|12"},{n:"\u9E64\u58C1",g:"114.29777,35.755426|13"},{n:"\u7126\u4F5C",g:"113.211836,35.234608|13"},{n:"\u5F00\u5C01",g:"114.351642,34.801854|13"},{n:"\u6D1B\u9633",g:"112.447525,34.657368|12"},{n:"\u6F2F\u6CB3",g:"114.046061,33.576279|13"},{n:"\u5357\u9633",g:"112.542842,33.01142|13"},{n:"\u5E73\u9876\u5C71",g:"113.300849,33.745301|13"},{n:"\u6FEE\u9633",g:"115.026627,35.753298|12"},{n:"\u4E09\u95E8\u5CE1",g:"111.181262,34.78332|13"},{n:"\u5546\u4E18",g:"115.641886,34.438589|13"},{n:"\u65B0\u4E61",g:"113.91269,35.307258|13"},{n:"\u4FE1\u9633",g:"114.085491,32.128582|13"},{n:"\u8BB8\u660C",g:"113.835312,34.02674|13"},{n:"\u5468\u53E3",g:"114.654102,33.623741|13"},{n:"\u9A7B\u9A6C\u5E97",g:"114.049154,32.983158|13"}]},{n:"\u9ED1\u9F99\u6C5F",g:"128.047414,47.356592|6",cities:[{n:"\u54C8\u5C14\u6EE8",g:"126.657717,45.773225|12"},{n:"\u5927\u5E86",g:"125.02184,46.596709|12"},{n:"\u5927\u5174\u5B89\u5CAD\u5730\u533A",g:"124.196104,51.991789|10"},{n:"\u9E64\u5C97",g:"130.292472,47.338666|13"},{n:"\u9ED1\u6CB3",g:"127.50083,50.25069|14"},{n:"\u9E21\u897F",g:"130.941767,45.32154|13"},{n:"\u4F73\u6728\u65AF",g:"130.284735,46.81378|12"},{n:"\u7261\u4E39\u6C5F",g:"129.608035,44.588521|13"},{n:"\u4E03\u53F0\u6CB3",g:"131.019048,45.775005|14"},{n:"\u9F50\u9F50\u54C8\u5C14",g:"123.987289,47.3477|13"},{n:"\u53CC\u9E2D\u5C71",g:"131.171402,46.655102|13"},{n:"\u7EE5\u5316",g:"126.989095,46.646064|13"},{n:"\u4F0A\u6625",g:"128.910766,47.734685|14"}]},{n:"\u6E56\u5317",g:"112.410562,31.209316|8",cities:[{n:"\u6B66\u6C49",g:"114.3162,30.581084|12"},{n:"\u9102\u5DDE",g:"114.895594,30.384439|14"},{n:"\u6069\u65BD",g:"109.517433,30.308978|14"},{n:"\u9EC4\u5188",g:"114.906618,30.446109|14"},{n:"\u9EC4\u77F3",g:"115.050683,30.216127|13"},{n:"\u8346\u95E8",g:"112.21733,31.042611|13"},{n:"\u8346\u5DDE",g:"112.241866,30.332591|12"},{n:"\u6F5C\u6C5F",g:"112.768768,30.343116|13"},{n:"\u795E\u519C\u67B6\u6797\u533A",g:"110.487231,31.595768|13"},{n:"\u5341\u5830",g:"110.801229,32.636994|13"},{n:"\u968F\u5DDE",g:"113.379358,31.717858|13"},{n:"\u5929\u95E8",g:"113.12623,30.649047|13"},{n:"\u4ED9\u6843",g:"113.387448,30.293966|13"},{n:"\u54B8\u5B81",g:"114.300061,29.880657|13"},{n:"\u8944\u9633",g:"112.176326,32.094934|12"},{n:"\u5B5D\u611F",g:"113.935734,30.927955|13"},{n:"\u5B9C\u660C",g:"111.310981,30.732758|13"}]},{n:"\u6E56\u5357",g:"111.720664,27.695864|7",cities:[{n:"\u957F\u6C99",g:"112.979353,28.213478|12"},{n:"\u5E38\u5FB7",g:"111.653718,29.012149|12"},{n:"\u90F4\u5DDE",g:"113.037704,25.782264|13"},{n:"\u8861\u9633",g:"112.583819,26.898164|13"},{n:"\u6000\u5316",g:"109.986959,27.557483|13"},{n:"\u5A04\u5E95",g:"111.996396,27.741073|13"},{n:"\u90B5\u9633",g:"111.461525,27.236811|13"},{n:"\u6E58\u6F6D",g:"112.935556,27.835095|13"},{n:"\u6E58\u897F\u5DDE",g:"109.745746,28.317951|14"},{n:"\u76CA\u9633",g:"112.366547,28.588088|13"},{n:"\u6C38\u5DDE",g:"111.614648,26.435972|13"},{n:"\u5CB3\u9633",g:"113.146196,29.378007|13"},{n:"\u5F20\u5BB6\u754C",g:"110.48162,29.124889|13"},{n:"\u682A\u6D32",g:"113.131695,27.827433|13"}]},{n:"\u6C5F\u82CF",g:"119.368489,33.013797|8",cities:[{n:"\u5357\u4EAC",g:"118.778074,32.057236|12"},{n:"\u5E38\u5DDE",g:"119.981861,31.771397|12"},{n:"\u6DEE\u5B89",g:"119.030186,33.606513|12"},{n:"\u8FDE\u4E91\u6E2F",g:"119.173872,34.601549|12"},{n:"\u5357\u901A",g:"120.873801,32.014665|12"},{n:"\u82CF\u5DDE",g:"120.619907,31.317987|12"},{n:"\u5BBF\u8FC1",g:"118.296893,33.95205|13"},{n:"\u6CF0\u5DDE",g:"119.919606,32.476053|13"},{n:"\u65E0\u9521",g:"120.305456,31.570037|12"},{n:"\u5F90\u5DDE",g:"117.188107,34.271553|12"},{n:"\u76D0\u57CE",g:"120.148872,33.379862|12"},{n:"\u626C\u5DDE",g:"119.427778,32.408505|13"},{n:"\u9547\u6C5F",g:"119.455835,32.204409|13"}]},{n:"\u6C5F\u897F",g:"115.676082,27.757258|7",cities:[{n:"\u5357\u660C",g:"115.893528,28.689578|12"},{n:"\u629A\u5DDE",g:"116.360919,27.954545|13"},{n:"\u8D63\u5DDE",g:"114.935909,25.845296|13"},{n:"\u5409\u5B89",g:"114.992039,27.113848|13"},{n:"\u666F\u5FB7\u9547",g:"117.186523,29.303563|12"},{n:"\u4E5D\u6C5F",g:"115.999848,29.71964|13"},{n:"\u840D\u4E61",g:"113.859917,27.639544|13"},{n:"\u4E0A\u9976",g:"117.955464,28.457623|13"},{n:"\u65B0\u4F59",g:"114.947117,27.822322|13"},{n:"\u5B9C\u6625",g:"114.400039,27.81113|13"},{n:"\u9E70\u6F6D",g:"117.03545,28.24131|13"}]},{n:"\u5409\u6797",g:"126.262876,43.678846|7",cities:[{n:"\u957F\u6625",g:"125.313642,43.898338|12"},{n:"\u767D\u57CE",g:"122.840777,45.621086|13"},{n:"\u767D\u5C71",g:"126.435798,41.945859|13"},{n:"\u5409\u6797",g:"126.564544,43.871988|12"},{n:"\u8FBD\u6E90",g:"125.133686,42.923303|13"},{n:"\u56DB\u5E73",g:"124.391382,43.175525|12"},{n:"\u677E\u539F",g:"124.832995,45.136049|13"},{n:"\u901A\u5316",g:"125.94265,41.736397|13"},{n:"\u5EF6\u8FB9",g:"129.485902,42.896414|13"}]},{n:"\u8FBD\u5B81",g:"122.753592,41.6216|8",cities:[{n:"\u6C88\u9633",g:"123.432791,41.808645|12"},{n:"\u978D\u5C71",g:"123.007763,41.118744|13"},{n:"\u672C\u6EAA",g:"123.778062,41.325838|12"},{n:"\u671D\u9633",g:"120.446163,41.571828|13"},{n:"\u5927\u8FDE",g:"121.593478,38.94871|12"},{n:"\u4E39\u4E1C",g:"124.338543,40.129023|12"},{n:"\u629A\u987A",g:"123.92982,41.877304|12"},{n:"\u961C\u65B0",g:"121.660822,42.01925|14"},{n:"\u846B\u82A6\u5C9B",g:"120.860758,40.74303|13"},{n:"\u9526\u5DDE",g:"121.147749,41.130879|13"},{n:"\u8FBD\u9633",g:"123.172451,41.273339|14"},{n:"\u76D8\u9526",g:"122.073228,41.141248|13"},{n:"\u94C1\u5CAD",g:"123.85485,42.299757|13"},{n:"\u8425\u53E3",g:"122.233391,40.668651|13"}]},{n:"\u5185\u8499\u53E4",g:"114.415868,43.468238|5",cities:[{n:"\u547C\u548C\u6D69\u7279",g:"111.660351,40.828319|12"},{n:"\u963F\u62C9\u5584\u76DF",g:"105.695683,38.843075|14"},{n:"\u5305\u5934",g:"109.846239,40.647119|12"},{n:"\u5DF4\u5F66\u6DD6\u5C14",g:"107.423807,40.76918|12"},{n:"\u8D64\u5CF0",g:"118.930761,42.297112|12"},{n:"\u9102\u5C14\u591A\u65AF",g:"109.993706,39.81649|12"},{n:"\u547C\u4F26\u8D1D\u5C14",g:"119.760822,49.201636|12"},{n:"\u901A\u8FBD",g:"122.260363,43.633756|12"},{n:"\u4E4C\u6D77",g:"106.831999,39.683177|13"},{n:"\u4E4C\u5170\u5BDF\u5E03",g:"113.112846,41.022363|12"},{n:"\u9521\u6797\u90ED\u52D2\u76DF",g:"116.02734,43.939705|11"},{n:"\u5174\u5B89\u76DF",g:"122.048167,46.083757|11"}]},{n:"\u5B81\u590F",g:"106.155481,37.321323|8",cities:[{n:"\u94F6\u5DDD",g:"106.206479,38.502621|12"},{n:"\u56FA\u539F",g:"106.285268,36.021523|13"},{n:"\u77F3\u5634\u5C71",g:"106.379337,39.020223|13"},{n:"\u5434\u5FE0",g:"106.208254,37.993561|14"},{n:"\u4E2D\u536B",g:"105.196754,37.521124|14"}]},{n:"\u9752\u6D77",g:"96.202544,35.499761|7",cities:[{n:"\u897F\u5B81",g:"101.767921,36.640739|12"},{n:"\u679C\u6D1B\u5DDE",g:"100.223723,34.480485|11"},{n:"\u6D77\u4E1C\u5730\u533A",g:"102.085207,36.51761|11"},{n:"\u6D77\u5317\u5DDE",g:"100.879802,36.960654|11"},{n:"\u6D77\u5357\u5DDE",g:"100.624066,36.284364|11"},{n:"\u6D77\u897F\u5DDE",g:"97.342625,37.373799|11"},{n:"\u9EC4\u5357\u5DDE",g:"102.0076,35.522852|11"},{n:"\u7389\u6811\u5DDE",g:"97.013316,33.00624|14"}]},{n:"\u5C71\u4E1C",g:"118.527663,36.09929|8",cities:[{n:"\u6D4E\u5357",g:"117.024967,36.682785|12"},{n:"\u6EE8\u5DDE",g:"117.968292,37.405314|12"},{n:"\u4E1C\u8425",g:"118.583926,37.487121|12"},{n:"\u5FB7\u5DDE",g:"116.328161,37.460826|12"},{n:"\u83CF\u6CFD",g:"115.46336,35.26244|13"},{n:"\u6D4E\u5B81",g:"116.600798,35.402122|13"},{n:"\u83B1\u829C",g:"117.684667,36.233654|13"},{n:"\u804A\u57CE",g:"115.986869,36.455829|12"},{n:"\u4E34\u6C82",g:"118.340768,35.072409|12"},{n:"\u9752\u5C9B",g:"120.384428,36.105215|12"},{n:"\u65E5\u7167",g:"119.50718,35.420225|12"},{n:"\u6CF0\u5B89",g:"117.089415,36.188078|13"},{n:"\u5A01\u6D77",g:"122.093958,37.528787|13"},{n:"\u6F4D\u574A",g:"119.142634,36.716115|12"},{n:"\u70DF\u53F0",g:"121.309555,37.536562|12"},{n:"\u67A3\u5E84",g:"117.279305,34.807883|13"},{n:"\u6DC4\u535A",g:"118.059134,36.804685|12"}]},{n:"\u5C71\u897F",g:"112.515496,37.866566|7",cities:[{n:"\u592A\u539F",g:"112.550864,37.890277|12"},{n:"\u957F\u6CBB",g:"113.120292,36.201664|12"},{n:"\u5927\u540C",g:"113.290509,40.113744|12"},{n:"\u664B\u57CE",g:"112.867333,35.499834|13"},{n:"\u664B\u4E2D",g:"112.738514,37.693362|13"},{n:"\u4E34\u6C7E",g:"111.538788,36.099745|13"},{n:"\u5415\u6881",g:"111.143157,37.527316|14"},{n:"\u6714\u5DDE",g:"112.479928,39.337672|13"},{n:"\u5FFB\u5DDE",g:"112.727939,38.461031|12"},{n:"\u9633\u6CC9",g:"113.569238,37.869529|13"},{n:"\u8FD0\u57CE",g:"111.006854,35.038859|13"}]},{n:"\u9655\u897F",g:"109.503789,35.860026|7",cities:[{n:"\u897F\u5B89",g:"108.953098,34.2778|12"},{n:"\u5B89\u5EB7",g:"109.038045,32.70437|13"},{n:"\u5B9D\u9E21",g:"107.170645,34.364081|12"},{n:"\u6C49\u4E2D",g:"107.045478,33.081569|13"},{n:"\u5546\u6D1B",g:"109.934208,33.873907|13"},{n:"\u94DC\u5DDD",g:"108.968067,34.908368|13"},{n:"\u6E2D\u5357",g:"109.483933,34.502358|13"},{n:"\u54B8\u9633",g:"108.707509,34.345373|13"},{n:"\u5EF6\u5B89",g:"109.50051,36.60332|13"},{n:"\u6986\u6797",g:"109.745926,38.279439|12"}]},{n:"\u56DB\u5DDD",g:"102.89916,30.367481|7",cities:[{n:"\u6210\u90FD",g:"104.067923,30.679943|12"},{n:"\u963F\u575D\u5DDE",g:"102.228565,31.905763|15"},{n:"\u5DF4\u4E2D",g:"106.757916,31.869189|14"},{n:"\u8FBE\u5DDE",g:"107.494973,31.214199|14"},{n:"\u5FB7\u9633",g:"104.402398,31.13114|13"},{n:"\u7518\u5B5C\u5DDE",g:"101.969232,30.055144|15"},{n:"\u5E7F\u5B89",g:"106.63572,30.463984|13"},{n:"\u5E7F\u5143",g:"105.819687,32.44104|13"},{n:"\u4E50\u5C71",g:"103.760824,29.600958|13"},{n:"\u51C9\u5C71\u5DDE",g:"102.259591,27.892393|14"},{n:"\u6CF8\u5DDE",g:"105.44397,28.89593|14"},{n:"\u5357\u5145",g:"106.105554,30.800965|13"},{n:"\u7709\u5C71",g:"103.84143,30.061115|13"},{n:"\u7EF5\u9633",g:"104.705519,31.504701|12"},{n:"\u5185\u6C5F",g:"105.073056,29.599462|13"},{n:"\u6500\u679D\u82B1",g:"101.722423,26.587571|14"},{n:"\u9042\u5B81",g:"105.564888,30.557491|12"},{n:"\u96C5\u5B89",g:"103.009356,29.999716|13"},{n:"\u5B9C\u5BBE",g:"104.633019,28.769675|13"},{n:"\u8D44\u9633",g:"104.63593,30.132191|13"},{n:"\u81EA\u8D21",g:"104.776071,29.359157|13"}]},{n:"\u897F\u85CF",g:"89.137982,31.367315|6",cities:[{n:"\u62C9\u8428",g:"91.111891,29.662557|13"},{n:"\u963F\u91CC\u5730\u533A",g:"81.107669,30.404557|11"},{n:"\u660C\u90FD\u5730\u533A",g:"97.185582,31.140576|15"},{n:"\u6797\u829D\u5730\u533A",g:"94.349985,29.666941|11"},{n:"\u90A3\u66F2\u5730\u533A",g:"92.067018,31.48068|14"},{n:"\u65E5\u5580\u5219\u5730\u533A",g:"88.891486,29.269023|14"},{n:"\u5C71\u5357\u5730\u533A",g:"91.750644,29.229027|11"}]},{n:"\u65B0\u7586",g:"85.614899,42.127001|6",cities:[{n:"\u4E4C\u9C81\u6728\u9F50",g:"87.564988,43.84038|12"},{n:"\u963F\u62C9\u5C14",g:"81.291737,40.61568|13"},{n:"\u963F\u514B\u82CF\u5730\u533A",g:"80.269846,41.171731|12"},{n:"\u963F\u52D2\u6CF0\u5730\u533A",g:"88.137915,47.839744|13"},{n:"\u5DF4\u97F3\u90ED\u695E",g:"86.121688,41.771362|12"},{n:"\u535A\u5C14\u5854\u62C9\u5DDE",g:"82.052436,44.913651|11"},{n:"\u660C\u5409\u5DDE",g:"87.296038,44.007058|13"},{n:"\u54C8\u5BC6\u5730\u533A",g:"93.528355,42.858596|13"},{n:"\u548C\u7530\u5730\u533A",g:"79.930239,37.116774|13"},{n:"\u5580\u4EC0\u5730\u533A",g:"75.992973,39.470627|12"},{n:"\u514B\u62C9\u739B\u4F9D",g:"84.88118,45.594331|13"},{n:"\u514B\u5B5C\u52D2\u82CF\u5DDE",g:"76.137564,39.750346|11"},{n:"\u77F3\u6CB3\u5B50",g:"86.041865,44.308259|13"},{n:"\u5854\u57CE\u5730\u533A",g:"82.974881,46.758684|12"},{n:"\u56FE\u6728\u8212\u514B",g:"79.198155,39.889223|13"},{n:"\u5410\u9C81\u756A\u5730\u533A",g:"89.181595,42.96047|13"},{n:"\u4E94\u5BB6\u6E20",g:"87.565449,44.368899|13"},{n:"\u4F0A\u7281\u5DDE",g:"81.297854,43.922248|11"}]},{n:"\u4E91\u5357",g:"101.592952,24.864213|7",cities:[{n:"\u6606\u660E",g:"102.714601,25.049153|12"},{n:"\u4FDD\u5C71",g:"99.177996,25.120489|13"},{n:"\u695A\u96C4\u5DDE",g:"101.529382,25.066356|13"},{n:"\u5927\u7406\u5DDE",g:"100.223675,25.5969|14"},{n:"\u5FB7\u5B8F\u5DDE",g:"98.589434,24.44124|14"},{n:"\u8FEA\u5E86\u5DDE",g:"99.713682,27.831029|14"},{n:"\u7EA2\u6CB3\u5DDE",g:"103.384065,23.367718|11"},{n:"\u4E3D\u6C5F",g:"100.229628,26.875351|13"},{n:"\u4E34\u6CA7",g:"100.092613,23.887806|14"},{n:"\u6012\u6C5F\u5DDE",g:"98.859932,25.860677|14"},{n:"\u666E\u6D31",g:"100.980058,22.788778|14"},{n:"\u66F2\u9756",g:"103.782539,25.520758|12"},{n:"\u662D\u901A",g:"103.725021,27.340633|13"},{n:"\u6587\u5C71",g:"104.089112,23.401781|14"},{n:"\u897F\u53CC\u7248\u7EB3",g:"100.803038,22.009433|13"},{n:"\u7389\u6EAA",g:"102.545068,24.370447|13"}]},{n:"\u6D59\u6C5F",g:"119.957202,29.159494|8",cities:[{n:"\u676D\u5DDE",g:"120.219375,30.259244|12"},{n:"\u6E56\u5DDE",g:"120.137243,30.877925|12"},{n:"\u5609\u5174",g:"120.760428,30.773992|13"},{n:"\u91D1\u534E",g:"119.652576,29.102899|12"},{n:"\u4E3D\u6C34",g:"119.929576,28.4563|13"},{n:"\u5B81\u6CE2",g:"121.579006,29.885259|12"},{n:"\u8862\u5DDE",g:"118.875842,28.95691|12"},{n:"\u7ECD\u5174",g:"120.592467,30.002365|13"},{n:"\u53F0\u5DDE",g:"121.440613,28.668283|13"},{n:"\u6E29\u5DDE",g:"120.690635,28.002838|12"},{n:"\u821F\u5C71",g:"122.169872,30.03601|13"}]}],Nr=[{n:"\u9999\u6E2F",g:"114.186124,22.293586|11"},{n:"\u6FB3\u95E8",g:"113.557519,22.204118|13"},{n:"\u53F0\u6E7E",g:"120.961454,23.80406|8"}],yr=void 0,ln=function(){if(yr!==void 0)return yr;var d=navigator.userAgent,n="Android;iPhone;SymbianOS;Windows Phone;iPad;iPod".split(";");yr=!1;for(var l=0;l<n.length;l++)if(0<d.indexOf(n[l])){yr=!0;break}return yr}(),ni=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Oi=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Ki=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Bi=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ri=Array(576);Er(Ri);var ma=Array(60);Er(ma);var ra=Array(512);Er(ra);var Fs=Array(256);Er(Fs);var fu=Array(29);Er(fu);var Zs=Array(30);Er(Zs);var _a=void 0,ku=void 0,zc=void 0,hu=function(n,l){n.pending_buf[n.pending++]=l&255,n.pending_buf[n.pending++]=l>>>8&255},Na=function(n,l,a){n.bi_valid>16-a?(n.bi_buf|=l<<n.bi_valid&65535,hu(n,n.bi_buf),n.bi_buf=l>>16-n.bi_valid,n.bi_valid+=a-16):(n.bi_buf|=l<<n.bi_valid&65535,n.bi_valid+=a)},Va=function(n,l,a){Na(n,a[2*l],a[2*l+1])},Rf=function(n,l){var a=0;do a|=n&1,n>>>=1,a<<=1;while(0<--l);return a>>>1},Hu=function(n,l,a){var f=Array(16),h=0,y;for(y=1;15>=y;y++)f[y]=h=h+a[y-1]<<1;for(a=0;a<=l;a++)h=n[2*a+1],h!==0&&(n[2*a]=Rf(f[h]++,h))},Vu=function(n){var l;for(l=0;286>l;l++)n.dyn_ltree[2*l]=0;for(l=0;30>l;l++)n.dyn_dtree[2*l]=0;for(l=0;19>l;l++)n.bl_tree[2*l]=0;n.dyn_ltree[512]=1,n.opt_len=n.static_len=0,n.last_lit=n.matches=0},Ju=function(n){8<n.bi_valid?hu(n,n.bi_buf):0<n.bi_valid&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},yc=function(n,l,a,f){var h=2*l,y=2*a;return n[h]<n[y]||n[h]===n[y]&&f[l]<=f[a]},Zl=function(n,l,a){for(var f=n.heap[a],h=a<<1;h<=n.heap_len&&(h<n.heap_len&&yc(l,n.heap[h+1],n.heap[h],n.depth)&&h++,!yc(l,f,n.heap[h],n.depth));)n.heap[a]=n.heap[h],a=h,h<<=1;n.heap[a]=f},nf=function(n,l,a){var f=0;if(n.last_lit!==0)do{var h=n.pending_buf[n.d_buf+2*f]<<8|n.pending_buf[n.d_buf+2*f+1],y=n.pending_buf[n.l_buf+f];if(f++,h===0)Va(n,y,l);else{var m=Fs[y];Va(n,m+256+1,l);var C=ni[m];C!==0&&(y-=fu[m],Na(n,y,C)),h--,m=256>h?ra[h]:ra[256+(h>>>7)],Va(n,m,a),C=Oi[m],C!==0&&(h-=Zs[m],Na(n,h,C))}}while(f<n.last_lit);Va(n,256,l)},du=function(n,l){var a=l.dyn_tree,f=l.stat_desc.static_tree,h=l.stat_desc.has_stree,y=l.stat_desc.elems,m,C=-1;for(n.heap_len=0,n.heap_max=573,m=0;m<y;m++)a[2*m]!==0?(n.heap[++n.heap_len]=C=m,n.depth[m]=0):a[2*m+1]=0;for(;2>n.heap_len;){var P=n.heap[++n.heap_len]=2>C?++C:0;a[2*P]=1,n.depth[P]=0,n.opt_len--,h&&(n.static_len-=f[2*P+1])}for(l.max_code=C,m=n.heap_len>>1;1<=m;m--)Zl(n,a,m);P=y;do m=n.heap[1],n.heap[1]=n.heap[n.heap_len--],Zl(n,a,1),f=n.heap[1],n.heap[--n.heap_max]=m,n.heap[--n.heap_max]=f,a[2*P]=a[2*m]+a[2*f],n.depth[P]=(n.depth[m]>=n.depth[f]?n.depth[m]:n.depth[f])+1,a[2*m+1]=a[2*f+1]=P,n.heap[1]=P++,Zl(n,a,1);while(2<=n.heap_len);n.heap[--n.heap_max]=n.heap[1],m=l.dyn_tree,P=l.max_code,f=l.stat_desc.static_tree,h=l.stat_desc.has_stree,y=l.stat_desc.extra_bits;var B=l.stat_desc.extra_base,M=l.stat_desc.max_length,T,L=0;for(T=0;15>=T;T++)n.bl_count[T]=0;for(m[2*n.heap[n.heap_max]+1]=0,l=n.heap_max+1;573>l;l++){var z=n.heap[l];if(T=m[2*m[2*z+1]+1]+1,T>M&&(T=M,L++),m[2*z+1]=T,!(z>P)){n.bl_count[T]++;var H=0;z>=B&&(H=y[z-B]);var Z=m[2*z];n.opt_len+=Z*(T+H),h&&(n.static_len+=Z*(f[2*z+1]+H))}}if(L!==0){do{for(T=M-1;n.bl_count[T]===0;)T--;n.bl_count[T]--,n.bl_count[T+1]+=2,n.bl_count[M]--,L-=2}while(0<L);for(T=M;T!==0;T--)for(z=n.bl_count[T];z!==0;)f=n.heap[--l],f>P||(m[2*f+1]!==T&&(n.opt_len+=(T-m[2*f+1])*m[2*f],m[2*f+1]=T),z--)}Hu(a,C,n.bl_count)},xf=function(n,l,a){var f,h=-1,y=l[1],m=0,C=7,P=4;for(y===0&&(C=138,P=3),l[2*(a+1)+1]=65535,f=0;f<=a;f++){var B=y;y=l[2*(f+1)+1],++m<C&&B===y||(m<P?n.bl_tree[2*B]+=m:B!==0?(B!==h&&n.bl_tree[2*B]++,n.bl_tree[32]++):10>=m?n.bl_tree[34]++:n.bl_tree[36]++,m=0,h=B,y===0?(C=138,P=3):B===y?(C=6,P=3):(C=7,P=4))}},Su=function(n,l,a){var f,h=-1,y=l[1],m=0,C=7,P=4;for(y===0&&(C=138,P=3),f=0;f<=a;f++){var B=y;if(y=l[2*(f+1)+1],!(++m<C&&B===y)){if(m<P)do Va(n,B,n.bl_tree);while(--m!=0);else B!==0?(B!==h&&(Va(n,B,n.bl_tree),m--),Va(n,16,n.bl_tree),Na(n,m-3,2)):10>=m?(Va(n,17,n.bl_tree),Na(n,m-3,3)):(Va(n,18,n.bl_tree),Na(n,m-11,7));m=0,h=B,y===0?(C=138,P=3):B===y?(C=6,P=3):(C=7,P=4)}}},pu=function(n){var l=4093624447,a;for(a=0;31>=a;a++,l>>>=1)if(l&1&&n.dyn_ltree[2*a]!==0)return 0;if(n.dyn_ltree[18]!==0||n.dyn_ltree[20]!==0||n.dyn_ltree[26]!==0)return 1;for(a=32;256>a;a++)if(n.dyn_ltree[2*a]!==0)return 1;return 0},ch=!1,$f=function(n,l,a,f){Na(n,f?1:0,3),Ju(n),hu(n,a),hu(n,~a),n.pending_buf.set(n.window.subarray(l,l+a),n.pending),n.pending+=a},To=function(n,l,a,f){var h=n&65535|0;n=n>>>16&65535|0;for(var y;a!==0;){y=2e3<a?2e3:a,a-=y;do h=h+l[f++]|0,n=n+h|0;while(--y);h%=65521,n%=65521}return h|n<<16|0},Li=new Uint32Array(function(){for(var d,n=[],l=0;256>l;l++){d=l;for(var a=0;8>a;a++)d=d&1?3988292384^d>>>1:d>>>1;n[l]=d}return n}()),Zi=function(n,l,a,f){for(a=f+a,n^=-1;f<a;f++)n=n>>>8^Li[(n^l[f])&255];return n^-1},Io={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},_i={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},Co=function(n,l,a){return n.pending_buf[n.d_buf+2*n.last_lit]=l>>>8&255,n.pending_buf[n.d_buf+2*n.last_lit+1]=l&255,n.pending_buf[n.l_buf+n.last_lit]=a&255,n.last_lit++,l===0?n.dyn_ltree[2*a]++:(n.matches++,l--,n.dyn_ltree[2*(Fs[a]+256+1)]++,n.dyn_dtree[2*(256>l?ra[l]:ra[256+(l>>>7)])]++),n.last_lit===n.lit_bufsize-1},hs=_i.Z_NO_FLUSH,mu=_i.Z_PARTIAL_FLUSH,ks=_i.Z_FULL_FLUSH,Pu=_i.Z_FINISH,ya=_i.Z_BLOCK,Do=_i.Z_OK,cc=_i.Z_STREAM_END,hl=_i.Z_STREAM_ERROR,dl=_i.Z_DATA_ERROR,Ms=_i.Z_BUF_ERROR,Lf=_i.Z_DEFAULT_COMPRESSION,Ou=_i.Z_FILTERED,Ru=_i.Z_HUFFMAN_ONLY,sp=_i.Z_RLE,Zp=_i.Z_FIXED,fh=_i.Z_DEFAULT_STRATEGY,of=_i.Z_UNKNOWN,Wu=_i.Z_DEFLATED,eh=function(n,l){return n.msg=Io[l],l},Uc=function(n){for(var l=n.length;0<=--l;)n[l]=0},th=function(n,l,a){return(l<<n.hash_shift^a)&n.hash_mask},Js=function(n){var l=n.state,a=l.pending;a>n.avail_out&&(a=n.avail_out),a!==0&&(n.output.set(l.pending_buf.subarray(l.pending_out,l.pending_out+a),n.next_out),n.next_out+=a,l.pending_out+=a,n.total_out+=a,n.avail_out-=a,l.pending-=a,l.pending===0&&(l.pending_out=0))},vu=function(n,l){var a=0<=n.block_start?n.block_start:-1,f=n.strstart-n.block_start,h=0;if(0<n.level){for(n.strm.data_type===2&&(n.strm.data_type=pu(n)),du(n,n.l_desc),du(n,n.d_desc),xf(n,n.dyn_ltree,n.l_desc.max_code),xf(n,n.dyn_dtree,n.d_desc.max_code),du(n,n.bl_desc),h=18;3<=h&&n.bl_tree[2*Bi[h]+1]===0;h--);n.opt_len+=3*(h+1)+14;var y=n.opt_len+3+7>>>3,m=n.static_len+3+7>>>3;m<=y&&(y=m)}else y=m=f+5;if(f+4<=y&&a!==-1)$f(n,a,f,l);else if(n.strategy===4||m===y)Na(n,2+(l?1:0),3),nf(n,Ri,ma);else{for(Na(n,4+(l?1:0),3),a=n.l_desc.max_code+1,f=n.d_desc.max_code+1,h+=1,Na(n,a-257,5),Na(n,f-1,5),Na(n,h-4,4),y=0;y<h;y++)Na(n,n.bl_tree[2*Bi[y]+1],3);Su(n,n.dyn_ltree,a-1),Su(n,n.dyn_dtree,f-1),nf(n,n.dyn_ltree,n.dyn_dtree)}Vu(n),l&&Ju(n),n.block_start=n.strstart,Js(n.strm)},Kn=function(n,l){n.pending_buf[n.pending++]=l},lp=function(n,l){n.pending_buf[n.pending++]=l>>>8&255,n.pending_buf[n.pending++]=l&255},Qs=function(n,l){var a=n.max_chain_length,f=n.strstart,h=n.prev_length,y=n.nice_match,m=n.strstart>n.w_size-262?n.strstart-(n.w_size-262):0,C=n.window,P=n.w_mask,B=n.prev,M=n.strstart+258,T=C[f+h-1],L=C[f+h];n.prev_length>=n.good_match&&(a>>=2),y>n.lookahead&&(y=n.lookahead);do{var z=l;if(C[z+h]===L&&C[z+h-1]===T&&C[z]===C[f]&&C[++z]===C[f+1]){for(f+=2,z++;C[++f]===C[++z]&&C[++f]===C[++z]&&C[++f]===C[++z]&&C[++f]===C[++z]&&C[++f]===C[++z]&&C[++f]===C[++z]&&C[++f]===C[++z]&&C[++f]===C[++z]&&f<M;);if(z=258-(M-f),f=M-258,z>h){if(n.match_start=l,h=z,z>=y)break;T=C[f+h-1],L=C[f+h]}}}while((l=B[l&P])>m&&--a!=0);return h<=n.lookahead?h:n.lookahead},hh=function(n){var l=n.w_size,a;do{var f=n.window_size-n.lookahead-n.strstart;if(n.strstart>=l+(l-262)){n.window.set(n.window.subarray(l,l+l),0),n.match_start-=l,n.strstart-=l,n.block_start-=l;var h=a=n.hash_size;do{var y=n.head[--h];n.head[h]=y>=l?y-l:0}while(--a);h=a=l;do y=n.prev[--h],n.prev[h]=y>=l?y-l:0;while(--a);f+=l}if(n.strm.avail_in===0)break;h=n.strm,a=n.window,y=n.strstart+n.lookahead;var m=h.avail_in;if(m>f&&(m=f),m===0?a=0:(h.avail_in-=m,a.set(h.input.subarray(h.next_in,h.next_in+m),y),h.state.wrap===1?h.adler=To(h.adler,a,m,y):h.state.wrap===2&&(h.adler=Zi(h.adler,a,m,y)),h.next_in+=m,h.total_in+=m,a=m),n.lookahead+=a,3<=n.lookahead+n.insert)for(f=n.strstart-n.insert,n.ins_h=n.window[f],n.ins_h=th(n,n.ins_h,n.window[f+1]);n.insert&&(n.ins_h=th(n,n.ins_h,n.window[f+3-1]),n.prev[f&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=f,f++,n.insert--,!(3>n.lookahead+n.insert)););}while(262>n.lookahead&&n.strm.avail_in!==0)},Ld=function(n,l){for(var a;;){if(262>n.lookahead){if(hh(n),262>n.lookahead&&l===hs)return 1;if(n.lookahead===0)break}if(a=0,3<=n.lookahead&&(n.ins_h=th(n,n.ins_h,n.window[n.strstart+3-1]),a=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),a!==0&&n.strstart-a<=n.w_size-262&&(n.match_length=Qs(n,a)),3<=n.match_length)if(a=Co(n,n.strstart-n.match_start,n.match_length-3),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&3<=n.lookahead){n.match_length--;do n.strstart++,n.ins_h=th(n,n.ins_h,n.window[n.strstart+3-1]),n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!=0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=th(n,n.ins_h,n.window[n.strstart+1]);else a=Co(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(a&&(vu(n,!1),n.strm.avail_out===0))return 1}return n.insert=2>n.strstart?n.strstart:2,l===Pu?(vu(n,!0),n.strm.avail_out===0?3:4):n.last_lit&&(vu(n,!1),n.strm.avail_out===0)?1:2},Rh=function(n,l){for(var a,f;;){if(262>n.lookahead){if(hh(n),262>n.lookahead&&l===hs)return 1;if(n.lookahead===0)break}if(a=0,3<=n.lookahead&&(n.ins_h=th(n,n.ins_h,n.window[n.strstart+3-1]),a=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=2,a!==0&&n.prev_length<n.max_lazy_match&&n.strstart-a<=n.w_size-262&&(n.match_length=Qs(n,a),5>=n.match_length&&(n.strategy===Ou||n.match_length===3&&4096<n.strstart-n.match_start)&&(n.match_length=2)),3<=n.prev_length&&n.match_length<=n.prev_length){f=n.strstart+n.lookahead-3,a=Co(n,n.strstart-1-n.prev_match,n.prev_length-3),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=f&&(n.ins_h=th(n,n.ins_h,n.window[n.strstart+3-1]),n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!=0);if(n.match_available=0,n.match_length=2,n.strstart++,a&&(vu(n,!1),n.strm.avail_out===0))return 1}else if(n.match_available){if((a=Co(n,0,n.window[n.strstart-1]))&&vu(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return 1}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(Co(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=2>n.strstart?n.strstart:2,l===Pu?(vu(n,!0),n.strm.avail_out===0?3:4):n.last_lit&&(vu(n,!1),n.strm.avail_out===0)?1:2},up=function(n,l){for(var a,f,h,y=n.window;;){if(258>=n.lookahead){if(hh(n),258>=n.lookahead&&l===hs)return 1;if(n.lookahead===0)break}if(n.match_length=0,3<=n.lookahead&&0<n.strstart&&(f=n.strstart-1,a=y[f],a===y[++f]&&a===y[++f]&&a===y[++f])){for(h=n.strstart+258;a===y[++f]&&a===y[++f]&&a===y[++f]&&a===y[++f]&&a===y[++f]&&a===y[++f]&&a===y[++f]&&a===y[++f]&&f<h;);n.match_length=258-(h-f),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(3<=n.match_length?(a=Co(n,1,n.match_length-3),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(a=Co(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),a&&(vu(n,!1),n.strm.avail_out===0))return 1}return n.insert=0,l===Pu?(vu(n,!0),n.strm.avail_out===0?3:4):n.last_lit&&(vu(n,!1),n.strm.avail_out===0)?1:2},Dd=function(n,l){for(var a;;){if(n.lookahead===0&&(hh(n),n.lookahead===0)){if(l===hs)return 1;break}if(n.match_length=0,a=Co(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,a&&(vu(n,!1),n.strm.avail_out===0))return 1}return n.insert=0,l===Pu?(vu(n,!0),n.strm.avail_out===0?3:4):n.last_lit&&(vu(n,!1),n.strm.avail_out===0)?1:2},Sc=[new $r(0,0,0,0,function(d,n){var l=65535;for(l>d.pending_buf_size-5&&(l=d.pending_buf_size-5);;){if(1>=d.lookahead){if(hh(d),d.lookahead===0&&n===hs)return 1;if(d.lookahead===0)break}d.strstart+=d.lookahead,d.lookahead=0;var a=d.block_start+l;if((d.strstart===0||d.strstart>=a)&&(d.lookahead=d.strstart-a,d.strstart=a,vu(d,!1),d.strm.avail_out===0)||d.strstart-d.block_start>=d.w_size-262&&(vu(d,!1),d.strm.avail_out===0))return 1}return d.insert=0,n===Pu?(vu(d,!0),d.strm.avail_out===0?3:4):(d.strstart>d.block_start&&vu(d,!1),1)}),new $r(4,4,8,4,Ld),new $r(4,5,16,8,Ld),new $r(4,6,32,32,Ld),new $r(4,4,16,16,Rh),new $r(8,16,32,32,Rh),new $r(8,16,128,128,Rh),new $r(8,32,128,256,Rh),new $r(32,128,258,1024,Rh),new $r(32,258,258,4096,Rh)],Dv=function(n){if(!n||!n.state)return eh(n,hl);n.total_in=n.total_out=0,n.data_type=of;var l=n.state;if(l.pending=0,l.pending_out=0,0>l.wrap&&(l.wrap=-l.wrap),l.status=l.wrap?42:113,n.adler=l.wrap===2?0:1,l.last_flush=hs,!ch){var a,f,h;for(n=Array(16),h=f=0;28>h;h++)for(fu[h]=f,a=0;a<1<<ni[h];a++)Fs[f++]=h;for(Fs[f-1]=h,h=f=0;16>h;h++)for(Zs[h]=f,a=0;a<1<<Oi[h];a++)ra[f++]=h;for(f>>=7;30>h;h++)for(Zs[h]=f<<7,a=0;a<1<<Oi[h]-7;a++)ra[256+f++]=h;for(a=0;15>=a;a++)n[a]=0;for(a=0;143>=a;)Ri[2*a+1]=8,a++,n[8]++;for(;255>=a;)Ri[2*a+1]=9,a++,n[9]++;for(;279>=a;)Ri[2*a+1]=7,a++,n[7]++;for(;287>=a;)Ri[2*a+1]=8,a++,n[8]++;for(Hu(Ri,287,n),a=0;30>a;a++)ma[2*a+1]=5,ma[2*a]=Rf(a,5);_a=new Cn(Ri,ni,257,286,15),ku=new Cn(ma,Oi,0,30,15),zc=new Cn([],Ki,0,19,7),ch=!0}return l.l_desc=new pr(l.dyn_ltree,_a),l.d_desc=new pr(l.dyn_dtree,ku),l.bl_desc=new pr(l.bl_tree,zc),l.bi_buf=0,l.bi_valid=0,Vu(l),Do},cp=function(n){var l=Dv(n);return l===Do&&(n=n.state,n.window_size=2*n.w_size,Uc(n.head),n.max_lazy_match=Sc[n.level].max_lazy,n.good_match=Sc[n.level].good_length,n.nice_match=Sc[n.level].nice_length,n.max_chain_length=Sc[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),l},Jp=function(n,l,a,f,h,y){if(!n)return hl;var m=1;if(l===Lf&&(l=6),0>f?(m=0,f=-f):15<f&&(m=2,f-=16),1>h||9<h||a!==Wu||8>f||15<f||0>l||9<l||0>y||y>Zp)return eh(n,hl);f===8&&(f=9);var C=new An;return n.state=C,C.strm=n,C.wrap=m,C.gzhead=null,C.w_bits=f,C.w_size=1<<C.w_bits,C.w_mask=C.w_size-1,C.hash_bits=h+7,C.hash_size=1<<C.hash_bits,C.hash_mask=C.hash_size-1,C.hash_shift=~~((C.hash_bits+3-1)/3),C.window=new Uint8Array(2*C.w_size),C.head=new Uint16Array(C.hash_size),C.prev=new Uint16Array(C.w_size),C.lit_bufsize=1<<h+6,C.pending_buf_size=4*C.lit_bufsize,C.pending_buf=new Uint8Array(C.pending_buf_size),C.d_buf=1*C.lit_bufsize,C.l_buf=3*C.lit_bufsize,C.level=l,C.strategy=y,C.method=a,cp(n)},Gh={deflateInit:function(n,l){return Jp(n,l,Wu,15,8,fh)},deflateInit2:Jp,deflateReset:cp,deflateResetKeep:Dv,deflateSetHeader:function(n,l){return!n||!n.state||n.state.wrap!==2?hl:(n.state.gzhead=l,Do)},deflate:function(n,l){if(!n||!n.state||l>ya||0>l)return n?eh(n,hl):hl;var a=n.state;if(!n.output||!n.input&&n.avail_in!==0||a.status===666&&l!==Pu)return eh(n,n.avail_out===0?Ms:hl);a.strm=n;var f=a.last_flush;if(a.last_flush=l,a.status===42)if(a.wrap===2)n.adler=0,Kn(a,31),Kn(a,139),Kn(a,8),a.gzhead?(Kn(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),Kn(a,a.gzhead.time&255),Kn(a,a.gzhead.time>>8&255),Kn(a,a.gzhead.time>>16&255),Kn(a,a.gzhead.time>>24&255),Kn(a,a.level===9?2:a.strategy>=Ru||2>a.level?4:0),Kn(a,a.gzhead.os&255),a.gzhead.extra&&a.gzhead.extra.length&&(Kn(a,a.gzhead.extra.length&255),Kn(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(n.adler=Zi(n.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=69):(Kn(a,0),Kn(a,0),Kn(a,0),Kn(a,0),Kn(a,0),Kn(a,a.level===9?2:a.strategy>=Ru||2>a.level?4:0),Kn(a,3),a.status=113);else{var h=Wu+(a.w_bits-8<<4)<<8;h|=(a.strategy>=Ru||2>a.level?0:6>a.level?1:a.level===6?2:3)<<6,a.strstart!==0&&(h|=32),a.status=113,lp(a,h+(31-h%31)),a.strstart!==0&&(lp(a,n.adler>>>16),lp(a,n.adler&65535)),n.adler=1}if(a.status===69)if(a.gzhead.extra){for(h=a.pending;a.gzindex<(a.gzhead.extra.length&65535)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>h&&(n.adler=Zi(n.adler,a.pending_buf,a.pending-h,h)),Js(n),h=a.pending,a.pending!==a.pending_buf_size));)Kn(a,a.gzhead.extra[a.gzindex]&255),a.gzindex++;a.gzhead.hcrc&&a.pending>h&&(n.adler=Zi(n.adler,a.pending_buf,a.pending-h,h)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=73)}else a.status=73;if(a.status===73)if(a.gzhead.name){h=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>h&&(n.adler=Zi(n.adler,a.pending_buf,a.pending-h,h)),Js(n),h=a.pending,a.pending===a.pending_buf_size)){var y=1;break}y=a.gzindex<a.gzhead.name.length?a.gzhead.name.charCodeAt(a.gzindex++)&255:0,Kn(a,y)}while(y!==0);a.gzhead.hcrc&&a.pending>h&&(n.adler=Zi(n.adler,a.pending_buf,a.pending-h,h)),y===0&&(a.gzindex=0,a.status=91)}else a.status=91;if(a.status===91)if(a.gzhead.comment){h=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>h&&(n.adler=Zi(n.adler,a.pending_buf,a.pending-h,h)),Js(n),h=a.pending,a.pending===a.pending_buf_size)){y=1;break}y=a.gzindex<a.gzhead.comment.length?a.gzhead.comment.charCodeAt(a.gzindex++)&255:0,Kn(a,y)}while(y!==0);a.gzhead.hcrc&&a.pending>h&&(n.adler=Zi(n.adler,a.pending_buf,a.pending-h,h)),y===0&&(a.status=103)}else a.status=103;if(a.status===103&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&Js(n),a.pending+2<=a.pending_buf_size&&(Kn(a,n.adler&255),Kn(a,n.adler>>8&255),n.adler=0,a.status=113)):a.status=113),a.pending!==0){if(Js(n),n.avail_out===0)return a.last_flush=-1,Do}else if(n.avail_in===0&&(l<<1)-(4<l?9:0)<=(f<<1)-(4<f?9:0)&&l!==Pu)return eh(n,Ms);if(a.status===666&&n.avail_in!==0)return eh(n,Ms);if(n.avail_in!==0||a.lookahead!==0||l!==hs&&a.status!==666){if(f=a.strategy===Ru?Dd(a,l):a.strategy===sp?up(a,l):Sc[a.level].func(a,l),(f===3||f===4)&&(a.status=666),f===1||f===3)return n.avail_out===0&&(a.last_flush=-1),Do;if(f===2&&(l===mu?(Na(a,2,3),Va(a,256,Ri),a.bi_valid===16?(hu(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):8<=a.bi_valid&&(a.pending_buf[a.pending++]=a.bi_buf&255,a.bi_buf>>=8,a.bi_valid-=8)):l!==ya&&($f(a,0,0,!1),l===ks&&(Uc(a.head),a.lookahead===0&&(a.strstart=0,a.block_start=0,a.insert=0))),Js(n),n.avail_out===0))return a.last_flush=-1,Do}return l!==Pu?Do:0>=a.wrap?cc:(a.wrap===2?(Kn(a,n.adler&255),Kn(a,n.adler>>8&255),Kn(a,n.adler>>16&255),Kn(a,n.adler>>24&255),Kn(a,n.total_in&255),Kn(a,n.total_in>>8&255),Kn(a,n.total_in>>16&255),Kn(a,n.total_in>>24&255)):(lp(a,n.adler>>>16),lp(a,n.adler&65535)),Js(n),0<a.wrap&&(a.wrap=-a.wrap),a.pending!==0?Do:cc)},deflateEnd:function(n){if(!n||!n.state)return hl;var l=n.state.status;return l!==42&&l!==69&&l!==73&&l!==91&&l!==103&&l!==113&&l!==666?eh(n,hl):(n.state=null,l===113?eh(n,dl):Do)},deflateSetDictionary:function(n,l){var a=l.length;if(!n||!n.state)return hl;var f=n.state,h=f.wrap;if(h===2||h===1&&f.status!==42||f.lookahead)return hl;if(h===1&&(n.adler=To(n.adler,l,a,0)),f.wrap=0,a>=f.w_size){h===0&&(Uc(f.head),f.strstart=0,f.block_start=0,f.insert=0);var y=new Uint8Array(f.w_size);y.set(l.subarray(a-f.w_size,a),0),l=y,a=f.w_size}y=n.avail_in;var m=n.next_in,C=n.input;for(n.avail_in=a,n.next_in=0,n.input=l,hh(f);3<=f.lookahead;){l=f.strstart,a=f.lookahead-2;do f.ins_h=th(f,f.ins_h,f.window[l+3-1]),f.prev[l&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=l,l++;while(--a);f.strstart=l,f.lookahead=2,hh(f)}return f.strstart+=f.lookahead,f.block_start=f.strstart,f.insert=f.lookahead,f.lookahead=0,f.match_length=f.prev_length=2,f.match_available=0,n.next_in=m,n.input=C,n.avail_in=y,f.wrap=h,Do},deflateInfo:"pako deflate (from Nodeca project)"},Qp={assign:function(n){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var a=l.shift();if(a){if((typeof a=="undefined"?"undefined":ac(a))!=="object")throw new TypeError(a+"must be non-object");for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(n[f]=a[f])}}return n},flattenChunks:function(n){for(var l=0,a=0,f=n.length;a<f;a++)l+=n[a].length;l=new Uint8Array(l),f=a=0;for(var h=n.length;a<h;a++){var y=n[a];l.set(y,f),f+=y.length}return l}},Es=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(d){Es=!1}for(var pd=new Uint8Array(256),Lh=0;256>Lh;Lh++)pd[Lh]=252<=Lh?6:248<=Lh?5:240<=Lh?4:224<=Lh?3:192<=Lh?2:1;pd[254]=pd[254]=1;var md={string2buf:function(n){var l,a,f=n.length,h=0;for(l=0;l<f;l++){var y=n.charCodeAt(l);if((y&64512)==55296&&l+1<f){var m=n.charCodeAt(l+1);(m&64512)==56320&&(y=65536+(y-55296<<10)+(m-56320),l++)}h+=128>y?1:2048>y?2:65536>y?3:4}var C=new Uint8Array(h);for(l=a=0;a<h;l++)y=n.charCodeAt(l),(y&64512)==55296&&l+1<f&&(m=n.charCodeAt(l+1),(m&64512)==56320&&(y=65536+(y-55296<<10)+(m-56320),l++)),128>y?C[a++]=y:(2048>y?C[a++]=192|y>>>6:(65536>y?C[a++]=224|y>>>12:(C[a++]=240|y>>>18,C[a++]=128|y>>>12&63),C[a++]=128|y>>>6&63),C[a++]=128|y&63);return C},buf2string:function(n,l){var a,f,h=l||n.length;for(l=Array(2*h),a=f=0;a<h;){var y=n[a++];if(128>y)l[f++]=y;else{var m=pd[y];if(4<m)l[f++]=65533,a+=m-1;else{for(y&=m===2?31:m===3?15:7;1<m&&a<h;)y=y<<6|n[a++]&63,m--;1<m?l[f++]=65533:65536>y?l[f++]=y:(y-=65536,l[f++]=55296|y>>10&1023,l[f++]=56320|y&1023)}}}if(n=f,65534>n&&l.subarray&&Es)l=String.fromCharCode.apply(null,l.length===n?l:l.subarray(0,n));else{for(a="",f=0;f<n;f++)a+=String.fromCharCode(l[f]);l=a}return l},utf8border:function(n,l){l=l||n.length,l>n.length&&(l=n.length);for(var a=l-1;0<=a&&(n[a]&192)==128;)a--;return 0>a||a===0?l:a+pd[n[a]]>l?a:l}},qp=function(){this.input=null,this.total_in=this.avail_in=this.next_in=0,this.output=null,this.total_out=this.avail_out=this.next_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Fp=Object.prototype.toString,$a=_i.Z_NO_FLUSH,ov=_i.Z_SYNC_FLUSH,vm=_i.Z_FULL_FLUSH,jm=_i.Z_FINISH,$p=_i.Z_OK,mg=_i.Z_STREAM_END,av=_i.Z_DEFAULT_COMPRESSION,dh=_i.Z_DEFAULT_STRATEGY,sv=_i.Z_DEFLATED;rn.prototype.push=function(d,n){var l=this.strm,a=this.options.chunkSize;if(this.ended)return!1;for(n=n===~~n?n:n===!0?jm:$a,typeof d=="string"?l.input=md.string2buf(d):Fp.call(d)==="[object ArrayBuffer]"?l.input=new Uint8Array(d):l.input=d,l.next_in=0,l.avail_in=l.input.length;;)if(l.avail_out===0&&(l.output=new Uint8Array(a),l.next_out=0,l.avail_out=a),(n===ov||n===vm)&&6>=l.avail_out)this.onData(l.output.subarray(0,l.next_out)),l.avail_out=0;else{if(d=Gh.deflate(l,n),d===mg)return 0<l.next_out&&this.onData(l.output.subarray(0,l.next_out)),d=Gh.deflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===$p;if(l.avail_out===0)this.onData(l.output);else if(0<n&&0<l.next_out)this.onData(l.output.subarray(0,l.next_out)),l.avail_out=0;else if(l.avail_in===0)break}return!0},rn.prototype.onData=function(d){this.chunks.push(d)},rn.prototype.onEnd=function(d){d===$p&&(this.result=Qp.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg};var Bp=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),zm=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),vg=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),lv=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Cf=function(n,l,a,f,h,y,m,C){var P=C.bits,B,M,T,L,z,H,Z=0,J=new Uint16Array(16),V=new Uint16Array(16),ne,Ce=0;for(B=0;15>=B;B++)J[B]=0;for(M=0;M<f;M++)J[l[a+M]]++;var _e=P;for(T=15;1<=T&&J[T]===0;T--);if(_e>T&&(_e=T),T===0)return h[y++]=20971520,h[y++]=20971520,C.bits=1,0;for(P=1;P<T&&J[P]===0;P++);for(_e<P&&(_e=P),B=L=1;15>=B;B++)if(L<<=1,L-=J[B],0>L)return-1;if(0<L&&(n===0||T!==1))return-1;for(V[1]=0,B=1;15>B;B++)V[B+1]=V[B]+J[B];for(M=0;M<f;M++)l[a+M]!==0&&(m[V[l[a+M]]++]=M);if(n===0)var Fe=ne=m,Ue=19;else n===1?(Fe=Bp,Z-=257,ne=zm,Ce-=257,Ue=256):(Fe=vg,ne=lv,Ue=-1);M=z=0,B=P;var tt=y;f=_e,V=0;var He=-1,kt=1<<_e,Wt=kt-1;if(n===1&&852<kt||n===2&&592<kt)return 1;for(;;){var Dr=B-V;if(m[M]<Ue)var qr=0,br=m[M];else m[M]>Ue?(qr=ne[Ce+m[M]],br=Fe[Z+m[M]]):(qr=96,br=0);L=1<<B-V,P=H=1<<f;do H-=L,h[tt+(z>>V)+H]=Dr<<24|qr<<16|br|0;while(H!==0);for(L=1<<B-1;z&L;)L>>=1;if(L!==0?(z&=L-1,z+=L):z=0,M++,--J[B]==0){if(B===T)break;B=l[a+m[M]]}if(B>_e&&(z&Wt)!==He){for(V===0&&(V=_e),tt+=P,f=B-V,L=1<<f;f+V<T&&(L-=J[f+V],!(0>=L));)f++,L<<=1;if(kt+=1<<f,n===1&&852<kt||n===2&&592<kt)return 1;He=z&Wt,h[He]=_e<<24|f<<16|tt-y|0}}return z!==0&&(h[tt+z]=B-V<<24|4194304),C.bits=_e,0},Df=_i.Z_FINISH,af=_i.Z_BLOCK,em=_i.Z_TREES,rp=_i.Z_OK,tm=_i.Z_STREAM_END,gm=_i.Z_NEED_DICT,ph=_i.Z_STREAM_ERROR,jp=_i.Z_DATA_ERROR,uv=_i.Z_MEM_ERROR,Ep=_i.Z_BUF_ERROR,ym=_i.Z_DEFLATED,Nd=function(n){return(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24)},Nv=function(n){if(!n||!n.state)return ph;var l=n.state;return n.total_in=n.total_out=l.total=0,n.msg="",l.wrap&&(n.adler=l.wrap&1),l.mode=1,l.last=0,l.havedict=0,l.dmax=32768,l.head=null,l.hold=0,l.bits=0,l.lencode=l.lendyn=new Int32Array(852),l.distcode=l.distdyn=new Int32Array(592),l.sane=1,l.back=-1,rp},Um=function(n){if(!n||!n.state)return ph;var l=n.state;return l.wsize=0,l.whave=0,l.wnext=0,Nv(n)},cv=function(n,l){if(!n||!n.state)return ph;var a=n.state;if(0>l){var f=0;l=-l}else f=(l>>4)+1,48>l&&(l&=15);return l&&(8>l||15<l)?ph:(a.window!==null&&a.wbits!==l&&(a.window=null),a.wrap=f,a.wbits=l,Um(n))},xm=function(n,l){if(!n)return ph;var a=new _r;return n.state=a,a.window=null,l=cv(n,l),l!==rp&&(n.state=null),l},km=!0,fv=void 0,hv=void 0,Hm=function(n,l,a,f){var h=n.state;return h.window===null&&(h.wsize=1<<h.wbits,h.wnext=0,h.whave=0,h.window=new Uint8Array(h.wsize)),f>=h.wsize?(h.window.set(l.subarray(a-h.wsize,a),0),h.wnext=0,h.whave=h.wsize):(n=h.wsize-h.wnext,n>f&&(n=f),h.window.set(l.subarray(a-f,a-f+n),h.wnext),(f-=n)?(h.window.set(l.subarray(a-f,a),0),h.wnext=f,h.whave=h.wsize):(h.wnext+=n,h.wnext===h.wsize&&(h.wnext=0),h.whave<h.wsize&&(h.whave+=n))),0},vd={inflateReset:Um,inflateReset2:cv,inflateResetKeep:Nv,inflateInit:function(n){return xm(n,15)},inflateInit2:xm,inflate:function(n,l){var a=new Uint8Array(4),f=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!n||!n.state||!n.output||!n.input&&n.avail_in!==0)return ph;var h=n.state;h.mode===12&&(h.mode=13);var y=n.next_out,m=n.output,C=n.avail_out,P=n.next_in,B=n.input,M=n.avail_in,T=h.hold,L=h.bits,z=M,H=C,Z=rp;e:for(;;)switch(h.mode){case 1:if(h.wrap===0){h.mode=13;break}for(;16>L;){if(M===0)break e;M--,T+=B[P++]<<L,L+=8}if(h.wrap&2&&T===35615){h.check=0,a[0]=T&255,a[1]=T>>>8&255,h.check=Zi(h.check,a,2,0),L=T=0,h.mode=2;break}if(h.flags=0,h.head&&(h.head.done=!1),!(h.wrap&1)||(((T&255)<<8)+(T>>8))%31){n.msg="incorrect header check",h.mode=30;break}if((T&15)!==ym){n.msg="unknown compression method",h.mode=30;break}T>>>=4,L-=4;var J=(T&15)+8;if(h.wbits===0)h.wbits=J;else if(J>h.wbits){n.msg="invalid window size",h.mode=30;break}h.dmax=1<<h.wbits,n.adler=h.check=1,h.mode=T&512?10:12,L=T=0;break;case 2:for(;16>L;){if(M===0)break e;M--,T+=B[P++]<<L,L+=8}if(h.flags=T,(h.flags&255)!==ym){n.msg="unknown compression method",h.mode=30;break}if(h.flags&57344){n.msg="unknown header flags set",h.mode=30;break}h.head&&(h.head.text=T>>8&1),h.flags&512&&(a[0]=T&255,a[1]=T>>>8&255,h.check=Zi(h.check,a,2,0)),L=T=0,h.mode=3;case 3:for(;32>L;){if(M===0)break e;M--,T+=B[P++]<<L,L+=8}h.head&&(h.head.time=T),h.flags&512&&(a[0]=T&255,a[1]=T>>>8&255,a[2]=T>>>16&255,a[3]=T>>>24&255,h.check=Zi(h.check,a,4,0)),L=T=0,h.mode=4;case 4:for(;16>L;){if(M===0)break e;M--,T+=B[P++]<<L,L+=8}h.head&&(h.head.xflags=T&255,h.head.os=T>>8),h.flags&512&&(a[0]=T&255,a[1]=T>>>8&255,h.check=Zi(h.check,a,2,0)),L=T=0,h.mode=5;case 5:if(h.flags&1024){for(;16>L;){if(M===0)break e;M--,T+=B[P++]<<L,L+=8}h.length=T,h.head&&(h.head.extra_len=T),h.flags&512&&(a[0]=T&255,a[1]=T>>>8&255,h.check=Zi(h.check,a,2,0)),L=T=0}else h.head&&(h.head.extra=null);h.mode=6;case 6:if(h.flags&1024){var V=h.length;if(V>M&&(V=M),V&&(h.head&&(J=h.head.extra_len-h.length,h.head.extra||(h.head.extra=new Uint8Array(h.head.extra_len)),h.head.extra.set(B.subarray(P,P+V),J)),h.flags&512&&(h.check=Zi(h.check,B,V,P)),M-=V,P+=V,h.length-=V),h.length)break e}h.length=0,h.mode=7;case 7:if(h.flags&2048){if(M===0)break e;V=0;do J=B[P+V++],h.head&&J&&65536>h.length&&(h.head.name+=String.fromCharCode(J));while(J&&V<M);if(h.flags&512&&(h.check=Zi(h.check,B,V,P)),M-=V,P+=V,J)break e}else h.head&&(h.head.name=null);h.length=0,h.mode=8;case 8:if(h.flags&4096){if(M===0)break e;V=0;do J=B[P+V++],h.head&&J&&65536>h.length&&(h.head.comment+=String.fromCharCode(J));while(J&&V<M);if(h.flags&512&&(h.check=Zi(h.check,B,V,P)),M-=V,P+=V,J)break e}else h.head&&(h.head.comment=null);h.mode=9;case 9:if(h.flags&512){for(;16>L;){if(M===0)break e;M--,T+=B[P++]<<L,L+=8}if(T!==(h.check&65535)){n.msg="header crc mismatch",h.mode=30;break}L=T=0}h.head&&(h.head.hcrc=h.flags>>9&1,h.head.done=!0),n.adler=h.check=0,h.mode=12;break;case 10:for(;32>L;){if(M===0)break e;M--,T+=B[P++]<<L,L+=8}n.adler=h.check=Nd(T),L=T=0,h.mode=11;case 11:if(h.havedict===0)return n.next_out=y,n.avail_out=C,n.next_in=P,n.avail_in=M,h.hold=T,h.bits=L,gm;n.adler=h.check=1,h.mode=12;case 12:if(l===af||l===em)break e;case 13:if(h.last){T>>>=L&7,L-=L&7,h.mode=27;break}for(;3>L;){if(M===0)break e;M--,T+=B[P++]<<L,L+=8}switch(h.last=T&1,T>>>=1,--L,T&3){case 0:h.mode=14;break;case 1:if(V=h,km){for(fv=new Int32Array(512),hv=new Int32Array(32),J=0;144>J;)V.lens[J++]=8;for(;256>J;)V.lens[J++]=9;for(;280>J;)V.lens[J++]=7;for(;288>J;)V.lens[J++]=8;for(Cf(1,V.lens,0,288,fv,0,V.work,{bits:9}),J=0;32>J;)V.lens[J++]=5;Cf(2,V.lens,0,32,hv,0,V.work,{bits:5}),km=!1}if(V.lencode=fv,V.lenbits=9,V.distcode=hv,V.distbits=5,h.mode=20,l===em){T>>>=2,L-=2;break e}break;case 2:h.mode=17;break;case 3:n.msg="invalid block type",h.mode=30}T>>>=2,L-=2;break;case 14:for(T>>>=L&7,L-=L&7;32>L;){if(M===0)break e;M--,T+=B[P++]<<L,L+=8}if((T&65535)!=(T>>>16^65535)){n.msg="invalid stored block lengths",h.mode=30;break}if(h.length=T&65535,L=T=0,h.mode=15,l===em)break e;case 15:h.mode=16;case 16:if(V=h.length){if(V>M&&(V=M),V>C&&(V=C),V===0)break e;m.set(B.subarray(P,P+V),y),M-=V,P+=V,C-=V,y+=V,h.length-=V;break}h.mode=12;break;case 17:for(;14>L;){if(M===0)break e;M--,T+=B[P++]<<L,L+=8}if(h.nlen=(T&31)+257,T>>>=5,L-=5,h.ndist=(T&31)+1,T>>>=5,L-=5,h.ncode=(T&15)+4,T>>>=4,L-=4,286<h.nlen||30<h.ndist){n.msg="too many length or distance symbols",h.mode=30;break}h.have=0,h.mode=18;case 18:for(;h.have<h.ncode;){for(;3>L;){if(M===0)break e;M--,T+=B[P++]<<L,L+=8}h.lens[f[h.have++]]=T&7,T>>>=3,L-=3}for(;19>h.have;)h.lens[f[h.have++]]=0;if(h.lencode=h.lendyn,h.lenbits=7,V={bits:h.lenbits},Z=Cf(0,h.lens,0,19,h.lencode,0,h.work,V),h.lenbits=V.bits,Z){n.msg="invalid code lengths set",h.mode=30;break}h.have=0,h.mode=19;case 19:for(;h.have<h.nlen+h.ndist;){for(;;){var ne=h.lencode[T&(1<<h.lenbits)-1];if(V=ne>>>24,ne&=65535,V<=L)break;if(M===0)break e;M--,T+=B[P++]<<L,L+=8}if(16>ne)T>>>=V,L-=V,h.lens[h.have++]=ne;else{if(ne===16){for(J=V+2;L<J;){if(M===0)break e;M--,T+=B[P++]<<L,L+=8}if(T>>>=V,L-=V,h.have===0){n.msg="invalid bit length repeat",h.mode=30;break}J=h.lens[h.have-1],V=3+(T&3),T>>>=2,L-=2}else if(ne===17){for(J=V+3;L<J;){if(M===0)break e;M--,T+=B[P++]<<L,L+=8}T>>>=V,L-=V,J=0,V=3+(T&7),T>>>=3,L-=3}else{for(J=V+7;L<J;){if(M===0)break e;M--,T+=B[P++]<<L,L+=8}T>>>=V,L-=V,J=0,V=11+(T&127),T>>>=7,L-=7}if(h.have+V>h.nlen+h.ndist){n.msg="invalid bit length repeat",h.mode=30;break}for(;V--;)h.lens[h.have++]=J}}if(h.mode===30)break;if(h.lens[256]===0){n.msg="invalid code -- missing end-of-block",h.mode=30;break}if(h.lenbits=9,V={bits:h.lenbits},Z=Cf(1,h.lens,0,h.nlen,h.lencode,0,h.work,V),h.lenbits=V.bits,Z){n.msg="invalid literal/lengths set",h.mode=30;break}if(h.distbits=6,h.distcode=h.distdyn,V={bits:h.distbits},Z=Cf(2,h.lens,h.nlen,h.ndist,h.distcode,0,h.work,V),h.distbits=V.bits,Z){n.msg="invalid distances set",h.mode=30;break}if(h.mode=20,l===em)break e;case 20:h.mode=21;case 21:if(6<=M&&258<=C){n.next_out=y,n.avail_out=C,n.next_in=P,n.avail_in=M,h.hold=T,h.bits=L,B=n;var Ce=B.state;m=B.next_in;var _e=B.input;P=m+(B.avail_in-5),y=B.next_out;var Fe=B.output;M=y-(H-B.avail_out),C=y+(B.avail_out-257),T=Ce.dmax,L=Ce.wsize,V=Ce.whave,J=Ce.wnext;var Ue=Ce.window,tt=Ce.hold,He=Ce.bits;ne=Ce.lencode;var kt=Ce.distcode,Wt=(1<<Ce.lenbits)-1,Dr=(1<<Ce.distbits)-1;t:do{15>He&&(tt+=_e[m++]<<He,He+=8,tt+=_e[m++]<<He,He+=8);var qr=ne[tt&Wt];r:for(;;){var br=qr>>>24;if(tt>>>=br,He-=br,br=qr>>>16&255,br===0)Fe[y++]=qr&65535;else if(br&16){var On=qr&65535;(br&=15)&&(He<br&&(tt+=_e[m++]<<He,He+=8),On+=tt&(1<<br)-1,tt>>>=br,He-=br),15>He&&(tt+=_e[m++]<<He,He+=8,tt+=_e[m++]<<He,He+=8),qr=kt[tt&Dr];n:for(;;){if(br=qr>>>24,tt>>>=br,He-=br,br=qr>>>16&255,br&16){if(qr&=65535,br&=15,He<br&&(tt+=_e[m++]<<He,He+=8,He<br&&(tt+=_e[m++]<<He,He+=8)),qr+=tt&(1<<br)-1,qr>T){B.msg="invalid distance too far back",Ce.mode=30;break t}if(tt>>>=br,He-=br,br=y-M,qr>br){if(br=qr-br,br>V&&Ce.sane){B.msg="invalid distance too far back",Ce.mode=30;break t}var Lt=0,xr=Ue;if(J===0){if(Lt+=L-br,br<On){On-=br;do Fe[y++]=Ue[Lt++];while(--br);Lt=y-qr,xr=Fe}}else if(J<br){if(Lt+=L+J-br,br-=J,br<On){On-=br;do Fe[y++]=Ue[Lt++];while(--br);if(Lt=0,J<On){br=J,On-=br;do Fe[y++]=Ue[Lt++];while(--br);Lt=y-qr,xr=Fe}}}else if(Lt+=J-br,br<On){On-=br;do Fe[y++]=Ue[Lt++];while(--br);Lt=y-qr,xr=Fe}for(;2<On;)Fe[y++]=xr[Lt++],Fe[y++]=xr[Lt++],Fe[y++]=xr[Lt++],On-=3;On&&(Fe[y++]=xr[Lt++],1<On&&(Fe[y++]=xr[Lt++]))}else{Lt=y-qr;do Fe[y++]=Fe[Lt++],Fe[y++]=Fe[Lt++],Fe[y++]=Fe[Lt++],On-=3;while(2<On);On&&(Fe[y++]=Fe[Lt++],1<On&&(Fe[y++]=Fe[Lt++]))}}else if((br&64)==0){qr=kt[(qr&65535)+(tt&(1<<br)-1)];continue n}else{B.msg="invalid distance code",Ce.mode=30;break t}break}}else if((br&64)==0){qr=ne[(qr&65535)+(tt&(1<<br)-1)];continue r}else{br&32?Ce.mode=12:(B.msg="invalid literal/length code",Ce.mode=30);break t}break}}while(m<P&&y<C);On=He>>3,m-=On,He-=On<<3,B.next_in=m,B.next_out=y,B.avail_in=m<P?5+(P-m):5-(m-P),B.avail_out=y<C?257+(C-y):257-(y-C),Ce.hold=tt&(1<<He)-1,Ce.bits=He,y=n.next_out,m=n.output,C=n.avail_out,P=n.next_in,B=n.input,M=n.avail_in,T=h.hold,L=h.bits,h.mode===12&&(h.back=-1);break}for(h.back=0;ne=h.lencode[T&(1<<h.lenbits)-1],V=ne>>>24,J=ne>>>16&255,ne&=65535,!(V<=L);){if(M===0)break e;M--,T+=B[P++]<<L,L+=8}if(J&&(J&240)==0){for(Ue=V,tt=J,He=ne;ne=h.lencode[He+((T&(1<<Ue+tt)-1)>>Ue)],V=ne>>>24,J=ne>>>16&255,ne&=65535,!(Ue+V<=L);){if(M===0)break e;M--,T+=B[P++]<<L,L+=8}T>>>=Ue,L-=Ue,h.back+=Ue}if(T>>>=V,L-=V,h.back+=V,h.length=ne,J===0){h.mode=26;break}if(J&32){h.back=-1,h.mode=12;break}if(J&64){n.msg="invalid literal/length code",h.mode=30;break}h.extra=J&15,h.mode=22;case 22:if(h.extra){for(J=h.extra;L<J;){if(M===0)break e;M--,T+=B[P++]<<L,L+=8}h.length+=T&(1<<h.extra)-1,T>>>=h.extra,L-=h.extra,h.back+=h.extra}h.was=h.length,h.mode=23;case 23:for(;ne=h.distcode[T&(1<<h.distbits)-1],V=ne>>>24,J=ne>>>16&255,ne&=65535,!(V<=L);){if(M===0)break e;M--,T+=B[P++]<<L,L+=8}if((J&240)==0){for(Ue=V,tt=J,He=ne;ne=h.distcode[He+((T&(1<<Ue+tt)-1)>>Ue)],V=ne>>>24,J=ne>>>16&255,ne&=65535,!(Ue+V<=L);){if(M===0)break e;M--,T+=B[P++]<<L,L+=8}T>>>=Ue,L-=Ue,h.back+=Ue}if(T>>>=V,L-=V,h.back+=V,J&64){n.msg="invalid distance code",h.mode=30;break}h.offset=ne,h.extra=J&15,h.mode=24;case 24:if(h.extra){for(J=h.extra;L<J;){if(M===0)break e;M--,T+=B[P++]<<L,L+=8}h.offset+=T&(1<<h.extra)-1,T>>>=h.extra,L-=h.extra,h.back+=h.extra}if(h.offset>h.dmax){n.msg="invalid distance too far back",h.mode=30;break}h.mode=25;case 25:if(C===0)break e;if(V=H-C,h.offset>V){if(V=h.offset-V,V>h.whave&&h.sane){n.msg="invalid distance too far back",h.mode=30;break}V>h.wnext?(V-=h.wnext,J=h.wsize-V):J=h.wnext-V,V>h.length&&(V=h.length),Ue=h.window}else Ue=m,J=y-h.offset,V=h.length;V>C&&(V=C),C-=V,h.length-=V;do m[y++]=Ue[J++];while(--V);h.length===0&&(h.mode=21);break;case 26:if(C===0)break e;m[y++]=h.length,C--,h.mode=21;break;case 27:if(h.wrap){for(;32>L;){if(M===0)break e;M--,T|=B[P++]<<L,L+=8}if(H-=C,n.total_out+=H,h.total+=H,H&&(n.adler=h.check=h.flags?Zi(h.check,m,H,y-H):To(h.check,m,H,y-H)),H=C,(h.flags?T:Nd(T))!==h.check){n.msg="incorrect data check",h.mode=30;break}L=T=0}h.mode=28;case 28:if(h.wrap&&h.flags){for(;32>L;){if(M===0)break e;M--,T+=B[P++]<<L,L+=8}if(T!==(h.total&4294967295)){n.msg="incorrect length check",h.mode=30;break}L=T=0}h.mode=29;case 29:Z=tm;break e;case 30:Z=jp;break e;case 31:return uv;default:return ph}return n.next_out=y,n.avail_out=C,n.next_in=P,n.avail_in=M,h.hold=T,h.bits=L,(h.wsize||H!==n.avail_out&&30>h.mode&&(27>h.mode||l!==Df))&&Hm(n,n.output,n.next_out,H-n.avail_out),z-=n.avail_in,H-=n.avail_out,n.total_in+=z,n.total_out+=H,h.total+=H,h.wrap&&H&&(n.adler=h.check=h.flags?Zi(h.check,m,H,n.next_out-H):To(h.check,m,H,n.next_out-H)),n.data_type=h.bits+(h.last?64:0)+(h.mode===12?128:0)+(h.mode===20||h.mode===15?256:0),(z===0&&H===0||l===Df)&&Z===rp&&(Z=Ep),Z},inflateEnd:function(n){if(!n||!n.state)return ph;var l=n.state;return l.window&&(l.window=null),n.state=null,rp},inflateGetHeader:function(n,l){return!n||!n.state||(n=n.state,(n.wrap&2)==0)?ph:(n.head=l,l.done=!1,rp)},inflateSetDictionary:function(n,l){var a=l.length;if(!n||!n.state)return ph;var f=n.state;if(f.wrap!==0&&f.mode!==11)return ph;if(f.mode===11){var h=To(1,l,a,0);if(h!==f.check)return jp}return Hm(n,l,a,a)?(f.mode=31,uv):(f.havedict=1,rp)},inflateInfo:"pako inflate (from Nodeca project)"},rm=function(){this.os=this.xflags=this.time=this.text=0,this.extra=null,this.extra_len=0,this.comment=this.name="",this.hcrc=0,this.done=!1},nm=Object.prototype.toString,mh=_i.Z_NO_FLUSH,np=_i.Z_FINISH,Vm=_i.Z_OK,Fv=_i.Z_STREAM_END,fp=_i.Z_NEED_DICT,zp=_i.Z_STREAM_ERROR,Fd=_i.Z_DATA_ERROR,dv=_i.Z_MEM_ERROR;Wr.prototype.push=function(d,n){var l=this.strm,a=this.options.chunkSize,f=this.options.dictionary;if(this.ended)return!1;var h=n===~~n?n:n===!0?np:mh;for(nm.call(d)==="[object ArrayBuffer]"?l.input=new Uint8Array(d):l.input=d,l.next_in=0,l.avail_in=l.input.length;;){for(l.avail_out===0&&(l.output=new Uint8Array(a),l.next_out=0,l.avail_out=a),n=vd.inflate(l,h),n===fp&&f&&(n=vd.inflateSetDictionary(l,f),n===Vm?n=vd.inflate(l,h):n===Fd&&(n=fp));0<l.avail_in&&n===Fv&&0<l.state.wrap&&d[l.next_in]!==0;)vd.inflateReset(l),n=vd.inflate(l,h);switch(n){case zp:case Fd:case fp:case dv:return this.onEnd(n),this.ended=!0,!1}var y=l.avail_out;if(l.next_out&&(l.avail_out===0||n===Fv))if(this.options.to==="string"){var m=md.utf8border(l.output,l.next_out),C=l.next_out-m,P=md.buf2string(l.output,m);l.next_out=C,l.avail_out=a-C,C&&l.output.set(l.output.subarray(m,m+C),0),this.onData(P)}else this.onData(l.output.length===l.next_out?l.output:l.output.subarray(0,l.next_out));if(n!==Vm||y!==0){if(n===Fv){n=vd.inflateEnd(this.strm),this.onEnd(n),this.ended=!0;break}if(l.avail_in===0)break}}return!0},Wr.prototype.onData=function(d){this.chunks.push(d)},Wr.prototype.onEnd=function(d){d===Vm&&(this.result=this.options.to==="string"?this.chunks.join(""):Qp.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg};var im={Deflate:rn,deflate:fr,deflateRaw:function(n,l){return l=l||{},l.raw=!0,fr(n,l)},gzip:function(n,l){return l=l||{},l.gzip=!0,fr(n,l)},Inflate:Wr,inflate:dt,inflateRaw:function(n,l){return l=l||{},l.raw=!0,dt(n,l)},ungzip:dt,constants:_i},Cm=function(){function d(n){di(this,d),this._visible=!0,this.options=this.getCommonDefaultOptions(),this.options=us(this.options,this.getDefaultOptions()),this.autoUpdate=!1,this.options=us(this.options,n),this.options.data&&(this.data=this.options.data,delete this.options.data)}return nn(d,[{key:"getCommonDefaultOptions",value:function(){return{}}},{key:"getDefaultOptions",value:function(){return{}}},{key:"initialize",value:function(l){}},{key:"destroy",value:function(){this.onDestroy&&this.onDestroy()}},{key:"show",value:function(){this._visible=!0}},{key:"hide",value:function(){this._visible=!1}},{key:"render",value:function(){}},{key:"setData",value:function(l,a){a=a||{},this.data=l,this.onDataChanged&&this.onDataChanged(this.getData()),this.onChanged&&this.onChanged(this.getOptions(),this.getData(),a),a.autoRender!==!1&&this.webglLayer&&this.webglLayer.render()}},{key:"getData",value:function(){return this.data||[]}},{key:"setOptions",value:function(l){l=l||{};var a=us({},this.getOptions());us(this.options,l),this.onOptionsChanged&&this.onOptionsChanged(this.getOptions(),a),this.onChanged&&this.onChanged(this.getOptions(),this.getData()),l.data?(this.setData(l.data),delete l.data):this.webglLayer&&this.webglLayer.render()}},{key:"getOptions",value:function(){return this.options||{}}},{key:"onOptionsChanged",value:function(l,a){}},{key:"onDataChanged",value:function(l){}},{key:"onChanged",value:function(l,a){}},{key:"onDestroy",value:function(){}},{key:"lnglatToMercator",value:function(l,a){}},{key:"setWebglLayer",value:function(l){this.webglLayer=l}},{key:"getWebglLayer",value:function(){return this.webglLayer}},{key:"isRequestAnimation",value:function(){return this.autoUpdate}}]),d}(),es=function(){function d(n,l,a){di(this,d),this.options=l,this.gl=n,a&&(this.map=a.map),a=this.getVertexShader(l.vertexShader);var f=this.getFragmentShader(l.fragmentShader);l=n.createShader(n.VERTEX_SHADER),n.shaderSource(l,a),n.compileShader(l),n.getShaderParameter(l,n.COMPILE_STATUS)?(a=n.createShader(n.FRAGMENT_SHADER),n.shaderSource(a,f),n.compileShader(a),n.getShaderParameter(a,n.COMPILE_STATUS)?(f=n.createProgram(),n.attachShader(f,l),n.attachShader(f,a),n.deleteShader(l),n.deleteShader(a),n.linkProgram(f),n.getProgramParameter(f,n.LINK_STATUS)?l=f:(l="Shader program failed to link.  The error log is:"+n.getProgramInfoLog(f),console.error(l),l=-1)):(l="Fragment shader failed to compile.  The error log is:"+n.getShaderInfoLog(a),console.error(l),l=-1)):(l="Vertex shader failed to compile.  The error log is:"+n.getShaderInfoLog(l),console.error(l),l=-1),l=this.program=l,a={},f=n.getProgramParameter(l,n.ACTIVE_ATTRIBUTES);for(var h=0;h<f;h++){var y=n.getActiveAttrib(l,h);a[y.name]=n.getAttribLocation(l,y.name)}h={},y={};for(var m=n.getProgramParameter(l,n.ACTIVE_UNIFORMS),C=0;C<m;C++){var P=n.getActiveUniform(l,C);h[P.name]=n.getUniformLocation(l,P.name),y[P.name]=P.type}this.parameter=n={attributes:a,numAttributes:f,uniformsType:y,uniforms:h},this.attributes=n.attributes,this.uniforms=n.uniforms,this.parameter=n}return nn(d,[{key:"getVertexShader",value:function(l){var a="";return this.map&&this.map.type==="cesium"&&(a=`#define LOG_DEPTH
`),a+=`#ifdef LOG_DEPTH
uniform float currentFrustumX;varying float v_depthFromNearPlusOne;
#endif
uniform vec2 MAPV_resolution;
#if defined(PICK)
uniform bool uIsPickRender;attribute vec3 aPickColor;uniform vec3 uPickedColor;varying vec4 vPickColor;uniform bool uEnablePicked;bool mapvIsPicked(){return uEnablePicked&&aPickColor==uPickedColor;}
#endif
void afterMain(){
#if defined(LOG_DEPTH)
v_depthFromNearPlusOne=(gl_Position.w-currentFrustumX)+1.0;gl_Position.z=clamp(gl_Position.z/gl_Position.w,-1.0,1.0)*gl_Position.w;
#endif
#if defined(PICK)
vPickColor=vec4(aPickColor,0.0);if(mapvIsPicked()){vPickColor.a=1.0;}
#endif
}`,l=this.getDefines()+a+l,l=l.replace("void main","void originMain"),l+"void main() {originMain(); afterMain();}"}},{key:"getFragmentShader",value:function(l){var a="";return this.map&&this.map.type==="cesium"&&(a=`#define LOG_DEPTH
`),a+=`#if defined(LOG_DEPTH)
#extension GL_EXT_frag_depth : enable
#endif
precision highp float;uniform vec2 MAPV_resolution;uniform bool uIsPickRender;
#if defined(PICK)
varying vec4 vPickColor;bool mapvIsPicked(){return vPickColor.a==1.0;}
#endif
#if defined(LOG_DEPTH)
uniform float oneOverLog2FarDepthFromNearPlusOne;uniform float farDepthFromNearPlusOne;varying float v_depthFromNearPlusOne;void writeLogDepth(float depth){if(depth<=0.9999999||depth>farDepthFromNearPlusOne){discard;}gl_FragDepthEXT=log2(depth)*oneOverLog2FarDepthFromNearPlusOne;}
#endif
void afterMain(){
#if defined(PICK)
if(uIsPickRender){gl_FragColor=vec4(vPickColor.rgb,1.0);return;}
#endif
#if defined(LOG_DEPTH)
writeLogDepth(v_depthFromNearPlusOne);
#endif
}`,l=this.getDefines()+a+l,l=l.replace("void main","void originMain"),l+"void main() {originMain(); afterMain();}"}},{key:"getDefines",value:function(){var l="",a=this.options.defines;if(a)for(var f=0;f<a.length;f++)l+="#define "+a[f]+`
`;return l}},{key:"use",value:function(l,a){this.gl=l,l.useProgram(this.program),this.map&&this.map.type==="cesium"&&this.setUniforms({currentFrustumX:this.map.map.scene.camera.frustum.near,oneOverLog2FarDepthFromNearPlusOne:this.map.map.scene.context.uniformState.oneOverLog2FarDepthFromNearPlusOne,farDepthFromNearPlusOne:this.map.map.scene.context.uniformState.farDepthFromNearPlusOne}),this.uniforms.MAPV_resolution&&this.setUniforms({MAPV_resolution:[l.canvas.width,l.canvas.height]})}},{key:"setUniform",value:function(l,a){var f=this.gl,h=this.uniforms[l];if(h)switch(this.parameter.uniformsType[l]){case f.FLOAT:f.uniform1f(h,a);break;case f.FLOAT_VEC2:f.uniform2f(h,a[0],a[1]);break;case f.FLOAT_VEC3:f.uniform3f(h,a[0],a[1],a[2]);break;case f.FLOAT_VEC4:f.uniform4f(h,a[0],a[1],a[2],a[3]);break;case f.SAMPLER_2D:case f.SAMPLER_CUBE:f.activeTexture(f["TEXTURE"+this.textureIndex]),f.uniform1i(h,this.textureIndex),f.bindTexture(f.TEXTURE_2D,a),this.textureIndex++;break;case f.INT:case f.BOOL:f.uniform1i(h,a);break;case f.INT_VEC2:case f.BOOL_VEC2:f.uniform2i(h,a[0],a[1]);break;case f.INT_VEC3:case f.BOOL_VEC3:f.uniform3i(h,a[0],a[1],a[2]);break;case f.INT_VEC4:case f.BOOL_VEC4:f.uniform4i(h,a[0],a[1],a[2],a[3]);break;case f.FLOAT_MAT2:f.uniformMatrix2fv(h,!1,a);break;case f.FLOAT_MAT3:f.uniformMatrix3fv(h,!1,a);break;case f.FLOAT_MAT4:f.uniformMatrix4fv(h,!1,a);break;default:console.error("Unrecognized uniform type: "+l)}else console.warn("Unrecognized uniform type: "+l)}},{key:"setUniforms",value:function(l){this.textureIndex=0;for(var a in l)this.setUniform(a,l[a])}}]),d}(),om=function(){function d(n){di(this,d),this.options=n,this.gl=n.gl,this.savedState=[],this.currentState=this.getCurrentState()}return nn(d,[{key:"setDefaultState",value:function(){this.setState()}},{key:"getDefaultState",value:function(){return{blend:!1,depthTest:!1,cullFace:!1,depthMask:!0,stencilTest:!1}}},{key:"getCurrentState",value:function(){var l=this.gl;return{blend:l.getParameter(l.BLEND),stencilTest:l.getParameter(l.STENCIL_TEST),depthTest:l.getParameter(l.DEPTH_TEST),cullFace:l.getParameter(l.CULL_FACE),depthMask:l.getParameter(l.DEPTH_WRITEMASK)}}},{key:"save",value:function(){this.savedState.push(this.getCurrentState())}},{key:"restore",value:function(){var l=this.savedState.pop();this.setState(l)}},{key:"setState",value:function(l){var a=this.gl,f=this.getCurrentState();l=us(this.getDefaultState(),l),l.blend!==f.blend&&(l.blend?a.enable(a.BLEND):a.disable(a.BLEND)),l.depthTest!==f.depthTest&&(l.depthTest?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)),l.cullFace!==f.cullFace&&(l.cullFace?a.enable(a.CULL_FACE):a.disable(a.CULL_FACE)),l.depthMask!==f.depthMask&&(l.depthMask?a.depthMask(!0):a.depthMask(!1)),this.currentState=l}}]),d}(),Jo=function(){function d(n){di(this,d),this.options=n,this.gl=n.gl,this.buffer=this.gl.createBuffer(),n.data&&this.updateData(n.data)}return nn(d,[{key:"updateData",value:function(l){var a=this.options,f=this.gl;this.bind(),f.bufferData(f[a.target],l,f[a.usage])}},{key:"bind",value:function(l){l=l||this.gl,l.bindBuffer(l[this.options.target],this.buffer)}},{key:"unBind",value:function(l){l=l||this.gl,l.bindBuffer(l[this.options.target],null)}},{key:"destroy",value:function(){this.buffer=null}}]),d}(),Am={BYTE:1,UNSIGNED_BYTE:1,SHORT:2,UNSIGNED_SHORT:2,FLOAT:4},gu=function(){function d(n){for(di(this,d),this.options=n,this.attributes=n.attributes,this.gl=n.gl,this.program=n.program,n=this.stride=0;n<this.attributes.length;n++)this.stride+=Am[this.attributes[n].type]*this.attributes[n].size}return nn(d,[{key:"setVertexAttribPointers",value:function(){for(var l=this.gl,a=this.program,f=0;f<this.attributes.length;f++){var h=this.attributes[f],y=a.attributes[h.name];y!==void 0&&(h.buffer.bind(l),l.vertexAttribPointer(y,h.size,l[h.type],h.normalize||!1,h.stride!==void 0?h.stride:this.stride,h.offset),l.enableVertexAttribArray(y))}}},{key:"bind",value:function(){this.setVertexAttribPointers()}},{key:"destroy",value:function(){}}]),d}(),Qu=function d(n,l,a){di(this,d),l=l||n.canvas.width,a=a||n.canvas.height;var f=n.createFramebuffer(),h=n.createTexture();n.bindTexture(n.TEXTURE_2D,h),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,l,a,0,n.RGBA,n.UNSIGNED_BYTE,null),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),f.texture=h;var y=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,y),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,l,a),f.depthBuffer=y,n.bindFramebuffer(n.FRAMEBUFFER,f),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,h,0),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,y),l=n.checkFramebufferStatus(n.FRAMEBUFFER),n.FRAMEBUFFER_COMPLETE===l&&(n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindTexture(n.TEXTURE_2D,null),n.bindRenderbuffer(n.RENDERBUFFER,null),this.framebuffer=f)},Up=function(){function d(n){di(this,d),this.options={},us(this.options,n),this.vertex=[-1,1,0,-1,-1,0,1,1,0,1,1,0,-1,-1,0,1,-1,0],this.sampleCoord=[0,1,0,0,1,1,1,1,0,0,1,0]}return nn(d,[{key:"getOptions",value:function(){return this.options}},{key:"onResize",value:function(l){}},{key:"render",value:function(l){var a=l.gl;l=l.texture;var f=this.programSample;a.useProgram(f.program);var h=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,h);var y=[-1,-1,0,-1,1,0,1,1,0,1,1,0,-1,-1,0,1,-1,0];a.bufferData(a.ARRAY_BUFFER,new Float32Array(y),a.STATIC_DRAW),a.enableVertexAttribArray(f.attributes.aPos),a.vertexAttribPointer(f.attributes.aPos,3,a.FLOAT,!1,0,0),h=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,h),a.bufferData(a.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,1,1,1,0,0,1,0]),a.STATIC_DRAW),a.enableVertexAttribArray(f.attributes.aTextureCoord),a.vertexAttribPointer(f.attributes.aTextureCoord,2,a.FLOAT,!1,0,0),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,l),a.uniform1i(f.uniforms.uSampler,0),a.drawArrays(a.TRIANGLES,0,y.length/3)}}]),d}(),wm=function(d){function n(l){return di(this,n),xo(this,(n.__proto__||yt(n)).call(this,l))}return Vo(n,d),nn(n,[{key:"getProgram",value:function(a){return this.programSample||(this.programSample=new es(a,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(void){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision highp float;uniform sampler2D uSampler;uniform vec2 canvasSize;varying vec2 vTextureCoord;vec4 fxaa_2_0(sampler2D tex,vec2 fragCoord,vec2 resolution,vec2 v_rgbNW,vec2 v_rgbNE,vec2 v_rgbSW,vec2 v_rgbSE,vec2 v_rgbM){vec4 color;mediump vec2 inverseVP=vec2(1.0/resolution.x,1.0/resolution.y);vec3 rgbNW=texture2D(tex,v_rgbNW).xyz;vec3 rgbNE=texture2D(tex,v_rgbNE).xyz;vec3 rgbSW=texture2D(tex,v_rgbSW).xyz;vec3 rgbSE=texture2D(tex,v_rgbSE).xyz;vec4 texColor=texture2D(tex,v_rgbM);vec3 rgbM=texColor.xyz;vec3 luma=vec3(0.299,0.587,0.114);float lumaNW=dot(rgbNW,luma);float lumaNE=dot(rgbNE,luma);float lumaSW=dot(rgbSW,luma);float lumaSE=dot(rgbSE,luma);float lumaM=dot(rgbM,luma);float lumaMin=min(lumaM,min(min(lumaNW,lumaNE),min(lumaSW,lumaSE)));float lumaMax=max(lumaM,max(max(lumaNW,lumaNE),max(lumaSW,lumaSE)));mediump vec2 dir;dir.x=-((lumaNW+lumaNE)-(lumaSW+lumaSE));dir.y=((lumaNW+lumaSW)-(lumaNE+lumaSE));float dirReduce=max((lumaNW+lumaNE+lumaSW+lumaSE)*(0.25*1.0/8.0),1.0/128.0);float rcpDirMin=1.0/(min(abs(dir.x),abs(dir.y))+dirReduce);dir=min(vec2(8.0,8.0),max(vec2(-8.0,-8.0),dir*rcpDirMin))*inverseVP;vec3 rgbA=0.5*(texture2D(tex,fragCoord*inverseVP+dir*(1.0/3.0-0.5)).xyz+texture2D(tex,fragCoord*inverseVP+dir*(2.0/3.0-0.5)).xyz);vec3 rgbB=rgbA*0.5+0.25*(texture2D(tex,fragCoord*inverseVP+dir*-0.5).xyz+texture2D(tex,fragCoord*inverseVP+dir*0.5).xyz);float lumaB=dot(rgbB,luma);if((lumaB<lumaMin)||(lumaB>lumaMax)){color=vec4(rgbA,texColor.a);}else{color=vec4(rgbB,texColor.a);}return color;}void texcoords_3_1(vec2 fragCoord,vec2 resolution,out vec2 v_rgbNW,out vec2 v_rgbNE,out vec2 v_rgbSW,out vec2 v_rgbSE,out vec2 v_rgbM){vec2 inverseVP=1.0/resolution.xy;v_rgbNW=(fragCoord+vec2(-1.0,-1.0))*inverseVP;v_rgbNE=(fragCoord+vec2(1.0,-1.0))*inverseVP;v_rgbSW=(fragCoord+vec2(-1.0,1.0))*inverseVP;v_rgbSE=(fragCoord+vec2(1.0,1.0))*inverseVP;v_rgbM=vec2(fragCoord*inverseVP);}vec4 apply_1_2(sampler2D tex,vec2 fragCoord,vec2 resolution){mediump vec2 v_rgbNW;mediump vec2 v_rgbNE;mediump vec2 v_rgbSW;mediump vec2 v_rgbSE;mediump vec2 v_rgbM;texcoords_3_1(fragCoord,resolution,v_rgbNW,v_rgbNE,v_rgbSW,v_rgbSE,v_rgbM);return fxaa_2_0(tex,fragCoord,resolution,v_rgbNW,v_rgbNE,v_rgbSW,v_rgbSE,v_rgbM);}void main(void){vec2 fragCoord=vTextureCoord*canvasSize;gl_FragColor=apply_1_2(uSampler,fragCoord,canvasSize);}"})),this.programSample}},{key:"render",value:function(a){var f=a.gl;a=a.texture,this.getOptions(),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT);var h=this.getProgram(f);f.useProgram(h.program);var y=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,y),f.bufferData(f.ARRAY_BUFFER,new Float32Array(this.vertex),f.STATIC_DRAW),f.enableVertexAttribArray(h.attributes.aPos),f.vertexAttribPointer(h.attributes.aPos,3,f.FLOAT,!1,0,0),y=f.createBuffer(),f.bindBuffer(f.ARRAY_BUFFER,y),f.bufferData(f.ARRAY_BUFFER,new Float32Array(this.sampleCoord),f.STATIC_DRAW),f.enableVertexAttribArray(h.attributes.aTextureCoord),f.vertexAttribPointer(h.attributes.aTextureCoord,2,f.FLOAT,!1,0,0),f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,a),f.uniform1i(h.uniforms.uSampler,1),f.uniform2fv(h.uniforms.canvasSize,[f.canvas.width,f.canvas.height]),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3),f.bindBuffer(f.ARRAY_BUFFER,null),f.useProgram(null)}}]),n}(Up),bm=function(d){function n(l){return di(this,n),xo(this,(n.__proto__||yt(n)).call(this,l))}return Vo(n,d),nn(n,[{key:"getProgram",value:function(a){if(this.program1||(this.program1=new es(a,{vertexShader:"attribute vec3 position;attribute vec2 uv;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];void SMAAEdgeDetectionVS(vec2 texcoord){vOffset[0]=texcoord.xyxy+resolution.xyxy*vec4(-1.0,0.0,0.0,1.0);vOffset[1]=texcoord.xyxy+resolution.xyxy*vec4(1.0,0.0,0.0,-1.0);vOffset[2]=texcoord.xyxy+resolution.xyxy*vec4(-2.0,0.0,0.0,2.0);}void main(){vUv=uv;SMAAEdgeDetectionVS(vUv);gl_Position=vec4(position,1.0);}",fragmentShader:`precision highp float;
#define SMAA_THRESHOLD 0.1
uniform sampler2D tDiffuse;varying vec2 vUv;varying vec4 vOffset[3];vec4 SMAAColorEdgeDetectionPS(vec2 texcoord,vec4 offset[3],sampler2D colorTex){vec2 threshold=vec2(SMAA_THRESHOLD,SMAA_THRESHOLD);vec4 delta;vec3 C=texture2D(colorTex,texcoord).rgb;vec3 Cleft=texture2D(colorTex,offset[0].xy).rgb;vec3 t=abs(C-Cleft);delta.x=max(max(t.r,t.g),t.b);vec3 Ctop=texture2D(colorTex,offset[0].zw).rgb;t=abs(C-Ctop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0,1.0))==0.0)discard;vec3 Cright=texture2D(colorTex,offset[1].xy).rgb;t=abs(C-Cright);delta.z=max(max(t.r,t.g),t.b);vec3 Cbottom=texture2D(colorTex,offset[1].zw).rgb;t=abs(C-Cbottom);delta.w=max(max(t.r,t.g),t.b);float maxDelta=max(max(max(delta.x,delta.y),delta.z),delta.w);vec3 Cleftleft=texture2D(colorTex,offset[2].xy).rgb;t=abs(C-Cleftleft);delta.z=max(max(t.r,t.g),t.b);vec3 Ctoptop=texture2D(colorTex,offset[2].zw).rgb;t=abs(C-Ctoptop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(max(maxDelta,delta.z),delta.w);edges.xy*=step(0.5*maxDelta,delta.xy);return vec4(edges,0.0,0.0);}void main(){gl_FragColor=SMAAColorEdgeDetectionPS(vUv,vOffset,tDiffuse);}`})),this.program2||(this.program2=new es(a,{vertexShader:`precision highp float;
#define SMAA_MAX_SEARCH_STEPS 8
#define SMAA_AREATEX_MAX_DISTANCE 16
#define SMAA_AREATEX_PIXEL_SIZE ( 1.0 / vec2( 160.0, 560.0 ) )
#define SMAA_AREATEX_SUBTEX_SIZE ( 1.0 / 7.0 )
attribute vec3 position;attribute vec2 uv;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixcoord;void SMAABlendingWeightCalculationVS(vec2 texcoord){vPixcoord=texcoord/resolution;vOffset[0]=texcoord.xyxy+resolution.xyxy*vec4(-0.25,0.125,1.25,0.125);vOffset[1]=texcoord.xyxy+resolution.xyxy*vec4(-0.125,0.25,-0.125,-1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*resolution.xxyy*float(SMAA_MAX_SEARCH_STEPS);}void main(){vUv=uv;SMAABlendingWeightCalculationVS(vUv);gl_Position=vec4(position,1.0);}`,fragmentShader:`precision highp float;
#define SMAA_MAX_SEARCH_STEPS 8
#define SMAA_AREATEX_MAX_DISTANCE 16
#define SMAA_AREATEX_PIXEL_SIZE ( 1.0 / vec2( 160.0, 560.0 ) )
#define SMAA_AREATEX_SUBTEX_SIZE ( 1.0 / 7.0 )
#define SMAASampleLevelZeroOffset( tex, coord, offset ) texture2D( tex, coord + float( offset ) * resolution, 0.0 )
uniform sampler2D tDiffuse;uniform sampler2D tArea;uniform sampler2D tSearch;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixcoord;vec2 round(vec2 x){return sign(x)*floor(abs(x)+0.5);}float SMAASearchLength(sampler2D searchTex,vec2 e,float bias,float scale){e.r=bias+e.r*scale;return 255.0*texture2D(searchTex,e,0.0).r;}float SMAASearchXLeft(sampler2D edgesTex,sampler2D searchTex,vec2 texcoord,float end){/***@PSEUDO_GATHER4*This texcoord has been offset by(-0.25,-0.125)in the vertex shader to*sample between edge,thus fetching four edges in a row.*Sampling with different offsets in each direction allows to disambiguate*which edges are active from the four fetched ones.*/vec2 e=vec2(0.0,1.0);for(int i=0;i<SMAA_MAX_SEARCH_STEPS;i++){e=texture2D(edgesTex,texcoord,0.0).rg;texcoord-=vec2(2.0,0.0)*resolution;if(!(texcoord.x>end&&e.g>0.8281&&e.r==0.0))break;}texcoord.x+=0.25*resolution.x;texcoord.x+=resolution.x;texcoord.x+=2.0*resolution.x;texcoord.x-=resolution.x*SMAASearchLength(searchTex,e,0.0,0.5);return texcoord.x;}float SMAASearchXRight(sampler2D edgesTex,sampler2D searchTex,vec2 texcoord,float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<SMAA_MAX_SEARCH_STEPS;i++){e=texture2D(edgesTex,texcoord,0.0).rg;texcoord+=vec2(2.0,0.0)*resolution;if(!(texcoord.x<end&&e.g>0.8281&&e.r==0.0))break;}texcoord.x-=0.25*resolution.x;texcoord.x-=resolution.x;texcoord.x-=2.0*resolution.x;texcoord.x+=resolution.x*SMAASearchLength(searchTex,e,0.5,0.5);return texcoord.x;}float SMAASearchYUp(sampler2D edgesTex,sampler2D searchTex,vec2 texcoord,float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<SMAA_MAX_SEARCH_STEPS;i++){e=texture2D(edgesTex,texcoord,0.0).rg;texcoord+=vec2(0.0,2.0)*resolution;if(!(texcoord.y>end&&e.r>0.8281&&e.g==0.0))break;}texcoord.y-=0.25*resolution.y;texcoord.y-=resolution.y;texcoord.y-=2.0*resolution.y;texcoord.y+=resolution.y*SMAASearchLength(searchTex,e.gr,0.0,0.5);return texcoord.y;}float SMAASearchYDown(sampler2D edgesTex,sampler2D searchTex,vec2 texcoord,float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<SMAA_MAX_SEARCH_STEPS;i++){e=texture2D(edgesTex,texcoord,0.0).rg;texcoord-=vec2(0.0,2.0)*resolution;if(!(texcoord.y<end&&e.r>0.8281&&e.g==0.0))break;}texcoord.y+=0.25*resolution.y;texcoord.y+=resolution.y;texcoord.y+=2.0*resolution.y;texcoord.y-=resolution.y*SMAASearchLength(searchTex,e.gr,0.5,0.5);return texcoord.y;}vec2 SMAAArea(sampler2D areaTex,vec2 dist,float e1,float e2,float offset){vec2 texcoord=float(SMAA_AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texcoord=SMAA_AREATEX_PIXEL_SIZE*texcoord+(0.5*SMAA_AREATEX_PIXEL_SIZE);texcoord.y+=SMAA_AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTex,texcoord,0.0).rg;}vec4 SMAABlendingWeightCalculationPS(vec2 texcoord,vec2 pixcoord,vec4 offset[3],sampler2D edgesTex,sampler2D areaTex,sampler2D searchTex,ivec4 subsampleIndices){vec4 weights=vec4(0.0,0.0,0.0,0.0);vec2 e=texture2D(edgesTex,texcoord).rg;if(e.g>0.0){vec2 d;vec2 coords;coords.x=SMAASearchXLeft(edgesTex,searchTex,offset[0].xy,offset[2].x);coords.y=offset[1].y;d.x=coords.x;float e1=texture2D(edgesTex,coords,0.0).r;coords.x=SMAASearchXRight(edgesTex,searchTex,offset[0].zw,offset[2].y);d.y=coords.x;d=d/resolution.x-pixcoord.x;vec2 sqrt_d=sqrt(abs(d));coords.y-=1.0*resolution.y;float e2=SMAASampleLevelZeroOffset(edgesTex,coords,ivec2(1,0)).r;weights.rg=SMAAArea(areaTex,sqrt_d,e1,e2,float(subsampleIndices.y));}if(e.r>0.0){vec2 d;vec2 coords;coords.y=SMAASearchYUp(edgesTex,searchTex,offset[1].xy,offset[2].z);coords.x=offset[0].x;d.x=coords.y;float e1=texture2D(edgesTex,coords,0.0).g;coords.y=SMAASearchYDown(edgesTex,searchTex,offset[1].zw,offset[2].w);d.y=coords.y;d=d/resolution.y-pixcoord.y;vec2 sqrt_d=sqrt(abs(d));coords.y-=1.0*resolution.y;float e2=SMAASampleLevelZeroOffset(edgesTex,coords,ivec2(0,1)).g;weights.ba=SMAAArea(areaTex,sqrt_d,e1,e2,float(subsampleIndices.x));}return weights;}void main(){gl_FragColor=SMAABlendingWeightCalculationPS(vUv,vPixcoord,vOffset,tDiffuse,tArea,tSearch,ivec4(0.0));}`})),this.program3||(this.program3=new es(a,{vertexShader:"precision highp float;uniform vec2 resolution;attribute vec3 position;attribute vec2 uv;varying vec2 vUv;varying vec4 vOffset[2];void SMAANeighborhoodBlendingVS(vec2 texcoord){vOffset[0]=texcoord.xyxy+resolution.xyxy*vec4(-1.0,0.0,0.0,1.0);vOffset[1]=texcoord.xyxy+resolution.xyxy*vec4(1.0,0.0,0.0,-1.0);}void main(){vUv=uv;SMAANeighborhoodBlendingVS(vUv);gl_Position=vec4(position,1.0);}",fragmentShader:"precision highp float;uniform sampler2D tDiffuse;uniform sampler2D tColor;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[2];vec4 SMAANeighborhoodBlendingPS(vec2 texcoord,vec4 offset[2],sampler2D colorTex,sampler2D blendTex){vec4 a;a.xz=texture2D(blendTex,texcoord).xz;a.y=texture2D(blendTex,offset[1].zw).g;a.w=texture2D(blendTex,offset[1].xy).a;if(dot(a,vec4(1.0,1.0,1.0,1.0))<1e-5){return texture2D(colorTex,texcoord,0.0);}else{vec2 offset;offset.x=a.a>a.b ? a.a :-a.b;offset.y=a.g>a.r ?-a.g : a.r;if(abs(offset.x)>abs(offset.y)){offset.y=0.0;}else{offset.x=0.0;}vec4 C=texture2D(colorTex,texcoord,0.0);texcoord+=sign(offset)*resolution;vec4 Cop=texture2D(colorTex,texcoord,0.0);float s=abs(offset.x)>abs(offset.y)? abs(offset.x): abs(offset.y);C.xyz=pow(C.xyz,vec3(2.2));Cop.xyz=pow(Cop.xyz,vec3(2.2));vec4 mixed=mix(C,Cop,s);mixed.xyz=pow(mixed.xyz,vec3(1.0/2.2));return mixed;}}void main(){gl_FragColor=SMAANeighborhoodBlendingPS(vUv,vOffset,tColor,tDiffuse);}"})),!this.vertexBuffer||!this.sampleBuffer){this.vertexBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.sampleBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.vertexBuffer.updateData(new Float32Array(this.vertex)),this.sampleBuffer.updateData(new Float32Array(this.sampleCoord));var f=[{stride:12,name:"position",buffer:this.vertexBuffer,size:3,type:"FLOAT",offset:0},{stride:8,name:"uv",buffer:this.sampleBuffer,size:2,type:"FLOAT",offset:0}];this.vertexArray1=new gu({gl:a,program:this.program1,attributes:f}),this.vertexArray2=new gu({gl:a,program:this.program2,attributes:f}),this.vertexArray3=new gu({gl:a,program:this.program3,attributes:f})}return{program1:this.program1,program2:this.program2,program3:this.program3}}},{key:"onResize",value:function(a){this.collectBrightBuffer=new Qu(a),this.bloomBuffer=new Qu(a)}},{key:"getExtraFbo",value:function(a){return this.collectBrightBuffer||(this.collectBrightBuffer=new Qu(a)),this.bloomBuffer||(this.bloomBuffer=new Qu(a)),{collectBrightBuffer:this.collectBrightBuffer.framebuffer,bloomBuffer:this.bloomBuffer.framebuffer}}},{key:"render",value:function(a){var f=a.gl,h=a.texture;a=a.fbo,this.getOptions(),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT);var y=this.getProgram(f),m=y.program1,C=y.program2;y=y.program3;var P=this.getExtraFbo(f),B=P.collectBrightBuffer;P=P.bloomBuffer;var M=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,M),f.bufferData(f.ARRAY_BUFFER,new Float32Array(this.vertex),f.STATIC_DRAW),f.enableVertexAttribArray(m.attributes.position),f.vertexAttribPointer(m.attributes.position,3,f.FLOAT,!1,0,0),f.enableVertexAttribArray(C.attributes.position),f.vertexAttribPointer(C.attributes.position,3,f.FLOAT,!1,0,0),f.enableVertexAttribArray(y.attributes.position),f.vertexAttribPointer(y.attributes.position,3,f.FLOAT,!1,0,0),M=f.createBuffer(),f.bindBuffer(f.ARRAY_BUFFER,M),f.bufferData(f.ARRAY_BUFFER,new Float32Array(this.sampleCoord),f.STATIC_DRAW),f.enableVertexAttribArray(m.attributes.uv),f.vertexAttribPointer(m.attributes.uv,2,f.FLOAT,!1,0,0),f.enableVertexAttribArray(C.attributes.uv),f.vertexAttribPointer(C.attributes.uv,2,f.FLOAT,!1,0,0),f.enableVertexAttribArray(y.attributes.uv),f.vertexAttribPointer(y.attributes.uv,2,f.FLOAT,!1,0,0),f.useProgram(m.program),f.bindFramebuffer(f.FRAMEBUFFER,B),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.activeTexture(f.TEXTURE2),f.bindTexture(f.TEXTURE_2D,h),f.uniform1i(m.uniforms.tDiffuse,2),f.uniform2fv(m.uniforms.resolution,[f.canvas.width,f.canvas.height]),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3),f.useProgram(C.program),f.bindFramebuffer(f.FRAMEBUFFER,P),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.activeTexture(f.TEXTURE2),f.bindTexture(f.TEXTURE_2D,B.texture),f.uniform1i(C.uniforms.uSampler,2),f.uniform2fv(C.uniforms.resolution,[f.canvas.width,f.canvas.height]),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3),f.useProgram(y.program),f.bindFramebuffer(f.FRAMEBUFFER,a),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.activeTexture(f.TEXTURE2),f.bindTexture(f.TEXTURE_2D,h),f.uniform1i(y.uniforms.tDiffuse,2),f.activeTexture(f.TEXTURE3),f.bindTexture(f.TEXTURE_2D,P.texture),f.uniform1i(y.uniforms.tColor,3),f.uniform2fv(y.uniforms.resolution,[f.canvas.width,f.canvas.height]),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3),f.bindBuffer(f.ARRAY_BUFFER,null),f.useProgram(null)}},{key:"getAreaTexture",value:function(){return"data:image/png;base64,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"}},{key:"getSearchTexture",value:function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAhCAIAAADiVupLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFZJREFUeNrs00EKgAAIRNEZ739mTQoiwmhRi4L/FiKiu9ERISkzbXdTVV3H4WhfOG6ehl1rNR7qDSF8hwkVcJXt+3A//I0Nv0GoCBUAAAAAAMA/LAIMAB+Dcg2OE2zsAAAAAElFTkSuQmCC"}}]),n}(Up),Tp=function(d){function n(l){return di(this,n),xo(this,(n.__proto__||yt(n)).call(this,l))}return Vo(n,d),nn(n,[{key:"getProgram",value:function(a){return this.programSample||(this.programSample=new es(a,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;varying vec2 vTextureCoord;void main(){float fStep=1.0/512.0;vec4 sample11=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t+1.0*fStep));vec4 sample12=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t+1.0*fStep));vec4 sample13=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t+1.0*fStep));vec4 sample21=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t));vec4 sample22=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t));vec4 sample23=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t));vec4 sample31=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t-1.0*fStep));vec4 sample32=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t-1.0*fStep));vec4 sample33=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t-1.0*fStep));vec4 blurSample=(sample11+sample12+sample13+sample21+2.0*sample22+sample23+sample31+sample32+sample33)/10.0;gl_FragColor=blurSample;}"}),this.vertexBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.sampleBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.vertexBuffer.updateData(new Float32Array(this.vertex)),this.sampleBuffer.updateData(new Float32Array(this.sampleCoord)),this.vertexArray=new gu({gl:a,program:this.programSample,attributes:[{stride:12,name:"aPos",buffer:this.vertexBuffer,size:3,type:"FLOAT",offset:0},{stride:8,name:"aTextureCoord",buffer:this.sampleBuffer,size:2,type:"FLOAT",offset:0}]})),this.programSample}},{key:"render",value:function(a){var f=a.gl;a=a.texture,f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT);var h=this.getProgram(f);h.use(f),this.vertexArray.bind(),f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,a),f.uniform1i(h.uniforms.uSampler,1),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3)}}]),n}(Up),Bd=function(d){function n(l){return di(this,n),xo(this,(n.__proto__||yt(n)).call(this,l))}return Vo(n,d),nn(n,[{key:"getProgram",value:function(a){return this.programBright||(this.programBright=new es(a,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform float threshold;varying vec2 vTextureCoord;void main(){vec4 color=texture2D(uSampler,vTextureCoord);vec4 lightColor=max(vec4(0.0),(color-(1.0-threshold)/5.0));float brightness=dot(color.rgb,vec3(0.2126,0.7152,0.0722));if(brightness>threshold){color=lightColor;}else{color=vec4(0.0);}gl_FragColor=color;}"})),this.programBloom||(this.programBloom=new es(a,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform bool isVertical;uniform vec2 canvasSize;uniform float blurSize;uniform float devicePixelRatio;varying vec2 vTextureCoord;void main(){float weight[10];weight[0]=0.2270270270;weight[1]=0.1945945946;weight[2]=0.1216216216;weight[3]=0.1135135135;weight[4]=0.0972972973;weight[5]=0.0608108108;weight[6]=0.0540540541;weight[7]=0.0270270270;weight[8]=0.0162162162;weight[9]=0.0081081081;vec2 offset=vec2(blurSize/canvasSize.x,blurSize/canvasSize.y)*devicePixelRatio;vec4 result=texture2D(uSampler,vTextureCoord)*weight[0];if(isVertical){for(int i=1;i<10;++i){result+=texture2D(uSampler,vTextureCoord+vec2(0.0,offset.y*float(i)))*weight[i];result+=texture2D(uSampler,vTextureCoord-vec2(0.0,offset.y*float(i)))*weight[i];}}else{for(int i=1;i<10;++i){result+=texture2D(uSampler,vTextureCoord+vec2(offset.x*float(i),0.0))*weight[i];result+=texture2D(uSampler,vTextureCoord-vec2(offset.x*float(i),0.0))*weight[i];}}gl_FragColor=result;}"})),this.programResult||(this.programResult=new es(a,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D originalTexture;uniform sampler2D bloomTexture;varying vec2 vTextureCoord;void main(){vec4 color=texture2D(originalTexture,vTextureCoord);vec4 bloomColor=texture2D(bloomTexture,vTextureCoord);color+=bloomColor;gl_FragColor=color;}"})),{programBright:this.programBright,programBloom:this.programBloom,programResult:this.programResult}}},{key:"onResize",value:function(a){this.collectBrightBuffer=new Qu(a),this.bloomBuffer=new Qu(a)}},{key:"getExtraFbo",value:function(a){return this.collectBrightBuffer||(this.collectBrightBuffer=new Qu(a)),this.bloomBuffer||(this.bloomBuffer=new Qu(a)),{collectBrightBuffer:this.collectBrightBuffer.framebuffer,bloomBuffer:this.bloomBuffer.framebuffer}}},{key:"render",value:function(a){var f=a.gl,h=a.texture;a=a.fbo;var y=this.getOptions();f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT);var m=this.getProgram(f),C=m.programBright,P=m.programBloom;m=m.programResult;var B=this.getExtraFbo(f),M=B.collectBrightBuffer;B=B.bloomBuffer;var T=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,T),f.bufferData(f.ARRAY_BUFFER,new Float32Array(this.vertex),f.STATIC_DRAW),f.enableVertexAttribArray(C.attributes.aPos),f.vertexAttribPointer(C.attributes.aPos,3,f.FLOAT,!1,0,0),f.enableVertexAttribArray(P.attributes.aPos),f.vertexAttribPointer(P.attributes.aPos,3,f.FLOAT,!1,0,0),f.enableVertexAttribArray(m.attributes.aPos),f.vertexAttribPointer(m.attributes.aPos,3,f.FLOAT,!1,0,0),T=f.createBuffer(),f.bindBuffer(f.ARRAY_BUFFER,T),f.bufferData(f.ARRAY_BUFFER,new Float32Array(this.sampleCoord),f.STATIC_DRAW),f.enableVertexAttribArray(C.attributes.aTextureCoord),f.vertexAttribPointer(C.attributes.aTextureCoord,2,f.FLOAT,!1,0,0),f.enableVertexAttribArray(P.attributes.aTextureCoord),f.vertexAttribPointer(P.attributes.aTextureCoord,2,f.FLOAT,!1,0,0),f.enableVertexAttribArray(m.attributes.aTextureCoord),f.vertexAttribPointer(m.attributes.aTextureCoord,2,f.FLOAT,!1,0,0),f.useProgram(C.program),f.bindFramebuffer(f.FRAMEBUFFER,M),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,h),f.uniform1i(C.uniforms.uSampler,1),f.uniform1f(C.uniforms.threshold,y.threshold||0),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3),f.useProgram(P.program),f.bindFramebuffer(f.FRAMEBUFFER,B),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,M.texture),f.uniform1i(P.uniforms.uSampler,1),f.uniform1i(P.uniforms.isVertical,!0),f.uniform1f(P.uniforms.blurSize,y.blurSize||2),f.uniform1f(P.uniforms.devicePixelRatio,window.devicePixelRatio),f.uniform2fv(P.uniforms.canvasSize,[f.canvas.width,f.canvas.height]),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3),f.useProgram(P.program),f.bindFramebuffer(f.FRAMEBUFFER,M),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,B.texture),f.uniform1i(P.uniforms.uSampler,1),f.uniform1i(P.uniforms.isVertical,!1),f.uniform1f(P.uniforms.blurSize,y.blurSize||2),f.uniform1f(P.uniforms.devicePixelRatio,window.devicePixelRatio),f.uniform2fv(P.uniforms.canvasSize,[f.canvas.width,f.canvas.height]),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3),f.useProgram(m.program),f.bindFramebuffer(f.FRAMEBUFFER,a),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,h),f.uniform1i(m.uniforms.originalTexture,1),f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,M.texture),f.uniform1i(m.uniforms.bloomTexture,0),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3),f.bindBuffer(f.ARRAY_BUFFER,null),f.useProgram(null)}}]),n}(Up),Ug=function(d){function n(l){return di(this,n),xo(this,(n.__proto__||yt(n)).call(this,l))}return Vo(n,d),nn(n,[{key:"getProgram",value:function(a){return this.programBright||(this.programBright=new es(a,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform float threshold;varying vec2 vTextureCoord;void main(){vec4 color=texture2D(uSampler,vTextureCoord);vec4 lightColor=max(vec4(0.0),(color-threshold));gl_FragColor=lightColor;}"})),this.programBloom||(this.programBloom=new es(a,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform bool isVertical;uniform vec2 canvasSize;uniform float blurSize;uniform float devicePixelRatio;varying vec2 vTextureCoord;void main(){float weight[10];weight[0]=0.2270270270;weight[1]=0.1945945946;weight[2]=0.1216216216;weight[3]=0.1135135135;weight[4]=0.0972972973;weight[5]=0.0608108108;weight[6]=0.0540540541;weight[7]=0.0270270270;weight[8]=0.0162162162;weight[9]=0.0081081081;vec2 offset=vec2(blurSize/canvasSize.x,blurSize/canvasSize.y)*devicePixelRatio;vec4 result=texture2D(uSampler,vTextureCoord)*weight[0];if(isVertical){for(int i=1;i<10;++i){result+=texture2D(uSampler,vTextureCoord+vec2(0.0,offset.y*float(i)))*weight[i];result+=texture2D(uSampler,vTextureCoord-vec2(0.0,offset.y*float(i)))*weight[i];}}else{for(int i=1;i<10;++i){result+=texture2D(uSampler,vTextureCoord+vec2(offset.x*float(i),0.0))*weight[i];result+=texture2D(uSampler,vTextureCoord-vec2(offset.x*float(i),0.0))*weight[i];}}gl_FragColor=result;}"})),this.programResult||(this.programResult=new es(a,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D originalTexture;uniform sampler2D bloomTexture;uniform float toneScale;varying vec2 vTextureCoord;void main(){vec4 color=texture2D(originalTexture,vTextureCoord)*toneScale;vec4 bloomColor=texture2D(bloomTexture,vTextureCoord);color+=bloomColor;gl_FragColor=color;}"})),{programBright:this.programBright,programBloom:this.programBloom,programResult:this.programResult}}},{key:"onResize",value:function(a){this.collectBrightBuffer=new Qu(a),this.bloomBuffer=new Qu(a)}},{key:"getExtraFbo",value:function(a){return this.collectBrightBuffer||(this.collectBrightBuffer=new Qu(a)),this.bloomBuffer||(this.bloomBuffer=new Qu(a)),{collectBrightBuffer:this.collectBrightBuffer.framebuffer,bloomBuffer:this.bloomBuffer.framebuffer}}},{key:"render",value:function(a){var f=a.gl,h=a.texture;a=a.fbo;var y=this.getOptions(),m="clarity"in y?y.clarity:1;m=Math.max(0,m),m=Math.min(1,m),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT);var C=this.getProgram(f),P=C.programBright,B=C.programBloom;C=C.programResult;var M=this.getExtraFbo(f),T=M.collectBrightBuffer;M=M.bloomBuffer;var L=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,L),f.bufferData(f.ARRAY_BUFFER,new Float32Array(this.vertex),f.STATIC_DRAW),f.enableVertexAttribArray(P.attributes.aPos),f.vertexAttribPointer(P.attributes.aPos,3,f.FLOAT,!1,0,0),f.enableVertexAttribArray(B.attributes.aPos),f.vertexAttribPointer(B.attributes.aPos,3,f.FLOAT,!1,0,0),f.enableVertexAttribArray(C.attributes.aPos),f.vertexAttribPointer(C.attributes.aPos,3,f.FLOAT,!1,0,0),L=f.createBuffer(),f.bindBuffer(f.ARRAY_BUFFER,L),f.bufferData(f.ARRAY_BUFFER,new Float32Array(this.sampleCoord),f.STATIC_DRAW),f.enableVertexAttribArray(P.attributes.aTextureCoord),f.vertexAttribPointer(P.attributes.aTextureCoord,2,f.FLOAT,!1,0,0),f.enableVertexAttribArray(B.attributes.aTextureCoord),f.vertexAttribPointer(B.attributes.aTextureCoord,2,f.FLOAT,!1,0,0),f.enableVertexAttribArray(C.attributes.aTextureCoord),f.vertexAttribPointer(C.attributes.aTextureCoord,2,f.FLOAT,!1,0,0),f.useProgram(P.program),f.bindFramebuffer(f.FRAMEBUFFER,T),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,h),f.uniform1i(P.uniforms.uSampler,1),f.uniform1f(P.uniforms.threshold,y.threshold||0),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3),f.useProgram(B.program),f.bindFramebuffer(f.FRAMEBUFFER,M),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,T.texture),f.uniform1i(B.uniforms.uSampler,1),f.uniform1i(B.uniforms.isVertical,!0),f.uniform1f(B.uniforms.blurSize,y.blurSize||2),f.uniform1f(B.uniforms.devicePixelRatio,window.devicePixelRatio),f.uniform2fv(B.uniforms.canvasSize,[f.canvas.width,f.canvas.height]),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3),f.useProgram(B.program),f.bindFramebuffer(f.FRAMEBUFFER,T),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,M.texture),f.uniform1i(B.uniforms.uSampler,1),f.uniform1i(B.uniforms.isVertical,!1),f.uniform1f(B.uniforms.blurSize,y.blurSize||2),f.uniform1f(B.uniforms.devicePixelRatio,window.devicePixelRatio),f.uniform2fv(B.uniforms.canvasSize,[f.canvas.width,f.canvas.height]),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3),f.useProgram(C.program),f.bindFramebuffer(f.FRAMEBUFFER,a),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,h),f.uniform1i(C.uniforms.originalTexture,1),f.uniform1f(C.uniforms.toneScale,m),f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,T.texture),f.uniform1i(C.uniforms.bloomTexture,0),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3),f.bindBuffer(f.ARRAY_BUFFER,null),f.useProgram(null)}}]),n}(Up),ee=function(d){function n(l){return di(this,n),xo(this,(n.__proto__||yt(n)).call(this,l))}return Vo(n,d),nn(n,[{key:"getProgram",value:function(a){return this.programSample||(this.programSample=new es(a,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform vec2 canvasSize;varying vec2 vTextureCoord;void main(){float fStep=1.0/312.0;vec4 sample11=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t+1.0*fStep));vec4 sample12=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t+1.0*fStep));vec4 sample13=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t+1.0*fStep));vec4 sample21=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t));vec4 sample22=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t));vec4 sample23=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t));vec4 sample31=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t-1.0*fStep));vec4 sample32=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t-1.0*fStep));vec4 sample33=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t-1.0*fStep));vec4 blurSample=(sample11+sample12+sample13+sample21+2.0*sample22+sample23+sample31+sample32+sample33)/10.0;float desX=abs((gl_FragCoord.x-canvasSize.x/2.0)/(canvasSize.x/2.0));float desY=abs((gl_FragCoord.y-canvasSize.y/2.0)/(canvasSize.y/2.0));float factor=max(desX,desY);gl_FragColor=(sample22*(1.0-factor)+blurSample*factor);}"})),this.programSample}},{key:"render",value:function(a){var f=a.gl;a=a.texture;var h=this.getProgram(f);f.useProgram(h.program);var y=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,y),f.bufferData(f.ARRAY_BUFFER,new Float32Array(this.vertex),f.STATIC_DRAW),f.enableVertexAttribArray(h.attributes.aPos),f.vertexAttribPointer(h.attributes.aPos,3,f.FLOAT,!1,0,0),y=f.createBuffer(),f.bindBuffer(f.ARRAY_BUFFER,y),f.bufferData(f.ARRAY_BUFFER,new Float32Array(this.sampleCoord),f.STATIC_DRAW),f.enableVertexAttribArray(h.attributes.aTextureCoord),f.vertexAttribPointer(h.attributes.aTextureCoord,2,f.FLOAT,!1,0,0),f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,a),f.uniform1i(h.uniforms.uSampler,1),f.uniform2fv(h.uniforms.canvasSize,[f.canvas.width,f.canvas.height]),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3)}}]),n}(Up),le=function(){function d(n){di(this,d),this.gl=n,this.effects=[],this.initFbo()}return nn(d,[{key:"addEffect",value:function(l){this.effects.push(l)}},{key:"removeEffect",value:function(l){}},{key:"setEffects",value:function(l){this.effects=l}},{key:"onResize",value:function(){this.initFbo();var l=this.gl,a=this.effects;if(a&&1<a.length)for(var f=1;f<a.length;f++){var h=a[f];h.onResize&&h.onResize(l)}}},{key:"initFbo",value:function(){var l=this.gl;this.fbo=[new Qu(l),new Qu(l)]}},{key:"destroy",value:function(){this.effects=[],this.fbo=[],this.gl=null}},{key:"render",value:function(){var l=this.gl,a=this.effects;if(a&&0<a.length)for(var f={},h=0;h<a.length;h++){var y=this.fbo[h%2].framebuffer;h===a.length-1&&(y=null),l.bindFramebuffer(l.FRAMEBUFFER,y);var m=[0,0,0,0];l.clearColor(m[0],m[1],m[2],m[3]),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT),a[h].render({isPickRender:!1,gl:l,texture:f.texture,fbo:y}),f=y}}}]),d}(),fe=function(d){function n(l){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l)),l.pickedColor=[-1,-1,-1],l}return Vo(n,d),nn(n,[{key:"getCommonDefaultOptions",value:function(){return{zIndex:0,repeat:!1,enablePicked:!1,autoSelect:!1,selectedIndex:-1,selectedColor:"rgba(20, 20, 200, 1.0)"}}},{key:"commonInitialize",value:function(a){var f=this.getOptions();this.gl=a,f.enablePicked&&(this.pickBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}))}},{key:"getCommonAttributes",value:function(){var a=[];return this.getOptions().enablePicked&&a.push({name:"aPickColor",buffer:this.pickBuffer,size:3,type:"FLOAT",stride:12,offset:0}),a}},{key:"getProperty",value:function(a,f,h){return Object.prototype.toString.call(f)==="[object Function]"?f(h):(f=h[a]||f,"properties"in h&&a in h.properties&&(f=h.properties[a]),f)}},{key:"normizedColor",value:function(a){var f=a;return a instanceof Array||(f=De(a).unitArray()),f[3]===void 0&&(f[3]=1),f}},{key:"normizedPoint",value:function(a){var f=this.getPointOffset();if(!a||!a[0]||!a[1])return[f[0],f[1],0];var h=Number(a[0]),y=Number(a[1]);-180<=h&&180>=h&&-90<=y&&90>=y&&(y=this.webglLayer.map.lnglatToMercator(h,y),h=y[0],y=y[1]);var m=Number(a[2])||0;return this.webglLayer&&this.webglLayer.options.mapType==="cesium"&&window.Cesium?(h=this.convertLngLat([h,y]),m=window.Cesium.Cartesian3.fromDegrees(h[0],h[1],m),h=m.x,y=m.y,m=m.z):this.webglLayer&&this.webglLayer.options.mapType==="bmapgl"&&this.webglLayer.map.map.mapType==="B_EARTH_MAP"&&(h=this.convertLngLat([h,y]),m=this.webglLayer.map.map.getEarth().scene.fromLatLngToXYZ({lng:h[0],lat:h[1]}),h=m.x,y=m.y,m=m.z),3<a.length?[h-f[0],y-f[1],m].concat(ga(a.slice(3))):[h-f[0],y-f[1],m]}},{key:"convertLngLat",value:function(a){return[a[0]/2003750834e-2*180,180/Math.PI*(2*Math.atan(Math.exp(a[1]/2003750834e-2*180*Math.PI/180))-Math.PI/2)]}},{key:"getPointOffset",value:function(){var a=[0,0],f=this.getOptions();return this.webglLayer&&this.webglLayer.options.pointOffset?a=this.webglLayer.options.pointOffset:f.pointOffset&&(a=f.pointOffset),a}},{key:"indexToRgb",value:function(a){a++;var f=Math.floor(a/65536);a-=65536*f;var h=Math.floor(a/256);return[a-256*h,h,f]}},{key:"rgbToIndex",value:function(a){return a[0]+256*a[1]+65536*a[2]-1}},{key:"getCommonUniforms",value:function(a){a=a.isPickRender;var f=this.getOptions(),h={};if(f.enablePicked){var y=0<=f.selectedIndex?f.selectedIndex:-1;y=f.autoSelect?this.pickedColor:this.indexToRgb(y),h=us(h,{uSelectedColor:this.normizedColor(f.selectedColor),uEnablePicked:f.enablePicked,uPickedColor:y.map(function(m){return m/255}),uIsPickRender:!!a})}return h}},{key:"pick",value:function(a,f){var h=this.gl;this.webglLayer.saveFramebuffer(),this.webglLayer.bindFramebuffer(this.webglLayer.pickFBO),this.webglLayer.clear(),this.render({gl:h,isPickRender:!0,matrix:this.webglLayer.matrix,projectionMatrix:this.webglLayer.projectionMatrix,viewMatrix:this.webglLayer.viewMatrix,orthoMatrix:this.webglLayer.orthoMatrix});var y=new Uint8Array(4);return h.readPixels(a*window.devicePixelRatio,h.canvas.height-f*window.devicePixelRatio,1,1,h.RGBA,h.UNSIGNED_BYTE,y),a=this.rgbToIndex(y),f=this.getData(),this.pickedColor=[y[0],y[1],y[2]],this.webglLayer.restoreFramebuffer(),{dataIndex:a,dataItem:f[a]}}},{key:"setGLState",value:function(a){this.webglLayer.stateManager.setState(a)}},{key:"addMultipleCoords",value:function(a,f,h){if(!this.options.repeat||!this.webglLayer||this.webglLayer.options.mapType!=="bmapgl"||this.webglLayer.map.map.mapType==="B_EARTH_MAP")return[a];var y=this.webglLayer.map.map;f=f||y.getZoom();var m=h?y.worldSize(f):4007545274461451e-8;if(f=function(H){return[[H[0]-m,H[1],H[2]||0],[H[0]+m,H[1],H[2]||0]]},a instanceof Array&&!(a[0]instanceof Array))return f=f(a),f=Xu(f,2),[a,f[0],f[1]];if(a instanceof Array&&a[0]instanceof Array&&!(a[0][0]instanceof Array)){h=[],y=[];for(var C=0;C<a.length;C++){var P=f(a[C]);P=Xu(P,2);var B=P[1];h.push(P[0]),y.push(B)}return[a,h,y]}for(h=[],y=[],C=0;C<a.length;C++){P=[],B=[];for(var M=0;M<a[C].length;M++){var T=f(a[C][M]);T=Xu(T,2);var L=T[1];P.push(T[0]),B.push(L)}h.push(P),y.push(B)}return[a,h,y]}}]),n}(Cm),re=function(d){function n(l){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l)),l.bufferData=[],l.initializeTime=new Date,l}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{size:10,unit:"px",color:"blue"}}},{key:"initialize",value:function(a){this.gl=a;var f=this.getOptions();this.program=new es(this.gl,{vertexShader:`attribute vec3 aPos;attribute float aSize;attribute float aIndex;attribute vec4 aColor;varying vec4 vColor;varying vec4 vPosition;varying vec4 vFragPosition;varying float vSize;uniform mat4 uMatrix;uniform float uZoomUnits;uniform vec4 uSelectedColor;void main(){vColor=aColor;float x=aPos.x;float y=aPos.y;vSize=aSize*uZoomUnits;if(aIndex==1.0){x+=vSize;y-=vSize;}else if(aIndex==2.0){x-=vSize;y+=vSize;}else if(aIndex==3.0){x+=vSize;y+=vSize;}else{x-=vSize;y-=vSize;}vPosition=vec4(aPos.xyz,1.0);vFragPosition=vec4(x,y,aPos.z,1.0);gl_Position=uMatrix*vFragPosition;
#if defined(PICK)
if(mapvIsPicked()){vColor=uSelectedColor;}
#endif
}`,fragmentShader:"varying vec4 vPosition;varying float vSize;varying vec4 vFragPosition;varying vec4 vColor;uniform mat4 uMatrix;uniform float uTime;uniform float duration;uniform float trail;uniform float lineWidth;void main(){float d=distance(vFragPosition.xy,vPosition.xy);if(d>vSize){discard;}vec4 color=vColor;if(d>0.9*vSize&&d<=vSize){color.a*=1.0-smoothstep(0.9*vSize,vSize,d);}gl_FragColor=color;}",defines:f.enablePicked?["PICK"]:[]},this),this.buffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Jo({gl:a,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),f=[{stride:36,name:"aPos",buffer:this.buffer,size:3,type:"FLOAT",offset:0},{stride:36,name:"aSize",buffer:this.buffer,size:1,type:"FLOAT",offset:12},{stride:36,name:"aIndex",buffer:this.buffer,size:1,type:"FLOAT",offset:16},{stride:36,name:"aColor",buffer:this.buffer,size:4,type:"FLOAT",offset:20}],f=f.concat(this.getCommonAttributes()),this.vertexArray=new gu({gl:a,program:this.program,attributes:f})}},{key:"onChanged",value:function(a,f){this.gl&&f&&(this.uniforms={},this.data=f,this.processData(),a.enablePicked&&this.parsePickData(f))}},{key:"processData",value:function(){var a=this,f=[],h=[];this.data.forEach(function(y,m){var C=y.color||a.options.color,P=y.size||a.options.size;C=a.normizedColor(C),y=a.normizedPoint(y.geometry.coordinates);for(var B=0;4>B;B++)f.push(y[0],y[1],0,P,B),f.push(C[0],C[1],C[2],C[3]);C=4*m,0<m&&h.push(C-1,C),h.push(C,C+1,C+2,C+3)}),this.bufferData=f,this.indexData=h,this.buffer.updateData(new Float32Array(f)),this.indexBuffer.updateData(new Uint32Array(h))}},{key:"parsePickData",value:function(a){var f=[];if(this.getOptions().enablePicked){for(var h=0;h<a.length;h++){var y=this.indexToRgb(h);f.push(y[0]/255,y[1]/255,y[2]/255),f.push(y[0]/255,y[1]/255,y[2]/255),f.push(y[0]/255,y[1]/255,y[2]/255),f.push(y[0]/255,y[1]/255,y[2]/255)}this.pickBuffer.updateData(new Float32Array(f))}}},{key:"render",value:function(a){var f=this.program,h=a.gl,y=a.matrix;f.use(h),this.vertexArray.bind(),this.indexBuffer.bind();var m=this.map.getZoomUnits();us(this.uniforms,this.getCommonUniforms(a),{uZoomUnits:this.options.unit==="px"?m:1,uMatrix:y}),f.setUniforms(this.uniforms),h.drawElements(h.TRIANGLE_STRIP,this.indexData.length,h.UNSIGNED_INT,0)}}]),n}(fe),Q={wave:"varying vec4 vPosition;varying float vSize;varying vec4 vFragPosition;varying vec4 vColor;varying float vStartTime;varying float vRadius;uniform mat4 uMatrix;uniform float uTime;uniform float duration;uniform float trail;varying float vWidth;void main(){float d=distance(vFragPosition.xy,vPosition.xy);if(d>=vRadius){discard;}vec4 color=vColor;float R=vRadius;float center=vSize;float time=vStartTime+uTime;float alpha=sin((R-d)/R*trail*2.0*3.14+time/duration);if(d<=center){if(d>0.9*center&&d<=center){if(alpha>=0.5){color.a=0.9;}else{color.a=1.0-smoothstep(0.9*center,center,d);}}}else{if(alpha>=0.5){color.a=0.9;if(alpha>=0.5&&alpha<=0.6){color.a=smoothstep(0.0,0.1,alpha-0.5);}if(d>=0.98*R&&d<=R){color.a*=1.0-smoothstep(0.98,1.0,d/R);}}else{color.a=0.0;}}gl_FragColor=color;}",bubble:"varying vec4 vPosition;varying float vSize;varying vec4 vFragPosition;varying vec4 vColor;varying float vStartTime;varying float vRadius;uniform mat4 uMatrix;uniform float uTime;uniform float duration;uniform float trail;varying float vWidth;void main(){float d=distance(vFragPosition.xy,vPosition.xy);if(d>=vRadius){discard;}float time=vStartTime+uTime;float range=mod(time,(duration+trail));float percent=0.0;if(range<=duration){percent=range/duration;}else{percent=1.0;}float center=vSize;float R=vRadius;float r=R*percent;vec4 color=vColor;if(d<=center){if(d>0.9*center&&d<=center){color.a=1.0-smoothstep(0.9*center,center,d);}}else{if(d<r){color.a=smoothstep(0.1,0.9,pow(d/r,2.0)*0.9);if(d>=0.9*r&&d<=r){color.a*=1.0-smoothstep(0.9,1.0,d/r);}if(range>duration){color.a*=1.0-(range-duration)/trail;}}else{color.a=0.0;}}gl_FragColor=color;}"},pe=function(d){function n(l){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l)),l.autoUpdate=!0,l.bufferData=[],l.initializeTime=new Date,l}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{depthWrite:!1,type:"bubble",size:10,duration:1,trail:1,unit:"px",random:!0,color:"blue",radius:function(f){return 2*f}}}},{key:"initialize",value:function(a){this.gl=a,this.program=new es(this.gl,{vertexShader:`attribute vec3 aPos;attribute float aSize;attribute float aIndex;attribute vec4 aColor;attribute float aStartTime;attribute float aRadius;varying vec4 vColor;varying vec4 vPosition;varying vec4 vFragPosition;varying float vSize;varying float vWidth;varying float vStartTime;varying float vRadius;uniform mat4 uMatrix;uniform float uZoomUnits;uniform float lineWidth;uniform vec4 uSelectedColor;void main(){vColor=aColor;vWidth=lineWidth;vStartTime=aStartTime;vSize=aSize*uZoomUnits;vRadius=aRadius*uZoomUnits;float x=aPos.x;float y=aPos.y;float R=vRadius;if(aIndex==1.0){x+=R;y-=R;}else if(aIndex==2.0){x-=R;y+=R;}else if(aIndex==3.0){x+=R;y+=R;}else{x-=R;y-=R;}vPosition=vec4(aPos.xyz,1.0);vFragPosition=vec4(x,y,aPos.z,1.0);gl_Position=uMatrix*vFragPosition;
#if defined(PICK)
if(mapvIsPicked()){vColor=uSelectedColor;}
#endif
}`,fragmentShader:Q[this.options.type]||"bubble",defines:this.options.enablePicked?["PICK"]:[]},this),this.buffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Jo({gl:a,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"});var f=[{stride:44,name:"aPos",buffer:this.buffer,size:3,type:"FLOAT",offset:0},{stride:44,name:"aSize",buffer:this.buffer,size:1,type:"FLOAT",offset:12},{stride:44,name:"aIndex",buffer:this.buffer,size:1,type:"FLOAT",offset:16},{stride:44,name:"aColor",buffer:this.buffer,size:4,type:"FLOAT",offset:20},{stride:44,name:"aRadius",buffer:this.buffer,size:1,type:"FLOAT",offset:36},{stride:44,name:"aStartTime",buffer:this.buffer,size:1,type:"FLOAT",offset:40}];f=f.concat(this.getCommonAttributes()),this.vertexArray=new gu({gl:a,program:this.program,attributes:f})}},{key:"onChanged",value:function(a,f){this.gl&&f&&(this.uniforms={duration:a.duration,trail:a.trail},this.data=f,this.processData(),a.enablePicked&&this.parsePickData(f))}},{key:"processData",value:function(){var a=this,f=[],h=[];this.data.forEach(function(y,m){var C=y.size||a.options.size,P=y.radius||a.options.radius||1.618*C;typeof P=="function"&&(P=P(C));var B=y.color||a.options.color;B=a.normizedColor(B),y=a.normizedPoint(y.geometry.coordinates);for(var M=a.options.random?Math.random()*a.data.length*9999:0,T=0;4>T;T++)f.push(y[0],y[1],0,C,T),f.push(B[0],B[1],B[2],B[3]),f.push(P),f.push(M);C=4*m,0<m&&h.push(C-1,C),h.push(C,C+1,C+2,C+3)}),this.bufferData=f,this.indexData=h,this.buffer.updateData(new Float32Array(f)),this.indexBuffer.updateData(new Uint32Array(h))}},{key:"parsePickData",value:function(a){var f=[];if(this.getOptions().enablePicked){for(var h=0;h<a.length;h++){var y=this.indexToRgb(h);f.push(y[0]/255,y[1]/255,y[2]/255),f.push(y[0]/255,y[1]/255,y[2]/255),f.push(y[0]/255,y[1]/255,y[2]/255),f.push(y[0]/255,y[1]/255,y[2]/255)}this.pickBuffer.updateData(new Float32Array(f))}}},{key:"render",value:function(a){var f=this.getOptions(),h=this.program,y=a.gl;a=a.matrix,h.use(y);var m=this.map.getZoomUnits();us(this.uniforms,{uTime:(new Date-this.initializeTime)/1e3,uZoomUnits:f.unit==="m"?1:m,lineWidth:f.lineWidth*m,uMatrix:a}),h.setUniforms(this.uniforms),y.enable(y.BLEND),y.blendEquation(y.FUNC_ADD),y.blendFunc(y.SRC_ALPHA,y.ONE_MINUS_SRC_ALPHA),("depthWrite"in f||"depthTest"in f)&&(f.depthTest===!1&&y.disable(y.DEPTH_TEST),f.depthWrite===!1&&y.depthMask(!1)),0<this.indexData.length&&(this.vertexArray.bind(),this.indexBuffer.bind(),y.drawElements(y.TRIANGLE_STRIP,this.indexData.length,y.UNSIGNED_INT,0)),("depthWrite"in f||"depthTest"in f)&&(f.depthTest===!1&&y.enable(y.DEPTH_TEST),f.depthWrite===!1&&y.depthMask(!0)),y.useProgram(null)}}]),n}(fe),ye=Fu(Q),Te=ve(function(d,n){n.__esModule=!0;var l=Gt&&Gt.__esModule?Gt:{default:Gt},a=Rd&&Rd.__esModule?Rd:{default:Rd};n.default=function f(h,y,m){h===null&&(h=Function.prototype);var C=(0,a.default)(h,y);if(C===void 0){if(h=(0,l.default)(h),h!==null)return f(h,y,m)}else return"value"in C?C.value:(y=C.get,y===void 0?void 0:y.call(m))}}),Be=Ae(Te),Ke=ve(function(d,n){Object.defineProperty(n,"__esModule",{value:!0}),n.setMatrixArrayType=function(h){n.ARRAY_TYPE=a=h},n.toRadian=function(h){return h*f},n.equals=function(h,y){return Math.abs(h-y)<=l*Math.max(1,Math.abs(h),Math.abs(y))},n.RANDOM=n.ARRAY_TYPE=n.EPSILON=void 0;var l=1e-6;n.EPSILON=l;var a=typeof Float32Array!="undefined"?Float32Array:Array;n.ARRAY_TYPE=a,n.RANDOM=Math.random;var f=Math.PI/180});Ae(Ke);var lt=ve(function(d,n){function l(h,y,m){var C=y[0],P=y[1],B=y[2];y=y[3];var M=m[0],T=m[1],L=m[2];return m=m[3],h[0]=C*M+B*T,h[1]=P*M+y*T,h[2]=C*L+B*m,h[3]=P*L+y*m,h}function a(h,y,m){return h[0]=y[0]-m[0],h[1]=y[1]-m[1],h[2]=y[2]-m[2],h[3]=y[3]-m[3],h}Object.defineProperty(n,"__esModule",{value:!0}),n.create=function(){var h=new f.ARRAY_TYPE(4);return f.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0),h[0]=1,h[3]=1,h},n.clone=function(h){var y=new f.ARRAY_TYPE(4);return y[0]=h[0],y[1]=h[1],y[2]=h[2],y[3]=h[3],y},n.copy=function(h,y){return h[0]=y[0],h[1]=y[1],h[2]=y[2],h[3]=y[3],h},n.identity=function(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h},n.fromValues=function(h,y,m,C){var P=new f.ARRAY_TYPE(4);return P[0]=h,P[1]=y,P[2]=m,P[3]=C,P},n.set=function(h,y,m,C,P){return h[0]=y,h[1]=m,h[2]=C,h[3]=P,h},n.transpose=function(h,y){if(h===y){var m=y[1];h[1]=y[2],h[2]=m}else h[0]=y[0],h[1]=y[2],h[2]=y[1],h[3]=y[3];return h},n.invert=function(h,y){var m=y[0],C=y[1],P=y[2];y=y[3];var B=m*y-P*C;return B?(B=1/B,h[0]=y*B,h[1]=-C*B,h[2]=-P*B,h[3]=m*B,h):null},n.adjoint=function(h,y){var m=y[0];return h[0]=y[3],h[1]=-y[1],h[2]=-y[2],h[3]=m,h},n.determinant=function(h){return h[0]*h[3]-h[2]*h[1]},n.multiply=l,n.rotate=function(h,y,m){var C=y[0],P=y[1],B=y[2];y=y[3];var M=Math.sin(m);return m=Math.cos(m),h[0]=C*m+B*M,h[1]=P*m+y*M,h[2]=C*-M+B*m,h[3]=P*-M+y*m,h},n.scale=function(h,y,m){var C=y[1],P=y[2],B=y[3],M=m[0];return m=m[1],h[0]=y[0]*M,h[1]=C*M,h[2]=P*m,h[3]=B*m,h},n.fromRotation=function(h,y){var m=Math.sin(y);return y=Math.cos(y),h[0]=y,h[1]=m,h[2]=-m,h[3]=y,h},n.fromScaling=function(h,y){return h[0]=y[0],h[1]=0,h[2]=0,h[3]=y[1],h},n.str=function(h){return"mat2("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+")"},n.frob=function(h){return Math.sqrt(Math.pow(h[0],2)+Math.pow(h[1],2)+Math.pow(h[2],2)+Math.pow(h[3],2))},n.LDU=function(h,y,m,C){return h[2]=C[2]/C[0],m[0]=C[0],m[1]=C[1],m[3]=C[3]-h[2]*m[1],[h,y,m]},n.add=function(h,y,m){return h[0]=y[0]+m[0],h[1]=y[1]+m[1],h[2]=y[2]+m[2],h[3]=y[3]+m[3],h},n.subtract=a,n.exactEquals=function(h,y){return h[0]===y[0]&&h[1]===y[1]&&h[2]===y[2]&&h[3]===y[3]},n.equals=function(h,y){var m=h[0],C=h[1],P=h[2];h=h[3];var B=y[0],M=y[1],T=y[2];return y=y[3],Math.abs(m-B)<=f.EPSILON*Math.max(1,Math.abs(m),Math.abs(B))&&Math.abs(C-M)<=f.EPSILON*Math.max(1,Math.abs(C),Math.abs(M))&&Math.abs(P-T)<=f.EPSILON*Math.max(1,Math.abs(P),Math.abs(T))&&Math.abs(h-y)<=f.EPSILON*Math.max(1,Math.abs(h),Math.abs(y))},n.multiplyScalar=function(h,y,m){return h[0]=y[0]*m,h[1]=y[1]*m,h[2]=y[2]*m,h[3]=y[3]*m,h},n.multiplyScalarAndAdd=function(h,y,m,C){return h[0]=y[0]+m[0]*C,h[1]=y[1]+m[1]*C,h[2]=y[2]+m[2]*C,h[3]=y[3]+m[3]*C,h},n.sub=n.mul=void 0;var f=function(h){if(h&&h.__esModule)return h;var y={};if(h!=null){for(var m in h)if(Object.prototype.hasOwnProperty.call(h,m)){var C=sn&&xl?xl(h,m):{};C.get||C.set?sn(y,m,C):y[m]=h[m]}}return y.default=h,y}(Ke);n.mul=l,n.sub=a});Ae(lt);var ot=ve(function(d,n){function l(h,y,m){var C=y[0],P=y[1],B=y[2],M=y[3],T=y[4];y=y[5];var L=m[0],z=m[1],H=m[2],Z=m[3],J=m[4];return m=m[5],h[0]=C*L+B*z,h[1]=P*L+M*z,h[2]=C*H+B*Z,h[3]=P*H+M*Z,h[4]=C*J+B*m+T,h[5]=P*J+M*m+y,h}function a(h,y,m){return h[0]=y[0]-m[0],h[1]=y[1]-m[1],h[2]=y[2]-m[2],h[3]=y[3]-m[3],h[4]=y[4]-m[4],h[5]=y[5]-m[5],h}Object.defineProperty(n,"__esModule",{value:!0}),n.create=function(){var h=new f.ARRAY_TYPE(6);return f.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0,h[4]=0,h[5]=0),h[0]=1,h[3]=1,h},n.clone=function(h){var y=new f.ARRAY_TYPE(6);return y[0]=h[0],y[1]=h[1],y[2]=h[2],y[3]=h[3],y[4]=h[4],y[5]=h[5],y},n.copy=function(h,y){return h[0]=y[0],h[1]=y[1],h[2]=y[2],h[3]=y[3],h[4]=y[4],h[5]=y[5],h},n.identity=function(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=0,h[5]=0,h},n.fromValues=function(h,y,m,C,P,B){var M=new f.ARRAY_TYPE(6);return M[0]=h,M[1]=y,M[2]=m,M[3]=C,M[4]=P,M[5]=B,M},n.set=function(h,y,m,C,P,B,M){return h[0]=y,h[1]=m,h[2]=C,h[3]=P,h[4]=B,h[5]=M,h},n.invert=function(h,y){var m=y[0],C=y[1],P=y[2],B=y[3],M=y[4];y=y[5];var T=m*B-C*P;return T?(T=1/T,h[0]=B*T,h[1]=-C*T,h[2]=-P*T,h[3]=m*T,h[4]=(P*y-B*M)*T,h[5]=(C*M-m*y)*T,h):null},n.determinant=function(h){return h[0]*h[3]-h[1]*h[2]},n.multiply=l,n.rotate=function(h,y,m){var C=y[0],P=y[1],B=y[2],M=y[3],T=y[4];y=y[5];var L=Math.sin(m);return m=Math.cos(m),h[0]=C*m+B*L,h[1]=P*m+M*L,h[2]=C*-L+B*m,h[3]=P*-L+M*m,h[4]=T,h[5]=y,h},n.scale=function(h,y,m){var C=y[1],P=y[2],B=y[3],M=y[4],T=y[5],L=m[0];return m=m[1],h[0]=y[0]*L,h[1]=C*L,h[2]=P*m,h[3]=B*m,h[4]=M,h[5]=T,h},n.translate=function(h,y,m){var C=y[0],P=y[1],B=y[2],M=y[3],T=y[4];y=y[5];var L=m[0];return m=m[1],h[0]=C,h[1]=P,h[2]=B,h[3]=M,h[4]=C*L+B*m+T,h[5]=P*L+M*m+y,h},n.fromRotation=function(h,y){var m=Math.sin(y);return y=Math.cos(y),h[0]=y,h[1]=m,h[2]=-m,h[3]=y,h[4]=0,h[5]=0,h},n.fromScaling=function(h,y){return h[0]=y[0],h[1]=0,h[2]=0,h[3]=y[1],h[4]=0,h[5]=0,h},n.fromTranslation=function(h,y){return h[0]=1,h[1]=0,h[2]=0,h[3]=1,h[4]=y[0],h[5]=y[1],h},n.str=function(h){return"mat2d("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+")"},n.frob=function(h){return Math.sqrt(Math.pow(h[0],2)+Math.pow(h[1],2)+Math.pow(h[2],2)+Math.pow(h[3],2)+Math.pow(h[4],2)+Math.pow(h[5],2)+1)},n.add=function(h,y,m){return h[0]=y[0]+m[0],h[1]=y[1]+m[1],h[2]=y[2]+m[2],h[3]=y[3]+m[3],h[4]=y[4]+m[4],h[5]=y[5]+m[5],h},n.subtract=a,n.multiplyScalar=function(h,y,m){return h[0]=y[0]*m,h[1]=y[1]*m,h[2]=y[2]*m,h[3]=y[3]*m,h[4]=y[4]*m,h[5]=y[5]*m,h},n.multiplyScalarAndAdd=function(h,y,m,C){return h[0]=y[0]+m[0]*C,h[1]=y[1]+m[1]*C,h[2]=y[2]+m[2]*C,h[3]=y[3]+m[3]*C,h[4]=y[4]+m[4]*C,h[5]=y[5]+m[5]*C,h},n.exactEquals=function(h,y){return h[0]===y[0]&&h[1]===y[1]&&h[2]===y[2]&&h[3]===y[3]&&h[4]===y[4]&&h[5]===y[5]},n.equals=function(h,y){var m=h[0],C=h[1],P=h[2],B=h[3],M=h[4];h=h[5];var T=y[0],L=y[1],z=y[2],H=y[3],Z=y[4];return y=y[5],Math.abs(m-T)<=f.EPSILON*Math.max(1,Math.abs(m),Math.abs(T))&&Math.abs(C-L)<=f.EPSILON*Math.max(1,Math.abs(C),Math.abs(L))&&Math.abs(P-z)<=f.EPSILON*Math.max(1,Math.abs(P),Math.abs(z))&&Math.abs(B-H)<=f.EPSILON*Math.max(1,Math.abs(B),Math.abs(H))&&Math.abs(M-Z)<=f.EPSILON*Math.max(1,Math.abs(M),Math.abs(Z))&&Math.abs(h-y)<=f.EPSILON*Math.max(1,Math.abs(h),Math.abs(y))},n.sub=n.mul=void 0;var f=function(h){if(h&&h.__esModule)return h;var y={};if(h!=null){for(var m in h)if(Object.prototype.hasOwnProperty.call(h,m)){var C=sn&&xl?xl(h,m):{};C.get||C.set?sn(y,m,C):y[m]=h[m]}}return y.default=h,y}(Ke);n.mul=l,n.sub=a});Ae(ot);var Tt=ve(function(d,n){function l(h,y,m){var C=y[0],P=y[1],B=y[2],M=y[3],T=y[4],L=y[5],z=y[6],H=y[7];y=y[8];var Z=m[0],J=m[1],V=m[2],ne=m[3],Ce=m[4],_e=m[5],Fe=m[6],Ue=m[7];return m=m[8],h[0]=Z*C+J*M+V*z,h[1]=Z*P+J*T+V*H,h[2]=Z*B+J*L+V*y,h[3]=ne*C+Ce*M+_e*z,h[4]=ne*P+Ce*T+_e*H,h[5]=ne*B+Ce*L+_e*y,h[6]=Fe*C+Ue*M+m*z,h[7]=Fe*P+Ue*T+m*H,h[8]=Fe*B+Ue*L+m*y,h}function a(h,y,m){return h[0]=y[0]-m[0],h[1]=y[1]-m[1],h[2]=y[2]-m[2],h[3]=y[3]-m[3],h[4]=y[4]-m[4],h[5]=y[5]-m[5],h[6]=y[6]-m[6],h[7]=y[7]-m[7],h[8]=y[8]-m[8],h}Object.defineProperty(n,"__esModule",{value:!0}),n.create=function(){var h=new f.ARRAY_TYPE(9);return f.ARRAY_TYPE!=Float32Array&&(h[1]=0,h[2]=0,h[3]=0,h[5]=0,h[6]=0,h[7]=0),h[0]=1,h[4]=1,h[8]=1,h},n.fromMat4=function(h,y){return h[0]=y[0],h[1]=y[1],h[2]=y[2],h[3]=y[4],h[4]=y[5],h[5]=y[6],h[6]=y[8],h[7]=y[9],h[8]=y[10],h},n.clone=function(h){var y=new f.ARRAY_TYPE(9);return y[0]=h[0],y[1]=h[1],y[2]=h[2],y[3]=h[3],y[4]=h[4],y[5]=h[5],y[6]=h[6],y[7]=h[7],y[8]=h[8],y},n.copy=function(h,y){return h[0]=y[0],h[1]=y[1],h[2]=y[2],h[3]=y[3],h[4]=y[4],h[5]=y[5],h[6]=y[6],h[7]=y[7],h[8]=y[8],h},n.fromValues=function(h,y,m,C,P,B,M,T,L){var z=new f.ARRAY_TYPE(9);return z[0]=h,z[1]=y,z[2]=m,z[3]=C,z[4]=P,z[5]=B,z[6]=M,z[7]=T,z[8]=L,z},n.set=function(h,y,m,C,P,B,M,T,L,z){return h[0]=y,h[1]=m,h[2]=C,h[3]=P,h[4]=B,h[5]=M,h[6]=T,h[7]=L,h[8]=z,h},n.identity=function(h){return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=1,h[5]=0,h[6]=0,h[7]=0,h[8]=1,h},n.transpose=function(h,y){if(h===y){var m=y[1],C=y[2],P=y[5];h[1]=y[3],h[2]=y[6],h[3]=m,h[5]=y[7],h[6]=C,h[7]=P}else h[0]=y[0],h[1]=y[3],h[2]=y[6],h[3]=y[1],h[4]=y[4],h[5]=y[7],h[6]=y[2],h[7]=y[5],h[8]=y[8];return h},n.invert=function(h,y){var m=y[0],C=y[1],P=y[2],B=y[3],M=y[4],T=y[5],L=y[6],z=y[7];y=y[8];var H=y*M-T*z,Z=-y*B+T*L,J=z*B-M*L,V=m*H+C*Z+P*J;return V?(V=1/V,h[0]=H*V,h[1]=(-y*C+P*z)*V,h[2]=(T*C-P*M)*V,h[3]=Z*V,h[4]=(y*m-P*L)*V,h[5]=(-T*m+P*B)*V,h[6]=J*V,h[7]=(-z*m+C*L)*V,h[8]=(M*m-C*B)*V,h):null},n.adjoint=function(h,y){var m=y[0],C=y[1],P=y[2],B=y[3],M=y[4],T=y[5],L=y[6],z=y[7];return y=y[8],h[0]=M*y-T*z,h[1]=P*z-C*y,h[2]=C*T-P*M,h[3]=T*L-B*y,h[4]=m*y-P*L,h[5]=P*B-m*T,h[6]=B*z-M*L,h[7]=C*L-m*z,h[8]=m*M-C*B,h},n.determinant=function(h){var y=h[3],m=h[4],C=h[5],P=h[6],B=h[7],M=h[8];return h[0]*(M*m-C*B)+h[1]*(-M*y+C*P)+h[2]*(B*y-m*P)},n.multiply=l,n.translate=function(h,y,m){var C=y[0],P=y[1],B=y[2],M=y[3],T=y[4],L=y[5],z=y[6],H=y[7];y=y[8];var Z=m[0];return m=m[1],h[0]=C,h[1]=P,h[2]=B,h[3]=M,h[4]=T,h[5]=L,h[6]=Z*C+m*M+z,h[7]=Z*P+m*T+H,h[8]=Z*B+m*L+y,h},n.rotate=function(h,y,m){var C=y[0],P=y[1],B=y[2],M=y[3],T=y[4],L=y[5],z=y[6],H=y[7];y=y[8];var Z=Math.sin(m);return m=Math.cos(m),h[0]=m*C+Z*M,h[1]=m*P+Z*T,h[2]=m*B+Z*L,h[3]=m*M-Z*C,h[4]=m*T-Z*P,h[5]=m*L-Z*B,h[6]=z,h[7]=H,h[8]=y,h},n.scale=function(h,y,m){var C=m[0];return m=m[1],h[0]=C*y[0],h[1]=C*y[1],h[2]=C*y[2],h[3]=m*y[3],h[4]=m*y[4],h[5]=m*y[5],h[6]=y[6],h[7]=y[7],h[8]=y[8],h},n.fromTranslation=function(h,y){return h[0]=1,h[1]=0,h[2]=0,h[3]=0,h[4]=1,h[5]=0,h[6]=y[0],h[7]=y[1],h[8]=1,h},n.fromRotation=function(h,y){var m=Math.sin(y);return y=Math.cos(y),h[0]=y,h[1]=m,h[2]=0,h[3]=-m,h[4]=y,h[5]=0,h[6]=0,h[7]=0,h[8]=1,h},n.fromScaling=function(h,y){return h[0]=y[0],h[1]=0,h[2]=0,h[3]=0,h[4]=y[1],h[5]=0,h[6]=0,h[7]=0,h[8]=1,h},n.fromMat2d=function(h,y){return h[0]=y[0],h[1]=y[1],h[2]=0,h[3]=y[2],h[4]=y[3],h[5]=0,h[6]=y[4],h[7]=y[5],h[8]=1,h},n.fromQuat=function(h,y){var m=y[0],C=y[1],P=y[2];y=y[3];var B=m+m,M=C+C,T=P+P;m*=B;var L=C*B;C*=M;var z=P*B,H=P*M;return P*=T,B*=y,M*=y,y*=T,h[0]=1-C-P,h[3]=L-y,h[6]=z+M,h[1]=L+y,h[4]=1-m-P,h[7]=H-B,h[2]=z-M,h[5]=H+B,h[8]=1-m-C,h},n.normalFromMat4=function(h,y){var m=y[0],C=y[1],P=y[2],B=y[3],M=y[4],T=y[5],L=y[6],z=y[7],H=y[8],Z=y[9],J=y[10],V=y[11],ne=y[12],Ce=y[13],_e=y[14];y=y[15];var Fe=m*T-C*M,Ue=m*L-P*M,tt=m*z-B*M,He=C*L-P*T,kt=C*z-B*T,Wt=P*z-B*L,Dr=H*Ce-Z*ne,qr=H*_e-J*ne;H=H*y-V*ne;var br=Z*_e-J*Ce;return Z=Z*y-V*Ce,J=J*y-V*_e,V=Fe*J-Ue*Z+tt*br+He*H-kt*qr+Wt*Dr,V?(V=1/V,h[0]=(T*J-L*Z+z*br)*V,h[1]=(L*H-M*J-z*qr)*V,h[2]=(M*Z-T*H+z*Dr)*V,h[3]=(P*Z-C*J-B*br)*V,h[4]=(m*J-P*H+B*qr)*V,h[5]=(C*H-m*Z-B*Dr)*V,h[6]=(Ce*Wt-_e*kt+y*He)*V,h[7]=(_e*tt-ne*Wt-y*Ue)*V,h[8]=(ne*kt-Ce*tt+y*Fe)*V,h):null},n.projection=function(h,y,m){return h[0]=2/y,h[1]=0,h[2]=0,h[3]=0,h[4]=-2/m,h[5]=0,h[6]=-1,h[7]=1,h[8]=1,h},n.str=function(h){return"mat3("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+")"},n.frob=function(h){return Math.sqrt(Math.pow(h[0],2)+Math.pow(h[1],2)+Math.pow(h[2],2)+Math.pow(h[3],2)+Math.pow(h[4],2)+Math.pow(h[5],2)+Math.pow(h[6],2)+Math.pow(h[7],2)+Math.pow(h[8],2))},n.add=function(h,y,m){return h[0]=y[0]+m[0],h[1]=y[1]+m[1],h[2]=y[2]+m[2],h[3]=y[3]+m[3],h[4]=y[4]+m[4],h[5]=y[5]+m[5],h[6]=y[6]+m[6],h[7]=y[7]+m[7],h[8]=y[8]+m[8],h},n.subtract=a,n.multiplyScalar=function(h,y,m){return h[0]=y[0]*m,h[1]=y[1]*m,h[2]=y[2]*m,h[3]=y[3]*m,h[4]=y[4]*m,h[5]=y[5]*m,h[6]=y[6]*m,h[7]=y[7]*m,h[8]=y[8]*m,h},n.multiplyScalarAndAdd=function(h,y,m,C){return h[0]=y[0]+m[0]*C,h[1]=y[1]+m[1]*C,h[2]=y[2]+m[2]*C,h[3]=y[3]+m[3]*C,h[4]=y[4]+m[4]*C,h[5]=y[5]+m[5]*C,h[6]=y[6]+m[6]*C,h[7]=y[7]+m[7]*C,h[8]=y[8]+m[8]*C,h},n.exactEquals=function(h,y){return h[0]===y[0]&&h[1]===y[1]&&h[2]===y[2]&&h[3]===y[3]&&h[4]===y[4]&&h[5]===y[5]&&h[6]===y[6]&&h[7]===y[7]&&h[8]===y[8]},n.equals=function(h,y){var m=h[0],C=h[1],P=h[2],B=h[3],M=h[4],T=h[5],L=h[6],z=h[7];h=h[8];var H=y[0],Z=y[1],J=y[2],V=y[3],ne=y[4],Ce=y[5],_e=y[6],Fe=y[7];return y=y[8],Math.abs(m-H)<=f.EPSILON*Math.max(1,Math.abs(m),Math.abs(H))&&Math.abs(C-Z)<=f.EPSILON*Math.max(1,Math.abs(C),Math.abs(Z))&&Math.abs(P-J)<=f.EPSILON*Math.max(1,Math.abs(P),Math.abs(J))&&Math.abs(B-V)<=f.EPSILON*Math.max(1,Math.abs(B),Math.abs(V))&&Math.abs(M-ne)<=f.EPSILON*Math.max(1,Math.abs(M),Math.abs(ne))&&Math.abs(T-Ce)<=f.EPSILON*Math.max(1,Math.abs(T),Math.abs(Ce))&&Math.abs(L-_e)<=f.EPSILON*Math.max(1,Math.abs(L),Math.abs(_e))&&Math.abs(z-Fe)<=f.EPSILON*Math.max(1,Math.abs(z),Math.abs(Fe))&&Math.abs(h-y)<=f.EPSILON*Math.max(1,Math.abs(h),Math.abs(y))},n.sub=n.mul=void 0;var f=function(h){if(h&&h.__esModule)return h;var y={};if(h!=null){for(var m in h)if(Object.prototype.hasOwnProperty.call(h,m)){var C=sn&&xl?xl(h,m):{};C.get||C.set?sn(y,m,C):y[m]=h[m]}}return y.default=h,y}(Ke);n.mul=l,n.sub=a});Ae(Tt);var Ft=ve(function(d,n){function l(m){return m[0]=1,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=1,m[6]=0,m[7]=0,m[8]=0,m[9]=0,m[10]=1,m[11]=0,m[12]=0,m[13]=0,m[14]=0,m[15]=1,m}function a(m,C,P){var B=C[0],M=C[1],T=C[2],L=C[3],z=C[4],H=C[5],Z=C[6],J=C[7],V=C[8],ne=C[9],Ce=C[10],_e=C[11],Fe=C[12],Ue=C[13],tt=C[14];C=C[15];var He=P[0],kt=P[1],Wt=P[2],Dr=P[3];return m[0]=He*B+kt*z+Wt*V+Dr*Fe,m[1]=He*M+kt*H+Wt*ne+Dr*Ue,m[2]=He*T+kt*Z+Wt*Ce+Dr*tt,m[3]=He*L+kt*J+Wt*_e+Dr*C,He=P[4],kt=P[5],Wt=P[6],Dr=P[7],m[4]=He*B+kt*z+Wt*V+Dr*Fe,m[5]=He*M+kt*H+Wt*ne+Dr*Ue,m[6]=He*T+kt*Z+Wt*Ce+Dr*tt,m[7]=He*L+kt*J+Wt*_e+Dr*C,He=P[8],kt=P[9],Wt=P[10],Dr=P[11],m[8]=He*B+kt*z+Wt*V+Dr*Fe,m[9]=He*M+kt*H+Wt*ne+Dr*Ue,m[10]=He*T+kt*Z+Wt*Ce+Dr*tt,m[11]=He*L+kt*J+Wt*_e+Dr*C,He=P[12],kt=P[13],Wt=P[14],Dr=P[15],m[12]=He*B+kt*z+Wt*V+Dr*Fe,m[13]=He*M+kt*H+Wt*ne+Dr*Ue,m[14]=He*T+kt*Z+Wt*Ce+Dr*tt,m[15]=He*L+kt*J+Wt*_e+Dr*C,m}function f(m,C,P){var B=C[0],M=C[1],T=C[2],L=C[3],z=B+B,H=M+M,Z=T+T;C=B*z;var J=B*H;B*=Z;var V=M*H;return M*=Z,T*=Z,z*=L,H*=L,L*=Z,m[0]=1-(V+T),m[1]=J+L,m[2]=B-H,m[3]=0,m[4]=J-L,m[5]=1-(C+T),m[6]=M+z,m[7]=0,m[8]=B+H,m[9]=M-z,m[10]=1-(C+V),m[11]=0,m[12]=P[0],m[13]=P[1],m[14]=P[2],m[15]=1,m}function h(m,C,P){return m[0]=C[0]-P[0],m[1]=C[1]-P[1],m[2]=C[2]-P[2],m[3]=C[3]-P[3],m[4]=C[4]-P[4],m[5]=C[5]-P[5],m[6]=C[6]-P[6],m[7]=C[7]-P[7],m[8]=C[8]-P[8],m[9]=C[9]-P[9],m[10]=C[10]-P[10],m[11]=C[11]-P[11],m[12]=C[12]-P[12],m[13]=C[13]-P[13],m[14]=C[14]-P[14],m[15]=C[15]-P[15],m}Object.defineProperty(n,"__esModule",{value:!0}),n.create=function(){var m=new y.ARRAY_TYPE(16);return y.ARRAY_TYPE!=Float32Array&&(m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[6]=0,m[7]=0,m[8]=0,m[9]=0,m[11]=0,m[12]=0,m[13]=0,m[14]=0),m[0]=1,m[5]=1,m[10]=1,m[15]=1,m},n.clone=function(m){var C=new y.ARRAY_TYPE(16);return C[0]=m[0],C[1]=m[1],C[2]=m[2],C[3]=m[3],C[4]=m[4],C[5]=m[5],C[6]=m[6],C[7]=m[7],C[8]=m[8],C[9]=m[9],C[10]=m[10],C[11]=m[11],C[12]=m[12],C[13]=m[13],C[14]=m[14],C[15]=m[15],C},n.copy=function(m,C){return m[0]=C[0],m[1]=C[1],m[2]=C[2],m[3]=C[3],m[4]=C[4],m[5]=C[5],m[6]=C[6],m[7]=C[7],m[8]=C[8],m[9]=C[9],m[10]=C[10],m[11]=C[11],m[12]=C[12],m[13]=C[13],m[14]=C[14],m[15]=C[15],m},n.fromValues=function(m,C,P,B,M,T,L,z,H,Z,J,V,ne,Ce,_e,Fe){var Ue=new y.ARRAY_TYPE(16);return Ue[0]=m,Ue[1]=C,Ue[2]=P,Ue[3]=B,Ue[4]=M,Ue[5]=T,Ue[6]=L,Ue[7]=z,Ue[8]=H,Ue[9]=Z,Ue[10]=J,Ue[11]=V,Ue[12]=ne,Ue[13]=Ce,Ue[14]=_e,Ue[15]=Fe,Ue},n.set=function(m,C,P,B,M,T,L,z,H,Z,J,V,ne,Ce,_e,Fe,Ue){return m[0]=C,m[1]=P,m[2]=B,m[3]=M,m[4]=T,m[5]=L,m[6]=z,m[7]=H,m[8]=Z,m[9]=J,m[10]=V,m[11]=ne,m[12]=Ce,m[13]=_e,m[14]=Fe,m[15]=Ue,m},n.identity=l,n.transpose=function(m,C){if(m===C){var P=C[1],B=C[2],M=C[3],T=C[6],L=C[7],z=C[11];m[1]=C[4],m[2]=C[8],m[3]=C[12],m[4]=P,m[6]=C[9],m[7]=C[13],m[8]=B,m[9]=T,m[11]=C[14],m[12]=M,m[13]=L,m[14]=z}else m[0]=C[0],m[1]=C[4],m[2]=C[8],m[3]=C[12],m[4]=C[1],m[5]=C[5],m[6]=C[9],m[7]=C[13],m[8]=C[2],m[9]=C[6],m[10]=C[10],m[11]=C[14],m[12]=C[3],m[13]=C[7],m[14]=C[11],m[15]=C[15];return m},n.invert=function(m,C){var P=C[0],B=C[1],M=C[2],T=C[3],L=C[4],z=C[5],H=C[6],Z=C[7],J=C[8],V=C[9],ne=C[10],Ce=C[11],_e=C[12],Fe=C[13],Ue=C[14];C=C[15];var tt=P*z-B*L,He=P*H-M*L,kt=P*Z-T*L,Wt=B*H-M*z,Dr=B*Z-T*z,qr=M*Z-T*H,br=J*Fe-V*_e,On=J*Ue-ne*_e,Lt=J*C-Ce*_e,xr=V*Ue-ne*Fe,kn=V*C-Ce*Fe,Yn=ne*C-Ce*Ue,ci=tt*Yn-He*kn+kt*xr+Wt*Lt-Dr*On+qr*br;return ci?(ci=1/ci,m[0]=(z*Yn-H*kn+Z*xr)*ci,m[1]=(M*kn-B*Yn-T*xr)*ci,m[2]=(Fe*qr-Ue*Dr+C*Wt)*ci,m[3]=(ne*Dr-V*qr-Ce*Wt)*ci,m[4]=(H*Lt-L*Yn-Z*On)*ci,m[5]=(P*Yn-M*Lt+T*On)*ci,m[6]=(Ue*kt-_e*qr-C*He)*ci,m[7]=(J*qr-ne*kt+Ce*He)*ci,m[8]=(L*kn-z*Lt+Z*br)*ci,m[9]=(B*Lt-P*kn-T*br)*ci,m[10]=(_e*Dr-Fe*kt+C*tt)*ci,m[11]=(V*kt-J*Dr-Ce*tt)*ci,m[12]=(z*On-L*xr-H*br)*ci,m[13]=(P*xr-B*On+M*br)*ci,m[14]=(Fe*He-_e*Wt-Ue*tt)*ci,m[15]=(J*Wt-V*He+ne*tt)*ci,m):null},n.adjoint=function(m,C){var P=C[0],B=C[1],M=C[2],T=C[3],L=C[4],z=C[5],H=C[6],Z=C[7],J=C[8],V=C[9],ne=C[10],Ce=C[11],_e=C[12],Fe=C[13],Ue=C[14];return C=C[15],m[0]=z*(ne*C-Ce*Ue)-V*(H*C-Z*Ue)+Fe*(H*Ce-Z*ne),m[1]=-(B*(ne*C-Ce*Ue)-V*(M*C-T*Ue)+Fe*(M*Ce-T*ne)),m[2]=B*(H*C-Z*Ue)-z*(M*C-T*Ue)+Fe*(M*Z-T*H),m[3]=-(B*(H*Ce-Z*ne)-z*(M*Ce-T*ne)+V*(M*Z-T*H)),m[4]=-(L*(ne*C-Ce*Ue)-J*(H*C-Z*Ue)+_e*(H*Ce-Z*ne)),m[5]=P*(ne*C-Ce*Ue)-J*(M*C-T*Ue)+_e*(M*Ce-T*ne),m[6]=-(P*(H*C-Z*Ue)-L*(M*C-T*Ue)+_e*(M*Z-T*H)),m[7]=P*(H*Ce-Z*ne)-L*(M*Ce-T*ne)+J*(M*Z-T*H),m[8]=L*(V*C-Ce*Fe)-J*(z*C-Z*Fe)+_e*(z*Ce-Z*V),m[9]=-(P*(V*C-Ce*Fe)-J*(B*C-T*Fe)+_e*(B*Ce-T*V)),m[10]=P*(z*C-Z*Fe)-L*(B*C-T*Fe)+_e*(B*Z-T*z),m[11]=-(P*(z*Ce-Z*V)-L*(B*Ce-T*V)+J*(B*Z-T*z)),m[12]=-(L*(V*Ue-ne*Fe)-J*(z*Ue-H*Fe)+_e*(z*ne-H*V)),m[13]=P*(V*Ue-ne*Fe)-J*(B*Ue-M*Fe)+_e*(B*ne-M*V),m[14]=-(P*(z*Ue-H*Fe)-L*(B*Ue-M*Fe)+_e*(B*H-M*z)),m[15]=P*(z*ne-H*V)-L*(B*ne-M*V)+J*(B*H-M*z),m},n.determinant=function(m){var C=m[0],P=m[1],B=m[2],M=m[3],T=m[4],L=m[5],z=m[6],H=m[7],Z=m[8],J=m[9],V=m[10],ne=m[11],Ce=m[12],_e=m[13],Fe=m[14];return m=m[15],(C*L-P*T)*(V*m-ne*Fe)-(C*z-B*T)*(J*m-ne*_e)+(C*H-M*T)*(J*Fe-V*_e)+(P*z-B*L)*(Z*m-ne*Ce)-(P*H-M*L)*(Z*Fe-V*Ce)+(B*H-M*z)*(Z*_e-J*Ce)},n.multiply=a,n.translate=function(m,C,P){var B=P[0],M=P[1];if(P=P[2],C===m)m[12]=C[0]*B+C[4]*M+C[8]*P+C[12],m[13]=C[1]*B+C[5]*M+C[9]*P+C[13],m[14]=C[2]*B+C[6]*M+C[10]*P+C[14],m[15]=C[3]*B+C[7]*M+C[11]*P+C[15];else{var T=C[0],L=C[1],z=C[2],H=C[3],Z=C[4],J=C[5],V=C[6],ne=C[7],Ce=C[8],_e=C[9],Fe=C[10],Ue=C[11];m[0]=T,m[1]=L,m[2]=z,m[3]=H,m[4]=Z,m[5]=J,m[6]=V,m[7]=ne,m[8]=Ce,m[9]=_e,m[10]=Fe,m[11]=Ue,m[12]=T*B+Z*M+Ce*P+C[12],m[13]=L*B+J*M+_e*P+C[13],m[14]=z*B+V*M+Fe*P+C[14],m[15]=H*B+ne*M+Ue*P+C[15]}return m},n.scale=function(m,C,P){var B=P[0],M=P[1];return P=P[2],m[0]=C[0]*B,m[1]=C[1]*B,m[2]=C[2]*B,m[3]=C[3]*B,m[4]=C[4]*M,m[5]=C[5]*M,m[6]=C[6]*M,m[7]=C[7]*M,m[8]=C[8]*P,m[9]=C[9]*P,m[10]=C[10]*P,m[11]=C[11]*P,m[12]=C[12],m[13]=C[13],m[14]=C[14],m[15]=C[15],m},n.rotate=function(m,C,P,B){var M=B[0],T=B[1];B=B[2];var L=Math.sqrt(M*M+T*T+B*B);if(L<y.EPSILON)return null;L=1/L,M*=L,T*=L,B*=L;var z=Math.sin(P),H=Math.cos(P),Z=1-H;P=C[0],L=C[1];var J=C[2],V=C[3],ne=C[4],Ce=C[5],_e=C[6],Fe=C[7],Ue=C[8],tt=C[9],He=C[10],kt=C[11],Wt=M*M*Z+H,Dr=T*M*Z+B*z,qr=B*M*Z-T*z,br=M*T*Z-B*z,On=T*T*Z+H,Lt=B*T*Z+M*z,xr=M*B*Z+T*z;return M=T*B*Z-M*z,T=B*B*Z+H,m[0]=P*Wt+ne*Dr+Ue*qr,m[1]=L*Wt+Ce*Dr+tt*qr,m[2]=J*Wt+_e*Dr+He*qr,m[3]=V*Wt+Fe*Dr+kt*qr,m[4]=P*br+ne*On+Ue*Lt,m[5]=L*br+Ce*On+tt*Lt,m[6]=J*br+_e*On+He*Lt,m[7]=V*br+Fe*On+kt*Lt,m[8]=P*xr+ne*M+Ue*T,m[9]=L*xr+Ce*M+tt*T,m[10]=J*xr+_e*M+He*T,m[11]=V*xr+Fe*M+kt*T,C!==m&&(m[12]=C[12],m[13]=C[13],m[14]=C[14],m[15]=C[15]),m},n.rotateX=function(m,C,P){var B=Math.sin(P);P=Math.cos(P);var M=C[4],T=C[5],L=C[6],z=C[7],H=C[8],Z=C[9],J=C[10],V=C[11];return C!==m&&(m[0]=C[0],m[1]=C[1],m[2]=C[2],m[3]=C[3],m[12]=C[12],m[13]=C[13],m[14]=C[14],m[15]=C[15]),m[4]=M*P+H*B,m[5]=T*P+Z*B,m[6]=L*P+J*B,m[7]=z*P+V*B,m[8]=H*P-M*B,m[9]=Z*P-T*B,m[10]=J*P-L*B,m[11]=V*P-z*B,m},n.rotateY=function(m,C,P){var B=Math.sin(P);P=Math.cos(P);var M=C[0],T=C[1],L=C[2],z=C[3],H=C[8],Z=C[9],J=C[10],V=C[11];return C!==m&&(m[4]=C[4],m[5]=C[5],m[6]=C[6],m[7]=C[7],m[12]=C[12],m[13]=C[13],m[14]=C[14],m[15]=C[15]),m[0]=M*P-H*B,m[1]=T*P-Z*B,m[2]=L*P-J*B,m[3]=z*P-V*B,m[8]=M*B+H*P,m[9]=T*B+Z*P,m[10]=L*B+J*P,m[11]=z*B+V*P,m},n.rotateZ=function(m,C,P){var B=Math.sin(P);P=Math.cos(P);var M=C[0],T=C[1],L=C[2],z=C[3],H=C[4],Z=C[5],J=C[6],V=C[7];return C!==m&&(m[8]=C[8],m[9]=C[9],m[10]=C[10],m[11]=C[11],m[12]=C[12],m[13]=C[13],m[14]=C[14],m[15]=C[15]),m[0]=M*P+H*B,m[1]=T*P+Z*B,m[2]=L*P+J*B,m[3]=z*P+V*B,m[4]=H*P-M*B,m[5]=Z*P-T*B,m[6]=J*P-L*B,m[7]=V*P-z*B,m},n.fromTranslation=function(m,C){return m[0]=1,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=1,m[6]=0,m[7]=0,m[8]=0,m[9]=0,m[10]=1,m[11]=0,m[12]=C[0],m[13]=C[1],m[14]=C[2],m[15]=1,m},n.fromScaling=function(m,C){return m[0]=C[0],m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=C[1],m[6]=0,m[7]=0,m[8]=0,m[9]=0,m[10]=C[2],m[11]=0,m[12]=0,m[13]=0,m[14]=0,m[15]=1,m},n.fromRotation=function(m,C,P){var B=P[0],M=P[1];P=P[2];var T=Math.sqrt(B*B+M*M+P*P);if(T<y.EPSILON)return null;T=1/T,B*=T,M*=T,P*=T,T=Math.sin(C),C=Math.cos(C);var L=1-C;return m[0]=B*B*L+C,m[1]=M*B*L+P*T,m[2]=P*B*L-M*T,m[3]=0,m[4]=B*M*L-P*T,m[5]=M*M*L+C,m[6]=P*M*L+B*T,m[7]=0,m[8]=B*P*L+M*T,m[9]=M*P*L-B*T,m[10]=P*P*L+C,m[11]=0,m[12]=0,m[13]=0,m[14]=0,m[15]=1,m},n.fromXRotation=function(m,C){var P=Math.sin(C);return C=Math.cos(C),m[0]=1,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=C,m[6]=P,m[7]=0,m[8]=0,m[9]=-P,m[10]=C,m[11]=0,m[12]=0,m[13]=0,m[14]=0,m[15]=1,m},n.fromYRotation=function(m,C){var P=Math.sin(C);return C=Math.cos(C),m[0]=C,m[1]=0,m[2]=-P,m[3]=0,m[4]=0,m[5]=1,m[6]=0,m[7]=0,m[8]=P,m[9]=0,m[10]=C,m[11]=0,m[12]=0,m[13]=0,m[14]=0,m[15]=1,m},n.fromZRotation=function(m,C){var P=Math.sin(C);return C=Math.cos(C),m[0]=C,m[1]=P,m[2]=0,m[3]=0,m[4]=-P,m[5]=C,m[6]=0,m[7]=0,m[8]=0,m[9]=0,m[10]=1,m[11]=0,m[12]=0,m[13]=0,m[14]=0,m[15]=1,m},n.fromRotationTranslation=f,n.fromQuat2=function(m,C){var P=new y.ARRAY_TYPE(3),B=-C[0],M=-C[1],T=-C[2],L=C[3],z=C[4],H=C[5],Z=C[6],J=C[7],V=B*B+M*M+T*T+L*L;return 0<V?(P[0]=2*(z*L+J*B+H*T-Z*M)/V,P[1]=2*(H*L+J*M+Z*B-z*T)/V,P[2]=2*(Z*L+J*T+z*M-H*B)/V):(P[0]=2*(z*L+J*B+H*T-Z*M),P[1]=2*(H*L+J*M+Z*B-z*T),P[2]=2*(Z*L+J*T+z*M-H*B)),f(m,C,P),m},n.getTranslation=function(m,C){return m[0]=C[12],m[1]=C[13],m[2]=C[14],m},n.getScaling=function(m,C){var P=C[0],B=C[1],M=C[2],T=C[4],L=C[5],z=C[6],H=C[8],Z=C[9];return C=C[10],m[0]=Math.sqrt(P*P+B*B+M*M),m[1]=Math.sqrt(T*T+L*L+z*z),m[2]=Math.sqrt(H*H+Z*Z+C*C),m},n.getRotation=function(m,C){var P=C[0]+C[5]+C[10];return 0<P?(P=2*Math.sqrt(P+1),m[3]=.25*P,m[0]=(C[6]-C[9])/P,m[1]=(C[8]-C[2])/P,m[2]=(C[1]-C[4])/P):C[0]>C[5]&&C[0]>C[10]?(P=2*Math.sqrt(1+C[0]-C[5]-C[10]),m[3]=(C[6]-C[9])/P,m[0]=.25*P,m[1]=(C[1]+C[4])/P,m[2]=(C[8]+C[2])/P):C[5]>C[10]?(P=2*Math.sqrt(1+C[5]-C[0]-C[10]),m[3]=(C[8]-C[2])/P,m[0]=(C[1]+C[4])/P,m[1]=.25*P,m[2]=(C[6]+C[9])/P):(P=2*Math.sqrt(1+C[10]-C[0]-C[5]),m[3]=(C[1]-C[4])/P,m[0]=(C[8]+C[2])/P,m[1]=(C[6]+C[9])/P,m[2]=.25*P),m},n.fromRotationTranslationScale=function(m,C,P,B){var M=C[0],T=C[1],L=C[2],z=C[3],H=M+M,Z=T+T,J=L+L;C=M*H;var V=M*Z;M*=J;var ne=T*Z;T*=J,L*=J,H*=z,Z*=z,z*=J,J=B[0];var Ce=B[1];return B=B[2],m[0]=(1-(ne+L))*J,m[1]=(V+z)*J,m[2]=(M-Z)*J,m[3]=0,m[4]=(V-z)*Ce,m[5]=(1-(C+L))*Ce,m[6]=(T+H)*Ce,m[7]=0,m[8]=(M+Z)*B,m[9]=(T-H)*B,m[10]=(1-(C+ne))*B,m[11]=0,m[12]=P[0],m[13]=P[1],m[14]=P[2],m[15]=1,m},n.fromRotationTranslationScaleOrigin=function(m,C,P,B,M){var T=C[0],L=C[1],z=C[2],H=C[3],Z=T+T,J=L+L,V=z+z;C=T*Z;var ne=T*J,Ce=T*V;T=L*J,L*=V;var _e=z*V;z=H*Z,J*=H;var Fe=H*V,Ue=B[0],tt=B[1];V=B[2],B=M[0],H=M[1],M=M[2],Z=(1-(T+_e))*Ue;var He=(ne+Fe)*Ue;return Ue*=Ce-J,ne=(ne-Fe)*tt,_e=(1-(C+_e))*tt,tt*=L+z,Ce=(Ce+J)*V,L=(L-z)*V,C=(1-(C+T))*V,m[0]=Z,m[1]=He,m[2]=Ue,m[3]=0,m[4]=ne,m[5]=_e,m[6]=tt,m[7]=0,m[8]=Ce,m[9]=L,m[10]=C,m[11]=0,m[12]=P[0]+B-(Z*B+ne*H+Ce*M),m[13]=P[1]+H-(He*B+_e*H+L*M),m[14]=P[2]+M-(Ue*B+tt*H+C*M),m[15]=1,m},n.fromQuat=function(m,C){var P=C[0],B=C[1],M=C[2];C=C[3];var T=P+P,L=B+B,z=M+M;P*=T;var H=B*T;B*=L;var Z=M*T,J=M*L;return M*=z,T*=C,L*=C,C*=z,m[0]=1-B-M,m[1]=H+C,m[2]=Z-L,m[3]=0,m[4]=H-C,m[5]=1-P-M,m[6]=J+T,m[7]=0,m[8]=Z+L,m[9]=J-T,m[10]=1-P-B,m[11]=0,m[12]=0,m[13]=0,m[14]=0,m[15]=1,m},n.frustum=function(m,C,P,B,M,T,L){var z=1/(P-C),H=1/(M-B),Z=1/(T-L);return m[0]=2*T*z,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=2*T*H,m[6]=0,m[7]=0,m[8]=(P+C)*z,m[9]=(M+B)*H,m[10]=(L+T)*Z,m[11]=-1,m[12]=0,m[13]=0,m[14]=L*T*2*Z,m[15]=0,m},n.perspective=function(m,C,P,B,M){return C=1/Math.tan(C/2),m[0]=C/P,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=C,m[6]=0,m[7]=0,m[8]=0,m[9]=0,m[11]=-1,m[12]=0,m[13]=0,m[15]=0,M!=null&&M!==Infinity?(P=1/(B-M),m[10]=(M+B)*P,m[14]=2*M*B*P):(m[10]=-1,m[14]=-2*B),m},n.perspectiveFromFieldOfView=function(m,C,P,B){var M=Math.tan(C.upDegrees*Math.PI/180),T=Math.tan(C.downDegrees*Math.PI/180),L=Math.tan(C.leftDegrees*Math.PI/180);C=Math.tan(C.rightDegrees*Math.PI/180);var z=2/(L+C),H=2/(M+T);return m[0]=z,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=H,m[6]=0,m[7]=0,m[8]=-((L-C)*z*.5),m[9]=(M-T)*H*.5,m[10]=B/(P-B),m[11]=-1,m[12]=0,m[13]=0,m[14]=B*P/(P-B),m[15]=0,m},n.ortho=function(m,C,P,B,M,T,L){var z=1/(C-P),H=1/(B-M),Z=1/(T-L);return m[0]=-2*z,m[1]=0,m[2]=0,m[3]=0,m[4]=0,m[5]=-2*H,m[6]=0,m[7]=0,m[8]=0,m[9]=0,m[10]=2*Z,m[11]=0,m[12]=(C+P)*z,m[13]=(M+B)*H,m[14]=(L+T)*Z,m[15]=1,m},n.lookAt=function(m,C,P,B){var M=C[0],T=C[1];C=C[2];var L=B[0],z=B[1],H=B[2],Z=P[0];B=P[1];var J=P[2];if(Math.abs(M-Z)<y.EPSILON&&Math.abs(T-B)<y.EPSILON&&Math.abs(C-J)<y.EPSILON)return l(m);P=M-Z,B=T-B,Z=C-J;var V=1/Math.sqrt(P*P+B*B+Z*Z);P*=V,B*=V,Z*=V,J=z*Z-H*B,H=H*P-L*Z,L=L*B-z*P,(V=Math.sqrt(J*J+H*H+L*L))?(V=1/V,J*=V,H*=V,L*=V):L=H=J=0,z=B*L-Z*H;var ne=Z*J-P*L,Ce=P*H-B*J;return(V=Math.sqrt(z*z+ne*ne+Ce*Ce))?(V=1/V,z*=V,ne*=V,Ce*=V):Ce=ne=z=0,m[0]=J,m[1]=z,m[2]=P,m[3]=0,m[4]=H,m[5]=ne,m[6]=B,m[7]=0,m[8]=L,m[9]=Ce,m[10]=Z,m[11]=0,m[12]=-(J*M+H*T+L*C),m[13]=-(z*M+ne*T+Ce*C),m[14]=-(P*M+B*T+Z*C),m[15]=1,m},n.targetTo=function(m,C,P,B){var M=C[0],T=C[1];C=C[2];var L=B[0],z=B[1],H=B[2];B=M-P[0];var Z=T-P[1];P=C-P[2];var J=B*B+Z*Z+P*P;0<J&&(J=1/Math.sqrt(J),B*=J,Z*=J,P*=J);var V=z*P-H*Z;return H=H*B-L*P,L=L*Z-z*B,J=V*V+H*H+L*L,0<J&&(J=1/Math.sqrt(J),V*=J,H*=J,L*=J),m[0]=V,m[1]=H,m[2]=L,m[3]=0,m[4]=Z*L-P*H,m[5]=P*V-B*L,m[6]=B*H-Z*V,m[7]=0,m[8]=B,m[9]=Z,m[10]=P,m[11]=0,m[12]=M,m[13]=T,m[14]=C,m[15]=1,m},n.str=function(m){return"mat4("+m[0]+", "+m[1]+", "+m[2]+", "+m[3]+", "+m[4]+", "+m[5]+", "+m[6]+", "+m[7]+", "+m[8]+", "+m[9]+", "+m[10]+", "+m[11]+", "+m[12]+", "+m[13]+", "+m[14]+", "+m[15]+")"},n.frob=function(m){return Math.sqrt(Math.pow(m[0],2)+Math.pow(m[1],2)+Math.pow(m[2],2)+Math.pow(m[3],2)+Math.pow(m[4],2)+Math.pow(m[5],2)+Math.pow(m[6],2)+Math.pow(m[7],2)+Math.pow(m[8],2)+Math.pow(m[9],2)+Math.pow(m[10],2)+Math.pow(m[11],2)+Math.pow(m[12],2)+Math.pow(m[13],2)+Math.pow(m[14],2)+Math.pow(m[15],2))},n.add=function(m,C,P){return m[0]=C[0]+P[0],m[1]=C[1]+P[1],m[2]=C[2]+P[2],m[3]=C[3]+P[3],m[4]=C[4]+P[4],m[5]=C[5]+P[5],m[6]=C[6]+P[6],m[7]=C[7]+P[7],m[8]=C[8]+P[8],m[9]=C[9]+P[9],m[10]=C[10]+P[10],m[11]=C[11]+P[11],m[12]=C[12]+P[12],m[13]=C[13]+P[13],m[14]=C[14]+P[14],m[15]=C[15]+P[15],m},n.subtract=h,n.multiplyScalar=function(m,C,P){return m[0]=C[0]*P,m[1]=C[1]*P,m[2]=C[2]*P,m[3]=C[3]*P,m[4]=C[4]*P,m[5]=C[5]*P,m[6]=C[6]*P,m[7]=C[7]*P,m[8]=C[8]*P,m[9]=C[9]*P,m[10]=C[10]*P,m[11]=C[11]*P,m[12]=C[12]*P,m[13]=C[13]*P,m[14]=C[14]*P,m[15]=C[15]*P,m},n.multiplyScalarAndAdd=function(m,C,P,B){return m[0]=C[0]+P[0]*B,m[1]=C[1]+P[1]*B,m[2]=C[2]+P[2]*B,m[3]=C[3]+P[3]*B,m[4]=C[4]+P[4]*B,m[5]=C[5]+P[5]*B,m[6]=C[6]+P[6]*B,m[7]=C[7]+P[7]*B,m[8]=C[8]+P[8]*B,m[9]=C[9]+P[9]*B,m[10]=C[10]+P[10]*B,m[11]=C[11]+P[11]*B,m[12]=C[12]+P[12]*B,m[13]=C[13]+P[13]*B,m[14]=C[14]+P[14]*B,m[15]=C[15]+P[15]*B,m},n.exactEquals=function(m,C){return m[0]===C[0]&&m[1]===C[1]&&m[2]===C[2]&&m[3]===C[3]&&m[4]===C[4]&&m[5]===C[5]&&m[6]===C[6]&&m[7]===C[7]&&m[8]===C[8]&&m[9]===C[9]&&m[10]===C[10]&&m[11]===C[11]&&m[12]===C[12]&&m[13]===C[13]&&m[14]===C[14]&&m[15]===C[15]},n.equals=function(m,C){var P=m[0],B=m[1],M=m[2],T=m[3],L=m[4],z=m[5],H=m[6],Z=m[7],J=m[8],V=m[9],ne=m[10],Ce=m[11],_e=m[12],Fe=m[13],Ue=m[14];m=m[15];var tt=C[0],He=C[1],kt=C[2],Wt=C[3],Dr=C[4],qr=C[5],br=C[6],On=C[7],Lt=C[8],xr=C[9],kn=C[10],Yn=C[11],ci=C[12],Rn=C[13],Ps=C[14];return C=C[15],Math.abs(P-tt)<=y.EPSILON*Math.max(1,Math.abs(P),Math.abs(tt))&&Math.abs(B-He)<=y.EPSILON*Math.max(1,Math.abs(B),Math.abs(He))&&Math.abs(M-kt)<=y.EPSILON*Math.max(1,Math.abs(M),Math.abs(kt))&&Math.abs(T-Wt)<=y.EPSILON*Math.max(1,Math.abs(T),Math.abs(Wt))&&Math.abs(L-Dr)<=y.EPSILON*Math.max(1,Math.abs(L),Math.abs(Dr))&&Math.abs(z-qr)<=y.EPSILON*Math.max(1,Math.abs(z),Math.abs(qr))&&Math.abs(H-br)<=y.EPSILON*Math.max(1,Math.abs(H),Math.abs(br))&&Math.abs(Z-On)<=y.EPSILON*Math.max(1,Math.abs(Z),Math.abs(On))&&Math.abs(J-Lt)<=y.EPSILON*Math.max(1,Math.abs(J),Math.abs(Lt))&&Math.abs(V-xr)<=y.EPSILON*Math.max(1,Math.abs(V),Math.abs(xr))&&Math.abs(ne-kn)<=y.EPSILON*Math.max(1,Math.abs(ne),Math.abs(kn))&&Math.abs(Ce-Yn)<=y.EPSILON*Math.max(1,Math.abs(Ce),Math.abs(Yn))&&Math.abs(_e-ci)<=y.EPSILON*Math.max(1,Math.abs(_e),Math.abs(ci))&&Math.abs(Fe-Rn)<=y.EPSILON*Math.max(1,Math.abs(Fe),Math.abs(Rn))&&Math.abs(Ue-Ps)<=y.EPSILON*Math.max(1,Math.abs(Ue),Math.abs(Ps))&&Math.abs(m-C)<=y.EPSILON*Math.max(1,Math.abs(m),Math.abs(C))},n.sub=n.mul=void 0;var y=function(m){if(m&&m.__esModule)return m;var C={};if(m!=null){for(var P in m)if(Object.prototype.hasOwnProperty.call(m,P)){var B=sn&&xl?xl(m,P):{};B.get||B.set?sn(C,P,B):C[P]=m[P]}}return C.default=m,C}(Ke);n.mul=a,n.sub=h});Ae(Ft);var sr=ve(function(d,n){function l(){var z=new L.ARRAY_TYPE(3);return L.ARRAY_TYPE!=Float32Array&&(z[0]=0,z[1]=0,z[2]=0),z}function a(z){var H=z[0],Z=z[1];return z=z[2],Math.sqrt(H*H+Z*Z+z*z)}function f(z,H,Z){var J=new L.ARRAY_TYPE(3);return J[0]=z,J[1]=H,J[2]=Z,J}function h(z,H,Z){return z[0]=H[0]-Z[0],z[1]=H[1]-Z[1],z[2]=H[2]-Z[2],z}function y(z,H,Z){return z[0]=H[0]*Z[0],z[1]=H[1]*Z[1],z[2]=H[2]*Z[2],z}function m(z,H,Z){return z[0]=H[0]/Z[0],z[1]=H[1]/Z[1],z[2]=H[2]/Z[2],z}function C(z,H){var Z=H[0]-z[0],J=H[1]-z[1];return z=H[2]-z[2],Math.sqrt(Z*Z+J*J+z*z)}function P(z,H){var Z=H[0]-z[0],J=H[1]-z[1];return z=H[2]-z[2],Z*Z+J*J+z*z}function B(z){var H=z[0],Z=z[1];return z=z[2],H*H+Z*Z+z*z}function M(z,H){var Z=H[0],J=H[1],V=H[2];return Z=Z*Z+J*J+V*V,0<Z&&(Z=1/Math.sqrt(Z)),z[0]=H[0]*Z,z[1]=H[1]*Z,z[2]=H[2]*Z,z}function T(z,H){return z[0]*H[0]+z[1]*H[1]+z[2]*H[2]}Object.defineProperty(n,"__esModule",{value:!0}),n.create=l,n.clone=function(z){var H=new L.ARRAY_TYPE(3);return H[0]=z[0],H[1]=z[1],H[2]=z[2],H},n.length=a,n.fromValues=f,n.copy=function(z,H){return z[0]=H[0],z[1]=H[1],z[2]=H[2],z},n.set=function(z,H,Z,J){return z[0]=H,z[1]=Z,z[2]=J,z},n.add=function(z,H,Z){return z[0]=H[0]+Z[0],z[1]=H[1]+Z[1],z[2]=H[2]+Z[2],z},n.subtract=h,n.multiply=y,n.divide=m,n.ceil=function(z,H){return z[0]=Math.ceil(H[0]),z[1]=Math.ceil(H[1]),z[2]=Math.ceil(H[2]),z},n.floor=function(z,H){return z[0]=Math.floor(H[0]),z[1]=Math.floor(H[1]),z[2]=Math.floor(H[2]),z},n.min=function(z,H,Z){return z[0]=Math.min(H[0],Z[0]),z[1]=Math.min(H[1],Z[1]),z[2]=Math.min(H[2],Z[2]),z},n.max=function(z,H,Z){return z[0]=Math.max(H[0],Z[0]),z[1]=Math.max(H[1],Z[1]),z[2]=Math.max(H[2],Z[2]),z},n.round=function(z,H){return z[0]=Math.round(H[0]),z[1]=Math.round(H[1]),z[2]=Math.round(H[2]),z},n.scale=function(z,H,Z){return z[0]=H[0]*Z,z[1]=H[1]*Z,z[2]=H[2]*Z,z},n.scaleAndAdd=function(z,H,Z,J){return z[0]=H[0]+Z[0]*J,z[1]=H[1]+Z[1]*J,z[2]=H[2]+Z[2]*J,z},n.distance=C,n.squaredDistance=P,n.squaredLength=B,n.negate=function(z,H){return z[0]=-H[0],z[1]=-H[1],z[2]=-H[2],z},n.inverse=function(z,H){return z[0]=1/H[0],z[1]=1/H[1],z[2]=1/H[2],z},n.normalize=M,n.dot=T,n.cross=function(z,H,Z){var J=H[0],V=H[1];H=H[2];var ne=Z[0],Ce=Z[1];return Z=Z[2],z[0]=V*Z-H*Ce,z[1]=H*ne-J*Z,z[2]=J*Ce-V*ne,z},n.lerp=function(z,H,Z,J){var V=H[0],ne=H[1];return H=H[2],z[0]=V+J*(Z[0]-V),z[1]=ne+J*(Z[1]-ne),z[2]=H+J*(Z[2]-H),z},n.hermite=function(z,H,Z,J,V,ne){var Ce=ne*ne,_e=Ce*(2*ne-3)+1,Fe=Ce*(ne-2)+ne,Ue=Ce*(ne-1);return ne=Ce*(3-2*ne),z[0]=H[0]*_e+Z[0]*Fe+J[0]*Ue+V[0]*ne,z[1]=H[1]*_e+Z[1]*Fe+J[1]*Ue+V[1]*ne,z[2]=H[2]*_e+Z[2]*Fe+J[2]*Ue+V[2]*ne,z},n.bezier=function(z,H,Z,J,V,ne){var Ce=1-ne,_e=Ce*Ce,Fe=ne*ne,Ue=_e*Ce;return _e*=3*ne,Ce*=3*Fe,ne*=Fe,z[0]=H[0]*Ue+Z[0]*_e+J[0]*Ce+V[0]*ne,z[1]=H[1]*Ue+Z[1]*_e+J[1]*Ce+V[1]*ne,z[2]=H[2]*Ue+Z[2]*_e+J[2]*Ce+V[2]*ne,z},n.random=function(z,H){H=H||1;var Z=2*L.RANDOM()*Math.PI,J=2*L.RANDOM()-1,V=Math.sqrt(1-J*J)*H;return z[0]=Math.cos(Z)*V,z[1]=Math.sin(Z)*V,z[2]=J*H,z},n.transformMat4=function(z,H,Z){var J=H[0],V=H[1];H=H[2];var ne=Z[3]*J+Z[7]*V+Z[11]*H+Z[15];return ne=ne||1,z[0]=(Z[0]*J+Z[4]*V+Z[8]*H+Z[12])/ne,z[1]=(Z[1]*J+Z[5]*V+Z[9]*H+Z[13])/ne,z[2]=(Z[2]*J+Z[6]*V+Z[10]*H+Z[14])/ne,z},n.transformMat3=function(z,H,Z){var J=H[0],V=H[1];return H=H[2],z[0]=J*Z[0]+V*Z[3]+H*Z[6],z[1]=J*Z[1]+V*Z[4]+H*Z[7],z[2]=J*Z[2]+V*Z[5]+H*Z[8],z},n.transformQuat=function(z,H,Z){var J=Z[0],V=Z[1],ne=Z[2],Ce=H[0],_e=H[1];H=H[2];var Fe=V*H-ne*_e,Ue=ne*Ce-J*H,tt=J*_e-V*Ce;return Z=2*Z[3],z[0]=Ce+Fe*Z+2*(V*tt-ne*Ue),z[1]=_e+Ue*Z+2*(ne*Fe-J*tt),z[2]=H+tt*Z+2*(J*Ue-V*Fe),z},n.rotateX=function(z,H,Z,J){var V=[],ne=[];return V[0]=H[0]-Z[0],V[1]=H[1]-Z[1],V[2]=H[2]-Z[2],ne[0]=V[0],ne[1]=V[1]*Math.cos(J)-V[2]*Math.sin(J),ne[2]=V[1]*Math.sin(J)+V[2]*Math.cos(J),z[0]=ne[0]+Z[0],z[1]=ne[1]+Z[1],z[2]=ne[2]+Z[2],z},n.rotateY=function(z,H,Z,J){var V=[],ne=[];return V[0]=H[0]-Z[0],V[1]=H[1]-Z[1],V[2]=H[2]-Z[2],ne[0]=V[2]*Math.sin(J)+V[0]*Math.cos(J),ne[1]=V[1],ne[2]=V[2]*Math.cos(J)-V[0]*Math.sin(J),z[0]=ne[0]+Z[0],z[1]=ne[1]+Z[1],z[2]=ne[2]+Z[2],z},n.rotateZ=function(z,H,Z,J){var V=[],ne=[];return V[0]=H[0]-Z[0],V[1]=H[1]-Z[1],V[2]=H[2]-Z[2],ne[0]=V[0]*Math.cos(J)-V[1]*Math.sin(J),ne[1]=V[0]*Math.sin(J)+V[1]*Math.cos(J),ne[2]=V[2],z[0]=ne[0]+Z[0],z[1]=ne[1]+Z[1],z[2]=ne[2]+Z[2],z},n.angle=function(z,H){return z=f(z[0],z[1],z[2]),H=f(H[0],H[1],H[2]),M(z,z),M(H,H),H=T(z,H),1<H?0:-1>H?Math.PI:Math.acos(H)},n.zero=function(z){return z[0]=0,z[1]=0,z[2]=0,z},n.str=function(z){return"vec3("+z[0]+", "+z[1]+", "+z[2]+")"},n.exactEquals=function(z,H){return z[0]===H[0]&&z[1]===H[1]&&z[2]===H[2]},n.equals=function(z,H){var Z=z[0],J=z[1];z=z[2];var V=H[0],ne=H[1];return H=H[2],Math.abs(Z-V)<=L.EPSILON*Math.max(1,Math.abs(Z),Math.abs(V))&&Math.abs(J-ne)<=L.EPSILON*Math.max(1,Math.abs(J),Math.abs(ne))&&Math.abs(z-H)<=L.EPSILON*Math.max(1,Math.abs(z),Math.abs(H))},n.forEach=n.sqrLen=n.len=n.sqrDist=n.dist=n.div=n.mul=n.sub=void 0;var L=function(z){if(z&&z.__esModule)return z;var H={};if(z!=null){for(var Z in z)if(Object.prototype.hasOwnProperty.call(z,Z)){var J=sn&&xl?xl(z,Z):{};J.get||J.set?sn(H,Z,J):H[Z]=z[Z]}}return H.default=z,H}(Ke);n.sub=h,n.mul=y,n.div=m,n.dist=C,n.sqrDist=P,n.len=a,n.sqrLen=B,d=function(){var z=l();return function(H,Z,J,V,ne,Ce){for(Z||(Z=3),J||(J=0),V=V?Math.min(V*Z+J,H.length):H.length;J<V;J+=Z)z[0]=H[J],z[1]=H[J+1],z[2]=H[J+2],ne(z,z,Ce),H[J]=z[0],H[J+1]=z[1],H[J+2]=z[2];return H}}(),n.forEach=d});Ae(sr);var ur=ve(function(d,n){function l(){var M=new B.ARRAY_TYPE(4);return B.ARRAY_TYPE!=Float32Array&&(M[0]=0,M[1]=0,M[2]=0,M[3]=0),M}function a(M,T,L){return M[0]=T[0]-L[0],M[1]=T[1]-L[1],M[2]=T[2]-L[2],M[3]=T[3]-L[3],M}function f(M,T,L){return M[0]=T[0]*L[0],M[1]=T[1]*L[1],M[2]=T[2]*L[2],M[3]=T[3]*L[3],M}function h(M,T,L){return M[0]=T[0]/L[0],M[1]=T[1]/L[1],M[2]=T[2]/L[2],M[3]=T[3]/L[3],M}function y(M,T){var L=T[0]-M[0],z=T[1]-M[1],H=T[2]-M[2];return M=T[3]-M[3],Math.sqrt(L*L+z*z+H*H+M*M)}function m(M,T){var L=T[0]-M[0],z=T[1]-M[1],H=T[2]-M[2];return M=T[3]-M[3],L*L+z*z+H*H+M*M}function C(M){var T=M[0],L=M[1],z=M[2];return M=M[3],Math.sqrt(T*T+L*L+z*z+M*M)}function P(M){var T=M[0],L=M[1],z=M[2];return M=M[3],T*T+L*L+z*z+M*M}Object.defineProperty(n,"__esModule",{value:!0}),n.create=l,n.clone=function(M){var T=new B.ARRAY_TYPE(4);return T[0]=M[0],T[1]=M[1],T[2]=M[2],T[3]=M[3],T},n.fromValues=function(M,T,L,z){var H=new B.ARRAY_TYPE(4);return H[0]=M,H[1]=T,H[2]=L,H[3]=z,H},n.copy=function(M,T){return M[0]=T[0],M[1]=T[1],M[2]=T[2],M[3]=T[3],M},n.set=function(M,T,L,z,H){return M[0]=T,M[1]=L,M[2]=z,M[3]=H,M},n.add=function(M,T,L){return M[0]=T[0]+L[0],M[1]=T[1]+L[1],M[2]=T[2]+L[2],M[3]=T[3]+L[3],M},n.subtract=a,n.multiply=f,n.divide=h,n.ceil=function(M,T){return M[0]=Math.ceil(T[0]),M[1]=Math.ceil(T[1]),M[2]=Math.ceil(T[2]),M[3]=Math.ceil(T[3]),M},n.floor=function(M,T){return M[0]=Math.floor(T[0]),M[1]=Math.floor(T[1]),M[2]=Math.floor(T[2]),M[3]=Math.floor(T[3]),M},n.min=function(M,T,L){return M[0]=Math.min(T[0],L[0]),M[1]=Math.min(T[1],L[1]),M[2]=Math.min(T[2],L[2]),M[3]=Math.min(T[3],L[3]),M},n.max=function(M,T,L){return M[0]=Math.max(T[0],L[0]),M[1]=Math.max(T[1],L[1]),M[2]=Math.max(T[2],L[2]),M[3]=Math.max(T[3],L[3]),M},n.round=function(M,T){return M[0]=Math.round(T[0]),M[1]=Math.round(T[1]),M[2]=Math.round(T[2]),M[3]=Math.round(T[3]),M},n.scale=function(M,T,L){return M[0]=T[0]*L,M[1]=T[1]*L,M[2]=T[2]*L,M[3]=T[3]*L,M},n.scaleAndAdd=function(M,T,L,z){return M[0]=T[0]+L[0]*z,M[1]=T[1]+L[1]*z,M[2]=T[2]+L[2]*z,M[3]=T[3]+L[3]*z,M},n.distance=y,n.squaredDistance=m,n.length=C,n.squaredLength=P,n.negate=function(M,T){return M[0]=-T[0],M[1]=-T[1],M[2]=-T[2],M[3]=-T[3],M},n.inverse=function(M,T){return M[0]=1/T[0],M[1]=1/T[1],M[2]=1/T[2],M[3]=1/T[3],M},n.normalize=function(M,T){var L=T[0],z=T[1],H=T[2];T=T[3];var Z=L*L+z*z+H*H+T*T;return 0<Z&&(Z=1/Math.sqrt(Z)),M[0]=L*Z,M[1]=z*Z,M[2]=H*Z,M[3]=T*Z,M},n.dot=function(M,T){return M[0]*T[0]+M[1]*T[1]+M[2]*T[2]+M[3]*T[3]},n.cross=function(M,T,L,z){var H=L[0]*z[1]-L[1]*z[0],Z=L[0]*z[2]-L[2]*z[0],J=L[0]*z[3]-L[3]*z[0],V=L[1]*z[2]-L[2]*z[1],ne=L[1]*z[3]-L[3]*z[1];L=L[2]*z[3]-L[3]*z[2],z=T[0];var Ce=T[1],_e=T[2];return T=T[3],M[0]=Ce*L-_e*ne+T*V,M[1]=-(z*L)+_e*J-T*Z,M[2]=z*ne-Ce*J+T*H,M[3]=-(z*V)+Ce*Z-_e*H,M},n.lerp=function(M,T,L,z){var H=T[0],Z=T[1],J=T[2];return T=T[3],M[0]=H+z*(L[0]-H),M[1]=Z+z*(L[1]-Z),M[2]=J+z*(L[2]-J),M[3]=T+z*(L[3]-T),M},n.random=function(M,T){T=T||1;do var L=2*B.RANDOM()-1,z=2*B.RANDOM()-1,H=L*L+z*z;while(1<=H);do var Z=2*B.RANDOM()-1,J=2*B.RANDOM()-1,V=Z*Z+J*J;while(1<=V);return H=Math.sqrt((1-H)/V),M[0]=T*L,M[1]=T*z,M[2]=T*Z*H,M[3]=T*J*H,M},n.transformMat4=function(M,T,L){var z=T[0],H=T[1],Z=T[2];return T=T[3],M[0]=L[0]*z+L[4]*H+L[8]*Z+L[12]*T,M[1]=L[1]*z+L[5]*H+L[9]*Z+L[13]*T,M[2]=L[2]*z+L[6]*H+L[10]*Z+L[14]*T,M[3]=L[3]*z+L[7]*H+L[11]*Z+L[15]*T,M},n.transformQuat=function(M,T,L){var z=T[0],H=T[1],Z=T[2],J=L[0],V=L[1],ne=L[2];L=L[3];var Ce=L*z+V*Z-ne*H,_e=L*H+ne*z-J*Z,Fe=L*Z+J*H-V*z;return z=-J*z-V*H-ne*Z,M[0]=Ce*L+z*-J+_e*-ne-Fe*-V,M[1]=_e*L+z*-V+Fe*-J-Ce*-ne,M[2]=Fe*L+z*-ne+Ce*-V-_e*-J,M[3]=T[3],M},n.zero=function(M){return M[0]=0,M[1]=0,M[2]=0,M[3]=0,M},n.str=function(M){return"vec4("+M[0]+", "+M[1]+", "+M[2]+", "+M[3]+")"},n.exactEquals=function(M,T){return M[0]===T[0]&&M[1]===T[1]&&M[2]===T[2]&&M[3]===T[3]},n.equals=function(M,T){var L=M[0],z=M[1],H=M[2];M=M[3];var Z=T[0],J=T[1],V=T[2];return T=T[3],Math.abs(L-Z)<=B.EPSILON*Math.max(1,Math.abs(L),Math.abs(Z))&&Math.abs(z-J)<=B.EPSILON*Math.max(1,Math.abs(z),Math.abs(J))&&Math.abs(H-V)<=B.EPSILON*Math.max(1,Math.abs(H),Math.abs(V))&&Math.abs(M-T)<=B.EPSILON*Math.max(1,Math.abs(M),Math.abs(T))},n.forEach=n.sqrLen=n.len=n.sqrDist=n.dist=n.div=n.mul=n.sub=void 0;var B=function(M){if(M&&M.__esModule)return M;var T={};if(M!=null){for(var L in M)if(Object.prototype.hasOwnProperty.call(M,L)){var z=sn&&xl?xl(M,L):{};z.get||z.set?sn(T,L,z):T[L]=M[L]}}return T.default=M,T}(Ke);n.sub=a,n.mul=f,n.div=h,n.dist=y,n.sqrDist=m,n.len=C,n.sqrLen=P,d=function(){var M=l();return function(T,L,z,H,Z,J){for(L||(L=4),z||(z=0),H=H?Math.min(H*L+z,T.length):T.length;z<H;z+=L)M[0]=T[z],M[1]=T[z+1],M[2]=T[z+2],M[3]=T[z+3],Z(M,M,J),T[z]=M[0],T[z+1]=M[1],T[z+2]=M[2],T[z+3]=M[3];return T}}(),n.forEach=d});Ae(ur);var tr=ve(function(d,n){function l(L){if(L&&L.__esModule)return L;var z={};if(L!=null){for(var H in L)if(Object.prototype.hasOwnProperty.call(L,H)){var Z=sn&&xl?xl(L,H):{};Z.get||Z.set?sn(z,H,Z):z[H]=L[H]}}return z.default=L,z}function a(){var L=new C.ARRAY_TYPE(4);return C.ARRAY_TYPE!=Float32Array&&(L[0]=0,L[1]=0,L[2]=0),L[3]=1,L}function f(L,z,H){H*=.5;var Z=Math.sin(H);return L[0]=Z*z[0],L[1]=Z*z[1],L[2]=Z*z[2],L[3]=Math.cos(H),L}function h(L,z,H){var Z=z[0],J=z[1],V=z[2];z=z[3];var ne=H[0],Ce=H[1],_e=H[2];return H=H[3],L[0]=Z*H+z*ne+J*_e-V*Ce,L[1]=J*H+z*Ce+V*ne-Z*_e,L[2]=V*H+z*_e+Z*Ce-J*ne,L[3]=z*H-Z*ne-J*Ce-V*_e,L}function y(L,z,H,Z){var J=z[0],V=z[1],ne=z[2];z=z[3];var Ce=H[0],_e=H[1],Fe=H[2];H=H[3];var Ue=J*Ce+V*_e+ne*Fe+z*H;if(0>Ue&&(Ue=-Ue,Ce=-Ce,_e=-_e,Fe=-Fe,H=-H),1-Ue>C.EPSILON){var tt=Math.acos(Ue),He=Math.sin(tt);Ue=Math.sin((1-Z)*tt)/He,Z=Math.sin(Z*tt)/He}else Ue=1-Z;return L[0]=Ue*J+Z*Ce,L[1]=Ue*V+Z*_e,L[2]=Ue*ne+Z*Fe,L[3]=Ue*z+Z*H,L}function m(L,z){var H=z[0]+z[4]+z[8];if(0<H)H=Math.sqrt(H+1),L[3]=.5*H,H=.5/H,L[0]=(z[5]-z[7])*H,L[1]=(z[6]-z[2])*H,L[2]=(z[1]-z[3])*H;else{var Z=0;z[4]>z[0]&&(Z=1),z[8]>z[3*Z+Z]&&(Z=2);var J=(Z+1)%3,V=(Z+2)%3;H=Math.sqrt(z[3*Z+Z]-z[3*J+J]-z[3*V+V]+1),L[Z]=.5*H,H=.5/H,L[3]=(z[3*J+V]-z[3*V+J])*H,L[J]=(z[3*J+Z]+z[3*Z+J])*H,L[V]=(z[3*V+Z]+z[3*Z+V])*H}return L}Object.defineProperty(n,"__esModule",{value:!0}),n.create=a,n.identity=function(L){return L[0]=0,L[1]=0,L[2]=0,L[3]=1,L},n.setAxisAngle=f,n.getAxisAngle=function(L,z){var H=2*Math.acos(z[3]),Z=Math.sin(H/2);return Z>C.EPSILON?(L[0]=z[0]/Z,L[1]=z[1]/Z,L[2]=z[2]/Z):(L[0]=1,L[1]=0,L[2]=0),H},n.multiply=h,n.rotateX=function(L,z,H){H*=.5;var Z=z[0],J=z[1],V=z[2];z=z[3];var ne=Math.sin(H);return H=Math.cos(H),L[0]=Z*H+z*ne,L[1]=J*H+V*ne,L[2]=V*H-J*ne,L[3]=z*H-Z*ne,L},n.rotateY=function(L,z,H){H*=.5;var Z=z[0],J=z[1],V=z[2];z=z[3];var ne=Math.sin(H);return H=Math.cos(H),L[0]=Z*H-V*ne,L[1]=J*H+z*ne,L[2]=V*H+Z*ne,L[3]=z*H-J*ne,L},n.rotateZ=function(L,z,H){H*=.5;var Z=z[0],J=z[1],V=z[2];z=z[3];var ne=Math.sin(H);return H=Math.cos(H),L[0]=Z*H+J*ne,L[1]=J*H-Z*ne,L[2]=V*H+z*ne,L[3]=z*H-V*ne,L},n.calculateW=function(L,z){var H=z[0],Z=z[1];return z=z[2],L[0]=H,L[1]=Z,L[2]=z,L[3]=Math.sqrt(Math.abs(1-H*H-Z*Z-z*z)),L},n.slerp=y,n.random=function(L){var z=C.RANDOM(),H=C.RANDOM(),Z=C.RANDOM(),J=Math.sqrt(1-z);return z=Math.sqrt(z),L[0]=J*Math.sin(2*Math.PI*H),L[1]=J*Math.cos(2*Math.PI*H),L[2]=z*Math.sin(2*Math.PI*Z),L[3]=z*Math.cos(2*Math.PI*Z),L},n.invert=function(L,z){var H=z[0],Z=z[1],J=z[2];z=z[3];var V=H*H+Z*Z+J*J+z*z;return V=V?1/V:0,L[0]=-H*V,L[1]=-Z*V,L[2]=-J*V,L[3]=z*V,L},n.conjugate=function(L,z){return L[0]=-z[0],L[1]=-z[1],L[2]=-z[2],L[3]=z[3],L},n.fromMat3=m,n.fromEuler=function(L,z,H,Z){var J=.5*Math.PI/180;z*=J,H*=J,Z*=J,J=Math.sin(z),z=Math.cos(z);var V=Math.sin(H);H=Math.cos(H);var ne=Math.sin(Z);return Z=Math.cos(Z),L[0]=J*H*Z-z*V*ne,L[1]=z*V*Z+J*H*ne,L[2]=z*H*ne-J*V*Z,L[3]=z*H*Z+J*V*ne,L},n.str=function(L){return"quat("+L[0]+", "+L[1]+", "+L[2]+", "+L[3]+")"},n.setAxes=n.sqlerp=n.rotationTo=n.equals=n.exactEquals=n.normalize=n.sqrLen=n.squaredLength=n.len=n.length=n.lerp=n.dot=n.scale=n.mul=n.add=n.set=n.copy=n.fromValues=n.clone=void 0;var C=l(Ke),P=l(Tt),B=l(sr);d=l(ur),n.clone=d.clone,n.fromValues=d.fromValues,n.copy=d.copy,n.set=d.set,n.add=d.add,n.mul=h,n.scale=d.scale,n.dot=d.dot,n.lerp=d.lerp;var M=d.length;n.length=M,n.len=M,M=d.squaredLength,n.squaredLength=M,n.sqrLen=M;var T=d.normalize;n.normalize=T,n.exactEquals=d.exactEquals,n.equals=d.equals,d=function(){var L=B.create(),z=B.fromValues(1,0,0),H=B.fromValues(0,1,0);return function(Z,J,V){var ne=B.dot(J,V);return-.999999>ne?(B.cross(L,z,J),1e-6>B.len(L)&&B.cross(L,H,J),B.normalize(L,L),f(Z,L,Math.PI),Z):.999999<ne?(Z[0]=0,Z[1]=0,Z[2]=0,Z[3]=1,Z):(B.cross(L,J,V),Z[0]=L[0],Z[1]=L[1],Z[2]=L[2],Z[3]=1+ne,T(Z,Z))}}(),n.rotationTo=d,d=function(){var L=a(),z=a();return function(H,Z,J,V,ne,Ce){return y(L,Z,ne,Ce),y(z,J,V,Ce),y(H,L,z,2*Ce*(1-Ce)),H}}(),n.sqlerp=d,d=function(){var L=P.create();return function(z,H,Z,J){return L[0]=Z[0],L[3]=Z[1],L[6]=Z[2],L[1]=J[0],L[4]=J[1],L[7]=J[2],L[2]=-H[0],L[5]=-H[1],L[8]=-H[2],T(z,m(z,L))}}(),n.setAxes=d});Ae(tr);var $t=ve(function(d,n){function l(M){if(M&&M.__esModule)return M;var T={};if(M!=null){for(var L in M)if(Object.prototype.hasOwnProperty.call(M,L)){var z=sn&&xl?xl(M,L):{};z.get||z.set?sn(T,L,z):T[L]=M[L]}}return T.default=M,T}function a(M,T,L){var z=.5*L[0],H=.5*L[1];L=.5*L[2];var Z=T[0],J=T[1],V=T[2];return T=T[3],M[0]=Z,M[1]=J,M[2]=V,M[3]=T,M[4]=z*T+H*V-L*J,M[5]=H*T+L*Z-z*V,M[6]=L*T+z*J-H*Z,M[7]=-z*Z-H*J-L*V,M}function f(M,T){return M[0]=T[0],M[1]=T[1],M[2]=T[2],M[3]=T[3],M[4]=T[4],M[5]=T[5],M[6]=T[6],M[7]=T[7],M}function h(M,T,L){var z=T[0],H=T[1],Z=T[2],J=T[3],V=L[4],ne=L[5],Ce=L[6],_e=L[7],Fe=T[4],Ue=T[5],tt=T[6];T=T[7];var He=L[0],kt=L[1],Wt=L[2];return L=L[3],M[0]=z*L+J*He+H*Wt-Z*kt,M[1]=H*L+J*kt+Z*He-z*Wt,M[2]=Z*L+J*Wt+z*kt-H*He,M[3]=J*L-z*He-H*kt-Z*Wt,M[4]=z*_e+J*V+H*Ce-Z*ne+Fe*L+T*He+Ue*Wt-tt*kt,M[5]=H*_e+J*ne+Z*V-z*Ce+Ue*L+T*kt+tt*He-Fe*Wt,M[6]=Z*_e+J*Ce+z*ne-H*V+tt*L+T*Wt+Fe*kt-Ue*He,M[7]=J*_e-z*V-H*ne-Z*Ce+T*L-Fe*He-Ue*kt-tt*Wt,M}Object.defineProperty(n,"__esModule",{value:!0}),n.create=function(){var M=new y.ARRAY_TYPE(8);return y.ARRAY_TYPE!=Float32Array&&(M[0]=0,M[1]=0,M[2]=0,M[4]=0,M[5]=0,M[6]=0,M[7]=0),M[3]=1,M},n.clone=function(M){var T=new y.ARRAY_TYPE(8);return T[0]=M[0],T[1]=M[1],T[2]=M[2],T[3]=M[3],T[4]=M[4],T[5]=M[5],T[6]=M[6],T[7]=M[7],T},n.fromValues=function(M,T,L,z,H,Z,J,V){var ne=new y.ARRAY_TYPE(8);return ne[0]=M,ne[1]=T,ne[2]=L,ne[3]=z,ne[4]=H,ne[5]=Z,ne[6]=J,ne[7]=V,ne},n.fromRotationTranslationValues=function(M,T,L,z,H,Z,J){var V=new y.ARRAY_TYPE(8);return V[0]=M,V[1]=T,V[2]=L,V[3]=z,H*=.5,Z*=.5,J*=.5,V[4]=H*z+Z*L-J*T,V[5]=Z*z+J*M-H*L,V[6]=J*z+H*T-Z*M,V[7]=-H*M-Z*T-J*L,V},n.fromRotationTranslation=a,n.fromTranslation=function(M,T){return M[0]=0,M[1]=0,M[2]=0,M[3]=1,M[4]=.5*T[0],M[5]=.5*T[1],M[6]=.5*T[2],M[7]=0,M},n.fromRotation=function(M,T){return M[0]=T[0],M[1]=T[1],M[2]=T[2],M[3]=T[3],M[4]=0,M[5]=0,M[6]=0,M[7]=0,M},n.fromMat4=function(M,T){var L=m.create();C.getRotation(L,T);var z=new y.ARRAY_TYPE(3);return C.getTranslation(z,T),a(M,L,z),M},n.copy=f,n.identity=function(M){return M[0]=0,M[1]=0,M[2]=0,M[3]=1,M[4]=0,M[5]=0,M[6]=0,M[7]=0,M},n.set=function(M,T,L,z,H,Z,J,V,ne){return M[0]=T,M[1]=L,M[2]=z,M[3]=H,M[4]=Z,M[5]=J,M[6]=V,M[7]=ne,M},n.getDual=function(M,T){return M[0]=T[4],M[1]=T[5],M[2]=T[6],M[3]=T[7],M},n.setDual=function(M,T){return M[4]=T[0],M[5]=T[1],M[6]=T[2],M[7]=T[3],M},n.getTranslation=function(M,T){var L=T[4],z=T[5],H=T[6],Z=T[7],J=-T[0],V=-T[1],ne=-T[2];return T=T[3],M[0]=2*(L*T+Z*J+z*ne-H*V),M[1]=2*(z*T+Z*V+H*J-L*ne),M[2]=2*(H*T+Z*ne+L*V-z*J),M},n.translate=function(M,T,L){var z=T[0],H=T[1],Z=T[2],J=T[3],V=.5*L[0],ne=.5*L[1];L=.5*L[2];var Ce=T[4],_e=T[5],Fe=T[6];return T=T[7],M[0]=z,M[1]=H,M[2]=Z,M[3]=J,M[4]=J*V+H*L-Z*ne+Ce,M[5]=J*ne+Z*V-z*L+_e,M[6]=J*L+z*ne-H*V+Fe,M[7]=-z*V-H*ne-Z*L+T,M},n.rotateX=function(M,T,L){var z=-T[0],H=-T[1],Z=-T[2],J=T[3],V=T[4],ne=T[5],Ce=T[6],_e=T[7],Fe=V*J+_e*z+ne*Z-Ce*H,Ue=ne*J+_e*H+Ce*z-V*Z,tt=Ce*J+_e*Z+V*H-ne*z;return V=_e*J-V*z-ne*H-Ce*Z,m.rotateX(M,T,L),z=M[0],H=M[1],Z=M[2],J=M[3],M[4]=Fe*J+V*z+Ue*Z-tt*H,M[5]=Ue*J+V*H+tt*z-Fe*Z,M[6]=tt*J+V*Z+Fe*H-Ue*z,M[7]=V*J-Fe*z-Ue*H-tt*Z,M},n.rotateY=function(M,T,L){var z=-T[0],H=-T[1],Z=-T[2],J=T[3],V=T[4],ne=T[5],Ce=T[6],_e=T[7],Fe=V*J+_e*z+ne*Z-Ce*H,Ue=ne*J+_e*H+Ce*z-V*Z,tt=Ce*J+_e*Z+V*H-ne*z;return V=_e*J-V*z-ne*H-Ce*Z,m.rotateY(M,T,L),z=M[0],H=M[1],Z=M[2],J=M[3],M[4]=Fe*J+V*z+Ue*Z-tt*H,M[5]=Ue*J+V*H+tt*z-Fe*Z,M[6]=tt*J+V*Z+Fe*H-Ue*z,M[7]=V*J-Fe*z-Ue*H-tt*Z,M},n.rotateZ=function(M,T,L){var z=-T[0],H=-T[1],Z=-T[2],J=T[3],V=T[4],ne=T[5],Ce=T[6],_e=T[7],Fe=V*J+_e*z+ne*Z-Ce*H,Ue=ne*J+_e*H+Ce*z-V*Z,tt=Ce*J+_e*Z+V*H-ne*z;return V=_e*J-V*z-ne*H-Ce*Z,m.rotateZ(M,T,L),z=M[0],H=M[1],Z=M[2],J=M[3],M[4]=Fe*J+V*z+Ue*Z-tt*H,M[5]=Ue*J+V*H+tt*z-Fe*Z,M[6]=tt*J+V*Z+Fe*H-Ue*z,M[7]=V*J-Fe*z-Ue*H-tt*Z,M},n.rotateByQuatAppend=function(M,T,L){var z=L[0],H=L[1],Z=L[2];L=L[3];var J=T[0],V=T[1],ne=T[2],Ce=T[3];return M[0]=J*L+Ce*z+V*Z-ne*H,M[1]=V*L+Ce*H+ne*z-J*Z,M[2]=ne*L+Ce*Z+J*H-V*z,M[3]=Ce*L-J*z-V*H-ne*Z,J=T[4],V=T[5],ne=T[6],Ce=T[7],M[4]=J*L+Ce*z+V*Z-ne*H,M[5]=V*L+Ce*H+ne*z-J*Z,M[6]=ne*L+Ce*Z+J*H-V*z,M[7]=Ce*L-J*z-V*H-ne*Z,M},n.rotateByQuatPrepend=function(M,T,L){var z=T[0],H=T[1],Z=T[2];T=T[3];var J=L[0],V=L[1],ne=L[2],Ce=L[3];return M[0]=z*Ce+T*J+H*ne-Z*V,M[1]=H*Ce+T*V+Z*J-z*ne,M[2]=Z*Ce+T*ne+z*V-H*J,M[3]=T*Ce-z*J-H*V-Z*ne,J=L[4],V=L[5],ne=L[6],Ce=L[7],M[4]=z*Ce+T*J+H*ne-Z*V,M[5]=H*Ce+T*V+Z*J-z*ne,M[6]=Z*Ce+T*ne+z*V-H*J,M[7]=T*Ce-z*J-H*V-Z*ne,M},n.rotateAroundAxis=function(M,T,L,z){if(Math.abs(z)<y.EPSILON)return f(M,T);var H=Math.sqrt(L[0]*L[0]+L[1]*L[1]+L[2]*L[2]);z*=.5;var Z=Math.sin(z),J=Z*L[0]/H,V=Z*L[1]/H;L=Z*L[2]/H,z=Math.cos(z),H=T[0],Z=T[1];var ne=T[2],Ce=T[3];return M[0]=H*z+Ce*J+Z*L-ne*V,M[1]=Z*z+Ce*V+ne*J-H*L,M[2]=ne*z+Ce*L+H*V-Z*J,M[3]=Ce*z-H*J-Z*V-ne*L,H=T[4],Z=T[5],ne=T[6],T=T[7],M[4]=H*z+T*J+Z*L-ne*V,M[5]=Z*z+T*V+ne*J-H*L,M[6]=ne*z+T*L+H*V-Z*J,M[7]=T*z-H*J-Z*V-ne*L,M},n.add=function(M,T,L){return M[0]=T[0]+L[0],M[1]=T[1]+L[1],M[2]=T[2]+L[2],M[3]=T[3]+L[3],M[4]=T[4]+L[4],M[5]=T[5]+L[5],M[6]=T[6]+L[6],M[7]=T[7]+L[7],M},n.multiply=h,n.scale=function(M,T,L){return M[0]=T[0]*L,M[1]=T[1]*L,M[2]=T[2]*L,M[3]=T[3]*L,M[4]=T[4]*L,M[5]=T[5]*L,M[6]=T[6]*L,M[7]=T[7]*L,M},n.lerp=function(M,T,L,z){var H=1-z;return 0>P(T,L)&&(z=-z),M[0]=T[0]*H+L[0]*z,M[1]=T[1]*H+L[1]*z,M[2]=T[2]*H+L[2]*z,M[3]=T[3]*H+L[3]*z,M[4]=T[4]*H+L[4]*z,M[5]=T[5]*H+L[5]*z,M[6]=T[6]*H+L[6]*z,M[7]=T[7]*H+L[7]*z,M},n.invert=function(M,T){var L=B(T);return M[0]=-T[0]/L,M[1]=-T[1]/L,M[2]=-T[2]/L,M[3]=T[3]/L,M[4]=-T[4]/L,M[5]=-T[5]/L,M[6]=-T[6]/L,M[7]=T[7]/L,M},n.conjugate=function(M,T){return M[0]=-T[0],M[1]=-T[1],M[2]=-T[2],M[3]=T[3],M[4]=-T[4],M[5]=-T[5],M[6]=-T[6],M[7]=T[7],M},n.normalize=function(M,T){var L=B(T);if(0<L){L=Math.sqrt(L);var z=T[0]/L,H=T[1]/L,Z=T[2]/L,J=T[3]/L,V=T[4],ne=T[5],Ce=T[6];T=T[7];var _e=z*V+H*ne+Z*Ce+J*T;M[0]=z,M[1]=H,M[2]=Z,M[3]=J,M[4]=(V-z*_e)/L,M[5]=(ne-H*_e)/L,M[6]=(Ce-Z*_e)/L,M[7]=(T-J*_e)/L}return M},n.str=function(M){return"quat2("+M[0]+", "+M[1]+", "+M[2]+", "+M[3]+", "+M[4]+", "+M[5]+", "+M[6]+", "+M[7]+")"},n.exactEquals=function(M,T){return M[0]===T[0]&&M[1]===T[1]&&M[2]===T[2]&&M[3]===T[3]&&M[4]===T[4]&&M[5]===T[5]&&M[6]===T[6]&&M[7]===T[7]},n.equals=function(M,T){var L=M[0],z=M[1],H=M[2],Z=M[3],J=M[4],V=M[5],ne=M[6];M=M[7];var Ce=T[0],_e=T[1],Fe=T[2],Ue=T[3],tt=T[4],He=T[5],kt=T[6];return T=T[7],Math.abs(L-Ce)<=y.EPSILON*Math.max(1,Math.abs(L),Math.abs(Ce))&&Math.abs(z-_e)<=y.EPSILON*Math.max(1,Math.abs(z),Math.abs(_e))&&Math.abs(H-Fe)<=y.EPSILON*Math.max(1,Math.abs(H),Math.abs(Fe))&&Math.abs(Z-Ue)<=y.EPSILON*Math.max(1,Math.abs(Z),Math.abs(Ue))&&Math.abs(J-tt)<=y.EPSILON*Math.max(1,Math.abs(J),Math.abs(tt))&&Math.abs(V-He)<=y.EPSILON*Math.max(1,Math.abs(V),Math.abs(He))&&Math.abs(ne-kt)<=y.EPSILON*Math.max(1,Math.abs(ne),Math.abs(kt))&&Math.abs(M-T)<=y.EPSILON*Math.max(1,Math.abs(M),Math.abs(T))},n.sqrLen=n.squaredLength=n.len=n.length=n.dot=n.mul=n.setReal=n.getReal=void 0;var y=l(Ke),m=l(tr),C=l(Ft);n.getReal=m.copy,n.setReal=m.copy,n.mul=h;var P=m.dot;n.dot=P,d=m.length,n.length=d,n.len=d;var B=m.squaredLength;n.squaredLength=B,n.sqrLen=B});Ae($t);var Vt=ve(function(d,n){function l(){var M=new B.ARRAY_TYPE(2);return B.ARRAY_TYPE!=Float32Array&&(M[0]=0,M[1]=0),M}function a(M,T,L){return M[0]=T[0]-L[0],M[1]=T[1]-L[1],M}function f(M,T,L){return M[0]=T[0]*L[0],M[1]=T[1]*L[1],M}function h(M,T,L){return M[0]=T[0]/L[0],M[1]=T[1]/L[1],M}function y(M,T){var L=T[0]-M[0];return M=T[1]-M[1],Math.sqrt(L*L+M*M)}function m(M,T){var L=T[0]-M[0];return M=T[1]-M[1],L*L+M*M}function C(M){var T=M[0];return M=M[1],Math.sqrt(T*T+M*M)}function P(M){var T=M[0];return M=M[1],T*T+M*M}Object.defineProperty(n,"__esModule",{value:!0}),n.create=l,n.clone=function(M){var T=new B.ARRAY_TYPE(2);return T[0]=M[0],T[1]=M[1],T},n.fromValues=function(M,T){var L=new B.ARRAY_TYPE(2);return L[0]=M,L[1]=T,L},n.copy=function(M,T){return M[0]=T[0],M[1]=T[1],M},n.set=function(M,T,L){return M[0]=T,M[1]=L,M},n.add=function(M,T,L){return M[0]=T[0]+L[0],M[1]=T[1]+L[1],M},n.subtract=a,n.multiply=f,n.divide=h,n.ceil=function(M,T){return M[0]=Math.ceil(T[0]),M[1]=Math.ceil(T[1]),M},n.floor=function(M,T){return M[0]=Math.floor(T[0]),M[1]=Math.floor(T[1]),M},n.min=function(M,T,L){return M[0]=Math.min(T[0],L[0]),M[1]=Math.min(T[1],L[1]),M},n.max=function(M,T,L){return M[0]=Math.max(T[0],L[0]),M[1]=Math.max(T[1],L[1]),M},n.round=function(M,T){return M[0]=Math.round(T[0]),M[1]=Math.round(T[1]),M},n.scale=function(M,T,L){return M[0]=T[0]*L,M[1]=T[1]*L,M},n.scaleAndAdd=function(M,T,L,z){return M[0]=T[0]+L[0]*z,M[1]=T[1]+L[1]*z,M},n.distance=y,n.squaredDistance=m,n.length=C,n.squaredLength=P,n.negate=function(M,T){return M[0]=-T[0],M[1]=-T[1],M},n.inverse=function(M,T){return M[0]=1/T[0],M[1]=1/T[1],M},n.normalize=function(M,T){var L=T[0],z=T[1];return L=L*L+z*z,0<L&&(L=1/Math.sqrt(L)),M[0]=T[0]*L,M[1]=T[1]*L,M},n.dot=function(M,T){return M[0]*T[0]+M[1]*T[1]},n.cross=function(M,T,L){return T=T[0]*L[1]-T[1]*L[0],M[0]=M[1]=0,M[2]=T,M},n.lerp=function(M,T,L,z){var H=T[0];return T=T[1],M[0]=H+z*(L[0]-H),M[1]=T+z*(L[1]-T),M},n.random=function(M,T){T=T||1;var L=2*B.RANDOM()*Math.PI;return M[0]=Math.cos(L)*T,M[1]=Math.sin(L)*T,M},n.transformMat2=function(M,T,L){var z=T[0];return T=T[1],M[0]=L[0]*z+L[2]*T,M[1]=L[1]*z+L[3]*T,M},n.transformMat2d=function(M,T,L){var z=T[0];return T=T[1],M[0]=L[0]*z+L[2]*T+L[4],M[1]=L[1]*z+L[3]*T+L[5],M},n.transformMat3=function(M,T,L){var z=T[0];return T=T[1],M[0]=L[0]*z+L[3]*T+L[6],M[1]=L[1]*z+L[4]*T+L[7],M},n.transformMat4=function(M,T,L){var z=T[0];return T=T[1],M[0]=L[0]*z+L[4]*T+L[12],M[1]=L[1]*z+L[5]*T+L[13],M},n.rotate=function(M,T,L,z){var H=T[0]-L[0];T=T[1]-L[1];var Z=Math.sin(z);return z=Math.cos(z),M[0]=H*z-T*Z+L[0],M[1]=H*Z+T*z+L[1],M},n.angle=function(M,T){var L=M[0];M=M[1];var z=T[0];T=T[1];var H=L*L+M*M;0<H&&(H=1/Math.sqrt(H));var Z=z*z+T*T;return 0<Z&&(Z=1/Math.sqrt(Z)),L=(L*z+M*T)*H*Z,1<L?0:-1>L?Math.PI:Math.acos(L)},n.zero=function(M){return M[0]=0,M[1]=0,M},n.str=function(M){return"vec2("+M[0]+", "+M[1]+")"},n.exactEquals=function(M,T){return M[0]===T[0]&&M[1]===T[1]},n.equals=function(M,T){var L=M[0];M=M[1];var z=T[0];return T=T[1],Math.abs(L-z)<=B.EPSILON*Math.max(1,Math.abs(L),Math.abs(z))&&Math.abs(M-T)<=B.EPSILON*Math.max(1,Math.abs(M),Math.abs(T))},n.forEach=n.sqrLen=n.sqrDist=n.dist=n.div=n.mul=n.sub=n.len=void 0;var B=function(M){if(M&&M.__esModule)return M;var T={};if(M!=null){for(var L in M)if(Object.prototype.hasOwnProperty.call(M,L)){var z=sn&&xl?xl(M,L):{};z.get||z.set?sn(T,L,z):T[L]=M[L]}}return T.default=M,T}(Ke);n.len=C,n.sub=a,n.mul=f,n.div=h,n.dist=y,n.sqrDist=m,n.sqrLen=P,d=function(){var M=l();return function(T,L,z,H,Z,J){for(L||(L=2),z||(z=0),H=H?Math.min(H*L+z,T.length):T.length;z<H;z+=L)M[0]=T[z],M[1]=T[z+1],Z(M,M,J),T[z]=M[0],T[z+1]=M[1];return T}}(),n.forEach=d});Ae(Vt);var Qr=ve(function(d,n){function l(a){if(a&&a.__esModule)return a;var f={};if(a!=null){for(var h in a)if(Object.prototype.hasOwnProperty.call(a,h)){var y=sn&&xl?xl(a,h):{};y.get||y.set?sn(f,h,y):f[h]=a[h]}}return f.default=a,f}Object.defineProperty(n,"__esModule",{value:!0}),n.vec4=n.vec3=n.vec2=n.quat2=n.quat=n.mat4=n.mat3=n.mat2d=n.mat2=n.glMatrix=void 0,d=l(Ke),n.glMatrix=d,d=l(lt),n.mat2=d,d=l(ot),n.mat2d=d,d=l(Tt),n.mat3=d,d=l(Ft),n.mat4=d,d=l(tr),n.quat=d,d=l($t),n.quat2=d,d=l(Vt),n.vec2=d,d=l(sr),n.vec3=d,d=l(ur),n.vec4=d});Ae(Qr);var Bn=Qr.vec4,wr=Qr.vec3,on=Qr.vec2,jn=Qr.quat2,fn=Qr.quat,zr=Qr.mat4,Sn=Qr.mat3,xi=Qr.mat2d,mo=Qr.mat2,yi=Qr.glMatrix;rr.deviation=function(d,n,l,a){var f=n&&n.length,h=Math.abs(ui(d,0,f?n[0]*l:d.length,l));if(f){f=0;for(var y=n.length;f<y;f++)h-=Math.abs(ui(d,n[f]*l,f<y-1?n[f+1]*l:d.length,l))}for(f=n=0;f<a.length;f+=3){y=a[f]*l;var m=a[f+1]*l,C=a[f+2]*l;n+=Math.abs((d[y]-d[C])*(d[m+1]-d[y+1])-(d[y]-d[m])*(d[C+1]-d[y+1]))}return h===0&&n===0?0:Math.abs((n-h)/h)},rr.flatten=function(d){for(var n=d[0][0].length,l={vertices:[],holes:[],dimensions:n},a=0,f=0;f<d.length;f++){for(var h=0;h<d[f].length;h++)for(var y=0;y<n;y++)l.vertices.push(d[f][h][y]);0<f&&(a+=d[f-1].length,l.holes.push(a))}return l},rr.default=rr;var Ci=typeof uh=="undefined"?"__target":uh(),aa=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,ds=window.URL||window.webkitURL,xa=window.Worker;if(xa){var ts=Po("self.onmessage = function () {}"),Ts=new Uint8Array(1);try{if(/(?:Trident|Edge)\/(?:[567]|12)/i.test(navigator.userAgent))throw Error("Not available");var ys=new xa(ts);ys.postMessage(Ts,[Ts.buffer])}catch(d){xa=null}finally{ds.revokeObjectURL(ts),ys&&ys.terminate()}}var Wa=new function(d,n){return function(l){var a=this;if(n){if(xa&&!l)return l=(""+n).replace(/^function.+?{/,"").slice(0,-1),l=Po(l),this[Ci]=new xa(l),ds.revokeObjectURL(l),this[Ci];var f={postMessage:function(y){a.onmessage&&setTimeout(function(){return a.onmessage({data:y,target:f})})}};n.call(f),this.postMessage=function(h){setTimeout(function(){return f.onmessage({data:h,target:a})})},this.isThisThread=!0}else return new xa(d)}}("./worker.js",function(d,n){}),ps={window:1,windowAnimation:2,gradual:3,ripple:4,water:6},Hs=function(d){function n(l,a){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l,a)),l._isShow=!0,a=l.getOptions(),(a.style==="windowAnimation"||a.style==="ripple"||0<a.riseTime)&&(l.autoUpdate=!0),l.selectedColor=[-1,-1,-1],l.textureCache={},l}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{color:"rgba(50, 50, 230, 1.0)",opacity:.8,height:0,isTextureFull:!1,topColor:"rgba(76, 76, 76, 0.8)",textureRotate:0,textureScale:1,useLight:!0,riseTime:0,polygonOffset:[1,1]}}},{key:"initialize",value:function(a){this.gl=a;var f=this.getOptions();this.dataMgr=new cr(this,this.gl),this.texture=null,this.isUseTexture=!1;var h=[];f.enablePicked&&h.push("PICK"),f.texture&&h.push("USE_TEXTURE"),this.program=new es(this.gl,{vertexShader:`precision highp float;uniform vec4 uSelectedColor;attribute vec4 a_pos;attribute vec3 a_normal;attribute vec4 a_color;attribute vec4 a_pre_color;attribute float a_height;attribute float a_pre_height;
#if defined(USE_TEXTURE)
attribute vec2 a_texture_coord;
#endif
uniform mat4 u_proj_matrix;uniform mat4 u_mv_matrix;uniform mat4 u_normal_matrix;uniform vec3 u_side_light_dir;uniform bool u_use_lighting;uniform bool u_use_texture;uniform vec3 u_ripple_center;uniform float u_radius;uniform float style;uniform float alpha;uniform float time;uniform float dataTime;uniform float riseTime;uniform vec2 uMapCenter;uniform float uMapZoom;varying float v_height;varying vec4 v_color;varying vec3 v_position;varying vec2 v_texture_coord;const vec3 point_color=vec3(0.06,0.06,0.06);const vec3 light_color=vec3(0.53,0.53,0.53);const vec3 light_color_2=vec3(0.4,0.4,0.4);const vec3 uAmbientColor=vec3(0.8,0.8,0.8);const vec3 uLightingDirection=vec3(0.0,1.0,1.0);const vec3 uDirectionalColor=vec3(1.0,1.0,1.0);float getTransitionValue(float pre_value,float to_value,float dataTime,float riseTime){float result=0.0;if(pre_value==to_value){result=to_value;}else{if(riseTime>0.0&&dataTime<riseTime){result=(pre_value+(to_value-pre_value)*(dataTime/riseTime));}else{result=to_value;}}return result;}void main(){vec4 pos=a_pos;pos.z=pos.z+pos.w*getTransitionValue(a_pre_height,a_height,dataTime,riseTime);v_position=pos.xyz;v_height=a_height;
#if defined(USE_TEXTURE)
if(u_use_texture){v_texture_coord=a_texture_coord;}
#endif
vec4 position=u_proj_matrix*u_mv_matrix*vec4(pos.xyz,1.0);gl_Position=position;vec4 icolor=a_color;
#if defined(PICK)
if(mapvIsPicked()){icolor=uSelectedColor;}
#endif
if(u_use_lighting){vec3 N=normalize(vec3(u_normal_matrix*vec4(a_normal,1.0)));vec4 point_dir=u_mv_matrix*vec4(0,1,0,0);vec3 L_point=normalize(point_dir.xyz);float lambert_point=max(0.0,dot(N,-L_point));vec4 light_dir=u_mv_matrix*vec4(u_side_light_dir,0);vec3 L=normalize(light_dir.xyz);float lambert=max(0.0,dot(N,-L));if(pos.z<5.0){float deepGradientColor=(5.0-pos.z)/8.0;lambert=lambert-deepGradientColor;}vec4 light_dir_2=u_mv_matrix*vec4(0,0,-1,0);vec3 L2=normalize(light_dir_2.xyz);float lambert_2=max(0.0,dot(N,-L2));if(a_pre_color.r==a_color.r&&a_pre_color.g==a_color.g&&a_pre_color.b==a_color.b){}else{if(riseTime>0.0&&dataTime<riseTime){icolor.r=a_pre_color.r+(a_color.r-a_pre_color.r)*(dataTime/riseTime);icolor.g=a_pre_color.g+(a_color.g-a_pre_color.g)*(dataTime/riseTime);icolor.b=a_pre_color.b+(a_color.b-a_pre_color.b)*(dataTime/riseTime);}}v_color.rgb=icolor.rgb+icolor.rgb*light_color*lambert+icolor.rgb*light_color_2*lambert_2+icolor.rgb*point_color*lambert_point;v_color.a=icolor.a;if(u_use_texture){mat3 normalMatrix=mat3(u_normal_matrix);vec3 transformedNormal=normalMatrix*a_normal;vec3 dir=uLightingDirection;dir=vec3(normalMatrix*vec3(0.0,-1.0,2.0));float directionalLightWeighting=max(dot(normalize(transformedNormal),normalize(dir)),0.0);vec4 vLightWeighting;vLightWeighting=vec4(uAmbientColor+uDirectionalColor*directionalLightWeighting,1.0);v_color=vLightWeighting;}}else{v_color=icolor;}}`,fragmentShader:"precision highp float;varying vec4 v_color;varying vec3 v_position;varying float v_height;varying vec2 v_texture_coord;uniform vec3 u_ripple_center;uniform vec4 top_color;uniform float u_radius;uniform float style;uniform float alpha;uniform float time;uniform sampler2D u_sampler;uniform bool u_use_lighting;uniform bool u_use_texture;void main(){vec4 color=vec4(v_color);vec4 textureColor=vec4(1.0,1.0,1.0,1.0);if(u_use_texture){if(style==6.0){float x=v_texture_coord.s;float y=v_texture_coord.t;vec2 cPos=-1.0+2.0*gl_FragCoord.xy/MAPV_resolution;float cLength=length(cPos);vec2 uv=gl_FragCoord.xy/MAPV_resolution+(cPos/cLength)*cos(cLength*12.0-time/1000.0*4.0)*0.03;textureColor=texture2D(u_sampler,uv/2.0+vec2(x,y));}else{textureColor=texture2D(u_sampler,vec2(v_texture_coord.s,v_texture_coord.t));}if(u_use_lighting){color=vec4(textureColor*v_color*1.1);}else{color=textureColor;}}if(style==1.0||style==2.0){float t=time/1000.0;float diffDistance=5.0;float modX=mod(v_position.x,diffDistance*2.0);float modZ=mod(v_position.z,diffDistance*2.0);if(modX<diffDistance&&modZ<diffDistance&&v_position.z<v_height){color*=1.05;if(time>0.0&&style==2.0){float iX=ceil(v_position.x/diffDistance);float iZ=ceil(v_position.z/diffDistance);float timeDistance=8.0;t+=tan(sin(iZ));color*=(1.0+mod(t,timeDistance)/timeDistance);}}color.a=alpha;}else if(style==5.0){float t=time/1000.0;float diffDistance=10.0;float modZ=mod(v_position.z-t*40.0,diffDistance*2.0);color.a=1.0-pow(v_position.z/v_height,0.5);if(v_position.z/v_height<0.3){color.r+=0.2;color.g+=0.2;color.b+=0.2;}if(modZ<diffDistance*2.0-4.0){discard;}}else if(style==3.0){float diffDistance=10.0;float modX=mod(v_position.x,diffDistance*2.0);color.a=1.0-pow(v_position.z/v_height,0.3);}else if(style==4.0){float dis=distance(u_ripple_center,v_position);float rSize=400.0;if(v_position.z>=v_height){color=top_color;}if(dis>u_radius-rSize&&dis<u_radius+rSize){color*=(1.0-abs(dis-u_radius)/rSize)*2.0+1.0;}}else if(style==6.0){}gl_FragColor=color;}",defines:h},this),this.vertexBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.colorBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.heightBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.textureBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Jo({gl:a,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),h=[{name:"a_pos",buffer:this.vertexBuffer,stride:28,size:4,type:"FLOAT",offset:0},{name:"a_normal",buffer:this.vertexBuffer,size:3,stride:28,type:"FLOAT",offset:16},{name:"a_color",buffer:this.colorBuffer,size:4,stride:32,type:"FLOAT",offset:0},{name:"a_pre_color",buffer:this.colorBuffer,size:4,stride:32,type:"FLOAT",offset:16},{name:"a_height",buffer:this.heightBuffer,size:1,stride:8,type:"FLOAT",offset:0},{name:"a_pre_height",buffer:this.heightBuffer,size:1,stride:8,type:"FLOAT",offset:4}],f.texture&&h.push({name:"a_texture_coord",buffer:this.textureBuffer,size:2,stride:8,type:"FLOAT",offset:0}),h=h.concat(this.getCommonAttributes()),this.vertexArray=new gu({gl:a,program:this.program,attributes:h}),this.initializeTime=new Date,this.normalMatrix=zr.create()}},{key:"destroy",value:function(){this.options&&this.options.enablePicked&&(this.pickBuffer=null),this.dataMgr=this.options=this.data=this.indexBuffer=this.textureBuffer=this.heightBuffer=this.colorBuffer=this.vertexBuffer=this.program=this.vertexArray=null}},{key:"onChanged",value:function(a,f){var h=this;this.gl&&(this.loadTextureTime&&clearTimeout(this.loadTextureTime),this.loadTextureTime=setTimeout(function(){h.loadTexture(function(){h.dataMgr.parseData(f),h.dataTime=new Date,h.webglLayer.render()})},0))}},{key:"render",value:function(a){var f=a.gl,h=a.projectionMatrix,y=a.viewMatrix;if(this._isShow){var m=this.getData();if(m&&!(0>=m.length)){m=this.getOptions();var C=this.program;if(C.use(f),!m.texture||this.texture){f.disable(f.CULL_FACE),m.blend&&(f.enable(f.BLEND),f.blendFunc(f.ONE,f.ONE),f.blendEquation(f.FUNC_ADD)),m.height===0&&(f.enable(f.BLEND),f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA));var P=0;m.style&&ps[m.style]&&(P=ps[m.style]),m.style==="gradual"?(f.depthMask(!1),f.enable(f.BLEND),f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA)):f.depthMask(!0),f.enable(f.POLYGON_OFFSET_FILL),f.polygonOffset(m.polygonOffset[0],m.polygonOffset[1]);var B=this.normizedColor(m.topColor);if(m.style==="ripple"&&m.rippleLayer&&m.rippleLayer.data&&m.rippleLayer.data[0]){var M=this.normizedPoint(m.rippleLayer.data[0].geometry.coordinates);C.setUniforms({u_ripple_center:[M[0],M[1],0],u_radius:m.rippleLayer.options.size*m.rippleLayer.currentScale})}M=wr.fromValues(0,-1,2),m.lightDir&&(M=wr.fromValues(m.lightDir[0],m.lightDir[1],m.lightDir[2]));var T=this.normalMatrix;zr.invert(T,y),zr.transpose(T,T),C.setUniforms(us(this.getCommonUniforms(a),{u_normal_matrix:T,u_sampler:this.texture,u_proj_matrix:h,u_mv_matrix:y,style:P,top_color:B,u_use_lighting:m.useLight,u_use_texture:this.isUseTexture,alpha:m.opacity===void 0?.8:parseFloat(m.opacity),time:new Date-this.initializeTime,dataTime:new Date-this.dataTime,riseTime:m.riseTime,u_side_light_dir:M})),a=this.dataMgr.getData(),0<a.vertex.length&&(this.vertexArray.bind(),this.indexBuffer.bind(),f.drawElements(f.TRIANGLES,a.index.length,f.UNSIGNED_INT,0)),f.disable(f.POLYGON_OFFSET_FILL)}}}else this.webglLayer.clear()}},{key:"loadTexture",value:function(a){var f=this,h=this.getOptions();h.texture?(this.isUseTexture=!0,Jt(this.gl,h.texture,function(y,m){f.image=m,f.texture=y,a&&a(),f.webglLayer.render()})):(this.isUseTexture=!1,this.image=this.texture=null,a&&a())}}]),n}(fe);cr.prototype.initData=function(){this.outBuilding3d={pickColorVertex:[],vertex:[],texture:[],color:[],height:[],index:[]}},cr.prototype.getData=function(){return this.outBuilding3d},cr.prototype.initWorker=function(){this.worker=new Wa,this.worker.onmessage=function(d){}},cr.prototype.parseData=function(d){var n=this;this.initData();for(var l=this.shapeLayer.getOptions(),a=0;a<d.length;a++){var f=d[a],h=f.height||l.height;"properties"in f&&"height"in f.properties&&(h=f.properties.height),h*=1;var y=f.color||l.color;"properties"in f&&"color"in f.properties&&(y=f.properties.color),"properties"in f&&"fillColor"in f.properties&&(y=f.properties.fillColor),Object.prototype.toString.call(y)==="[object Function]"&&(y=y(f)),y=this.shapeLayer.normizedColor(y);var m=this.shapeLayer.getProperty("angle",l.textureRotate,f),C=void 0;l.enablePicked&&(C=this.shapeLayer.indexToRgb(a));var P=void 0,B=void 0;if(l.riseTime&&(B=f.preColor,"properties"in f&&"preColor"in f.properties&&(B=f.properties.preColor),P=f.preHeight,"properties"in f&&"preHeight"in f.properties&&(P=f.properties.preHeight),P===void 0&&(P=0)),f.geometry.coordinates)if(f.geometry.type==="MultiPolygon"){var M=f.geometry.coordinates;f=[];for(var T=0;T<M.length;T++)f.push(M[T].map(function(J){return J.map(function(V){return n.shapeLayer.normizedPoint(V)})}));for(M=0;M<f.length;M++){T=[];var L=[],z=rr.flatten(f[M]),H=z.vertices;z=z.holes;for(var Z=0;Z<H.length;Z+=3)T.push(H[Z+0],H[Z+1]),L.push(H[Z+2]);this.parseBuilding3d(this.outBuilding3d,T,L,P,h,B,y,C,m,z)}}else{for(M=[],T=0;T<f.geometry.coordinates.length;T++)M.push(f.geometry.coordinates[T].map(function(J){return n.shapeLayer.normizedPoint(J)}));for(M=rr.flatten(M),f=M.vertices,M=M.holes,T=[],L=[],H=0;H<f.length;H+=3)T.push(f[H+0],f[H+1]),L.push(f[H+2]);this.parseBuilding3d(this.outBuilding3d,T,L,P,h,B,y,C,m,M)}}this.shapeLayer.vertexBuffer.updateData(new Float32Array(this.outBuilding3d.vertex)),this.shapeLayer.colorBuffer.updateData(new Float32Array(this.outBuilding3d.color)),this.shapeLayer.heightBuffer.updateData(new Float32Array(this.outBuilding3d.height)),this.shapeLayer.textureBuffer.updateData(new Float32Array(this.outBuilding3d.texture)),this.shapeLayer.indexBuffer.updateData(new Uint32Array(this.outBuilding3d.index)),l.enablePicked&&this.shapeLayer.pickBuffer.updateData(new Float32Array(this.outBuilding3d.pickColorVertex))},cr.prototype.getBounds=function(d,n){for(var l=d[0],a=d[1],f=d[0],h=d[1],y=0;y<d.length;y+=2)l=Math.min(d[y],l),a=Math.min(d[y+1],a),f=Math.max(d[y],f),h=Math.max(d[y+1],h);if(y=[(f-l)/2+l,(h-a)/2+a],n===0||!n)return{minX:l,minY:a,maxX:f,maxY:h,width:f-l,height:h-a,center:y};for(l=d.slice(0),a=0;a<l.length;a+=2)f=$o(d[a],d[a+1],y,n),l[a]=f[0],l[a+1]=f[1];return this.getBounds(l,0)},cr.prototype.parseBuilding3d=function(d,n,l,a,f,h,y,m,C,P){a===void 0&&(a=f);var B=this.shapeLayer.options,M=d.vertex,T=d.texture,L=d.color,z=d.height,H=d.pickColorVertex;d=d.index,h===void 0&&(h=y);var Z=0,J=0;if(this.shapeLayer.image&&(Z=this.shapeLayer.image.width*B.textureScale,J=this.shapeLayer.image.height*B.textureScale),B.style!=="gradual"){P=P?rr(n,P,2):rr(n);var V=P[0],ne=P[1],Ce=P[2];V=[n[2*V],n[2*V+1],1],ne=[n[2*ne],n[2*ne+1],1];var _e=[n[2*Ce],n[2*Ce+1],1];Ce=[],wr.cross(Ce,[_e[0]-ne[0],_e[1]-ne[1],_e[2]-ne[2]],[V[0]-ne[0],V[1]-ne[1],V[2]-ne[2]]),ne=M.length/7;var Fe;B.texture&&(Fe=this.getBounds(n,C)),V=B.isTextureFull,_e=0;for(var Ue=n.length;_e<Ue;_e+=2){if(M.push(n[_e],n[_e+1],l[_e/2],1,Ce[0],Ce[1],Ce[2]),L.push(y[0],y[1],y[2],y[3],h[0],h[1],h[2],h[3]),z.push(f,a),B.texture){var tt=$o(n[_e],n[_e+1],Fe.center,C),He=Xu(tt,2);tt=He[0],He=He[1],V?(tt=(tt-Fe.minX)/Fe.width,He=(He-Fe.minY)/Fe.height):(tt=(tt-Fe.minX)/Z,He=(He-Fe.minY)/J),T.push(tt,He)}m&&H.push(m[0]/255,m[1]/255,m[2]/255)}for(C=0,Fe=P.length;C<Fe;C++)d.push(P[C]+ne)}if(!(f===a&&0>=f))for(C=0,P=n.length;C<P;C+=2)Fe=M.length/7,Ue=n[C],tt=n[C+1],Ce=[Ue,tt,l[C/2],0],ne=[Ue,tt,l[C/2],1],_e=C+2,He=C+3,C===P-2&&(_e=0,He=1),_e=n[_e],He=n[He],Ue=Math.sqrt(Math.pow(_e-Ue,2),Math.pow(He-tt,2)),tt=[_e,He,l[C/2],0],_e=[_e,He,l[C/2],1],He=[],wr.cross(He,[tt[0]-Ce[0],tt[1]-Ce[1],tt[2]-Ce[2]],[ne[0]-Ce[0],ne[1]-Ce[1],ne[2]-Ce[2]]),M.push(Ce[0],Ce[1],Ce[2],Ce[3]),M.push(He[0],He[1],He[2]),M.push(ne[0],ne[1],ne[2],ne[3]),M.push(He[0],He[1],He[2]),M.push(tt[0],tt[1],tt[2],tt[3]),M.push(He[0],He[1],He[2]),M.push(_e[0],_e[1],_e[2],_e[3]),M.push(He[0],He[1],He[2]),L.push(y[0],y[1],y[2],y[3]),L.push(h[0],h[1],h[2],h[3]),L.push(y[0],y[1],y[2],y[3]),L.push(h[0],h[1],h[2],h[3]),L.push(y[0],y[1],y[2],y[3]),L.push(h[0],h[1],h[2],h[3]),L.push(y[0],y[1],y[2],y[3]),L.push(h[0],h[1],h[2],h[3]),z.push(f),z.push(a),z.push(f),z.push(a),z.push(f),z.push(a),z.push(f),z.push(a),B.texture&&(V?(T.push(0,0),T.push(0,1),T.push(1,0),T.push(1,1)):(T.push(0,0),T.push(0,f/J),T.push(Ue/Z,0),T.push(Ue/Z,f/J))),m&&(H.push(m[0]/255,m[1]/255,m[2]/255),H.push(m[0]/255,m[1]/255,m[2]/255),H.push(m[0]/255,m[1]/255,m[2]/255),H.push(m[0]/255,m[1]/255,m[2]/255)),d.push(Fe,Fe+2,Fe+3,Fe,Fe+3,Fe+1)};var qs=function(d){function n(l,a){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l,a)),l.preHeightMapper={},l.preColorMapper={},l}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return us(Be(n.prototype.__proto__||yt(n.prototype),"getDefaultOptions",this).call(this),{style:"grid",gridSize:500,height:function(){return 1e3},color:function(){return"rgb(200, 200, 20)"}})}},{key:"generateGrid",value:function(a,f){var h=f.gridSize,y=[],m={};f=a.length;for(var C=this.getPointOffset(),P=0;P<f;P++){var B=this.normizedPoint(a[P].geometry.coordinates);B=~~((B[0]+C[0])/h)+"_"+~~((B[1]+C[1])/h),m[B]===void 0&&(m[B]=0);var M=~~a[P].count||1;"properties"in a[P]&&"count"in a[P].properties&&(M=~~a[P].properties.count),m[B]+=M}return Fu(m).forEach(function(T){var L=T.split("_");y.push([L[0]*h+h/2,L[1]*h+h/2,m[T]])}),y}},{key:"onChanged",value:function(a,f){f=this.processData(f),Be(n.prototype.__proto__||yt(n.prototype),"onChanged",this).call(this,a,f)}},{key:"getGridDataRange",value:function(){var a=this.gridData,f=void 0,h=void 0;a[0]&&(f=a[0][2],h=a[0][2]);for(var y=a.length,m=0;m<y;m++){var C=a[m];f=Math.max(C[2],f),h=Math.min(C[2],h)}return{max:f/2,min:h}}},{key:"processData",value:function(a){var f=this.getOptions(),h=f.style,y=f.gridSize,m=[];if(this.gridData=m,h==="normal"){h=this.getPointOffset();for(var C=0;C<a.length;C++){var P=this.normizedPoint(a[C].geometry.coordinates),B=P[0]+h[0];P=P[1]+h[1];var M=~~a[C].count||1;"properties"in a[C]&&"count"in a[C].properties&&(M=~~a[C].properties.count);var T=a[C].color;"properties"in a[C]&&"color"in a[C].properties&&(T=~~a[C].properties.color),m.push([B,P,M,T])}}else m=this.generateGrid(a,f);for(a=[],this._preHeightMapper={},this._preColorMapper={},h=0;h<m.length;h++)C=m[h],C[0]=C[0],C[1]=C[1],B=C[2],f.height&&(B=typeof f.height=="function"?f.height({count:C[2]}):f.height),P=y/2-5,M=C[3],f.color&&(M=typeof f.color=="function"?f.color({count:C[2],color:C[3]}):De(M).unitArray()),T="p"+C[0]+C[1],a.push({geometry:{type:"Polygon",coordinates:[[[C[0]-P,C[1]-P],[C[0]-P,C[1]+P],[C[0]+P,C[1]+P],[C[0]+P,C[1]-P]]]},color:M,preHeight:this.preHeightMapper[T],preColor:this.preColorMapper[T],height:B}),this._preHeightMapper[T]=B,this._preColorMapper[T]=M;return this.preHeightMapper=this._preHeightMapper,this.preColorMapper=this._preColorMapper,a}}]),n}(Hs),rl=function(d){function n(l){return di(this,n),xo(this,(n.__proto__||yt(n)).call(this,l))}return Vo(n,d),nn(n,[{key:"initialize",value:function(a){var f=this;this.children&&this.children.forEach(function(h){h.map=f.map,h.setWebglLayer(f.getWebglLayer()),h.commonInitialize&&h.commonInitialize(a),h.initialize&&h.initialize(a),h.onOptionsChanged(h.getOptions()),h.onDataChanged(h.getData()),h.onChanged(h.getOptions(),h.getData())})}},{key:"isRequestAnimation",value:function(){if(this.autoUpdate!==void 0)return Be(n.prototype.__proto__||yt(n.prototype),"isRequestAnimation",this).call(this);for(var a=!1,f=0;f<this.children.length;f++)if(this.children[f].isRequestAnimation()){a=!0;break}return a}},{key:"render",value:function(a){this.children&&this.children.forEach(function(f){f.render(a)})}}]),n}(Cm),na=function(d){function n(l,a){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l,a)),l.gridLayer=new qs(l.getGridOptions()),l.children=[l.gridLayer],l.options.riseTime&&(l.autoUpdate=!0),l}return Vo(n,d),nn(n,[{key:"onDataChanged",value:function(a){this.gridLayer.setData(a)}},{key:"getGridOptions",value:function(){var a=this.getOptions(),f=a.max,h=a.min;f===void 0&&(h=this.gridLayer.getGridDataRange(),f=h.max,h=h.min);var y=new et({max:f,min:h,gradient:a.gradient,maxSize:a.maxHeight,minSize:a.minHeight});return a.height=function(m){var C=y.getSize(m.count);return"properties"in m&&"count"in m.properties&&(C=y.getSize(m.properties.count)),C},a.color=function(m){var C=y.getImageData(m.count);return"properties"in m&&"count"in m.properties&&(C=y.getImageData(m.properties.count)),[C[0]/255,C[1]/255,C[2]/255]},a}},{key:"onOptionsChanged",value:function(a){this.gridLayer.setOptions(this.getGridOptions())}},{key:"getDefaultOptions",value:function(){return{style:"grid",gridSize:500,maxHeight:8e3,minHeight:200,gradient:{0:"rgb(50, 50, 256)","0.1":"rgb(50, 250, 56)","0.5":"rgb(250, 250, 56)",1:"rgb(250, 50, 56)"}}}}]),n}(rl),_s=function(d){function n(l,a){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l,a)),l.bufferData=[],l}return Vo(n,d),nn(n,[{key:"initialize",value:function(a){this.gl=a;var f=this.getOptions();this.program=new es(this.gl,{vertexShader:`uniform mat4 u_matrix;attribute vec3 aPos;attribute vec4 aColor;varying vec4 vColor;
#if defined(DASH)
varying vec3 vPos;
#endif
void main(){if(aColor.w>=0.0&&aColor.w<=1.0){vColor=aColor;}else{vColor=vec4(aColor.xyz,1.0);}gl_Position=u_matrix*vec4(aPos,1.0);
#if defined(DASH)
vPos=aPos;
#endif
}`,fragmentShader:`precision highp float;varying vec4 vColor;varying vec3 vPos;void main(){
#if defined(DASH)
if(mod(vPos.x,3.0)<1.5){discard;}
#endif
gl_FragColor=vColor;}`,defines:f.useDash?["DASH"]:""},this),this.buffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.vertexArray=new gu({gl:a,program:this.program,attributes:[{stride:28,name:"aPos",buffer:this.buffer,size:3,type:"FLOAT",offset:0},{stride:28,name:"aColor",buffer:this.buffer,size:4,type:"FLOAT",offset:12}]})}},{key:"destroy",value:function(){this.data=this.vertexArray=this.program=this.buffer=this.bufferData=null}},{key:"onChanged",value:function(a,f){var h=this;if(this.gl){var y=[],m=function(L,z){if(L)for(var H=0;H<L.length-1;H++){var Z=h.normizedPoint(L[H]);y.push(Z[0]),y.push(Z[1]),y.push(Z[2]),y.push(z[0],z[1],z[2],z[3]),Z=h.normizedPoint(L[H+1]),y.push(Z[0]),y.push(Z[1]),y.push(Z[2]),y.push(z[0],z[1],z[2],z[3])}};a=a.color;for(var C=0;C<f.length;C++){var P=this.getProperty("color",a,f[C]);P=this.normizedColor(P);var B=f[C].geometry,M=B.coordinates;if(B.type==="MultiPolygon"){if(M)for(B=0;B<M.length;B++)m(M[B][0],P)}else if(B.type==="Polygon")M&&m(M[0],P);else if(B.type==="MultiLineString"){if(M)for(B=0;B<M.length;B++)m(M[B],P)}else m(M,P)}this.bufferData=y,this.buffer.updateData(new Float32Array(y))}}},{key:"render",value:function(a){var f=a.gl;if(a=a.matrix,this.bufferData&&!(0>=this.bufferData.length)){var h=this.program;h.use(f),this.vertexArray.bind(),h.setUniforms({u_matrix:a}),a=this.getOptions().blend,f.enable(f.BLEND),f.blendEquation(f.FUNC_ADD),a&&a==="lighter"?f.blendFunc(f.SRC_ALPHA,f.ONE):f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),f.drawArrays(f.LINES,0,this.bufferData.length/7),f.disable(f.BLEND)}}}]),n}(fe),Fl=Za.f("species"),Tl=ve(function(d){d.exports={default:Fl,__esModule:!0}});Ae(Tl);var kl=typeof xe!="undefined"?xe:typeof self!="undefined"?self:typeof window!="undefined"?window:{},sa=[],Vs=[],nl=typeof Uint8Array!="undefined"?Uint8Array:Array,yu=!1,il={}.toString,Qo=Array.isArray||function(d){return il.call(d)=="[object Array]"};Gr.TYPED_ARRAY_SUPPORT=kl.TYPED_ARRAY_SUPPORT!==void 0?kl.TYPED_ARRAY_SUPPORT:!0,Gr.poolSize=8192,Gr._augment=function(d){return d.__proto__=Gr.prototype,d},Gr.from=function(d,n,l){return Yl(null,d,n,l)},Gr.TYPED_ARRAY_SUPPORT&&(Gr.prototype.__proto__=Uint8Array.prototype,Gr.__proto__=Uint8Array),Gr.alloc=function(d,n,l){return ou(d),d=0>=d?ss(null,d):n!==void 0?typeof l=="string"?ss(null,d).fill(n,l):ss(null,d).fill(n):ss(null,d),d},Gr.allocUnsafe=function(d){return ea(null,d)},Gr.allocUnsafeSlow=function(d){return ea(null,d)},Gr.isBuffer=function(d){return d!=null&&(!!d._isBuffer||bn(d)||typeof d.readFloatLE=="function"&&typeof d.slice=="function"&&bn(d.slice(0,0)))},Gr.compare=function(d,n){if(!hi(d)||!hi(n))throw new TypeError("Arguments must be Buffers");if(d===n)return 0;for(var l=d.length,a=n.length,f=0,h=Math.min(l,a);f<h;++f)if(d[f]!==n[f]){l=d[f],a=n[f];break}return l<a?-1:a<l?1:0},Gr.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Gr.concat=function(d,n){if(!Qo(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return Gr.alloc(0);var l;if(n===void 0)for(l=n=0;l<d.length;++l)n+=d[l].length;n=Gr.allocUnsafe(n);var a=0;for(l=0;l<d.length;++l){var f=d[l];if(!hi(f))throw new TypeError('"list" argument must be an Array of Buffers');f.copy(n,a),a+=f.length}return n},Gr.byteLength=Mt,Gr.prototype._isBuffer=!0,Gr.prototype.swap16=function(){var d=this.length;if(d%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<d;n+=2)Ot(this,n,n+1);return this},Gr.prototype.swap32=function(){var d=this.length;if(d%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<d;n+=4)Ot(this,n,n+3),Ot(this,n+1,n+2);return this},Gr.prototype.swap64=function(){var d=this.length;if(d%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<d;n+=8)Ot(this,n,n+7),Ot(this,n+1,n+6),Ot(this,n+2,n+5),Ot(this,n+3,n+4);return this},Gr.prototype.toString=function(){var d=this.length|0;return d===0?"":arguments.length===0?jt(this,0,d):wn.apply(this,arguments)},Gr.prototype.equals=function(d){if(!hi(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:Gr.compare(this,d)===0},Gr.prototype.inspect=function(){var d="";return 0<this.length&&(d=this.toString("hex",0,50).match(/.{2}/g).join(" "),50<this.length&&(d+=" ... ")),"<Buffer "+d+">"},Gr.prototype.compare=function(d,n,l,a,f){if(!hi(d))throw new TypeError("Argument must be a Buffer");if(n===void 0&&(n=0),l===void 0&&(l=d?d.length:0),a===void 0&&(a=0),f===void 0&&(f=this.length),0>n||l>d.length||0>a||f>this.length)throw new RangeError("out of range index");if(a>=f&&n>=l)return 0;if(a>=f)return-1;if(n>=l)return 1;if(n>>>=0,l>>>=0,a>>>=0,f>>>=0,this===d)return 0;var h=f-a,y=l-n,m=Math.min(h,y);for(a=this.slice(a,f),d=d.slice(n,l),n=0;n<m;++n)if(a[n]!==d[n]){h=a[n],y=d[n];break}return h<y?-1:y<h?1:0},Gr.prototype.includes=function(d,n,l){return this.indexOf(d,n,l)!==-1},Gr.prototype.indexOf=function(d,n,l){return ar(this,d,n,l,!0)},Gr.prototype.lastIndexOf=function(d,n,l){return ar(this,d,n,l,!1)},Gr.prototype.write=function(d,n,l,a){if(n===void 0)a="utf8",l=this.length,n=0;else if(l===void 0&&typeof n=="string")a=n,l=this.length,n=0;else if(isFinite(n))n|=0,isFinite(l)?(l|=0,a===void 0&&(a="utf8")):(a=l,l=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var f=this.length-n;if((l===void 0||l>f)&&(l=f),0<d.length&&(0>l||0>n)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(a||(a="utf8"),f=!1;;)switch(a){case"hex":e:{if(n=Number(n)||0,a=this.length-n,l?(l=Number(l),l>a&&(l=a)):l=a,a=d.length,a%2!=0)throw new TypeError("Invalid hex string");for(l>a/2&&(l=a/2),a=0;a<l;++a){if(f=parseInt(d.substr(2*a,2),16),isNaN(f)){d=a;break e}this[n+a]=f}d=a}return d;case"utf8":case"utf-8":return en(nt(d,this.length-n),this,n,l);case"ascii":return en(ut(d),this,n,l);case"latin1":case"binary":return en(ut(d),this,n,l);case"base64":return en(Dt(d),this,n,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":a=d,f=this.length-n;for(var h=[],y=0;y<a.length&&!(0>(f-=2));++y){var m=a.charCodeAt(y);d=m>>8,m%=256,h.push(m),h.push(d)}return en(h,this,n,l);default:if(f)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),f=!0}},Gr.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var xu=4096;Gr.prototype.slice=function(d,n){var l=this.length;if(d=~~d,n=n===void 0?l:~~n,0>d?(d+=l,0>d&&(d=0)):d>l&&(d=l),0>n?(n+=l,0>n&&(n=0)):n>l&&(n=l),n<d&&(n=d),Gr.TYPED_ARRAY_SUPPORT)n=this.subarray(d,n),n.__proto__=Gr.prototype;else{l=n-d,n=new Gr(l,void 0);for(var a=0;a<l;++a)n[a]=this[a+d]}return n},Gr.prototype.readUIntLE=function(d,n,l){d|=0,n|=0,l||gr(d,n,this.length),l=this[d];for(var a=1,f=0;++f<n&&(a*=256);)l+=this[d+f]*a;return l},Gr.prototype.readUIntBE=function(d,n,l){d|=0,n|=0,l||gr(d,n,this.length),l=this[d+--n];for(var a=1;0<n&&(a*=256);)l+=this[d+--n]*a;return l},Gr.prototype.readUInt8=function(d,n){return n||gr(d,1,this.length),this[d]},Gr.prototype.readUInt16LE=function(d,n){return n||gr(d,2,this.length),this[d]|this[d+1]<<8},Gr.prototype.readUInt16BE=function(d,n){return n||gr(d,2,this.length),this[d]<<8|this[d+1]},Gr.prototype.readUInt32LE=function(d,n){return n||gr(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+16777216*this[d+3]},Gr.prototype.readUInt32BE=function(d,n){return n||gr(d,4,this.length),16777216*this[d]+(this[d+1]<<16|this[d+2]<<8|this[d+3])},Gr.prototype.readIntLE=function(d,n,l){d|=0,n|=0,l||gr(d,n,this.length),l=this[d];for(var a=1,f=0;++f<n&&(a*=256);)l+=this[d+f]*a;return l>=128*a&&(l-=Math.pow(2,8*n)),l},Gr.prototype.readIntBE=function(d,n,l){d|=0,n|=0,l||gr(d,n,this.length),l=n;for(var a=1,f=this[d+--l];0<l&&(a*=256);)f+=this[d+--l]*a;return f>=128*a&&(f-=Math.pow(2,8*n)),f},Gr.prototype.readInt8=function(d,n){return n||gr(d,1,this.length),this[d]&128?-1*(255-this[d]+1):this[d]},Gr.prototype.readInt16LE=function(d,n){return n||gr(d,2,this.length),d=this[d]|this[d+1]<<8,d&32768?d|4294901760:d},Gr.prototype.readInt16BE=function(d,n){return n||gr(d,2,this.length),d=this[d+1]|this[d]<<8,d&32768?d|4294901760:d},Gr.prototype.readInt32LE=function(d,n){return n||gr(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},Gr.prototype.readInt32BE=function(d,n){return n||gr(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},Gr.prototype.readFloatLE=function(d,n){return n||gr(d,4,this.length),un(this,d,!0,23,4)},Gr.prototype.readFloatBE=function(d,n){return n||gr(d,4,this.length),un(this,d,!1,23,4)},Gr.prototype.readDoubleLE=function(d,n){return n||gr(d,8,this.length),un(this,d,!0,52,8)},Gr.prototype.readDoubleBE=function(d,n){return n||gr(d,8,this.length),un(this,d,!1,52,8)},Gr.prototype.writeUIntLE=function(d,n,l,a){d=+d,n|=0,l|=0,a||Vn(this,d,n,l,Math.pow(2,8*l)-1,0),a=1;var f=0;for(this[n]=d&255;++f<l&&(a*=256);)this[n+f]=d/a&255;return n+l},Gr.prototype.writeUIntBE=function(d,n,l,a){d=+d,n|=0,l|=0,a||Vn(this,d,n,l,Math.pow(2,8*l)-1,0),a=l-1;var f=1;for(this[n+a]=d&255;0<=--a&&(f*=256);)this[n+a]=d/f&255;return n+l},Gr.prototype.writeUInt8=function(d,n,l){return d=+d,n|=0,l||Vn(this,d,n,1,255,0),Gr.TYPED_ARRAY_SUPPORT||(d=Math.floor(d)),this[n]=d&255,n+1},Gr.prototype.writeUInt16LE=function(d,n,l){return d=+d,n|=0,l||Vn(this,d,n,2,65535,0),Gr.TYPED_ARRAY_SUPPORT?(this[n]=d&255,this[n+1]=d>>>8):_n(this,d,n,!0),n+2},Gr.prototype.writeUInt16BE=function(d,n,l){return d=+d,n|=0,l||Vn(this,d,n,2,65535,0),Gr.TYPED_ARRAY_SUPPORT?(this[n]=d>>>8,this[n+1]=d&255):_n(this,d,n,!1),n+2},Gr.prototype.writeUInt32LE=function(d,n,l){return d=+d,n|=0,l||Vn(this,d,n,4,4294967295,0),Gr.TYPED_ARRAY_SUPPORT?(this[n+3]=d>>>24,this[n+2]=d>>>16,this[n+1]=d>>>8,this[n]=d&255):vo(this,d,n,!0),n+4},Gr.prototype.writeUInt32BE=function(d,n,l){return d=+d,n|=0,l||Vn(this,d,n,4,4294967295,0),Gr.TYPED_ARRAY_SUPPORT?(this[n]=d>>>24,this[n+1]=d>>>16,this[n+2]=d>>>8,this[n+3]=d&255):vo(this,d,n,!1),n+4},Gr.prototype.writeIntLE=function(d,n,l,a){d=+d,n|=0,a||(a=Math.pow(2,8*l-1),Vn(this,d,n,l,a-1,-a)),a=0;var f=1,h=0;for(this[n]=d&255;++a<l&&(f*=256);)0>d&&h===0&&this[n+a-1]!==0&&(h=1),this[n+a]=(d/f>>0)-h&255;return n+l},Gr.prototype.writeIntBE=function(d,n,l,a){d=+d,n|=0,a||(a=Math.pow(2,8*l-1),Vn(this,d,n,l,a-1,-a)),a=l-1;var f=1,h=0;for(this[n+a]=d&255;0<=--a&&(f*=256);)0>d&&h===0&&this[n+a+1]!==0&&(h=1),this[n+a]=(d/f>>0)-h&255;return n+l},Gr.prototype.writeInt8=function(d,n,l){return d=+d,n|=0,l||Vn(this,d,n,1,127,-128),Gr.TYPED_ARRAY_SUPPORT||(d=Math.floor(d)),0>d&&(d=255+d+1),this[n]=d&255,n+1},Gr.prototype.writeInt16LE=function(d,n,l){return d=+d,n|=0,l||Vn(this,d,n,2,32767,-32768),Gr.TYPED_ARRAY_SUPPORT?(this[n]=d&255,this[n+1]=d>>>8):_n(this,d,n,!0),n+2},Gr.prototype.writeInt16BE=function(d,n,l){return d=+d,n|=0,l||Vn(this,d,n,2,32767,-32768),Gr.TYPED_ARRAY_SUPPORT?(this[n]=d>>>8,this[n+1]=d&255):_n(this,d,n,!1),n+2},Gr.prototype.writeInt32LE=function(d,n,l){return d=+d,n|=0,l||Vn(this,d,n,4,2147483647,-2147483648),Gr.TYPED_ARRAY_SUPPORT?(this[n]=d&255,this[n+1]=d>>>8,this[n+2]=d>>>16,this[n+3]=d>>>24):vo(this,d,n,!0),n+4},Gr.prototype.writeInt32BE=function(d,n,l){return d=+d,n|=0,l||Vn(this,d,n,4,2147483647,-2147483648),0>d&&(d=4294967295+d+1),Gr.TYPED_ARRAY_SUPPORT?(this[n]=d>>>24,this[n+1]=d>>>16,this[n+2]=d>>>8,this[n+3]=d&255):vo(this,d,n,!1),n+4},Gr.prototype.writeFloatLE=function(d,n,l){return Oo(this,d,n,!0,l)},Gr.prototype.writeFloatBE=function(d,n,l){return Oo(this,d,n,!1,l)},Gr.prototype.writeDoubleLE=function(d,n,l){return Je(this,d,n,!0,l)},Gr.prototype.writeDoubleBE=function(d,n,l){return Je(this,d,n,!1,l)},Gr.prototype.copy=function(d,n,l,a){if(l||(l=0),a||a===0||(a=this.length),n>=d.length&&(n=d.length),n||(n=0),0<a&&a<l&&(a=l),a===l||d.length===0||this.length===0)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>l||l>=this.length)throw new RangeError("sourceStart out of bounds");if(0>a)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),d.length-n<a-l&&(a=d.length-n+l);var f=a-l;if(this===d&&l<n&&n<a)for(a=f-1;0<=a;--a)d[a+n]=this[a+l];else if(1e3>f||!Gr.TYPED_ARRAY_SUPPORT)for(a=0;a<f;++a)d[a+n]=this[a+l];else Uint8Array.prototype.set.call(d,this.subarray(l,l+f),n);return f},Gr.prototype.fill=function(d,n,l,a){if(typeof d=="string"){if(typeof n=="string"?(a=n,n=0,l=this.length):typeof l=="string"&&(a=l,l=this.length),d.length===1){var f=d.charCodeAt(0);256>f&&(d=f)}if(a!==void 0&&typeof a!="string")throw new TypeError("encoding must be a string");if(typeof a=="string"&&!Gr.isEncoding(a))throw new TypeError("Unknown encoding: "+a)}else typeof d=="number"&&(d&=255);if(0>n||this.length<n||this.length<l)throw new RangeError("Out of range index");if(l<=n)return this;if(n>>>=0,l=l===void 0?this.length:l>>>0,d||(d=0),typeof d=="number")for(a=n;a<l;++a)this[a]=d;else for(d=hi(d)?d:nt(new Gr(d,a).toString()),f=d.length,a=0;a<l-n;++a)this[a+n]=d[a%f];return this};var Ao=/[^+\/0-9A-Za-z-_]/g,No={normal:null,road:Ji()},ms=function(d){function n(l,a){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l,a)),l.initData(),l}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{color:"rgba(25, 25, 250, 1)",offset:0,blend:"normal",width:4,flat:!1,antialias:!1,style:"normal",dashArray:[0,0],dashOffset:0}}},{key:"initData",value:function(){this.dataMgr={position:[],prev:[],next:[],direction:[],color:[],index:[],counter:[],uv:[]}}},{key:"initialize",value:function(a){this.gl=a;var f=this.getOptions(),h=[];f.enablePicked&&h.push("PICK"),No[f.style]&&(this.isUseTexture=!0,h.push("USE_TEXTURE")),this.program=new es(this.gl,{vertexShader:`precision highp float;uniform vec4 uSelectedColor;uniform mat4 uMatrix;uniform bool uFlat;uniform vec2 uDashArray;uniform float thickness;uniform float zoomUnits;uniform float devicePixelRatio;uniform float uOffset;attribute vec3 position;attribute vec3 next;attribute vec3 previous;attribute float direction;attribute vec4 aColor;attribute float aDistance;attribute float aTotalDistance;
#if defined(USE_TEXTURE)
attribute vec2 uv;
#endif
varying vec4 vColor;varying vec2 vNormal;varying vec2 vUV;varying vec2 vDashArray;varying float vTotalDistance;varying float vCounter;vec2 project(vec4 coord){vec3 screen=coord.xyz/coord.w;vec2 clip=(screen.xy+1.0)/2.0;return clip*MAPV_resolution;}vec4 unproject(vec2 projected,float z,float w){vec2 clip=projected/MAPV_resolution;vec2 screen=clip*2.0-1.0;return vec4(screen*w,z,w);}vec3 getNormalAndWidth(vec2 currentScreen,vec2 previousScreen,vec2 nextScreen,float thickness){vec2 dir=vec2(0.0);if(currentScreen==previousScreen){dir=normalize(nextScreen-currentScreen);}else if(currentScreen==nextScreen){dir=normalize(currentScreen-previousScreen);}else{vec2 dirA=normalize((currentScreen-previousScreen));vec2 dirB=normalize((nextScreen-currentScreen));vec2 tangent=normalize(dirA+dirB);vec2 perp=vec2(-dirA.y,dirA.x);vec2 miter=vec2(-tangent.y,tangent.x);dir=tangent;float angle=40.0;if(dot(dirA,dirB)>cos(radians(angle))){thickness=thickness/dot(miter,perp);}}vec2 normal=vec2(-dir.y,dir.x);return vec3(normal,thickness);}void main(){vColor=aColor;vCounter=aDistance/aTotalDistance;vDashArray=zoomUnits*uDashArray/aTotalDistance;vTotalDistance=aTotalDistance;
#if defined(USE_TEXTURE)
vUV=uv;
#endif
#if defined(PICK)
if(mapvIsPicked()){vColor=uSelectedColor;}
#endif
if(uFlat){float width=thickness*zoomUnits;vec3 nw=getNormalAndWidth(position.xy,previous.xy,next.xy,width);width=nw.z;vec2 normal=nw.xy;vNormal=normal*direction;normal*=width/2.0;float offsetXy=uOffset/zoomUnits;float offsetHeight=uOffset*zoomUnits/100.0;gl_Position=uMatrix*vec4(position.xy+normal*(direction+offsetXy),position.z+offsetHeight,1.0);}else{vec4 previousProjected=uMatrix*vec4(previous,1.0);vec4 currentProjected=uMatrix*vec4(position,1.0);vec4 nextProjected=uMatrix*vec4(next,1.0);vec2 currentScreen=project(currentProjected);vec2 previousScreen=project(previousProjected);vec2 nextScreen=project(nextProjected);float width=thickness*devicePixelRatio;vec3 nw=getNormalAndWidth(currentScreen,previousScreen,nextScreen,width);width=nw.z;vec2 normal=nw.xy;vNormal=normal*direction;normal*=width/2.0;vec2 pos=currentScreen+normal*direction;vec4 finalPos=unproject(pos,currentProjected.z,currentProjected.w);gl_Position=finalPos;}}`,fragmentShader:`precision highp float;varying vec4 vColor;varying vec2 vNormal;varying vec2 vUV;varying vec2 vDashArray;varying float vCounter;varying float vTotalDistance;uniform bool uAntialias;uniform float uDashOffset;uniform float zoomUnits;uniform float thickness;
#if defined(USE_TEXTURE)
uniform float uTextureMargin;uniform sampler2D textureImage;
#endif
void main(){vec4 color=vColor;if(uAntialias){float blur=1.0;blur=1.0-smoothstep(0.8,1.0,length(vNormal));color.a*=blur;}
#if defined(USE_TEXTURE)
float segLen=uTextureMargin*zoomUnits;float textureLen=thickness*zoomUnits;float deltaX=mod(vUV.x,segLen);float middle=segLen/2.0;if(deltaX>=middle&&deltaX<=middle+textureLen){float uvx=(deltaX-middle)/textureLen;vec4 texture=texture2D(textureImage,vec2(uvx,vUV.y));color=texture.a>=0.5 ? texture : color;}
#endif
if(vDashArray.y>0.0){float offset=uDashOffset*zoomUnits/vTotalDistance;color.a*=(1.0-step(vDashArray.x,mod(vCounter+offset,vDashArray.x+vDashArray.y)));}gl_FragColor=color;}`,defines:h},this),this.prevBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.currentBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.nextBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.directionBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.colorBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.counterBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.uvBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Jo({gl:a,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),h=[{stride:12,name:"previous",buffer:this.prevBuffer,size:3,type:"FLOAT",offset:0},{stride:12,name:"position",buffer:this.currentBuffer,size:3,type:"FLOAT",offset:0},{stride:12,name:"next",buffer:this.nextBuffer,size:3,type:"FLOAT",offset:0},{stride:4,name:"direction",buffer:this.directionBuffer,size:1,type:"FLOAT",offset:0},{stride:16,name:"aColor",buffer:this.colorBuffer,size:4,type:"FLOAT",offset:0},{stride:8,name:"aDistance",buffer:this.counterBuffer,size:1,type:"FLOAT",offset:0},{stride:8,name:"aTotalDistance",buffer:this.counterBuffer,size:1,type:"FLOAT",offset:4}],h=h.concat(this.getCommonAttributes()),No[f.style]&&(h.push({stride:8,name:"uv",buffer:this.uvBuffer,size:2,type:"FLOAT",offset:0}),this.setOptions({texture:No[f.style]}),this.loadTexture()),this.vertexArray=new gu({gl:a,program:this.program,attributes:h})}},{key:"destroy",value:function(){this.options&&this.options.enablePicked&&(this.pickBuffer=null),this.options=this.data=this.dataMgr=this.indexBuffer=this.uvBuffer=this.counterBuffer=this.directionBuffer=this.colorBuffer=this.nextBuffer=this.currentBuffer=this.prevBuffer=this.program=this.vertexArray=null}},{key:"onChanged",value:function(a,f){var h=this;if(this.gl){this.initData();for(var y=a.color,m=[],C=0;C<f.length;C++){var P=[],B=f[C].geometry.coordinates;B&&0<B.length&&(P=f[C].geometry.type==="MultiPolygon"?B.reduce(function(L,z){return L.concat(z)})[0].map(function(L){return h.normizedPoint(L)}):f[C].geometry.type==="Polygon"||f[C].geometry.type==="MultiLineString"?B[0].map(function(L){return h.normizedPoint(L)}):B.map(function(L){return h.normizedPoint(L)})),B=this.getProperty("color",y,f[C]),B=this.getProperty("lineColor",y,f[C]),B=this.normizedColor(B);for(var M=this.addMultipleCoords(P),T=0;T<M.length;T++)this.processData(this.dataMgr,M[T],B);if(a.enablePicked)for(B=this.indexToRgb(C),M=0;M<P.length;M++)m.push(B[0]/255,B[1]/255,B[2]/255),m.push(B[0]/255,B[1]/255,B[2]/255),a.repeat&&(m.push(B[0]/255,B[1]/255,B[2]/255),m.push(B[0]/255,B[1]/255,B[2]/255),m.push(B[0]/255,B[1]/255,B[2]/255),m.push(B[0]/255,B[1]/255,B[2]/255))}this.counterBuffer.updateData(new Float32Array(this.dataMgr.counter)),this.currentBuffer.updateData(new Float32Array(this.dataMgr.position)),this.prevBuffer.updateData(new Float32Array(this.dataMgr.prev)),this.nextBuffer.updateData(new Float32Array(this.dataMgr.next)),this.directionBuffer.updateData(new Float32Array(this.dataMgr.direction)),this.colorBuffer.updateData(new Float32Array(this.dataMgr.color)),this.indexBuffer.updateData(new Uint32Array(this.dataMgr.index)),this.isUseTexture&&this.uvBuffer.updateData(new Float32Array(this.dataMgr.uv)),a.enablePicked&&this.pickBuffer.updateData(new Float32Array(m))}}},{key:"processData",value:function(a,f,h){var y,m,C,P,B,M,T,L,z=f.length,H=a.position.length/6,Z=mi(f),J=Z.arr,V=Z.total;Z=jr(J.map(function(Ue){return[Ue,V]})),J=J.map(function(Ue){return[Ue,0,Ue,1]});var ne=jr(f.map(function(Ue){return-1}),!0),Ce=jr(f),_e=jr(f.map(yn(-1))),Fe=jr(f.map(yn(1)));f=jr(f.map(function(Ue){return h})),z=tn(z,H),(y=a.uv).push.apply(y,ga(Qn(J))),(m=a.counter).push.apply(m,ga(Qn(Z))),(C=a.position).push.apply(C,ga(Qn(Ce))),(P=a.prev).push.apply(P,ga(Qn(_e))),(B=a.next).push.apply(B,ga(Qn(Fe))),(M=a.direction).push.apply(M,ga(ne)),(T=a.color).push.apply(T,ga(Qn(f))),(L=a.index).push.apply(L,ga(z))}},{key:"render",value:function(a){var f=a.gl,h=a.matrix,y=this.dataMgr;if(y&&!(0>=y.index.length)&&this.map){var m=this.getOptions(),C=this.program;C.use(f),a=us(this.getCommonUniforms(a),{uMatrix:h,uFlat:m.flat,zoomUnits:this.map.getZoomUnits(),devicePixelRatio:window.devicePixelRatio,thickness:m.width,uDashArray:m.dashArray,uDashOffset:m.dashOffset,uAntialias:m.antialias,uOffset:m.offset}),this.isUseTexture&&(a=us(a,{uTextureMargin:140,textureImage:this.texture})),C.setUniforms(a),f.enable(f.BLEND),f.blendEquation(f.FUNC_ADD),m.blend&&m.blend==="lighter"?f.blendFunc(f.SRC_ALPHA,f.ONE):f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),f.polygonOffset(-1,1),this.indexBuffer.bind(),this.vertexArray.bind(),f.drawElements(f.TRIANGLES,y.index.length,f.UNSIGNED_INT,0),f.bindBuffer(f.ARRAY_BUFFER,null),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,null),f.disable(f.BLEND)}}},{key:"loadTexture",value:function(a){var f=this,h=this.getOptions();h.texture?Jt(this.gl,h.texture,function(y,m){f.image=m,f.texture=y,a&&a(),f.webglLayer.render()}):(this.image=this.texture=null,a&&a())}}]),n}(fe),Is=function(){function d(n){di(this,d),this.join=n.join||"miter",this.cap=n.cap||"butt",this.thickness=n.thickness||4,this.miterLimit=n.miterLimit||2*this.thickness,this.dash=n.dash||!1,this.complex={positions:[],indices:[],normals:[],colors:[],uvs:[],startIndex:0,maxDistance:0},this._lastFlip=-1,this._started=!1,this._normal=null,this._totalDistance=0}return nn(d,[{key:"extrude",value:function(l,a,f,h){var y=this.complex;if(1>=l.length)return y;this._lastFlip=-1,this._started=!1,this._normal=null,this._totalDistance=0;for(var m=l.length,C=y.startIndex,P=1;P<m;P++){var B=this._segment(y,C,l[P-1],l[P],P<m-1?l[P+1]:null,a,f,h);B!==-1&&(C+=B)}return this.dash&&(y.maxDistance=Math.max(this._totalDistance,y.maxDistance)),y.startIndex=y.positions.length/7,y}},{key:"_segment",value:function(l,a,f,h,y,m,C,P){var B=0,M=on.create(),T=on.create(),L=on.create(),z=on.create(),H=l.indices,Z=l.positions,J=l.normals,V=l.colors;l=l.uvs;var ne=this.cap==="square",Ce=this.cap==="round",_e=this.join==="bevel",Fe=this.join==="round",Ue=[h[0],h[1]],tt=[f[0],f[1]];eo(T,Ue,tt);var He=0;if(this.dash&&(He=this._calcDistance(Ue,tt),this._totalDistance+=He),this._normal||(this._normal=on.create(),Hi(this._normal,T)),!this._started)if(this._started=!0,ne){tt=on.create();var kt=on.create();on.add(tt,this._normal,T),on.sub(kt,this._normal,T),J.push(kt[0],kt[1],0),J.push(tt[0],tt[1],0),Z.push(f[0],f[1],f[2],this._totalDistance-He,m,C,0),Z.push(f[0],f[1],f[2],this._totalDistance-He,-m,C,0),l.push(this._totalDistance-He,0,this._totalDistance-He,1),V.push(P[0],P[1],P[2],P[3]),V.push(P[0],P[1],P[2],P[3])}else if(Ce){tt=on.fromValues(-T[0],-T[1]),kt=on.create(),on.sub(kt,this._normal,T),on.normalize(kt,kt);var Wt=on.create();on.add(Wt,this._normal,T),on.normalize(Wt,Wt);var Dr=on.fromValues(this._normal[0],this._normal[1]),qr=on.fromValues(-this._normal[0],-this._normal[1]);for(J.push(tt[0],tt[1],0),J.push(kt[0],kt[1],0),J.push(-Wt[0],-Wt[1],0),J.push(Dr[0],Dr[1],0),J.push(qr[0],qr[1],0),tt=0;5>tt;tt++)Z.push(f[0],f[1],f[2],this._totalDistance-He,m,C,0),l.push(this._totalDistance-He,0),V.push(P[0],P[1],P[2],P[3]);H.push(a+0,a+2,a+1,a+1,a+2,a+3,a+3,a+2,a+4),B+=3,a+=3}else this._extrusions(Z,J,l,V,f,this._normal,m,this._totalDistance-He,C,P);if(H.push.apply(H,ga(this._lastFlip===-1?[a+0,a+1,a+2]:[a+1,a+0,a+2])),y){if(h[0]===y[0]&&h[1]===y[1]&&h[2]===y[2])return-1;eo(L,[y[0],y[1]],Ue),on.create(),on.add(z,T,L),on.normalize(z,z),He=on.fromValues(-z[1],z[0]),T=on.fromValues(-T[1],T[0]),T=[m/on.dot(He,T),He],T=Xu(T,2),He=T[0],T=T[1],z=0<on.dot(z,this._normal)?-1:1,_e||this.join!=="miter"||Math.abs(He)>this.miterLimit&&(_e=!0),_e?(Fe=Math.min(2*m,Math.abs(He)),J.push(this._normal[0],this._normal[1],0),J.push(T[0],T[1],0),Z.push(h[0],h[1],h[2],this._totalDistance,m*z,C,0),Z.push(h[0],h[1],h[2],this._totalDistance,-Fe*z,C,0),H.push.apply(H,ga(this._lastFlip===-z?[a+2,a+1,a+3]:[a+0,a+2,a+3])),Hi(M,L),on.copy(this._normal,M),J.push(this._normal[0],this._normal[1],0),Z.push(h[0],h[1],h[2],this._totalDistance,m*z,C,0),H.push.apply(H,ga(z===1?[a+2,a+3,a+4]:[a+3,a+2,a+4])),this._flipedUV(l,this._totalDistance,z,!0),V.push(P[0],P[1],P[2],P[3]),V.push(P[0],P[1],P[2],P[3]),V.push(P[0],P[1],P[2],P[3]),B+=3):Fe?(Fe=Math.min(2*m,Math.abs(He)),J.push(this._normal[0],this._normal[1],0),J.push(T[0],T[1],0),J.push(T[0],T[1],0),Z.push(h[0],h[1],h[2],this._totalDistance,m*z,C,0),Z.push(h[0],h[1],h[2],this._totalDistance,m*z,C,0),Z.push(h[0],h[1],h[2],this._totalDistance,-Fe*z,C,0),H.push.apply(H,ga(this._lastFlip===-z?[a+2,a+1,a+4,a+2,a+4,a+3]:[a+0,a+2,a+4,a+2,a+3,a+4])),Hi(M,L),on.copy(this._normal,M),J.push(this._normal[0],this._normal[1],0),Z.push(h[0],h[1],h[2],this._totalDistance,m*z,C,0),H.push.apply(H,ga(z===1?[a+4,a+3,a+5]:[a+3,a+4,a+5])),this._flipedUV(l,this._totalDistance,z,!1),V.push(P[0],P[1],P[2],P[3]),V.push(P[0],P[1],P[2],P[3]),V.push(P[0],P[1],P[2],P[3]),V.push(P[0],P[1],P[2],P[3]),B+=4):(this._extrusions(Z,J,l,V,h,T,He,this._totalDistance,C,P),H.push.apply(H,ga(this._lastFlip===-1?[a+2,a+1,a+3]:[a+2,a+0,a+3])),z=-1,on.copy(this._normal,T),B+=2),this._lastFlip=z}else if(Hi(this._normal,T),ne?(M=on.create(),L=on.create(),on.add(M,T,this._normal),on.sub(L,T,this._normal),J.push(M[0],M[1],0),J.push(L[0],L[1],0),Z.push(h[0],h[1],h[2],this._totalDistance,m,C,0),Z.push(h[0],h[1],h[2],this._totalDistance,m,C,0),l.push(this._totalDistance,0,this._totalDistance,1),V.push(P[0],P[1],P[2],P[3]),V.push(P[0],P[1],P[2],P[3])):this._extrusions(Z,J,l,V,h,this._normal,m,this._totalDistance,C,P),H.push.apply(H,ga(this._lastFlip===-1?[a+2,a+1,a+3]:[a+2,a+0,a+3])),B+=2,Ce){for(M=on.create(),on.add(M,T,this._normal),on.normalize(M,M),L=on.create(),on.sub(L,T,this._normal),on.normalize(L,L),Fe=on.fromValues(T[0],T[1]),J.push(M[0],M[1],0),J.push(L[0],L[1],0),J.push(Fe[0],Fe[1],0),J=0;3>J;J++)Z.push(h[0],h[1],h[2],this._totalDistance-He,m,C,0),l.push(this._totalDistance-He,0),V.push(P[0],P[1],P[2],P[3]);H.push(a+2,a+3,a+4,a+4,a+3,a+5,a+4,a+5,a+6),B+=3}return B}},{key:"_extrusions",value:function(l,a,f,h,y,m,C,P,B,M){a.push(m[0],m[1],0),a.push(m[0],m[1],0),l.push(y[0],y[1],y[2],P,C,B,0),l.push(y[0],y[1],y[2],P,-C,B,0),f.push(P,0,P,1),h.push(M[0],M[1],M[2],M[3]),h.push(M[0],M[1],M[2],M[3])}},{key:"_calcDistance",value:function(l,a){return Math.sqrt(Math.pow(l[0]-a[0],2)+Math.pow(l[1]-a[1],2))}},{key:"_flipedUV",value:function(l,a,f,h){h?f===-1?l.push(a,0,a,1,a,0):l.push(a,1,a,0,a,1):f===-1?l.push(a,0,a,0,a,1,a,0):l.push(a,1,a,1,a,0,a,1)}}]),d}(),$s={normal:null,road:Ji,arrow:function(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},l=n.width;n=n.color;var a=si(),f=a.canvas;return a=a.ctx,a.save(),a.moveTo(5,0),a.lineTo(32,16),a.lineTo(5,32),a.strokeStyle=n||"#fff",a.lineWidth=l||8,a.stroke(),a.restore(),f}},el=function(d){function n(l,a){return di(this,n),xo(this,(n.__proto__||yt(n)).call(this,l,a))}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{style:"normal",styleOptions:{},color:"rgba(25, 25, 250, 1)",blend:"normal",lineJoin:"miter",lineCap:"butt",unit:"px",width:4,offset:0,antialias:!1,dashArray:[0,0],dashOffset:0,animation:!1,interval:.1,duration:2,trailLength:.5,minZoom:2,maxZoom:25,polygonOffset:[-2,-2]}}},{key:"initialize",value:function(a){this.gl=a;var f=this.getOptions(),h=[];f.enablePicked&&h.push("PICK"),$s[f.style]&&(this.isUseTexture=!0,this.prevStyle=f.style,this.prevStyleOptions=f.styleOptions,h.push("USE_TEXTURE")),f.animation===!0&&(this.isAnimateLine=!0,this.date=new Date,this.autoUpdate=!0,h.push("USE_LINE_ANIMATION")),f.useDash===!0&&h.push("USE_SIMPLE_DASH"),this.program=new es(this.gl,{vertexShader:`precision highp float;uniform vec4 uSelectedColor;uniform mat4 u_matrix;uniform vec2 u_dash_array;uniform float u_zoom_units;uniform bool u_unit_px;attribute vec4 a_color;attribute vec3 a_position;attribute vec3 a_normal;attribute float a_distance;attribute float a_total_distance;attribute float a_width;attribute float a_offset;
#if defined(USE_TEXTURE)
attribute vec2 uv;
#endif
varying vec4 v_color;varying vec2 v_normal;varying vec2 v_uv;varying vec2 v_dash_array;varying float v_total_distance;varying float v_counter;varying float v_width;
#if defined(USE_SIMPLE_DASH)
varying vec3 v_position;
#endif
void main(){v_width=a_width;v_color=a_color;v_counter=a_distance/a_total_distance;v_dash_array=u_dash_array/a_total_distance;if(u_unit_px){v_dash_array*=u_zoom_units;}v_total_distance=a_total_distance;v_normal=vec2(normalize(a_normal.xy)*sign(a_width));
#if defined(USE_TEXTURE)
v_uv=uv;
#endif
#if defined(PICK)
if(mapvIsPicked()){v_color=uSelectedColor;}
#endif
vec2 extrude=a_normal.xy*a_width/2.0;if(u_unit_px){extrude*=u_zoom_units;}vec2 offsetXY=a_normal.xy*-a_offset;float offsetZ=a_offset/100.0;if(u_unit_px){offsetXY*=u_zoom_units;offsetZ*=u_zoom_units;}
#if defined(USE_SIMPLE_DASH)
v_position=a_position;
#endif
gl_Position=u_matrix*vec4(a_position.xy+extrude+offsetXY,a_position.z+offsetZ,1.0);}`,fragmentShader:`precision highp float;varying vec4 v_color;varying vec2 v_normal;varying vec2 v_uv;varying vec2 v_dash_array;varying float v_counter;varying float v_total_distance;varying float v_width;
#if defined(USE_SIMPLE_DASH)
varying vec3 v_position;
#endif
uniform bool u_antialias;uniform float u_dash_offset;uniform float u_zoom_units;
#if defined(USE_LINE_ANIMATION)
uniform bool u_animate;uniform float u_time;uniform float u_duration;uniform float u_interval;uniform float u_trail_length;
#endif
#if defined(USE_TEXTURE)
uniform float u_texture_width;uniform float u_texture_margin;uniform sampler2D u_sampler;
#endif
void main(){vec4 color=v_color;
#if defined(USE_SIMPLE_DASH)
if(mod(v_position.x,5.0)<3.0){discard;}
#endif
if(u_antialias){float blur=1.0;blur=1.0-smoothstep(0.9,1.0,length(v_normal));color.a*=blur;}
#if defined(USE_LINE_ANIMATION)
if(u_animate){float alpha=1.0-fract(mod(1.0-v_counter,u_interval)*(1.0/u_interval)+u_time/u_duration);alpha=(alpha+u_trail_length-1.0)/u_trail_length;color.a*=alpha;gl_FragColor=color;return;}
#endif
#if defined(USE_TEXTURE)
float margin_width=u_texture_margin*u_zoom_units;float margin_width_half=margin_width/2.0;float texture_width=u_texture_width*u_zoom_units;float delta=mod(v_uv.x,texture_width+margin_width);if(delta>=margin_width_half&&delta<=margin_width_half+texture_width){float uvx=(delta-margin_width_half)/texture_width;vec4 texture=texture2D(u_sampler,vec2(uvx,v_uv.y));color=texture.a>=0.5 ? texture : color;}
#endif
if(v_dash_array.y>0.0){float offset=u_dash_offset*u_zoom_units/v_total_distance;color.a*=(1.0-step(v_dash_array.x,mod(v_counter+offset,v_dash_array.x+v_dash_array.y)));}gl_FragColor=color;}`,defines:h},this),this.positionBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.colorBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.normalBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Jo({gl:a,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),h=[{stride:28,name:"a_position",buffer:this.positionBuffer,size:3,type:"FLOAT",offset:0},{stride:28,name:"a_distance",buffer:this.positionBuffer,size:1,type:"FLOAT",offset:12},{stride:28,name:"a_width",buffer:this.positionBuffer,size:1,type:"FLOAT",offset:16},{stride:28,name:"a_offset",buffer:this.positionBuffer,size:1,type:"FLOAT",offset:20},{stride:28,name:"a_total_distance",buffer:this.positionBuffer,size:1,type:"FLOAT",offset:24},{stride:12,name:"a_normal",buffer:this.normalBuffer,size:3,type:"FLOAT",offset:0},{stride:16,name:"a_color",buffer:this.colorBuffer,size:4,type:"FLOAT",offset:0}],h=h.concat(this.getCommonAttributes()),this.isUseTexture&&(this.uvBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),h.push({stride:8,name:"uv",buffer:this.uvBuffer,size:2,type:"FLOAT",offset:0}),f=(0,$s[f.style])(f.styleOptions),this.setOptions({texture:f}),this.loadTexture()),this.vertexArray=new gu({gl:a,program:this.program,attributes:h})}},{key:"destroy",value:function(){this.options&&this.options.enablePicked&&(this.pickBuffer=null),this.isUseTexture&&(this.uvBuffer=null),this.options=this.data=this.indexBuffer=this.normalBuffer=this.colorBuffer=this.positionBuffer=this.program=this.vertexArray=null}},{key:"onChanged",value:function(a,f){var h=this;if(this.gl)if(!this.isUseTexture||this.prevStyle===a.style&&fi(this.prevStyleOptions)===fi(a.styleOptions))this.parseData(a,f);else{this.prevStyle=a.style,this.prevStyleOptions=a.styleOptions;var y=(0,$s[a.style])(a.styleOptions);this.setOptions({texture:y}),this.loadTextureTime&&clearTimeout(this.loadTextureTime),this.loadTextureTime=setTimeout(function(){h.loadTexture(function(){h.parseData(a,f)})},0)}}},{key:"parseData",value:function(a,f){var h=this,y=a.dashArray,m=a.width,C=a.color,P=a.offset;y=!!this.isUseTexture||!!y[1]||!!this.isAnimateLine;for(var B=new Is({dash:y,cap:a.lineCap,join:a.lineJoin,miterLimit:a.miterLimit,thickness:m}),M=[],T=function(H){var Z=f[H].geometry.coordinates;Z&&0<Z.length&&(f[H].geometry.type==="MultiPolygon"?Z=Z.reduce(function(Fe,Ue){return Fe.concat(Ue)}):f[H].geometry.type==="LineString"&&(Z=[Z]),Z=Z.map(function(Fe){return Fe.map(function(Ue){return h.normizedPoint(Ue)})}));var J=h.getProperty("color",C,f[H]);J=h.normizedColor(J);var V=h.getProperty("width",m,f[H]);V=Number(V);var ne=h.getProperty("offset",P,f[H]);ne=Number(ne);var Ce=B.complex.startIndex;Z=h.addMultipleCoords(Z);for(var _e=0;_e<Z.length;_e++)Z[_e].forEach(function(Fe){B.extrude(Fe,V,ne,J)});if(a.enablePicked)for(H=h.indexToRgb(H),Z=B.complex.startIndex;Ce<Z;Ce++)M.push(H[0]/255,H[1]/255,H[2]/255),a.repeat&&(M.push(H[0]/255,H[1]/255,H[2]/255),M.push(H[0]/255,H[1]/255,H[2]/255))},L=0;L<f.length;L++)T(L);if(T=B.complex,y)for(L=0;L<T.positions.length/7;L++)T.positions[7*L+6]=T.maxDistance;this.lineData=T,this.positionBuffer.updateData(new Float32Array(T.positions)),this.normalBuffer.updateData(new Float32Array(T.normals)),this.colorBuffer.updateData(new Float32Array(T.colors)),this.indexBuffer.updateData(new Uint32Array(T.indices)),this.isUseTexture&&this.uvBuffer.updateData(new Float32Array(T.uvs)),a.enablePicked&&this.pickBuffer.updateData(new Float32Array(M))}},{key:"render",value:function(a){var f=a.gl,h=a.matrix,y=this.lineData;if(y&&!(0>=y.indices.length)&&this.map){var m=this.getOptions(),C=this.program;C.use(f),a=us(this.getCommonUniforms(a),{u_matrix:h,u_zoom_units:this.map.getZoomUnits(),u_dash_array:m.dashArray,u_dash_offset:m.dashOffset,u_antialias:m.antialias,u_unit_px:m.unit==="px"}),this.isUseTexture&&(a=us(a,{u_texture_width:m.width,u_texture_margin:140,u_sampler:this.texture})),this.isAnimateLine&&(h=this.map.getZoom(),a=us(a,{u_time:(new Date-this.date)/1e3,u_animate:!!(h>=m.minZoom&&h<=m.maxZoom&&this.autoUpdate),u_duration:m.duration,u_interval:m.interval,u_trail_length:m.trailLength})),C.setUniforms(a),f.enable(f.BLEND),f.blendEquation(f.FUNC_ADD),m.blend&&m.blend==="lighter"?f.blendFunc(f.SRC_ALPHA,f.ONE):f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),f.enable(f.POLYGON_OFFSET_FILL),f.polygonOffset(m.polygonOffset[0],m.polygonOffset[1]),this.indexBuffer.bind(),this.vertexArray.bind(),f.drawElements(f.TRIANGLES,y.indices.length,f.UNSIGNED_INT,0),f.bindBuffer(f.ARRAY_BUFFER,null),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,null),f.disable(f.BLEND),f.disable(f.POLYGON_OFFSET_FILL)}}},{key:"loadTexture",value:function(a){var f=this,h=this.getOptions();h.texture?Jt(this.gl,h.texture,function(y,m){f.image=m,f.texture=y,a&&a(),f.webglLayer.render()}):(this.image=this.texture=null,a&&a())}}]),n}(fe),Mc=function(){function d(n,l){di(this,d),this.layer=n,this.gl=l,this.initData()}return nn(d,[{key:"initData",value:function(){this.outWall3d={vertex:[],vertexBuffer:[],index:[],indexBuffer:[]},this.maxLength=0}},{key:"getData",value:function(){return this.outWall3d}},{key:"getMaxDataLength",value:function(){return this.maxLength}},{key:"onLayerChange",value:function(l,a){this.initData();var f=l.color,h=l.height,y=l.gradient;l=this.gl;for(var m=0;m<a.length;m++){var C=a[m].geometry.coordinates,P=C.length;this.maxLength=P>this.maxLength?P:this.maxLength;for(var B=[],M=0;M<P;M++){var T=this.layer.normizedPoint(C[M]);B.push(T)}P=a[m].color||f,"properties"in a[m]&&"color"in a[m].properties&&(P=a[m].properties.color),y||Object.prototype.toString.call(P)!=="[object Function]"||(P=P(a[m])),C=this.layer.normizedColor(y?y[0]:P),P=this.layer.normizedColor(y?y[1]:P),M=a[m].height||h,"properties"in a[m]&&"height"in a[m].properties&&(M=a[m].properties.height),Object.prototype.toString.call(M)==="[object Function]"&&(M=M(a[m])),this.processData(this.outWall3d,B,C,P,M)}for(a=0;a<this.outWall3d.vertex.length;a++){for(f=[],h=this.outWall3d.vertex[a].length,y=0;y<h;y++)f.push.apply(f,ga(this.outWall3d.vertex[a][y]));h=l.createBuffer(),l.bindBuffer(l.ARRAY_BUFFER,h),l.bufferData(l.ARRAY_BUFFER,new Float32Array(f),l.STATIC_DRAW),this.outWall3d.vertexBuffer[a]=h,l.bindBuffer(l.ARRAY_BUFFER,null),h=l.createBuffer(),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,h),l.bufferData(l.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.outWall3d.index[a]),l.STATIC_DRAW),this.outWall3d.indexBuffer[a]=h,l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,null)}}},{key:"processData",value:function(l,a,f,h,y){var m=l.vertex[l.vertex.length-1],C=l.index[l.index.length-1],P=a.length;(!C||65536<=C.length+2*P+2)&&(m=[],C=[],l.vertex.push(m),l.index.push(C)),(l=m.length)&&C.push(l-1,l);for(var B=l=0;B<P;B++){var M=[],T=[],L=a[B];M.push(L[0],L[1]),M.push(L[2]?Number(L[2])+y:y),M.push(L[3]?Number(L[3]):B),M.push(l),M.push(f[0],f[1],f[2],f[3]),T.push(L[0],L[1]),T.push(L[2]?Number(L[2]):0),T.push(L[3]?Number(L[3]):B),T.push(l),T.push(h[0],h[1],h[2],h[3]),L=m.length,m.push(M,T),C.push(L,L+1),B<P-1&&(l+=this.getDistance(a[B],a[B+1]))}}},{key:"getDistance",value:function(l,a){return Math.sqrt(Math.pow(Math.abs(l[0]-a[0]),2)+Math.pow(Math.abs(l[1]-a[1]),2))}}]),d}(),Af=function(d){function n(l,a){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l,a)),l.startTime=l.options.startTime||0,l.endTime=l.options.endTime,l.time=l.startTime,l.autoUpdate=!0,l}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{height:100,color:[1,1,1,1],trailLength:3,step:.1}}},{key:"initialize",value:function(a){this.gl=a,this.dataMgr=new Mc(this,this.gl),this.program=new es(this.gl,{vertexShader:"uniform mat4 u_matrix;uniform float currentTime;uniform float trailLength;attribute vec4 aPos;attribute float aDistance;attribute vec4 aColor;varying vec4 vColor;varying float vHeight;varying float vTime;varying float vDistance;void main(){vTime=1.0-((currentTime-aPos.w)/trailLength);vHeight=aPos.z;vColor=aColor;vDistance=aDistance;gl_Position=u_matrix*vec4(aPos.xyz,1.0);}",fragmentShader:"precision highp float;varying vec4 vColor;varying float vTime;varying float vDistance;varying float vHeight;uniform float currentTime;void main(){if(vTime>1.0||vTime<0.0){}float radius=2.5;float distance=vDistance+currentTime*20.0;float modDistance=mod(distance,9.0);float alpha=1.0;if(modDistance>radius*2.0){discard;}else{float x=abs(modDistance-radius);float y=abs(vHeight-radius);float dis=sqrt(pow(x,2.0)+pow(y,2.0));if(dis>radius){discard;}alpha=dis/radius;}gl_FragColor=vec4(vColor.rgb,1.0-alpha);}"})}},{key:"onChanged",value:function(a,f){this.gl&&(this.dataMgr.onLayerChange(a,f),a.endTime===void 0&&(this.endTime=this.dataMgr.getMaxDataLength()))}},{key:"render",value:function(a){var f=a.gl,h=a.matrix;if((a=this.dataMgr.getData())&&!(0>=a.vertex.length)){var y=this.getOptions(),m=this.program;for(f.useProgram(m.program),f.enable(f.BLEND),f.blendEquation(f.FUNC_ADD),f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),f.enableVertexAttribArray(m.attributes.aPos),f.enableVertexAttribArray(m.attributes.aDistance),f.enableVertexAttribArray(m.attributes.aColor),f.uniformMatrix4fv(m.uniforms.u_matrix,!1,h),f.uniform1f(m.uniforms.currentTime,this.time),f.uniform1f(m.uniforms.trailLength,y.trailLength),h=0;h<a.vertex.length;h++)if(!(0>=a.vertex[h].length)){var C=a.vertex[h],P=new Float32Array(C[0]).BYTES_PER_ELEMENT;C=P*C[0].length,f.bindBuffer(f.ARRAY_BUFFER,a.vertexBuffer[h]),f.vertexAttribPointer(m.attributes.aPos,4,f.FLOAT,!1,C,0),f.vertexAttribPointer(m.attributes.aDistance,1,f.FLOAT,!1,C,4*P),f.vertexAttribPointer(m.attributes.aColor,4,f.FLOAT,!1,C,5*P),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,a.indexBuffer[h]),f.drawElements(f.TRIANGLE_STRIP,a.index[h].length,f.UNSIGNED_SHORT,0),f.bindBuffer(f.ARRAY_BUFFER,null),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,null)}f.disable(f.BLEND),this.time+=y.step,this.time>this.endTime&&(this.time=this.startTime),f.useProgram(null)}}}]),n}(fe),ip=ve(function(d,n){n.__esModule=!0;var l=Ar&&Ar.__esModule?Ar:{default:Ar};n.default=function(a,f,h){return f in a?(0,l.default)(a,f,{value:h,enumerable:!0,configurable:!0,writable:!0}):a[f]=h,a}}),Cl=Ae(ip),Nf,Ff,gd=(Nf={},Cl(Nf,1,1),Cl(Nf,2,1),Cl(Nf,3,1),Nf),sf=(Ff={},Cl(Ff,1,1),Cl(Ff,2,1),Cl(Ff,3,1),Ff),fc=function(d){function n(l,a){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l,a)),l.bufferMap={},l.bufferData=[],l.autoUpdate=!0,l}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{color:[1,1,1,.8],speed:1,size:5,pointFade:!0,pointFadeBuffer:1,minLineLength:2,animationType:2,shapeType:2,depthTest:!1,delay:0,unit:"px"}}},{key:"initialize",value:function(a){this.gl=a,this.texture=null,this.isUseTexture=!1;var f=this.getOptions();this.updateUniformsFromOptions(f),this.program=new es(this.gl,{vertexShader:"precision highp float;attribute vec3 aPos;attribute vec3 aNextPos;attribute float aIndex;attribute float aNextIndex;attribute float aLength;attribute float aSpeed;uniform float uSize;uniform mat4 u_matrix;uniform float uOriginSpeed;uniform float uElapsedSteps;uniform int uAnimationType;uniform int uPointFade;uniform float uPointFadeBuffer;uniform float uZoomUnits;varying float vAddOpacity;void main(){if(uAnimationType==1){if(abs(aIndex-mod(uElapsedSteps,aLength))>.1){gl_Position=vec4(-2.,-2.,0,1.0);return;}gl_Position=u_matrix*vec4(aPos.xyz,1.0);vAddOpacity=1.;}else if(uAnimationType==2){float lineLength=aLength-1.;float cIndex=mod(uElapsedSteps,lineLength);float rest=cIndex-aIndex;if(rest<1.&&rest>=0.){if(uPointFade==1){if(cIndex<uPointFadeBuffer){vAddOpacity=cIndex/uPointFadeBuffer;}else if(cIndex>lineLength-uPointFadeBuffer){vAddOpacity=(lineLength-cIndex)/uPointFadeBuffer;}else{vAddOpacity=1.;}}else{vAddOpacity=1.;}gl_Position=u_matrix*vec4(aPos.x+(aNextPos.x-aPos.x)*rest,aPos.y+(aNextPos.y-aPos.y)*rest,aPos.z+(aNextPos.z-aPos.z)*rest,1.0);}else{gl_Position=vec4(-2.,-2.,0,1.0);return;}}else if(uAnimationType==3){float speedRatio=aSpeed/uOriginSpeed;float percent=mod(uElapsedSteps*aSpeed,aLength)/aLength;if(percent<=aNextIndex&&percent>=aIndex){if(uPointFade==1){float fadePercent=uPointFadeBuffer*1000./aLength;if(percent<fadePercent){vAddOpacity=percent/fadePercent;}else if(percent>1.-fadePercent){vAddOpacity=(1.-percent)/fadePercent;}else{vAddOpacity=1.;}}else{vAddOpacity=1.;}float rest=(percent-aIndex)/(aNextIndex-aIndex);gl_Position=u_matrix*vec4(aPos.x+(aNextPos.x-aPos.x)*rest,aPos.y+(aNextPos.y-aPos.y)*rest,aPos.z+(aNextPos.z-aPos.z)*rest,1.0);}else{gl_Position=vec4(-2.,-2.,0,1.0);return;}}gl_PointSize=uSize/uZoomUnits;}",fragmentShader:"precision highp float;uniform vec4 uColor;uniform int ushapeType;uniform bool uUseTexture;uniform sampler2D uSampler;varying float vAddOpacity;void main(){if(ushapeType==2){float d=distance(gl_PointCoord,vec2(0.5,0.5));if(d>0.5){discard;}gl_FragColor=vec4(uColor.rgb,uColor.a*vAddOpacity);}else if(ushapeType==3){float d=distance(gl_PointCoord,vec2(0.5,0.5));if(d>0.5){discard;}gl_FragColor=vec4(uColor.rgb,uColor.a*smoothstep(1.0,0.0,d*2.)*vAddOpacity);}else{gl_FragColor=vec4(uColor.rgb,uColor.a*vAddOpacity);}if(uUseTexture){gl_FragColor=texture2D(uSampler,vec2(gl_PointCoord.x,1.0-gl_PointCoord.y));}}"}),this.loadTexture(),this.buffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.buffer)}},{key:"bindAttributeBufferData",value:function(a,f,h,y){var m=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,m),h=new Float32Array(h),a.bufferData(a.ARRAY_BUFFER,h,a.STATIC_DRAW),this.bufferMap[f]={buffer:m,data:h,elementSize:y}}},{key:"onChanged",value:function(a,f){var h=this;this.gl&&(Array.isArray(f)||(f=[]),this.loadTextureTime&&clearTimeout(this.loadTextureTime),this.loadTextureTime=setTimeout(function(){h.loadTexture(function(){h.parseData(a,f)})},0))}},{key:"parseData",value:function(a,f){var h=this.gl;this.updateUniformsFromOptions(a);for(var y=[],m=[],C=[],P=[],B=[],M=[],T=a.minLineLength,L=0;L<f.length;L++){var z=f[L].geometry.coordinates,H=z.length;if(!(H<T)){for(var Z=0;Z<H;++Z){var J=this.normizedPoint(z[Z]);y.push(J[0]),y.push(J[1]),y.push(J[2]||0),this.animationType!==3&&(m.push(Z),P.push(H))}if(this.animationType!==1){for(J=y.length-3*H+3,Z=y.length,z=J;z<Z;++z)B.push(y[z]);if(y.splice(Z-3,3),this.animationType===2)m.pop(),P.pop();else if(this.animationType===3){J-=3,Z=y.length-3,z=0,H=[];for(var V=J;V<=Z;V+=3)J=Math.sqrt(Math.pow(B[V]-y[V],2)+Math.pow(B[V+1]-y[V+1],2)+Math.pow(B[V+2]-y[V+2],2)),z+=J,H.push(J);m.push(0),M.push(this.getProperty("speed",a.speed,f[L])),V=Z=0;for(var ne=H.length-1;V<ne;++V)Z+=H[V],J=Z/z,m.push(J),C.push(J),P.push(z),M.push(this.getProperty("speed",a.speed,f[L]));C.push(1),P.push(z)}}}}this.bindAttributeBufferData(h,"aPos",y,3),this.bindAttributeBufferData(h,"aIndex",m,1),this.bindAttributeBufferData(h,"aLength",P,1),this.animationType!==1&&(this.bindAttributeBufferData(h,"aNextPos",B,3),this.animationType===3&&(this.bindAttributeBufferData(h,"aNextIndex",C,1),this.bindAttributeBufferData(h,"aSpeed",M,1))),this.vertCount=y.length/3}},{key:"updateUniformsFromOptions",value:function(a){this.color=this.normizedColor(a.color),this.startTime=new Date().getTime(),gd[a.animationType]||(a.animationType=2),sf[a.shapeType]||(a.shapeType=2),(isNaN(a.minLineLength)||2>a.minLineLength)&&(a.minLineLength=2),this.animationType=a.animationType}},{key:"renderAttributeArr",value:function(a,f,h){if(f.attributes[h]!==void 0){var y=this.bufferMap[h];y&&(a.bindBuffer(a.ARRAY_BUFFER,y.buffer),a.enableVertexAttribArray(f.attributes[h]),a.vertexAttribPointer(f.attributes[h],y.elementSize,a.FLOAT,!1,y.data.BYTES_PER_ELEMENT*y.elementSize,0))}}},{key:"render",value:function(a){var f=a.gl;if(a=a.matrix,!(0>=this.vertCount)){var h=this.program;f.useProgram(h.program),this.renderAttributeArr(f,h,"aPos"),this.renderAttributeArr(f,h,"aIndex"),this.renderAttributeArr(f,h,"aLength"),this.animationType!==1&&(this.renderAttributeArr(f,h,"aNextPos"),this.animationType===3&&(this.renderAttributeArr(f,h,"aNextIndex"),this.renderAttributeArr(f,h,"aSpeed")));var y=new Date().getTime()-this.startTime;y<this.options.delay?y=0:(y-=this.options.delay,y=this.animationType===1?Math.round(y/1e3*this.options.speed*20):this.animationType===3?y/1e3*this.options.speed*1e3:y/1e3*this.options.speed);var m=this.options.size;if(Array.isArray(m)){var C=this.map.map.getMaxZoom(),P=this.map.map.getMinZoom();m=m[0]+(this.map.getZoom()-P)/(C-P)*(m[1]-m[0])}f.uniformMatrix4fv(h.uniforms.u_matrix,!1,a),f.uniform4f(h.uniforms.uColor,this.color[0],this.color[1],this.color[2],this.color[3]),f.uniform1f(h.uniforms.uSize,m),f.uniform1f(h.uniforms.uElapsedSteps,y),f.uniform1f(h.uniforms.uOriginSpeed,this.options.speed),f.uniform1i(h.uniforms.uAnimationType,this.animationType),f.uniform1i(h.uniforms.ushapeType,this.options.shapeType),f.uniform1i(h.uniforms.uPointFade,this.options.pointFade?1:0),f.uniform1f(h.uniforms.uPointFadeBuffer,this.options.pointFadeBuffer),f.uniform1f(h.uniforms.uZoomUnits,this.options.unit==="m"?this.map.getZoomUnits():1),this.options.icon&&this.texture&&(f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,this.texture),f.uniform1i(h.uniforms.uSampler,0),f.uniform1i(h.uniforms.uUseTexture,this.isUseTexture)),a=this.options.blend,h=this.options.depthTest,f.enable(f.BLEND),f.blendEquation(f.FUNC_ADD),a&&a==="lighter"?f.blendFunc(f.SRC_ALPHA,f.ONE):f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),h||f.disable(f.DEPTH_TEST),f.drawArrays(f.POINTS,0,this.vertCount),f.bindBuffer(f.ARRAY_BUFFER,null),f.disable(f.BLEND),f.disable(f.DEPTH_TEST),f.useProgram(null)}}},{key:"loadTexture",value:function(a){var f=this,h=this.getOptions();h.icon?(this.isUseTexture=!0,Jt(this.gl,h.icon,function(y,m){f.image=m,f.texture=y,a&&a(),f.webglLayer.render()})):(this.isUseTexture=!1,this.image=this.texture=null,a&&a())}}]),n}(fe);fc.ANIMATION_TYPE_LEAP=1,fc.ANIMATION_TYPE_SMOOTH=2,fc.ANIMATION_TYPE_UNIFORM_SPEED=3,fc.SHAPE_TYPE_SQUARE=1,fc.SHAPE_TYPE_CIRCLE=2,fc.SHAPE_TYPE_CIRCLE_GRADIENT=3;var hp=function(){function d(n,l){di(this,d),this.layer=n,this.gl=l,this.initData()}return nn(d,[{key:"initData",value:function(){this.outWall3d={vertex:[],vertexBuffer:[],index:[],indexBuffer:[]}}},{key:"getData",value:function(){return this.outWall3d}},{key:"onLayerChange",value:function(l,a){this.initData();for(var f=l.color,h=l.height,y=l.gradient,m=l.enablePreciseMap,C=l.repeatMap,P=this.gl,B=0;B<a.length;B++){var M=a[B],T=M.color||f;"properties"in M&&"color"in M.properties&&(T=M.properties.color),y||Object.prototype.toString.call(T)!=="[object Function]"||(T=T(M));var L=this.layer.normizedColor(y?y[0]:T);T=this.layer.normizedColor(y?y[1]:T);var z=M.height||h;if("properties"in M&&"height"in M.properties&&(z=M.properties.height),Object.prototype.toString.call(z)==="[object Function]"&&(z=z(M)),M.geometry.type==="MultiLineString"||M.geometry.type==="Polygon")for(var H=0;H<M.geometry.coordinates.length;H++){for(var Z=M.geometry.coordinates[H],J=Z.length,V=[],ne=[],Ce=0,_e=0;_e<J;_e++){var Fe=this.layer.normizedPoint(Z[_e]);if(0<_e&&(m||C)){var Ue=this.layer.normizedPoint(Z[_e-1]);Ce+=Math.sqrt(Math.pow(Fe[0]-Ue[0],2)+Math.pow(Fe[1]-Ue[1],2))}V.push(Fe),ne.push(Ce)}this.processData(this.outWall3d,l,V,ne,L,T,z)}else{for(M=M.geometry.coordinates,H=M.length,Z=[],J=[],ne=V=0;ne<H;ne++)Ce=this.layer.normizedPoint(M[ne]),0<ne&&(m||C)&&(_e=this.layer.normizedPoint(M[ne-1]),V+=Math.sqrt(Math.pow(Ce[0]-_e[0],2)+Math.pow(Ce[1]-_e[1],2))),Z.push(Ce),J.push(V);this.processData(this.outWall3d,l,Z,J,L,T,z)}}for(l=0;l<this.outWall3d.vertex.length;l++){for(a=[],f=this.outWall3d.vertex[l].length,h=0;h<f;h++)a.push.apply(a,ga(this.outWall3d.vertex[l][h]));f=P.createBuffer(),P.bindBuffer(P.ARRAY_BUFFER,f),P.bufferData(P.ARRAY_BUFFER,new Float32Array(a),P.STATIC_DRAW),this.outWall3d.vertexBuffer[l]=f,P.bindBuffer(P.ARRAY_BUFFER,null),f=P.createBuffer(),P.bindBuffer(P.ELEMENT_ARRAY_BUFFER,f),P.bufferData(P.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.outWall3d.index[l]),P.STATIC_DRAW),this.outWall3d.indexBuffer[l]=f,P.bindBuffer(P.ELEMENT_ARRAY_BUFFER,null)}}},{key:"processData",value:function(l,a,f,h,y,m,C){var P=h[h.length-1],B=l.vertex[l.vertex.length-1],M=l.index[l.index.length-1],T=f.length;for((!M||65536<=M.length+2*T+2)&&(B=[],M=[],l.vertex.push(B),l.index.push(M)),(l=B.length)&&M.push(l-1,l),l=0;l<T;l++){var L=[],z=[],H=f[l];L.push(H[0],H[1],H[2]+C),L.push(y[0],y[1],y[2],y[3]),z.push(H[0],H[1],H[2]),z.push(m[0],m[1],m[2],m[3]),a.texture&&(H=h[l],a.enablePreciseMap||a.repeatMap?(L.push(H,1,P),z.push(H,0,P)):(L.push(l,1,T-1),z.push(l,0,T-1))),H=B.length,B.push(L,z),M.push(H,H+1)}}}]),d}(),Bs=function(d){function n(l,a){return di(this,n),xo(this,(n.__proto__||yt(n)).call(this,l,a))}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{texture:null,enablePreciseMap:!1,repeatMap:0,height:100,color:[1,1,1,1]}}},{key:"initialize",value:function(a){this.gl=a,this.dataMgr=new hp(this,this.gl),this.texture=null,this.isUseTexture=!1,this.vertexLength=10,this.program=new es(this.gl,{vertexShader:"uniform mat4 u_matrix;uniform bool uUseTexture;attribute vec3 aPos;attribute vec4 aColor;attribute vec2 aTextureCoords;attribute float aTotalDistance;varying vec2 vTextureCoords;varying float vTotalDistance;varying vec4 vColor;void main(){if(aColor.w>=0.0&&aColor.w<=1.0){vColor=aColor;}else{vColor=vec4(aColor.xyz,1.0);}if(uUseTexture){vTextureCoords=aTextureCoords;vTotalDistance=aTotalDistance;}gl_Position=u_matrix*vec4(aPos,1.0);}",fragmentShader:"precision highp float;uniform bool uUseTexture;uniform float uDistance;uniform sampler2D uSampler;varying vec2 vTextureCoords;varying float vTotalDistance;varying vec4 vColor;void main(){if(uUseTexture){float uvx=vTextureCoords.x/vTotalDistance;if(uDistance>0.0){uvx=mod(vTextureCoords.x,uDistance)/uDistance;}gl_FragColor=vec4(1.0,1.0,1.0,1.0)*texture2D(uSampler,vec2(uvx,vTextureCoords.y));}else{gl_FragColor=vColor;}}"}),this.loadTexture()}},{key:"onChanged",value:function(a,f){var h=this;this.gl&&(this.loadTextureTime&&clearTimeout(this.loadTextureTime),this.loadTextureTime=setTimeout(function(){h.loadTexture(function(){h.dataMgr.onLayerChange(a,f),h.webglLayer.render()})},0))}},{key:"render",value:function(a){var f=a.gl,h=a.matrix;if((a=this.dataMgr.getData())&&!(0>=a.vertex.length)){var y=this.getOptions(),m=this.program;if(f.useProgram(m.program),f.enable(f.BLEND),f.blendEquation(f.FUNC_ADD),f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),y.texture){if(!this.texture)return;f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,this.texture),f.uniform1i(m.uniforms.uSampler,0),f.depthMask(!0),f.depthFunc(f.LESS)}else f.depthMask(!1);for(y.texture?f.enableVertexAttribArray(m.attributes.aTextureCoords):f.disableVertexAttribArray(m.attributes.aTextureCoords),f.enableVertexAttribArray(m.attributes.aPos),f.enableVertexAttribArray(m.attributes.aColor),f.uniformMatrix4fv(m.uniforms.u_matrix,!1,h),f.uniform1i(m.uniforms.uUseTexture,this.isUseTexture),f.uniform1f(m.uniforms.uDistance,y.repeatMap),h=0;h<a.vertex.length;h++)if(!(0>=a.vertex[h].length)){var C=a.vertex[h],P=new Float32Array(C[0]).BYTES_PER_ELEMENT;C=P*C[0].length,f.bindBuffer(f.ARRAY_BUFFER,a.vertexBuffer[h]),f.vertexAttribPointer(m.attributes.aPos,3,f.FLOAT,!1,C,0),f.vertexAttribPointer(m.attributes.aColor,4,f.FLOAT,!1,C,3*P),y.texture&&(f.vertexAttribPointer(m.attributes.aTextureCoords,2,f.FLOAT,!1,C,7*P),f.vertexAttribPointer(m.attributes.aTotalDistance,1,f.FLOAT,!1,C,9*P)),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,a.indexBuffer[h]),f.drawElements(f.TRIANGLE_STRIP,a.index[h].length,f.UNSIGNED_SHORT,0),f.bindBuffer(f.ARRAY_BUFFER,null),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,null)}f.disable(f.BLEND),f.useProgram(null)}}},{key:"loadTexture",value:function(a){var f=this,h=this.getOptions();h.texture?(this.isUseTexture=!0,Jt(this.gl,h.texture,function(y,m){f.image=m,f.texture=y,a&&a(),f.webglLayer.render()})):(this.isUseTexture=!1,this.image=this.texture=null,a&&a())}}]),n}(fe),Hl=function(){function d(n,l){di(this,d),this.layer=n,this.gl=l,this.initData()}return nn(d,[{key:"initData",value:function(){this.outWall3d={vertex:[],vertexBuffer:[],index:[],indexBuffer:[]},this.maxLength=0}},{key:"getData",value:function(){return this.outWall3d}},{key:"getMaxDataLength",value:function(){return this.maxLength}},{key:"onLayerChange",value:function(l,a){this.initData();var f=l.color,h=l.height,y=l.gradient;l=this.gl;for(var m=0;m<a.length;m++){var C=a[m].geometry.coordinates,P=C.length;this.maxLength=P>this.maxLength?P:this.maxLength;for(var B=[],M=0;M<P;M++){var T=this.layer.normizedPoint(C[M]);B.push(T)}P=a[m].color||f,"properties"in a[m]&&"color"in a[m].properties&&(P=a[m].properties.color),y||Object.prototype.toString.call(P)!=="[object Function]"||(P=P(a[m])),C=this.layer.normizedColor(y?y[0]:P),P=this.layer.normizedColor(y?y[1]:P),M=a[m].height||h,"properties"in a[m]&&"height"in a[m].properties&&(M=a[m].properties.height),Object.prototype.toString.call(M)==="[object Function]"&&(M=M(a[m])),this.processData(this.outWall3d,B,C,P,M)}for(a=0;a<this.outWall3d.vertex.length;a++){for(f=[],h=this.outWall3d.vertex[a].length,y=0;y<h;y++)f.push.apply(f,ga(this.outWall3d.vertex[a][y]));h=l.createBuffer(),l.bindBuffer(l.ARRAY_BUFFER,h),l.bufferData(l.ARRAY_BUFFER,new Float32Array(f),l.STATIC_DRAW),this.outWall3d.vertexBuffer[a]=h,l.bindBuffer(l.ARRAY_BUFFER,null),h=l.createBuffer(),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,h),l.bufferData(l.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.outWall3d.index[a]),l.STATIC_DRAW),this.outWall3d.indexBuffer[a]=h,l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,null)}}},{key:"processData",value:function(l,a,f,h,y){var m=l.vertex[l.vertex.length-1],C=l.index[l.index.length-1],P=a.length;for((!C||65536<=C.length+2*P+2)&&(m=[],C=[],l.vertex.push(m),l.index.push(C)),(l=m.length)&&C.push(l-1,l),l=0;l<P;l++){var B=[],M=[],T=a[l];B.push(T[0],T[1]),B.push(T[2]?Number(T[2])+y:y),B.push(T[3]?Number(T[3]):l),B.push(f[0],f[1],f[2],f[3]),M.push(T[0],T[1]),M.push(T[2]?Number(T[2]):0),M.push(T[3]?Number(T[3]):l),M.push(h[0],h[1],h[2],h[3]),T=m.length,m.push(B,M),C.push(T,T+1)}}}]),d}(),Vl=function(d){function n(l,a){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l,a)),l.startTime=l.options.startTime||0,l.endTime=l.options.endTime,l.time=l.startTime,l.autoUpdate=!0,l}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{height:100,color:[1,1,1,1],trailLength:3,step:.1}}},{key:"initialize",value:function(a){this.gl=a,this.dataMgr=new Hl(this,this.gl),this.program=new es(this.gl,{vertexShader:"uniform mat4 u_matrix;uniform float currentTime;uniform float trailLength;attribute vec4 aPos;attribute vec4 aColor;varying vec4 vColor;varying float vTime;void main(){vTime=1.0-((currentTime-aPos.w)/trailLength);vColor=aColor;gl_Position=u_matrix*vec4(aPos.xyz,1.0);}",fragmentShader:"precision highp float;varying vec4 vColor;varying float vTime;void main(){if(vTime>1.0||vTime<0.0){discard;}gl_FragColor=vec4(vColor.rgb,1.0*vTime);}"})}},{key:"onChanged",value:function(a,f){this.gl&&(this.dataMgr.onLayerChange(a,f),a.endTime===void 0&&(this.endTime=this.dataMgr.getMaxDataLength()))}},{key:"render",value:function(a){var f=a.gl,h=a.matrix;if((a=this.dataMgr.getData())&&!(0>=a.vertex.length)){var y=this.getOptions(),m=this.program;for(f.useProgram(m.program),f.enable(f.BLEND),f.blendEquation(f.FUNC_ADD),f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),f.enableVertexAttribArray(m.attributes.aPos),f.enableVertexAttribArray(m.attributes.aColor),f.uniformMatrix4fv(m.uniforms.u_matrix,!1,h),f.uniform1f(m.uniforms.currentTime,this.time),f.uniform1f(m.uniforms.trailLength,y.trailLength),h=0;h<a.vertex.length;h++)if(!(0>=a.vertex[h].length)){var C=a.vertex[h],P=new Float32Array(C[0]).BYTES_PER_ELEMENT;C=P*C[0].length,f.bindBuffer(f.ARRAY_BUFFER,a.vertexBuffer[h]),f.vertexAttribPointer(m.attributes.aPos,4,f.FLOAT,!1,C,0),f.vertexAttribPointer(m.attributes.aColor,4,f.FLOAT,!1,C,4*P),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,a.indexBuffer[h]),f.drawElements(f.TRIANGLE_STRIP,a.index[h].length,f.UNSIGNED_SHORT,0),f.bindBuffer(f.ARRAY_BUFFER,null),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,null)}f.disable(f.BLEND),this.time+=y.step,this.time>this.endTime&&(this.time=this.startTime),f.useProgram(null)}}}]),n}(fe),Ws=function(d){function n(l,a){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l,a)),l.simpleLineLayer=new _s(l.getHeatOptions()),l.children=[l.simpleLineLayer],l}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{blend:"normal",gradient:{0:"rgb(50, 50, 256)","0.1":"rgb(50, 250, 56)","0.5":"rgb(250, 250, 56)",1:"rgb(250, 50, 56)"}}}},{key:"onDataChanged",value:function(a){this.simpleLineLayer.setData(a)}},{key:"onOptionsChanged",value:function(a){this.simpleLineLayer.setOptions(this.getHeatOptions())}},{key:"getHeatOptions",value:function(){var a=this.getOptions(),f=a.max,h=a.min;f===void 0&&(h=this.getDataRange(),f=h.max,h=h.min);var y=new et({max:f,min:h,gradient:a.gradient});return a.color=function(m){var C=~~m.count||1;return"properties"in m&&"count"in m.properties&&(C=~~m.properties.count),m=y.getImageData(C),[m[0]/255,m[1]/255,m[2]/255,m[3]/255]},a}},{key:"getDataRange",value:function(){var a=this.getData(),f=0,h=0;a[0]&&(f=~~a[0].count||1,h=~~a[0].count||1),"properties"in a[0]&&"count"in a[0].properties&&(f=~~a[0].properties.count,h=~~a[0].properties.count);for(var y=a.length,m=0;m<y;m++){var C=~~a[m].count||1;"properties"in a[m]&&"count"in a[m].properties&&(C=~~a[m].properties.count),f=Math.max(C,f),h=Math.min(C,h)}return{max:f/2,min:h}}}]),n}(rl),Al=ve(function(d,n){(function(l,a){d.exports=a()})(Hf,function(){function l(J,V,ne,Ce,_e){for(;Ce>ne;){if(600<Ce-ne){var Fe=Ce-ne+1,Ue=V-ne+1,tt=Math.log(Fe),He=.5*Math.exp(2*tt/3);tt=.5*Math.sqrt(tt*He*(Fe-He)/Fe)*(0>Ue-Fe/2?-1:1),l(J,V,Math.max(ne,Math.floor(V-Ue*He/Fe+tt)),Math.min(Ce,Math.floor(V+(Fe-Ue)*He/Fe+tt)),_e)}for(Fe=J[V],Ue=ne,He=Ce,a(J,ne,V),0<_e(J[Ce],Fe)&&a(J,ne,Ce);Ue<He;){for(a(J,Ue,He),Ue++,He--;0>_e(J[Ue],Fe);)Ue++;for(;0<_e(J[He],Fe);)He--}_e(J[ne],Fe)===0?a(J,ne,He):(He++,a(J,He,Ce)),He<=V&&(ne=He+1),V<=He&&(Ce=He-1)}}function a(J,V,ne){var Ce=J[V];J[V]=J[ne],J[ne]=Ce}function f(J,V){return J<V?-1:J>V?1:0}function h(J,V){y(J,0,J.children.length,V,J)}function y(J,V,ne,Ce,_e){for(_e||(_e=z(null)),_e.minX=Infinity,_e.minY=Infinity,_e.maxX=-Infinity,_e.maxY=-Infinity;V<ne;V++){var Fe=J.children[V];m(_e,J.leaf?Ce(Fe):Fe)}return _e}function m(J,V){return J.minX=Math.min(J.minX,V.minX),J.minY=Math.min(J.minY,V.minY),J.maxX=Math.max(J.maxX,V.maxX),J.maxY=Math.max(J.maxY,V.maxY),J}function C(J,V){return J.minX-V.minX}function P(J,V){return J.minY-V.minY}function B(J){return(J.maxX-J.minX)*(J.maxY-J.minY)}function M(J){return J.maxX-J.minX+(J.maxY-J.minY)}function T(J,V){return J.minX<=V.minX&&J.minY<=V.minY&&V.maxX<=J.maxX&&V.maxY<=J.maxY}function L(J,V){return V.minX<=J.maxX&&V.minY<=J.maxY&&V.maxX>=J.minX&&V.maxY>=J.minY}function z(J){return{children:J,height:1,leaf:!0,minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity}}function H(J,V,ne,Ce,_e){for(var Fe=[V,ne];Fe.length;)if(ne=Fe.pop(),V=Fe.pop(),!(ne-V<=Ce)){var Ue=V+Math.ceil((ne-V)/Ce/2)*Ce;l(J,Ue,V||0,ne||J.length-1,_e||f),Fe.push(V,Ue,Ue,ne)}}var Z=function(V){V===void 0&&(V=9),this._maxEntries=Math.max(4,V),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};return Z.prototype.all=function(){return this._all(this.data,[])},Z.prototype.search=function(J){var V=this.data,ne=[];if(!L(J,V))return ne;for(var Ce=this.toBBox,_e=[];V;){for(var Fe=0;Fe<V.children.length;Fe++){var Ue=V.children[Fe],tt=V.leaf?Ce(Ue):Ue;L(J,tt)&&(V.leaf?ne.push(Ue):T(J,tt)?this._all(Ue,ne):_e.push(Ue))}V=_e.pop()}return ne},Z.prototype.collides=function(J){var V=this.data;if(!L(J,V))return!1;for(var ne=[];V;){for(var Ce=0;Ce<V.children.length;Ce++){var _e=V.children[Ce],Fe=V.leaf?this.toBBox(_e):_e;if(L(J,Fe)){if(V.leaf||T(J,Fe))return!0;ne.push(_e)}}V=ne.pop()}return!1},Z.prototype.load=function(J){if(!J||!J.length)return this;if(J.length<this._minEntries){for(var V=0;V<J.length;V++)this.insert(J[V]);return this}return J=this._build(J.slice(),0,J.length-1,0),this.data.children.length?this.data.height===J.height?this._splitRoot(this.data,J):(this.data.height<J.height&&(V=this.data,this.data=J,J=V),this._insert(J,this.data.height-J.height-1,!0)):this.data=J,this},Z.prototype.insert=function(J){return J&&this._insert(J,this.data.height-1),this},Z.prototype.clear=function(){return this.data=z([]),this},Z.prototype.remove=function(J,V){if(!J)return this;for(var ne=this.data,Ce=this.toBBox(J),_e=[],Fe=[],Ue,tt,He;ne||_e.length;){if(ne||(ne=_e.pop(),tt=_e[_e.length-1],Ue=Fe.pop(),He=!0),ne.leaf){e:{var kt=J,Wt=ne.children,Dr=V;if(Dr){for(var qr=0;qr<Wt.length;qr++)if(Dr(kt,Wt[qr])){kt=qr;break e}kt=-1}else kt=Wt.indexOf(kt)}if(kt!==-1){ne.children.splice(kt,1),_e.push(ne),this._condense(_e);break}}He||ne.leaf||!T(ne,Ce)?tt?(Ue++,ne=tt.children[Ue],He=!1):ne=null:(_e.push(ne),Fe.push(Ue),Ue=0,tt=ne,ne=ne.children[0])}return this},Z.prototype.toBBox=function(J){return J},Z.prototype.compareMinX=function(J,V){return J.minX-V.minX},Z.prototype.compareMinY=function(J,V){return J.minY-V.minY},Z.prototype.toJSON=function(){return this.data},Z.prototype.fromJSON=function(J){return this.data=J,this},Z.prototype._all=function(J,V){for(var ne=[];J;)J.leaf?V.push.apply(V,J.children):ne.push.apply(ne,J.children),J=ne.pop();return V},Z.prototype._build=function(J,V,ne,Ce){var _e=ne-V+1,Fe=this._maxEntries;if(_e<=Fe){var Ue=z(J.slice(V,ne+1));return h(Ue,this.toBBox),Ue}for(Ce||(Ce=Math.ceil(Math.log(_e)/Math.log(Fe)),Fe=Math.ceil(_e/Math.pow(Fe,Ce-1))),Ue=z([]),Ue.leaf=!1,Ue.height=Ce,_e=Math.ceil(_e/Fe),Fe=_e*Math.ceil(Math.sqrt(Fe)),H(J,V,ne,Fe,this.compareMinX);V<=ne;V+=Fe){var tt=Math.min(V+Fe-1,ne);H(J,V,tt,_e,this.compareMinY);for(var He=V;He<=tt;He+=_e)Ue.children.push(this._build(J,He,Math.min(He+_e-1,tt),Ce-1))}return h(Ue,this.toBBox),Ue},Z.prototype._chooseSubtree=function(J,V,ne,Ce){for(;Ce.push(V),!(V.leaf||Ce.length-1===ne);){for(var _e=Infinity,Fe=Infinity,Ue=void 0,tt=0;tt<V.children.length;tt++){var He=V.children[tt],kt=B(He),Wt=(Math.max(He.maxX,J.maxX)-Math.min(He.minX,J.minX))*(Math.max(He.maxY,J.maxY)-Math.min(He.minY,J.minY))-kt;Wt<Fe?(Fe=Wt,_e=kt<_e?kt:_e,Ue=He):Wt===Fe&&kt<_e&&(_e=kt,Ue=He)}V=Ue||V.children[0]}return V},Z.prototype._insert=function(J,V,ne){ne=ne?J:this.toBBox(J);var Ce=[],_e=this._chooseSubtree(ne,this.data,V,Ce);for(_e.children.push(J),m(_e,ne);0<=V&&Ce[V].children.length>this._maxEntries;)this._split(Ce,V),V--;this._adjustParentBBoxes(ne,Ce,V)},Z.prototype._split=function(J,V){var ne=J[V],Ce=ne.children.length,_e=this._minEntries;this._chooseSplitAxis(ne,_e,Ce),Ce=this._chooseSplitIndex(ne,_e,Ce),Ce=z(ne.children.splice(Ce,ne.children.length-Ce)),Ce.height=ne.height,Ce.leaf=ne.leaf,h(ne,this.toBBox),h(Ce,this.toBBox),V?J[V-1].children.push(Ce):this._splitRoot(ne,Ce)},Z.prototype._splitRoot=function(J,V){this.data=z([J,V]),this.data.height=J.height+1,this.data.leaf=!1,h(this.data,this.toBBox)},Z.prototype._chooseSplitIndex=function(J,V,ne){for(var Ce,_e=Infinity,Fe=Infinity,Ue=V;Ue<=ne-V;Ue++){var tt=y(J,0,Ue,this.toBBox),He=y(J,Ue,ne,this.toBBox),kt=Math.max(0,Math.min(tt.maxX,He.maxX)-Math.max(tt.minX,He.minX))*Math.max(0,Math.min(tt.maxY,He.maxY)-Math.max(tt.minY,He.minY));tt=B(tt)+B(He),kt<_e?(_e=kt,Ce=Ue,Fe=tt<Fe?tt:Fe):kt===_e&&tt<Fe&&(Fe=tt,Ce=Ue)}return Ce||ne-V},Z.prototype._chooseSplitAxis=function(J,V,ne){var Ce=J.leaf?this.compareMinX:C,_e=J.leaf?this.compareMinY:P,Fe=this._allDistMargin(J,V,ne,Ce);V=this._allDistMargin(J,V,ne,_e),Fe<V&&J.children.sort(Ce)},Z.prototype._allDistMargin=function(J,V,ne,Ce){J.children.sort(Ce),Ce=this.toBBox;for(var _e=y(J,0,V,Ce),Fe=y(J,ne-V,ne,Ce),Ue=M(_e)+M(Fe),tt=V;tt<ne-V;tt++){var He=J.children[tt];m(_e,J.leaf?Ce(He):He),Ue+=M(_e)}for(ne=ne-V-1;ne>=V;ne--)_e=J.children[ne],m(Fe,J.leaf?Ce(_e):_e),Ue+=M(Fe);return Ue},Z.prototype._adjustParentBBoxes=function(J,V,ne){for(;0<=ne;ne--)m(V[ne],J)},Z.prototype._condense=function(J){for(var V=J.length-1,ne;0<=V;V--)J[V].children.length===0?0<V?(ne=J[V-1].children,ne.splice(ne.indexOf(J[V]),1)):this.clear():h(J[V],this.toBBox)},Z})}),Cu=function(d){function n(l,a){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l,a)),a=l.canvas=document.createElement("canvas"),a=l.ctx=a.getContext("2d"),a.textAlign="start",a.textBaseline="top",l}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{depthWrite:!1,color:"#fff",fontFamily:"Microsoft Yahei",fontSize:14,flat:!1,collides:!0,unit:"px",angle:0,offset:[0,0],padding:[2,2],margin:[0,0],polygonOffset:[0,0]}}},{key:"initialize",value:function(a){this.gl=a;var f=this.getOptions();this.texture=null,this.lastUpdateTime=0,this.program=new es(this.gl,{vertexShader:"precision highp float;uniform mat4 matrix;uniform bool uFlat;uniform bool uUnitPx;uniform float zoomUnits;uniform float devicePixelRatio;uniform float zIndex;uniform vec2 offset;attribute vec3 position;attribute float corner;attribute float scale;attribute float rotation;attribute vec2 size;attribute vec2 aTextCoord;varying vec2 vTextCoord;/***\u70B9A(x,y)\uFF0C\u7ED5\u539F\u70B9\u987A\u65F6\u9488\u65CB\u8F6C\u89D2\u5EA6a\u65B0\u5750\u6807\u7684\u8BA1\u7B97\u516C\u5F0F*x1=x*cos(a)+y*sin(a)*y1=y*cos(a)-x*sin(a)*/vec3 transformCoord(vec3 coord,vec2 size,float corner){float x=coord.x;float y=coord.y;if(corner==1.0){x+=-size.x*cos(rotation)+size.y*sin(rotation);y+=size.y*cos(rotation)+size.x*sin(rotation);}else if(corner==2.0){x+=size.x*cos(rotation)+size.y*sin(rotation);y+=size.y*cos(rotation)-size.x*sin(rotation);}else if(corner==3.0){x+=size.x*cos(rotation)-size.y*sin(rotation);y+=-size.y*cos(rotation)-size.x*sin(rotation);}else{x+=-size.x*cos(rotation)-size.y*sin(rotation);y+=-size.y*cos(rotation)+size.x*sin(rotation);}return vec3(x,y,coord.z);}void main(){vTextCoord=aTextCoord;if(uFlat){vec2 pixelOffset=offset;vec2 halfSize=size/2.0*scale;if(uUnitPx){halfSize*=zoomUnits;pixelOffset*=zoomUnits;}vec3 current=transformCoord(position,halfSize,corner);current.z+=zIndex;gl_Position=matrix*vec4(current.x+pixelOffset[0],current.y-pixelOffset[1],current.z,1.0);}else{vec2 pixelOffset=offset*zoomUnits;vec4 projection=matrix*vec4(position.x+pixelOffset[0],position.y-pixelOffset[1],position.z,1.0);vec3 screen=projection.xyz/projection.w;vec2 halfSize=size/MAPV_resolution*devicePixelRatio*scale;vec3 current=transformCoord(screen,halfSize,corner);current.z+=zIndex;gl_Position=vec4(current,1.0);}}",fragmentShader:`precision highp float;uniform sampler2D textureImage;uniform vec4 uSelectedColor;varying vec2 vTextCoord;void main(){gl_FragColor=texture2D(textureImage,vec2(vTextCoord.x,1.0-vTextCoord.y));
#if defined(PICK)
if(mapvIsPicked()){gl_FragColor=vec4(uSelectedColor.rgb,gl_FragColor.a);}
#endif
}`,defines:f.enablePicked?["PICK"]:[]},this),this.vertexBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.uvBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Jo({gl:a,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),f=[{name:"position",buffer:this.vertexBuffer,size:3,stride:32,type:"FLOAT",offset:0},{name:"corner",buffer:this.vertexBuffer,size:1,stride:32,type:"FLOAT",offset:12},{name:"size",buffer:this.vertexBuffer,size:2,stride:32,type:"FLOAT",offset:16},{name:"scale",buffer:this.vertexBuffer,size:1,stride:32,type:"FLOAT",offset:24},{name:"rotation",buffer:this.vertexBuffer,size:1,stride:32,type:"FLOAT",offset:28},{name:"aTextCoord",buffer:this.uvBuffer,size:2,stride:8,type:"FLOAT",offset:0}],f=f.concat(this.getCommonAttributes()),this.vertexArray=new gu({gl:a,program:this.program,attributes:f})}},{key:"destroy",value:function(){this.options&&this.options.enablePicked&&(this.pickBuffer=null),this.canvas=this.cachedData=this.options=this.data=this.indexBuffer=this.uvBuffer=this.vertexBuffer=this.program=this.vertexArray=null}},{key:"onChanged",value:function(a,f){this.gl&&this.processCache(a,f)}},{key:"processCache",value:function(a,f){this.cachedData=[];for(var h=0;h<f.length;h++){var y=this.normizedPoint(f[h].geometry.coordinates),m=f[h].text;"properties"in f[h]&&"text"in f[h].properties&&(m=f[h].properties.text);var C=this.getProperty("angle",a.angle,f[h]);y&&m!==void 0&&this.cachedData.push({point:y,text:m,angle:C})}}},{key:"render",value:function(a){if(this.cachedData&&this.cachedData.length&&this.map){var f=a.gl,h=a.matrix,y=this.getOptions(),m=this.program;m.use(f),this.throttleUpdate(a),f.enable(f.BLEND),f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),("depthWrite"in y||"depthTest"in y)&&(y.depthTest===!1&&f.disable(f.DEPTH_TEST),y.depthWrite===!1&&f.depthMask(!1)),f.enable(f.POLYGON_OFFSET_FILL),f.polygonOffset(y.polygonOffset[0],y.polygonOffset[1]);var C=this.map.getZoomUnits();m.setUniforms(us(this.getCommonUniforms(a),{matrix:h,devicePixelRatio:window.devicePixelRatio,textureImage:this.texture,uFlat:y.flat,offset:y.offset,zoomUnits:C,zIndex:y.zIndex,uUnitPx:y.unit==="px"})),0<this.index.length&&(this.indexBuffer.bind(),this.vertexArray.bind(),f.drawElements(f.TRIANGLES,this.index.length,f.UNSIGNED_INT,0)),("depthWrite"in y||"depthTest"in y)&&(y.depthTest===!1&&f.enable(f.DEPTH_TEST),y.depthWrite===!1&&f.depthMask(!0)),f.disable(f.POLYGON_OFFSET_FILL),f.useProgram(null)}}},{key:"throttleUpdate",value:function(a){var f=this;clearTimeout(this.throttleTimer),300<new Date().getTime()-this.lastUpdateTime?(this.updateText(a),this.lastUpdateTime=new Date().getTime()):this.throttleTimer=setTimeout(function(){f.updateText(a),f.lastUpdateTime=new Date().getTime()},200)}},{key:"updateText",value:function(a){var f=a.gl,h=a.matrix,y=this.getOptions(),m=y.color;a=y.fontSize;var C=y.fontFamily,P=y.padding,B=y.margin,M=y.collides;y=y.enablePicked;var T=f.canvas.width/window.devicePixelRatio,L=f.canvas.height/window.devicePixelRatio,z=this.canvas;f=this.ctx,f.save(),f.scale(window.devicePixelRatio,window.devicePixelRatio),f.textBaseline="top",f.font="20px "+C;for(var H=new Al,Z=[],J=0;J<this.cachedData.length;J++){var V=this.cachedData[J],ne=V.point,Ce=V.text;V=V.angle;var _e=Xu(ne,3);_e=Bn.clone([_e[0],_e[1],_e[2],1]),Bn.transformMat4(_e,_e,h),Bn.scale(_e,_e,1/_e[3]);var Fe=(_e[0]+1)/2*T,Ue=(-_e[1]+1)/2*L,tt=f.measureText(Ce);_e=tt.width+2*P[0];var He=20;tt.actualBoundingBoxAscent&&tt.actualBoundingBoxDescent&&(He=tt.actualBoundingBoxDescent-tt.actualBoundingBoxAscent),He+=2*P[1];var kt=_e+B[0];if(tt=He+B[1],Fe-=kt/2,Ue-=tt/2,kt=Fe+kt,tt=Ue+tt,!(0>kt||0>tt||Fe>T||Ue>L)){if(M){if(tt={minX:Fe,maxX:kt,minY:Ue,maxY:tt},H.collides(tt))continue;H.insert(tt)}Z.push({w:_e,h:He,point:ne,text:Ce,angle:V,dataIndex:J})}}for(f.restore(),B=go(Z),h=B.w,B=B.h,0>=h&&(h=1),0>=B&&(B=1),z.width=h*window.devicePixelRatio,z.height=B*window.devicePixelRatio,f.save(),f.scale(window.devicePixelRatio,window.devicePixelRatio),f.textBaseline="top",f.fillStyle=m,f.font="20px "+C,m=[],C=[],z=[],M=[],T=0,L=Z.length;T<L;++T){for(H=Z[T],f.fillText(H.text,H.x+P[0],H.y+P[1]),Ce=Xu(H.point,3),J=Ce[0],ne=Ce[1],Ce=Ce[2],V=0;4>V;V++)m.push(J,ne,Ce),m.push(V),m.push(H.w,H.h),m.push(a/20,H.angle*Math.PI/180);J=H.x/h,ne=(H.x+H.w)/h,Ce=(H.y+H.h)/B,V=H.y/B,C.push(J,Ce,J,V,ne,V,ne,Ce),J=4*T,z.push(J,J+2,J+1,J,J+3,J+2),y&&(H=this.indexToRgb(H.dataIndex),M.push(H[0]/255,H[1]/255,H[2]/255),M.push(H[0]/255,H[1]/255,H[2]/255),M.push(H[0]/255,H[1]/255,H[2]/255),M.push(H[0]/255,H[1]/255,H[2]/255))}f.restore(),this.loadTexture(),this.index=z,this.vertexBuffer.updateData(new Float32Array(m)),this.uvBuffer.updateData(new Float32Array(C)),this.indexBuffer.updateData(new Uint32Array(z)),y&&this.pickBuffer.updateData(new Float32Array(M))}},{key:"loadTexture",value:function(){var a=this;this.canvas?Jt(this.gl,this.canvas,function(f){a.texture=f},{TEXTURE_WRAP_S:"CLAMP_TO_EDGE",TEXTURE_WRAP_T:"CLAMP_TO_EDGE"}):this.texture=null}}]),n}(fe),_l=ve(function(d,n){(function(l,a){d.exports=a()})(Hf,function(){function l(V,ne,Ce,_e,Fe,Ue){if(!(Fe-_e<=Ce)){var tt=_e+Fe>>1;a(V,ne,tt,_e,Fe,Ue%2),l(V,ne,Ce,_e,tt-1,Ue+1),l(V,ne,Ce,tt+1,Fe,Ue+1)}}function a(V,ne,Ce,_e,Fe,Ue){for(;Fe>_e;){if(600<Fe-_e){var tt=Fe-_e+1,He=Ce-_e+1,kt=Math.log(tt),Wt=.5*Math.exp(2*kt/3);kt=.5*Math.sqrt(kt*Wt*(tt-Wt)/tt)*(0>He-tt/2?-1:1),a(V,ne,Ce,Math.max(_e,Math.floor(Ce-He*Wt/tt+kt)),Math.min(Fe,Math.floor(Ce+(tt-He)*Wt/tt+kt)),Ue)}for(tt=ne[2*Ce+Ue],He=_e,Wt=Fe,f(V,ne,_e,Ce),ne[2*Fe+Ue]>tt&&f(V,ne,_e,Fe);He<Wt;){for(f(V,ne,He,Wt),He++,Wt--;ne[2*He+Ue]<tt;)He++;for(;ne[2*Wt+Ue]>tt;)Wt--}ne[2*_e+Ue]===tt?f(V,ne,_e,Wt):(Wt++,f(V,ne,Wt,Fe)),Wt<=Ce&&(_e=Wt+1),Ce<=Wt&&(Fe=Wt-1)}}function f(V,ne,Ce,_e){h(V,Ce,_e),h(ne,2*Ce,2*_e),h(ne,2*Ce+1,2*_e+1)}function h(V,ne,Ce){var _e=V[ne];V[ne]=V[Ce],V[Ce]=_e}function y(V,ne){return V=V.geometry.coordinates,{x:V[0]/360+.5,y:P(V[1]),zoom:Infinity,index:ne,parentId:-1}}function m(V){var ne=V.id,Ce=C(V);return{type:"Feature",id:ne,properties:Ce,geometry:{type:"Point",coordinates:[360*(V.x-.5),360*Math.atan(Math.exp((180-360*V.y)*Math.PI/180))/Math.PI-90]}}}function C(V){var ne=V.numPoints,Ce=1e4<=ne?Math.round(ne/1e3)+"k":1e3<=ne?Math.round(ne/100)/10+"k":ne;return B(B({},V.properties),{cluster:!0,cluster_id:V.id,point_count:ne,point_count_abbreviated:Ce})}function P(V){return V=Math.sin(V*Math.PI/180),V=.5-.25*Math.log((1+V)/(1-V))/Math.PI,0>V?0:1<V?1:V}function B(V,ne){for(var Ce in ne)V[Ce]=ne[Ce];return V}function M(V){return V.x}function T(V){return V.y}var L=function(ne){return ne[0]},z=function(ne){return ne[1]},H=function(ne,Ce,_e,Fe,Ue){Ce===void 0&&(Ce=L),_e===void 0&&(_e=z),Fe===void 0&&(Fe=64),Ue===void 0&&(Ue=Float64Array),this.nodeSize=Fe,this.points=ne;var tt=this.ids=new(65536>ne.length?Uint16Array:Uint32Array)(ne.length);Ue=this.coords=new Ue(2*ne.length);for(var He=0;He<ne.length;He++)tt[He]=He,Ue[2*He]=Ce(ne[He]),Ue[2*He+1]=_e(ne[He]);l(tt,Ue,Fe,0,tt.length-1,0)};H.prototype.range=function(V,ne,Ce,_e){for(var Fe=this.ids,Ue=this.coords,tt=this.nodeSize,He=[0,Fe.length-1,0],kt=[],Wt,Dr;He.length;){var qr=He.pop(),br=He.pop(),On=He.pop();if(br-On<=tt)for(qr=On;qr<=br;qr++)Wt=Ue[2*qr],Dr=Ue[2*qr+1],Wt>=V&&Wt<=Ce&&Dr>=ne&&Dr<=_e&&kt.push(Fe[qr]);else{var Lt=Math.floor((On+br)/2);Wt=Ue[2*Lt],Dr=Ue[2*Lt+1],Wt>=V&&Wt<=Ce&&Dr>=ne&&Dr<=_e&&kt.push(Fe[Lt]);var xr=(qr+1)%2;(qr===0?V<=Wt:ne<=Dr)&&(He.push(On),He.push(Lt-1),He.push(xr)),(qr===0?Ce>=Wt:_e>=Dr)&&(He.push(Lt+1),He.push(br),He.push(xr))}}return kt},H.prototype.within=function(V,ne,Ce){for(var _e=this.ids,Fe=this.coords,Ue=this.nodeSize,tt=[0,_e.length-1,0],He=[],kt=Ce*Ce;tt.length;){var Wt=tt.pop(),Dr=tt.pop(),qr=tt.pop();if(Dr-qr<=Ue)for(Wt=qr;Wt<=Dr;Wt++){qr=Fe[2*Wt]-V;var br=Fe[2*Wt+1]-ne;qr*qr+br*br<=kt&&He.push(_e[Wt])}else{br=Math.floor((qr+Dr)/2);var On=Fe[2*br],Lt=Fe[2*br+1],xr=On-V,kn=Lt-ne;xr*xr+kn*kn<=kt&&He.push(_e[br]),xr=(Wt+1)%2,(Wt===0?V-Ce<=On:ne-Ce<=Lt)&&(tt.push(qr),tt.push(br-1),tt.push(xr)),(Wt===0?V+Ce>=On:ne+Ce>=Lt)&&(tt.push(br+1),tt.push(Dr),tt.push(xr))}}return He};var Z={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(ne){return ne}},J=function(ne){this.options=B(Kp(Z),ne),this.trees=Array(this.options.maxZoom+1)};return J.prototype.load=function(V){var ne=this.options,Ce=ne.minZoom,_e=ne.maxZoom;ne=ne.nodeSize,this.points=V;for(var Fe=[],Ue=0;Ue<V.length;Ue++)V[Ue].geometry&&Fe.push(y(V[Ue],Ue));for(this.trees[_e+1]=new H(Fe,M,T,ne,Float32Array),V=_e;V>=Ce;V--)Fe=this._cluster(Fe,V),this.trees[V]=new H(Fe,M,T,ne,Float32Array);return this},J.prototype.getClusters=function(V,ne){var Ce=((V[0]+180)%360+360)%360-180,_e=Math.max(-90,Math.min(90,V[1])),Fe=V[2]===180?180:((V[2]+180)%360+360)%360-180,Ue=Math.max(-90,Math.min(90,V[3]));if(360<=V[2]-V[0])Ce=-180,Fe=180;else if(Ce>Fe)return Ce=this.getClusters([Ce,_e,180,Ue],ne),_e=this.getClusters([-180,_e,Fe,Ue],ne),Ce.concat(_e);ne=this.trees[this._limitZoom(ne)],V=[];var tt=0;for(_e=ne.range(Ce/360+.5,P(Ue),Fe/360+.5,P(_e));tt<_e.length;tt+=1)Fe=ne.points[_e[tt]],V.push(Fe.numPoints?m(Fe):this.points[Fe.index]);return V},J.prototype.getChildren=function(V){var ne=this._getOriginId(V),Ce=this._getOriginZoom(V),_e=this.trees[Ce];if(!_e)throw Error("No cluster with the specified id.");var Fe=_e.points[ne];if(!Fe)throw Error("No cluster with the specified id.");ne=[];var Ue=0;for(Ce=_e.within(Fe.x,Fe.y,this.options.radius/(this.options.extent*Math.pow(2,Ce-1)));Ue<Ce.length;Ue+=1)Fe=_e.points[Ce[Ue]],Fe.parentId===V&&ne.push(Fe.numPoints?m(Fe):this.points[Fe.index]);if(ne.length===0)throw Error("No cluster with the specified id.");return ne},J.prototype.getLeaves=function(V,ne,Ce){var _e=[];return this._appendLeaves(_e,V,ne||10,Ce||0,0),_e},J.prototype.getTile=function(V,ne,Ce){var _e=this.trees[this._limitZoom(V)];V=Math.pow(2,V);var Fe=this.options;Fe=Fe.radius/Fe.extent;var Ue=(Ce-Fe)/V,tt=(Ce+1+Fe)/V,He={features:[]};return this._addTileFeatures(_e.range((ne-Fe)/V,Ue,(ne+1+Fe)/V,tt),_e.points,ne,Ce,V,He),ne===0&&this._addTileFeatures(_e.range(1-Fe/V,Ue,1,tt),_e.points,V,Ce,V,He),ne===V-1&&this._addTileFeatures(_e.range(0,Ue,Fe/V,tt),_e.points,-1,Ce,V,He),He.features.length?He:null},J.prototype.getClusterExpansionZoom=function(V){for(var ne=this._getOriginZoom(V)-1;ne<=this.options.maxZoom&&(V=this.getChildren(V),ne++,V.length===1);)V=V[0].properties.cluster_id;return ne},J.prototype._appendLeaves=function(V,ne,Ce,_e,Fe){var Ue=0;for(ne=this.getChildren(ne);Ue<ne.length;Ue+=1){var tt=ne[Ue],He=tt.properties;if(He&&He.cluster?Fe=Fe+He.point_count<=_e?Fe+He.point_count:this._appendLeaves(V,He.cluster_id,Ce,_e,Fe):Fe<_e?Fe++:V.push(tt),V.length===Ce)break}return Fe},J.prototype._addTileFeatures=function(V,ne,Ce,_e,Fe,Ue){for(var tt=0;tt<V.length;tt+=1){var He=ne[V[tt]],kt=He.numPoints,Wt={type:1,geometry:[[Math.round(this.options.extent*(He.x*Fe-Ce)),Math.round(this.options.extent*(He.y*Fe-_e))]],tags:kt?C(He):this.points[He.index].properties},Dr=void 0;kt?Dr=He.id:this.options.generateId?Dr=He.index:this.points[He.index].id&&(Dr=this.points[He.index].id),Dr!==void 0&&(Wt.id=Dr),Ue.features.push(Wt)}},J.prototype._limitZoom=function(V){return Math.max(this.options.minZoom,Math.min(+V,this.options.maxZoom+1))},J.prototype._cluster=function(V,ne){var Ce=[],_e=this.options,Fe=_e.reduce,Ue=_e.minPoints;_e=_e.radius/(_e.extent*Math.pow(2,ne));for(var tt=0;tt<V.length;tt++){var He=V[tt];if(!(He.zoom<=ne)){He.zoom=ne;for(var kt=this.trees[ne+1],Wt=kt.within(He.x,He.y,_e),Dr=He.numPoints||1,qr=Dr,br=0,On=Wt;br<On.length;br+=1){var Lt=kt.points[On[br]];Lt.zoom>ne&&(qr+=Lt.numPoints||1)}if(qr>=Ue){br=He.x*Dr,On=He.y*Dr,Dr=Fe&&1<Dr?this._map(He,!0):null,Lt=(tt<<5)+(ne+1)+this.points.length;for(var xr=0;xr<Wt.length;xr+=1){var kn=kt.points[Wt[xr]];if(!(kn.zoom<=ne)){kn.zoom=ne;var Yn=kn.numPoints||1;br+=kn.x*Yn,On+=kn.y*Yn,kn.parentId=Lt,Fe&&(Dr||(Dr=this._map(He,!0)),Fe(Dr,this._map(kn)))}}He.parentId=Lt,Ce.push({x:br/qr,y:On/qr,zoom:Infinity,id:Lt,parentId:-1,numPoints:qr,properties:Dr})}else if(Ce.push(He),1<qr)for(He=0,qr=Wt;He<qr.length;He+=1)Wt=kt.points[qr[He]],Wt.zoom<=ne||(Wt.zoom=ne,Ce.push(Wt))}}return Ce},J.prototype._getOriginId=function(V){return V-this.points.length>>5},J.prototype._getOriginZoom=function(V){return(V-this.points.length)%32},J.prototype._map=function(V,ne){if(V.numPoints)return ne?B({},V.properties):V.properties;V=this.points[V.index].properties;var Ce=this.options.map(V);return ne&&Ce===V?B({},Ce):Ce},J})}),tu=function(d){function n(l){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l)),l.shapeLayer=new Hs(l.options),l.textLayer=new Cu(l.options.textOptions),l.children=[l.shapeLayer,l.textLayer],l.max=[],l}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{size:50,height:0,maxZoom:19,minZoom:5,gradient:{0:"rgb(50, 50, 256)","0.1":"rgb(50, 250, 56)","0.5":"rgb(250, 250, 56)",1:"rgb(250, 50, 56)"},enableCluster:!1,showText:!0,textOptions:{fontSize:13,color:"white"}}}},{key:"onOptionsChanged",value:function(a){this.textLayer.setOptions(a.textOptions)}},{key:"setOptions",value:function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},f=this.options.textOptions;a.textOptions&&us(f,a.textOptions);var h=a.minZoom,y=a.maxZoom,m=a.size;h=y&&y!==this.options.maxZoom||h&&h!==this.options.minZoom||m&&m!==this.options.size,us(this.options,a,{textOptions:f}),h?this.onChanged(this.options,this.data):this.refreshLayer(),this.onOptionsChanged(this.getOptions())}},{key:"onChanged",value:function(a,f){if(f&&f.length){this.zoom=Math.floor(this.map.getZoom());var h=a.maxZoom,y=a.minZoom,m=a.enableCluster;a=a.size,this.zoom>h?this.zoom=h:this.zoom<y&&(this.zoom=y),m&&(this.supercluster=new _l({maxZoom:h,minZoom:y,radius:a/2}),this.supercluster.load(f)),this.refreshLayer()}}},{key:"refreshLayer",value:function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.options,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.data,h=this.map,y=this.zoom;if(a.enableCluster&&this.supercluster&&(f=this.getClusterData(a)),f&&f.length){var m=a.gradient,C=a.showText,P=a.textOptions,B=a.height,M=a.size;M*=Math.pow(2,18-y),f=va(f,M,function(z){var H=Xu(z,2),Z=H[0];return H=H[1],-180<=Z&&180>=Z&&-90<=H&&90>=H&&(H=h.lnglatToMercator(Z,H),Z=H[0],H=H[1]),z[0]=Z,z[1]=H,z}),this.max[y]=Math.max(this.max[y]||0,f.max);var T=new et({max:this.max[y],min:0,maxSize:B*Math.pow(2,18-y),minSize:0,gradient:m});if(m=[],C){var L=P&&P.format;L=typeof L=="function"?L:null,m=f.map(function(z){return{geometry:{coordinates:[z.center.x,z.center.y,T.getSize(z.count)+P.fontSize/2*Math.pow(2,18-y)]},text:L?L(z.count):z.count}})}this.textLayer.setData(m),C=f.map(function(z){for(var H=z.center,Z=f.r,J=[],V=0;6>V;V++)J.push(Ro({x:H.x,y:H.y},Z,V));return{geometry:{type:"Polygon",coordinates:[J]},properties:{height:T.getSize(z.count),color:T.getColor(z.count)}}}),this.shapeLayer.setData(C),a.enablePicked&&a.autoSelect&&this.pick(-1,-1)}}},{key:"getClusterData",value:function(){var a=this.map,f=a.getBounds(),h=f.ne;f=f.sw,this.ne=h,this.sw=f;var y=h,m=y.lng;y=y.lat;var C=[];return-180<=m&&180>=m&&-90<=y&&90>=y?C=[f.lng,f.lat,h.lng,h.lat]:(h=a.mercatorToLnglat(this.ne.lng,this.ne.lat),f=a.mercatorToLnglat(this.sw.lng,this.sw.lat),C=f.concat(h)),this.supercluster.getClusters(C,this.zoom).map(function(P){var B=0;return P.properties&&P.properties.point_count&&(B=P.properties.point_count),{geometry:P.geometry,count:B}})}},{key:"pick",value:function(a,f){return this.shapeLayer.pick(a,f)}},{key:"shouldUpdate",value:function(){if(!this.data)return!1;var a=this.map,f=Math.floor(a.getZoom()),h=this.options,y=h.maxZoom;if(h=h.minZoom,f>y?f=y:f<h&&(f=h),this.zoom!==f)return this.zoom=f,!0;if(!this.options.enableCluster||(f=a.getBounds(),a=f.ne,f=f.sw,!(a&&f&&this.ne&&this.sw)))return!1;if(this.ne.lng!==a.lng||this.ne.lat!==a.lat||this.sw.lng!==f.lng||this.sw.lat!==f.lat)return!0}},{key:"render",value:function(a){this.shouldUpdate()?this.refreshLayer():Be(n.prototype.__proto__||yt(n.prototype),"render",this).call(this,a)}}]),n}(rl),ol=function(){function d(n,l){di(this,d),this.map=n,this.options=l||{},this.eventMap={}}return nn(d,[{key:"onResize",value:function(l){}},{key:"onUpdate",value:function(l){throw"\u672A\u5B9E\u73B0onUpdate\u65B9\u6CD5"}},{key:"getContainer",value:function(){throw"\u672A\u5B9E\u73B0getContainer\u65B9\u6CD5"}},{key:"getSize",value:function(){throw"\u672A\u5B9E\u73B0getSize\u65B9\u6CD5"}},{key:"getTilt",value:function(){throw"\u672A\u5B9E\u73B0getTilt\u65B9\u6CD5"}},{key:"getHeading",value:function(){throw"\u672A\u5B9E\u73B0getHeading\u65B9\u6CD5"}},{key:"getZoomUnits",value:function(){throw"\u672A\u5B9E\u73B0getZoomUnits\u65B9\u6CD5"}},{key:"getCenter",value:function(){throw"\u672A\u5B9E\u73B0getCenter\u65B9\u6CD5"}},{key:"getMapType",value:function(){throw"\u672A\u5B9E\u73B0getMapType\u65B9\u6CD5"}},{key:"lnglatToMercator",value:function(l,a){return this.options.coordinateSystem==="gcj02"?(a=a*Math.PI/180,a=31890685e-1*Math.log((1+Math.sin(a))/(1-Math.sin(a))),[parseFloat((l*Math.PI/180*6378137).toFixed(2)),parseFloat(a.toFixed(2))]):(l=pn.convertLL2MC({lng:l,lat:a}),[l.lng,l.lat])}}]),d}(),kc=function(d){function n(l){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l)),l.eventMap={},l}return Vo(n,d),nn(n,[{key:"onResize",value:function(a){this.map.addEventListener("resize",a),this.eventMap.resize=a}},{key:"onMousemove",value:function(a){a=this.extendCallback(a),this.map.addEventListener("mousemove",a),this.eventMap.mousemove=a}},{key:"onClick",value:function(a){a=this.extendCallback(a),this.map.addEventListener("click",a),this.eventMap.click=a}},{key:"onDblClick",value:function(a){a=this.extendCallback(a),this.map.addEventListener("dblclick",a),this.eventMap.dblclick=a}},{key:"onRightClick",value:function(a){a=this.extendCallback(a),this.map.addEventListener("rightclick",a),this.eventMap.rightclick=a}},{key:"onUpdate",value:function(a){this.map.addEventListener("update",a),this.map.addEventListener("onearthstatuschange",a),this.eventMap.update=a,this.eventMap.onearthstatuschange=a}},{key:"extendCallback",value:function(a){return function(f){a(us(f,{x:f.x,y:f.y}))}}},{key:"unbind",value:function(){var a=this;Fu(this.eventMap).forEach(function(f){a.map.removeEventListener(f,a.eventMap[f])}),this.eventMap={}}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getSize",value:function(){return this.map.getSize()}},{key:"getBounds",value:function(){return this.map.getBounds()}},{key:"getTilt",value:function(){return this.map.getTilt()}},{key:"getHeading",value:function(){return this.map.getHeading()}},{key:"getZoomUnits",value:function(){return this.map.getZoomUnits()}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"getCenter",value:function(){var a=this.map.getCenter();return-180<=a.lng&&180>=a.lng&&(a=this.map.lnglatToMercator(a.lng,a.lat),a={lng:a[0],lat:a[1]}),a}},{key:"getMapType",value:function(){return this.map.getMapType()}},{key:"lnglatToMercator",value:function(a,f){return this.map.lnglatToMercator(a,f)}},{key:"mercatorToLnglat",value:function(a,f){return this.map.mercatorToLnglat(a,f)}}]),n}(ol),Yh=function(d){function n(l){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l)),l.div=document.createElement("div"),l.div.style.position="absolute",l.div.style.userSelect="none",l.map.getPanes().mapPane.appendChild(l.div),l.eventMap={},l}return Vo(n,d),nn(n,[{key:"onResize",value:function(a){this.map.addEventListener("resize",a),this.eventMap.resize=a}},{key:"onMousemove",value:function(a){a=this.extendCallback(a),this.map.addEventListener("mousemove",a),this.eventMap.mousemove=a}},{key:"onClick",value:function(a){a=this.extendCallback(a),ln?(this.map.addEventListener("touchend",a),this.eventMap.touchend=a):(this.map.addEventListener("click",a),this.eventMap.click=a)}},{key:"onDblClick",value:function(a){a=this.extendCallback(a),this.map.addEventListener("dblclick",a),this.eventMap.dblclick=a}},{key:"onRightClick",value:function(a){a=this.extendCallback(a),this.map.addEventListener("rightclick",a),this.eventMap.rightclick=a}},{key:"changeCanvas",value:function(){var a=this.map,f=a.getSize(),h=a.getCenter();a=a.pointToOverlayPixel(h),this.div.style.left=a.x-f.width/2+"px",this.div.style.top=a.y-f.height/2+"px"}},{key:"onUpdate",value:function(a){var f=this,h=function(){f.changeCanvas(),a()};this.map.addEventListener("moveend",h),this.map.addEventListener("moving",h),this.map.addEventListener("zoomend",h),this.eventMap.moveend=h,this.eventMap.moving=h,this.eventMap.zoomend=h}},{key:"extendCallback",value:function(a){return function(f){a(us(f,{x:f.pixel.x,y:f.pixel.y}))}}},{key:"unbind",value:function(){var a=this;Fu(this.eventMap).forEach(function(f){a.map.removeEventListener(f,a.eventMap[f])}),this.eventMap={}}},{key:"getContainer",value:function(){return this.div}},{key:"getSize",value:function(){return this.map.getSize()}},{key:"getBounds",value:function(){return this.map.getBounds()}},{key:"getTilt",value:function(){return 0}},{key:"getHeading",value:function(){return 0}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"getZoomUnits",value:function(){return Math.pow(2,18-this.map.getZoom())}},{key:"getCenter",value:function(){var a=this.map.getMapType().getProjection().lngLatToPoint(this.map.getCenter());return{lng:a.x,lat:a.y}}},{key:"lnglatToMercator",value:function(a,f){return a=this.map.getMapType().getProjection().lngLatToPoint({lng:a,lat:f}),[a.x,a.y]}},{key:"mercatorToLnglat",value:function(a,f){return a=this.map.getMapType().getProjection().pointToLngLat({lng:a,lat:f}),[a.lng,a.lat]}}]),n}(ol),dp=function(d){function n(l){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l)),l.eventMap={},l}return Vo(n,d),nn(n,[{key:"onResize",value:function(a){window.addEventListener("resize",a),this.eventMap.resize=a}},{key:"onUpdate",value:function(a){}},{key:"unbind",value:function(){var a=this;Fu(this.eventMap).forEach(function(f){window.removeEventListener(f,a.eventMap[f])}),this.eventMap={}}},{key:"getContainer",value:function(){return this.map.container.getElementsByClassName("cesium-widget")[0]}},{key:"getSize",value:function(){var a=this.map;return{width:a.canvas.clientWidth,height:a.canvas.clientHeight}}},{key:"getTilt",value:function(){return 180*this.map.camera.pitch/Math.PI+90}},{key:"getHeading",value:function(){return 360-180*this.map.camera.heading/Math.PI}},{key:"getZoomUnits",value:function(){var a=this.map;return 6.8*a.scene.globe.ellipsoid.cartesianToCartographic(a.camera.position).height/6500}},{key:"getZoom",value:function(){return 10}},{key:"getCenter",value:function(){var a=this.map;return a=a.camera.pickEllipsoid(new Cesium.Cartesian2(a.canvas.clientWidth/2,a.canvas.clientHeight/2)),a=Cesium.Ellipsoid.WGS84.cartesianToCartographic(a),a=this.getMercator([180*a.longitude/Math.PI,180*a.latitude/Math.PI]),{lng:a[0],lat:a[1]}}},{key:"getMercator",value:function(a){var f=[];return f[0]=a[0]*Math.PI/180*6378137,a=a[1]*Math.PI/180,f[1]=31890685e-1*Math.log((1+Math.sin(a))/(1-Math.sin(a))),f}}]),n}(ol),jd=function(d){function n(l){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l)),l.eventMap={},l}return Vo(n,d),nn(n,[{key:"onResize",value:function(a){window.addEventListener("resize",a),this.eventMap.resize=a}},{key:"onUpdate",value:function(a){}},{key:"unbind",value:function(){var a=this;Fu(this.eventMap).forEach(function(f){window.removeEventListener(f,a.eventMap[f])}),this.eventMap={}}},{key:"getContainer",value:function(){return this.map.container}},{key:"getSize",value:function(){return{width:this.map.container.clientWidth,height:this.map.container.clientHeight}}},{key:"getTilt",value:function(){return this.map.tilt}},{key:"getHeading",value:function(){return this.map.heading}},{key:"getZoomUnits",value:function(){return this.map.zoomUnits}},{key:"getCenter",value:function(){return this.map.center}}]),n}(ol),Xh=function(d){function n(l,a){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l,a)),l.eventMap={},l}return Vo(n,d),nn(n,[{key:"onResize",value:function(a){window.addEventListener("resize",a),this.eventMap.resize=a}},{key:"onUpdate",value:function(a){}},{key:"unbind",value:function(){var a=this;Fu(this.eventMap).forEach(function(f){window.removeEventListener(f,a.eventMap[f])}),this.eventMap={}}},{key:"getContainer",value:function(){return this.map.container}},{key:"getSize",value:function(){return{width:this.map.container.clientWidth,height:this.map.container.clientHeight}}},{key:"getTilt",value:function(){return this.map.tilt}},{key:"getHeading",value:function(){return this.map.heading}},{key:"getZoomUnits",value:function(){return this.map.zoomUnits}},{key:"getCenter",value:function(){return this.map.center}}]),n}(ol),vh=function(){function d(n,l){di(this,d),l=l||{},l.mapType==="bmap"?this.map=new Yh(n,l):l.mapType==="blank"?this.map=new jd(n,l):l.mapType==="cesium"?this.map=new dp(n,l):l.mapType==="three"?this.map=new Xh(n,l):(l.mapType="bmapgl",this.map=new kc(n,l)),this.map.type=l.mapType,this.options=l||{},this.renderArr=[],(n=l.canvas)||(n=document.createElement("canvas")),this.canvas=n,this.gl=l.gl?l.gl:At(n),this.gl.getExtension("OES_element_index_uint"),this.changeSize(),this.projectionMatrix=zr.create(Float64Array),this.orthoMatrix=zr.create(Float64Array),this.matrix=zr.create(Float64Array),this.viewMatrix=zr.create(Float64Array),this.pointToPixelMatrix=zr.create(Float64Array),this.pixelToViewMatrix=zr.create(Float64Array),this.fovy=35,this._animation=this.animation.bind(this),this._update=this.update.bind(this),this.onInitialize(this.options.onInitialize),this.options.onRender&&this.renderArr.push(this.options.onRender),this.stateManager=new om({gl:this.gl}),this.pickFBO=new Qu(this.gl),this.transferOptions={},this.bind()}return nn(d,[{key:"bind",value:function(){var l=this,a=this.map;a.onResize(function(){l.changeSize(),l.render()}),a.onUpdate(this._update),a.onClick&&a.onClick(function(f){l.onClick&&l.onClick(f)}),a.onDblClick&&a.onDblClick(function(f){l.onDblClick&&l.onDblClick(f)}),a.onRightClick&&a.onRightClick(function(f){l.onRightClick&&l.onRightClick(f)}),a.onMousemove&&a.onMousemove(function(f){l.onMousemove&&l.onMousemove(f)}),this.options.canvas||a.getContainer().appendChild(this.canvas)}},{key:"unbind",value:function(){var l=this.map;l.unbind&&l.unbind()}},{key:"setOptions",value:function(l){this.options=l}},{key:"onInitialize",value:function(l){l&&(this.transferOptions=l.bind(this)(this.gl)||{})}},{key:"bindFramebuffer",value:function(l){var a=this.gl;l?a.bindFramebuffer(a.FRAMEBUFFER,l.framebuffer):a.bindFramebuffer(a.FRAMEBUFFER,null)}},{key:"saveFramebuffer",value:function(){var l=this.gl;this.preFramebuffer=l.getParameter(l.FRAMEBUFFER_BINDING)}},{key:"restoreFramebuffer",value:function(){var l=this.gl;l.bindFramebuffer(l.FRAMEBUFFER,this.preFramebuffer)}},{key:"onRender",value:function(l){this.renderArr.push(l)}},{key:"changeSize",value:function(){var l=this.canvas;if(l){var a=l.style,f=this.map.getSize(),h=window.devicePixelRatio;l.width=f.width*h,l.height=f.height*h,a.cssText="position: absolute;left:0;top:0;width:"+f.width+"px;height:"+f.height+"px;z-index:2;",f=this.options,f.mapType!=="cesium"||f.canvas||(a.pointerEvents="none"),this.gl.viewport(0,0,l.width,l.height)}}},{key:"update",value:function(){this.options.autoUpdate===!1||this.isAnimation||this.render()}},{key:"render",value:function(){if(this.map){var l=this.options,a=this.projectionMatrix,f=this.viewMatrix;if(l.mapType==="three")f=this.map.map.camera,a=f.projectionMatrix.elements,f=f.matrixWorldInverse.elements;else if(l.mapType==="cesium"){f=this.map.map;var h=f.camera.frustum.projectionMatrix;a=new Float32Array([h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15]]),h=f.camera.viewMatrix,f=new Float32Array([h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],h[9],h[10],h[11],h[12],h[13],h[14],h[15]])}else this.map.map.mapType==="B_EARTH_MAP"?(a=this.map.map.getEarth().scene._camera.getProjectionMatrix(),f=this.map.map.getEarth().scene._camera.getModelViewMatrix()):(this.updateProjectionMatrix(),this.updateModelViewMatrix());for(h=zr.multiply(this.matrix,a,f),us(this.transferOptions,{gl:this.gl,matrix:h,pointToPixelMatrix:this.pointToPixelMatrix,pixelToViewMatrix:this.pixelToViewMatrix,projectionMatrix:a,orthoMatrix:this.orthoMatrix,viewMatrix:f,stateManager:this.stateManager}),l.mapType!=="three"&&l.mapType!=="cesium"&&l.autoUpdate!==!1&&this.clear(),l=0;l<this.renderArr.length;l++)this.renderArr[l]&&this.renderArr[l].bind(this)(this.transferOptions)}}},{key:"clear",value:function(l){var a=this.gl,f=this.options.clearColor||[0,0,0,0];a.clearColor(f[0],f[1],f[2],f[3]),l&&(l instanceof Array||(l=De(l).unitArray()),a.clearColor(l[0],l[1],l[2],l[3])),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)}},{key:"updateProjectionMatrix",value:function(){var l=this.gl.canvas.width/this.gl.canvas.height,a=this.options.cameraNear||1,f=this.options.cameraFar||4e3;zr.perspective(this.projectionMatrix,st(this.fovy),l,a,f),l=this.map.getSize(),zr.ortho(this.orthoMatrix,-l.width/2,l.width/2,-l.height/2,l.height/2,a,f)}},{key:"updateModelViewMatrix",value:function(){var l=this.map,a=this.viewMatrix,f=this.pointToPixelMatrix,h=this.pixelToViewMatrix;zr.identity(a),zr.identity(f),zr.identity(h);var y=l.getSize();y=Math.round(-y.height/(2*Math.tan(st(this.fovy)/2))),zr.translate(h,h,[0,0,y]),zr.rotate(h,h,st(l.getTilt()),[-1,0,0]),zr.rotate(h,h,st(l.getHeading()),[0,0,-1]),y=l.getCenter();var m=this.options.pointOffset||[0,0];l=l.getZoomUnits(),zr.translate(f,f,[(m[0]-y.lng)/l,(m[1]-y.lat)/l,0]),l=1/l,zr.scale(f,f,[l,l,l]),zr.multiply(a,h,f)}},{key:"destroy",value:function(){this.stopAnimation(),this.unbind();var l=this.gl.getExtension("WEBGL_lose_context");l&&l.loseContext(),this.map.getContainer().removeChild(this.canvas),this.canvas=null}},{key:"animation",value:function(){this.isAnimation&&(this.render(),window.requestAnimationFrame(this._animation))}},{key:"startAnimation",value:function(){this.isAnimation||(this.isAnimation=!0,window.requestAnimationFrame(this._animation))}},{key:"stopAnimation",value:function(){this.isAnimation=!1}}]),d}(),Ec=function(d){function n(l){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l)),l.bufferData=[],l}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{color:[.1,.1,.9,1],blend:"normal",shape:"circle",size:5,unit:"px",borderWidth:0,borderColor:[1,1,1,.9],polygonOffset:[0,0]}}},{key:"initialize",value:function(a){this.gl=a;var f=this.getOptions(),h=[];f.enablePicked&&h.push("PICK"),f.shape&&f.shape==="circle"&&h.push("SHAPE_CIRCLE"),this.program=new es(this.gl,{vertexShader:`attribute vec3 aPos;attribute vec4 aColor;attribute float aSize;attribute float aBorderWidth;attribute vec4 aBorderColor;uniform mat4 uMatrix;uniform vec4 uSelectedColor;uniform bool uUnitPx;uniform float zoomUnits;uniform float devicePixelRatio;varying vec4 vColor;varying float vSize;varying float vBorderWidth;varying vec4 vBorderColor;void main(void){if(aColor.w>=0.0&&aColor.w<=1.0){vColor=aColor;}else{vColor=vec4(aColor.xyz,1.0);}float size=aSize*devicePixelRatio;float borderWidth=aBorderWidth*devicePixelRatio;gl_Position=uMatrix*vec4(aPos.xyz,1.0);gl_PointSize=uUnitPx ? size : size/zoomUnits;vSize=size;vBorderWidth=borderWidth;vBorderColor=aBorderColor;
#if defined(PICK)
if(mapvIsPicked()){vColor=uSelectedColor;}
#endif
}`,fragmentShader:`varying vec4 vColor;varying float vSize;varying float vBorderWidth;varying vec4 vBorderColor;void main(void){vec4 color=vColor;
#if defined(SHAPE_CIRCLE)
float d=distance(gl_PointCoord,vec2(0.5,0.5));float ratio=1.0-vBorderWidth/vSize*2.0;if(d>0.5){discard;}if(d>ratio*0.5){color=vBorderColor;}float blur=1.0;blur=1.0-smoothstep(0.49,0.5,d);color.a*=blur;
#else
float ratio=vBorderWidth/vSize;if(gl_PointCoord.x<ratio||gl_PointCoord.x>1.0-ratio||gl_PointCoord.y<ratio||gl_PointCoord.y>1.0-ratio){color=vBorderColor;}
#endif
gl_FragColor=color;}`,defines:h},this),this.buffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),f=[{stride:52,name:"aPos",buffer:this.buffer,size:3,type:"FLOAT",offset:0},{stride:52,name:"aColor",buffer:this.buffer,size:4,type:"FLOAT",offset:12},{stride:52,name:"aSize",buffer:this.buffer,size:1,type:"FLOAT",offset:28},{stride:52,name:"aBorderWidth",buffer:this.buffer,size:1,type:"FLOAT",offset:32},{stride:52,name:"aBorderColor",buffer:this.buffer,size:4,type:"FLOAT",offset:36}],f=f.concat(this.getCommonAttributes()),this.vertexArray=new gu({gl:a,program:this.program,attributes:f})}},{key:"destroy",value:function(){this.options&&this.options.enablePicked&&(this.pickBuffer=null),this.options=this.data=this.buffer=this.program=this.bufferData=this.vertexArray=null}},{key:"onChanged",value:function(a,f){if(this.gl){for(var h=[],y=a.color,m=a.size,C=a.borderWidth,P=a.borderColor,B=0;B<f.length;B++){var M=this.normizedPoint(f[B].geometry.coordinates),T=this.getProperty("color",y,f[B]);T=this.normizedColor(T);var L=this.getProperty("size",m,f[B]);L=Number(L);var z=this.getProperty("borderWidth",C,f[B]);z=Number(z);var H=this.getProperty("borderColor",P,f[B]);H=this.normizedColor(H),M=this.addMultipleCoords(M);for(var Z=0;Z<M.length;Z++){var J=M[Z];h.push(J[0],J[1],Number(J[2]||0)),h.push(T[0],T[1],T[2],T[3]),h.push(L),h.push(z,H[0],H[1],H[2],H[3])}}this.bufferData=h,this.buffer.updateData(new Float32Array(h)),a.enablePicked&&this.parsePickData(f)}}},{key:"parsePickData",value:function(a){var f=this.getOptions(),h=[];if(f.enablePicked)for(var y=0;y<a.length;y++){var m=this.indexToRgb(y);h.push(m[0]/255,m[1]/255,m[2]/255),f.repeat&&(h.push(m[0]/255,m[1]/255,m[2]/255),h.push(m[0]/255,m[1]/255,m[2]/255))}f.enablePicked&&this.pickBuffer.updateData(new Float32Array(h))}},{key:"render",value:function(a){var f=a.gl,h=a.matrix,y=a.isPickRender;if(!(0>=this.bufferData.length)){var m=this.getOptions(),C=this.program;C.use(f),this.vertexArray.bind(),a=this.getCommonUniforms(a),a=us(a,{uMatrix:h,uUnitPx:m.unit==="px",zoomUnits:this.map.getZoomUnits(),devicePixelRatio:window.devicePixelRatio}),C.setUniforms(a),h=m.blend,y?f.disable(f.BLEND):(f.enable(f.BLEND),f.blendEquation(f.FUNC_ADD),h&&h==="lighter"?f.blendFunc(f.SRC_ALPHA,f.ONE):f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA)),f.enable(f.POLYGON_OFFSET_FILL),f.polygonOffset(m.polygonOffset[0],m.polygonOffset[1]),m.depthTest===!1&&f.disable(f.DEPTH_TEST),f.drawArrays(f.POINTS,0,this.bufferData.length/13),f.disable(f.POLYGON_OFFSET_FILL),m.depthTest===!1&&f.enable(f.DEPTH_TEST)}}}]),n}(fe),Kh=function(d){function n(l,a){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l,a)),l.bufferDataArr=[],l.indexDataArr=[],l.vertexBuffer=[],l.indexBuffer=[],l.position=[],l.opacity=1,l.currentScale=1,l.autoUpdate=!0,l}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{color:[.1,.1,.9,1],size:5,segs:32,scale:2,unit:"m",step:.1}}},{key:"initialize",value:function(a){this.gl=a,this.program=new es(this.gl,{vertexShader:"uniform mat4 u_projectionMatrix;uniform mat4 u_modelViewMatrix;uniform mat4 u_modelMatrix;uniform float u_opacity;attribute vec4 aPos;attribute vec4 aColor;varying vec4 vColor;void main(){vColor=aColor;vColor.a=u_opacity;gl_Position=u_projectionMatrix*u_modelViewMatrix*u_modelMatrix*vec4(aPos.xyz,1.0);}",fragmentShader:"precision highp float;varying vec4 vColor;void main(){if(vColor.a==0.0){discard;}gl_FragColor=vColor;}"})}},{key:"destroy",value:function(){this.data=this.program=this.position=this.indexBuffer=this.vertexBuffer=this.indexDataArr=this.bufferDataArr=null}},{key:"onChanged",value:function(a,f){var h=this.gl;if(h&&(this.currentScale=this.opacity=1,(this.data=f)&&f.length)){var y=a.color,m=a.segs;a=a.size;for(var C=360/m,P=0;P<f.length;P++){var B=[],M=[],T=this.normizedPoint(f[P].geometry.coordinates),L=y;Object.prototype.toString.call(L)==="[object Function]"?L=L(f[P]):(L=f[P].color||y,"properties"in f[P]&&"color"in f[P].properties&&(L=f[P].properties.color)),L=this.normizedColor(L);var z=Object.prototype.toString.call(a)==="[object Function]"?a(f[P]):Number(a),H=T[0],Z=T[1];B.push(0,0,-.5),B.push(L[0],L[1],L[2],0);for(var J=1,V=0;J<=m;J++,V+=C)B.push(T[0]-H+Math.cos(Math.PI/180*V)*z,T[1]-Z+Math.sin(Math.PI/180*V)*z,-.5),B.push(L[0],L[1],L[2],this.opacity),J===m?M.push(0,0+J,1):M.push(0,0+J,0+J+1);L=h.createBuffer(),h.bindBuffer(h.ARRAY_BUFFER,L),h.bufferData(h.ARRAY_BUFFER,new Float32Array(B),h.STATIC_DRAW),this.vertexBuffer[P]=L,this.bufferDataArr[P]=B,h.bindBuffer(h.ARRAY_BUFFER,null),B=h.createBuffer(),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,B),h.bufferData(h.ELEMENT_ARRAY_BUFFER,new Uint16Array(M),h.STATIC_DRAW),this.indexBuffer[P]=B,this.indexDataArr[P]=M,h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,null),this.position[P]=[T[0],T[1]]}this.webglLayer&&this.webglLayer.render()}}},{key:"render",value:function(a){var f=a.gl,h=a.projectionMatrix,y=a.viewMatrix;for(a=this.program,f.useProgram(a.program),f.uniformMatrix4fv(a.uniforms.u_projectionMatrix,!1,h),f.uniformMatrix4fv(a.uniforms.u_modelViewMatrix,!1,y),h=this.opacity,this.options.opacity!==void 0&&(h=this.options.opacity),f.uniform1f(a.uniforms.u_opacity,h),f.enable(f.BLEND),f.blendFunc(f.SRC_ALPHA,f.DST_ALPHA),f.blendEquation(f.FUNC_ADD),f.enableVertexAttribArray(a.attributes.aPos),f.enableVertexAttribArray(a.attributes.aColor),h=0;h<this.bufferDataArr.length;h++)if(!(0>=this.bufferDataArr[h].length)){y=new Float32Array(this.bufferDataArr[h]).BYTES_PER_ELEMENT,f.bindBuffer(f.ARRAY_BUFFER,this.vertexBuffer[h]),f.vertexAttribPointer(a.attributes.aColor,4,f.FLOAT,!1,7*y,3*y),f.vertexAttribPointer(a.attributes.aPos,3,f.FLOAT,!1,7*y,0),y=this.position[h];var m=zr.create(),C=[this.currentScale,this.currentScale,this.currentScale];this.options.unit==="px"&&this.map&&(C=this.map.getZoomUnits(),C=[this.currentScale*C,this.currentScale*C,this.currentScale]),zr.identity(m),zr.translate(m,m,[y[0],y[1],0]),zr.scale(m,m,C),f.uniformMatrix4fv(a.uniforms.u_modelMatrix,!1,m),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,this.indexBuffer[h]),f.drawElements(f.TRIANGLES,this.indexDataArr[h].length,f.UNSIGNED_SHORT,0),f.bindBuffer(f.ARRAY_BUFFER,null),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,null)}f.disable(f.BLEND),h=this.getOptions(),a=h.scale,h=h.step,this.opacity-=h/10,this.currentScale+=a*h,0>this.opacity&&(this.currentScale=this.opacity=1),f.useProgram(null)}}]),n}(fe),Hc=function(d){function n(l){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l)),l.bufferData=[],l.date=new Date,l.autoUpdate=!0,l}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{color:[.1,.1,.9,1],blend:"normal",size:20,unit:"px",duration:2}}},{key:"initialize",value:function(a){this.gl=a;var f=this.getOptions();this.program=new es(this.gl,{vertexShader:`attribute vec3 aPos;attribute vec4 aColor;attribute float aSize;uniform mat4 uMatrix;uniform vec4 uSelectedColor;uniform float uTime;uniform float duration;uniform float zoomUnits;varying vec4 vColor;void main(void){if(aColor.w>=0.0&&aColor.w<=1.0){vColor=aColor;}else{vColor=vec4(aColor.xyz,1.0);}float percent=mod(uTime,duration)/duration;vColor.a=1.-percent;gl_Position=uMatrix*vec4(aPos.xyz,1.0);gl_PointSize=aSize/zoomUnits*percent;
#if defined(PICK)
if(mapvIsPicked()){vColor=uSelectedColor;}
#endif
}`,fragmentShader:"varying vec4 vColor;void main(void){vec4 color=vColor;float d=distance(gl_PointCoord,vec2(0.5,0.5));if(d>0.5){discard;}float blur=1.0;blur=1.0-smoothstep(0.49,0.5,d);color.a*=blur;gl_FragColor=color;}",defines:f.enablePicked?["PICK"]:[]},this),this.buffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),f=[{stride:32,name:"aPos",buffer:this.buffer,size:3,type:"FLOAT",offset:0},{stride:32,name:"aColor",buffer:this.buffer,size:4,type:"FLOAT",offset:12},{stride:32,name:"aSize",buffer:this.buffer,size:1,type:"FLOAT",offset:28}],f=f.concat(this.getCommonAttributes()),this.vertexArray=new gu({gl:a,program:this.program,attributes:f})}},{key:"destroy",value:function(){this.options&&this.options.enablePicked&&(this.pickBuffer=null),this.options=this.data=this.buffer=this.program=this.bufferData=this.vertexArray=null}},{key:"onChanged",value:function(a,f){if(this.gl){for(var h=[],y=a.color,m=a.size,C=0;C<f.length;C++){var P=f[C].geometry.coordinates,B=y;Object.prototype.toString.call(B)==="[object Function]"?B=B(f[C]):(B=f[C].color||y,"properties"in f[C]&&"color"in f[C].properties&&(B=f[C].properties.color)),B=this.normizedColor(B),P=this.normizedPoint(P);var M=f[C].size||m;"properties"in f[C]&&"size"in f[C].properties&&(M=f[C].properties.size),M=Object.prototype.toString.call(M)==="[object Function]"?M(f[C]):Number(M),h.push(P[0],P[1],Number(P[2]||0)),h.push(B[0],B[1],B[2],B[3]),h.push(M*window.devicePixelRatio)}this.bufferData=h,this.buffer.updateData(new Float32Array(h)),a.enablePicked&&this.parsePickData(f)}}},{key:"parsePickData",value:function(a){var f=this.getOptions(),h=[];if(f.enablePicked)for(var y=0;y<a.length;y++){var m=this.indexToRgb(y);h.push(m[0]/255,m[1]/255,m[2]/255)}f.enablePicked&&this.pickBuffer.updateData(new Float32Array(h))}},{key:"render",value:function(a){var f=a.gl,h=a.matrix,y=a.isPickRender;if(!(0>=this.bufferData.length)){var m=this.getOptions(),C=this.program;C.use(f),this.vertexArray.bind(),a=this.getCommonUniforms(a);var P=1;m.unit==="m"&&this.map&&(P=this.map.getZoomUnits()),a=us(a,{zoomUnits:P,uTime:(new Date-this.date)/1e3,duration:m.duration,uMatrix:h}),C.setUniforms(a),h=this.options.blend,y?f.disable(f.BLEND):(f.enable(f.BLEND),f.blendEquation(f.FUNC_ADD),h&&h==="lighter"?f.blendFunc(f.SRC_ALPHA,f.ONE):f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA)),f.drawArrays(f.POINTS,0,this.bufferData.length/8)}}}]),n}(fe),Zh=function(d){function n(l,a){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l,a)),l.bufferData=[],l.startTime=Number(l.options.startTime)||0,l.endTime=Number(l.options.endTime),l.time=l.startTime,l.segs=Number(l.options.segs)||10,l.autoUpdate=!0,l}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{color:[.9,.1,.1,1],trailLength:3,height:100,step:.1,segs:10}}},{key:"setTime",value:function(a){this.time=a}},{key:"initialize",value:function(a){this.gl=a,this.program=new es(this.gl,{vertexShader:"precision mediump float;attribute vec4 aPos;uniform mat4 u_matrix;uniform float currentTime;uniform float trailLength;varying float vTime;void main(){gl_Position=u_matrix*vec4(aPos.xyz,1.0);vTime=1.0-((currentTime-aPos.w)/trailLength);}",fragmentShader:"precision mediump float;uniform vec3 uFragColor;varying float vTime;void main(){if(vTime>1.0||vTime<0.0){discard;}gl_FragColor=vec4(uFragColor,1.0*vTime);}"}),this.buffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.buffer)}},{key:"destroy",value:function(){this.data=this.program=this.buffer=this.bufferData=null}},{key:"onChanged",value:function(a,f){var h=this.gl;if(h){this.buffer=h.createBuffer(),h.bindBuffer(h.ARRAY_BUFFER,this.buffer);for(var y=[],m=a.height,C=0;C<f.length;C++)for(var P=f[C].geometry.coordinates,B=Object.prototype.toString.call(m)==="[object Function]"?m(f[C]):Number(m),M=0,T=0;T<this.segs;T++){var L=this.normizedPoint(P);y.push(L[0],L[1],M),P[2]===void 0?y.push(T):y.push(Number(P[2])),M+=B/this.segs,y.push(L[0],L[1],M),P[2]===void 0?y.push(T+1):y.push(Number(P[2]))}a.endTime===void 0&&(this.endTime=this.segs),this.bufferData=y,h.bufferData(h.ARRAY_BUFFER,new Float32Array(y),h.STATIC_DRAW),this.webglLayer&&this.webglLayer.render()}}},{key:"render",value:function(a){var f=a.gl,h=a.matrix;a=this.program,f.useProgram(a.program),f.uniformMatrix4fv(a.uniforms.u_matrix,!1,h),f.bindBuffer(f.ARRAY_BUFFER,this.buffer),f.enableVertexAttribArray(a.attributes.aPos),f.vertexAttribPointer(a.attributes.aPos,4,f.FLOAT,!1,0,0),h=this.normizedColor(this.options.color),f.uniform3f(a.uniforms.uFragColor,h[0],h[1],h[2]),f.uniform1f(a.uniforms.currentTime,this.time),f.uniform1f(a.uniforms.trailLength,this.options.trailLength),f.enable(f.BLEND),f.polygonOffset(2,1),f.blendFunc(f.SRC_ALPHA,f.ONE),f.blendEquation(f.FUNC_ADD),f.drawArrays(f.LINES,0,this.bufferData.length/4),f.bindBuffer(f.ARRAY_BUFFER,null),f.disable(f.BLEND),this.time+=Number(this.options.step),this.time>1.5*this.endTime&&(this.time=this.startTime),f.useProgram(null)}}]),n}(fe),lf=function(n,l,a,f){if(!(n instanceof l)||f!==void 0&&f in n)throw TypeError(a+": incorrect invocation!");return n},gh=ve(function(d){var n={},l={};d=d.exports=function(a,f,h,y,m){m=m?function(){return a}:fd(a),h=ql(h,y,f?2:1),y=0;var C,P;if(typeof m!="function")throw TypeError(a+" is not iterable!");if(m===void 0||Ti.Array!==m&&Pf[Ns]!==m){for(y=m.call(a);!(P=y.next()).done;)if(m=io(y,h,P.value,f),m===n||m===l)return m}else for(C=Xl(a.length);C>y;y++)if(m=f?h(ul(P=a[y])[0],P[1]):h(a[y]),m===n||m===l)return m},d.BREAK=n,d.RETURN=l}),pp=ha("species"),op=function(n,l){n=ul(n).constructor;var a;return n===void 0||(a=ul(n)[pp])==null?l:If(a)},_p=function(n,l,a){var f=a===void 0;switch(l.length){case 0:return f?n():n.call(a);case 1:return f?n(l[0]):n.call(a,l[0]);case 2:return f?n(l[0],l[1]):n.call(a,l[0],l[1]);case 3:return f?n(l[0],l[1],l[2]):n.call(a,l[0],l[1],l[2]);case 4:return f?n(l[0],l[1],l[2],l[3]):n.call(a,l[0],l[1],l[2],l[3])}return n.apply(a,l)},zd=Ko.process,yd=Ko.setImmediate,Jh=Ko.clearImmediate,xd=Ko.MessageChannel,rs=Ko.Dispatch,vs=0,Wl={},Cd=function(){var n=+this;if(Wl.hasOwnProperty(n)){var l=Wl[n];delete Wl[n],l()}},hc=function(n){Cd.call(n.data)};if(!yd||!Jh)if(yd=function(n){for(var l=[],a=1;arguments.length>a;)l.push(arguments[a++]);return Wl[++vs]=function(){_p(typeof n=="function"?n:Function(n),l)},Dh(vs),vs},Jh=function(n){delete Wl[n]},zl(zd)=="process")var Dh=function(n){zd.nextTick(ql(Cd,n,1))};else if(rs&&rs.now)Dh=function(n){rs.now(ql(Cd,n,1))};else if(xd){var Sm=new xd,Mm=Sm.port2;Sm.port1.onmessage=hc,Dh=ql(Mm.postMessage,Mm,1)}else Ko.addEventListener&&typeof postMessage=="function"&&!Ko.importScripts?(Dh=function(n){Ko.postMessage(n+"","*")},Ko.addEventListener("message",hc,!1)):Dh="onreadystatechange"in(wp?cl.createElement("script"):{})?function(d){ca.appendChild(wp?cl.createElement("script"):{}).onreadystatechange=function(){ca.removeChild(this),Cd.call(d)}}:function(d){setTimeout(ql(Cd,d,1),0)};var Bv=yd,kp=Ko.MutationObserver||Ko.WebKitMutationObserver,Ip=Ko.process,mp=Ko.Promise,jv=zl(Ip)=="process",Em={f:function(n){return new zo(n)}},Tm=function(n){try{return{e:!1,v:n()}}catch(l){return{e:!0,v:l}}},pv=Ko.navigator,zv=pv&&pv.userAgent||"",Wm=function(n,l){if(ul(n),Ho(l)&&l.constructor===n)return l;n=Em.f(n);var a=n.resolve;return a(l),n.promise},mv=function(n,l,a){for(var f in l)a&&n[f]?n[f]=l[f]:qc(n,f,l[f]);return n},Pp=ha("species"),vv=function(n){n=typeof Ha[n]=="function"?Ha[n]:Ko[n],ls&&n&&!n[Pp]&&vf.f(n,Pp,{configurable:!0,get:function(){return this}})},gv=function(){var d,n,l=function(){var C;for(jv&&(C=Ip.domain)&&C.exit();d;){var P=d.fn;d=d.next;try{P()}catch(B){throw d?a():n=void 0,B}}n=void 0,C&&C.enter()};if(jv)var a=function(){Ip.nextTick(l)};else if(!kp||Ko.navigator&&Ko.navigator.standalone)if(mp&&mp.resolve){var f=mp.resolve(void 0);a=function(){f.then(l)}}else a=function(){Bv.call(Ko,l)};else{var h=!0,y=document.createTextNode("");new kp(l).observe(y,{characterData:!0}),a=function(){y.data=h=!h}}return function(m){m={fn:m,next:void 0},n&&(n.next=m),d||(d=m,a()),n=m}}(),Uv=Ko.TypeError,al=Ko.process,Il=al&&al.versions,Tc=Il&&Il.v8||"",_c=Ko.Promise,am=tp(al)=="process",Qh=function(){},Gm,sm=Gm=Em.f,pl=!!function(){try{var d=_c.resolve(1),n=(d.constructor={})[ha("species")]=function(l){l(Qh,Qh)};return(am||typeof PromiseRejectionEvent=="function")&&d.then(Qh)instanceof n&&Tc.indexOf("6.6")!==0&&zv.indexOf("Chrome/66")===-1}catch(l){}}(),kv=function(n){var l;return Ho(n)&&typeof(l=n.then)=="function"?l:!1},kg=function(n,l){if(!n._n){n._n=!0;var a=n._c;gv(function(){for(var f=n._v,h=n._s==1,y=0;a.length>y;){var m=void 0,C=void 0,P=void 0,B=a[y++],M=h?B.ok:B.fail,T=B.resolve,L=B.reject,z=B.domain;try{M?(h||(n._h==2&&Hg(n),n._h=1),M===!0?P=f:(z&&z.enter(),P=M(f),z&&(z.exit(),m=!0)),P===B.promise?L(Uv("Promise-chain cycle")):(C=kv(P))?C.call(P,T,L):T(P)):L(f)}catch(H){z&&!m&&z.exit(),L(H)}}n._c=[],n._n=!1,l&&!n._h&&Vc(n)})}},Vc=function(n){Bv.call(Ko,function(){var l=n._v,a=n._h!==1&&(n._a||n._c).length===0,f,h;if(a){var y=Tm(function(){am?al.emit("unhandledRejection",l,n):(f=Ko.onunhandledrejection)?f({promise:n,reason:l}):(h=Ko.console)&&h.error&&h.error("Unhandled promise rejection",l)});n._h=am||n._h!==1&&(n._a||n._c).length===0?2:1}if(n._a=void 0,a&&y.e)throw y.v})},Hg=function(n){Bv.call(Ko,function(){var l;am?al.emit("rejectionHandled",n):(l=Ko.onrejectionhandled)&&l({promise:n,reason:n._v})})},yv=function(n){var l=this;l._d||(l._d=!0,l=l._w||l,l._v=n,l._s=2,l._a||(l._a=l._c.slice()),kg(l,!0))},Vg=function d(n){var l=this,a;if(!l._d){l._d=!0,l=l._w||l;try{if(l===n)throw Uv("Promise can't be resolved itself");(a=kv(n))?gv(function(){var f={_w:l,_d:!1};try{a.call(n,ql(d,f,1),ql(yv,f,1))}catch(h){yv.call(f,h)}}):(l._v=n,l._s=1,kg(l,!1))}catch(f){yv.call({_w:l,_d:!1},f)}}};if(!pl){_c=function(n){lf(this,_c,"Promise","_h"),If(n),Ud.call(this);try{n(ql(Vg,this,1),ql(yv,this,1))}catch(l){yv.call(this,l)}};var Ud=function(n){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1};Ud.prototype=mv(_c.prototype,{then:function(n,l){var a=sm(op(this,_c));return a.ok=typeof n=="function"?n:!0,a.fail=typeof l=="function"&&l,a.domain=am?al.domain:void 0,this._c.push(a),this._a&&this._a.push(a),this._s&&kg(this,!1),a.promise},catch:function(n){return this.then(void 0,n)}});var dy=function(){var n=new Ud;this.promise=n,this.resolve=ql(Vg,n,1),this.reject=ql(yv,n,1)};Em.f=sm=function(n){return n===_c||n===g0?new dy(n):Gm(n)}}Ni(Ni.G+Ni.W+Ni.F*!pl,{Promise:_c}),fo(_c,"Promise"),vv("Promise");var g0=Ha.Promise;Ni(Ni.S+Ni.F*!pl,"Promise",{reject:function(n){var l=sm(this),a=l.reject;return a(n),l.promise}}),Ni(Ni.S+1*Ni.F,"Promise",{resolve:function(n){return Wm(this===g0?_c:this,n)}}),Ni(Ni.S+Ni.F*!(pl&&Oh(function(d){_c.all(d).catch(Qh)})),"Promise",{all:function(n){var l=this,a=sm(l),f=a.resolve,h=a.reject,y=Tm(function(){var m=[],C=0,P=1;gh(n,!1,function(B){var M=C++,T=!1;m.push(void 0),P++,l.resolve(B).then(function(L){T||(T=!0,m[M]=L,--P||f(m))},h)}),--P||f(m)});return y.e&&h(y.v),a.promise},race:function(n){var l=this,a=sm(l),f=a.reject,h=Tm(function(){gh(n,!1,function(y){l.resolve(y).then(a.resolve,f)})});return h.e&&f(h.v),a.promise}}),Ni(Ni.P+Ni.R,"Promise",{finally:function(n){var l=op(this,Ha.Promise||Ko.Promise),a=typeof n=="function";return this.then(a?function(f){return Wm(l,n()).then(function(){return f})}:n,a?function(f){return Wm(l,n()).then(function(){throw f})}:n)}}),Ni(Ni.S,"Promise",{try:function(n){var l=Em.f(this);return n=Tm(n),(n.e?l.reject:l.resolve)(n.v),l.promise}});var xv=Ha.Promise,Ge=ve(function(d){d.exports={default:xv,__esModule:!0}}),Hv=Ae(Ge),_m=function(n,l){if(!Ho(n)||n._t!==l)throw TypeError("Incompatible receiver, "+l+" required!");return n},Wg=vf.f,Ia=nc.fastKey,Vv=ls?"_s":"size",Wv=function(n,l){var a=Ia(l);if(a!=="F")return n._i[a];for(n=n._f;n;n=n.n)if(n.k==l)return n},Xe={getConstructor:function(n,l,a,f){var h=n(function(y,m){lf(y,h,l,"_i"),y._t=l,y._i=fa(null),y._f=void 0,y._l=void 0,y[Vv]=0,m!=null&&gh(m,a,y[f],y)});return mv(h.prototype,{clear:function(){for(var m=_m(this,l),C=m._i,P=m._f;P;P=P.n)P.r=!0,P.p&&(P.p=P.p.n=void 0),delete C[P.i];m._f=m._l=void 0,m[Vv]=0},delete:function(m){var C=_m(this,l);if(m=Wv(C,m)){var P=m.n,B=m.p;delete C._i[m.i],m.r=!0,B&&(B.n=P),P&&(P.p=B),C._f==m&&(C._f=P),C._l==m&&(C._l=B),C[Vv]--}return!!m},forEach:function(m){_m(this,l);for(var C=ql(m,1<arguments.length?arguments[1]:void 0,3),P;P=P?P.n:this._f;)for(C(P.v,P.k,this);P&&P.r;)P=P.p},has:function(m){return!!Wv(_m(this,l),m)}}),ls&&Wg(h.prototype,"size",{get:function(){return _m(this,l)[Vv]}}),h},def:function(n,l,a){var f=Wv(n,l),h;return f?f.v=a:(n._l=f={i:h=Ia(l,!0),k:l,v:a,p:l=n._l,n:void 0,r:!1},n._f||(n._f=f),l&&(l.n=f),n[Vv]++,h!=="F"&&(n._i[h]=f)),n},getEntry:Wv,setStrong:function(n,l,a){oa(n,l,function(f,h){this._t=_m(f,l),this._k=h,this._l=void 0},function(){for(var f=this._k,h=this._l;h&&h.r;)h=h.p;return this._t&&(this._l=h=h?h.n:this._t._f)?f=="keys"?wa(0,h.k):f=="values"?wa(0,h.v):wa(0,[h.k,h.v]):(this._t=void 0,wa(1))},a?"entries":"values",!a,!0),vv(l)}},y0=ha("species"),gg=function(n,l){if(El(n)){var a=n.constructor;typeof a!="function"||a!==Array&&!El(a.prototype)||(a=void 0),Ho(a)&&(a=a[y0],a===null&&(a=void 0))}return new(a===void 0?Array:a)(l)},Im=vf.f,x0=function(d,n){var l=d==1,a=d==2,f=d==3,h=d==4,y=d==6,m=d==5||y,C=n||gg;return function(P,B,M){var T=Object(Ja(P)),L=nd(T);B=ql(B,M,3),M=Xl(L.length);var z=0;P=l?C(P,M):a?C(P,0):void 0;for(var H,Z;M>z;z++)if((m||z in L)&&(H=L[z],Z=B(H,z,T),d)){if(l)P[z]=Z;else if(Z)switch(d){case 3:return!0;case 5:return H;case 6:return z;case 2:P.push(H)}else if(h)return!1}return y?-1:f||h?h:P}}(0);(function(d,n,l,a,f,h){var y=Ko[d],m=y,C=f?"set":"add",P=m&&m.prototype,B={};return ls&&typeof m=="function"&&(h||P.forEach&&!oh(function(){new m().entries().next()}))?(m=n(function(M,T){lf(M,m,d,"_c"),M._c=new y,T!=null&&gh(T,f,M[C],M)}),x0("add clear delete forEach get has set keys values entries toJSON".split(" "),function(M){var T=M=="add"||M=="set";M in P&&(!h||M!="clear")&&qc(m.prototype,M,function(L,z){return lf(this,m,M),!T&&h&&!Ho(L)?M=="get"?void 0:!1:(L=this._c[M](L===0?0:L,z),T?this:L)})}),h||Im(m.prototype,"size",{get:function(){return this._c.size}})):(m=a.getConstructor(n,d,f,C),mv(m.prototype,l),nc.NEED=!0),fo(m,d),B[d]=m,Ni(Ni.G+Ni.W+Ni.F,B),h||a.setStrong(m,d,f),m})("Map",function(d){return function(){return d(this,0<arguments.length?arguments[0]:void 0)}},{get:function(n){return(n=Xe.getEntry(_m(this,"Map"),n))&&n.v},set:function(n,l){return Xe.def(_m(this,"Map"),n===0?0:n,l)}},Xe,!0),Ni(Ni.P+Ni.R,"Map",{toJSON:function(d){return function(){if(tp(this)!=d)throw TypeError(d+"#toJSON isn't generic");var n=[];return gh(this,!1,n.push,n,void 0),n}}("Map")}),function(d){Ni(Ni.S,d,{of:function(){for(var l=arguments.length,a=Array(l);l--;)a[l]=arguments[l];return new this(a)}})}("Map"),function(d){Ni(Ni.S,d,{from:function(l,a,f){var h;if(If(this),(h=a!==void 0)&&If(a),l==null)return new this;var y=[];if(h){var m=0,C=ql(a,f,2);gh(l,!1,function(P){y.push(C(P,m++))})}else gh(l,!1,y.push,y);return new this(y)}})}("Map");var Gv=Ha.Map,Gg=ve(function(d){d.exports={default:Gv,__esModule:!0}}),lm=Ae(Gg),yg=function(d){function n(l,a){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l,a)),l.index=[],a=l.canvas=document.createElement("canvas"),l.ctx=a.getContext("2d"),l.iconHash=new lm,l}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{flat:!1,unit:"px",scale:1,angle:0,offset:[0,0],padding:[0,0]}}},{key:"initialize",value:function(a){this.gl=a;var f=this.getOptions();this.texture=null,this.program=new es(this.gl,{vertexShader:"precision highp float;attribute vec3 a_pos;attribute float a_corner;attribute float a_rotation;attribute vec2 a_size;attribute vec2 a_offset;attribute vec2 a_texture_coord;uniform mat4 u_matrix;uniform vec2 u_size;uniform float devicePixelRatio;uniform float u_zoom_units;uniform float u_zIndex;uniform float u_scale;uniform bool u_unit_px;uniform bool u_flat;varying vec2 v_texture_coord;/***\u70B9A(x,y)\uFF0C\u7ED5\u539F\u70B9\u987A\u65F6\u9488\u65CB\u8F6C\u89D2\u5EA6a\u65B0\u5750\u6807\u7684\u8BA1\u7B97\u516C\u5F0F*x1=x*cos(a)+y*sin(a)*y1=y*cos(a)-x*sin(a)*/vec3 transformCoord(vec3 coord,vec2 size,float corner){float x=coord.x;float y=coord.y;if(corner==1.0){x+=-size.x*cos(a_rotation)+size.y*sin(a_rotation);y+=size.y*cos(a_rotation)+size.x*sin(a_rotation);}else if(corner==2.0){x+=size.x*cos(a_rotation)+size.y*sin(a_rotation);y+=size.y*cos(a_rotation)-size.x*sin(a_rotation);}else if(corner==3.0){x+=size.x*cos(a_rotation)-size.y*sin(a_rotation);y+=-size.y*cos(a_rotation)-size.x*sin(a_rotation);}else{x+=-size.x*cos(a_rotation)-size.y*sin(a_rotation);y+=-size.y*cos(a_rotation)+size.x*sin(a_rotation);}return vec3(x,y,coord.z);}void main(){v_texture_coord=a_texture_coord;if(u_flat){vec2 offset=a_offset;vec2 halfSize=a_size/2.0*u_scale;if(u_unit_px){halfSize*=u_zoom_units;offset*=u_zoom_units;}vec3 current=transformCoord(a_pos,halfSize,a_corner);current.z+=u_zIndex;gl_Position=u_matrix*vec4(current.x+offset[0],current.y-offset[1],current.z,1.0);}else{vec4 position=u_matrix*vec4(a_pos,1.0);vec3 screen=position.xyz/position.w;vec2 halfSize=a_size/MAPV_resolution*devicePixelRatio*u_scale;vec2 offset=a_offset*2./MAPV_resolution*devicePixelRatio;if(!u_unit_px){halfSize/=u_zoom_units;offset/=u_zoom_units;}vec3 current=transformCoord(screen,halfSize,a_corner);current.xy=current.xy-offset;current.z+=u_zIndex;gl_Position=vec4(current,1.0);}}",fragmentShader:`precision highp float;varying vec2 v_texture_coord;uniform sampler2D u_icon;uniform vec4 uSelectedColor;void main(){vec4 textureColor=texture2D(u_icon,vec2(v_texture_coord.x,1.0-v_texture_coord.y));if(textureColor.a==0.0&&uIsPickRender==false){discard;}gl_FragColor=textureColor;
#if defined(PICK)
if(mapvIsPicked()){gl_FragColor=vec4(uSelectedColor.rgb,gl_FragColor.a);}
#endif
}`,defines:f.enablePicked?["PICK"]:[]},this),this.vertexBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.uvBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Jo({gl:a,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),f=[{name:"a_pos",buffer:this.vertexBuffer,size:3,stride:36,type:"FLOAT",offset:0},{name:"a_corner",buffer:this.vertexBuffer,size:1,stride:36,type:"FLOAT",offset:12},{name:"a_size",buffer:this.vertexBuffer,size:2,stride:36,type:"FLOAT",offset:16},{name:"a_offset",buffer:this.vertexBuffer,size:2,stride:36,type:"FLOAT",offset:24},{name:"a_rotation",buffer:this.vertexBuffer,size:1,stride:36,type:"FLOAT",offset:32},{name:"a_texture_coord",buffer:this.uvBuffer,size:2,stride:8,type:"FLOAT",offset:0}],f=f.concat(this.getCommonAttributes()),this.vertexArray=new gu({gl:a,program:this.program,attributes:f})}},{key:"destroy",value:function(){this.options&&this.options.enablePicked&&(this.pickBuffer=null),this.canvas=this.iconHash=this.cachedData=this.options=this.data=this.indexBuffer=this.uvBuffer=this.vertexBuffer=this.program=this.vertexArray=null}},{key:"onChanged",value:function(a,f,h){this.gl&&this.processCache(a,f,h)}},{key:"processCache",value:function(a,f,h){var y=this;h=h||{},this.cachedData=[];for(var m=a.icon,C=a.width,P=a.height,B=a.offset,M=a.angle,T=0;T<f.length;T++){var L=this.normizedPoint(f[T].geometry.coordinates),z=this.getProperty("icon",m,f[T]),H=this.getProperty("width",C,f[T]),Z=this.getProperty("height",P,f[T]),J=this.getProperty("offset",B,f[T]),V=this.getProperty("angle",M,f[T]);L&&z&&(this.cachedData.push({point:L,icon:z,width:H,height:Z,offset:J,angle:V}),this.iconHash.get(z)||this.iconHash.set(z,z))}f=kh(this.iconHash.entries()).filter(function(ne){return typeof ne[1]=="string"}).map(function(ne){var Ce=Xu(ne,2)[0];return new Hv(function(_e,Fe){y.url2canvas(Ce,function(Ue){y.iconHash.set(Ce,Ue),_e()})})}),Hv.all(f).then(function(ne){y.buildSprite(a),h.autoRender!==!1&&y.webglLayer&&y.webglLayer.render()})}},{key:"buildSprite",value:function(a){var f=a.padding,h=this.canvas,y=this.ctx,m=[],C=new lm,P=!0,B=!1,M=void 0;try{for(var T=tf(this.iconHash),L;!(P=(L=T.next()).done);P=!0){var z=Xu(L.value,2),H=z[1];if(typeof H!="string"){var Z=H.width,J=H.height;m.push({w:Z+f[0],h:J+f[0],width:Z,height:J,key:z[0],icon:H})}}}catch(V){B=!0,M=V}finally{try{!P&&T.return&&T.return()}finally{if(B)throw M}}for(B=go(m),P=0;P<m.length;P++)M=m[P],C.get(M.key)||C.set(M.key,M);for(P=Xr(B.w),B=Xr(B.h),h.width=P||1,h.height=B||1,y.save(),h=0;h<m.length;h++)M=m[h],y.drawImage(M.icon,M.x+f[0],M.y+f[1],M.width,M.height);y.restore(),this.loadTexture(),this.buildVertex(a,C,P,B)}},{key:"buildVertex",value:function(a,f,h,y){a=a.enablePicked;for(var m=[],C=[],P=[],B=[],M=0;M<this.cachedData.length;M++){var T=this.cachedData[M],L=T.point,z=T.width,H=T.height,Z=T.offset,J=T.angle;if(T=f.get(T.icon)){z=z||T.icon.width,H=H||T.icon.height;var V=Xu(L,3);L=V[0];var ne=V[1];V=V[2];for(var Ce=0;4>Ce;Ce++)m.push(L,ne,V),m.push(Ce),m.push(z,H),m.push.apply(m,ga(Z)),m.push(J*Math.PI/180);z=T.x/h,H=(T.x+T.w)/h,Z=(T.y+T.h)/y,T=T.y/y,C.push(z,Z,z,T,H,T,H,Z),T=4*M,P.push(T,T+2,T+1,T,T+3,T+2),a&&(T=this.indexToRgb(M),B.push(T[0]/255,T[1]/255,T[2]/255),B.push(T[0]/255,T[1]/255,T[2]/255),B.push(T[0]/255,T[1]/255,T[2]/255),B.push(T[0]/255,T[1]/255,T[2]/255))}}this.index=P,this.vertexBuffer.updateData(new Float32Array(m)),this.uvBuffer.updateData(new Float32Array(C)),this.indexBuffer.updateData(new Uint32Array(P)),a&&this.pickBuffer.updateData(new Float32Array(B))}},{key:"render",value:function(a){if(this.cachedData&&this.cachedData.length&&this.iconHash&&this.texture){var f=a.gl,h=a.matrix,y=this.getOptions(),m=this.program;m.use(f),f.enable(f.BLEND),f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),m.setUniforms(us(this.getCommonUniforms(a),{u_icon:this.texture,u_matrix:h,u_flat:y.flat,u_unit_px:y.unit==="px",u_zoom_units:this.map.getZoomUnits(),u_scale:y.scale,u_zIndex:y.zIndex,devicePixelRatio:window.devicePixelRatio})),0<this.index.length&&(this.indexBuffer.bind(),this.vertexArray.bind(),f.drawElements(f.TRIANGLES,this.index.length,f.UNSIGNED_INT,0)),f.useProgram(null)}}},{key:"url2canvas",value:function(a,f){if((typeof a=="undefined"?"undefined":ac(a))==="object")f(a);else{var h=new Image;h.crossOrigin="anonymous",h.onload=function(){var y=h.width,m=h.height,C=document.createElement("canvas");C.width=y,C.height=m,C.getContext("2d").drawImage(h,0,0,y,m),f(C)},h.onerror=function(){var y=document.createElement("canvas");y.width=20,y.height=40;var m=y.getContext("2d");m.fillStyle="red",m.beginPath(),m.lineTo(0,0),m.lineTo(20,0),m.lineTo(10,40),m.closePath(),m.fill(),f(y)},h.src=a}}},{key:"loadTexture",value:function(){var a=this;this.canvas?Jt(this.gl,this.canvas,function(f){a.texture=f}):this.texture=null}}]),n}(fe),C0=function(d){function n(l){di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l)),l.pointLayer=new Ec(l.options),l.options.textOptions=us({depthTest:!1},l.options.textOptions),l.textLayer=new Cu(l.options.textOptions);var a=us({},l.options,l.options.iconOptions);return l.iconLayer=new yg(a),l.children=[l.pointLayer,l.textLayer,l.iconLayer],l}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{minSize:25,maxSize:40,clusterRadius:200,minPoints:2,extent:400,showText:!0,maxZoom:19,minZoom:4,gradient:{0:"rgb(50, 50, 256)","0.1":"rgb(50, 250, 56)","0.5":"rgb(250, 250, 56)",1:"rgb(250, 50, 56)"},textOptions:{fontSize:12,color:"white"},iconOptions:{}}}},{key:"onOptionsChanged",value:function(a){this.textLayer.setOptions(a.textOptions)}},{key:"setOptions",value:function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},f=this.options.textOptions;a.textOptions&&us(f,a.textOptions);var h=a.minZoom,y=a.maxZoom,m=a.clusterRadius;h=y&&y!==this.options.maxZoom||h&&h!==this.options.minZoom||m&&m!==this.options.clusterRadius,us(this.options,a,{textOptions:f}),h?this.onChanged(this.options,this.data):this.refreshCluster(),this.onOptionsChanged(this.getOptions())}},{key:"onChanged",value:function(a,f){var h=this;f&&f.length?(f.forEach(function(y){var m=Xu(y.geometry.coordinates,2),C=m[0];m=m[1],-180<=C&&180>=C&&-90<=m&&90>=m||(C=h.map.mercatorToLnglat(C,m),y.geometry.coordinates[0]=C[0],y.geometry.coordinates[1]=C[1])}),this.supercluster=new _l({maxZoom:a.maxZoom,minZoom:a.minZoom,radius:a.clusterRadius,minPoints:a.minPoints,extent:a.extent}),this.supercluster.load(f),this.supercluster.trees.forEach(function(y){var m=0,C=Infinity;y.points.forEach(function(P){m=Math.max(P.numPoints||0,m),C=Math.min(P.numPoints||Infinity,C)}),y.max=m,y.min=C}),this.refreshCluster()):(this.supercluster=null,this.pointLayer.setData([]),this.iconLayer.setData([]),this.textLayer.setData([]))}},{key:"refreshCluster",value:function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.options;if(this.supercluster){var f=this.getClusterData(a);if(typeof a.beforeRender=="function"&&a.beforeRender(f)===!1)this.pointLayer.setData([]),this.iconLayer.setData([]),this.textLayer.setData([]);else if(f&&f.length){var h=[],y=[];f.forEach(function(m){m.properties.text?h.push(m):y.push(m)}),this.pointLayer.setData(h),this.iconLayer.setData(y),this.textLayer.setData(a.showText?f:[]),a.enablePicked&&a.autoSelect&&this.pick(-1,-1)}}}},{key:"getClusterData",value:function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.options,f=this.map.getBounds(),h=this.ne=f.getNorthEast();f=this.sw=f.getSouthWest();var y=h,m=y.lng;return y=y.lat,-180<=m&&180>=m&&-90<=y&&90>=y?f=[f.lng,f.lat,h.lng,h.lat]:(h=this.map.mercatorToLnglat(this.ne.lng,this.ne.lat),f=this.map.mercatorToLnglat(this.sw.lng,this.sw.lat),f=f.concat(h)),h=Math.floor(this.map.getZoom()),f=this.supercluster.getClusters(f,h),this.zoom!==h&&0<f.length&&(this.zoom=h,y=this.supercluster.trees,m=y[h]&&y[h].max||this.max,h=y[h]&&y[h].min||this.min,m!==h&&(this.max=m,this.min=h)),this.processData(f,a)}},{key:"processData",value:function(a,f){var h=f.defaultColor,y=f.defaultSize,m=f.gradient,C=f.minSize,P=f.textOptions,B=new et({max:this.max,min:~~this.min||1,minSize:C||8,maxSize:f.maxSize||30,gradient:m});h=h||m[0]||"black",y=y||.5*C||5;var M=P&&P.format;return M=typeof M=="function"?M:null,a.map(function(T){var L=y,z=h,H="";return T.properties&&T.properties.point_count&&(H=T.properties.point_count,L=B.getSize(H)||L,z=B.getColor(H),H=M?M(H):H),L=us({},T.properties,{text:H,size:L,color:z}),us({},T,{properties:L,children:T.id})})}},{key:"pick",value:function(a,f){var h=this.pointLayer.pick(a,f);return 0>h.dataIndex&&(h=this.iconLayer.pick(a,f)),(a=h.dataItem)&&typeof a.children=="number"&&(a.children=this.getClusterPoints(a.children)),h}},{key:"getClusterPoints",value:function(a){var f=this;return a?this.supercluster.getChildren(a).map(function(h){return h.type==="Feature"?f.getClusterPoints(h.id):h}).flat():[]}},{key:"shouldUpdate",value:function(){if(!this.data||!this.supercluster)return!1;if(this.zoom!==Math.floor(this.map.getZoom()))return!0;var a=this.map.getBounds(),f=a.getNorthEast();if(a=a.getSouthWest(),this.ne.lng!==f.lng||this.ne.lat!==f.lat||this.sw.lng!==a.lng||this.sw.lat!==a.lat)return!0}},{key:"render",value:function(a){this.shouldUpdate()?this.refreshCluster():Be(n.prototype.__proto__||yt(n.prototype),"render",this).call(this,a)}}]),n}(rl),Ic=function(d){function n(l,a){return di(this,n),xo(this,(n.__proto__||yt(n)).call(this,l,a))}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return us(Be(n.prototype.__proto__||yt(n.prototype),"getDefaultOptions",this).call(this),{style:"grid",gridSize:500,gradient:{0:"rgb(50, 50, 256)","0.1":"rgb(50, 250, 56)","0.5":"rgb(250, 250, 56)",1:"rgb(250, 50, 56)"}})}},{key:"onChanged",value:function(a,f){this.gl&&(f=this.processData(f,a),Be(n.prototype.__proto__||yt(n.prototype),"onChanged",this).call(this,a,f))}},{key:"generateGrid",value:function(a,f){var h=f.gridSize,y=[],m={};f=a.length;for(var C=this.getPointOffset(),P=0;P<f;P++){var B=this.normizedPoint(a[P].geometry.coordinates),M=B[2];B=~~((B[0]+C[0])/h)+"_"+~~((B[1]+C[1])/h),m[B]===void 0&&(m[B]={count:0,num:0,z:0});var T=~~a[P].count||1;"properties"in a[P]&&"count"in a[P].properties&&(T=~~a[P].properties.count),m[B].count+=T,m[B].num+=1,m[B].z+=M}return Fu(m).forEach(function(L){var z=L.split("_");y.push([z[0]*h+h/2,z[1]*h+h/2,m[L].z/m[L].num,m[L].count])}),y}},{key:"processData",value:function(a,f){var h=[];if(f.style==="normal")for(var y=this.getPointOffset(),m=0;m<a.length;m++){var C=this.normizedPoint(a[m].geometry.coordinates),P=C[0]+y[0],B=C[1]+y[1];C=C[2];var M=~~a[m].count||1;"properties"in a[m]&&"count"in a[m].properties&&(M=~~a[m].properties.count),h.push([P,B,C,M])}else h=this.generateGrid(a,f);if(y=a=0,f.max!==void 0&&f.min!==void 0)a=f.max,y=f.min;else{for(h[0]&&(a=h[0][3],y=h[0][3]),m=h.length,P=0;P<m;P++)B=h[P],a=Math.max(B[3],a),y=Math.min(B[3],y);a/=2}for(f=new et({max:~~a,min:y,gradient:f.gradient}),a=[],y=0;y<h.length;y++)m=h[y],m[0]=m[0],m[1]=m[1],P=f.getImageData(m[3]),a.push({geometry:{type:"Point",coordinates:[m[0],m[1],m[2]]},color:[P[0]/255,P[1]/255,P[2]/255,P[3]/255]});return a}}]),n}(Ec),A0=function(d){function n(l,a){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l,a)),l.bufferData=[],l}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{color:[1,.05,.05,1]}}},{key:"onChanged",value:function(a,f){var h=this;if(a=this.gl){this.buffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.buffer);for(var y=[],m=function(B){var M=5*B;for(B=0;B<f.length;B++)f[B].geometry.coordinates.forEach(function(T){for(var L=0;L<T.length-1;L++){var z=h.normizedPoint(T[L]);y.push(z[0]),y.push(z[1]),y.push(Number(M)),z=h.normizedPoint(T[L+1]),y.push(z[0]),y.push(z[1]),y.push(Number(M))}})},C=0;20>C;C++)m(C);a.bufferData(a.ARRAY_BUFFER,new Float32Array(y),a.STATIC_DRAW),this.bufferData=y,a.bindBuffer(a.ARRAY_BUFFER,null)}}},{key:"initialize",value:function(a){this.gl=a,this.program=new es(a,{vertexShader:"uniform mat4 uMatrix;attribute vec3 aPos;void main(){gl_PointSize=10.0;gl_Position=uMatrix*vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform vec4 uFragColor;void main(){gl_FragColor=uFragColor;}"}),this.buffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.buffer)}},{key:"render",value:function(a){var f=a.gl;a=a.matrix;var h=this.program;f.useProgram(h.program);var y=this.normizedColor(this.options.color);f.uniform4f(h.uniforms.uFragColor,y[0],y[1],y[2],y[3]),f.uniformMatrix4fv(h.uniforms.uMatrix,!1,a),f.bindBuffer(f.ARRAY_BUFFER,this.buffer),f.enableVertexAttribArray(h.attributes.aPos),f.vertexAttribPointer(h.attributes.aPos,3,f.FLOAT,!1,0,0),f.enable(f.BLEND),f.blendEquation(f.FUNC_ADD),f.blendFunc(f.ONE,f.ONE),f.drawArrays(f.LINES,0,this.bufferData.length/3),f.bindBuffer(f.ARRAY_BUFFER,null)}}]),n}(fe),xg={circle:1,square:2},Pl=function(d){function n(l,a){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l,a)),l.bufferData=[],l.startTime=l.options.startTime||0,l.endTime=l.options.endTime,l.time=l.startTime,l.autoUpdate=!0,l}return Vo(n,d),nn(n,[{key:"initialize",value:function(a){this.gl=a,this.program=new es(this.gl,{vertexShader:"attribute vec4 aPos;attribute vec4 aColor;attribute float aSize;uniform mat4 u_matrix;varying vec4 vColor;uniform float currentTime;uniform float trailLength;varying float vTime;void main(void){if(aColor.w>=0.0&&aColor.w<=1.0){vColor=aColor;}else{vColor=vec4(aColor.xyz,1.0);}gl_Position=u_matrix*vec4(aPos.xyz,1.0);gl_PointSize=aSize;vTime=1.0-((currentTime-aPos.w)/trailLength);}",fragmentShader:"precision highp float;varying vec4 vColor;uniform int uShape;varying float vTime;void main(void){if(vTime>1.0||vTime<0.0){discard;}if(uShape==1){float d=distance(gl_PointCoord,vec2(0.5,0.5));if(d<0.5){gl_FragColor=vColor;}else{discard;}}else{gl_FragColor=vec4(vColor.rgb,vColor.a*vTime);}}"}),this.f32BufferData=new Float32Array,this.buffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.buffer)}},{key:"onChanged",value:function(a,f){var h=this.gl;if(h){this.buffer=h.createBuffer(),h.bindBuffer(h.ARRAY_BUFFER,this.buffer);for(var y=[],m=a.color||[.1,.1,.9,1],C=a.size||5,P=0;P<f.length;P++){var B=f[P].geometry.coordinates,M=m;Object.prototype.toString.call(M)==="[object Function]"?M=M(f[P]):(M=f[P].color||m,"properties"in f[P]&&"color"in f[P].properties&&(M=f[P].properties.color)),M=this.normizedColor(M);var T=this.normizedPoint(B),L=C;L=Object.prototype.toString.call(L)==="[object Function]"?L(f[P]):Number(L);var z=f[P].time||P;"properties"in f[P]&&"time"in f[P].properties&&(z=f[P].properties.time),y.push(T[0],T[1],Number(B[2]||0),z),y.push(M[0],M[1],M[2],M[3]),y.push(L*window.devicePixelRatio)}a.endTime===void 0&&(this.endTime=f.length),this.bufferData=y,this.f32BufferData=new Float32Array(y),h.bufferData(h.ARRAY_BUFFER,this.f32BufferData,h.STATIC_DRAW)}}},{key:"render",value:function(a){var f=a.gl,h=a.matrix;0>=this.bufferData.length||(a=this.program,f.useProgram(a.program),f.uniformMatrix4fv(a.uniforms.u_matrix,!1,h),f.bindBuffer(f.ARRAY_BUFFER,this.buffer),h=this.f32BufferData.BYTES_PER_ELEMENT,f.enableVertexAttribArray(a.attributes.aPos),f.vertexAttribPointer(a.attributes.aPos,4,f.FLOAT,!1,9*h,0),f.enableVertexAttribArray(a.attributes.aColor),f.vertexAttribPointer(a.attributes.aColor,4,f.FLOAT,!1,9*h,4*h),f.enableVertexAttribArray(a.attributes.aSize),f.vertexAttribPointer(a.attributes.aSize,1,f.FLOAT,!1,9*h,8*h),f.uniform1f(a.uniforms.currentTime,this.time),f.uniform1f(a.uniforms.trailLength,this.options.trailLength||3),h=1,this.options.shape&&xg[this.options.shape]&&(h=xg[this.options.shape]),f.uniform1i(a.uniforms.uShape,h),a=this.options.blend,f.enable(f.BLEND),f.blendEquation(f.FUNC_ADD),a&&a==="lighter"?f.blendFunc(f.SRC_ALPHA,f.ONE):f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),f.drawArrays(f.POINTS,0,this.bufferData.length/9),f.bindBuffer(f.ARRAY_BUFFER,null),f.disable(f.BLEND),f.useProgram(null),this.time+=this.options.step||.1,this.time>this.endTime&&(this.time=this.startTime))}}]),n}(fe),py=function(d){function n(l,a){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l,a)),l.bufferData=[],l.startTime=l.options.startTime||0,l.endTime=l.options.endTime,l.time=l.startTime,l.autoUpdate=!0,l}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{color:[1,.05,.05,1],trailLength:3,step:.1}}},{key:"initialize",value:function(a){this.gl=a,this.program=new es(this.gl,{vertexShader:"precision highp float;attribute vec4 aPos;attribute vec4 aColor;uniform mat4 u_matrix;uniform float currentTime;uniform float trailLength;varying float vTime;varying vec4 vColor;void main(){gl_Position=u_matrix*vec4(aPos.xyz,1.0);vColor=aColor;vTime=1.0-((currentTime-aPos.w)/trailLength);}",fragmentShader:"precision highp float;uniform vec3 uFragColor;varying vec4 vColor;varying float vTime;void main(){if(vTime>1.0||vTime<0.0){discard;}gl_FragColor=vec4(vColor.rgb,1.0*vTime);}"},this),this.buffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.buffer)}},{key:"setTime",value:function(a){this.time=a}},{key:"onChanged",value:function(a,f){var h=this.gl;if(h){this.buffer=h.createBuffer(),h.bindBuffer(h.ARRAY_BUFFER,this.buffer);for(var y=[],m=0,C=this.options.color,P=0;P<f.length;P++){var B=f[P].geometry.coordinates;f[P].color&&(C=f[P].color),"properties"in f[P]&&"color"in f[P].properties&&(C=f[P].properties.color),Object.prototype.toString.call(C)==="[object Function]"&&(C=C(f[P])),C=this.normizedColor(C),B.length>m&&(m=B.length);for(var M=0;M<B.length-1;M++){var T=this.normizedPoint(B[M]);y.push(T[0]),y.push(T[1]),y.push(T[2]),B[M][3]===void 0?y.push(M):y.push(Number(B[M][3])),y.push(C[0]),y.push(C[1]),y.push(C[2]),y.push(C[3]),T=this.normizedPoint(B[M+1]),y.push(T[0]),y.push(T[1]),y.push(T[2]),B[M+1][3]===void 0?y.push(M+1):y.push(Number(B[M+1][3])),y.push(C[0]),y.push(C[1]),y.push(C[2]),y.push(C[3])}}a.endTime===void 0&&(this.endTime=m),this.bufferData=y,this.f32BufferData=new Float32Array(y),h.bufferData(h.ARRAY_BUFFER,this.f32BufferData,h.STATIC_DRAW)}}},{key:"render",value:function(a){var f=a.gl,h=a.matrix;a=this.program,a.use(f),f.uniformMatrix4fv(a.uniforms.u_matrix,!1,h),f.bindBuffer(f.ARRAY_BUFFER,this.buffer),h=this.f32BufferData.BYTES_PER_ELEMENT,f.enableVertexAttribArray(a.attributes.aPos),f.vertexAttribPointer(a.attributes.aPos,4,f.FLOAT,!1,8*h,0),f.enableVertexAttribArray(a.attributes.aColor),f.vertexAttribPointer(a.attributes.aColor,4,f.FLOAT,!1,8*h,4*h),h=this.normizedColor(this.options.color),f.uniform3f(a.uniforms.uFragColor,h[0],h[1],h[2]),f.uniform1f(a.uniforms.currentTime,this.time),f.uniform1f(a.uniforms.trailLength,this.options.trailLength),f.enable(f.BLEND),f.polygonOffset(2,1),this.options.blend==="lighter"?f.blendFunc(f.ONE,f.ONE):f.blendFunc(f.SRC_ALPHA,f.ONE),f.blendEquation(f.FUNC_ADD),f.drawArrays(f.LINES,0,this.bufferData.length/8),f.bindBuffer(f.ARRAY_BUFFER,null),this.time+=this.options.step,this.time>this.endTime&&(this.time=this.startTime),f.useProgram(null)}}]),n}(fe),my=function(d){function n(l){di(this,n);var a=xo(this,(n.__proto__||yt(n)).call(this,l));return l=a.getOptions(),a.iconlayer=new yg,a.children=[a.iconlayer],a.autoUpdate=!0,a.index=[],a.newData=[],a.isStarted=l.autoPlay!==!1,a}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{flat:!1,scale:1,unit:"px",step:1}}},{key:"onOptionsChanged",value:function(a){this.iconlayer.setOptions({flat:a.flat,icon:a.icon,scale:a.scale,unit:a.unit})}},{key:"onDataChanged",value:function(a){var f=this;this.index=[],this.newData=[];for(var h=function(C){f.index.push(0);var P=a[C].geometry.coordinates,B=a[C].properties||{};a[C].geometry.type==="LineString"?f.newData.push(f._addPath(P,B)):P.forEach(function(M){f.newData.push(f._addPath(M,B))})},y=0;y<a.length;y++)h(y);this.updatePoints()}},{key:"lnglatToMercator",value:function(a,f){return f=f*Math.PI/180,f=31890685e-1*Math.log((1+Math.sin(f))/(1-Math.sin(f))),[parseFloat((a*Math.PI/180*6378137).toFixed(2)),parseFloat(f.toFixed(2))]}},{key:"getDeg",value:function(a,f){-180<a[0]&&180>a[0]&&(a=this.lnglatToMercator(a[0],a[1]),f=this.lnglatToMercator(f[0],f[1]));var h=180*Math.atan((f[1]-a[1])/(f[0]-a[0]))/Math.PI;return f[0]>a[0]&&(h-=180),h}},{key:"getPoint",value:function(a,f,h){return[a[0]+(f[0]-a[0])*h,a[1]+(f[1]-a[1])*h]}},{key:"updatePoints",value:function(){for(var a=this.newData,f=[],h=0;h<a.length;h++){for(var y=a[h].path,m=a[h].properties,C=Math.floor(this.index[h]),P=C+1;y[P]&&y[C]&&y[P][0]===y[C][0]&&y[P][1]===y[C][1];)P++;P>=y.length-1&&(P=--C),f.push({geometry:{type:"Point",coordinates:this.getPoint(y[C],y[P],this.index[h]%1)},properties:m})}this.pointData=f,this.iconlayer.setData(f,{autoRender:!1})}},{key:"getCurrentPoint",value:function(){return this.pointData}},{key:"getDistance",value:function(a,f){var h=a[1]*Math.PI/180,y=f[1]*Math.PI/180;return a=2*Math.asin(Math.sqrt(Math.pow(Math.sin((h-y)/2),2)+Math.cos(h)*Math.cos(y)*Math.pow(Math.sin((a[0]*Math.PI/180-f[0]*Math.PI/180)/2),2))),a=Math.round(6378137e4*a)/1e4}},{key:"_addPath",value:function(a,f){for(var h=a.length,y=0,m=[],C=[],P=1;P<h;P++){var B=this.getDistance(a[P-1],a[P]);m.push(B),y+=B}for(B=[0],P=1;P<h;P++){var M=(m[P-1]/y).toFixed(2);B[P]=B[P-1]+parseFloat(M,10),C=C.concat(this._getPath(a[P-1],a[P],1e3*M))}return this._pathPercents=B,{path:C,properties:f}}},{key:"_getPath",value:function(a,f,h){if(h===0)return[a];for(var y=[],m=0;m<=h;m++)y.push([(f[0]-a[0])/h*m+a[0],(f[1]-a[1])/h*m+a[1]]);return y}},{key:"start",value:function(){this.isStarted=!0}},{key:"stop",value:function(){this.isStarted=!1}},{key:"render",value:function(a){if(Be(n.prototype.__proto__||yt(n.prototype),"render",this).call(this,a),a=this.getOptions(),this.isStarted)for(var f=this.newData,h=0;h<this.index.length;h++)this.index[h]+=a.step,this.index[h]>f[h].path.length-2&&(this.index[h]=0);this.updatePoints()}}]),n}(rl),qh=function(d){function n(l,a){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l,a)),l.initData(),l.date=new Date,l.autoUpdate=!0,l}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{color:"rgba(25, 25, 250, 1)",blend:"normal",width:2,antialias:!1,interval:.1,duration:2,trailLength:.5,minZoom:2,maxZoom:25}}},{key:"initData",value:function(){this.dataMgr={position:[],prev:[],next:[],direction:[],color:[],index:[],counter:[]}}},{key:"initialize",value:function(a){this.gl=a;var f=this.getOptions();this.program=new es(this.gl,{vertexShader:`uniform mat4 u_matrix;uniform float thickness;uniform vec4 uSelectedColor;attribute vec3 position;attribute vec3 next;attribute vec3 previous;attribute float direction;attribute vec4 aColor;attribute float aCounter;attribute vec2 uv;varying vec4 vColor;varying vec2 vNormal;varying float vCounter;vec2 project(vec4 coord){vec3 screen=coord.xyz/coord.w;vec2 clip=(screen.xy+1.0)/2.0;return clip*MAPV_resolution;}vec4 unproject(vec2 projected,float z,float w){vec2 clip=projected/MAPV_resolution;vec2 screen=clip*2.0-1.0;return vec4(screen*w,z,w);}void main(){vColor=aColor;vCounter=aCounter;
#if defined(PICK)
if(mapvIsPicked()){vColor=uSelectedColor;}
#endif
vec4 previousProjected=u_matrix*vec4(previous,1.0);vec4 currentProjected=u_matrix*vec4(position,1.0);vec4 nextProjected=u_matrix*vec4(next,1.0);vec2 currentScreen=project(currentProjected);vec2 previousScreen=project(previousProjected);vec2 nextScreen=project(nextProjected);float len=thickness;float orientation=direction;vec2 dir=vec2(0.0);if(currentScreen==previousScreen){dir=normalize(nextScreen-currentScreen);}else if(currentScreen==nextScreen){dir=normalize(currentScreen-previousScreen);}else{vec2 dirA=normalize((currentScreen-previousScreen));vec2 dirB=normalize((nextScreen-currentScreen));vec2 tangent=normalize(dirA+dirB);vec2 perp=vec2(-dirA.y,dirA.x);vec2 miter=vec2(-tangent.y,tangent.x);dir=tangent;float angle=40.0;if(dot(dirA,dirB)>cos(radians(angle))){len=thickness/dot(miter,perp);}}vec2 normal=vec2(-dir.y,dir.x);vNormal=normal*orientation;normal*=len/2.0;vec2 pos=currentScreen+normal*orientation;vec4 finalPos=unproject(pos,currentProjected.z,currentProjected.w);gl_Position=finalPos;}`,fragmentShader:"precision highp float;uniform bool uAntialias;uniform bool uAnimate;uniform float uTime;uniform float duration;uniform float interval;uniform float trailLength;varying vec4 vColor;varying vec2 vNormal;varying float vCounter;void main(){vec4 color=vColor;if(uAntialias){float blur=1.0;blur=1.0-smoothstep(0.98,1.0,length(vNormal));color.a*=blur;}if(uAnimate){float alpha=1.0-fract(mod(1.0-vCounter,interval)*(1.0/interval)+uTime/duration);alpha=(alpha+trailLength-1.0)/trailLength;color.a*=alpha;}gl_FragColor=color;}",defines:f.enablePicked?["PICK"]:[]},this),this.prevBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.currentBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.nextBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.directionBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.colorBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.counterBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Jo({gl:a,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),f=[{stride:12,name:"previous",buffer:this.prevBuffer,size:3,type:"FLOAT",offset:0},{stride:12,name:"position",buffer:this.currentBuffer,size:3,type:"FLOAT",offset:0},{stride:12,name:"next",buffer:this.nextBuffer,size:3,type:"FLOAT",offset:0},{stride:4,name:"direction",buffer:this.directionBuffer,size:1,type:"FLOAT",offset:0},{stride:16,name:"aColor",buffer:this.colorBuffer,size:4,type:"FLOAT",offset:0},{stride:4,name:"aCounter",buffer:this.counterBuffer,size:1,type:"FLOAT",offset:0}],f=f.concat(this.getCommonAttributes()),this.vertexArray=new gu({gl:a,program:this.program,attributes:f})}},{key:"destroy",value:function(){this.options&&this.options.enablePicked&&(this.pickBuffer=null),this.options=this.data=this.dataMgr=this.indexBuffer=this.uvBuffer=this.counterBuffer=this.directionBuffer=this.colorBuffer=this.nextBuffer=this.currentBuffer=this.prevBuffer=this.program=this.vertexArray=null}},{key:"onChanged",value:function(a,f){var h=this;if(this.gl){this.initData();for(var y=1,m=[],C=0;C<f.length;C++){var P=[],B=f[C].geometry.coordinates;B&&0<B.length&&(P=f[C].geometry.type==="Polygon"?B[0].map(function(H){return h.normizedPoint(H)}):B.map(function(H){return h.normizedPoint(H)})),P=mi(P),B=P.total,m[C]=P.arr,y=Math.max(B,y)}for(C=[],P=a.color,B=0;B<f.length;B++){var M=[],T=f[B].geometry.coordinates;T&&0<T.length&&(M=f[B].geometry.type==="Polygon"?T[0].map(function(H){return h.normizedPoint(H)}):T.map(function(H){return h.normizedPoint(H)})),T=P,Object.prototype.toString.call(T)==="[object Function]"?T=T(f[B]):(T=f[B].color||P,"properties"in f[B]&&"color"in f[B].properties&&(T=f[B].properties.color)),T=this.normizedColor(T);for(var L=this.addMultipleCoords(M),z=0;z<L.length;z++)this.processData(this.dataMgr,L[z],m[B],y,T);if(a.enablePicked)for(T=this.indexToRgb(B),L=0;L<M.length;L++)C.push(T[0]/255,T[1]/255,T[2]/255),C.push(T[0]/255,T[1]/255,T[2]/255),a.repeat&&(C.push(T[0]/255,T[1]/255,T[2]/255),C.push(T[0]/255,T[1]/255,T[2]/255),C.push(T[0]/255,T[1]/255,T[2]/255),C.push(T[0]/255,T[1]/255,T[2]/255))}this.counterBuffer.updateData(new Float32Array(this.dataMgr.counter)),this.currentBuffer.updateData(new Float32Array(this.dataMgr.position)),this.prevBuffer.updateData(new Float32Array(this.dataMgr.prev)),this.nextBuffer.updateData(new Float32Array(this.dataMgr.next)),this.directionBuffer.updateData(new Float32Array(this.dataMgr.direction)),this.colorBuffer.updateData(new Float32Array(this.dataMgr.color)),this.indexBuffer.updateData(new Uint32Array(this.dataMgr.index)),a.enablePicked&&this.pickBuffer.updateData(new Float32Array(C))}}},{key:"processData",value:function(a,f,h,y,m){var C,P,B,M,T,L,z,H=f.length,Z=a.position.length/6;h=jr(h.map(function(_e){return _e/y}));var J=jr(f.map(function(_e){return-1}),!0),V=jr(f),ne=jr(f.map(yn(-1))),Ce=jr(f.map(yn(1)));f=jr(f.map(function(_e){return m})),H=tn(H,Z),(C=a.counter).push.apply(C,ga(h)),(P=a.position).push.apply(P,ga(Qn(V))),(B=a.prev).push.apply(B,ga(Qn(ne))),(M=a.next).push.apply(M,ga(Qn(Ce))),(T=a.direction).push.apply(T,ga(J)),(L=a.color).push.apply(L,ga(Qn(f))),(z=a.index).push.apply(z,ga(H))}},{key:"render",value:function(a){var f=a.gl,h=a.matrix,y=this.dataMgr;if(y&&!(0>=y.index.length)){var m=this.getOptions(),C=this.program;if(C.use(f),this.map){var P=this.map.getZoom();P=!!(P>=m.minZoom&&P<=m.maxZoom&&this.autoUpdate)}else P=!0;C.setUniforms(us(this.getCommonUniforms(a),{u_matrix:h,thickness:m.width,uAntialias:m.antialias,uTime:(new Date-this.date)/1e3,uAnimate:P,duration:m.duration,interval:m.interval,trailLength:m.trailLength})),f.enable(f.BLEND),f.blendEquation(f.FUNC_ADD),m.blend&&m.blend==="lighter"?f.blendFunc(f.SRC_ALPHA,f.ONE):f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),this.indexBuffer.bind(),this.vertexArray.bind(),f.drawElements(f.TRIANGLES,y.index.length,f.UNSIGNED_INT,0),f.bindBuffer(f.ARRAY_BUFFER,null),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,null),f.disable(f.BLEND)}}}]),n}(fe),Cg=function(d){function n(l,a){return di(this,n),xo(this,(n.__proto__||yt(n)).call(this,l,a))}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{}}},{key:"initialize",value:function(a){this.gl=a;var f=this.getOptions();this.texture=null,this.program=new es(this.gl,{vertexShader:`precision highp float;attribute vec3 a_pos;attribute vec2 a_texture_coord;uniform sampler2D uTerrain;uniform mat4 u_proj_matrix;uniform mat4 u_mv_matrix;varying vec2 v_texture_coord;void main(){v_texture_coord=a_texture_coord;vec3 pos=a_pos.xyz;
#if defined(TERRAIN)
vec4 terrainColor=texture2D(uTerrain,vec2(v_texture_coord.s,v_texture_coord.t));vec3 rgb=terrainColor.rgb*256.0;pos.z=-10000.0+((rgb.r*256.0*256.0+rgb.g*256.0+rgb.b)*0.1);pos.z=pos.z-60.0;
#endif
vec4 position=u_proj_matrix*u_mv_matrix*vec4(pos,1.0);gl_Position=position;}`,fragmentShader:"precision highp float;varying vec2 v_texture_coord;uniform sampler2D uTile;uniform bool uUseFilter;uniform vec4 uFilterColor;void main(){vec4 textureColor=texture2D(uTile,vec2(v_texture_coord.s,v_texture_coord.t));if(uUseFilter){textureColor=textureColor*uFilterColor;}gl_FragColor=textureColor;}",defines:f.terrain?["TERRAIN"]:""},this),this.vertexBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Jo({gl:a,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.vertexArray=new gu({gl:a,program:this.program,attributes:[{name:"a_pos",buffer:this.vertexBuffer,stride:20,size:3,type:"FLOAT",offset:0},{name:"a_texture_coord",buffer:this.vertexBuffer,size:2,stride:20,type:"FLOAT",offset:12}]})}},{key:"onChanged",value:function(a,f){var h=this;this.gl&&(this.loadTextureTime&&clearTimeout(this.loadTextureTime),this.loadTextureTime=setTimeout(function(){h.loadTexture(function(){h.parseData(f),h.dataTime=new Date,h.webglLayer.render()})},0))}},{key:"render",value:function(a){var f=a.gl,h=a.projectionMatrix;a=a.viewMatrix;var y=this.getOptions(),m=this.program,C=m.uniforms;m.use(f),this.texture&&(f.activeTexture(f.TEXTURE0),f.uniform1i(C.uTile,0),f.bindTexture(f.TEXTURE_2D,this.texture),f.activeTexture(f.TEXTURE1),f.uniform1i(C.uTerrain,1),f.bindTexture(f.TEXTURE_2D,this.terrainSampler),f.disable(f.CULL_FACE),m.setUniforms({u_proj_matrix:h,uUseFilter:!!y.filterColor,uFilterColor:this.normizedColor(y.filterColor||"rgba(0, 0, 100, 1.0)"),u_mv_matrix:a}),0<this.index.length&&(this.indexBuffer.bind(),this.vertexArray.bind(),f.drawElements(f.TRIANGLES,this.index.length,f.UNSIGNED_INT,0)))}},{key:"loadTexture",value:function(a){var f=this,h=this.getOptions();h.tile?h.terrain?Jt(this.gl,h.terrain,function(y,m){f.terrainSampler=y,Jt(f.gl,h.tile,function(C,P){f.texture=C,a&&a(),f.webglLayer.render()})},{TEXTURE_WRAP_S:"MIRRORED_REPEAT",TEXTURE_WRAP_T:"MIRRORED_REPEAT"}):Jt(this.gl,h.tile,function(y,m){f.texture=y,a&&a(),f.webglLayer.render()}):(this.texture=null,a&&a())}},{key:"parseData",value:function(a){var f=this,h=[],y=[];if(a&&a[0]){var m=a[0].geometry.coordinates[0];m=m.map(function(H){return f.normizedPoint(H)}),a=m[0][0];var C=m[0][1],P=m[0][2],B=(m[2][0]-a)/16;m=(m[2][1]-C)/16;for(var M=0;16>=M;M++)for(var T=0;16>=T;T++)if(h.push(a+B*T,C+m*M,P),h.push(T/16,M/16),16>T&&16>M){var L=17*M+T,z=17*(M+1)+T;y.push(L,z+1,L+1),y.push(L,z,z+1)}}this.index=y,this.vertexBuffer.updateData(new Float32Array(h)),this.indexBuffer.updateData(new Uint32Array(y))}}]),n}(fe),Wc=function(d){function n(l,a){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l,a)),l.index=[],a=l.canvas=document.createElement("canvas"),l.ctx=a.getContext("2d"),l.iconHash=new lm,l}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{unit:"px",scale:1,angle:0,offsetZ:0,padding:[0,0],polygonOffset:[0,0]}}},{key:"initialize",value:function(a){this.gl=a;var f=this.getOptions();this.texture=null,this.program=new es(this.gl,{vertexShader:"precision highp float;attribute vec3 a_pos;attribute float a_corner;attribute float a_rotation;attribute float a_offsetZ;attribute vec2 a_size;attribute vec2 a_texture_coord;uniform mat4 u_matrix;uniform vec2 u_size;uniform float u_zoom_units;uniform float u_scale;uniform bool u_unit_px;varying vec2 v_texture_coord;/***\u4E09\u7EF4\u7A7A\u95F4\u5185\uFF0C\u7ED5Z\u8F74\u65CB\u8F6C\u7684\u77E9\u9635\uFF0C\u53F3\u624B\u5750\u6807\u7CFB\u4E0B*[x'][cos0-sin0  0  0]*[y']=[sin0 cos0   0  0]*[z'][0     0     1  0]*[1][0     0     0  1]*/mat3 rotateZ(float angle){float cos0=cos(angle);float sin0=sin(angle);return mat3(cos0,sin0,0.,-sin0,cos0,0.,0.,0.,1.);}vec3 transformCoord(vec3 coord,vec2 size,float corner){float x=coord.x;float y=coord.y;float z=coord.z;mat3 mat=rotateZ(a_rotation);vec3 rotated=vec3(size[0],0.0,size[1]);if(corner==1.0){rotated=mat*vec3(-size[0],0.0,size[1]);}else if(corner==2.0){rotated=mat*vec3(size[0],0.0,size[1]);}else if(corner==3.0){rotated=mat*vec3(size[0],0.0,-size[1]);}else{rotated=mat*vec3(-size[0],0.0,-size[1]);}x+=rotated.x;y+=rotated.y;z+=rotated.z;return vec3(x,y,z);}void main(){v_texture_coord=a_texture_coord;vec2 halfSize=a_size/2.0*u_scale;if(u_unit_px){halfSize*=u_zoom_units;}vec3 current=transformCoord(a_pos,halfSize,a_corner);current.z+=a_offsetZ;gl_Position=u_matrix*vec4(current,1.0);}",fragmentShader:`precision highp float;varying vec2 v_texture_coord;uniform sampler2D u_icon;uniform vec4 uSelectedColor;void main(){vec4 textureColor=texture2D(u_icon,vec2(v_texture_coord.x,1.0-v_texture_coord.y));if(textureColor.a==0.0&&uIsPickRender==false){discard;}gl_FragColor=textureColor;
#if defined(PICK)
if(mapvIsPicked()){gl_FragColor=vec4(uSelectedColor.rgb,gl_FragColor.a);}
#endif
}`,defines:f.enablePicked?["PICK"]:[]},this),this.vertexBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.uvBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Jo({gl:a,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),f=[{name:"a_pos",buffer:this.vertexBuffer,size:3,stride:32,type:"FLOAT",offset:0},{name:"a_corner",buffer:this.vertexBuffer,size:1,stride:32,type:"FLOAT",offset:12},{name:"a_size",buffer:this.vertexBuffer,size:2,stride:32,type:"FLOAT",offset:16},{name:"a_offsetZ",buffer:this.vertexBuffer,size:1,stride:32,type:"FLOAT",offset:24},{name:"a_rotation",buffer:this.vertexBuffer,size:1,stride:32,type:"FLOAT",offset:28},{name:"a_texture_coord",buffer:this.uvBuffer,size:2,stride:8,type:"FLOAT",offset:0}],f=f.concat(this.getCommonAttributes()),this.vertexArray=new gu({gl:a,program:this.program,attributes:f})}},{key:"destroy",value:function(){this.options&&this.options.enablePicked&&(this.pickBuffer=null),this.canvas=this.iconHash=this.cachedData=this.options=this.data=this.indexBuffer=this.uvBuffer=this.vertexBuffer=this.program=this.vertexArray=null}},{key:"onChanged",value:function(a,f){this.gl&&this.processCache(a,f)}},{key:"processCache",value:function(a,f){var h=this;this.cachedData=[];for(var y=a.icon,m=a.width,C=a.height,P=a.offsetZ,B=a.angle,M=0;M<f.length;M++){var T=this.normizedPoint(f[M].geometry.coordinates),L=this.getProperty("icon",y,f[M]),z=this.getProperty("width",m,f[M]),H=this.getProperty("height",C,f[M]),Z=this.getProperty("angle",B,f[M]),J=this.getProperty("offsetZ",P,f[M]);T&&L&&(this.cachedData.push({point:T,icon:L,width:z,height:H,offsetZ:J,angle:Z}),this.iconHash.get(L)||this.iconHash.set(L,L))}f=kh(this.iconHash.entries()).filter(function(V){return typeof V[1]=="string"}).map(function(V){var ne=Xu(V,2)[0];return new Hv(function(Ce,_e){h.url2canvas(ne,function(Fe){h.iconHash.set(ne,Fe),Ce()})})}),Hv.all(f).then(function(V){h.buildSprite(a),h.webglLayer.render()})}},{key:"buildSprite",value:function(a){var f=a.padding,h=this.canvas,y=this.ctx,m=[],C=new lm,P=!0,B=!1,M=void 0;try{for(var T=tf(this.iconHash),L;!(P=(L=T.next()).done);P=!0){var z=Xu(L.value,2),H=z[1];if(typeof H!="string"){var Z=H.width,J=H.height;m.push({w:Z+f[0],h:J+f[0],width:Z,height:J,key:z[0],icon:H})}}}catch(V){B=!0,M=V}finally{try{!P&&T.return&&T.return()}finally{if(B)throw M}}for(B=go(m),P=0;P<m.length;P++)M=m[P],C.get(M.key)||C.set(M.key,M);for(P=Xr(B.w),B=Xr(B.h),h.width=P||1,h.height=B||1,y.save(),h=0;h<m.length;h++)M=m[h],y.drawImage(M.icon,M.x+f[0],M.y+f[1],M.width,M.height);y.restore(),this.loadTexture(),this.buildVertex(a,C,P,B)}},{key:"buildVertex",value:function(a,f,h,y){a=a.enablePicked;for(var m=[],C=[],P=[],B=[],M=0;M<this.cachedData.length;M++){var T=this.cachedData[M],L=T.point,z=T.width,H=T.height,Z=T.offsetZ,J=T.angle;if(T=f.get(T.icon)){z=z||T.icon.width,H=H||T.icon.height;var V=Xu(L,3);L=V[0];var ne=V[1];V=V[2];for(var Ce=0;4>Ce;Ce++)m.push(L,ne,V),m.push(Ce),m.push(z,H),m.push(Z),m.push(J*Math.PI/180);z=T.x/h,H=(T.x+T.w)/h,Z=(T.y+T.h)/y,T=T.y/y,C.push(z,Z,z,T,H,T,H,Z),T=4*M,P.push(T,T+2,T+1,T,T+3,T+2),a&&(T=this.indexToRgb(M),B.push(T[0]/255,T[1]/255,T[2]/255),B.push(T[0]/255,T[1]/255,T[2]/255),B.push(T[0]/255,T[1]/255,T[2]/255),B.push(T[0]/255,T[1]/255,T[2]/255))}}this.index=P,this.vertexBuffer.updateData(new Float32Array(m)),this.uvBuffer.updateData(new Float32Array(C)),this.indexBuffer.updateData(new Uint32Array(P)),a&&this.pickBuffer.updateData(new Float32Array(B))}},{key:"render",value:function(a){if(this.cachedData&&this.cachedData.length&&this.iconHash&&this.texture){var f=a.gl,h=a.matrix,y=this.getOptions(),m=this.program;m.use(f),f.enable(f.BLEND),f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),f.enable(f.POLYGON_OFFSET_FILL),f.polygonOffset(y.polygonOffset[0],y.polygonOffset[1]),m.setUniforms(us(this.getCommonUniforms(a),{u_icon:this.texture,u_matrix:h,u_unit_px:y.unit==="px",u_zoom_units:this.map.getZoomUnits(),u_scale:y.scale})),0<this.index.length&&(this.indexBuffer.bind(),this.vertexArray.bind(),f.drawElements(f.TRIANGLES,this.index.length,f.UNSIGNED_INT,0)),f.disable(f.POLYGON_OFFSET_FILL),f.useProgram(null)}}},{key:"url2canvas",value:function(a,f){if((typeof a=="undefined"?"undefined":ac(a))==="object")f(a);else{var h=new Image;h.crossOrigin="anonymous",h.onload=function(){var y=h.width,m=h.height,C=document.createElement("canvas");C.width=y,C.height=m,C.getContext("2d").drawImage(h,0,0,y,m),f(C)},h.onerror=function(){var y=document.createElement("canvas");y.width=20,y.height=40;var m=y.getContext("2d");m.fillStyle="red",m.beginPath(),m.lineTo(0,0),m.lineTo(20,0),m.lineTo(10,40),m.closePath(),m.fill(),f(y)},h.src=a}}},{key:"loadTexture",value:function(){var a=this;this.canvas?Jt(this.gl,this.canvas,function(f){a.texture=f}):this.texture=null}}]),n}(fe),w0=function(d){function n(l){di(this,n);var a=xo(this,(n.__proto__||yt(n)).call(this,l));return l=a.getOptions(),a.shapeLayer=new Hs({enablePicked:l.enablePicked}),a.lineLayer=new el,a.children=[a.shapeLayer,a.lineLayer],a}return Vo(n,d),nn(n,[{key:"pick",value:function(a,f){return this.shapeLayer.pick(a,f)}},{key:"onOptionsChanged",value:function(a){this.shapeLayer.setOptions({onClick:function(h){a.onClick&&a.onClick(h)},selectedIndex:a.selectedIndex,selectedColor:a.selectedColor,height:0,polygonOffset:[1,1],autoSelect:a.autoSelect,color:a.fillColor,opacity:a.fillOpacity,topColor:a.fillColor,useLight:!1}),this.lineLayer.setOptions({polygonOffset:[-1,-1],dashArray:a.dashArray,color:a.lineColor,width:a.lineWidth,lineJoin:a.lineJoin})}},{key:"onDataChanged",value:function(a){this.shapeLayer.setData(a),this.lineLayer.setData(a)}},{key:"getDefaultOptions",value:function(){return{enablePicked:!1,selectedIndex:-1,selectedColor:"#ff0000",autoSelect:!0,dashArray:[0,0],lineColor:"rgba(250, 250, 25, 1)",lineWidth:2,lineJoin:"miter",fillColor:"rgba(25, 25, 250, 1)",fillOpacity:1}}}]),n}(rl),dc=dc||{},vp=0,gp=null,wf=dc.Scene=function(d,n){this.name=n.name!==void 0?n.name:null,this.nodes=Array(n.nodes.length);for(var l=0,a=n.nodes.length;l<a;l++)this.nodes[l]=d.nodes[n.nodes[l]];this.extensions=n.extensions!==void 0?n.extensions:null,this.extras=n.extras!==void 0?n.extras:null,this.boundingBox=null},Op=dc.BoundingBox=function(d,n,l){d=d||wr.fromValues(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),n=n||wr.fromValues(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),l===void 0||l===!0?(this.min=wr.clone(d),this.max=wr.clone(n)):(this.min=d,this.max=n),this.transform=zr.create()};Op.prototype.updateBoundingBox=function(d){wr.min(this.min,this.min,d.min),wr.max(this.max,this.max,d.max)},Op.prototype.calculateTransform=function(){this.transform[0]=this.max[0]-this.min[0],this.transform[5]=this.max[1]-this.min[1],this.transform[10]=this.max[2]-this.min[2],this.transform[12]=this.min[0],this.transform[13]=this.min[1],this.transform[14]=this.min[2]},Op.getAABBFromOBB=function(){var d=wr.create(),n=wr.create(),l=wr.create(),a=wr.create(),f=wr.create();return function(h,y){wr.set(d,y[0],y[1],y[2]),wr.set(n,y[4],y[5],y[6]),wr.set(l,y[8],y[9],y[10]),y=wr.fromValues(y[12],y[13],y[14]);var m=wr.clone(y);return wr.scale(a,d,h.min[0]),wr.scale(f,d,h.max[0]),wr.min(d,a,f),wr.add(y,y,d),wr.max(d,a,f),wr.add(m,m,d),wr.scale(a,n,h.min[1]),wr.scale(f,n,h.max[1]),wr.min(n,a,f),wr.add(y,y,n),wr.max(n,a,f),wr.add(m,m,n),wr.scale(a,l,h.min[2]),wr.scale(f,l,h.max[2]),wr.min(l,a,f),wr.add(y,y,l),wr.max(l,a,f),wr.add(m,m,l),h=new Op(y,m,!1),h.calculateTransform(),h}}();var $h=dc.Accessor=function(d,n){this.bufferView=n,this.componentType=d.componentType,this.byteOffset=d.byteOffset!==void 0?d.byteOffset:0,this.byteStride=n.byteStride,this.normalized=d.normalized!==void 0?d.normalized:!1,this.count=d.count,this.type=d.type,this.size=Kg[this.type],this.min=d.min,this.max=d.max,this.extensions=d.extensions!==void 0?d.extensions:null,this.extras=d.extras!==void 0?d.extras:null};$h.prototype.prepareVertexAttrib=function(d,n){n.vertexAttribPointer(d,this.size,this.componentType,this.normalized,this.byteStride,this.byteOffset),n.enableVertexAttribArray(d)};var Yg=dc.BufferView=function(d,n){this.byteLength=d.byteLength,this.byteOffset=d.byteOffset!==void 0?d.byteOffset:0,this.byteStride=d.byteStride!==void 0?d.byteStride:0,this.target=d.target!==void 0?d.target:null,this.data=n.slice(this.byteOffset,this.byteOffset+this.byteLength),this.extensions=d.extensions!==void 0?d.extensions:null,this.extras=d.extras!==void 0?d.extras:null,this.buffer=null};Yg.prototype.createBuffer=function(d){this.buffer=d.createBuffer()},Yg.prototype.bindData=function(d){return this.target?(d.bindBuffer(this.target,this.buffer),d.bufferData(this.target,this.data,d.STATIC_DRAW),d.bindBuffer(this.target,null),!0):!1};var vy=dc.Camera=function(d){this.name=d.name!==void 0?d.name:null,this.type=d.type,this.othographic=d.othographic===void 0?null:d.othographic,this.perspective=d.perspective===void 0?null:{yfov:d.perspective.yfov,znear:d.perspective.znear,zfar:d.perspective.zfar!==void 0?d.perspective.zfar:null,aspectRatio:d.perspective.aspectRatio!==void 0?d.perspective.aspectRatio:null},this.extensions=d.extensions!==void 0?d.extensions:null,this.extras=d.extras!==void 0?d.extras:null},Ym=dc.Node=function(d,n){if(this.name=d.name!==void 0?d.name:null,this.nodeID=n,this.camera=d.camera!==void 0?d.camera:null,this.matrix=zr.create(),d.hasOwnProperty("matrix")){for(n=0;16>n;++n)this.matrix[n]=d.matrix[n];this.translation=wr.create(),zr.getTranslation(this.translation,this.matrix),this.rotation=fn.create(),zr.getRotation(this.rotation,this.matrix),this.scale=wr.create(),zr.getScaling(this.scale,this.matrix)}else this.getTransformMatrixFromTRS(d.translation,d.rotation,d.scale);this.children=d.children||[],this.mesh=d.mesh!==void 0?gp.glTF.meshes[d.mesh]:null,this.skin=d.skin!==void 0?d.skin:null,d.extensions!==void 0&&d.extensions.gl_avatar!==void 0&&gp.enableGLAvatar===!0&&(this.skin=new yy(gp.glTF,gp.skeletonGltf.skins[gp.skeletonGltf.json.extensions.gl_avatar.skins[d.extensions.gl_avatar.skin.name]],d.extensions.gl_avatar.skin.inverseBindMatrices)),this.weights=d.weights!==void 0?d.weights:null,this.extensions=d.extensions!==void 0?d.extensions:null,this.extras=d.extras!==void 0?d.extras:null,this.aabb=null,this.bvh=new Op};Ym.prototype.traverse=function(d,n){n(this,d),d=0;for(var l=this.children.length;d<l;d++)this.children[d].traverse(this,n)},Ym.prototype.traversePostOrder=function(d,n){for(var l=0,a=this.children.length;l<a;l++)this.children[l].traversePostOrder(this,n);n(this,d)},Ym.prototype.traverseTwoExecFun=function(d,n,l){n(this,d);for(var a=0,f=this.children.length;a<f;a++)this.children[a].traverseTwoExecFun(this,n,l);l(this,d)};var Yv=zr.create();Ym.prototype.getTransformMatrixFromTRS=function(d,n,l){this.translation=d!==void 0?wr.fromValues(d[0],d[1],d[2]):wr.fromValues(0,0,0),this.rotation=n!==void 0?Bn.fromValues(n[0],n[1],n[2],n[3]):Bn.fromValues(0,0,0,1),this.scale=l!==void 0?wr.fromValues(l[0],l[1],l[2]):wr.fromValues(1,1,1),this.updateMatrixFromTRS()},Ym.prototype.updateMatrixFromTRS=function(){zr.fromRotationTranslation(Yv,this.rotation,this.translation),zr.scale(this.matrix,Yv,this.scale)};var yh=dc.Mesh=function(d,n){this.meshID=n,this.name=d.name!==void 0?d.name:null,this.primitives=[],this.boundingBox=null,n=0;for(var l=d.primitives.length;n<l;++n){var a=d.primitives[n];a=new gy(gp.glTF,a),this.primitives.push(a),a.boundingBox&&(this.boundingBox||(this.boundingBox=new Op),this.boundingBox.updateBoundingBox(a.boundingBox))}this.boundingBox&&this.boundingBox.calculateTransform(),this.weights=d.weights!==void 0?d.weights:null,this.extensions=d.extensions!==void 0?d.extensions:null,this.extras=d.extras!==void 0?d.extras:null},gy=dc.Primitive=function(d,n){this.attributes=n.attributes,this.indices=n.indices!==void 0?n.indices:null;var l;if(n.extensions!==void 0&&n.extensions.gl_avatar!==void 0&&gp.enableGLAvatar===!0&&n.extensions.gl_avatar.attributes)for(l in n.extensions.gl_avatar.attributes)this.attributes[l]=n.extensions.gl_avatar.attributes[l];this.indices!==null?(this.indicesComponentType=d.json.accessors[this.indices].componentType,this.indicesLength=d.json.accessors[this.indices].count,this.indicesOffset=d.json.accessors[this.indices].byteOffset||0):(this.drawArraysCount=d.json.accessors[this.attributes.POSITION].count,this.drawArraysOffset=d.json.accessors[this.attributes.POSITION].byteOffset||0);for(l in this.attributes)this.attributes[l]=d.accessors[this.attributes[l]];this.material=n.material!==void 0?d.materials[n.material]:null,this.mode=n.mode!==void 0?n.mode:4,this.targets=n.targets,this.extensions=n.extensions!==void 0?n.extensions:null,this.extras=n.extras!==void 0?n.extras:null,this.boundingBox=this.shader=this.indexBuffer=this.vertexBuffer=this.vertexArray=null,this.attributes.POSITION!==void 0&&(d=this.attributes.POSITION,d.max&&d.type==="VEC3"&&(this.boundingBox=new Op(wr.fromValues(d.min[0],d.min[1],d.min[2]),wr.fromValues(d.max[0],d.max[1],d.max[2]),!1),this.boundingBox.calculateTransform()))},Xg=dc.Texture=function(d){this.name=d.name!==void 0?d.name:null,this.sampler=d.sampler!==void 0?gp.glTF.samplers[d.sampler]:null,this.source=d.source!==void 0?gp.glTF.images[d.source]:null,this.extensions=d.extensions!==void 0?d.extensions:null,this.extras=d.extras!==void 0?d.extras:null,this.texture=null};Xg.prototype.createTexture=function(d){this.texture=d.createTexture(),d.bindTexture(d.TEXTURE_2D,this.texture),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,this.source),d.generateMipmap(d.TEXTURE_2D),d.bindTexture(d.TEXTURE_2D,null)};var Pm=dc.Sampler=function(d){this.name=d.name!==void 0?d.name:null,this.magFilter=d.magFilter!==void 0?d.magFilter:null,this.minFilter=d.minFilter!==void 0?d.minFilter:null,this.wrapS=d.wrapS!==void 0?d.wrapS:10497,this.wrapT=d.wrapT!==void 0?d.wrapT:10497,this.extensions=d.extensions!==void 0?d.extensions:null,this.extras=d.extras!==void 0?d.extras:null,this.sampler=null};Pm.prototype.createSampler=function(d){this.sampler=d.createSampler(),this.minFilter?d.samplerParameteri(this.sampler,d.TEXTURE_MIN_FILTER,this.minFilter):d.samplerParameteri(this.sampler,d.TEXTURE_MIN_FILTER,d.NEAREST_MIPMAP_LINEAR),this.magFilter?d.samplerParameteri(this.sampler,d.TEXTURE_MAG_FILTER,this.magFilter):d.samplerParameteri(this.sampler,d.TEXTURE_MAG_FILTER,d.LINEAR),d.samplerParameteri(this.sampler,d.TEXTURE_WRAP_S,this.wrapS),d.samplerParameteri(this.sampler,d.TEXTURE_WRAP_T,this.wrapT)};var Xm=dc.TextureInfo=function(d){this.index=d.index,this.texCoord=d.texCoord!==void 0?d.texCoord:0,this.extensions=d.extensions!==void 0?d.extensions:null,this.extras=d.extras!==void 0?d.extras:null},um=dc.PbrMetallicRoughness=function(d){this.baseColorFactor=d.baseColorFactor!==void 0?d.baseColorFactor:[1,1,1,1],this.baseColorTexture=d.baseColorTexture!==void 0?new Xm(d.baseColorTexture):null,this.metallicFactor=d.metallicFactor!==void 0?d.metallicFactor:1,this.roughnessFactor=d.roughnessFactor!==void 0?d.roughnessFactor:1,this.metallicRoughnessTexture=d.metallicRoughnessTexture!==void 0?new Xm(d.metallicRoughnessTexture):null,this.extensions=d.extensions!==void 0?d.extensions:null,this.extras=d.extras!==void 0?d.extras:null},Ag=dc.NormalTextureInfo=function(d){this.index=d.index,this.texCoord=d.texCoord!==void 0?d.texCoord:0,this.scale=d.scale!==void 0?d.scale:1,this.extensions=d.extensions!==void 0?d.extensions:null,this.extras=d.extras!==void 0?d.extras:null},b0=dc.OcclusionTextureInfo=function(d){this.index=d.index,this.texCoord=d.texCoord!==void 0?d.texCoord:0,this.strength=d.strength!==void 0?d.strength:1,this.extensions=d.extensions!==void 0?d.extensions:null,this.extras=d.extras!==void 0?d.extras:null},S0=dc.Material=function(d){this.name=d.name!==void 0?d.name:null,this.pbrMetallicRoughness=d.pbrMetallicRoughness!==void 0?new um(d.pbrMetallicRoughness):new um({baseColorFactor:[1,1,1,1],metallicFactor:1,metallicRoughnessTexture:1}),this.normalTexture=d.normalTexture!==void 0?new Ag(d.normalTexture):null,this.occlusionTexture=d.occlusionTexture!==void 0?new b0(d.occlusionTexture):null,this.emissiveTexture=d.emissiveTexture!==void 0?new Xm(d.emissiveTexture):null,this.emissiveFactor=d.emissiveFactor!==void 0?d.emissiveFactor:[0,0,0],this.alphaMode=d.alphaMode!==void 0?d.alphaMode:"OPAQUE",this.alphaCutoff=d.alphaCutoff!==void 0?d.alphaCutoff:.5,this.doubleSided=d.doubleSided||!1,this.extensions=d.extensions!==void 0?d.extensions:null,this.extras=d.extras!==void 0?d.extras:null},Xv=dc.Skin=function(d,n,l){this.name=n.name!==void 0?n.name:null,this.skinID=l,this.joints=Array(n.joints.length);var a;for(l=0,a=this.joints.length;l<a;l++)this.joints[l]=d.nodes[n.joints[l]];if(this.skeleton=n.skeleton!==void 0?d.nodes[n.skeleton]:null,this.inverseBindMatrices=n.inverseBindMatrices!==void 0?d.accessors[n.inverseBindMatrices]:null,this.extensions=n.extensions!==void 0?n.extensions:null,this.extras=n.extras!==void 0?n.extras:null,this.uniformBlockID=vp++,this.inverseBindMatrices)for(this.inverseBindMatricesData=yl(this.inverseBindMatrices),this.inverseBindMatrix=[],this.jointMatrixUniformBuffer=null,this.jointMatrixUnidormBufferData=new Float32Array(1040),l=0,a=this.inverseBindMatricesData.length;l<a;l+=16)this.inverseBindMatrix.push(zr.fromValues(this.inverseBindMatricesData[l],this.inverseBindMatricesData[l+1],this.inverseBindMatricesData[l+2],this.inverseBindMatricesData[l+3],this.inverseBindMatricesData[l+4],this.inverseBindMatricesData[l+5],this.inverseBindMatricesData[l+6],this.inverseBindMatricesData[l+7],this.inverseBindMatricesData[l+8],this.inverseBindMatricesData[l+9],this.inverseBindMatricesData[l+10],this.inverseBindMatricesData[l+11],this.inverseBindMatricesData[l+12],this.inverseBindMatricesData[l+13],this.inverseBindMatricesData[l+14],this.inverseBindMatricesData[l+15]))},yy=dc.SkinLink=function(d,n,l){if(this.isLink=!0,d.skins||(d.skins=[]),d.skins.push(this),this.name=n.name,this.skinID=d.skins.length-1,this.joints=n.joints,this.skeleton=n.skeleton,this.inverseBindMatrices=l!==void 0?d.accessors[l]:null,this.uniformBlockID=vp++,this.inverseBindMatrices)for(this.inverseBindMatricesData=yl(this.inverseBindMatrices),this.inverseBindMatrix=[],this.jointMatrixUniformBuffer=null,this.jointMatrixUnidormBufferData=new Float32Array(1040),d=0,n=this.inverseBindMatricesData.length;d<n;d+=16)this.inverseBindMatrix.push(zr.fromValues(this.inverseBindMatricesData[d],this.inverseBindMatricesData[d+1],this.inverseBindMatricesData[d+2],this.inverseBindMatricesData[d+3],this.inverseBindMatricesData[d+4],this.inverseBindMatricesData[d+5],this.inverseBindMatricesData[d+6],this.inverseBindMatricesData[d+7],this.inverseBindMatricesData[d+8],this.inverseBindMatricesData[d+9],this.inverseBindMatricesData[d+10],this.inverseBindMatricesData[d+11],this.inverseBindMatricesData[d+12],this.inverseBindMatricesData[d+13],this.inverseBindMatricesData[d+14],this.inverseBindMatricesData[d+15]))},Cv=dc.Target=function(d){this.nodeID=d.node!==void 0?d.node:null,this.path=d.path,this.extensions=d.extensions!==void 0?d.extensions:null,this.extras=d.extras!==void 0?d.extras:null},xy=dc.Channel=function(d,n){this.sampler=n.samplers[d.sampler],this.target=new Cv(d.target),this.extensions=d.extensions!==void 0?d.extensions:null,this.extras=d.extras!==void 0?d.extras:null},wg=dc.AnimationSampler=function(d,n){this.input=d.accessors[n.input],this.output=d.accessors[n.output],this.inputTypedArray=yl(this.input),this.outputTypedArray=yl(this.output),this.interpolation=n.interpolation!==void 0?n.interpolation:"LINEAR",this.extensions=n.extensions!==void 0?n.extensions:null,this.extras=n.extras!==void 0?n.extras:null,this.curIdx=0,this.curValue=Bn.create(),this.endT=this.inputTypedArray[this.inputTypedArray.length-1],this.inputMax=this.endT-this.inputTypedArray[0]},Ad=Bn.create(),Ol=Bn.create();wg.prototype.getValue=function(d){d>this.endT&&(d-=this.inputMax*Math.ceil((d-this.endT)/this.inputMax),this.curIdx=0);for(var n=this.inputTypedArray.length;this.curIdx<=n-2&&d>=this.inputTypedArray[this.curIdx+1];)this.curIdx++;this.curIdx>=n-1&&(d-=this.inputMax,this.curIdx=0),n=Kg[this.output.type];var l=n===4?fn.slerp:Bn.lerp,a=this.curIdx,f=a*n,h=f+n;for(d=Math.max(0,d-this.inputTypedArray[a])/(this.inputTypedArray[a+1]-this.inputTypedArray[a]),a=0;a<n;a++)Ad[a]=this.outputTypedArray[f+a],Ol[a]=this.outputTypedArray[h+a];switch(this.interpolation){case"LINEAR":l(this.curValue,Ad,Ol,d)}};var M0=dc.Animation=function(d,n){this.name=n.name!==void 0?n.name:null;var l;this.samplers=[];var a=0;for(l=n.samplers.length;a<l;a++)this.samplers[a]=new wg(d,n.samplers[a]);for(this.channels=[],a=0,l=n.channels.length;a<l;a++)this.channels[a]=new xy(n.channels[a],this);this.extensions=n.extensions!==void 0?n.extensions:null,this.extras=n.extras!==void 0?n.extras:null},rh=dc.glTFModel=function(d){this.json=d,this.defaultScene=d.scene!==void 0?d.scene:0,this.version=Number(d.asset.version),d.accessors&&(this.accessors=Array(d.accessors.length)),d.bufferViews&&(this.bufferViews=Array(d.bufferViews.length)),d.scenes&&(this.scenes=Array(d.scenes.length)),d.nodes&&(this.nodes=Array(d.nodes.length)),d.meshes&&(this.meshes=Array(d.meshes.length)),d.materials&&(this.materials=Array(d.materials.length)),d.textures&&(this.textures=Array(d.textures.length)),d.samplers&&(this.samplers=Array(d.samplers.length)),d.images&&(this.images=Array(d.images.length)),d.skins&&(this.skins=Array(d.skins.length)),d.animations&&(this.animations=Array(d.animations.length)),d.cameras&&(this.cameras=Array(d.cameras.length)),this.extensions=d.extensions!==void 0?d.extensions:null,this.extras=d.extras!==void 0?d.extras:null},Av=dc.glTFLoader=function(d){this._init(),this.glTF=null,this.enableGLAvatar=!1,this.linkSkeletonGltf=null};Av.prototype._init=function(){this._loadDone=!1,this._bufferLoaded=this._bufferRequested=0,this._buffers=[],this._bufferTasks={},this._finishedPendingTasks=this._pendingTasks=this._imageLoaded=this._imageRequested=this._shaderLoaded=this._shaderRequested=0,this.onload=null,gp=this},Av.prototype._checkComplete=function(){this._bufferRequested==this._bufferLoaded&&this._imageRequested==this._imageLoaded&&(this._loadDone=!0),this._loadDone&&this._pendingTasks==this._finishedPendingTasks&&(this._postprocess(),this.onload(this.glTF))},Av.prototype.loadGLTF_GL_Avatar_Skin=function(d,n,l){this.enableGLAvatar=!0,this.skeletonGltf=n,this.loadGLTF(d,l)},Av.prototype.loadGLTF=function(d,n){this._init(),this.onload=n||function(a){},this.baseUri=au(d);var l=this;jl(d,function(a){a=JSON.parse(a),l.glTF=new rh(a);var f,h=function(P){if(l._buffers[f]=P,l._bufferLoaded++,l._bufferTasks[f]){var B,M=0;for(B=l._bufferTasks[f].length;M<B;++M)l._bufferTasks[f][M](P)}l._checkComplete()};if(a.buffers)for(f in a.buffers){l._bufferRequested++;var y=a.buffers[f].uri;y.indexOf("base64")===-1&&(y=l.baseUri+y),Gu(y,h)}h=function(P,B){l._imageLoaded++,l.glTF.images[B]=P,l._checkComplete()};var m;if(a.images)for(m in a.images)l._imageRequested++,mc(l.baseUri+a.images[m].uri,m,h);l._checkComplete()})},Av.prototype._postprocess=function(){function d(B,M){var T=C[B.nodeID];M!==null?zr.mul(T,C[M.nodeID],B.matrix):zr.copy(T,B.matrix)}function n(B,M){var T=C[B.nodeID];M=M!==null?M.bvh:P.boundingBox,B.mesh&&(f=B.mesh,f.boundingBox&&(B.aabb=Op.getAABBFromOBB(f.boundingBox,T),B.children.length===0&&(wr.copy(B.bvh.min,B.aabb.min),wr.copy(B.bvh.max,B.aabb.max)))),wr.min(M.min,M.min,B.bvh.min),wr.max(M.max,M.max,B.bvh.max)}gp=this;var l,a,f;if(this.glTF.cameras){var h=0;for(l=this.glTF.cameras.length;h<l;h++)this.glTF.cameras[h]=new vy(this.glTF.json.cameras[h])}if(this.glTF.bufferViews)for(h=0,l=this.glTF.bufferViews.length;h<l;h++)this.glTF.bufferViews[h]=new Yg(this.glTF.json.bufferViews[h],this._buffers[this.glTF.json.bufferViews[h].buffer]);if(this.glTF.accessors)for(h=0,l=this.glTF.accessors.length;h<l;h++)this.glTF.accessors[h]=new $h(this.glTF.json.accessors[h],this.glTF.bufferViews[this.glTF.json.accessors[h].bufferView]);if(this.glTF.materials)for(h=0,l=this.glTF.materials.length;h<l;h++)this.glTF.materials[h]=new S0(this.glTF.json.materials[h]);if(this.glTF.samplers)for(h=0,l=this.glTF.samplers.length;h<l;h++)this.glTF.samplers[h]=new Pm(this.glTF.json.samplers[h]);if(this.glTF.textures)for(h=0,l=this.glTF.textures.length;h<l;h++)this.glTF.textures[h]=new Xg(this.glTF.json.textures[h]);for(h=0,l=this.glTF.meshes.length;h<l;h++)this.glTF.meshes[h]=new yh(this.glTF.json.meshes[h],h);for(h=0,l=this.glTF.nodes.length;h<l;h++)this.glTF.nodes[h]=new Ym(this.glTF.json.nodes[h],h);for(h=0,l=this.glTF.nodes.length;h<l;h++){var y=this.glTF.nodes[h],m=0;for(a=y.children.length;m<a;m++)y.children[m]=this.glTF.nodes[y.children[m]]}var C=Array(this.glTF.nodes.length);for(h=0,l=C.length;h<l;h++)C[h]=zr.create();for(h=0,l=this.glTF.scenes.length;h<l;h++){var P=this.glTF.scenes[h]=new wf(this.glTF,this.glTF.json.scenes[h]);for(P.boundingBox=new Op,m=0,a=P.nodes.length;m<a;m++)y=P.nodes[m],y.traverseTwoExecFun(null,d,n);P.boundingBox.calculateTransform()}for(m=0,a=this.glTF.nodes.length;m<a;m++)y=this.glTF.nodes[m],y.bvh!==null&&y.bvh.calculateTransform();if(this.glTF.animations)for(h=0,l=this.glTF.animations.length;h<l;h++)this.glTF.animations[h]=new M0(this.glTF,this.glTF.json.animations[h]);if(this.glTF.json.skins)for(h=0,l=this.glTF.skins.length;h<l;h++)for(this.glTF.skins[h]=new Xv(this.glTF,this.glTF.json.skins[h],h),y=this.glTF.skins[h].joints,m=0,a=y.length;m<a;m++)y[m].jointID=m;for(h=0,l=this.glTF.nodes.length;h<l;h++)y=this.glTF.nodes[h],y.skin!==null&&typeof y.skin=="number"&&(y.skin=this.glTF.skins[y.skin])};var Kg={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},yp=function(d){function n(l,a){return di(this,n),xo(this,(n.__proto__||yt(n)).call(this,l,a))}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{scale:1}}},{key:"initialize",value:function(a){var f=this;this.gl=a;var h=this.getOptions();this.gltfObj=Kc({gl:a,options:h}),new Av().loadGLTF(h.url,function(y){f.gltfObj.setupScene(y),f.webglLayer.render()})}},{key:"onChanged",value:function(a,f){}},{key:"render",value:function(a){var f=a.gl;a=a.matrix;var h=this.getData(),y=this.getOptions(),m=y.scale,C=[m,m,m];for(y.unit==="px"&&this.map&&(C=this.map.getZoomUnits(),C=[m*C,m*C,m*C]),m=0;m<h.length;m++){var P=h[m].geometry.coordinates;y=zr.create();var B=zr.create();P=this.normizedPoint(P),zr.identity(y),zr.translate(y,y,[P[0],P[1],P[2]]),zr.rotateX(y,y,Math.PI/2),zr.rotateY(y,y,(h[m].angle||0)*Math.PI/180),zr.scale(y,y,C),zr.mul(B,a,y),this.gltfObj.render({gl:f,matrix:B})}}}]),n}(fe),Pa=Pa||{};(function(){function d(l,a,f){return f=l.createShader(f),l.shaderSource(f,a),l.compileShader(f),f}Pa.getShaderSource=function(l){return document.getElementById(l).textContent.replace(/^\s+|\s+$/g,"")},Pa.createProgram=function(l,a,f){var h=l.createProgram();return a=d(l,a,l.VERTEX_SHADER),f=d(l,f,l.FRAGMENT_SHADER),l.attachShader(h,a),l.deleteShader(a),l.attachShader(h,f),l.deleteShader(f),l.linkProgram(h),l.getProgramInfoLog(h),l.getShaderInfoLog(a),l.getShaderInfoLog(f),h};var n=Pa.loadImage=function(l,a){var f=new Image;return f.crossOrigin="Anonymous",f.src=l,f.onload=a,f};Pa.loadImages=function(l,a){function f(){0>=--y&&a(h)}for(var h=[],y=l.length,m=0;m<y;++m)h.push(n(l[m],f))}})();var wv=function(d){function n(l){di(this,n);var a=xo(this,(n.__proto__||yt(n)).call(this,l));return l=a.getOptions(),a.gltfLayer=new yp({url:l.url,scale:l.scale}),a.children=[a.gltfLayer],a.autoUpdate=!0,a.index=[],a.newData=[],a.isStarted=l.autoPlay!==!1,a}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{url:"https://mapv-website.bj.bcebos.com/gl/examples/model/car.gltf",scale:1,step:1,defaultAngle:90}}},{key:"onOptionsChanged",value:function(a){this.gltfLayer.setOptions({})}},{key:"onDataChanged",value:function(a){var f=this;this.index=[],this.newData=[];for(var h=0;h<a.length;h++){this.index.push(0);var y=a[h].geometry.coordinates;a[h].geometry.type==="LineString"?this.newData.push(this._addPath(y)):y.forEach(function(m){f.newData.push(f._addPath(m))})}this.updatePoints()}},{key:"lnglatToMercator",value:function(a,f){return f=f*Math.PI/180,f=31890685e-1*Math.log((1+Math.sin(f))/(1-Math.sin(f))),[parseFloat((a*Math.PI/180*6378137).toFixed(2)),parseFloat(f.toFixed(2))]}},{key:"getDeg",value:function(a,f){-180<a[0]&&180>a[0]&&(a=this.lnglatToMercator(a[0],a[1]),f=this.lnglatToMercator(f[0],f[1]));var h=180*Math.atan((f[1]-a[1])/(f[0]-a[0]))/Math.PI;return f[0]>a[0]&&(h-=180),h}},{key:"getPoint",value:function(a,f,h){return[a[0]+(f[0]-a[0])*h,a[1]+(f[1]-a[1])*h,a[2]&&f[2]?a[2]+(f[2]-a[2])*h:0]}},{key:"updatePoints",value:function(){for(var a=this.getOptions(),f=this.newData,h=[],y=0;y<f.length;y++){for(var m=f[y],C=Math.floor(this.index[y]),P=C+1;m[P]&&m[P][0]===m[C][0]&&m[P][1]===m[C][1];)P++;P>=m.length-1&&(P=--C),P=this.getDeg(m[C],m[P]),h.push({geometry:{type:"Point",coordinates:this.getPoint(m[C],m[C+1],this.index[y]%1)},angle:P-a.defaultAngle})}this.pointData=h,this.gltfLayer.setData(h,{autoRender:!1})}},{key:"getCurrentPoint",value:function(){return this.pointData}},{key:"getDistance",value:function(a,f){var h=a[1]*Math.PI/180,y=f[1]*Math.PI/180;return a=2*Math.asin(Math.sqrt(Math.pow(Math.sin((h-y)/2),2)+Math.cos(h)*Math.cos(y)*Math.pow(Math.sin((a[0]*Math.PI/180-f[0]*Math.PI/180)/2),2))),a=Math.round(6378137e4*a)/1e4}},{key:"_addPath",value:function(a){for(var f=a.length,h=0,y=[],m=[],C=1;C<f;C++){var P=this.getDistance(a[C-1],a[C]);y.push(P),h+=P}for(P=[0],C=1;C<f;C++){var B=(y[C-1]/h).toFixed(2);P[C]=P[C-1]+parseFloat(B,10),m=m.concat(this._getPath(a[C-1],a[C],1e3*B))}return this._pathPercents=P,m}},{key:"_getPath",value:function(a,f,h){if(h===0)return[a];for(var y=[],m=0;m<=h;m++)y.push([(f[0]-a[0])/h*m+a[0],(f[1]-a[1])/h*m+a[1],f[2]&&a[2]?(f[2]-a[2])/h*m+a[2]:0]);return y}},{key:"start",value:function(){this.isStarted=!0}},{key:"stop",value:function(){this.isStarted=!1}},{key:"render",value:function(a){if(Be(n.prototype.__proto__||yt(n.prototype),"render",this).call(this,a),a=this.getOptions(),this.isStarted)for(var f=this.newData,h=0;h<this.index.length;h++)this.index[h]+=a.step,this.index[h]>f[h].length-2&&(this.index[h]=0);this.updatePoints()}}]),n}(rl);gs.prototype.parseColors=function(d){this.arrFeatureStyles=[[2,d[0]||"rgba(79,210,125,1)",2,2,0,[],0,0],[2,d[0]||"rgba(79,210,125,1)",3,2,0,[],0,0],[2,d[0]||"rgba(79,210,125,1)",3,2,0,[],0,0],[2,d[0]||"rgba(79,210,125,1)",5,2,0,[],0,0],[2,d[0]||"rgba(79,210,125,1)",6,2,0,[],0,0],[2,d[2]||"rgba(255,208,69,1)",2,2,0,[],0,0],[2,d[2]||"rgba(255,208,69,1)",3,2,0,[],0,0],[2,d[2]||"rgba(255,208,69,1)",3,2,0,[],0,0],[2,d[2]||"rgba(255,208,69,1)",5,2,0,[],0,0],[2,d[2]||"rgba(255,208,69,1)",6,2,0,[],0,0],[2,d[1]||"rgba(232,14,14,1)",2,2,0,[],0,0],[2,d[1]||"rgba(232,14,14,1)",3,2,0,[],0,0],[2,d[1]||"rgba(232,14,14,1)",3,2,0,[],0,0],[2,d[1]||"rgba(232,14,14,1)",5,2,0,[],0,0],[2,d[1]||"rgba(232,14,14,1)",6,2,0,[],0,0],[2,d[3]||"rgba(181,0,0,1)",2,2,0,[],0,0],[2,d[3]||"rgba(181,0,0,1)",3,2,0,[],0,0],[2,d[3]||"rgba(181,0,0,1)",3,2,0,[],0,0],[2,d[3]||"rgba(181,0,0,1)",5,2,0,[],0,0],[2,d[3]||"rgba(181,0,0,1)",6,2,0,[],0,0],[2,"rgba(255,255,255,1)",4,0,0,[],0,0],[2,"rgba(255,255,255,1)",5.5,0,0,[],0,0],[2,"rgba(255,255,255,1)",7,0,0,[],0,0],[2,"rgba(255,255,255,1)",8.5,0,0,[],0,0],[2,"rgba(255,255,255,1)",10,0,0,[],0,0]]},gs.prototype.setColors=function(d){this.parseColors(d)},gs.prototype.initialize=function(d){this._initialize||(this._initialize=!0)},gs.prototype.clearCache=function(d){this.cache={}},gs.prototype.setMap=function(d){d?(this.map=d,this._initialize?this.canvaslayer.show():this.initialize(d)):this.canvaslayer.hide()},gs.prototype.draw=function(d){d=d||{},d.clearCache&&this.clearCache(),this.canvaslayer.draw()},gs.prototype.clear=function(){},gs.prototype.update=function(){var d=this.map,n=this.getDataZoom(),l=Math.pow(2,18-n),a=256*l,f=pn.convertLL2MC(d.getCenter()),h=Math.ceil(f.lng/a),y=Math.ceil(f.lat/a),m=this.tileSize,C=n-Math.round(d.getZoom());for(0<C&&(m/=Math.pow(2,C)),a=[h,y,(f.lng-h*a)/a*m,(f.lat-y*a)/a*m],h=d.getBounds(),f=h.getNorthEast(),h=h.getSouthWest(),d.getSize(),d.getSize(),d=(f.lng-h.lng)/l,l=(f.lat-h.lat)/l,f=a[1]-Math.ceil((l/2-a[3])/m),h=a[0]+Math.ceil((d/2+a[2])/m),y=a[1]+Math.ceil((l/2+a[3])/m),l=[],m=a[0]-Math.ceil((d/2-a[2])/m);m<h;m++)for(a=f;a<y;a++)l.push([m,a,n]);for(this.tilesOrder=l,this._loadCount={},m=0;m<l.length;m++)a=l[m][0],d=l[m][1],this._loadCount[a+"_"+d+"_"+l[m][2]]=!1;for(m=0;m<l.length;m++)a=l[m][0],d=l[m][1],this.showTile(a,d,n)},gs.prototype.showTile=function(d,n,l){this._parseDataAndDraw(d,n,l)},gs.prototype.drawCurrentData=function(){this.clear();for(var d=[],n=0;n<this.tilesOrder.length;n++){var l=this.tilesOrder[n][0],a=this.tilesOrder[n][1],f=this.tilesOrder[n][2],h=this.cache[this.getCacheKey(l,a,f)];if(h)for(l=this._drawFeatures(h,l,a,f),a=0;a<l.length;a++)d.push(l[a])}this.lineLayer.setData(d)},gs.prototype.isAllLoaded=function(){var d=!0,n;for(n in this._loadCount)if(!this._loadCount[n]){d=!1;break}return d},gs.prototype.getCacheKey=function(d,n,l){return d+"_"+n+"_"+l},gs.prototype.getDataZoom=function(){var d=Math.round(this.map.getZoom());return 19<d&&(d=19),d},gs.prototype._parseDataAndDraw=function(d,n,l){var a=this,f=a.map,h=f.getCenter(),y=Math.round(f.getZoom()),m=this.getCacheKey(d,n,l),C="_cbk"+(1e5*Math.random()).toFixed(0),P=this.getTileUrl(d,n,l,"BMapGL."+C);BMapGL[C]=function(B){a._loadCount[d+"_"+n+"_"+l]=!0;var M=f.getCenter(),T=Math.round(f.getZoom());M.equals(h)&&T===y?(M=B.content&&B.content.tf,B.data&&(M=B.data),a.cache[m]=M?{traffic:M,precision:B.precision}:null,a.drawTogether&&a.isAllLoaded()&&a.drawCurrentData()):T!==y&&a.clear(),delete BMapGL[C]},a.cache[m]!==void 0?(a._loadCount[d+"_"+n+"_"+l]=!0,a.drawTogether&&a.isAllLoaded()&&a.drawCurrentData()):this.request(P)},gs.prototype.getTileUrl=function(d,n,l,a){return"https://sp3.baidu.com/7_AZsjOpB1gCo2Kml5_Y_DAcsMJiwa/traffic/?qt=vtraffic&x="+d+"&y="+n+"&z="+l+"&fn="+a+"&t="+new Date().getTime()},gs.prototype._drawFeatures=function(d,n,l,a){var f=10;a=Math.pow(2,18-a),this.map.getCenter();var h=this.tileSize;if(n=[n*h*a,(l+1)*h*a],l=[],d&&d.traffic){f*=d.precision,d=d.traffic,h=0;for(var y=d.length;h<y;h++){var m=d[h],C=m[1];m=this.arrFeatureStyles[m[3]];var P=C[0]/f,B=-C[1]/f,M=[];M.push([n[0]+P*a,n[1]+B*a,1]);for(var T=2,L=C.length;T<L;T+=2)P+=C[T]/f,B-=C[T+1]/f,M.push([n[0]+P*a,n[1]+B*a,1]);l.push({color:m[1],geometry:{type:"LineString",coordinates:M}})}}return l},gs.prototype.request=function(d,n){if(n){var l=(1e5*Math.random()).toFixed(0);BMapGL._rd["_cbk"+l]=function(f){n&&n(f),delete BMapGL._rd["_cbk"+l]},d+="&callback=BMapGL._rd._cbk"+l}var a=document.createElement("script");a.type="text/javascript",a.charset="utf-8",a.src=d,a.addEventListener?a.addEventListener("load",function(f){f=f.target,f.parentNode.removeChild(f)},!1):a.attachEvent&&a.attachEvent("onreadystatechange",function(f){f=window.event.srcElement,!f||f.readyState!=="loaded"&&f.readyState!=="complete"||f.parentNode.removeChild(f)}),setTimeout(function(){document.getElementsByTagName("head")[0].appendChild(a),a=null},1)},gs.prototype.getRGBA=function(d){return d>>>=0,"rgba("+(d>>24&255)+","+(d>>16&255)+","+(d>>8&255)+","+(d&255)/256+")"},gs.prototype.getLineCap=function(d){return["butt","square","round"][d]},gs.prototype.getLineJoin=function(d){return["miter","bevel","round"][d]};var S=function(d){function n(l){di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l)),l.autoUpdate=!0,l.getOptions();var a=new qh({color:"rgba(257, 254, 47, 0.9)",minZoom:18,duration:.8,interval:.2,trailLength:.4});return l.lineLayer=a,l.children=[a],l}return Vo(n,d),nn(n,[{key:"initialize",value:function(a){Be(n.prototype.__proto__||yt(n.prototype),"initialize",this).call(this,a),a=this.map.map;var f=new gs({});f.lineLayer=this.lineLayer,this.trafficTileManager=f,f.setMap(a),f.update(),a.addEventListener("moveend",function(){f.update()}),a.addEventListener("zoomend",function(){f.update()}),a.addEventListener("ondraw",function(){})}},{key:"onOptionsChanged",value:function(a){}},{key:"onDataChanged",value:function(a){}},{key:"getDefaultOptions",value:function(){return{}}}]),n}(rl),E=function(d){function n(l,a){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l,a)),l.bufferData=[],l}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{size:13,unit:"px",height:0,max:100,min:0}}},{key:"initialize",value:function(a){var f=this;this.gl=a;var h=this.getOptions();this.inverseMatrix=zr.create(Float64Array),this.frameBuffer=new Qu(a),this.webglLayer.map.onResize(function(){f.frameBuffer=new Qu(a)}),this.circle=mf(64),this.circleTexture=cn(a,this.circle,{TEXTURE_MAG_FILTER:"LINEAR",TEXTURE_MIN_FILTER:"LINEAR",TEXTURE_WRAP_S:"CLAMP_TO_EDGE",TEXTURE_WRAP_T:"CLAMP_TO_EDGE"}),this.intensity=new et({gradient:h.gradient}),this.paletteTexture=cn(a,this.intensity.paletteCtx.canvas,{TEXTURE_MAG_FILTER:"LINEAR",TEXTURE_MIN_FILTER:"LINEAR",TEXTURE_WRAP_S:"CLAMP_TO_EDGE",TEXTURE_WRAP_T:"CLAMP_TO_EDGE"}),this.offlineProgram=new es(this.gl,{vertexShader:"uniform mat4 u_matrix;uniform mat4 pointToPixelMatrix;uniform mat4 pixelToViewMatrix;uniform mat4 projectionMatrix;uniform int unit;uniform float size;uniform float max;uniform float min;attribute vec3 aPos;attribute vec2 aOffset;attribute float aCount;varying vec2 vOffset;varying float vCount;varying vec3 vPosition;void main(){vOffset=aOffset;vCount=(aCount-min)/(max-min);if(unit==1){vec2 pos=(pointToPixelMatrix*vec4(aPos.xy,0.0,1.0)).xy+aOffset.xy*size/2.0;gl_Position=projectionMatrix*pixelToViewMatrix*vec4(pos,0.0,1.0);}else{vec2 pos=aPos.xy+aOffset.xy*size;gl_Position=u_matrix*vec4(pos,0.0,1.0);}vPosition=vec3(gl_Position.z/gl_Position.w);}",fragmentShader:"varying vec2 vOffset;varying float vCount;varying vec3 vPosition;uniform sampler2D uCircle;void main(){vec4 circle=texture2D(uCircle,(vOffset+1.0)/2.0);float intensity=circle.a*vCount;if(intensity<=0.0){discard;}gl_FragColor=vec4(vPosition,intensity);}"},this),this.offlineBuffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.offlineIndexBuffer=new Jo({gl:a,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.offlineVertexArray=new gu({gl:a,program:this.offlineProgram,attributes:[{stride:24,name:"aPos",buffer:this.offlineBuffer,size:3,type:"FLOAT",offset:0},{stride:24,name:"aOffset",buffer:this.offlineBuffer,size:2,type:"FLOAT",offset:12},{stride:24,name:"aCount",buffer:this.offlineBuffer,size:1,type:"FLOAT",offset:20}]}),this.indexBuffer=new Jo({gl:a,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.program=new es(this.gl,{vertexShader:"attribute vec2 aPos;varying vec2 vPos;uniform float uHeight;uniform mat4 pixelToViewMatrix;uniform mat4 projectionMatrix;uniform sampler2D u_sampler;uniform mat4 inverseMatrix;void main(){vPos=aPos;if(uHeight<=0.0){gl_Position=vec4(aPos,0.0,1.0);}else{vec4 gray=texture2D(u_sampler,(aPos+1.0)/2.0);vec4 m0=inverseMatrix*vec4(aPos.xy,0.0,1.0);vec4 m1=inverseMatrix*vec4(aPos.xy,1.0,1.0);m0/=m0.w;m1/=m1.w;vec4 pixel=m0+(-m0.z/(m1.z-m0.z))*(m1-m0);pixel.z=uHeight*gray.a;gl_Position=projectionMatrix*pixelToViewMatrix*vec4(pixel.xyz,1.0);}}",fragmentShader:"uniform sampler2D u_sampler;uniform sampler2D u_samplerPalette;uniform float uHeight;varying vec2 vPos;void main(){vec4 gray=texture2D(u_sampler,(vPos+1.0)/2.0);float grayAlpha=gray.a;if(grayAlpha<=0.0){discard;}vec4 color=texture2D(u_samplerPalette,vec2(grayAlpha,1.0));gl_FragColor=vec4(color.rgb,grayAlpha);}"},this),this.buffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.vertexArray=new gu({gl:a,program:this.program,attributes:[{stride:8,name:"aPos",buffer:this.buffer,size:2,type:"FLOAT",offset:0}]}),h=[];for(var y=[],m=Math.floor(a.canvas.width/4),C=Math.floor(a.canvas.height/4),P=m+1,B=0;B<=C;B++)for(var M=0;M<=m;M++)if(h.push(2*M/m-1,2*B/C-1),M<m&&B<C){var T=P*B+M,L=P*(B+1)+M;y.push(T,T+1,L+1),y.push(T,L+1,L)}this.bufferData=h,this.buffer.updateData(new Float32Array(h)),this.indexData=y,this.indexBuffer.updateData(new Uint32Array(y))}},{key:"destroy",value:function(){this.data=this.frameBuffer=this.vertexArray=this.program=this.indexBuffer=this.buffer=this.indexData=this.bufferData=this.offlineVertexArray=this.offlineProgram=this.offlineIndexBuffer=this.offlineBuffer=this.offlineIndexData=this.offlineBufferData=null}},{key:"onOptionsChanged",value:function(a,f){var h=this.gl;h&&a.gradient!==f.gradient&&(this.intensity=new et({gradient:a.gradient}),this.paletteTexture=cn(h,this.intensity.paletteCtx.canvas,{TEXTURE_MAG_FILTER:"LINEAR",TEXTURE_MIN_FILTER:"LINEAR",TEXTURE_WRAP_S:"CLAMP_TO_EDGE",TEXTURE_WRAP_T:"CLAMP_TO_EDGE"}))}},{key:"onDataChanged",value:function(a){if(this.gl){var f=[],h=[];this.getOptions();for(var y=0;y<a.length;y++){var m=a[y],C=this.normizedPoint(a[y].geometry.coordinates),P=m.count===void 0?1:m.count;"properties"in m&&"count"in m.properties&&(P=m.properties.count),f.push(C[0],C[1],C[2]),f.push(-1,-1),f.push(P),f.push(C[0],C[1],C[2]),f.push(-1,1),f.push(P),f.push(C[0],C[1],C[2]),f.push(1,1),f.push(P),f.push(C[0],C[1],C[2]),f.push(1,-1),f.push(P),m=4*y,h.push(m+0,m+2,m+1),h.push(m+0,m+3,m+2)}this.offlineBufferData=f,this.offlineIndexData=h,this.offlineBuffer.updateData(new Float32Array(f)),this.offlineIndexBuffer.updateData(new Uint32Array(h))}}},{key:"render",value:function(a){var f=a.gl,h=a.matrix,y=a.pointToPixelMatrix,m=a.pixelToViewMatrix;if(a=a.projectionMatrix,this.offlineBufferData&&!(0>=this.offlineBufferData.length)){var C=this.getOptions();f.enable(f.BLEND),f.disable(f.DEPTH_TEST),f.blendFunc(f.ONE,f.ONE),f.bindFramebuffer(f.FRAMEBUFFER,this.frameBuffer.framebuffer),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT),this.offlineProgram.use(f),this.offlineProgram.setUniforms({u_matrix:h,uCircle:this.circleTexture,pointToPixelMatrix:y,pixelToViewMatrix:m,projectionMatrix:a,unit:C.unit==="px"?1:0,size:C.size,max:C.max,min:C.min}),this.offlineVertexArray.bind(),this.offlineIndexBuffer.bind(),f.drawElements(f.TRIANGLES,this.offlineIndexData.length,f.UNSIGNED_INT,0),f.bindFramebuffer(f.FRAMEBUFFER,null),this.program.use(f),this.vertexArray.bind(),h=this.inverseMatrix,zr.identity(h),zr.multiply(h,a,m),zr.invert(h,h),f.enable(f.DEPTH_TEST),f.disable(f.BLEND),this.program.setUniforms({u_sampler:this.frameBuffer.framebuffer.texture,u_samplerPalette:this.paletteTexture,uHeight:C.height,pixelToViewMatrix:m,inverseMatrix:h,projectionMatrix:a}),this.indexBuffer.bind(),f.drawElements(f.TRIANGLES,this.indexData.length,f.UNSIGNED_INT,0)}}}]),n}(fe),R=function(d){function n(l,a){return di(this,n),l=xo(this,(n.__proto__||yt(n)).call(this,l,a)),l.selectedColor=[-1,-1,-1],l.textureCache={},l}return Vo(n,d),nn(n,[{key:"getDefaultOptions",value:function(){return{color:"rgba(0, 180, 0, 1.0)",edgeCount:4,unit:"m",height:1e5,type:"normal",size:5e4}}},{key:"initialize",value:function(a){this.gl=a;var f=this.getOptions(),h={normal:[`attribute vec3 aPos;attribute vec4 aColor;attribute float aSize;attribute float aEdgeIndex;attribute float aPointIndex;attribute float aEdgeCount;varying vec4 vColor;varying vec4 vPosition;varying float vSize;varying float vEdgeIndex;varying float vPointIndex;varying float vEdgeCount;uniform mat4 uMatrix;uniform float uZoomUnits;uniform vec4 uSelectedColor;void main(){vColor=aColor;vEdgeIndex=aEdgeIndex;vEdgeCount=aEdgeCount;vPointIndex=aPointIndex;float z=aPos.z*uZoomUnits;float x=aPos.x;float y=aPos.y;vSize=aSize*uZoomUnits;float a=radians(360.0/aEdgeCount);float b=a/2.0;if(aEdgeIndex<0.0){a=-a;b=-b;float index=aPointIndex;float angle=0.0;if(index==1.0){angle=b;}else if(mod(index,2.0)==0.0){angle=a*(index/2.0)+b;}else{angle=-a*((index-1.0)/2.0-1.0)-b;}x=x+vSize/cos(b)*sin(angle);y=y+vSize/cos(b)*cos(angle);}else{float i=aEdgeIndex;float j=aPointIndex;float angle1=a*(i-1.0)+b;float angle2=a*(i-1.0)+a+b;if(j==1.0||j==2.0){x=x+vSize/cos(b)*sin(angle1);y=y+vSize/cos(b)*cos(angle1);}else{x=x+vSize/cos(b)*sin(angle2);y=y+vSize/cos(b)*cos(angle2);}}vPosition=vec4(x,y,z,1.0);gl_Position=uMatrix*vPosition;
#if defined(PICK)
if(mapvIsPicked()){vColor=uSelectedColor;}
#endif
}`,"varying vec4 vColor;varying float vEdgeIndex;varying float vPointIndex;varying float vEdgeCount;uniform mat4 uMatrix;void main(){vec4 color=vColor;if(vEdgeIndex<0.0){color.r+=0.2;color.g+=0.2;color.b+=0.2;}else{float i=vEdgeIndex;float j=vPointIndex;float d=i/vEdgeCount*0.5;if(i<vEdgeCount/2.0){d=0.2*(i/vEdgeCount*0.5)-0.1;}else{d=0.2*(vEdgeCount-i)/vEdgeCount*0.5-0.1;}color.r+=d;color.g+=d;color.b+=d;}gl_FragColor=color;}"],light:[`attribute vec3 aPos;attribute vec4 aColor;attribute float aSize;attribute float aEdgeIndex;attribute float aPointIndex;attribute float aEdgeCount;varying vec4 vColor;varying vec4 vPosition;varying vec4 vFragPosition;varying float vSize;varying float vEdgeIndex;varying float vPointIndex;varying float vEdgeCount;uniform mat4 uMatrix;uniform float uZoomUnits;uniform vec4 uSelectedColor;void main(){vColor=aColor;vEdgeIndex=aEdgeIndex;vEdgeCount=aEdgeCount;vPointIndex=aPointIndex;float z=aPos.z*uZoomUnits;float x=aPos.x;float y=aPos.y;vSize=aSize*uZoomUnits;float a=radians(360.0/aEdgeCount);float b=a/2.0;float i=aEdgeIndex;float j=aPointIndex;float angle1=a*(i-1.0)+b;float angle2=a*(i-1.0)+a+b;float r=vSize/cos(b);if(j==1.0||j==3.0){y=y+r*sin(angle1);x=x+r*cos(angle1);}else{y=y+r*sin(angle2);x=x+r*cos(angle2);}if(j==1.0||j==2.0){z=0.0;}vPosition=vec4(aPos.xyz,1.0);vFragPosition=vec4(x,y,z,1.0);gl_Position=uMatrix*vFragPosition;
#if defined(PICK)
if(mapvIsPicked()){vColor=uSelectedColor;}
#endif
}`,"varying vec4 vColor;varying float vEdgeIndex;varying float vPointIndex;varying float vEdgeCount;varying vec4 vPosition;varying vec4 vFragPosition;uniform mat4 uMatrix;void main(){vec4 color=vColor;float i=vEdgeIndex;float j=vPointIndex;float d=i/vEdgeCount*0.5;if(i<vEdgeCount/2.0){d=0.2*(i/vEdgeCount*0.5)-0.1;}else{d=0.2*(vEdgeCount-i)/vEdgeCount*0.5-0.1;}color.r+=d;color.g+=d;color.b+=d;color.a=1.0-vFragPosition.z/vPosition.z;gl_FragColor=color;}"]};h=h[f.type]||h.normal,this.program=new es(this.gl,{vertexShader:h[0],fragmentShader:h[1],defines:f.enablePicked?["PICK"]:[]},this),this.buffer=new Jo({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Jo({gl:a,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),f=[{stride:44,name:"aPos",buffer:this.buffer,size:3,type:"FLOAT",offset:0},{stride:44,name:"aSize",buffer:this.buffer,size:1,type:"FLOAT",offset:12},{stride:44,name:"aEdgeIndex",buffer:this.buffer,size:1,type:"FLOAT",offset:16},{stride:44,name:"aPointIndex",buffer:this.buffer,size:1,type:"FLOAT",offset:20},{stride:44,name:"aEdgeCount",buffer:this.buffer,size:1,type:"FLOAT",offset:24},{stride:44,name:"aColor",buffer:this.buffer,size:4,type:"FLOAT",offset:28}],f=f.concat(this.getCommonAttributes()),this.vertexArray=new gu({gl:a,program:this.program,attributes:f})}},{key:"onChanged",value:function(a,f){this.gl&&f&&(this.uniforms={},this.data=f,this.options=a,this.processData(),a.enablePicked&&this.parsePickData(f))}},{key:"processData",value:function(){var a=[],f=[];this.options.type==="light"?this.createLightBuffer(this.data,a,f):this.createNormalBuffer(this.data,a,f),this.bufferData=a,this.indexData=f,this.buffer.updateData(new Float32Array(a)),this.indexBuffer.updateData(new Uint32Array(f))}},{key:"createNormalBuffer",value:function(a,f,h){var y=this,m=parseInt(this.options.edgeCount,10)||4;a.forEach(function(C,P){var B=C.color||y.options.color,M=C.size||y.options.size,T=Array.isArray(C.value)?C.value:typeof C.value=="number"?[C.value]:[1],L=y.normizedPoint(C.geometry.coordinates),z=C.height||y.options.height,H=T.reduce(function(V,ne){return Number(V)+Number(ne)}),Z=0,J="blue";for(T.forEach(function(V,ne){for(J=y.normizedColor(typeof B=="function"?B(V,ne,T):Array.isArray(B)?B[ne]:B),V=typeof z=="function"?z(V,ne,T):Array.isArray(z)?z[ne]:z/H*V,ne=1;ne<=m;ne++){var Ce=h[h.length-1]||-1;1<Ce&&h.push(Ce,Ce+1),f.push.apply(f,[L[0],L[1],Z,M,ne,1,m].concat(ga(J))),f.push.apply(f,[L[0],L[1],Z+V,M,ne,2,m].concat(ga(J))),f.push.apply(f,[L[0],L[1],Z,M,ne,3,m].concat(ga(J))),f.push.apply(f,[L[0],L[1],Z+V,M,ne,4,m].concat(ga(J))),h.push(Ce+1,Ce+2,Ce+3,Ce+4)}Z+=V}),C=h[h.length-1]||-1,1<C&&h.push(C,C+1),P=1;P<=m;P++)f.push.apply(f,[L[0],L[1],Z,M,-1,P,m].concat(ga(J))),h.push(C+P)})}},{key:"createLightBuffer",value:function(a,f,h){var y=this,m=parseInt(this.options.edgeCount,10)||4;a.forEach(function(C,P){P=C.color||y.options.color,P=y.normizedColor(typeof P=="function"?P(C.value):typeof P=="string"?P:"blue");var B=C.size||y.options.size,M=y.normizedPoint(C.geometry.coordinates),T=C.height||y.options.height;for(T=typeof T=="function"?T(C.value):T,C=1;C<=m;C++){var L=h[h.length-1]||-1;1<L&&h.push(L,L+1),f.push.apply(f,[M[0],M[1],T,B,C,1,m].concat(ga(P))),f.push.apply(f,[M[0],M[1],T,B,C,2,m].concat(ga(P))),f.push.apply(f,[M[0],M[1],T,B,C,3,m].concat(ga(P))),f.push.apply(f,[M[0],M[1],T,B,C,4,m].concat(ga(P))),h.push(L+1,L+2,L+3,L+4)}})}},{key:"render",value:function(a){var f=this.program,h=a.gl,y=a.matrix;this.options.type==="normal"&&(h.enable(h.CULL_FACE),h.cullFace(h.BACK)),f.use(h),this.vertexArray.bind(),this.indexBuffer.bind();var m=this.map.getZoomUnits();us(this.uniforms,this.getCommonUniforms(a),{uZoomUnits:this.options.unit==="px"?m:1,uMatrix:y}),f.setUniforms(this.uniforms),h.drawElements(h.TRIANGLE_STRIP,this.indexData.length,h.UNSIGNED_INT,0)}}]),n}(fe),N=function(d){function n(l){di(this,n);var a=xo(this,(n.__proto__||yt(n)).call(this,l));return l=a.getOptions(),a.fillPoint=new Ec({enablePicked:l.enablePicked,autoSelect:l.autoSelect}),a.shadowPoint=new Ec,a.textPoint=new Cu,a.children=[a.shadowPoint,a.fillPoint,a.textPoint],a}return Vo(n,d),nn(n,[{key:"pick",value:function(a,f){return this.fillPoint.pick(a,f)}},{key:"onOptionsChanged",value:function(a){this.shadowPoint.setOptions({depthTest:!1,polygonOffset:[1,1],color:a.shadowColor,size:a.shadowSize,borderWidth:a.shadowBorderWidth,borderColor:a.shadowBorderColor}),this.fillPoint.setOptions({onClick:function(h){a.onClick&&a.onClick(h)},selectedIndex:a.selectedIndex,selectedColor:a.selectedColor,depthTest:!1,color:a.fillColor,size:a.fillSize,borderWidth:a.fillBorderWidth,borderColor:a.fillBorderColor}),this.textPoint.setOptions({collides:!1,polygonOffset:[-1,-1],color:a.fontColor,fontFamily:a.fontFamily,fontSize:a.fontSize})}},{key:"onDataChanged",value:function(a){var f=this,h=this.getOptions(),y=JSON.parse(fi(a)).map(function(C){return C.properties.size=f.getProperty("shadowSize",h.shadowSize,C),C.properties.color=f.getProperty("shadowColor",h.shadowColor,C),C.properties.borderColor=f.getProperty("shadowBorderColor",h.shadowBorderColor,C),C.properties.borderWidth=f.getProperty("shadowBorderWidth",h.shadowBorderWidth,C),C}),m=JSON.parse(fi(a)).map(function(C){return C.properties.size=f.getProperty("fillSize",h.fillSize,C),C.properties.color=f.getProperty("fillColor",h.fillColor,C),C.properties.borderColor=f.getProperty("fillBorderColor",h.fillBorderColor,C),C.properties.borderWidth=f.getProperty("fillBorderWidth",h.fillBorderWidth,C),C});this.shadowPoint.setData(y),this.fillPoint.setData(m),this.textPoint.setData(a)}},{key:"getProperty",value:function(a,f,h){return Object.prototype.toString.call(f)==="[object Function]"?f(h):(f=h[a]||f,"properties"in h&&a in h.properties&&(f=h.properties[a]),f)}},{key:"getDefaultOptions",value:function(){return{enablePicked:!1,selectedIndex:-1,selectedColor:"#ffff00",autoSelect:!0,fillColor:"rgba(255, 50, 10, 1)",fillSize:20,fillBorderColor:"#ffffff",fillBorderWidth:1.2,shadowColor:"rgba(255, 80, 110, 0.7)",shadowSize:40,shadowBorderColor:"rgba(255, 80, 110, 1)",shadowBorderWidth:1.2,fontSize:12,fontFamily:"Microsoft Yahei",fontColor:"#ffffff"}}}]),n}(rl),q=function(){function d(n){di(this,d),this.layers=[],this.options=n,this.webglLayer=n.webglLayer}return nn(d,[{key:"addLayer",value:function(l){for(var a=!1,f=0;f<this.layers.length;f++)if(this.layers[f]===l){a=!0;break}a||(l.map=this.webglLayer.map,l.layerType==="threeLayer"?(l.setWebglLayer(this.webglLayer),a=l.getThreeLayer(),this.addLayer(a),l.initialize&&l.initialize(a)):(l.setWebglLayer(this.webglLayer),l.commonInitialize&&l.commonInitialize(this.webglLayer.gl),l.initialize&&l.initialize(this.webglLayer.gl),l.onOptionsChanged(l.getOptions(),{}),l.onDataChanged(l.getData()),l.onChanged(l.getOptions(),l.getData())),this.layers.push(l)),this.options.autoUpdate&&(this.isRequestAnimation()?this.webglLayer.startAnimation():this.webglLayer.stopAnimation()),this.webglLayer.render()}},{key:"removeLayer",value:function(l){for(var a=0;a<this.layers.length;a++)this.layers[a]===l&&this.layers.splice(a,1);this.options.autoUpdate&&(this.isRequestAnimation()?this.webglLayer.startAnimation():this.webglLayer.stopAnimation()),this.webglLayer.render()}},{key:"showLayer",value:function(l){for(var a=0;a<this.layers.length;a++)this.layers[a]===l&&l.show();this.options.autoUpdate&&(this.isRequestAnimation()?this.webglLayer.startAnimation():this.webglLayer.stopAnimation()),this.webglLayer.render()}},{key:"hideLayer",value:function(l){for(var a=0;a<this.layers.length;a++)this.layers[a]===l&&l.hide();this.options.autoUpdate&&(this.isRequestAnimation()?this.webglLayer.startAnimation():this.webglLayer.stopAnimation()),this.webglLayer.render()}},{key:"removeAllLayers",value:function(){this.layers=[],this.webglLayer.stopAnimation(),this.webglLayer.render()}},{key:"destroyAllLayers",value:function(){for(var l=0;l<this.layers.length;l++){var a=this.layers[l];a.destroy&&a.destroy()}}},{key:"getAllLayers",value:function(){return this.layers}},{key:"getAllThreeLayers",value:function(){for(var l=[],a=0;a<this.layers.length;a++){var f=this.layers[a];f.layerType==="ThreeLayer"&&l.push(f)}return l}},{key:"isRequestAnimation",value:function(){for(var l=!1,a=0;a<this.layers.length;a++)if(this.layers[a].isRequestAnimation()){l=!0;break}return l}},{key:"beforeRender",value:function(l){l.gl&&this.webglLayer.stateManager.save()}},{key:"afterRender",value:function(l){l.gl&&this.webglLayer.stateManager.restore()}},{key:"renderGLLayers",value:function(l){this.webglLayer.stateManager.save(),this.webglLayer.stateManager.setDefaultState();for(var a=0;a<this.layers.length;a++){var f=this.layers[a];f._visible===!0&&f.layerType!=="threeLayer"&&f.layerType!=="ThreeLayer"&&(this.beforeRender(l),l.gl.enable(l.gl.DEPTH_TEST),l.gl.depthFunc(l.gl.LEQUAL),f.render(l),this.afterRender(l))}this.webglLayer.stateManager.restore()}},{key:"renderThreeLayer",value:function(l){for(var a=0;a<this.layers.length;a++){var f=this.layers[a];f._visible===!0&&f.layerType==="ThreeLayer"&&f.render(l)}}},{key:"renderThreeLayers",value:function(l){for(var a=0;a<this.layers.length;a++){var f=this.layers[a];f._visible===!0&&f.layerType==="threeLayer"&&(this.beforeRender(l),f.render(l),this.afterRender(l))}}},{key:"onClick",value:function(l){for(var a=0;a<this.layers.length;a++){var f=this.layers[a];if(f._visible===!0&&f.layerType!=="threeLayer"&&f.layerType!=="ThreeLayer"&&f.options.enablePicked&&f.options.onClick&&f.pick){var h=f.pick(l.x,l.y);f.options.onClick(h,l),f.options.autoSelect&&this.webglLayer.render()}}}},{key:"onDblClick",value:function(l){for(var a=0;a<this.layers.length;a++){var f=this.layers[a];if(f._visible===!0&&f.layerType!=="threeLayer"&&f.layerType!=="ThreeLayer"&&f.options.enablePicked&&f.options.onDblClick&&f.pick){var h=f.pick(l.x,l.y);f.options.onDblClick(h,l),f.options.autoSelect&&this.webglLayer.render()}}}},{key:"onRightClick",value:function(l){for(var a=0;a<this.layers.length;a++){var f=this.layers[a];if(f._visible===!0&&f.layerType!=="threeLayer"&&f.layerType!=="ThreeLayer"&&f.options.enablePicked&&f.options.onRightClick&&f.pick){var h=f.pick(l.x,l.y);f.options.onRightClick(h,l),f.options.autoSelect&&this.webglLayer.render()}}}},{key:"onMousemove",value:function(l){for(var a=!1,f=0;f<this.layers.length;f++){var h=this.layers[f];if(h._visible===!0&&h.layerType!=="threeLayer"&&h.layerType!=="ThreeLayer"&&h.options.enablePicked&&h.pick){var y=h.pick(l.x,l.y);this.webglLayer.map.map.platform.style.cursor=y.dataIndex===-1?"default":"pointer",h.options.onMousemove&&h.options.onMousemove(y,l),h.options.autoSelect&&(a=!0)}}a&&(this.webglLayer.isAnimation||this.webglLayer.render())}},{key:"destroy",value:function(){this.destroyAllLayers(),this.removeAllLayers()}}]),d}(),ie=function(){function d(n){var l=this;di(this,d),this.options={autoUpdate:!0},this._visible=!0,us(this.options,n);var a=n.pointOffset;this.webglLayer=n.webglLayer||new vh(n.map,this.options),this.layerManager=new q({autoUpdate:this.options.autoUpdate,webglLayer:this.webglLayer}),this.effectManager=new le(this.webglLayer.gl),this.webglRender={render:function(){}},this.options.effects&&this.effectManager.setEffects([this.webglRender].concat(this.options.effects)),this.webglLayer.onRender(function(f){l._render(f)}),this.webglLayer.onClick=function(f){l._visible&&l.layerManager.onClick(f)},this.webglLayer.onDblClick=function(f){l._visible&&l.layerManager.onDblClick(f)},this.webglLayer.onRightClick=function(f){l._visible&&l.layerManager.onRightClick(f)},this.webglLayer.onMousemove=function(f){l._visible&&l.layerManager.onMousemove(f)},a||this.webglLayer.options.mapType==="cesium"||(a=this.webglLayer.map.getCenter(),this.webglLayer.options.pointOffset=[a.lng,a.lat]),this.webglLayer.map.onResize(function(){l.effectManager.onResize()}),(this.postProcessing=n.postProcessing)&&(this.postProcessing.setWebglLayer(this.webglLayer),n=this.postProcessing.getThreeLayer(),this.addLayer(n),this.postProcessing.initialize(n),n.postProcessing=this.postProcessing)}return nn(d,[{key:"renderCanvas",value:function(l){var a=this;this.postProcessing?this.postProcessing.addRender(function(){a.layerManager.renderGLLayers(l)}):this.layerManager.renderGLLayers(l),this.layerManager.renderThreeLayers(l),this.layerManager.renderThreeLayer(l)}},{key:"render",value:function(){this.webglLayer&&this.webglLayer.render()}},{key:"_render",value:function(l){var a=this;if(this._visible){var f=this.options.effects;f&&0<f.length?(this.webglRender.render=function(){a.renderCanvas(l)},this.effectManager.render()):(this.webglLayer.saveFramebuffer(),this.renderCanvas(l),this.webglLayer.restoreFramebuffer())}}},{key:"onRender",value:function(l){this.webglLayer.onRender(l)}},{key:"destroy",value:function(){this.stopAnimation(),this.layerManager.destroy(),this.effectManager.destroy(),this.webglLayer.destroy()}},{key:"isRequestAnimation",value:function(){return this.layerManager.isRequestAnimation()}},{key:"startAnimation",value:function(){this.webglLayer.startAnimation()}},{key:"stopAnimation",value:function(){this.webglLayer.stopAnimation()}},{key:"show",value:function(){this._visible!==!0&&(this._visible=!0,this.webglLayer.render(),this.isRequestAnimation()&&this.startAnimation())}},{key:"hide",value:function(){this._visible!==!1&&(this._visible=!1,this.stopAnimation(),this.webglLayer.clear())}},{key:"showLayer",value:function(l){this.layerManager.showLayer(l)}},{key:"hideLayer",value:function(l){this.layerManager.hideLayer(l)}},{key:"add",value:function(l){this.addLayer(l)}},{key:"remove",value:function(l){this.removeLayer(l)}},{key:"addLayer",value:function(l){this.layerManager.addLayer(l)}},{key:"removeLayer",value:function(l){this.layerManager.removeLayer(l)}},{key:"removeAllLayers",value:function(){this.layerManager.removeAllLayers()}},{key:"getAllLayers",value:function(){return this.layerManager.getAllLayers()}},{key:"getAllThreeLayers",value:function(){return this.layerManager.getAllThreeLayers()}}]),d}();window._hmt=window._hmt||[],function(){var d=document.createElement("script");d.src="https://hm.baidu.com/hm.js?e8002ef3d9e0d8274b5b74cc4a027d08";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(d,n)}(),F.View=ie,F.CanvasLayer=K,F.CircleLayer=function d(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return di(this,d),ye.includes(n.type)?new pe(n):new re(n)},F.GridLayer=qs,F.HeatGridLayer=na,F.ShapeLayer=Hs,F.SimpleLineLayer=_s,F.LineLayer3D=ms,F.LineLayer=el,F.WallSpriteLayer=Af,F.LinePointLayer=fc,F.WallLayer=Bs,F.WallTripLayer=Vl,F.HeatLineLayer=Ws,F.HoneycombLayer=tu,F.WebglLayer=vh,F.PointLayer=Ec,F.GroundRippleLayer=Kh,F.RippleLayer=Hc,F.SparkLayer=Zh,F.ClusterLayer=C0,F.HeatPointLayer=Ic,F.ShapeLineLayer=A0,F.PointTripLayer=Pl,F.LineTripLayer=py,F.IconLineLayer=my,F.LineFlowLayer=qh,F.TileLayer=Cg,F.IconLayer=yg,F.BoardLayer=Wc,F.PolygonLayer=w0,F.CarLineLayer=wv,F.Layer=fe,F.TextLayer=Cu,F.TrafficLayer=S,F.GltfLayer=yp,F.HeatmapLayer=E,F.BarLayer=R,F.MarkerListLayer=N,F.FXAA=wm,F.SMAA=bm,F.BlurEffect=Tp,F.BloomEffect=Bd,F.BrightEffect=Ug,F.DepthEffect=ee,F.EffectManager=le,F.getContext=At,F.createTexture=cn,F.loadTextureImage=Jt,F.FrameBufferObject=Qu,F.Program=es,F.StateManager=om,F.Buffer=Jo,F.VertexArray=gu,F.CommonLayer=Cm,F.MercatorProjection=pn,F.Canvas=Xt,F.Intensity=et,F.BezierCurve=bt,F.GeodesicCurve=qe,F.OdCurve=Ye,F.utilCity={getProvinceNameByCityName:function(n){for(var l=0;l<_t.length;l++)for(var a=_t[l].n,f=_t[l].cities,h=0;h<f.length;h++)if(f[h].n==n)return a;return null},getCenterByCityName:function(n){n=n.replace("\u5E02","");for(var l=0;l<Ct.length;l++)if(Ct[l].n==n)return ht(Ct[l].g);for(l=0;l<Nr.length;l++)if(Nr[l].n==n)return ht(Nr[l].g);for(l=0;l<_t.length;l++){if(_t[l].n==n)return ht(_t[l].g);for(var a=_t[l].cities,f=0;f<a.length;f++)if(a[f].n==n)return ht(a[f].g)}return null}},F.isMobile=ln,F.Encryptor={encode:function(n){n=im.deflateRaw(n);for(var l=[],a=0;a<n.length;a++)l.push(n[a]^23);return new Uint8Array(l)},decode:function(n){n=new Uint8Array(n);for(var l=[],a=0;a<n.length;a++)l.push(n[a]^23);n=new Uint8Array(l);try{var f=window.flate.deflate_decode_raw(n);return new TextDecoder("utf-8").decode(f)}catch(h){return console.warn("inflate by pako!"),im.inflateRaw(n,{to:"string"})}},download:function(n,l){var a=new Blob([n],{type:"application/octet-binary"});n=document.createElement("a"),a=window.URL.createObjectURL(a),n.href=a,n.download=l||"mapvgl_download",n.click()}},F.toRadian=st,F.toAngle=St,F.ceilPowerOfTwo=Xr,F.floorPowerOfTwo=zt,F.approximatelyEqual=nr,F.__moduleExports=Qr,F.vec4=Bn,F.vec3=wr,F.vec2=on,F.quat2=jn,F.quat=fn,F.mat4=zr,F.mat3=Sn,F.mat2d=xi,F.mat2=mo,F.glMatrix=yi,Object.defineProperty(F,"__esModule",{value:!0})})}).call(this,U("yLpj"))},"4kuk":function(rt,je,U){var xe=U("SfRM"),Oe=U("Hvzi"),F=U("u8Dt"),K=U("ekgI"),Ae=U("JSQU");function ve(Pe){var We=-1,we=Pe==null?0:Pe.length;for(this.clear();++We<we;){var De=Pe[We];this.set(De[0],De[1])}}ve.prototype.clear=xe,ve.prototype.delete=Oe,ve.prototype.get=F,ve.prototype.has=K,ve.prototype.set=Ae,rt.exports=ve},"5bzT":function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("mrSG"),Oe=xe.__importDefault(U("hODF")),F=function(K){xe.__extends(Ae,K);function Ae(ve){return K.call(this,ve)||this}return Ae.prototype.getControl=function(){return new BMapGL.NavigationControl3D(this.getOptions())},Ae.prototype.render=function(){return null},Ae}(Oe.default);je.default=F},"5rEg":function(rt,je,U){"use strict";var xe=U("mh/l"),Oe=U("rePB"),F=U("q1tI"),K=U("TSYQ"),Ae=U.n(K),ve=U("H84U"),Pe=function(Ie){return F.createElement(ve.a,null,function(ht){var Er,Cn=ht.getPrefixCls,pr=ht.direction,$r=Ie.prefixCls,An=Ie.className,rn=An===void 0?"":An,fr=Cn("input-group",$r),_r=Ae()(fr,(Er={},Object(Oe.a)(Er,"".concat(fr,"-lg"),Ie.size==="large"),Object(Oe.a)(Er,"".concat(fr,"-sm"),Ie.size==="small"),Object(Oe.a)(Er,"".concat(fr,"-compact"),Ie.compact),Object(Oe.a)(Er,"".concat(fr,"-rtl"),pr==="rtl"),Er),rn);return F.createElement("span",{className:_r,style:Ie.style,onMouseEnter:Ie.onMouseEnter,onMouseLeave:Ie.onMouseLeave,onFocus:Ie.onFocus,onBlur:Ie.onBlur},Ie.children)})},We=Pe,we=U("wx14"),De=U("c+Xe"),at=U("l+S1"),se=U("2/Rp"),Re=U("3Nzz"),mt=U("0n0R"),st=function(qe,Ie){var ht={};for(var Er in qe)Object.prototype.hasOwnProperty.call(qe,Er)&&Ie.indexOf(Er)<0&&(ht[Er]=qe[Er]);if(qe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Cn=0,Er=Object.getOwnPropertySymbols(qe);Cn<Er.length;Cn++)Ie.indexOf(Er[Cn])<0&&Object.prototype.propertyIsEnumerable.call(qe,Er[Cn])&&(ht[Er[Cn]]=qe[Er[Cn]]);return ht},St=F.forwardRef(function(qe,Ie){var ht,Er=qe.prefixCls,Cn=qe.inputPrefixCls,pr=qe.className,$r=qe.size,An=qe.suffix,rn=qe.enterButton,fr=rn===void 0?!1:rn,_r=qe.addonAfter,Wr=qe.loading,dt=qe.disabled,At=qe.onSearch,cn=qe.onChange,Jt=st(qe,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange"]),rr=F.useContext(ve.b),Gn=rr.getPrefixCls,Kr=rr.direction,ai=F.useContext(Re.b),Nn=$r||ai,So=F.useRef(null),Wo=function(Mi){Mi&&Mi.target&&Mi.type==="click"&&At&&At(Mi.target.value,Mi),cn&&cn(Mi)},Un=function(Mi){var Di;document.activeElement===((Di=So.current)===null||Di===void 0?void 0:Di.input)&&Mi.preventDefault()},an=function(Mi){var Di;At&&At((Di=So.current)===null||Di===void 0?void 0:Di.input.value,Mi)},In=Gn("input-search",Er),Jr=Gn("input",Cn),Xn=typeof fr=="boolean"||typeof fr=="undefined"?F.createElement(at.a,null):null,hr="".concat(In,"-button"),dn,Mn=fr||{},Tn=Mn.type&&Mn.type.__ANT_BUTTON===!0;Tn||Mn.type==="button"?dn=Object(mt.a)(Mn,Object(we.a)({onMouseDown:Un,onClick:an,key:"enterButton"},Tn?{className:hr,size:Nn}:{})):dn=F.createElement(se.a,{className:hr,type:fr?"primary":void 0,size:Nn,disabled:dt,key:"enterButton",onMouseDown:Un,onClick:an,loading:Wr,icon:Xn},fr),_r&&(dn=[dn,Object(mt.a)(_r,{key:"addonAfter"})]);var kr=Ae()(In,(ht={},Object(Oe.a)(ht,"".concat(In,"-rtl"),Kr==="rtl"),Object(Oe.a)(ht,"".concat(In,"-").concat(Nn),!!Nn),Object(Oe.a)(ht,"".concat(In,"-with-button"),!!fr),ht),pr);return F.createElement(xe.a,Object(we.a)({ref:Object(De.a)(So,Ie),onPressEnter:an},Jt,{size:Nn,prefixCls:Jr,addonAfter:dn,suffix:An,onChange:Wo,className:kr,disabled:dt}))});St.displayName="Search";var Xr=St,zt=U("whJP"),nr=U("ODXe"),pn=U("bT9E"),Vr=U("9BLJ"),$e=U("fHMl"),Et=function(qe,Ie){var ht={};for(var Er in qe)Object.prototype.hasOwnProperty.call(qe,Er)&&Ie.indexOf(Er)<0&&(ht[Er]=qe[Er]);if(qe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Cn=0,Er=Object.getOwnPropertySymbols(qe);Cn<Er.length;Cn++)Ie.indexOf(Er[Cn])<0&&Object.prototype.propertyIsEnumerable.call(qe,Er[Cn])&&(ht[Er[Cn]]=qe[Er[Cn]]);return ht},Xt={click:"onClick",hover:"onMouseOver"},et=F.forwardRef(function(qe,Ie){var ht=Object(F.useState)(!1),Er=Object(nr.a)(ht,2),Cn=Er[0],pr=Er[1],$r=function(){var _r=qe.disabled;_r||pr(!Cn)},An=function(_r){var Wr,dt=qe.action,At=qe.iconRender,cn=At===void 0?function(){return null}:At,Jt=Xt[dt]||"",rr=cn(Cn),Gn=(Wr={},Object(Oe.a)(Wr,Jt,$r),Object(Oe.a)(Wr,"className","".concat(_r,"-icon")),Object(Oe.a)(Wr,"key","passwordIcon"),Object(Oe.a)(Wr,"onMouseDown",function(ai){ai.preventDefault()}),Object(Oe.a)(Wr,"onMouseUp",function(ai){ai.preventDefault()}),Wr);return F.cloneElement(F.isValidElement(rr)?rr:F.createElement("span",null,rr),Gn)},rn=function(_r){var Wr=_r.getPrefixCls,dt=qe.className,At=qe.prefixCls,cn=qe.inputPrefixCls,Jt=qe.size,rr=qe.visibilityToggle,Gn=Et(qe,["className","prefixCls","inputPrefixCls","size","visibilityToggle"]),Kr=Wr("input",cn),ai=Wr("input-password",At),Nn=rr&&An(ai),So=Ae()(ai,dt,Object(Oe.a)({},"".concat(ai,"-").concat(Jt),!!Jt)),Wo=Object(we.a)(Object(we.a)({},Object(pn.a)(Gn,["suffix","iconRender"])),{type:Cn?"text":"password",className:So,prefixCls:Kr,suffix:Nn});return Jt&&(Wo.size=Jt),F.createElement(xe.a,Object(we.a)({ref:Ie},Wo))};return F.createElement(ve.a,null,rn)});et.defaultProps={action:"click",visibilityToggle:!0,iconRender:function(Ie){return Ie?F.createElement(Vr.a,null):F.createElement($e.a,null)}},et.displayName="Password";var bt=et;xe.a.Group=We,xe.a.Search=Xr,xe.a.TextArea=zt.a,xe.a.Password=bt;var Zt=je.a=xe.a},"5zFI":function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("i8i4");function Oe(F,K){this._point=new BMapGL.Point(F.lng,F.lat),this._options=K||{},this._html=K.html||"";var Ae=new BMapGL.Overlay;for(var ve in Ae)ve!=="initialize"&&ve!=="draw"&&ve!=="destroy"&&(this.__proto__[ve]=Ae[ve])}Oe.prototype.initialize=function(F){return this._map=F,this._div=document.createElement("div"),this._div.style.position="absolute",this._div.style.zIndex=BMapGL.Overlay.getZIndex(this._point.lat),xe.render(this._html,this._div),this._div.onmousedown=function(K){return K=K||window.event,K.preventDefault?K.preventDefault():K.returnValue=!1,!1},F.getPanes().floatShadow.appendChild(this._div),this._div},Oe.prototype.destroy=function(){xe.unmountComponentAtNode(this._div)},Oe.prototype.draw=function(){var F=this._map,K=F.pointToOverlayPixel(this._point),Ae={width:0,height:0};this._options&&this._options.offset&&(Ae=this._options.offset),this._div.style.left=K.x+Ae.width+"px",this._div.style.top=K.y+Ae.height+"px",this._div.style.transform="translate(-50%, -100%)"},je.default=Oe},"6sVZ":function(rt,je){var U=Object.prototype;function xe(Oe){var F=Oe&&Oe.constructor,K=typeof F=="function"&&F.prototype||U;return Oe===K}rt.exports=xe},"75XV":function(rt,je,U){},"77Zs":function(rt,je,U){var xe=U("Xi7e");function Oe(){this.__data__=new xe,this.size=0}rt.exports=Oe},"7GkX":function(rt,je,U){var xe=U("b80T"),Oe=U("A90E"),F=U("MMmD");function K(Ae){return F(Ae)?xe(Ae):Oe(Ae)}rt.exports=K},"7Kak":function(rt,je,U){"use strict";var xe=U("cIOH"),Oe=U.n(xe),F=U("KPFz"),K=U.n(F)},"7fqy":function(rt,je){function U(xe){var Oe=-1,F=Array(xe.size);return xe.forEach(function(K,Ae){F[++Oe]=[Ae,K]}),F}rt.exports=U},"7z/i":function(rt,je,U){"use strict";(function(xe){var Oe=typeof xe!="undefined"&&xe.versions!=null&&xe.versions.node!=null,F=function(){return typeof window!="undefined"&&typeof window.document!="undefined"&&!Oe};je.a=F}).call(this,U("Q2Ig"))},"8txm":function(rt,je,U){},"9BLJ":function(rt,je,U){"use strict";var xe=U("q1tI"),Oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},F=Oe,K=U("6VBw"),Ae=function(We,we){return xe.createElement(K.a,Object.assign({},We,{ref:we,icon:F}))};Ae.displayName="EyeOutlined";var ve=je.a=xe.forwardRef(Ae)},"9yH6":function(rt,je,U){"use strict";var xe=U("rePB"),Oe=U("wx14"),F=U("q1tI"),K=U("x1Ya"),Ae=U("TSYQ"),ve=U.n(Ae),Pe=U("c+Xe"),We=U("H84U"),we=F.createContext(null),De=we.Provider,at=we,se=U("uaoM"),Re=function(Zt,qe){var Ie={};for(var ht in Zt)Object.prototype.hasOwnProperty.call(Zt,ht)&&qe.indexOf(ht)<0&&(Ie[ht]=Zt[ht]);if(Zt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Er=0,ht=Object.getOwnPropertySymbols(Zt);Er<ht.length;Er++)qe.indexOf(ht[Er])<0&&Object.prototype.propertyIsEnumerable.call(Zt,ht[Er])&&(Ie[ht[Er]]=Zt[ht[Er]]);return Ie},mt=function(qe,Ie){var ht,Er=F.useContext(at),Cn=F.useContext(We.b),pr=Cn.getPrefixCls,$r=Cn.direction,An=F.useRef(),rn=Object(Pe.a)(Ie,An);F.useEffect(function(){Object(se.a)(!("optionType"in qe),"Radio","`optionType` is only support in Radio.Group.")},[]);var fr=function(ai){qe.onChange&&qe.onChange(ai),(Er==null?void 0:Er.onChange)&&Er.onChange(ai)},_r=qe.prefixCls,Wr=qe.className,dt=qe.children,At=qe.style,cn=Re(qe,["prefixCls","className","children","style"]),Jt=pr("radio",_r),rr=Object(Oe.a)({},cn);Er&&(rr.name=Er.name,rr.onChange=fr,rr.checked=qe.value===Er.value,rr.disabled=qe.disabled||Er.disabled);var Gn=ve()("".concat(Jt,"-wrapper"),(ht={},Object(xe.a)(ht,"".concat(Jt,"-wrapper-checked"),rr.checked),Object(xe.a)(ht,"".concat(Jt,"-wrapper-disabled"),rr.disabled),Object(xe.a)(ht,"".concat(Jt,"-wrapper-rtl"),$r==="rtl"),ht),Wr);return F.createElement("label",{className:Gn,style:At,onMouseEnter:qe.onMouseEnter,onMouseLeave:qe.onMouseLeave},F.createElement(K.a,Object(Oe.a)({},rr,{prefixCls:Jt,ref:rn})),dt!==void 0?F.createElement("span",null,dt):null)},st=F.forwardRef(mt);st.displayName="Radio",st.defaultProps={type:"radio"};var St=st,Xr=U("ODXe"),zt=U("6cGi"),nr=U("3Nzz"),pn=F.forwardRef(function(Zt,qe){var Ie=F.useContext(We.b),ht=Ie.getPrefixCls,Er=Ie.direction,Cn=F.useContext(nr.b),pr=Object(zt.a)(Zt.defaultValue,{value:Zt.value}),$r=Object(Xr.a)(pr,2),An=$r[0],rn=$r[1],fr=function(dt){var At=An,cn=dt.target.value;"value"in Zt||rn(cn);var Jt=Zt.onChange;Jt&&cn!==At&&Jt(dt)},_r=function(){var dt,At=Zt.prefixCls,cn=Zt.className,Jt=cn===void 0?"":cn,rr=Zt.options,Gn=Zt.optionType,Kr=Zt.buttonStyle,ai=Kr===void 0?"outline":Kr,Nn=Zt.disabled,So=Zt.children,Wo=Zt.size,Un=Zt.style,an=Zt.id,In=Zt.onMouseEnter,Jr=Zt.onMouseLeave,Xn=ht("radio",At),hr="".concat(Xn,"-group"),dn=So;if(rr&&rr.length>0){var Mn=Gn==="button"?"".concat(Xn,"-button"):Xn;dn=rr.map(function(ei){return typeof ei=="string"?F.createElement(St,{key:ei,prefixCls:Mn,disabled:Nn,value:ei,checked:An===ei},ei):F.createElement(St,{key:"radio-group-value-options-".concat(ei.value),prefixCls:Mn,disabled:ei.disabled||Nn,value:ei.value,checked:An===ei.value,style:ei.style},ei.label)})}var Tn=Wo||Cn,kr=ve()(hr,"".concat(hr,"-").concat(ai),(dt={},Object(xe.a)(dt,"".concat(hr,"-").concat(Tn),Tn),Object(xe.a)(dt,"".concat(hr,"-rtl"),Er==="rtl"),dt),Jt);return F.createElement("div",{className:kr,style:Un,onMouseEnter:In,onMouseLeave:Jr,id:an,ref:qe},dn)};return F.createElement(De,{value:{onChange:fr,value:An,disabled:Zt.disabled,name:Zt.name}},_r())}),Vr=F.memo(pn),$e=function(Zt,qe){var Ie={};for(var ht in Zt)Object.prototype.hasOwnProperty.call(Zt,ht)&&qe.indexOf(ht)<0&&(Ie[ht]=Zt[ht]);if(Zt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Er=0,ht=Object.getOwnPropertySymbols(Zt);Er<ht.length;Er++)qe.indexOf(ht[Er])<0&&Object.prototype.propertyIsEnumerable.call(Zt,ht[Er])&&(Ie[ht[Er]]=Zt[ht[Er]]);return Ie},Et=function(qe,Ie){var ht=F.useContext(at),Er=F.useContext(We.b),Cn=Er.getPrefixCls,pr=qe.prefixCls,$r=$e(qe,["prefixCls"]),An=Cn("radio-button",pr);return ht&&($r.checked=qe.value===ht.value,$r.disabled=qe.disabled||ht.disabled),F.createElement(St,Object(Oe.a)({prefixCls:An},$r,{type:"radio",ref:Ie}))},Xt=F.forwardRef(Et),et=St;et.Button=Xt,et.Group=Vr;var bt=je.a=et},A90E:function(rt,je,U){var xe=U("6sVZ"),Oe=U("V6Ve"),F=Object.prototype,K=F.hasOwnProperty;function Ae(ve){if(!xe(ve))return Oe(ve);var Pe=[];for(var We in Object(ve))K.call(ve,We)&&We!="constructor"&&Pe.push(We);return Pe}rt.exports=Ae},"B+1O":function(rt,je,U){},B8du:function(rt,je){function U(){return!1}rt.exports=U},BMrR:function(rt,je,U){"use strict";var xe=U("qrJ5");je.a=xe.a},CFYs:function(rt,je,U){"use strict";var xe=U("rePB"),Oe=U("wx14"),F=U("1OyB"),K=U("vuIU"),Ae=U("JX7q"),ve=U("Ji7U"),Pe=U("LK+K"),We=U("q1tI"),we=U("TSYQ"),De=U.n(we),at=U("bT9E"),se=U("4i/N"),Re=U("bRQS"),mt=U("jO45"),st=U("jN4g"),St=U("H84U"),Xr=U("CWQg"),zt=U("uaoM"),nr=U("AJpP");function pn(Un){return!Un||Un<0?0:Un>100?100:Un}function Vr(Un){var an=Un.success,In=Un.successPercent,Jr=In;return an&&"progress"in an&&(Object(zt.a)(!1,"Progress","`success.progress` is deprecated. Please use `success.percent` instead."),Jr=an.progress),an&&"percent"in an&&(Jr=an.percent),Jr}var $e=function(Un,an){var In={};for(var Jr in Un)Object.prototype.hasOwnProperty.call(Un,Jr)&&an.indexOf(Jr)<0&&(In[Jr]=Un[Jr]);if(Un!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Xn=0,Jr=Object.getOwnPropertySymbols(Un);Xn<Jr.length;Xn++)an.indexOf(Jr[Xn])<0&&Object.prototype.propertyIsEnumerable.call(Un,Jr[Xn])&&(In[Jr[Xn]]=Un[Jr[Xn]]);return In},Et=function(an){var In=[];return Object.keys(an).forEach(function(Jr){var Xn=parseFloat(Jr.replace(/%/g,""));isNaN(Xn)||In.push({key:Xn,value:an[Jr]})}),In=In.sort(function(Jr,Xn){return Jr.key-Xn.key}),In.map(function(Jr){var Xn=Jr.key,hr=Jr.value;return"".concat(hr," ").concat(Xn,"%")}).join(", ")},Xt=function(an,In){var Jr=an.from,Xn=Jr===void 0?nr.presetPrimaryColors.blue:Jr,hr=an.to,dn=hr===void 0?nr.presetPrimaryColors.blue:hr,Mn=an.direction,Tn=Mn===void 0?In==="rtl"?"to left":"to right":Mn,kr=$e(an,["from","to","direction"]);if(Object.keys(kr).length!==0){var ei=Et(kr);return{backgroundImage:"linear-gradient(".concat(Tn,", ").concat(ei,")")}}return{backgroundImage:"linear-gradient(".concat(Tn,", ").concat(Xn,", ").concat(dn,")")}},et=function(an){var In=an.prefixCls,Jr=an.direction,Xn=an.percent,hr=an.strokeWidth,dn=an.size,Mn=an.strokeColor,Tn=an.strokeLinecap,kr=an.children,ei=an.trailColor,Mi=an.success,Di=Mn&&typeof Mn!="string"?Xt(Mn,Jr):{background:Mn},ui=ei?{backgroundColor:ei}:void 0,Po=Object(Oe.a)({width:"".concat(pn(Xn),"%"),height:hr||(dn==="small"?6:8),borderRadius:Tn==="square"?0:""},Di),cr=Vr(an),$o={width:"".concat(pn(cr),"%"),height:hr||(dn==="small"?6:8),borderRadius:Tn==="square"?0:"",backgroundColor:Mi==null?void 0:Mi.strokeColor},As=cr!==void 0?We.createElement("div",{className:"".concat(In,"-success-bg"),style:$o}):null;return We.createElement(We.Fragment,null,We.createElement("div",{className:"".concat(In,"-outer")},We.createElement("div",{className:"".concat(In,"-inner"),style:ui},We.createElement("div",{className:"".concat(In,"-bg"),style:Po}),As)),kr)},bt=et,Zt=U("ODXe"),qe=U("Ff2n"),Ie={className:"",percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,style:{},trailColor:"#D9D9D9",trailWidth:1},ht=function(an){var In=an.map(function(){return Object(We.useRef)()}),Jr=Object(We.useRef)(null);return Object(We.useEffect)(function(){var Xn=Date.now(),hr=!1;Object.keys(In).forEach(function(dn){var Mn=In[dn].current;if(!!Mn){hr=!0;var Tn=Mn.style;Tn.transitionDuration=".3s, .3s, .3s, .06s",Jr.current&&Xn-Jr.current<100&&(Tn.transitionDuration="0s, 0s")}}),hr&&(Jr.current=Date.now())}),[In]},Er=function(an){var In=an.className,Jr=an.percent,Xn=an.prefixCls,hr=an.strokeColor,dn=an.strokeLinecap,Mn=an.strokeWidth,Tn=an.style,kr=an.trailColor,ei=an.trailWidth,Mi=an.transition,Di=Object(qe.a)(an,["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"]);delete Di.gapPosition;var ui=Array.isArray(Jr)?Jr:[Jr],Po=Array.isArray(hr)?hr:[hr],cr=ht(ui),$o=Object(Zt.a)(cr,1),As=$o[0],Gi=Mn/2,Xs=100-Mn/2,un="M ".concat(dn==="round"?Gi:0,",").concat(Gi,`
         L `).concat(dn==="round"?Xs:100,",").concat(Gi),ko="0 0 100 ".concat(Mn),ss=0;return We.createElement("svg",Object(Oe.a)({className:De()("".concat(Xn,"-line"),In),viewBox:ko,preserveAspectRatio:"none",style:Tn},Di),We.createElement("path",{className:"".concat(Xn,"-line-trail"),d:un,strokeLinecap:dn,stroke:kr,strokeWidth:ei||Mn,fillOpacity:"0"}),ui.map(function(Gr,Yl){var ou=1;switch(dn){case"round":ou=1-Mn/100;break;case"square":ou=1-Mn/2/100;break;default:ou=1;break}var ea={strokeDasharray:"".concat(Gr*ou,"px, 100px"),strokeDashoffset:"-".concat(ss,"px"),transition:Mi||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},Eu=Po[Yl]||Po[Po.length-1];return ss+=Gr,We.createElement("path",{key:Yl,className:"".concat(Xn,"-line-path"),d:un,strokeLinecap:dn,stroke:Eu,strokeWidth:Mn,fillOpacity:"0",ref:As[Yl],style:ea})}))};Er.defaultProps=Ie,Er.displayName="Line";var Cn=Er,pr=0;function $r(Un){return+Un.replace("%","")}function An(Un){return Array.isArray(Un)?Un:[Un]}function rn(Un,an,In,Jr){var Xn=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,hr=arguments.length>5?arguments[5]:void 0,dn=50-Jr/2,Mn=0,Tn=-dn,kr=0,ei=-2*dn;switch(hr){case"left":Mn=-dn,Tn=0,kr=2*dn,ei=0;break;case"right":Mn=dn,Tn=0,kr=-2*dn,ei=0;break;case"bottom":Tn=dn,ei=2*dn;break;default:}var Mi="M 50,50 m ".concat(Mn,",").concat(Tn,`
   a `).concat(dn,",").concat(dn," 0 1 1 ").concat(kr,",").concat(-ei,`
   a `).concat(dn,",").concat(dn," 0 1 1 ").concat(-kr,",").concat(ei),Di=Math.PI*2*dn,ui={stroke:In,strokeDasharray:"".concat(an/100*(Di-Xn),"px ").concat(Di,"px"),strokeDashoffset:"-".concat(Xn/2+Un/100*(Di-Xn),"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s"};return{pathString:Mi,pathStyle:ui}}var fr=function(an){var In=an.prefixCls,Jr=an.strokeWidth,Xn=an.trailWidth,hr=an.gapDegree,dn=an.gapPosition,Mn=an.trailColor,Tn=an.strokeLinecap,kr=an.style,ei=an.className,Mi=an.strokeColor,Di=an.percent,ui=Object(qe.a)(an,["prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"]),Po=We.useMemo(function(){return pr+=1,pr},[]),cr=rn(0,100,Mn,Jr,hr,dn),$o=cr.pathString,As=cr.pathStyle,Gi=An(Di),Xs=An(Mi),un=Xs.find(function(ou){return Object.prototype.toString.call(ou)==="[object Object]"}),ko=ht(Gi),ss=Object(Zt.a)(ko,1),Gr=ss[0],Yl=function(){var ea=0;return Gi.map(function(Eu,wi){var Pi=Xs[wi]||Xs[Xs.length-1],hi=Object.prototype.toString.call(Pi)==="[object Object]"?"url(#".concat(In,"-gradient-").concat(Po,")"):"",Mt=rn(ea,Eu,Pi,Jr,hr,dn);return ea+=Eu,We.createElement("path",{key:wi,className:"".concat(In,"-circle-path"),d:Mt.pathString,stroke:hi,strokeLinecap:Tn,strokeWidth:Jr,opacity:Eu===0?0:1,fillOpacity:"0",style:Mt.pathStyle,ref:Gr[wi]})})};return We.createElement("svg",Object(Oe.a)({className:De()("".concat(In,"-circle"),ei),viewBox:"0 0 100 100",style:kr},ui),un&&We.createElement("defs",null,We.createElement("linearGradient",{id:"".concat(In,"-gradient-").concat(Po),x1:"100%",y1:"0%",x2:"0%",y2:"0%"},Object.keys(un).sort(function(ou,ea){return $r(ou)-$r(ea)}).map(function(ou,ea){return We.createElement("stop",{key:ea,offset:ou,stopColor:un[ou]})}))),We.createElement("path",{className:"".concat(In,"-circle-trail"),d:$o,stroke:Mn,strokeLinecap:Tn,strokeWidth:Xn||Jr,fillOpacity:"0",style:As}),Yl().reverse())};fr.defaultProps=Ie,fr.displayName="Circle";var _r=fr,Wr={Line:Cn,Circle:_r};function dt(Un){var an=Un.percent,In=Un.success,Jr=Un.successPercent,Xn=pn(an),hr=Vr({success:In,successPercent:Jr});return hr?[pn(hr),pn(Xn-pn(hr))]:Xn}function At(Un){var an=Un.success,In=Un.strokeColor,Jr=Un.successPercent,Xn=In||null,hr=Vr({success:an,successPercent:Jr});return hr?[nr.presetPrimaryColors.green,Xn]:Xn}var cn=function(an){var In=an.prefixCls,Jr=an.width,Xn=an.strokeWidth,hr=an.trailColor,dn=an.strokeLinecap,Mn=an.gapPosition,Tn=an.gapDegree,kr=an.type,ei=an.children,Mi=Jr||120,Di={width:Mi,height:Mi,fontSize:Mi*.15+6},ui=Xn||6,Po=Mn||kr==="dashboard"&&"bottom"||"top",cr=function(){if(Tn||Tn===0)return Tn;if(kr==="dashboard")return 75},$o=At(an),As=Object.prototype.toString.call($o)==="[object Object]",Gi=De()("".concat(In,"-inner"),Object(xe.a)({},"".concat(In,"-circle-gradient"),As));return We.createElement("div",{className:Gi,style:Di},We.createElement(_r,{percent:dt(an),strokeWidth:ui,trailWidth:ui,strokeColor:$o,strokeLinecap:dn,trailColor:hr,prefixCls:In,gapDegree:cr(),gapPosition:Po}),ei)},Jt=cn,rr=function(an){for(var In=an.size,Jr=an.steps,Xn=an.percent,hr=Xn===void 0?0:Xn,dn=an.strokeWidth,Mn=dn===void 0?8:dn,Tn=an.strokeColor,kr=an.trailColor,ei=an.prefixCls,Mi=an.children,Di=Math.round(Jr*(hr/100)),ui=In==="small"?2:14,Po=[],cr=0;cr<Jr;cr+=1)Po.push(We.createElement("div",{key:cr,className:De()("".concat(ei,"-steps-item"),Object(xe.a)({},"".concat(ei,"-steps-item-active"),cr<=Di-1)),style:{backgroundColor:cr<=Di-1?Tn:kr,width:ui,height:Mn}}));return We.createElement("div",{className:"".concat(ei,"-steps-outer")},Po,Mi)},Gn=rr,Kr=function(Un,an){var In={};for(var Jr in Un)Object.prototype.hasOwnProperty.call(Un,Jr)&&an.indexOf(Jr)<0&&(In[Jr]=Un[Jr]);if(Un!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Xn=0,Jr=Object.getOwnPropertySymbols(Un);Xn<Jr.length;Xn++)an.indexOf(Jr[Xn])<0&&Object.prototype.propertyIsEnumerable.call(Un,Jr[Xn])&&(In[Jr[Xn]]=Un[Jr[Xn]]);return In},ai=Object(Xr.a)("line","circle","dashboard"),Nn=Object(Xr.a)("normal","exception","active","success"),So=function(Un){Object(ve.a)(In,Un);var an=Object(Pe.a)(In);function In(){var Jr;return Object(F.a)(this,In),Jr=an.apply(this,arguments),Jr.renderProgress=function(Xn){var hr,dn=Xn.getPrefixCls,Mn=Xn.direction,Tn=Object(Ae.a)(Jr),kr=Tn.props,ei=kr.prefixCls,Mi=kr.className,Di=kr.size,ui=kr.type,Po=kr.steps,cr=kr.showInfo,$o=kr.strokeColor,As=Kr(kr,["prefixCls","className","size","type","steps","showInfo","strokeColor"]),Gi=dn("progress",ei),Xs=Jr.getProgressStatus(),un=Jr.renderProcessInfo(Gi,Xs);Object(zt.a)(!("successPercent"in kr),"Progress","`successPercent` is deprecated. Please use `success.percent` instead.");var ko;ui==="line"?ko=Po?We.createElement(Gn,Object(Oe.a)({},Jr.props,{strokeColor:typeof $o=="string"?$o:void 0,prefixCls:Gi,steps:Po}),un):We.createElement(bt,Object(Oe.a)({},Jr.props,{prefixCls:Gi,direction:Mn}),un):(ui==="circle"||ui==="dashboard")&&(ko=We.createElement(Jt,Object(Oe.a)({},Jr.props,{prefixCls:Gi,progressStatus:Xs}),un));var ss=De()(Gi,(hr={},Object(xe.a)(hr,"".concat(Gi,"-").concat(ui==="dashboard"&&"circle"||Po&&"steps"||ui),!0),Object(xe.a)(hr,"".concat(Gi,"-status-").concat(Xs),!0),Object(xe.a)(hr,"".concat(Gi,"-show-info"),cr),Object(xe.a)(hr,"".concat(Gi,"-").concat(Di),Di),Object(xe.a)(hr,"".concat(Gi,"-rtl"),Mn==="rtl"),hr),Mi);return We.createElement("div",Object(Oe.a)({},Object(at.a)(As,["status","format","trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","percent","success","successPercent"]),{className:ss}),ko)},Jr}return Object(K.a)(In,[{key:"getPercentNumber",value:function(){var Xn=this.props.percent,hr=Xn===void 0?0:Xn,dn=Vr(this.props);return parseInt(dn!==void 0?dn.toString():hr.toString(),10)}},{key:"getProgressStatus",value:function(){var Xn=this.props.status;return Nn.indexOf(Xn)<0&&this.getPercentNumber()>=100?"success":Xn||"normal"}},{key:"renderProcessInfo",value:function(Xn,hr){var dn=this.props,Mn=dn.showInfo,Tn=dn.format,kr=dn.type,ei=dn.percent,Mi=Vr(this.props);if(!Mn)return null;var Di,ui=Tn||function(cr){return"".concat(cr,"%")},Po=kr==="line";return Tn||hr!=="exception"&&hr!=="success"?Di=ui(pn(ei),pn(Mi)):hr==="exception"?Di=Po?We.createElement(st.a,null):We.createElement(se.a,null):hr==="success"&&(Di=Po?We.createElement(mt.a,null):We.createElement(Re.a,null)),We.createElement("span",{className:"".concat(Xn,"-text"),title:typeof Di=="string"?Di:void 0},Di)}},{key:"render",value:function(){return We.createElement(St.a,null,this.renderProgress)}}]),In}(We.Component);So.defaultProps={type:"line",percent:0,showInfo:!0,trailColor:null,size:"default",gapDegree:void 0,strokeLinecap:"round"};var Wo=je.a=So},CH3K:function(rt,je){function U(xe,Oe){for(var F=-1,K=Oe.length,Ae=xe.length;++F<K;)xe[Ae+F]=Oe[F];return xe}rt.exports=U},"CWI+":function(rt,je,U){},CeSn:function(rt,je){var U=0/0,xe="[object Symbol]",Oe=/^\s+|\s+$/g,F=/^[-+]0x[0-9a-f]+$/i,K=/^0b[01]+$/i,Ae=/^0o[0-7]+$/i,ve=parseInt,Pe=Object.prototype,We=Pe.toString;function we(Re){var mt=typeof Re;return!!Re&&(mt=="object"||mt=="function")}function De(Re){return!!Re&&typeof Re=="object"}function at(Re){return typeof Re=="symbol"||De(Re)&&We.call(Re)==xe}function se(Re){if(typeof Re=="number")return Re;if(at(Re))return U;if(we(Re)){var mt=typeof Re.valueOf=="function"?Re.valueOf():Re;Re=we(mt)?mt+"":mt}if(typeof Re!="string")return Re===0?Re:+Re;Re=Re.replace(Oe,"");var st=K.test(Re);return st||Ae.test(Re)?ve(Re.slice(2),st?2:8):F.test(Re)?U:+Re}rt.exports=se},Cwc5:function(rt,je,U){var xe=U("NKxu"),Oe=U("Npjl");function F(K,Ae){var ve=Oe(K,Ae);return xe(ve)?ve:void 0}rt.exports=F},D7Yy:function(rt,je,U){"use strict";var xe=U("ZvpZ");je.a=xe.a},DSRE:function(rt,je,U){(function(xe){var Oe=U("Kz5y"),F=U("B8du"),K=je&&!je.nodeType&&je,Ae=K&&typeof xe=="object"&&xe&&!xe.nodeType&&xe,ve=Ae&&Ae.exports===K,Pe=ve?Oe.Buffer:void 0,We=Pe?Pe.isBuffer:void 0,we=We||F;xe.exports=we}).call(this,U("YuTi")(rt))},DjyN:function(rt,je,U){"use strict";var xe=U("cIOH"),Oe=U.n(xe),F=U("Urep"),K=U.n(F),Ae=U("OaEy")},E2jh:function(rt,je,U){var xe=U("2gN3"),Oe=function(){var K=/[^.]+$/.exec(xe&&xe.keys&&xe.keys.IE_PROTO||"");return K?"Symbol(src)_1."+K:""}();function F(K){return!!Oe&&Oe in K}rt.exports=F},E9nw:function(rt,je){rt.exports=function(){var U=document.getSelection();if(!U.rangeCount)return function(){};for(var xe=document.activeElement,Oe=[],F=0;F<U.rangeCount;F++)Oe.push(U.getRangeAt(F));switch(xe.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":xe.blur();break;default:xe=null;break}return U.removeAllRanges(),function(){U.type==="Caret"&&U.removeAllRanges(),U.rangeCount||Oe.forEach(function(K){U.addRange(K)}),xe&&xe.focus()}}},EpBk:function(rt,je){function U(xe){var Oe=typeof xe;return Oe=="string"||Oe=="number"||Oe=="symbol"||Oe=="boolean"?xe!=="__proto__":xe===null}rt.exports=U},GOef:function(rt,je,U){"use strict";U.d(je,"c",function(){return ar}),U.d(je,"a",function(){return _n}),U.d(je,"b",function(){return Oo});var xe=U("n2rz"),Oe=U.n(xe);function F(Je,nt){if(Je.length!==nt.length)return!1;for(var ut=0;ut<Je.length;ut++)if(Je[ut]!==nt[ut])return!1;return!0}function K(Je,nt){nt===void 0&&(nt=F);var ut,Dt=[],en,bn=!1;function jr(){for(var tn=[],yn=0;yn<arguments.length;yn++)tn[yn]=arguments[yn];return bn&&ut===this&&nt(tn,Dt)||(en=Je.apply(this,tn),bn=!0,ut=this,Dt=tn),en}return jr}var Ae=K;function ve(Je){for(var nt=[],ut=0;ut<Je.length;){var Dt=Je[ut];if(Dt==="*"||Dt==="+"||Dt==="?"){nt.push({type:"MODIFIER",index:ut,value:Je[ut++]});continue}if(Dt==="\\"){nt.push({type:"ESCAPED_CHAR",index:ut++,value:Je[ut++]});continue}if(Dt==="{"){nt.push({type:"OPEN",index:ut,value:Je[ut++]});continue}if(Dt==="}"){nt.push({type:"CLOSE",index:ut,value:Je[ut++]});continue}if(Dt===":"){for(var en="",bn=ut+1;bn<Je.length;){var jr=Je.charCodeAt(bn);if(jr>=48&&jr<=57||jr>=65&&jr<=90||jr>=97&&jr<=122||jr===95){en+=Je[bn++];continue}break}if(!en)throw new TypeError("Missing parameter name at "+ut);nt.push({type:"NAME",index:ut,value:en}),ut=bn;continue}if(Dt==="("){var tn=1,yn="",bn=ut+1;if(Je[bn]==="?")throw new TypeError('Pattern cannot start with "?" at '+bn);for(;bn<Je.length;){if(Je[bn]==="\\"){yn+=Je[bn++]+Je[bn++];continue}if(Je[bn]===")"){if(tn--,tn===0){bn++;break}}else if(Je[bn]==="("&&(tn++,Je[bn+1]!=="?"))throw new TypeError("Capturing groups are not allowed at "+bn);yn+=Je[bn++]}if(tn)throw new TypeError("Unbalanced pattern at "+ut);if(!yn)throw new TypeError("Missing pattern at "+ut);nt.push({type:"PATTERN",index:ut,value:yn}),ut=bn;continue}nt.push({type:"CHAR",index:ut,value:Je[ut++]})}return nt.push({type:"END",index:ut,value:""}),nt}function Pe(Je,nt){nt===void 0&&(nt={});for(var ut=ve(Je),Dt=nt.prefixes,en=Dt===void 0?"./":Dt,bn="[^"+se(nt.delimiter||"/#?")+"]+?",jr=[],tn=0,yn=0,Qn="",mi=function(Gu){if(yn<ut.length&&ut[yn].type===Gu)return ut[yn++].value},si=function(Gu){var mc=mi(Gu);if(mc!==void 0)return mc;var Kc=ut[yn],gs=Kc.type,mf=Kc.index;throw new TypeError("Unexpected "+gs+" at "+mf+", expected "+Gu)},Ji=function(){for(var Gu="",mc;mc=mi("CHAR")||mi("ESCAPED_CHAR");)Gu+=mc;return Gu};yn<ut.length;){var Hi=mi("CHAR"),eo=mi("NAME"),go=mi("PATTERN");if(eo||go){var Ro=Hi||"";en.indexOf(Ro)===-1&&(Qn+=Ro,Ro=""),Qn&&(jr.push(Qn),Qn=""),jr.push({name:eo||tn++,prefix:Ro,suffix:"",pattern:go||bn,modifier:mi("MODIFIER")||""});continue}var va=Hi||mi("ESCAPED_CHAR");if(va){Qn+=va;continue}Qn&&(jr.push(Qn),Qn="");var zo=mi("OPEN");if(zo){var Ro=Ji(),tl=mi("NAME")||"",yl=mi("PATTERN")||"",au=Ji();si("CLOSE"),jr.push({name:tl||(yl?tn++:""),pattern:tl&&!yl?bn:yl,prefix:Ro,suffix:au,modifier:mi("MODIFIER")||""});continue}si("END")}return jr}function We(Je,nt){return we(Pe(Je,nt),nt)}function we(Je,nt){nt===void 0&&(nt={});var ut=Re(nt),Dt=nt.encode,en=Dt===void 0?function(yn){return yn}:Dt,bn=nt.validate,jr=bn===void 0?!0:bn,tn=Je.map(function(yn){if(typeof yn=="object")return new RegExp("^(?:"+yn.pattern+")$",ut)});return function(yn){for(var Qn="",mi=0;mi<Je.length;mi++){var si=Je[mi];if(typeof si=="string"){Qn+=si;continue}var Ji=yn?yn[si.name]:void 0,Hi=si.modifier==="?"||si.modifier==="*",eo=si.modifier==="*"||si.modifier==="+";if(Array.isArray(Ji)){if(!eo)throw new TypeError('Expected "'+si.name+'" to not repeat, but got an array');if(Ji.length===0){if(Hi)continue;throw new TypeError('Expected "'+si.name+'" to not be empty')}for(var go=0;go<Ji.length;go++){var Ro=en(Ji[go],si);if(jr&&!tn[mi].test(Ro))throw new TypeError('Expected all "'+si.name+'" to match "'+si.pattern+'", but got "'+Ro+'"');Qn+=si.prefix+Ro+si.suffix}continue}if(typeof Ji=="string"||typeof Ji=="number"){var Ro=en(String(Ji),si);if(jr&&!tn[mi].test(Ro))throw new TypeError('Expected "'+si.name+'" to match "'+si.pattern+'", but got "'+Ro+'"');Qn+=si.prefix+Ro+si.suffix;continue}if(!Hi){var va=eo?"an array":"a string";throw new TypeError('Expected "'+si.name+'" to be '+va)}}return Qn}}function De(Je,nt){var ut=[],Dt=zt(Je,ut,nt);return at(Dt,ut,nt)}function at(Je,nt,ut){ut===void 0&&(ut={});var Dt=ut.decode,en=Dt===void 0?function(bn){return bn}:Dt;return function(bn){var jr=Je.exec(bn);if(!jr)return!1;for(var tn=jr[0],yn=jr.index,Qn=Object.create(null),mi=function(Hi){if(jr[Hi]===void 0)return"continue";var eo=nt[Hi-1];eo.modifier==="*"||eo.modifier==="+"?Qn[eo.name]=jr[Hi].split(eo.prefix+eo.suffix).map(function(go){return en(go,eo)}):Qn[eo.name]=en(jr[Hi],eo)},si=1;si<jr.length;si++)mi(si);return{path:tn,index:yn,params:Qn}}}function se(Je){return Je.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Re(Je){return Je&&Je.sensitive?"":"i"}function mt(Je,nt){if(!nt)return Je;var ut=Je.source.match(/\((?!\?)/g);if(ut)for(var Dt=0;Dt<ut.length;Dt++)nt.push({name:Dt,prefix:"",suffix:"",modifier:"",pattern:""});return Je}function st(Je,nt,ut){var Dt=Je.map(function(en){return zt(en,nt,ut).source});return new RegExp("(?:"+Dt.join("|")+")",Re(ut))}function St(Je,nt,ut){return Xr(Pe(Je,ut),nt,ut)}function Xr(Je,nt,ut){ut===void 0&&(ut={});for(var Dt=ut.strict,en=Dt===void 0?!1:Dt,bn=ut.start,jr=bn===void 0?!0:bn,tn=ut.end,yn=tn===void 0?!0:tn,Qn=ut.encode,mi=Qn===void 0?function(jl){return jl}:Qn,si="["+se(ut.endsWith||"")+"]|$",Ji="["+se(ut.delimiter||"/#?")+"]",Hi=jr?"^":"",eo=0,go=Je;eo<go.length;eo++){var Ro=go[eo];if(typeof Ro=="string")Hi+=se(mi(Ro));else{var va=se(mi(Ro.prefix)),zo=se(mi(Ro.suffix));if(Ro.pattern)if(nt&&nt.push(Ro),va||zo)if(Ro.modifier==="+"||Ro.modifier==="*"){var tl=Ro.modifier==="*"?"?":"";Hi+="(?:"+va+"((?:"+Ro.pattern+")(?:"+zo+va+"(?:"+Ro.pattern+"))*)"+zo+")"+tl}else Hi+="(?:"+va+"("+Ro.pattern+")"+zo+")"+Ro.modifier;else Hi+="("+Ro.pattern+")"+Ro.modifier;else Hi+="(?:"+va+zo+")"+Ro.modifier}}if(yn)en||(Hi+=Ji+"?"),Hi+=ut.endsWith?"(?="+si+")":"$";else{var yl=Je[Je.length-1],au=typeof yl=="string"?Ji.indexOf(yl[yl.length-1])>-1:yl===void 0;en||(Hi+="(?:"+Ji+"(?="+si+"))?"),au||(Hi+="(?="+Ji+"|"+si+")")}return new RegExp(Hi,Re(ut))}function zt(Je,nt,ut){return Je instanceof RegExp?mt(Je,nt):Array.isArray(Je)?st(Je,nt,ut):St(Je,nt,ut)}function nr(Je,nt){return nt>>>Je|nt<<32-Je}function pn(Je,nt,ut){return Je&nt^~Je&ut}function Vr(Je,nt,ut){return Je&nt^Je&ut^nt&ut}function $e(Je){return nr(2,Je)^nr(13,Je)^nr(22,Je)}function Et(Je){return nr(6,Je)^nr(11,Je)^nr(25,Je)}function Xt(Je){return nr(7,Je)^nr(18,Je)^Je>>>3}function et(Je){return nr(17,Je)^nr(19,Je)^Je>>>10}function bt(Je,nt){return Je[nt&15]+=et(Je[nt+14&15])+Je[nt+9&15]+Xt(Je[nt+1&15])}var Zt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],qe,Ie,ht,Er="0123456789abcdef";function Cn(Je,nt){var ut=(Je&65535)+(nt&65535),Dt=(Je>>16)+(nt>>16)+(ut>>16);return Dt<<16|ut&65535}function pr(){qe=new Array(8),Ie=new Array(2),ht=new Array(64),Ie[0]=Ie[1]=0,qe[0]=1779033703,qe[1]=3144134277,qe[2]=1013904242,qe[3]=2773480762,qe[4]=1359893119,qe[5]=2600822924,qe[6]=528734635,qe[7]=1541459225}function $r(){var Je,nt,ut,Dt,en,bn,jr,tn,yn,Qn,mi=new Array(16);Je=qe[0],nt=qe[1],ut=qe[2],Dt=qe[3],en=qe[4],bn=qe[5],jr=qe[6],tn=qe[7];for(var si=0;si<16;si++)mi[si]=ht[(si<<2)+3]|ht[(si<<2)+2]<<8|ht[(si<<2)+1]<<16|ht[si<<2]<<24;for(var Ji=0;Ji<64;Ji++)yn=tn+Et(en)+pn(en,bn,jr)+Zt[Ji],Ji<16?yn+=mi[Ji]:yn+=bt(mi,Ji),Qn=$e(Je)+Vr(Je,nt,ut),tn=jr,jr=bn,bn=en,en=Cn(Dt,yn),Dt=ut,ut=nt,nt=Je,Je=Cn(yn,Qn);qe[0]+=Je,qe[1]+=nt,qe[2]+=ut,qe[3]+=Dt,qe[4]+=en,qe[5]+=bn,qe[6]+=jr,qe[7]+=tn}function An(Je,nt){var ut,Dt,en=0;Dt=Ie[0]>>3&63;var bn=nt&63;for((Ie[0]+=nt<<3)<nt<<3&&Ie[1]++,Ie[1]+=nt>>29,ut=0;ut+63<nt;ut+=64){for(var jr=Dt;jr<64;jr++)ht[jr]=Je.charCodeAt(en++);$r(),Dt=0}for(var jr=0;jr<bn;jr++)ht[jr]=Je.charCodeAt(en++)}function rn(){var Je=Ie[0]>>3&63;if(ht[Je++]=128,Je<=56)for(var nt=Je;nt<56;nt++)ht[nt]=0;else{for(var nt=Je;nt<64;nt++)ht[nt]=0;$r();for(var nt=0;nt<56;nt++)ht[nt]=0}ht[56]=Ie[1]>>>24&255,ht[57]=Ie[1]>>>16&255,ht[58]=Ie[1]>>>8&255,ht[59]=Ie[1]&255,ht[60]=Ie[0]>>>24&255,ht[61]=Ie[0]>>>16&255,ht[62]=Ie[0]>>>8&255,ht[63]=Ie[0]&255,$r()}function fr(){for(var Je=0,nt=new Array(32),ut=0;ut<8;ut++)nt[Je++]=qe[ut]>>>24&255,nt[Je++]=qe[ut]>>>16&255,nt[Je++]=qe[ut]>>>8&255,nt[Je++]=qe[ut]&255;return nt}function _r(){for(var Je=new String,nt=0;nt<8;nt++)for(var ut=28;ut>=0;ut-=4)Je+=Er.charAt(qe[nt]>>>ut&15);return Je}function Wr(Je){return pr(),An(Je,Je.length),rn(),_r()}var dt=Wr;function At(Je){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?At=function(ut){return typeof ut}:At=function(ut){return ut&&typeof Symbol=="function"&&ut.constructor===Symbol&&ut!==Symbol.prototype?"symbol":typeof ut},At(Je)}function cn(Je,nt){return Gn(Je)||rr(Je,nt)||Mi(Je,nt)||Jt()}function Jt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rr(Je,nt){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(Je)))){var ut=[],Dt=!0,en=!1,bn=void 0;try{for(var jr=Je[Symbol.iterator](),tn;!(Dt=(tn=jr.next()).done)&&(ut.push(tn.value),!(nt&&ut.length===nt));Dt=!0);}catch(yn){en=!0,bn=yn}finally{try{!Dt&&jr.return!=null&&jr.return()}finally{if(en)throw bn}}return ut}}function Gn(Je){if(Array.isArray(Je))return Je}function Kr(Je,nt){var ut;if(typeof Symbol=="undefined"||Je[Symbol.iterator]==null){if(Array.isArray(Je)||(ut=Mi(Je))||nt&&Je&&typeof Je.length=="number"){ut&&(Je=ut);var Dt=0,en=function(){};return{s:en,n:function(){return Dt>=Je.length?{done:!0}:{done:!1,value:Je[Dt++]}},e:function(Qn){throw Qn},f:en}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var bn=!0,jr=!1,tn;return{s:function(){ut=Je[Symbol.iterator]()},n:function(){var Qn=ut.next();return bn=Qn.done,Qn},e:function(Qn){jr=!0,tn=Qn},f:function(){try{!bn&&ut.return!=null&&ut.return()}finally{if(jr)throw tn}}}}function ai(Je,nt){if(!(Je instanceof nt))throw new TypeError("Cannot call a class as a function")}function Nn(Je,nt){for(var ut=0;ut<nt.length;ut++){var Dt=nt[ut];Dt.enumerable=Dt.enumerable||!1,Dt.configurable=!0,"value"in Dt&&(Dt.writable=!0),Object.defineProperty(Je,Dt.key,Dt)}}function So(Je,nt,ut){return nt&&Nn(Je.prototype,nt),ut&&Nn(Je,ut),Je}function Wo(Je,nt){if(typeof nt!="function"&&nt!==null)throw new TypeError("Super expression must either be null or a function");Je.prototype=Object.create(nt&&nt.prototype,{constructor:{value:Je,writable:!0,configurable:!0}}),nt&&Mn(Je,nt)}function Un(Je){var nt=hr();return function(){var Dt=Tn(Je),en;if(nt){var bn=Tn(this).constructor;en=Reflect.construct(Dt,arguments,bn)}else en=Dt.apply(this,arguments);return an(this,en)}}function an(Je,nt){return nt&&(At(nt)==="object"||typeof nt=="function")?nt:In(Je)}function In(Je){if(Je===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Je}function Jr(Je){var nt=typeof Map=="function"?new Map:void 0;return Jr=function(Dt){if(Dt===null||!dn(Dt))return Dt;if(typeof Dt!="function")throw new TypeError("Super expression must either be null or a function");if(typeof nt!="undefined"){if(nt.has(Dt))return nt.get(Dt);nt.set(Dt,en)}function en(){return Xn(Dt,arguments,Tn(this).constructor)}return en.prototype=Object.create(Dt.prototype,{constructor:{value:en,enumerable:!1,writable:!0,configurable:!0}}),Mn(en,Dt)},Jr(Je)}function Xn(Je,nt,ut){return hr()?Xn=Reflect.construct:Xn=function(en,bn,jr){var tn=[null];tn.push.apply(tn,bn);var yn=Function.bind.apply(en,tn),Qn=new yn;return jr&&Mn(Qn,jr.prototype),Qn},Xn.apply(null,arguments)}function hr(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Je){return!1}}function dn(Je){return Function.toString.call(Je).indexOf("[native code]")!==-1}function Mn(Je,nt){return Mn=Object.setPrototypeOf||function(Dt,en){return Dt.__proto__=en,Dt},Mn(Je,nt)}function Tn(Je){return Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(ut){return ut.__proto__||Object.getPrototypeOf(ut)},Tn(Je)}function kr(Je){return ui(Je)||Di(Je)||Mi(Je)||ei()}function ei(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mi(Je,nt){if(!!Je){if(typeof Je=="string")return Po(Je,nt);var ut=Object.prototype.toString.call(Je).slice(8,-1);if(ut==="Object"&&Je.constructor&&(ut=Je.constructor.name),ut==="Map"||ut==="Set")return Array.from(Je);if(ut==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ut))return Po(Je,nt)}}function Di(Je){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(Je))return Array.from(Je)}function ui(Je){if(Array.isArray(Je))return Po(Je)}function Po(Je,nt){(nt==null||nt>Je.length)&&(nt=Je.length);for(var ut=0,Dt=new Array(nt);ut<nt;ut++)Dt[ut]=Je[ut];return Dt}function cr(Je,nt){if(Je==null)return{};var ut=$o(Je,nt),Dt,en;if(Object.getOwnPropertySymbols){var bn=Object.getOwnPropertySymbols(Je);for(en=0;en<bn.length;en++)Dt=bn[en],!(nt.indexOf(Dt)>=0)&&(!Object.prototype.propertyIsEnumerable.call(Je,Dt)||(ut[Dt]=Je[Dt]))}return ut}function $o(Je,nt){if(Je==null)return{};var ut={},Dt=Object.keys(Je),en,bn;for(bn=0;bn<Dt.length;bn++)en=Dt[bn],!(nt.indexOf(en)>=0)&&(ut[en]=Je[en]);return ut}function As(Je,nt){var ut=Object.keys(Je);if(Object.getOwnPropertySymbols){var Dt=Object.getOwnPropertySymbols(Je);nt&&(Dt=Dt.filter(function(en){return Object.getOwnPropertyDescriptor(Je,en).enumerable})),ut.push.apply(ut,Dt)}return ut}function Gi(Je){for(var nt=1;nt<arguments.length;nt++){var ut=arguments[nt]!=null?arguments[nt]:{};nt%2?As(Object(ut),!0).forEach(function(Dt){Xs(Je,Dt,ut[Dt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Je,Object.getOwnPropertyDescriptors(ut)):As(Object(ut)).forEach(function(Dt){Object.defineProperty(Je,Dt,Object.getOwnPropertyDescriptor(ut,Dt))})}return Je}function Xs(Je,nt,ut){return nt in Je?Object.defineProperty(Je,nt,{value:ut,enumerable:!0,configurable:!0,writable:!0}):Je[nt]=ut,Je}function un(Je){return Je.split("?")[0].split("#")[0]}var ko=function(nt){if(!nt.startsWith("http"))return!1;try{var ut=new URL(nt);return!!ut}catch(Dt){return!1}},ss=function(nt){var ut=nt.path;if(!ut||ut==="/")try{return"/".concat(dt(JSON.stringify(nt)))}catch(Dt){}return ut&&un(ut)},Gr=function(nt,ut){var Dt=nt.name,en=nt.locale;return"locale"in nt&&en===!1||!Dt?!1:nt.locale||"".concat(ut,".").concat(Dt)},Yl=function(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"/";return(nt||ut).startsWith("/")||ko(nt)?nt:"/".concat(ut,"/").concat(nt).replace(/\/\//g,"/").replace(/\/\//g,"/")},ou=function(nt,ut){var Dt=nt.menu,en=Dt===void 0?{}:Dt,bn=nt.indexRoute,jr=nt.path,tn=jr===void 0?"":jr,yn=nt.children,Qn=en.name,mi=Qn===void 0?nt.name:Qn,si=en.icon,Ji=si===void 0?nt.icon:si,Hi=en.hideChildren,eo=Hi===void 0?nt.hideChildren:Hi,go=en.flatMenu,Ro=go===void 0?nt.flatMenu:go,va=bn&&Object.keys(bn).join(",")!=="redirect"?[Gi({path:tn,menu:en},bn)].concat(yn||[]):yn,zo=Gi({},nt);if(mi&&(zo.name=mi),Ji&&(zo.icon=Ji),va&&va.length){if(eo)return delete zo.children,zo;var tl=ea(Gi(Gi({},ut),{},{data:va}),nt);if(Ro)return tl;zo.children=tl}return zo};function ea(Je){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{path:"/"},ut=Je.data,Dt=Je.formatMessage,en=Je.parentName,bn=Je.locale;return!ut||!Array.isArray(ut)?[]:ut.filter(function(jr){return jr?jr.routes||jr.children||jr.path||jr.layout?!0:(jr.redirect,!1):!1}).filter(function(jr){var tn,yn;return jr.unaccessible&&delete jr.name,(jr==null||(tn=jr.menu)===null||tn===void 0?void 0:tn.name)||(jr==null?void 0:jr.flatMenu)||(jr==null||(yn=jr.menu)===null||yn===void 0?void 0:yn.flatMenu)?!0:jr.menu!==!1}).map(function(){var jr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:"/"},tn=Yl(jr.path,nt?nt.path:"/"),yn=jr.name,Qn=Gr(jr,en||"menu"),mi=Qn!==!1&&bn!==!1&&Dt&&Qn?Dt({id:Qn,defaultMessage:yn}):yn,si=nt.pro_layout_parentKeys,Ji=si===void 0?[]:si,Hi=nt.children,eo=nt.icon,go=nt.flatMenu,Ro=nt.indexRoute,va=cr(nt,["pro_layout_parentKeys","children","icon","flatMenu","indexRoute"]),zo=Gi(Gi(Gi({},va),{},{menu:void 0},jr),{},{path:tn,locale:Qn,key:jr.key||ss(Gi(Gi({},jr),{},{path:tn})),routes:null,pro_layout_parentKeys:Array.from(new Set([].concat(kr(jr.parentKeys||[]),kr(Ji),["/".concat(nt.key||"").replace(/\/\//g,"/").replace(/\/\//g,"/")]))).filter(function(yl){return yl&&yl!=="/"})});if(mi?zo.name=mi:delete zo.name,zo.menu===void 0&&delete zo.menu,jr.routes||jr.children){var tl=ea(Gi(Gi({},Je),{},{data:jr.routes||jr.children,parentName:Qn||""}),zo);zo.children=tl&&tl.length>0?tl:void 0,zo.children||delete zo.children}return ou(zo,Je)}).flat(1)}var Eu=Ae(ea,Oe.a),wi=function Je(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return nt.filter(function(ut){return ut&&(ut.name||ut.children)&&!ut.hideInMenu&&!ut.redirect}).map(function(ut){if(ut.children&&Array.isArray(ut.children)&&!ut.hideChildrenInMenu&&ut.children.some(function(en){return en&&!!en.name})){var Dt=Je(ut.children);if(Dt.length)return Gi(Gi({},ut),{},{children:Dt})}return Gi(Gi({},ut),{},{children:void 0})}).filter(function(ut){return ut})},Pi=function(Je){Wo(ut,Je);var nt=Un(ut);function ut(){return ai(this,ut),nt.apply(this,arguments)}return So(ut,[{key:"get",value:function(en){var bn;try{var jr=Kr(this.entries()),tn;try{for(jr.s();!(tn=jr.n()).done;){var yn=cn(tn.value,2),Qn=yn[0],mi=yn[1],si=un(Qn);if(!ko(Qn)&&zt(si,[]).test(en)){bn=mi;break}}}catch(Ji){jr.e(Ji)}finally{jr.f()}}catch(Ji){bn=void 0}return bn}}]),ut}(Jr(Map)),hi=function(nt){var ut=new Pi,Dt=function en(bn,jr){bn.forEach(function(tn){tn&&tn.children&&en(tn.children,tn);var yn=Yl(tn.path,jr?jr.path:"/");ut.set(un(yn),tn)})};return Dt(nt),ut},Mt=Ae(hi,Oe.a),wn=function Je(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return nt.map(function(ut){if(ut.children&&Array.isArray(ut.children)&&ut.children.length>0){var Dt=Je(ut.children);if(Dt.length)return Gi(Gi({},ut),{},{children:Dt})}var en=Gi({},ut);return delete en.children,en}).filter(function(ut){return ut})},Ot=function(nt,ut,Dt,en){var bn=Eu({data:nt,formatMessage:Dt,locale:ut}),jr=en?wn(bn):wi(bn),tn=Mt(bn);return{breadcrumb:tn,menuData:jr}},ar=Ot;function Mr(Je,nt){var ut=Object.keys(Je);if(Object.getOwnPropertySymbols){var Dt=Object.getOwnPropertySymbols(Je);nt&&(Dt=Dt.filter(function(en){return Object.getOwnPropertyDescriptor(Je,en).enumerable})),ut.push.apply(ut,Dt)}return ut}function jt(Je){for(var nt=1;nt<arguments.length;nt++){var ut=arguments[nt]!=null?arguments[nt]:{};nt%2?Mr(Object(ut),!0).forEach(function(Dt){gr(Je,Dt,ut[Dt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Je,Object.getOwnPropertyDescriptors(ut)):Mr(Object(ut)).forEach(function(Dt){Object.defineProperty(Je,Dt,Object.getOwnPropertyDescriptor(ut,Dt))})}return Je}function gr(Je,nt,ut){return nt in Je?Object.defineProperty(Je,nt,{value:ut,enumerable:!0,configurable:!0,writable:!0}):Je[nt]=ut,Je}var Vn=function Je(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ut={};return nt.forEach(function(Dt){!Dt||!Dt.key||(ut[un(Dt.path||Dt.key||"/")]=jt({},Dt),ut[Dt.key||Dt.path||"/"]=jt({},Dt),Dt.children&&(ut=jt(jt({},ut),Je(Dt.children))))}),ut},_n=Vn,vo=function(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ut=arguments.length>1?arguments[1]:void 0;return nt.filter(function(Dt){if(Dt==="/"&&ut==="/")return!0;if(Dt!=="/"&&Dt!=="/*"&&Dt&&!ko(Dt)){var en=un(Dt);try{if(zt("".concat(en),[]).test(ut)||zt("".concat(en,"/(.*)")).test(ut))return!0}catch(bn){}}return!1}).sort(function(Dt,en){return Dt===ut?10:en===ut?-10:Dt.substr(1).split("/").length-en.substr(1).split("/").length})},Ei=function(nt,ut,Dt){var en=_n(ut),bn=Object.keys(en),jr=vo(bn,nt||"/");return!jr||jr.length<1?[]:(Dt||(jr=[jr[jr.length-1]]),jr.map(function(tn){var yn=en[tn]||{pro_layout_parentKeys:"",key:""},Qn=new Map,mi=(yn.pro_layout_parentKeys||[]).map(function(si){return Qn.has(si)?null:(Qn.set(si,!0),en[si])}).filter(function(si){return si});return yn.key&&mi.push(yn),mi}).flat(1))},Oo=Ei},H8j4:function(rt,je,U){var xe=U("QkVE");function Oe(F,K){var Ae=xe(this,F),ve=Ae.size;return Ae.set(F,K),this.size+=Ae.size==ve?0:1,this}rt.exports=Oe},HDyB:function(rt,je,U){var xe=U("nmnc"),Oe=U("JHRd"),F=U("ljhN"),K=U("or5M"),Ae=U("7fqy"),ve=U("rEGp"),Pe=1,We=2,we="[object Boolean]",De="[object Date]",at="[object Error]",se="[object Map]",Re="[object Number]",mt="[object RegExp]",st="[object Set]",St="[object String]",Xr="[object Symbol]",zt="[object ArrayBuffer]",nr="[object DataView]",pn=xe?xe.prototype:void 0,Vr=pn?pn.valueOf:void 0;function $e(Et,Xt,et,bt,Zt,qe,Ie){switch(et){case nr:if(Et.byteLength!=Xt.byteLength||Et.byteOffset!=Xt.byteOffset)return!1;Et=Et.buffer,Xt=Xt.buffer;case zt:return!(Et.byteLength!=Xt.byteLength||!qe(new Oe(Et),new Oe(Xt)));case we:case De:case Re:return F(+Et,+Xt);case at:return Et.name==Xt.name&&Et.message==Xt.message;case mt:case St:return Et==Xt+"";case se:var ht=Ae;case st:var Er=bt&Pe;if(ht||(ht=ve),Et.size!=Xt.size&&!Er)return!1;var Cn=Ie.get(Et);if(Cn)return Cn==Xt;bt|=We,Ie.set(Et,Xt);var pr=K(ht(Et),ht(Xt),bt,Zt,qe,Ie);return Ie.delete(Et),pr;case Xr:if(Vr)return Vr.call(Et)==Vr.call(Xt)}return!1}rt.exports=$e},HOxn:function(rt,je,U){var xe=U("Cwc5"),Oe=U("Kz5y"),F=xe(Oe,"Promise");rt.exports=F},Hvzi:function(rt,je){function U(xe){var Oe=this.has(xe)&&delete this.__data__[xe];return this.size-=Oe?1:0,Oe}rt.exports=U},Hx5s:function(rt,je,U){"use strict";U.d(je,"a",function(){return dd});var xe=U("B9cy"),Oe=U("Ol7k"),F=U("GNNt"),K=U("wEI+"),Ae=U("mQwV"),ve=U("q1tI"),Pe=U.n(ve),We=U("TSYQ"),we=U.n(We),De=U("2W6z"),at=U.n(De),se=U("6cGi");function Re(oe){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Re=function(ce){return typeof ce}:Re=function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce},Re(oe)}var mt=function(){var te=new WeakSet;return function(ce,Se){if(Re(Se)==="object"&&Se!==null){if(te.has(Se))return;te.add(Se)}return Se}},st=function(te){return JSON.stringify(te,mt())},St=function(te,ce){try{return st(te)===st(ce)}catch(Se){}return!1};function Xr(oe){var te=Object(ve.useRef)("");return St(oe,te.current)||(te.current=JSON.stringify(oe,mt())),te.current}function zt(oe,te){Object(ve.useEffect)(oe,[Xr(te)])}var nr=zt;function pn(oe,te){return et(oe)||Xt(oe,te)||$e(oe,te)||Vr()}function Vr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $e(oe,te){if(!!oe){if(typeof oe=="string")return Et(oe,te);var ce=Object.prototype.toString.call(oe).slice(8,-1);if(ce==="Object"&&oe.constructor&&(ce=oe.constructor.name),ce==="Map"||ce==="Set")return Array.from(oe);if(ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce))return Et(oe,te)}}function Et(oe,te){(te==null||te>oe.length)&&(te=oe.length);for(var ce=0,Se=new Array(te);ce<te;ce++)Se[ce]=oe[ce];return Se}function Xt(oe,te){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(oe)))){var ce=[],Se=!0,Ye=!1,Ct=void 0;try{for(var _t=oe[Symbol.iterator](),Nr;!(Se=(Nr=_t.next()).done)&&(ce.push(Nr.value),!(te&&ce.length===te));Se=!0);}catch(yr){Ye=!0,Ct=yr}finally{try{!Se&&_t.return!=null&&_t.return()}finally{if(Ye)throw Ct}}return ce}}function et(oe){if(Array.isArray(oe))return oe}function bt(oe){var te=Object(ve.useState)(function(){return window.matchMedia(oe).matches}),ce=pn(te,2),Se=ce[0],Ye=ce[1];return Object(ve.useLayoutEffect)(function(){var Ct=window.matchMedia(oe),_t=function(yr){return Ye(yr.matches)};return Ct.addListener(_t),function(){return Ct.removeListener(_t)}},[oe]),Se}function Zt(oe,te){return Cn(oe)||Er(oe,te)||Ie(oe,te)||qe()}function qe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ie(oe,te){if(!!oe){if(typeof oe=="string")return ht(oe,te);var ce=Object.prototype.toString.call(oe).slice(8,-1);if(ce==="Object"&&oe.constructor&&(ce=oe.constructor.name),ce==="Map"||ce==="Set")return Array.from(oe);if(ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce))return ht(oe,te)}}function ht(oe,te){(te==null||te>oe.length)&&(te=oe.length);for(var ce=0,Se=new Array(te);ce<te;ce++)Se[ce]=oe[ce];return Se}function Er(oe,te){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(oe)))){var ce=[],Se=!0,Ye=!1,Ct=void 0;try{for(var _t=oe[Symbol.iterator](),Nr;!(Se=(Nr=_t.next()).done)&&(ce.push(Nr.value),!(te&&ce.length===te));Se=!0);}catch(yr){Ye=!0,Ct=yr}finally{try{!Se&&_t.return!=null&&_t.return()}finally{if(Ye)throw Ct}}return ce}}function Cn(oe){if(Array.isArray(oe))return oe}var pr={xs:{maxWidth:575,matchMedia:"(max-width: 575px)"},sm:{minWidth:576,maxWidth:767,matchMedia:"(min-width: 576px) and (max-width: 767px)"},md:{minWidth:768,maxWidth:991,matchMedia:"(min-width: 768px) and (max-width: 991px)"},lg:{minWidth:992,maxWidth:1199,matchMedia:"(min-width: 992px) and (max-width: 1199px)"},xl:{minWidth:1200,maxWidth:1599,matchMedia:"(min-width: 1200px) and (max-width: 1599px)"},xxl:{minWidth:1600,matchMedia:"(min-width: 1600px)"}},$r=function(){var te="md";if(typeof window=="undefined")return te;var ce=Object.keys(pr).find(function(Se){var Ye=pr[Se].matchMedia;return!!window.matchMedia(Ye).matches});return te=ce,te},An=function(){var te=bt(pr.md.matchMedia),ce=bt(pr.lg.matchMedia),Se=bt(pr.xxl.matchMedia),Ye=bt(pr.xl.matchMedia),Ct=bt(pr.sm.matchMedia),_t=bt(pr.xs.matchMedia),Nr=Object(ve.useState)($r()),yr=Zt(Nr,2),ln=yr[0],ni=yr[1];return Object(ve.useEffect)(function(){if(Se){ni("xxl");return}if(Ye){ni("xl");return}if(ce){ni("lg");return}if(te){ni("md");return}if(Ct){ni("sm");return}if(_t){ni("xs");return}ni("md")},[te,ce,Se,Ye,Ct,_t]),ln},rn=An,fr=U("g5r2"),_r=U("7z/i");function Wr(oe,te){var ce=typeof oe.pageName=="string"?oe.title:te;Object(ve.useEffect)(function(){Object(_r.a)()&&ce&&(document.title=ce)},[oe.title])}var dt=Wr,At=U("BGR+"),cn=U("GOef"),Jt=U("YPDd"),rr=U("W3vr"),Gn=U("lUTK"),Kr=U("BvKs"),ai={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z"}}]},name:"menu-unfold",theme:"outlined"},Nn=ai,So=U("6VBw"),Wo=function(te,ce){return ve.createElement(So.a,Object.assign({},te,{ref:ce,icon:Nn}))};Wo.displayName="MenuUnfoldOutlined";var Un=ve.forwardRef(Wo),an={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z"}}]},name:"menu-fold",theme:"outlined"},In=an,Jr=function(te,ce){return ve.createElement(So.a,Object.assign({},te,{ref:ce,icon:In}))};Jr.displayName="MenuFoldOutlined";var Xn=ve.forwardRef(Jr),hr=U("Re9Q"),dn=U("Ff2n"),Mn=U("VTBJ"),Tn=U("Qi1f"),kr=ve.forwardRef(function(oe,te){var ce=oe.className,Se=oe.component,Ye=oe.viewBox,Ct=oe.spin,_t=oe.rotate,Nr=oe.tabIndex,yr=oe.onClick,ln=oe.children,ni=Object(dn.a)(oe,["className","component","viewBox","spin","rotate","tabIndex","onClick","children"]);Object(Tn.g)(Boolean(Se||ln),"Should have `component` prop or `children`."),Object(Tn.f)();var Oi=we()("anticon",ce),Ki=we()({"anticon-spin":!!Ct}),Bi=_t?{msTransform:"rotate(".concat(_t,"deg)"),transform:"rotate(".concat(_t,"deg)")}:void 0,Ri=Object(Mn.a)(Object(Mn.a)({},Tn.e),{},{className:Ki,style:Bi,viewBox:Ye});Ye||delete Ri.viewBox;var ma=function(){return Se?ve.createElement(Se,Object.assign({},Ri),ln):ln?(Object(Tn.g)(Boolean(Ye)||ve.Children.count(ln)===1&&ve.isValidElement(ln)&&ve.Children.only(ln).type==="use","Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon."),ve.createElement("svg",Object.assign({},Ri,{viewBox:Ye}),ln)):null},ra=Nr;return ra===void 0&&yr&&(ra=-1),ve.createElement("span",Object.assign({role:"img"},ni,{ref:te,tabIndex:ra,onClick:yr,className:Oi}),ma())});kr.displayName="AntdIcon";var ei=kr,Mi=new Set;function Di(oe){return Boolean(typeof oe=="string"&&oe.length&&!Mi.has(oe))}function ui(oe){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ce=oe[te];if(Di(ce)){var Se=document.createElement("script");Se.setAttribute("src",ce),Se.setAttribute("data-namespace",ce),oe.length>te+1&&(Se.onload=function(){ui(oe,te+1)},Se.onerror=function(){ui(oe,te+1)}),Mi.add(ce),document.body.appendChild(Se)}}function Po(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},te=oe.scriptUrl,ce=oe.extraCommonProps,Se=ce===void 0?{}:ce;te&&typeof document!="undefined"&&typeof window!="undefined"&&typeof document.createElement=="function"&&(Array.isArray(te)?ui(te.reverse()):ui([te]));var Ye=ve.forwardRef(function(Ct,_t){var Nr=Ct.type,yr=Ct.children,ln=Object(dn.a)(Ct,["type","children"]),ni=null;return Ct.type&&(ni=ve.createElement("use",{xlinkHref:"#".concat(Nr)})),yr&&(ni=yr),ve.createElement(ei,Object.assign({},Se,ln,{ref:_t}),ni)});return Ye.displayName="Iconfont",Ye}var cr=/(((^https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+(?::\d+)?|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)$/,$o=function(te){return cr.test(te)},As=$o;function Gi(oe){return/\w.(png|jpg|jpeg|svg|webp|gif|bmp)$/i.test(oe)}var Xs=Gi,un={navTheme:"dark",layout:"side",contentWidth:"Fluid",fixedHeader:!1,fixSiderbar:!1,menu:{locale:!0},headerHeight:48,title:"Ant Design Pro",iconfontUrl:"",primaryColor:"#1890ff"},ko=un;function ss(oe,te){var ce=Object.keys(oe);if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(oe);te&&(Se=Se.filter(function(Ye){return Object.getOwnPropertyDescriptor(oe,Ye).enumerable})),ce.push.apply(ce,Se)}return ce}function Gr(oe){for(var te=1;te<arguments.length;te++){var ce=arguments[te]!=null?arguments[te]:{};te%2?ss(Object(ce),!0).forEach(function(Se){Yl(oe,Se,ce[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ce)):ss(Object(ce)).forEach(function(Se){Object.defineProperty(oe,Se,Object.getOwnPropertyDescriptor(ce,Se))})}return oe}function Yl(oe,te,ce){return te in oe?Object.defineProperty(oe,te,{value:ce,enumerable:!0,configurable:!0,writable:!0}):oe[te]=ce,oe}var ou=function oe(te){return(te||[]).reduce(function(ce,Se){if(Se.key&&ce.push(Se.key),Se.children){var Ye=ce.concat(oe(Se.children)||[]);return Ye}return ce},[])},ea={daybreak:"daybreak","#1890ff":"daybreak","#F5222D":"dust","#FA541C":"volcano","#FAAD14":"sunset","#13C2C2":"cyan","#52C41A":"green","#2F54EB":"geekblue","#722ED1":"purple"},Eu=function(te){return Object.keys(te).reduce(function(ce,Se){return ce[te[Se]]=Se,ce},{})};function wi(oe){return oe&&ea[oe]?ea[oe]:void 0}function Pi(oe){var te=Eu(ea);return oe&&te[oe]?te[oe]:oe}function hi(oe){return oe.map(function(te){var ce=Gr({},te);if(!ce.name||ce.hideInMenu)return null;if(ce&&(ce==null?void 0:ce.children)){if(!ce.hideChildrenInMenu&&ce.children.some(function(Se){return Se&&Se.name&&!Se.hideInMenu}))return Gr(Gr({},te),{},{children:hi(ce.children)});delete ce.children}return ce}).filter(function(te){return te})}function Mt(oe){var te=ve.createContext(null);function ce(Ye){var Ct=oe(Ye.initialState);return ve.createElement(te.Provider,{value:Ct},Ye.children)}function Se(){var Ye=ve.useContext(te);if(Ye===null)throw new Error("Component must be wrapped with <Container.Provider>");return Ye}return{Provider:ce,useContainer:Se}}function wn(oe){return oe.useContainer()}function Ot(oe,te){return Vn(oe)||gr(oe,te)||Mr(oe,te)||ar()}function ar(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mr(oe,te){if(!!oe){if(typeof oe=="string")return jt(oe,te);var ce=Object.prototype.toString.call(oe).slice(8,-1);if(ce==="Object"&&oe.constructor&&(ce=oe.constructor.name),ce==="Map"||ce==="Set")return Array.from(oe);if(ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce))return jt(oe,te)}}function jt(oe,te){(te==null||te>oe.length)&&(te=oe.length);for(var ce=0,Se=new Array(te);ce<te;ce++)Se[ce]=oe[ce];return Se}function gr(oe,te){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(oe)))){var ce=[],Se=!0,Ye=!1,Ct=void 0;try{for(var _t=oe[Symbol.iterator](),Nr;!(Se=(Nr=_t.next()).done)&&(ce.push(Nr.value),!(te&&ce.length===te));Se=!0);}catch(yr){Ye=!0,Ct=yr}finally{try{!Se&&_t.return!=null&&_t.return()}finally{if(Ye)throw Ct}}return ce}}function Vn(oe){if(Array.isArray(oe))return oe}function _n(){var oe=Object(ve.useState)([]),te=Ot(oe,2),ce=te[0],Se=te[1];return{flatMenuKeys:ce,setFlatMenuKeys:Se}}var vo=Mt(_n),Ei=vo,Oo=U("95SA");function Je(){return Je=Object.assign||function(oe){for(var te=1;te<arguments.length;te++){var ce=arguments[te];for(var Se in ce)Object.prototype.hasOwnProperty.call(ce,Se)&&(oe[Se]=ce[Se])}return oe},Je.apply(this,arguments)}function nt(oe){return en(oe)||Dt(oe)||tn(oe)||ut()}function ut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dt(oe){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(oe))return Array.from(oe)}function en(oe){if(Array.isArray(oe))return yn(oe)}function bn(oe,te){return mi(oe)||Qn(oe,te)||tn(oe,te)||jr()}function jr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tn(oe,te){if(!!oe){if(typeof oe=="string")return yn(oe,te);var ce=Object.prototype.toString.call(oe).slice(8,-1);if(ce==="Object"&&oe.constructor&&(ce=oe.constructor.name),ce==="Map"||ce==="Set")return Array.from(oe);if(ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce))return yn(oe,te)}}function yn(oe,te){(te==null||te>oe.length)&&(te=oe.length);for(var ce=0,Se=new Array(te);ce<te;ce++)Se[ce]=oe[ce];return Se}function Qn(oe,te){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(oe)))){var ce=[],Se=!0,Ye=!1,Ct=void 0;try{for(var _t=oe[Symbol.iterator](),Nr;!(Se=(Nr=_t.next()).done)&&(ce.push(Nr.value),!(te&&ce.length===te));Se=!0);}catch(yr){Ye=!0,Ct=yr}finally{try{!Se&&_t.return!=null&&_t.return()}finally{if(Ye)throw Ct}}return ce}}function mi(oe){if(Array.isArray(oe))return oe}function si(oe,te){var ce=Object.keys(oe);if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(oe);te&&(Se=Se.filter(function(Ye){return Object.getOwnPropertyDescriptor(oe,Ye).enumerable})),ce.push.apply(ce,Se)}return ce}function Ji(oe){for(var te=1;te<arguments.length;te++){var ce=arguments[te]!=null?arguments[te]:{};te%2?si(Object(ce),!0).forEach(function(Se){Hi(oe,Se,ce[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ce)):si(Object(ce)).forEach(function(Se){Object.defineProperty(oe,Se,Object.getOwnPropertyDescriptor(ce,Se))})}return oe}function Hi(oe,te,ce){return te in oe?Object.defineProperty(oe,te,{value:ce,enumerable:!0,configurable:!0,writable:!0}):oe[te]=ce,oe}function eo(oe,te){if(!(oe instanceof te))throw new TypeError("Cannot call a class as a function")}var go=Kr.a.SubMenu,Ro=Kr.a.ItemGroup,va=Po({scriptUrl:ko.iconfontUrl}),zo=function(te){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"icon-";if(typeof te=="string"&&te!==""){if(As(te)||Xs(te))return Pe.a.createElement(ei,{component:function(){return Pe.a.createElement("img",{src:te,alt:"icon",className:"ant-pro-sider-menu-icon"})}});if(te.startsWith(ce))return Pe.a.createElement(va,{type:te})}return te},tl=function oe(te){var ce=this;eo(this,oe),this.getNavMenuItems=function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Ye=arguments.length>1?arguments[1]:void 0;return Se.map(function(Ct){return ce.getSubMenuOrItem(Ct,Ye)}).filter(function(Ct){return Ct})},this.getSubMenuOrItem=function(Se,Ye){if(Array.isArray(Se.children)&&Se&&Se.children.length>0){var Ct=ce.getIntlName(Se),_t=ce.props,Nr=_t.subMenuItemRender,yr=_t.prefixCls,ln=_t.menu,ni=_t.iconPrefixes,Oi=Se.icon?Pe.a.createElement("span",{className:"".concat(yr,"-menu-item")},!Ye&&zo(Se.icon,ni),Pe.a.createElement("span",{className:"".concat(yr,"-menu-item-title")},Ct)):Pe.a.createElement("span",{className:"".concat(yr,"-menu-item")},Ct),Ki=Nr?Nr(Ji(Ji({},Se),{},{isUrl:!1}),Oi):Oi,Bi=(ln==null?void 0:ln.type)==="group"?Ro:go;return Pe.a.createElement(Bi,{title:Ki,key:Se.key||Se.path,onTitleClick:Se.onTitleClick},ce.getNavMenuItems(Se.children,!0))}return Pe.a.createElement(Kr.a.Item,{inlineIndent:24,disabled:Se.disabled,key:Se.key||Se.path,onClick:Se.onTitleClick},ce.getMenuItemPath(Se,Ye))},this.getIntlName=function(Se){var Ye=Se.name,Ct=Se.locale,_t=ce.props,Nr=_t.menu,yr=_t.formatMessage;return Ct&&(Nr==null?void 0:Nr.locale)!==!1?yr==null?void 0:yr({id:Ct,defaultMessage:Ye}):Ye},this.getMenuItemPath=function(Se,Ye){var Ct=ce.conversionPath(Se.path||"/"),_t=ce.props,Nr=_t.location,yr=Nr===void 0?{pathname:"/"}:Nr,ln=_t.isMobile,ni=_t.onCollapse,Oi=_t.menuItemRender,Ki=_t.iconPrefixes,Bi=ce.getIntlName(Se),Ri=ce.props.prefixCls,ma=Ye?null:zo(Se.icon,Ki),ra=Pe.a.createElement("span",{className:"".concat(Ri,"-menu-item")},ma,Pe.a.createElement("span",{className:"".concat(Ri,"-menu-item-title")},Bi)),Fs=As(Ct);if(Fs&&(ra=Pe.a.createElement("span",{onClick:function(){window.open(Ct)},className:"".concat(Ri,"-menu-item ").concat(Ri,"-menu-item-link")},ma,Pe.a.createElement("span",{className:"".concat(Ri,"-menu-item-title")},Bi))),Oi){var fu=Ji(Ji({},Se),{},{isUrl:Fs,itemPath:Ct,isMobile:ln,replace:Ct===yr.pathname,onClick:function(){return ni&&ni(!0)}});return Oi(fu,ra)}return ra},this.conversionPath=function(Se){return Se&&Se.indexOf("http")===0?Se:"/".concat(Se||"").replace(/\/+/g,"/")},this.props=te},yl=function(te,ce){var Se=ce.layout,Ye=ce.collapsed,Ct={};return te&&!Ye&&["side","mix"].includes(Se||"mix")&&(Ct={openKeys:te}),Ct},au=function(te){var ce=te.theme,Se=te.mode,Ye=te.className,Ct=te.handleOpenChange,_t=te.style,Nr=te.menuData,yr=te.menu,ln=te.matchMenuKeys,ni=te.iconfontUrl,Oi=te.collapsed,Ki=te.selectedKeys,Bi=te.onSelect,Ri=te.openKeys,ma=Object(ve.useRef)([]),ra=Ei.useContainer(),Fs=ra.flatMenuKeys,fu=Object(ve.useState)(yr==null?void 0:yr.defaultOpenAll),Zs=bn(fu,2),_a=Zs[0],ku=Zs[1],zc=Object(se.a)(function(){return(yr==null?void 0:yr.defaultOpenAll)?ou(Nr)||[]:Ri===!1?!1:[]},{value:Ri===!1?void 0:Ri,onChange:Ct}),hu=bn(zc,2),Na=hu[0],Va=hu[1],Rf=Object(se.a)([],{value:Ki,onChange:Bi?function(pu){Bi&&pu&&Bi(pu)}:void 0}),Hu=bn(Rf,2),Vu=Hu[0],Ju=Hu[1];Object(ve.useEffect)(function(){(yr==null?void 0:yr.defaultOpenAll)||Ri===!1||Fs.length||ln&&(Va(ln),Ju(ln))},[ln.join("-")]),Object(ve.useEffect)(function(){ni&&(va=Po({scriptUrl:ni}))},[ni]),Object(ve.useEffect)(function(){if(ln.join("-")!==(Vu||[]).join("-")&&Ju(ln),!_a&&Ri!==!1&&ln.join("-")!==(Na||[]).join("-")){var pu=ln;(yr==null?void 0:yr.autoClose)===!1&&(pu=Array.from(new Set([].concat(nt(ln),nt(Na||[]))))),Va(pu)}else Fs.length>0&&ku(!1)},[ln.join("-"),Oi]);var yc=Object(ve.useMemo)(function(){return yl(Na,te)},[Na&&Na.join(","),te.layout,te.collapsed]),Zl=Object(ve.useState)(function(){return new tl(te)}),nf=bn(Zl,1),du=nf[0];if(yr==null?void 0:yr.loading)return Pe.a.createElement(Oo.a,null);var xf=we()(Ye,{"top-nav-menu":Se==="horizontal"});du.props=te,te.openKeys===!1&&!te.handleOpenChange&&(ma.current=ln);var Su=te.postMenuData?te.postMenuData(Nr):Nr;return Su&&(Su==null?void 0:Su.length)<1?null:Pe.a.createElement(Kr.a,Je({},yc,{key:"Menu",mode:Se,defaultOpenKeys:ma.current,theme:ce,inlineIndent:16,selectedKeys:Vu,style:_t,className:xf,onOpenChange:Va},te.menuProps),du.getNavMenuItems(Su,!1))};au.defaultProps={postMenuData:function(te){return te||[]}};var jl=au;function Gu(oe,te){var ce=Object.keys(oe);if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(oe);te&&(Se=Se.filter(function(Ye){return Object.getOwnPropertyDescriptor(oe,Ye).enumerable})),ce.push.apply(ce,Se)}return ce}function mc(oe){for(var te=1;te<arguments.length;te++){var ce=arguments[te]!=null?arguments[te]:{};te%2?Gu(Object(ce),!0).forEach(function(Se){gs(oe,Se,ce[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ce)):Gu(Object(ce)).forEach(function(Se){Object.defineProperty(oe,Se,Object.getOwnPropertyDescriptor(ce,Se))})}return oe}function Kc(){return Kc=Object.assign||function(oe){for(var te=1;te<arguments.length;te++){var ce=arguments[te];for(var Se in ce)Object.prototype.hasOwnProperty.call(ce,Se)&&(oe[Se]=ce[Se])}return oe},Kc.apply(this,arguments)}function gs(oe,te,ce){return te in oe?Object.defineProperty(oe,te,{value:ce,enumerable:!0,configurable:!0,writable:!0}):oe[te]=ce,oe}var mf=Oe.a.Sider,Zc=function(te){return typeof te=="string"?Pe.a.createElement("img",{src:te,alt:"logo"}):typeof te=="function"?te():te},Hf=function(te){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"menuHeaderRender",Se=te.logo,Ye=te.title,Ct=te.layout,_t=te[ce||""];if(_t===!1)return null;var Nr=Zc(Se),yr=Pe.a.createElement("h1",null,Ye);return _t?_t(Nr,te.collapsed?null:yr,te):Ct==="mix"&&ce==="menuHeaderRender"?null:Pe.a.createElement("a",null,Nr,te.collapsed?null:yr)},Ac=function(te){return te?Pe.a.createElement(Un,null):Pe.a.createElement(Xn,null)},di=function(te){var ce,Se=te.collapsed,Ye=te.fixSiderbar,Ct=te.menuFooterRender,_t=te.onCollapse,Nr=te.theme,yr=te.siderWidth,ln=te.isMobile,ni=te.onMenuHeaderClick,Oi=te.breakpoint,Ki=Oi===void 0?"lg":Oi,Bi=te.style,Ri=te.layout,ma=te.menuExtraRender,ra=ma===void 0?!1:ma,Fs=te.collapsedButtonRender,fu=Fs===void 0?Ac:Fs,Zs=te.links,_a=te.menuContentRender,ku=te.prefixCls,zc=te.onOpenChange,hu=te.headerHeight,Na=te.logoStyle,Va="".concat(ku,"-sider"),Rf=Ei.useContainer(),Hu=Rf.flatMenuKeys,Vu=we()("".concat(Va),(ce={},gs(ce,"".concat(Va,"-fixed"),Ye),gs(ce,"".concat(Va,"-layout-").concat(Ri),Ri&&!ln),gs(ce,"".concat(Va,"-light"),Nr==="light"),ce)),Ju=Hf(te),yc=ra&&ra(te),Zl=_a!==!1&&Hu&&Pe.a.createElement(jl,Kc({},te,{mode:"inline",handleOpenChange:zc,style:{width:"100%"},className:"".concat(Va,"-menu")}));return Pe.a.createElement(Pe.a.Fragment,null,Ye&&Pe.a.createElement("div",{style:mc({width:Se?48:yr,overflow:"hidden",flex:"0 0 ".concat(Se?48:yr,"px"),maxWidth:Se?48:yr,minWidth:Se?48:yr,transition:"background-color 0.3s, min-width 0.3s, max-width 0.3s cubic-bezier(0.645, 0.045, 0.355, 1)"},Bi)}),Pe.a.createElement(mf,{collapsible:!0,trigger:null,collapsed:Se,breakpoint:Ki===!1?void 0:Ki,onCollapse:function(du){ln||_t&&_t(du)},collapsedWidth:48,style:mc({overflow:"hidden",paddingTop:Ri==="mix"&&!ln?hu:void 0},Bi),width:yr,theme:Nr,className:Vu},Ju&&Pe.a.createElement("div",{className:we()("".concat(Va,"-logo"),gs({},"".concat(Va,"-collapsed"),Se)),onClick:Ri!=="mix"?ni:void 0,id:"logo",style:Na},Ju),yc&&Pe.a.createElement("div",{className:"".concat(Va,"-extra ").concat(!Ju&&"".concat(Va,"-extra-no-logo"))},yc),Pe.a.createElement("div",{style:{flex:1,overflowY:"auto",overflowX:"hidden"}},_a?_a(te,Zl):Zl),Pe.a.createElement("div",{className:"".concat(Va,"-links")},Pe.a.createElement(Kr.a,{theme:Nr,inlineIndent:16,className:"".concat(Va,"-link-menu"),selectedKeys:[],openKeys:[],mode:"inline"},(Zs||[]).map(function(nf,du){return Pe.a.createElement(Kr.a.Item,{className:"".concat(Va,"-link"),key:du},nf)}),fu&&!ln&&Pe.a.createElement(Kr.a.Item,{className:"".concat(Va,"-collapsed-button"),title:!1,onClick:function(){_t&&_t(!Se)}},fu(Se)))),Ct&&Pe.a.createElement("div",{className:we()("".concat(Va,"-footer"),gs({},"".concat(Va,"-footer-collapsed"),!Se))},Ct(te))))},Ja=di,Jc=U("1OyB"),La=U("vuIU"),Vf=U("Ji7U"),zl=U("LK+K"),nd=U("m+aA"),tc=U("Zm9Q"),Mh=U("Kwbf"),_f=U("c+Xe"),rc=U("bdgK"),su="rc-observer-key",Xl=function(oe){Object(Vf.a)(ce,oe);var te=Object(zl.a)(ce);function ce(){var Se;return Object(Jc.a)(this,ce),Se=te.apply(this,arguments),Se.resizeObserver=null,Se.childNode=null,Se.currentElement=null,Se.state={width:0,height:0,offsetHeight:0,offsetWidth:0},Se.onResize=function(Ye){var Ct=Se.props.onResize,_t=Ye[0].target,Nr=_t.getBoundingClientRect(),yr=Nr.width,ln=Nr.height,ni=_t.offsetWidth,Oi=_t.offsetHeight,Ki=Math.floor(yr),Bi=Math.floor(ln);if(Se.state.width!==Ki||Se.state.height!==Bi||Se.state.offsetWidth!==ni||Se.state.offsetHeight!==Oi){var Ri={width:Ki,height:Bi,offsetWidth:ni,offsetHeight:Oi};Se.setState(Ri),Ct&&Promise.resolve().then(function(){Ct(Object(Mn.a)(Object(Mn.a)({},Ri),{},{offsetWidth:ni,offsetHeight:Oi}))})}},Se.setChildNode=function(Ye){Se.childNode=Ye},Se}return Object(La.a)(ce,[{key:"componentDidMount",value:function(){this.onComponentUpdated()}},{key:"componentDidUpdate",value:function(){this.onComponentUpdated()}},{key:"componentWillUnmount",value:function(){this.destroyObserver()}},{key:"onComponentUpdated",value:function(){var Ye=this.props.disabled;if(Ye){this.destroyObserver();return}var Ct=Object(nd.a)(this.childNode||this),_t=Ct!==this.currentElement;_t&&(this.destroyObserver(),this.currentElement=Ct),!this.resizeObserver&&Ct&&(this.resizeObserver=new rc.a(this.onResize),this.resizeObserver.observe(Ct))}},{key:"destroyObserver",value:function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}},{key:"render",value:function(){var Ye=this.props.children,Ct=Object(tc.a)(Ye);if(Ct.length>1)Object(Mh.a)(!1,"Find more than one child node with `children` in ResizeObserver. Will only observe first one.");else if(Ct.length===0)return Object(Mh.a)(!1,"`children` of ResizeObserver is empty. Nothing is in observe."),null;var _t=Ct[0];if(ve.isValidElement(_t)&&Object(_f.c)(_t)){var Nr=_t.ref;Ct[0]=ve.cloneElement(_t,{ref:Object(_f.a)(Nr,this.setChildNode)})}return Ct.length===1?Ct[0]:Ct.map(function(yr,ln){return!ve.isValidElement(yr)||"key"in yr&&yr.key!==null?yr:ve.cloneElement(yr,{key:"".concat(su,"-").concat(ln)})})}}]),ce}(ve.Component);Xl.displayName="ResizeObserver";var Dc=Xl,bu=U("UPUD");function Ha(){return Ha=Object.assign||function(oe){for(var te=1;te<arguments.length;te++){var ce=arguments[te];for(var Se in ce)Object.prototype.hasOwnProperty.call(ce,Se)&&(oe[Se]=ce[Se])}return oe},Ha.apply(this,arguments)}function Ko(oe,te){var ce=Object.keys(oe);if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(oe);te&&(Se=Se.filter(function(Ye){return Object.getOwnPropertyDescriptor(oe,Ye).enumerable})),ce.push.apply(ce,Se)}return ce}function Tu(oe){for(var te=1;te<arguments.length;te++){var ce=arguments[te]!=null?arguments[te]:{};te%2?Ko(Object(ce),!0).forEach(function(Se){zs(oe,Se,ce[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ce)):Ko(Object(ce)).forEach(function(Se){Object.defineProperty(oe,Se,Object.getOwnPropertyDescriptor(ce,Se))})}return oe}function zs(oe,te,ce){return te in oe?Object.defineProperty(oe,te,{value:ce,enumerable:!0,configurable:!0,writable:!0}):oe[te]=ce,oe}function Eh(oe,te){return Jd(oe)||Wf(oe,te)||Ed(oe,te)||Nc()}function Nc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ed(oe,te){if(!!oe){if(typeof oe=="string")return Zd(oe,te);var ce=Object.prototype.toString.call(oe).slice(8,-1);if(ce==="Object"&&oe.constructor&&(ce=oe.constructor.name),ce==="Map"||ce==="Set")return Array.from(oe);if(ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce))return Zd(oe,te)}}function Zd(oe,te){(te==null||te>oe.length)&&(te=oe.length);for(var ce=0,Se=new Array(te);ce<te;ce++)Se[ce]=oe[ce];return Se}function Wf(oe,te){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(oe)))){var ce=[],Se=!0,Ye=!1,Ct=void 0;try{for(var _t=oe[Symbol.iterator](),Nr;!(Se=(Nr=_t.next()).done)&&(ce.push(Nr.value),!(te&&ce.length===te));Se=!0);}catch(yr){Ye=!0,Ct=yr}finally{try{!Se&&_t.return!=null&&_t.return()}finally{if(Ye)throw Ct}}return ce}}function Jd(oe){if(Array.isArray(oe))return oe}function id(oe,te){if(oe==null)return{};var ce=zh(oe,te),Se,Ye;if(Object.getOwnPropertySymbols){var Ct=Object.getOwnPropertySymbols(oe);for(Ye=0;Ye<Ct.length;Ye++)Se=Ct[Ye],!(te.indexOf(Se)>=0)&&(!Object.prototype.propertyIsEnumerable.call(oe,Se)||(ce[Se]=oe[Se]))}return ce}function zh(oe,te){if(oe==null)return{};var ce={},Se=Object.keys(oe),Ye,Ct;for(Ct=0;Ct<Se.length;Ct++)Ye=Se[Ct],!(te.indexOf(Ye)>=0)&&(ce[Ye]=oe[Ye]);return ce}var Th=function(te){var ce=te.rightContentRender,Se=id(te,["rightContentRender"]),Ye=Object(ve.useState)("auto"),Ct=Eh(Ye,2),_t=Ct[0],Nr=Ct[1];return Pe.a.createElement("div",{style:{minWidth:_t}},Pe.a.createElement("div",{style:{paddingRight:8}},Pe.a.createElement(Dc,{onResize:function(ln){var ni=ln.width;Nr(ni)}},ce&&Pe.a.createElement("div",null,ce(Tu({},Se))))))},If=function(te){var ce=Object(ve.useRef)(null),Se=te.theme,Ye=te.onMenuHeaderClick,Ct=te.contentWidth,_t=te.rightContentRender,Nr=te.className,yr=te.style,ln=te.layout,ni="".concat(te.prefixCls||"ant-pro","-top-nav-header"),Oi=Hf(Tu(Tu({},te),{},{collapsed:!1}),ln==="mix"?"headerTitleRender":void 0),Ki=we()(ni,Nr,{light:Se==="light"});return Pe.a.createElement("div",{className:Ki,style:yr},Pe.a.createElement("div",{ref:ce,className:"".concat(ni,"-main ").concat(Ct==="Fixed"?"wide":"")},Oi&&Pe.a.createElement("div",{className:"".concat(ni,"-main-left"),onClick:Ye},Pe.a.createElement("div",{className:"".concat(ni,"-logo"),key:"logo",id:"logo"},Oi)),Pe.a.createElement("div",{style:{flex:1},className:"".concat(ni,"-menu")},Pe.a.createElement(jl,Ha({},te,te.menuProps))),_t&&Pe.a.createElement(Th,Ha({rightContentRender:_t},te))))},ql=If;function Ho(){return Ho=Object.assign||function(oe){for(var te=1;te<arguments.length;te++){var ce=arguments[te];for(var Se in ce)Object.prototype.hasOwnProperty.call(ce,Se)&&(oe[Se]=ce[Se])}return oe},Ho.apply(this,arguments)}function ul(oe,te){var ce=Object.keys(oe);if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(oe);te&&(Se=Se.filter(function(Ye){return Object.getOwnPropertyDescriptor(oe,Ye).enumerable})),ce.push.apply(ce,Se)}return ce}function oh(oe){for(var te=1;te<arguments.length;te++){var ce=arguments[te]!=null?arguments[te]:{};te%2?ul(Object(ce),!0).forEach(function(Se){ls(oe,Se,ce[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ce)):ul(Object(ce)).forEach(function(Se){Object.defineProperty(oe,Se,Object.getOwnPropertyDescriptor(ce,Se))})}return oe}function ls(oe,te,ce){return te in oe?Object.defineProperty(oe,te,{value:ce,enumerable:!0,configurable:!0,writable:!0}):oe[te]=ce,oe}var cl=function(te,ce){return te===!1?null:te?te(ce,null):ce},wp=function(te){var ce=te.isMobile,Se=te.logo,Ye=te.collapsed,Ct=te.onCollapse,_t=te.collapsedButtonRender,Nr=_t===void 0?Ac:_t,yr=te.rightContentRender,ln=te.menuHeaderRender,ni=te.onMenuHeaderClick,Oi=te.className,Ki=te.style,Bi=te.layout,Ri=te.children,ma=te.headerTheme,ra=ma===void 0?"dark":ma,Fs=te.splitMenus,fu=te.menuData,Zs=te.prefixCls,_a="".concat(Zs,"-global-header"),ku=we()(Oi,_a,ls({},"".concat(_a,"-layout-").concat(Bi),Bi&&ra==="dark"));if(Bi==="mix"&&!ce&&Fs){var zc=(fu||[]).map(function(Va){return oh(oh({},Va),{},{children:void 0})}),hu=hi(zc);return Pe.a.createElement(ql,Ho({mode:"horizontal"},te,{splitMenus:!1,menuData:hu,theme:ra}))}var Na=Pe.a.createElement("span",{className:"".concat(_a,"-logo"),key:"logo"},Pe.a.createElement("a",null,Zc(Se)));return Pe.a.createElement("div",{className:ku,style:oh({},Ki)},ce&&cl(ln,Na),ce&&Nr&&Pe.a.createElement("span",{className:"".concat(_a,"-collapsed-button"),onClick:function(){Ct&&Ct(!Ye)}},Nr(Ye)),Bi==="mix"&&!ce&&Pe.a.createElement(Pe.a.Fragment,null,Pe.a.createElement("div",{className:"".concat(_a,"-logo"),onClick:ni},Hf(oh(oh({},te),{},{collapsed:!1}),"headerTitleRender"))),Pe.a.createElement("div",{style:{flex:1}},Ri),yr&&yr(te))},mm=wp;function Qc(oe){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qc=function(ce){return typeof ce}:Qc=function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce},Qc(oe)}function od(oe,te){var ce=Object.keys(oe);if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(oe);te&&(Se=Se.filter(function(Ye){return Object.getOwnPropertyDescriptor(oe,Ye).enumerable})),ce.push.apply(ce,Se)}return ce}function vf(oe){for(var te=1;te<arguments.length;te++){var ce=arguments[te]!=null?arguments[te]:{};te%2?od(Object(ce),!0).forEach(function(Se){gf(oe,Se,ce[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ce)):od(Object(ce)).forEach(function(Se){Object.defineProperty(oe,Se,Object.getOwnPropertyDescriptor(ce,Se))})}return oe}function gf(oe,te,ce){return te in oe?Object.defineProperty(oe,te,{value:ce,enumerable:!0,configurable:!0,writable:!0}):oe[te]=ce,oe}function qc(){return qc=Object.assign||function(oe){for(var te=1;te<arguments.length;te++){var ce=arguments[te];for(var Se in ce)Object.prototype.hasOwnProperty.call(ce,Se)&&(oe[Se]=ce[Se])}return oe},qc.apply(this,arguments)}function ad(oe,te){if(!(oe instanceof te))throw new TypeError("Cannot call a class as a function")}function Ni(oe,te){for(var ce=0;ce<te.length;ce++){var Se=te[ce];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(oe,Se.key,Se)}}function Uh(oe,te,ce){return te&&Ni(oe.prototype,te),ce&&Ni(oe,ce),oe}function Td(oe,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function");oe.prototype=Object.create(te&&te.prototype,{constructor:{value:oe,writable:!0,configurable:!0}}),te&&bp(oe,te)}function bp(oe,te){return bp=Object.setPrototypeOf||function(Se,Ye){return Se.__proto__=Ye,Se},bp(oe,te)}function Fu(oe){var te=sd();return function(){var Se=ah(oe),Ye;if(te){var Ct=ah(this).constructor;Ye=Reflect.construct(Se,arguments,Ct)}else Ye=Se.apply(this,arguments);return wc(this,Ye)}}function wc(oe,te){return te&&(Qc(te)==="object"||typeof te=="function")?te:Qd(oe)}function Qd(oe){if(oe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe}function sd(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(oe){return!1}}function ah(oe){return ah=Object.setPrototypeOf?Object.getPrototypeOf:function(ce){return ce.__proto__||Object.getPrototypeOf(ce)},ah(oe)}var qd=Oe.a.Header,_h=function(oe){Td(ce,oe);var te=Fu(ce);function ce(){var Se;return ad(this,ce),Se=te.apply(this,arguments),Se.renderContent=function(){var Ye=Se.props,Ct=Ye.isMobile,_t=Ye.onCollapse,Nr=Ye.navTheme,yr=Ye.layout,ln=Ye.headerRender,ni=Ye.headerContentRender,Oi=yr==="top",Ki=hi(Se.props.menuData||[]),Bi=Pe.a.createElement(mm,qc({onCollapse:_t},Se.props,{menuData:Ki}),ni&&ni(Se.props));return Oi&&!Ct&&(Bi=Pe.a.createElement(ql,qc({theme:Nr,mode:"horizontal",onCollapse:_t},Se.props,{menuData:Ki}))),ln&&typeof ln=="function"?ln(Se.props,Bi):Bi},Se}return Uh(ce,[{key:"render",value:function(){var Ye,Ct=this.props,_t=Ct.fixedHeader,Nr=Ct.layout,yr=Ct.className,ln=Ct.style,ni=Ct.collapsed,Oi=Ct.siderWidth,Ki=Ct.hasSiderMenu,Bi=Ct.isMobile,Ri=Ct.prefixCls,ma=Ct.headerHeight,ra=_t||Nr==="mix",Fs=Nr==="top",fu=ra&&Ki&&!Fs&&!Bi,Zs=we()(yr,(Ye={},gf(Ye,"".concat(Ri,"-fixed-header"),ra),gf(Ye,"".concat(Ri,"-top-menu"),Fs),Ye)),_a=Nr!=="mix"&&fu?"calc(100% - ".concat(ni?48:Oi,"px)"):"100%",ku=ra?0:void 0;return Pe.a.createElement(Pe.a.Fragment,null,ra&&Pe.a.createElement(qd,{style:{height:ma,lineHeight:"".concat(ma,"px"),background:"transparent"}}),Pe.a.createElement(qd,{style:vf({padding:0,height:ma,lineHeight:"".concat(ma,"px"),width:_a,zIndex:Nr==="mix"?100:19,right:ku},ln),className:Zs},this.renderContent()))}}]),ce}(ve.Component),us=_h,ze=U("jfsG"),Le=U.n(ze);function it(oe){return mr(oe)||yt(oe)||Gt(oe)||Qe()}function Qe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gt(oe,te){if(!!oe){if(typeof oe=="string")return vr(oe,te);var ce=Object.prototype.toString.call(oe).slice(8,-1);if(ce==="Object"&&oe.constructor&&(ce=oe.constructor.name),ce==="Map"||ce==="Set")return Array.from(oe);if(ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce))return vr(oe,te)}}function yt(oe){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(oe))return Array.from(oe)}function mr(oe){if(Array.isArray(oe))return vr(oe)}function vr(oe,te){(te==null||te>oe.length)&&(te=oe.length);for(var ce=0,Se=new Array(te);ce<te;ce++)Se[ce]=oe[ce];return Se}var Ar=function(te,ce,Se){if(Se){var Ye=it(Se.keys()).find(function(_t){return Le()(_t).test(te)});if(Ye)return Se.get(Ye)}if(ce){var Ct=Object.keys(ce).find(function(_t){return Le()(_t).test(te)});if(Ct)return ce[Ct]}return{path:""}},sn=function(te,ce){var Se=te.pathname,Ye=Se===void 0?"/":Se,Ct=te.breadcrumb,_t=te.breadcrumbMap,Nr=te.formatMessage,yr=te.title,ln=yr===void 0?"Ant Design Pro":yr,ni=te.menu,Oi=ni===void 0?{locale:!1}:ni,Ki=ce?"":ln||"",Bi=Ar(Ye,Ct,_t);if(!Bi)return{title:Ki,id:"",pageName:Ki};var Ri=Bi.name;return Oi.locale!==!1&&Bi.locale&&Nr&&(Ri=Nr({id:Bi.locale||"",defaultMessage:Bi.name})),Ri?ce||!ln?{title:Ri,id:Bi.locale||"",pageName:Ri}:{title:"".concat(Ri," - ").concat(ln),id:Bi.locale||"",pageName:Ri}:{title:Ki,id:Bi.locale||"",pageName:Ki}},bi=function(te,ce){return sn(te,ce).title},nn=bi,Ti={"app.setting.pagestyle":"\u6574\u4F53\u98CE\u683C\u8BBE\u7F6E","app.setting.pagestyle.dark":"\u6697\u8272\u83DC\u5355\u98CE\u683C","app.setting.pagestyle.light":"\u4EAE\u8272\u83DC\u5355\u98CE\u683C","app.setting.content-width":"\u5185\u5BB9\u533A\u57DF\u5BBD\u5EA6","app.setting.content-width.fixed":"\u5B9A\u5BBD","app.setting.content-width.fluid":"\u6D41\u5F0F","app.setting.themecolor":"\u4E3B\u9898\u8272","app.setting.themecolor.dust":"\u8584\u66AE","app.setting.themecolor.volcano":"\u706B\u5C71","app.setting.themecolor.sunset":"\u65E5\u66AE","app.setting.themecolor.cyan":"\u660E\u9752","app.setting.themecolor.green":"\u6781\u5149\u7EFF","app.setting.themecolor.daybreak":"\u62C2\u6653\u84DD\uFF08\u9ED8\u8BA4\uFF09","app.setting.themecolor.geekblue":"\u6781\u5BA2\u84DD","app.setting.themecolor.purple":"\u9171\u7D2B","app.setting.navigationmode":"\u5BFC\u822A\u6A21\u5F0F","app.setting.regionalsettings":"\u5185\u5BB9\u533A\u57DF","app.setting.regionalsettings.header":"\u9876\u680F","app.setting.regionalsettings.menu":"\u83DC\u5355","app.setting.regionalsettings.footer":"\u9875\u811A","app.setting.regionalsettings.menuHeader":"\u83DC\u5355\u5934","app.setting.sidemenu":"\u4FA7\u8FB9\u83DC\u5355\u5E03\u5C40","app.setting.topmenu":"\u9876\u90E8\u83DC\u5355\u5E03\u5C40","app.setting.mixmenu":"\u6DF7\u5408\u83DC\u5355\u5E03\u5C40","app.setting.splitMenus":"\u81EA\u52A8\u5206\u5272\u83DC\u5355","app.setting.fixedheader":"\u56FA\u5B9A Header","app.setting.fixedsidebar":"\u56FA\u5B9A\u4FA7\u8FB9\u83DC\u5355","app.setting.fixedsidebar.hint":"\u4FA7\u8FB9\u83DC\u5355\u5E03\u5C40\u65F6\u53EF\u914D\u7F6E","app.setting.hideheader":"\u4E0B\u6ED1\u65F6\u9690\u85CF Header","app.setting.hideheader.hint":"\u56FA\u5B9A Header \u65F6\u53EF\u914D\u7F6E","app.setting.othersettings":"\u5176\u4ED6\u8BBE\u7F6E","app.setting.weakmode":"\u8272\u5F31\u6A21\u5F0F","app.setting.copy":"\u62F7\u8D1D\u8BBE\u7F6E","app.setting.loading":"\u6B63\u5728\u52A0\u8F7D\u4E3B\u9898","app.setting.copyinfo":"\u62F7\u8D1D\u6210\u529F\uFF0C\u8BF7\u5230 src/defaultSettings.js \u4E2D\u66FF\u6362\u9ED8\u8BA4\u914D\u7F6E","app.setting.production.hint":"\u914D\u7F6E\u680F\u53EA\u5728\u5F00\u53D1\u73AF\u5883\u7528\u4E8E\u9884\u89C8\uFF0C\u751F\u4EA7\u73AF\u5883\u4E0D\u4F1A\u5C55\u73B0\uFF0C\u8BF7\u62F7\u8D1D\u540E\u624B\u52A8\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6"};function yo(oe,te){var ce=Object.keys(oe);if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(oe);te&&(Se=Se.filter(function(Ye){return Object.getOwnPropertyDescriptor(oe,Ye).enumerable})),ce.push.apply(ce,Se)}return ce}function mn(oe){for(var te=1;te<arguments.length;te++){var ce=arguments[te]!=null?arguments[te]:{};te%2?yo(Object(ce),!0).forEach(function(Se){ca(oe,Se,ce[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ce)):yo(Object(ce)).forEach(function(Se){Object.defineProperty(oe,Se,Object.getOwnPropertyDescriptor(ce,Se))})}return oe}function ca(oe,te,ce){return te in oe?Object.defineProperty(oe,te,{value:ce,enumerable:!0,configurable:!0,writable:!0}):oe[te]=ce,oe}var co=mn({},Ti),is={"app.setting.pagestyle":"\u6574\u9AD4\u98A8\u683C\u8A2D\u7F6E","app.setting.pagestyle.dark":"\u6697\u8272\u83DC\u55AE\u98A8\u683C","app.setting.pagestyle.light":"\u4EAE\u8272\u83DC\u55AE\u98A8\u683C","app.setting.content-width":"\u5167\u5BB9\u5340\u57DF\u5BEC\u5EA6","app.setting.content-width.fixed":"\u5B9A\u5BEC","app.setting.content-width.fluid":"\u6D41\u5F0F","app.setting.themecolor":"\u4E3B\u984C\u8272","app.setting.themecolor.dust":"\u8584\u66AE","app.setting.themecolor.volcano":"\u706B\u5C71","app.setting.themecolor.sunset":"\u65E5\u66AE","app.setting.themecolor.cyan":"\u660E\u9752","app.setting.themecolor.green":"\u6975\u5149\u7DA0","app.setting.themecolor.daybreak":"\u62C2\u66C9\u85CD\uFF08\u9ED8\u8A8D\uFF09","app.setting.themecolor.geekblue":"\u6975\u5BA2\u85CD","app.setting.themecolor.purple":"\u91AC\u7D2B","app.setting.navigationmode":"\u5C0E\u822A\u6A21\u5F0F","app.setting.sidemenu":"\u5074\u908A\u83DC\u55AE\u5E03\u5C40","app.setting.topmenu":"\u9802\u90E8\u83DC\u55AE\u5E03\u5C40","app.setting.mixmenu":"\u6DF7\u5408\u83DC\u55AE\u5E03\u5C40","app.setting.splitMenus":"\u81EA\u52A8\u5206\u5272\u83DC\u5355","app.setting.fixedheader":"\u56FA\u5B9A Header","app.setting.fixedsidebar":"\u56FA\u5B9A\u5074\u908A\u83DC\u55AE","app.setting.fixedsidebar.hint":"\u5074\u908A\u83DC\u55AE\u5E03\u5C40\u6642\u53EF\u914D\u7F6E","app.setting.hideheader":"\u4E0B\u6ED1\u6642\u96B1\u85CF Header","app.setting.hideheader.hint":"\u56FA\u5B9A Header \u6642\u53EF\u914D\u7F6E","app.setting.othersettings":"\u5176\u4ED6\u8A2D\u7F6E","app.setting.weakmode":"\u8272\u5F31\u6A21\u5F0F","app.setting.copy":"\u62F7\u8C9D\u8A2D\u7F6E","app.setting.loading":"\u6B63\u5728\u52A0\u8F09\u4E3B\u984C","app.setting.copyinfo":"\u62F7\u8C9D\u6210\u529F\uFF0C\u8ACB\u5230 src/defaultSettings.js \u4E2D\u66FF\u63DB\u9ED8\u8A8D\u914D\u7F6E","app.setting.production.hint":"\u914D\u7F6E\u6B04\u53EA\u5728\u958B\u767C\u74B0\u5883\u7528\u65BC\u9810\u89BD\uFF0C\u751F\u7522\u74B0\u5883\u4E0D\u6703\u5C55\u73FE\uFF0C\u8ACB\u62F7\u8C9D\u5F8C\u624B\u52D5\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6"};function Yi(oe,te){var ce=Object.keys(oe);if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(oe);te&&(Se=Se.filter(function(Ye){return Object.getOwnPropertyDescriptor(oe,Ye).enumerable})),ce.push.apply(ce,Se)}return ce}function fa(oe){for(var te=1;te<arguments.length;te++){var ce=arguments[te]!=null?arguments[te]:{};te%2?Yi(Object(ce),!0).forEach(function(Se){ha(oe,Se,ce[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ce)):Yi(Object(ce)).forEach(function(Se){Object.defineProperty(oe,Se,Object.getOwnPropertyDescriptor(ce,Se))})}return oe}function ha(oe,te,ce){return te in oe?Object.defineProperty(oe,te,{value:ce,enumerable:!0,configurable:!0,writable:!0}):oe[te]=ce,oe}var Da=fa({},is),Xi={"app.setting.pagestyle":"Page style setting","app.setting.pagestyle.dark":"Dark style","app.setting.pagestyle.light":"Light style","app.setting.content-width":"Content Width","app.setting.content-width.fixed":"Fixed","app.setting.content-width.fluid":"Fluid","app.setting.themecolor":"Theme Color","app.setting.themecolor.dust":"Dust Red","app.setting.themecolor.volcano":"Volcano","app.setting.themecolor.sunset":"Sunset Orange","app.setting.themecolor.cyan":"Cyan","app.setting.themecolor.green":"Polar Green","app.setting.themecolor.daybreak":"Daybreak Blue (default)","app.setting.themecolor.geekblue":"Geek Blue","app.setting.themecolor.purple":"Golden Purple","app.setting.navigationmode":"Navigation Mode","app.setting.regionalsettings":"Regional Settings","app.setting.regionalsettings.header":"Header","app.setting.regionalsettings.menu":"Menu","app.setting.regionalsettings.footer":"Footer","app.setting.regionalsettings.menuHeader":"Menu Header","app.setting.sidemenu":"Side Menu Layout","app.setting.topmenu":"Top Menu Layout","app.setting.mixmenu":"Mix Menu Layout","app.setting.splitMenus":"Split Menus","app.setting.fixedheader":"Fixed Header","app.setting.fixedsidebar":"Fixed Sidebar","app.setting.fixedsidebar.hint":"Works on Side Menu Layout","app.setting.hideheader":"Hidden Header when scrolling","app.setting.hideheader.hint":"Works when Hidden Header is enabled","app.setting.othersettings":"Other Settings","app.setting.weakmode":"Weak Mode","app.setting.copy":"Copy Setting","app.setting.loading":"Loading theme","app.setting.copyinfo":"copy success\uFF0Cplease replace defaultSettings in src/models/setting.js","app.setting.production.hint":"Setting panel shows in development environment only, please manually modify"};function fo(oe,te){var ce=Object.keys(oe);if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(oe);te&&(Se=Se.filter(function(Ye){return Object.getOwnPropertyDescriptor(oe,Ye).enumerable})),ce.push.apply(ce,Se)}return ce}function Qa(oe){for(var te=1;te<arguments.length;te++){var ce=arguments[te]!=null?arguments[te]:{};te%2?fo(Object(ce),!0).forEach(function(Se){po(oe,Se,ce[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ce)):fo(Object(ce)).forEach(function(Se){Object.defineProperty(oe,Se,Object.getOwnPropertyDescriptor(ce,Se))})}return oe}function po(oe,te,ce){return te in oe?Object.defineProperty(oe,te,{value:ce,enumerable:!0,configurable:!0,writable:!0}):oe[te]=ce,oe}var ws=Qa({},Xi),os={"app.setting.pagestyle":"Impostazioni di stile","app.setting.pagestyle.dark":"Tema scuro","app.setting.pagestyle.light":"Tema chiaro","app.setting.content-width":"Largezza contenuto","app.setting.content-width.fixed":"Fissa","app.setting.content-width.fluid":"Fluida","app.setting.themecolor":"Colore del tema","app.setting.themecolor.dust":"Rosso polvere","app.setting.themecolor.volcano":"Vulcano","app.setting.themecolor.sunset":"Arancione tramonto","app.setting.themecolor.cyan":"Ciano","app.setting.themecolor.green":"Verde polare","app.setting.themecolor.daybreak":"Blu cielo mattutino (default)","app.setting.themecolor.geekblue":"Blu geek","app.setting.themecolor.purple":"Viola dorato","app.setting.navigationmode":"Modalit\xE0 di navigazione","app.setting.sidemenu":"Menu laterale","app.setting.topmenu":"Menu in testata","app.setting.mixmenu":"Menu misto","app.setting.splitMenus":"Menu divisi","app.setting.fixedheader":"Testata fissa","app.setting.fixedsidebar":"Menu laterale fisso","app.setting.fixedsidebar.hint":"Solo se selezionato Menu laterale","app.setting.hideheader":"Nascondi testata durante lo scorrimento","app.setting.hideheader.hint":"Solo se abilitato Nascondi testata durante lo scorrimento","app.setting.othersettings":"Altre impostazioni","app.setting.weakmode":"Inverti colori","app.setting.copy":"Copia impostazioni","app.setting.loading":"Carico tema...","app.setting.copyinfo":"Impostazioni copiate con successo! Incolla il contenuto in config/defaultSettings.js","app.setting.production.hint":"Questo pannello \xE8 visibile solo durante lo sviluppo. Le impostazioni devono poi essere modificate manulamente"};function Ls(oe,te){var ce=Object.keys(oe);if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(oe);te&&(Se=Se.filter(function(Ye){return Object.getOwnPropertyDescriptor(oe,Ye).enumerable})),ce.push.apply(ce,Se)}return ce}function oa(oe){for(var te=1;te<arguments.length;te++){var ce=arguments[te]!=null?arguments[te]:{};te%2?Ls(Object(ce),!0).forEach(function(Se){Lo(oe,Se,ce[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ce)):Ls(Object(ce)).forEach(function(Se){Object.defineProperty(oe,Se,Object.getOwnPropertyDescriptor(ce,Se))})}return oe}function Lo(oe,te,ce){return te in oe?Object.defineProperty(oe,te,{value:ce,enumerable:!0,configurable:!0,writable:!0}):oe[te]=ce,oe}var wa=oa({},os),ba={"zh-CN":co,"zh-TW":Da,"en-US":ws,"it-IT":wa},ho=function(){if(!Object(_r.a)())return"zh-CN";var te=window.localStorage.getItem("umi_locale");return te||window.g_locale||navigator.language},qa=function(){var oe=ho();return ba[oe]?ba[oe]:ba["zh-CN"]},da=U("9W6o"),ta=U("jYQm"),Ka=U("cIOH"),Za=U("CWI+"),cs=U("rePB"),Uo=U("wx14"),nc=U("ODXe"),Yu=U("1W/9"),Bu=U("JX7q"),El=U("qx4F"),ja=U("4IlW"),lu=U("bT9E");function $c(oe){return Array.isArray(oe)?oe:[oe]}var Ul={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend"},uu=Object.keys(Ul).filter(function(oe){if(typeof document=="undefined")return!1;var te=document.getElementsByTagName("html")[0];return oe in(te?te.style:{})})[0],Ks=Ul[uu];function fs(oe,te,ce,Se){oe.addEventListener?oe.addEventListener(te,ce,Se):oe.attachEvent&&oe.attachEvent("on".concat(te),ce)}function ju(oe,te,ce,Se){oe.removeEventListener?oe.removeEventListener(te,ce,Se):oe.attachEvent&&oe.detachEvent("on".concat(te),ce)}function $l(oe,te){var ce=typeof oe=="function"?oe(te):oe;return Array.isArray(ce)?ce.length===2?ce:[ce[0],ce[1]]:[ce]}var ic=function(te){return!isNaN(parseFloat(te))&&isFinite(te)},Nl=!(typeof window!="undefined"&&window.document&&window.document.createElement),zu=function oe(te,ce,Se,Ye){if(!ce||ce===document||ce instanceof Document)return!1;if(ce===te.parentNode)return!0;var Ct=Math.max(Math.abs(Se),Math.abs(Ye))===Math.abs(Ye),_t=Math.max(Math.abs(Se),Math.abs(Ye))===Math.abs(Se),Nr=ce.scrollHeight-ce.clientHeight,yr=ce.scrollWidth-ce.clientWidth,ln=document.defaultView.getComputedStyle(ce),ni=ln.overflowY==="auto"||ln.overflowY==="scroll",Oi=ln.overflowX==="auto"||ln.overflowX==="scroll",Ki=Nr&&ni,Bi=yr&&Oi;return Ct&&(!Ki||Ki&&(ce.scrollTop>=Nr&&Ye<0||ce.scrollTop<=0&&Ye>0))||_t&&(!Bi||Bi&&(ce.scrollLeft>=yr&&Se<0||ce.scrollLeft<=0&&Se>0))?oe(te,ce.parentNode,Se,Ye):!1},bs={},Uu=function(oe){Object(Vf.a)(ce,oe);var te=Object(zl.a)(ce);function ce(Se){var Ye;return Object(Jc.a)(this,ce),Ye=te.call(this,Se),Ye.domFocus=function(){Ye.dom&&Ye.dom.focus()},Ye.removeStartHandler=function(Ct){Ct.touches.length>1||(Ye.startPos={x:Ct.touches[0].clientX,y:Ct.touches[0].clientY})},Ye.removeMoveHandler=function(Ct){if(!(Ct.changedTouches.length>1)){var _t=Ct.currentTarget,Nr=Ct.changedTouches[0].clientX-Ye.startPos.x,yr=Ct.changedTouches[0].clientY-Ye.startPos.y;(_t===Ye.maskDom||_t===Ye.handlerDom||_t===Ye.contentDom&&zu(_t,Ct.target,Nr,yr))&&Ct.cancelable&&Ct.preventDefault()}},Ye.transitionEnd=function(Ct){var _t=Ct.target;ju(_t,Ks,Ye.transitionEnd),_t.style.transition=""},Ye.onKeyDown=function(Ct){if(Ct.keyCode===ja.a.ESC){var _t=Ye.props.onClose;Ct.stopPropagation(),_t&&_t(Ct)}},Ye.onWrapperTransitionEnd=function(Ct){var _t=Ye.props,Nr=_t.open,yr=_t.afterVisibleChange;Ct.target===Ye.contentWrapper&&Ct.propertyName.match(/transform$/)&&(Ye.dom.style.transition="",!Nr&&Ye.getCurrentDrawerSome()&&(document.body.style.overflowX="",Ye.maskDom&&(Ye.maskDom.style.left="",Ye.maskDom.style.width="")),yr&&yr(!!Nr))},Ye.openLevelTransition=function(){var Ct=Ye.props,_t=Ct.open,Nr=Ct.width,yr=Ct.height,ln=Ye.getHorizontalBoolAndPlacementName(),ni=ln.isHorizontal,Oi=ln.placementName,Ki=Ye.contentDom?Ye.contentDom.getBoundingClientRect()[ni?"width":"height"]:0,Bi=(ni?Nr:yr)||Ki;Ye.setLevelAndScrolling(_t,Oi,Bi)},Ye.setLevelTransform=function(Ct,_t,Nr,yr){var ln=Ye.props,ni=ln.placement,Oi=ln.levelMove,Ki=ln.duration,Bi=ln.ease,Ri=ln.showMask;Ye.levelDom.forEach(function(ma){ma.style.transition="transform ".concat(Ki," ").concat(Bi),fs(ma,Ks,Ye.transitionEnd);var ra=Ct?Nr:0;if(Oi){var Fs=$l(Oi,{target:ma,open:Ct});ra=Ct?Fs[0]:Fs[1]||0}var fu=typeof ra=="number"?"".concat(ra,"px"):ra,Zs=ni==="left"||ni==="top"?fu:"-".concat(fu);Zs=Ri&&ni==="right"&&yr?"calc(".concat(Zs," + ").concat(yr,"px)"):Zs,ma.style.transform=ra?"".concat(_t,"(").concat(Zs,")"):""})},Ye.setLevelAndScrolling=function(Ct,_t,Nr){var yr=Ye.props.onChange;if(!Nl){var ln=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth?Object(El.a)(!0):0;Ye.setLevelTransform(Ct,_t,Nr,ln),Ye.toggleScrollingToDrawerAndBody(ln)}yr&&yr(Ct)},Ye.toggleScrollingToDrawerAndBody=function(Ct){var _t=Ye.props,Nr=_t.getContainer,yr=_t.showMask,ln=_t.open,ni=Nr&&Nr();if(ni&&ni.parentNode===document.body&&yr){var Oi=["touchstart"],Ki=[document.body,Ye.maskDom,Ye.handlerDom,Ye.contentDom];ln&&document.body.style.overflow!=="hidden"?(Ct&&Ye.addScrollingEffect(Ct),document.body.style.touchAction="none",Ki.forEach(function(Bi,Ri){!Bi||fs(Bi,Oi[Ri]||"touchmove",Ri?Ye.removeMoveHandler:Ye.removeStartHandler,Ye.passive)})):Ye.getCurrentDrawerSome()&&(document.body.style.touchAction="",Ct&&Ye.remScrollingEffect(Ct),Ki.forEach(function(Bi,Ri){!Bi||ju(Bi,Oi[Ri]||"touchmove",Ri?Ye.removeMoveHandler:Ye.removeStartHandler,Ye.passive)}))}},Ye.addScrollingEffect=function(Ct){var _t=Ye.props,Nr=_t.placement,yr=_t.duration,ln=_t.ease,ni="width ".concat(yr," ").concat(ln),Oi="transform ".concat(yr," ").concat(ln);switch(Ye.dom.style.transition="none",Nr){case"right":Ye.dom.style.transform="translateX(-".concat(Ct,"px)");break;case"top":case"bottom":Ye.dom.style.width="calc(100% - ".concat(Ct,"px)"),Ye.dom.style.transform="translateZ(0)";break;default:break}clearTimeout(Ye.timeout),Ye.timeout=setTimeout(function(){Ye.dom&&(Ye.dom.style.transition="".concat(Oi,",").concat(ni),Ye.dom.style.width="",Ye.dom.style.transform="")})},Ye.remScrollingEffect=function(Ct){var _t=Ye.props,Nr=_t.placement,yr=_t.duration,ln=_t.ease;uu&&(document.body.style.overflowX="hidden"),Ye.dom.style.transition="none";var ni,Oi="width ".concat(yr," ").concat(ln),Ki="transform ".concat(yr," ").concat(ln);switch(Nr){case"left":{Ye.dom.style.width="100%",Oi="width 0s ".concat(ln," ").concat(yr);break}case"right":{Ye.dom.style.transform="translateX(".concat(Ct,"px)"),Ye.dom.style.width="100%",Oi="width 0s ".concat(ln," ").concat(yr),Ye.maskDom&&(Ye.maskDom.style.left="-".concat(Ct,"px"),Ye.maskDom.style.width="calc(100% + ".concat(Ct,"px)"));break}case"top":case"bottom":{Ye.dom.style.width="calc(100% + ".concat(Ct,"px)"),Ye.dom.style.height="100%",Ye.dom.style.transform="translateZ(0)",ni="height 0s ".concat(ln," ").concat(yr);break}default:break}clearTimeout(Ye.timeout),Ye.timeout=setTimeout(function(){Ye.dom&&(Ye.dom.style.transition="".concat(Ki,",").concat(ni?"".concat(ni,","):"").concat(Oi),Ye.dom.style.transform="",Ye.dom.style.width="",Ye.dom.style.height="")})},Ye.getCurrentDrawerSome=function(){return!Object.keys(bs).some(function(Ct){return bs[Ct]})},Ye.getLevelDom=function(Ct){var _t=Ct.level,Nr=Ct.getContainer;if(!Nl){var yr=Nr&&Nr(),ln=yr?yr.parentNode:null;if(Ye.levelDom=[],_t==="all"){var ni=ln?Array.prototype.slice.call(ln.children):[];ni.forEach(function(Oi){Oi.nodeName!=="SCRIPT"&&Oi.nodeName!=="STYLE"&&Oi.nodeName!=="LINK"&&Oi!==yr&&Ye.levelDom.push(Oi)})}else _t&&$c(_t).forEach(function(Oi){document.querySelectorAll(Oi).forEach(function(Ki){Ye.levelDom.push(Ki)})})}},Ye.getHorizontalBoolAndPlacementName=function(){var Ct=Ye.props.placement,_t=Ct==="left"||Ct==="right",Nr="translate".concat(_t?"X":"Y");return{isHorizontal:_t,placementName:Nr}},Ye.state={_self:Object(Bu.a)(Ye)},Ye}return Object(La.a)(ce,[{key:"componentDidMount",value:function(){var Ye=this;if(!Nl){var Ct=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return Ct=!0,null}}))}catch(Oi){}this.passive=Ct?{passive:!1}:!1}var _t=this.props,Nr=_t.open,yr=_t.getContainer,ln=yr&&yr();if(this.drawerId="drawer_id_".concat(Number((Date.now()+Math.random()).toString().replace(".",Math.round(Math.random()*9).toString())).toString(16)),this.getLevelDom(this.props),Nr){var ni;ln&&ln.parentNode===document.body&&(bs[this.drawerId]=Nr),this.openLevelTransition(),this.forceUpdate(function(){Ye.domFocus()}),(ni=this.props.scrollLocker)===null||ni===void 0||ni.lock()}}},{key:"componentDidUpdate",value:function(Ye){var Ct=this.props,_t=Ct.open,Nr=Ct.getContainer,yr=Ct.scrollLocker,ln=Nr&&Nr();_t!==Ye.open&&(ln&&ln.parentNode===document.body&&(bs[this.drawerId]=!!_t),this.openLevelTransition(),_t?(this.domFocus(),yr==null||yr.lock()):yr==null||yr.unLock())}},{key:"componentWillUnmount",value:function(){var Ye=this.props,Ct=Ye.open,_t=Ye.scrollLocker;delete bs[this.drawerId],Ct&&(this.setLevelTransform(!1),document.body.style.touchAction=""),_t==null||_t.unLock()}},{key:"render",value:function(){var Ye,Ct=this,_t=this.props,Nr=_t.className,yr=_t.children,ln=_t.style,ni=_t.width,Oi=_t.height,Ki=_t.defaultOpen,Bi=_t.open,Ri=_t.prefixCls,ma=_t.placement,ra=_t.level,Fs=_t.levelMove,fu=_t.ease,Zs=_t.duration,_a=_t.getContainer,ku=_t.handler,zc=_t.onChange,hu=_t.afterVisibleChange,Na=_t.showMask,Va=_t.maskClosable,Rf=_t.maskStyle,Hu=_t.onClose,Vu=_t.onHandleClick,Ju=_t.keyboard,yc=_t.getOpenCount,Zl=_t.scrollLocker,nf=Object(dn.a)(_t,["className","children","style","width","height","defaultOpen","open","prefixCls","placement","level","levelMove","ease","duration","getContainer","handler","onChange","afterVisibleChange","showMask","maskClosable","maskStyle","onClose","onHandleClick","keyboard","getOpenCount","scrollLocker"]),du=this.dom?Bi:!1,xf=we()(Ri,(Ye={},Object(cs.a)(Ye,"".concat(Ri,"-").concat(ma),!0),Object(cs.a)(Ye,"".concat(Ri,"-open"),du),Object(cs.a)(Ye,Nr||"",!!Nr),Object(cs.a)(Ye,"no-mask",!Na),Ye)),Su=this.getHorizontalBoolAndPlacementName(),pu=Su.placementName,ch=ma==="left"||ma==="top"?"-100%":"100%",$f=du?"":"".concat(pu,"(").concat(ch,")"),To=ku&&ve.cloneElement(ku,{onClick:function(Zi){ku.props.onClick&&ku.props.onClick(),Vu&&Vu(Zi)},ref:function(Zi){Ct.handlerDom=Zi}});return ve.createElement("div",Object(Uo.a)({},Object(lu.a)(nf,["switchScrollingEffect"]),{tabIndex:-1,className:xf,style:ln,ref:function(Zi){Ct.dom=Zi},onKeyDown:du&&Ju?this.onKeyDown:void 0,onTransitionEnd:this.onWrapperTransitionEnd}),Na&&ve.createElement("div",{className:"".concat(Ri,"-mask"),onClick:Va?Hu:void 0,style:Rf,ref:function(Zi){Ct.maskDom=Zi}}),ve.createElement("div",{className:"".concat(Ri,"-content-wrapper"),style:{transform:$f,msTransform:$f,width:ic(ni)?"".concat(ni,"px"):ni,height:ic(Oi)?"".concat(Oi,"px"):Oi},ref:function(Zi){Ct.contentWrapper=Zi}},ve.createElement("div",{className:"".concat(Ri,"-content"),ref:function(Zi){Ct.contentDom=Zi},onTouchStart:du&&Na?this.removeStartHandler:void 0,onTouchMove:du&&Na?this.removeMoveHandler:void 0},yr),To))}}],[{key:"getDerivedStateFromProps",value:function(Ye,Ct){var _t=Ct.prevProps,Nr=Ct._self,yr={prevProps:Ye};if(_t!==void 0){var ln=Ye.placement,ni=Ye.level;ln!==_t.placement&&(Nr.contentDom=null),ni!==_t.level&&Nr.getLevelDom(Ye)}return yr}}]),ce}(ve.Component),Yt=Uu,Ur=function(oe){Object(Vf.a)(ce,oe);var te=Object(zl.a)(ce);function ce(Se){var Ye;Object(Jc.a)(this,ce),Ye=te.call(this,Se),Ye.onHandleClick=function(_t){var Nr=Ye.props,yr=Nr.onHandleClick,ln=Nr.open;if(yr&&yr(_t),typeof ln=="undefined"){var ni=Ye.state.open;Ye.setState({open:!ni})}},Ye.onClose=function(_t){var Nr=Ye.props,yr=Nr.onClose,ln=Nr.open;yr&&yr(_t),typeof ln=="undefined"&&Ye.setState({open:!1})};var Ct=typeof Se.open!="undefined"?Se.open:!!Se.defaultOpen;return Ye.state={open:Ct},"onMaskClick"in Se&&console.warn("`onMaskClick` are removed, please use `onClose` instead."),Ye}return Object(La.a)(ce,[{key:"render",value:function(){var Ye=this,Ct=this.props,_t=Ct.defaultOpen,Nr=Ct.getContainer,yr=Ct.wrapperClassName,ln=Ct.forceRender,ni=Ct.handler,Oi=Object(dn.a)(Ct,["defaultOpen","getContainer","wrapperClassName","forceRender","handler"]),Ki=this.state.open;if(!Nr)return ve.createElement("div",{className:yr,ref:function(ma){Ye.dom=ma}},ve.createElement(Yt,Object(Uo.a)({},Oi,{open:Ki,handler:ni,getContainer:function(){return Ye.dom},onClose:this.onClose,onHandleClick:this.onHandleClick})));var Bi=!!ni||ln;return ve.createElement(Yu.a,{visible:Ki,forceRender:Bi,getContainer:Nr,wrapperClassName:yr},function(Ri){var ma=Ri.visible,ra=Ri.afterClose,Fs=Object(dn.a)(Ri,["visible","afterClose"]);return ve.createElement(Yt,Object(Uo.a)({},Oi,Fs,{open:ma!==void 0?ma:Ki,afterVisibleChange:ra!==void 0?ra:Oi.afterVisibleChange,handler:ni,onClose:Ye.onClose,onHandleClick:Ye.onHandleClick}))})}}],[{key:"getDerivedStateFromProps",value:function(Ye,Ct){var _t=Ct.prevProps,Nr={prevProps:Ye};return typeof _t!="undefined"&&Ye.open!==_t.open&&(Nr.open=Ye.open),Nr}}]),ce}(ve.Component);Ur.defaultProps={prefixCls:"drawer",placement:"left",getContainer:"body",defaultOpen:!1,level:"all",duration:".3s",ease:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",onChange:function(){},afterVisibleChange:function(){},handler:ve.createElement("div",{className:"drawer-handle"},ve.createElement("i",{className:"drawer-handle-icon"})),showMask:!0,maskClosable:!0,maskStyle:{},wrapperClassName:"",className:"",keyboard:!0,forceRender:!1};var Lr=Ur,zi=Lr,Mo=U("4i/N"),Ta=U("H84U"),Ss=U("CWQg"),Go=U("hkKa"),Fi=function(oe,te){var ce={};for(var Se in oe)Object.prototype.hasOwnProperty.call(oe,Se)&&te.indexOf(Se)<0&&(ce[Se]=oe[Se]);if(oe!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ye=0,Se=Object.getOwnPropertySymbols(oe);Ye<Se.length;Ye++)te.indexOf(Se[Ye])<0&&Object.prototype.propertyIsEnumerable.call(oe,Se[Ye])&&(ce[Se[Ye]]=oe[Se[Ye]]);return ce},Zo=ve.createContext(null),pa=Object(Ss.a)("top","right","bottom","left"),Kl={distance:180},oc=ve.forwardRef(function(oe,te){var ce=oe.width,Se=ce===void 0?256:ce,Ye=oe.height,Ct=Ye===void 0?256:Ye,_t=oe.closable,Nr=_t===void 0?!0:_t,yr=oe.placement,ln=yr===void 0?"right":yr,ni=oe.maskClosable,Oi=ni===void 0?!0:ni,Ki=oe.mask,Bi=Ki===void 0?!0:Ki,Ri=oe.level,ma=Ri===void 0?null:Ri,ra=oe.keyboard,Fs=ra===void 0?!0:ra,fu=oe.push,Zs=fu===void 0?Kl:fu,_a=oe.closeIcon,ku=_a===void 0?ve.createElement(Mo.a,null):_a,zc=oe.bodyStyle,hu=oe.drawerStyle,Na=oe.prefixCls,Va=oe.className,Rf=oe.direction,Hu=oe.visible,Vu=oe.children,Ju=oe.zIndex,yc=oe.destroyOnClose,Zl=oe.style,nf=oe.title,du=oe.headerStyle,xf=oe.onClose,Su=oe.footer,pu=oe.footerStyle,ch=Fi(oe,["width","height","closable","placement","maskClosable","mask","level","keyboard","push","closeIcon","bodyStyle","drawerStyle","prefixCls","className","direction","visible","children","zIndex","destroyOnClose","style","title","headerStyle","onClose","footer","footerStyle"]),$f=Object(Go.a)(),To=ve.useState(!1),Li=Object(nc.a)(To,2),Zi=Li[0],Io=Li[1],_i=ve.useContext(Zo),Co=ve.useRef(!1);ve.useEffect(function(){return Hu&&_i&&_i.push(),function(){_i&&_i.pull()}},[]),ve.useEffect(function(){_i&&(Hu?_i.push():_i.pull())},[Hu]);var hs=ve.useMemo(function(){return{push:function(){Zs&&Io(!0)},pull:function(){Zs&&Io(!1)}}},[Zs]);ve.useImperativeHandle(te,function(){return hs},[hs]);var mu=yc&&!Hu,ks=function(){!mu||Hu||(Co.current=!0,$f())},Pu=function(){if(!Hu&&!Bi)return{};var Ru={};return ln==="left"||ln==="right"?Ru.width=Se:Ru.height=Ct,Ru},ya=function(){var Ru=function(fh){var of;if(typeof Zs=="boolean"?of=Zs?Kl.distance:0:of=Zs.distance,of=parseFloat(String(of||0)),fh==="left"||fh==="right")return"translateX(".concat(fh==="left"?of:-of,"px)");if(fh==="top"||fh==="bottom")return"translateY(".concat(fh==="top"?of:-of,"px)")},sp=Bi?{}:Pu();return Object(Uo.a)(Object(Uo.a)({zIndex:Ju,transform:Zi?Ru(ln):void 0},sp),Zl)};function Do(){return Nr&&ve.createElement("button",{type:"button",onClick:xf,"aria-label":"Close",className:"".concat(Na,"-close"),style:{"--scroll-bar":"".concat(Object(El.a)(),"px")}},ku)}function cc(){if(!nf&&!Nr)return null;var Ou=nf?"".concat(Na,"-header"):"".concat(Na,"-header-no-title");return ve.createElement("div",{className:Ou,style:du},nf&&ve.createElement("div",{className:"".concat(Na,"-title")},nf),Nr&&Do())}function hl(){if(!Su)return null;var Ou="".concat(Na,"-footer");return ve.createElement("div",{className:Ou,style:pu},Su)}var dl=function(){if(Co.current&&!Hu)return null;Co.current=!1;var Ru={};return mu&&(Ru.opacity=0,Ru.transition="opacity .3s"),ve.createElement("div",{className:"".concat(Na,"-wrapper-body"),style:Object(Uo.a)(Object(Uo.a)({},Ru),hu),onTransitionEnd:ks},cc(),ve.createElement("div",{className:"".concat(Na,"-body"),style:zc},Vu),hl())},Ms=we()(Object(cs.a)({"no-mask":!Bi},"".concat(Na,"-rtl"),Rf==="rtl"),Va),Lf=Bi?Pu():{};return ve.createElement(Zo.Provider,{value:hs},ve.createElement(zi,Object(Uo.a)({handler:!1},Object(Uo.a)({placement:ln,prefixCls:Na,maskClosable:Oi,level:ma,keyboard:Fs,children:Vu,onClose:xf},ch),Lf,{open:Hu,showMask:Bi,style:ya(),className:Ms}),dl()))});oc.displayName="Drawer";var ef=ve.forwardRef(function(oe,te){var ce=oe.prefixCls,Se=oe.getContainer,Ye=ve.useContext(Ta.b),Ct=Ye.getPopupContainer,_t=Ye.getPrefixCls,Nr=Ye.direction,yr=_t("drawer",ce),ln=Se===void 0&&Ct?function(){return Ct(document.body)}:Se;return ve.createElement(oc,Object(Uo.a)({},oe,{ref:te,prefixCls:yr,getContainer:ln,direction:Nr}))});ef.displayName="DrawerWrapper";var cu=ef;function Gf(){return Gf=Object.assign||function(oe){for(var te=1;te<arguments.length;te++){var ce=arguments[te];for(var Se in ce)Object.prototype.hasOwnProperty.call(ce,Se)&&(oe[Se]=ce[Se])}return oe},Gf.apply(this,arguments)}function Ds(oe,te){var ce=Object.keys(oe);if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(oe);te&&(Se=Se.filter(function(Ye){return Object.getOwnPropertyDescriptor(oe,Ye).enumerable})),ce.push.apply(ce,Se)}return ce}function Yf(oe){for(var te=1;te<arguments.length;te++){var ce=arguments[te]!=null?arguments[te]:{};te%2?Ds(Object(ce),!0).forEach(function(Se){Xf(oe,Se,ce[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ce)):Ds(Object(ce)).forEach(function(Se){Object.defineProperty(oe,Se,Object.getOwnPropertyDescriptor(ce,Se))})}return oe}function Xf(oe,te,ce){return te in oe?Object.defineProperty(oe,te,{value:ce,enumerable:!0,configurable:!0,writable:!0}):oe[te]=ce,oe}var vc=function(te){var ce=te.isMobile,Se=te.menuData,Ye=te.siderWidth,Ct=te.collapsed,_t=te.onCollapse,Nr=te.style,yr=te.className,ln=te.hide,ni=te.getContainer,Oi=te.prefixCls,Ki=te.matchMenuKeys,Bi=Ei.useContainer(),Ri=Bi.setFlatMenuKeys;Object(ve.useEffect)(function(){if(!Se||Se.length<1)return function(){return null};var ra=Object(cn.a)(Se),Fs=requestAnimationFrame(function(){Ri(Object.keys(ra))});return function(){return window.cancelAnimationFrame&&window.cancelAnimationFrame(Fs)}},[Ki.join("-")]),Object(ve.useEffect)(function(){ce===!0&&(_t==null||_t(!0))},[ce]);var ma=Object(At.a)(te,["className","style"]);return ln?null:ce?Pe.a.createElement(cu,{visible:!Ct,placement:"left",className:we()("".concat(Oi,"-drawer-sider"),yr),onClose:function(){return _t==null?void 0:_t(!0)},style:Yf({padding:0,height:"100vh"},Nr),getContainer:ni,width:Ye,bodyStyle:{height:"100vh",padding:0,display:"flex",flexDirection:"row"}},Pe.a.createElement(Ja,Gf({},ma,{className:we()("".concat(Oi,"-sider"),yr),collapsed:ce?!1:Ct,splitMenus:!1}))):Pe.a.createElement(Ja,Gf({className:we()("".concat(Oi,"-sider"),yr)},ma,{style:Nr}))},Kf=vc;function sh(oe){if(!oe||oe==="/")return["/"];var te=oe.split("/").filter(function(ce){return ce});return te.map(function(ce,Se){return"/".concat(te.slice(0,Se+1).join("/"))})}function ld(oe){return uh(oe)||yf(oe)||_u(oe)||lh()}function lh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _u(oe,te){if(!!oe){if(typeof oe=="string")return gc(oe,te);var ce=Object.prototype.toString.call(oe).slice(8,-1);if(ce==="Object"&&oe.constructor&&(ce=oe.constructor.name),ce==="Map"||ce==="Set")return Array.from(oe);if(ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce))return gc(oe,te)}}function yf(oe){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(oe))return Array.from(oe)}function uh(oe){if(Array.isArray(oe))return gc(oe)}function gc(oe,te){(te==null||te>oe.length)&&(te=oe.length);for(var ce=0,Se=new Array(te);ce<te;ce++)Se[ce]=oe[ce];return Se}var ac=function(te){var ce=te.breadcrumbName,Se=te.path;return Pe.a.createElement("a",{href:Se},ce)},bc=function(te,ce){var Se=ce.formatMessage,Ye=ce.menu;return te.locale&&Se&&(Ye==null?void 0:Ye.locale)!==!1?Se({id:te.locale,defaultMessage:te.name}):te.name},xo=function(te,ce){var Se=te.get(ce);if(!Se){var Ye=ld(te.keys()).find(function(Ct){return Le()(Ct.replace("?","")).test(ce)});Ye&&(Se=te.get(Ye))}return Se||{path:""}},sc=function(te){var ce=te.location,Se=te.breadcrumbMap;return{location:ce,breadcrumbMap:Se}},_d=function(te,ce,Se){var Ye=sh(te==null?void 0:te.pathname),Ct=Ye.map(function(_t){var Nr=Object(_r.a)()?window:{},yr=Nr.routerBase,ln=yr===void 0?"/":yr,ni=ln==="/"?_t:"".concat(ln).concat(_t),Oi=xo(ce,_t),Ki=bc(Oi,Se),Bi=Oi.hideInBreadcrumb;return Ki&&!Bi?{path:ni,breadcrumbName:Ki,component:Oi.component}:{path:"",breadcrumbName:""}}).filter(function(_t){return _t&&_t.path});return Ct},eu=function(te){var ce=sc(te),Se=ce.location,Ye=ce.breadcrumbMap;return Se&&Se.pathname&&Ye?_d(Se,Ye,te):[]},Ih=function(te){var ce=te.breadcrumbRender,Se=te.itemRender,Ye=eu(te),Ct=Se||ac,_t=Ye;return ce&&(_t=ce(_t)||[]),(_t&&_t.length<2||ce===!1)&&(_t=void 0),{routes:_t,itemRender:Ct}};function $d(oe,te){return ep(oe)||Kp(oe,te)||Zf(oe,te)||Id()}function Id(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kp(oe,te){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(oe)))){var ce=[],Se=!0,Ye=!1,Ct=void 0;try{for(var _t=oe[Symbol.iterator](),Nr;!(Se=(Nr=_t.next()).done)&&(ce.push(Nr.value),!(te&&ce.length===te));Se=!0);}catch(yr){Ye=!0,Ct=yr}finally{try{!Se&&_t.return!=null&&_t.return()}finally{if(Ye)throw Ct}}return ce}}function ep(oe){if(Array.isArray(oe))return oe}function Vo(oe){return Pd(oe)||tp(oe)||Zf(oe)||ud()}function ud(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zf(oe,te){if(!!oe){if(typeof oe=="string")return cd(oe,te);var ce=Object.prototype.toString.call(oe).slice(8,-1);if(ce==="Object"&&oe.constructor&&(ce=oe.constructor.name),ce==="Map"||ce==="Set")return Array.from(oe);if(ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce))return cd(oe,te)}}function tp(oe){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(oe))return Array.from(oe)}function Pd(oe){if(Array.isArray(oe))return cd(oe)}function cd(oe,te){(te==null||te>oe.length)&&(te=oe.length);for(var ce=0,Se=new Array(te);ce<te;ce++)Se[ce]=oe[ce];return Se}function no(oe){return Vo(oe).reduce(function(te,ce){var Se=$d(ce,2),Ye=Se[0],Ct=Se[1];return te[Ye]=Ct,te},{})}var Us=function(oe,te,ce,Se){var Ye=Object(cn.c)(oe,(te==null?void 0:te.locale)||!1,ce,!0),Ct=Ye.menuData,_t=Ye.breadcrumb;if(!Se)return{breadcrumb:no(_t),breadcrumbMap:_t,menuData:Ct};var Nr=Object(cn.c)(Se(Ct),(te==null?void 0:te.locale)||!1,ce,!0);return{breadcrumb:no(Nr.breadcrumb),breadcrumbMap:Nr.breadcrumb,menuData:Nr.menuData}},fd=U("LQCs"),Np=function(te){var ce=te.style,Se=te.className,Ye=te.children;return Pe.a.createElement(fd.a,null,Pe.a.createElement(Oe.a.Content,{className:Se,style:ce},Ye))},Ph=Np,tf=function(te){var ce=["sidemenu","topmenu"];return ce.includes(te)?te==null?void 0:te.replace("menu",""):te},Od=tf,Xu=U("PjWh");function io(oe){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?io=function(ce){return typeof ce}:io=function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce},io(oe)}function Ns(oe,te){return Sp(oe)||Oh(oe,te)||Of(oe,te)||Pf()}function Pf(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Of(oe,te){if(!!oe){if(typeof oe=="string")return Ku(oe,te);var ce=Object.prototype.toString.call(oe).slice(8,-1);if(ce==="Object"&&oe.constructor&&(ce=oe.constructor.name),ce==="Map"||ce==="Set")return Array.from(oe);if(ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce))return Ku(oe,te)}}function Ku(oe,te){(te==null||te>oe.length)&&(te=oe.length);for(var ce=0,Se=new Array(te);ce<te;ce++)Se[ce]=oe[ce];return Se}function Oh(oe,te){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(oe)))){var ce=[],Se=!0,Ye=!1,Ct=void 0;try{for(var _t=oe[Symbol.iterator](),Nr;!(Se=(Nr=_t.next()).done)&&(ce.push(Nr.value),!(te&&ce.length===te));Se=!0);}catch(yr){Ye=!0,Ct=yr}finally{try{!Se&&_t.return!=null&&_t.return()}finally{if(Ye)throw Ct}}return ce}}function Sp(oe){if(Array.isArray(oe))return oe}var Jf=function(te){var ce=Object(ve.useState)({}),Se=Ns(ce,2),Ye=Se[0],Ct=Se[1];return Object(ve.useEffect)(function(){Ct(Object(Xu.a)({layout:io(te.layout)!=="object"?te.layout:void 0,navTheme:te.navTheme,menuRender:te.menuRender,footerRender:te.footerRender,menuHeaderRender:te.menuHeaderRender,headerRender:te.headerRender,fixSiderbar:te.fixSiderbar,headerTheme:te.headerTheme}))},[te.layout,te.navTheme,te.menuRender,te.footerRender,te.menuHeaderRender,te.headerRender,te.fixSiderbar,te.headerTheme]),Ye},kh=Jf;function Hh(oe,te){if(oe==null)return{};var ce=ga(oe,te),Se,Ye;if(Object.getOwnPropertySymbols){var Ct=Object.getOwnPropertySymbols(oe);for(Ye=0;Ye<Ct.length;Ye++)Se=Ct[Ye],!(te.indexOf(Se)>=0)&&(!Object.prototype.propertyIsEnumerable.call(oe,Se)||(ce[Se]=oe[Se]))}return ce}function ga(oe,te){if(oe==null)return{};var ce={},Se=Object.keys(oe),Ye,Ct;for(Ct=0;Ct<Se.length;Ct++)Ye=Se[Ct],!(te.indexOf(Ye)>=0)&&(ce[Ye]=oe[Ye]);return ce}function Zu(oe,te){return lc(oe)||Bc(oe,te)||Fc(oe,te)||fl()}function fl(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fc(oe,te){if(!!oe){if(typeof oe=="string")return Ve(oe,te);var ce=Object.prototype.toString.call(oe).slice(8,-1);if(ce==="Object"&&oe.constructor&&(ce=oe.constructor.name),ce==="Map"||ce==="Set")return Array.from(oe);if(ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce))return Ve(oe,te)}}function Ve(oe,te){(te==null||te>oe.length)&&(te=oe.length);for(var ce=0,Se=new Array(te);ce<te;ce++)Se[ce]=oe[ce];return Se}function Bc(oe,te){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(oe)))){var ce=[],Se=!0,Ye=!1,Ct=void 0;try{for(var _t=oe[Symbol.iterator](),Nr;!(Se=(Nr=_t.next()).done)&&(ce.push(Nr.value),!(te&&ce.length===te));Se=!0);}catch(yr){Ye=!0,Ct=yr}finally{try{!Se&&_t.return!=null&&_t.return()}finally{if(Ye)throw Ct}}return ce}}function lc(oe){if(Array.isArray(oe))return oe}function uc(oe,te){var ce=Object.keys(oe);if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(oe);te&&(Se=Se.filter(function(Ye){return Object.getOwnPropertyDescriptor(oe,Ye).enumerable})),ce.push.apply(ce,Se)}return ce}function fi(oe){for(var te=1;te<arguments.length;te++){var ce=arguments[te]!=null?arguments[te]:{};te%2?uc(Object(ce),!0).forEach(function(Se){Iu(oe,Se,ce[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ce)):uc(Object(ce)).forEach(function(Se){Object.defineProperty(oe,Se,Object.getOwnPropertyDescriptor(ce,Se))})}return oe}function Iu(oe,te,ce){return te in oe?Object.defineProperty(oe,te,{value:ce,enumerable:!0,configurable:!0,writable:!0}):oe[te]=ce,oe}function rf(){return rf=Object.assign||function(oe){for(var te=1;te<arguments.length;te++){var ce=arguments[te];for(var Se in ce)Object.prototype.hasOwnProperty.call(ce,Se)&&(oe[Se]=ce[Se])}return oe},rf.apply(this,arguments)}var Mp=function(te,ce){return te.headerRender===!1||te.pure?null:Pe.a.createElement(us,rf({matchMenuKeys:ce},te))},hd=function(te){return te.footerRender===!1||te.pure?null:te.footerRender?te.footerRender(fi({},te),Pe.a.createElement(da.a,null)):null},Rd=function(te,ce){var Se=te.layout,Ye=te.isMobile,Ct=te.openKeys,_t=te.splitMenus,Nr=te.menuRender;if(te.menuRender===!1||te.pure)return null;var yr=te.menuData;if(_t&&Ct!==!1&&!Ye){var ln=Zu(ce,1),ni=ln[0];if(ni){var Oi,Ki;yr=((Oi=te.menuData)===null||Oi===void 0||(Ki=Oi.find(function(ma){return ma.key===ni}))===null||Ki===void 0?void 0:Ki.children)||[]}else yr=[]}var Bi=hi(yr||[]);if(Bi&&(Bi==null?void 0:Bi.length)<1&&_t)return null;if(Se==="top"&&!Ye)return Pe.a.createElement(Kf,rf({matchMenuKeys:ce},te,{hide:!0}));if(Nr){var Ri=Pe.a.createElement(Kf,rf({matchMenuKeys:ce},te,{menuData:Bi}));return Nr(te,Ri)}return Pe.a.createElement(Kf,rf({matchMenuKeys:ce},te,{menuData:Bi}))},xl=function(te,ce){var Se=ce.pageTitleRender,Ye=sn(te);if(Se===!1)return{title:ce.title||"",id:"",pageName:""};if(Se){var Ct=Se(te,Ye.title,Ye);if(typeof Ct=="string")return fi(fi({},Ye),{},{title:Ct});at()(typeof Ct=="string","pro-layout: renderPageTitle return value should be a string")}return Ye},Qf=function(te,ce,Se){return te?ce?48:Se:0},Vh=function(te){var ce,Se,Ye,Ct,_t,Nr,yr,ln=te.children,ni=te.onCollapse,Oi=te.location,Ki=Oi===void 0?{pathname:"/"}:Oi,Bi=te.contentStyle,Ri=te.route,ma=te.defaultCollapsed,ra=te.style,Fs=te.disableContentMargin,fu=te.siderWidth,Zs=fu===void 0?208:fu,_a=te.menu,ku=te.isChildrenLayout,zc=te.menuDataRender,hu=te.loading,Na=Object(ve.useContext)(K.b.ConfigContext),Va=(ce=te.prefixCls)!==null&&ce!==void 0?ce:Na.getPrefixCls("pro"),Rf=function(Ld){var Rh=Ld.id,up=Ld.defaultMessage,Dd=Hh(Ld,["id","defaultMessage"]);if(te.formatMessage)return te.formatMessage(fi({id:Rh,defaultMessage:up},Dd));var Sc=qa();return Sc[Rh]?Sc[Rh]:up},Hu=Object(se.a)(function(){return Us((Ri==null?void 0:Ri.routes)||[],_a,Rf,zc)}),Vu=Zu(Hu,2),Ju=Vu[0],yc=Vu[1],Zl=Ju.breadcrumb,nf=Zl===void 0?{}:Zl,du=Ju.breadcrumbMap,xf=Ju.menuData,Su=xf===void 0?[]:xf,pu=Object(ve.useMemo)(function(){return Object(cn.b)(Ki.pathname||"/",Su,!0)},[Ki.pathname,Ju]),ch=Object(ve.useMemo)(function(){return Array.from(new Set(pu.map(function(hh){return hh.key||hh.path||""})))},[pu]),$f=pu[pu.length-1]||{},To=kh($f),Li=fi(fi({},te),To),Zi=Li.fixSiderbar,Io=Li.navTheme,_i=Li.layout,Co=Hh(Li,["fixSiderbar","navTheme","layout"]),hs=Od(_i),mu=rn(),ks=(mu==="sm"||mu==="xs")&&!te.disableMobile;Object(fr.a)(function(){if(_a==null?void 0:_a.loading)return function(){return null};var hh=Us((Ri==null?void 0:Ri.routes)||[],_a,Rf,zc),Ld=requestAnimationFrame(function(){yc(hh)});return function(){return window.cancelAnimationFrame&&window.cancelAnimationFrame(Ld)}},[te.route,st(_a),(Se=te.location)===null||Se===void 0?void 0:Se.pathname]);var Pu=hs!=="top"&&!ks,ya=Object(se.a)(function(){return ma||!1},{value:te.collapsed,onChange:ni}),Do=Zu(ya,2),cc=Do[0],hl=Do[1],dl=Object(At.a)(fi(fi(fi({prefixCls:Va},te),{},{siderWidth:Zs},To),{},{formatMessage:Rf,breadcrumb:nf,layout:hs}),["className","style","breadcrumbRender"]),Ms=xl(fi(fi({pathname:Ki.pathname},dl),{},{breadcrumbMap:du}),te),Lf=Ih(fi(fi({},dl),{},{breadcrumbRender:te.breadcrumbRender,breadcrumbMap:du})),Ou=Rd(fi(fi({},dl),{},{menuData:Su,onCollapse:hl,isMobile:ks,theme:(Io||"dark").toLocaleLowerCase().includes("dark")?"dark":"light",collapsed:cc}),ch),Ru=Mp(fi(fi({},dl),{},{hasSiderMenu:!!Ou,menuData:Su,isMobile:ks,collapsed:cc,onCollapse:hl,theme:(Io||"dark").toLocaleLowerCase().includes("dark")?"dark":"light"}),ch),sp=hd(fi({isMobile:ks,collapsed:cc},dl)),Zp=Object(ve.useContext)(ta.a),fh=Zp.isChildrenLayout,of=ku!==void 0?ku:fh,Wu="".concat(Va,"-basicLayout"),eh=we()(te.className,"ant-design-pro",Wu,(Ye={},Iu(Ye,"screen-".concat(mu),mu),Iu(Ye,"".concat(Wu,"-top-menu"),hs==="top"),Iu(Ye,"".concat(Wu,"-is-children"),of),Iu(Ye,"".concat(Wu,"-fix-siderbar"),Zi),Iu(Ye,"".concat(Wu,"-").concat(hs),hs),Ye)),Uc=Qf(!!Pu,cc,Zs),th={position:"relative"};(of||Bi&&Bi.minHeight)&&(th.minHeight=0);var Js=we()("".concat(Wu,"-content"),(Ct={},Iu(Ct,"".concat(Wu,"-has-header"),Ru),Iu(Ct,"".concat(Wu,"-content-disable-margin"),Fs),Ct));Object(ve.useEffect)(function(){var hh=te.onPageChange;hh&&hh(te.location)},[(_t=te.location)===null||_t===void 0?void 0:_t.pathname,(Nr=te.location)===null||Nr===void 0||(yr=Nr.pathname)===null||yr===void 0?void 0:yr.search]);var vu=Object(ve.useState)(!1),Kn=Zu(vu,2),lp=Kn[0],Qs=Kn[1];return dt(Ms,te.title||ko.title),Pe.a.createElement(Ei.Provider,null,Pe.a.createElement(ta.a.Provider,{value:fi(fi({},dl),{},{breadcrumb:Lf,menuData:Su,isMobile:ks,collapsed:cc,isChildrenLayout:!0,title:Ms.pageName,hasSiderMenu:!!Ou,hasHeader:!!Ru,siderWidth:Uc,hasFooter:!!sp,hasFooterToolbar:lp,setHasFooterToolbar:Qs,pageTitleInfo:Ms,matchMenus:pu,matchMenuKeys:ch,currentMenu:$f})},te.pure?ln:Pe.a.createElement("div",{className:eh},Pe.a.createElement(Oe.a,{style:fi({minHeight:"100%"},ra)},Ou,Pe.a.createElement("div",{style:th,className:Na.getPrefixCls("layout")},Ru,Pe.a.createElement(Ph,rf({isChildrenLayout:of},Co,{className:Js,style:Bi}),hu?Pe.a.createElement(Oo.a,null):ln),sp)))))};Vh.defaultProps=fi(fi({logo:"https://gw.alipayobjects.com/zos/antfincdn/PmY%24TNNDBI/logo.svg"},ko),{},{location:Object(_r.a)()?window.location:void 0});var Wh=Vh,qf=U("tMyG"),dd=qf.a,jc=je.b=Wh},"I/il":function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("mrSG"),Oe=xe.__importDefault(U("hODF")),F=function(K){xe.__extends(Ae,K);function Ae(ve){return K.call(this,ve)||this}return Ae.prototype.getControl=function(){return new BMapGL.ZoomControl(this.getOptions())},Ae.prototype.render=function(){return null},Ae}(Oe.default);je.default=F},IzEo:function(rt,je,U){"use strict";var xe=U("cIOH"),Oe=U.n(xe),F=U("lnY3"),K=U.n(F),Ae=U("Znn+"),ve=U("14J3"),Pe=U("jCWc")},JHRd:function(rt,je,U){var xe=U("Kz5y"),Oe=xe.Uint8Array;rt.exports=Oe},JHgL:function(rt,je,U){var xe=U("QkVE");function Oe(F){return xe(this,F).get(F)}rt.exports=Oe},JSQU:function(rt,je,U){var xe=U("YESw"),Oe="__lodash_hash_undefined__";function F(K,Ae){var ve=this.__data__;return this.size+=this.has(K)?0:1,ve[K]=xe&&Ae===void 0?Oe:Ae,this}rt.exports=F},JTzB:function(rt,je,U){var xe=U("NykK"),Oe=U("ExA7"),F="[object Arguments]";function K(Ae){return Oe(Ae)&&xe(Ae)==F}rt.exports=K},KCY9:function(rt,je,U){},KMkd:function(rt,je){function U(){this.__data__=[],this.size=0}rt.exports=U},KPFz:function(rt,je,U){},Kvyg:function(rt,je,U){},L8xA:function(rt,je){function U(xe){var Oe=this.__data__,F=Oe.delete(xe);return this.size=Oe.size,F}rt.exports=U},LQCs:function(rt,je,U){"use strict";U.d(je,"a",function(){return Jr}),U.d(je,"c",function(){return Xn});var xe=U("GNNt"),Oe=U("wEI+"),F=U("q1tI"),K=U.n(F),Ae=U("+Gva"),ve={moneySymbol:"$",form:{lightFilter:{more:"\u0627\u0644\u0645\u0632\u064A\u062F",clear:"\u0646\u0638\u0641",confirm:"\u062A\u0623\u0643\u064A\u062F",itemUnit:"\u0639\u0646\u0627\u0635\u0631"}},tableForm:{search:"\u0627\u0628\u062D\u062B",reset:"\u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646",submit:"\u0627\u0631\u0633\u0627\u0644",collapsed:"\u0645\u064F\u0642\u0644\u0635",expand:"\u0645\u064F\u0648\u0633\u0639",inputPlaceholder:"\u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u0625\u062F\u062E\u0627\u0644",selectPlaceholder:"\u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u0625\u062E\u062A\u064A\u0627\u0631"},alert:{clear:"\u0646\u0638\u0641",selected:"\u0645\u062D\u062F\u062F",item:"\u0639\u0646\u0635\u0631"},pagination:{total:{range:" ",total:"\u0645\u0646",item:"\u0639\u0646\u0627\u0635\u0631"}},tableToolBar:{leftPin:"\u062B\u0628\u062A \u0639\u0644\u0649 \u0627\u0644\u064A\u0633\u0627\u0631",rightPin:"\u062B\u0628\u062A \u0639\u0644\u0649 \u0627\u0644\u064A\u0645\u064A\u0646",noPin:"\u0627\u0644\u063A\u0627\u0621 \u0627\u0644\u062A\u062B\u0628\u064A\u062A",leftFixedTitle:"\u0644\u0635\u0642 \u0639\u0644\u0649 \u0627\u0644\u064A\u0633\u0627\u0631",rightFixedTitle:"\u0644\u0635\u0642 \u0639\u0644\u0649 \u0627\u0644\u064A\u0645\u064A\u0646",noFixedTitle:"\u0625\u0644\u063A\u0627\u0621 \u0627\u0644\u0625\u0644\u0635\u0627\u0642",reset:"\u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646",columnDisplay:"\u0627\u0644\u0623\u0639\u0645\u062F\u0629 \u0627\u0644\u0645\u0639\u0631\u0648\u0636\u0629",columnSetting:"\u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A",fullScreen:"\u0648\u0636\u0639 \u0643\u0627\u0645\u0644 \u0627\u0644\u0634\u0627\u0634\u0629",exitFullScreen:"\u0627\u0644\u062E\u0631\u0648\u062C \u0645\u0646 \u0648\u0636\u0639 \u0643\u0627\u0645\u0644 \u0627\u0644\u0634\u0627\u0634\u0629",reload:"\u062A\u062D\u062F\u064A\u062B",density:"\u0627\u0644\u0643\u062B\u0627\u0641\u0629",densityDefault:"\u0627\u0641\u062A\u0631\u0627\u0636\u064A",densityLarger:"\u0623\u0643\u0628\u0631",densityMiddle:"\u0648\u0633\u0637",densitySmall:"\u0645\u062F\u0645\u062C"},stepsForm:{next:"\u0627\u0644\u062A\u0627\u0644\u064A",prev:"\u0627\u0644\u0633\u0627\u0628\u0642"}},Pe={moneySymbol:"\uFFE5",form:{lightFilter:{more:"\u66F4\u591A\u7B5B\u9009",clear:"\u6E05\u9664",confirm:"\u786E\u8BA4",itemUnit:"\u9879"}},tableForm:{search:"\u67E5\u8BE2",reset:"\u91CD\u7F6E",submit:"\u63D0\u4EA4",collapsed:"\u5C55\u5F00",expand:"\u6536\u8D77",inputPlaceholder:"\u8BF7\u8F93\u5165",selectPlaceholder:"\u8BF7\u9009\u62E9"},alert:{clear:"\u53D6\u6D88\u9009\u62E9",selected:"\u5DF2\u9009\u62E9",item:"\u9879"},pagination:{total:{range:"\u7B2C",total:"\u6761/\u603B\u5171",item:"\u6761"}},tableToolBar:{leftPin:"\u56FA\u5B9A\u5728\u5217\u9996",rightPin:"\u56FA\u5B9A\u5728\u5217\u5C3E",noPin:"\u4E0D\u56FA\u5B9A",leftFixedTitle:"\u56FA\u5B9A\u5728\u5DE6\u4FA7",rightFixedTitle:"\u56FA\u5B9A\u5728\u53F3\u4FA7",noFixedTitle:"\u4E0D\u56FA\u5B9A",reset:"\u91CD\u7F6E",columnDisplay:"\u5217\u5C55\u793A",columnSetting:"\u5217\u8BBE\u7F6E",fullScreen:"\u5168\u5C4F",exitFullScreen:"\u9000\u51FA\u5168\u5C4F",reload:"\u5237\u65B0",density:"\u5BC6\u5EA6",densityDefault:"\u6B63\u5E38",densityLarger:"\u9ED8\u8BA4",densityMiddle:"\u4E2D\u7B49",densitySmall:"\u7D27\u51D1"},editableTable:{action:{save:"\u4FDD\u5B58",cancel:"\u53D6\u6D88",delete:"\u5220\u9664"}}},We={moneySymbol:"$",form:{lightFilter:{more:"More",clear:"Clear",confirm:"Confirm",itemUnit:"Items"}},tableForm:{search:"Query",reset:"Reset",submit:"Submit",collapsed:"Expand",expand:"Collapse",inputPlaceholder:"Please enter",selectPlaceholder:"Please select"},alert:{clear:"Clear",selected:"Selected",item:"Item"},pagination:{total:{range:" ",total:"of",item:"items"}},tableToolBar:{leftPin:"Pin to left",rightPin:"Pin to right",noPin:"Unpinned",leftFixedTitle:"Fixed the left",rightFixedTitle:"Fixed the right",noFixedTitle:"Not Fixed",reset:"Reset",columnDisplay:"Column Display",columnSetting:"Settings",fullScreen:"Full Screen",exitFullScreen:"Exit Full Screen",reload:"Refresh",density:"Density",densityDefault:"Default",densityLarger:"Larger",densityMiddle:"Middle",densitySmall:"Compact"},stepsForm:{next:"Next",prev:"Previous",submit:"Finish"},editableTable:{action:{save:"Save",cancel:"Cancel",delete:"Delete"}}},we={moneySymbol:"\u20AB",tableForm:{search:"T\xECm ki\u1EBFm",reset:"L\xE0m l\u1EA1i",submit:"G\u1EEDi \u0111i",collapsed:"M\u1EDF r\u1ED9ng",expand:"Thu g\u1ECDn",inputPlaceholder:"nh\u1EADp d\u1EEF li\u1EC7u",selectPlaceholder:"Vui l\xF2ng ch\u1ECDn"},alert:{clear:"X\xF3a",selected:"\u0111\xE3 ch\u1ECDn",item:"m\u1EE5c"},pagination:{total:{range:" ",total:"tr\xEAn",item:"m\u1EB7t h\xE0ng"}},tableToolBar:{leftPin:"Ghim tr\xE1i",rightPin:"Ghim ph\u1EA3i",noPin:"B\u1ECF ghim",leftFixedTitle:"C\u1ED1 \u0111\u1ECBnh tr\xE1i",rightFixedTitle:"C\u1ED1 \u0111\u1ECBnh ph\u1EA3i",noFixedTitle:"Ch\u01B0a c\u1ED1 \u0111\u1ECBnh",reset:"L\xE0m l\u1EA1i",columnDisplay:"C\u1ED9t hi\u1EC3n th\u1ECB",columnSetting:"C\u1EA5u h\xECnh",fullScreen:"Ch\u1EBF \u0111\u1ED9 to\xE0n m\xE0n h\xECnh",exitFullScreen:"Tho\xE1t ch\u1EBF \u0111\u1ED9 to\xE0n m\xE0n h\xECnh",reload:"L\xE0m m\u1EDBi",density:"M\u1EADt \u0111\u1ED9 hi\u1EC3n th\u1ECB",densityDefault:"M\u1EB7c \u0111\u1ECBnh",densityLarger:"M\u1EB7c \u0111\u1ECBnh",densityMiddle:"Trung b\xECnh",densitySmall:"Ch\u1EADt"}},De={moneySymbol:"\u20AC",tableForm:{search:"Filtra",reset:"Pulisci",submit:"Invia",collapsed:"Espandi",expand:"Contrai",inputPlaceholder:"Digita",selectPlaceholder:"Seleziona"},alert:{clear:"Rimuovi",selected:"Selezionati",item:"elementi"},pagination:{total:{range:" ",total:"di",item:"elementi"}},tableToolBar:{leftPin:"Fissa a sinistra",rightPin:"Fissa a destra",noPin:"Ripristina posizione",leftFixedTitle:"Fissato a sinistra",rightFixedTitle:"Fissato a destra",noFixedTitle:"Non fissato",reset:"Ripristina",columnDisplay:"Disposizione colonne",columnSetting:"Impostazioni",fullScreen:"Modalit\xE0 schermo intero",exitFullScreen:"Esci da modalit\xE0 schermo intero",reload:"Ricarica",density:"Grandezza tabella",densityLarger:"Grande",densityMiddle:"Media",densitySmall:"Compatta"}},at={moneySymbol:"\u20AC",tableForm:{search:"Buscar",reset:"Limpiar",submit:"Submit",collapsed:"Expandir",expand:"Colapsar",inputPlaceholder:"Ingrese valor",selectPlaceholder:"Seleccione valor"},alert:{clear:"Limpiar",selected:"Seleccionado",item:"Articulo"},pagination:{total:{range:" ",total:"de",item:"art\xEDculos"}},tableToolBar:{leftPin:"Pin a la izquierda",rightPin:"Pin a la derecha",noPin:"Sin Pin",leftFixedTitle:"Fijado a la izquierda",rightFixedTitle:"Fijado a la derecha",noFixedTitle:"Sin Fijar",reset:"Reiniciar",columnDisplay:"Mostrar Columna",columnSetting:"Configuraci\xF3n",fullScreen:"Pantalla Completa",exitFullScreen:"Salir Pantalla Completa",reload:"Refrescar",density:"Densidad",densityDefault:"Por Defecto",densityLarger:"Largo",densityMiddle:"Medio",densitySmall:"Compacto"},stepsForm:{next:"Siguiente",prev:"Anterior",submit:"Finalizar"}},se={moneySymbol:"\xA5",tableForm:{search:"\u691C\u7D22",reset:"\u30EA\u30BB\u30C3\u30C8",submit:"\u63D0\u4EA4",collapsed:"\u5C55\u958B",expand:"\u53CE\u7D0D",inputPlaceholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",selectPlaceholder:"\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044"},alert:{clear:"\u30AF\u30EA\u30A2",selected:"\u9078\u629E\u3057\u305F",item:"\u9805\u76EE"},pagination:{total:{range:"\u8A18\u4E8B",total:"/\u5408\u8A08",item:" "}},tableToolBar:{leftPin:"\u5DE6\u306B\u56FA\u5B9A",rightPin:"\u53F3\u306B\u56FA\u5B9A",noPin:"\u30AD\u30E3\u30F3\u30BB\u30EB",leftFixedTitle:"\u5DE6\u306B\u56FA\u5B9A\u3055\u308C\u305F\u9805\u76EE",rightFixedTitle:"\u53F3\u306B\u56FA\u5B9A\u3055\u308C\u305F\u9805\u76EE",noFixedTitle:"\u56FA\u5B9A\u3055\u308C\u3066\u306A\u3044\u9805\u76EE",reset:"\u30EA\u30BB\u30C3\u30C8",columnDisplay:"\u8868\u793A\u5217",columnSetting:"\u5217\u8868\u793A\u8A2D\u5B9A",fullScreen:"\u30D5\u30EB\u30B9\u30AF\u30EA\u30FC\u30F3",exitFullScreen:"\u7D42\u4E86",reload:"\u66F4\u65B0",density:"\u884C\u9AD8",densityLarger:"\u9ED8\u8BA4",densityMiddle:"\u4E2D",densitySmall:"\u5C0F"}},Re={moneySymbol:"\u20BD",tableForm:{search:"\u041D\u0430\u0439\u0442\u0438",reset:"\u0421\u0431\u0440\u043E\u0441",submit:"\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C",collapsed:"\u0420\u0430\u0437\u0432\u0435\u0440\u043D\u0443\u0442\u044C",expand:"\u0421\u0432\u0435\u0440\u043D\u0443\u0442\u044C",inputPlaceholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435",selectPlaceholder:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"},alert:{clear:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C",selected:"\u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0439",item:"\u043F\u0440\u0435\u0434\u043C\u0435\u0442"},pagination:{total:{range:" ",total:"\u0438\u0437",item:"\u043F\u0440\u0435\u0434\u043C\u0435\u0442\u043E\u0432"}},tableToolBar:{leftPin:"\u0417\u0430\u043A\u0440\u0435\u043F\u0438\u0442\u044C \u0441\u043B\u0435\u0432\u0430",rightPin:"\u0417\u0430\u043A\u0440\u0435\u043F\u0438\u0442\u044C \u0441\u043F\u0440\u0430\u0432\u0430",noPin:"\u041E\u0442\u043A\u0440\u0435\u043F\u0438\u0442\u044C",leftFixedTitle:"\u0417\u0430\u043A\u0440\u0435\u043F\u043B\u0435\u043D\u043E \u0441\u043B\u0435\u0432\u0430",rightFixedTitle:"\u0417\u0430\u043A\u0440\u0435\u043F\u043B\u0435\u043D\u043E \u0441\u043F\u0440\u0430\u0432\u0430",noFixedTitle:"\u041D\u0435 \u0437\u0430\u043A\u0440\u0435\u043F\u043B\u0435\u043D\u043E",reset:"\u0421\u0431\u0440\u043E\u0441",columnDisplay:"\u041E\u0442\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0441\u0442\u043E\u043B\u0431\u0446\u0430",columnSetting:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",fullScreen:"\u041F\u043E\u043B\u043D\u044B\u0439 \u044D\u043A\u0440\u0430\u043D",exitFullScreen:"\u0412\u044B\u0439\u0442\u0438 \u0438\u0437 \u043F\u043E\u043B\u043D\u043E\u044D\u043A\u0440\u0430\u043D\u043D\u043E\u0433\u043E \u0440\u0435\u0436\u0438\u043C\u0430",reload:"\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C",density:"\u0420\u0430\u0437\u043C\u0435\u0440",densityDefault:"\u041F\u043E \u0443\u043C\u043E\u043B\u0447\u0430\u043D\u0438\u044E",densityLarger:"\u0411\u043E\u043B\u044C\u0448\u043E\u0439",densityMiddle:"\u0421\u0440\u0435\u0434\u043D\u0438\u0439",densitySmall:"\u0421\u0436\u0430\u0442\u044B\u0439"}},mt={moneySymbol:"RM",tableForm:{search:"Cari",reset:"Menetapkan semula",submit:"Hantar",collapsed:"Kembang",expand:"Kuncup",inputPlaceholder:"Sila masuk",selectPlaceholder:"Sila pilih"},alert:{clear:"Padam",selected:"Dipilih",item:"Item"},pagination:{total:{range:" ",total:"daripada",item:"item"}},tableToolBar:{leftPin:"Pin ke kiri",rightPin:"Pin ke kanan",noPin:"Tidak pin",leftFixedTitle:"Tetap ke kiri",rightFixedTitle:"Tetap ke kanan",noFixedTitle:"Tidak Tetap",reset:"Menetapkan semula",columnDisplay:"Lajur",columnSetting:"Settings",fullScreen:"Full Screen",exitFullScreen:"Keluar Full Screen",reload:"Muat Semula",density:"Densiti",densityDefault:"Biasa",densityLarger:"Besar",densityMiddle:"Tengah",densitySmall:"Kecil"}},st={moneySymbol:"\uFFE5",tableForm:{search:"\u67E5\u8A62",reset:"\u91CD\u7F6E",submit:"\u63D0\u4EA4",collapsed:"\u5C55\u958B",expand:"\u6536\u8D77",inputPlaceholder:"\u8ACB\u8F38\u5165",selectPlaceholder:"\u8ACB\u9078\u64C7"},alert:{clear:"\u53D6\u6D88\u9078\u64C7",selected:"\u5DF2\u9078\u64C7",item:"\u9805"},pagination:{total:{range:"\u7B2C",total:"\u689D/\u7E3D\u5171",item:"\u689D"}},tableToolBar:{leftPin:"\u56FA\u5B9A\u5230\u5DE6\u908A",rightPin:"\u56FA\u5B9A\u5230\u53F3\u908A",noPin:"\u4E0D\u56FA\u5B9A",leftFixedTitle:"\u56FA\u5B9A\u5728\u5DE6\u5074",rightFixedTitle:"\u56FA\u5B9A\u5728\u53F3\u5074",noFixedTitle:"\u4E0D\u56FA\u5B9A",reset:"\u91CD\u7F6E",columnDisplay:"\u5217\u5C55\u793A",columnSetting:"\u5217\u8A2D\u7F6E",fullScreen:"\u5168\u5C4F",exitFullScreen:"\u9000\u51FA\u5168\u5C4F",reload:"\u5237\u65B0",density:"\u5BC6\u5EA6",densityDefault:"\u6B63\u5E38",densityLarger:"\u9ED8\u8A8D",densityMiddle:"\u4E2D\u7B49",densitySmall:"\u7DCA\u6E4A"}},St={moneySymbol:"\u20AC",tableForm:{search:"Rechercher",reset:"R\xE9initialiser",submit:"Envoyer",collapsed:"Agrandir",expand:"R\xE9duire",inputPlaceholder:"Entrer une valeur",selectPlaceholder:"S\xE9lectionner une valeur"},alert:{clear:"R\xE9initialiser",selected:"S\xE9lectionn\xE9",item:"Item"},pagination:{total:{range:" ",total:"sur",item:"\xE9l\xE9ments"}},tableToolBar:{leftPin:"\xC9pingler \xE0 gauche",rightPin:"\xC9pingler \xE0 gauche",noPin:"Sans \xE9pingle",leftFixedTitle:"Fixer \xE0 gauche",rightFixedTitle:"Fixer \xE0 droite",noFixedTitle:"Non fix\xE9",reset:"R\xE9initialiser",columnDisplay:"Affichage colonne",columnSetting:"R\xE9glages",fullScreen:"Plein \xE9cran",exitFullScreen:"Quitter Plein \xE9cran",reload:"Rafraichir",density:"Densit\xE9",densityDefault:"Par d\xE9faut",densityLarger:"Larger",densityMiddle:"Moyenne",densitySmall:"Compacte"},stepsForm:{next:"Suivante",prev:"Pr\xE9c\xE9dente",submit:"Finaliser"}},Xr={moneySymbol:"R$",tableForm:{search:"Filtrar",reset:"Limpar",submit:"Confirmar",collapsed:"Expandir",expand:"Colapsar",inputPlaceholder:"Por favor insira",selectPlaceholder:"Por favor selecione"},alert:{clear:"Limpar",selected:"Selecionado(s)",item:"Item(s)"},pagination:{total:{range:" ",total:"de",item:"items"}},tableToolBar:{leftPin:"Fixar \xE0 esquerda",rightPin:"Fixar \xE0 direita",noPin:"Desfixado",leftFixedTitle:"Fixado \xE0 esquerda",rightFixedTitle:"Fixado \xE0 direita",noFixedTitle:"N\xE3o fixado",reset:"Limpar",columnDisplay:"Mostrar Coluna",columnSetting:"Configura\xE7\xF5es",fullScreen:"Tela Cheia",exitFullScreen:"Sair da Tela Cheia",reload:"Atualizar",density:"Densidade",densityDefault:"Padr\xE3o",densityLarger:"Largo",densityMiddle:"M\xE9dio",densitySmall:"Compacto"}},zt={moneySymbol:"\u20A9",form:{lightFilter:{more:"\uB354\uBCF4\uAE30",clear:"\uCDE8\uC18C",confirm:"\uD655\uC778",itemUnit:"\uAC74\uC218"}},tableForm:{search:"\uC870\uD68C",reset:"\uCD08\uAE30\uD654",submit:"\uC81C\uCD9C",collapsed:"\uD655\uC7A5",expand:"\uB2EB\uAE30",inputPlaceholder:"\uC785\uB825\uD574 \uC8FC\uC138\uC694",selectPlaceholder:"\uC120\uD0DD\uD574 \uC8FC\uC138\uC694"},alert:{clear:"\uCDE8\uC18C",selected:"\uC120\uD0DD",item:"\uAC74"},pagination:{total:{range:" ",total:"/ \uCD1D",item:"\uAC74"}},tableToolBar:{leftPin:"\uC67C\uCABD\uC73C\uB85C \uD540",rightPin:"\uC624\uB978\uCABD\uC73C\uB85C \uD540",noPin:"\uD540 \uC81C\uAC70",leftFixedTitle:"\uC67C\uCABD\uC73C\uB85C \uACE0\uC815",rightFixedTitle:"\uC624\uB978\uCABD\uC73C\uB85C \uACE0\uC815",noFixedTitle:"\uBE44\uACE0\uC815",reset:"\uCD08\uAE30\uD654",columnDisplay:"\uCEEC\uB7FC \uD45C\uC2DC",columnSetting:"\uC124\uC815",fullScreen:"\uC804\uCCB4 \uD654\uBA74",exitFullScreen:"\uC804\uCCB4 \uD654\uBA74 \uCDE8\uC18C",reload:"\uB2E4\uC2DC \uC77D\uAE30",density:"\uC5EC\uBC31",densityDefault:"\uAE30\uBCF8",densityLarger:"\uB9CE\uC740 \uC5EC\uBC31",densityMiddle:"\uC911\uAC74 \uC5EC\uBC31",densitySmall:"\uC881\uC740 \uC5EC\uBC31"}},nr={moneySymbol:"RP",form:{lightFilter:{more:"Lebih",clear:"Hapus",confirm:"Konfirmasi",itemUnit:"Unit"}},tableForm:{search:"Cari",reset:"Atur ulang",submit:"Kirim",collapsed:"Lebih sedikit",expand:"Lebih banyak",inputPlaceholder:"Masukkan pencarian",selectPlaceholder:"Pilih"},alert:{clear:"Hapus",selected:"Dipilih",item:"Butir"},pagination:{total:{range:" ",total:"Dari",item:"Butir"}},tableToolBar:{leftPin:"Pin kiri",rightPin:"Pin kanan",noPin:"Tidak ada pin",leftFixedTitle:"Rata kiri",rightFixedTitle:"Rata kanan",noFixedTitle:"Tidak tetap",reset:"Atur ulang",columnDisplay:"Tampilan kolom",columnSetting:"Pengaturan",fullScreen:"Layar penuh",exitFullScreen:"Keluar layar penuh",reload:"Atur ulang",density:"Kerapatan",densityDefault:"Standar",densityLarger:"Lebih besar",densityMiddle:"Sedang",densitySmall:"Rapat"},stepsForm:{next:"Selanjutnya",prev:"Sebelumnya",submit:"Selesai"}},pn={moneySymbol:"\u20AC",form:{lightFilter:{more:"Mehr",clear:"Zur\xFCcksetzen",confirm:"Best\xE4tigen",itemUnit:"Eintr\xE4ge"}},tableForm:{search:"Suchen",reset:"Zur\xFCcksetzen",submit:"Absenden",collapsed:"Zeige mehr",expand:"Zeige weniger",inputPlaceholder:"Bitte eingeben",selectPlaceholder:"Bitte ausw\xE4hlen"},alert:{clear:"Zur\xFCcksetzen",selected:"Ausgew\xE4hlt",item:"Eintrag"},pagination:{total:{range:" ",total:"von",item:"Eintr\xE4gen"}},tableToolBar:{leftPin:"Links anheften",rightPin:"Rechts anheften",noPin:"Nicht angeheftet",leftFixedTitle:"Links fixiert",rightFixedTitle:"Rechts fixiert",noFixedTitle:"Nicht fixiert",reset:"Zur\xFCcksetzen",columnDisplay:"Angezeigte Reihen",columnSetting:"Einstellungen",fullScreen:"Vollbild",exitFullScreen:"Vollbild verlassen",reload:"Aktualisieren",density:"Abstand",densityDefault:"Standard",densityLarger:"Gr\xF6\xDFer",densityMiddle:"Mittel",densitySmall:"Kompakt"},stepsForm:{next:"Weiter",prev:"Zur\xFCck",submit:"Abschlie\xDFen"}},Vr={moneySymbol:"\u062A\u0648\u0645\u0627\u0646",form:{lightFilter:{more:"\u0628\u06CC\u0634\u062A\u0631",clear:"\u067E\u0627\u06A9 \u06A9\u0631\u062F\u0646",confirm:"\u062A\u0627\u06CC\u06CC\u062F",itemUnit:"\u0645\u0648\u0631\u062F"}},tableForm:{search:"\u062C\u0633\u062A\u062C\u0648",reset:"\u0628\u0627\u0632\u0646\u0634\u0627\u0646\u06CC",submit:"\u062A\u0627\u06CC\u06CC\u062F",collapsed:"\u0646\u0645\u0627\u06CC\u0634 \u0628\u06CC\u0634\u062A\u0631",expand:"\u0646\u0645\u0627\u06CC\u0634 \u06A9\u0645\u062A\u0631",inputPlaceholder:"\u067E\u06CC\u062F\u0627 \u06A9\u0646\u06CC\u062F",selectPlaceholder:"\u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F"},alert:{clear:"\u067E\u0627\u06A9 \u0633\u0627\u0632\u06CC",selected:"\u0627\u0646\u062A\u062E\u0627\u0628",item:"\u0645\u0648\u0631\u062F"},pagination:{total:{range:" ",total:"\u0627\u0632",item:"\u0645\u0648\u0631\u062F"}},tableToolBar:{leftPin:"\u0633\u0646\u062C\u0627\u0642 \u0628\u0647 \u0686\u067E",rightPin:"\u0633\u0646\u062C\u0627\u0642 \u0628\u0647 \u0631\u0627\u0633\u062A",noPin:"\u0633\u0646\u062C\u0627\u0642 \u0646\u0634\u062F\u0647",leftFixedTitle:"\u062B\u0627\u0628\u062A \u0634\u062F\u0647 \u062F\u0631 \u0686\u067E",rightFixedTitle:"\u062B\u0627\u0628\u062A \u0634\u062F\u0647 \u062F\u0631 \u0631\u0627\u0633\u062A",noFixedTitle:"\u0634\u0646\u0627\u0648\u0631",reset:"\u0628\u0627\u0632\u0646\u0634\u0627\u0646\u06CC",columnDisplay:"\u0646\u0645\u0627\u06CC\u0634 \u0647\u0645\u0647",columnSetting:"\u062A\u0646\u0638\u06CC\u0645\u0627\u062A",fullScreen:"\u062A\u0645\u0627\u0645 \u0635\u0641\u062D\u0647",exitFullScreen:"\u062E\u0631\u0648\u062C \u0627\u0632 \u062D\u0627\u0644\u062A \u062A\u0645\u0627\u0645 \u0635\u0641\u062D\u0647",reload:"\u062A\u0627\u0632\u0647 \u0633\u0627\u0632\u06CC",density:"\u062A\u0631\u0627\u06A9\u0645",densityDefault:"\u067E\u06CC\u0634 \u0641\u0631\u0636",densityLarger:"\u0628\u0632\u0631\u06AF",densityMiddle:"\u0645\u062A\u0648\u0633\u0637",densitySmall:"\u06A9\u0648\u0686\u06A9"},stepsForm:{next:"\u0628\u0639\u062F\u06CC",prev:"\u0642\u0628\u0644\u06CC",submit:"\u0627\u062A\u0645\u0627\u0645"},editableTable:{action:{save:"\u0630\u062E\u06CC\u0631\u0647",cancel:"\u0644\u063A\u0648",delete:"\u062D\u0630\u0641"}}},$e={moneySymbol:"$",form:{lightFilter:{more:"Daha Fazla",clear:"Temizle",confirm:"Onayla",itemUnit:"\xD6\u011Feler"}},tableForm:{search:"Ara",reset:"S\u0131f\u0131rla",submit:"G\xF6nder",collapsed:"Geni\u015Flet",expand:"Daralt",inputPlaceholder:"L\xFCtfen Giriniz",selectPlaceholder:"L\xFCtfen Se\xE7iniz"},alert:{clear:"Temizle",selected:"Se\xE7ildi",item:"\xD6\u011Fe"},pagination:{total:{range:" ",total:"Toplam",item:"\xD6\u011Fe"}},tableToolBar:{leftPin:"Sola Tuttur",rightPin:"Sa\u011Fa Tuttur",noPin:"Tutturulmad\u0131",leftFixedTitle:"Sola Sabitle",rightFixedTitle:"Sa\u011Fa Sabitle",noFixedTitle:"Sabitlenmedi",reset:"S\u0131f\u0131rla",columnDisplay:"S\xFCtun Ekran\u0131",columnSetting:"Ayarlar",fullScreen:"Tam Ekran",exitFullScreen:"Tam Ekran\u0131 Kapat",reload:"Yenile",density:"Kal\u0131nl\u0131k",densityDefault:"Varsay\u0131lan",densityLarger:"B\xFCy\xFCk",densityMiddle:"Orta",densitySmall:"K\xFC\xE7\xFCk"},stepsForm:{next:"S\u0131radaki",prev:"\xD6nceki",submit:"Tamamla"},editableTable:{action:{save:"Kaydet",cancel:"Vazge\xE7",delete:"Sil"}}};function Et(dn,Mn){var Tn=Object.keys(dn);if(Object.getOwnPropertySymbols){var kr=Object.getOwnPropertySymbols(dn);Mn&&(kr=kr.filter(function(ei){return Object.getOwnPropertyDescriptor(dn,ei).enumerable})),Tn.push.apply(Tn,kr)}return Tn}function Xt(dn){for(var Mn=1;Mn<arguments.length;Mn++){var Tn=arguments[Mn]!=null?arguments[Mn]:{};Mn%2?Et(Object(Tn),!0).forEach(function(kr){et(dn,kr,Tn[kr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(dn,Object.getOwnPropertyDescriptors(Tn)):Et(Object(Tn)).forEach(function(kr){Object.defineProperty(dn,kr,Object.getOwnPropertyDescriptor(Tn,kr))})}return dn}function et(dn,Mn,Tn){return Mn in dn?Object.defineProperty(dn,Mn,{value:Tn,enumerable:!0,configurable:!0,writable:!0}):dn[Mn]=Tn,dn}function bt(dn,Mn){var Tn;if(typeof Symbol=="undefined"||dn[Symbol.iterator]==null){if(Array.isArray(dn)||(Tn=Zt(dn))||Mn&&dn&&typeof dn.length=="number"){Tn&&(dn=Tn);var kr=0,ei=function(){};return{s:ei,n:function(){return kr>=dn.length?{done:!0}:{done:!1,value:dn[kr++]}},e:function(cr){throw cr},f:ei}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Mi=!0,Di=!1,ui;return{s:function(){Tn=dn[Symbol.iterator]()},n:function(){var cr=Tn.next();return Mi=cr.done,cr},e:function(cr){Di=!0,ui=cr},f:function(){try{!Mi&&Tn.return!=null&&Tn.return()}finally{if(Di)throw ui}}}}function Zt(dn,Mn){if(!!dn){if(typeof dn=="string")return qe(dn,Mn);var Tn=Object.prototype.toString.call(dn).slice(8,-1);if(Tn==="Object"&&dn.constructor&&(Tn=dn.constructor.name),Tn==="Map"||Tn==="Set")return Array.from(dn);if(Tn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tn))return qe(dn,Mn)}}function qe(dn,Mn){(Mn==null||Mn>dn.length)&&(Mn=dn.length);for(var Tn=0,kr=new Array(Mn);Tn<Mn;Tn++)kr[Tn]=dn[Tn];return kr}function Ie(dn,Mn,Tn){var kr=Mn.replace(/\[(\d+)\]/g,".$1").split("."),ei=dn,Mi=Tn,Di=bt(kr),ui;try{for(Di.s();!(ui=Di.n()).done;){var Po=ui.value;if(Mi=Object(ei)[Po],ei=Object(ei)[Po],Mi===void 0)return Tn}}catch(cr){Di.e(cr)}finally{Di.f()}return Mi}var ht=function(Mn,Tn){return{getMessage:function(ei,Mi){return Ie(Tn,ei,Mi)||Mi},locale:Mn}},Er=ht("ar_EG",ve),Cn=ht("zh_CN",Pe),pr=ht("en_US",We),$r=ht("vi_VN",we),An=ht("it_IT",De),rn=ht("ja_JP",se),fr=ht("es_ES",at),_r=ht("ru_RU",Re),Wr=ht("ms_MY",mt),dt=ht("zh_TW",st),At=ht("fr_FR",St),cn=ht("pt_BR",Xr),Jt=ht("ko_KR",zt),rr=ht("id_ID",nr),Gn=ht("de_DE",pn),Kr=ht("fa_IR",Vr),ai=ht("tr_TR",$e),Nn={"ar-EG":Er,"zh-CN":Cn,"en-US":pr,"vi-VN":$r,"it-IT":An,"ja-JP":rn,"es-ES":fr,"ru-RU":_r,"ms-MY":Wr,"zh-TW":dt,"fr-FR":At,"pt-BR":cn,"ko-KR":Jt,"id-ID":rr,"de-DE":Gn,"fa-IR":Kr,"tr-TR":ai},So=Object.keys(Nn),Wo=K.a.createContext({intl:Xt(Xt({},Cn),{},{locale:"default"}),valueTypeMap:{}}),Un=Wo.Consumer,an=Wo.Provider,In=function(Mn){if(!Mn)return"zh-CN";var Tn=Mn.toLocaleLowerCase();return So.find(function(kr){var ei=kr.toLocaleLowerCase();return ei.includes(Tn)})},Jr=function(Mn){var Tn=Mn.children,kr=Object(F.useContext)(Oe.b.ConfigContext),ei=kr.locale,Mi=ei===void 0?Oe.b:K.a.Fragment;return K.a.createElement(Un,null,function(Di){var ui,Po=ei==null?void 0:ei.locale,cr=In(Po),$o=Po&&((ui=Di.intl)===null||ui===void 0?void 0:ui.locale)==="default"?Nn[cr]:Di.intl||Nn[cr],As=ei===void 0?{locale:Ae.default}:{};return K.a.createElement(Mi,As,K.a.createElement(an,{value:Xt(Xt({},Di),{},{intl:$o||Cn})},Tn))})};function Xn(){var dn=Object(F.useContext)(Wo);return dn.intl||Cn}var hr=je.b=Wo},LXxW:function(rt,je){function U(xe,Oe){for(var F=-1,K=xe==null?0:xe.length,Ae=0,ve=[];++F<K;){var Pe=xe[F];Oe(Pe,F,xe)&&(ve[Ae++]=Pe)}return ve}rt.exports=U},LvDl:function(rt,je,U){(function(xe,Oe){var F;/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(){var K,Ae="4.17.21",ve=200,Pe="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",We="Expected a function",we="Invalid `variable` option passed into `_.template`",De="__lodash_hash_undefined__",at=500,se="__lodash_placeholder__",Re=1,mt=2,st=4,St=1,Xr=2,zt=1,nr=2,pn=4,Vr=8,$e=16,Et=32,Xt=64,et=128,bt=256,Zt=512,qe=30,Ie="...",ht=800,Er=16,Cn=1,pr=2,$r=3,An=1/0,rn=9007199254740991,fr=17976931348623157e292,_r=0/0,Wr=4294967295,dt=Wr-1,At=Wr>>>1,cn=[["ary",et],["bind",zt],["bindKey",nr],["curry",Vr],["curryRight",$e],["flip",Zt],["partial",Et],["partialRight",Xt],["rearg",bt]],Jt="[object Arguments]",rr="[object Array]",Gn="[object AsyncFunction]",Kr="[object Boolean]",ai="[object Date]",Nn="[object DOMException]",So="[object Error]",Wo="[object Function]",Un="[object GeneratorFunction]",an="[object Map]",In="[object Number]",Jr="[object Null]",Xn="[object Object]",hr="[object Promise]",dn="[object Proxy]",Mn="[object RegExp]",Tn="[object Set]",kr="[object String]",ei="[object Symbol]",Mi="[object Undefined]",Di="[object WeakMap]",ui="[object WeakSet]",Po="[object ArrayBuffer]",cr="[object DataView]",$o="[object Float32Array]",As="[object Float64Array]",Gi="[object Int8Array]",Xs="[object Int16Array]",un="[object Int32Array]",ko="[object Uint8Array]",ss="[object Uint8ClampedArray]",Gr="[object Uint16Array]",Yl="[object Uint32Array]",ou=/\b__p \+= '';/g,ea=/\b(__p \+=) '' \+/g,Eu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wi=/&(?:amp|lt|gt|quot|#39);/g,Pi=/[&<>"']/g,hi=RegExp(wi.source),Mt=RegExp(Pi.source),wn=/<%-([\s\S]+?)%>/g,Ot=/<%([\s\S]+?)%>/g,ar=/<%=([\s\S]+?)%>/g,Mr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jt=/^\w*$/,gr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vn=/[\\^$.*+?()[\]{}|]/g,_n=RegExp(Vn.source),vo=/^\s+/,Ei=/\s/,Oo=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Je=/\{\n\/\* \[wrapped with (.+)\] \*/,nt=/,? & /,ut=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Dt=/[()=,{}\[\]\/\s]/,en=/\\(\\)?/g,bn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,jr=/\w*$/,tn=/^[-+]0x[0-9a-f]+$/i,yn=/^0b[01]+$/i,Qn=/^\[object .+?Constructor\]$/,mi=/^0o[0-7]+$/i,si=/^(?:0|[1-9]\d*)$/,Ji=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Hi=/($^)/,eo=/['\n\r\u2028\u2029\\]/g,go="\\ud800-\\udfff",Ro="\\u0300-\\u036f",va="\\ufe20-\\ufe2f",zo="\\u20d0-\\u20ff",tl=Ro+va+zo,yl="\\u2700-\\u27bf",au="a-z\\xdf-\\xf6\\xf8-\\xff",jl="\\xac\\xb1\\xd7\\xf7",Gu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",mc="\\u2000-\\u206f",Kc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",gs="A-Z\\xc0-\\xd6\\xd8-\\xde",mf="\\ufe0e\\ufe0f",Zc=jl+Gu+mc+Kc,Hf="['\u2019]",Ac="["+go+"]",di="["+Zc+"]",Ja="["+tl+"]",Jc="\\d+",La="["+yl+"]",Vf="["+au+"]",zl="[^"+go+Zc+Jc+yl+au+gs+"]",nd="\\ud83c[\\udffb-\\udfff]",tc="(?:"+Ja+"|"+nd+")",Mh="[^"+go+"]",_f="(?:\\ud83c[\\udde6-\\uddff]){2}",rc="[\\ud800-\\udbff][\\udc00-\\udfff]",su="["+gs+"]",Xl="\\u200d",Dc="(?:"+Vf+"|"+zl+")",bu="(?:"+su+"|"+zl+")",Ha="(?:"+Hf+"(?:d|ll|m|re|s|t|ve))?",Ko="(?:"+Hf+"(?:D|LL|M|RE|S|T|VE))?",Tu=tc+"?",zs="["+mf+"]?",Eh="(?:"+Xl+"(?:"+[Mh,_f,rc].join("|")+")"+zs+Tu+")*",Nc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ed="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Zd=zs+Tu+Eh,Wf="(?:"+[La,_f,rc].join("|")+")"+Zd,Jd="(?:"+[Mh+Ja+"?",Ja,_f,rc,Ac].join("|")+")",id=RegExp(Hf,"g"),zh=RegExp(Ja,"g"),Th=RegExp(nd+"(?="+nd+")|"+Jd+Zd,"g"),If=RegExp([su+"?"+Vf+"+"+Ha+"(?="+[di,su,"$"].join("|")+")",bu+"+"+Ko+"(?="+[di,su+Dc,"$"].join("|")+")",su+"?"+Dc+"+"+Ha,su+"+"+Ko,Ed,Nc,Jc,Wf].join("|"),"g"),ql=RegExp("["+Xl+go+tl+mf+"]"),Ho=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ul=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],oh=-1,ls={};ls[$o]=ls[As]=ls[Gi]=ls[Xs]=ls[un]=ls[ko]=ls[ss]=ls[Gr]=ls[Yl]=!0,ls[Jt]=ls[rr]=ls[Po]=ls[Kr]=ls[cr]=ls[ai]=ls[So]=ls[Wo]=ls[an]=ls[In]=ls[Xn]=ls[Mn]=ls[Tn]=ls[kr]=ls[Di]=!1;var cl={};cl[Jt]=cl[rr]=cl[Po]=cl[cr]=cl[Kr]=cl[ai]=cl[$o]=cl[As]=cl[Gi]=cl[Xs]=cl[un]=cl[an]=cl[In]=cl[Xn]=cl[Mn]=cl[Tn]=cl[kr]=cl[ei]=cl[ko]=cl[ss]=cl[Gr]=cl[Yl]=!0,cl[So]=cl[Wo]=cl[Di]=!1;var wp={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},mm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Qc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},od={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},vf=parseFloat,gf=parseInt,qc=typeof xe=="object"&&xe&&xe.Object===Object&&xe,ad=typeof self=="object"&&self&&self.Object===Object&&self,Ni=qc||ad||Function("return this")(),Uh=je&&!je.nodeType&&je,Td=Uh&&typeof Oe=="object"&&Oe&&!Oe.nodeType&&Oe,bp=Td&&Td.exports===Uh,Fu=bp&&qc.process,wc=function(){try{var Yt=Td&&Td.require&&Td.require("util").types;return Yt||Fu&&Fu.binding&&Fu.binding("util")}catch(Ur){}}(),Qd=wc&&wc.isArrayBuffer,sd=wc&&wc.isDate,ah=wc&&wc.isMap,qd=wc&&wc.isRegExp,_h=wc&&wc.isSet,us=wc&&wc.isTypedArray;function ze(Yt,Ur,Lr){switch(Lr.length){case 0:return Yt.call(Ur);case 1:return Yt.call(Ur,Lr[0]);case 2:return Yt.call(Ur,Lr[0],Lr[1]);case 3:return Yt.call(Ur,Lr[0],Lr[1],Lr[2])}return Yt.apply(Ur,Lr)}function Le(Yt,Ur,Lr,zi){for(var Mo=-1,Ta=Yt==null?0:Yt.length;++Mo<Ta;){var Ss=Yt[Mo];Ur(zi,Ss,Lr(Ss),Yt)}return zi}function it(Yt,Ur){for(var Lr=-1,zi=Yt==null?0:Yt.length;++Lr<zi&&Ur(Yt[Lr],Lr,Yt)!==!1;);return Yt}function Qe(Yt,Ur){for(var Lr=Yt==null?0:Yt.length;Lr--&&Ur(Yt[Lr],Lr,Yt)!==!1;);return Yt}function Gt(Yt,Ur){for(var Lr=-1,zi=Yt==null?0:Yt.length;++Lr<zi;)if(!Ur(Yt[Lr],Lr,Yt))return!1;return!0}function yt(Yt,Ur){for(var Lr=-1,zi=Yt==null?0:Yt.length,Mo=0,Ta=[];++Lr<zi;){var Ss=Yt[Lr];Ur(Ss,Lr,Yt)&&(Ta[Mo++]=Ss)}return Ta}function mr(Yt,Ur){var Lr=Yt==null?0:Yt.length;return!!Lr&&Yi(Yt,Ur,0)>-1}function vr(Yt,Ur,Lr){for(var zi=-1,Mo=Yt==null?0:Yt.length;++zi<Mo;)if(Lr(Ur,Yt[zi]))return!0;return!1}function Ar(Yt,Ur){for(var Lr=-1,zi=Yt==null?0:Yt.length,Mo=Array(zi);++Lr<zi;)Mo[Lr]=Ur(Yt[Lr],Lr,Yt);return Mo}function sn(Yt,Ur){for(var Lr=-1,zi=Ur.length,Mo=Yt.length;++Lr<zi;)Yt[Mo+Lr]=Ur[Lr];return Yt}function bi(Yt,Ur,Lr,zi){var Mo=-1,Ta=Yt==null?0:Yt.length;for(zi&&Ta&&(Lr=Yt[++Mo]);++Mo<Ta;)Lr=Ur(Lr,Yt[Mo],Mo,Yt);return Lr}function nn(Yt,Ur,Lr,zi){var Mo=Yt==null?0:Yt.length;for(zi&&Mo&&(Lr=Yt[--Mo]);Mo--;)Lr=Ur(Lr,Yt[Mo],Mo,Yt);return Lr}function Ti(Yt,Ur){for(var Lr=-1,zi=Yt==null?0:Yt.length;++Lr<zi;)if(Ur(Yt[Lr],Lr,Yt))return!0;return!1}var yo=Xi("length");function mn(Yt){return Yt.split("")}function ca(Yt){return Yt.match(ut)||[]}function co(Yt,Ur,Lr){var zi;return Lr(Yt,function(Mo,Ta,Ss){if(Ur(Mo,Ta,Ss))return zi=Ta,!1}),zi}function is(Yt,Ur,Lr,zi){for(var Mo=Yt.length,Ta=Lr+(zi?1:-1);zi?Ta--:++Ta<Mo;)if(Ur(Yt[Ta],Ta,Yt))return Ta;return-1}function Yi(Yt,Ur,Lr){return Ur===Ur?Ul(Yt,Ur,Lr):is(Yt,ha,Lr)}function fa(Yt,Ur,Lr,zi){for(var Mo=Lr-1,Ta=Yt.length;++Mo<Ta;)if(zi(Yt[Mo],Ur))return Mo;return-1}function ha(Yt){return Yt!==Yt}function Da(Yt,Ur){var Lr=Yt==null?0:Yt.length;return Lr?ws(Yt,Ur)/Lr:_r}function Xi(Yt){return function(Ur){return Ur==null?K:Ur[Yt]}}function fo(Yt){return function(Ur){return Yt==null?K:Yt[Ur]}}function Qa(Yt,Ur,Lr,zi,Mo){return Mo(Yt,function(Ta,Ss,Go){Lr=zi?(zi=!1,Ta):Ur(Lr,Ta,Ss,Go)}),Lr}function po(Yt,Ur){var Lr=Yt.length;for(Yt.sort(Ur);Lr--;)Yt[Lr]=Yt[Lr].value;return Yt}function ws(Yt,Ur){for(var Lr,zi=-1,Mo=Yt.length;++zi<Mo;){var Ta=Ur(Yt[zi]);Ta!==K&&(Lr=Lr===K?Ta:Lr+Ta)}return Lr}function os(Yt,Ur){for(var Lr=-1,zi=Array(Yt);++Lr<Yt;)zi[Lr]=Ur(Lr);return zi}function Ls(Yt,Ur){return Ar(Ur,function(Lr){return[Lr,Yt[Lr]]})}function oa(Yt){return Yt&&Yt.slice(0,ju(Yt)+1).replace(vo,"")}function Lo(Yt){return function(Ur){return Yt(Ur)}}function wa(Yt,Ur){return Ar(Ur,function(Lr){return Yt[Lr]})}function ba(Yt,Ur){return Yt.has(Ur)}function ho(Yt,Ur){for(var Lr=-1,zi=Yt.length;++Lr<zi&&Yi(Ur,Yt[Lr],0)>-1;);return Lr}function qa(Yt,Ur){for(var Lr=Yt.length;Lr--&&Yi(Ur,Yt[Lr],0)>-1;);return Lr}function da(Yt,Ur){for(var Lr=Yt.length,zi=0;Lr--;)Yt[Lr]===Ur&&++zi;return zi}var ta=fo(wp),Ka=fo(mm);function Za(Yt){return"\\"+od[Yt]}function cs(Yt,Ur){return Yt==null?K:Yt[Ur]}function Uo(Yt){return ql.test(Yt)}function nc(Yt){return Ho.test(Yt)}function Yu(Yt){for(var Ur,Lr=[];!(Ur=Yt.next()).done;)Lr.push(Ur.value);return Lr}function Bu(Yt){var Ur=-1,Lr=Array(Yt.size);return Yt.forEach(function(zi,Mo){Lr[++Ur]=[Mo,zi]}),Lr}function El(Yt,Ur){return function(Lr){return Yt(Ur(Lr))}}function ja(Yt,Ur){for(var Lr=-1,zi=Yt.length,Mo=0,Ta=[];++Lr<zi;){var Ss=Yt[Lr];(Ss===Ur||Ss===se)&&(Yt[Lr]=se,Ta[Mo++]=Lr)}return Ta}function lu(Yt){var Ur=-1,Lr=Array(Yt.size);return Yt.forEach(function(zi){Lr[++Ur]=zi}),Lr}function $c(Yt){var Ur=-1,Lr=Array(Yt.size);return Yt.forEach(function(zi){Lr[++Ur]=[zi,zi]}),Lr}function Ul(Yt,Ur,Lr){for(var zi=Lr-1,Mo=Yt.length;++zi<Mo;)if(Yt[zi]===Ur)return zi;return-1}function uu(Yt,Ur,Lr){for(var zi=Lr+1;zi--;)if(Yt[zi]===Ur)return zi;return zi}function Ks(Yt){return Uo(Yt)?ic(Yt):yo(Yt)}function fs(Yt){return Uo(Yt)?Nl(Yt):mn(Yt)}function ju(Yt){for(var Ur=Yt.length;Ur--&&Ei.test(Yt.charAt(Ur)););return Ur}var $l=fo(Qc);function ic(Yt){for(var Ur=Th.lastIndex=0;Th.test(Yt);)++Ur;return Ur}function Nl(Yt){return Yt.match(Th)||[]}function zu(Yt){return Yt.match(If)||[]}var bs=function Yt(Ur){Ur=Ur==null?Ni:Uu.defaults(Ni.Object(),Ur,Uu.pick(Ni,ul));var Lr=Ur.Array,zi=Ur.Date,Mo=Ur.Error,Ta=Ur.Function,Ss=Ur.Math,Go=Ur.Object,Fi=Ur.RegExp,Zo=Ur.String,pa=Ur.TypeError,Kl=Lr.prototype,oc=Ta.prototype,ef=Go.prototype,cu=Ur["__core-js_shared__"],Gf=oc.toString,Ds=ef.hasOwnProperty,Yf=0,Xf=function(){var A=/[^.]+$/.exec(cu&&cu.keys&&cu.keys.IE_PROTO||"");return A?"Symbol(src)_1."+A:""}(),vc=ef.toString,Kf=Gf.call(Go),sh=Ni._,ld=Fi("^"+Gf.call(Ds).replace(Vn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lh=bp?Ur.Buffer:K,_u=Ur.Symbol,yf=Ur.Uint8Array,uh=lh?lh.allocUnsafe:K,gc=El(Go.getPrototypeOf,Go),ac=Go.create,bc=ef.propertyIsEnumerable,xo=Kl.splice,sc=_u?_u.isConcatSpreadable:K,_d=_u?_u.iterator:K,eu=_u?_u.toStringTag:K,Ih=function(){try{var A=wr(Go,"defineProperty");return A({},"",{}),A}catch(O){}}(),$d=Ur.clearTimeout!==Ni.clearTimeout&&Ur.clearTimeout,Id=zi&&zi.now!==Ni.Date.now&&zi.now,Kp=Ur.setTimeout!==Ni.setTimeout&&Ur.setTimeout,ep=Ss.ceil,Vo=Ss.floor,ud=Go.getOwnPropertySymbols,Zf=lh?lh.isBuffer:K,tp=Ur.isFinite,Pd=Kl.join,cd=El(Go.keys,Go),no=Ss.max,Us=Ss.min,fd=zi.now,Np=Ur.parseInt,Ph=Ss.random,tf=Kl.reverse,Od=wr(Ur,"DataView"),Xu=wr(Ur,"Map"),io=wr(Ur,"Promise"),Ns=wr(Ur,"Set"),Pf=wr(Ur,"WeakMap"),Of=wr(Go,"create"),Ku=Pf&&new Pf,Oh={},Sp=Mc(Od),Jf=Mc(Xu),kh=Mc(io),Hh=Mc(Ns),ga=Mc(Pf),Zu=_u?_u.prototype:K,fl=Zu?Zu.valueOf:K,Fc=Zu?Zu.toString:K;function Ve(A){if(P(A)&&!Pa(A)&&!(A instanceof fi)){if(A instanceof uc)return A;if(Ds.call(A,"__wrapped__"))return ip(A)}return new uc(A)}var Bc=function(){function A(){}return function(O){if(!C(O))return{};if(ac)return ac(O);A.prototype=O;var Y=new A;return A.prototype=K,Y}}();function lc(){}function uc(A,O){this.__wrapped__=A,this.__actions__=[],this.__chain__=!!O,this.__index__=0,this.__values__=K}Ve.templateSettings={escape:wn,evaluate:Ot,interpolate:ar,variable:"",imports:{_:Ve}},Ve.prototype=lc.prototype,Ve.prototype.constructor=Ve,uc.prototype=Bc(lc.prototype),uc.prototype.constructor=uc;function fi(A){this.__wrapped__=A,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Wr,this.__views__=[]}function Iu(){var A=new fi(this.__wrapped__);return A.__actions__=mh(this.__actions__),A.__dir__=this.__dir__,A.__filtered__=this.__filtered__,A.__iteratees__=mh(this.__iteratees__),A.__takeCount__=this.__takeCount__,A.__views__=mh(this.__views__),A}function rf(){if(this.__filtered__){var A=new fi(this);A.__dir__=-1,A.__filtered__=!0}else A=this.clone(),A.__dir__*=-1;return A}function Mp(){var A=this.__wrapped__.value(),O=this.__dir__,Y=Pa(A),he=O<0,Ne=Y?A.length:0,Ze=Sn(0,Ne,this.__views__),It=Ze.start,Rt=Ze.end,or=Rt-It,Hn=he?Rt:It-1,xn=this.__iteratees__,ti=xn.length,qi=0,Yo=Us(or,this.__takeCount__);if(!Y||!he&&Ne==or&&Yo==or)return tm(A,this.__actions__);var Si=[];e:for(;or--&&qi<Yo;){Hn+=O;for(var Fn=-1,ri=A[Hn];++Fn<ti;){var to=xn[Fn],Ma=to.iteratee,Ch=to.type,ff=Ma(ri);if(Ch==pr)ri=ff;else if(!ff){if(Ch==Cn)continue e;break e}}Si[qi++]=ri}return Si}fi.prototype=Bc(lc.prototype),fi.prototype.constructor=fi;function hd(A){var O=-1,Y=A==null?0:A.length;for(this.clear();++O<Y;){var he=A[O];this.set(he[0],he[1])}}function Rd(){this.__data__=Of?Of(null):{},this.size=0}function xl(A){var O=this.has(A)&&delete this.__data__[A];return this.size-=O?1:0,O}function Qf(A){var O=this.__data__;if(Of){var Y=O[A];return Y===De?K:Y}return Ds.call(O,A)?O[A]:K}function Vh(A){var O=this.__data__;return Of?O[A]!==K:Ds.call(O,A)}function Wh(A,O){var Y=this.__data__;return this.size+=this.has(A)?0:1,Y[A]=Of&&O===K?De:O,this}hd.prototype.clear=Rd,hd.prototype.delete=xl,hd.prototype.get=Qf,hd.prototype.has=Vh,hd.prototype.set=Wh;function qf(A){var O=-1,Y=A==null?0:A.length;for(this.clear();++O<Y;){var he=A[O];this.set(he[0],he[1])}}function dd(){this.__data__=[],this.size=0}function jc(A){var O=this.__data__,Y=Na(O,A);if(Y<0)return!1;var he=O.length-1;return Y==he?O.pop():xo.call(O,Y,1),--this.size,!0}function oe(A){var O=this.__data__,Y=Na(O,A);return Y<0?K:O[Y][1]}function te(A){return Na(this.__data__,A)>-1}function ce(A,O){var Y=this.__data__,he=Na(Y,A);return he<0?(++this.size,Y.push([A,O])):Y[he][1]=O,this}qf.prototype.clear=dd,qf.prototype.delete=jc,qf.prototype.get=oe,qf.prototype.has=te,qf.prototype.set=ce;function Se(A){var O=-1,Y=A==null?0:A.length;for(this.clear();++O<Y;){var he=A[O];this.set(he[0],he[1])}}function Ye(){this.size=0,this.__data__={hash:new hd,map:new(Xu||qf),string:new hd}}function Ct(A){var O=Qr(this,A).delete(A);return this.size-=O?1:0,O}function _t(A){return Qr(this,A).get(A)}function Nr(A){return Qr(this,A).has(A)}function yr(A,O){var Y=Qr(this,A),he=Y.size;return Y.set(A,O),this.size+=Y.size==he?0:1,this}Se.prototype.clear=Ye,Se.prototype.delete=Ct,Se.prototype.get=_t,Se.prototype.has=Nr,Se.prototype.set=yr;function ln(A){var O=-1,Y=A==null?0:A.length;for(this.__data__=new Se;++O<Y;)this.add(A[O])}function ni(A){return this.__data__.set(A,De),this}function Oi(A){return this.__data__.has(A)}ln.prototype.add=ln.prototype.push=ni,ln.prototype.has=Oi;function Ki(A){var O=this.__data__=new qf(A);this.size=O.size}function Bi(){this.__data__=new qf,this.size=0}function Ri(A){var O=this.__data__,Y=O.delete(A);return this.size=O.size,Y}function ma(A){return this.__data__.get(A)}function ra(A){return this.__data__.has(A)}function Fs(A,O){var Y=this.__data__;if(Y instanceof qf){var he=Y.__data__;if(!Xu||he.length<ve-1)return he.push([A,O]),this.size=++Y.size,this;Y=this.__data__=new Se(he)}return Y.set(A,O),this.size=Y.size,this}Ki.prototype.clear=Bi,Ki.prototype.delete=Ri,Ki.prototype.get=ma,Ki.prototype.has=ra,Ki.prototype.set=Fs;function fu(A,O){var Y=Pa(A),he=!Y&&yp(A),Ne=!Y&&!he&&N(A),Ze=!Y&&!he&&!Ne&&tt(A),It=Y||he||Ne||Ze,Rt=It?os(A.length,Zo):[],or=Rt.length;for(var Hn in A)(O||Ds.call(A,Hn))&&!(It&&(Hn=="length"||Ne&&(Hn=="offset"||Hn=="parent")||Ze&&(Hn=="buffer"||Hn=="byteLength"||Hn=="byteOffset")||ts(Hn,or)))&&Rt.push(Hn);return Rt}function Zs(A){var O=A.length;return O?A[md(0,O-1)]:K}function _a(A,O){return Is(mh(A),yc(O,0,A.length))}function ku(A){return Is(mh(A))}function zc(A,O,Y){(Y!==K&&!rh(A[O],Y)||Y===K&&!(O in A))&&Vu(A,O,Y)}function hu(A,O,Y){var he=A[O];(!(Ds.call(A,O)&&rh(he,Y))||Y===K&&!(O in A))&&Vu(A,O,Y)}function Na(A,O){for(var Y=A.length;Y--;)if(rh(A[Y][0],O))return Y;return-1}function Va(A,O,Y,he){return pu(A,function(Ne,Ze,It){O(he,Ne,Y(Ne),It)}),he}function Rf(A,O){return A&&np(O,Ui(O),A)}function Hu(A,O){return A&&np(O,sl(O),A)}function Vu(A,O,Y){O=="__proto__"&&Ih?Ih(A,O,{configurable:!0,enumerable:!0,value:Y,writable:!0}):A[O]=Y}function Ju(A,O){for(var Y=-1,he=O.length,Ne=Lr(he),Ze=A==null;++Y<he;)Ne[Y]=Ze?K:Hd(A,O[Y]);return Ne}function yc(A,O,Y){return A===A&&(Y!==K&&(A=A<=Y?A:Y),O!==K&&(A=A>=O?A:O)),A}function Zl(A,O,Y,he,Ne,Ze){var It,Rt=O&Re,or=O&mt,Hn=O&st;if(Y&&(It=Ne?Y(A,he,Ne,Ze):Y(A)),It!==K)return It;if(!C(A))return A;var xn=Pa(A);if(xn){if(It=yi(A),!Rt)return mh(A,It)}else{var ti=zr(A),qi=ti==Wo||ti==Un;if(N(A))return Um(A,Rt);if(ti==Xn||ti==Jt||qi&&!Ne){if(It=or||qi?{}:Ci(A),!Rt)return or?Fv(A,Hu(It,A)):Vm(A,Rf(It,A))}else{if(!cl[ti])return Ne?A:{};It=aa(A,ti,Rt)}}Ze||(Ze=new Ki);var Yo=Ze.get(A);if(Yo)return Yo;Ze.set(A,It),_e(A)?A.forEach(function(ri){It.add(Zl(ri,O,Y,ri,A,Ze))}):B(A)&&A.forEach(function(ri,to){It.set(to,Zl(ri,O,Y,to,A,Ze))});var Si=Hn?or?sr:Ft:or?sl:Ui,Fn=xn?K:Si(A);return it(Fn||A,function(ri,to){Fn&&(to=ri,ri=A[to]),hu(It,to,Zl(ri,O,Y,to,A,Ze))}),It}function nf(A){var O=Ui(A);return function(Y){return du(Y,A,O)}}function du(A,O,Y){var he=Y.length;if(A==null)return!he;for(A=Go(A);he--;){var Ne=Y[he],Ze=O[Ne],It=A[Ne];if(It===K&&!(Ne in A)||!Ze(It))return!1}return!0}function xf(A,O,Y){if(typeof A!="function")throw new pa(We);return xu(function(){A.apply(K,Y)},O)}function Su(A,O,Y,he){var Ne=-1,Ze=mr,It=!0,Rt=A.length,or=[],Hn=O.length;if(!Rt)return or;Y&&(O=Ar(O,Lo(Y))),he?(Ze=vr,It=!1):O.length>=ve&&(Ze=ba,It=!1,O=new ln(O));e:for(;++Ne<Rt;){var xn=A[Ne],ti=Y==null?xn:Y(xn);if(xn=he||xn!==0?xn:0,It&&ti===ti){for(var qi=Hn;qi--;)if(O[qi]===ti)continue e;or.push(xn)}else Ze(O,ti,he)||or.push(xn)}return or}var pu=Fd(hs),ch=Fd(mu,!0);function $f(A,O){var Y=!0;return pu(A,function(he,Ne,Ze){return Y=!!O(he,Ne,Ze),Y}),Y}function To(A,O,Y){for(var he=-1,Ne=A.length;++he<Ne;){var Ze=A[he],It=O(Ze);if(It!=null&&(Rt===K?It===It&&!Ue(It):Y(It,Rt)))var Rt=It,or=Ze}return or}function Li(A,O,Y,he){var Ne=A.length;for(Y=Lt(Y),Y<0&&(Y=-Y>Ne?0:Ne+Y),he=he===K||he>Ne?Ne:Lt(he),he<0&&(he+=Ne),he=Y>he?0:xr(he);Y<he;)A[Y++]=O;return A}function Zi(A,O){var Y=[];return pu(A,function(he,Ne,Ze){O(he,Ne,Ze)&&Y.push(he)}),Y}function Io(A,O,Y,he,Ne){var Ze=-1,It=A.length;for(Y||(Y=xa),Ne||(Ne=[]);++Ze<It;){var Rt=A[Ze];O>0&&Y(Rt)?O>1?Io(Rt,O-1,Y,he,Ne):sn(Ne,Rt):he||(Ne[Ne.length]=Rt)}return Ne}var _i=dv(),Co=dv(!0);function hs(A,O){return A&&_i(A,O,Ui)}function mu(A,O){return A&&Co(A,O,Ui)}function ks(A,O){return yt(O,function(Y){return h(A[Y])})}function Pu(A,O){O=Ep(O,A);for(var Y=0,he=O.length;A!=null&&Y<he;)A=A[el(O[Y++])];return Y&&Y==he?A:K}function ya(A,O,Y){var he=O(A);return Pa(A)?he:sn(he,Y(A))}function Do(A){return A==null?A===K?Mi:Jr:eu&&eu in Go(A)?on(A):sa(A)}function cc(A,O){return A>O}function hl(A,O){return A!=null&&Ds.call(A,O)}function dl(A,O){return A!=null&&O in Go(A)}function Ms(A,O,Y){return A>=Us(O,Y)&&A<no(O,Y)}function Lf(A,O,Y){for(var he=Y?vr:mr,Ne=A[0].length,Ze=A.length,It=Ze,Rt=Lr(Ze),or=Infinity,Hn=[];It--;){var xn=A[It];It&&O&&(xn=Ar(xn,Lo(O))),or=Us(xn.length,or),Rt[It]=!Y&&(O||Ne>=120&&xn.length>=120)?new ln(It&&xn):K}xn=A[0];var ti=-1,qi=Rt[0];e:for(;++ti<Ne&&Hn.length<or;){var Yo=xn[ti],Si=O?O(Yo):Yo;if(Yo=Y||Yo!==0?Yo:0,!(qi?ba(qi,Si):he(Hn,Si,Y))){for(It=Ze;--It;){var Fn=Rt[It];if(!(Fn?ba(Fn,Si):he(A[It],Si,Y)))continue e}qi&&qi.push(Si),Hn.push(Yo)}}return Hn}function Ou(A,O,Y,he){return hs(A,function(Ne,Ze,It){O(he,Y(Ne),Ze,It)}),he}function Ru(A,O,Y){O=Ep(O,A),A=nl(A,O);var he=A==null?A:A[el(Hc(O))];return he==null?K:ze(he,A,Y)}function sp(A){return P(A)&&Do(A)==Jt}function Zp(A){return P(A)&&Do(A)==Po}function fh(A){return P(A)&&Do(A)==ai}function of(A,O,Y,he,Ne){return A===O?!0:A==null||O==null||!P(A)&&!P(O)?A!==A&&O!==O:Wu(A,O,Y,he,of,Ne)}function Wu(A,O,Y,he,Ne,Ze){var It=Pa(A),Rt=Pa(O),or=It?rr:zr(A),Hn=Rt?rr:zr(O);or=or==Jt?Xn:or,Hn=Hn==Jt?Xn:Hn;var xn=or==Xn,ti=Hn==Xn,qi=or==Hn;if(qi&&N(A)){if(!N(O))return!1;It=!0,xn=!1}if(qi&&!xn)return Ze||(Ze=new Ki),It||tt(A)?Ke(A,O,Y,he,Ne,Ze):lt(A,O,or,Y,he,Ne,Ze);if(!(Y&St)){var Yo=xn&&Ds.call(A,"__wrapped__"),Si=ti&&Ds.call(O,"__wrapped__");if(Yo||Si){var Fn=Yo?A.value():A,ri=Si?O.value():O;return Ze||(Ze=new Ki),Ne(Fn,ri,Y,he,Ze)}}return qi?(Ze||(Ze=new Ki),ot(A,O,Y,he,Ne,Ze)):!1}function eh(A){return P(A)&&zr(A)==an}function Uc(A,O,Y,he){var Ne=Y.length,Ze=Ne,It=!he;if(A==null)return!Ze;for(A=Go(A);Ne--;){var Rt=Y[Ne];if(It&&Rt[2]?Rt[1]!==A[Rt[0]]:!(Rt[0]in A))return!1}for(;++Ne<Ze;){Rt=Y[Ne];var or=Rt[0],Hn=A[or],xn=Rt[1];if(It&&Rt[2]){if(Hn===K&&!(or in A))return!1}else{var ti=new Ki;if(he)var qi=he(Hn,xn,or,A,O,ti);if(!(qi===K?of(xn,Hn,St|Xr,he,ti):qi))return!1}}return!0}function th(A){if(!C(A)||Hs(A))return!1;var O=h(A)?ld:Qn;return O.test(Mc(A))}function Js(A){return P(A)&&Do(A)==Mn}function vu(A){return P(A)&&zr(A)==Tn}function Kn(A){return P(A)&&m(A.length)&&!!ls[Do(A)]}function lp(A){return typeof A=="function"?A:A==null?Gd:typeof A=="object"?Pa(A)?Dd(A[0],A[1]):up(A):$v(A)}function Qs(A){if(!rl(A))return cd(A);var O=[];for(var Y in Go(A))Ds.call(A,Y)&&Y!="constructor"&&O.push(Y);return O}function hh(A){if(!C(A))return kl(A);var O=rl(A),Y=[];for(var he in A)he=="constructor"&&(O||!Ds.call(A,he))||Y.push(he);return Y}function Ld(A,O){return A<O}function Rh(A,O){var Y=-1,he=S(A)?Lr(A.length):[];return pu(A,function(Ne,Ze,It){he[++Y]=O(Ne,Ze,It)}),he}function up(A){var O=Bn(A);return O.length==1&&O[0][2]?_s(O[0][0],O[0][1]):function(Y){return Y===A||Uc(Y,A,O)}}function Dd(A,O){return ys(A)&&na(O)?_s(el(A),O):function(Y){var he=Hd(Y,A);return he===K&&he===O?Mu(Y,A):of(O,he,St|Xr)}}function Sc(A,O,Y,he,Ne){A!==O&&_i(O,function(Ze,It){if(Ne||(Ne=new Ki),C(Ze))Dv(A,O,It,Y,Sc,he,Ne);else{var Rt=he?he(il(A,It),Ze,It+"",A,O,Ne):K;Rt===K&&(Rt=Ze),zc(A,It,Rt)}},sl)}function Dv(A,O,Y,he,Ne,Ze,It){var Rt=il(A,Y),or=il(O,Y),Hn=It.get(or);if(Hn){zc(A,Y,Hn);return}var xn=Ze?Ze(Rt,or,Y+"",A,O,It):K,ti=xn===K;if(ti){var qi=Pa(or),Yo=!qi&&N(or),Si=!qi&&!Yo&&tt(or);xn=or,qi||Yo||Si?Pa(Rt)?xn=Rt:E(Rt)?xn=mh(Rt):Yo?(ti=!1,xn=Um(or,!0)):Si?(ti=!1,xn=hv(or,!0)):xn=[]:V(or)||yp(or)?(xn=Rt,yp(Rt)?xn=Yn(Rt):(!C(Rt)||h(Rt))&&(xn=Ci(or))):ti=!1}ti&&(It.set(or,xn),Ne(xn,or,he,Ze,It),It.delete(or)),zc(A,Y,xn)}function cp(A,O){var Y=A.length;if(!!Y)return O+=O<0?Y:0,ts(O,Y)?A[O]:K}function Jp(A,O,Y){O.length?O=Ar(O,function(Ze){return Pa(Ze)?function(It){return Pu(It,Ze.length===1?Ze[0]:Ze)}:Ze}):O=[Gd];var he=-1;O=Ar(O,Lo(Vt()));var Ne=Rh(A,function(Ze,It,Rt){var or=Ar(O,function(Hn){return Hn(Ze)});return{criteria:or,index:++he,value:Ze}});return po(Ne,function(Ze,It){return vd(Ze,It,Y)})}function Gh(A,O){return Qp(A,O,function(Y,he){return Mu(A,he)})}function Qp(A,O,Y){for(var he=-1,Ne=O.length,Ze={};++he<Ne;){var It=O[he],Rt=Pu(A,It);Y(Rt,It)&&jm(Ze,Ep(It,A),Rt)}return Ze}function Es(A){return function(O){return Pu(O,A)}}function pd(A,O,Y,he){var Ne=he?fa:Yi,Ze=-1,It=O.length,Rt=A;for(A===O&&(O=mh(O)),Y&&(Rt=Ar(A,Lo(Y)));++Ze<It;)for(var or=0,Hn=O[Ze],xn=Y?Y(Hn):Hn;(or=Ne(Rt,xn,or,he))>-1;)Rt!==A&&xo.call(Rt,or,1),xo.call(A,or,1);return A}function Lh(A,O){for(var Y=A?O.length:0,he=Y-1;Y--;){var Ne=O[Y];if(Y==he||Ne!==Ze){var Ze=Ne;ts(Ne)?xo.call(A,Ne,1):af(A,Ne)}}return A}function md(A,O){return A+Vo(Ph()*(O-A+1))}function qp(A,O,Y,he){for(var Ne=-1,Ze=no(ep((O-A)/(Y||1)),0),It=Lr(Ze);Ze--;)It[he?Ze:++Ne]=A,A+=Y;return It}function Fp(A,O){var Y="";if(!A||O<1||O>rn)return Y;do O%2&&(Y+=A),O=Vo(O/2),O&&(A+=A);while(O);return Y}function $a(A,O){return Ao(Vs(A,O,Gd),A+"")}function ov(A){return Zs(ia(A))}function vm(A,O){var Y=ia(A);return Is(Y,yc(O,0,Y.length))}function jm(A,O,Y,he){if(!C(A))return A;O=Ep(O,A);for(var Ne=-1,Ze=O.length,It=Ze-1,Rt=A;Rt!=null&&++Ne<Ze;){var or=el(O[Ne]),Hn=Y;if(or==="__proto__"||or==="constructor"||or==="prototype")return A;if(Ne!=It){var xn=Rt[or];Hn=he?he(xn,or,Rt):K,Hn===K&&(Hn=C(xn)?xn:ts(O[Ne+1])?[]:{})}hu(Rt,or,Hn),Rt=Rt[or]}return A}var $p=Ku?function(A,O){return Ku.set(A,O),A}:Gd,mg=Ih?function(A,O){return Ih(A,"toString",{configurable:!0,enumerable:!1,value:O0(O),writable:!0})}:Gd;function av(A){return Is(ia(A))}function dh(A,O,Y){var he=-1,Ne=A.length;O<0&&(O=-O>Ne?0:Ne+O),Y=Y>Ne?Ne:Y,Y<0&&(Y+=Ne),Ne=O>Y?0:Y-O>>>0,O>>>=0;for(var Ze=Lr(Ne);++he<Ne;)Ze[he]=A[he+O];return Ze}function sv(A,O){var Y;return pu(A,function(he,Ne,Ze){return Y=O(he,Ne,Ze),!Y}),!!Y}function Bp(A,O,Y){var he=0,Ne=A==null?he:A.length;if(typeof O=="number"&&O===O&&Ne<=At){for(;he<Ne;){var Ze=he+Ne>>>1,It=A[Ze];It!==null&&!Ue(It)&&(Y?It<=O:It<O)?he=Ze+1:Ne=Ze}return Ne}return zm(A,O,Gd,Y)}function zm(A,O,Y,he){var Ne=0,Ze=A==null?0:A.length;if(Ze===0)return 0;O=Y(O);for(var It=O!==O,Rt=O===null,or=Ue(O),Hn=O===K;Ne<Ze;){var xn=Vo((Ne+Ze)/2),ti=Y(A[xn]),qi=ti!==K,Yo=ti===null,Si=ti===ti,Fn=Ue(ti);if(It)var ri=he||Si;else Hn?ri=Si&&(he||qi):Rt?ri=Si&&qi&&(he||!Yo):or?ri=Si&&qi&&!Yo&&(he||!Fn):Yo||Fn?ri=!1:ri=he?ti<=O:ti<O;ri?Ne=xn+1:Ze=xn}return Us(Ze,dt)}function vg(A,O){for(var Y=-1,he=A.length,Ne=0,Ze=[];++Y<he;){var It=A[Y],Rt=O?O(It):It;if(!Y||!rh(Rt,or)){var or=Rt;Ze[Ne++]=It===0?0:It}}return Ze}function lv(A){return typeof A=="number"?A:Ue(A)?_r:+A}function Cf(A){if(typeof A=="string")return A;if(Pa(A))return Ar(A,Cf)+"";if(Ue(A))return Fc?Fc.call(A):"";var O=A+"";return O=="0"&&1/A==-An?"-0":O}function Df(A,O,Y){var he=-1,Ne=mr,Ze=A.length,It=!0,Rt=[],or=Rt;if(Y)It=!1,Ne=vr;else if(Ze>=ve){var Hn=O?null:re(A);if(Hn)return lu(Hn);It=!1,Ne=ba,or=new ln}else or=O?[]:Rt;e:for(;++he<Ze;){var xn=A[he],ti=O?O(xn):xn;if(xn=Y||xn!==0?xn:0,It&&ti===ti){for(var qi=or.length;qi--;)if(or[qi]===ti)continue e;O&&or.push(ti),Rt.push(xn)}else Ne(or,ti,Y)||(or!==Rt&&or.push(ti),Rt.push(xn))}return Rt}function af(A,O){return O=Ep(O,A),A=nl(A,O),A==null||delete A[el(Hc(O))]}function em(A,O,Y,he){return jm(A,O,Y(Pu(A,O)),he)}function rp(A,O,Y,he){for(var Ne=A.length,Ze=he?Ne:-1;(he?Ze--:++Ze<Ne)&&O(A[Ze],Ze,A););return Y?dh(A,he?0:Ze,he?Ze+1:Ne):dh(A,he?Ze+1:0,he?Ne:Ze)}function tm(A,O){var Y=A;return Y instanceof fi&&(Y=Y.value()),bi(O,function(he,Ne){return Ne.func.apply(Ne.thisArg,sn([he],Ne.args))},Y)}function gm(A,O,Y){var he=A.length;if(he<2)return he?Df(A[0]):[];for(var Ne=-1,Ze=Lr(he);++Ne<he;)for(var It=A[Ne],Rt=-1;++Rt<he;)Rt!=Ne&&(Ze[Ne]=Su(Ze[Ne]||It,A[Rt],O,Y));return Df(Io(Ze,1),O,Y)}function ph(A,O,Y){for(var he=-1,Ne=A.length,Ze=O.length,It={};++he<Ne;){var Rt=he<Ze?O[he]:K;Y(It,A[he],Rt)}return It}function jp(A){return E(A)?A:[]}function uv(A){return typeof A=="function"?A:Gd}function Ep(A,O){return Pa(A)?A:ys(A,O)?[A]:$s(Rn(A))}var ym=$a;function Nd(A,O,Y){var he=A.length;return Y=Y===K?he:Y,!O&&Y>=he?A:dh(A,O,Y)}var Nv=$d||function(A){return Ni.clearTimeout(A)};function Um(A,O){if(O)return A.slice();var Y=A.length,he=uh?uh(Y):new A.constructor(Y);return A.copy(he),he}function cv(A){var O=new A.constructor(A.byteLength);return new yf(O).set(new yf(A)),O}function xm(A,O){var Y=O?cv(A.buffer):A.buffer;return new A.constructor(Y,A.byteOffset,A.byteLength)}function km(A){var O=new A.constructor(A.source,jr.exec(A));return O.lastIndex=A.lastIndex,O}function fv(A){return fl?Go(fl.call(A)):{}}function hv(A,O){var Y=O?cv(A.buffer):A.buffer;return new A.constructor(Y,A.byteOffset,A.length)}function Hm(A,O){if(A!==O){var Y=A!==K,he=A===null,Ne=A===A,Ze=Ue(A),It=O!==K,Rt=O===null,or=O===O,Hn=Ue(O);if(!Rt&&!Hn&&!Ze&&A>O||Ze&&It&&or&&!Rt&&!Hn||he&&It&&or||!Y&&or||!Ne)return 1;if(!he&&!Ze&&!Hn&&A<O||Hn&&Y&&Ne&&!he&&!Ze||Rt&&Y&&Ne||!It&&Ne||!or)return-1}return 0}function vd(A,O,Y){for(var he=-1,Ne=A.criteria,Ze=O.criteria,It=Ne.length,Rt=Y.length;++he<It;){var or=Hm(Ne[he],Ze[he]);if(or){if(he>=Rt)return or;var Hn=Y[he];return or*(Hn=="desc"?-1:1)}}return A.index-O.index}function rm(A,O,Y,he){for(var Ne=-1,Ze=A.length,It=Y.length,Rt=-1,or=O.length,Hn=no(Ze-It,0),xn=Lr(or+Hn),ti=!he;++Rt<or;)xn[Rt]=O[Rt];for(;++Ne<It;)(ti||Ne<Ze)&&(xn[Y[Ne]]=A[Ne]);for(;Hn--;)xn[Rt++]=A[Ne++];return xn}function nm(A,O,Y,he){for(var Ne=-1,Ze=A.length,It=-1,Rt=Y.length,or=-1,Hn=O.length,xn=no(Ze-Rt,0),ti=Lr(xn+Hn),qi=!he;++Ne<xn;)ti[Ne]=A[Ne];for(var Yo=Ne;++or<Hn;)ti[Yo+or]=O[or];for(;++It<Rt;)(qi||Ne<Ze)&&(ti[Yo+Y[It]]=A[Ne++]);return ti}function mh(A,O){var Y=-1,he=A.length;for(O||(O=Lr(he));++Y<he;)O[Y]=A[Y];return O}function np(A,O,Y,he){var Ne=!Y;Y||(Y={});for(var Ze=-1,It=O.length;++Ze<It;){var Rt=O[Ze],or=he?he(Y[Rt],A[Rt],Rt,Y,A):K;or===K&&(or=A[Rt]),Ne?Vu(Y,Rt,or):hu(Y,Rt,or)}return Y}function Vm(A,O){return np(A,jn(A),O)}function Fv(A,O){return np(A,fn(A),O)}function fp(A,O){return function(Y,he){var Ne=Pa(Y)?Le:Va,Ze=O?O():{};return Ne(Y,A,Vt(he,2),Ze)}}function zp(A){return $a(function(O,Y){var he=-1,Ne=Y.length,Ze=Ne>1?Y[Ne-1]:K,It=Ne>2?Y[2]:K;for(Ze=A.length>3&&typeof Ze=="function"?(Ne--,Ze):K,It&&Ts(Y[0],Y[1],It)&&(Ze=Ne<3?K:Ze,Ne=1),O=Go(O);++he<Ne;){var Rt=Y[he];Rt&&A(O,Rt,he,Ze)}return O})}function Fd(A,O){return function(Y,he){if(Y==null)return Y;if(!S(Y))return A(Y,he);for(var Ne=Y.length,Ze=O?Ne:-1,It=Go(Y);(O?Ze--:++Ze<Ne)&&he(It[Ze],Ze,It)!==!1;);return Y}}function dv(A){return function(O,Y,he){for(var Ne=-1,Ze=Go(O),It=he(O),Rt=It.length;Rt--;){var or=It[A?Rt:++Ne];if(Y(Ze[or],or,Ze)===!1)break}return O}}function im(A,O,Y){var he=O&zt,Ne=om(A);function Ze(){var It=this&&this!==Ni&&this instanceof Ze?Ne:A;return It.apply(he?Y:this,arguments)}return Ze}function Cm(A){return function(O){O=Rn(O);var Y=Uo(O)?fs(O):K,he=Y?Y[0]:O.charAt(0),Ne=Y?Nd(Y,1).join(""):O.slice(1);return he[A]()+Ne}}function es(A){return function(O){return bi(so(cf(O).replace(id,"")),A,"")}}function om(A){return function(){var O=arguments;switch(O.length){case 0:return new A;case 1:return new A(O[0]);case 2:return new A(O[0],O[1]);case 3:return new A(O[0],O[1],O[2]);case 4:return new A(O[0],O[1],O[2],O[3]);case 5:return new A(O[0],O[1],O[2],O[3],O[4]);case 6:return new A(O[0],O[1],O[2],O[3],O[4],O[5]);case 7:return new A(O[0],O[1],O[2],O[3],O[4],O[5],O[6])}var Y=Bc(A.prototype),he=A.apply(Y,O);return C(he)?he:Y}}function Jo(A,O,Y){var he=om(A);function Ne(){for(var Ze=arguments.length,It=Lr(Ze),Rt=Ze,or=$t(Ne);Rt--;)It[Rt]=arguments[Rt];var Hn=Ze<3&&It[0]!==or&&It[Ze-1]!==or?[]:ja(It,or);if(Ze-=Hn.length,Ze<Y)return le(A,O,Qu,Ne.placeholder,K,It,Hn,K,K,Y-Ze);var xn=this&&this!==Ni&&this instanceof Ne?he:A;return ze(xn,this,It)}return Ne}function Am(A){return function(O,Y,he){var Ne=Go(O);if(!S(O)){var Ze=Vt(Y,3);O=Ui(O),Y=function(Rt){return Ze(Ne[Rt],Rt,Ne)}}var It=A(O,Y,he);return It>-1?Ne[Ze?O[It]:It]:K}}function gu(A){return Tt(function(O){var Y=O.length,he=Y,Ne=uc.prototype.thru;for(A&&O.reverse();he--;){var Ze=O[he];if(typeof Ze!="function")throw new pa(We);if(Ne&&!It&&tr(Ze)=="wrapper")var It=new uc([],!0)}for(he=It?he:Y;++he<Y;){Ze=O[he];var Rt=tr(Ze),or=Rt=="wrapper"?ur(Ze):K;or&&ps(or[0])&&or[1]==(et|Vr|Et|bt)&&!or[4].length&&or[9]==1?It=It[tr(or[0])].apply(It,or[3]):It=Ze.length==1&&ps(Ze)?It[Rt]():It.thru(Ze)}return function(){var Hn=arguments,xn=Hn[0];if(It&&Hn.length==1&&Pa(xn))return It.plant(xn).value();for(var ti=0,qi=Y?O[ti].apply(this,Hn):xn;++ti<Y;)qi=O[ti].call(this,qi);return qi}})}function Qu(A,O,Y,he,Ne,Ze,It,Rt,or,Hn){var xn=O&et,ti=O&zt,qi=O&nr,Yo=O&(Vr|$e),Si=O&Zt,Fn=qi?K:om(A);function ri(){for(var to=arguments.length,Ma=Lr(to),Ch=to;Ch--;)Ma[Ch]=arguments[Ch];if(Yo)var ff=$t(ri),Oc=da(Ma,ff);if(he&&(Ma=rm(Ma,he,Ne,Yo)),Ze&&(Ma=nm(Ma,Ze,It,Yo)),to-=Oc,Yo&&to<Hn){var Lu=ja(Ma,ff);return le(A,O,Qu,ri.placeholder,Y,Ma,Lu,Rt,or,Hn-to)}var Ah=ti?Y:this,Ap=qi?Ah[A]:A;return to=Ma.length,Rt?Ma=yu(Ma,Rt):Si&&to>1&&Ma.reverse(),xn&&or<to&&(Ma.length=or),this&&this!==Ni&&this instanceof ri&&(Ap=Fn||om(Ap)),Ap.apply(Ah,Ma)}return ri}function Up(A,O){return function(Y,he){return Ou(Y,A,O(he),{})}}function wm(A,O){return function(Y,he){var Ne;if(Y===K&&he===K)return O;if(Y!==K&&(Ne=Y),he!==K){if(Ne===K)return he;typeof Y=="string"||typeof he=="string"?(Y=Cf(Y),he=Cf(he)):(Y=lv(Y),he=lv(he)),Ne=A(Y,he)}return Ne}}function bm(A){return Tt(function(O){return O=Ar(O,Lo(Vt())),$a(function(Y){var he=this;return A(O,function(Ne){return ze(Ne,he,Y)})})})}function Tp(A,O){O=O===K?" ":Cf(O);var Y=O.length;if(Y<2)return Y?Fp(O,A):O;var he=Fp(O,ep(A/Ks(O)));return Uo(O)?Nd(fs(he),0,A).join(""):he.slice(0,A)}function Bd(A,O,Y,he){var Ne=O&zt,Ze=om(A);function It(){for(var Rt=-1,or=arguments.length,Hn=-1,xn=he.length,ti=Lr(xn+or),qi=this&&this!==Ni&&this instanceof It?Ze:A;++Hn<xn;)ti[Hn]=he[Hn];for(;or--;)ti[Hn++]=arguments[++Rt];return ze(qi,Ne?Y:this,ti)}return It}function Ug(A){return function(O,Y,he){return he&&typeof he!="number"&&Ts(O,Y,he)&&(Y=he=K),O=On(O),Y===K?(Y=O,O=0):Y=On(Y),he=he===K?O<Y?1:-1:On(he),qp(O,Y,he,A)}}function ee(A){return function(O,Y){return typeof O=="string"&&typeof Y=="string"||(O=kn(O),Y=kn(Y)),A(O,Y)}}function le(A,O,Y,he,Ne,Ze,It,Rt,or,Hn){var xn=O&Vr,ti=xn?It:K,qi=xn?K:It,Yo=xn?Ze:K,Si=xn?K:Ze;O|=xn?Et:Xt,O&=~(xn?Xt:Et),O&pn||(O&=~(zt|nr));var Fn=[A,O,Ne,Yo,ti,Si,qi,Rt,or,Hn],ri=Y.apply(K,Fn);return ps(A)&&Qo(ri,Fn),ri.placeholder=he,No(ri,A,O)}function fe(A){var O=Ss[A];return function(Y,he){if(Y=kn(Y),he=he==null?0:Us(Lt(he),292),he&&tp(Y)){var Ne=(Rn(Y)+"e").split("e"),Ze=O(Ne[0]+"e"+(+Ne[1]+he));return Ne=(Rn(Ze)+"e").split("e"),+(Ne[0]+"e"+(+Ne[1]-he))}return O(Y)}}var re=Ns&&1/lu(new Ns([,-0]))[1]==An?function(A){return new Ns(A)}:Ev;function Q(A){return function(O){var Y=zr(O);return Y==an?Bu(O):Y==Tn?$c(O):Ls(O,A(O))}}function pe(A,O,Y,he,Ne,Ze,It,Rt){var or=O&nr;if(!or&&typeof A!="function")throw new pa(We);var Hn=he?he.length:0;if(Hn||(O&=~(Et|Xt),he=Ne=K),It=It===K?It:no(Lt(It),0),Rt=Rt===K?Rt:Lt(Rt),Hn-=Ne?Ne.length:0,O&Xt){var xn=he,ti=Ne;he=Ne=K}var qi=or?K:ur(A),Yo=[A,O,Y,he,Ne,xn,ti,Ze,It,Rt];if(qi&&Tl(Yo,qi),A=Yo[0],O=Yo[1],Y=Yo[2],he=Yo[3],Ne=Yo[4],Rt=Yo[9]=Yo[9]===K?or?0:A.length:no(Yo[9]-Hn,0),!Rt&&O&(Vr|$e)&&(O&=~(Vr|$e)),!O||O==zt)var Si=im(A,O,Y);else O==Vr||O==$e?Si=Jo(A,O,Rt):(O==Et||O==(zt|Et))&&!Ne.length?Si=Bd(A,O,Y,he):Si=Qu.apply(K,Yo);var Fn=qi?$p:Qo;return No(Fn(Si,Yo),A,O)}function ye(A,O,Y,he){return A===K||rh(A,ef[Y])&&!Ds.call(he,Y)?O:A}function Te(A,O,Y,he,Ne,Ze){return C(A)&&C(O)&&(Ze.set(O,A),Sc(A,O,K,Te,Ze),Ze.delete(O)),A}function Be(A){return V(A)?K:A}function Ke(A,O,Y,he,Ne,Ze){var It=Y&St,Rt=A.length,or=O.length;if(Rt!=or&&!(It&&or>Rt))return!1;var Hn=Ze.get(A),xn=Ze.get(O);if(Hn&&xn)return Hn==O&&xn==A;var ti=-1,qi=!0,Yo=Y&Xr?new ln:K;for(Ze.set(A,O),Ze.set(O,A);++ti<Rt;){var Si=A[ti],Fn=O[ti];if(he)var ri=It?he(Fn,Si,ti,O,A,Ze):he(Si,Fn,ti,A,O,Ze);if(ri!==K){if(ri)continue;qi=!1;break}if(Yo){if(!Ti(O,function(to,Ma){if(!ba(Yo,Ma)&&(Si===to||Ne(Si,to,Y,he,Ze)))return Yo.push(Ma)})){qi=!1;break}}else if(!(Si===Fn||Ne(Si,Fn,Y,he,Ze))){qi=!1;break}}return Ze.delete(A),Ze.delete(O),qi}function lt(A,O,Y,he,Ne,Ze,It){switch(Y){case cr:if(A.byteLength!=O.byteLength||A.byteOffset!=O.byteOffset)return!1;A=A.buffer,O=O.buffer;case Po:return!(A.byteLength!=O.byteLength||!Ze(new yf(A),new yf(O)));case Kr:case ai:case In:return rh(+A,+O);case So:return A.name==O.name&&A.message==O.message;case Mn:case kr:return A==O+"";case an:var Rt=Bu;case Tn:var or=he&St;if(Rt||(Rt=lu),A.size!=O.size&&!or)return!1;var Hn=It.get(A);if(Hn)return Hn==O;he|=Xr,It.set(A,O);var xn=Ke(Rt(A),Rt(O),he,Ne,Ze,It);return It.delete(A),xn;case ei:if(fl)return fl.call(A)==fl.call(O)}return!1}function ot(A,O,Y,he,Ne,Ze){var It=Y&St,Rt=Ft(A),or=Rt.length,Hn=Ft(O),xn=Hn.length;if(or!=xn&&!It)return!1;for(var ti=or;ti--;){var qi=Rt[ti];if(!(It?qi in O:Ds.call(O,qi)))return!1}var Yo=Ze.get(A),Si=Ze.get(O);if(Yo&&Si)return Yo==O&&Si==A;var Fn=!0;Ze.set(A,O),Ze.set(O,A);for(var ri=It;++ti<or;){qi=Rt[ti];var to=A[qi],Ma=O[qi];if(he)var Ch=It?he(Ma,to,qi,O,A,Ze):he(to,Ma,qi,A,O,Ze);if(!(Ch===K?to===Ma||Ne(to,Ma,Y,he,Ze):Ch)){Fn=!1;break}ri||(ri=qi=="constructor")}if(Fn&&!ri){var ff=A.constructor,Oc=O.constructor;ff!=Oc&&"constructor"in A&&"constructor"in O&&!(typeof ff=="function"&&ff instanceof ff&&typeof Oc=="function"&&Oc instanceof Oc)&&(Fn=!1)}return Ze.delete(A),Ze.delete(O),Fn}function Tt(A){return Ao(Vs(A,K,_l),A+"")}function Ft(A){return ya(A,Ui,jn)}function sr(A){return ya(A,sl,fn)}var ur=Ku?function(A){return Ku.get(A)}:Ev;function tr(A){for(var O=A.name+"",Y=Oh[O],he=Ds.call(Oh,O)?Y.length:0;he--;){var Ne=Y[he],Ze=Ne.func;if(Ze==null||Ze==A)return Ne.name}return O}function $t(A){var O=Ds.call(Ve,"placeholder")?Ve:A;return O.placeholder}function Vt(){var A=Ve.iteratee||Qg;return A=A===Qg?lp:A,arguments.length?A(arguments[0],arguments[1]):A}function Qr(A,O){var Y=A.__data__;return Wa(O)?Y[typeof O=="string"?"string":"hash"]:Y.map}function Bn(A){for(var O=Ui(A),Y=O.length;Y--;){var he=O[Y],Ne=A[he];O[Y]=[he,Ne,na(Ne)]}return O}function wr(A,O){var Y=cs(A,O);return th(Y)?Y:K}function on(A){var O=Ds.call(A,eu),Y=A[eu];try{A[eu]=K;var he=!0}catch(Ze){}var Ne=vc.call(A);return he&&(O?A[eu]=Y:delete A[eu]),Ne}var jn=ud?function(A){return A==null?[]:(A=Go(A),yt(ud(A),function(O){return bc.call(A,O)}))}:eg,fn=ud?function(A){for(var O=[];A;)sn(O,jn(A)),A=gc(A);return O}:eg,zr=Do;(Od&&zr(new Od(new ArrayBuffer(1)))!=cr||Xu&&zr(new Xu)!=an||io&&zr(io.resolve())!=hr||Ns&&zr(new Ns)!=Tn||Pf&&zr(new Pf)!=Di)&&(zr=function(A){var O=Do(A),Y=O==Xn?A.constructor:K,he=Y?Mc(Y):"";if(he)switch(he){case Sp:return cr;case Jf:return an;case kh:return hr;case Hh:return Tn;case ga:return Di}return O});function Sn(A,O,Y){for(var he=-1,Ne=Y.length;++he<Ne;){var Ze=Y[he],It=Ze.size;switch(Ze.type){case"drop":A+=It;break;case"dropRight":O-=It;break;case"take":O=Us(O,A+It);break;case"takeRight":A=no(A,O-It);break}}return{start:A,end:O}}function xi(A){var O=A.match(Je);return O?O[1].split(nt):[]}function mo(A,O,Y){O=Ep(O,A);for(var he=-1,Ne=O.length,Ze=!1;++he<Ne;){var It=el(O[he]);if(!(Ze=A!=null&&Y(A,It)))break;A=A[It]}return Ze||++he!=Ne?Ze:(Ne=A==null?0:A.length,!!Ne&&m(Ne)&&ts(It,Ne)&&(Pa(A)||yp(A)))}function yi(A){var O=A.length,Y=new A.constructor(O);return O&&typeof A[0]=="string"&&Ds.call(A,"index")&&(Y.index=A.index,Y.input=A.input),Y}function Ci(A){return typeof A.constructor=="function"&&!rl(A)?Bc(gc(A)):{}}function aa(A,O,Y){var he=A.constructor;switch(O){case Po:return cv(A);case Kr:case ai:return new he(+A);case cr:return xm(A,Y);case $o:case As:case Gi:case Xs:case un:case ko:case ss:case Gr:case Yl:return hv(A,Y);case an:return new he;case In:case kr:return new he(A);case Mn:return km(A);case Tn:return new he;case ei:return fv(A)}}function ds(A,O){var Y=O.length;if(!Y)return A;var he=Y-1;return O[he]=(Y>1?"& ":"")+O[he],O=O.join(Y>2?", ":" "),A.replace(Oo,`{
/* [wrapped with `+O+`] */
`)}function xa(A){return Pa(A)||yp(A)||!!(sc&&A&&A[sc])}function ts(A,O){var Y=typeof A;return O=O==null?rn:O,!!O&&(Y=="number"||Y!="symbol"&&si.test(A))&&A>-1&&A%1==0&&A<O}function Ts(A,O,Y){if(!C(Y))return!1;var he=typeof O;return(he=="number"?S(Y)&&ts(O,Y.length):he=="string"&&O in Y)?rh(Y[O],A):!1}function ys(A,O){if(Pa(A))return!1;var Y=typeof A;return Y=="number"||Y=="symbol"||Y=="boolean"||A==null||Ue(A)?!0:jt.test(A)||!Mr.test(A)||O!=null&&A in Go(O)}function Wa(A){var O=typeof A;return O=="string"||O=="number"||O=="symbol"||O=="boolean"?A!=="__proto__":A===null}function ps(A){var O=tr(A),Y=Ve[O];if(typeof Y!="function"||!(O in fi.prototype))return!1;if(A===Y)return!0;var he=ur(Y);return!!he&&A===he[0]}function Hs(A){return!!Xf&&Xf in A}var qs=cu?h:tg;function rl(A){var O=A&&A.constructor,Y=typeof O=="function"&&O.prototype||ef;return A===Y}function na(A){return A===A&&!C(A)}function _s(A,O){return function(Y){return Y==null?!1:Y[A]===O&&(O!==K||A in Go(Y))}}function Fl(A){var O=Yv(A,function(he){return Y.size===at&&Y.clear(),he}),Y=O.cache;return O}function Tl(A,O){var Y=A[1],he=O[1],Ne=Y|he,Ze=Ne<(zt|nr|et),It=he==et&&Y==Vr||he==et&&Y==bt&&A[7].length<=O[8]||he==(et|bt)&&O[7].length<=O[8]&&Y==Vr;if(!(Ze||It))return A;he&zt&&(A[2]=O[2],Ne|=Y&zt?0:pn);var Rt=O[3];if(Rt){var or=A[3];A[3]=or?rm(or,Rt,O[4]):Rt,A[4]=or?ja(A[3],se):O[4]}return Rt=O[5],Rt&&(or=A[5],A[5]=or?nm(or,Rt,O[6]):Rt,A[6]=or?ja(A[5],se):O[6]),Rt=O[7],Rt&&(A[7]=Rt),he&et&&(A[8]=A[8]==null?O[8]:Us(A[8],O[8])),A[9]==null&&(A[9]=O[9]),A[0]=O[0],A[1]=Ne,A}function kl(A){var O=[];if(A!=null)for(var Y in Go(A))O.push(Y);return O}function sa(A){return vc.call(A)}function Vs(A,O,Y){return O=no(O===K?A.length-1:O,0),function(){for(var he=arguments,Ne=-1,Ze=no(he.length-O,0),It=Lr(Ze);++Ne<Ze;)It[Ne]=he[O+Ne];Ne=-1;for(var Rt=Lr(O+1);++Ne<O;)Rt[Ne]=he[Ne];return Rt[O]=Y(It),ze(A,this,Rt)}}function nl(A,O){return O.length<2?A:Pu(A,dh(O,0,-1))}function yu(A,O){for(var Y=A.length,he=Us(O.length,Y),Ne=mh(A);he--;){var Ze=O[he];A[he]=ts(Ze,Y)?Ne[Ze]:K}return A}function il(A,O){if(!(O==="constructor"&&typeof A[O]=="function")&&O!="__proto__")return A[O]}var Qo=ms($p),xu=Kp||function(A,O){return Ni.setTimeout(A,O)},Ao=ms(mg);function No(A,O,Y){var he=O+"";return Ao(A,ds(he,Af(xi(he),Y)))}function ms(A){var O=0,Y=0;return function(){var he=fd(),Ne=Er-(he-Y);if(Y=he,Ne>0){if(++O>=ht)return arguments[0]}else O=0;return A.apply(K,arguments)}}function Is(A,O){var Y=-1,he=A.length,Ne=he-1;for(O=O===K?he:O;++Y<O;){var Ze=md(Y,Ne),It=A[Ze];A[Ze]=A[Y],A[Y]=It}return A.length=O,A}var $s=Fl(function(A){var O=[];return A.charCodeAt(0)===46&&O.push(""),A.replace(gr,function(Y,he,Ne,Ze){O.push(Ne?Ze.replace(en,"$1"):he||Y)}),O});function el(A){if(typeof A=="string"||Ue(A))return A;var O=A+"";return O=="0"&&1/A==-An?"-0":O}function Mc(A){if(A!=null){try{return Gf.call(A)}catch(O){}try{return A+""}catch(O){}}return""}function Af(A,O){return it(cn,function(Y){var he="_."+Y[0];O&Y[1]&&!mr(A,he)&&A.push(he)}),A.sort()}function ip(A){if(A instanceof fi)return A.clone();var O=new uc(A.__wrapped__,A.__chain__);return O.__actions__=mh(A.__actions__),O.__index__=A.__index__,O.__values__=A.__values__,O}function Cl(A,O,Y){(Y?Ts(A,O,Y):O===K)?O=1:O=no(Lt(O),0);var he=A==null?0:A.length;if(!he||O<1)return[];for(var Ne=0,Ze=0,It=Lr(ep(he/O));Ne<he;)It[Ze++]=dh(A,Ne,Ne+=O);return It}function Nf(A){for(var O=-1,Y=A==null?0:A.length,he=0,Ne=[];++O<Y;){var Ze=A[O];Ze&&(Ne[he++]=Ze)}return Ne}function Ff(){var A=arguments.length;if(!A)return[];for(var O=Lr(A-1),Y=arguments[0],he=A;he--;)O[he-1]=arguments[he];return sn(Pa(Y)?mh(Y):[Y],Io(O,1))}var gd=$a(function(A,O){return E(A)?Su(A,Io(O,1,E,!0)):[]}),sf=$a(function(A,O){var Y=Hc(O);return E(Y)&&(Y=K),E(A)?Su(A,Io(O,1,E,!0),Vt(Y,2)):[]}),fc=$a(function(A,O){var Y=Hc(O);return E(Y)&&(Y=K),E(A)?Su(A,Io(O,1,E,!0),K,Y):[]});function hp(A,O,Y){var he=A==null?0:A.length;return he?(O=Y||O===K?1:Lt(O),dh(A,O<0?0:O,he)):[]}function Bs(A,O,Y){var he=A==null?0:A.length;return he?(O=Y||O===K?1:Lt(O),O=he-O,dh(A,0,O<0?0:O)):[]}function Hl(A,O){return A&&A.length?rp(A,Vt(O,3),!0,!0):[]}function Vl(A,O){return A&&A.length?rp(A,Vt(O,3),!0):[]}function Ws(A,O,Y,he){var Ne=A==null?0:A.length;return Ne?(Y&&typeof Y!="number"&&Ts(A,O,Y)&&(Y=0,he=Ne),Li(A,O,Y,he)):[]}function Al(A,O,Y){var he=A==null?0:A.length;if(!he)return-1;var Ne=Y==null?0:Lt(Y);return Ne<0&&(Ne=no(he+Ne,0)),is(A,Vt(O,3),Ne)}function Cu(A,O,Y){var he=A==null?0:A.length;if(!he)return-1;var Ne=he-1;return Y!==K&&(Ne=Lt(Y),Ne=Y<0?no(he+Ne,0):Us(Ne,he-1)),is(A,Vt(O,3),Ne,!0)}function _l(A){var O=A==null?0:A.length;return O?Io(A,1):[]}function tu(A){var O=A==null?0:A.length;return O?Io(A,An):[]}function ol(A,O){var Y=A==null?0:A.length;return Y?(O=O===K?1:Lt(O),Io(A,O)):[]}function kc(A){for(var O=-1,Y=A==null?0:A.length,he={};++O<Y;){var Ne=A[O];he[Ne[0]]=Ne[1]}return he}function Yh(A){return A&&A.length?A[0]:K}function dp(A,O,Y){var he=A==null?0:A.length;if(!he)return-1;var Ne=Y==null?0:Lt(Y);return Ne<0&&(Ne=no(he+Ne,0)),Yi(A,O,Ne)}function jd(A){var O=A==null?0:A.length;return O?dh(A,0,-1):[]}var Xh=$a(function(A){var O=Ar(A,jp);return O.length&&O[0]===A[0]?Lf(O):[]}),vh=$a(function(A){var O=Hc(A),Y=Ar(A,jp);return O===Hc(Y)?O=K:Y.pop(),Y.length&&Y[0]===A[0]?Lf(Y,Vt(O,2)):[]}),Ec=$a(function(A){var O=Hc(A),Y=Ar(A,jp);return O=typeof O=="function"?O:K,O&&Y.pop(),Y.length&&Y[0]===A[0]?Lf(Y,K,O):[]});function Kh(A,O){return A==null?"":Pd.call(A,O)}function Hc(A){var O=A==null?0:A.length;return O?A[O-1]:K}function Zh(A,O,Y){var he=A==null?0:A.length;if(!he)return-1;var Ne=he;return Y!==K&&(Ne=Lt(Y),Ne=Ne<0?no(he+Ne,0):Us(Ne,he-1)),O===O?uu(A,O,Ne):is(A,ha,Ne,!0)}function lf(A,O){return A&&A.length?cp(A,Lt(O)):K}var gh=$a(pp);function pp(A,O){return A&&A.length&&O&&O.length?pd(A,O):A}function op(A,O,Y){return A&&A.length&&O&&O.length?pd(A,O,Vt(Y,2)):A}function _p(A,O,Y){return A&&A.length&&O&&O.length?pd(A,O,K,Y):A}var zd=Tt(function(A,O){var Y=A==null?0:A.length,he=Ju(A,O);return Lh(A,Ar(O,function(Ne){return ts(Ne,Y)?+Ne:Ne}).sort(Hm)),he});function yd(A,O){var Y=[];if(!(A&&A.length))return Y;var he=-1,Ne=[],Ze=A.length;for(O=Vt(O,3);++he<Ze;){var It=A[he];O(It,he,A)&&(Y.push(It),Ne.push(he))}return Lh(A,Ne),Y}function Jh(A){return A==null?A:tf.call(A)}function xd(A,O,Y){var he=A==null?0:A.length;return he?(Y&&typeof Y!="number"&&Ts(A,O,Y)?(O=0,Y=he):(O=O==null?0:Lt(O),Y=Y===K?he:Lt(Y)),dh(A,O,Y)):[]}function rs(A,O){return Bp(A,O)}function vs(A,O,Y){return zm(A,O,Vt(Y,2))}function Wl(A,O){var Y=A==null?0:A.length;if(Y){var he=Bp(A,O);if(he<Y&&rh(A[he],O))return he}return-1}function Cd(A,O){return Bp(A,O,!0)}function hc(A,O,Y){return zm(A,O,Vt(Y,2),!0)}function Dh(A,O){var Y=A==null?0:A.length;if(Y){var he=Bp(A,O,!0)-1;if(rh(A[he],O))return he}return-1}function Sm(A){return A&&A.length?vg(A):[]}function Mm(A,O){return A&&A.length?vg(A,Vt(O,2)):[]}function Bv(A){var O=A==null?0:A.length;return O?dh(A,1,O):[]}function kp(A,O,Y){return A&&A.length?(O=Y||O===K?1:Lt(O),dh(A,0,O<0?0:O)):[]}function Ip(A,O,Y){var he=A==null?0:A.length;return he?(O=Y||O===K?1:Lt(O),O=he-O,dh(A,O<0?0:O,he)):[]}function mp(A,O){return A&&A.length?rp(A,Vt(O,3),!1,!0):[]}function jv(A,O){return A&&A.length?rp(A,Vt(O,3)):[]}var Em=$a(function(A){return Df(Io(A,1,E,!0))}),Tm=$a(function(A){var O=Hc(A);return E(O)&&(O=K),Df(Io(A,1,E,!0),Vt(O,2))}),pv=$a(function(A){var O=Hc(A);return O=typeof O=="function"?O:K,Df(Io(A,1,E,!0),K,O)});function zv(A){return A&&A.length?Df(A):[]}function Wm(A,O){return A&&A.length?Df(A,Vt(O,2)):[]}function mv(A,O){return O=typeof O=="function"?O:K,A&&A.length?Df(A,K,O):[]}function Pp(A){if(!(A&&A.length))return[];var O=0;return A=yt(A,function(Y){if(E(Y))return O=no(Y.length,O),!0}),os(O,function(Y){return Ar(A,Xi(Y))})}function vv(A,O){if(!(A&&A.length))return[];var Y=Pp(A);return O==null?Y:Ar(Y,function(he){return ze(O,K,he)})}var gv=$a(function(A,O){return E(A)?Su(A,O):[]}),Uv=$a(function(A){return gm(yt(A,E))}),al=$a(function(A){var O=Hc(A);return E(O)&&(O=K),gm(yt(A,E),Vt(O,2))}),Il=$a(function(A){var O=Hc(A);return O=typeof O=="function"?O:K,gm(yt(A,E),K,O)}),Tc=$a(Pp);function _c(A,O){return ph(A||[],O||[],hu)}function am(A,O){return ph(A||[],O||[],jm)}var Qh=$a(function(A){var O=A.length,Y=O>1?A[O-1]:K;return Y=typeof Y=="function"?(A.pop(),Y):K,vv(A,Y)});function Gm(A){var O=Ve(A);return O.__chain__=!0,O}function sm(A,O){return O(A),A}function pl(A,O){return O(A)}var kv=Tt(function(A){var O=A.length,Y=O?A[0]:0,he=this.__wrapped__,Ne=function(Ze){return Ju(Ze,A)};return O>1||this.__actions__.length||!(he instanceof fi)||!ts(Y)?this.thru(Ne):(he=he.slice(Y,+Y+(O?1:0)),he.__actions__.push({func:pl,args:[Ne],thisArg:K}),new uc(he,this.__chain__).thru(function(Ze){return O&&!Ze.length&&Ze.push(K),Ze}))});function kg(){return Gm(this)}function Vc(){return new uc(this.value(),this.__chain__)}function Hg(){this.__values__===K&&(this.__values__=br(this.value()));var A=this.__index__>=this.__values__.length,O=A?K:this.__values__[this.__index__++];return{done:A,value:O}}function yv(){return this}function Vg(A){for(var O,Y=this;Y instanceof lc;){var he=ip(Y);he.__index__=0,he.__values__=K,O?Ne.__wrapped__=he:O=he;var Ne=he;Y=Y.__wrapped__}return Ne.__wrapped__=A,O}function Ud(){var A=this.__wrapped__;if(A instanceof fi){var O=A;return this.__actions__.length&&(O=new fi(this)),O=O.reverse(),O.__actions__.push({func:pl,args:[Jh],thisArg:K}),new uc(O,this.__chain__)}return this.thru(Jh)}function dy(){return tm(this.__wrapped__,this.__actions__)}var g0=fp(function(A,O,Y){Ds.call(A,Y)?++A[Y]:Vu(A,Y,1)});function xv(A,O,Y){var he=Pa(A)?Gt:$f;return Y&&Ts(A,O,Y)&&(O=K),he(A,Vt(O,3))}function Ge(A,O){var Y=Pa(A)?yt:Zi;return Y(A,Vt(O,3))}var Hv=Am(Al),_m=Am(Cu);function Wg(A,O){return Io(Gv(A,O),1)}function Ia(A,O){return Io(Gv(A,O),An)}function Vv(A,O,Y){return Y=Y===K?1:Lt(Y),Io(Gv(A,O),Y)}function Wv(A,O){var Y=Pa(A)?it:pu;return Y(A,Vt(O,3))}function Xe(A,O){var Y=Pa(A)?Qe:ch;return Y(A,Vt(O,3))}var y0=fp(function(A,O,Y){Ds.call(A,Y)?A[Y].push(O):Vu(A,Y,[O])});function gg(A,O,Y,he){A=S(A)?A:ia(A),Y=Y&&!he?Lt(Y):0;var Ne=A.length;return Y<0&&(Y=no(Ne+Y,0)),Fe(A)?Y<=Ne&&A.indexOf(O,Y)>-1:!!Ne&&Yi(A,O,Y)>-1}var Im=$a(function(A,O,Y){var he=-1,Ne=typeof O=="function",Ze=S(A)?Lr(A.length):[];return pu(A,function(It){Ze[++he]=Ne?ze(O,It,Y):Ru(It,O,Y)}),Ze}),x0=fp(function(A,O,Y){Vu(A,Y,O)});function Gv(A,O){var Y=Pa(A)?Ar:Rh;return Y(A,Vt(O,3))}function Gg(A,O,Y,he){return A==null?[]:(Pa(O)||(O=O==null?[]:[O]),Y=he?K:Y,Pa(Y)||(Y=Y==null?[]:[Y]),Jp(A,O,Y))}var lm=fp(function(A,O,Y){A[Y?0:1].push(O)},function(){return[[],[]]});function yg(A,O,Y){var he=Pa(A)?bi:Qa,Ne=arguments.length<3;return he(A,Vt(O,4),Y,Ne,pu)}function C0(A,O,Y){var he=Pa(A)?nn:Qa,Ne=arguments.length<3;return he(A,Vt(O,4),Y,Ne,ch)}function Ic(A,O){var Y=Pa(A)?yt:Zi;return Y(A,yh(Vt(O,3)))}function A0(A){var O=Pa(A)?Zs:ov;return O(A)}function xg(A,O,Y){(Y?Ts(A,O,Y):O===K)?O=1:O=Lt(O);var he=Pa(A)?_a:vm;return he(A,O)}function Pl(A){var O=Pa(A)?ku:av;return O(A)}function py(A){if(A==null)return 0;if(S(A))return Fe(A)?Ks(A):A.length;var O=zr(A);return O==an||O==Tn?A.size:Qs(A).length}function my(A,O,Y){var he=Pa(A)?Ti:sv;return Y&&Ts(A,O,Y)&&(O=K),he(A,Vt(O,3))}var qh=$a(function(A,O){if(A==null)return[];var Y=O.length;return Y>1&&Ts(A,O[0],O[1])?O=[]:Y>2&&Ts(O[0],O[1],O[2])&&(O=[O[0]]),Jp(A,Io(O,1),[])}),Cg=Id||function(){return Ni.Date.now()};function Wc(A,O){if(typeof O!="function")throw new pa(We);return A=Lt(A),function(){if(--A<1)return O.apply(this,arguments)}}function w0(A,O,Y){return O=Y?K:O,O=A&&O==null?A.length:O,pe(A,et,K,K,K,K,O)}function dc(A,O){var Y;if(typeof O!="function")throw new pa(We);return A=Lt(A),function(){return--A>0&&(Y=O.apply(this,arguments)),A<=1&&(O=K),Y}}var vp=$a(function(A,O,Y){var he=zt;if(Y.length){var Ne=ja(Y,$t(vp));he|=Et}return pe(A,he,O,Y,Ne)}),gp=$a(function(A,O,Y){var he=zt|nr;if(Y.length){var Ne=ja(Y,$t(gp));he|=Et}return pe(O,he,A,Y,Ne)});function wf(A,O,Y){O=Y?K:O;var he=pe(A,Vr,K,K,K,K,K,O);return he.placeholder=wf.placeholder,he}function Op(A,O,Y){O=Y?K:O;var he=pe(A,$e,K,K,K,K,K,O);return he.placeholder=Op.placeholder,he}function $h(A,O,Y){var he,Ne,Ze,It,Rt,or,Hn=0,xn=!1,ti=!1,qi=!0;if(typeof A!="function")throw new pa(We);O=kn(O)||0,C(Y)&&(xn=!!Y.leading,ti="maxWait"in Y,Ze=ti?no(kn(Y.maxWait)||0,O):Ze,qi="trailing"in Y?!!Y.trailing:qi);function Yo(Lu){var Ah=he,Ap=Ne;return he=Ne=K,Hn=Lu,It=A.apply(Ap,Ah),It}function Si(Lu){return Hn=Lu,Rt=xu(to,O),xn?Yo(Lu):It}function Fn(Lu){var Ah=Lu-or,Ap=Lu-Hn,wh=O-Ah;return ti?Us(wh,Ze-Ap):wh}function ri(Lu){var Ah=Lu-or,Ap=Lu-Hn;return or===K||Ah>=O||Ah<0||ti&&Ap>=Ze}function to(){var Lu=Cg();if(ri(Lu))return Ma(Lu);Rt=xu(to,Fn(Lu))}function Ma(Lu){return Rt=K,qi&&he?Yo(Lu):(he=Ne=K,It)}function Ch(){Rt!==K&&Nv(Rt),Hn=0,he=or=Ne=Rt=K}function ff(){return Rt===K?It:Ma(Cg())}function Oc(){var Lu=Cg(),Ah=ri(Lu);if(he=arguments,Ne=this,or=Lu,Ah){if(Rt===K)return Si(or);if(ti)return Nv(Rt),Rt=xu(to,O),Yo(or)}return Rt===K&&(Rt=xu(to,O)),It}return Oc.cancel=Ch,Oc.flush=ff,Oc}var Yg=$a(function(A,O){return xf(A,1,O)}),vy=$a(function(A,O,Y){return xf(A,kn(O)||0,Y)});function Ym(A){return pe(A,Zt)}function Yv(A,O){if(typeof A!="function"||O!=null&&typeof O!="function")throw new pa(We);var Y=function(){var he=arguments,Ne=O?O.apply(this,he):he[0],Ze=Y.cache;if(Ze.has(Ne))return Ze.get(Ne);var It=A.apply(this,he);return Y.cache=Ze.set(Ne,It)||Ze,It};return Y.cache=new(Yv.Cache||Se),Y}Yv.Cache=Se;function yh(A){if(typeof A!="function")throw new pa(We);return function(){var O=arguments;switch(O.length){case 0:return!A.call(this);case 1:return!A.call(this,O[0]);case 2:return!A.call(this,O[0],O[1]);case 3:return!A.call(this,O[0],O[1],O[2])}return!A.apply(this,O)}}function gy(A){return dc(2,A)}var Xg=ym(function(A,O){O=O.length==1&&Pa(O[0])?Ar(O[0],Lo(Vt())):Ar(Io(O,1),Lo(Vt()));var Y=O.length;return $a(function(he){for(var Ne=-1,Ze=Us(he.length,Y);++Ne<Ze;)he[Ne]=O[Ne].call(this,he[Ne]);return ze(A,this,he)})}),Pm=$a(function(A,O){var Y=ja(O,$t(Pm));return pe(A,Et,K,O,Y)}),Xm=$a(function(A,O){var Y=ja(O,$t(Xm));return pe(A,Xt,K,O,Y)}),um=Tt(function(A,O){return pe(A,bt,K,K,K,O)});function Ag(A,O){if(typeof A!="function")throw new pa(We);return O=O===K?O:Lt(O),$a(A,O)}function b0(A,O){if(typeof A!="function")throw new pa(We);return O=O==null?0:no(Lt(O),0),$a(function(Y){var he=Y[O],Ne=Nd(Y,0,O);return he&&sn(Ne,he),ze(A,this,Ne)})}function S0(A,O,Y){var he=!0,Ne=!0;if(typeof A!="function")throw new pa(We);return C(Y)&&(he="leading"in Y?!!Y.leading:he,Ne="trailing"in Y?!!Y.trailing:Ne),$h(A,O,{leading:he,maxWait:O,trailing:Ne})}function Xv(A){return w0(A,1)}function yy(A,O){return Pm(uv(O),A)}function Cv(){if(!arguments.length)return[];var A=arguments[0];return Pa(A)?A:[A]}function xy(A){return Zl(A,st)}function wg(A,O){return O=typeof O=="function"?O:K,Zl(A,st,O)}function Ad(A){return Zl(A,Re|st)}function Ol(A,O){return O=typeof O=="function"?O:K,Zl(A,Re|st,O)}function M0(A,O){return O==null||du(A,O,Ui(O))}function rh(A,O){return A===O||A!==A&&O!==O}var Av=ee(cc),Kg=ee(function(A,O){return A>=O}),yp=sp(function(){return arguments}())?sp:function(A){return P(A)&&Ds.call(A,"callee")&&!bc.call(A,"callee")},Pa=Lr.isArray,wv=Qd?Lo(Qd):Zp;function S(A){return A!=null&&m(A.length)&&!h(A)}function E(A){return P(A)&&S(A)}function R(A){return A===!0||A===!1||P(A)&&Do(A)==Kr}var N=Zf||tg,q=sd?Lo(sd):fh;function ie(A){return P(A)&&A.nodeType===1&&!V(A)}function d(A){if(A==null)return!0;if(S(A)&&(Pa(A)||typeof A=="string"||typeof A.splice=="function"||N(A)||tt(A)||yp(A)))return!A.length;var O=zr(A);if(O==an||O==Tn)return!A.size;if(rl(A))return!Qs(A).length;for(var Y in A)if(Ds.call(A,Y))return!1;return!0}function n(A,O){return of(A,O)}function l(A,O,Y){Y=typeof Y=="function"?Y:K;var he=Y?Y(A,O):K;return he===K?of(A,O,K,Y):!!he}function a(A){if(!P(A))return!1;var O=Do(A);return O==So||O==Nn||typeof A.message=="string"&&typeof A.name=="string"&&!V(A)}function f(A){return typeof A=="number"&&tp(A)}function h(A){if(!C(A))return!1;var O=Do(A);return O==Wo||O==Un||O==Gn||O==dn}function y(A){return typeof A=="number"&&A==Lt(A)}function m(A){return typeof A=="number"&&A>-1&&A%1==0&&A<=rn}function C(A){var O=typeof A;return A!=null&&(O=="object"||O=="function")}function P(A){return A!=null&&typeof A=="object"}var B=ah?Lo(ah):eh;function M(A,O){return A===O||Uc(A,O,Bn(O))}function T(A,O,Y){return Y=typeof Y=="function"?Y:K,Uc(A,O,Bn(O),Y)}function L(A){return J(A)&&A!=+A}function z(A){if(qs(A))throw new Mo(Pe);return th(A)}function H(A){return A===null}function Z(A){return A==null}function J(A){return typeof A=="number"||P(A)&&Do(A)==In}function V(A){if(!P(A)||Do(A)!=Xn)return!1;var O=gc(A);if(O===null)return!0;var Y=Ds.call(O,"constructor")&&O.constructor;return typeof Y=="function"&&Y instanceof Y&&Gf.call(Y)==Kf}var ne=qd?Lo(qd):Js;function Ce(A){return y(A)&&A>=-rn&&A<=rn}var _e=_h?Lo(_h):vu;function Fe(A){return typeof A=="string"||!Pa(A)&&P(A)&&Do(A)==kr}function Ue(A){return typeof A=="symbol"||P(A)&&Do(A)==ei}var tt=us?Lo(us):Kn;function He(A){return A===K}function kt(A){return P(A)&&zr(A)==Di}function Wt(A){return P(A)&&Do(A)==ui}var Dr=ee(Ld),qr=ee(function(A,O){return A<=O});function br(A){if(!A)return[];if(S(A))return Fe(A)?fs(A):mh(A);if(_d&&A[_d])return Yu(A[_d]());var O=zr(A),Y=O==an?Bu:O==Tn?lu:ia;return Y(A)}function On(A){if(!A)return A===0?A:0;if(A=kn(A),A===An||A===-An){var O=A<0?-1:1;return O*fr}return A===A?A:0}function Lt(A){var O=On(A),Y=O%1;return O===O?Y?O-Y:O:0}function xr(A){return A?yc(Lt(A),0,Wr):0}function kn(A){if(typeof A=="number")return A;if(Ue(A))return _r;if(C(A)){var O=typeof A.valueOf=="function"?A.valueOf():A;A=C(O)?O+"":O}if(typeof A!="string")return A===0?A:+A;A=oa(A);var Y=yn.test(A);return Y||mi.test(A)?gf(A.slice(2),Y?2:8):tn.test(A)?_r:+A}function Yn(A){return np(A,sl(A))}function ci(A){return A?yc(Lt(A),-rn,rn):A===0?A:0}function Rn(A){return A==null?"":Cf(A)}var Ps=zp(function(A,O){if(rl(O)||S(O)){np(O,Ui(O),A);return}for(var Y in O)Ds.call(O,Y)&&hu(A,Y,O[Y])}),Qi=zp(function(A,O){np(O,sl(O),A)}),Ga=zp(function(A,O,Y,he){np(O,sl(O),A,he)}),wl=zp(function(A,O,Y,he){np(O,Ui(O),A,he)}),za=Tt(Ju);function qu(A,O){var Y=Bc(A);return O==null?Y:Rf(Y,O)}var $u=$a(function(A,O){A=Go(A);var Y=-1,he=O.length,Ne=he>2?O[2]:K;for(Ne&&Ts(O[0],O[1],Ne)&&(he=1);++Y<he;)for(var Ze=O[Y],It=sl(Ze),Rt=-1,or=It.length;++Rt<or;){var Hn=It[Rt],xn=A[Hn];(xn===K||rh(xn,ef[Hn])&&!Ds.call(A,Hn))&&(A[Hn]=Ze[Hn])}return A}),ru=$a(function(A){return A.push(K,Te),ze(jf,K,A)});function Au(A,O){return co(A,Vt(O,3),hs)}function Bf(A,O){return co(A,Vt(O,3),mu)}function xc(A,O){return A==null?A:_i(A,Vt(O,3),sl)}function wd(A,O){return A==null?A:Co(A,Vt(O,3),sl)}function Cc(A,O){return A&&hs(A,Vt(O,3))}function bf(A,O){return A&&mu(A,Vt(O,3))}function kd(A){return A==null?[]:ks(A,Ui(A))}function Sf(A){return A==null?[]:ks(A,sl(A))}function Hd(A,O,Y){var he=A==null?K:Pu(A,O);return he===K?Y:he}function Pc(A,O){return A!=null&&mo(A,O,hl)}function Mu(A,O){return A!=null&&mo(A,O,dl)}var Mf=Up(function(A,O,Y){O!=null&&typeof O.toString!="function"&&(O=vc.call(O)),A[O]=Y},O0(Gd)),Nh=Up(function(A,O,Y){O!=null&&typeof O.toString!="function"&&(O=vc.call(O)),Ds.call(A,O)?A[O].push(Y):A[O]=[Y]},Vt),Gs=$a(Ru);function Ui(A){return S(A)?fu(A):Qs(A)}function sl(A){return S(A)?fu(A,!0):hh(A)}function Vd(A,O){var Y={};return O=Vt(O,3),hs(A,function(he,Ne,Ze){Vu(Y,O(he,Ne,Ze),he)}),Y}function Wd(A,O){var Y={};return O=Vt(O,3),hs(A,function(he,Ne,Ze){Vu(Y,Ne,O(he,Ne,Ze))}),Y}var Sa=zp(function(A,O,Y){Sc(A,O,Y)}),jf=zp(function(A,O,Y,he){Sc(A,O,Y,he)}),uf=Tt(function(A,O){var Y={};if(A==null)return Y;var he=!1;O=Ar(O,function(Ze){return Ze=Ep(Ze,A),he||(he=Ze.length>1),Ze}),np(A,sr(A),Y),he&&(Y=Zl(Y,Re|mt|st,Be));for(var Ne=O.length;Ne--;)af(Y,O[Ne]);return Y});function bl(A,O){return zf(A,yh(Vt(O)))}var xh=Tt(function(A,O){return A==null?{}:Gh(A,O)});function zf(A,O){if(A==null)return{};var Y=Ar(sr(A),function(he){return[he]});return O=Vt(O),Qp(A,Y,function(he,Ne){return O(he,Ne[0])})}function ns(A,O,Y){O=Ep(O,A);var he=-1,Ne=O.length;for(Ne||(Ne=1,A=K);++he<Ne;){var Ze=A==null?K:A[el(O[he])];Ze===K&&(he=Ne,Ze=Y),A=h(Ze)?Ze.call(A):Ze}return A}function nh(A,O,Y){return A==null?A:jm(A,O,Y)}function bd(A,O,Y,he){return he=typeof he=="function"?he:K,A==null?A:jm(A,O,Y,he)}var xp=Q(Ui),bv=Q(sl);function Hp(A,O,Y){var he=Pa(A),Ne=he||N(A)||tt(A);if(O=Vt(O,4),Y==null){var Ze=A&&A.constructor;Ne?Y=he?new Ze:[]:C(A)?Y=h(Ze)?Bc(gc(A)):{}:Y={}}return(Ne?it:hs)(A,function(It,Rt,or){return O(Y,It,Rt,or)}),Y}function Sd(A,O){return A==null?!0:af(A,O)}function Om(A,O,Y){return A==null?A:em(A,O,uv(Y))}function Gc(A,O,Y,he){return he=typeof he=="function"?he:K,A==null?A:em(A,O,uv(Y),he)}function ia(A){return A==null?[]:wa(A,Ui(A))}function la(A){return A==null?[]:wa(A,sl(A))}function ml(A,O,Y){return Y===K&&(Y=O,O=K),Y!==K&&(Y=kn(Y),Y=Y===Y?Y:0),O!==K&&(O=kn(O),O=O===O?O:0),yc(kn(A),O,Y)}function Fh(A,O,Y){return O=On(O),Y===K?(Y=O,O=0):Y=On(Y),A=kn(A),Ms(A,O,Y)}function Rm(A,O,Y){if(Y&&typeof Y!="boolean"&&Ts(A,O,Y)&&(O=Y=K),Y===K&&(typeof O=="boolean"?(Y=O,O=K):typeof A=="boolean"&&(Y=A,A=K)),A===K&&O===K?(A=0,O=1):(A=On(A),O===K?(O=A,A=0):O=On(O)),A>O){var he=A;A=O,O=he}if(Y||A%1||O%1){var Ne=Ph();return Us(A+Ne*(O-A+vf("1e-"+((Ne+"").length-1))),O)}return md(A,O)}var ap=es(function(A,O,Y){return O=O.toLowerCase(),A+(Y?Km(O):O)});function Km(A){return Sg(Rn(A).toLowerCase())}function cf(A){return A=Rn(A),A&&A.replace(Ji,ta).replace(zh,"")}function Kv(A,O,Y){A=Rn(A),O=Cf(O);var he=A.length;Y=Y===K?he:yc(Lt(Y),0,he);var Ne=Y;return Y-=O.length,Y>=0&&A.slice(Y,Ne)==O}function Lm(A){return A=Rn(A),A&&Mt.test(A)?A.replace(Pi,Ka):A}function bg(A){return A=Rn(A),A&&_n.test(A)?A.replace(Vn,"\\$&"):A}var Vp=es(function(A,O,Y){return A+(Y?"-":"")+O.toLowerCase()}),Uf=es(function(A,O,Y){return A+(Y?" ":"")+O.toLowerCase()}),cm=Cm("toLowerCase");function Ef(A,O,Y){A=Rn(A),O=Lt(O);var he=O?Ks(A):0;if(!O||he>=O)return A;var Ne=(O-he)/2;return Tp(Vo(Ne),Y)+A+Tp(ep(Ne),Y)}function Ys(A,O,Y){A=Rn(A),O=Lt(O);var he=O?Ks(A):0;return O&&he<O?A+Tp(O-he,Y):A}function Cp(A,O,Y){A=Rn(A),O=Lt(O);var he=O?Ks(A):0;return O&&he<O?Tp(O-he,Y)+A:A}function Zm(A,O,Y){return Y||O==null?O=0:O&&(O=+O),Np(Rn(A).replace(vo,""),O||0)}function E0(A,O,Y){return(Y?Ts(A,O,Y):O===K)?O=1:O=Lt(O),Fp(Rn(A),O)}function T0(){var A=arguments,O=Rn(A[0]);return A.length<3?O:O.replace(A[1],A[2])}var Zv=es(function(A,O,Y){return A+(Y?"_":"")+O.toLowerCase()});function fm(A,O,Y){return Y&&typeof Y!="number"&&Ts(A,O,Y)&&(O=Y=K),Y=Y===K?Wr:Y>>>0,Y?(A=Rn(A),A&&(typeof O=="string"||O!=null&&!ne(O))&&(O=Cf(O),!O&&Uo(A))?Nd(fs(A),0,Y):A.split(O,Y)):[]}var Sv=es(function(A,O,Y){return A+(Y?" ":"")+Sg(O)});function Jm(A,O,Y){return A=Rn(A),Y=Y==null?0:yc(Lt(Y),0,A.length),O=Cf(O),A.slice(Y,Y+O.length)==O}function _0(A,O,Y){var he=Ve.templateSettings;Y&&Ts(A,O,Y)&&(O=K),A=Rn(A),O=Ga({},O,he,ye);var Ne=Ga({},O.imports,he.imports,ye),Ze=Ui(Ne),It=wa(Ne,Ze),Rt,or,Hn=0,xn=O.interpolate||Hi,ti="__p += '",qi=Fi((O.escape||Hi).source+"|"+xn.source+"|"+(xn===ar?bn:Hi).source+"|"+(O.evaluate||Hi).source+"|$","g"),Yo="//# sourceURL="+(Ds.call(O,"sourceURL")?(O.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++oh+"]")+`
`;A.replace(qi,function(ri,to,Ma,Ch,ff,Oc){return Ma||(Ma=Ch),ti+=A.slice(Hn,Oc).replace(eo,Za),to&&(Rt=!0,ti+=`' +
__e(`+to+`) +
'`),ff&&(or=!0,ti+=`';
`+ff+`;
__p += '`),Ma&&(ti+=`' +
((__t = (`+Ma+`)) == null ? '' : __t) +
'`),Hn=Oc+ri.length,ri}),ti+=`';
`;var Si=Ds.call(O,"variable")&&O.variable;if(!Si)ti=`with (obj) {
`+ti+`
}
`;else if(Dt.test(Si))throw new Mo(we);ti=(or?ti.replace(ou,""):ti).replace(ea,"$1").replace(Eu,"$1;"),ti="function("+(Si||"obj")+`) {
`+(Si?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Rt?", __e = _.escape":"")+(or?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ti+`return __p
}`;var Fn=Rl(function(){return Ta(Ze,Yo+"return "+ti).apply(K,It)});if(Fn.source=ti,a(Fn))throw Fn;return Fn}function s1(A){return Rn(A).toLowerCase()}function Dm(A){return Rn(A).toUpperCase()}function I0(A,O,Y){if(A=Rn(A),A&&(Y||O===K))return oa(A);if(!A||!(O=Cf(O)))return A;var he=fs(A),Ne=fs(O),Ze=ho(he,Ne),It=qa(he,Ne)+1;return Nd(he,Ze,It).join("")}function Jv(A,O,Y){if(A=Rn(A),A&&(Y||O===K))return A.slice(0,ju(A)+1);if(!A||!(O=Cf(O)))return A;var he=fs(A),Ne=qa(he,fs(O))+1;return Nd(he,0,Ne).join("")}function px(A,O,Y){if(A=Rn(A),A&&(Y||O===K))return A.replace(vo,"");if(!A||!(O=Cf(O)))return A;var he=fs(A),Ne=ho(he,fs(O));return Nd(he,Ne).join("")}function P0(A,O){var Y=qe,he=Ie;if(C(O)){var Ne="separator"in O?O.separator:Ne;Y="length"in O?Lt(O.length):Y,he="omission"in O?Cf(O.omission):he}A=Rn(A);var Ze=A.length;if(Uo(A)){var It=fs(A);Ze=It.length}if(Y>=Ze)return A;var Rt=Y-Ks(he);if(Rt<1)return he;var or=It?Nd(It,0,Rt).join(""):A.slice(0,Rt);if(Ne===K)return or+he;if(It&&(Rt+=or.length-Rt),ne(Ne)){if(A.slice(Rt).search(Ne)){var Hn,xn=or;for(Ne.global||(Ne=Fi(Ne.source,Rn(jr.exec(Ne))+"g")),Ne.lastIndex=0;Hn=Ne.exec(xn);)var ti=Hn.index;or=or.slice(0,ti===K?Rt:ti)}}else if(A.indexOf(Cf(Ne),Rt)!=Rt){var qi=or.lastIndexOf(Ne);qi>-1&&(or=or.slice(0,qi))}return or+he}function Mv(A){return A=Rn(A),A&&hi.test(A)?A.replace(wi,$l):A}var Qm=es(function(A,O,Y){return A+(Y?" ":"")+O.toUpperCase()}),Sg=Cm("toUpperCase");function so(A,O,Y){return A=Rn(A),O=Y?K:O,O===K?nc(A)?zu(A):ca(A):A.match(O)||[]}var Rl=$a(function(A,O){try{return ze(A,K,O)}catch(Y){return a(Y)?Y:new Mo(Y)}}),hm=Tt(function(A,O){return it(O,function(Y){Y=el(Y),Vu(A,Y,vp(A[Y],A))}),A});function Zg(A){var O=A==null?0:A.length,Y=Vt();return A=O?Ar(A,function(he){if(typeof he[1]!="function")throw new pa(We);return[Y(he[0]),he[1]]}):[],$a(function(he){for(var Ne=-1;++Ne<O;){var Ze=A[Ne];if(ze(Ze[0],this,he))return ze(Ze[1],this,he)}})}function l1(A){return nf(Zl(A,Re))}function O0(A){return function(){return A}}function u1(A,O){return A==null||A!==A?O:A}var R0=gu(),Jg=gu(!0);function Gd(A){return A}function Qg(A){return lp(typeof A=="function"?A:Zl(A,Re))}function c1(A){return up(Zl(A,Re))}function L0(A,O){return Dd(A,Zl(O,Re))}var mx=$a(function(A,O){return function(Y){return Ru(Y,A,O)}}),D0=$a(function(A,O){return function(Y){return Ru(A,Y,O)}});function N0(A,O,Y){var he=Ui(O),Ne=ks(O,he);Y==null&&!(C(O)&&(Ne.length||!he.length))&&(Y=O,O=A,A=this,Ne=ks(O,Ui(O)));var Ze=!(C(Y)&&"chain"in Y)||!!Y.chain,It=h(A);return it(Ne,function(Rt){var or=O[Rt];A[Rt]=or,It&&(A.prototype[Rt]=function(){var Hn=this.__chain__;if(Ze||Hn){var xn=A(this.__wrapped__),ti=xn.__actions__=mh(this.__actions__);return ti.push({func:or,args:arguments,thisArg:A}),xn.__chain__=Hn,xn}return or.apply(A,sn([this.value()],arguments))})}),A}function Cy(){return Ni._===this&&(Ni._=sh),this}function Ev(){}function Tv(A){return A=Lt(A),$a(function(O){return cp(O,A)})}var Mg=bm(Ar),Qv=bm(Gt),qv=bm(Ti);function $v(A){return ys(A)?Xi(el(A)):Es(A)}function _v(A){return function(O){return A==null?K:Pu(A,O)}}var qg=Ug(),F0=Ug(!0);function eg(){return[]}function tg(){return!1}function Eg(){return{}}function f1(){return""}function Ay(){return!0}function wy(A,O){if(A=Lt(A),A<1||A>rn)return[];var Y=Wr,he=Us(A,Wr);O=Vt(O),A-=Wr;for(var Ne=os(he,O);++Y<A;)O(Y);return Ne}function B0(A){return Pa(A)?Ar(A,el):Ue(A)?[A]:mh($s(Rn(A)))}function by(A){var O=++Yf;return Rn(A)+O}var h1=wm(function(A,O){return A+O},0),d1=fe("ceil"),Sy=wm(function(A,O){return A/O},1),My=fe("floor");function j0(A){return A&&A.length?To(A,Gd,cc):K}function Tg(A,O){return A&&A.length?To(A,Vt(O,2),cc):K}function p1(A){return Da(A,Gd)}function Ey(A,O){return Da(A,Vt(O,2))}function Ty(A){return A&&A.length?To(A,Gd,Ld):K}function $g(A,O){return A&&A.length?To(A,Vt(O,2),Ld):K}var z0=wm(function(A,O){return A*O},1),U0=fe("round"),k0=wm(function(A,O){return A-O},0);function m1(A){return A&&A.length?ws(A,Gd):0}function _y(A,O){return A&&A.length?ws(A,Vt(O,2)):0}return Ve.after=Wc,Ve.ary=w0,Ve.assign=Ps,Ve.assignIn=Qi,Ve.assignInWith=Ga,Ve.assignWith=wl,Ve.at=za,Ve.before=dc,Ve.bind=vp,Ve.bindAll=hm,Ve.bindKey=gp,Ve.castArray=Cv,Ve.chain=Gm,Ve.chunk=Cl,Ve.compact=Nf,Ve.concat=Ff,Ve.cond=Zg,Ve.conforms=l1,Ve.constant=O0,Ve.countBy=g0,Ve.create=qu,Ve.curry=wf,Ve.curryRight=Op,Ve.debounce=$h,Ve.defaults=$u,Ve.defaultsDeep=ru,Ve.defer=Yg,Ve.delay=vy,Ve.difference=gd,Ve.differenceBy=sf,Ve.differenceWith=fc,Ve.drop=hp,Ve.dropRight=Bs,Ve.dropRightWhile=Hl,Ve.dropWhile=Vl,Ve.fill=Ws,Ve.filter=Ge,Ve.flatMap=Wg,Ve.flatMapDeep=Ia,Ve.flatMapDepth=Vv,Ve.flatten=_l,Ve.flattenDeep=tu,Ve.flattenDepth=ol,Ve.flip=Ym,Ve.flow=R0,Ve.flowRight=Jg,Ve.fromPairs=kc,Ve.functions=kd,Ve.functionsIn=Sf,Ve.groupBy=y0,Ve.initial=jd,Ve.intersection=Xh,Ve.intersectionBy=vh,Ve.intersectionWith=Ec,Ve.invert=Mf,Ve.invertBy=Nh,Ve.invokeMap=Im,Ve.iteratee=Qg,Ve.keyBy=x0,Ve.keys=Ui,Ve.keysIn=sl,Ve.map=Gv,Ve.mapKeys=Vd,Ve.mapValues=Wd,Ve.matches=c1,Ve.matchesProperty=L0,Ve.memoize=Yv,Ve.merge=Sa,Ve.mergeWith=jf,Ve.method=mx,Ve.methodOf=D0,Ve.mixin=N0,Ve.negate=yh,Ve.nthArg=Tv,Ve.omit=uf,Ve.omitBy=bl,Ve.once=gy,Ve.orderBy=Gg,Ve.over=Mg,Ve.overArgs=Xg,Ve.overEvery=Qv,Ve.overSome=qv,Ve.partial=Pm,Ve.partialRight=Xm,Ve.partition=lm,Ve.pick=xh,Ve.pickBy=zf,Ve.property=$v,Ve.propertyOf=_v,Ve.pull=gh,Ve.pullAll=pp,Ve.pullAllBy=op,Ve.pullAllWith=_p,Ve.pullAt=zd,Ve.range=qg,Ve.rangeRight=F0,Ve.rearg=um,Ve.reject=Ic,Ve.remove=yd,Ve.rest=Ag,Ve.reverse=Jh,Ve.sampleSize=xg,Ve.set=nh,Ve.setWith=bd,Ve.shuffle=Pl,Ve.slice=xd,Ve.sortBy=qh,Ve.sortedUniq=Sm,Ve.sortedUniqBy=Mm,Ve.split=fm,Ve.spread=b0,Ve.tail=Bv,Ve.take=kp,Ve.takeRight=Ip,Ve.takeRightWhile=mp,Ve.takeWhile=jv,Ve.tap=sm,Ve.throttle=S0,Ve.thru=pl,Ve.toArray=br,Ve.toPairs=xp,Ve.toPairsIn=bv,Ve.toPath=B0,Ve.toPlainObject=Yn,Ve.transform=Hp,Ve.unary=Xv,Ve.union=Em,Ve.unionBy=Tm,Ve.unionWith=pv,Ve.uniq=zv,Ve.uniqBy=Wm,Ve.uniqWith=mv,Ve.unset=Sd,Ve.unzip=Pp,Ve.unzipWith=vv,Ve.update=Om,Ve.updateWith=Gc,Ve.values=ia,Ve.valuesIn=la,Ve.without=gv,Ve.words=so,Ve.wrap=yy,Ve.xor=Uv,Ve.xorBy=al,Ve.xorWith=Il,Ve.zip=Tc,Ve.zipObject=_c,Ve.zipObjectDeep=am,Ve.zipWith=Qh,Ve.entries=xp,Ve.entriesIn=bv,Ve.extend=Qi,Ve.extendWith=Ga,N0(Ve,Ve),Ve.add=h1,Ve.attempt=Rl,Ve.camelCase=ap,Ve.capitalize=Km,Ve.ceil=d1,Ve.clamp=ml,Ve.clone=xy,Ve.cloneDeep=Ad,Ve.cloneDeepWith=Ol,Ve.cloneWith=wg,Ve.conformsTo=M0,Ve.deburr=cf,Ve.defaultTo=u1,Ve.divide=Sy,Ve.endsWith=Kv,Ve.eq=rh,Ve.escape=Lm,Ve.escapeRegExp=bg,Ve.every=xv,Ve.find=Hv,Ve.findIndex=Al,Ve.findKey=Au,Ve.findLast=_m,Ve.findLastIndex=Cu,Ve.findLastKey=Bf,Ve.floor=My,Ve.forEach=Wv,Ve.forEachRight=Xe,Ve.forIn=xc,Ve.forInRight=wd,Ve.forOwn=Cc,Ve.forOwnRight=bf,Ve.get=Hd,Ve.gt=Av,Ve.gte=Kg,Ve.has=Pc,Ve.hasIn=Mu,Ve.head=Yh,Ve.identity=Gd,Ve.includes=gg,Ve.indexOf=dp,Ve.inRange=Fh,Ve.invoke=Gs,Ve.isArguments=yp,Ve.isArray=Pa,Ve.isArrayBuffer=wv,Ve.isArrayLike=S,Ve.isArrayLikeObject=E,Ve.isBoolean=R,Ve.isBuffer=N,Ve.isDate=q,Ve.isElement=ie,Ve.isEmpty=d,Ve.isEqual=n,Ve.isEqualWith=l,Ve.isError=a,Ve.isFinite=f,Ve.isFunction=h,Ve.isInteger=y,Ve.isLength=m,Ve.isMap=B,Ve.isMatch=M,Ve.isMatchWith=T,Ve.isNaN=L,Ve.isNative=z,Ve.isNil=Z,Ve.isNull=H,Ve.isNumber=J,Ve.isObject=C,Ve.isObjectLike=P,Ve.isPlainObject=V,Ve.isRegExp=ne,Ve.isSafeInteger=Ce,Ve.isSet=_e,Ve.isString=Fe,Ve.isSymbol=Ue,Ve.isTypedArray=tt,Ve.isUndefined=He,Ve.isWeakMap=kt,Ve.isWeakSet=Wt,Ve.join=Kh,Ve.kebabCase=Vp,Ve.last=Hc,Ve.lastIndexOf=Zh,Ve.lowerCase=Uf,Ve.lowerFirst=cm,Ve.lt=Dr,Ve.lte=qr,Ve.max=j0,Ve.maxBy=Tg,Ve.mean=p1,Ve.meanBy=Ey,Ve.min=Ty,Ve.minBy=$g,Ve.stubArray=eg,Ve.stubFalse=tg,Ve.stubObject=Eg,Ve.stubString=f1,Ve.stubTrue=Ay,Ve.multiply=z0,Ve.nth=lf,Ve.noConflict=Cy,Ve.noop=Ev,Ve.now=Cg,Ve.pad=Ef,Ve.padEnd=Ys,Ve.padStart=Cp,Ve.parseInt=Zm,Ve.random=Rm,Ve.reduce=yg,Ve.reduceRight=C0,Ve.repeat=E0,Ve.replace=T0,Ve.result=ns,Ve.round=U0,Ve.runInContext=Yt,Ve.sample=A0,Ve.size=py,Ve.snakeCase=Zv,Ve.some=my,Ve.sortedIndex=rs,Ve.sortedIndexBy=vs,Ve.sortedIndexOf=Wl,Ve.sortedLastIndex=Cd,Ve.sortedLastIndexBy=hc,Ve.sortedLastIndexOf=Dh,Ve.startCase=Sv,Ve.startsWith=Jm,Ve.subtract=k0,Ve.sum=m1,Ve.sumBy=_y,Ve.template=_0,Ve.times=wy,Ve.toFinite=On,Ve.toInteger=Lt,Ve.toLength=xr,Ve.toLower=s1,Ve.toNumber=kn,Ve.toSafeInteger=ci,Ve.toString=Rn,Ve.toUpper=Dm,Ve.trim=I0,Ve.trimEnd=Jv,Ve.trimStart=px,Ve.truncate=P0,Ve.unescape=Mv,Ve.uniqueId=by,Ve.upperCase=Qm,Ve.upperFirst=Sg,Ve.each=Wv,Ve.eachRight=Xe,Ve.first=Yh,N0(Ve,function(){var A={};return hs(Ve,function(O,Y){Ds.call(Ve.prototype,Y)||(A[Y]=O)}),A}(),{chain:!1}),Ve.VERSION=Ae,it(["bind","bindKey","curry","curryRight","partial","partialRight"],function(A){Ve[A].placeholder=Ve}),it(["drop","take"],function(A,O){fi.prototype[A]=function(Y){Y=Y===K?1:no(Lt(Y),0);var he=this.__filtered__&&!O?new fi(this):this.clone();return he.__filtered__?he.__takeCount__=Us(Y,he.__takeCount__):he.__views__.push({size:Us(Y,Wr),type:A+(he.__dir__<0?"Right":"")}),he},fi.prototype[A+"Right"]=function(Y){return this.reverse()[A](Y).reverse()}}),it(["filter","map","takeWhile"],function(A,O){var Y=O+1,he=Y==Cn||Y==$r;fi.prototype[A]=function(Ne){var Ze=this.clone();return Ze.__iteratees__.push({iteratee:Vt(Ne,3),type:Y}),Ze.__filtered__=Ze.__filtered__||he,Ze}}),it(["head","last"],function(A,O){var Y="take"+(O?"Right":"");fi.prototype[A]=function(){return this[Y](1).value()[0]}}),it(["initial","tail"],function(A,O){var Y="drop"+(O?"":"Right");fi.prototype[A]=function(){return this.__filtered__?new fi(this):this[Y](1)}}),fi.prototype.compact=function(){return this.filter(Gd)},fi.prototype.find=function(A){return this.filter(A).head()},fi.prototype.findLast=function(A){return this.reverse().find(A)},fi.prototype.invokeMap=$a(function(A,O){return typeof A=="function"?new fi(this):this.map(function(Y){return Ru(Y,A,O)})}),fi.prototype.reject=function(A){return this.filter(yh(Vt(A)))},fi.prototype.slice=function(A,O){A=Lt(A);var Y=this;return Y.__filtered__&&(A>0||O<0)?new fi(Y):(A<0?Y=Y.takeRight(-A):A&&(Y=Y.drop(A)),O!==K&&(O=Lt(O),Y=O<0?Y.dropRight(-O):Y.take(O-A)),Y)},fi.prototype.takeRightWhile=function(A){return this.reverse().takeWhile(A).reverse()},fi.prototype.toArray=function(){return this.take(Wr)},hs(fi.prototype,function(A,O){var Y=/^(?:filter|find|map|reject)|While$/.test(O),he=/^(?:head|last)$/.test(O),Ne=Ve[he?"take"+(O=="last"?"Right":""):O],Ze=he||/^find/.test(O);!Ne||(Ve.prototype[O]=function(){var It=this.__wrapped__,Rt=he?[1]:arguments,or=It instanceof fi,Hn=Rt[0],xn=or||Pa(It),ti=function(to){var Ma=Ne.apply(Ve,sn([to],Rt));return he&&qi?Ma[0]:Ma};xn&&Y&&typeof Hn=="function"&&Hn.length!=1&&(or=xn=!1);var qi=this.__chain__,Yo=!!this.__actions__.length,Si=Ze&&!qi,Fn=or&&!Yo;if(!Ze&&xn){It=Fn?It:new fi(this);var ri=A.apply(It,Rt);return ri.__actions__.push({func:pl,args:[ti],thisArg:K}),new uc(ri,qi)}return Si&&Fn?A.apply(this,Rt):(ri=this.thru(ti),Si?he?ri.value()[0]:ri.value():ri)})}),it(["pop","push","shift","sort","splice","unshift"],function(A){var O=Kl[A],Y=/^(?:push|sort|unshift)$/.test(A)?"tap":"thru",he=/^(?:pop|shift)$/.test(A);Ve.prototype[A]=function(){var Ne=arguments;if(he&&!this.__chain__){var Ze=this.value();return O.apply(Pa(Ze)?Ze:[],Ne)}return this[Y](function(It){return O.apply(Pa(It)?It:[],Ne)})}}),hs(fi.prototype,function(A,O){var Y=Ve[O];if(Y){var he=Y.name+"";Ds.call(Oh,he)||(Oh[he]=[]),Oh[he].push({name:O,func:Y})}}),Oh[Qu(K,nr).name]=[{name:"wrapper",func:K}],fi.prototype.clone=Iu,fi.prototype.reverse=rf,fi.prototype.value=Mp,Ve.prototype.at=kv,Ve.prototype.chain=kg,Ve.prototype.commit=Vc,Ve.prototype.next=Hg,Ve.prototype.plant=Vg,Ve.prototype.reverse=Ud,Ve.prototype.toJSON=Ve.prototype.valueOf=Ve.prototype.value=dy,Ve.prototype.first=Ve.prototype.head,_d&&(Ve.prototype[_d]=yv),Ve},Uu=bs();Ni._=Uu,F=function(){return Uu}.call(je,U,je,Oe),F!==K&&(Oe.exports=F)}).call(this)}).call(this,U("yLpj"),U("YuTi")(rt))},MMmD:function(rt,je,U){var xe=U("lSCD"),Oe=U("shjB");function F(K){return K!=null&&Oe(K.length)&&!xe(K)}rt.exports=F},MXD1:function(rt,je,U){"use strict";var xe=U("cIOH"),Oe=U.n(xe),F=U("Kvyg"),K=U.n(F)},MvSz:function(rt,je,U){var xe=U("LXxW"),Oe=U("0ycA"),F=Object.prototype,K=F.propertyIsEnumerable,Ae=Object.getOwnPropertySymbols,ve=Ae?function(Pe){return Pe==null?[]:(Pe=Object(Pe),xe(Ae(Pe),function(We){return K.call(Pe,We)}))}:Oe;rt.exports=ve},NHCu:function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("mrSG");U("0uCz");var Oe=U("g8eg");Object.defineProperty(je,"Map",{enumerable:!0,get:function(){return Oe.default}});var F=U("q8ti");Object.defineProperty(je,"MapApiLoaderHOC",{enumerable:!0,get:function(){return F.default}});var K=U("sxwG");Object.defineProperty(je,"MapTypeControl",{enumerable:!0,get:function(){return K.default}});var Ae=U("WuJL");Object.defineProperty(je,"ScaleControl",{enumerable:!0,get:function(){return Ae.default}});var ve=U("I/il");Object.defineProperty(je,"ZoomControl",{enumerable:!0,get:function(){return ve.default}});var Pe=U("5bzT");Object.defineProperty(je,"NavigationControl",{enumerable:!0,get:function(){return Pe.default}});var We=U("RwCd");Object.defineProperty(je,"Marker",{enumerable:!0,get:function(){return We.default}});var we=U("SbrR");Object.defineProperty(je,"Polyline",{enumerable:!0,get:function(){return we.default}});var De=U("aVhU");Object.defineProperty(je,"Polygon",{enumerable:!0,get:function(){return De.default}});var at=U("zATX");Object.defineProperty(je,"Circle",{enumerable:!0,get:function(){return at.default}});var se=U("i5tv");Object.defineProperty(je,"InfoWindow",{enumerable:!0,get:function(){return se.default}});var Re=U("WwoR");Object.defineProperty(je,"Label",{enumerable:!0,get:function(){return Re.default}});var mt=U("j9lq");Object.defineProperty(je,"CustomOverlay",{enumerable:!0,get:function(){return mt.default}});var st=U("3Ree");Object.defineProperty(je,"MapvglView",{enumerable:!0,get:function(){return st.default}});var St=U("ToZM");Object.defineProperty(je,"MapvglLayer",{enumerable:!0,get:function(){return St.default}});var Xr=U("mEKJ");Object.defineProperty(je,"TrafficLayer",{enumerable:!0,get:function(){return Xr.default}});var zt=U("oBiK");Object.defineProperty(je,"PanoramaLayer",{enumerable:!0,get:function(){return zt.default}});var nr=U("Z87X");Object.defineProperty(je,"DrawingManager",{enumerable:!0,get:function(){return nr.default}});var pn=U("dj1d");Object.defineProperty(je,"DistanceTool",{enumerable:!0,get:function(){return pn.default}});var Vr=U("e8yt");Object.defineProperty(je,"AutoComplete",{enumerable:!0,get:function(){return Vr.default}});var $e=U("PKrl");Object.defineProperty(je,"Arc",{enumerable:!0,get:function(){return $e.default}}),je.mapvgl=xe.__importStar(U("4K7L")),xe.__exportStar(U("O61G"),je)},NKxu:function(rt,je,U){var xe=U("lSCD"),Oe=U("E2jh"),F=U("GoyQ"),K=U("3Fdi"),Ae=/[\\^$.*+?()[\]{}|]/g,ve=/^\[object .+?Constructor\]$/,Pe=Function.prototype,We=Object.prototype,we=Pe.toString,De=We.hasOwnProperty,at=RegExp("^"+we.call(De).replace(Ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function se(Re){if(!F(Re)||Oe(Re))return!1;var mt=xe(Re)?at:ve;return mt.test(K(Re))}rt.exports=se},NRzi:function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("mrSG"),Oe=U("q1tI"),F=function(K){xe.__extends(Ae,K);function Ae(){var ve=K!==null&&K.apply(this,arguments)||this;return ve.options=[],ve}return Ae.prototype.getInstance=function(ve){return ve.instance},Ae.prototype.getOptions=function(ve){ve===void 0&&(ve=this.props);var Pe={};return this.options.map(function(We){ve[We]!==void 0&&(Pe[We]=ve[We])}),Pe},Ae}(Oe.PureComponent);je.default=F},Npjl:function(rt,je){function U(xe,Oe){return xe==null?void 0:xe[Oe]}rt.exports=U},O61G:function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("mrSG");xe.__exportStar(U("gI1Y"),je);var Oe=U("gOxR");Object.defineProperty(je,"isString",{enumerable:!0,get:function(){return Oe.default}});var F=U("3RkO");Object.defineProperty(je,"getDisplayName",{enumerable:!0,get:function(){return F.default}})},O8ob:function(rt,je,U){(function(xe){function Oe(F,K,Ae){for(var ve=K.length,Pe=new Uint8Array(3*ve/4-(K[ve-2]=="="?2:K[ve-1]=="="?1:0)),We=new Uint8Array(130),we=0;64>we;we++)We["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(we)]=we;for(var De=we=0;we<ve;we+=4){var at=We[K.charCodeAt(we+1)],se=We[K.charCodeAt(we+2)];Pe[De++]=We[K.charCodeAt(we)]<<2|at>>4,Pe[De++]=(at&15)<<4|se>>2,Pe[De++]=(se&3)<<6|We[K.charCodeAt(we+3)]&63}return Ae&&!F?WebAssembly.instantiate(Pe,Ae):Ae||F?(F=new WebAssembly.Module(Pe),Ae?new WebAssembly.Instance(F,Ae):F):WebAssembly.compile(Pe)}(function(F,K){K(je)})(this,function(F){function K(){throw Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function Ae(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function ve(i,e){return e={exports:{}},i(e,e.exports),e.exports}function Pe(i){var e,r;this.promise=new i(function(s,c){if(e!==void 0||r!==void 0)throw TypeError("Bad Promise constructor");e=s,r=c}),this.resolve=cc(e),this.reject=cc(r)}function We(){}function we(i,e){for(var r in e)i[r]=e[r]}function De(i,e){this.lng=i,this.lat=e}function at(i,e){this.x=i,this.y=e}function se(i){for(var e=i.length;0<=--e;)i[e]=0}function Re(i,e){return function(r){return e(i(r))}}function mt(i){var e=function(s){return s==null?s:(1<arguments.length&&(s=Array.prototype.slice.call(arguments)),i(s))};return"conversion"in i&&(e.conversion=i.conversion),e}function st(i){var e=function(s){if(s==null)return s;1<arguments.length&&(s=Array.prototype.slice.call(arguments));var c=i(s);if((typeof c=="undefined"?"undefined":vs(c))==="object")for(var v=c.length,x=0;x<v;x++)c[x]=Math.round(c[x]);return c};return"conversion"in i&&(e.conversion=i.conversion),e}function St(i,e){if(!(this instanceof St))return new St(i,e);if(e&&e in q&&(e=null),e&&!(e in R))throw Error("Unknown model: "+e);if(typeof i=="undefined")this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(i instanceof St)this.model=i.model,this.color=i.color.slice(),this.valpha=i.valpha;else if(typeof i=="string"){if(e=Pa.get(i),e===null)throw Error("Unable to parse color from string: "+i);this.model=e.model;var r=R[this.model].channels;this.color=e.value.slice(0,r),this.valpha=typeof e.value[r]=="number"?e.value[r]:1}else if(i.length)this.model=e||"rgb",r=R[this.model].channels,e=N.call(i,0,r),this.color=pn(e,r),this.valpha=typeof i[r]=="number"?i[r]:1;else if(typeof i=="number")i&=16777215,this.model="rgb",this.color=[i>>16&255,i>>8&255,i&255],this.valpha=1;else{if(this.valpha=1,e=Vc(i),"alpha"in i&&(e.splice(e.indexOf("alpha"),1),this.valpha=typeof i.alpha=="number"?i.alpha:0),e=e.sort().join(""),!(e in ie))throw Error("Unable to parse color from object: "+Ud(i));this.model=ie[e],r=R[this.model].labels;var s=[];for(e=0;e<r.length;e++)s.push(i[r[e]]);this.color=pn(s)}if(d[this.model])for(r=R[this.model].channels,e=0;e<r;e++)(i=d[this.model][e])&&(this.color[e]=i(this.color[e]));this.valpha=Math.max(0,Math.min(1,this.valpha)),nl&&nl(this)}function Xr(i){return function(e){return Number(e.toFixed(i))}}function zt(i,e,r){return i=Array.isArray(i)?i:[i],i.forEach(function(s){(d[s]||(d[s]=[]))[e]=r}),i=i[0],function(s){if(arguments.length){r&&(s=r(s));var c=this[i]();return c.color[e]=s,c}return c=this[i]().color[e],r&&(c=r(c)),c}}function nr(i){return function(e){return Math.max(0,Math.min(i,e))}}function pn(i,e){for(var r=0;r<e;r++)typeof i[r]!="number"&&(i[r]=0);return i}function Vr(){}function $e(i,e){this.x=i||0,this.y=e||0}function Et(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function Xt(i,e,r,s,c,v,x,w,I,j){Object.defineProperty(this,"id",{value:Z++}),this.uuid=L.generateUUID(),this.name="",this.image=i!==void 0?i:Xt.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=e!==void 0?e:Xt.DEFAULT_MAPPING,this.wrapS=r!==void 0?r:1001,this.wrapT=s!==void 0?s:1001,this.magFilter=c!==void 0?c:1006,this.minFilter=v!==void 0?v:1008,this.anisotropy=I!==void 0?I:1,this.format=x!==void 0?x:1023,this.internalFormat=null,this.type=w!==void 0?w:1009,this.offset=new $e(0,0),this.repeat=new $e(1,1),this.center=new $e(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Et,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=j!==void 0?j:3e3,this.version=0,this.onUpdate=null}function et(i,e,r,s){this.x=i||0,this.y=e||0,this.z=r||0,this.w=s!==void 0?s:1}function bt(i,e,r){this.width=i,this.height=e,this.scissor=new et(0,0,i,e),this.scissorTest=!1,this.viewport=new et(0,0,i,e),r=r||{},this.texture=new Xt(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.image={},this.texture.image.width=i,this.texture.image.height=e,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:1006,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!0,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null}function Zt(i,e,r){bt.call(this,i,e,r),this.samples=4}function qe(i,e,r,s){this._x=i||0,this._y=e||0,this._z=r||0,this._w=s!==void 0?s:1}function Ie(i,e,r){this.x=i||0,this.y=e||0,this.z=r||0}function ht(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function Er(i,e,r,s){this._x=i||0,this._y=e||0,this._z=r||0,this._order=s||Er.DefaultOrder}function Cn(){this.mask=1}function pr(){Object.defineProperty(this,"id",{value:Dr++}),this.uuid=L.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=pr.DefaultUp.clone();var i=new Ie,e=new Er,r=new qe,s=new Ie(1,1,1);e._onChange(function(){r.setFromEuler(e,!1)}),r._onChange(function(){e.setFromQuaternion(r,void 0,!1)}),Ia(this,{position:{configurable:!0,enumerable:!0,value:i},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new ht},normalMatrix:{value:new Et}}),this.matrix=new ht,this.matrixWorld=new ht,this.matrixAutoUpdate=pr.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Cn,this.visible=!0,this.receiveShadow=this.castShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function $r(){pr.call(this),this.type="Scene",this.overrideMaterial=this.fog=this.environment=this.background=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function An(i,e){this.min=i!==void 0?i:new Ie(Infinity,Infinity,Infinity),this.max=e!==void 0?e:new Ie(-Infinity,-Infinity,-Infinity)}function rn(i,e,r,s,c){var v,x=0;for(v=i.length-3;x<=v;x+=3){Sf.fromArray(i,x);var w=c.x*Math.abs(Sf.x)+c.y*Math.abs(Sf.y)+c.z*Math.abs(Sf.z),I=e.dot(Sf),j=r.dot(Sf),G=s.dot(Sf);if(Math.max(-Math.max(I,j,G),Math.min(I,j,G))>w)return!1}return!0}function fr(i,e){this.center=i!==void 0?i:new Ie,this.radius=e!==void 0?e:-1}function _r(i,e){this.origin=i!==void 0?i:new Ie,this.direction=e!==void 0?e:new Ie(0,0,-1)}function Wr(i,e){this.normal=i!==void 0?i:new Ie(1,0,0),this.constant=e!==void 0?e:0}function dt(i,e,r){this.a=i!==void 0?i:new Ie,this.b=e!==void 0?e:new Ie,this.c=r!==void 0?r:new Ie}function At(i,e,r){return e===void 0&&r===void 0?this.set(i):this.setRGB(i,e,r)}function cn(i,e,r){return 0>r&&(r+=1),1<r&&--r,r<1/6?i+6*(e-i)*r:.5>r?e:r<2/3?i+6*(e-i)*(2/3-r):i}function Jt(i){return .04045>i?.0773993808*i:Math.pow(.9478672986*i+.0521327014,2.4)}function rr(i){return .0031308>i?12.92*i:1.055*Math.pow(i,.41666)-.055}function Gn(i,e,r,s,c,v){this.a=i,this.b=e,this.c=r,this.normal=s&&s.isVector3?s:new Ie,this.vertexNormals=Array.isArray(s)?s:[],this.color=c&&c.isColor?c:new At,this.vertexColors=Array.isArray(c)?c:[],this.materialIndex=v!==void 0?v:0}function Kr(){Object.defineProperty(this,"id",{value:Gc++}),this.uuid=L.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.vertexColors=this.flatShading=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null,this.depthFunc=3,this.depthWrite=this.depthTest=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilZPass=this.stencilZFail=this.stencilFail=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipShadows=this.clipIntersection=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetUnits=this.polygonOffsetFactor=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.toneMapped=this.visible=!0,this.userData={},this.version=0}function ai(i){Kr.call(this),this.type="MeshBasicMaterial",this.color=new At(16777215),this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.envMap=this.alphaMap=this.specularMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphTargets=this.skinning=!1,this.setValues(i)}function Nn(i,e,r){if(Array.isArray(i))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=i,this.itemSize=e,this.count=i!==void 0?i.length/e:0,this.normalized=r===!0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}function So(i,e,r){Nn.call(this,new Int8Array(i),e,r)}function Wo(i,e,r){Nn.call(this,new Uint8Array(i),e,r)}function Un(i,e,r){Nn.call(this,new Uint8ClampedArray(i),e,r)}function an(i,e,r){Nn.call(this,new Int16Array(i),e,r)}function In(i,e,r){Nn.call(this,new Uint16Array(i),e,r)}function Jr(i,e,r){Nn.call(this,new Int32Array(i),e,r)}function Xn(i,e,r){Nn.call(this,new Uint32Array(i),e,r)}function hr(i,e,r){Nn.call(this,new Float32Array(i),e,r)}function dn(i,e,r){Nn.call(this,new Float64Array(i),e,r)}function Mn(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingSphere=this.boundingBox=null,this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1}function Tn(i){if(i.length===0)return-Infinity;for(var e=i[0],r=1,s=i.length;r<s;++r)i[r]>e&&(e=i[r]);return e}function kr(){Object.defineProperty(this,"id",{value:la+=2}),this.uuid=L.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingSphere=this.boundingBox=null,this.drawRange={start:0,count:Infinity},this.userData={}}function ei(i,e){pr.call(this),this.type="Mesh",this.geometry=i!==void 0?i:new kr,this.material=e!==void 0?e:new ai,this.updateMorphTargets()}function Mi(i,e,r,s,c,v,x,w){return(e.side===1?s.intersectTriangle(x,v,c,!0,w):s.intersectTriangle(c,v,x,e.side!==2,w))===null?null:(_0.copy(w),_0.applyMatrix4(i.matrixWorld),e=r.ray.origin.distanceTo(_0),e<r.near||e>r.far?null:{distance:e,point:_0.clone(),object:i})}function Di(i,e,r,s,c,v,x,w,I,j,G,W){if(Vp.fromBufferAttribute(c,j),Uf.fromBufferAttribute(c,G),cm.fromBufferAttribute(c,W),c=i.morphTargetInfluences,e.morphTargets&&v&&c){Zm.set(0,0,0),E0.set(0,0,0),T0.set(0,0,0);for(var ae=0,ue=v.length;ae<ue;ae++){var be=c[ae],Me=v[ae];be!==0&&(Ef.fromBufferAttribute(Me,j),Ys.fromBufferAttribute(Me,G),Cp.fromBufferAttribute(Me,W),x?(Zm.addScaledVector(Ef,be),E0.addScaledVector(Ys,be),T0.addScaledVector(Cp,be)):(Zm.addScaledVector(Ef.sub(Vp),be),E0.addScaledVector(Ys.sub(Uf),be),T0.addScaledVector(Cp.sub(cm),be)))}Vp.add(Zm),Uf.add(E0),cm.add(T0)}return i.isSkinnedMesh&&(i.boneTransform(j,Vp),i.boneTransform(G,Uf),i.boneTransform(W,cm)),(i=Mi(i,e,r,s,Vp,Uf,cm,Jm))&&(w&&(Zv.fromBufferAttribute(w,j),fm.fromBufferAttribute(w,G),Sv.fromBufferAttribute(w,W),i.uv=dt.getUV(Jm,Vp,Uf,cm,Zv,fm,Sv,new $e)),I&&(Zv.fromBufferAttribute(I,j),fm.fromBufferAttribute(I,G),Sv.fromBufferAttribute(I,W),i.uv2=dt.getUV(Jm,Vp,Uf,cm,Zv,fm,Sv,new $e)),w=new Gn(j,G,W),dt.getNormal(Vp,Uf,cm,w.normal),i.face=w),i}function ui(){Object.defineProperty(this,"id",{value:s1+=2}),this.uuid=L.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingSphere=this.boundingBox=null,this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.verticesNeedUpdate=this.elementsNeedUpdate=!1}function Po(i){var e={},r;for(r in i){e[r]={};for(var s in i[r]){var c=i[r][s];c&&(c.isColor||c.isMatrix3||c.isMatrix4||c.isVector2||c.isVector3||c.isVector4||c.isTexture)?e[r][s]=c.clone():Array.isArray(c)?e[r][s]=c.slice():e[r][s]=c}}return e}function cr(i){for(var e={},r=0;r<i.length;r++){var s=Po(i[r]),c;for(c in s)e[c]=s[c]}return e}function $o(i){Kr.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,this.fragmentShader=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,i!==void 0&&(i.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(i))}function As(){pr.call(this),this.type="Camera",this.matrixWorldInverse=new ht,this.projectionMatrix=new ht,this.projectionMatrixInverse=new ht}function Gi(i,e,r,s){As.call(this),this.type="PerspectiveCamera",this.fov=i!==void 0?i:50,this.zoom=1,this.near=r!==void 0?r:.1,this.far=s!==void 0?s:2e3,this.focus=10,this.aspect=e!==void 0?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function Xs(i,e,r){if(pr.call(this),this.type="CubeCamera",r.isWebGLCubeRenderTarget!==!0)console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");else{this.renderTarget=r;var s=new Gi(90,1,i,e);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new Ie(1,0,0)),this.add(s);var c=new Gi(90,1,i,e);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new Ie(-1,0,0)),this.add(c);var v=new Gi(90,1,i,e);v.layers=this.layers,v.up.set(0,0,1),v.lookAt(new Ie(0,1,0)),this.add(v);var x=new Gi(90,1,i,e);x.layers=this.layers,x.up.set(0,0,-1),x.lookAt(new Ie(0,-1,0)),this.add(x);var w=new Gi(90,1,i,e);w.layers=this.layers,w.up.set(0,-1,0),w.lookAt(new Ie(0,0,1)),this.add(w);var I=new Gi(90,1,i,e);I.layers=this.layers,I.up.set(0,-1,0),I.lookAt(new Ie(0,0,-1)),this.add(I),this.update=function(j,G){this.parent===null&&this.updateMatrixWorld();var W=j.xr.enabled,ae=j.getRenderTarget();j.xr.enabled=!1;var ue=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,j.setRenderTarget(r,0),j.render(G,s),j.setRenderTarget(r,1),j.render(G,c),j.setRenderTarget(r,2),j.render(G,v),j.setRenderTarget(r,3),j.render(G,x),j.setRenderTarget(r,4),j.render(G,w),r.texture.generateMipmaps=ue,j.setRenderTarget(r,5),j.render(G,I),j.setRenderTarget(ae),j.xr.enabled=W},this.clear=function(j,G,W,ae){for(var ue=j.getRenderTarget(),be=0;6>be;be++)j.setRenderTarget(r,be),j.clear(G,W,ae);j.setRenderTarget(ue)}}}function un(i,e,r){lm(e)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),e=r),bt.call(this,i,i,e)}function ko(i,e,r,s,c,v,x,w,I,j,G,W){Xt.call(this,null,v,x,w,I,j,s,c,G,W),this.image={data:i||null,width:e||1,height:r||1},this.magFilter=I!==void 0?I:1003,this.minFilter=j!==void 0?j:1003,this.flipY=this.generateMipmaps=!1,this.unpackAlignment=1,this.needsUpdate=!0}function ss(i,e,r,s,c,v){this.planes=[i!==void 0?i:new Wr,e!==void 0?e:new Wr,r!==void 0?r:new Wr,s!==void 0?s:new Wr,c!==void 0?c:new Wr,v!==void 0?v:new Wr]}function Gr(){function i(c,v){r!==!1&&(s(c,v),e.requestAnimationFrame(i))}var e=null,r=!1,s=null;return{start:function(){r!==!0&&s!==null&&(e.requestAnimationFrame(i),r=!0)},stop:function(){r=!1},setAnimationLoop:function(v){s=v},setContext:function(v){e=v}}}function Yl(i,e){function r(v,x){var w=v.array,I=v.usage,j=i.createBuffer();return i.bindBuffer(x,j),i.bufferData(x,w,I),v.onUploadCallback(),x=5126,w instanceof Float32Array?x=5126:w instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):w instanceof Uint16Array?x=5123:w instanceof Int16Array?x=5122:w instanceof Uint32Array?x=5125:w instanceof Int32Array?x=5124:w instanceof Int8Array?x=5120:w instanceof Uint8Array&&(x=5121),{buffer:j,type:x,bytesPerElement:w.BYTES_PER_ELEMENT,version:v.version}}var s=e.isWebGL2,c=new pl;return{get:function(x){return x.isInterleavedBufferAttribute&&(x=x.data),c.get(x)},remove:function(x){x.isInterleavedBufferAttribute&&(x=x.data);var w=c.get(x);w&&(i.deleteBuffer(w.buffer),c.delete(x))},update:function(x,w){x.isInterleavedBufferAttribute&&(x=x.data);var I=c.get(x);if(I===void 0)c.set(x,r(x,w));else if(I.version<x.version){var j=x.array,G=x.updateRange;i.bindBuffer(w,I.buffer),G.count===-1?i.bufferSubData(w,0,j):(s?i.bufferSubData(w,G.offset*j.BYTES_PER_ELEMENT,j,G.offset,G.count):i.bufferSubData(w,G.offset*j.BYTES_PER_ELEMENT,j.subarray(G.offset,G.offset+G.count)),G.count=-1),I.version=x.version}}}}function ou(i,e,r,s){ui.call(this),this.type="PlaneGeometry",this.parameters={width:i,height:e,widthSegments:r,heightSegments:s},this.fromBufferGeometry(new ea(i,e,r,s)),this.mergeVertices()}function ea(i,e,r,s){kr.call(this),this.type="PlaneBufferGeometry",this.parameters={width:i,height:e,widthSegments:r,heightSegments:s},i=i||1,e=e||1;var c=i/2,v=e/2;r=Math.floor(r)||1,s=Math.floor(s)||1;var x=r+1,w=s+1,I=i/r,j=e/s,G=[],W=[],ae=[],ue=[];for(i=0;i<w;i++){var be=i*j-v;for(e=0;e<x;e++)W.push(e*I-c,-be,0),ae.push(0,0,1),ue.push(e/r),ue.push(1-i/s)}for(i=0;i<s;i++)for(e=0;e<r;e++)c=e+x*(i+1),v=e+1+x*(i+1),w=e+1+x*i,G.push(e+x*i,c,w),G.push(c,v,w);this.setIndex(G),this.setAttribute("position",new hr(W,3)),this.setAttribute("normal",new hr(ae,3)),this.setAttribute("uv",new hr(ue,2))}function Eu(i,e,r,s){function c(ae,ue){e.buffers.color.setClear(ae.r,ae.g,ae.b,ue,s)}var v=new At(0),x=0,w,I,j=null,G=0,W=null;return{getClearColor:function(){return v},setClearColor:function(ue,be){v.set(ue),x=be!==void 0?be:1,c(v,x)},getClearAlpha:function(){return x},setClearAlpha:function(ue){x=ue,c(v,x)},render:function(ue,be,Me,ct){be=be.background,Me=i.xr,(Me=Me.getSession&&Me.getSession())&&Me.environmentBlendMode==="additive"&&(be=null),be===null?c(v,x):be&&be.isColor&&(c(be,1),ct=!0),(i.autoClear||ct)&&i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil),be&&(be.isCubeTexture||be.isWebGLCubeRenderTarget||be.mapping===306)?(I===void 0&&(I=new ei(new P0(1,1,1),new $o({type:"BackgroundCubeMaterial",uniforms:Po(hm.cube.uniforms),vertexShader:hm.cube.vertexShader,fragmentShader:hm.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),I.geometry.deleteAttribute("normal"),I.geometry.deleteAttribute("uv"),I.onBeforeRender=function(Nt,Pt,Bt){this.matrixWorld.copyPosition(Bt.matrixWorld)},Object.defineProperty(I.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(I)),ct=be.isWebGLCubeRenderTarget?be.texture:be,I.material.uniforms.envMap.value=ct,I.material.uniforms.flipEnvMap.value=ct.isCubeTexture?-1:1,(j!==be||G!==ct.version||W!==i.toneMapping)&&(I.material.needsUpdate=!0,j=be,G=ct.version,W=i.toneMapping),ue.unshift(I,I.geometry,I.material,0,0,null)):be&&be.isTexture&&(w===void 0&&(w=new ei(new ea(2,2),new $o({type:"BackgroundMaterial",uniforms:Po(hm.background.uniforms),vertexShader:hm.background.vertexShader,fragmentShader:hm.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),w.geometry.deleteAttribute("normal"),Object.defineProperty(w.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(w)),w.material.uniforms.t2D.value=be,be.matrixAutoUpdate===!0&&be.updateMatrix(),w.material.uniforms.uvTransform.value.copy(be.matrix),(j!==be||G!==be.version||W!==i.toneMapping)&&(w.material.needsUpdate=!0,j=be,G=be.version,W=i.toneMapping),ue.unshift(w,w.geometry,w.material,0,0,null))}}}function wi(i,e,r,s){var c=s.isWebGL2,v;this.setMode=function(x){v=x},this.render=function(x,w){i.drawArrays(v,x,w),r.update(w,v)},this.renderInstances=function(x,w,I,j){if(j!==0){if(c){x=i;var G="drawArraysInstanced"}else if(x=e.get("ANGLE_instanced_arrays"),G="drawArraysInstancedANGLE",x===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}x[G](v,w,I,j),r.update(I,v,j)}}}function Pi(i,e,r){function s(Bt){if(Bt==="highp"){if(0<i.getShaderPrecisionFormat(35633,36338).precision&&0<i.getShaderPrecisionFormat(35632,36338).precision)return"highp";Bt="mediump"}return Bt==="mediump"&&0<i.getShaderPrecisionFormat(35633,36337).precision&&0<i.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}var c,v=typeof WebGL2RenderingContext!="undefined"&&i instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&i instanceof WebGL2ComputeRenderingContext,x=r.precision!==void 0?r.precision:"highp",w=s(x);w!==x&&(console.warn("THREE.WebGLRenderer:",x,"not supported, using",w,"instead."),x=w),r=r.logarithmicDepthBuffer===!0,w=i.getParameter(34930);var I=i.getParameter(35660),j=i.getParameter(3379),G=i.getParameter(34076),W=i.getParameter(34921),ae=i.getParameter(36347),ue=i.getParameter(36348),be=i.getParameter(36349),Me=0<I,ct=v||!!e.get("OES_texture_float"),Nt=Me&&ct,Pt=v?i.getParameter(36183):0;return{isWebGL2:v,getMaxAnisotropy:function(){if(c!==void 0)return c;var ir=e.get("EXT_texture_filter_anisotropic");return c=ir!==null?i.getParameter(ir.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:s,precision:x,logarithmicDepthBuffer:r,maxTextures:w,maxVertexTextures:I,maxTextureSize:j,maxCubemapSize:G,maxAttributes:W,maxVertexUniforms:ae,maxVaryings:ue,maxFragmentUniforms:be,vertexTextures:Me,floatFragmentTextures:ct,floatVertexTextures:Nt,maxSamples:Pt}}function hi(){function i(){j.value!==s&&(j.value=s,j.needsUpdate=0<c),r.numPlanes=c,r.numIntersection=0}function e(G,W,ae,ue){var be=G!==null?G.length:0,Me=null;if(be!==0){if(Me=j.value,ue!==!0||Me===null)for(ue=ae+4*be,W=W.matrixWorldInverse,I.getNormalMatrix(W),(Me===null||Me.length<ue)&&(Me=new Float32Array(ue)),ue=0;ue!==be;++ue,ae+=4)w.copy(G[ue]).applyMatrix4(W,I),w.normal.toArray(Me,ae),Me[ae+3]=w.constant;j.value=Me,j.needsUpdate=!0}return r.numPlanes=be,r.numIntersection=0,Me}var r=this,s=null,c=0,v=!1,x=!1,w=new Wr,I=new Et,j={value:null,needsUpdate:!1};this.uniform=j,this.numIntersection=this.numPlanes=0,this.init=function(G,W,ae){var ue=G.length!==0||W||c!==0||v;return v=W,s=e(G,ae,0),c=G.length,ue},this.beginShadows=function(){x=!0,e(null)},this.endShadows=function(){x=!1,i()},this.setState=function(G,W,ae,ue,be,Me){if(!v||G===null||G.length===0||x&&!ae)x?e(null):i();else{ae=x?0:c;var ct=4*ae,Nt=be.clippingState||null;for(j.value=Nt,Nt=e(G,ue,ct,Me),G=0;G!==ct;++G)Nt[G]=s[G];be.clippingState=Nt,this.numIntersection=W?this.numPlanes:0,this.numPlanes+=ae}}}function Mt(i){var e={};return{get:function(s){if(e[s]!==void 0)return e[s];switch(s){case"WEBGL_depth_texture":var c=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":c=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":c=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":c=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:c=i.getExtension(s)}return c===null&&console.warn("THREE.WebGLRenderer: "+s+" extension not supported."),e[s]=c}}}function wn(i,e,r){function s(w){var I=w.target;w=v.get(I),w.index!==null&&e.remove(w.index);for(var j in w.attributes)e.remove(w.attributes[j]);I.removeEventListener("dispose",s),v.delete(I),(j=x.get(w))&&(e.remove(j),x.delete(w)),r.memory.geometries--}function c(w){var I=[],j=w.index,G=w.attributes.position;if(j!==null){var W=j.array;j=j.version,G=0;for(var ae=W.length;G<ae;G+=3){var ue=W[G+0],be=W[G+1],Me=W[G+2];I.push(ue,be,be,Me,Me,ue)}}else for(W=G.array,j=G.version,G=0,ae=W.length/3-1;G<ae;G+=3)ue=G+0,be=G+1,Me=G+2,I.push(ue,be,be,Me,Me,ue);I=new(65535<Tn(I)?Xn:In)(I,1),I.version=j,e.update(I,34963),(W=x.get(w))&&e.remove(W),x.set(w,I)}var v=new pl,x=new pl;return{get:function(I,j){var G=v.get(j);return G||(j.addEventListener("dispose",s),j.isBufferGeometry?G=j:j.isGeometry&&(j._bufferGeometry===void 0&&(j._bufferGeometry=new kr().setFromObject(I)),G=j._bufferGeometry),v.set(j,G),r.memory.geometries++,G)},update:function(I){var j=I.index,G=I.attributes;j!==null&&e.update(j,34963);for(var W in G)e.update(G[W],34962);I=I.morphAttributes;for(W in I){j=I[W],G=0;for(var ae=j.length;G<ae;G++)e.update(j[G],34962)}},getWireframeAttribute:function(I){var j=x.get(I);if(j){var G=I.index;G!==null&&j.version<G.version&&c(I)}else c(I);return x.get(I)}}}function Ot(i,e,r,s){var c=s.isWebGL2,v,x,w;this.setMode=function(I){v=I},this.setIndex=function(I){x=I.type,w=I.bytesPerElement},this.render=function(I,j){i.drawElements(v,j,x,I*w),r.update(j,v)},this.renderInstances=function(I,j,G,W){if(W!==0){if(c){I=i;var ae="drawElementsInstanced"}else if(I=e.get("ANGLE_instanced_arrays"),ae="drawElementsInstancedANGLE",I===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}I[ae](v,G,x,j*w,W),r.update(G,v,W)}}}function ar(i){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(s,c,v){switch(v=v||1,e.calls++,c){case 4:e.triangles+=s/3*v;break;case 1:e.lines+=s/2*v;break;case 3:e.lines+=v*(s-1);break;case 2:e.lines+=v*s;break;case 0:e.points+=v*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",c)}}}}function Mr(i,e){return Math.abs(e[1])-Math.abs(i[1])}function jt(i){var e={},r=new Float32Array(8);return{update:function(c,v,x,w){var I=c.morphTargetInfluences,j=I===void 0?0:I.length;if(c=e[v.id],c===void 0){c=[];for(var G=0;G<j;G++)c[G]=[G,0];e[v.id]=c}var W=x.morphTargets&&v.morphAttributes.position;for(x=x.morphNormals&&v.morphAttributes.normal,G=0;G<j;G++){var ae=c[G];ae[1]!==0&&(W&&v.deleteAttribute("morphTarget"+G),x&&v.deleteAttribute("morphNormal"+G))}for(G=0;G<j;G++)ae=c[G],ae[0]=G,ae[1]=I[G];for(c.sort(Mr),G=I=0;8>G;G++){if((ae=c[G])&&(j=ae[0],ae=ae[1])){W&&v.setAttribute("morphTarget"+G,W[j]),x&&v.setAttribute("morphNormal"+G,x[j]),r[G]=ae,I+=ae;continue}r[G]=0}v=v.morphTargetsRelative?1:1-I,w.getUniforms().setValue(i,"morphTargetBaseInfluence",v),w.getUniforms().setValue(i,"morphTargetInfluences",r)}}}function gr(i,e,r,s){var c=new pl;return{update:function(x){var w=s.render.frame,I=x.geometry,j=e.get(x,I);return c.get(j)!==w&&(I.isGeometry&&j.updateFromObject(x),e.update(j),c.set(j,w)),x.isInstancedMesh&&r.update(x.instanceMatrix,34962),j},dispose:function(){c=new pl}}}function Vn(i,e,r,s,c,v,x,w,I,j){i=i!==void 0?i:[],Xt.call(this,i,e!==void 0?e:301,r,s,c,v,x!==void 0?x:1022,w,I,j),this.flipY=!1}function _n(i,e,r,s){Xt.call(this,null),this.image={data:i||null,width:e||1,height:r||1,depth:s||1},this.minFilter=this.magFilter=1003,this.wrapR=1001,this.flipY=this.generateMipmaps=!1,this.needsUpdate=!0}function vo(i,e,r,s){Xt.call(this,null),this.image={data:i||null,width:e||1,height:r||1,depth:s||1},this.minFilter=this.magFilter=1003,this.wrapR=1001,this.flipY=this.generateMipmaps=!1,this.needsUpdate=!0}function Ei(i,e,r){var s=i[0];if(0>=s||0<s)return i;var c=e*r,v=R0[c];if(v===void 0&&(v=new Float32Array(c),R0[c]=v),e!==0)for(s.toArray(v,0),s=1,c=0;s!==e;++s)c+=r,i[s].toArray(v,c);return v}function Oo(i,e){if(i.length!==e.length)return!1;for(var r=0,s=i.length;r<s;r++)if(i[r]!==e[r])return!1;return!0}function Je(i,e){for(var r=0,s=e.length;r<s;r++)i[r]=e[r]}function nt(i,e){var r=Jg[e];r===void 0&&(r=new Int32Array(e),Jg[e]=r);for(var s=0;s!==e;++s)r[s]=i.allocateTextureUnit();return r}function ut(i,e){var r=this.cache;r[0]!==e&&(i.uniform1f(this.addr,e),r[0]=e)}function Dt(i,e){var r=this.cache;e.x!==void 0?(r[0]!==e.x||r[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y):Oo(r,e)||(i.uniform2fv(this.addr,e),Je(r,e))}function en(i,e){var r=this.cache;e.x!==void 0?(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z):e.r!==void 0?(r[0]!==e.r||r[1]!==e.g||r[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),r[0]=e.r,r[1]=e.g,r[2]=e.b):Oo(r,e)||(i.uniform3fv(this.addr,e),Je(r,e))}function bn(i,e){var r=this.cache;e.x!==void 0?(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z||r[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w):Oo(r,e)||(i.uniform4fv(this.addr,e),Je(r,e))}function jr(i,e){var r=this.cache,s=e.elements;s===void 0?Oo(r,e)||(i.uniformMatrix2fv(this.addr,!1,e),Je(r,e)):Oo(r,s)||(c1.set(s),i.uniformMatrix2fv(this.addr,!1,c1),Je(r,s))}function tn(i,e){var r=this.cache,s=e.elements;s===void 0?Oo(r,e)||(i.uniformMatrix3fv(this.addr,!1,e),Je(r,e)):Oo(r,s)||(Qg.set(s),i.uniformMatrix3fv(this.addr,!1,Qg),Je(r,s))}function yn(i,e){var r=this.cache,s=e.elements;s===void 0?Oo(r,e)||(i.uniformMatrix4fv(this.addr,!1,e),Je(r,e)):Oo(r,s)||(Gd.set(s),i.uniformMatrix4fv(this.addr,!1,Gd),Je(r,s))}function Qn(i,e,r){var s=this.cache,c=r.allocateTextureUnit();s[0]!==c&&(i.uniform1i(this.addr,c),s[0]=c),r.safeSetTexture2D(e||Zg,c)}function mi(i,e,r){var s=this.cache,c=r.allocateTextureUnit();s[0]!==c&&(i.uniform1i(this.addr,c),s[0]=c),r.setTexture2DArray(e||l1,c)}function si(i,e,r){var s=this.cache,c=r.allocateTextureUnit();s[0]!==c&&(i.uniform1i(this.addr,c),s[0]=c),r.setTexture3D(e||O0,c)}function Ji(i,e,r){var s=this.cache,c=r.allocateTextureUnit();s[0]!==c&&(i.uniform1i(this.addr,c),s[0]=c),r.safeSetTextureCube(e||u1,c)}function Hi(i,e){var r=this.cache;r[0]!==e&&(i.uniform1i(this.addr,e),r[0]=e)}function eo(i,e){var r=this.cache;Oo(r,e)||(i.uniform2iv(this.addr,e),Je(r,e))}function go(i,e){var r=this.cache;Oo(r,e)||(i.uniform3iv(this.addr,e),Je(r,e))}function Ro(i,e){var r=this.cache;Oo(r,e)||(i.uniform4iv(this.addr,e),Je(r,e))}function va(i,e){var r=this.cache;r[0]!==e&&(i.uniform1ui(this.addr,e),r[0]=e)}function zo(i){switch(i){case 5126:return ut;case 35664:return Dt;case 35665:return en;case 35666:return bn;case 35674:return jr;case 35675:return tn;case 35676:return yn;case 5124:case 35670:return Hi;case 35667:case 35671:return eo;case 35668:case 35672:return go;case 35669:case 35673:return Ro;case 5125:return va;case 35678:case 36198:case 36298:case 36306:case 35682:return Qn;case 35679:case 36299:case 36307:return si;case 35680:case 36300:case 36308:case 36293:return Ji;case 36289:case 36303:case 36311:case 36292:return mi}}function tl(i,e){i.uniform1fv(this.addr,e)}function yl(i,e){i.uniform1iv(this.addr,e)}function au(i,e){i.uniform2iv(this.addr,e)}function jl(i,e){i.uniform3iv(this.addr,e)}function Gu(i,e){i.uniform4iv(this.addr,e)}function mc(i,e){e=Ei(e,this.size,2),i.uniform2fv(this.addr,e)}function Kc(i,e){e=Ei(e,this.size,3),i.uniform3fv(this.addr,e)}function gs(i,e){e=Ei(e,this.size,4),i.uniform4fv(this.addr,e)}function mf(i,e){e=Ei(e,this.size,4),i.uniformMatrix2fv(this.addr,!1,e)}function Zc(i,e){e=Ei(e,this.size,9),i.uniformMatrix3fv(this.addr,!1,e)}function Hf(i,e){e=Ei(e,this.size,16),i.uniformMatrix4fv(this.addr,!1,e)}function Ac(i,e,r){var s=e.length,c=nt(r,s);for(i.uniform1iv(this.addr,c),i=0;i!==s;++i)r.safeSetTexture2D(e[i]||Zg,c[i])}function di(i,e,r){var s=e.length,c=nt(r,s);for(i.uniform1iv(this.addr,c),i=0;i!==s;++i)r.safeSetTextureCube(e[i]||u1,c[i])}function Ja(i){switch(i){case 5126:return tl;case 35664:return mc;case 35665:return Kc;case 35666:return gs;case 35674:return mf;case 35675:return Zc;case 35676:return Hf;case 5124:case 35670:return yl;case 35667:case 35671:return au;case 35668:case 35672:return jl;case 35669:case 35673:return Gu;case 35678:case 36198:case 36298:case 36306:case 35682:return Ac;case 35680:case 36300:case 36308:case 36293:return di}}function Jc(i,e,r){this.id=i,this.addr=r,this.cache=[],this.setValue=zo(e.type)}function La(i,e,r){this.id=i,this.addr=r,this.cache=[],this.size=e.size,this.setValue=Ja(e.type)}function Vf(i){this.id=i,this.seq=[],this.map={}}function zl(i,e){this.seq=[],this.map={};for(var r=i.getProgramParameter(e,35718),s=0;s<r;++s){var c=i.getActiveUniform(e,s),v=i.getUniformLocation(e,c.name),x=this,w=c.name,I=w.length;for(L0.lastIndex=0;;){var j=L0.exec(w),G=L0.lastIndex,W=j[1],ae=j[3];if(j[2]==="]"&&(W|=0),ae===void 0||ae==="["&&G+2===I){w=x,c=ae===void 0?new Jc(W,c,v):new La(W,c,v),w.seq.push(c),w.map[c.id]=c;break}else ae=x.map[W],ae===void 0&&(ae=new Vf(W),W=x,x=ae,W.seq.push(x),W.map[x.id]=x),x=ae}}}function nd(i,e,r){return e=i.createShader(e),i.shaderSource(e,r),i.compileShader(e),e}function tc(i){switch(i){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:throw Error("unsupported encoding: "+i)}}function Mh(i,e,r){var s=i.getShaderParameter(e,35713),c=i.getShaderInfoLog(e).trim();if(s&&c==="")return"";for(i=i.getShaderSource(e).split(`
`),e=0;e<i.length;e++)i[e]=e+1+": "+i[e];return i=i.join(`
`),"THREE.WebGLShader: gl.getShaderInfoLog() "+r+`
`+c+i}function _f(i,e){return e=tc(e),"vec4 "+i+"( vec4 value ) { return "+e[0]+"ToLinear"+e[1]+"; }"}function rc(i,e){return e=tc(e),"vec4 "+i+"( vec4 value ) { return LinearTo"+e[0]+e[1]+"; }"}function su(i,e){switch(e){case 1:e="Linear";break;case 2:e="Reinhard";break;case 3:e="Uncharted2";break;case 4:e="OptimizedCineon";break;case 5:e="ACESFilmic";break;default:throw Error("unsupported toneMapping: "+e)}return"vec3 "+i+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}function Xl(i){var e=[],r;for(r in i){var s=i[r];s!==!1&&e.push("#define "+r+" "+s)}return e.join(`
`)}function Dc(i){return i!==""}function bu(i,e){return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Ha(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}function Ko(i,e){if(i=Rl[e],i===void 0)throw Error("Can not resolve #include <"+e+">");return i.replace(D0,Ko)}function Tu(i,e,r,s){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),zs(i,e,r,s)}function zs(i,e,r,s){for(i="",e=parseInt(e);e<parseInt(r);e++)i+=s.replace(/\[ i \]/g,"[ "+e+" ]").replace(/UNROLLED_LOOP_INDEX/g,e);return i}function Eh(i){var e="precision "+i.precision+` float;
precision `+i.precision+" int;";return i.precision==="highp"?e+=`
#define HIGH_PRECISION`:i.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Nc(i){var e="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===1?e="SHADOWMAP_TYPE_PCF":i.shadowMapType===2?e="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===3&&(e="SHADOWMAP_TYPE_VSM"),e}function Ed(i){var e="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:case 307:e="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:e="ENVMAP_TYPE_EQUIREC";break;case 305:e="ENVMAP_TYPE_SPHERE"}return e}function Zd(i){var e="ENVMAP_MODE_REFLECTION";if(i.envMap)switch(i.envMapMode){case 302:case 304:e="ENVMAP_MODE_REFRACTION"}return e}function Wf(i){var e="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}function Jd(i,e,r){var s=i.getContext(),c=r.defines,v=r.vertexShader,x=r.fragmentShader,w=Nc(r),I=Ed(r),j=Zd(r),G=Wf(r),W=0<i.gammaFactor?i.gammaFactor:1,ae=r.isWebGL2?"":[r.extensionDerivatives||r.envMapCubeUV||r.bumpMap||r.tangentSpaceNormalMap||r.clearcoatNormalMap||r.flatShading||r.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(r.extensionFragDepth||r.logarithmicDepthBuffer)&&r.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",r.extensionDrawBuffers&&r.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(r.extensionShaderTextureLOD||r.envMap)&&r.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Dc).join(`
`),ue=Xl(c),be=s.createProgram();r.isRawShaderMaterial?(c=[ue].filter(Dc).join(`
`),0<c.length&&(c+=`
`),w=[ae,ue].filter(Dc).join(`
`),0<w.length&&(w+=`
`)):(c=[Eh(r),"#define SHADER_NAME "+r.shaderName,ue,r.instancing?"#define USE_INSTANCING":"",r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+W,"#define MAX_BONES "+r.maxBones,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+j:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&r.flatShading===!1?"#define USE_MORPHNORMALS":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+w:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Dc).join(`
`),w=[ae,Eh(r),"#define SHADER_NAME "+r.shaderName,ue,r.alphaTest?"#define ALPHATEST "+r.alphaTest+(r.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+W,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+I:"",r.envMap?"#define "+j:"",r.envMap?"#define "+G:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.sheen?"#define USE_SHEEN":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+w:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(r.extensionShaderTextureLOD||r.envMap)&&r.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",r.toneMapping!==0?"#define TONE_MAPPING":"",r.toneMapping!==0?Rl.tonemapping_pars_fragment:"",r.toneMapping!==0?su("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.outputEncoding||r.mapEncoding||r.matcapEncoding||r.envMapEncoding||r.emissiveMapEncoding||r.lightMapEncoding?Rl.encodings_pars_fragment:"",r.mapEncoding?_f("mapTexelToLinear",r.mapEncoding):"",r.matcapEncoding?_f("matcapTexelToLinear",r.matcapEncoding):"",r.envMapEncoding?_f("envMapTexelToLinear",r.envMapEncoding):"",r.emissiveMapEncoding?_f("emissiveMapTexelToLinear",r.emissiveMapEncoding):"",r.lightMapEncoding?_f("lightMapTexelToLinear",r.lightMapEncoding):"",r.outputEncoding?rc("linearToOutputTexel",r.outputEncoding):"",r.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"",`
`].filter(Dc).join(`
`)),v=v.replace(D0,Ko),v=bu(v,r),v=Ha(v,r),x=x.replace(D0,Ko),x=bu(x,r),x=Ha(x,r),v=v.replace(Cy,zs).replace(N0,Tu),x=x.replace(Cy,zs).replace(N0,Tu),r.isWebGL2&&!r.isRawShaderMaterial&&(I=!1,j=/^\s*#version\s+300\s+es\s*\n/,r.isShaderMaterial&&v.match(j)!==null&&x.match(j)!==null&&(I=!0,v=v.replace(j,""),x=x.replace(j,"")),c=`#version 300 es

#define attribute in
#define varying out
#define texture2D texture
`+c,w=[`#version 300 es

#define varying in`,I?"":"out highp vec4 pc_fragColor;",I?"":"#define gl_FragColor pc_fragColor",`#define gl_FragDepthEXT gl_FragDepth
#define texture2D texture
#define textureCube texture
#define texture2DProj textureProj
#define texture2DLodEXT textureLod
#define texture2DProjLodEXT textureProjLod
#define textureCubeLodEXT textureLod
#define texture2DGradEXT textureGrad
#define texture2DProjGradEXT textureProjGrad
#define textureCubeGradEXT textureGrad`].join(`
`)+`
`+w),x=w+x,v=nd(s,35633,c+v),x=nd(s,35632,x),s.attachShader(be,v),s.attachShader(be,x),r.index0AttributeName!==void 0?s.bindAttribLocation(be,0,r.index0AttributeName):r.morphTargets===!0&&s.bindAttribLocation(be,0,"position"),s.linkProgram(be),i.debug.checkShaderErrors&&(i=s.getProgramInfoLog(be).trim(),I=s.getShaderInfoLog(v).trim(),j=s.getShaderInfoLog(x).trim(),W=G=!0,s.getProgramParameter(be,35714)===!1?(G=!1,ae=Mh(s,v,"vertex"),ue=Mh(s,x,"fragment"),console.error("THREE.WebGLProgram: shader error: ",s.getError(),"35715",s.getProgramParameter(be,35715),"gl.getProgramInfoLog",i,ae,ue)):i!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",i):(I===""||j==="")&&(W=!1),W&&(this.diagnostics={runnable:G,programLog:i,vertexShader:{log:I,prefix:c},fragmentShader:{log:j,prefix:w}})),s.deleteShader(v),s.deleteShader(x);var Me;this.getUniforms=function(){return Me===void 0&&(Me=new zl(s,be)),Me};var ct;return this.getAttributes=function(){if(ct===void 0){for(var Nt={},Pt=s.getProgramParameter(be,35721),Bt=0;Bt<Pt;Bt++){var ir=s.getActiveAttrib(be,Bt).name;Nt[ir]=s.getAttribLocation(be,ir)}ct=Nt}return ct},this.destroy=function(){s.deleteProgram(be),this.program=void 0},this.name=r.shaderName,this.id=mx++,this.cacheKey=e,this.usedTimes=1,this.program=be,this.vertexShader=v,this.fragmentShader=x,this}function id(i,e,r){function s(ue){if(ue)ue.isTexture?be=ue.encoding:ue.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),be=ue.texture.encoding);else var be=3e3;return be}var c=[],v=r.isWebGL2,x=r.logarithmicDepthBuffer,w=r.floatVertexTextures,I=r.precision,j=r.maxVertexUniforms,G=r.vertexTextures,W={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},ae="precision isWebGL2 supportsVertexTextures outputEncoding instancing map mapEncoding matcap matcapEncoding envMap envMapMode envMapEncoding envMapCubeUV lightMap lightMapEncoding aoMap emissiveMap emissiveMapEncoding bumpMap normalMap objectSpaceNormalMap tangentSpaceNormalMap clearcoatMap clearcoatRoughnessMap clearcoatNormalMap displacementMap specularMap roughnessMap metalnessMap gradientMap alphaMap combine vertexColors vertexTangents vertexUvs uvsVertexOnly fog useFog fogExp2 flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights numRectAreaLights numDirLightShadows numPointLightShadows numSpotLightShadows shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes numClipIntersection depthPacking dithering sheen".split(" ");this.getParameters=function(ue,be,Me,ct,Nt,Pt,Bt){var ir=ct.fog;ct=ue.isMeshStandardMaterial?ct.environment:null,ct=ue.envMap||ct;var Ir=W[ue.type];if(Bt.isSkinnedMesh){var Tr=Bt.skeleton.bones;if(w)Tr=1024;else{var wt=Math.min(Math.floor((j-20)/4),Tr.length);wt<Tr.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+Tr.length+" bones. This GPU supports "+wt+"."),Tr=0):Tr=wt}}else Tr=0;ue.precision!==null&&(I=r.getMaxPrecision(ue.precision),I!==ue.precision&&console.warn("THREE.WebGLProgram.getParameters:",ue.precision,"not supported, using",I,"instead.")),Ir?(wt=hm[Ir],wt={name:ue.type,uniforms:Mv.clone(wt.uniforms),vertexShader:wt.vertexShader,fragmentShader:wt.fragmentShader}):wt={name:ue.type,uniforms:ue.uniforms,vertexShader:ue.vertexShader,fragmentShader:ue.fragmentShader},ue.onBeforeCompile(wt,i);var qn=i.getRenderTarget();return{isWebGL2:v,shaderID:Ir,shaderName:wt.name,uniforms:wt.uniforms,vertexShader:wt.vertexShader,fragmentShader:wt.fragmentShader,defines:ue.defines,isRawShaderMaterial:ue.isRawShaderMaterial,isShaderMaterial:ue.isShaderMaterial,precision:I,instancing:Bt.isInstancedMesh===!0,supportsVertexTextures:G,outputEncoding:qn!==null?s(qn.texture):i.outputEncoding,map:!!ue.map,mapEncoding:s(ue.map),matcap:!!ue.matcap,matcapEncoding:s(ue.matcap),envMap:!!ct,envMapMode:ct&&ct.mapping,envMapEncoding:s(ct),envMapCubeUV:!!ct&&(ct.mapping===306||ct.mapping===307),lightMap:!!ue.lightMap,lightMapEncoding:s(ue.lightMap),aoMap:!!ue.aoMap,emissiveMap:!!ue.emissiveMap,emissiveMapEncoding:s(ue.emissiveMap),bumpMap:!!ue.bumpMap,normalMap:!!ue.normalMap,objectSpaceNormalMap:ue.normalMapType===1,tangentSpaceNormalMap:ue.normalMapType===0,clearcoatMap:!!ue.clearcoatMap,clearcoatRoughnessMap:!!ue.clearcoatRoughnessMap,clearcoatNormalMap:!!ue.clearcoatNormalMap,displacementMap:!!ue.displacementMap,roughnessMap:!!ue.roughnessMap,metalnessMap:!!ue.metalnessMap,specularMap:!!ue.specularMap,alphaMap:!!ue.alphaMap,gradientMap:!!ue.gradientMap,sheen:!!ue.sheen,combine:ue.combine,vertexTangents:ue.normalMap&&ue.vertexTangents,vertexColors:ue.vertexColors,vertexUvs:!!ue.map||!!ue.bumpMap||!!ue.normalMap||!!ue.specularMap||!!ue.alphaMap||!!ue.emissiveMap||!!ue.roughnessMap||!!ue.metalnessMap||!!ue.clearcoatMap||!!ue.clearcoatRoughnessMap||!!ue.clearcoatNormalMap||!!ue.displacementMap,uvsVertexOnly:!(ue.map||ue.bumpMap||ue.normalMap||ue.specularMap||ue.alphaMap||ue.emissiveMap||ue.roughnessMap||ue.metalnessMap||ue.clearcoatNormalMap)&&!!ue.displacementMap,fog:!!ir,useFog:ue.fog,fogExp2:ir&&ir.isFogExp2,flatShading:ue.flatShading,sizeAttenuation:ue.sizeAttenuation,logarithmicDepthBuffer:x,skinning:ue.skinning&&0<Tr,maxBones:Tr,useVertexTexture:w,morphTargets:ue.morphTargets,morphNormals:ue.morphNormals,maxMorphTargets:i.maxMorphTargets,maxMorphNormals:i.maxMorphNormals,numDirLights:be.directional.length,numPointLights:be.point.length,numSpotLights:be.spot.length,numRectAreaLights:be.rectArea.length,numHemiLights:be.hemi.length,numDirLightShadows:be.directionalShadowMap.length,numPointLightShadows:be.pointShadowMap.length,numSpotLightShadows:be.spotShadowMap.length,numClippingPlanes:Nt,numClipIntersection:Pt,dithering:ue.dithering,shadowMapEnabled:i.shadowMap.enabled&&0<Me.length,shadowMapType:i.shadowMap.type,toneMapping:ue.toneMapped?i.toneMapping:0,physicallyCorrectLights:i.physicallyCorrectLights,premultipliedAlpha:ue.premultipliedAlpha,alphaTest:ue.alphaTest,doubleSided:ue.side===2,flipSided:ue.side===1,depthPacking:ue.depthPacking!==void 0?ue.depthPacking:!1,index0AttributeName:ue.index0AttributeName,extensionDerivatives:ue.extensions&&ue.extensions.derivatives,extensionFragDepth:ue.extensions&&ue.extensions.fragDepth,extensionDrawBuffers:ue.extensions&&ue.extensions.drawBuffers,extensionShaderTextureLOD:ue.extensions&&ue.extensions.shaderTextureLOD,rendererExtensionFragDepth:v||e.get("EXT_frag_depth")!==null,rendererExtensionDrawBuffers:v||e.get("WEBGL_draw_buffers")!==null,rendererExtensionShaderTextureLod:v||e.get("EXT_shader_texture_lod")!==null,onBeforeCompile:ue.onBeforeCompile}},this.getProgramCacheKey=function(ue){var be=[];if(ue.shaderID?be.push(ue.shaderID):(be.push(ue.fragmentShader),be.push(ue.vertexShader)),ue.defines!==void 0)for(var Me in ue.defines)be.push(Me),be.push(ue.defines[Me]);if(ue.isRawShaderMaterial===void 0){for(Me=0;Me<ae.length;Me++)be.push(ue[ae[Me]]);be.push(i.outputEncoding),be.push(i.gammaFactor)}return be.push(ue.onBeforeCompile.toString()),be.join()},this.acquireProgram=function(ue,be){for(var Me,ct=0,Nt=c.length;ct<Nt;ct++){var Pt=c[ct];if(Pt.cacheKey===be){Me=Pt,++Me.usedTimes;break}}return Me===void 0&&(Me=new Jd(i,be,ue),c.push(Me)),Me},this.releaseProgram=function(ue){if(--ue.usedTimes==0){var be=c.indexOf(ue);c[be]=c[c.length-1],c.pop(),ue.destroy()}},this.programs=c}function zh(){var i=new pl;return{get:function(r){var s=i.get(r);return s===void 0&&(s={},i.set(r,s)),s},remove:function(r){i.delete(r)},update:function(r,s,c){i.get(r)[s]=c},dispose:function(){i=new pl}}}function Th(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.program!==e.program?i.program.id-e.program.id:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function If(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function ql(){function i(x,w,I,j,G,W){var ae=e[r];return ae===void 0?(ae={id:x.id,object:x,geometry:w,material:I,program:I.program||v,groupOrder:j,renderOrder:x.renderOrder,z:G,group:W},e[r]=ae):(ae.id=x.id,ae.object=x,ae.geometry=w,ae.material=I,ae.program=I.program||v,ae.groupOrder=j,ae.renderOrder=x.renderOrder,ae.z=G,ae.group=W),r++,ae}var e=[],r=0,s=[],c=[],v={id:-1};return{opaque:s,transparent:c,init:function(){r=0,s.length=0,c.length=0},push:function(w,I,j,G,W,ae){w=i(w,I,j,G,W,ae),(j.transparent===!0?c:s).push(w)},unshift:function(w,I,j,G,W,ae){w=i(w,I,j,G,W,ae),(j.transparent===!0?c:s).unshift(w)},finish:function(){for(var w=r,I=e.length;w<I;w++){var j=e[w];if(j.id===null)break;j.id=null,j.object=null,j.geometry=null,j.material=null,j.program=null,j.group=null}},sort:function(w,I){1<s.length&&s.sort(w||Th),1<c.length&&c.sort(I||If)}}}function Ho(){function i(r){r=r.target,r.removeEventListener("dispose",i),e.delete(r)}var e=new pl;return{get:function(s,c){var v=e.get(s);if(v===void 0){var x=new ql;e.set(s,new pl),e.get(s).set(c,x),s.addEventListener("dispose",i)}else x=v.get(c),x===void 0&&(x=new ql,v.set(c,x));return x},dispose:function(){e=new pl}}}function ul(){var i={};return{get:function(r){if(i[r.id]!==void 0)return i[r.id];switch(r.type){case"DirectionalLight":var s={direction:new Ie,color:new At};break;case"SpotLight":s={position:new Ie,direction:new Ie,color:new At,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":s={position:new Ie,color:new At,distance:0,decay:0};break;case"HemisphereLight":s={direction:new Ie,skyColor:new At,groundColor:new At};break;case"RectAreaLight":s={color:new At,position:new Ie,halfWidth:new Ie,halfHeight:new Ie}}return i[r.id]=s}}}function oh(){var i={};return{get:function(r){if(i[r.id]!==void 0)return i[r.id];switch(r.type){case"DirectionalLight":var s={shadowBias:0,shadowRadius:1,shadowMapSize:new $e};break;case"SpotLight":s={shadowBias:0,shadowRadius:1,shadowMapSize:new $e};break;case"PointLight":s={shadowBias:0,shadowRadius:1,shadowMapSize:new $e,shadowCameraNear:1,shadowCameraFar:1e3}}return i[r.id]=s}}}function ls(i,e){return(e.castShadow?1:0)-(i.castShadow?1:0)}function cl(){for(var i=new ul,e=oh(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},s=0;9>s;s++)r.probe.push(new Ie);var c=new Ie,v=new ht,x=new ht;return{setup:function(I,j,G){for(var W=0,ae=0,ue=0,be=0;9>be;be++)r.probe[be].set(0,0,0);var Me=j=0,ct=0,Nt=0,Pt=0,Bt=0,ir=0,Ir=0;G=G.matrixWorldInverse,I.sort(ls),be=0;for(var Tr=I.length;be<Tr;be++){var wt=I[be],qn=wt.color,Fr=wt.intensity,pi=wt.distance,Ai=wt.shadow&&wt.shadow.map?wt.shadow.map.texture:null;if(wt.isAmbientLight)W+=qn.r*Fr,ae+=qn.g*Fr,ue+=qn.b*Fr;else if(wt.isLightProbe)for(Ai=0;9>Ai;Ai++)r.probe[Ai].addScaledVector(wt.sh.coefficients[Ai],Fr);else if(wt.isDirectionalLight){var Pr=i.get(wt);Pr.color.copy(wt.color).multiplyScalar(wt.intensity),Pr.direction.setFromMatrixPosition(wt.matrixWorld),c.setFromMatrixPosition(wt.target.matrixWorld),Pr.direction.sub(c),Pr.direction.transformDirection(G),wt.castShadow&&(Fr=wt.shadow,qn=e.get(wt),qn.shadowBias=Fr.bias,qn.shadowRadius=Fr.radius,qn.shadowMapSize=Fr.mapSize,r.directionalShadow[j]=qn,r.directionalShadowMap[j]=Ai,r.directionalShadowMatrix[j]=wt.shadow.matrix,Bt++),r.directional[j]=Pr,j++}else wt.isSpotLight?(Pr=i.get(wt),Pr.position.setFromMatrixPosition(wt.matrixWorld),Pr.position.applyMatrix4(G),Pr.color.copy(qn).multiplyScalar(Fr),Pr.distance=pi,Pr.direction.setFromMatrixPosition(wt.matrixWorld),c.setFromMatrixPosition(wt.target.matrixWorld),Pr.direction.sub(c),Pr.direction.transformDirection(G),Pr.coneCos=Math.cos(wt.angle),Pr.penumbraCos=Math.cos(wt.angle*(1-wt.penumbra)),Pr.decay=wt.decay,wt.castShadow&&(Fr=wt.shadow,qn=e.get(wt),qn.shadowBias=Fr.bias,qn.shadowRadius=Fr.radius,qn.shadowMapSize=Fr.mapSize,r.spotShadow[ct]=qn,r.spotShadowMap[ct]=Ai,r.spotShadowMatrix[ct]=wt.shadow.matrix,Ir++),r.spot[ct]=Pr,ct++):wt.isRectAreaLight?(Pr=i.get(wt),Pr.color.copy(qn).multiplyScalar(Fr),Pr.position.setFromMatrixPosition(wt.matrixWorld),Pr.position.applyMatrix4(G),x.identity(),v.copy(wt.matrixWorld),v.premultiply(G),x.extractRotation(v),Pr.halfWidth.set(.5*wt.width,0,0),Pr.halfHeight.set(0,.5*wt.height,0),Pr.halfWidth.applyMatrix4(x),Pr.halfHeight.applyMatrix4(x),r.rectArea[Nt]=Pr,Nt++):wt.isPointLight?(Pr=i.get(wt),Pr.position.setFromMatrixPosition(wt.matrixWorld),Pr.position.applyMatrix4(G),Pr.color.copy(wt.color).multiplyScalar(wt.intensity),Pr.distance=wt.distance,Pr.decay=wt.decay,wt.castShadow&&(Fr=wt.shadow,qn=e.get(wt),qn.shadowBias=Fr.bias,qn.shadowRadius=Fr.radius,qn.shadowMapSize=Fr.mapSize,qn.shadowCameraNear=Fr.camera.near,qn.shadowCameraFar=Fr.camera.far,r.pointShadow[Me]=qn,r.pointShadowMap[Me]=Ai,r.pointShadowMatrix[Me]=wt.shadow.matrix,ir++),r.point[Me]=Pr,Me++):wt.isHemisphereLight&&(Pr=i.get(wt),Pr.direction.setFromMatrixPosition(wt.matrixWorld),Pr.direction.transformDirection(G),Pr.direction.normalize(),Pr.skyColor.copy(wt.color).multiplyScalar(Fr),Pr.groundColor.copy(wt.groundColor).multiplyScalar(Fr),r.hemi[Pt]=Pr,Pt++)}r.ambient[0]=W,r.ambient[1]=ae,r.ambient[2]=ue,I=r.hash,(I.directionalLength!==j||I.pointLength!==Me||I.spotLength!==ct||I.rectAreaLength!==Nt||I.hemiLength!==Pt||I.numDirectionalShadows!==Bt||I.numPointShadows!==ir||I.numSpotShadows!==Ir)&&(r.directional.length=j,r.spot.length=ct,r.rectArea.length=Nt,r.point.length=Me,r.hemi.length=Pt,r.directionalShadow.length=Bt,r.directionalShadowMap.length=Bt,r.pointShadow.length=ir,r.pointShadowMap.length=ir,r.spotShadow.length=Ir,r.spotShadowMap.length=Ir,r.directionalShadowMatrix.length=Bt,r.pointShadowMatrix.length=ir,r.spotShadowMatrix.length=Ir,I.directionalLength=j,I.pointLength=Me,I.spotLength=ct,I.rectAreaLength=Nt,I.hemiLength=Pt,I.numDirectionalShadows=Bt,I.numPointShadows=ir,I.numSpotShadows=Ir,r.version=Ev++)},state:r}}function wp(){var i=new cl,e=[],r=[];return{init:function(){e.length=0,r.length=0},state:{lightsArray:e,shadowsArray:r,lights:i},setupLights:function(c){i.setup(e,r,c)},pushLight:function(c){e.push(c)},pushShadow:function(c){r.push(c)}}}function mm(){function i(r){r=r.target,r.removeEventListener("dispose",i),e.delete(r)}var e=new pl;return{get:function(s,c){if(e.has(s)===!1){var v=new wp;e.set(s,new pl),e.get(s).set(c,v),s.addEventListener("dispose",i)}else e.get(s).has(c)===!1?(v=new wp,e.get(s).set(c,v)):v=e.get(s).get(c);return v},dispose:function(){e=new pl}}}function Qc(i){Kr.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.morphTargets=this.skinning=!1,this.displacementMap=this.alphaMap=this.map=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(i)}function od(i){Kr.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Ie,this.nearDistance=1,this.farDistance=1e3,this.morphTargets=this.skinning=!1,this.displacementMap=this.alphaMap=this.map=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(i)}function vf(i,e,r){function s(ir,Ir,Tr){Tr=ir<<0|Ir<<1|Tr<<2;var wt=W[Tr];return wt===void 0&&(wt=new Qc({depthPacking:3201,morphTargets:ir,skinning:Ir}),W[Tr]=wt),wt}function c(ir,Ir,Tr){Tr=ir<<0|Ir<<1|Tr<<2;var wt=ae[Tr];return wt===void 0&&(wt=new od({morphTargets:ir,skinning:Ir}),ae[Tr]=wt),wt}function v(ir,Ir,Tr,wt,qn,Fr,pi){var Ai=s,Pr=ir.customDepthMaterial;return wt.isPointLight===!0&&(Ai=c,Pr=ir.customDistanceMaterial),Pr===void 0?(Pr=!1,Tr.morphTargets===!0&&(Pr=Ir.morphAttributes&&Ir.morphAttributes.position&&0<Ir.morphAttributes.position.length),Ir=!1,ir.isSkinnedMesh===!0&&(Tr.skinning===!0?Ir=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",ir)),ir=Ai(Pr,Ir,ir.isInstancedMesh===!0)):ir=Pr,i.localClippingEnabled&&Tr.clipShadows===!0&&Tr.clippingPlanes.length!==0&&(Pr=ir.uuid,Ai=Tr.uuid,Ir=ue[Pr],Ir===void 0&&(Ir={},ue[Pr]=Ir),Pr=Ir[Ai],Pr===void 0&&(Pr=ir.clone(),Ir[Ai]=Pr),ir=Pr),ir.visible=Tr.visible,ir.wireframe=Tr.wireframe,ir.side=pi===3?Tr.shadowSide!==null?Tr.shadowSide:Tr.side:Tr.shadowSide!==null?Tr.shadowSide:be[Tr.side],ir.clipShadows=Tr.clipShadows,ir.clippingPlanes=Tr.clippingPlanes,ir.clipIntersection=Tr.clipIntersection,ir.wireframeLinewidth=Tr.wireframeLinewidth,ir.linewidth=Tr.linewidth,wt.isPointLight===!0&&ir.isMeshDistanceMaterial===!0&&(ir.referencePosition.setFromMatrixPosition(wt.matrixWorld),ir.nearDistance=qn,ir.farDistance=Fr),ir}function x(ir,Ir,Tr,wt,qn){if(ir.visible!==!1){if(ir.layers.test(Ir.layers)&&(ir.isMesh||ir.isLine||ir.isPoints)&&(ir.castShadow||ir.receiveShadow&&qn===3)&&(!ir.frustumCulled||w.intersectsObject(ir))){ir.modelViewMatrix.multiplyMatrices(Tr.matrixWorldInverse,ir.matrixWorld);var Fr=e.update(ir),pi=ir.material;if(Array.isArray(pi))for(var Ai=Fr.groups,Pr=0,Fo=Ai.length;Pr<Fo;Pr++){var En=Ai[Pr],ua=pi[En.materialIndex];ua&&ua.visible&&(ua=v(ir,Fr,ua,wt,Tr.near,Tr.far,qn),i.renderBufferDirect(Tr,null,Fr,ua,ir,En))}else pi.visible&&(ua=v(ir,Fr,pi,wt,Tr.near,Tr.far,qn),i.renderBufferDirect(Tr,null,Fr,ua,ir,null))}for(ir=ir.children,Fr=0,pi=ir.length;Fr<pi;Fr++)x(ir[Fr],Ir,Tr,wt,qn)}}var w=new ss,I=new $e,j=new $e,G=new et,W=[],ae=[],ue={},be={0:1,1:0,2:2},Me=new $o({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:.125},uniforms:{shadow_pass:{value:null},resolution:{value:new $e},radius:{value:4}},vertexShader:`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragmentShader:`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
  float mean = 0.0;
  float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );
  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
    #ifdef HORIZONAL_PASS
      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
      mean += distribution.x;
      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
    #else
      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );
      mean += depth;
      squared_mean += depth * depth;
    #endif
  }
  mean = mean * HALF_SAMPLE_RATE;
  squared_mean = squared_mean * HALF_SAMPLE_RATE;
  float std_dev = sqrt( squared_mean - mean * mean );
  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`}),ct=Me.clone();ct.defines.HORIZONAL_PASS=1;var Nt=new kr;Nt.setAttribute("position",new Nn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var Pt=new ei(Nt,Me),Bt=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(ir,Ir,Tr){if(Bt.enabled!==!1&&(Bt.autoUpdate!==!1||Bt.needsUpdate!==!1)&&ir.length!==0){var wt=i.getRenderTarget(),qn=i.getActiveCubeFace(),Fr=i.getActiveMipmapLevel(),pi=i.state;pi.setBlending(0),pi.buffers.color.setClear(1,1,1,1),pi.buffers.depth.setTest(!0),pi.setScissorTest(!1);for(var Ai=0,Pr=ir.length;Ai<Pr;Ai++){var Fo=ir[Ai],En=Fo.shadow;if(En===void 0)console.warn("THREE.WebGLShadowMap:",Fo,"has no shadow.");else{I.copy(En.mapSize);var ua=En.getFrameExtents();I.multiply(ua),j.copy(En.mapSize),(I.x>r||I.y>r)&&(I.x>r&&(j.x=Math.floor(r/ua.x),I.x=j.x*ua.x,En.mapSize.x=j.x),I.y>r&&(j.y=Math.floor(r/ua.y),I.y=j.y*ua.y,En.mapSize.y=j.y)),En.map!==null||En.isPointLightShadow||this.type!==3||(ua={minFilter:1006,magFilter:1006,format:1023},En.map=new bt(I.x,I.y,ua),En.map.texture.name=Fo.name+".shadowMap",En.mapPass=new bt(I.x,I.y,ua),En.camera.updateProjectionMatrix()),En.map===null&&(ua={minFilter:1003,magFilter:1003,format:1023},En.map=new bt(I.x,I.y,ua),En.map.texture.name=Fo.name+".shadowMap",En.camera.updateProjectionMatrix()),i.setRenderTarget(En.map),i.clear(),ua=En.getViewportCount();for(var as=0;as<ua;as++){var Ca=En.getViewport(as);G.set(j.x*Ca.x,j.y*Ca.y,j.x*Ca.z,j.y*Ca.w),pi.viewport(G),En.updateMatrices(Fo,as),w=En.getFrustum(),x(Ir,Tr,En.camera,Fo,this.type)}En.isPointLightShadow||this.type!==3||(Fo=En,En=Tr,ua=e.update(Pt),Me.uniforms.shadow_pass.value=Fo.map.texture,Me.uniforms.resolution.value=Fo.mapSize,Me.uniforms.radius.value=Fo.radius,i.setRenderTarget(Fo.mapPass),i.clear(),i.renderBufferDirect(En,null,ua,Me,Pt,null),ct.uniforms.shadow_pass.value=Fo.mapPass.texture,ct.uniforms.resolution.value=Fo.mapSize,ct.uniforms.radius.value=Fo.radius,i.setRenderTarget(Fo.map),i.clear(),i.renderBufferDirect(En,null,ua,ct,Pt,null))}}Bt.needsUpdate=!1,i.setRenderTarget(wt,qn,Fr)}}}function gf(i,e,r){function s(Or,Yr,Wi){var li=new Uint8Array(4),Ii=i.createTexture();for(i.bindTexture(Or,Ii),i.texParameteri(Or,10241,9728),i.texParameteri(Or,10240,9728),Or=0;Or<Wi;Or++)i.texImage2D(Yr+Or,0,6408,1,1,0,6408,5121,li);return Ii}function c(Or,Yr){Pt[Or]=1,Bt[Or]===0&&(i.enableVertexAttribArray(Or),Bt[Or]=1),ir[Or]!==Yr&&((be?i:e.get("ANGLE_instanced_arrays"))[be?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Or,Yr),ir[Or]=Yr)}function v(Or){Ir[Or]!==!0&&(i.enable(Or),Ir[Or]=!0)}function x(Or){Ir[Or]!==!1&&(i.disable(Or),Ir[Or]=!1)}function w(Or,Yr,Wi,li,Ii,Ln,Oa,Os){if(Or===0)wt&&(x(3042),wt=!1);else if(wt||(v(3042),wt=!0),Or!==5){if(Or!==qn||Os!==ua){if((Fr!==100||Pr!==100)&&(i.blendEquation(32774),Pr=Fr=100),Os)switch(Or){case 1:i.blendFuncSeparate(1,771,1,771);break;case 2:i.blendFunc(1,1);break;case 3:i.blendFuncSeparate(0,0,769,771);break;case 4:i.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Or)}else switch(Or){case 1:i.blendFuncSeparate(770,771,1,771);break;case 2:i.blendFunc(770,1);break;case 3:i.blendFunc(0,769);break;case 4:i.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Or)}En=Fo=Ai=pi=null,qn=Or,ua=Os}}else Ii=Ii||Yr,Ln=Ln||Wi,Oa=Oa||li,(Yr!==Fr||Ii!==Pr)&&(i.blendEquationSeparate(Vi[Yr],Vi[Ii]),Fr=Yr,Pr=Ii),(Wi!==pi||li!==Ai||Ln!==Fo||Oa!==En)&&(i.blendFuncSeparate(oo[Wi],oo[li],oo[Ln],oo[Oa]),pi=Wi,Ai=li,Fo=Ln,En=Oa),qn=Or,ua=null}function I(Or){as!==Or&&(Or?i.frontFace(2304):i.frontFace(2305),as=Or)}function j(Or){Or!==0?(v(2884),Or!==Ca&&(Or===1?i.cullFace(1029):Or===2?i.cullFace(1028):i.cullFace(1032))):x(2884),Ca=Or}function G(Or,Yr,Wi){Or?(v(32823),(Aa!==Yr||Bl!==Wi)&&(i.polygonOffset(Yr,Wi),Aa=Yr,Bl=Wi)):x(32823)}function W(Or){Or===void 0&&(Or=33984+hf-1),Gl!==Or&&(i.activeTexture(Or),Gl=Or)}var ae,ue,be=r.isWebGL2,Me=new function(){var Or=!1,Yr=new et,Wi=null,li=new et(0,0,0,0);return{setMask:function(Ln){Wi===Ln||Or||(i.colorMask(Ln,Ln,Ln,Ln),Wi=Ln)},setLocked:function(Ln){Or=Ln},setClear:function(Ln,Oa,Os,Dn,Ra){Ra===!0&&(Ln*=Dn,Oa*=Dn,Os*=Dn),Yr.set(Ln,Oa,Os,Dn),li.equals(Yr)===!1&&(i.clearColor(Ln,Oa,Os,Dn),li.copy(Yr))},reset:function(){Or=!1,Wi=null,li.set(-1,0,0,0)}}},ct=new function(){var Or=!1,Yr=null,Wi=null,li=null;return{setTest:function(Ln){Ln?v(2929):x(2929)},setMask:function(Ln){Yr===Ln||Or||(i.depthMask(Ln),Yr=Ln)},setFunc:function(Ln){if(Wi!==Ln){if(Ln)switch(Ln){case 0:i.depthFunc(512);break;case 1:i.depthFunc(519);break;case 2:i.depthFunc(513);break;case 3:i.depthFunc(515);break;case 4:i.depthFunc(514);break;case 5:i.depthFunc(518);break;case 6:i.depthFunc(516);break;case 7:i.depthFunc(517);break;default:i.depthFunc(515)}else i.depthFunc(515);Wi=Ln}},setLocked:function(Ln){Or=Ln},setClear:function(Ln){li!==Ln&&(i.clearDepth(Ln),li=Ln)},reset:function(){Or=!1,li=Wi=Yr=null}}},Nt=new function(){var Or=!1,Yr=null,Wi=null,li=null,Ii=null,Ln=null,Oa=null,Os=null,Dn=null;return{setTest:function(qo){Or||(qo?v(2960):x(2960))},setMask:function(qo){Yr===qo||Or||(i.stencilMask(qo),Yr=qo)},setFunc:function(qo,Xo,Rc){(Wi!==qo||li!==Xo||Ii!==Rc)&&(i.stencilFunc(qo,Xo,Rc),Wi=qo,li=Xo,Ii=Rc)},setOp:function(qo,Xo,Rc){(Ln!==qo||Oa!==Xo||Os!==Rc)&&(i.stencilOp(qo,Xo,Rc),Ln=qo,Oa=Xo,Os=Rc)},setLocked:function(qo){Or=qo},setClear:function(qo){Dn!==qo&&(i.clearStencil(qo),Dn=qo)},reset:function(){Or=!1,Dn=Os=Oa=Ln=Ii=li=Wi=Yr=null}}};r=i.getParameter(34921);var Pt=new Uint8Array(r),Bt=new Uint8Array(r),ir=new Uint8Array(r),Ir={},Tr=null,wt=null,qn=null,Fr=null,pi=null,Ai=null,Pr=null,Fo=null,En=null,ua=!1,as=null,Ca=null,Du=null,Aa=null,Bl=null,hf=i.getParameter(35661),vi=!1;r=0,r=i.getParameter(7938),r.indexOf("WebGL")!==-1?(r=parseFloat(/^WebGL ([0-9])/.exec(r)[1]),vi=1<=r):r.indexOf("OpenGL ES")!==-1&&(r=parseFloat(/^OpenGL ES ([0-9])/.exec(r)[1]),vi=2<=r);var Gl=null,ft={},Ut=new et,Kt=new et,Hr={};Hr[3553]=s(3553,3553,1),Hr[34067]=s(34067,34069,6),Me.setClear(0,0,0,1),ct.setClear(1),Nt.setClear(0),v(2929),ct.setFunc(3),I(!1),j(1),v(2884),w(0);var Vi=(ae={},B(ae,100,32774),B(ae,101,32778),B(ae,102,32779),ae);be?(Vi[103]=32775,Vi[104]=32776):(ae=e.get("EXT_blend_minmax"),ae!==null&&(Vi[103]=ae.MIN_EXT,Vi[104]=ae.MAX_EXT));var oo=(ue={},B(ue,200,0),B(ue,201,1),B(ue,202,768),B(ue,204,770),B(ue,210,776),B(ue,208,774),B(ue,206,772),B(ue,203,769),B(ue,205,771),B(ue,209,775),B(ue,207,773),ue);return{buffers:{color:Me,depth:ct,stencil:Nt},initAttributes:function(){for(var Yr=0,Wi=Pt.length;Yr<Wi;Yr++)Pt[Yr]=0},enableAttribute:function(Yr){c(Yr,0)},enableAttributeAndDivisor:c,disableUnusedAttributes:function(){for(var Yr=0,Wi=Bt.length;Yr!==Wi;++Yr)Bt[Yr]!==Pt[Yr]&&(i.disableVertexAttribArray(Yr),Bt[Yr]=0)},vertexAttribPointer:function(Yr,Wi,li,Ii,Ln,Oa){be!==!0||li!==5124&&li!==5125?i.vertexAttribPointer(Yr,Wi,li,Ii,Ln,Oa):i.vertexAttribIPointer(Yr,Wi,li,Ii,Ln,Oa)},enable:v,disable:x,useProgram:function(Yr){return Tr!==Yr?(i.useProgram(Yr),Tr=Yr,!0):!1},setBlending:w,setMaterial:function(Yr,Wi){Yr.side===2?x(2884):v(2884);var li=Yr.side===1;Wi&&(li=!li),I(li),Yr.blending===1&&Yr.transparent===!1?w(0):w(Yr.blending,Yr.blendEquation,Yr.blendSrc,Yr.blendDst,Yr.blendEquationAlpha,Yr.blendSrcAlpha,Yr.blendDstAlpha,Yr.premultipliedAlpha),ct.setFunc(Yr.depthFunc),ct.setTest(Yr.depthTest),ct.setMask(Yr.depthWrite),Me.setMask(Yr.colorWrite),Wi=Yr.stencilWrite,Nt.setTest(Wi),Wi&&(Nt.setMask(Yr.stencilWriteMask),Nt.setFunc(Yr.stencilFunc,Yr.stencilRef,Yr.stencilFuncMask),Nt.setOp(Yr.stencilFail,Yr.stencilZFail,Yr.stencilZPass)),G(Yr.polygonOffset,Yr.polygonOffsetFactor,Yr.polygonOffsetUnits)},setFlipSided:I,setCullFace:j,setLineWidth:function(Yr){Yr!==Du&&(vi&&i.lineWidth(Yr),Du=Yr)},setPolygonOffset:G,setScissorTest:function(Yr){Yr?v(3089):x(3089)},activeTexture:W,bindTexture:function(Yr,Wi){Gl===null&&W();var li=ft[Gl];li===void 0&&(li={type:void 0,texture:void 0},ft[Gl]=li),(li.type!==Yr||li.texture!==Wi)&&(i.bindTexture(Yr,Wi||Hr[Yr]),li.type=Yr,li.texture=Wi)},unbindTexture:function(){var Yr=ft[Gl];Yr!==void 0&&Yr.type!==void 0&&(i.bindTexture(Yr.type,null),Yr.type=void 0,Yr.texture=void 0)},compressedTexImage2D:function(){try{i.compressedTexImage2D.apply(i,arguments)}catch(Yr){console.error("THREE.WebGLState:",Yr)}},texImage2D:function(){try{i.texImage2D.apply(i,arguments)}catch(Yr){console.error("THREE.WebGLState:",Yr)}},texImage3D:function(){try{i.texImage3D.apply(i,arguments)}catch(Yr){console.error("THREE.WebGLState:",Yr)}},scissor:function(Yr){Ut.equals(Yr)===!1&&(i.scissor(Yr.x,Yr.y,Yr.z,Yr.w),Ut.copy(Yr))},viewport:function(Yr){Kt.equals(Yr)===!1&&(i.viewport(Yr.x,Yr.y,Yr.z,Yr.w),Kt.copy(Yr))},reset:function(){for(var Yr=0;Yr<Bt.length;Yr++)Bt[Yr]===1&&(i.disableVertexAttribArray(Yr),Bt[Yr]=0);Ir={},Gl=null,ft={},Ca=as=qn=Tr=null,Me.reset(),ct.reset(),Nt.reset()}}}function qc(i,e,r,s,c,v,x){function w(ft,Ut){return Du?new OffscreenCanvas(ft,Ut):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function I(ft,Ut,Kt,Hr){var Vi=1;if((ft.width>Hr||ft.height>Hr)&&(Vi=Hr/Math.max(ft.width,ft.height)),1>Vi||Ut===!0){if(typeof HTMLImageElement!="undefined"&&ft instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&ft instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&ft instanceof ImageBitmap)return Hr=Ut?L.floorPowerOfTwo:Math.floor,Ut=Hr(Vi*ft.width),Vi=Hr(Vi*ft.height),Ca===void 0&&(Ca=w(Ut,Vi)),Kt=Kt?w(Ut,Vi):Ca,Kt.width=Ut,Kt.height=Vi,Kt.getContext("2d").drawImage(ft,0,0,Ut,Vi),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ft.width+"x"+ft.height+") to ("+Ut+"x"+Vi+")."),Kt;"data"in ft&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ft.width+"x"+ft.height+").")}return ft}function j(ft){return L.isPowerOfTwo(ft.width)&&L.isPowerOfTwo(ft.height)}function G(ft,Ut){return ft.generateMipmaps&&Ut&&ft.minFilter!==1003&&ft.minFilter!==1006}function W(ft,Ut,Kt,Hr){i.generateMipmap(ft),s.get(Ut).__maxMipLevel=Math.log(Math.max(Kt,Hr))*Math.LOG2E}function ae(ft,Ut,Kt){if(Ai===!1)return Ut;if(ft!==null){if(i[ft]!==void 0)return i[ft];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ft+"'")}return ft=Ut,Ut===6403&&(Kt===5126&&(ft=33326),Kt===5131&&(ft=33325),Kt===5121&&(ft=33321)),Ut===6407&&(Kt===5126&&(ft=34837),Kt===5131&&(ft=34843),Kt===5121&&(ft=32849)),Ut===6408&&(Kt===5126&&(ft=34836),Kt===5131&&(ft=34842),Kt===5121&&(ft=32856)),ft!==33325&&ft!==33326&&ft!==34842&&ft!==34836||e.get("EXT_color_buffer_float"),ft}function ue(ft){return ft===1003||ft===1004||ft===1005?9728:9729}function be(ft){ft=ft.target,ft.removeEventListener("dispose",be);var Ut=s.get(ft);Ut.__webglInit!==void 0&&(i.deleteTexture(Ut.__webglTexture),s.remove(ft)),ft.isVideoTexture&&as.delete(ft),x.memory.textures--}function Me(ft){ft=ft.target,ft.removeEventListener("dispose",Me);var Ut=s.get(ft),Kt=s.get(ft.texture);if(ft){if(Kt.__webglTexture!==void 0&&i.deleteTexture(Kt.__webglTexture),ft.depthTexture&&ft.depthTexture.dispose(),ft.isWebGLCubeRenderTarget)for(Kt=0;6>Kt;Kt++)i.deleteFramebuffer(Ut.__webglFramebuffer[Kt]),Ut.__webglDepthbuffer&&i.deleteRenderbuffer(Ut.__webglDepthbuffer[Kt]);else i.deleteFramebuffer(Ut.__webglFramebuffer),Ut.__webglDepthbuffer&&i.deleteRenderbuffer(Ut.__webglDepthbuffer),Ut.__webglMultisampledFramebuffer&&i.deleteFramebuffer(Ut.__webglMultisampledFramebuffer),Ut.__webglColorRenderbuffer&&i.deleteRenderbuffer(Ut.__webglColorRenderbuffer),Ut.__webglDepthRenderbuffer&&i.deleteRenderbuffer(Ut.__webglDepthRenderbuffer);s.remove(ft.texture),s.remove(ft)}x.memory.textures--}function ct(ft,Ut){var Kt=s.get(ft);if(ft.isVideoTexture){var Hr=x.render.frame;as.get(ft)!==Hr&&(as.set(ft,Hr),ft.update())}if(0<ft.version&&Kt.__version!==ft.version)if(Hr=ft.image,Hr===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(Hr.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ir(Kt,ft,Ut);return}r.activeTexture(33984+Ut),r.bindTexture(3553,Kt.__webglTexture)}function Nt(ft,Ut){if(ft.image.length===6){var Kt=s.get(ft);if(0<ft.version&&Kt.__version!==ft.version){ir(Kt,ft),r.activeTexture(33984+Ut),r.bindTexture(34067,Kt.__webglTexture),i.pixelStorei(37440,ft.flipY);var Hr=ft&&(ft.isCompressedTexture||ft.image[0].isCompressedTexture);Ut=ft.image[0]&&ft.image[0].isDataTexture;for(var Vi=[],oo=0;6>oo;oo++)Vi[oo]=Hr||Ut?Ut?ft.image[oo].image:ft.image[oo]:I(ft.image[oo],!1,!0,Fo);var Or=Vi[0],Yr=j(Or)||Ai,Wi=v.convert(ft.format),li=v.convert(ft.type),Ii=ae(ft.internalFormat,Wi,li);if(Bt(34067,ft,Yr),Hr){for(oo=0;6>oo;oo++){var Ln=Vi[oo].mipmaps;for(Hr=0;Hr<Ln.length;Hr++){var Oa=Ln[Hr];ft.format!==1023&&ft.format!==1022?Wi!==null?r.compressedTexImage2D(34069+oo,Hr,Ii,Oa.width,Oa.height,0,Oa.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):r.texImage2D(34069+oo,Hr,Ii,Oa.width,Oa.height,0,Wi,li,Oa.data)}}Kt.__maxMipLevel=Ln.length-1}else{for(Ln=ft.mipmaps,oo=0;6>oo;oo++)if(Ut)for(r.texImage2D(34069+oo,0,Ii,Vi[oo].width,Vi[oo].height,0,Wi,li,Vi[oo].data),Hr=0;Hr<Ln.length;Hr++)Oa=Ln[Hr],Oa=Oa.image[oo].image,r.texImage2D(34069+oo,Hr+1,Ii,Oa.width,Oa.height,0,Wi,li,Oa.data);else for(r.texImage2D(34069+oo,0,Ii,Wi,li,Vi[oo]),Hr=0;Hr<Ln.length;Hr++)Oa=Ln[Hr],r.texImage2D(34069+oo,Hr+1,Ii,Wi,li,Oa.image[oo]);Kt.__maxMipLevel=Ln.length}G(ft,Yr)&&W(34067,ft,Or.width,Or.height),Kt.__version=ft.version,ft.onUpdate&&ft.onUpdate(ft)}else r.activeTexture(33984+Ut),r.bindTexture(34067,Kt.__webglTexture)}}function Pt(ft,Ut){r.activeTexture(33984+Ut),r.bindTexture(34067,s.get(ft).__webglTexture)}function Bt(ft,Ut,Kt){Kt?(i.texParameteri(ft,10242,Bl[Ut.wrapS]),i.texParameteri(ft,10243,Bl[Ut.wrapT]),ft!==32879&&ft!==35866||i.texParameteri(ft,32882,Bl[Ut.wrapR]),i.texParameteri(ft,10240,hf[Ut.magFilter]),i.texParameteri(ft,10241,hf[Ut.minFilter])):(i.texParameteri(ft,10242,33071),i.texParameteri(ft,10243,33071),ft!==32879&&ft!==35866||i.texParameteri(ft,32882,33071),Ut.wrapS===1001&&Ut.wrapT===1001||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),i.texParameteri(ft,10240,ue(Ut.magFilter)),i.texParameteri(ft,10241,ue(Ut.minFilter)),Ut.minFilter!==1003&&Ut.minFilter!==1006&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!(Kt=e.get("EXT_texture_filter_anisotropic"))||Ut.type===1015&&e.get("OES_texture_float_linear")===null||Ut.type===1016&&(Ai||e.get("OES_texture_half_float_linear"))===null||!(1<Ut.anisotropy||s.get(Ut).__currentAnisotropy)||(i.texParameterf(ft,Kt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Ut.anisotropy,c.getMaxAnisotropy())),s.get(Ut).__currentAnisotropy=Ut.anisotropy)}function ir(ft,Ut){ft.__webglInit===void 0&&(ft.__webglInit=!0,Ut.addEventListener("dispose",be),ft.__webglTexture=i.createTexture(),x.memory.textures++)}function Ir(ft,Ut,Kt){var Hr=3553;Ut.isDataTexture2DArray&&(Hr=35866),Ut.isDataTexture3D&&(Hr=32879),ir(ft,Ut),r.activeTexture(33984+Kt),r.bindTexture(Hr,ft.__webglTexture),i.pixelStorei(37440,Ut.flipY),i.pixelStorei(37441,Ut.premultiplyAlpha),i.pixelStorei(3317,Ut.unpackAlignment),Kt=Ai?!1:Ut.wrapS!==1001||Ut.wrapT!==1001||Ut.minFilter!==1003&&Ut.minFilter!==1006,Kt=Kt&&j(Ut.image)===!1,Kt=I(Ut.image,Kt,!1,En);var Vi=j(Kt)||Ai,oo=v.convert(Ut.format),Or=v.convert(Ut.type),Yr=ae(Ut.internalFormat,oo,Or);Bt(Hr,Ut,Vi);var Wi=Ut.mipmaps;if(Ut.isDepthTexture)Yr=6402,Ai?Yr=Ut.type===1015?36012:Ut.type===1014?33190:Ut.type===1020?35056:33189:Ut.type===1015&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Ut.format===1026&&Yr===6402&&Ut.type!==1012&&Ut.type!==1014&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Ut.type=1012,Or=v.convert(Ut.type)),Ut.format===1027&&Yr===6402&&(Yr=34041,Ut.type!==1020&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Ut.type=1020,Or=v.convert(Ut.type))),r.texImage2D(3553,0,Yr,Kt.width,Kt.height,0,oo,Or,null);else if(Ut.isDataTexture)if(0<Wi.length&&Vi){for(var li=0,Ii=Wi.length;li<Ii;li++){var Ln=Wi[li];r.texImage2D(3553,li,Yr,Ln.width,Ln.height,0,oo,Or,Ln.data)}Ut.generateMipmaps=!1,ft.__maxMipLevel=Wi.length-1}else r.texImage2D(3553,0,Yr,Kt.width,Kt.height,0,oo,Or,Kt.data),ft.__maxMipLevel=0;else if(Ut.isCompressedTexture){for(li=0,Ii=Wi.length;li<Ii;li++)Ln=Wi[li],Ut.format!==1023&&Ut.format!==1022?oo!==null?r.compressedTexImage2D(3553,li,Yr,Ln.width,Ln.height,0,Ln.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):r.texImage2D(3553,li,Yr,Ln.width,Ln.height,0,oo,Or,Ln.data);ft.__maxMipLevel=Wi.length-1}else if(Ut.isDataTexture2DArray)r.texImage3D(35866,0,Yr,Kt.width,Kt.height,Kt.depth,0,oo,Or,Kt.data),ft.__maxMipLevel=0;else if(Ut.isDataTexture3D)r.texImage3D(32879,0,Yr,Kt.width,Kt.height,Kt.depth,0,oo,Or,Kt.data),ft.__maxMipLevel=0;else if(0<Wi.length&&Vi){for(li=0,Ii=Wi.length;li<Ii;li++)Ln=Wi[li],r.texImage2D(3553,li,Yr,oo,Or,Ln);Ut.generateMipmaps=!1,ft.__maxMipLevel=Wi.length-1}else r.texImage2D(3553,0,Yr,oo,Or,Kt),ft.__maxMipLevel=0;G(Ut,Vi)&&W(Hr,Ut,Kt.width,Kt.height),ft.__version=Ut.version,Ut.onUpdate&&Ut.onUpdate(Ut)}function Tr(ft,Ut,Kt,Hr){var Vi=v.convert(Ut.texture.format),oo=v.convert(Ut.texture.type),Or=ae(Ut.texture.internalFormat,Vi,oo);r.texImage2D(Hr,0,Or,Ut.width,Ut.height,0,Vi,oo,null),i.bindFramebuffer(36160,ft),i.framebufferTexture2D(36160,Kt,Hr,s.get(Ut.texture).__webglTexture,0),i.bindFramebuffer(36160,null)}function wt(ft,Ut,Kt){if(i.bindRenderbuffer(36161,ft),Ut.depthBuffer&&!Ut.stencilBuffer){var Hr=33189;Kt?((Kt=Ut.depthTexture)&&Kt.isDepthTexture&&(Kt.type===1015?Hr=36012:Kt.type===1014&&(Hr=33190)),Kt=qn(Ut),i.renderbufferStorageMultisample(36161,Kt,Hr,Ut.width,Ut.height)):i.renderbufferStorage(36161,Hr,Ut.width,Ut.height),i.framebufferRenderbuffer(36160,36096,36161,ft)}else Ut.depthBuffer&&Ut.stencilBuffer?(Kt?(Kt=qn(Ut),i.renderbufferStorageMultisample(36161,Kt,35056,Ut.width,Ut.height)):i.renderbufferStorage(36161,34041,Ut.width,Ut.height),i.framebufferRenderbuffer(36160,33306,36161,ft)):(ft=v.convert(Ut.texture.format),Hr=v.convert(Ut.texture.type),Hr=ae(Ut.texture.internalFormat,ft,Hr),Kt?(Kt=qn(Ut),i.renderbufferStorageMultisample(36161,Kt,Hr,Ut.width,Ut.height)):i.renderbufferStorage(36161,Hr,Ut.width,Ut.height));i.bindRenderbuffer(36161,null)}function qn(ft){return Ai&&ft.isWebGLMultisampleRenderTarget?Math.min(ua,ft.samples):0}var Fr,pi,Ai=c.isWebGL2,Pr=c.maxTextures,Fo=c.maxCubemapSize,En=c.maxTextureSize,ua=c.maxSamples,as=new pl,Ca,Du=!1;try{Du=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch(ft){}var Aa=0,Bl=(Fr={},B(Fr,1e3,10497),B(Fr,1001,33071),B(Fr,1002,33648),Fr),hf=(pi={},B(pi,1003,9728),B(pi,1004,9984),B(pi,1005,9986),B(pi,1006,9729),B(pi,1007,9985),B(pi,1008,9987),pi),vi=!1,Gl=!1;this.allocateTextureUnit=function(){var ft=Aa;return ft>=Pr&&console.warn("THREE.WebGLTextures: Trying to use "+ft+" texture units while this GPU supports only "+Pr),Aa+=1,ft},this.resetTextureUnits=function(){Aa=0},this.setTexture2D=ct,this.setTexture2DArray=function(ft,Ut){var Kt=s.get(ft);0<ft.version&&Kt.__version!==ft.version?Ir(Kt,ft,Ut):(r.activeTexture(33984+Ut),r.bindTexture(35866,Kt.__webglTexture))},this.setTexture3D=function(ft,Ut){var Kt=s.get(ft);0<ft.version&&Kt.__version!==ft.version?Ir(Kt,ft,Ut):(r.activeTexture(33984+Ut),r.bindTexture(32879,Kt.__webglTexture))},this.setTextureCube=Nt,this.setTextureCubeDynamic=Pt,this.setupRenderTarget=function(ft){var Ut=s.get(ft),Kt=s.get(ft.texture);ft.addEventListener("dispose",Me),Kt.__webglTexture=i.createTexture(),x.memory.textures++;var Hr=ft.isWebGLCubeRenderTarget===!0,Vi=ft.isWebGLMultisampleRenderTarget===!0,oo=j(ft)||Ai;if(!Ai||ft.texture.format!==1022||ft.texture.type!==1015&&ft.texture.type!==1016||(ft.texture.format=1023,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),Hr)for(Ut.__webglFramebuffer=[],Vi=0;6>Vi;Vi++)Ut.__webglFramebuffer[Vi]=i.createFramebuffer();else if(Ut.__webglFramebuffer=i.createFramebuffer(),Vi)if(Ai){Ut.__webglMultisampledFramebuffer=i.createFramebuffer(),Ut.__webglColorRenderbuffer=i.createRenderbuffer(),i.bindRenderbuffer(36161,Ut.__webglColorRenderbuffer),Vi=v.convert(ft.texture.format);var Or=v.convert(ft.texture.type);Vi=ae(ft.texture.internalFormat,Vi,Or),Or=qn(ft),i.renderbufferStorageMultisample(36161,Or,Vi,ft.width,ft.height),i.bindFramebuffer(36160,Ut.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(36160,36064,36161,Ut.__webglColorRenderbuffer),i.bindRenderbuffer(36161,null),ft.depthBuffer&&(Ut.__webglDepthRenderbuffer=i.createRenderbuffer(),wt(Ut.__webglDepthRenderbuffer,ft,!0)),i.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(Hr){for(r.bindTexture(34067,Kt.__webglTexture),Bt(34067,ft.texture,oo),Vi=0;6>Vi;Vi++)Tr(Ut.__webglFramebuffer[Vi],ft,36064,34069+Vi);G(ft.texture,oo)&&W(34067,ft.texture,ft.width,ft.height),r.bindTexture(34067,null)}else r.bindTexture(3553,Kt.__webglTexture),Bt(3553,ft.texture,oo),Tr(Ut.__webglFramebuffer,ft,36064,3553),G(ft.texture,oo)&&W(3553,ft.texture,ft.width,ft.height),r.bindTexture(3553,null);if(ft.depthBuffer){if(Ut=s.get(ft),Kt=ft.isWebGLCubeRenderTarget===!0,ft.depthTexture){if(Kt)throw Error("target.depthTexture not supported in Cube render targets");if(ft&&ft.isWebGLCubeRenderTarget)throw Error("Depth Texture with cube render targets is not supported");if(i.bindFramebuffer(36160,Ut.__webglFramebuffer),!ft.depthTexture||!ft.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");if(s.get(ft.depthTexture).__webglTexture&&ft.depthTexture.image.width===ft.width&&ft.depthTexture.image.height===ft.height||(ft.depthTexture.image.width=ft.width,ft.depthTexture.image.height=ft.height,ft.depthTexture.needsUpdate=!0),ct(ft.depthTexture,0),Ut=s.get(ft.depthTexture).__webglTexture,ft.depthTexture.format===1026)i.framebufferTexture2D(36160,36096,3553,Ut,0);else if(ft.depthTexture.format===1027)i.framebufferTexture2D(36160,33306,3553,Ut,0);else throw Error("Unknown depthTexture format")}else if(Kt)for(Ut.__webglDepthbuffer=[],Kt=0;6>Kt;Kt++)i.bindFramebuffer(36160,Ut.__webglFramebuffer[Kt]),Ut.__webglDepthbuffer[Kt]=i.createRenderbuffer(),wt(Ut.__webglDepthbuffer[Kt],ft,!1);else i.bindFramebuffer(36160,Ut.__webglFramebuffer),Ut.__webglDepthbuffer=i.createRenderbuffer(),wt(Ut.__webglDepthbuffer,ft,!1);i.bindFramebuffer(36160,null)}},this.updateRenderTargetMipmap=function(ft){var Ut=ft.texture,Kt=j(ft)||Ai;if(G(Ut,Kt)){Kt=ft.isWebGLCubeRenderTarget?34067:3553;var Hr=s.get(Ut).__webglTexture;r.bindTexture(Kt,Hr),W(Kt,Ut,ft.width,ft.height),r.bindTexture(Kt,null)}},this.updateMultisampleRenderTarget=function(ft){if(ft.isWebGLMultisampleRenderTarget)if(Ai){var Ut=s.get(ft);i.bindFramebuffer(36008,Ut.__webglMultisampledFramebuffer),i.bindFramebuffer(36009,Ut.__webglFramebuffer);var Kt=ft.width,Hr=ft.height,Vi=16384;ft.depthBuffer&&(Vi|=256),ft.stencilBuffer&&(Vi|=1024),i.blitFramebuffer(0,0,Kt,Hr,0,0,Kt,Hr,Vi,9728),i.bindFramebuffer(36160,Ut.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(ft,Ut){ft&&ft.isWebGLRenderTarget&&(vi===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),vi=!0),ft=ft.texture),ct(ft,Ut)},this.safeSetTextureCube=function(ft,Ut){ft&&ft.isWebGLCubeRenderTarget&&(Gl===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),Gl=!0),ft=ft.texture),ft&&ft.isCubeTexture||Array.isArray(ft.image)&&ft.image.length===6?Nt(ft,Ut):Pt(ft,Ut)}}function ad(i,e,r){var s=r.isWebGL2;return{convert:function(v){if(v===1009)return 5121;if(v===1017)return 32819;if(v===1018)return 32820;if(v===1019)return 33635;if(v===1010)return 5120;if(v===1011)return 5122;if(v===1012)return 5123;if(v===1013)return 5124;if(v===1014)return 5125;if(v===1015)return 5126;if(v===1016){if(s)return 5131;var x=e.get("OES_texture_half_float");return x!==null?x.HALF_FLOAT_OES:null}if(v===1021)return 6406;if(v===1022)return 6407;if(v===1023)return 6408;if(v===1024)return 6409;if(v===1025)return 6410;if(v===1026)return 6402;if(v===1027)return 34041;if(v===1028)return 6403;if(v===1029)return 36244;if(v===1030)return 33319;if(v===1031)return 33320;if(v===1032)return 36248;if(v===1033)return 36249;if(v===33776||v===33777||v===33778||v===33779)if(x=e.get("WEBGL_compressed_texture_s3tc"),x!==null){if(v===33776)return x.COMPRESSED_RGB_S3TC_DXT1_EXT;if(v===33777)return x.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(v===33778)return x.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(v===33779)return x.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(v===35840||v===35841||v===35842||v===35843)if(x=e.get("WEBGL_compressed_texture_pvrtc"),x!==null){if(v===35840)return x.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(v===35841)return x.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(v===35842)return x.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(v===35843)return x.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(v===36196)return x=e.get("WEBGL_compressed_texture_etc1"),x!==null?x.COMPRESSED_RGB_ETC1_WEBGL:null;if((v===37492||v===37496)&&(x=e.get("WEBGL_compressed_texture_etc"),x!==null)){if(v===37492)return x.COMPRESSED_RGB8_ETC2;if(v===37496)return x.COMPRESSED_RGBA8_ETC2_EAC}if(v===37808||v===37809||v===37810||v===37811||v===37812||v===37813||v===37814||v===37815||v===37816||v===37817||v===37818||v===37819||v===37820||v===37821||v===37840||v===37841||v===37842||v===37843||v===37844||v===37845||v===37846||v===37847||v===37848||v===37849||v===37850||v===37851||v===37852||v===37853)return x=e.get("WEBGL_compressed_texture_astc"),x!==null?v:null;if(v===36492)return x=e.get("EXT_texture_compression_bptc"),x!==null?v:null;if(v===1020)return s?34042:(x=e.get("WEBGL_depth_texture"),x!==null?x.UNSIGNED_INT_24_8_WEBGL:null)}}}function Ni(i){Gi.call(this),this.cameras=i||[]}function Uh(){pr.call(this),this.type="Group"}function Td(){this._grip=this._targetRay=null}function bp(i,e){function r(Fr){var pi=be.get(Fr.inputSource);pi&&pi.dispatchEvent({type:Fr.type})}function s(){be.forEach(function(Fr,pi){Fr.disconnect(pi)}),be.clear(),i.setFramebuffer(null),i.setRenderTarget(i.getRenderTarget()),qn.stop(),w.isPresenting=!1,w.dispatchEvent({type:"sessionend"})}function c(Fr){G=Fr,qn.setContext(I),qn.start(),w.isPresenting=!0,w.dispatchEvent({type:"sessionstart"})}function v(Fr){for(var pi=I.inputSources,Ai=0;Ai<ue.length;Ai++)be.set(pi[Ai],ue[Ai]);for(Ai=0;Ai<Fr.removed.length;Ai++){pi=Fr.removed[Ai];var Pr=be.get(pi);Pr&&(Pr.dispatchEvent({type:"disconnected",data:pi}),be.delete(pi))}for(Ai=0;Ai<Fr.added.length;Ai++)pi=Fr.added[Ai],(Pr=be.get(pi))&&Pr.dispatchEvent({type:"connected",data:pi})}function x(Fr,pi){pi===null?Fr.matrixWorld.copy(Fr.matrix):Fr.matrixWorld.multiplyMatrices(pi.matrixWorld,Fr.matrix),Fr.matrixWorldInverse.getInverse(Fr.matrixWorld)}var w=this,I=null,j=1,G=null,W="local-floor",ae=null,ue=[],be=new mv,Me=new Gi;Me.layers.enable(1),Me.viewport=new et;var ct=new Gi;ct.layers.enable(2),ct.viewport=new et;var Nt=[Me,ct],Pt=new Ni;Pt.layers.enable(1),Pt.layers.enable(2);var Bt=null,ir=null;this.isPresenting=this.enabled=!1,this.getController=function(Fr){var pi=ue[Fr];return pi===void 0&&(pi=new Td,ue[Fr]=pi),pi.getTargetRaySpace()},this.getControllerGrip=function(Fr){var pi=ue[Fr];return pi===void 0&&(pi=new Td,ue[Fr]=pi),pi.getGripSpace()},this.setFramebufferScaleFactor=function(Fr){j=Fr,w.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Fr){W=Fr,w.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return G},this.getSession=function(){return I},this.setSession=function(Fr){I=Fr,I!==null&&(I.addEventListener("select",r),I.addEventListener("selectstart",r),I.addEventListener("selectend",r),I.addEventListener("squeeze",r),I.addEventListener("squeezestart",r),I.addEventListener("squeezeend",r),I.addEventListener("end",s),Fr=e.getContextAttributes(),Fr.xrCompatible!==!0&&e.makeXRCompatible(),Fr=new XRWebGLLayer(I,e,{antialias:Fr.antialias,alpha:Fr.alpha,depth:Fr.depth,stencil:Fr.stencil,framebufferScaleFactor:j}),I.updateRenderState({baseLayer:Fr}),I.requestReferenceSpace(W).then(c),I.addEventListener("inputsourceschange",v))};var Ir=new Ie,Tr=new Ie;this.getCamera=function(Fr){Pt.near=ct.near=Me.near=Fr.near,Pt.far=ct.far=Me.far=Fr.far,(Bt!==Pt.near||ir!==Pt.far)&&(I.updateRenderState({depthNear:Pt.near,depthFar:Pt.far}),Bt=Pt.near,ir=Pt.far);var pi=Fr.parent,Ai=Pt.cameras;x(Pt,pi);for(var Pr=0;Pr<Ai.length;Pr++)x(Ai[Pr],pi);for(Fr.matrixWorld.copy(Pt.matrixWorld),Fr=Fr.children,Pr=0,pi=Fr.length;Pr<pi;Pr++)Fr[Pr].updateMatrixWorld(!0);if(Ai.length===2){Ir.setFromMatrixPosition(Me.matrixWorld),Tr.setFromMatrixPosition(ct.matrixWorld),Ai=Ir.distanceTo(Tr);var Fo=Me.projectionMatrix.elements,En=ct.projectionMatrix.elements,ua=Fo[14]/(Fo[10]-1);Pr=Fo[14]/(Fo[10]+1),Fr=(Fo[9]+1)/Fo[5],pi=(Fo[9]-1)/Fo[5];var as=(Fo[8]-1)/Fo[0],Ca=(En[8]+1)/En[0];En=ua*as,Fo=ua*Ca,Ca=Ai/(-as+Ca),as=Ca*-as,Me.matrixWorld.decompose(Pt.position,Pt.quaternion,Pt.scale),Pt.translateX(as),Pt.translateZ(Ca),Pt.matrixWorld.compose(Pt.position,Pt.quaternion,Pt.scale),Pt.matrixWorldInverse.getInverse(Pt.matrixWorld),ua+=Ca,Ca=Pr+Ca,Pt.projectionMatrix.makePerspective(En-as,Fo+(Ai-as),Fr*Pr/Ca*ua,pi*Pr/Ca*ua,ua,Ca)}else Pt.projectionMatrix.copy(Me.projectionMatrix);return Pt};var wt=null,qn=new Gr;qn.setAnimationLoop(function(Fr,pi){if(ae=pi.getViewerPose(G),ae!==null){var Ai=ae.views,Pr=I.renderState.baseLayer;i.setFramebuffer(Pr.framebuffer);var Fo=!1;Ai.length!==Pt.cameras.length&&(Pt.cameras.length=0,Fo=!0);for(var En=0;En<Ai.length;En++){var ua=Ai[En],as=Pr.getViewport(ua),Ca=Nt[En];Ca.matrix.fromArray(ua.transform.matrix),Ca.projectionMatrix.fromArray(ua.projectionMatrix),Ca.viewport.set(as.x,as.y,as.width,as.height),En===0&&Pt.matrix.copy(Ca.matrix),Fo===!0&&Pt.cameras.push(Ca)}}for(Ai=I.inputSources,En=0;En<ue.length;En++)ue[En].update(Ai[En],pi,G);wt&&wt(Fr,pi)}),this.setAnimationLoop=function(Fr){wt=Fr},this.dispose=function(){}}function Fu(i){function e(s,c,v){if(s.opacity.value=c.opacity,c.color&&s.diffuse.value.copy(c.color),c.emissive&&s.emissive.value.copy(c.emissive).multiplyScalar(c.emissiveIntensity),c.map&&(s.map.value=c.map),c.alphaMap&&(s.alphaMap.value=c.alphaMap),c.specularMap&&(s.specularMap.value=c.specularMap),(v=c.envMap||v)&&(s.envMap.value=v,s.flipEnvMap.value=v.isCubeTexture?-1:1,s.reflectivity.value=c.reflectivity,s.refractionRatio.value=c.refractionRatio,s.maxMipLevel.value=i.get(v).__maxMipLevel),c.lightMap&&(s.lightMap.value=c.lightMap,s.lightMapIntensity.value=c.lightMapIntensity),c.aoMap&&(s.aoMap.value=c.aoMap,s.aoMapIntensity.value=c.aoMapIntensity),c.map)var x=c.map;else c.specularMap?x=c.specularMap:c.displacementMap?x=c.displacementMap:c.normalMap?x=c.normalMap:c.bumpMap?x=c.bumpMap:c.roughnessMap?x=c.roughnessMap:c.metalnessMap?x=c.metalnessMap:c.alphaMap?x=c.alphaMap:c.emissiveMap&&(x=c.emissiveMap);if(x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),s.uvTransform.value.copy(x.matrix)),c.aoMap)var w=c.aoMap;else c.lightMap&&(w=c.lightMap);w!==void 0&&(w.isWebGLRenderTarget&&(w=w.texture),w.matrixAutoUpdate===!0&&w.updateMatrix(),s.uv2Transform.value.copy(w.matrix))}function r(s,c,v){s.roughness.value=c.roughness,s.metalness.value=c.metalness,c.roughnessMap&&(s.roughnessMap.value=c.roughnessMap),c.metalnessMap&&(s.metalnessMap.value=c.metalnessMap),c.emissiveMap&&(s.emissiveMap.value=c.emissiveMap),c.bumpMap&&(s.bumpMap.value=c.bumpMap,s.bumpScale.value=c.bumpScale,c.side===1&&(s.bumpScale.value*=-1)),c.normalMap&&(s.normalMap.value=c.normalMap,s.normalScale.value.copy(c.normalScale),c.side===1&&s.normalScale.value.negate()),c.displacementMap&&(s.displacementMap.value=c.displacementMap,s.displacementScale.value=c.displacementScale,s.displacementBias.value=c.displacementBias),(c.envMap||v)&&(s.envMapIntensity.value=c.envMapIntensity)}return{refreshFogUniforms:function(c,v){c.fogColor.value.copy(v.color),v.isFog?(c.fogNear.value=v.near,c.fogFar.value=v.far):v.isFogExp2&&(c.fogDensity.value=v.density)},refreshMaterialUniforms:function(c,v,x,w,I){if(v.isMeshBasicMaterial)e(c,v);else if(v.isMeshLambertMaterial)e(c,v),v.emissiveMap&&(c.emissiveMap.value=v.emissiveMap);else if(v.isMeshToonMaterial)e(c,v),c.specular.value.copy(v.specular),c.shininess.value=Math.max(v.shininess,1e-4),v.gradientMap&&(c.gradientMap.value=v.gradientMap),v.emissiveMap&&(c.emissiveMap.value=v.emissiveMap),v.bumpMap&&(c.bumpMap.value=v.bumpMap,c.bumpScale.value=v.bumpScale,v.side===1&&(c.bumpScale.value*=-1)),v.normalMap&&(c.normalMap.value=v.normalMap,c.normalScale.value.copy(v.normalScale),v.side===1&&c.normalScale.value.negate()),v.displacementMap&&(c.displacementMap.value=v.displacementMap,c.displacementScale.value=v.displacementScale,c.displacementBias.value=v.displacementBias);else if(v.isMeshPhongMaterial)e(c,v),c.specular.value.copy(v.specular),c.shininess.value=Math.max(v.shininess,1e-4),v.emissiveMap&&(c.emissiveMap.value=v.emissiveMap),v.bumpMap&&(c.bumpMap.value=v.bumpMap,c.bumpScale.value=v.bumpScale,v.side===1&&(c.bumpScale.value*=-1)),v.normalMap&&(c.normalMap.value=v.normalMap,c.normalScale.value.copy(v.normalScale),v.side===1&&c.normalScale.value.negate()),v.displacementMap&&(c.displacementMap.value=v.displacementMap,c.displacementScale.value=v.displacementScale,c.displacementBias.value=v.displacementBias);else if(v.isMeshStandardMaterial)e(c,v,x),v.isMeshPhysicalMaterial?(r(c,v,x),c.reflectivity.value=v.reflectivity,c.clearcoat.value=v.clearcoat,c.clearcoatRoughness.value=v.clearcoatRoughness,v.sheen&&c.sheen.value.copy(v.sheen),v.clearcoatMap&&(c.clearcoatMap.value=v.clearcoatMap),v.clearcoatRoughnessMap&&(c.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap),v.clearcoatNormalMap&&(c.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),c.clearcoatNormalMap.value=v.clearcoatNormalMap,v.side===1&&c.clearcoatNormalScale.value.negate()),c.transparency.value=v.transparency):r(c,v,x);else if(v.isMeshMatcapMaterial)e(c,v),v.matcap&&(c.matcap.value=v.matcap),v.bumpMap&&(c.bumpMap.value=v.bumpMap,c.bumpScale.value=v.bumpScale,v.side===1&&(c.bumpScale.value*=-1)),v.normalMap&&(c.normalMap.value=v.normalMap,c.normalScale.value.copy(v.normalScale),v.side===1&&c.normalScale.value.negate()),v.displacementMap&&(c.displacementMap.value=v.displacementMap,c.displacementScale.value=v.displacementScale,c.displacementBias.value=v.displacementBias);else if(v.isMeshDepthMaterial)e(c,v),v.displacementMap&&(c.displacementMap.value=v.displacementMap,c.displacementScale.value=v.displacementScale,c.displacementBias.value=v.displacementBias);else if(v.isMeshDistanceMaterial)e(c,v),v.displacementMap&&(c.displacementMap.value=v.displacementMap,c.displacementScale.value=v.displacementScale,c.displacementBias.value=v.displacementBias),c.referencePosition.value.copy(v.referencePosition),c.nearDistance.value=v.nearDistance,c.farDistance.value=v.farDistance;else if(v.isMeshNormalMaterial)e(c,v),v.bumpMap&&(c.bumpMap.value=v.bumpMap,c.bumpScale.value=v.bumpScale,v.side===1&&(c.bumpScale.value*=-1)),v.normalMap&&(c.normalMap.value=v.normalMap,c.normalScale.value.copy(v.normalScale),v.side===1&&c.normalScale.value.negate()),v.displacementMap&&(c.displacementMap.value=v.displacementMap,c.displacementScale.value=v.displacementScale,c.displacementBias.value=v.displacementBias);else if(v.isLineBasicMaterial)c.diffuse.value.copy(v.color),c.opacity.value=v.opacity,v.isLineDashedMaterial&&(c.dashSize.value=v.dashSize,c.totalSize.value=v.dashSize+v.gapSize,c.scale.value=v.scale);else if(v.isPointsMaterial){if(c.diffuse.value.copy(v.color),c.opacity.value=v.opacity,c.size.value=v.size*w,c.scale.value=.5*I,v.map&&(c.map.value=v.map),v.alphaMap&&(c.alphaMap.value=v.alphaMap),v.map)var j=v.map;else v.alphaMap&&(j=v.alphaMap);j!==void 0&&(j.matrixAutoUpdate===!0&&j.updateMatrix(),c.uvTransform.value.copy(j.matrix))}else if(v.isSpriteMaterial){if(c.diffuse.value.copy(v.color),c.opacity.value=v.opacity,c.rotation.value=v.rotation,v.map&&(c.map.value=v.map),v.alphaMap&&(c.alphaMap.value=v.alphaMap),v.map)var G=v.map;else v.alphaMap&&(G=v.alphaMap);G!==void 0&&(G.matrixAutoUpdate===!0&&G.updateMatrix(),c.uvTransform.value.copy(G.matrix))}else v.isShadowMaterial?(c.color.value.copy(v.color),c.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}}}function wc(i){var e;function r(){Ra=new Mt(Dn),qo=new Pi(Dn,Ra,i),qo.isWebGL2===!1&&(Ra.get("WEBGL_depth_texture"),Ra.get("OES_texture_float"),Ra.get("OES_texture_half_float"),Ra.get("OES_texture_half_float_linear"),Ra.get("OES_standard_derivatives"),Ra.get("OES_element_index_uint"),Ra.get("ANGLE_instanced_arrays")),Ra.get("OES_texture_float_linear"),Wp=new ad(Dn,Ra,qo),Xo=new gf(Dn,Ra,qo),Xo.scissor(vi.copy(Or).multiplyScalar(Kt).floor()),Xo.viewport(hf.copy(oo).multiplyScalar(Kt).floor()),Rc=new ar(Dn),df=new zh,qm=new qc(Dn,Ra,Xo,df,qo,Wp,Rc),W0=new Yl(Dn,qo),yx=new wn(Dn,W0,Rc),G0=new gr(Dn,yx,W0,Rc),bC=new jt(Dn),Y0=new id(Fr,Ra,qo),xx=new Fu(df),g1=new Ho,X0=new mm,_g=new Eu(Fr,Xo,G0,Bt),SC=new wi(Dn,Ra,Rc,qo),Iv=new Ot(Dn,Ra,Rc,qo),Rc.programs=Y0.programs,Fr.capabilities=qo,Fr.extensions=Ra,Fr.properties=df,Fr.renderLists=g1,Fr.state=Xo,Fr.info=Rc}function s(vt){vt.preventDefault(),pi=!0}function c(){pi=!1,r()}function v(vt){vt=vt.target,vt.removeEventListener("dispose",v),x(vt),df.remove(vt)}function x(vt){var zn=df.get(vt).program;vt.program=void 0,zn!==void 0&&Y0.releaseProgram(zn)}function w(vt,zn){vt.render(function(Cr){Fr.renderBufferImmediate(Cr,zn)})}function I(vt,zn,Cr,Jn){if(vt.visible!==!1){if(vt.layers.test(zn.layers)){if(vt.isGroup)Cr=vt.renderOrder;else if(vt.isLOD)vt.autoUpdate===!0&&vt.update(zn);else if(vt.isLight)qn.pushLight(vt),vt.castShadow&&qn.pushShadow(vt);else if(vt.isSprite){if(!vt.frustumCulled||Wi.intersectsSprite(vt)){Jn&&Os.setFromMatrixPosition(vt.matrixWorld).applyMatrix4(Oa);var $i=G0.update(vt),vl=vt.material;vl.visible&&wt.push(vt,$i,vl,Cr,Os.z,null)}}else if(vt.isImmediateRenderObject)Jn&&Os.setFromMatrixPosition(vt.matrixWorld).applyMatrix4(Oa),wt.push(vt,null,vt.material,Cr,Os.z,null);else if((vt.isMesh||vt.isLine||vt.isPoints)&&(vt.isSkinnedMesh&&vt.skeleton.frame!==Rc.render.frame&&(vt.skeleton.update(),vt.skeleton.frame=Rc.render.frame),!vt.frustumCulled||Wi.intersectsObject(vt)))if(Jn&&Os.setFromMatrixPosition(vt.matrixWorld).applyMatrix4(Oa),$i=G0.update(vt),vl=vt.material,Array.isArray(vl))for(var wo=$i.groups,Fa=0,ll=wo.length;Fa<ll;Fa++){var Nu=wo[Fa],Jl=vl[Nu.materialIndex];Jl&&Jl.visible&&wt.push(vt,$i,Jl,Cr,Os.z,Nu)}else vl.visible&&wt.push(vt,$i,vl,Cr,Os.z,null)}for(vt=vt.children,Fa=0,ll=vt.length;Fa<ll;Fa++)I(vt[Fa],zn,Cr,Jn)}}function j(vt,zn,Cr,Jn){for(var $i=0,vl=vt.length;$i<vl;$i++){var wo=vt[$i],Fa=wo.object,ll=wo.geometry,Nu=Jn===void 0?wo.material:Jn;if(wo=wo.group,Cr.isArrayCamera){Bl=Cr;for(var Jl=Cr.cameras,Pv=0,Tf=Jl.length;Pv<Tf;Pv++){var td=Jl[Pv];Fa.layers.test(td.layers)&&(Xo.viewport(hf.copy(td.viewport)),qn.setupLights(td),G(Fa,zn,td,ll,Nu,wo))}}else Bl=null,G(Fa,zn,Cr,ll,Nu,wo)}}function G(vt,zn,Cr,Jn,$i,vl){if(vt.onBeforeRender(Fr,zn,Cr,Jn,$i,vl),qn=X0.get(zn,Bl||Cr),vt.modelViewMatrix.multiplyMatrices(Cr.matrixWorldInverse,vt.matrixWorld),vt.normalMatrix.getNormalMatrix(vt.modelViewMatrix),vt.isImmediateRenderObject){var wo=ae(Cr,zn,$i,vt);Xo.setMaterial($i),Ca=e=null,Du=!1,w(vt,wo)}else Fr.renderBufferDirect(Cr,zn,Jn,$i,vt,vl);vt.onAfterRender(Fr,zn,Cr,Jn,$i,vl),qn=X0.get(zn,Bl||Cr)}function W(vt,zn,Cr){var Jn=df.get(vt),$i=qn.state.lights,vl=$i.state.version;Cr=Y0.getParameters(vt,$i.state,qn.state.shadowsArray,zn,li.numPlanes,li.numIntersection,Cr);var wo=Y0.getProgramCacheKey(Cr),Fa=Jn.program,ll=!0;if(Fa===void 0)vt.addEventListener("dispose",v);else if(Fa.cacheKey!==wo)x(vt);else{if(Jn.lightsStateVersion!==vl)Jn.lightsStateVersion=vl;else if(Cr.shaderID!==void 0)return;ll=!1}if(ll&&(Fa=Y0.acquireProgram(Cr,wo),Jn.program=Fa,Jn.uniforms=Cr.uniforms,Jn.outputEncoding=Cr.outputEncoding,vt.program=Fa),Cr=Fa.getAttributes(),vt.morphTargets)for(wo=vt.numSupportedMorphTargets=0;wo<Fr.maxMorphTargets;wo++)0<=Cr["morphTarget"+wo]&&vt.numSupportedMorphTargets++;if(vt.morphNormals)for(wo=vt.numSupportedMorphNormals=0;wo<Fr.maxMorphNormals;wo++)0<=Cr["morphNormal"+wo]&&vt.numSupportedMorphNormals++;Cr=Jn.uniforms,(!vt.isShaderMaterial&&!vt.isRawShaderMaterial||vt.clipping===!0)&&(Jn.numClippingPlanes=li.numPlanes,Jn.numIntersection=li.numIntersection,Cr.clippingPlanes=li.uniform),Jn.environment=vt.isMeshStandardMaterial?zn.environment:null,Jn.fog=zn.fog,Jn.needsLights=vt.isMeshLambertMaterial||vt.isMeshToonMaterial||vt.isMeshPhongMaterial||vt.isMeshStandardMaterial||vt.isShadowMaterial||vt.isShaderMaterial&&vt.lights===!0,Jn.lightsStateVersion=vl,Jn.needsLights&&(Cr.ambientLightColor.value=$i.state.ambient,Cr.lightProbe.value=$i.state.probe,Cr.directionalLights.value=$i.state.directional,Cr.directionalLightShadows.value=$i.state.directionalShadow,Cr.spotLights.value=$i.state.spot,Cr.spotLightShadows.value=$i.state.spotShadow,Cr.rectAreaLights.value=$i.state.rectArea,Cr.pointLights.value=$i.state.point,Cr.pointLightShadows.value=$i.state.pointShadow,Cr.hemisphereLights.value=$i.state.hemi,Cr.directionalShadowMap.value=$i.state.directionalShadowMap,Cr.directionalShadowMatrix.value=$i.state.directionalShadowMatrix,Cr.spotShadowMap.value=$i.state.spotShadowMap,Cr.spotShadowMatrix.value=$i.state.spotShadowMatrix,Cr.pointShadowMap.value=$i.state.pointShadowMap,Cr.pointShadowMatrix.value=$i.state.pointShadowMatrix),vt=Jn.program.getUniforms(),vt=zl.seqWithValue(vt.seq,Cr),Jn.uniformsList=vt}function ae(vt,zn,Cr,Jn){qm.resetTextureUnits();var $i=zn.fog,vl=Cr.isMeshStandardMaterial?zn.environment:null,wo=En===null?Fr.outputEncoding:En.texture.encoding,Fa=df.get(Cr),ll=qn.state.lights;Ii&&(Ln||vt!==Aa)&&li.setState(Cr.clippingPlanes,Cr.clipIntersection,Cr.clipShadows,vt,Fa,vt===Aa&&Cr.id===as),Cr.version===Fa.__version?Fa.program===void 0||Cr.fog&&Fa.fog!==$i||Fa.environment!==vl||Fa.needsLights&&Fa.lightsStateVersion!==ll.state.version?W(Cr,zn,Jn):Fa.numClippingPlanes===void 0||Fa.numClippingPlanes===li.numPlanes&&Fa.numIntersection===li.numIntersection?Fa.outputEncoding!==wo&&W(Cr,zn,Jn):W(Cr,zn,Jn):(W(Cr,zn,Jn),Fa.__version=Cr.version);var Nu=!1,Jl=!1,Pv=!1;if(zn=Fa.program,wo=zn.getUniforms(),ll=Fa.uniforms,Xo.useProgram(zn.program)&&(Pv=Jl=Nu=!0),Cr.id!==as&&(as=Cr.id,Jl=!0),(Nu||Aa!==vt)&&(wo.setValue(Dn,"projectionMatrix",vt.projectionMatrix),qo.logarithmicDepthBuffer&&wo.setValue(Dn,"logDepthBufFC",2/(Math.log(vt.far+1)/Math.LN2)),Aa!==vt&&(Aa=vt,Pv=Jl=!0),(Cr.isShaderMaterial||Cr.isMeshPhongMaterial||Cr.isMeshToonMaterial||Cr.isMeshStandardMaterial||Cr.envMap)&&(Nu=wo.map.cameraPosition,Nu!==void 0&&Nu.setValue(Dn,Os.setFromMatrixPosition(vt.matrixWorld))),(Cr.isMeshPhongMaterial||Cr.isMeshToonMaterial||Cr.isMeshLambertMaterial||Cr.isMeshBasicMaterial||Cr.isMeshStandardMaterial||Cr.isShaderMaterial)&&wo.setValue(Dn,"isOrthographic",vt.isOrthographicCamera===!0),(Cr.isMeshPhongMaterial||Cr.isMeshToonMaterial||Cr.isMeshLambertMaterial||Cr.isMeshBasicMaterial||Cr.isMeshStandardMaterial||Cr.isShaderMaterial||Cr.skinning)&&wo.setValue(Dn,"viewMatrix",vt.matrixWorldInverse)),Cr.skinning&&(wo.setOptional(Dn,Jn,"bindMatrix"),wo.setOptional(Dn,Jn,"bindMatrixInverse"),vt=Jn.skeleton))if(Nu=vt.bones,qo.floatVertexTextures){if(vt.boneTexture===void 0){Nu=Math.sqrt(4*Nu.length),Nu=L.ceilPowerOfTwo(Nu),Nu=Math.max(Nu,4);var Tf=new Float32Array(Nu*Nu*4);Tf.set(vt.boneMatrices);var td=new ko(Tf,Nu,Nu,1023,1015);vt.boneMatrices=Tf,vt.boneTexture=td,vt.boneTextureSize=Nu}wo.setValue(Dn,"boneTexture",vt.boneTexture,qm),wo.setValue(Dn,"boneTextureSize",vt.boneTextureSize)}else wo.setOptional(Dn,vt,"boneMatrices");return(Jl||Fa.receiveShadow!==Jn.receiveShadow)&&(Fa.receiveShadow=Jn.receiveShadow,wo.setValue(Dn,"receiveShadow",Jn.receiveShadow)),Jl&&(wo.setValue(Dn,"toneMappingExposure",Fr.toneMappingExposure),wo.setValue(Dn,"toneMappingWhitePoint",Fr.toneMappingWhitePoint),Fa.needsLights&&(Jl=Pv,ll.ambientLightColor.needsUpdate=Jl,ll.lightProbe.needsUpdate=Jl,ll.directionalLights.needsUpdate=Jl,ll.directionalLightShadows.needsUpdate=Jl,ll.pointLights.needsUpdate=Jl,ll.pointLightShadows.needsUpdate=Jl,ll.spotLights.needsUpdate=Jl,ll.spotLightShadows.needsUpdate=Jl,ll.rectAreaLights.needsUpdate=Jl,ll.hemisphereLights.needsUpdate=Jl),$i&&Cr.fog&&xx.refreshFogUniforms(ll,$i),xx.refreshMaterialUniforms(ll,Cr,vl,Kt,Ut),ll.ltc_1!==void 0&&(ll.ltc_1.value=so.LTC_1),ll.ltc_2!==void 0&&(ll.ltc_2.value=so.LTC_2),zl.upload(Dn,Fa.uniformsList,ll,qm)),Cr.isShaderMaterial&&Cr.uniformsNeedUpdate===!0&&(zl.upload(Dn,Fa.uniformsList,ll,qm),Cr.uniformsNeedUpdate=!1),Cr.isSpriteMaterial&&wo.setValue(Dn,"center",Jn.center),wo.setValue(Dn,"modelViewMatrix",Jn.modelViewMatrix),wo.setValue(Dn,"normalMatrix",Jn.normalMatrix),wo.setValue(Dn,"modelMatrix",Jn.matrixWorld),zn}i=i||{};var ue=i.canvas!==void 0?i.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),be=i.context!==void 0?i.context:null,Me=i.alpha!==void 0?i.alpha:!1,ct=i.depth!==void 0?i.depth:!0,Nt=i.stencil!==void 0?i.stencil:!0,Pt=i.antialias!==void 0?i.antialias:!1,Bt=i.premultipliedAlpha!==void 0?i.premultipliedAlpha:!0,ir=i.preserveDrawingBuffer!==void 0?i.preserveDrawingBuffer:!1,Ir=i.powerPreference!==void 0?i.powerPreference:"default",Tr=i.failIfMajorPerformanceCaveat!==void 0?i.failIfMajorPerformanceCaveat:!1,wt=null,qn=null;this.domElement=ue,this.debug={checkShaderErrors:!0},this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=3e3,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingWhitePoint=this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var Fr=this,pi=!1,Ai=null,Pr=0,Fo=0,En=null,ua=null,as=-1,Ca=e=null,Du=!1,Aa=null,Bl=null,hf=new et,vi=new et,Gl=null,ft=ue.width,Ut=ue.height,Kt=1,Hr=null,Vi=null,oo=new et(0,0,ft,Ut),Or=new et(0,0,ft,Ut),Yr=!1,Wi=new ss,li=new hi,Ii=!1,Ln=!1,Oa=new ht,Os=new Ie;try{Me={alpha:Me,depth:ct,stencil:Nt,antialias:Pt,premultipliedAlpha:Bt,preserveDrawingBuffer:ir,powerPreference:Ir,failIfMajorPerformanceCaveat:Tr},ue.addEventListener("webglcontextlost",s,!1),ue.addEventListener("webglcontextrestored",c,!1);var Dn=be||ue.getContext("webgl",Me)||ue.getContext("experimental-webgl",Me);if(Dn===null)throw ue.getContext("webgl")!==null?Error("Error creating WebGL context with your selected attributes."):Error("Error creating WebGL context.");Dn.getShaderPrecisionFormat===void 0&&(Dn.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(vt){throw console.error("THREE.WebGLRenderer: "+vt.message),vt}var Ra,qo,Xo,Rc,df,qm,W0,yx,G0,Y0,xx,g1,X0,_g,bC,SC,Iv,Wp;r();var dm=new bp(Fr,Dn);this.xr=dm;var e0=new vf(Fr,G0,qo.maxTextureSize);this.shadowMap=e0,this.getContext=function(){return Dn},this.getContextAttributes=function(){return Dn.getContextAttributes()},this.forceContextLoss=function(){var vt=Ra.get("WEBGL_lose_context");vt&&vt.loseContext()},this.forceContextRestore=function(){var vt=Ra.get("WEBGL_lose_context");vt&&vt.restoreContext()},this.getPixelRatio=function(){return Kt},this.setPixelRatio=function(vt){vt!==void 0&&(Kt=vt,this.setSize(ft,Ut,!1))},this.getSize=function(vt){return vt===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),vt=new $e),vt.set(ft,Ut)},this.setSize=function(vt,zn,Cr){dm.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(ft=vt,Ut=zn,ue.width=Math.floor(vt*Kt),ue.height=Math.floor(zn*Kt),Cr!==!1&&(ue.style.width=vt+"px",ue.style.height=zn+"px"),this.setViewport(0,0,vt,zn))},this.getDrawingBufferSize=function(vt){return vt===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),vt=new $e),vt.set(ft*Kt,Ut*Kt).floor()},this.setDrawingBufferSize=function(vt,zn,Cr){ft=vt,Ut=zn,Kt=Cr,ue.width=Math.floor(vt*Cr),ue.height=Math.floor(zn*Cr),this.setViewport(0,0,vt,zn)},this.getCurrentViewport=function(vt){return vt===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),vt=new et),vt.copy(hf)},this.getViewport=function(vt){return vt.copy(oo)},this.setViewport=function(vt,zn,Cr,Jn){vt.isVector4?oo.set(vt.x,vt.y,vt.z,vt.w):oo.set(vt,zn,Cr,Jn),Xo.viewport(hf.copy(oo).multiplyScalar(Kt).floor())},this.getScissor=function(vt){return vt.copy(Or)},this.setScissor=function(vt,zn,Cr,Jn){vt.isVector4?Or.set(vt.x,vt.y,vt.z,vt.w):Or.set(vt,zn,Cr,Jn),Xo.scissor(vi.copy(Or).multiplyScalar(Kt).floor())},this.getScissorTest=function(){return Yr},this.setScissorTest=function(vt){Xo.setScissorTest(Yr=vt)},this.setOpaqueSort=function(vt){Hr=vt},this.setTransparentSort=function(vt){Vi=vt},this.getClearColor=function(){return _g.getClearColor()},this.setClearColor=function(){_g.setClearColor.apply(_g,arguments)},this.getClearAlpha=function(){return _g.getClearAlpha()},this.setClearAlpha=function(){_g.setClearAlpha.apply(_g,arguments)},this.clear=function(vt,zn,Cr){var Jn=0;(vt===void 0||vt)&&(Jn|=16384),(zn===void 0||zn)&&(Jn|=256),(Cr===void 0||Cr)&&(Jn|=1024),Dn.clear(Jn)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){ue.removeEventListener("webglcontextlost",s,!1),ue.removeEventListener("webglcontextrestored",c,!1),g1.dispose(),X0.dispose(),df.dispose(),G0.dispose(),dm.dispose(),Ly.stop()},this.renderBufferImmediate=function(vt,zn){Xo.initAttributes();var Cr=df.get(vt);vt.hasPositions&&!Cr.position&&(Cr.position=Dn.createBuffer()),vt.hasNormals&&!Cr.normal&&(Cr.normal=Dn.createBuffer()),vt.hasUvs&&!Cr.uv&&(Cr.uv=Dn.createBuffer()),vt.hasColors&&!Cr.color&&(Cr.color=Dn.createBuffer()),zn=zn.getAttributes(),vt.hasPositions&&(Dn.bindBuffer(34962,Cr.position),Dn.bufferData(34962,vt.positionArray,35048),Xo.enableAttribute(zn.position),Dn.vertexAttribPointer(zn.position,3,5126,!1,0,0)),vt.hasNormals&&(Dn.bindBuffer(34962,Cr.normal),Dn.bufferData(34962,vt.normalArray,35048),Xo.enableAttribute(zn.normal),Dn.vertexAttribPointer(zn.normal,3,5126,!1,0,0)),vt.hasUvs&&(Dn.bindBuffer(34962,Cr.uv),Dn.bufferData(34962,vt.uvArray,35048),Xo.enableAttribute(zn.uv),Dn.vertexAttribPointer(zn.uv,2,5126,!1,0,0)),vt.hasColors&&(Dn.bindBuffer(34962,Cr.color),Dn.bufferData(34962,vt.colorArray,35048),Xo.enableAttribute(zn.color),Dn.vertexAttribPointer(zn.color,3,5126,!1,0,0)),Xo.disableUnusedAttributes(),Dn.drawArrays(4,0,vt.count),vt.count=0};var Nm=new $r;this.renderBufferDirect=function(vt,zn,Cr,Jn,$i,vl){zn===null&&(zn=Nm);var wo=$i.isMesh&&0>$i.matrixWorld.determinant(),Fa=ae(vt,zn,Jn,$i);Xo.setMaterial(Jn,wo);var ll=!1;if((e!==Cr.id||Ca!==Fa.id||Du!==(Jn.wireframe===!0))&&(e=Cr.id,Ca=Fa.id,Du=Jn.wireframe===!0,ll=!0),(Jn.morphTargets||Jn.morphNormals)&&(bC.update($i,Cr,Jn,Fa),ll=!0),$i.isInstancedMesh===!0&&(ll=!0),vt=Cr.index,zn=Cr.attributes.position,vt===null){if(zn===void 0||zn.count===0)return}else if(vt.count===0)return;var Nu=1;if(Jn.wireframe===!0&&(vt=yx.getWireframeAttribute(Cr),Nu=2),wo=SC,vt!==null){var Jl=W0.get(vt);wo=Iv,wo.setIndex(Jl)}if(ll){if(qo.isWebGL2!==!1||!$i.isInstancedMesh&&!Cr.isInstancedBufferGeometry||Ra.get("ANGLE_instanced_arrays")!==null){Xo.initAttributes(),ll=Cr.attributes,Fa=Fa.getAttributes();var Pv=Jn.defaultAttributeValues;for(r0 in Fa){var Tf=Fa[r0];if(0<=Tf){var td=ll[r0];if(td!==void 0){var rg=td.normalized,MC=td.itemSize,$m=W0.get(td);if($m!==void 0){var y1=$m.buffer,t0=$m.type;if($m=$m.bytesPerElement,td.isInterleavedBufferAttribute){var K0=td.data,ZA=K0.stride;td=td.offset,K0&&K0.isInstancedInterleavedBuffer?(Xo.enableAttributeAndDivisor(Tf,K0.meshPerAttribute),Cr._maxInstanceCount===void 0&&(Cr._maxInstanceCount=K0.meshPerAttribute*K0.count)):Xo.enableAttribute(Tf),Dn.bindBuffer(34962,y1),Xo.vertexAttribPointer(Tf,MC,t0,rg,ZA*$m,td*$m)}else td.isInstancedBufferAttribute?(Xo.enableAttributeAndDivisor(Tf,td.meshPerAttribute),Cr._maxInstanceCount===void 0&&(Cr._maxInstanceCount=td.meshPerAttribute*td.count)):Xo.enableAttribute(Tf),Dn.bindBuffer(34962,y1),Xo.vertexAttribPointer(Tf,MC,t0,rg,0,0)}}else if(r0==="instanceMatrix")$m=W0.get($i.instanceMatrix),$m!==void 0&&(y1=$m.buffer,t0=$m.type,Xo.enableAttributeAndDivisor(Tf+0,1),Xo.enableAttributeAndDivisor(Tf+1,1),Xo.enableAttributeAndDivisor(Tf+2,1),Xo.enableAttributeAndDivisor(Tf+3,1),Dn.bindBuffer(34962,y1),Dn.vertexAttribPointer(Tf+0,4,t0,!1,64,0),Dn.vertexAttribPointer(Tf+1,4,t0,!1,64,16),Dn.vertexAttribPointer(Tf+2,4,t0,!1,64,32),Dn.vertexAttribPointer(Tf+3,4,t0,!1,64,48));else if(Pv!==void 0&&(rg=Pv[r0],rg!==void 0))switch(rg.length){case 2:Dn.vertexAttrib2fv(Tf,rg);break;case 3:Dn.vertexAttrib3fv(Tf,rg);break;case 4:Dn.vertexAttrib4fv(Tf,rg);break;default:Dn.vertexAttrib1fv(Tf,rg)}}}Xo.disableUnusedAttributes()}vt!==null&&Dn.bindBuffer(34963,Jl.buffer)}var r0=Cr.drawRange.start*Nu;ll=vl!==null?vl.start*Nu:0,Jl=Math.max(r0,ll),vl=Math.max(0,Math.min(vt!==null?vt.count:zn.count,r0+Cr.drawRange.count*Nu,ll+(vl!==null?vl.count*Nu:Infinity))-1-Jl+1),vl!==0&&($i.isMesh?Jn.wireframe===!0?(Xo.setLineWidth(Jn.wireframeLinewidth*(En===null?Kt:1)),wo.setMode(1)):wo.setMode(4):$i.isLine?(Jn=Jn.linewidth,Jn===void 0&&(Jn=1),Xo.setLineWidth(Jn*(En===null?Kt:1)),$i.isLineSegments?wo.setMode(1):$i.isLineLoop?wo.setMode(2):wo.setMode(3)):$i.isPoints?wo.setMode(0):$i.isSprite&&wo.setMode(4),$i.isInstancedMesh?wo.renderInstances(Cr,Jl,vl,$i.count):Cr.isInstancedBufferGeometry?wo.renderInstances(Cr,Jl,vl,Math.min(Cr.instanceCount,Cr._maxInstanceCount)):wo.render(Jl,vl))},this.compile=function(vt,zn){qn=X0.get(vt,zn),qn.init(),vt.traverse(function(Jn){Jn.isLight&&(qn.pushLight(Jn),Jn.castShadow&&qn.pushShadow(Jn))}),qn.setupLights(zn);var Cr={};vt.traverse(function(Jn){var $i=Jn.material;if($i)if(Array.isArray($i))for(var vl=0;vl<$i.length;vl++){var wo=$i[vl];!(wo.uuid in Cr)&&(W(wo,vt,Jn),Cr[wo.uuid]=!0)}else!($i.uuid in Cr)&&(W($i,vt,Jn),Cr[$i.uuid]=!0)})};var Rp=null,Ly=new Gr;Ly.setAnimationLoop(function(vt){dm.isPresenting||Rp&&Rp(vt)}),typeof window!="undefined"&&Ly.setContext(window),this.setAnimationLoop=function(vt){Rp=vt,dm.setAnimationLoop(vt),Ly.start()},this.render=function(vt,zn,Cr,Jn){if(Cr!==void 0){console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.");var $i=Cr}if(Jn!==void 0){console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.");var vl=Jn}zn&&zn.isCamera?pi||(Ca=e=null,Du=!1,as=-1,Aa=null,vt.autoUpdate===!0&&vt.updateMatrixWorld(),zn.parent===null&&zn.updateMatrixWorld(),dm.enabled&&dm.isPresenting&&(zn=dm.getCamera(zn)),vt.onBeforeRender(Fr,vt,zn,$i||En),qn=X0.get(vt,zn),qn.init(),Oa.multiplyMatrices(zn.projectionMatrix,zn.matrixWorldInverse),Wi.setFromProjectionMatrix(Oa),Ln=this.localClippingEnabled,Ii=li.init(this.clippingPlanes,Ln,zn),wt=g1.get(vt,zn),wt.init(),I(vt,zn,0,Fr.sortObjects),wt.finish(),Fr.sortObjects===!0&&wt.sort(Hr,Vi),Ii&&li.beginShadows(),e0.render(qn.state.shadowsArray,vt,zn),qn.setupLights(zn),Ii&&li.endShadows(),this.info.autoReset&&this.info.reset(),$i!==void 0&&this.setRenderTarget($i),_g.render(wt,vt,zn,vl),Cr=wt.opaque,Jn=wt.transparent,vt.overrideMaterial?($i=vt.overrideMaterial,Cr.length&&j(Cr,vt,zn,$i),Jn.length&&j(Jn,vt,zn,$i)):(Cr.length&&j(Cr,vt,zn),Jn.length&&j(Jn,vt,zn)),vt.onAfterRender(Fr,vt,zn),En!==null&&(qm.updateRenderTargetMipmap(En),qm.updateMultisampleRenderTarget(En)),Xo.buffers.depth.setTest(!0),Xo.buffers.depth.setMask(!0),Xo.buffers.color.setMask(!0),Xo.setPolygonOffset(!1),qn=wt=null):console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(vt){Ai!==vt&&En===null&&Dn.bindFramebuffer(36160,vt),Ai=vt},this.getActiveCubeFace=function(){return Pr},this.getActiveMipmapLevel=function(){return Fo},this.getRenderTarget=function(){return En},this.setRenderTarget=function(vt,zn,Cr){En=vt,Pr=zn,Fo=Cr,vt&&df.get(vt).__webglFramebuffer===void 0&&qm.setupRenderTarget(vt);var Jn=Ai,$i=!1;vt?(Jn=df.get(vt).__webglFramebuffer,vt.isWebGLCubeRenderTarget?(Jn=Jn[zn||0],$i=!0):Jn=vt.isWebGLMultisampleRenderTarget?df.get(vt).__webglMultisampledFramebuffer:Jn,hf.copy(vt.viewport),vi.copy(vt.scissor),Gl=vt.scissorTest):(hf.copy(oo).multiplyScalar(Kt).floor(),vi.copy(Or).multiplyScalar(Kt).floor(),Gl=Yr),ua!==Jn&&(Dn.bindFramebuffer(36160,Jn),ua=Jn),Xo.viewport(hf),Xo.scissor(vi),Xo.setScissorTest(Gl),$i&&(vt=df.get(vt.texture),Dn.framebufferTexture2D(36160,36064,34069+(zn||0),vt.__webglTexture,Cr||0))},this.readRenderTargetPixels=function(vt,zn,Cr,Jn,$i,vl,wo){if(vt&&vt.isWebGLRenderTarget){var Fa=df.get(vt).__webglFramebuffer;if(vt.isWebGLCubeRenderTarget&&wo!==void 0&&(Fa=Fa[wo]),Fa){wo=!1,Fa!==ua&&(Dn.bindFramebuffer(36160,Fa),wo=!0);try{var ll=vt.texture,Nu=ll.format,Jl=ll.type;Nu!==1023&&Wp.convert(Nu)!==Dn.getParameter(35739)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):Jl===1009||Wp.convert(Jl)===Dn.getParameter(35738)||Jl===1015&&(qo.isWebGL2||Ra.get("OES_texture_float")||Ra.get("WEBGL_color_buffer_float"))||Jl===1016&&(qo.isWebGL2?Ra.get("EXT_color_buffer_float"):Ra.get("EXT_color_buffer_half_float"))?Dn.checkFramebufferStatus(36160)===36053?0<=zn&&zn<=vt.width-Jn&&0<=Cr&&Cr<=vt.height-$i&&Dn.readPixels(zn,Cr,Jn,$i,Wp.convert(Nu),Wp.convert(Jl),vl):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{wo&&Dn.bindFramebuffer(36160,ua)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(vt,zn,Cr){Cr===void 0&&(Cr=0);var Jn=Math.pow(2,-Cr),$i=Math.floor(zn.image.width*Jn);Jn=Math.floor(zn.image.height*Jn);var vl=Wp.convert(zn.format);qm.setTexture2D(zn,0),Dn.copyTexImage2D(3553,Cr,vl,vt.x,vt.y,$i,Jn,0),Xo.unbindTexture()},this.copyTextureToTexture=function(vt,zn,Cr,Jn){Jn===void 0&&(Jn=0);var $i=zn.image.width,vl=zn.image.height,wo=Wp.convert(Cr.format),Fa=Wp.convert(Cr.type);qm.setTexture2D(Cr,0),zn.isDataTexture?Dn.texSubImage2D(3553,Jn,vt.x,vt.y,$i,vl,wo,Fa,zn.image.data):zn.isCompressedTexture?Dn.compressedTexSubImage2D(3553,Jn,vt.x,vt.y,zn.mipmaps[0].width,zn.mipmaps[0].height,wo,zn.mipmaps[0].data):Dn.texSubImage2D(3553,Jn,vt.x,vt.y,wo,Fa,zn.image),Jn===0&&Cr.generateMipmaps&&Dn.generateMipmap(3553),Xo.unbindTexture()},this.initTexture=function(vt){qm.setTexture2D(vt,0),Xo.unbindTexture()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Qd(i,e){this.name="",this.color=new At(i),this.density=e!==void 0?e:25e-5}function sd(i,e,r){this.name="",this.color=new At(i),this.near=e!==void 0?e:1,this.far=r!==void 0?r:1e3}function ah(i,e){this.array=i,this.stride=e,this.count=i!==void 0?i.length/e:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}function qd(i,e,r,s){this.name="",this.data=i,this.itemSize=e,this.offset=r,this.normalized=s===!0}function _h(i){Kr.call(this),this.type="SpriteMaterial",this.color=new At(16777215),this.alphaMap=this.map=null,this.rotation=0,this.transparent=this.sizeAttenuation=!0,this.setValues(i)}function us(i){if(pr.call(this),this.type="Sprite",Mg===void 0){Mg=new kr;var e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]);e=new ah(e,5),Mg.setIndex([0,1,2,0,2,3]),Mg.setAttribute("position",new qd(e,3,0,!1)),Mg.setAttribute("uv",new qd(e,2,3,!1))}this.geometry=Mg,this.material=i!==void 0?i:new _h,this.center=new $e(.5,.5)}function ze(i,e,r,s,c,v){_v.subVectors(i,r).addScalar(.5).multiply(s),c!==void 0?(qg.x=v*_v.x-c*_v.y,qg.y=c*_v.x+v*_v.y):qg.copy(_v),i.copy(e),i.x+=qg.x,i.y+=qg.y,i.applyMatrix4(F0)}function Le(){pr.call(this),this._currentLevel=0,this.type="LOD",Ia(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function it(i,e){i&&i.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),ei.call(this,i,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ht,this.bindMatrixInverse=new ht}function Qe(i,e){if(i=i||[],this.bones=i.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,e===void 0)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else for(console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[],i=0,e=this.bones.length;i<e;i++)this.boneInverses.push(new ht)}function Gt(){pr.call(this),this.type="Bone"}function yt(i,e,r){ei.call(this,i,e),this.instanceMatrix=new Nn(new Float32Array(16*r),16),this.count=r,this.frustumCulled=!1}function mr(i){Kr.call(this),this.type="LineBasicMaterial",this.color=new At(16777215),this.linewidth=1,this.linejoin=this.linecap="round",this.morphTargets=!1,this.setValues(i)}function vr(i,e,r){r===1&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),pr.call(this),this.type="Line",this.geometry=i!==void 0?i:new kr,this.material=e!==void 0?e:new mr,this.updateMorphTargets()}function Ar(i,e){vr.call(this,i,e),this.type="LineSegments"}function sn(i,e){vr.call(this,i,e),this.type="LineLoop"}function bi(i){Kr.call(this),this.type="PointsMaterial",this.color=new At(16777215),this.alphaMap=this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(i)}function nn(i,e){pr.call(this),this.type="Points",this.geometry=i!==void 0?i:new kr,this.material=e!==void 0?e:new bi,this.updateMorphTargets()}function Ti(i,e,r,s,c,v,x){var w=_y.distanceSqToPoint(i);w<r&&(r=new Ie,_y.closestPointToPoint(i,r),r.applyMatrix4(s),i=c.ray.origin.distanceTo(r),i<c.near||i>c.far||v.push({distance:i,distanceToRay:Math.sqrt(w),point:r,index:e,face:null,object:x}))}function yo(i,e,r,s,c,v,x,w,I){Xt.call(this,i,e,r,s,c,v,x,w,I),this.format=x!==void 0?x:1022,this.minFilter=v!==void 0?v:1006,this.magFilter=c!==void 0?c:1006,this.generateMipmaps=!1}function mn(i,e,r,s,c,v,x,w,I,j,G,W){Xt.call(this,null,v,x,w,I,j,s,c,G,W),this.image={width:e,height:r},this.mipmaps=i,this.generateMipmaps=this.flipY=!1}function ca(i,e,r,s,c,v,x,w,I){Xt.call(this,i,e,r,s,c,v,x,w,I),this.needsUpdate=!0}function co(i,e,r,s,c,v,x,w,I,j){if(j=j!==void 0?j:1026,j!==1026&&j!==1027)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&j===1026&&(r=1012),r===void 0&&j===1027&&(r=1020),Xt.call(this,null,s,c,v,x,w,j,r,I),this.image={width:i,height:e},this.magFilter=x!==void 0?x:1003,this.minFilter=w!==void 0?w:1003,this.generateMipmaps=this.flipY=!1}function is(i){kr.call(this),this.type="WireframeGeometry";var e=[],r,s,c,v=[0,0],x={},w=["a","b","c"];if(i&&i.isGeometry){var I=i.faces,j=0;for(s=I.length;j<s;j++){var G=I[j];for(r=0;3>r;r++){var W=G[w[r]],ae=G[w[(r+1)%3]];v[0]=Math.min(W,ae),v[1]=Math.max(W,ae),W=v[0]+","+v[1],x[W]===void 0&&(x[W]={index1:v[0],index2:v[1]})}}for(W in x)j=x[W],w=i.vertices[j.index1],e.push(w.x,w.y,w.z),w=i.vertices[j.index2],e.push(w.x,w.y,w.z)}else if(i&&i.isBufferGeometry)if(w=new Ie,i.index!==null){I=i.attributes.position,G=i.index;var ue=i.groups;for(ue.length===0&&(ue=[{start:0,count:G.count,materialIndex:0}]),i=0,c=ue.length;i<c;++i)for(j=ue[i],r=j.start,s=j.count,j=r,s=r+s;j<s;j+=3)for(r=0;3>r;r++)W=G.getX(j+r),ae=G.getX(j+(r+1)%3),v[0]=Math.min(W,ae),v[1]=Math.max(W,ae),W=v[0]+","+v[1],x[W]===void 0&&(x[W]={index1:v[0],index2:v[1]});for(W in x)j=x[W],w.fromBufferAttribute(I,j.index1),e.push(w.x,w.y,w.z),w.fromBufferAttribute(I,j.index2),e.push(w.x,w.y,w.z)}else for(I=i.attributes.position,j=0,s=I.count/3;j<s;j++)for(r=0;3>r;r++)x=3*j+r,w.fromBufferAttribute(I,x),e.push(w.x,w.y,w.z),x=3*j+(r+1)%3,w.fromBufferAttribute(I,x),e.push(w.x,w.y,w.z);this.setAttribute("position",new hr(e,3))}function Yi(i,e,r){ui.call(this),this.type="ParametricGeometry",this.parameters={func:i,slices:e,stacks:r},this.fromBufferGeometry(new fa(i,e,r)),this.mergeVertices()}function fa(i,e,r){kr.call(this),this.type="ParametricBufferGeometry",this.parameters={func:i,slices:e,stacks:r};var s=[],c=[],v=[],x=[],w=new Ie,I=new Ie,j=new Ie,G=new Ie,W=new Ie,ae,ue;3>i.length&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var be=e+1;for(ae=0;ae<=r;ae++){var Me=ae/r;for(ue=0;ue<=e;ue++){var ct=ue/e;i(ct,Me,I),c.push(I.x,I.y,I.z),0<=ct-1e-5?(i(ct-1e-5,Me,j),G.subVectors(I,j)):(i(ct+1e-5,Me,j),G.subVectors(j,I)),0<=Me-1e-5?(i(ct,Me-1e-5,j),W.subVectors(I,j)):(i(ct,Me+1e-5,j),W.subVectors(j,I)),w.crossVectors(G,W).normalize(),v.push(w.x,w.y,w.z),x.push(ct,Me)}}for(ae=0;ae<r;ae++)for(ue=0;ue<e;ue++)i=ae*be+ue+1,w=(ae+1)*be+ue+1,I=(ae+1)*be+ue,s.push(ae*be+ue,i,I),s.push(i,w,I);this.setIndex(s),this.setAttribute("position",new hr(c,3)),this.setAttribute("normal",new hr(v,3)),this.setAttribute("uv",new hr(x,2))}function ha(i,e,r,s){ui.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:i,indices:e,radius:r,detail:s},this.fromBufferGeometry(new Da(i,e,r,s)),this.mergeVertices()}function Da(i,e,r,s){function c(j){w.push(j.x,j.y,j.z)}function v(j,G){j*=3,G.x=i[j+0],G.y=i[j+1],G.z=i[j+2]}function x(j,G,W,ae){0>ae&&j.x===1&&(I[G]=j.x-1),W.x===0&&W.z===0&&(I[G]=ae/2/Math.PI+.5)}kr.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:i,indices:e,radius:r,detail:s},r=r||1,s=s||0;var w=[],I=[];(function(j){for(var G=new Ie,W=new Ie,ae=new Ie,ue=0;ue<e.length;ue+=3){v(e[ue+0],G),v(e[ue+1],W),v(e[ue+2],ae);var be,Me,ct=G,Nt=W,Pt=ae,Bt=Math.pow(2,j),ir=[];for(Me=0;Me<=Bt;Me++){ir[Me]=[];var Ir=ct.clone().lerp(Pt,Me/Bt),Tr=Nt.clone().lerp(Pt,Me/Bt),wt=Bt-Me;for(be=0;be<=wt;be++)ir[Me][be]=be===0&&Me===Bt?Ir:Ir.clone().lerp(Tr,be/wt)}for(Me=0;Me<Bt;Me++)for(be=0;be<2*(Bt-Me)-1;be++)ct=Math.floor(be/2),be%2==0?(c(ir[Me][ct+1]),c(ir[Me+1][ct]),c(ir[Me][ct])):(c(ir[Me][ct+1]),c(ir[Me+1][ct+1]),c(ir[Me+1][ct]))}})(s),function(j){for(var G=new Ie,W=0;W<w.length;W+=3)G.x=w[W+0],G.y=w[W+1],G.z=w[W+2],G.normalize().multiplyScalar(j),w[W+0]=G.x,w[W+1]=G.y,w[W+2]=G.z}(r),function(){for(var j=new Ie,G=0;G<w.length;G+=3)j.x=w[G+0],j.y=w[G+1],j.z=w[G+2],I.push(Math.atan2(j.z,-j.x)/2/Math.PI+.5,1-(Math.atan2(-j.y,Math.sqrt(j.x*j.x+j.z*j.z))/Math.PI+.5));j=new Ie,G=new Ie;for(var W=new Ie,ae=new Ie,ue=new $e,be=new $e,Me=new $e,ct=0,Nt=0;ct<w.length;ct+=9,Nt+=6){j.set(w[ct+0],w[ct+1],w[ct+2]),G.set(w[ct+3],w[ct+4],w[ct+5]),W.set(w[ct+6],w[ct+7],w[ct+8]),ue.set(I[Nt+0],I[Nt+1]),be.set(I[Nt+2],I[Nt+3]),Me.set(I[Nt+4],I[Nt+5]),ae.copy(j).add(G).add(W).divideScalar(3);var Pt=Math.atan2(ae.z,-ae.x);x(ue,Nt+0,j,Pt),x(be,Nt+2,G,Pt),x(Me,Nt+4,W,Pt)}for(j=0;j<I.length;j+=6)G=I[j+0],W=I[j+2],ae=I[j+4],ue=Math.min(G,W,ae),.9<Math.max(G,W,ae)&&.1>ue&&(.2>G&&(I[j+0]+=1),.2>W&&(I[j+2]+=1),.2>ae&&(I[j+4]+=1))}(),this.setAttribute("position",new hr(w,3)),this.setAttribute("normal",new hr(w.slice(),3)),this.setAttribute("uv",new hr(I,2)),s===0?this.computeVertexNormals():this.normalizeNormals()}function Xi(i,e){ui.call(this),this.type="TetrahedronGeometry",this.parameters={radius:i,detail:e},this.fromBufferGeometry(new fo(i,e)),this.mergeVertices()}function fo(i,e){Da.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],i,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:i,detail:e}}function Qa(i,e){ui.call(this),this.type="OctahedronGeometry",this.parameters={radius:i,detail:e},this.fromBufferGeometry(new po(i,e)),this.mergeVertices()}function po(i,e){Da.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],i,e),this.type="OctahedronBufferGeometry",this.parameters={radius:i,detail:e}}function ws(i,e){ui.call(this),this.type="IcosahedronGeometry",this.parameters={radius:i,detail:e},this.fromBufferGeometry(new os(i,e)),this.mergeVertices()}function os(i,e){var r=(1+Math.sqrt(5))/2;Da.call(this,[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],i,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:i,detail:e}}function Ls(i,e){ui.call(this),this.type="DodecahedronGeometry",this.parameters={radius:i,detail:e},this.fromBufferGeometry(new oa(i,e)),this.mergeVertices()}function oa(i,e){var r=(1+Math.sqrt(5))/2,s=1/r;Da.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-r,0,-s,r,0,s,-r,0,s,r,-s,-r,0,-s,r,0,s,-r,0,s,r,0,-r,0,-s,r,0,-s,-r,0,s,r,0,s],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],i,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:i,detail:e}}function Lo(i,e,r,s,c,v){ui.call(this),this.type="TubeGeometry",this.parameters={path:i,tubularSegments:e,radius:r,radialSegments:s,closed:c},v!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed."),i=new wa(i,e,r,s,c),this.tangents=i.tangents,this.normals=i.normals,this.binormals=i.binormals,this.fromBufferGeometry(i),this.mergeVertices()}function wa(i,e,r,s,c){function v(Nt){G=i.getPointAt(Nt/e,G);var Pt=x.normals[Nt];for(Nt=x.binormals[Nt],ae=0;ae<=s;ae++){var Bt=ae/s*Math.PI*2,ir=Math.sin(Bt);Bt=-Math.cos(Bt),I.x=Bt*Pt.x+ir*Nt.x,I.y=Bt*Pt.y+ir*Nt.y,I.z=Bt*Pt.z+ir*Nt.z,I.normalize(),be.push(I.x,I.y,I.z),w.x=G.x+r*I.x,w.y=G.y+r*I.y,w.z=G.z+r*I.z,ue.push(w.x,w.y,w.z)}}kr.call(this),this.type="TubeBufferGeometry",this.parameters={path:i,tubularSegments:e,radius:r,radialSegments:s,closed:c},e=e||64,r=r||1,s=s||8,c=c||!1;var x=i.computeFrenetFrames(e,c);this.tangents=x.tangents,this.normals=x.normals,this.binormals=x.binormals;var w=new Ie,I=new Ie,j=new $e,G=new Ie,W,ae,ue=[],be=[],Me=[],ct=[];for(W=0;W<e;W++)v(W);for(v(c===!1?e:0),W=0;W<=e;W++)for(ae=0;ae<=s;ae++)j.x=W/e,j.y=ae/s,Me.push(j.x,j.y);(function(){for(ae=1;ae<=e;ae++)for(W=1;W<=s;W++){var Nt=(s+1)*ae+(W-1),Pt=(s+1)*ae+W,Bt=(s+1)*(ae-1)+W;ct.push((s+1)*(ae-1)+(W-1),Nt,Bt),ct.push(Nt,Pt,Bt)}})(),this.setIndex(ct),this.setAttribute("position",new hr(ue,3)),this.setAttribute("normal",new hr(be,3)),this.setAttribute("uv",new hr(Me,2))}function ba(i,e,r,s,c,v,x){ui.call(this),this.type="TorusKnotGeometry",this.parameters={radius:i,tube:e,tubularSegments:r,radialSegments:s,p:c,q:v},x!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new ho(i,e,r,s,c,v)),this.mergeVertices()}function ho(i,e,r,s,c,v){function x(Tr,wt,qn,Fr,pi){var Ai=Math.sin(Tr);wt=qn/wt*Tr,qn=Math.cos(wt),pi.x=Fr*(2+qn)*.5*Math.cos(Tr),pi.y=Fr*(2+qn)*Ai*.5,pi.z=Fr*Math.sin(wt)*.5}kr.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:i,tube:e,tubularSegments:r,radialSegments:s,p:c,q:v},i=i||1,e=e||.4,r=Math.floor(r)||64,s=Math.floor(s)||8,c=c||2,v=v||3;var w=[],I=[],j=[],G=[],W,ae=new Ie,ue=new Ie,be=new Ie,Me=new Ie,ct=new Ie,Nt=new Ie,Pt=new Ie;for(W=0;W<=r;++W){var Bt=W/r*c*Math.PI*2;for(x(Bt,c,v,i,be),x(Bt+.01,c,v,i,Me),Nt.subVectors(Me,be),Pt.addVectors(Me,be),ct.crossVectors(Nt,Pt),Pt.crossVectors(ct,Nt),ct.normalize(),Pt.normalize(),Bt=0;Bt<=s;++Bt){var ir=Bt/s*Math.PI*2,Ir=-e*Math.cos(ir);ir=e*Math.sin(ir),ae.x=be.x+(Ir*Pt.x+ir*ct.x),ae.y=be.y+(Ir*Pt.y+ir*ct.y),ae.z=be.z+(Ir*Pt.z+ir*ct.z),I.push(ae.x,ae.y,ae.z),ue.subVectors(ae,be).normalize(),j.push(ue.x,ue.y,ue.z),G.push(W/r),G.push(Bt/s)}}for(Bt=1;Bt<=r;Bt++)for(W=1;W<=s;W++)i=(s+1)*Bt+(W-1),e=(s+1)*Bt+W,c=(s+1)*(Bt-1)+W,w.push((s+1)*(Bt-1)+(W-1),i,c),w.push(i,e,c);this.setIndex(w),this.setAttribute("position",new hr(I,3)),this.setAttribute("normal",new hr(j,3)),this.setAttribute("uv",new hr(G,2))}function qa(i,e,r,s,c){ui.call(this),this.type="TorusGeometry",this.parameters={radius:i,tube:e,radialSegments:r,tubularSegments:s,arc:c},this.fromBufferGeometry(new da(i,e,r,s,c)),this.mergeVertices()}function da(i,e,r,s,c){kr.call(this),this.type="TorusBufferGeometry",this.parameters={radius:i,tube:e,radialSegments:r,tubularSegments:s,arc:c},i=i||1,e=e||.4,r=Math.floor(r)||8,s=Math.floor(s)||6,c=c||2*Math.PI;var v=[],x=[],w=[],I=[],j=new Ie,G=new Ie,W=new Ie,ae,ue;for(ae=0;ae<=r;ae++)for(ue=0;ue<=s;ue++){var be=ue/s*c,Me=ae/r*Math.PI*2;G.x=(i+e*Math.cos(Me))*Math.cos(be),G.y=(i+e*Math.cos(Me))*Math.sin(be),G.z=e*Math.sin(Me),x.push(G.x,G.y,G.z),j.x=i*Math.cos(be),j.y=i*Math.sin(be),W.subVectors(G,j).normalize(),w.push(W.x,W.y,W.z),I.push(ue/s),I.push(ae/r)}for(ae=1;ae<=r;ae++)for(ue=1;ue<=s;ue++)i=(s+1)*(ae-1)+ue-1,e=(s+1)*(ae-1)+ue,c=(s+1)*ae+ue,v.push((s+1)*ae+ue-1,i,c),v.push(i,e,c);this.setIndex(v),this.setAttribute("position",new hr(x,3)),this.setAttribute("normal",new hr(w,3)),this.setAttribute("uv",new hr(I,2))}function ta(i,e,r,s,c){for(var v,x=0,w=e,I=r-s;w<r;w+=s)x+=(i[I]-i[w])*(i[w+1]+i[I+1]),I=w;if(c===0<x)for(c=e;c<r;c+=s)v=ju(c,i[c],i[c+1],v);else for(c=r-s;c>=e;c-=s)v=ju(c,i[c],i[c+1],v);return v&&lu(v,v.next)&&($l(v),v=v.next),v}function Ka(i,e){if(!i)return i;e||(e=i);do{var r=!1;if(i.steiner||!lu(i,i.next)&&ja(i.prev,i,i.next)!==0)i=i.next;else{if($l(i),i=e=i.prev,i===i.next)break;r=!0}}while(r||i!==e);return e}function Za(i,e,r,s,c,v,x){if(i){if(!x&&v){var w=i,I=w;do I.z===null&&(I.z=Yu(I.x,I.y,s,c,v)),I.prevZ=I.prev,I=I.nextZ=I.next;while(I!==w);I.prevZ.nextZ=null,I.prevZ=null,w=I;var j,G,W,ae,ue=1;do{I=w;var be=w=null;for(G=0;I;){G++;var Me=I;for(j=W=0;j<ue&&(W++,Me=Me.nextZ,Me);j++);for(ae=ue;0<W||0<ae&&Me;)W!==0&&(ae===0||!Me||I.z<=Me.z)?(j=I,I=I.nextZ,W--):(j=Me,Me=Me.nextZ,ae--),be?be.nextZ=j:w=j,j.prevZ=be,be=j;I=Me}be.nextZ=null,ue*=2}while(1<G)}for(w=i;i.prev!==i.next;){if(I=i.prev,Me=i.next,v)be=cs(i,s,c,v);else e:if(be=i,G=be.prev,W=be,ue=be.next,0<=ja(G,W,ue))be=!1;else{for(j=be.next.next;j!==be.prev;){if(El(G.x,G.y,W.x,W.y,ue.x,ue.y,j.x,j.y)&&0<=ja(j.prev,j,j.next)){be=!1;break e}j=j.next}be=!0}if(be)e.push(I.i/r),e.push(i.i/r),e.push(Me.i/r),$l(i),w=i=Me.next;else if(i=Me,i===w){if(!x)Za(Ka(i),e,r,s,c,v,1);else if(x===1){i=Ka(i),x=e,w=r,I=i;do Me=I.prev,be=I.next.next,!lu(Me,be)&&$c(Me,I,I.next,be)&&Ks(Me,be)&&Ks(be,Me)&&(x.push(Me.i/w),x.push(I.i/w),x.push(be.i/w),$l(I),$l(I.next),I=i=be),I=I.next;while(I!==i);i=Ka(I),Za(i,e,r,s,c,v,2)}else if(x===2)e:{x=i;do{for(w=x.next.next;w!==x.prev;){if(I=x.i!==w.i){if(I=x,Me=w,be=I.next.i!==Me.i&&I.prev.i!==Me.i){t:{be=I;do{if(be.i!==I.i&&be.next.i!==I.i&&be.i!==Me.i&&be.next.i!==Me.i&&$c(be,be.next,I,Me)){be=!0;break t}be=be.next}while(be!==I);be=!1}be=!be}if(be){if(be=Ks(I,Me)&&Ks(Me,I)){be=I,G=!1,W=(I.x+Me.x)/2,ue=(I.y+Me.y)/2;do be.y>ue!=be.next.y>ue&&be.next.y!==be.y&&W<(be.next.x-be.x)*(ue-be.y)/(be.next.y-be.y)+be.x&&(G=!G),be=be.next;while(be!==I);be=G}be=be&&(ja(I.prev,I,Me.prev)||ja(I,Me.prev,Me))||lu(I,Me)&&0<ja(I.prev,I,I.next)&&0<ja(Me.prev,Me,Me.next)}I=be}if(I){i=fs(x,w),x=Ka(x,x.next),i=Ka(i,i.next),Za(x,e,r,s,c,v),Za(i,e,r,s,c,v);break e}w=w.next}x=x.next}while(x!==i)}break}}}}function cs(i,e,r,s){var c=i.prev,v=i.next;if(0<=ja(c,i,v))return!1;var x=c.x>i.x?c.x>v.x?c.x:v.x:i.x>v.x?i.x:v.x,w=c.y>i.y?c.y>v.y?c.y:v.y:i.y>v.y?i.y:v.y,I=Yu(c.x<i.x?c.x<v.x?c.x:v.x:i.x<v.x?i.x:v.x,c.y<i.y?c.y<v.y?c.y:v.y:i.y<v.y?i.y:v.y,e,r,s);for(e=Yu(x,w,e,r,s),r=i.prevZ,s=i.nextZ;r&&r.z>=I&&s&&s.z<=e;){if(r!==i.prev&&r!==i.next&&El(c.x,c.y,i.x,i.y,v.x,v.y,r.x,r.y)&&0<=ja(r.prev,r,r.next)||(r=r.prevZ,s!==i.prev&&s!==i.next&&El(c.x,c.y,i.x,i.y,v.x,v.y,s.x,s.y)&&0<=ja(s.prev,s,s.next)))return!1;s=s.nextZ}for(;r&&r.z>=I;){if(r!==i.prev&&r!==i.next&&El(c.x,c.y,i.x,i.y,v.x,v.y,r.x,r.y)&&0<=ja(r.prev,r,r.next))return!1;r=r.prevZ}for(;s&&s.z<=e;){if(s!==i.prev&&s!==i.next&&El(c.x,c.y,i.x,i.y,v.x,v.y,s.x,s.y)&&0<=ja(s.prev,s,s.next))return!1;s=s.nextZ}return!0}function Uo(i,e){return i.x-e.x}function nc(i,e){var r=e,s=i.x,c=i.y,v=-Infinity;do{if(c<=r.y&&c>=r.next.y&&r.next.y!==r.y){var x=r.x+(c-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(x<=s&&x>v){if(v=x,x===s){if(c===r.y)return r;if(c===r.next.y)return r.next}var w=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!w)return null;if(s===v)return w;e=w,x=w.x;var I=w.y,j=Infinity;r=w;do{if(s>=r.x&&r.x>=x&&s!==r.x&&El(c<I?s:v,c,x,I,c<I?v:s,c,r.x,r.y)){var G=Math.abs(c-r.y)/(s-r.x),W;if((W=Ks(r,i))&&!(W=G<j)&&(W=G===j)&&!(W=r.x>w.x)&&(W=r.x===w.x)){W=w;var ae=r;W=0>ja(W.prev,W,ae.prev)&&0>ja(ae.next,W,W.next)}W&&(w=r,j=G)}r=r.next}while(r!==e);return w}function Yu(i,e,r,s,c){return i=32767*(i-r)*c,e=32767*(e-s)*c,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,(i|i<<1)&1431655765|((e|e<<1)&1431655765)<<1}function Bu(i){var e=i,r=i;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==i);return r}function El(i,e,r,s,c,v,x,w){return 0<=(c-x)*(e-w)-(i-x)*(v-w)&&0<=(i-x)*(s-w)-(r-x)*(e-w)&&0<=(r-x)*(v-w)-(c-x)*(s-w)}function ja(i,e,r){return(e.y-i.y)*(r.x-e.x)-(e.x-i.x)*(r.y-e.y)}function lu(i,e){return i.x===e.x&&i.y===e.y}function $c(i,e,r,s){var c=uu(ja(i,e,r)),v=uu(ja(i,e,s)),x=uu(ja(r,s,i)),w=uu(ja(r,s,e));return!!(c!==v&&x!==w||c===0&&Ul(i,r,e)||v===0&&Ul(i,s,e)||x===0&&Ul(r,i,s)||w===0&&Ul(r,e,s))}function Ul(i,e,r){return e.x<=Math.max(i.x,r.x)&&e.x>=Math.min(i.x,r.x)&&e.y<=Math.max(i.y,r.y)&&e.y>=Math.min(i.y,r.y)}function uu(i){return 0<i?1:0>i?-1:0}function Ks(i,e){return 0>ja(i.prev,i,i.next)?0<=ja(i,e,i.next)&&0<=ja(i,i.prev,e):0>ja(i,e,i.prev)||0>ja(i,i.next,e)}function fs(i,e){var r=new ic(i.i,i.x,i.y),s=new ic(e.i,e.x,e.y),c=i.next,v=e.prev;return i.next=e,e.prev=i,r.next=c,c.prev=r,s.next=r,r.prev=s,v.next=s,s.prev=v,s}function ju(i,e,r,s){return i=new ic(i,e,r),s?(i.next=s.next,i.prev=s,s.next.prev=i,s.next=i):(i.prev=i,i.next=i),i}function $l(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function ic(i,e,r){this.i=i,this.x=e,this.y=r,this.nextZ=this.prevZ=this.z=this.next=this.prev=null,this.steiner=!1}function Nl(i){var e=i.length;2<e&&i[e-1].equals(i[0])&&i.pop()}function zu(i,e){for(var r=0;r<e.length;r++)i.push(e[r].x),i.push(e[r].y)}function bs(i,e){ui.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:i,options:e},this.fromBufferGeometry(new Uu(i,e)),this.mergeVertices()}function Uu(i,e){function r(I){function j(Ii,Ln,Oa){return Ln||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ln.clone().multiplyScalar(Oa).add(Ii)}function G(Ii,Ln,Oa){var Os=Ii.x-Ln.x,Dn=Ii.y-Ln.y,Ra=Oa.x-Ii.x,qo=Oa.y-Ii.y,Xo=Os*Os+Dn*Dn;if(Math.abs(Os*qo-Dn*Ra)>Ic){var Rc=Math.sqrt(Xo),df=Math.sqrt(Ra*Ra+qo*qo);if(Xo=Ln.x-Dn/Rc,Ln=Ln.y+Os/Rc,qo=((Oa.x-qo/df-Xo)*qo-(Oa.y+Ra/df-Ln)*Ra)/(Os*qo-Dn*Ra),Ra=Xo+Os*qo-Ii.x,Os=Ln+Dn*qo-Ii.y,Dn=Ra*Ra+Os*Os,2>=Dn)return new $e(Ra,Os);Dn=Math.sqrt(Dn/2)}else Ii=!1,Os>Ic?Ra>Ic&&(Ii=!0):Os<-Ic?Ra<-Ic&&(Ii=!0):Im(Dn)===Im(qo)&&(Ii=!0),Ii?(Ra=-Dn,Dn=Math.sqrt(Xo)):(Ra=Os,Os=Dn,Dn=Math.sqrt(Xo/2));return new $e(Ra/Dn,Os/Dn)}function W(Ii,Ln){for(Hr=Ii.length;0<=--Hr;){var Oa=Hr,Os=Hr-1;0>Os&&(Os=Ii.length-1);var Dn,Ra=Pt+2*qn;for(Dn=0;Dn<Ra;Dn++){var qo=ft*Dn,Xo=ft*(Dn+1),Rc=Ln+Os+qo,df=Ln+Os+Xo;Xo=Ln+Oa+Xo,be(Ln+Oa+qo),be(Rc),be(Xo),be(Rc),be(df),be(Xo),qo=c.length/3,qo=pi.generateSideWallUV(s,c,qo-6,qo-3,qo-2,qo-1),Me(qo[0]),Me(qo[1]),Me(qo[3]),Me(qo[1]),Me(qo[2]),Me(qo[3])}}}function ae(Ii,Ln,Oa){ct.push(Ii),ct.push(Ln),ct.push(Oa)}function ue(Ii,Ln,Oa){be(Ii),be(Ln),be(Oa),Ii=c.length/3,Ii=pi.generateTopUV(s,c,Ii-3,Ii-2,Ii-1),Me(Ii[0]),Me(Ii[1]),Me(Ii[2])}function be(Ii){c.push(ct[3*Ii]),c.push(ct[3*Ii+1]),c.push(ct[3*Ii+2])}function Me(Ii){v.push(Ii.x),v.push(Ii.y)}var ct=[],Nt=e.curveSegments!==void 0?e.curveSegments:12,Pt=e.steps!==void 0?e.steps:1,Bt=e.depth!==void 0?e.depth:100,ir=e.bevelEnabled!==void 0?e.bevelEnabled:!0,Ir=e.bevelThickness!==void 0?e.bevelThickness:6,Tr=e.bevelSize!==void 0?e.bevelSize:Ir-2,wt=e.bevelOffset!==void 0?e.bevelOffset:0,qn=e.bevelSegments!==void 0?e.bevelSegments:3,Fr=e.extrudePath,pi=e.UVGenerator!==void 0?e.UVGenerator:Ne;e.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),Bt=e.amount);var Ai=!1;if(Fr){var Pr=Fr.getSpacedPoints(Pt);Ai=!0,ir=!1;var Fo=Fr.computeFrenetFrames(Pt,!1),En=new Ie,ua=new Ie,as=new Ie}ir||(wt=Tr=Ir=qn=0);var Ca;Nt=I.extractPoints(Nt),I=Nt.shape;var Du=Nt.holes;if(!he.isClockWise(I)){I=I.reverse();var Aa=0;for(Ca=Du.length;Aa<Ca;Aa++){var Bl=Du[Aa];he.isClockWise(Bl)&&(Du[Aa]=Bl.reverse())}}var hf=he.triangulateShape(I,Du),vi=I;for(Aa=0,Ca=Du.length;Aa<Ca;Aa++)Bl=Du[Aa],I=I.concat(Bl);var Gl,ft=I.length,Ut,Kt=hf.length;Nt=[];var Hr=0,Vi=vi.length,oo=Vi-1;for(Gl=Hr+1;Hr<Vi;Hr++,oo++,Gl++)oo===Vi&&(oo=0),Gl===Vi&&(Gl=0),Nt[Hr]=G(vi[Hr],vi[oo],vi[Gl]);Fr=[];var Or=Nt.concat();for(Aa=0,Ca=Du.length;Aa<Ca;Aa++){Bl=Du[Aa];var Yr=[];for(Hr=0,Vi=Bl.length,oo=Vi-1,Gl=Hr+1;Hr<Vi;Hr++,oo++,Gl++)oo===Vi&&(oo=0),Gl===Vi&&(Gl=0),Yr[Hr]=G(Bl[Hr],Bl[oo],Bl[Gl]);Fr.push(Yr),Or=Or.concat(Yr)}for(oo=0;oo<qn;oo++){Vi=oo/qn;var Wi=Ir*Math.cos(Vi*Math.PI/2);for(Gl=Tr*Math.sin(Vi*Math.PI/2)+wt,Hr=0,Vi=vi.length;Hr<Vi;Hr++){var li=j(vi[Hr],Nt[Hr],Gl);ae(li.x,li.y,-Wi)}for(Aa=0,Ca=Du.length;Aa<Ca;Aa++)for(Bl=Du[Aa],Yr=Fr[Aa],Hr=0,Vi=Bl.length;Hr<Vi;Hr++)li=j(Bl[Hr],Yr[Hr],Gl),ae(li.x,li.y,-Wi)}for(Gl=Tr+wt,Hr=0;Hr<ft;Hr++)li=ir?j(I[Hr],Or[Hr],Gl):I[Hr],Ai?(ua.copy(Fo.normals[0]).multiplyScalar(li.x),En.copy(Fo.binormals[0]).multiplyScalar(li.y),as.copy(Pr[0]).add(ua).add(En),ae(as.x,as.y,as.z)):ae(li.x,li.y,0);for(Vi=1;Vi<=Pt;Vi++)for(Hr=0;Hr<ft;Hr++)li=ir?j(I[Hr],Or[Hr],Gl):I[Hr],Ai?(ua.copy(Fo.normals[Vi]).multiplyScalar(li.x),En.copy(Fo.binormals[Vi]).multiplyScalar(li.y),as.copy(Pr[Vi]).add(ua).add(En),ae(as.x,as.y,as.z)):ae(li.x,li.y,Bt/Pt*Vi);for(oo=qn-1;0<=oo;oo--){for(Vi=oo/qn,Wi=Ir*Math.cos(Vi*Math.PI/2),Gl=Tr*Math.sin(Vi*Math.PI/2)+wt,Hr=0,Vi=vi.length;Hr<Vi;Hr++)li=j(vi[Hr],Nt[Hr],Gl),ae(li.x,li.y,Bt+Wi);for(Aa=0,Ca=Du.length;Aa<Ca;Aa++)for(Bl=Du[Aa],Yr=Fr[Aa],Hr=0,Vi=Bl.length;Hr<Vi;Hr++)li=j(Bl[Hr],Yr[Hr],Gl),Ai?ae(li.x,li.y+Pr[Pt-1].y,Pr[Pt-1].x+Wi):ae(li.x,li.y,Bt+Wi)}(function(){var Ii=c.length/3;if(ir){var Ln=0*ft;for(Hr=0;Hr<Kt;Hr++)Ut=hf[Hr],ue(Ut[2]+Ln,Ut[1]+Ln,Ut[0]+Ln);for(Ln=ft*(Pt+2*qn),Hr=0;Hr<Kt;Hr++)Ut=hf[Hr],ue(Ut[0]+Ln,Ut[1]+Ln,Ut[2]+Ln)}else{for(Hr=0;Hr<Kt;Hr++)Ut=hf[Hr],ue(Ut[2],Ut[1],Ut[0]);for(Hr=0;Hr<Kt;Hr++)Ut=hf[Hr],ue(Ut[0]+ft*Pt,Ut[1]+ft*Pt,Ut[2]+ft*Pt)}s.addGroup(Ii,c.length/3-Ii,0)})(),function(){var Ii=c.length/3,Ln=0;for(W(vi,Ln),Ln+=vi.length,Aa=0,Ca=Du.length;Aa<Ca;Aa++)Bl=Du[Aa],W(Bl,Ln),Ln+=Bl.length;s.addGroup(Ii,c.length/3-Ii,1)}()}kr.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:i,options:e},i=Array.isArray(i)?i:[i];for(var s=this,c=[],v=[],x=0,w=i.length;x<w;x++)r(i[x]);this.setAttribute("position",new hr(c,3)),this.setAttribute("uv",new hr(v,2)),this.computeVertexNormals()}function Yt(i,e,r){if(r.shapes=[],Array.isArray(i))for(var s=0,c=i.length;s<c;s++)r.shapes.push(i[s].uuid);else r.shapes.push(i.uuid);return e.extrudePath!==void 0&&(r.options.extrudePath=e.extrudePath.toJSON()),r}function Ur(i,e){ui.call(this),this.type="TextGeometry",this.parameters={text:i,parameters:e},this.fromBufferGeometry(new Lr(i,e)),this.mergeVertices()}function Lr(i,e){e=e||{};var r=e.font;if(!r||!r.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new ui;i=r.generateShapes(i,e.size),e.depth=e.height!==void 0?e.height:50,e.bevelThickness===void 0&&(e.bevelThickness=10),e.bevelSize===void 0&&(e.bevelSize=8),e.bevelEnabled===void 0&&(e.bevelEnabled=!1),Uu.call(this,i,e),this.type="TextBufferGeometry"}function zi(i,e,r,s,c,v,x){ui.call(this),this.type="SphereGeometry",this.parameters={radius:i,widthSegments:e,heightSegments:r,phiStart:s,phiLength:c,thetaStart:v,thetaLength:x},this.fromBufferGeometry(new Mo(i,e,r,s,c,v,x)),this.mergeVertices()}function Mo(i,e,r,s,c,v,x){kr.call(this),this.type="SphereBufferGeometry",this.parameters={radius:i,widthSegments:e,heightSegments:r,phiStart:s,phiLength:c,thetaStart:v,thetaLength:x},i=i||1,e=Math.max(3,Math.floor(e)||8),r=Math.max(2,Math.floor(r)||6),s=s!==void 0?s:0,c=c!==void 0?c:2*Math.PI,v=v!==void 0?v:0,x=x!==void 0?x:Math.PI;var w=Math.min(v+x,Math.PI),I,j,G=0,W=[],ae=new Ie,ue=new Ie,be=[],Me=[],ct=[],Nt=[];for(j=0;j<=r;j++){var Pt=[],Bt=j/r,ir=0;for(j==0&&v==0?ir=.5/e:j==r&&w==Math.PI&&(ir=-.5/e),I=0;I<=e;I++){var Ir=I/e;ae.x=-i*Math.cos(s+Ir*c)*Math.sin(v+Bt*x),ae.y=i*Math.cos(v+Bt*x),ae.z=i*Math.sin(s+Ir*c)*Math.sin(v+Bt*x),Me.push(ae.x,ae.y,ae.z),ue.copy(ae).normalize(),ct.push(ue.x,ue.y,ue.z),Nt.push(Ir+ir,1-Bt),Pt.push(G++)}W.push(Pt)}for(j=0;j<r;j++)for(I=0;I<e;I++)i=W[j][I+1],s=W[j][I],c=W[j+1][I],x=W[j+1][I+1],(j!==0||0<v)&&be.push(i,s,x),(j!==r-1||w<Math.PI)&&be.push(s,c,x);this.setIndex(be),this.setAttribute("position",new hr(Me,3)),this.setAttribute("normal",new hr(ct,3)),this.setAttribute("uv",new hr(Nt,2))}function Ta(i,e,r,s,c,v){ui.call(this),this.type="RingGeometry",this.parameters={innerRadius:i,outerRadius:e,thetaSegments:r,phiSegments:s,thetaStart:c,thetaLength:v},this.fromBufferGeometry(new Ss(i,e,r,s,c,v)),this.mergeVertices()}function Ss(i,e,r,s,c,v){kr.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:i,outerRadius:e,thetaSegments:r,phiSegments:s,thetaStart:c,thetaLength:v},i=i||.5,e=e||1,c=c!==void 0?c:0,v=v!==void 0?v:2*Math.PI,r=r!==void 0?Math.max(3,r):8,s=s!==void 0?Math.max(1,s):1;var x=[],w=[],I=[],j=[],G=i,W=(e-i)/s,ae=new Ie,ue=new $e,be,Me;for(be=0;be<=s;be++){for(Me=0;Me<=r;Me++)i=c+Me/r*v,ae.x=G*Math.cos(i),ae.y=G*Math.sin(i),w.push(ae.x,ae.y,ae.z),I.push(0,0,1),ue.x=(ae.x/e+1)/2,ue.y=(ae.y/e+1)/2,j.push(ue.x,ue.y);G+=W}for(be=0;be<s;be++)for(e=be*(r+1),Me=0;Me<r;Me++)i=Me+e,c=i+r+1,v=i+r+2,G=i+1,x.push(i,c,G),x.push(c,v,G);this.setIndex(x),this.setAttribute("position",new hr(w,3)),this.setAttribute("normal",new hr(I,3)),this.setAttribute("uv",new hr(j,2))}function Go(i,e,r,s){ui.call(this),this.type="LatheGeometry",this.parameters={points:i,segments:e,phiStart:r,phiLength:s},this.fromBufferGeometry(new Fi(i,e,r,s)),this.mergeVertices()}function Fi(i,e,r,s){kr.call(this),this.type="LatheBufferGeometry",this.parameters={points:i,segments:e,phiStart:r,phiLength:s},e=Math.floor(e)||12,r=r||0,s=s||2*Math.PI,s=L.clamp(s,0,2*Math.PI);var c=[],v=[],x=[],w=1/e,I=new Ie,j=new $e,G;for(G=0;G<=e;G++){var W=r+G*w*s,ae=Math.sin(W),ue=Math.cos(W);for(W=0;W<=i.length-1;W++)I.x=i[W].x*ae,I.y=i[W].y,I.z=i[W].x*ue,v.push(I.x,I.y,I.z),j.x=G/e,j.y=W/(i.length-1),x.push(j.x,j.y)}for(G=0;G<e;G++)for(W=0;W<i.length-1;W++)r=W+G*i.length,w=r+i.length,I=r+i.length+1,j=r+1,c.push(r,w,j),c.push(w,I,j);if(this.setIndex(c),this.setAttribute("position",new hr(v,3)),this.setAttribute("uv",new hr(x,2)),this.computeVertexNormals(),s===2*Math.PI)for(s=this.attributes.normal.array,c=new Ie,v=new Ie,x=new Ie,r=e*i.length*3,W=G=0;G<i.length;G++,W+=3)c.x=s[W+0],c.y=s[W+1],c.z=s[W+2],v.x=s[r+W+0],v.y=s[r+W+1],v.z=s[r+W+2],x.addVectors(c,v).normalize(),s[W+0]=s[r+W+0]=x.x,s[W+1]=s[r+W+1]=x.y,s[W+2]=s[r+W+2]=x.z}function Zo(i,e){ui.call(this),this.type="ShapeGeometry",(typeof e=="undefined"?"undefined":vs(e))==="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:i,curveSegments:e},this.fromBufferGeometry(new pa(i,e)),this.mergeVertices()}function pa(i,e){function r(G){var W,ae=c.length/3;G=G.extractPoints(e);var ue=G.shape,be=G.holes;for(he.isClockWise(ue)===!1&&(ue=ue.reverse()),G=0,W=be.length;G<W;G++){var Me=be[G];he.isClockWise(Me)===!0&&(be[G]=Me.reverse())}var ct=he.triangulateShape(ue,be);for(G=0,W=be.length;G<W;G++)Me=be[G],ue=ue.concat(Me);for(G=0,W=ue.length;G<W;G++)Me=ue[G],c.push(Me.x,Me.y,0),v.push(0,0,1),x.push(Me.x,Me.y);for(G=0,W=ct.length;G<W;G++)ue=ct[G],s.push(ue[0]+ae,ue[1]+ae,ue[2]+ae),I+=3}kr.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:i,curveSegments:e},e=e||12;var s=[],c=[],v=[],x=[],w=0,I=0;if(Array.isArray(i)===!1)r(i);else for(var j=0;j<i.length;j++)r(i[j]),this.addGroup(w,I,j),w+=I,I=0;this.setIndex(s),this.setAttribute("position",new hr(c,3)),this.setAttribute("normal",new hr(v,3)),this.setAttribute("uv",new hr(x,2))}function Kl(i,e){if(e.shapes=[],Array.isArray(i))for(var r=0,s=i.length;r<s;r++)e.shapes.push(i[r].uuid);else e.shapes.push(i.uuid);return e}function oc(i,e){kr.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e};var r=[];e=Math.cos(L.DEG2RAD*(e!==void 0?e:1));var s=[0,0],c={},v=["a","b","c"];if(i.isBufferGeometry){var x=new ui;x.fromBufferGeometry(i)}else x=i.clone();x.mergeVertices(),x.computeFaceNormals(),i=x.vertices,x=x.faces;for(var w=0,I=x.length;w<I;w++)for(var j=x[w],G=0;3>G;G++){var W=j[v[G]],ae=j[v[(G+1)%3]];s[0]=Math.min(W,ae),s[1]=Math.max(W,ae),W=s[0]+","+s[1],c[W]===void 0?c[W]={index1:s[0],index2:s[1],face1:w,face2:void 0}:c[W].face2=w}for(W in c)s=c[W],(s.face2===void 0||x[s.face1].normal.dot(x[s.face2].normal)<=e)&&(v=i[s.index1],r.push(v.x,v.y,v.z),v=i[s.index2],r.push(v.x,v.y,v.z));this.setAttribute("position",new hr(r,3))}function ef(i,e,r,s,c,v,x,w){ui.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:i,radiusBottom:e,height:r,radialSegments:s,heightSegments:c,openEnded:v,thetaStart:x,thetaLength:w},this.fromBufferGeometry(new cu(i,e,r,s,c,v,x,w)),this.mergeVertices()}function cu(i,e,r,s,c,v,x,w){function I(Pt){var Bt,ir=new $e,Ir=new Ie,Tr=0,wt=Pt===!0?i:e,qn=Pt===!0?1:-1,Fr=be;for(Bt=1;Bt<=s;Bt++)W.push(0,ct*qn,0),ae.push(0,qn,0),ue.push(.5,.5),be++;var pi=be;for(Bt=0;Bt<=s;Bt++){var Ai=Bt/s*w+x,Pr=Math.cos(Ai);Ai=Math.sin(Ai),Ir.x=wt*Ai,Ir.y=ct*qn,Ir.z=wt*Pr,W.push(Ir.x,Ir.y,Ir.z),ae.push(0,qn,0),ir.x=.5*Pr+.5,ir.y=.5*Ai*qn+.5,ue.push(ir.x,ir.y),be++}for(Bt=0;Bt<s;Bt++)ir=Fr+Bt,Ir=pi+Bt,Pt===!0?G.push(Ir,Ir+1,ir):G.push(Ir+1,Ir,ir),Tr+=3;j.addGroup(Nt,Tr,Pt===!0?1:2),Nt+=Tr}kr.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:i,radiusBottom:e,height:r,radialSegments:s,heightSegments:c,openEnded:v,thetaStart:x,thetaLength:w};var j=this;i=i!==void 0?i:1,e=e!==void 0?e:1,r=r||1,s=Math.floor(s)||8,c=Math.floor(c)||1,v=v!==void 0?v:!1,x=x!==void 0?x:0,w=w!==void 0?w:2*Math.PI;var G=[],W=[],ae=[],ue=[],be=0,Me=[],ct=r/2,Nt=0;(function(){var Pt,Bt,ir=new Ie,Ir=new Ie,Tr=0,wt=(e-i)/r;for(Bt=0;Bt<=c;Bt++){var qn=[],Fr=Bt/c,pi=Fr*(e-i)+i;for(Pt=0;Pt<=s;Pt++){var Ai=Pt/s,Pr=Ai*w+x,Fo=Math.sin(Pr);Pr=Math.cos(Pr),Ir.x=pi*Fo,Ir.y=-Fr*r+ct,Ir.z=pi*Pr,W.push(Ir.x,Ir.y,Ir.z),ir.set(Fo,wt,Pr).normalize(),ae.push(ir.x,ir.y,ir.z),ue.push(Ai,1-Fr),qn.push(be++)}Me.push(qn)}for(Pt=0;Pt<s;Pt++)for(Bt=0;Bt<c;Bt++)ir=Me[Bt+1][Pt],Ir=Me[Bt+1][Pt+1],wt=Me[Bt][Pt+1],G.push(Me[Bt][Pt],ir,wt),G.push(ir,Ir,wt),Tr+=6;j.addGroup(Nt,Tr,0),Nt+=Tr})(),v===!1&&(0<i&&I(!0),0<e&&I(!1)),this.setIndex(G),this.setAttribute("position",new hr(W,3)),this.setAttribute("normal",new hr(ae,3)),this.setAttribute("uv",new hr(ue,2))}function Gf(i,e,r,s,c,v,x){ef.call(this,0,i,e,r,s,c,v,x),this.type="ConeGeometry",this.parameters={radius:i,height:e,radialSegments:r,heightSegments:s,openEnded:c,thetaStart:v,thetaLength:x}}function Ds(i,e,r,s,c,v,x){cu.call(this,0,i,e,r,s,c,v,x),this.type="ConeBufferGeometry",this.parameters={radius:i,height:e,radialSegments:r,heightSegments:s,openEnded:c,thetaStart:v,thetaLength:x}}function Yf(i,e,r,s){ui.call(this),this.type="CircleGeometry",this.parameters={radius:i,segments:e,thetaStart:r,thetaLength:s},this.fromBufferGeometry(new Xf(i,e,r,s)),this.mergeVertices()}function Xf(i,e,r,s){kr.call(this),this.type="CircleBufferGeometry",this.parameters={radius:i,segments:e,thetaStart:r,thetaLength:s},i=i||1,e=e!==void 0?Math.max(3,e):8,r=r!==void 0?r:0,s=s!==void 0?s:2*Math.PI;var c=[],v=[],x=[],w=[],I,j=new Ie,G=new $e;v.push(0,0,0),x.push(0,0,1),w.push(.5,.5);var W=0;for(I=3;W<=e;W++,I+=3){var ae=r+W/e*s;j.x=i*Math.cos(ae),j.y=i*Math.sin(ae),v.push(j.x,j.y,j.z),x.push(0,0,1),G.x=(v[I]/i+1)/2,G.y=(v[I+1]/i+1)/2,w.push(G.x,G.y)}for(I=1;I<=e;I++)c.push(I,I+1,0);this.setIndex(c),this.setAttribute("position",new hr(v,3)),this.setAttribute("normal",new hr(x,3)),this.setAttribute("uv",new hr(w,2))}function vc(i){Kr.call(this),this.type="ShadowMaterial",this.color=new At(0),this.transparent=!0,this.setValues(i)}function Kf(i){$o.call(this,i),this.type="RawShaderMaterial"}function sh(i){Kr.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new At(16777215),this.roughness=1,this.metalness=0,this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new At(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.vertexTangents=this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(i)}function ld(i){sh.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new $e(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,this.sheen=null,this.transparency=0,this.setValues(i)}function lh(i){Kr.call(this),this.type="MeshPhongMaterial",this.color=new At(16777215),this.specular=new At(1118481),this.shininess=30,this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new At(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.envMap=this.alphaMap=this.specularMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(i)}function _u(i){Kr.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new At(16777215),this.specular=new At(1118481),this.shininess=30,this.lightMap=this.gradientMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new At(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=this.specularMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(i)}function yf(i){Kr.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.morphNormals=this.morphTargets=this.skinning=this.fog=!1,this.setValues(i)}function uh(i){Kr.call(this),this.type="MeshLambertMaterial",this.color=new At(16777215),this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new At(0),this.emissiveIntensity=1,this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(i)}function gc(i){Kr.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new At(16777215),this.bumpMap=this.map=this.matcap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(i)}function ac(i){mr.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(i)}function bc(i,e,r,s){this.parameterPositions=i,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new e.constructor(r),this.sampleValues=e,this.valueSize=r}function xo(i,e,r,s){bc.call(this,i,e,r,s),this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0}function sc(i,e,r,s){bc.call(this,i,e,r,s)}function _d(i,e,r,s){bc.call(this,i,e,r,s)}function eu(i,e,r,s){if(i===void 0)throw Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw Error("THREE.KeyframeTrack: no keyframes in track named "+i);this.name=i,this.times=Rt.convertArray(e,this.TimeBufferType),this.values=Rt.convertArray(r,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}function Ih(i,e,r){eu.call(this,i,e,r)}function $d(i,e,r,s){eu.call(this,i,e,r,s)}function Id(i,e,r,s){eu.call(this,i,e,r,s)}function Kp(i,e,r,s){bc.call(this,i,e,r,s)}function ep(i,e,r,s){eu.call(this,i,e,r,s)}function Vo(i,e,r,s){eu.call(this,i,e,r,s)}function ud(i,e,r,s){eu.call(this,i,e,r,s)}function Zf(i,e,r,s){this.name=i,this.tracks=r,this.duration=e!==void 0?e:-1,this.blendMode=s!==void 0?s:2500,this.uuid=L.generateUUID(),0>this.duration&&this.resetDuration()}function tp(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Id;case"vector":case"vector2":case"vector3":case"vector4":return ud;case"color":return $d;case"quaternion":return ep;case"bool":case"boolean":return Ih;case"string":return Vo}throw Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}function Pd(i){if(i.type===void 0)throw Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=tp(i.type);if(i.times===void 0){var r=[],s=[];Rt.flattenJSON(i.keys,r,s,"value"),i.times=r,i.values=s}return e.parse!==void 0?e.parse(i):new e(i.name,i.times,i.values,i.interpolation)}function cd(i,e,r){var s=this,c=!1,v=0,x=0,w=void 0,I=[];this.onStart=void 0,this.onLoad=i,this.onProgress=e,this.onError=r,this.itemStart=function(j){x++,c===!1&&s.onStart!==void 0&&s.onStart(j,v,x),c=!0},this.itemEnd=function(j){v++,s.onProgress!==void 0&&s.onProgress(j,v,x),v===x&&(c=!1,s.onLoad!==void 0)&&s.onLoad()},this.itemError=function(j){s.onError!==void 0&&s.onError(j)},this.resolveURL=function(j){return w?w(j):j},this.setURLModifier=function(j){return w=j,this},this.addHandler=function(j,G){return I.push(j,G),this},this.removeHandler=function(j){return j=I.indexOf(j),j!==-1&&I.splice(j,2),this},this.getHandler=function(j){for(var G=0,W=I.length;G<W;G+=2){var ae=I[G],ue=I[G+1];if(ae.global&&(ae.lastIndex=0),ae.test(j))return ue}return null}}function no(i){this.manager=i!==void 0?i:Hn,this.crossOrigin="anonymous",this.resourcePath=this.path="",this.requestHeader={}}function Us(i){no.call(this,i)}function fd(i){no.call(this,i)}function Np(i){no.call(this,i)}function Ph(i){no.call(this,i)}function tf(i){no.call(this,i)}function Od(i){no.call(this,i)}function Xu(i){no.call(this,i)}function io(){this.type="Curve",this.arcLengthDivisions=200}function Ns(i,e,r,s,c,v,x,w){io.call(this),this.type="EllipseCurve",this.aX=i||0,this.aY=e||0,this.xRadius=r||1,this.yRadius=s||1,this.aStartAngle=c||0,this.aEndAngle=v||2*Math.PI,this.aClockwise=x||!1,this.aRotation=w||0}function Pf(i,e,r,s,c,v){Ns.call(this,i,e,r,r,s,c,v),this.type="ArcCurve"}function Of(){var i=0,e=0,r=0,s=0;return{initCatmullRom:function(v,x,w,I,j){v=j*(w-v),I=j*(I-x),i=x,e=v,r=-3*x+3*w-2*v-I,s=2*x-2*w+v+I},initNonuniformCatmullRom:function(v,x,w,I,j,G,W){v=((x-v)/j-(w-v)/(j+G)+(w-x)/G)*G,I=((w-x)/G-(I-x)/(G+W)+(I-w)/W)*G,i=x,e=v,r=-3*x+3*w-2*v-I,s=2*x-2*w+v+I},calc:function(v){var x=v*v;return i+e*v+r*x+s*x*v}}}function Ku(i,e,r,s){io.call(this),this.type="CatmullRomCurve3",this.points=i||[],this.closed=e||!1,this.curveType=r||"centripetal",this.tension=s||.5}function Oh(i,e,r,s,c){e=.5*(s-e),c=.5*(c-r);var v=i*i;return(2*r-2*s+e+c)*i*v+(-3*r+3*s-2*e-c)*v+e*i+r}function Sp(i,e,r,s){var c=1-i;return c*c*e+2*(1-i)*i*r+i*i*s}function Jf(i,e,r,s,c){var v=1-i,x=1-i;return v*v*v*e+3*x*x*i*r+3*(1-i)*i*i*s+i*i*i*c}function kh(i,e,r,s){io.call(this),this.type="CubicBezierCurve",this.v0=i||new $e,this.v1=e||new $e,this.v2=r||new $e,this.v3=s||new $e}function Hh(i,e,r,s){io.call(this),this.type="CubicBezierCurve3",this.v0=i||new Ie,this.v1=e||new Ie,this.v2=r||new Ie,this.v3=s||new Ie}function ga(i,e){io.call(this),this.type="LineCurve",this.v1=i||new $e,this.v2=e||new $e}function Zu(i,e){io.call(this),this.type="LineCurve3",this.v1=i||new Ie,this.v2=e||new Ie}function fl(i,e,r){io.call(this),this.type="QuadraticBezierCurve",this.v0=i||new $e,this.v1=e||new $e,this.v2=r||new $e}function Fc(i,e,r){io.call(this),this.type="QuadraticBezierCurve3",this.v0=i||new Ie,this.v1=e||new Ie,this.v2=r||new Ie}function Ve(i){io.call(this),this.type="SplineCurve",this.points=i||[]}function Bc(){io.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function lc(i){Bc.call(this),this.type="Path",this.currentPoint=new $e,i&&this.setFromPoints(i)}function uc(i){lc.call(this,i),this.uuid=L.generateUUID(),this.type="Shape",this.holes=[]}function fi(i,e){pr.call(this),this.type="Light",this.color=new At(i),this.intensity=e!==void 0?e:1,this.receiveShadow=void 0}function Iu(i,e,r){fi.call(this,i,r),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(pr.DefaultUp),this.updateMatrix(),this.groundColor=new At(e)}function rf(i){this.camera=i,this.bias=0,this.radius=1,this.mapSize=new $e(512,512),this.mapPass=this.map=null,this.matrix=new ht,this._frustum=new ss,this._frameExtents=new $e(1,1),this._viewportCount=1,this._viewports=[new et(0,0,1,1)]}function Mp(){rf.call(this,new Gi(50,1,.5,500))}function hd(i,e,r,s,c,v){fi.call(this,i,e),this.type="SpotLight",this.position.copy(pr.DefaultUp),this.updateMatrix(),this.target=new pr,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(w){this.intensity=w/Math.PI}}),this.distance=r!==void 0?r:0,this.angle=s!==void 0?s:Math.PI/3,this.penumbra=c!==void 0?c:0,this.decay=v!==void 0?v:1,this.shadow=new Mp}function Rd(){rf.call(this,new Gi(90,1,.5,500)),this._frameExtents=new $e(4,2),this._viewportCount=6,this._viewports=[new et(2,1,1,1),new et(0,1,1,1),new et(3,1,1,1),new et(1,1,1,1),new et(3,0,1,1),new et(1,0,1,1)],this._cubeDirections=[new Ie(1,0,0),new Ie(-1,0,0),new Ie(0,0,1),new Ie(0,0,-1),new Ie(0,1,0),new Ie(0,-1,0)],this._cubeUps=[new Ie(0,1,0),new Ie(0,1,0),new Ie(0,1,0),new Ie(0,1,0),new Ie(0,0,1),new Ie(0,0,-1)]}function xl(i,e,r,s){fi.call(this,i,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(v){this.intensity=v/(4*Math.PI)}}),this.distance=r!==void 0?r:0,this.decay=s!==void 0?s:1,this.shadow=new Rd}function Qf(i,e,r,s,c,v){As.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=i!==void 0?i:-1,this.right=e!==void 0?e:1,this.top=r!==void 0?r:1,this.bottom=s!==void 0?s:-1,this.near=c!==void 0?c:.1,this.far=v!==void 0?v:2e3,this.updateProjectionMatrix()}function Vh(){rf.call(this,new Qf(-5,5,5,-5,.5,500))}function Wh(i,e){fi.call(this,i,e),this.type="DirectionalLight",this.position.copy(pr.DefaultUp),this.updateMatrix(),this.target=new pr,this.shadow=new Vh}function qf(i,e){fi.call(this,i,e),this.type="AmbientLight",this.castShadow=void 0}function dd(i,e,r,s){fi.call(this,i,e),this.type="RectAreaLight",this.width=r!==void 0?r:10,this.height=s!==void 0?s:10}function jc(){this.coefficients=[];for(var i=0;9>i;i++)this.coefficients.push(new Ie)}function oe(i,e){fi.call(this,void 0,e),this.type="LightProbe",this.sh=i!==void 0?i:new jc}function te(i){no.call(this,i),this.textures={}}function ce(){kr.call(this),this.type="InstancedBufferGeometry",this.instanceCount=Infinity}function Se(i,e,r,s){typeof r=="number"&&(s=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Nn.call(this,i,e,r),this.meshPerAttribute=s||1}function Ye(i){no.call(this,i)}function Ct(i){no.call(this,i)}function _t(i){typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),no.call(this,i),this.options=void 0}function Nr(){this.type="ShapePath",this.color=new At,this.subPaths=[],this.currentPath=null}function yr(i){this.type="Font",this.data=i}function ln(i){no.call(this,i)}function ni(i){no.call(this,i)}function Oi(i,e,r){oe.call(this,void 0,r),i=new At().set(i),r=new At().set(e),e=new Ie(i.r,i.g,i.b),i=new Ie(r.r,r.g,r.b),r=Math.sqrt(Math.PI);var s=r*Math.sqrt(.75);this.sh.coefficients[0].copy(e).add(i).multiplyScalar(r),this.sh.coefficients[1].copy(e).sub(i).multiplyScalar(s)}function Ki(i,e){oe.call(this,void 0,e),i=new At().set(i),this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}function Bi(i){this.autoStart=i!==void 0?i:!0,this.elapsedTime=this.oldTime=this.startTime=0,this.running=!1}function Ri(){pr.call(this),this.type="AudioListener",this.context=Lu.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Bi}function ma(i){pr.call(this),this.type="Audio",this.listener=i,this.context=i.context,this.gain=this.context.createGain(),this.gain.connect(i.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.offset=this.loopEnd=this.loopStart=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._progress=this._startedAt=0,this.filters=[]}function ra(i){ma.call(this,i),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function Fs(i,e){this.analyser=i.context.createAnalyser(),this.analyser.fftSize=e!==void 0?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),i.getOutput().connect(this.analyser)}function fu(i,e,r){switch(this.binding=i,this.valueSize=r,e){case"quaternion":i=this._slerp,e=this._slerpAdditive;var s=this._setAdditiveIdentityQuaternion;this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":e=i=this._select,s=this._setAdditiveIdentityOther,this.buffer=Array(5*r);break;default:i=this._lerp,e=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=e,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.referenceCount=this.useCount=this.cumulativeWeightAdditive=this.cumulativeWeight=0}function Zs(i,e,r){r=r||_a.parseTrackName(e),this._targetGroup=i,this._bindings=i.subscribe_(e,r)}function _a(i,e,r){this.path=e,this.parsedPath=r||_a.parseTrackName(e),this.node=_a.findNode(i,this.parsedPath.nodeName)||i,this.rootNode=i}function ku(i,e,r,s){this._mixer=i,this._clip=e,this._localRoot=r||null,this.blendMode=s||e.blendMode,i=e.tracks,e=i.length,r=Array(e),s={endingStart:2400,endingEnd:2400};for(var c=0;c!==e;++c){var v=i[c].createInterpolant(null);r[c]=v,v.settings=s}this._interpolantSettings=s,this._interpolants=r,this._propertyBindings=Array(e),this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1,this.repetitions=Infinity,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0}function zc(i){this._root=i,this._initMemoryManager(),this.time=this._accuIndex=0,this.timeScale=1}function hu(i,e){typeof i=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),i=e),this.value=i}function Na(i,e,r){ah.call(this,i,e),this.meshPerAttribute=r||1}function Va(i,e,r,s){this.ray=new _r(i,e),this.near=r||0,this.far=s||Infinity,this.camera=null,this.layers=new Cn,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Ia(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Rf(i,e){return i.distance-e.distance}function Hu(i,e,r,s){if(i.layers.test(e.layers)&&i.raycast(e,r),s===!0){i=i.children,s=0;for(var c=i.length;s<c;s++)Hu(i[s],e,r,!0)}}function Vu(i,e){this.min=i!==void 0?i:new $e(Infinity,Infinity),this.max=e!==void 0?e:new $e(-Infinity,-Infinity)}function Ju(i,e){this.start=i!==void 0?i:new Ie,this.end=e!==void 0?e:new Ie}function yc(i){pr.call(this),this.material=i,this.render=function(){},this.hasUvs=this.hasColors=this.hasNormals=this.hasPositions=!1,this.uvArray=this.colorArray=this.normalArray=this.positionArray=null,this.count=0}function Zl(i,e){pr.call(this),this.light=i,this.light.updateMatrixWorld(),this.matrix=i.matrixWorld,this.matrixAutoUpdate=!1,this.color=e,i=new kr,e=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(var r=0,s=1;32>r;r++,s++){var c=r/32*Math.PI*2,v=s/32*Math.PI*2;e.push(Math.cos(c),Math.sin(c),1,Math.cos(v),Math.sin(v),1)}i.setAttribute("position",new hr(e,3)),e=new mr({fog:!1,toneMapped:!1}),this.cone=new Ar(i,e),this.add(this.cone),this.update()}function nf(i){var e=[];i&&i.isBone&&e.push(i);for(var r=0;r<i.children.length;r++)e.push.apply(e,nf(i.children[r]));return e}function du(i){for(var e=nf(i),r=new kr,s=[],c=[],v=new At(0,0,1),x=new At(0,1,0),w=0;w<e.length;w++){var I=e[w];I.parent&&I.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),c.push(v.r,v.g,v.b),c.push(x.r,x.g,x.b))}r.setAttribute("position",new hr(s,3)),r.setAttribute("color",new hr(c,3)),s=new mr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0}),Ar.call(this,r,s),this.type="SkeletonHelper",this.root=i,this.bones=e,this.matrix=i.matrixWorld,this.matrixAutoUpdate=!1}function xf(i,e,r){this.light=i,this.light.updateMatrixWorld(),this.color=r,i=new Mo(e,4,2),e=new ai({wireframe:!0,fog:!1,toneMapped:!1}),ei.call(this,i,e),this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Su(i,e,r){pr.call(this),this.light=i,this.light.updateMatrixWorld(),this.matrix=i.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,i=new po(e),i.rotateY(.5*Math.PI),this.material=new ai({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0),e=i.getAttribute("position"),e=new Float32Array(3*e.count),i.setAttribute("color",new Nn(e,3)),this.add(new ei(i,this.material)),this.update()}function pu(i,e,r,s){i=i||10,e=e||10,r=new At(r!==void 0?r:4473924),s=new At(s!==void 0?s:8947848);var c=e/2,v=i/e,x=i/2;i=[];for(var w=[],I=0,j=0,G=-x;I<=e;I++,G+=v){i.push(-x,0,G,x,0,G),i.push(G,0,-x,G,0,x);var W=I===c?r:s;W.toArray(w,j),j+=3,W.toArray(w,j),j+=3,W.toArray(w,j),j+=3,W.toArray(w,j),j+=3}e=new kr,e.setAttribute("position",new hr(i,3)),e.setAttribute("color",new hr(w,3)),r=new mr({vertexColors:!0,toneMapped:!1}),Ar.call(this,e,r),this.type="GridHelper"}function ch(i,e,r,s,c,v){i=i||10,e=e||16,r=r||8,s=s||64,c=new At(c!==void 0?c:4473924),v=new At(v!==void 0?v:8947848);var x=[],w=[],I;for(I=0;I<=e;I++){var j=I/e*2*Math.PI,G=Math.sin(j)*i;j=Math.cos(j)*i,x.push(0,0,0),x.push(G,0,j);var W=I&1?c:v;w.push(W.r,W.g,W.b),w.push(W.r,W.g,W.b)}for(I=0;I<=r;I++){W=I&1?c:v;var ae=i-i/r*I;for(e=0;e<s;e++)j=e/s*2*Math.PI,G=Math.sin(j)*ae,j=Math.cos(j)*ae,x.push(G,0,j),w.push(W.r,W.g,W.b),j=(e+1)/s*2*Math.PI,G=Math.sin(j)*ae,j=Math.cos(j)*ae,x.push(G,0,j),w.push(W.r,W.g,W.b)}i=new kr,i.setAttribute("position",new hr(x,3)),i.setAttribute("color",new hr(w,3)),x=new mr({vertexColors:!0,toneMapped:!1}),Ar.call(this,i,x),this.type="PolarGridHelper"}function $f(i,e,r){pr.call(this),this.light=i,this.light.updateMatrixWorld(),this.matrix=i.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,e===void 0&&(e=1),i=new kr,i.setAttribute("position",new hr([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3)),e=new mr({fog:!1,toneMapped:!1}),this.lightPlane=new vr(i,e),this.add(this.lightPlane),i=new kr,i.setAttribute("position",new hr([0,0,0,0,0,1],3)),this.targetLine=new vr(i,e),this.add(this.targetLine),this.update()}function To(i){function e(ue,be,Me){r(ue,Me),r(be,Me)}function r(ue,be){v.push(0,0,0),x.push(be.r,be.g,be.b),w[ue]===void 0&&(w[ue]=[]),w[ue].push(v.length/3-1)}var s=new kr,c=new mr({color:16777215,vertexColors:!0,toneMapped:!1}),v=[],x=[],w={},I=new At(16755200),j=new At(16711680),G=new At(43775),W=new At(16777215),ae=new At(3355443);e("n1","n2",I),e("n2","n4",I),e("n4","n3",I),e("n3","n1",I),e("f1","f2",I),e("f2","f4",I),e("f4","f3",I),e("f3","f1",I),e("n1","f1",I),e("n2","f2",I),e("n3","f3",I),e("n4","f4",I),e("p","n1",j),e("p","n2",j),e("p","n3",j),e("p","n4",j),e("u1","u2",G),e("u2","u3",G),e("u3","u1",G),e("c","t",W),e("p","c",ae),e("cn1","cn2",ae),e("cn3","cn4",ae),e("cf1","cf2",ae),e("cf3","cf4",ae),s.setAttribute("position",new hr(v,3)),s.setAttribute("color",new hr(x,3)),Ar.call(this,s,c),this.type="CameraHelper",this.camera=i,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=i.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=w,this.update()}function Li(i,e,r,s,c,v,x){if(gC.set(c,v,x).unproject(s),i=e[i],i!==void 0)for(r=r.getAttribute("position"),e=0,s=i.length;e<s;e++)r.setXYZ(i[e],gC.x,gC.y,gC.z)}function Zi(i,e){this.object=i,e===void 0&&(e=16776960),i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var r=new Float32Array(24),s=new kr;s.setIndex(new Nn(i,1)),s.setAttribute("position",new Nn(r,3)),Ar.call(this,s,new mr({color:e,toneMapped:!1})),this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}function Io(i,e){this.type="Box3Helper",this.box=i,e=e||16776960,i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var r=new kr;r.setIndex(new Nn(i,1)),r.setAttribute("position",new hr([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Ar.call(this,r,new mr({color:e,toneMapped:!1})),this.type="Box3Helper",this.geometry.computeBoundingSphere()}function _i(i,e,r){this.plane=i,this.size=e===void 0?1:e,i=r!==void 0?r:16776960,e=new kr,e.setAttribute("position",new hr([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),e.computeBoundingSphere(),vr.call(this,e,new mr({color:i,toneMapped:!1})),this.type="PlaneHelper",e=new kr,e.setAttribute("position",new hr([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),e.computeBoundingSphere(),this.add(new ei(e,new ai({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}function Co(i,e,r,s,c,v){pr.call(this),this.type="ArrowHelper",i===void 0&&(i=new Ie(0,0,1)),e===void 0&&(e=new Ie(0,0,0)),r===void 0&&(r=1),s===void 0&&(s=16776960),c===void 0&&(c=.2*r),v===void 0&&(v=.2*c),xC===void 0&&(xC=new kr,xC.setAttribute("position",new hr([0,0,0,0,1,0],3)),YA=new cu(0,.5,1,5,1),YA.translate(0,-.5,0)),this.position.copy(e),this.line=new vr(xC,new mr({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ei(YA,new ai({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(i),this.setLength(r,c,v)}function hs(i){i=i||1;var e=[0,0,0,i,0,0,0,0,0,0,i,0,0,0,0,0,0,i];i=new kr,i.setAttribute("position",new hr(e,3)),i.setAttribute("color",new hr([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),e=new mr({vertexColors:!0,toneMapped:!1}),Ar.call(this,i,e),this.type="AxesHelper"}function mu(i){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Ku.call(this,i),this.type="catmullrom"}function ks(){this.needsSwap=this.enabled=!0,this.renderToScreen=this.clear=!1}var Pu=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof xe!="undefined"?xe:typeof self!="undefined"?self:{},ya=ve(function(i){i=i.exports=typeof window!="undefined"&&Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")(),typeof __g=="number"&&(__g=i)}),Do=ve(function(i){i=i.exports={version:"2.6.5"},typeof __e=="number"&&(__e=i)}),cc=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e},hl=function(e,r,s){if(cc(e),r===void 0)return e;switch(s){case 1:return function(c){return e.call(r,c)};case 2:return function(c,v){return e.call(r,c,v)};case 3:return function(c,v,x){return e.call(r,c,v,x)}}return function(){return e.apply(r,arguments)}},dl=function(e){return typeof e=="object"?e!==null:typeof e=="function"},Ms=function(e){if(!dl(e))throw TypeError(e+" is not an object!");return e},Lf=function(e){try{return!!e()}catch(r){return!0}},Ou=!Lf(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7}),Ru=ya.document,sp=dl(Ru)&&dl(Ru.createElement),Zp=!Ou&&!Lf(function(){return Object.defineProperty(sp?Ru.createElement("div"):{},"a",{get:function(){return 7}}).a!=7}),fh=function(e,r){if(!dl(e))return e;var s,c;if(r&&typeof(s=e.toString)=="function"&&!dl(c=s.call(e))||typeof(s=e.valueOf)=="function"&&!dl(c=s.call(e))||!r&&typeof(s=e.toString)=="function"&&!dl(c=s.call(e)))return c;throw TypeError("Can't convert object to primitive value")},of=Object.defineProperty,Wu={f:Ou?Object.defineProperty:function(i,e,r){if(Ms(i),e=fh(e,!0),Ms(r),Zp)try{return of(i,e,r)}catch(s){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(i[e]=r.value),i}},eh=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}},Uc=Ou?function(i,e,r){return Wu.f(i,e,eh(1,r))}:function(i,e,r){return i[e]=r,i},th={}.hasOwnProperty,Js=function(e,r){return th.call(e,r)},vu=function i(e,r,s){var c=e&i.F,v=e&i.G,x=e&i.S,w=e&i.P,I=e&i.B,j=e&i.W,G=v?Do:Do[r]||(Do[r]={}),W=G.prototype;x=v?ya:x?ya[r]:(ya[r]||{}).prototype;var ae;v&&(s=r);for(ae in s)if(r=!c&&x&&x[ae]!==void 0,!r||!Js(G,ae)){var ue=r?x[ae]:s[ae];G[ae]=v&&typeof x[ae]!="function"?s[ae]:I&&r?hl(ue,ya):j&&x[ae]==ue?function(be){var Me=function(Nt,Pt,Bt){if(this instanceof be){switch(arguments.length){case 0:return new be;case 1:return new be(Nt);case 2:return new be(Nt,Pt)}return new be(Nt,Pt,Bt)}return be.apply(this,arguments)};return Me.prototype=be.prototype,Me}(ue):w&&typeof ue=="function"?hl(Function.call,ue):ue,w&&((G.virtual||(G.virtual={}))[ae]=ue,e&i.R&&W&&!W[ae]&&Uc(W,ae,ue))}};vu.F=1,vu.G=2,vu.S=4,vu.P=8,vu.B=16,vu.W=32,vu.U=64,vu.R=128;var Kn=vu;Kn(Kn.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}});var lp=Do.Math.log2,Qs=ve(function(i){i.exports={default:lp,__esModule:!0}}),hh=Ae(Qs),Ld=Math.ceil,Rh=Math.floor,up=function(e){return isNaN(e=+e)?0:(0<e?Rh:Ld)(e)},Dd=function(e){if(e==null)throw TypeError("Can't call method on  "+e);return e},Sc={},Dv={}.toString,cp=function(e){return Dv.call(e).slice(8,-1)},Jp=Object("z").propertyIsEnumerable(0)?Object:function(i){return cp(i)=="String"?i.split(""):Object(i)},Gh=function(e){return Jp(Dd(e))},Qp=Math.min,Es=function(e){return 0<e?Qp(up(e),9007199254740991):0},pd=Math.max,Lh=Math.min,md=ve(function(i){var e=ya["__core-js_shared__"]||(ya["__core-js_shared__"]={});(i.exports=function(r,s){return e[r]||(e[r]=s!==void 0?s:{})})("versions",[]).push({version:Do.version,mode:"pure",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"})}),qp=0,Fp=Math.random(),$a=function(e){return"Symbol(".concat(e===void 0?"":e,")_",(++qp+Fp).toString(36))},ov=md("keys"),vm=function(e){return ov[e]||(ov[e]=$a(e))},jm=function(i){return function(e,r,s){e=Gh(e);var c=Es(e.length);if(s=up(s),s=0>s?pd(s+c,0):Lh(s,c),i&&r!=r){for(;c>s;)if(r=e[s++],r!=r)return!0}else for(;c>s;s++)if((i||s in e)&&e[s]===r)return i||s||0;return!i&&-1}}(!1),$p=vm("IE_PROTO"),mg=function(e,r){e=Gh(e);var s=0,c=[],v;for(v in e)v!=$p&&Js(e,v)&&c.push(v);for(;r.length>s;)Js(e,v=r[s++])&&(~jm(c,v)||c.push(v));return c},av="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),dh=Object.keys||function(i){return mg(i,av)},sv=Ou?Object.defineProperties:function(i,e){Ms(i);for(var r=dh(e),s=r.length,c=0,v;s>c;)Wu.f(i,v=r[c++],e[v]);return i},Bp=ya.document,zm=Bp&&Bp.documentElement,vg=vm("IE_PROTO"),lv=function(){},Cf=function(){var e=sp?Ru.createElement("iframe"):{},r=av.length;for(e.style.display="none",zm.appendChild(e),e.src="javascript:",e=e.contentWindow.document,e.open(),e.write("<script>document.F=Object</script>"),e.close(),Cf=e.F;r--;)delete Cf.prototype[av[r]];return Cf()},Df=Object.create||function(i,e){if(i!==null){lv.prototype=Ms(i);var r=new lv;lv.prototype=null,r[vg]=i}else r=Cf();return e===void 0?r:sv(r,e)},af=ve(function(i){var e=md("wks"),r=ya.Symbol,s=typeof r=="function";(i.exports=function(c){return e[c]||(e[c]=s&&r[c]||(s?r:$a)("Symbol."+c))}).store=e}),em=Wu.f,rp=af("toStringTag"),tm=function(e,r,s){e&&!Js(e=s?e:e.prototype,rp)&&em(e,rp,{configurable:!0,value:r})},gm={};Uc(gm,af("iterator"),function(){return this});var ph=function(e,r,s){e.prototype=Df(gm,{next:eh(1,s)}),tm(e,r+" Iterator")},jp=vm("IE_PROTO"),uv=Object.prototype,Ep=Object.getPrototypeOf||function(i){return i=Object(Dd(i)),Js(i,jp)?i[jp]:typeof i.constructor=="function"&&i instanceof i.constructor?i.constructor.prototype:i instanceof Object?uv:null},ym=af("iterator"),Nd=!([].keys&&"next"in[].keys()),Nv=function(){return this},Um=function(e,r,s,c,v,x,w){ph(s,r,c),c=function(Bt){return!Nd&&Bt in W?W[Bt]:function(){return new s(this,Bt)}};var I=r+" Iterator",j=v=="values",G=!1,W=e.prototype,ae=W[ym]||W["@@iterator"]||v&&W[v],ue=ae||c(v),be=v?j?c("entries"):ue:void 0,Me=r=="Array"&&W.entries||ae,ct;if(Me&&(e=Ep(Me.call(new e)),e!==Object.prototype&&e.next&&tm(e,I,!0)),j&&ae&&ae.name!=="values"&&(G=!0,ue=function(){return ae.call(this)}),w&&(Nd||G||!W[ym])&&Uc(W,ym,ue),Sc[r]=ue,Sc[I]=Nv,v){var Nt={values:j?ue:c("values"),keys:x?ue:c("keys"),entries:be};if(w)for(ct in Nt)ct in W||Uc(W,ct,Nt[ct]);else Kn(Kn.P+Kn.F*(Nd||G),r,Nt)}return Nt},cv=function(i){return function(e,r){e=String(Dd(e)),r=up(r);var s=e.length,c;if(0>r||r>=s)return i?"":void 0;var v=e.charCodeAt(r);return 55296>v||56319<v||r+1===s||56320>(c=e.charCodeAt(r+1))||57343<c?i?e.charAt(r):v:i?e.slice(r,r+2):(v-55296<<10)+(c-56320)+65536}}(!0);Um(String,"String",function(i){this._t=String(i),this._i=0},function(){var i=this._t,e=this._i;return e>=i.length?{value:void 0,done:!0}:(i=cv(i,e),this._i+=i.length,{value:i,done:!1})});var xm=function(e,r,s,c){try{return c?r(Ms(s)[0],s[1]):r(s)}catch(v){throw r=e.return,r!==void 0&&Ms(r.call(e)),v}},km=af("iterator"),fv=Array.prototype,hv=af("toStringTag"),Hm=cp(function(){return arguments}())=="Arguments",vd=function(e){var r;if(e===void 0)var s="Undefined";else{if(e===null)var c="Null";else{e:{var v=e=Object(e);try{c=v[hv];break e}catch(x){}c=void 0}c=typeof(s=c)=="string"?s:Hm?cp(e):(r=cp(e))=="Object"&&typeof e.callee=="function"?"Arguments":r}s=c}return s},rm=af("iterator"),nm=Do.getIteratorMethod=function(i){if(i!=null)return i[rm]||i["@@iterator"]||Sc[vd(i)]},mh=af("iterator"),np=!1;try{[7][mh]().return=function(){np=!0}}catch(i){}var Vm=function(e,r){if(!r&&!np)return!1;var s=!1;try{r=[7];var c=r[mh]();c.next=function(){return{done:s=!0}},r[mh]=function(){return c},e(r)}catch(v){}return s};Kn(Kn.S+Kn.F*!Vm(function(i){}),"Array",{from:function(e){var r=Object(Dd(e)),s=typeof this=="function"?this:Array,c=arguments.length,v=1<c?arguments[1]:void 0,x=v!==void 0,w=0,I=nm(r),j;if(x&&(v=hl(v,2<c?arguments[2]:void 0,2)),I!=null&&(s!=Array||I===void 0||Sc.Array!==I&&fv[km]!==I))for(r=I.call(r),s=new s;!(j=r.next()).done;w++)c=s,I=w,j=x?xm(r,v,[j.value,w],!0):j.value,I in c?Wu.f(c,I,eh(0,j)):c[I]=j;else for(c=Es(r.length),s=new s(c);c>w;w++){I=s,j=w;var G=x?v(r[w],w):r[w];j in I?Wu.f(I,j,eh(0,G)):I[j]=G}return s.length=w,s}});var Fv=Do.Array.from,fp=ve(function(i){i.exports={default:Fv,__esModule:!0}}),zp=Ae(fp),Fd=function(e,r){return{value:r,done:!!e}};Um(Array,"Array",function(i,e){this._t=Gh(i),this._i=0,this._k=e},function(){var i=this._t,e=this._k,r=this._i++;return!i||r>=i.length?(this._t=void 0,Fd(1)):e=="keys"?Fd(0,r):e=="values"?Fd(0,i[r]):Fd(0,[r,i[r]])},"values"),Sc.Arguments=Sc.Array;for(var dv=af("toStringTag"),im="CSSRuleList CSSStyleDeclaration CSSValueList ClientRectList DOMRectList DOMStringList DOMTokenList DataTransferItemList FileList HTMLAllCollection HTMLCollection HTMLFormElement HTMLSelectElement MediaList MimeTypeArray NamedNodeMap NodeList PaintRequestList Plugin PluginArray SVGLengthList SVGNumberList SVGPathSegList SVGPointList SVGStringList SVGTransformList SourceBufferList StyleSheetList TextTrackCueList TextTrackList TouchList".split(" "),Cm=0;Cm<im.length;Cm++){var es=im[Cm],om=ya[es],Jo=om&&om.prototype;Jo&&!Jo[dv]&&Uc(Jo,dv,es),Sc[es]=Sc.Array}var Am=function(e,r,s,c){if(!(e instanceof r)||c!==void 0&&c in e)throw TypeError(s+": incorrect invocation!");return e},gu=ve(function(i){var e={},r={};i=i.exports=function(s,c,v,x,w){w=w?function(){return s}:nm(s),v=hl(v,x,c?2:1),x=0;var I,j;if(typeof w!="function")throw TypeError(s+" is not iterable!");if(w===void 0||Sc.Array!==w&&fv[km]!==w){for(x=w.call(s);!(j=x.next()).done;)if(w=xm(x,v,j.value,c),w===e||w===r)return w}else for(I=Es(s.length);I>x;x++)if(w=c?v(Ms(j=s[x])[0],j[1]):v(s[x]),w===e||w===r)return w},i.BREAK=e,i.RETURN=r}),Qu=af("species"),Up=function(e,r){e=Ms(e).constructor;var s;return e===void 0||(s=Ms(e)[Qu])==null?r:cc(s)},wm=function(e,r,s){var c=s===void 0;switch(r.length){case 0:return c?e():e.call(s);case 1:return c?e(r[0]):e.call(s,r[0]);case 2:return c?e(r[0],r[1]):e.call(s,r[0],r[1]);case 3:return c?e(r[0],r[1],r[2]):e.call(s,r[0],r[1],r[2]);case 4:return c?e(r[0],r[1],r[2],r[3]):e.call(s,r[0],r[1],r[2],r[3])}return e.apply(s,r)},bm=ya.process,Tp=ya.setImmediate,Bd=ya.clearImmediate,Ug=ya.MessageChannel,ee=ya.Dispatch,le=0,fe={},re=function(){var e=+this;if(fe.hasOwnProperty(e)){var r=fe[e];delete fe[e],r()}},Q=function(e){re.call(e.data)};if(!Tp||!Bd)if(Tp=function(e){for(var r=[],s=1;arguments.length>s;)r.push(arguments[s++]);return fe[++le]=function(){wm(typeof e=="function"?e:Function(e),r)},pe(le),le},Bd=function(e){delete fe[e]},cp(bm)=="process")var pe=function(e){bm.nextTick(hl(re,e,1))};else if(ee&&ee.now)pe=function(e){ee.now(hl(re,e,1))};else if(Ug){var ye=new Ug,Te=ye.port2;ye.port1.onmessage=Q,pe=hl(Te.postMessage,Te,1)}else ya.addEventListener&&typeof postMessage=="function"&&!ya.importScripts?(pe=function(e){ya.postMessage(e+"","*")},ya.addEventListener("message",Q,!1)):pe="onreadystatechange"in(sp?Ru.createElement("script"):{})?function(i){zm.appendChild(sp?Ru.createElement("script"):{}).onreadystatechange=function(){zm.removeChild(this),re.call(i)}}:function(i){setTimeout(hl(re,i,1),0)};var Be=Tp,Ke=ya.MutationObserver||ya.WebKitMutationObserver,lt=ya.process,ot=ya.Promise,Tt=cp(lt)=="process",Ft={f:function(e){return new Pe(e)}},sr=function(e){try{return{e:!1,v:e()}}catch(r){return{e:!0,v:r}}},ur=ya.navigator,tr=ur&&ur.userAgent||"",$t=function(e,r){if(Ms(e),dl(r)&&r.constructor===e)return r;e=Ft.f(e);var s=e.resolve;return s(r),e.promise},Vt=function(e,r,s){for(var c in r)s&&e[c]?e[c]=r[c]:Uc(e,c,r[c]);return e},Qr=af("species"),Bn=function(e){e=typeof Do[e]=="function"?Do[e]:ya[e],Ou&&e&&!e[Qr]&&Wu.f(e,Qr,{configurable:!0,get:function(){return this}})},wr=function(){var i,e,r=function(){var I;for(Tt&&(I=lt.domain)&&I.exit();i;){var j=i.fn;i=i.next;try{j()}catch(G){throw i?s():e=void 0,G}}e=void 0,I&&I.enter()};if(Tt)var s=function(){lt.nextTick(r)};else if(!Ke||ya.navigator&&ya.navigator.standalone)if(ot&&ot.resolve){var c=ot.resolve(void 0);s=function(){c.then(r)}}else s=function(){Be.call(ya,r)};else{var v=!0,x=document.createTextNode("");new Ke(r).observe(x,{characterData:!0}),s=function(){x.data=v=!v}}return function(w){w={fn:w,next:void 0},e&&(e.next=w),i||(i=w,s()),e=w}}(),on=ya.TypeError,jn=ya.process,fn=jn&&jn.versions,zr=fn&&fn.v8||"",Sn=ya.Promise,xi=vd(jn)=="process",mo=function(){},yi,Ci=yi=Ft.f,aa=!!function(){try{var i=Sn.resolve(1),e=(i.constructor={})[af("species")]=function(r){r(mo,mo)};return(xi||typeof PromiseRejectionEvent=="function")&&i.then(mo)instanceof e&&zr.indexOf("6.6")!==0&&tr.indexOf("Chrome/66")===-1}catch(r){}}(),ds=function(e){var r;return dl(e)&&typeof(r=e.then)=="function"?r:!1},xa=function(e,r){if(!e._n){e._n=!0;var s=e._c;wr(function(){for(var c=e._v,v=e._s==1,x=0;s.length>x;){var w=void 0,I=void 0,j=void 0,G=s[x++],W=v?G.ok:G.fail,ae=G.resolve,ue=G.reject,be=G.domain;try{W?(v||(e._h==2&&Ts(e),e._h=1),W===!0?j=c:(be&&be.enter(),j=W(c),be&&(be.exit(),w=!0)),j===G.promise?ue(on("Promise-chain cycle")):(I=ds(j))?I.call(j,ae,ue):ae(j)):ue(c)}catch(Me){be&&!w&&be.exit(),ue(Me)}}e._c=[],e._n=!1,r&&!e._h&&ts(e)})}},ts=function(e){Be.call(ya,function(){var r=e._v,s=e._h!==1&&(e._a||e._c).length===0,c,v;if(s){var x=sr(function(){xi?jn.emit("unhandledRejection",r,e):(c=ya.onunhandledrejection)?c({promise:e,reason:r}):(v=ya.console)&&v.error&&v.error("Unhandled promise rejection",r)});e._h=xi||e._h!==1&&(e._a||e._c).length===0?2:1}if(e._a=void 0,s&&x.e)throw x.v})},Ts=function(e){Be.call(ya,function(){var r;xi?jn.emit("rejectionHandled",e):(r=ya.onrejectionhandled)&&r({promise:e,reason:e._v})})},ys=function(e){var r=this;r._d||(r._d=!0,r=r._w||r,r._v=e,r._s=2,r._a||(r._a=r._c.slice()),xa(r,!0))},Wa=function i(e){var r=this,s;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw on("Promise can't be resolved itself");(s=ds(e))?wr(function(){var c={_w:r,_d:!1};try{s.call(e,hl(i,c,1),hl(ys,c,1))}catch(v){ys.call(c,v)}}):(r._v=e,r._s=1,xa(r,!1))}catch(c){ys.call({_w:r,_d:!1},c)}}};if(!aa){Sn=function(e){Am(this,Sn,"Promise","_h"),cc(e),ps.call(this);try{e(hl(Wa,this,1),hl(ys,this,1))}catch(r){ys.call(this,r)}};var ps=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1};ps.prototype=Vt(Sn.prototype,{then:function(e,r){var s=Ci(Up(this,Sn));return s.ok=typeof e=="function"?e:!0,s.fail=typeof r=="function"&&r,s.domain=xi?jn.domain:void 0,this._c.push(s),this._a&&this._a.push(s),this._s&&xa(this,!1),s.promise},catch:function(e){return this.then(void 0,e)}});var Hs=function(){var e=new ps;this.promise=e,this.resolve=hl(Wa,e,1),this.reject=hl(ys,e,1)};Ft.f=Ci=function(e){return e===Sn||e===qs?new Hs(e):yi(e)}}Kn(Kn.G+Kn.W+Kn.F*!aa,{Promise:Sn}),tm(Sn,"Promise"),Bn("Promise");var qs=Do.Promise;Kn(Kn.S+Kn.F*!aa,"Promise",{reject:function(e){var r=Ci(this),s=r.reject;return s(e),r.promise}}),Kn(Kn.S+1*Kn.F,"Promise",{resolve:function(e){return $t(this===qs?Sn:this,e)}}),Kn(Kn.S+Kn.F*!(aa&&Vm(function(i){Sn.all(i).catch(mo)})),"Promise",{all:function(e){var r=this,s=Ci(r),c=s.resolve,v=s.reject,x=sr(function(){var w=[],I=0,j=1;gu(e,!1,function(G){var W=I++,ae=!1;w.push(void 0),j++,r.resolve(G).then(function(ue){ae||(ae=!0,w[W]=ue,--j||c(w))},v)}),--j||c(w)});return x.e&&v(x.v),s.promise},race:function(e){var r=this,s=Ci(r),c=s.reject,v=sr(function(){gu(e,!1,function(x){r.resolve(x).then(s.resolve,c)})});return v.e&&c(v.v),s.promise}}),Kn(Kn.P+Kn.R,"Promise",{finally:function(e){var r=Up(this,Do.Promise||ya.Promise),s=typeof e=="function";return this.then(s?function(c){return $t(r,e()).then(function(){return c})}:e,s?function(c){return $t(r,e()).then(function(){throw c})}:e)}}),Kn(Kn.S,"Promise",{try:function(e){var r=Ft.f(this);return e=sr(e),(e.e?r.reject:r.resolve)(e.v),r.promise}});var rl=Do.Promise,na=ve(function(i){i.exports={default:rl,__esModule:!0}}),_s=Ae(na),Fl=ve(function(i){var e=$a("meta"),r=Wu.f,s=0,c=Object.isExtensible||function(){return!0},v=!Lf(function(){return c(Object.preventExtensions({}))}),x=function(j){r(j,e,{value:{i:"O"+ ++s,w:{}}})},w=i.exports={KEY:e,NEED:!1,fastKey:function(j,G){if(!dl(j))return typeof j=="symbol"?j:(typeof j=="string"?"S":"P")+j;if(!Js(j,e)){if(!c(j))return"F";if(!G)return"E";x(j)}return j[e].i},getWeak:function(j,G){if(!Js(j,e)){if(!c(j))return!0;if(!G)return!1;x(j)}return j[e].w},onFreeze:function(j){return v&&w.NEED&&c(j)&&!Js(j,e)&&x(j),j}}}),Tl=function(e,r){var s=(Do.Object||{})[e]||Object[e],c={};c[e]=r(s),Kn(Kn.S+Kn.F*Lf(function(){s(1)}),"Object",c)},kl=Fl.onFreeze;Tl("freeze",function(i){return function(e){return i&&dl(e)?i(kl(e)):e}});var sa=Do.Object.freeze,Vs=ve(function(i){i.exports={default:sa,__esModule:!0}}),nl=Ae(Vs),yu={f:af},il=yu.f("iterator"),Qo=ve(function(i){i.exports={default:il,__esModule:!0}});Ae(Qo);var xu=Wu.f,Ao=function(e){var r=Do.Symbol||(Do.Symbol={});e.charAt(0)=="_"||e in r||xu(r,e,{value:yu.f(e)})},No=Object.getOwnPropertySymbols,ms={}.propertyIsEnumerable,Is=Array.isArray||function(i){return cp(i)=="Array"},$s=av.concat("length","prototype"),el=Object.getOwnPropertyNames||function(i){return mg(i,$s)},Mc=el,Af={}.toString,ip=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Cl=function(e){if(ip&&Af.call(e)=="[object Window]")try{var r=Mc(e)}catch(s){r=ip.slice()}else r=Mc(Gh(e));return r},Nf=Object.getOwnPropertyDescriptor,Ff={f:Ou?Nf:function(i,e){if(i=Gh(i),e=fh(e,!0),Zp)try{return Nf(i,e)}catch(r){}if(Js(i,e))return eh(!ms.call(i,e),i[e])}},gd=Fl.KEY,sf=Ff.f,fc=Wu.f,hp=Cl,Bs=ya.Symbol,Hl=ya.JSON,Vl=Hl&&Hl.stringify,Ws=af("_hidden"),Al=af("toPrimitive"),Cu={}.propertyIsEnumerable,_l=md("symbol-registry"),tu=md("symbols"),ol=md("op-symbols"),kc=Object.prototype,Yh=typeof Bs=="function",dp=ya.QObject,jd=!dp||!dp.prototype||!dp.prototype.findChild,Xh=Ou&&Lf(function(){return Df(fc({},"a",{get:function(){return fc(this,"a",{value:7}).a}})).a!=7})?function(i,e,r){var s=sf(kc,e);s&&delete kc[e],fc(i,e,r),s&&i!==kc&&fc(kc,e,s)}:fc,vh=function(e){var r=tu[e]=Df(Bs.prototype);return r._k=e,r},Ec=Yh&&typeof Bs.iterator=="symbol"?function(i){return typeof i=="symbol"}:function(i){return i instanceof Bs},Kh=function i(e,r,s){return e===kc&&i(ol,r,s),Ms(e),r=fh(r,!0),Ms(s),Js(tu,r)?(s.enumerable?(Js(e,Ws)&&e[Ws][r]&&(e[Ws][r]=!1),s=Df(s,{enumerable:eh(0,!1)})):(Js(e,Ws)||fc(e,Ws,eh(1,{})),e[Ws][r]=!0),Xh(e,r,s)):fc(e,r,s)},Hc=function(e,r){Ms(e);var s=r=Gh(r),c=dh(s),v=No;if(v){v=v(s);for(var x=ms,w=0,I;v.length>w;)x.call(s,I=v[w++])&&c.push(I)}s=0,I=c.length;for(var j;I>s;)Kh(e,j=c[s++],r[j]);return e},Zh=function(e){var r=Cu.call(this,e=fh(e,!0));return this===kc&&Js(tu,e)&&!Js(ol,e)?!1:r||!Js(this,e)||!Js(tu,e)||Js(this,Ws)&&this[Ws][e]?r:!0},lf=function(e,r){if(e=Gh(e),r=fh(r,!0),e!==kc||!Js(tu,r)||Js(ol,r)){var s=sf(e,r);return!s||!Js(tu,r)||Js(e,Ws)&&e[Ws][r]||(s.enumerable=!0),s}},gh=function(e){e=hp(Gh(e));for(var r=[],s=0,c;e.length>s;)Js(tu,c=e[s++])||c==Ws||c==gd||r.push(c);return r},pp=function(e){var r=e===kc;e=hp(r?ol:Gh(e));for(var s=[],c=0,v;e.length>c;)Js(tu,v=e[c++])&&(r?Js(kc,v):1)&&s.push(tu[v]);return s};Yh||(Bs=function(){if(this instanceof Bs)throw TypeError("Symbol is not a constructor!");var e=$a(0<arguments.length?arguments[0]:void 0),r=function s(c){this===kc&&s.call(ol,c),Js(this,Ws)&&Js(this[Ws],e)&&(this[Ws][e]=!1),Xh(this,e,eh(1,c))};return Ou&&jd&&Xh(kc,e,{configurable:!0,set:r}),vh(e)},Uc(Bs.prototype,"toString",function(){return this._k}),Ff.f=lf,Wu.f=Kh,el=Cl=gh,ms=Zh,No=pp,yu.f=function(i){return vh(af(i))}),Kn(Kn.G+Kn.W+Kn.F*!Yh,{Symbol:Bs});for(var op="hasInstance isConcatSpreadable iterator match replace search species split toPrimitive toStringTag unscopables".split(" "),_p=0;op.length>_p;)af(op[_p++]);for(var zd=dh(af.store),yd=0;zd.length>yd;)Ao(zd[yd++]);Kn(Kn.S+Kn.F*!Yh,"Symbol",{for:function(e){return Js(_l,e+="")?_l[e]:_l[e]=Bs(e)},keyFor:function(e){if(!Ec(e))throw TypeError(e+" is not a symbol!");for(var r in _l)if(_l[r]===e)return r},useSetter:function(){jd=!0},useSimple:function(){jd=!1}}),Kn(Kn.S+Kn.F*!Yh,"Object",{create:function(e,r){return r===void 0?Df(e):Hc(Df(e),r)},defineProperty:Kh,defineProperties:Hc,getOwnPropertyDescriptor:lf,getOwnPropertyNames:gh,getOwnPropertySymbols:pp}),Hl&&Kn(Kn.S+Kn.F*(!Yh||Lf(function(){var i=Bs();return Vl([i])!="[null]"||Vl({a:i})!="{}"||Vl(Object(i))!="{}"})),"JSON",{stringify:function(e){for(var r=[e],s=1,c;arguments.length>s;)r.push(arguments[s++]);if(c=s=r[1],(dl(s)||e!==void 0)&&!Ec(e))return Is(s)||(s=function(x,w){if(typeof c=="function"&&(w=c.call(this,x,w)),!Ec(w))return w}),r[1]=s,Vl.apply(Hl,r)}}),Bs.prototype[Al]||Uc(Bs.prototype,Al,Bs.prototype.valueOf),tm(Bs,"Symbol"),tm(Math,"Math",!0),tm(ya.JSON,"JSON",!0),Ao("asyncIterator"),Ao("observable");var Jh=Do.Symbol,xd=ve(function(i){i.exports={default:Jh,__esModule:!0}});Ae(xd);var rs=ve(function(i,e){e.__esModule=!0,i=Qo&&Qo.__esModule?Qo:{default:Qo};var r=xd&&xd.__esModule?xd:{default:xd},s=typeof r.default=="function"&&typeof i.default=="symbol"?function(c){return typeof c}:function(c){return c&&typeof r.default=="function"&&c.constructor===r.default&&c!==r.default.prototype?"symbol":typeof c};e.default=typeof r.default=="function"&&s(i.default)==="symbol"?function(c){return typeof c=="undefined"?"undefined":s(c)}:function(c){return c&&typeof r.default=="function"&&c.constructor===r.default&&c!==r.default.prototype?"symbol":typeof c=="undefined"?"undefined":s(c)}}),vs=Ae(rs),Wl=function(e,r){if(!dl(e)||e._t!==r)throw TypeError("Incompatible receiver, "+r+" required!");return e},Cd=Wu.f,hc=Fl.fastKey,Dh=Ou?"_s":"size",Sm=function(e,r){var s=hc(r);if(s!=="F")return e._i[s];for(e=e._f;e;e=e.n)if(e.k==r)return e},Mm={getConstructor:function(e,r,s,c){var v=e(function(x,w){Am(x,v,r,"_i"),x._t=r,x._i=Df(null),x._f=void 0,x._l=void 0,x[Dh]=0,w!=null&&gu(w,s,x[c],x)});return Vt(v.prototype,{clear:function(){for(var w=Wl(this,r),I=w._i,j=w._f;j;j=j.n)j.r=!0,j.p&&(j.p=j.p.n=void 0),delete I[j.i];w._f=w._l=void 0,w[Dh]=0},delete:function(w){var I=Wl(this,r);if(w=Sm(I,w)){var j=w.n,G=w.p;delete I._i[w.i],w.r=!0,G&&(G.n=j),j&&(j.p=G),I._f==w&&(I._f=j),I._l==w&&(I._l=G),I[Dh]--}return!!w},forEach:function(w){Wl(this,r);for(var I=hl(w,1<arguments.length?arguments[1]:void 0,3),j;j=j?j.n:this._f;)for(I(j.v,j.k,this);j&&j.r;)j=j.p},has:function(w){return!!Sm(Wl(this,r),w)}}),Ou&&Cd(v.prototype,"size",{get:function(){return Wl(this,r)[Dh]}}),v},def:function(e,r,s){var c=Sm(e,r),v;return c?c.v=s:(e._l=c={i:v=hc(r,!0),k:r,v:s,p:r=e._l,n:void 0,r:!1},e._f||(e._f=c),r&&(r.n=c),e[Dh]++,v!=="F"&&(e._i[v]=c)),e},getEntry:Sm,setStrong:function(e,r,s){Um(e,r,function(c,v){this._t=Wl(c,r),this._k=v,this._l=void 0},function(){for(var c=this._k,v=this._l;v&&v.r;)v=v.p;return this._t&&(this._l=v=v?v.n:this._t._f)?c=="keys"?Fd(0,v.k):c=="values"?Fd(0,v.v):Fd(0,[v.k,v.v]):(this._t=void 0,Fd(1))},s?"entries":"values",!s,!0),Bn(r)}},Bv=af("species"),kp=function(e,r){if(Is(e)){var s=e.constructor;typeof s!="function"||s!==Array&&!Is(s.prototype)||(s=void 0),dl(s)&&(s=s[Bv],s===null&&(s=void 0))}return new(s===void 0?Array:s)(r)},Ip=function(e,r){var s=e==1,c=e==2,v=e==3,x=e==4,w=e==6,I=e==5||w,j=r||kp;return function(G,W,ae){var ue=Object(Dd(G)),be=Jp(ue);W=hl(W,ae,3),ae=Es(be.length);var Me=0;G=s?j(G,ae):c?j(G,0):void 0;for(var ct,Nt;ae>Me;Me++)if((I||Me in be)&&(ct=be[Me],Nt=W(ct,Me,ue),e)){if(s)G[Me]=Nt;else if(Nt)switch(e){case 3:return!0;case 5:return ct;case 6:return Me;case 2:G.push(ct)}else if(x)return!1}return w?-1:v||x?x:G}},mp=Wu.f,jv=Ip(0),Em=function(e,r,s,c,v,x){var w=ya[e],I=w,j=v?"set":"add",G=I&&I.prototype,W={};return Ou&&typeof I=="function"&&(x||G.forEach&&!Lf(function(){new I().entries().next()}))?(I=r(function(ae,ue){Am(ae,I,e,"_c"),ae._c=new w,ue!=null&&gu(ue,v,ae[j],ae)}),jv("add clear delete forEach get has set keys values entries toJSON".split(" "),function(ae){var ue=ae=="add"||ae=="set";ae in G&&(!x||ae!="clear")&&Uc(I.prototype,ae,function(be,Me){return Am(this,I,ae),!ue&&x&&!dl(be)?ae=="get"?void 0:!1:(be=this._c[ae](be===0?0:be,Me),ue?this:be)})}),x||mp(I.prototype,"size",{get:function(){return this._c.size}})):(I=c.getConstructor(r,e,v,j),Vt(I.prototype,s),Fl.NEED=!0),tm(I,e),W[e]=I,Kn(Kn.G+Kn.W+Kn.F,W),x||c.setStrong(I,e,v),I};Em("Map",function(i){return function(){return i(this,0<arguments.length?arguments[0]:void 0)}},{get:function(e){return(e=Mm.getEntry(Wl(this,"Map"),e))&&e.v},set:function(e,r){return Mm.def(Wl(this,"Map"),e===0?0:e,r)}},Mm,!0),Kn(Kn.P+Kn.R,"Map",{toJSON:function(i){return function(){if(vd(this)!=i)throw TypeError(i+"#toJSON isn't generic");var e=[];return gu(this,!1,e.push,e,void 0),e}}("Map")});var Tm=function(e){Kn(Kn.S,e,{of:function(){for(var s=arguments.length,c=Array(s);s--;)c[s]=arguments[s];return new this(c)}})};Tm("Map");var pv=function(e){Kn(Kn.S,e,{from:function(s,c,v){var x;if(cc(this),(x=c!==void 0)&&cc(c),s==null)return new this;var w=[];if(x){var I=0,j=hl(c,v,2);gu(s,!1,function(G){w.push(j(G,I++))})}else gu(s,!1,w.push,w);return new this(w)}})};pv("Map");var zv=Do.Map,Wm=ve(function(i){i.exports={default:zv,__esModule:!0}}),mv=Ae(Wm),Pp=Object.assign,vv=!Pp||Lf(function(){var i={},e={},r=Symbol();return i[r]=7,"abcdefghijklmnopqrst".split("").forEach(function(s){e[s]=s}),Pp({},i)[r]!=7||Object.keys(Pp({},e)).join("")!="abcdefghijklmnopqrst"})?function(i,e){for(var r=Object(Dd(i)),s=arguments.length,c=1,v=No,x=ms;s>c;)for(var w=Jp(arguments[c++]),I=v?dh(w).concat(v(w)):dh(w),j=I.length,G=0,W;j>G;)x.call(w,W=I[G++])&&(r[W]=w[W]);return r}:Pp,gv=Fl.getWeak,Uv=Ip(5),al=Ip(6),Il=0,Tc=function(e){return e._l||(e._l=new _c)},_c=function(){this.a=[]},am=function(e,r){return Uv(e.a,function(s){return s[0]===r})};_c.prototype={get:function(e){if(e=am(this,e))return e[1]},has:function(e){return!!am(this,e)},set:function(e,r){var s=am(this,e);s?s[1]=r:this.a.push([e,r])},delete:function(e){var r=al(this.a,function(s){return s[0]===e});return~r&&this.a.splice(r,1),!!~r}};var Qh={getConstructor:function(e,r,s,c){var v=e(function(x,w){Am(x,v,r,"_i"),x._t=r,x._i=Il++,x._l=void 0,w!=null&&gu(w,s,x[c],x)});return Vt(v.prototype,{delete:function(w){if(!dl(w))return!1;var I=gv(w);return I===!0?Tc(Wl(this,r)).delete(w):I&&Js(I,this._i)&&delete I[this._i]},has:function(w){if(!dl(w))return!1;var I=gv(w);return I===!0?Tc(Wl(this,r)).has(w):I&&Js(I,this._i)}}),v},def:function(e,r,s){var c=gv(Ms(r),!0);return c===!0?Tc(e).set(r,s):c[e._i]=s,e},ufstore:Tc};ve(function(i){var e=Ip(0),r=!ya.ActiveXObject&&"ActiveXObject"in ya,s=Fl.getWeak,c=Object.isExtensible,v=Qh.ufstore,x=function(W){return function(){return W(this,0<arguments.length?arguments[0]:void 0)}},w={get:function(W){if(dl(W)){var ae=s(W);return ae===!0?v(Wl(this,"WeakMap")).get(W):ae?ae[this._i]:void 0}},set:function(W,ae){return Qh.def(Wl(this,"WeakMap"),W,ae)}},I=i.exports=Em("WeakMap",x,w,Qh,!0,!0);if(Wl&&r){var j=Qh.getConstructor(x,"WeakMap");vv(j.prototype,w),Fl.NEED=!0,e(["delete","has","get","set"],function(G){var W=I.prototype,ae=W[G];Uc(W,G,function(ue,be){return dl(ue)&&!c(ue)?(this._f||(this._f=new j),ue=this._f[G](ue,be),G=="set"?this:ue):ae.call(this,ue,be)})})}}),Tm("WeakMap"),pv("WeakMap");var Gm=Do.WeakMap,sm=ve(function(i){i.exports={default:Gm,__esModule:!0}}),pl=Ae(sm);Tl("keys",function(){return function(i){return dh(Object(Dd(i)))}});var kv=Do.Object.keys,kg=ve(function(i){i.exports={default:kv,__esModule:!0}}),Vc=Ae(kg),Hg=Do.JSON||(Do.JSON={stringify:JSON.stringify}),yv=function(e){return Hg.stringify.apply(Hg,arguments)},Vg=ve(function(i){i.exports={default:yv,__esModule:!0}}),Ud=Ae(Vg);Kn(Kn.S,"Object",{create:Df});var dy=Do.Object,g0=function(e,r){return dy.create(e,r)},xv=ve(function(i){i.exports={default:g0,__esModule:!0}}),Ge=Ae(xv);Kn(Kn.S+Kn.F*!Ou,"Object",{defineProperties:sv});var Hv=Do.Object,_m=function(e,r){return Hv.defineProperties(e,r)},Wg=ve(function(i){i.exports={default:_m,__esModule:!0}}),Ia=Ae(Wg);Kn(Kn.S+Kn.F,"Object",{assign:vv});var Vv=Do.Object.assign,Wv=ve(function(i){i.exports={default:Vv,__esModule:!0}}),Xe=Ae(Wv);Kn(Kn.S,"Math",{sign:Math.sign||function(i){return(i=+i)==0||i!=i?i:0>i?-1:1}});var y0=Do.Math.sign,gg=ve(function(i){i.exports={default:y0,__esModule:!0}}),Im=Ae(gg),x0=Math.floor;Kn(Kn.S,"Number",{isInteger:function(e){return!dl(e)&&isFinite(e)&&x0(e)===e}});var Gv=Do.Number.isInteger,Gg=ve(function(i){i.exports={default:Gv,__esModule:!0}}),lm=Ae(Gg);Kn(Kn.S,"Number",{EPSILON:Math.pow(2,-52)});var yg=Math.pow(2,-52),C0=ve(function(i){i.exports={default:yg,__esModule:!0}}),Ic=Ae(C0),A0=ve(function(i,e){(function(r,s){s(e)})(Pu,function(r){function s(){}function c(u,t){this.x=u||0,this.y=t||0}function v(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function x(u,t,o,p,g,b,_,D,k,X){Object.defineProperty(this,"id",{value:dM++}),this.uuid=Ll.generateUUID(),this.name="",this.image=u!==void 0?u:x.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=t!==void 0?t:x.DEFAULT_MAPPING,this.wrapS=o!==void 0?o:1001,this.wrapT=p!==void 0?p:1001,this.magFilter=g!==void 0?g:1006,this.minFilter=b!==void 0?b:1008,this.anisotropy=k!==void 0?k:1,this.format=_!==void 0?_:1023,this.internalFormat=null,this.type=D!==void 0?D:1009,this.offset=new c(0,0),this.repeat=new c(1,1),this.center=new c(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new v,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=X!==void 0?X:3e3,this.version=0,this.onUpdate=null}function w(u,t,o,p){this.x=u||0,this.y=t||0,this.z=o||0,this.w=p!==void 0?p:1}function I(u,t,o){this.width=u,this.height=t,this.scissor=new w(0,0,u,t),this.scissorTest=!1,this.viewport=new w(0,0,u,t),o=o||{},this.texture=new x(void 0,o.mapping,o.wrapS,o.wrapT,o.magFilter,o.minFilter,o.format,o.type,o.anisotropy,o.encoding),this.texture.image={},this.texture.image.width=u,this.texture.image.height=t,this.texture.generateMipmaps=o.generateMipmaps!==void 0?o.generateMipmaps:!1,this.texture.minFilter=o.minFilter!==void 0?o.minFilter:1006,this.depthBuffer=o.depthBuffer!==void 0?o.depthBuffer:!0,this.stencilBuffer=o.stencilBuffer!==void 0?o.stencilBuffer:!0,this.depthTexture=o.depthTexture!==void 0?o.depthTexture:null}function j(u,t,o){I.call(this,u,t,o),this.samples=4}function G(u,t,o,p){this._x=u||0,this._y=t||0,this._z=o||0,this._w=p!==void 0?p:1}function W(u,t,o){this.x=u||0,this.y=t||0,this.z=o||0}function ae(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function ue(u,t,o,p){this._x=u||0,this._y=t||0,this._z=o||0,this._order=p||ue.DefaultOrder}function be(){this.mask=1}function Me(){Object.defineProperty(this,"id",{value:vM++}),this.uuid=Ll.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Me.DefaultUp.clone();var u=new W,t=new ue,o=new G,p=new W(1,1,1);t._onChange(function(){o.setFromEuler(t,!1)}),o._onChange(function(){t.setFromQuaternion(o,void 0,!1)}),Ia(this,{position:{configurable:!0,enumerable:!0,value:u},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:o},scale:{configurable:!0,enumerable:!0,value:p},modelViewMatrix:{value:new ae},normalMatrix:{value:new v}}),this.matrix=new ae,this.matrixWorld=new ae,this.matrixAutoUpdate=Me.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new be,this.visible=!0,this.receiveShadow=this.castShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function ct(){Me.call(this),this.type="Scene",this.overrideMaterial=this.fog=this.environment=this.background=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Nt(u,t){this.min=u!==void 0?u:new W(Infinity,Infinity,Infinity),this.max=t!==void 0?t:new W(-Infinity,-Infinity,-Infinity)}function Pt(u,t,o,p,g){var b,_=0;for(b=u.length-3;_<=b;_+=3){Jy.fromArray(u,_);var D=g.x*Math.abs(Jy.x)+g.y*Math.abs(Jy.y)+g.z*Math.abs(Jy.z),k=t.dot(Jy),X=o.dot(Jy),$=p.dot(Jy);if(Math.max(-Math.max(k,X,$),Math.min(k,X,$))>D)return!1}return!0}function Bt(u,t){this.center=u!==void 0?u:new W,this.radius=t!==void 0?t:-1}function ir(u,t){this.origin=u!==void 0?u:new W,this.direction=t!==void 0?t:new W(0,0,-1)}function Ir(u,t){this.normal=u!==void 0?u:new W(1,0,0),this.constant=t!==void 0?t:0}function Tr(u,t,o){this.a=u!==void 0?u:new W,this.b=t!==void 0?t:new W,this.c=o!==void 0?o:new W}function wt(u,t,o){return t===void 0&&o===void 0?this.set(u):this.setRGB(u,t,o)}function qn(u,t,o){return 0>o&&(o+=1),1<o&&--o,o<1/6?u+6*(t-u)*o:.5>o?t:o<2/3?u+6*(t-u)*(2/3-o):u}function Fr(u){return .04045>u?.0773993808*u:Math.pow(.9478672986*u+.0521327014,2.4)}function pi(u){return .0031308>u?12.92*u:1.055*Math.pow(u,.41666)-.055}function Ai(u,t,o,p,g,b){this.a=u,this.b=t,this.c=o,this.normal=p&&p.isVector3?p:new W,this.vertexNormals=Array.isArray(p)?p:[],this.color=g&&g.isColor?g:new wt,this.vertexColors=Array.isArray(g)?g:[],this.materialIndex=b!==void 0?b:0}function Pr(){Object.defineProperty(this,"id",{value:SM++}),this.uuid=Ll.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.vertexColors=this.flatShading=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null,this.depthFunc=3,this.depthWrite=this.depthTest=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilZPass=this.stencilZFail=this.stencilFail=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipShadows=this.clipIntersection=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetUnits=this.polygonOffsetFactor=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.toneMapped=this.visible=!0,this.userData={},this.version=0}function Fo(u){Pr.call(this),this.type="MeshBasicMaterial",this.color=new wt(16777215),this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.envMap=this.alphaMap=this.specularMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphTargets=this.skinning=!1,this.setValues(u)}function En(u,t,o){if(Array.isArray(u))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=u,this.itemSize=t,this.count=u!==void 0?u.length/t:0,this.normalized=o===!0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}function ua(u,t,o){En.call(this,new Int8Array(u),t,o)}function as(u,t,o){En.call(this,new Uint8Array(u),t,o)}function Ca(u,t,o){En.call(this,new Uint8ClampedArray(u),t,o)}function Du(u,t,o){En.call(this,new Int16Array(u),t,o)}function Aa(u,t,o){En.call(this,new Uint16Array(u),t,o)}function Bl(u,t,o){En.call(this,new Int32Array(u),t,o)}function hf(u,t,o){En.call(this,new Uint32Array(u),t,o)}function vi(u,t,o){En.call(this,new Float32Array(u),t,o)}function Gl(u,t,o){En.call(this,new Float64Array(u),t,o)}function ft(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingSphere=this.boundingBox=null,this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1}function Ut(u){if(u.length===0)return-Infinity;for(var t=u[0],o=1,p=u.length;o<p;++o)u[o]>t&&(t=u[o]);return t}function Kt(){Object.defineProperty(this,"id",{value:MM+=2}),this.uuid=Ll.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingSphere=this.boundingBox=null,this.drawRange={start:0,count:Infinity},this.userData={}}function Hr(u,t){Me.call(this),this.type="Mesh",this.geometry=u!==void 0?u:new Kt,this.material=t!==void 0?t:new Fo,this.updateMorphTargets()}function Vi(u,t,o,p,g,b,_,D){return(t.side===1?p.intersectTriangle(_,b,g,!0,D):p.intersectTriangle(g,b,_,t.side!==2,D))===null?null:(CA.copy(D),CA.applyMatrix4(u.matrixWorld),t=o.ray.origin.distanceTo(CA),t<o.near||t>o.far?null:{distance:t,point:CA.clone(),object:u})}function oo(u,t,o,p,g,b,_,D,k,X,$,de){if(sy.fromBufferAttribute(g,X),ly.fromBufferAttribute(g,$),uy.fromBufferAttribute(g,de),g=u.morphTargetInfluences,t.morphTargets&&b&&g){gA.set(0,0,0),yA.set(0,0,0),xA.set(0,0,0);for(var ge=0,me=b.length;ge<me;ge++){var Ee=g[ge],ke=b[ge];Ee!==0&&(V2.fromBufferAttribute(ke,X),W2.fromBufferAttribute(ke,$),G2.fromBufferAttribute(ke,de),_?(gA.addScaledVector(V2,Ee),yA.addScaledVector(W2,Ee),xA.addScaledVector(G2,Ee)):(gA.addScaledVector(V2.sub(sy),Ee),yA.addScaledVector(W2.sub(ly),Ee),xA.addScaledVector(G2.sub(uy),Ee)))}sy.add(gA),ly.add(yA),uy.add(xA)}return u.isSkinnedMesh&&(u.boneTransform(X,sy),u.boneTransform($,ly),u.boneTransform(de,uy)),(u=Vi(u,t,o,p,sy,ly,uy,sC))&&(D&&(ex.fromBufferAttribute(D,X),tx.fromBufferAttribute(D,$),rx.fromBufferAttribute(D,de),u.uv=Tr.getUV(sC,sy,ly,uy,ex,tx,rx,new c)),k&&(ex.fromBufferAttribute(k,X),tx.fromBufferAttribute(k,$),rx.fromBufferAttribute(k,de),u.uv2=Tr.getUV(sC,sy,ly,uy,ex,tx,rx,new c)),D=new Ai(X,$,de),Tr.getNormal(sy,ly,uy,D.normal),u.face=D),u}function Or(){Object.defineProperty(this,"id",{value:EM+=2}),this.uuid=Ll.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingSphere=this.boundingBox=null,this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.verticesNeedUpdate=this.elementsNeedUpdate=!1}function Yr(u){var t={},o;for(o in u){t[o]={};for(var p in u[o]){var g=u[o][p];g&&(g.isColor||g.isMatrix3||g.isMatrix4||g.isVector2||g.isVector3||g.isVector4||g.isTexture)?t[o][p]=g.clone():Array.isArray(g)?t[o][p]=g.slice():t[o][p]=g}}return t}function Wi(u){for(var t={},o=0;o<u.length;o++){var p=Yr(u[o]),g;for(g in p)t[g]=p[g]}return t}function li(u){Pr.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,this.fragmentShader=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,u!==void 0&&(u.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(u))}function Ii(){Me.call(this),this.type="Camera",this.matrixWorldInverse=new ae,this.projectionMatrix=new ae,this.projectionMatrixInverse=new ae}function Ln(u,t,o,p){Ii.call(this),this.type="PerspectiveCamera",this.fov=u!==void 0?u:50,this.zoom=1,this.near=o!==void 0?o:.1,this.far=p!==void 0?p:2e3,this.focus=10,this.aspect=t!==void 0?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function Oa(u,t,o){if(Me.call(this),this.type="CubeCamera",o.isWebGLCubeRenderTarget!==!0)console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");else{this.renderTarget=o;var p=new Ln(90,1,u,t);p.layers=this.layers,p.up.set(0,-1,0),p.lookAt(new W(1,0,0)),this.add(p);var g=new Ln(90,1,u,t);g.layers=this.layers,g.up.set(0,-1,0),g.lookAt(new W(-1,0,0)),this.add(g);var b=new Ln(90,1,u,t);b.layers=this.layers,b.up.set(0,0,1),b.lookAt(new W(0,1,0)),this.add(b);var _=new Ln(90,1,u,t);_.layers=this.layers,_.up.set(0,0,-1),_.lookAt(new W(0,-1,0)),this.add(_);var D=new Ln(90,1,u,t);D.layers=this.layers,D.up.set(0,-1,0),D.lookAt(new W(0,0,1)),this.add(D);var k=new Ln(90,1,u,t);k.layers=this.layers,k.up.set(0,-1,0),k.lookAt(new W(0,0,-1)),this.add(k),this.update=function(X,$){this.parent===null&&this.updateMatrixWorld();var de=X.xr.enabled,ge=X.getRenderTarget();X.xr.enabled=!1;var me=o.texture.generateMipmaps;o.texture.generateMipmaps=!1,X.setRenderTarget(o,0),X.render($,p),X.setRenderTarget(o,1),X.render($,g),X.setRenderTarget(o,2),X.render($,b),X.setRenderTarget(o,3),X.render($,_),X.setRenderTarget(o,4),X.render($,D),o.texture.generateMipmaps=me,X.setRenderTarget(o,5),X.render($,k),X.setRenderTarget(ge),X.xr.enabled=de},this.clear=function(X,$,de,ge){for(var me=X.getRenderTarget(),Ee=0;6>Ee;Ee++)X.setRenderTarget(o,Ee),X.clear($,de,ge);X.setRenderTarget(me)}}}function Os(u,t,o){lm(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=o),I.call(this,u,u,t)}function Dn(u,t,o,p,g,b,_,D,k,X,$,de){x.call(this,null,b,_,D,k,X,p,g,$,de),this.image={data:u||null,width:t||1,height:o||1},this.magFilter=k!==void 0?k:1003,this.minFilter=X!==void 0?X:1003,this.flipY=this.generateMipmaps=!1,this.unpackAlignment=1,this.needsUpdate=!0}function Ra(u,t,o,p,g,b){this.planes=[u!==void 0?u:new Ir,t!==void 0?t:new Ir,o!==void 0?o:new Ir,p!==void 0?p:new Ir,g!==void 0?g:new Ir,b!==void 0?b:new Ir]}function qo(){function u(g,b){o!==!1&&(p(g,b),t.requestAnimationFrame(u))}var t=null,o=!1,p=null;return{start:function(){o!==!0&&p!==null&&(t.requestAnimationFrame(u),o=!0)},stop:function(){o=!1},setAnimationLoop:function(b){p=b},setContext:function(b){t=b}}}function Xo(u,t){function o(b,_){var D=b.array,k=b.usage,X=u.createBuffer();return u.bindBuffer(_,X),u.bufferData(_,D,k),b.onUploadCallback(),_=5126,D instanceof Float32Array?_=5126:D instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):D instanceof Uint16Array?_=5123:D instanceof Int16Array?_=5122:D instanceof Uint32Array?_=5125:D instanceof Int32Array?_=5124:D instanceof Int8Array?_=5120:D instanceof Uint8Array&&(_=5121),{buffer:X,type:_,bytesPerElement:D.BYTES_PER_ELEMENT,version:b.version}}var p=t.isWebGL2,g=new pl;return{get:function(_){return _.isInterleavedBufferAttribute&&(_=_.data),g.get(_)},remove:function(_){_.isInterleavedBufferAttribute&&(_=_.data);var D=g.get(_);D&&(u.deleteBuffer(D.buffer),g.delete(_))},update:function(_,D){_.isInterleavedBufferAttribute&&(_=_.data);var k=g.get(_);if(k===void 0)g.set(_,o(_,D));else if(k.version<_.version){var X=_.array,$=_.updateRange;u.bindBuffer(D,k.buffer),$.count===-1?u.bufferSubData(D,0,X):(p?u.bufferSubData(D,$.offset*X.BYTES_PER_ELEMENT,X,$.offset,$.count):u.bufferSubData(D,$.offset*X.BYTES_PER_ELEMENT,X.subarray($.offset,$.offset+$.count)),$.count=-1),k.version=_.version}}}}function Rc(u,t,o,p){Or.call(this),this.type="PlaneGeometry",this.parameters={width:u,height:t,widthSegments:o,heightSegments:p},this.fromBufferGeometry(new df(u,t,o,p)),this.mergeVertices()}function df(u,t,o,p){Kt.call(this),this.type="PlaneBufferGeometry",this.parameters={width:u,height:t,widthSegments:o,heightSegments:p},u=u||1,t=t||1;var g=u/2,b=t/2;o=Math.floor(o)||1,p=Math.floor(p)||1;var _=o+1,D=p+1,k=u/o,X=t/p,$=[],de=[],ge=[],me=[];for(u=0;u<D;u++){var Ee=u*X-b;for(t=0;t<_;t++)de.push(t*k-g,-Ee,0),ge.push(0,0,1),me.push(t/o),me.push(1-u/p)}for(u=0;u<p;u++)for(t=0;t<o;t++)g=t+_*(u+1),b=t+1+_*(u+1),D=t+1+_*u,$.push(t+_*u,g,D),$.push(g,b,D);this.setIndex($),this.setAttribute("position",new vi(de,3)),this.setAttribute("normal",new vi(ge,3)),this.setAttribute("uv",new vi(me,2))}function qm(u,t,o,p){function g(ge,me){t.buffers.color.setClear(ge.r,ge.g,ge.b,me,p)}var b=new wt(0),_=0,D,k,X=null,$=0,de=null;return{getClearColor:function(){return b},setClearColor:function(me,Ee){b.set(me),_=Ee!==void 0?Ee:1,g(b,_)},getClearAlpha:function(){return _},setClearAlpha:function(me){_=me,g(b,_)},render:function(me,Ee,ke,xt){Ee=Ee.background,ke=u.xr,(ke=ke.getSession&&ke.getSession())&&ke.environmentBlendMode==="additive"&&(Ee=null),Ee===null?g(b,_):Ee&&Ee.isColor&&(g(Ee,1),xt=!0),(u.autoClear||xt)&&u.clear(u.autoClearColor,u.autoClearDepth,u.autoClearStencil),Ee&&(Ee.isCubeTexture||Ee.isWebGLCubeRenderTarget||Ee.mapping===306)?(k===void 0&&(k=new Hr(new lC(1,1,1),new li({type:"BackgroundCubeMaterial",uniforms:Yr(Fg.cube.uniforms),vertexShader:Fg.cube.vertexShader,fragmentShader:Fg.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),k.geometry.deleteAttribute("normal"),k.geometry.deleteAttribute("uv"),k.onBeforeRender=function(qt,Qt,er){this.matrixWorld.copyPosition(er.matrixWorld)},Object.defineProperty(k.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),o.update(k)),xt=Ee.isWebGLCubeRenderTarget?Ee.texture:Ee,k.material.uniforms.envMap.value=xt,k.material.uniforms.flipEnvMap.value=xt.isCubeTexture?-1:1,(X!==Ee||$!==xt.version||de!==u.toneMapping)&&(k.material.needsUpdate=!0,X=Ee,$=xt.version,de=u.toneMapping),me.unshift(k,k.geometry,k.material,0,0,null)):Ee&&Ee.isTexture&&(D===void 0&&(D=new Hr(new df(2,2),new li({type:"BackgroundMaterial",uniforms:Yr(Fg.background.uniforms),vertexShader:Fg.background.vertexShader,fragmentShader:Fg.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),D.geometry.deleteAttribute("normal"),Object.defineProperty(D.material,"map",{get:function(){return this.uniforms.t2D.value}}),o.update(D)),D.material.uniforms.t2D.value=Ee,Ee.matrixAutoUpdate===!0&&Ee.updateMatrix(),D.material.uniforms.uvTransform.value.copy(Ee.matrix),(X!==Ee||$!==Ee.version||de!==u.toneMapping)&&(D.material.needsUpdate=!0,X=Ee,$=Ee.version,de=u.toneMapping),me.unshift(D,D.geometry,D.material,0,0,null))}}}function W0(u,t,o,p){var g=p.isWebGL2,b;this.setMode=function(_){b=_},this.render=function(_,D){u.drawArrays(b,_,D),o.update(D,b)},this.renderInstances=function(_,D,k,X){if(X!==0){if(g){_=u;var $="drawArraysInstanced"}else if(_=t.get("ANGLE_instanced_arrays"),$="drawArraysInstancedANGLE",_===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}_[$](b,D,k,X),o.update(k,b,X)}}}function yx(u,t,o){function p(er){if(er==="highp"){if(0<u.getShaderPrecisionFormat(35633,36338).precision&&0<u.getShaderPrecisionFormat(35632,36338).precision)return"highp";er="mediump"}return er==="mediump"&&0<u.getShaderPrecisionFormat(35633,36337).precision&&0<u.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}var g,b=typeof WebGL2RenderingContext!="undefined"&&u instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&u instanceof WebGL2ComputeRenderingContext,_=o.precision!==void 0?o.precision:"highp",D=p(_);D!==_&&(console.warn("THREE.WebGLRenderer:",_,"not supported, using",D,"instead."),_=D),o=o.logarithmicDepthBuffer===!0,D=u.getParameter(34930);var k=u.getParameter(35660),X=u.getParameter(3379),$=u.getParameter(34076),de=u.getParameter(34921),ge=u.getParameter(36347),me=u.getParameter(36348),Ee=u.getParameter(36349),ke=0<k,xt=b||!!t.get("OES_texture_float"),qt=ke&&xt,Qt=b?u.getParameter(36183):0;return{isWebGL2:b,getMaxAnisotropy:function(){if(g!==void 0)return g;var dr=t.get("EXT_texture_filter_anisotropic");return g=dr!==null?u.getParameter(dr.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:p,precision:_,logarithmicDepthBuffer:o,maxTextures:D,maxVertexTextures:k,maxTextureSize:X,maxCubemapSize:$,maxAttributes:de,maxVertexUniforms:ge,maxVaryings:me,maxFragmentUniforms:Ee,vertexTextures:ke,floatFragmentTextures:xt,floatVertexTextures:qt,maxSamples:Qt}}function G0(){function u(){X.value!==p&&(X.value=p,X.needsUpdate=0<g),o.numPlanes=g,o.numIntersection=0}function t($,de,ge,me){var Ee=$!==null?$.length:0,ke=null;if(Ee!==0){if(ke=X.value,me!==!0||ke===null)for(me=ge+4*Ee,de=de.matrixWorldInverse,k.getNormalMatrix(de),(ke===null||ke.length<me)&&(ke=new Float32Array(me)),me=0;me!==Ee;++me,ge+=4)D.copy($[me]).applyMatrix4(de,k),D.normal.toArray(ke,ge),ke[ge+3]=D.constant;X.value=ke,X.needsUpdate=!0}return o.numPlanes=Ee,o.numIntersection=0,ke}var o=this,p=null,g=0,b=!1,_=!1,D=new Ir,k=new v,X={value:null,needsUpdate:!1};this.uniform=X,this.numIntersection=this.numPlanes=0,this.init=function($,de,ge){var me=$.length!==0||de||g!==0||b;return b=de,p=t($,ge,0),g=$.length,me},this.beginShadows=function(){_=!0,t(null)},this.endShadows=function(){_=!1,u()},this.setState=function($,de,ge,me,Ee,ke){if(!b||$===null||$.length===0||_&&!ge)_?t(null):u();else{ge=_?0:g;var xt=4*ge,qt=Ee.clippingState||null;for(X.value=qt,qt=t($,me,xt,ke),$=0;$!==xt;++$)qt[$]=p[$];Ee.clippingState=qt,this.numIntersection=de?this.numPlanes:0,this.numPlanes+=ge}}}function Y0(u){var t={};return{get:function(p){if(t[p]!==void 0)return t[p];switch(p){case"WEBGL_depth_texture":var g=u.getExtension("WEBGL_depth_texture")||u.getExtension("MOZ_WEBGL_depth_texture")||u.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":g=u.getExtension("EXT_texture_filter_anisotropic")||u.getExtension("MOZ_EXT_texture_filter_anisotropic")||u.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":g=u.getExtension("WEBGL_compressed_texture_s3tc")||u.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||u.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":g=u.getExtension("WEBGL_compressed_texture_pvrtc")||u.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:g=u.getExtension(p)}return g===null&&console.warn("THREE.WebGLRenderer: "+p+" extension not supported."),t[p]=g}}}function xx(u,t,o){function p(D){var k=D.target;D=b.get(k),D.index!==null&&t.remove(D.index);for(var X in D.attributes)t.remove(D.attributes[X]);k.removeEventListener("dispose",p),b.delete(k),(X=_.get(D))&&(t.remove(X),_.delete(D)),o.memory.geometries--}function g(D){var k=[],X=D.index,$=D.attributes.position;if(X!==null){var de=X.array;X=X.version,$=0;for(var ge=de.length;$<ge;$+=3){var me=de[$+0],Ee=de[$+1],ke=de[$+2];k.push(me,Ee,Ee,ke,ke,me)}}else for(de=$.array,X=$.version,$=0,ge=de.length/3-1;$<ge;$+=3)me=$+0,Ee=$+1,ke=$+2,k.push(me,Ee,Ee,ke,ke,me);k=new(65535<Ut(k)?hf:Aa)(k,1),k.version=X,t.update(k,34963),(de=_.get(D))&&t.remove(de),_.set(D,k)}var b=new pl,_=new pl;return{get:function(k,X){var $=b.get(X);return $||(X.addEventListener("dispose",p),X.isBufferGeometry?$=X:X.isGeometry&&(X._bufferGeometry===void 0&&(X._bufferGeometry=new Kt().setFromObject(k)),$=X._bufferGeometry),b.set(X,$),o.memory.geometries++,$)},update:function(k){var X=k.index,$=k.attributes;X!==null&&t.update(X,34963);for(var de in $)t.update($[de],34962);k=k.morphAttributes;for(de in k){X=k[de],$=0;for(var ge=X.length;$<ge;$++)t.update(X[$],34962)}},getWireframeAttribute:function(k){var X=_.get(k);if(X){var $=k.index;$!==null&&X.version<$.version&&g(k)}else g(k);return _.get(k)}}}function g1(u,t,o,p){var g=p.isWebGL2,b,_,D;this.setMode=function(k){b=k},this.setIndex=function(k){_=k.type,D=k.bytesPerElement},this.render=function(k,X){u.drawElements(b,X,_,k*D),o.update(X,b)},this.renderInstances=function(k,X,$,de){if(de!==0){if(g){k=u;var ge="drawElementsInstanced"}else if(k=t.get("ANGLE_instanced_arrays"),ge="drawElementsInstancedANGLE",k===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}k[ge](b,$,_,X*D,de),o.update($,b,de)}}}function X0(u){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(p,g,b){switch(b=b||1,t.calls++,g){case 4:t.triangles+=p/3*b;break;case 1:t.lines+=p/2*b;break;case 3:t.lines+=b*(p-1);break;case 2:t.lines+=b*p;break;case 0:t.points+=b*p;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",g)}}}}function _g(u,t){return Math.abs(t[1])-Math.abs(u[1])}function bC(u){var t={},o=new Float32Array(8);return{update:function(g,b,_,D){var k=g.morphTargetInfluences,X=k===void 0?0:k.length;if(g=t[b.id],g===void 0){g=[];for(var $=0;$<X;$++)g[$]=[$,0];t[b.id]=g}var de=_.morphTargets&&b.morphAttributes.position;for(_=_.morphNormals&&b.morphAttributes.normal,$=0;$<X;$++){var ge=g[$];ge[1]!==0&&(de&&b.deleteAttribute("morphTarget"+$),_&&b.deleteAttribute("morphNormal"+$))}for($=0;$<X;$++)ge=g[$],ge[0]=$,ge[1]=k[$];for(g.sort(_g),$=k=0;8>$;$++){if((ge=g[$])&&(X=ge[0],ge=ge[1])){de&&b.setAttribute("morphTarget"+$,de[X]),_&&b.setAttribute("morphNormal"+$,_[X]),o[$]=ge,k+=ge;continue}o[$]=0}b=b.morphTargetsRelative?1:1-k,D.getUniforms().setValue(u,"morphTargetBaseInfluence",b),D.getUniforms().setValue(u,"morphTargetInfluences",o)}}}function SC(u,t,o,p){var g=new pl;return{update:function(_){var D=p.render.frame,k=_.geometry,X=t.get(_,k);return g.get(X)!==D&&(k.isGeometry&&X.updateFromObject(_),t.update(X),g.set(X,D)),_.isInstancedMesh&&o.update(_.instanceMatrix,34962),X},dispose:function(){g=new pl}}}function Iv(u,t,o,p,g,b,_,D,k,X){u=u!==void 0?u:[],x.call(this,u,t!==void 0?t:301,o,p,g,b,_!==void 0?_:1022,D,k,X),this.flipY=!1}function Wp(u,t,o,p){x.call(this,null),this.image={data:u||null,width:t||1,height:o||1,depth:p||1},this.minFilter=this.magFilter=1003,this.wrapR=1001,this.flipY=this.generateMipmaps=!1,this.needsUpdate=!0}function dm(u,t,o,p){x.call(this,null),this.image={data:u||null,width:t||1,height:o||1,depth:p||1},this.minFilter=this.magFilter=1003,this.wrapR=1001,this.flipY=this.generateMipmaps=!1,this.needsUpdate=!0}function e0(u,t,o){var p=u[0];if(0>=p||0<p)return u;var g=t*o,b=wb[g];if(b===void 0&&(b=new Float32Array(g),wb[g]=b),t!==0)for(p.toArray(b,0),p=1,g=0;p!==t;++p)g+=o,u[p].toArray(b,g);return b}function Nm(u,t){if(u.length!==t.length)return!1;for(var o=0,p=u.length;o<p;o++)if(u[o]!==t[o])return!1;return!0}function Rp(u,t){for(var o=0,p=t.length;o<p;o++)u[o]=t[o]}function Ly(u,t){var o=bb[t];o===void 0&&(o=new Int32Array(t),bb[t]=o);for(var p=0;p!==t;++p)o[p]=u.allocateTextureUnit();return o}function vt(u,t){var o=this.cache;o[0]!==t&&(u.uniform1f(this.addr,t),o[0]=t)}function zn(u,t){var o=this.cache;t.x!==void 0?(o[0]!==t.x||o[1]!==t.y)&&(u.uniform2f(this.addr,t.x,t.y),o[0]=t.x,o[1]=t.y):Nm(o,t)||(u.uniform2fv(this.addr,t),Rp(o,t))}function Cr(u,t){var o=this.cache;t.x!==void 0?(o[0]!==t.x||o[1]!==t.y||o[2]!==t.z)&&(u.uniform3f(this.addr,t.x,t.y,t.z),o[0]=t.x,o[1]=t.y,o[2]=t.z):t.r!==void 0?(o[0]!==t.r||o[1]!==t.g||o[2]!==t.b)&&(u.uniform3f(this.addr,t.r,t.g,t.b),o[0]=t.r,o[1]=t.g,o[2]=t.b):Nm(o,t)||(u.uniform3fv(this.addr,t),Rp(o,t))}function Jn(u,t){var o=this.cache;t.x!==void 0?(o[0]!==t.x||o[1]!==t.y||o[2]!==t.z||o[3]!==t.w)&&(u.uniform4f(this.addr,t.x,t.y,t.z,t.w),o[0]=t.x,o[1]=t.y,o[2]=t.z,o[3]=t.w):Nm(o,t)||(u.uniform4fv(this.addr,t),Rp(o,t))}function $i(u,t){var o=this.cache,p=t.elements;p===void 0?Nm(o,t)||(u.uniformMatrix2fv(this.addr,!1,t),Rp(o,t)):Nm(o,p)||(Eb.set(p),u.uniformMatrix2fv(this.addr,!1,Eb),Rp(o,p))}function vl(u,t){var o=this.cache,p=t.elements;p===void 0?Nm(o,t)||(u.uniformMatrix3fv(this.addr,!1,t),Rp(o,t)):Nm(o,p)||(Mb.set(p),u.uniformMatrix3fv(this.addr,!1,Mb),Rp(o,p))}function wo(u,t){var o=this.cache,p=t.elements;p===void 0?Nm(o,t)||(u.uniformMatrix4fv(this.addr,!1,t),Rp(o,t)):Nm(o,p)||(Sb.set(p),u.uniformMatrix4fv(this.addr,!1,Sb),Rp(o,p))}function Fa(u,t,o){var p=this.cache,g=o.allocateTextureUnit();p[0]!==g&&(u.uniform1i(this.addr,g),p[0]=g),o.safeSetTexture2D(t||Cb,g)}function ll(u,t,o){var p=this.cache,g=o.allocateTextureUnit();p[0]!==g&&(u.uniform1i(this.addr,g),p[0]=g),o.setTexture2DArray(t||TM,g)}function Nu(u,t,o){var p=this.cache,g=o.allocateTextureUnit();p[0]!==g&&(u.uniform1i(this.addr,g),p[0]=g),o.setTexture3D(t||_M,g)}function Jl(u,t,o){var p=this.cache,g=o.allocateTextureUnit();p[0]!==g&&(u.uniform1i(this.addr,g),p[0]=g),o.safeSetTextureCube(t||Ab,g)}function Pv(u,t){var o=this.cache;o[0]!==t&&(u.uniform1i(this.addr,t),o[0]=t)}function Tf(u,t){var o=this.cache;Nm(o,t)||(u.uniform2iv(this.addr,t),Rp(o,t))}function td(u,t){var o=this.cache;Nm(o,t)||(u.uniform3iv(this.addr,t),Rp(o,t))}function rg(u,t){var o=this.cache;Nm(o,t)||(u.uniform4iv(this.addr,t),Rp(o,t))}function MC(u,t){var o=this.cache;o[0]!==t&&(u.uniform1ui(this.addr,t),o[0]=t)}function $m(u){switch(u){case 5126:return vt;case 35664:return zn;case 35665:return Cr;case 35666:return Jn;case 35674:return $i;case 35675:return vl;case 35676:return wo;case 5124:case 35670:return Pv;case 35667:case 35671:return Tf;case 35668:case 35672:return td;case 35669:case 35673:return rg;case 5125:return MC;case 35678:case 36198:case 36298:case 36306:case 35682:return Fa;case 35679:case 36299:case 36307:return Nu;case 35680:case 36300:case 36308:case 36293:return Jl;case 36289:case 36303:case 36311:case 36292:return ll}}function y1(u,t){u.uniform1fv(this.addr,t)}function t0(u,t){u.uniform1iv(this.addr,t)}function K0(u,t){u.uniform2iv(this.addr,t)}function ZA(u,t){u.uniform3iv(this.addr,t)}function r0(u,t){u.uniform4iv(this.addr,t)}function PS(u,t){t=e0(t,this.size,2),u.uniform2fv(this.addr,t)}function OS(u,t){t=e0(t,this.size,3),u.uniform3fv(this.addr,t)}function RS(u,t){t=e0(t,this.size,4),u.uniform4fv(this.addr,t)}function LS(u,t){t=e0(t,this.size,4),u.uniformMatrix2fv(this.addr,!1,t)}function DS(u,t){t=e0(t,this.size,9),u.uniformMatrix3fv(this.addr,!1,t)}function NS(u,t){t=e0(t,this.size,16),u.uniformMatrix4fv(this.addr,!1,t)}function FS(u,t,o){var p=t.length,g=Ly(o,p);for(u.uniform1iv(this.addr,g),u=0;u!==p;++u)o.safeSetTexture2D(t[u]||Cb,g[u])}function BS(u,t,o){var p=t.length,g=Ly(o,p);for(u.uniform1iv(this.addr,g),u=0;u!==p;++u)o.safeSetTextureCube(t[u]||Ab,g[u])}function jS(u){switch(u){case 5126:return y1;case 35664:return PS;case 35665:return OS;case 35666:return RS;case 35674:return LS;case 35675:return DS;case 35676:return NS;case 5124:case 35670:return t0;case 35667:case 35671:return K0;case 35668:case 35672:return ZA;case 35669:case 35673:return r0;case 35678:case 36198:case 36298:case 36306:case 35682:return FS;case 35680:case 36300:case 36308:case 36293:return BS}}function zS(u,t,o){this.id=u,this.addr=o,this.cache=[],this.setValue=$m(t.type)}function Tw(u,t,o){this.id=u,this.addr=o,this.cache=[],this.size=t.size,this.setValue=jS(t.type)}function _w(u){this.id=u,this.seq=[],this.map={}}function Z0(u,t){this.seq=[],this.map={};for(var o=u.getProgramParameter(t,35718),p=0;p<o;++p){var g=u.getActiveUniform(t,p),b=u.getUniformLocation(t,g.name),_=this,D=g.name,k=D.length;for(K2.lastIndex=0;;){var X=K2.exec(D),$=K2.lastIndex,de=X[1],ge=X[3];if(X[2]==="]"&&(de|=0),ge===void 0||ge==="["&&$+2===k){D=_,g=ge===void 0?new zS(de,g,b):new Tw(de,g,b),D.seq.push(g),D.map[g.id]=g;break}else ge=_.map[de],ge===void 0&&(ge=new _w(de),de=_,_=ge,de.seq.push(_),de.map[_.id]=_),_=ge}}}function Iw(u,t,o){return t=u.createShader(t),u.shaderSource(t,o),u.compileShader(t),t}function Pw(u){switch(u){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:throw Error("unsupported encoding: "+u)}}function Ow(u,t,o){var p=u.getShaderParameter(t,35713),g=u.getShaderInfoLog(t).trim();if(p&&g==="")return"";for(u=u.getShaderSource(t).split(`
`),t=0;t<u.length;t++)u[t]=t+1+": "+u[t];return u=u.join(`
`),"THREE.WebGLShader: gl.getShaderInfoLog() "+o+`
`+g+u}function Cx(u,t){return t=Pw(t),"vec4 "+u+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function US(u,t){return t=Pw(t),"vec4 "+u+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function kS(u,t){switch(t){case 1:t="Linear";break;case 2:t="Reinhard";break;case 3:t="Uncharted2";break;case 4:t="OptimizedCineon";break;case 5:t="ACESFilmic";break;default:throw Error("unsupported toneMapping: "+t)}return"vec3 "+u+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function HS(u){var t=[],o;for(o in u){var p=u[o];p!==!1&&t.push("#define "+o+" "+p)}return t.join(`
`)}function Ax(u){return u!==""}function Rw(u,t){return u.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Lw(u,t){return u.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}function JA(u,t){if(u=nu[t],u===void 0)throw Error("Can not resolve #include <"+t+">");return u.replace(Z2,JA)}function Dw(u,t,o,p){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),QA(u,t,o,p)}function QA(u,t,o,p){for(u="",t=parseInt(t);t<parseInt(o);t++)u+=p.replace(/\[ i \]/g,"[ "+t+" ]").replace(/UNROLLED_LOOP_INDEX/g,t);return u}function Nw(u){var t="precision "+u.precision+` float;
precision `+u.precision+" int;";return u.precision==="highp"?t+=`
#define HIGH_PRECISION`:u.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:u.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function VS(u){var t="SHADOWMAP_TYPE_BASIC";return u.shadowMapType===1?t="SHADOWMAP_TYPE_PCF":u.shadowMapType===2?t="SHADOWMAP_TYPE_PCF_SOFT":u.shadowMapType===3&&(t="SHADOWMAP_TYPE_VSM"),t}function WS(u){var t="ENVMAP_TYPE_CUBE";if(u.envMap)switch(u.envMapMode){case 301:case 302:t="ENVMAP_TYPE_CUBE";break;case 306:case 307:t="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:t="ENVMAP_TYPE_EQUIREC";break;case 305:t="ENVMAP_TYPE_SPHERE"}return t}function GS(u){var t="ENVMAP_MODE_REFLECTION";if(u.envMap)switch(u.envMapMode){case 302:case 304:t="ENVMAP_MODE_REFRACTION"}return t}function YS(u){var t="ENVMAP_BLENDING_NONE";if(u.envMap)switch(u.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}function XS(u,t,o){var p=u.getContext(),g=o.defines,b=o.vertexShader,_=o.fragmentShader,D=VS(o),k=WS(o),X=GS(o),$=YS(o),de=0<u.gammaFactor?u.gammaFactor:1,ge=o.isWebGL2?"":[o.extensionDerivatives||o.envMapCubeUV||o.bumpMap||o.tangentSpaceNormalMap||o.clearcoatNormalMap||o.flatShading||o.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(o.extensionFragDepth||o.logarithmicDepthBuffer)&&o.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",o.extensionDrawBuffers&&o.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(o.extensionShaderTextureLOD||o.envMap)&&o.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ax).join(`
`),me=HS(g),Ee=p.createProgram();o.isRawShaderMaterial?(g=[me].filter(Ax).join(`
`),0<g.length&&(g+=`
`),D=[ge,me].filter(Ax).join(`
`),0<D.length&&(D+=`
`)):(g=[Nw(o),"#define SHADER_NAME "+o.shaderName,me,o.instancing?"#define USE_INSTANCING":"",o.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+de,"#define MAX_BONES "+o.maxBones,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp2?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+X:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.normalMap&&o.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",o.clearcoatMap?"#define USE_CLEARCOATMAP":"",o.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",o.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexTangents?"#define USE_TANGENT":"",o.vertexColors?"#define USE_COLOR":"",o.vertexUvs?"#define USE_UV":"",o.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&o.flatShading===!1?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+D:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&o.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Ax).join(`
`),D=[ge,Nw(o),"#define SHADER_NAME "+o.shaderName,me,o.alphaTest?"#define ALPHATEST "+o.alphaTest+(o.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+de,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp2?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.matcap?"#define USE_MATCAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+k:"",o.envMap?"#define "+X:"",o.envMap?"#define "+$:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.normalMap&&o.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",o.clearcoatMap?"#define USE_CLEARCOATMAP":"",o.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",o.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.sheen?"#define USE_SHEEN":"",o.vertexTangents?"#define USE_TANGENT":"",o.vertexColors?"#define USE_COLOR":"",o.vertexUvs?"#define USE_UV":"",o.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+D:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&o.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(o.extensionShaderTextureLOD||o.envMap)&&o.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",o.toneMapping!==0?"#define TONE_MAPPING":"",o.toneMapping!==0?nu.tonemapping_pars_fragment:"",o.toneMapping!==0?kS("toneMapping",o.toneMapping):"",o.dithering?"#define DITHERING":"",o.outputEncoding||o.mapEncoding||o.matcapEncoding||o.envMapEncoding||o.emissiveMapEncoding||o.lightMapEncoding?nu.encodings_pars_fragment:"",o.mapEncoding?Cx("mapTexelToLinear",o.mapEncoding):"",o.matcapEncoding?Cx("matcapTexelToLinear",o.matcapEncoding):"",o.envMapEncoding?Cx("envMapTexelToLinear",o.envMapEncoding):"",o.emissiveMapEncoding?Cx("emissiveMapTexelToLinear",o.emissiveMapEncoding):"",o.lightMapEncoding?Cx("lightMapTexelToLinear",o.lightMapEncoding):"",o.outputEncoding?US("linearToOutputTexel",o.outputEncoding):"",o.depthPacking?"#define DEPTH_PACKING "+o.depthPacking:"",`
`].filter(Ax).join(`
`)),b=b.replace(Z2,JA),b=Rw(b,o),b=Lw(b,o),_=_.replace(Z2,JA),_=Rw(_,o),_=Lw(_,o),b=b.replace(_b,QA).replace(Tb,Dw),_=_.replace(_b,QA).replace(Tb,Dw),o.isWebGL2&&!o.isRawShaderMaterial&&(k=!1,X=/^\s*#version\s+300\s+es\s*\n/,o.isShaderMaterial&&b.match(X)!==null&&_.match(X)!==null&&(k=!0,b=b.replace(X,""),_=_.replace(X,"")),g=`#version 300 es

#define attribute in
#define varying out
#define texture2D texture
`+g,D=[`#version 300 es

#define varying in`,k?"":"out highp vec4 pc_fragColor;",k?"":"#define gl_FragColor pc_fragColor",`#define gl_FragDepthEXT gl_FragDepth
#define texture2D texture
#define textureCube texture
#define texture2DProj textureProj
#define texture2DLodEXT textureLod
#define texture2DProjLodEXT textureProjLod
#define textureCubeLodEXT textureLod
#define texture2DGradEXT textureGrad
#define texture2DProjGradEXT textureProjGrad
#define textureCubeGradEXT textureGrad`].join(`
`)+`
`+D),_=D+_,b=Iw(p,35633,g+b),_=Iw(p,35632,_),p.attachShader(Ee,b),p.attachShader(Ee,_),o.index0AttributeName!==void 0?p.bindAttribLocation(Ee,0,o.index0AttributeName):o.morphTargets===!0&&p.bindAttribLocation(Ee,0,"position"),p.linkProgram(Ee),u.debug.checkShaderErrors&&(u=p.getProgramInfoLog(Ee).trim(),k=p.getShaderInfoLog(b).trim(),X=p.getShaderInfoLog(_).trim(),de=$=!0,p.getProgramParameter(Ee,35714)===!1?($=!1,ge=Ow(p,b,"vertex"),me=Ow(p,_,"fragment"),console.error("THREE.WebGLProgram: shader error: ",p.getError(),"35715",p.getProgramParameter(Ee,35715),"gl.getProgramInfoLog",u,ge,me)):u!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",u):(k===""||X==="")&&(de=!1),de&&(this.diagnostics={runnable:$,programLog:u,vertexShader:{log:k,prefix:g},fragmentShader:{log:X,prefix:D}})),p.deleteShader(b),p.deleteShader(_);var ke;this.getUniforms=function(){return ke===void 0&&(ke=new Z0(p,Ee)),ke};var xt;return this.getAttributes=function(){if(xt===void 0){for(var qt={},Qt=p.getProgramParameter(Ee,35721),er=0;er<Qt;er++){var dr=p.getActiveAttrib(Ee,er).name;qt[dr]=p.getAttribLocation(Ee,dr)}xt=qt}return xt},this.destroy=function(){p.deleteProgram(Ee),this.program=void 0},this.name=o.shaderName,this.id=IM++,this.cacheKey=t,this.usedTimes=1,this.program=Ee,this.vertexShader=b,this.fragmentShader=_,this}function KS(u,t,o){function p(me){if(me)me.isTexture?Ee=me.encoding:me.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),Ee=me.texture.encoding);else var Ee=3e3;return Ee}var g=[],b=o.isWebGL2,_=o.logarithmicDepthBuffer,D=o.floatVertexTextures,k=o.precision,X=o.maxVertexUniforms,$=o.vertexTextures,de={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},ge="precision isWebGL2 supportsVertexTextures outputEncoding instancing map mapEncoding matcap matcapEncoding envMap envMapMode envMapEncoding envMapCubeUV lightMap lightMapEncoding aoMap emissiveMap emissiveMapEncoding bumpMap normalMap objectSpaceNormalMap tangentSpaceNormalMap clearcoatMap clearcoatRoughnessMap clearcoatNormalMap displacementMap specularMap roughnessMap metalnessMap gradientMap alphaMap combine vertexColors vertexTangents vertexUvs uvsVertexOnly fog useFog fogExp2 flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights numRectAreaLights numDirLightShadows numPointLightShadows numSpotLightShadows shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes numClipIntersection depthPacking dithering sheen".split(" ");this.getParameters=function(me,Ee,ke,xt,qt,Qt,er){var dr=xt.fog;xt=me.isMeshStandardMaterial?xt.environment:null,xt=me.envMap||xt;var gn=de[me.type];if(er.isSkinnedMesh){var Zr=er.skeleton.bones;if(D)Zr=1024;else{var lr=Math.min(Math.floor((X-20)/4),Zr.length);lr<Zr.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+Zr.length+" bones. This GPU supports "+lr+"."),Zr=0):Zr=lr}}else Zr=0;me.precision!==null&&(k=o.getMaxPrecision(me.precision),k!==me.precision&&console.warn("THREE.WebGLProgram.getParameters:",me.precision,"not supported, using",k,"instead.")),gn?(lr=Fg[gn],lr={name:me.type,uniforms:xb.clone(lr.uniforms),vertexShader:lr.vertexShader,fragmentShader:lr.fragmentShader}):lr={name:me.type,uniforms:me.uniforms,vertexShader:me.vertexShader,fragmentShader:me.fragmentShader},me.onBeforeCompile(lr,u);var ii=u.getRenderTarget();return{isWebGL2:b,shaderID:gn,shaderName:lr.name,uniforms:lr.uniforms,vertexShader:lr.vertexShader,fragmentShader:lr.fragmentShader,defines:me.defines,isRawShaderMaterial:me.isRawShaderMaterial,isShaderMaterial:me.isShaderMaterial,precision:k,instancing:er.isInstancedMesh===!0,supportsVertexTextures:$,outputEncoding:ii!==null?p(ii.texture):u.outputEncoding,map:!!me.map,mapEncoding:p(me.map),matcap:!!me.matcap,matcapEncoding:p(me.matcap),envMap:!!xt,envMapMode:xt&&xt.mapping,envMapEncoding:p(xt),envMapCubeUV:!!xt&&(xt.mapping===306||xt.mapping===307),lightMap:!!me.lightMap,lightMapEncoding:p(me.lightMap),aoMap:!!me.aoMap,emissiveMap:!!me.emissiveMap,emissiveMapEncoding:p(me.emissiveMap),bumpMap:!!me.bumpMap,normalMap:!!me.normalMap,objectSpaceNormalMap:me.normalMapType===1,tangentSpaceNormalMap:me.normalMapType===0,clearcoatMap:!!me.clearcoatMap,clearcoatRoughnessMap:!!me.clearcoatRoughnessMap,clearcoatNormalMap:!!me.clearcoatNormalMap,displacementMap:!!me.displacementMap,roughnessMap:!!me.roughnessMap,metalnessMap:!!me.metalnessMap,specularMap:!!me.specularMap,alphaMap:!!me.alphaMap,gradientMap:!!me.gradientMap,sheen:!!me.sheen,combine:me.combine,vertexTangents:me.normalMap&&me.vertexTangents,vertexColors:me.vertexColors,vertexUvs:!!me.map||!!me.bumpMap||!!me.normalMap||!!me.specularMap||!!me.alphaMap||!!me.emissiveMap||!!me.roughnessMap||!!me.metalnessMap||!!me.clearcoatMap||!!me.clearcoatRoughnessMap||!!me.clearcoatNormalMap||!!me.displacementMap,uvsVertexOnly:!(me.map||me.bumpMap||me.normalMap||me.specularMap||me.alphaMap||me.emissiveMap||me.roughnessMap||me.metalnessMap||me.clearcoatNormalMap)&&!!me.displacementMap,fog:!!dr,useFog:me.fog,fogExp2:dr&&dr.isFogExp2,flatShading:me.flatShading,sizeAttenuation:me.sizeAttenuation,logarithmicDepthBuffer:_,skinning:me.skinning&&0<Zr,maxBones:Zr,useVertexTexture:D,morphTargets:me.morphTargets,morphNormals:me.morphNormals,maxMorphTargets:u.maxMorphTargets,maxMorphNormals:u.maxMorphNormals,numDirLights:Ee.directional.length,numPointLights:Ee.point.length,numSpotLights:Ee.spot.length,numRectAreaLights:Ee.rectArea.length,numHemiLights:Ee.hemi.length,numDirLightShadows:Ee.directionalShadowMap.length,numPointLightShadows:Ee.pointShadowMap.length,numSpotLightShadows:Ee.spotShadowMap.length,numClippingPlanes:qt,numClipIntersection:Qt,dithering:me.dithering,shadowMapEnabled:u.shadowMap.enabled&&0<ke.length,shadowMapType:u.shadowMap.type,toneMapping:me.toneMapped?u.toneMapping:0,physicallyCorrectLights:u.physicallyCorrectLights,premultipliedAlpha:me.premultipliedAlpha,alphaTest:me.alphaTest,doubleSided:me.side===2,flipSided:me.side===1,depthPacking:me.depthPacking!==void 0?me.depthPacking:!1,index0AttributeName:me.index0AttributeName,extensionDerivatives:me.extensions&&me.extensions.derivatives,extensionFragDepth:me.extensions&&me.extensions.fragDepth,extensionDrawBuffers:me.extensions&&me.extensions.drawBuffers,extensionShaderTextureLOD:me.extensions&&me.extensions.shaderTextureLOD,rendererExtensionFragDepth:b||t.get("EXT_frag_depth")!==null,rendererExtensionDrawBuffers:b||t.get("WEBGL_draw_buffers")!==null,rendererExtensionShaderTextureLod:b||t.get("EXT_shader_texture_lod")!==null,onBeforeCompile:me.onBeforeCompile}},this.getProgramCacheKey=function(me){var Ee=[];if(me.shaderID?Ee.push(me.shaderID):(Ee.push(me.fragmentShader),Ee.push(me.vertexShader)),me.defines!==void 0)for(var ke in me.defines)Ee.push(ke),Ee.push(me.defines[ke]);if(me.isRawShaderMaterial===void 0){for(ke=0;ke<ge.length;ke++)Ee.push(me[ge[ke]]);Ee.push(u.outputEncoding),Ee.push(u.gammaFactor)}return Ee.push(me.onBeforeCompile.toString()),Ee.join()},this.acquireProgram=function(me,Ee){for(var ke,xt=0,qt=g.length;xt<qt;xt++){var Qt=g[xt];if(Qt.cacheKey===Ee){ke=Qt,++ke.usedTimes;break}}return ke===void 0&&(ke=new XS(u,Ee,me),g.push(ke)),ke},this.releaseProgram=function(me){if(--me.usedTimes==0){var Ee=g.indexOf(me);g[Ee]=g[g.length-1],g.pop(),me.destroy()}},this.programs=g}function ZS(){var u=new pl;return{get:function(o){var p=u.get(o);return p===void 0&&(p={},u.set(o,p)),p},remove:function(o){u.delete(o)},update:function(o,p,g){u.get(o)[p]=g},dispose:function(){u=new pl}}}function JS(u,t){return u.groupOrder!==t.groupOrder?u.groupOrder-t.groupOrder:u.renderOrder!==t.renderOrder?u.renderOrder-t.renderOrder:u.program!==t.program?u.program.id-t.program.id:u.material.id!==t.material.id?u.material.id-t.material.id:u.z!==t.z?u.z-t.z:u.id-t.id}function QS(u,t){return u.groupOrder!==t.groupOrder?u.groupOrder-t.groupOrder:u.renderOrder!==t.renderOrder?u.renderOrder-t.renderOrder:u.z!==t.z?t.z-u.z:u.id-t.id}function Fw(){function u(_,D,k,X,$,de){var ge=t[o];return ge===void 0?(ge={id:_.id,object:_,geometry:D,material:k,program:k.program||b,groupOrder:X,renderOrder:_.renderOrder,z:$,group:de},t[o]=ge):(ge.id=_.id,ge.object=_,ge.geometry=D,ge.material=k,ge.program=k.program||b,ge.groupOrder=X,ge.renderOrder=_.renderOrder,ge.z=$,ge.group=de),o++,ge}var t=[],o=0,p=[],g=[],b={id:-1};return{opaque:p,transparent:g,init:function(){o=0,p.length=0,g.length=0},push:function(D,k,X,$,de,ge){D=u(D,k,X,$,de,ge),(X.transparent===!0?g:p).push(D)},unshift:function(D,k,X,$,de,ge){D=u(D,k,X,$,de,ge),(X.transparent===!0?g:p).unshift(D)},finish:function(){for(var D=o,k=t.length;D<k;D++){var X=t[D];if(X.id===null)break;X.id=null,X.object=null,X.geometry=null,X.material=null,X.program=null,X.group=null}},sort:function(D,k){1<p.length&&p.sort(D||JS),1<g.length&&g.sort(k||QS)}}}function qS(){function u(o){o=o.target,o.removeEventListener("dispose",u),t.delete(o)}var t=new pl;return{get:function(p,g){var b=t.get(p);if(b===void 0){var _=new Fw;t.set(p,new pl),t.get(p).set(g,_),p.addEventListener("dispose",u)}else _=b.get(g),_===void 0&&(_=new Fw,b.set(g,_));return _},dispose:function(){t=new pl}}}function $S(){var u={};return{get:function(o){if(u[o.id]!==void 0)return u[o.id];switch(o.type){case"DirectionalLight":var p={direction:new W,color:new wt};break;case"SpotLight":p={position:new W,direction:new W,color:new wt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":p={position:new W,color:new wt,distance:0,decay:0};break;case"HemisphereLight":p={direction:new W,skyColor:new wt,groundColor:new wt};break;case"RectAreaLight":p={color:new wt,position:new W,halfWidth:new W,halfHeight:new W}}return u[o.id]=p}}}function eM(){var u={};return{get:function(o){if(u[o.id]!==void 0)return u[o.id];switch(o.type){case"DirectionalLight":var p={shadowBias:0,shadowRadius:1,shadowMapSize:new c};break;case"SpotLight":p={shadowBias:0,shadowRadius:1,shadowMapSize:new c};break;case"PointLight":p={shadowBias:0,shadowRadius:1,shadowMapSize:new c,shadowCameraNear:1,shadowCameraFar:1e3}}return u[o.id]=p}}}function tM(u,t){return(t.castShadow?1:0)-(u.castShadow?1:0)}function rM(){for(var u=new $S,t=eM(),o={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},p=0;9>p;p++)o.probe.push(new W);var g=new W,b=new ae,_=new ae;return{setup:function(k,X,$){for(var de=0,ge=0,me=0,Ee=0;9>Ee;Ee++)o.probe[Ee].set(0,0,0);var ke=X=0,xt=0,qt=0,Qt=0,er=0,dr=0,gn=0;$=$.matrixWorldInverse,k.sort(tM),Ee=0;for(var Zr=k.length;Ee<Zr;Ee++){var lr=k[Ee],ii=lr.color,Rr=lr.intensity,ji=lr.distance,ro=lr.shadow&&lr.shadow.map?lr.shadow.map.texture:null;if(lr.isAmbientLight)de+=ii.r*Rr,ge+=ii.g*Rr,me+=ii.b*Rr;else if(lr.isLightProbe)for(ro=0;9>ro;ro++)o.probe[ro].addScaledVector(lr.sh.coefficients[ro],Rr);else if(lr.isDirectionalLight){var oi=u.get(lr);oi.color.copy(lr.color).multiplyScalar(lr.intensity),oi.direction.setFromMatrixPosition(lr.matrixWorld),g.setFromMatrixPosition(lr.target.matrixWorld),oi.direction.sub(g),oi.direction.transformDirection($),lr.castShadow&&(Rr=lr.shadow,ii=t.get(lr),ii.shadowBias=Rr.bias,ii.shadowRadius=Rr.radius,ii.shadowMapSize=Rr.mapSize,o.directionalShadow[X]=ii,o.directionalShadowMap[X]=ro,o.directionalShadowMatrix[X]=lr.shadow.matrix,er++),o.directional[X]=oi,X++}else lr.isSpotLight?(oi=u.get(lr),oi.position.setFromMatrixPosition(lr.matrixWorld),oi.position.applyMatrix4($),oi.color.copy(ii).multiplyScalar(Rr),oi.distance=ji,oi.direction.setFromMatrixPosition(lr.matrixWorld),g.setFromMatrixPosition(lr.target.matrixWorld),oi.direction.sub(g),oi.direction.transformDirection($),oi.coneCos=Math.cos(lr.angle),oi.penumbraCos=Math.cos(lr.angle*(1-lr.penumbra)),oi.decay=lr.decay,lr.castShadow&&(Rr=lr.shadow,ii=t.get(lr),ii.shadowBias=Rr.bias,ii.shadowRadius=Rr.radius,ii.shadowMapSize=Rr.mapSize,o.spotShadow[xt]=ii,o.spotShadowMap[xt]=ro,o.spotShadowMatrix[xt]=lr.shadow.matrix,gn++),o.spot[xt]=oi,xt++):lr.isRectAreaLight?(oi=u.get(lr),oi.color.copy(ii).multiplyScalar(Rr),oi.position.setFromMatrixPosition(lr.matrixWorld),oi.position.applyMatrix4($),_.identity(),b.copy(lr.matrixWorld),b.premultiply($),_.extractRotation(b),oi.halfWidth.set(.5*lr.width,0,0),oi.halfHeight.set(0,.5*lr.height,0),oi.halfWidth.applyMatrix4(_),oi.halfHeight.applyMatrix4(_),o.rectArea[qt]=oi,qt++):lr.isPointLight?(oi=u.get(lr),oi.position.setFromMatrixPosition(lr.matrixWorld),oi.position.applyMatrix4($),oi.color.copy(lr.color).multiplyScalar(lr.intensity),oi.distance=lr.distance,oi.decay=lr.decay,lr.castShadow&&(Rr=lr.shadow,ii=t.get(lr),ii.shadowBias=Rr.bias,ii.shadowRadius=Rr.radius,ii.shadowMapSize=Rr.mapSize,ii.shadowCameraNear=Rr.camera.near,ii.shadowCameraFar=Rr.camera.far,o.pointShadow[ke]=ii,o.pointShadowMap[ke]=ro,o.pointShadowMatrix[ke]=lr.shadow.matrix,dr++),o.point[ke]=oi,ke++):lr.isHemisphereLight&&(oi=u.get(lr),oi.direction.setFromMatrixPosition(lr.matrixWorld),oi.direction.transformDirection($),oi.direction.normalize(),oi.skyColor.copy(lr.color).multiplyScalar(Rr),oi.groundColor.copy(lr.groundColor).multiplyScalar(Rr),o.hemi[Qt]=oi,Qt++)}o.ambient[0]=de,o.ambient[1]=ge,o.ambient[2]=me,k=o.hash,(k.directionalLength!==X||k.pointLength!==ke||k.spotLength!==xt||k.rectAreaLength!==qt||k.hemiLength!==Qt||k.numDirectionalShadows!==er||k.numPointShadows!==dr||k.numSpotShadows!==gn)&&(o.directional.length=X,o.spot.length=xt,o.rectArea.length=qt,o.point.length=ke,o.hemi.length=Qt,o.directionalShadow.length=er,o.directionalShadowMap.length=er,o.pointShadow.length=dr,o.pointShadowMap.length=dr,o.spotShadow.length=gn,o.spotShadowMap.length=gn,o.directionalShadowMatrix.length=er,o.pointShadowMatrix.length=dr,o.spotShadowMatrix.length=gn,k.directionalLength=X,k.pointLength=ke,k.spotLength=xt,k.rectAreaLength=qt,k.hemiLength=Qt,k.numDirectionalShadows=er,k.numPointShadows=dr,k.numSpotShadows=gn,o.version=PM++)},state:o}}function Bw(){var u=new rM,t=[],o=[];return{init:function(){t.length=0,o.length=0},state:{lightsArray:t,shadowsArray:o,lights:u},setupLights:function(g){u.setup(t,o,g)},pushLight:function(g){t.push(g)},pushShadow:function(g){o.push(g)}}}function nM(){function u(o){o=o.target,o.removeEventListener("dispose",u),t.delete(o)}var t=new pl;return{get:function(p,g){if(t.has(p)===!1){var b=new Bw;t.set(p,new pl),t.get(p).set(g,b),p.addEventListener("dispose",u)}else t.get(p).has(g)===!1?(b=new Bw,t.get(p).set(g,b)):b=t.get(p).get(g);return b},dispose:function(){t=new pl}}}function J0(u){Pr.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.morphTargets=this.skinning=!1,this.displacementMap=this.alphaMap=this.map=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(u)}function Q0(u){Pr.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new W,this.nearDistance=1,this.farDistance=1e3,this.morphTargets=this.skinning=!1,this.displacementMap=this.alphaMap=this.map=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(u)}function jw(u,t,o){function p(dr,gn,Zr){Zr=dr<<0|gn<<1|Zr<<2;var lr=de[Zr];return lr===void 0&&(lr=new J0({depthPacking:3201,morphTargets:dr,skinning:gn}),de[Zr]=lr),lr}function g(dr,gn,Zr){Zr=dr<<0|gn<<1|Zr<<2;var lr=ge[Zr];return lr===void 0&&(lr=new Q0({morphTargets:dr,skinning:gn}),ge[Zr]=lr),lr}function b(dr,gn,Zr,lr,ii,Rr,ji){var ro=p,oi=dr.customDepthMaterial;return lr.isPointLight===!0&&(ro=g,oi=dr.customDistanceMaterial),oi===void 0?(oi=!1,Zr.morphTargets===!0&&(oi=gn.morphAttributes&&gn.morphAttributes.position&&0<gn.morphAttributes.position.length),gn=!1,dr.isSkinnedMesh===!0&&(Zr.skinning===!0?gn=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",dr)),dr=ro(oi,gn,dr.isInstancedMesh===!0)):dr=oi,u.localClippingEnabled&&Zr.clipShadows===!0&&Zr.clippingPlanes.length!==0&&(oi=dr.uuid,ro=Zr.uuid,gn=me[oi],gn===void 0&&(gn={},me[oi]=gn),oi=gn[ro],oi===void 0&&(oi=dr.clone(),gn[ro]=oi),dr=oi),dr.visible=Zr.visible,dr.wireframe=Zr.wireframe,dr.side=ji===3?Zr.shadowSide!==null?Zr.shadowSide:Zr.side:Zr.shadowSide!==null?Zr.shadowSide:Ee[Zr.side],dr.clipShadows=Zr.clipShadows,dr.clippingPlanes=Zr.clippingPlanes,dr.clipIntersection=Zr.clipIntersection,dr.wireframeLinewidth=Zr.wireframeLinewidth,dr.linewidth=Zr.linewidth,lr.isPointLight===!0&&dr.isMeshDistanceMaterial===!0&&(dr.referencePosition.setFromMatrixPosition(lr.matrixWorld),dr.nearDistance=ii,dr.farDistance=Rr),dr}function _(dr,gn,Zr,lr,ii){if(dr.visible!==!1){if(dr.layers.test(gn.layers)&&(dr.isMesh||dr.isLine||dr.isPoints)&&(dr.castShadow||dr.receiveShadow&&ii===3)&&(!dr.frustumCulled||D.intersectsObject(dr))){dr.modelViewMatrix.multiplyMatrices(Zr.matrixWorldInverse,dr.matrixWorld);var Rr=t.update(dr),ji=dr.material;if(Array.isArray(ji))for(var ro=Rr.groups,oi=0,Ba=ro.length;oi<Ba;oi++){var lo=ro[oi],Ea=ji[lo.materialIndex];Ea&&Ea.visible&&(Ea=b(dr,Rr,Ea,lr,Zr.near,Zr.far,ii),u.renderBufferDirect(Zr,null,Rr,Ea,dr,lo))}else ji.visible&&(Ea=b(dr,Rr,ji,lr,Zr.near,Zr.far,ii),u.renderBufferDirect(Zr,null,Rr,Ea,dr,null))}for(dr=dr.children,Rr=0,ji=dr.length;Rr<ji;Rr++)_(dr[Rr],gn,Zr,lr,ii)}}var D=new Ra,k=new c,X=new c,$=new w,de=[],ge=[],me={},Ee={0:1,1:0,2:2},ke=new li({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:.125},uniforms:{shadow_pass:{value:null},resolution:{value:new c},radius:{value:4}},vertexShader:`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragmentShader:`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
  float mean = 0.0;
  float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );
  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
    #ifdef HORIZONAL_PASS
      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
      mean += distribution.x;
      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
    #else
      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );
      mean += depth;
      squared_mean += depth * depth;
    #endif
  }
  mean = mean * HALF_SAMPLE_RATE;
  squared_mean = squared_mean * HALF_SAMPLE_RATE;
  float std_dev = sqrt( squared_mean - mean * mean );
  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`}),xt=ke.clone();xt.defines.HORIZONAL_PASS=1;var qt=new Kt;qt.setAttribute("position",new En(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var Qt=new Hr(qt,ke),er=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(dr,gn,Zr){if(er.enabled!==!1&&(er.autoUpdate!==!1||er.needsUpdate!==!1)&&dr.length!==0){var lr=u.getRenderTarget(),ii=u.getActiveCubeFace(),Rr=u.getActiveMipmapLevel(),ji=u.state;ji.setBlending(0),ji.buffers.color.setClear(1,1,1,1),ji.buffers.depth.setTest(!0),ji.setScissorTest(!1);for(var ro=0,oi=dr.length;ro<oi;ro++){var Ba=dr[ro],lo=Ba.shadow;if(lo===void 0)console.warn("THREE.WebGLShadowMap:",Ba,"has no shadow.");else{k.copy(lo.mapSize);var Ea=lo.getFrameExtents();k.multiply(Ea),X.copy(lo.mapSize),(k.x>o||k.y>o)&&(k.x>o&&(X.x=Math.floor(o/Ea.x),k.x=X.x*Ea.x,lo.mapSize.x=X.x),k.y>o&&(X.y=Math.floor(o/Ea.y),k.y=X.y*Ea.y,lo.mapSize.y=X.y)),lo.map!==null||lo.isPointLightShadow||this.type!==3||(Ea={minFilter:1006,magFilter:1006,format:1023},lo.map=new I(k.x,k.y,Ea),lo.map.texture.name=Ba.name+".shadowMap",lo.mapPass=new I(k.x,k.y,Ea),lo.camera.updateProjectionMatrix()),lo.map===null&&(Ea={minFilter:1003,magFilter:1003,format:1023},lo.map=new I(k.x,k.y,Ea),lo.map.texture.name=Ba.name+".shadowMap",lo.camera.updateProjectionMatrix()),u.setRenderTarget(lo.map),u.clear(),Ea=lo.getViewportCount();for(var gl=0;gl<Ea;gl++){var Ua=lo.getViewport(gl);$.set(X.x*Ua.x,X.y*Ua.y,X.x*Ua.z,X.y*Ua.w),ji.viewport($),lo.updateMatrices(Ba,gl),D=lo.getFrustum(),_(gn,Zr,lo.camera,Ba,this.type)}lo.isPointLightShadow||this.type!==3||(Ba=lo,lo=Zr,Ea=t.update(Qt),ke.uniforms.shadow_pass.value=Ba.map.texture,ke.uniforms.resolution.value=Ba.mapSize,ke.uniforms.radius.value=Ba.radius,u.setRenderTarget(Ba.mapPass),u.clear(),u.renderBufferDirect(lo,null,Ea,ke,Qt,null),xt.uniforms.shadow_pass.value=Ba.mapPass.texture,xt.uniforms.resolution.value=Ba.mapSize,xt.uniforms.radius.value=Ba.radius,u.setRenderTarget(Ba.map),u.clear(),u.renderBufferDirect(lo,null,Ea,xt,Qt,null))}}er.needsUpdate=!1,u.setRenderTarget(lr,ii,Rr)}}}function iM(u,t,o){function p(hn,Br,Bo){var jo=new Uint8Array(4),Rs=u.createTexture();for(u.bindTexture(hn,Rs),u.texParameteri(hn,10241,9728),u.texParameteri(hn,10240,9728),hn=0;hn<Bo;hn++)u.texImage2D(Br+hn,0,6408,1,1,0,6408,5121,jo);return Rs}function g(hn,Br){xt[hn]=1,qt[hn]===0&&(u.enableVertexAttribArray(hn),qt[hn]=1),Qt[hn]!==Br&&((ge?u:t.get("ANGLE_instanced_arrays"))[ge?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](hn,Br),Qt[hn]=Br)}function b(hn){er[hn]!==!0&&(u.enable(hn),er[hn]=!0)}function _(hn){er[hn]!==!1&&(u.disable(hn),er[hn]=!1)}function D(hn,Br,Bo,jo,Rs,gi,uo,js){if(hn===0)gn&&(_(3042),gn=!1);else if(gn||(b(3042),gn=!0),hn!==5){if(hn!==Zr||js!==Ba){if((lr!==100||ji!==100)&&(u.blendEquation(32774),ji=lr=100),js)switch(hn){case 1:u.blendFuncSeparate(1,771,1,771);break;case 2:u.blendFunc(1,1);break;case 3:u.blendFuncSeparate(0,0,769,771);break;case 4:u.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",hn)}else switch(hn){case 1:u.blendFuncSeparate(770,771,1,771);break;case 2:u.blendFunc(770,1);break;case 3:u.blendFunc(0,769);break;case 4:u.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",hn)}oi=ro=Rr=ii=null,Zr=hn,Ba=js}}else Rs=Rs||Br,gi=gi||Bo,uo=uo||jo,(Br!==lr||Rs!==ji)&&(u.blendEquationSeparate(bo[Br],bo[Rs]),lr=Br,ji=Rs),(Bo!==ii||jo!==Rr||gi!==ro||uo!==oi)&&(u.blendFuncSeparate(Zn[Bo],Zn[jo],Zn[gi],Zn[uo]),ii=Bo,Rr=jo,ro=gi,oi=uo),Zr=hn,Ba=null}function k(hn){lo!==hn&&(hn?u.frontFace(2304):u.frontFace(2305),lo=hn)}function X(hn){hn!==0?(b(2884),hn!==Ea&&(hn===1?u.cullFace(1029):hn===2?u.cullFace(1028):u.cullFace(1032))):_(2884),Ea=hn}function $(hn,Br,Bo){hn?(b(32823),(Ua!==Br||Ql!==Bo)&&(u.polygonOffset(Br,Bo),Ua=Br,Ql=Bo)):_(32823)}function de(hn){hn===void 0&&(hn=33984+Sl-1),Yc!==hn&&(u.activeTexture(hn),Yc=hn)}var ge=o.isWebGL2,me=new function(){var hn=!1,Br=new w,Bo=null,jo=new w(0,0,0,0);return{setMask:function(gi){Bo===gi||hn||(u.colorMask(gi,gi,gi,gi),Bo=gi)},setLocked:function(gi){hn=gi},setClear:function(gi,uo,js,Xc,iu){iu===!0&&(gi*=Xc,uo*=Xc,js*=Xc),Br.set(gi,uo,js,Xc),jo.equals(Br)===!1&&(u.clearColor(gi,uo,js,Xc),jo.copy(Br))},reset:function(){hn=!1,Bo=null,jo.set(-1,0,0,0)}}},Ee=new function(){var hn=!1,Br=null,Bo=null,jo=null;return{setTest:function(gi){gi?b(2929):_(2929)},setMask:function(gi){Br===gi||hn||(u.depthMask(gi),Br=gi)},setFunc:function(gi){if(Bo!==gi){if(gi)switch(gi){case 0:u.depthFunc(512);break;case 1:u.depthFunc(519);break;case 2:u.depthFunc(513);break;case 3:u.depthFunc(515);break;case 4:u.depthFunc(514);break;case 5:u.depthFunc(518);break;case 6:u.depthFunc(516);break;case 7:u.depthFunc(517);break;default:u.depthFunc(515)}else u.depthFunc(515);Bo=gi}},setLocked:function(gi){hn=gi},setClear:function(gi){jo!==gi&&(u.clearDepth(gi),jo=gi)},reset:function(){hn=!1,jo=Bo=Br=null}}},ke=new function(){var hn=!1,Br=null,Bo=null,jo=null,Rs=null,gi=null,uo=null,js=null,Xc=null;return{setTest:function(Pn){hn||(Pn?b(2960):_(2960))},setMask:function(Pn){Br===Pn||hn||(u.stencilMask(Pn),Br=Pn)},setFunc:function(Pn,xs,Cs){(Bo!==Pn||jo!==xs||Rs!==Cs)&&(u.stencilFunc(Pn,xs,Cs),Bo=Pn,jo=xs,Rs=Cs)},setOp:function(Pn,xs,Cs){(gi!==Pn||uo!==xs||js!==Cs)&&(u.stencilOp(Pn,xs,Cs),gi=Pn,uo=xs,js=Cs)},setLocked:function(Pn){hn=Pn},setClear:function(Pn){Xc!==Pn&&(u.clearStencil(Pn),Xc=Pn)},reset:function(){hn=!1,Xc=js=uo=gi=Rs=jo=Bo=Br=null}}};o=u.getParameter(34921);var xt=new Uint8Array(o),qt=new Uint8Array(o),Qt=new Uint8Array(o),er={},dr=null,gn=null,Zr=null,lr=null,ii=null,Rr=null,ji=null,ro=null,oi=null,Ba=!1,lo=null,Ea=null,gl=null,Ua=null,Ql=null,Sl=u.getParameter(35661),pc=!1;o=0,o=u.getParameter(7938),o.indexOf("WebGL")!==-1?(o=parseFloat(/^WebGL ([0-9])/.exec(o)[1]),pc=1<=o):o.indexOf("OpenGL ES")!==-1&&(o=parseFloat(/^OpenGL ES ([0-9])/.exec(o)[1]),pc=2<=o);var Yc=null,pt={},Ht=new w,vn=new w,ki={};ki[3553]=p(3553,3553,1),ki[34067]=p(34067,34069,6),me.setClear(0,0,0,1),Ee.setClear(1),ke.setClear(0),b(2929),Ee.setFunc(3),k(!1),X(1),b(2884),D(0);var bo={100:32774,101:32778,102:32779};ge?(bo[103]=32775,bo[104]=32776):(o=t.get("EXT_blend_minmax"),o!==null&&(bo[103]=o.MIN_EXT,bo[104]=o.MAX_EXT));var Zn={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};return{buffers:{color:me,depth:Ee,stencil:ke},initAttributes:function(){for(var Br=0,Bo=xt.length;Br<Bo;Br++)xt[Br]=0},enableAttribute:function(Br){g(Br,0)},enableAttributeAndDivisor:g,disableUnusedAttributes:function(){for(var Br=0,Bo=qt.length;Br!==Bo;++Br)qt[Br]!==xt[Br]&&(u.disableVertexAttribArray(Br),qt[Br]=0)},vertexAttribPointer:function(Br,Bo,jo,Rs,gi,uo){ge!==!0||jo!==5124&&jo!==5125?u.vertexAttribPointer(Br,Bo,jo,Rs,gi,uo):u.vertexAttribIPointer(Br,Bo,jo,Rs,gi,uo)},enable:b,disable:_,useProgram:function(Br){return dr!==Br?(u.useProgram(Br),dr=Br,!0):!1},setBlending:D,setMaterial:function(Br,Bo){Br.side===2?_(2884):b(2884);var jo=Br.side===1;Bo&&(jo=!jo),k(jo),Br.blending===1&&Br.transparent===!1?D(0):D(Br.blending,Br.blendEquation,Br.blendSrc,Br.blendDst,Br.blendEquationAlpha,Br.blendSrcAlpha,Br.blendDstAlpha,Br.premultipliedAlpha),Ee.setFunc(Br.depthFunc),Ee.setTest(Br.depthTest),Ee.setMask(Br.depthWrite),me.setMask(Br.colorWrite),Bo=Br.stencilWrite,ke.setTest(Bo),Bo&&(ke.setMask(Br.stencilWriteMask),ke.setFunc(Br.stencilFunc,Br.stencilRef,Br.stencilFuncMask),ke.setOp(Br.stencilFail,Br.stencilZFail,Br.stencilZPass)),$(Br.polygonOffset,Br.polygonOffsetFactor,Br.polygonOffsetUnits)},setFlipSided:k,setCullFace:X,setLineWidth:function(Br){Br!==gl&&(pc&&u.lineWidth(Br),gl=Br)},setPolygonOffset:$,setScissorTest:function(Br){Br?b(3089):_(3089)},activeTexture:de,bindTexture:function(Br,Bo){Yc===null&&de();var jo=pt[Yc];jo===void 0&&(jo={type:void 0,texture:void 0},pt[Yc]=jo),(jo.type!==Br||jo.texture!==Bo)&&(u.bindTexture(Br,Bo||ki[Br]),jo.type=Br,jo.texture=Bo)},unbindTexture:function(){var Br=pt[Yc];Br!==void 0&&Br.type!==void 0&&(u.bindTexture(Br.type,null),Br.type=void 0,Br.texture=void 0)},compressedTexImage2D:function(){try{u.compressedTexImage2D.apply(u,arguments)}catch(Br){console.error("THREE.WebGLState:",Br)}},texImage2D:function(){try{u.texImage2D.apply(u,arguments)}catch(Br){console.error("THREE.WebGLState:",Br)}},texImage3D:function(){try{u.texImage3D.apply(u,arguments)}catch(Br){console.error("THREE.WebGLState:",Br)}},scissor:function(Br){Ht.equals(Br)===!1&&(u.scissor(Br.x,Br.y,Br.z,Br.w),Ht.copy(Br))},viewport:function(Br){vn.equals(Br)===!1&&(u.viewport(Br.x,Br.y,Br.z,Br.w),vn.copy(Br))},reset:function(){for(var Br=0;Br<qt.length;Br++)qt[Br]===1&&(u.disableVertexAttribArray(Br),qt[Br]=0);er={},Yc=null,pt={},Ea=lo=Zr=dr=null,me.reset(),Ee.reset(),ke.reset()}}}function oM(u,t,o,p,g,b,_){function D(pt,Ht){return gl?new OffscreenCanvas(pt,Ht):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function k(pt,Ht,vn,ki){var bo=1;if((pt.width>ki||pt.height>ki)&&(bo=ki/Math.max(pt.width,pt.height)),1>bo||Ht===!0){if(typeof HTMLImageElement!="undefined"&&pt instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&pt instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&pt instanceof ImageBitmap)return ki=Ht?Ll.floorPowerOfTwo:Math.floor,Ht=ki(bo*pt.width),bo=ki(bo*pt.height),Ea===void 0&&(Ea=D(Ht,bo)),vn=vn?D(Ht,bo):Ea,vn.width=Ht,vn.height=bo,vn.getContext("2d").drawImage(pt,0,0,Ht,bo),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+pt.width+"x"+pt.height+") to ("+Ht+"x"+bo+")."),vn;"data"in pt&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+pt.width+"x"+pt.height+").")}return pt}function X(pt){return Ll.isPowerOfTwo(pt.width)&&Ll.isPowerOfTwo(pt.height)}function $(pt,Ht){return pt.generateMipmaps&&Ht&&pt.minFilter!==1003&&pt.minFilter!==1006}function de(pt,Ht,vn,ki){u.generateMipmap(pt),p.get(Ht).__maxMipLevel=Math.log(Math.max(vn,ki))*Math.LOG2E}function ge(pt,Ht,vn){if(Rr===!1)return Ht;if(pt!==null){if(u[pt]!==void 0)return u[pt];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+pt+"'")}return pt=Ht,Ht===6403&&(vn===5126&&(pt=33326),vn===5131&&(pt=33325),vn===5121&&(pt=33321)),Ht===6407&&(vn===5126&&(pt=34837),vn===5131&&(pt=34843),vn===5121&&(pt=32849)),Ht===6408&&(vn===5126&&(pt=34836),vn===5131&&(pt=34842),vn===5121&&(pt=32856)),pt!==33325&&pt!==33326&&pt!==34842&&pt!==34836||t.get("EXT_color_buffer_float"),pt}function me(pt){return pt===1003||pt===1004||pt===1005?9728:9729}function Ee(pt){pt=pt.target,pt.removeEventListener("dispose",Ee);var Ht=p.get(pt);Ht.__webglInit!==void 0&&(u.deleteTexture(Ht.__webglTexture),p.remove(pt)),pt.isVideoTexture&&lo.delete(pt),_.memory.textures--}function ke(pt){pt=pt.target,pt.removeEventListener("dispose",ke);var Ht=p.get(pt),vn=p.get(pt.texture);if(pt){if(vn.__webglTexture!==void 0&&u.deleteTexture(vn.__webglTexture),pt.depthTexture&&pt.depthTexture.dispose(),pt.isWebGLCubeRenderTarget)for(vn=0;6>vn;vn++)u.deleteFramebuffer(Ht.__webglFramebuffer[vn]),Ht.__webglDepthbuffer&&u.deleteRenderbuffer(Ht.__webglDepthbuffer[vn]);else u.deleteFramebuffer(Ht.__webglFramebuffer),Ht.__webglDepthbuffer&&u.deleteRenderbuffer(Ht.__webglDepthbuffer),Ht.__webglMultisampledFramebuffer&&u.deleteFramebuffer(Ht.__webglMultisampledFramebuffer),Ht.__webglColorRenderbuffer&&u.deleteRenderbuffer(Ht.__webglColorRenderbuffer),Ht.__webglDepthRenderbuffer&&u.deleteRenderbuffer(Ht.__webglDepthRenderbuffer);p.remove(pt.texture),p.remove(pt)}_.memory.textures--}function xt(pt,Ht){var vn=p.get(pt);if(pt.isVideoTexture){var ki=_.render.frame;lo.get(pt)!==ki&&(lo.set(pt,ki),pt.update())}if(0<pt.version&&vn.__version!==pt.version)if(ki=pt.image,ki===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(ki.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{gn(vn,pt,Ht);return}o.activeTexture(33984+Ht),o.bindTexture(3553,vn.__webglTexture)}function qt(pt,Ht){if(pt.image.length===6){var vn=p.get(pt);if(0<pt.version&&vn.__version!==pt.version){dr(vn,pt),o.activeTexture(33984+Ht),o.bindTexture(34067,vn.__webglTexture),u.pixelStorei(37440,pt.flipY);var ki=pt&&(pt.isCompressedTexture||pt.image[0].isCompressedTexture);Ht=pt.image[0]&&pt.image[0].isDataTexture;for(var bo=[],Zn=0;6>Zn;Zn++)bo[Zn]=ki||Ht?Ht?pt.image[Zn].image:pt.image[Zn]:k(pt.image[Zn],!1,!0,ro);var hn=bo[0],Br=X(hn)||Rr,Bo=b.convert(pt.format),jo=b.convert(pt.type),Rs=ge(pt.internalFormat,Bo,jo);if(er(34067,pt,Br),ki){for(Zn=0;6>Zn;Zn++){var gi=bo[Zn].mipmaps;for(ki=0;ki<gi.length;ki++){var uo=gi[ki];pt.format!==1023&&pt.format!==1022?Bo!==null?o.compressedTexImage2D(34069+Zn,ki,Rs,uo.width,uo.height,0,uo.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):o.texImage2D(34069+Zn,ki,Rs,uo.width,uo.height,0,Bo,jo,uo.data)}}vn.__maxMipLevel=gi.length-1}else{for(gi=pt.mipmaps,Zn=0;6>Zn;Zn++)if(Ht)for(o.texImage2D(34069+Zn,0,Rs,bo[Zn].width,bo[Zn].height,0,Bo,jo,bo[Zn].data),ki=0;ki<gi.length;ki++)uo=gi[ki],uo=uo.image[Zn].image,o.texImage2D(34069+Zn,ki+1,Rs,uo.width,uo.height,0,Bo,jo,uo.data);else for(o.texImage2D(34069+Zn,0,Rs,Bo,jo,bo[Zn]),ki=0;ki<gi.length;ki++)uo=gi[ki],o.texImage2D(34069+Zn,ki+1,Rs,Bo,jo,uo.image[Zn]);vn.__maxMipLevel=gi.length}$(pt,Br)&&de(34067,pt,hn.width,hn.height),vn.__version=pt.version,pt.onUpdate&&pt.onUpdate(pt)}else o.activeTexture(33984+Ht),o.bindTexture(34067,vn.__webglTexture)}}function Qt(pt,Ht){o.activeTexture(33984+Ht),o.bindTexture(34067,p.get(pt).__webglTexture)}function er(pt,Ht,vn){vn?(u.texParameteri(pt,10242,Ql[Ht.wrapS]),u.texParameteri(pt,10243,Ql[Ht.wrapT]),pt!==32879&&pt!==35866||u.texParameteri(pt,32882,Ql[Ht.wrapR]),u.texParameteri(pt,10240,Sl[Ht.magFilter]),u.texParameteri(pt,10241,Sl[Ht.minFilter])):(u.texParameteri(pt,10242,33071),u.texParameteri(pt,10243,33071),pt!==32879&&pt!==35866||u.texParameteri(pt,32882,33071),Ht.wrapS===1001&&Ht.wrapT===1001||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),u.texParameteri(pt,10240,me(Ht.magFilter)),u.texParameteri(pt,10241,me(Ht.minFilter)),Ht.minFilter!==1003&&Ht.minFilter!==1006&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!(vn=t.get("EXT_texture_filter_anisotropic"))||Ht.type===1015&&t.get("OES_texture_float_linear")===null||Ht.type===1016&&(Rr||t.get("OES_texture_half_float_linear"))===null||!(1<Ht.anisotropy||p.get(Ht).__currentAnisotropy)||(u.texParameterf(pt,vn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Ht.anisotropy,g.getMaxAnisotropy())),p.get(Ht).__currentAnisotropy=Ht.anisotropy)}function dr(pt,Ht){pt.__webglInit===void 0&&(pt.__webglInit=!0,Ht.addEventListener("dispose",Ee),pt.__webglTexture=u.createTexture(),_.memory.textures++)}function gn(pt,Ht,vn){var ki=3553;Ht.isDataTexture2DArray&&(ki=35866),Ht.isDataTexture3D&&(ki=32879),dr(pt,Ht),o.activeTexture(33984+vn),o.bindTexture(ki,pt.__webglTexture),u.pixelStorei(37440,Ht.flipY),u.pixelStorei(37441,Ht.premultiplyAlpha),u.pixelStorei(3317,Ht.unpackAlignment),vn=Rr?!1:Ht.wrapS!==1001||Ht.wrapT!==1001||Ht.minFilter!==1003&&Ht.minFilter!==1006,vn=vn&&X(Ht.image)===!1,vn=k(Ht.image,vn,!1,oi);var bo=X(vn)||Rr,Zn=b.convert(Ht.format),hn=b.convert(Ht.type),Br=ge(Ht.internalFormat,Zn,hn);er(ki,Ht,bo);var Bo=Ht.mipmaps;if(Ht.isDepthTexture)Br=6402,Rr?Br=Ht.type===1015?36012:Ht.type===1014?33190:Ht.type===1020?35056:33189:Ht.type===1015&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Ht.format===1026&&Br===6402&&Ht.type!==1012&&Ht.type!==1014&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Ht.type=1012,hn=b.convert(Ht.type)),Ht.format===1027&&Br===6402&&(Br=34041,Ht.type!==1020&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Ht.type=1020,hn=b.convert(Ht.type))),o.texImage2D(3553,0,Br,vn.width,vn.height,0,Zn,hn,null);else if(Ht.isDataTexture)if(0<Bo.length&&bo){for(var jo=0,Rs=Bo.length;jo<Rs;jo++){var gi=Bo[jo];o.texImage2D(3553,jo,Br,gi.width,gi.height,0,Zn,hn,gi.data)}Ht.generateMipmaps=!1,pt.__maxMipLevel=Bo.length-1}else o.texImage2D(3553,0,Br,vn.width,vn.height,0,Zn,hn,vn.data),pt.__maxMipLevel=0;else if(Ht.isCompressedTexture){for(jo=0,Rs=Bo.length;jo<Rs;jo++)gi=Bo[jo],Ht.format!==1023&&Ht.format!==1022?Zn!==null?o.compressedTexImage2D(3553,jo,Br,gi.width,gi.height,0,gi.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):o.texImage2D(3553,jo,Br,gi.width,gi.height,0,Zn,hn,gi.data);pt.__maxMipLevel=Bo.length-1}else if(Ht.isDataTexture2DArray)o.texImage3D(35866,0,Br,vn.width,vn.height,vn.depth,0,Zn,hn,vn.data),pt.__maxMipLevel=0;else if(Ht.isDataTexture3D)o.texImage3D(32879,0,Br,vn.width,vn.height,vn.depth,0,Zn,hn,vn.data),pt.__maxMipLevel=0;else if(0<Bo.length&&bo){for(jo=0,Rs=Bo.length;jo<Rs;jo++)gi=Bo[jo],o.texImage2D(3553,jo,Br,Zn,hn,gi);Ht.generateMipmaps=!1,pt.__maxMipLevel=Bo.length-1}else o.texImage2D(3553,0,Br,Zn,hn,vn),pt.__maxMipLevel=0;$(Ht,bo)&&de(ki,Ht,vn.width,vn.height),pt.__version=Ht.version,Ht.onUpdate&&Ht.onUpdate(Ht)}function Zr(pt,Ht,vn,ki){var bo=b.convert(Ht.texture.format),Zn=b.convert(Ht.texture.type),hn=ge(Ht.texture.internalFormat,bo,Zn);o.texImage2D(ki,0,hn,Ht.width,Ht.height,0,bo,Zn,null),u.bindFramebuffer(36160,pt),u.framebufferTexture2D(36160,vn,ki,p.get(Ht.texture).__webglTexture,0),u.bindFramebuffer(36160,null)}function lr(pt,Ht,vn){if(u.bindRenderbuffer(36161,pt),Ht.depthBuffer&&!Ht.stencilBuffer){var ki=33189;vn?((vn=Ht.depthTexture)&&vn.isDepthTexture&&(vn.type===1015?ki=36012:vn.type===1014&&(ki=33190)),vn=ii(Ht),u.renderbufferStorageMultisample(36161,vn,ki,Ht.width,Ht.height)):u.renderbufferStorage(36161,ki,Ht.width,Ht.height),u.framebufferRenderbuffer(36160,36096,36161,pt)}else Ht.depthBuffer&&Ht.stencilBuffer?(vn?(vn=ii(Ht),u.renderbufferStorageMultisample(36161,vn,35056,Ht.width,Ht.height)):u.renderbufferStorage(36161,34041,Ht.width,Ht.height),u.framebufferRenderbuffer(36160,33306,36161,pt)):(pt=b.convert(Ht.texture.format),ki=b.convert(Ht.texture.type),ki=ge(Ht.texture.internalFormat,pt,ki),vn?(vn=ii(Ht),u.renderbufferStorageMultisample(36161,vn,ki,Ht.width,Ht.height)):u.renderbufferStorage(36161,ki,Ht.width,Ht.height));u.bindRenderbuffer(36161,null)}function ii(pt){return Rr&&pt.isWebGLMultisampleRenderTarget?Math.min(Ba,pt.samples):0}var Rr=g.isWebGL2,ji=g.maxTextures,ro=g.maxCubemapSize,oi=g.maxTextureSize,Ba=g.maxSamples,lo=new pl,Ea,gl=!1;try{gl=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch(pt){}var Ua=0,Ql={1e3:10497,1001:33071,1002:33648},Sl={1003:9728,1004:9984,1005:9986,1006:9729,1007:9985,1008:9987},pc=!1,Yc=!1;this.allocateTextureUnit=function(){var pt=Ua;return pt>=ji&&console.warn("THREE.WebGLTextures: Trying to use "+pt+" texture units while this GPU supports only "+ji),Ua+=1,pt},this.resetTextureUnits=function(){Ua=0},this.setTexture2D=xt,this.setTexture2DArray=function(pt,Ht){var vn=p.get(pt);0<pt.version&&vn.__version!==pt.version?gn(vn,pt,Ht):(o.activeTexture(33984+Ht),o.bindTexture(35866,vn.__webglTexture))},this.setTexture3D=function(pt,Ht){var vn=p.get(pt);0<pt.version&&vn.__version!==pt.version?gn(vn,pt,Ht):(o.activeTexture(33984+Ht),o.bindTexture(32879,vn.__webglTexture))},this.setTextureCube=qt,this.setTextureCubeDynamic=Qt,this.setupRenderTarget=function(pt){var Ht=p.get(pt),vn=p.get(pt.texture);pt.addEventListener("dispose",ke),vn.__webglTexture=u.createTexture(),_.memory.textures++;var ki=pt.isWebGLCubeRenderTarget===!0,bo=pt.isWebGLMultisampleRenderTarget===!0,Zn=X(pt)||Rr;if(!Rr||pt.texture.format!==1022||pt.texture.type!==1015&&pt.texture.type!==1016||(pt.texture.format=1023,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),ki)for(Ht.__webglFramebuffer=[],bo=0;6>bo;bo++)Ht.__webglFramebuffer[bo]=u.createFramebuffer();else if(Ht.__webglFramebuffer=u.createFramebuffer(),bo)if(Rr){Ht.__webglMultisampledFramebuffer=u.createFramebuffer(),Ht.__webglColorRenderbuffer=u.createRenderbuffer(),u.bindRenderbuffer(36161,Ht.__webglColorRenderbuffer),bo=b.convert(pt.texture.format);var hn=b.convert(pt.texture.type);bo=ge(pt.texture.internalFormat,bo,hn),hn=ii(pt),u.renderbufferStorageMultisample(36161,hn,bo,pt.width,pt.height),u.bindFramebuffer(36160,Ht.__webglMultisampledFramebuffer),u.framebufferRenderbuffer(36160,36064,36161,Ht.__webglColorRenderbuffer),u.bindRenderbuffer(36161,null),pt.depthBuffer&&(Ht.__webglDepthRenderbuffer=u.createRenderbuffer(),lr(Ht.__webglDepthRenderbuffer,pt,!0)),u.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(ki){for(o.bindTexture(34067,vn.__webglTexture),er(34067,pt.texture,Zn),bo=0;6>bo;bo++)Zr(Ht.__webglFramebuffer[bo],pt,36064,34069+bo);$(pt.texture,Zn)&&de(34067,pt.texture,pt.width,pt.height),o.bindTexture(34067,null)}else o.bindTexture(3553,vn.__webglTexture),er(3553,pt.texture,Zn),Zr(Ht.__webglFramebuffer,pt,36064,3553),$(pt.texture,Zn)&&de(3553,pt.texture,pt.width,pt.height),o.bindTexture(3553,null);if(pt.depthBuffer){if(Ht=p.get(pt),vn=pt.isWebGLCubeRenderTarget===!0,pt.depthTexture){if(vn)throw Error("target.depthTexture not supported in Cube render targets");if(pt&&pt.isWebGLCubeRenderTarget)throw Error("Depth Texture with cube render targets is not supported");if(u.bindFramebuffer(36160,Ht.__webglFramebuffer),!pt.depthTexture||!pt.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");if(p.get(pt.depthTexture).__webglTexture&&pt.depthTexture.image.width===pt.width&&pt.depthTexture.image.height===pt.height||(pt.depthTexture.image.width=pt.width,pt.depthTexture.image.height=pt.height,pt.depthTexture.needsUpdate=!0),xt(pt.depthTexture,0),Ht=p.get(pt.depthTexture).__webglTexture,pt.depthTexture.format===1026)u.framebufferTexture2D(36160,36096,3553,Ht,0);else if(pt.depthTexture.format===1027)u.framebufferTexture2D(36160,33306,3553,Ht,0);else throw Error("Unknown depthTexture format")}else if(vn)for(Ht.__webglDepthbuffer=[],vn=0;6>vn;vn++)u.bindFramebuffer(36160,Ht.__webglFramebuffer[vn]),Ht.__webglDepthbuffer[vn]=u.createRenderbuffer(),lr(Ht.__webglDepthbuffer[vn],pt,!1);else u.bindFramebuffer(36160,Ht.__webglFramebuffer),Ht.__webglDepthbuffer=u.createRenderbuffer(),lr(Ht.__webglDepthbuffer,pt,!1);u.bindFramebuffer(36160,null)}},this.updateRenderTargetMipmap=function(pt){var Ht=pt.texture,vn=X(pt)||Rr;if($(Ht,vn)){vn=pt.isWebGLCubeRenderTarget?34067:3553;var ki=p.get(Ht).__webglTexture;o.bindTexture(vn,ki),de(vn,Ht,pt.width,pt.height),o.bindTexture(vn,null)}},this.updateMultisampleRenderTarget=function(pt){if(pt.isWebGLMultisampleRenderTarget)if(Rr){var Ht=p.get(pt);u.bindFramebuffer(36008,Ht.__webglMultisampledFramebuffer),u.bindFramebuffer(36009,Ht.__webglFramebuffer);var vn=pt.width,ki=pt.height,bo=16384;pt.depthBuffer&&(bo|=256),pt.stencilBuffer&&(bo|=1024),u.blitFramebuffer(0,0,vn,ki,0,0,vn,ki,bo,9728),u.bindFramebuffer(36160,Ht.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(pt,Ht){pt&&pt.isWebGLRenderTarget&&(pc===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),pc=!0),pt=pt.texture),xt(pt,Ht)},this.safeSetTextureCube=function(pt,Ht){pt&&pt.isWebGLCubeRenderTarget&&(Yc===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),Yc=!0),pt=pt.texture),pt&&pt.isCubeTexture||Array.isArray(pt.image)&&pt.image.length===6?qt(pt,Ht):Qt(pt,Ht)}}function zw(u,t,o){var p=o.isWebGL2;return{convert:function(b){if(b===1009)return 5121;if(b===1017)return 32819;if(b===1018)return 32820;if(b===1019)return 33635;if(b===1010)return 5120;if(b===1011)return 5122;if(b===1012)return 5123;if(b===1013)return 5124;if(b===1014)return 5125;if(b===1015)return 5126;if(b===1016){if(p)return 5131;var _=t.get("OES_texture_half_float");return _!==null?_.HALF_FLOAT_OES:null}if(b===1021)return 6406;if(b===1022)return 6407;if(b===1023)return 6408;if(b===1024)return 6409;if(b===1025)return 6410;if(b===1026)return 6402;if(b===1027)return 34041;if(b===1028)return 6403;if(b===1029)return 36244;if(b===1030)return 33319;if(b===1031)return 33320;if(b===1032)return 36248;if(b===1033)return 36249;if(b===33776||b===33777||b===33778||b===33779)if(_=t.get("WEBGL_compressed_texture_s3tc"),_!==null){if(b===33776)return _.COMPRESSED_RGB_S3TC_DXT1_EXT;if(b===33777)return _.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(b===33778)return _.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(b===33779)return _.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(b===35840||b===35841||b===35842||b===35843)if(_=t.get("WEBGL_compressed_texture_pvrtc"),_!==null){if(b===35840)return _.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(b===35841)return _.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(b===35842)return _.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(b===35843)return _.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(b===36196)return _=t.get("WEBGL_compressed_texture_etc1"),_!==null?_.COMPRESSED_RGB_ETC1_WEBGL:null;if((b===37492||b===37496)&&(_=t.get("WEBGL_compressed_texture_etc"),_!==null)){if(b===37492)return _.COMPRESSED_RGB8_ETC2;if(b===37496)return _.COMPRESSED_RGBA8_ETC2_EAC}if(b===37808||b===37809||b===37810||b===37811||b===37812||b===37813||b===37814||b===37815||b===37816||b===37817||b===37818||b===37819||b===37820||b===37821||b===37840||b===37841||b===37842||b===37843||b===37844||b===37845||b===37846||b===37847||b===37848||b===37849||b===37850||b===37851||b===37852||b===37853)return _=t.get("WEBGL_compressed_texture_astc"),_!==null?b:null;if(b===36492)return _=t.get("EXT_texture_compression_bptc"),_!==null?b:null;if(b===1020)return p?34042:(_=t.get("WEBGL_depth_texture"),_!==null?_.UNSIGNED_INT_24_8_WEBGL:null)}}}function EC(u){Ln.call(this),this.cameras=u||[]}function x1(){Me.call(this),this.type="Group"}function TC(){this._grip=this._targetRay=null}function Uw(u,t){function o(Rr){var ji=Ee.get(Rr.inputSource);ji&&ji.dispatchEvent({type:Rr.type})}function p(){Ee.forEach(function(Rr,ji){Rr.disconnect(ji)}),Ee.clear(),u.setFramebuffer(null),u.setRenderTarget(u.getRenderTarget()),ii.stop(),D.isPresenting=!1,D.dispatchEvent({type:"sessionend"})}function g(Rr){$=Rr,ii.setContext(k),ii.start(),D.isPresenting=!0,D.dispatchEvent({type:"sessionstart"})}function b(Rr){for(var ji=k.inputSources,ro=0;ro<me.length;ro++)Ee.set(ji[ro],me[ro]);for(ro=0;ro<Rr.removed.length;ro++){ji=Rr.removed[ro];var oi=Ee.get(ji);oi&&(oi.dispatchEvent({type:"disconnected",data:ji}),Ee.delete(ji))}for(ro=0;ro<Rr.added.length;ro++)ji=Rr.added[ro],(oi=Ee.get(ji))&&oi.dispatchEvent({type:"connected",data:ji})}function _(Rr,ji){ji===null?Rr.matrixWorld.copy(Rr.matrix):Rr.matrixWorld.multiplyMatrices(ji.matrixWorld,Rr.matrix),Rr.matrixWorldInverse.getInverse(Rr.matrixWorld)}var D=this,k=null,X=1,$=null,de="local-floor",ge=null,me=[],Ee=new mv,ke=new Ln;ke.layers.enable(1),ke.viewport=new w;var xt=new Ln;xt.layers.enable(2),xt.viewport=new w;var qt=[ke,xt],Qt=new EC;Qt.layers.enable(1),Qt.layers.enable(2);var er=null,dr=null;this.isPresenting=this.enabled=!1,this.getController=function(Rr){var ji=me[Rr];return ji===void 0&&(ji=new TC,me[Rr]=ji),ji.getTargetRaySpace()},this.getControllerGrip=function(Rr){var ji=me[Rr];return ji===void 0&&(ji=new TC,me[Rr]=ji),ji.getGripSpace()},this.setFramebufferScaleFactor=function(Rr){X=Rr,D.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Rr){de=Rr,D.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return $},this.getSession=function(){return k},this.setSession=function(Rr){k=Rr,k!==null&&(k.addEventListener("select",o),k.addEventListener("selectstart",o),k.addEventListener("selectend",o),k.addEventListener("squeeze",o),k.addEventListener("squeezestart",o),k.addEventListener("squeezeend",o),k.addEventListener("end",p),Rr=t.getContextAttributes(),Rr.xrCompatible!==!0&&t.makeXRCompatible(),Rr=new XRWebGLLayer(k,t,{antialias:Rr.antialias,alpha:Rr.alpha,depth:Rr.depth,stencil:Rr.stencil,framebufferScaleFactor:X}),k.updateRenderState({baseLayer:Rr}),k.requestReferenceSpace(de).then(g),k.addEventListener("inputsourceschange",b))};var gn=new W,Zr=new W;this.getCamera=function(Rr){Qt.near=xt.near=ke.near=Rr.near,Qt.far=xt.far=ke.far=Rr.far,(er!==Qt.near||dr!==Qt.far)&&(k.updateRenderState({depthNear:Qt.near,depthFar:Qt.far}),er=Qt.near,dr=Qt.far);var ji=Rr.parent,ro=Qt.cameras;_(Qt,ji);for(var oi=0;oi<ro.length;oi++)_(ro[oi],ji);for(Rr.matrixWorld.copy(Qt.matrixWorld),Rr=Rr.children,oi=0,ji=Rr.length;oi<ji;oi++)Rr[oi].updateMatrixWorld(!0);if(ro.length===2){gn.setFromMatrixPosition(ke.matrixWorld),Zr.setFromMatrixPosition(xt.matrixWorld),ro=gn.distanceTo(Zr);var Ba=ke.projectionMatrix.elements,lo=xt.projectionMatrix.elements,Ea=Ba[14]/(Ba[10]-1);oi=Ba[14]/(Ba[10]+1),Rr=(Ba[9]+1)/Ba[5],ji=(Ba[9]-1)/Ba[5];var gl=(Ba[8]-1)/Ba[0],Ua=(lo[8]+1)/lo[0];lo=Ea*gl,Ba=Ea*Ua,Ua=ro/(-gl+Ua),gl=Ua*-gl,ke.matrixWorld.decompose(Qt.position,Qt.quaternion,Qt.scale),Qt.translateX(gl),Qt.translateZ(Ua),Qt.matrixWorld.compose(Qt.position,Qt.quaternion,Qt.scale),Qt.matrixWorldInverse.getInverse(Qt.matrixWorld),Ea+=Ua,Ua=oi+Ua,Qt.projectionMatrix.makePerspective(lo-gl,Ba+(ro-gl),Rr*oi/Ua*Ea,ji*oi/Ua*Ea,Ea,Ua)}else Qt.projectionMatrix.copy(ke.projectionMatrix);return Qt};var lr=null,ii=new qo;ii.setAnimationLoop(function(Rr,ji){if(ge=ji.getViewerPose($),ge!==null){var ro=ge.views,oi=k.renderState.baseLayer;u.setFramebuffer(oi.framebuffer);var Ba=!1;ro.length!==Qt.cameras.length&&(Qt.cameras.length=0,Ba=!0);for(var lo=0;lo<ro.length;lo++){var Ea=ro[lo],gl=oi.getViewport(Ea),Ua=qt[lo];Ua.matrix.fromArray(Ea.transform.matrix),Ua.projectionMatrix.fromArray(Ea.projectionMatrix),Ua.viewport.set(gl.x,gl.y,gl.width,gl.height),lo===0&&Qt.matrix.copy(Ua.matrix),Ba===!0&&Qt.cameras.push(Ua)}}for(ro=k.inputSources,lo=0;lo<me.length;lo++)me[lo].update(ro[lo],ji,$);lr&&lr(Rr,ji)}),this.setAnimationLoop=function(Rr){lr=Rr},this.dispose=function(){}}function aM(u){function t(p,g,b){if(p.opacity.value=g.opacity,g.color&&p.diffuse.value.copy(g.color),g.emissive&&p.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(p.map.value=g.map),g.alphaMap&&(p.alphaMap.value=g.alphaMap),g.specularMap&&(p.specularMap.value=g.specularMap),(b=g.envMap||b)&&(p.envMap.value=b,p.flipEnvMap.value=b.isCubeTexture?-1:1,p.reflectivity.value=g.reflectivity,p.refractionRatio.value=g.refractionRatio,p.maxMipLevel.value=u.get(b).__maxMipLevel),g.lightMap&&(p.lightMap.value=g.lightMap,p.lightMapIntensity.value=g.lightMapIntensity),g.aoMap&&(p.aoMap.value=g.aoMap,p.aoMapIntensity.value=g.aoMapIntensity),g.map)var _=g.map;else g.specularMap?_=g.specularMap:g.displacementMap?_=g.displacementMap:g.normalMap?_=g.normalMap:g.bumpMap?_=g.bumpMap:g.roughnessMap?_=g.roughnessMap:g.metalnessMap?_=g.metalnessMap:g.alphaMap?_=g.alphaMap:g.emissiveMap&&(_=g.emissiveMap);if(_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),p.uvTransform.value.copy(_.matrix)),g.aoMap)var D=g.aoMap;else g.lightMap&&(D=g.lightMap);D!==void 0&&(D.isWebGLRenderTarget&&(D=D.texture),D.matrixAutoUpdate===!0&&D.updateMatrix(),p.uv2Transform.value.copy(D.matrix))}function o(p,g,b){p.roughness.value=g.roughness,p.metalness.value=g.metalness,g.roughnessMap&&(p.roughnessMap.value=g.roughnessMap),g.metalnessMap&&(p.metalnessMap.value=g.metalnessMap),g.emissiveMap&&(p.emissiveMap.value=g.emissiveMap),g.bumpMap&&(p.bumpMap.value=g.bumpMap,p.bumpScale.value=g.bumpScale,g.side===1&&(p.bumpScale.value*=-1)),g.normalMap&&(p.normalMap.value=g.normalMap,p.normalScale.value.copy(g.normalScale),g.side===1&&p.normalScale.value.negate()),g.displacementMap&&(p.displacementMap.value=g.displacementMap,p.displacementScale.value=g.displacementScale,p.displacementBias.value=g.displacementBias),(g.envMap||b)&&(p.envMapIntensity.value=g.envMapIntensity)}return{refreshFogUniforms:function(g,b){g.fogColor.value.copy(b.color),b.isFog?(g.fogNear.value=b.near,g.fogFar.value=b.far):b.isFogExp2&&(g.fogDensity.value=b.density)},refreshMaterialUniforms:function(g,b,_,D,k){if(b.isMeshBasicMaterial)t(g,b);else if(b.isMeshLambertMaterial)t(g,b),b.emissiveMap&&(g.emissiveMap.value=b.emissiveMap);else if(b.isMeshToonMaterial)t(g,b),g.specular.value.copy(b.specular),g.shininess.value=Math.max(b.shininess,1e-4),b.gradientMap&&(g.gradientMap.value=b.gradientMap),b.emissiveMap&&(g.emissiveMap.value=b.emissiveMap),b.bumpMap&&(g.bumpMap.value=b.bumpMap,g.bumpScale.value=b.bumpScale,b.side===1&&(g.bumpScale.value*=-1)),b.normalMap&&(g.normalMap.value=b.normalMap,g.normalScale.value.copy(b.normalScale),b.side===1&&g.normalScale.value.negate()),b.displacementMap&&(g.displacementMap.value=b.displacementMap,g.displacementScale.value=b.displacementScale,g.displacementBias.value=b.displacementBias);else if(b.isMeshPhongMaterial)t(g,b),g.specular.value.copy(b.specular),g.shininess.value=Math.max(b.shininess,1e-4),b.emissiveMap&&(g.emissiveMap.value=b.emissiveMap),b.bumpMap&&(g.bumpMap.value=b.bumpMap,g.bumpScale.value=b.bumpScale,b.side===1&&(g.bumpScale.value*=-1)),b.normalMap&&(g.normalMap.value=b.normalMap,g.normalScale.value.copy(b.normalScale),b.side===1&&g.normalScale.value.negate()),b.displacementMap&&(g.displacementMap.value=b.displacementMap,g.displacementScale.value=b.displacementScale,g.displacementBias.value=b.displacementBias);else if(b.isMeshStandardMaterial)t(g,b,_),b.isMeshPhysicalMaterial?(o(g,b,_),g.reflectivity.value=b.reflectivity,g.clearcoat.value=b.clearcoat,g.clearcoatRoughness.value=b.clearcoatRoughness,b.sheen&&g.sheen.value.copy(b.sheen),b.clearcoatMap&&(g.clearcoatMap.value=b.clearcoatMap),b.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap),b.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),g.clearcoatNormalMap.value=b.clearcoatNormalMap,b.side===1&&g.clearcoatNormalScale.value.negate()),g.transparency.value=b.transparency):o(g,b,_);else if(b.isMeshMatcapMaterial)t(g,b),b.matcap&&(g.matcap.value=b.matcap),b.bumpMap&&(g.bumpMap.value=b.bumpMap,g.bumpScale.value=b.bumpScale,b.side===1&&(g.bumpScale.value*=-1)),b.normalMap&&(g.normalMap.value=b.normalMap,g.normalScale.value.copy(b.normalScale),b.side===1&&g.normalScale.value.negate()),b.displacementMap&&(g.displacementMap.value=b.displacementMap,g.displacementScale.value=b.displacementScale,g.displacementBias.value=b.displacementBias);else if(b.isMeshDepthMaterial)t(g,b),b.displacementMap&&(g.displacementMap.value=b.displacementMap,g.displacementScale.value=b.displacementScale,g.displacementBias.value=b.displacementBias);else if(b.isMeshDistanceMaterial)t(g,b),b.displacementMap&&(g.displacementMap.value=b.displacementMap,g.displacementScale.value=b.displacementScale,g.displacementBias.value=b.displacementBias),g.referencePosition.value.copy(b.referencePosition),g.nearDistance.value=b.nearDistance,g.farDistance.value=b.farDistance;else if(b.isMeshNormalMaterial)t(g,b),b.bumpMap&&(g.bumpMap.value=b.bumpMap,g.bumpScale.value=b.bumpScale,b.side===1&&(g.bumpScale.value*=-1)),b.normalMap&&(g.normalMap.value=b.normalMap,g.normalScale.value.copy(b.normalScale),b.side===1&&g.normalScale.value.negate()),b.displacementMap&&(g.displacementMap.value=b.displacementMap,g.displacementScale.value=b.displacementScale,g.displacementBias.value=b.displacementBias);else if(b.isLineBasicMaterial)g.diffuse.value.copy(b.color),g.opacity.value=b.opacity,b.isLineDashedMaterial&&(g.dashSize.value=b.dashSize,g.totalSize.value=b.dashSize+b.gapSize,g.scale.value=b.scale);else if(b.isPointsMaterial){if(g.diffuse.value.copy(b.color),g.opacity.value=b.opacity,g.size.value=b.size*D,g.scale.value=.5*k,b.map&&(g.map.value=b.map),b.alphaMap&&(g.alphaMap.value=b.alphaMap),b.map)var X=b.map;else b.alphaMap&&(X=b.alphaMap);X!==void 0&&(X.matrixAutoUpdate===!0&&X.updateMatrix(),g.uvTransform.value.copy(X.matrix))}else if(b.isSpriteMaterial){if(g.diffuse.value.copy(b.color),g.opacity.value=b.opacity,g.rotation.value=b.rotation,b.map&&(g.map.value=b.map),b.alphaMap&&(g.alphaMap.value=b.alphaMap),b.map)var $=b.map;else b.alphaMap&&($=b.alphaMap);$!==void 0&&($.matrixAutoUpdate===!0&&$.updateMatrix(),g.uvTransform.value.copy($.matrix))}else b.isShadowMaterial?(g.color.value.copy(b.color),g.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}}}function qA(u){var t;function o(){xs=new Y0(Pn),Cs=new yx(Pn,xs,u),Cs.isWebGL2===!1&&(xs.get("WEBGL_depth_texture"),xs.get("OES_texture_float"),xs.get("OES_texture_half_float"),xs.get("OES_texture_half_float_linear"),xs.get("OES_standard_derivatives"),xs.get("OES_element_index_uint"),xs.get("ANGLE_instanced_arrays")),xs.get("OES_texture_float_linear"),m0=new zw(Pn,xs,Cs),ka=new iM(Pn,xs,Cs),ka.scissor(pt.copy(Bo).multiplyScalar(bo).floor()),ka.viewport(Yc.copy(Br).multiplyScalar(bo).floor()),Xp=new X0(Pn),Xd=new ZS,dg=new oM(Pn,xs,ka,Xd,Cs,m0,Xp),ux=new Xo(Pn,Cs),cw=new xx(Pn,ux,Xp),cx=new SC(Pn,cw,ux,Xp),oS=new bC(Pn),fx=new KS(Rr,xs,Cs),fw=new aM(Xd),HA=new qS,hx=new nM,fy=new qm(Rr,ka,cx,er),aS=new W0(Pn,xs,Xp,Cs),sS=new g1(Pn,xs,Xp,Cs),Xp.programs=fx.programs,Rr.capabilities=Cs,Rr.extensions=xs,Rr.properties=Xd,Rr.renderLists=HA,Rr.state=ka,Rr.info=Xp}function p(gt){gt.preventDefault(),ji=!0}function g(){ji=!1,o()}function b(gt){gt=gt.target,gt.removeEventListener("dispose",b),_(gt),Xd.remove(gt)}function _(gt){var Wn=Xd.get(gt).program;gt.program=void 0,Wn!==void 0&&fx.releaseProgram(Wn)}function D(gt,Wn){gt.render(function(Sr){Rr.renderBufferImmediate(Sr,Wn)})}function k(gt,Wn,Sr,$n){if(gt.visible!==!1){if(gt.layers.test(Wn.layers)){if(gt.isGroup)Sr=gt.renderOrder;else if(gt.isLOD)gt.autoUpdate===!0&&gt.update(Wn);else if(gt.isLight)ii.pushLight(gt),gt.castShadow&&ii.pushShadow(gt);else if(gt.isSprite){if(!gt.frustumCulled||Rs.intersectsSprite(gt)){$n&&iu.setFromMatrixPosition(gt.matrixWorld).applyMatrix4(Xc);var ao=cx.update(gt),Dl=gt.material;Dl.visible&&lr.push(gt,ao,Dl,Sr,iu.z,null)}}else if(gt.isImmediateRenderObject)$n&&iu.setFromMatrixPosition(gt.matrixWorld).applyMatrix4(Xc),lr.push(gt,null,gt.material,Sr,iu.z,null);else if((gt.isMesh||gt.isLine||gt.isPoints)&&(gt.isSkinnedMesh&&gt.skeleton.frame!==Xp.render.frame&&(gt.skeleton.update(),gt.skeleton.frame=Xp.render.frame),!gt.frustumCulled||Rs.intersectsObject(gt)))if($n&&iu.setFromMatrixPosition(gt.matrixWorld).applyMatrix4(Xc),ao=cx.update(gt),Dl=gt.material,Array.isArray(Dl))for(var _o=ao.groups,Xa=0,Ml=_o.length;Xa<Ml;Xa++){var ec=_o[Xa],wu=Dl[ec.materialIndex];wu&&wu.visible&&lr.push(gt,ao,wu,Sr,iu.z,ec)}else Dl.visible&&lr.push(gt,ao,Dl,Sr,iu.z,null)}for(gt=gt.children,Xa=0,Ml=gt.length;Xa<Ml;Xa++)k(gt[Xa],Wn,Sr,$n)}}function X(gt,Wn,Sr,$n){for(var ao=0,Dl=gt.length;ao<Dl;ao++){var _o=gt[ao],Xa=_o.object,Ml=_o.geometry,ec=$n===void 0?_o.material:$n;if(_o=_o.group,Sr.isArrayCamera){pc=Sr;for(var wu=Sr.cameras,zg=0,ih=wu.length;zg<ih;zg++){var Kd=wu[zg];Xa.layers.test(Kd.layers)&&(ka.viewport(Yc.copy(Kd.viewport)),ii.setupLights(Kd),$(Xa,Wn,Kd,Ml,ec,_o))}}else pc=null,$(Xa,Wn,Sr,Ml,ec,_o)}}function $(gt,Wn,Sr,$n,ao,Dl){if(gt.onBeforeRender(Rr,Wn,Sr,$n,ao,Dl),ii=hx.get(Wn,pc||Sr),gt.modelViewMatrix.multiplyMatrices(Sr.matrixWorldInverse,gt.matrixWorld),gt.normalMatrix.getNormalMatrix(gt.modelViewMatrix),gt.isImmediateRenderObject){var _o=ge(Sr,Wn,ao,gt);ka.setMaterial(ao),Ua=t=null,Ql=!1,D(gt,_o)}else Rr.renderBufferDirect(Sr,Wn,$n,ao,gt,Dl);gt.onAfterRender(Rr,Wn,Sr,$n,ao,Dl),ii=hx.get(Wn,pc||Sr)}function de(gt,Wn,Sr){var $n=Xd.get(gt),ao=ii.state.lights,Dl=ao.state.version;Sr=fx.getParameters(gt,ao.state,ii.state.shadowsArray,Wn,gi.numPlanes,gi.numIntersection,Sr);var _o=fx.getProgramCacheKey(Sr),Xa=$n.program,Ml=!0;if(Xa===void 0)gt.addEventListener("dispose",b);else if(Xa.cacheKey!==_o)_(gt);else{if($n.lightsStateVersion!==Dl)$n.lightsStateVersion=Dl;else if(Sr.shaderID!==void 0)return;Ml=!1}if(Ml&&(Xa=fx.acquireProgram(Sr,_o),$n.program=Xa,$n.uniforms=Sr.uniforms,$n.outputEncoding=Sr.outputEncoding,gt.program=Xa),Sr=Xa.getAttributes(),gt.morphTargets)for(_o=gt.numSupportedMorphTargets=0;_o<Rr.maxMorphTargets;_o++)0<=Sr["morphTarget"+_o]&&gt.numSupportedMorphTargets++;if(gt.morphNormals)for(_o=gt.numSupportedMorphNormals=0;_o<Rr.maxMorphNormals;_o++)0<=Sr["morphNormal"+_o]&&gt.numSupportedMorphNormals++;Sr=$n.uniforms,(!gt.isShaderMaterial&&!gt.isRawShaderMaterial||gt.clipping===!0)&&($n.numClippingPlanes=gi.numPlanes,$n.numIntersection=gi.numIntersection,Sr.clippingPlanes=gi.uniform),$n.environment=gt.isMeshStandardMaterial?Wn.environment:null,$n.fog=Wn.fog,$n.needsLights=gt.isMeshLambertMaterial||gt.isMeshToonMaterial||gt.isMeshPhongMaterial||gt.isMeshStandardMaterial||gt.isShadowMaterial||gt.isShaderMaterial&&gt.lights===!0,$n.lightsStateVersion=Dl,$n.needsLights&&(Sr.ambientLightColor.value=ao.state.ambient,Sr.lightProbe.value=ao.state.probe,Sr.directionalLights.value=ao.state.directional,Sr.directionalLightShadows.value=ao.state.directionalShadow,Sr.spotLights.value=ao.state.spot,Sr.spotLightShadows.value=ao.state.spotShadow,Sr.rectAreaLights.value=ao.state.rectArea,Sr.pointLights.value=ao.state.point,Sr.pointLightShadows.value=ao.state.pointShadow,Sr.hemisphereLights.value=ao.state.hemi,Sr.directionalShadowMap.value=ao.state.directionalShadowMap,Sr.directionalShadowMatrix.value=ao.state.directionalShadowMatrix,Sr.spotShadowMap.value=ao.state.spotShadowMap,Sr.spotShadowMatrix.value=ao.state.spotShadowMatrix,Sr.pointShadowMap.value=ao.state.pointShadowMap,Sr.pointShadowMatrix.value=ao.state.pointShadowMatrix),gt=$n.program.getUniforms(),gt=Z0.seqWithValue(gt.seq,Sr),$n.uniformsList=gt}function ge(gt,Wn,Sr,$n){dg.resetTextureUnits();var ao=Wn.fog,Dl=Sr.isMeshStandardMaterial?Wn.environment:null,_o=lo===null?Rr.outputEncoding:lo.texture.encoding,Xa=Xd.get(Sr),Ml=ii.state.lights;uo&&(js||gt!==Sl)&&gi.setState(Sr.clippingPlanes,Sr.clipIntersection,Sr.clipShadows,gt,Xa,gt===Sl&&Sr.id===gl),Sr.version===Xa.__version?Xa.program===void 0||Sr.fog&&Xa.fog!==ao||Xa.environment!==Dl||Xa.needsLights&&Xa.lightsStateVersion!==Ml.state.version?de(Sr,Wn,$n):Xa.numClippingPlanes===void 0||Xa.numClippingPlanes===gi.numPlanes&&Xa.numIntersection===gi.numIntersection?Xa.outputEncoding!==_o&&de(Sr,Wn,$n):de(Sr,Wn,$n):(de(Sr,Wn,$n),Xa.__version=Sr.version);var ec=!1,wu=!1,zg=!1;if(Wn=Xa.program,_o=Wn.getUniforms(),Ml=Xa.uniforms,ka.useProgram(Wn.program)&&(zg=wu=ec=!0),Sr.id!==gl&&(gl=Sr.id,wu=!0),(ec||Sl!==gt)&&(_o.setValue(Pn,"projectionMatrix",gt.projectionMatrix),Cs.logarithmicDepthBuffer&&_o.setValue(Pn,"logDepthBufFC",2/(Math.log(gt.far+1)/Math.LN2)),Sl!==gt&&(Sl=gt,zg=wu=!0),(Sr.isShaderMaterial||Sr.isMeshPhongMaterial||Sr.isMeshToonMaterial||Sr.isMeshStandardMaterial||Sr.envMap)&&(ec=_o.map.cameraPosition,ec!==void 0&&ec.setValue(Pn,iu.setFromMatrixPosition(gt.matrixWorld))),(Sr.isMeshPhongMaterial||Sr.isMeshToonMaterial||Sr.isMeshLambertMaterial||Sr.isMeshBasicMaterial||Sr.isMeshStandardMaterial||Sr.isShaderMaterial)&&_o.setValue(Pn,"isOrthographic",gt.isOrthographicCamera===!0),(Sr.isMeshPhongMaterial||Sr.isMeshToonMaterial||Sr.isMeshLambertMaterial||Sr.isMeshBasicMaterial||Sr.isMeshStandardMaterial||Sr.isShaderMaterial||Sr.skinning)&&_o.setValue(Pn,"viewMatrix",gt.matrixWorldInverse)),Sr.skinning&&(_o.setOptional(Pn,$n,"bindMatrix"),_o.setOptional(Pn,$n,"bindMatrixInverse"),gt=$n.skeleton))if(ec=gt.bones,Cs.floatVertexTextures){if(gt.boneTexture===void 0){ec=Math.sqrt(4*ec.length),ec=Ll.ceilPowerOfTwo(ec),ec=Math.max(ec,4);var ih=new Float32Array(ec*ec*4);ih.set(gt.boneMatrices);var Kd=new Dn(ih,ec,ec,1023,1015);gt.boneMatrices=ih,gt.boneTexture=Kd,gt.boneTextureSize=ec}_o.setValue(Pn,"boneTexture",gt.boneTexture,dg),_o.setValue(Pn,"boneTextureSize",gt.boneTextureSize)}else _o.setOptional(Pn,gt,"boneMatrices");return(wu||Xa.receiveShadow!==$n.receiveShadow)&&(Xa.receiveShadow=$n.receiveShadow,_o.setValue(Pn,"receiveShadow",$n.receiveShadow)),wu&&(_o.setValue(Pn,"toneMappingExposure",Rr.toneMappingExposure),_o.setValue(Pn,"toneMappingWhitePoint",Rr.toneMappingWhitePoint),Xa.needsLights&&(wu=zg,Ml.ambientLightColor.needsUpdate=wu,Ml.lightProbe.needsUpdate=wu,Ml.directionalLights.needsUpdate=wu,Ml.directionalLightShadows.needsUpdate=wu,Ml.pointLights.needsUpdate=wu,Ml.pointLightShadows.needsUpdate=wu,Ml.spotLights.needsUpdate=wu,Ml.spotLightShadows.needsUpdate=wu,Ml.rectAreaLights.needsUpdate=wu,Ml.hemisphereLights.needsUpdate=wu),ao&&Sr.fog&&fw.refreshFogUniforms(Ml,ao),fw.refreshMaterialUniforms(Ml,Sr,Dl,bo,ki),Ml.ltc_1!==void 0&&(Ml.ltc_1.value=Eo.LTC_1),Ml.ltc_2!==void 0&&(Ml.ltc_2.value=Eo.LTC_2),Z0.upload(Pn,Xa.uniformsList,Ml,dg)),Sr.isShaderMaterial&&Sr.uniformsNeedUpdate===!0&&(Z0.upload(Pn,Xa.uniformsList,Ml,dg),Sr.uniformsNeedUpdate=!1),Sr.isSpriteMaterial&&_o.setValue(Pn,"center",$n.center),_o.setValue(Pn,"modelViewMatrix",$n.modelViewMatrix),_o.setValue(Pn,"normalMatrix",$n.normalMatrix),_o.setValue(Pn,"modelMatrix",$n.matrixWorld),Wn}u=u||{};var me=u.canvas!==void 0?u.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),Ee=u.context!==void 0?u.context:null,ke=u.alpha!==void 0?u.alpha:!1,xt=u.depth!==void 0?u.depth:!0,qt=u.stencil!==void 0?u.stencil:!0,Qt=u.antialias!==void 0?u.antialias:!1,er=u.premultipliedAlpha!==void 0?u.premultipliedAlpha:!0,dr=u.preserveDrawingBuffer!==void 0?u.preserveDrawingBuffer:!1,gn=u.powerPreference!==void 0?u.powerPreference:"default",Zr=u.failIfMajorPerformanceCaveat!==void 0?u.failIfMajorPerformanceCaveat:!1,lr=null,ii=null;this.domElement=me,this.debug={checkShaderErrors:!0},this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=3e3,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingWhitePoint=this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var Rr=this,ji=!1,ro=null,oi=0,Ba=0,lo=null,Ea=null,gl=-1,Ua=t=null,Ql=!1,Sl=null,pc=null,Yc=new w,pt=new w,Ht=null,vn=me.width,ki=me.height,bo=1,Zn=null,hn=null,Br=new w(0,0,vn,ki),Bo=new w(0,0,vn,ki),jo=!1,Rs=new Ra,gi=new G0,uo=!1,js=!1,Xc=new ae,iu=new W;try{ke={alpha:ke,depth:xt,stencil:qt,antialias:Qt,premultipliedAlpha:er,preserveDrawingBuffer:dr,powerPreference:gn,failIfMajorPerformanceCaveat:Zr},me.addEventListener("webglcontextlost",p,!1),me.addEventListener("webglcontextrestored",g,!1);var Pn=Ee||me.getContext("webgl",ke)||me.getContext("experimental-webgl",ke);if(Pn===null)throw me.getContext("webgl")!==null?Error("Error creating WebGL context with your selected attributes."):Error("Error creating WebGL context.");Pn.getShaderPrecisionFormat===void 0&&(Pn.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(gt){throw console.error("THREE.WebGLRenderer: "+gt.message),gt}var xs,Cs,ka,Xp,Xd,dg,ux,cw,cx,fx,fw,HA,hx,fy,oS,aS,sS,m0;o();var hy=new Uw(Rr,Pn);this.xr=hy;var lS=new jw(Rr,cx,Cs.maxTextureSize);this.shadowMap=lS,this.getContext=function(){return Pn},this.getContextAttributes=function(){return Pn.getContextAttributes()},this.forceContextLoss=function(){var gt=xs.get("WEBGL_lose_context");gt&&gt.loseContext()},this.forceContextRestore=function(){var gt=xs.get("WEBGL_lose_context");gt&&gt.restoreContext()},this.getPixelRatio=function(){return bo},this.setPixelRatio=function(gt){gt!==void 0&&(bo=gt,this.setSize(vn,ki,!1))},this.getSize=function(gt){return gt===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),gt=new c),gt.set(vn,ki)},this.setSize=function(gt,Wn,Sr){hy.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(vn=gt,ki=Wn,me.width=Math.floor(gt*bo),me.height=Math.floor(Wn*bo),Sr!==!1&&(me.style.width=gt+"px",me.style.height=Wn+"px"),this.setViewport(0,0,gt,Wn))},this.getDrawingBufferSize=function(gt){return gt===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),gt=new c),gt.set(vn*bo,ki*bo).floor()},this.setDrawingBufferSize=function(gt,Wn,Sr){vn=gt,ki=Wn,bo=Sr,me.width=Math.floor(gt*Sr),me.height=Math.floor(Wn*Sr),this.setViewport(0,0,gt,Wn)},this.getCurrentViewport=function(gt){return gt===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),gt=new w),gt.copy(Yc)},this.getViewport=function(gt){return gt.copy(Br)},this.setViewport=function(gt,Wn,Sr,$n){gt.isVector4?Br.set(gt.x,gt.y,gt.z,gt.w):Br.set(gt,Wn,Sr,$n),ka.viewport(Yc.copy(Br).multiplyScalar(bo).floor())},this.getScissor=function(gt){return gt.copy(Bo)},this.setScissor=function(gt,Wn,Sr,$n){gt.isVector4?Bo.set(gt.x,gt.y,gt.z,gt.w):Bo.set(gt,Wn,Sr,$n),ka.scissor(pt.copy(Bo).multiplyScalar(bo).floor())},this.getScissorTest=function(){return jo},this.setScissorTest=function(gt){ka.setScissorTest(jo=gt)},this.setOpaqueSort=function(gt){Zn=gt},this.setTransparentSort=function(gt){hn=gt},this.getClearColor=function(){return fy.getClearColor()},this.setClearColor=function(){fy.setClearColor.apply(fy,arguments)},this.getClearAlpha=function(){return fy.getClearAlpha()},this.setClearAlpha=function(){fy.setClearAlpha.apply(fy,arguments)},this.clear=function(gt,Wn,Sr){var $n=0;(gt===void 0||gt)&&($n|=16384),(Wn===void 0||Wn)&&($n|=256),(Sr===void 0||Sr)&&($n|=1024),Pn.clear($n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){me.removeEventListener("webglcontextlost",p,!1),me.removeEventListener("webglcontextrestored",g,!1),HA.dispose(),hx.dispose(),Xd.dispose(),cx.dispose(),hy.dispose(),VA.stop()},this.renderBufferImmediate=function(gt,Wn){ka.initAttributes();var Sr=Xd.get(gt);gt.hasPositions&&!Sr.position&&(Sr.position=Pn.createBuffer()),gt.hasNormals&&!Sr.normal&&(Sr.normal=Pn.createBuffer()),gt.hasUvs&&!Sr.uv&&(Sr.uv=Pn.createBuffer()),gt.hasColors&&!Sr.color&&(Sr.color=Pn.createBuffer()),Wn=Wn.getAttributes(),gt.hasPositions&&(Pn.bindBuffer(34962,Sr.position),Pn.bufferData(34962,gt.positionArray,35048),ka.enableAttribute(Wn.position),Pn.vertexAttribPointer(Wn.position,3,5126,!1,0,0)),gt.hasNormals&&(Pn.bindBuffer(34962,Sr.normal),Pn.bufferData(34962,gt.normalArray,35048),ka.enableAttribute(Wn.normal),Pn.vertexAttribPointer(Wn.normal,3,5126,!1,0,0)),gt.hasUvs&&(Pn.bindBuffer(34962,Sr.uv),Pn.bufferData(34962,gt.uvArray,35048),ka.enableAttribute(Wn.uv),Pn.vertexAttribPointer(Wn.uv,2,5126,!1,0,0)),gt.hasColors&&(Pn.bindBuffer(34962,Sr.color),Pn.bufferData(34962,gt.colorArray,35048),ka.enableAttribute(Wn.color),Pn.vertexAttribPointer(Wn.color,3,5126,!1,0,0)),ka.disableUnusedAttributes(),Pn.drawArrays(4,0,gt.count),gt.count=0};var XM=new ct;this.renderBufferDirect=function(gt,Wn,Sr,$n,ao,Dl){Wn===null&&(Wn=XM);var _o=ao.isMesh&&0>ao.matrixWorld.determinant(),Xa=ge(gt,Wn,$n,ao);ka.setMaterial($n,_o);var Ml=!1;if((t!==Sr.id||Ua!==Xa.id||Ql!==($n.wireframe===!0))&&(t=Sr.id,Ua=Xa.id,Ql=$n.wireframe===!0,Ml=!0),($n.morphTargets||$n.morphNormals)&&(oS.update(ao,Sr,$n,Xa),Ml=!0),ao.isInstancedMesh===!0&&(Ml=!0),gt=Sr.index,Wn=Sr.attributes.position,gt===null){if(Wn===void 0||Wn.count===0)return}else if(gt.count===0)return;var ec=1;if($n.wireframe===!0&&(gt=cw.getWireframeAttribute(Sr),ec=2),_o=aS,gt!==null){var wu=ux.get(gt);_o=sS,_o.setIndex(wu)}if(Ml){if(Cs.isWebGL2!==!1||!ao.isInstancedMesh&&!Sr.isInstancedBufferGeometry||xs.get("ANGLE_instanced_arrays")!==null){ka.initAttributes(),Ml=Sr.attributes,Xa=Xa.getAttributes();var zg=$n.defaultAttributeValues;for(a1 in Xa){var ih=Xa[a1];if(0<=ih){var Kd=Ml[a1];if(Kd!==void 0){var v0=Kd.normalized,uS=Kd.itemSize,pg=ux.get(Kd);if(pg!==void 0){var WA=pg.buffer,o1=pg.type;if(pg=pg.bytesPerElement,Kd.isInterleavedBufferAttribute){var dx=Kd.data,KM=dx.stride;Kd=Kd.offset,dx&&dx.isInstancedInterleavedBuffer?(ka.enableAttributeAndDivisor(ih,dx.meshPerAttribute),Sr._maxInstanceCount===void 0&&(Sr._maxInstanceCount=dx.meshPerAttribute*dx.count)):ka.enableAttribute(ih),Pn.bindBuffer(34962,WA),ka.vertexAttribPointer(ih,uS,o1,v0,KM*pg,Kd*pg)}else Kd.isInstancedBufferAttribute?(ka.enableAttributeAndDivisor(ih,Kd.meshPerAttribute),Sr._maxInstanceCount===void 0&&(Sr._maxInstanceCount=Kd.meshPerAttribute*Kd.count)):ka.enableAttribute(ih),Pn.bindBuffer(34962,WA),ka.vertexAttribPointer(ih,uS,o1,v0,0,0)}}else if(a1==="instanceMatrix")pg=ux.get(ao.instanceMatrix),pg!==void 0&&(WA=pg.buffer,o1=pg.type,ka.enableAttributeAndDivisor(ih+0,1),ka.enableAttributeAndDivisor(ih+1,1),ka.enableAttributeAndDivisor(ih+2,1),ka.enableAttributeAndDivisor(ih+3,1),Pn.bindBuffer(34962,WA),Pn.vertexAttribPointer(ih+0,4,o1,!1,64,0),Pn.vertexAttribPointer(ih+1,4,o1,!1,64,16),Pn.vertexAttribPointer(ih+2,4,o1,!1,64,32),Pn.vertexAttribPointer(ih+3,4,o1,!1,64,48));else if(zg!==void 0&&(v0=zg[a1],v0!==void 0))switch(v0.length){case 2:Pn.vertexAttrib2fv(ih,v0);break;case 3:Pn.vertexAttrib3fv(ih,v0);break;case 4:Pn.vertexAttrib4fv(ih,v0);break;default:Pn.vertexAttrib1fv(ih,v0)}}}ka.disableUnusedAttributes()}gt!==null&&Pn.bindBuffer(34963,wu.buffer)}var a1=Sr.drawRange.start*ec;Ml=Dl!==null?Dl.start*ec:0,wu=Math.max(a1,Ml),Dl=Math.max(0,Math.min(gt!==null?gt.count:Wn.count,a1+Sr.drawRange.count*ec,Ml+(Dl!==null?Dl.count*ec:Infinity))-1-wu+1),Dl!==0&&(ao.isMesh?$n.wireframe===!0?(ka.setLineWidth($n.wireframeLinewidth*(lo===null?bo:1)),_o.setMode(1)):_o.setMode(4):ao.isLine?($n=$n.linewidth,$n===void 0&&($n=1),ka.setLineWidth($n*(lo===null?bo:1)),ao.isLineSegments?_o.setMode(1):ao.isLineLoop?_o.setMode(2):_o.setMode(3)):ao.isPoints?_o.setMode(0):ao.isSprite&&_o.setMode(4),ao.isInstancedMesh?_o.renderInstances(Sr,wu,Dl,ao.count):Sr.isInstancedBufferGeometry?_o.renderInstances(Sr,wu,Dl,Math.min(Sr.instanceCount,Sr._maxInstanceCount)):_o.render(wu,Dl))},this.compile=function(gt,Wn){ii=hx.get(gt,Wn),ii.init(),gt.traverse(function($n){$n.isLight&&(ii.pushLight($n),$n.castShadow&&ii.pushShadow($n))}),ii.setupLights(Wn);var Sr={};gt.traverse(function($n){var ao=$n.material;if(ao)if(Array.isArray(ao))for(var Dl=0;Dl<ao.length;Dl++){var _o=ao[Dl];!(_o.uuid in Sr)&&(de(_o,gt,$n),Sr[_o.uuid]=!0)}else!(ao.uuid in Sr)&&(de(ao,gt,$n),Sr[ao.uuid]=!0)})};var hw=null,VA=new qo;VA.setAnimationLoop(function(gt){hy.isPresenting||hw&&hw(gt)}),typeof window!="undefined"&&VA.setContext(window),this.setAnimationLoop=function(gt){hw=gt,hy.setAnimationLoop(gt),VA.start()},this.render=function(gt,Wn,Sr,$n){if(Sr!==void 0){console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.");var ao=Sr}if($n!==void 0){console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.");var Dl=$n}Wn&&Wn.isCamera?ji||(Ua=t=null,Ql=!1,gl=-1,Sl=null,gt.autoUpdate===!0&&gt.updateMatrixWorld(),Wn.parent===null&&Wn.updateMatrixWorld(),hy.enabled&&hy.isPresenting&&(Wn=hy.getCamera(Wn)),gt.onBeforeRender(Rr,gt,Wn,ao||lo),ii=hx.get(gt,Wn),ii.init(),Xc.multiplyMatrices(Wn.projectionMatrix,Wn.matrixWorldInverse),Rs.setFromProjectionMatrix(Xc),js=this.localClippingEnabled,uo=gi.init(this.clippingPlanes,js,Wn),lr=HA.get(gt,Wn),lr.init(),k(gt,Wn,0,Rr.sortObjects),lr.finish(),Rr.sortObjects===!0&&lr.sort(Zn,hn),uo&&gi.beginShadows(),lS.render(ii.state.shadowsArray,gt,Wn),ii.setupLights(Wn),uo&&gi.endShadows(),this.info.autoReset&&this.info.reset(),ao!==void 0&&this.setRenderTarget(ao),fy.render(lr,gt,Wn,Dl),Sr=lr.opaque,$n=lr.transparent,gt.overrideMaterial?(ao=gt.overrideMaterial,Sr.length&&X(Sr,gt,Wn,ao),$n.length&&X($n,gt,Wn,ao)):(Sr.length&&X(Sr,gt,Wn),$n.length&&X($n,gt,Wn)),gt.onAfterRender(Rr,gt,Wn),lo!==null&&(dg.updateRenderTargetMipmap(lo),dg.updateMultisampleRenderTarget(lo)),ka.buffers.depth.setTest(!0),ka.buffers.depth.setMask(!0),ka.buffers.color.setMask(!0),ka.setPolygonOffset(!1),ii=lr=null):console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(gt){ro!==gt&&lo===null&&Pn.bindFramebuffer(36160,gt),ro=gt},this.getActiveCubeFace=function(){return oi},this.getActiveMipmapLevel=function(){return Ba},this.getRenderTarget=function(){return lo},this.setRenderTarget=function(gt,Wn,Sr){lo=gt,oi=Wn,Ba=Sr,gt&&Xd.get(gt).__webglFramebuffer===void 0&&dg.setupRenderTarget(gt);var $n=ro,ao=!1;gt?($n=Xd.get(gt).__webglFramebuffer,gt.isWebGLCubeRenderTarget?($n=$n[Wn||0],ao=!0):$n=gt.isWebGLMultisampleRenderTarget?Xd.get(gt).__webglMultisampledFramebuffer:$n,Yc.copy(gt.viewport),pt.copy(gt.scissor),Ht=gt.scissorTest):(Yc.copy(Br).multiplyScalar(bo).floor(),pt.copy(Bo).multiplyScalar(bo).floor(),Ht=jo),Ea!==$n&&(Pn.bindFramebuffer(36160,$n),Ea=$n),ka.viewport(Yc),ka.scissor(pt),ka.setScissorTest(Ht),ao&&(gt=Xd.get(gt.texture),Pn.framebufferTexture2D(36160,36064,34069+(Wn||0),gt.__webglTexture,Sr||0))},this.readRenderTargetPixels=function(gt,Wn,Sr,$n,ao,Dl,_o){if(gt&&gt.isWebGLRenderTarget){var Xa=Xd.get(gt).__webglFramebuffer;if(gt.isWebGLCubeRenderTarget&&_o!==void 0&&(Xa=Xa[_o]),Xa){_o=!1,Xa!==Ea&&(Pn.bindFramebuffer(36160,Xa),_o=!0);try{var Ml=gt.texture,ec=Ml.format,wu=Ml.type;ec!==1023&&m0.convert(ec)!==Pn.getParameter(35739)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):wu===1009||m0.convert(wu)===Pn.getParameter(35738)||wu===1015&&(Cs.isWebGL2||xs.get("OES_texture_float")||xs.get("WEBGL_color_buffer_float"))||wu===1016&&(Cs.isWebGL2?xs.get("EXT_color_buffer_float"):xs.get("EXT_color_buffer_half_float"))?Pn.checkFramebufferStatus(36160)===36053?0<=Wn&&Wn<=gt.width-$n&&0<=Sr&&Sr<=gt.height-ao&&Pn.readPixels(Wn,Sr,$n,ao,m0.convert(ec),m0.convert(wu),Dl):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{_o&&Pn.bindFramebuffer(36160,Ea)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(gt,Wn,Sr){Sr===void 0&&(Sr=0);var $n=Math.pow(2,-Sr),ao=Math.floor(Wn.image.width*$n);$n=Math.floor(Wn.image.height*$n);var Dl=m0.convert(Wn.format);dg.setTexture2D(Wn,0),Pn.copyTexImage2D(3553,Sr,Dl,gt.x,gt.y,ao,$n,0),ka.unbindTexture()},this.copyTextureToTexture=function(gt,Wn,Sr,$n){$n===void 0&&($n=0);var ao=Wn.image.width,Dl=Wn.image.height,_o=m0.convert(Sr.format),Xa=m0.convert(Sr.type);dg.setTexture2D(Sr,0),Wn.isDataTexture?Pn.texSubImage2D(3553,$n,gt.x,gt.y,ao,Dl,_o,Xa,Wn.image.data):Wn.isCompressedTexture?Pn.compressedTexSubImage2D(3553,$n,gt.x,gt.y,Wn.mipmaps[0].width,Wn.mipmaps[0].height,_o,Wn.mipmaps[0].data):Pn.texSubImage2D(3553,$n,gt.x,gt.y,_o,Xa,Wn.image),$n===0&&Sr.generateMipmaps&&Pn.generateMipmap(3553),ka.unbindTexture()},this.initTexture=function(gt){dg.setTexture2D(gt,0),ka.unbindTexture()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function _C(u,t){this.name="",this.color=new wt(u),this.density=t!==void 0?t:25e-5}function IC(u,t,o){this.name="",this.color=new wt(u),this.near=t!==void 0?t:1,this.far=o!==void 0?o:1e3}function n0(u,t){this.array=u,this.stride=t,this.count=u!==void 0?u.length/t:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}function wx(u,t,o,p){this.name="",this.data=u,this.itemSize=t,this.offset=o,this.normalized=p===!0}function q0(u){Pr.call(this),this.type="SpriteMaterial",this.color=new wt(16777215),this.alphaMap=this.map=null,this.rotation=0,this.transparent=this.sizeAttenuation=!0,this.setValues(u)}function bx(u){if(Me.call(this),this.type="Sprite",ix===void 0){ix=new Kt;var t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]);t=new n0(t,5),ix.setIndex([0,1,2,0,2,3]),ix.setAttribute("position",new wx(t,3,0,!1)),ix.setAttribute("uv",new wx(t,2,3,!1))}this.geometry=ix,this.material=u!==void 0?u:new q0,this.center=new c(.5,.5)}function PC(u,t,o,p,g,b){sx.subVectors(u,o).addScalar(.5).multiply(p),g!==void 0?(cC.x=b*sx.x-g*sx.y,cC.y=g*sx.x+b*sx.y):cC.copy(sx),u.copy(t),u.x+=cC.x,u.y+=cC.y,u.applyMatrix4(Ib)}function Sx(){Me.call(this),this._currentLevel=0,this.type="LOD",Ia(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function OC(u,t){u&&u.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Hr.call(this,u,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ae,this.bindMatrixInverse=new ae}function RC(u,t){if(u=u||[],this.bones=u.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,t===void 0)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else for(console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[],u=0,t=this.bones.length;u<t;u++)this.boneInverses.push(new ae)}function $A(){Me.call(this),this.type="Bone"}function LC(u,t,o){Hr.call(this,u,t),this.instanceMatrix=new En(new Float32Array(16*o),16),this.count=o,this.frustumCulled=!1}function bh(u){Pr.call(this),this.type="LineBasicMaterial",this.color=new wt(16777215),this.linewidth=1,this.linejoin=this.linecap="round",this.morphTargets=!1,this.setValues(u)}function ev(u,t,o){o===1&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Me.call(this),this.type="Line",this.geometry=u!==void 0?u:new Kt,this.material=t!==void 0?t:new bh,this.updateMorphTargets()}function Bh(u,t){ev.call(this,u,t),this.type="LineSegments"}function DC(u,t){ev.call(this,u,t),this.type="LineLoop"}function ng(u){Pr.call(this),this.type="PointsMaterial",this.color=new wt(16777215),this.alphaMap=this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(u)}function C1(u,t){Me.call(this),this.type="Points",this.geometry=u!==void 0?u:new Kt,this.material=t!==void 0?t:new ng,this.updateMorphTargets()}function e2(u,t,o,p,g,b,_){var D=Q2.distanceSqToPoint(u);D<o&&(o=new W,Q2.closestPointToPoint(u,o),o.applyMatrix4(p),u=g.ray.origin.distanceTo(o),u<g.near||u>g.far||b.push({distance:u,distanceToRay:Math.sqrt(D),point:o,index:t,face:null,object:_}))}function t2(u,t,o,p,g,b,_,D,k){x.call(this,u,t,o,p,g,b,_,D,k),this.format=_!==void 0?_:1022,this.minFilter=b!==void 0?b:1006,this.magFilter=g!==void 0?g:1006,this.generateMipmaps=!1}function A1(u,t,o,p,g,b,_,D,k,X,$,de){x.call(this,null,b,_,D,k,X,p,g,$,de),this.image={width:t,height:o},this.mipmaps=u,this.generateMipmaps=this.flipY=!1}function Mx(u,t,o,p,g,b,_,D,k){x.call(this,u,t,o,p,g,b,_,D,k),this.needsUpdate=!0}function Ex(u,t,o,p,g,b,_,D,k,X){if(X=X!==void 0?X:1026,X!==1026&&X!==1027)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");o===void 0&&X===1026&&(o=1012),o===void 0&&X===1027&&(o=1020),x.call(this,null,p,g,b,_,D,X,o,k),this.image={width:u,height:t},this.magFilter=_!==void 0?_:1003,this.minFilter=D!==void 0?D:1003,this.generateMipmaps=this.flipY=!1}function w1(u){Kt.call(this),this.type="WireframeGeometry";var t=[],o,p,g,b=[0,0],_={},D=["a","b","c"];if(u&&u.isGeometry){var k=u.faces,X=0;for(p=k.length;X<p;X++){var $=k[X];for(o=0;3>o;o++){var de=$[D[o]],ge=$[D[(o+1)%3]];b[0]=Math.min(de,ge),b[1]=Math.max(de,ge),de=b[0]+","+b[1],_[de]===void 0&&(_[de]={index1:b[0],index2:b[1]})}}for(de in _)X=_[de],D=u.vertices[X.index1],t.push(D.x,D.y,D.z),D=u.vertices[X.index2],t.push(D.x,D.y,D.z)}else if(u&&u.isBufferGeometry)if(D=new W,u.index!==null){k=u.attributes.position,$=u.index;var me=u.groups;for(me.length===0&&(me=[{start:0,count:$.count,materialIndex:0}]),u=0,g=me.length;u<g;++u)for(X=me[u],o=X.start,p=X.count,X=o,p=o+p;X<p;X+=3)for(o=0;3>o;o++)de=$.getX(X+o),ge=$.getX(X+(o+1)%3),b[0]=Math.min(de,ge),b[1]=Math.max(de,ge),de=b[0]+","+b[1],_[de]===void 0&&(_[de]={index1:b[0],index2:b[1]});for(de in _)X=_[de],D.fromBufferAttribute(k,X.index1),t.push(D.x,D.y,D.z),D.fromBufferAttribute(k,X.index2),t.push(D.x,D.y,D.z)}else for(k=u.attributes.position,X=0,p=k.count/3;X<p;X++)for(o=0;3>o;o++)_=3*X+o,D.fromBufferAttribute(k,_),t.push(D.x,D.y,D.z),_=3*X+(o+1)%3,D.fromBufferAttribute(k,_),t.push(D.x,D.y,D.z);this.setAttribute("position",new vi(t,3))}function Tx(u,t,o){Or.call(this),this.type="ParametricGeometry",this.parameters={func:u,slices:t,stacks:o},this.fromBufferGeometry(new b1(u,t,o)),this.mergeVertices()}function b1(u,t,o){Kt.call(this),this.type="ParametricBufferGeometry",this.parameters={func:u,slices:t,stacks:o};var p=[],g=[],b=[],_=[],D=new W,k=new W,X=new W,$=new W,de=new W,ge,me;3>u.length&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var Ee=t+1;for(ge=0;ge<=o;ge++){var ke=ge/o;for(me=0;me<=t;me++){var xt=me/t;u(xt,ke,k),g.push(k.x,k.y,k.z),0<=xt-1e-5?(u(xt-1e-5,ke,X),$.subVectors(k,X)):(u(xt+1e-5,ke,X),$.subVectors(X,k)),0<=ke-1e-5?(u(xt,ke-1e-5,X),de.subVectors(k,X)):(u(xt,ke+1e-5,X),de.subVectors(X,k)),D.crossVectors($,de).normalize(),b.push(D.x,D.y,D.z),_.push(xt,ke)}}for(ge=0;ge<o;ge++)for(me=0;me<t;me++)u=ge*Ee+me+1,D=(ge+1)*Ee+me+1,k=(ge+1)*Ee+me,p.push(ge*Ee+me,u,k),p.push(u,D,k);this.setIndex(p),this.setAttribute("position",new vi(g,3)),this.setAttribute("normal",new vi(b,3)),this.setAttribute("uv",new vi(_,2))}function _x(u,t,o,p){Or.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:u,indices:t,radius:o,detail:p},this.fromBufferGeometry(new Fm(u,t,o,p)),this.mergeVertices()}function Fm(u,t,o,p){function g(X){D.push(X.x,X.y,X.z)}function b(X,$){X*=3,$.x=u[X+0],$.y=u[X+1],$.z=u[X+2]}function _(X,$,de,ge){0>ge&&X.x===1&&(k[$]=X.x-1),de.x===0&&de.z===0&&(k[$]=ge/2/Math.PI+.5)}Kt.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:u,indices:t,radius:o,detail:p},o=o||1,p=p||0;var D=[],k=[];(function(X){for(var $=new W,de=new W,ge=new W,me=0;me<t.length;me+=3){b(t[me+0],$),b(t[me+1],de),b(t[me+2],ge);var Ee,ke,xt=$,qt=de,Qt=ge,er=Math.pow(2,X),dr=[];for(ke=0;ke<=er;ke++){dr[ke]=[];var gn=xt.clone().lerp(Qt,ke/er),Zr=qt.clone().lerp(Qt,ke/er),lr=er-ke;for(Ee=0;Ee<=lr;Ee++)dr[ke][Ee]=Ee===0&&ke===er?gn:gn.clone().lerp(Zr,Ee/lr)}for(ke=0;ke<er;ke++)for(Ee=0;Ee<2*(er-ke)-1;Ee++)xt=Math.floor(Ee/2),Ee%2==0?(g(dr[ke][xt+1]),g(dr[ke+1][xt]),g(dr[ke][xt])):(g(dr[ke][xt+1]),g(dr[ke+1][xt+1]),g(dr[ke+1][xt]))}})(p),function(X){for(var $=new W,de=0;de<D.length;de+=3)$.x=D[de+0],$.y=D[de+1],$.z=D[de+2],$.normalize().multiplyScalar(X),D[de+0]=$.x,D[de+1]=$.y,D[de+2]=$.z}(o),function(){for(var X=new W,$=0;$<D.length;$+=3)X.x=D[$+0],X.y=D[$+1],X.z=D[$+2],k.push(Math.atan2(X.z,-X.x)/2/Math.PI+.5,1-(Math.atan2(-X.y,Math.sqrt(X.x*X.x+X.z*X.z))/Math.PI+.5));X=new W,$=new W;for(var de=new W,ge=new W,me=new c,Ee=new c,ke=new c,xt=0,qt=0;xt<D.length;xt+=9,qt+=6){X.set(D[xt+0],D[xt+1],D[xt+2]),$.set(D[xt+3],D[xt+4],D[xt+5]),de.set(D[xt+6],D[xt+7],D[xt+8]),me.set(k[qt+0],k[qt+1]),Ee.set(k[qt+2],k[qt+3]),ke.set(k[qt+4],k[qt+5]),ge.copy(X).add($).add(de).divideScalar(3);var Qt=Math.atan2(ge.z,-ge.x);_(me,qt+0,X,Qt),_(Ee,qt+2,$,Qt),_(ke,qt+4,de,Qt)}for(X=0;X<k.length;X+=6)$=k[X+0],de=k[X+2],ge=k[X+4],me=Math.min($,de,ge),.9<Math.max($,de,ge)&&.1>me&&(.2>$&&(k[X+0]+=1),.2>de&&(k[X+2]+=1),.2>ge&&(k[X+4]+=1))}(),this.setAttribute("position",new vi(D,3)),this.setAttribute("normal",new vi(D.slice(),3)),this.setAttribute("uv",new vi(k,2)),p===0?this.computeVertexNormals():this.normalizeNormals()}function Ix(u,t){Or.call(this),this.type="TetrahedronGeometry",this.parameters={radius:u,detail:t},this.fromBufferGeometry(new S1(u,t)),this.mergeVertices()}function S1(u,t){Fm.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],u,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:u,detail:t}}function Px(u,t){Or.call(this),this.type="OctahedronGeometry",this.parameters={radius:u,detail:t},this.fromBufferGeometry(new Dy(u,t)),this.mergeVertices()}function Dy(u,t){Fm.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],u,t),this.type="OctahedronBufferGeometry",this.parameters={radius:u,detail:t}}function Ox(u,t){Or.call(this),this.type="IcosahedronGeometry",this.parameters={radius:u,detail:t},this.fromBufferGeometry(new M1(u,t)),this.mergeVertices()}function M1(u,t){var o=(1+Math.sqrt(5))/2;Fm.call(this,[-1,o,0,1,o,0,-1,-o,0,1,-o,0,0,-1,o,0,1,o,0,-1,-o,0,1,-o,o,0,-1,o,0,1,-o,0,-1,-o,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],u,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:u,detail:t}}function Rx(u,t){Or.call(this),this.type="DodecahedronGeometry",this.parameters={radius:u,detail:t},this.fromBufferGeometry(new E1(u,t)),this.mergeVertices()}function E1(u,t){var o=(1+Math.sqrt(5))/2,p=1/o;Fm.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-p,-o,0,-p,o,0,p,-o,0,p,o,-p,-o,0,-p,o,0,p,-o,0,p,o,0,-o,0,-p,o,0,-p,-o,0,p,o,0,p],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],u,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:u,detail:t}}function Lx(u,t,o,p,g,b){Or.call(this),this.type="TubeGeometry",this.parameters={path:u,tubularSegments:t,radius:o,radialSegments:p,closed:g},b!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed."),u=new Ny(u,t,o,p,g),this.tangents=u.tangents,this.normals=u.normals,this.binormals=u.binormals,this.fromBufferGeometry(u),this.mergeVertices()}function Ny(u,t,o,p,g){function b(qt){$=u.getPointAt(qt/t,$);var Qt=_.normals[qt];for(qt=_.binormals[qt],ge=0;ge<=p;ge++){var er=ge/p*Math.PI*2,dr=Math.sin(er);er=-Math.cos(er),k.x=er*Qt.x+dr*qt.x,k.y=er*Qt.y+dr*qt.y,k.z=er*Qt.z+dr*qt.z,k.normalize(),Ee.push(k.x,k.y,k.z),D.x=$.x+o*k.x,D.y=$.y+o*k.y,D.z=$.z+o*k.z,me.push(D.x,D.y,D.z)}}Kt.call(this),this.type="TubeBufferGeometry",this.parameters={path:u,tubularSegments:t,radius:o,radialSegments:p,closed:g},t=t||64,o=o||1,p=p||8,g=g||!1;var _=u.computeFrenetFrames(t,g);this.tangents=_.tangents,this.normals=_.normals,this.binormals=_.binormals;var D=new W,k=new W,X=new c,$=new W,de,ge,me=[],Ee=[],ke=[],xt=[];for(de=0;de<t;de++)b(de);for(b(g===!1?t:0),de=0;de<=t;de++)for(ge=0;ge<=p;ge++)X.x=de/t,X.y=ge/p,ke.push(X.x,X.y);(function(){for(ge=1;ge<=t;ge++)for(de=1;de<=p;de++){var qt=(p+1)*ge+(de-1),Qt=(p+1)*ge+de,er=(p+1)*(ge-1)+de;xt.push((p+1)*(ge-1)+(de-1),qt,er),xt.push(qt,Qt,er)}})(),this.setIndex(xt),this.setAttribute("position",new vi(me,3)),this.setAttribute("normal",new vi(Ee,3)),this.setAttribute("uv",new vi(ke,2))}function Dx(u,t,o,p,g,b,_){Or.call(this),this.type="TorusKnotGeometry",this.parameters={radius:u,tube:t,tubularSegments:o,radialSegments:p,p:g,q:b},_!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new T1(u,t,o,p,g,b)),this.mergeVertices()}function T1(u,t,o,p,g,b){function _(Zr,lr,ii,Rr,ji){var ro=Math.sin(Zr);lr=ii/lr*Zr,ii=Math.cos(lr),ji.x=Rr*(2+ii)*.5*Math.cos(Zr),ji.y=Rr*(2+ii)*ro*.5,ji.z=Rr*Math.sin(lr)*.5}Kt.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:u,tube:t,tubularSegments:o,radialSegments:p,p:g,q:b},u=u||1,t=t||.4,o=Math.floor(o)||64,p=Math.floor(p)||8,g=g||2,b=b||3;var D=[],k=[],X=[],$=[],de,ge=new W,me=new W,Ee=new W,ke=new W,xt=new W,qt=new W,Qt=new W;for(de=0;de<=o;++de){var er=de/o*g*Math.PI*2;for(_(er,g,b,u,Ee),_(er+.01,g,b,u,ke),qt.subVectors(ke,Ee),Qt.addVectors(ke,Ee),xt.crossVectors(qt,Qt),Qt.crossVectors(xt,qt),xt.normalize(),Qt.normalize(),er=0;er<=p;++er){var dr=er/p*Math.PI*2,gn=-t*Math.cos(dr);dr=t*Math.sin(dr),ge.x=Ee.x+(gn*Qt.x+dr*xt.x),ge.y=Ee.y+(gn*Qt.y+dr*xt.y),ge.z=Ee.z+(gn*Qt.z+dr*xt.z),k.push(ge.x,ge.y,ge.z),me.subVectors(ge,Ee).normalize(),X.push(me.x,me.y,me.z),$.push(de/o),$.push(er/p)}}for(er=1;er<=o;er++)for(de=1;de<=p;de++)u=(p+1)*er+(de-1),t=(p+1)*er+de,g=(p+1)*(er-1)+de,D.push((p+1)*(er-1)+(de-1),u,g),D.push(u,t,g);this.setIndex(D),this.setAttribute("position",new vi(k,3)),this.setAttribute("normal",new vi(X,3)),this.setAttribute("uv",new vi($,2))}function Nx(u,t,o,p,g){Or.call(this),this.type="TorusGeometry",this.parameters={radius:u,tube:t,radialSegments:o,tubularSegments:p,arc:g},this.fromBufferGeometry(new _1(u,t,o,p,g)),this.mergeVertices()}function _1(u,t,o,p,g){Kt.call(this),this.type="TorusBufferGeometry",this.parameters={radius:u,tube:t,radialSegments:o,tubularSegments:p,arc:g},u=u||1,t=t||.4,o=Math.floor(o)||8,p=Math.floor(p)||6,g=g||2*Math.PI;var b=[],_=[],D=[],k=[],X=new W,$=new W,de=new W,ge,me;for(ge=0;ge<=o;ge++)for(me=0;me<=p;me++){var Ee=me/p*g,ke=ge/o*Math.PI*2;$.x=(u+t*Math.cos(ke))*Math.cos(Ee),$.y=(u+t*Math.cos(ke))*Math.sin(Ee),$.z=t*Math.sin(ke),_.push($.x,$.y,$.z),X.x=u*Math.cos(Ee),X.y=u*Math.sin(Ee),de.subVectors($,X).normalize(),D.push(de.x,de.y,de.z),k.push(me/p),k.push(ge/o)}for(ge=1;ge<=o;ge++)for(me=1;me<=p;me++)u=(p+1)*(ge-1)+me-1,t=(p+1)*(ge-1)+me,g=(p+1)*ge+me,b.push((p+1)*ge+me-1,u,g),b.push(u,t,g);this.setIndex(b),this.setAttribute("position",new vi(_,3)),this.setAttribute("normal",new vi(D,3)),this.setAttribute("uv",new vi(k,2))}function kw(u,t,o,p,g){for(var b,_=0,D=t,k=o-p;D<o;D+=p)_+=(u[k]-u[D])*(u[D+1]+u[k+1]),k=D;if(g===0<_)for(g=t;g<o;g+=p)b=Ww(g,u[g],u[g+1],b);else for(g=o-p;g>=t;g-=p)b=Ww(g,u[g],u[g+1],b);return b&&NC(b,b.next)&&(jx(b),b=b.next),b}function $0(u,t){if(!u)return u;t||(t=u);do{var o=!1;if(u.steiner||!NC(u,u.next)&&jh(u.prev,u,u.next)!==0)u=u.next;else{if(jx(u),u=t=u.prev,u===u.next)break;o=!0}}while(o||u!==t);return t}function Fx(u,t,o,p,g,b,_){if(u){if(!_&&b){var D=u,k=D;do k.z===null&&(k.z=r2(k.x,k.y,p,g,b)),k.prevZ=k.prev,k=k.nextZ=k.next;while(k!==D);k.prevZ.nextZ=null,k.prevZ=null,D=k;var X,$,de,ge,me=1;do{k=D;var Ee=D=null;for($=0;k;){$++;var ke=k;for(X=de=0;X<me&&(de++,ke=ke.nextZ,ke);X++);for(ge=me;0<de||0<ge&&ke;)de!==0&&(ge===0||!ke||k.z<=ke.z)?(X=k,k=k.nextZ,de--):(X=ke,ke=ke.nextZ,ge--),Ee?Ee.nextZ=X:D=X,X.prevZ=Ee,Ee=X;k=ke}Ee.nextZ=null,me*=2}while(1<$)}for(D=u;u.prev!==u.next;){if(k=u.prev,ke=u.next,b)Ee=sM(u,p,g,b);else e:if(Ee=u,$=Ee.prev,de=Ee,me=Ee.next,0<=jh($,de,me))Ee=!1;else{for(X=Ee.next.next;X!==Ee.prev;){if(I1($.x,$.y,de.x,de.y,me.x,me.y,X.x,X.y)&&0<=jh(X.prev,X,X.next)){Ee=!1;break e}X=X.next}Ee=!0}if(Ee)t.push(k.i/o),t.push(u.i/o),t.push(ke.i/o),jx(u),D=u=ke.next;else if(u=ke,u===D){if(!_)Fx($0(u),t,o,p,g,b,1);else if(_===1){u=$0(u),_=t,D=o,k=u;do ke=k.prev,Ee=k.next.next,!NC(ke,Ee)&&Hw(ke,k,k.next,Ee)&&Bx(ke,Ee)&&Bx(Ee,ke)&&(_.push(ke.i/D),_.push(k.i/D),_.push(Ee.i/D),jx(k),jx(k.next),k=u=Ee),k=k.next;while(k!==u);u=$0(k),Fx(u,t,o,p,g,b,2)}else if(_===2)e:{_=u;do{for(D=_.next.next;D!==_.prev;){if(k=_.i!==D.i){if(k=_,ke=D,Ee=k.next.i!==ke.i&&k.prev.i!==ke.i){t:{Ee=k;do{if(Ee.i!==k.i&&Ee.next.i!==k.i&&Ee.i!==ke.i&&Ee.next.i!==ke.i&&Hw(Ee,Ee.next,k,ke)){Ee=!0;break t}Ee=Ee.next}while(Ee!==k);Ee=!1}Ee=!Ee}if(Ee){if(Ee=Bx(k,ke)&&Bx(ke,k)){Ee=k,$=!1,de=(k.x+ke.x)/2,me=(k.y+ke.y)/2;do Ee.y>me!=Ee.next.y>me&&Ee.next.y!==Ee.y&&de<(Ee.next.x-Ee.x)*(me-Ee.y)/(Ee.next.y-Ee.y)+Ee.x&&($=!$),Ee=Ee.next;while(Ee!==k);Ee=$}Ee=Ee&&(jh(k.prev,k,ke.prev)||jh(k,ke.prev,ke))||NC(k,ke)&&0<jh(k.prev,k,k.next)&&0<jh(ke.prev,ke,ke.next)}k=Ee}if(k){u=Vw(_,D),_=$0(_,_.next),u=$0(u,u.next),Fx(_,t,o,p,g,b),Fx(u,t,o,p,g,b);break e}D=D.next}_=_.next}while(_!==u)}break}}}}function sM(u,t,o,p){var g=u.prev,b=u.next;if(0<=jh(g,u,b))return!1;var _=g.x>u.x?g.x>b.x?g.x:b.x:u.x>b.x?u.x:b.x,D=g.y>u.y?g.y>b.y?g.y:b.y:u.y>b.y?u.y:b.y,k=r2(g.x<u.x?g.x<b.x?g.x:b.x:u.x<b.x?u.x:b.x,g.y<u.y?g.y<b.y?g.y:b.y:u.y<b.y?u.y:b.y,t,o,p);for(t=r2(_,D,t,o,p),o=u.prevZ,p=u.nextZ;o&&o.z>=k&&p&&p.z<=t;){if(o!==u.prev&&o!==u.next&&I1(g.x,g.y,u.x,u.y,b.x,b.y,o.x,o.y)&&0<=jh(o.prev,o,o.next)||(o=o.prevZ,p!==u.prev&&p!==u.next&&I1(g.x,g.y,u.x,u.y,b.x,b.y,p.x,p.y)&&0<=jh(p.prev,p,p.next)))return!1;p=p.nextZ}for(;o&&o.z>=k;){if(o!==u.prev&&o!==u.next&&I1(g.x,g.y,u.x,u.y,b.x,b.y,o.x,o.y)&&0<=jh(o.prev,o,o.next))return!1;o=o.prevZ}for(;p&&p.z<=t;){if(p!==u.prev&&p!==u.next&&I1(g.x,g.y,u.x,u.y,b.x,b.y,p.x,p.y)&&0<=jh(p.prev,p,p.next))return!1;p=p.nextZ}return!0}function lM(u,t){return u.x-t.x}function uM(u,t){var o=t,p=u.x,g=u.y,b=-Infinity;do{if(g<=o.y&&g>=o.next.y&&o.next.y!==o.y){var _=o.x+(g-o.y)*(o.next.x-o.x)/(o.next.y-o.y);if(_<=p&&_>b){if(b=_,_===p){if(g===o.y)return o;if(g===o.next.y)return o.next}var D=o.x<o.next.x?o:o.next}}o=o.next}while(o!==t);if(!D)return null;if(p===b)return D;t=D,_=D.x;var k=D.y,X=Infinity;o=D;do{if(p>=o.x&&o.x>=_&&p!==o.x&&I1(g<k?p:b,g,_,k,g<k?b:p,g,o.x,o.y)){var $=Math.abs(g-o.y)/(p-o.x),de;if((de=Bx(o,u))&&!(de=$<X)&&(de=$===X)&&!(de=o.x>D.x)&&(de=o.x===D.x)){de=D;var ge=o;de=0>jh(de.prev,de,ge.prev)&&0>jh(ge.next,de,de.next)}de&&(D=o,X=$)}o=o.next}while(o!==t);return D}function r2(u,t,o,p,g){return u=32767*(u-o)*g,t=32767*(t-p)*g,u=(u|u<<8)&16711935,u=(u|u<<4)&252645135,u=(u|u<<2)&858993459,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,(u|u<<1)&1431655765|((t|t<<1)&1431655765)<<1}function cM(u){var t=u,o=u;do(t.x<o.x||t.x===o.x&&t.y<o.y)&&(o=t),t=t.next;while(t!==u);return o}function I1(u,t,o,p,g,b,_,D){return 0<=(g-_)*(t-D)-(u-_)*(b-D)&&0<=(u-_)*(p-D)-(o-_)*(t-D)&&0<=(o-_)*(b-D)-(g-_)*(p-D)}function jh(u,t,o){return(t.y-u.y)*(o.x-t.x)-(t.x-u.x)*(o.y-t.y)}function NC(u,t){return u.x===t.x&&u.y===t.y}function Hw(u,t,o,p){var g=BC(jh(u,t,o)),b=BC(jh(u,t,p)),_=BC(jh(o,p,u)),D=BC(jh(o,p,t));return!!(g!==b&&_!==D||g===0&&FC(u,o,t)||b===0&&FC(u,p,t)||_===0&&FC(o,u,p)||D===0&&FC(o,t,p))}function FC(u,t,o){return t.x<=Math.max(u.x,o.x)&&t.x>=Math.min(u.x,o.x)&&t.y<=Math.max(u.y,o.y)&&t.y>=Math.min(u.y,o.y)}function BC(u){return 0<u?1:0>u?-1:0}function Bx(u,t){return 0>jh(u.prev,u,u.next)?0<=jh(u,t,u.next)&&0<=jh(u,u.prev,t):0>jh(u,t,u.prev)||0>jh(u,u.next,t)}function Vw(u,t){var o=new n2(u.i,u.x,u.y),p=new n2(t.i,t.x,t.y),g=u.next,b=t.prev;return u.next=t,t.prev=u,o.next=g,g.prev=o,p.next=o,o.prev=p,b.next=p,p.prev=b,p}function Ww(u,t,o,p){return u=new n2(u,t,o),p?(u.next=p.next,u.prev=p,p.next.prev=u,p.next=u):(u.prev=u,u.next=u),u}function jx(u){u.next.prev=u.prev,u.prev.next=u.next,u.prevZ&&(u.prevZ.nextZ=u.nextZ),u.nextZ&&(u.nextZ.prevZ=u.prevZ)}function n2(u,t,o){this.i=u,this.x=t,this.y=o,this.nextZ=this.prevZ=this.z=this.next=this.prev=null,this.steiner=!1}function Gw(u){var t=u.length;2<t&&u[t-1].equals(u[0])&&u.pop()}function Yw(u,t){for(var o=0;o<t.length;o++)u.push(t[o].x),u.push(t[o].y)}function Fy(u,t){Or.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:u,options:t},this.fromBufferGeometry(new Ig(u,t)),this.mergeVertices()}function Ig(u,t){function o(k){function X(uo,js,Xc){return js||console.error("THREE.ExtrudeGeometry: vec does not exist"),js.clone().multiplyScalar(Xc).add(uo)}function $(uo,js,Xc){var iu=uo.x-js.x,Pn=uo.y-js.y,xs=Xc.x-uo.x,Cs=Xc.y-uo.y,ka=iu*iu+Pn*Pn;if(Math.abs(iu*Cs-Pn*xs)>Ic){var Xp=Math.sqrt(ka),Xd=Math.sqrt(xs*xs+Cs*Cs);if(ka=js.x-Pn/Xp,js=js.y+iu/Xp,Cs=((Xc.x-Cs/Xd-ka)*Cs-(Xc.y+xs/Xd-js)*xs)/(iu*Cs-Pn*xs),xs=ka+iu*Cs-uo.x,iu=js+Pn*Cs-uo.y,Pn=xs*xs+iu*iu,2>=Pn)return new c(xs,iu);Pn=Math.sqrt(Pn/2)}else uo=!1,iu>Ic?xs>Ic&&(uo=!0):iu<-Ic?xs<-Ic&&(uo=!0):Im(Pn)===Im(Cs)&&(uo=!0),uo?(xs=-Pn,Pn=Math.sqrt(ka)):(xs=iu,iu=Pn,Pn=Math.sqrt(ka/2));return new c(xs/Pn,iu/Pn)}function de(uo,js){for(Zn=uo.length;0<=--Zn;){var Xc=Zn,iu=Zn-1;0>iu&&(iu=uo.length-1);var Pn,xs=Qt+2*ii;for(Pn=0;Pn<xs;Pn++){var Cs=vn*Pn,ka=vn*(Pn+1),Xp=js+iu+Cs,Xd=js+iu+ka;ka=js+Xc+ka,Ee(js+Xc+Cs),Ee(Xp),Ee(ka),Ee(Xp),Ee(Xd),Ee(ka),Cs=g.length/3,Cs=ji.generateSideWallUV(p,g,Cs-6,Cs-3,Cs-2,Cs-1),ke(Cs[0]),ke(Cs[1]),ke(Cs[3]),ke(Cs[1]),ke(Cs[2]),ke(Cs[3])}}}function ge(uo,js,Xc){xt.push(uo),xt.push(js),xt.push(Xc)}function me(uo,js,Xc){Ee(uo),Ee(js),Ee(Xc),uo=g.length/3,uo=ji.generateTopUV(p,g,uo-3,uo-2,uo-1),ke(uo[0]),ke(uo[1]),ke(uo[2])}function Ee(uo){g.push(xt[3*uo]),g.push(xt[3*uo+1]),g.push(xt[3*uo+2])}function ke(uo){b.push(uo.x),b.push(uo.y)}var xt=[],qt=t.curveSegments!==void 0?t.curveSegments:12,Qt=t.steps!==void 0?t.steps:1,er=t.depth!==void 0?t.depth:100,dr=t.bevelEnabled!==void 0?t.bevelEnabled:!0,gn=t.bevelThickness!==void 0?t.bevelThickness:6,Zr=t.bevelSize!==void 0?t.bevelSize:gn-2,lr=t.bevelOffset!==void 0?t.bevelOffset:0,ii=t.bevelSegments!==void 0?t.bevelSegments:3,Rr=t.extrudePath,ji=t.UVGenerator!==void 0?t.UVGenerator:LM;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),er=t.amount);var ro=!1;if(Rr){var oi=Rr.getSpacedPoints(Qt);ro=!0,dr=!1;var Ba=Rr.computeFrenetFrames(Qt,!1),lo=new W,Ea=new W,gl=new W}dr||(lr=Zr=gn=ii=0);var Ua;qt=k.extractPoints(qt),k=qt.shape;var Ql=qt.holes;if(!p0.isClockWise(k)){k=k.reverse();var Sl=0;for(Ua=Ql.length;Sl<Ua;Sl++){var pc=Ql[Sl];p0.isClockWise(pc)&&(Ql[Sl]=pc.reverse())}}var Yc=p0.triangulateShape(k,Ql),pt=k;for(Sl=0,Ua=Ql.length;Sl<Ua;Sl++)pc=Ql[Sl],k=k.concat(pc);var Ht,vn=k.length,ki,bo=Yc.length;qt=[];var Zn=0,hn=pt.length,Br=hn-1;for(Ht=Zn+1;Zn<hn;Zn++,Br++,Ht++)Br===hn&&(Br=0),Ht===hn&&(Ht=0),qt[Zn]=$(pt[Zn],pt[Br],pt[Ht]);Rr=[];var Bo=qt.concat();for(Sl=0,Ua=Ql.length;Sl<Ua;Sl++){pc=Ql[Sl];var jo=[];for(Zn=0,hn=pc.length,Br=hn-1,Ht=Zn+1;Zn<hn;Zn++,Br++,Ht++)Br===hn&&(Br=0),Ht===hn&&(Ht=0),jo[Zn]=$(pc[Zn],pc[Br],pc[Ht]);Rr.push(jo),Bo=Bo.concat(jo)}for(Br=0;Br<ii;Br++){hn=Br/ii;var Rs=gn*Math.cos(hn*Math.PI/2);for(Ht=Zr*Math.sin(hn*Math.PI/2)+lr,Zn=0,hn=pt.length;Zn<hn;Zn++){var gi=X(pt[Zn],qt[Zn],Ht);ge(gi.x,gi.y,-Rs)}for(Sl=0,Ua=Ql.length;Sl<Ua;Sl++)for(pc=Ql[Sl],jo=Rr[Sl],Zn=0,hn=pc.length;Zn<hn;Zn++)gi=X(pc[Zn],jo[Zn],Ht),ge(gi.x,gi.y,-Rs)}for(Ht=Zr+lr,Zn=0;Zn<vn;Zn++)gi=dr?X(k[Zn],Bo[Zn],Ht):k[Zn],ro?(Ea.copy(Ba.normals[0]).multiplyScalar(gi.x),lo.copy(Ba.binormals[0]).multiplyScalar(gi.y),gl.copy(oi[0]).add(Ea).add(lo),ge(gl.x,gl.y,gl.z)):ge(gi.x,gi.y,0);for(hn=1;hn<=Qt;hn++)for(Zn=0;Zn<vn;Zn++)gi=dr?X(k[Zn],Bo[Zn],Ht):k[Zn],ro?(Ea.copy(Ba.normals[hn]).multiplyScalar(gi.x),lo.copy(Ba.binormals[hn]).multiplyScalar(gi.y),gl.copy(oi[hn]).add(Ea).add(lo),ge(gl.x,gl.y,gl.z)):ge(gi.x,gi.y,er/Qt*hn);for(Br=ii-1;0<=Br;Br--){for(hn=Br/ii,Rs=gn*Math.cos(hn*Math.PI/2),Ht=Zr*Math.sin(hn*Math.PI/2)+lr,Zn=0,hn=pt.length;Zn<hn;Zn++)gi=X(pt[Zn],qt[Zn],Ht),ge(gi.x,gi.y,er+Rs);for(Sl=0,Ua=Ql.length;Sl<Ua;Sl++)for(pc=Ql[Sl],jo=Rr[Sl],Zn=0,hn=pc.length;Zn<hn;Zn++)gi=X(pc[Zn],jo[Zn],Ht),ro?ge(gi.x,gi.y+oi[Qt-1].y,oi[Qt-1].x+Rs):ge(gi.x,gi.y,er+Rs)}(function(){var uo=g.length/3;if(dr){var js=0*vn;for(Zn=0;Zn<bo;Zn++)ki=Yc[Zn],me(ki[2]+js,ki[1]+js,ki[0]+js);for(js=vn*(Qt+2*ii),Zn=0;Zn<bo;Zn++)ki=Yc[Zn],me(ki[0]+js,ki[1]+js,ki[2]+js)}else{for(Zn=0;Zn<bo;Zn++)ki=Yc[Zn],me(ki[2],ki[1],ki[0]);for(Zn=0;Zn<bo;Zn++)ki=Yc[Zn],me(ki[0]+vn*Qt,ki[1]+vn*Qt,ki[2]+vn*Qt)}p.addGroup(uo,g.length/3-uo,0)})(),function(){var uo=g.length/3,js=0;for(de(pt,js),js+=pt.length,Sl=0,Ua=Ql.length;Sl<Ua;Sl++)pc=Ql[Sl],de(pc,js),js+=pc.length;p.addGroup(uo,g.length/3-uo,1)}()}Kt.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:u,options:t},u=Array.isArray(u)?u:[u];for(var p=this,g=[],b=[],_=0,D=u.length;_<D;_++)o(u[_]);this.setAttribute("position",new vi(g,3)),this.setAttribute("uv",new vi(b,2)),this.computeVertexNormals()}function Xw(u,t,o){if(o.shapes=[],Array.isArray(u))for(var p=0,g=u.length;p<g;p++)o.shapes.push(u[p].uuid);else o.shapes.push(u.uuid);return t.extrudePath!==void 0&&(o.options.extrudePath=t.extrudePath.toJSON()),o}function zx(u,t){Or.call(this),this.type="TextGeometry",this.parameters={text:u,parameters:t},this.fromBufferGeometry(new P1(u,t)),this.mergeVertices()}function P1(u,t){t=t||{};var o=t.font;if(!o||!o.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Or;u=o.generateShapes(u,t.size),t.depth=t.height!==void 0?t.height:50,t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1),Ig.call(this,u,t),this.type="TextBufferGeometry"}function Ux(u,t,o,p,g,b,_){Or.call(this),this.type="SphereGeometry",this.parameters={radius:u,widthSegments:t,heightSegments:o,phiStart:p,phiLength:g,thetaStart:b,thetaLength:_},this.fromBufferGeometry(new By(u,t,o,p,g,b,_)),this.mergeVertices()}function By(u,t,o,p,g,b,_){Kt.call(this),this.type="SphereBufferGeometry",this.parameters={radius:u,widthSegments:t,heightSegments:o,phiStart:p,phiLength:g,thetaStart:b,thetaLength:_},u=u||1,t=Math.max(3,Math.floor(t)||8),o=Math.max(2,Math.floor(o)||6),p=p!==void 0?p:0,g=g!==void 0?g:2*Math.PI,b=b!==void 0?b:0,_=_!==void 0?_:Math.PI;var D=Math.min(b+_,Math.PI),k,X,$=0,de=[],ge=new W,me=new W,Ee=[],ke=[],xt=[],qt=[];for(X=0;X<=o;X++){var Qt=[],er=X/o,dr=0;for(X==0&&b==0?dr=.5/t:X==o&&D==Math.PI&&(dr=-.5/t),k=0;k<=t;k++){var gn=k/t;ge.x=-u*Math.cos(p+gn*g)*Math.sin(b+er*_),ge.y=u*Math.cos(b+er*_),ge.z=u*Math.sin(p+gn*g)*Math.sin(b+er*_),ke.push(ge.x,ge.y,ge.z),me.copy(ge).normalize(),xt.push(me.x,me.y,me.z),qt.push(gn+dr,1-er),Qt.push($++)}de.push(Qt)}for(X=0;X<o;X++)for(k=0;k<t;k++)u=de[X][k+1],p=de[X][k],g=de[X+1][k],_=de[X+1][k+1],(X!==0||0<b)&&Ee.push(u,p,_),(X!==o-1||D<Math.PI)&&Ee.push(p,g,_);this.setIndex(Ee),this.setAttribute("position",new vi(ke,3)),this.setAttribute("normal",new vi(xt,3)),this.setAttribute("uv",new vi(qt,2))}function kx(u,t,o,p,g,b){Or.call(this),this.type="RingGeometry",this.parameters={innerRadius:u,outerRadius:t,thetaSegments:o,phiSegments:p,thetaStart:g,thetaLength:b},this.fromBufferGeometry(new O1(u,t,o,p,g,b)),this.mergeVertices()}function O1(u,t,o,p,g,b){Kt.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:u,outerRadius:t,thetaSegments:o,phiSegments:p,thetaStart:g,thetaLength:b},u=u||.5,t=t||1,g=g!==void 0?g:0,b=b!==void 0?b:2*Math.PI,o=o!==void 0?Math.max(3,o):8,p=p!==void 0?Math.max(1,p):1;var _=[],D=[],k=[],X=[],$=u,de=(t-u)/p,ge=new W,me=new c,Ee,ke;for(Ee=0;Ee<=p;Ee++){for(ke=0;ke<=o;ke++)u=g+ke/o*b,ge.x=$*Math.cos(u),ge.y=$*Math.sin(u),D.push(ge.x,ge.y,ge.z),k.push(0,0,1),me.x=(ge.x/t+1)/2,me.y=(ge.y/t+1)/2,X.push(me.x,me.y);$+=de}for(Ee=0;Ee<p;Ee++)for(t=Ee*(o+1),ke=0;ke<o;ke++)u=ke+t,g=u+o+1,b=u+o+2,$=u+1,_.push(u,g,$),_.push(g,b,$);this.setIndex(_),this.setAttribute("position",new vi(D,3)),this.setAttribute("normal",new vi(k,3)),this.setAttribute("uv",new vi(X,2))}function Hx(u,t,o,p){Or.call(this),this.type="LatheGeometry",this.parameters={points:u,segments:t,phiStart:o,phiLength:p},this.fromBufferGeometry(new R1(u,t,o,p)),this.mergeVertices()}function R1(u,t,o,p){Kt.call(this),this.type="LatheBufferGeometry",this.parameters={points:u,segments:t,phiStart:o,phiLength:p},t=Math.floor(t)||12,o=o||0,p=p||2*Math.PI,p=Ll.clamp(p,0,2*Math.PI);var g=[],b=[],_=[],D=1/t,k=new W,X=new c,$;for($=0;$<=t;$++){var de=o+$*D*p,ge=Math.sin(de),me=Math.cos(de);for(de=0;de<=u.length-1;de++)k.x=u[de].x*ge,k.y=u[de].y,k.z=u[de].x*me,b.push(k.x,k.y,k.z),X.x=$/t,X.y=de/(u.length-1),_.push(X.x,X.y)}for($=0;$<t;$++)for(de=0;de<u.length-1;de++)o=de+$*u.length,D=o+u.length,k=o+u.length+1,X=o+1,g.push(o,D,X),g.push(D,k,X);if(this.setIndex(g),this.setAttribute("position",new vi(b,3)),this.setAttribute("uv",new vi(_,2)),this.computeVertexNormals(),p===2*Math.PI)for(p=this.attributes.normal.array,g=new W,b=new W,_=new W,o=t*u.length*3,de=$=0;$<u.length;$++,de+=3)g.x=p[de+0],g.y=p[de+1],g.z=p[de+2],b.x=p[o+de+0],b.y=p[o+de+1],b.z=p[o+de+2],_.addVectors(g,b).normalize(),p[de+0]=p[o+de+0]=_.x,p[de+1]=p[o+de+1]=_.y,p[de+2]=p[o+de+2]=_.z}function jy(u,t){Or.call(this),this.type="ShapeGeometry",(typeof t=="undefined"?"undefined":vs(t))==="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:u,curveSegments:t},this.fromBufferGeometry(new zy(u,t)),this.mergeVertices()}function zy(u,t){function o($){var de,ge=g.length/3;$=$.extractPoints(t);var me=$.shape,Ee=$.holes;for(p0.isClockWise(me)===!1&&(me=me.reverse()),$=0,de=Ee.length;$<de;$++){var ke=Ee[$];p0.isClockWise(ke)===!0&&(Ee[$]=ke.reverse())}var xt=p0.triangulateShape(me,Ee);for($=0,de=Ee.length;$<de;$++)ke=Ee[$],me=me.concat(ke);for($=0,de=me.length;$<de;$++)ke=me[$],g.push(ke.x,ke.y,0),b.push(0,0,1),_.push(ke.x,ke.y);for($=0,de=xt.length;$<de;$++)me=xt[$],p.push(me[0]+ge,me[1]+ge,me[2]+ge),k+=3}Kt.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:u,curveSegments:t},t=t||12;var p=[],g=[],b=[],_=[],D=0,k=0;if(Array.isArray(u)===!1)o(u);else for(var X=0;X<u.length;X++)o(u[X]),this.addGroup(D,k,X),D+=k,k=0;this.setIndex(p),this.setAttribute("position",new vi(g,3)),this.setAttribute("normal",new vi(b,3)),this.setAttribute("uv",new vi(_,2))}function Kw(u,t){if(t.shapes=[],Array.isArray(u))for(var o=0,p=u.length;o<p;o++)t.shapes.push(u[o].uuid);else t.shapes.push(u.uuid);return t}function L1(u,t){Kt.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t};var o=[];t=Math.cos(Ll.DEG2RAD*(t!==void 0?t:1));var p=[0,0],g={},b=["a","b","c"];if(u.isBufferGeometry){var _=new Or;_.fromBufferGeometry(u)}else _=u.clone();_.mergeVertices(),_.computeFaceNormals(),u=_.vertices,_=_.faces;for(var D=0,k=_.length;D<k;D++)for(var X=_[D],$=0;3>$;$++){var de=X[b[$]],ge=X[b[($+1)%3]];p[0]=Math.min(de,ge),p[1]=Math.max(de,ge),de=p[0]+","+p[1],g[de]===void 0?g[de]={index1:p[0],index2:p[1],face1:D,face2:void 0}:g[de].face2=D}for(de in g)p=g[de],(p.face2===void 0||_[p.face1].normal.dot(_[p.face2].normal)<=t)&&(b=u[p.index1],o.push(b.x,b.y,b.z),b=u[p.index2],o.push(b.x,b.y,b.z));this.setAttribute("position",new vi(o,3))}function Uy(u,t,o,p,g,b,_,D){Or.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:u,radiusBottom:t,height:o,radialSegments:p,heightSegments:g,openEnded:b,thetaStart:_,thetaLength:D},this.fromBufferGeometry(new i0(u,t,o,p,g,b,_,D)),this.mergeVertices()}function i0(u,t,o,p,g,b,_,D){function k(Qt){var er,dr=new c,gn=new W,Zr=0,lr=Qt===!0?u:t,ii=Qt===!0?1:-1,Rr=Ee;for(er=1;er<=p;er++)de.push(0,xt*ii,0),ge.push(0,ii,0),me.push(.5,.5),Ee++;var ji=Ee;for(er=0;er<=p;er++){var ro=er/p*D+_,oi=Math.cos(ro);ro=Math.sin(ro),gn.x=lr*ro,gn.y=xt*ii,gn.z=lr*oi,de.push(gn.x,gn.y,gn.z),ge.push(0,ii,0),dr.x=.5*oi+.5,dr.y=.5*ro*ii+.5,me.push(dr.x,dr.y),Ee++}for(er=0;er<p;er++)dr=Rr+er,gn=ji+er,Qt===!0?$.push(gn,gn+1,dr):$.push(gn+1,gn,dr),Zr+=3;X.addGroup(qt,Zr,Qt===!0?1:2),qt+=Zr}Kt.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:u,radiusBottom:t,height:o,radialSegments:p,heightSegments:g,openEnded:b,thetaStart:_,thetaLength:D};var X=this;u=u!==void 0?u:1,t=t!==void 0?t:1,o=o||1,p=Math.floor(p)||8,g=Math.floor(g)||1,b=b!==void 0?b:!1,_=_!==void 0?_:0,D=D!==void 0?D:2*Math.PI;var $=[],de=[],ge=[],me=[],Ee=0,ke=[],xt=o/2,qt=0;(function(){var Qt,er,dr=new W,gn=new W,Zr=0,lr=(t-u)/o;for(er=0;er<=g;er++){var ii=[],Rr=er/g,ji=Rr*(t-u)+u;for(Qt=0;Qt<=p;Qt++){var ro=Qt/p,oi=ro*D+_,Ba=Math.sin(oi);oi=Math.cos(oi),gn.x=ji*Ba,gn.y=-Rr*o+xt,gn.z=ji*oi,de.push(gn.x,gn.y,gn.z),dr.set(Ba,lr,oi).normalize(),ge.push(dr.x,dr.y,dr.z),me.push(ro,1-Rr),ii.push(Ee++)}ke.push(ii)}for(Qt=0;Qt<p;Qt++)for(er=0;er<g;er++)dr=ke[er+1][Qt],gn=ke[er+1][Qt+1],lr=ke[er][Qt+1],$.push(ke[er][Qt],dr,lr),$.push(dr,gn,lr),Zr+=6;X.addGroup(qt,Zr,0),qt+=Zr})(),b===!1&&(0<u&&k(!0),0<t&&k(!1)),this.setIndex($),this.setAttribute("position",new vi(de,3)),this.setAttribute("normal",new vi(ge,3)),this.setAttribute("uv",new vi(me,2))}function Vx(u,t,o,p,g,b,_){Uy.call(this,0,u,t,o,p,g,b,_),this.type="ConeGeometry",this.parameters={radius:u,height:t,radialSegments:o,heightSegments:p,openEnded:g,thetaStart:b,thetaLength:_}}function Wx(u,t,o,p,g,b,_){i0.call(this,0,u,t,o,p,g,b,_),this.type="ConeBufferGeometry",this.parameters={radius:u,height:t,radialSegments:o,heightSegments:p,openEnded:g,thetaStart:b,thetaLength:_}}function Gx(u,t,o,p){Or.call(this),this.type="CircleGeometry",this.parameters={radius:u,segments:t,thetaStart:o,thetaLength:p},this.fromBufferGeometry(new D1(u,t,o,p)),this.mergeVertices()}function D1(u,t,o,p){Kt.call(this),this.type="CircleBufferGeometry",this.parameters={radius:u,segments:t,thetaStart:o,thetaLength:p},u=u||1,t=t!==void 0?Math.max(3,t):8,o=o!==void 0?o:0,p=p!==void 0?p:2*Math.PI;var g=[],b=[],_=[],D=[],k,X=new W,$=new c;b.push(0,0,0),_.push(0,0,1),D.push(.5,.5);var de=0;for(k=3;de<=t;de++,k+=3){var ge=o+de/t*p;X.x=u*Math.cos(ge),X.y=u*Math.sin(ge),b.push(X.x,X.y,X.z),_.push(0,0,1),$.x=(b[k]/u+1)/2,$.y=(b[k+1]/u+1)/2,D.push($.x,$.y)}for(k=1;k<=t;k++)g.push(k,k+1,0);this.setIndex(g),this.setAttribute("position",new vi(b,3)),this.setAttribute("normal",new vi(_,3)),this.setAttribute("uv",new vi(D,2))}function ky(u){Pr.call(this),this.type="ShadowMaterial",this.color=new wt(0),this.transparent=!0,this.setValues(u)}function o0(u){li.call(this,u),this.type="RawShaderMaterial"}function Pg(u){Pr.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new wt(16777215),this.roughness=1,this.metalness=0,this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wt(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new c(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.vertexTangents=this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(u)}function Hy(u){Pg.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new c(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,this.sheen=null,this.transparency=0,this.setValues(u)}function ey(u){Pr.call(this),this.type="MeshPhongMaterial",this.color=new wt(16777215),this.specular=new wt(1118481),this.shininess=30,this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wt(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new c(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.envMap=this.alphaMap=this.specularMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(u)}function Vy(u){Pr.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new wt(16777215),this.specular=new wt(1118481),this.shininess=30,this.lightMap=this.gradientMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wt(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new c(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=this.specularMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(u)}function Wy(u){Pr.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new c(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.morphNormals=this.morphTargets=this.skinning=this.fog=!1,this.setValues(u)}function Gy(u){Pr.call(this),this.type="MeshLambertMaterial",this.color=new wt(16777215),this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wt(0),this.emissiveIntensity=1,this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(u)}function Yy(u){Pr.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new wt(16777215),this.bumpMap=this.map=this.matcap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new c(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(u)}function Xy(u){bh.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(u)}function tv(u,t,o,p){this.parameterPositions=u,this._cachedIndex=0,this.resultBuffer=p!==void 0?p:new t.constructor(o),this.sampleValues=t,this.valueSize=o}function jC(u,t,o,p){tv.call(this,u,t,o,p),this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0}function Yx(u,t,o,p){tv.call(this,u,t,o,p)}function zC(u,t,o,p){tv.call(this,u,t,o,p)}function Lp(u,t,o,p){if(u===void 0)throw Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw Error("THREE.KeyframeTrack: no keyframes in track named "+u);this.name=u,this.times=Sh.convertArray(t,this.TimeBufferType),this.values=Sh.convertArray(o,this.ValueBufferType),this.setInterpolation(p||this.DefaultInterpolation)}function UC(u,t,o){Lp.call(this,u,t,o)}function kC(u,t,o,p){Lp.call(this,u,t,o,p)}function N1(u,t,o,p){Lp.call(this,u,t,o,p)}function HC(u,t,o,p){tv.call(this,u,t,o,p)}function Xx(u,t,o,p){Lp.call(this,u,t,o,p)}function VC(u,t,o,p){Lp.call(this,u,t,o,p)}function F1(u,t,o,p){Lp.call(this,u,t,o,p)}function Ov(u,t,o,p){this.name=u,this.tracks=o,this.duration=t!==void 0?t:-1,this.blendMode=p!==void 0?p:2500,this.uuid=Ll.generateUUID(),0>this.duration&&this.resetDuration()}function fM(u){switch(u.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return N1;case"vector":case"vector2":case"vector3":case"vector4":return F1;case"color":return kC;case"quaternion":return Xx;case"bool":case"boolean":return UC;case"string":return VC}throw Error("THREE.KeyframeTrack: Unsupported typeName: "+u)}function hM(u){if(u.type===void 0)throw Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=fM(u.type);if(u.times===void 0){var o=[],p=[];Sh.flattenJSON(u.keys,o,p,"value"),u.times=o,u.values=p}return t.parse!==void 0?t.parse(u):new t(u.name,u.times,u.values,u.interpolation)}function i2(u,t,o){var p=this,g=!1,b=0,_=0,D=void 0,k=[];this.onStart=void 0,this.onLoad=u,this.onProgress=t,this.onError=o,this.itemStart=function(X){_++,g===!1&&p.onStart!==void 0&&p.onStart(X,b,_),g=!0},this.itemEnd=function(X){b++,p.onProgress!==void 0&&p.onProgress(X,b,_),b===_&&(g=!1,p.onLoad!==void 0)&&p.onLoad()},this.itemError=function(X){p.onError!==void 0&&p.onError(X)},this.resolveURL=function(X){return D?D(X):X},this.setURLModifier=function(X){return D=X,this},this.addHandler=function(X,$){return k.push(X,$),this},this.removeHandler=function(X){return X=k.indexOf(X),X!==-1&&k.splice(X,2),this},this.getHandler=function(X){for(var $=0,de=k.length;$<de;$+=2){var ge=k[$],me=k[$+1];if(ge.global&&(ge.lastIndex=0),ge.test(X))return me}return null}}function Lc(u){this.manager=u!==void 0?u:Ub,this.crossOrigin="anonymous",this.resourcePath=this.path="",this.requestHeader={}}function Rv(u){Lc.call(this,u)}function o2(u){Lc.call(this,u)}function a2(u){Lc.call(this,u)}function WC(u){Lc.call(this,u)}function B1(u){Lc.call(this,u)}function GC(u){Lc.call(this,u)}function YC(u){Lc.call(this,u)}function Ya(){this.type="Curve",this.arcLengthDivisions=200}function rv(u,t,o,p,g,b,_,D){Ya.call(this),this.type="EllipseCurve",this.aX=u||0,this.aY=t||0,this.xRadius=o||1,this.yRadius=p||1,this.aStartAngle=g||0,this.aEndAngle=b||2*Math.PI,this.aClockwise=_||!1,this.aRotation=D||0}function j1(u,t,o,p,g,b){rv.call(this,u,t,o,o,p,g,b),this.type="ArcCurve"}function s2(){var u=0,t=0,o=0,p=0;return{initCatmullRom:function(b,_,D,k,X){b=X*(D-b),k=X*(k-_),u=_,t=b,o=-3*_+3*D-2*b-k,p=2*_-2*D+b+k},initNonuniformCatmullRom:function(b,_,D,k,X,$,de){b=((_-b)/X-(D-b)/(X+$)+(D-_)/$)*$,k=((D-_)/$-(k-_)/($+de)+(k-D)/de)*$,u=_,t=b,o=-3*_+3*D-2*b-k,p=2*_-2*D+b+k},calc:function(b){var _=b*b;return u+t*b+o*_+p*_*b}}}function Gp(u,t,o,p){Ya.call(this),this.type="CatmullRomCurve3",this.points=u||[],this.closed=t||!1,this.curveType=o||"centripetal",this.tension=p||.5}function Zw(u,t,o,p,g){t=.5*(p-t),g=.5*(g-o);var b=u*u;return(2*o-2*p+t+g)*u*b+(-3*o+3*p-2*t-g)*b+t*u+o}function Kx(u,t,o,p){var g=1-u;return g*g*t+2*(1-u)*u*o+u*u*p}function Zx(u,t,o,p,g){var b=1-u,_=1-u;return b*b*b*t+3*_*_*u*o+3*(1-u)*u*u*p+u*u*u*g}function ig(u,t,o,p){Ya.call(this),this.type="CubicBezierCurve",this.v0=u||new c,this.v1=t||new c,this.v2=o||new c,this.v3=p||new c}function Og(u,t,o,p){Ya.call(this),this.type="CubicBezierCurve3",this.v0=u||new W,this.v1=t||new W,this.v2=o||new W,this.v3=p||new W}function Bm(u,t){Ya.call(this),this.type="LineCurve",this.v1=u||new c,this.v2=t||new c}function og(u,t){Ya.call(this),this.type="LineCurve3",this.v1=u||new W,this.v2=t||new W}function ag(u,t,o){Ya.call(this),this.type="QuadraticBezierCurve",this.v0=u||new c,this.v1=t||new c,this.v2=o||new c}function Rg(u,t,o){Ya.call(this),this.type="QuadraticBezierCurve3",this.v0=u||new W,this.v1=t||new W,this.v2=o||new W}function sg(u){Ya.call(this),this.type="SplineCurve",this.points=u||[]}function a0(){Ya.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function lg(u){a0.call(this),this.type="Path",this.currentPoint=new c,u&&this.setFromPoints(u)}function ty(u){lg.call(this,u),this.uuid=Ll.generateUUID(),this.type="Shape",this.holes=[]}function kf(u,t){Me.call(this),this.type="Light",this.color=new wt(u),this.intensity=t!==void 0?t:1,this.receiveShadow=void 0}function XC(u,t,o){kf.call(this,u,o),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Me.DefaultUp),this.updateMatrix(),this.groundColor=new wt(t)}function Lg(u){this.camera=u,this.bias=0,this.radius=1,this.mapSize=new c(512,512),this.mapPass=this.map=null,this.matrix=new ae,this._frustum=new Ra,this._frameExtents=new c(1,1),this._viewportCount=1,this._viewports=[new w(0,0,1,1)]}function KC(){Lg.call(this,new Ln(50,1,.5,500))}function ZC(u,t,o,p,g,b){kf.call(this,u,t),this.type="SpotLight",this.position.copy(Me.DefaultUp),this.updateMatrix(),this.target=new Me,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(D){this.intensity=D/Math.PI}}),this.distance=o!==void 0?o:0,this.angle=p!==void 0?p:Math.PI/3,this.penumbra=g!==void 0?g:0,this.decay=b!==void 0?b:1,this.shadow=new KC}function l2(){Lg.call(this,new Ln(90,1,.5,500)),this._frameExtents=new c(4,2),this._viewportCount=6,this._viewports=[new w(2,1,1,1),new w(0,1,1,1),new w(3,1,1,1),new w(1,1,1,1),new w(3,0,1,1),new w(1,0,1,1)],this._cubeDirections=[new W(1,0,0),new W(-1,0,0),new W(0,0,1),new W(0,0,-1),new W(0,1,0),new W(0,-1,0)],this._cubeUps=[new W(0,1,0),new W(0,1,0),new W(0,1,0),new W(0,1,0),new W(0,0,1),new W(0,0,-1)]}function JC(u,t,o,p){kf.call(this,u,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(b){this.intensity=b/(4*Math.PI)}}),this.distance=o!==void 0?o:0,this.decay=p!==void 0?p:1,this.shadow=new l2}function z1(u,t,o,p,g,b){Ii.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=u!==void 0?u:-1,this.right=t!==void 0?t:1,this.top=o!==void 0?o:1,this.bottom=p!==void 0?p:-1,this.near=g!==void 0?g:.1,this.far=b!==void 0?b:2e3,this.updateProjectionMatrix()}function QC(){Lg.call(this,new z1(-5,5,5,-5,.5,500))}function qC(u,t){kf.call(this,u,t),this.type="DirectionalLight",this.position.copy(Me.DefaultUp),this.updateMatrix(),this.target=new Me,this.shadow=new QC}function $C(u,t){kf.call(this,u,t),this.type="AmbientLight",this.castShadow=void 0}function eA(u,t,o,p){kf.call(this,u,t),this.type="RectAreaLight",this.width=o!==void 0?o:10,this.height=p!==void 0?p:10}function tA(){this.coefficients=[];for(var u=0;9>u;u++)this.coefficients.push(new W)}function Lv(u,t){kf.call(this,void 0,t),this.type="LightProbe",this.sh=u!==void 0?u:new tA}function rA(u){Lc.call(this,u),this.textures={}}function Jx(){Kt.call(this),this.type="InstancedBufferGeometry",this.instanceCount=Infinity}function nA(u,t,o,p){typeof o=="number"&&(p=o,o=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),En.call(this,u,t,o),this.meshPerAttribute=p||1}function iA(u){Lc.call(this,u)}function oA(u){Lc.call(this,u)}function u2(u){typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Lc.call(this,u),this.options=void 0}function c2(){this.type="ShapePath",this.color=new wt,this.subPaths=[],this.currentPath=null}function f2(u){this.type="Font",this.data=u}function h2(u){Lc.call(this,u)}function aA(u){Lc.call(this,u)}function d2(u,t,o){Lv.call(this,void 0,o),u=new wt().set(u),o=new wt().set(t),t=new W(u.r,u.g,u.b),u=new W(o.r,o.g,o.b),o=Math.sqrt(Math.PI);var p=o*Math.sqrt(.75);this.sh.coefficients[0].copy(t).add(u).multiplyScalar(o),this.sh.coefficients[1].copy(t).sub(u).multiplyScalar(p)}function p2(u,t){Lv.call(this,void 0,t),u=new wt().set(u),this.sh.coefficients[0].set(u.r,u.g,u.b).multiplyScalar(2*Math.sqrt(Math.PI))}function Jw(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ln,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ln,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}function m2(u){this.autoStart=u!==void 0?u:!0,this.elapsedTime=this.oldTime=this.startTime=0,this.running=!1}function v2(){Me.call(this),this.type="AudioListener",this.context=iw.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new m2}function U1(u){Me.call(this),this.type="Audio",this.listener=u,this.context=u.context,this.gain=this.context.createGain(),this.gain.connect(u.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.offset=this.loopEnd=this.loopStart=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._progress=this._startedAt=0,this.filters=[]}function g2(u){U1.call(this,u),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function y2(u,t){this.analyser=u.context.createAnalyser(),this.analyser.fftSize=t!==void 0?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),u.getOutput().connect(this.analyser)}function x2(u,t,o){switch(this.binding=u,this.valueSize=o,t){case"quaternion":u=this._slerp,t=this._slerpAdditive;var p=this._setAdditiveIdentityQuaternion;this.buffer=new Float64Array(6*o),this._workIndex=5;break;case"string":case"bool":t=u=this._select,p=this._setAdditiveIdentityOther,this.buffer=Array(5*o);break;default:u=this._lerp,t=this._lerpAdditive,p=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*o)}this._mixBufferRegion=u,this._mixBufferRegionAdditive=t,this._setIdentity=p,this._origIndex=3,this._addIndex=4,this.referenceCount=this.useCount=this.cumulativeWeightAdditive=this.cumulativeWeight=0}function Qw(u,t,o){o=o||Yp.parseTrackName(t),this._targetGroup=u,this._bindings=u.subscribe_(t,o)}function Yp(u,t,o){this.path=t,this.parsedPath=o||Yp.parseTrackName(t),this.node=Yp.findNode(u,this.parsedPath.nodeName)||u,this.rootNode=u}function qw(){this.uuid=Ll.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var u={};this._indicesByUUID=u;for(var t=0,o=arguments.length;t!==o;++t)u[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var p=this;this.stats={objects:{get total(){return p._objects.length},get inUse(){return this.total-p.nCachedObjects_}},get bindingsPerObject(){return p._bindings.length}}}function $w(u,t,o,p){this._mixer=u,this._clip=t,this._localRoot=o||null,this.blendMode=p||t.blendMode,u=t.tracks,t=u.length,o=Array(t),p={endingStart:2400,endingEnd:2400};for(var g=0;g!==t;++g){var b=u[g].createInterpolant(null);o[g]=b,b.settings=p}this._interpolantSettings=p,this._interpolants=o,this._propertyBindings=Array(t),this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1,this.repetitions=Infinity,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0}function C2(u){this._root=u,this._initMemoryManager(),this.time=this._accuIndex=0,this.timeScale=1}function sA(u,t){typeof u=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),u=t),this.value=u}function A2(u,t,o){n0.call(this,u,t),this.meshPerAttribute=o||1}function w2(u,t,o,p){this.ray=new ir(u,t),this.near=o||0,this.far=p||Infinity,this.camera=null,this.layers=new be,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Ia(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function eb(u,t){return u.distance-t.distance}function b2(u,t,o,p){if(u.layers.test(t.layers)&&u.raycast(t,o),p===!0){u=u.children,p=0;for(var g=u.length;p<g;p++)b2(u[p],t,o,!0)}}function tb(u,t,o){return this.radius=u!==void 0?u:1,this.phi=t!==void 0?t:0,this.theta=o!==void 0?o:0,this}function rb(u,t,o){return this.radius=u!==void 0?u:1,this.theta=t!==void 0?t:0,this.y=o!==void 0?o:0,this}function S2(u,t){this.min=u!==void 0?u:new c(Infinity,Infinity),this.max=t!==void 0?t:new c(-Infinity,-Infinity)}function M2(u,t){this.start=u!==void 0?u:new W,this.end=t!==void 0?t:new W}function Qx(u){Me.call(this),this.material=u,this.render=function(){},this.hasUvs=this.hasColors=this.hasNormals=this.hasPositions=!1,this.uvArray=this.colorArray=this.normalArray=this.positionArray=null,this.count=0}function k1(u,t){Me.call(this),this.light=u,this.light.updateMatrixWorld(),this.matrix=u.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,u=new Kt,t=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(var o=0,p=1;32>o;o++,p++){var g=o/32*Math.PI*2,b=p/32*Math.PI*2;t.push(Math.cos(g),Math.sin(g),1,Math.cos(b),Math.sin(b),1)}u.setAttribute("position",new vi(t,3)),t=new bh({fog:!1,toneMapped:!1}),this.cone=new Bh(u,t),this.add(this.cone),this.update()}function nb(u){var t=[];u&&u.isBone&&t.push(u);for(var o=0;o<u.children.length;o++)t.push.apply(t,nb(u.children[o]));return t}function Ky(u){for(var t=nb(u),o=new Kt,p=[],g=[],b=new wt(0,0,1),_=new wt(0,1,0),D=0;D<t.length;D++){var k=t[D];k.parent&&k.parent.isBone&&(p.push(0,0,0),p.push(0,0,0),g.push(b.r,b.g,b.b),g.push(_.r,_.g,_.b))}o.setAttribute("position",new vi(p,3)),o.setAttribute("color",new vi(g,3)),p=new bh({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0}),Bh.call(this,o,p),this.type="SkeletonHelper",this.root=u,this.bones=t,this.matrix=u.matrixWorld,this.matrixAutoUpdate=!1}function H1(u,t,o){this.light=u,this.light.updateMatrixWorld(),this.color=o,u=new By(t,4,2),t=new Fo({wireframe:!0,fog:!1,toneMapped:!1}),Hr.call(this,u,t),this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function V1(u,t,o){Me.call(this),this.light=u,this.light.updateMatrixWorld(),this.matrix=u.matrixWorld,this.matrixAutoUpdate=!1,this.color=o,u=new Dy(t),u.rotateY(.5*Math.PI),this.material=new Fo({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0),t=u.getAttribute("position"),t=new Float32Array(3*t.count),u.setAttribute("color",new En(t,3)),this.add(new Hr(u,this.material)),this.update()}function lA(u,t,o,p){u=u||10,t=t||10,o=new wt(o!==void 0?o:4473924),p=new wt(p!==void 0?p:8947848);var g=t/2,b=u/t,_=u/2;u=[];for(var D=[],k=0,X=0,$=-_;k<=t;k++,$+=b){u.push(-_,0,$,_,0,$),u.push($,0,-_,$,0,_);var de=k===g?o:p;de.toArray(D,X),X+=3,de.toArray(D,X),X+=3,de.toArray(D,X),X+=3,de.toArray(D,X),X+=3}t=new Kt,t.setAttribute("position",new vi(u,3)),t.setAttribute("color",new vi(D,3)),o=new bh({vertexColors:!0,toneMapped:!1}),Bh.call(this,t,o),this.type="GridHelper"}function uA(u,t,o,p,g,b){u=u||10,t=t||16,o=o||8,p=p||64,g=new wt(g!==void 0?g:4473924),b=new wt(b!==void 0?b:8947848);var _=[],D=[],k;for(k=0;k<=t;k++){var X=k/t*2*Math.PI,$=Math.sin(X)*u;X=Math.cos(X)*u,_.push(0,0,0),_.push($,0,X);var de=k&1?g:b;D.push(de.r,de.g,de.b),D.push(de.r,de.g,de.b)}for(k=0;k<=o;k++){de=k&1?g:b;var ge=u-u/o*k;for(t=0;t<p;t++)X=t/p*2*Math.PI,$=Math.sin(X)*ge,X=Math.cos(X)*ge,_.push($,0,X),D.push(de.r,de.g,de.b),X=(t+1)/p*2*Math.PI,$=Math.sin(X)*ge,X=Math.cos(X)*ge,_.push($,0,X),D.push(de.r,de.g,de.b)}u=new Kt,u.setAttribute("position",new vi(_,3)),u.setAttribute("color",new vi(D,3)),_=new bh({vertexColors:!0,toneMapped:!1}),Bh.call(this,u,_),this.type="PolarGridHelper"}function W1(u,t,o){Me.call(this),this.light=u,this.light.updateMatrixWorld(),this.matrix=u.matrixWorld,this.matrixAutoUpdate=!1,this.color=o,t===void 0&&(t=1),u=new Kt,u.setAttribute("position",new vi([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3)),t=new bh({fog:!1,toneMapped:!1}),this.lightPlane=new ev(u,t),this.add(this.lightPlane),u=new Kt,u.setAttribute("position",new vi([0,0,0,0,0,1],3)),this.targetLine=new ev(u,t),this.add(this.targetLine),this.update()}function qx(u){function t(me,Ee,ke){o(me,ke),o(Ee,ke)}function o(me,Ee){b.push(0,0,0),_.push(Ee.r,Ee.g,Ee.b),D[me]===void 0&&(D[me]=[]),D[me].push(b.length/3-1)}var p=new Kt,g=new bh({color:16777215,vertexColors:!0,toneMapped:!1}),b=[],_=[],D={},k=new wt(16755200),X=new wt(16711680),$=new wt(43775),de=new wt(16777215),ge=new wt(3355443);t("n1","n2",k),t("n2","n4",k),t("n4","n3",k),t("n3","n1",k),t("f1","f2",k),t("f2","f4",k),t("f4","f3",k),t("f3","f1",k),t("n1","f1",k),t("n2","f2",k),t("n3","f3",k),t("n4","f4",k),t("p","n1",X),t("p","n2",X),t("p","n3",X),t("p","n4",X),t("u1","u2",$),t("u2","u3",$),t("u3","u1",$),t("c","t",de),t("p","c",ge),t("cn1","cn2",ge),t("cn3","cn4",ge),t("cf1","cf2",ge),t("cf3","cf4",ge),p.setAttribute("position",new vi(b,3)),p.setAttribute("color",new vi(_,3)),Bh.call(this,p,g),this.type="CameraHelper",this.camera=u,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=u.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=D,this.update()}function Md(u,t,o,p,g,b,_){if(jA.set(g,b,_).unproject(p),u=t[u],u!==void 0)for(o=o.getAttribute("position"),t=0,p=u.length;t<p;t++)o.setXYZ(u[t],jA.x,jA.y,jA.z)}function s0(u,t){this.object=u,t===void 0&&(t=16776960),u=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var o=new Float32Array(24),p=new Kt;p.setIndex(new En(u,1)),p.setAttribute("position",new En(o,3)),Bh.call(this,p,new bh({color:t,toneMapped:!1})),this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}function $x(u,t){this.type="Box3Helper",this.box=u,t=t||16776960,u=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var o=new Kt;o.setIndex(new En(u,1)),o.setAttribute("position",new vi([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Bh.call(this,o,new bh({color:t,toneMapped:!1})),this.type="Box3Helper",this.geometry.computeBoundingSphere()}function eC(u,t,o){this.plane=u,this.size=t===void 0?1:t,u=o!==void 0?o:16776960,t=new Kt,t.setAttribute("position",new vi([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),t.computeBoundingSphere(),ev.call(this,t,new bh({color:u,toneMapped:!1})),this.type="PlaneHelper",t=new Kt,t.setAttribute("position",new vi([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),t.computeBoundingSphere(),this.add(new Hr(t,new Fo({color:u,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}function l0(u,t,o,p,g,b){Me.call(this),this.type="ArrowHelper",u===void 0&&(u=new W(0,0,1)),t===void 0&&(t=new W(0,0,0)),o===void 0&&(o=1),p===void 0&&(p=16776960),g===void 0&&(g=.2*o),b===void 0&&(b=.2*g),UA===void 0&&(UA=new Kt,UA.setAttribute("position",new vi([0,0,0,0,1,0],3)),aw=new i0(0,.5,1,5,1),aw.translate(0,-.5,0)),this.position.copy(t),this.line=new ev(UA,new bh({color:p,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Hr(aw,new Fo({color:p,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(u),this.setLength(o,g,b)}function tC(u){u=u||1;var t=[0,0,0,u,0,0,0,0,0,0,u,0,0,0,0,0,0,u];u=new Kt,u.setAttribute("position",new vi(t,3)),u.setAttribute("color",new vi([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),t=new bh({vertexColors:!0,toneMapped:!1}),Bh.call(this,u,t),this.type="AxesHelper"}function E2(u){this._renderer=u,this._pingPongRenderTarget=null,u=new Float32Array(20);var t=new W(0,1,0);u=new o0({defines:{n:20},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:u},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:t},inputEncoding:{value:jg[3e3]},outputEncoding:{value:jg[3e3]}},vertexShader:_2(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform sampler2D envMap;
uniform int samples;
uniform float weights[n];
uniform bool latitudinal;
uniform float dTheta;
uniform float mipInt;
uniform vec3 poleAxis;

`+I2()+`

#define ENVMAP_TYPE_CUBE_UV
#include <cube_uv_reflection_fragment>

vec3 getSample(float theta, vec3 axis) {
	float cosTheta = cos(theta);
	// Rodrigues' axis-angle rotation
	vec3 sampleDirection = vOutputDirection * cosTheta
		+ cross(axis, vOutputDirection) * sin(theta)
		+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);
	return bilinearCubeUV(envMap, sampleDirection, mipInt);
}

void main() {
	vec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);
	if (all(equal(axis, vec3(0.0))))
		axis = vec3(vOutputDirection.z, 0.0, - vOutputDirection.x);
	axis = normalize(axis);
	gl_FragColor = vec4(0.0);
	gl_FragColor.rgb += weights[0] * getSample(0.0, axis);
	for (int i = 1; i < n; i++) {
		if (i >= samples)
			break;
		float theta = dTheta * float(i);
		gl_FragColor.rgb += weights[i] * getSample(-1.0 * theta, axis);
		gl_FragColor.rgb += weights[i] * getSample(theta, axis);
	}
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:0,depthTest:!1,depthWrite:!1}),u.type="SphericalGaussianBlur",this._blurMaterial=u,this._cubemapShader=this._equirectShader=null,this._compileMaterial(this._blurMaterial)}function ib(u){return u=new I(3*Bg,3*Bg,u),u.texture.mapping=306,u.texture.name="PMREM.cubeUv",u.scissorTest=!0,u}function T2(u,t,o,p,g){u.viewport.set(t,o,p,g),u.scissor.set(t,o,p,g)}function ob(){var u=new c(1,1);return u=new o0({uniforms:{envMap:{value:null},texelSize:{value:u},inputEncoding:{value:jg[3e3]},outputEncoding:{value:jg[3e3]}},vertexShader:_2(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform sampler2D envMap;
uniform vec2 texelSize;

`+I2()+`

#include <common>

void main() {
	gl_FragColor = vec4(0.0);
	vec3 outputDirection = normalize(vOutputDirection);
	vec2 uv = equirectUv( outputDirection );
	vec2 f = fract(uv / texelSize - 0.5);
	uv -= f * texelSize;
	vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.x += texelSize.x;
	vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.y += texelSize.y;
	vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.x -= texelSize.x;
	vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	vec3 tm = mix(tl, tr, f.x);
	vec3 bm = mix(bl, br, f.x);
	gl_FragColor.rgb = mix(tm, bm, f.y);
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:0,depthTest:!1,depthWrite:!1}),u.type="EquirectangularToCubeUV",u}function ab(){var u=new o0({uniforms:{envMap:{value:null},inputEncoding:{value:jg[3e3]},outputEncoding:{value:jg[3e3]}},vertexShader:_2(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform samplerCube envMap;

`+I2()+`

void main() {
	gl_FragColor = vec4(0.0);
	gl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:0,depthTest:!1,depthWrite:!1});return u.type="CubemapToCubeUV",u}function _2(){return`
precision mediump float;
precision mediump int;
attribute vec3 position;
attribute vec2 uv;
attribute float faceIndex;
varying vec3 vOutputDirection;

// RH coordinate system; PMREM face-indexing convention
vec3 getDirection(vec2 uv, float face) {
	uv = 2.0 * uv - 1.0;
	vec3 direction = vec3(uv, 1.0);
	if (face == 0.0) {
		direction = direction.zyx; // ( 1, v, u ) pos x
	} else if (face == 1.0) {
		direction = direction.xzy;
		direction.xz *= -1.0; // ( -u, 1, -v ) pos y
	} else if (face == 2.0) {
		direction.x *= -1.0; // ( -u, v, 1 ) pos z
	} else if (face == 3.0) {
		direction = direction.zyx;
		direction.xz *= -1.0; // ( -1, v, -u ) neg x
	} else if (face == 4.0) {
		direction = direction.xzy;
		direction.xy *= -1.0; // ( -u, -1, v ) neg y
	} else if (face == 5.0) {
		direction.z *= -1.0; // ( u, v, -1 ) neg z
	}
	return direction;
}

void main() {
	vOutputDirection = getDirection(uv, faceIndex);
	gl_Position = vec4( position, 1.0 );
}
	`}function I2(){return`
uniform int inputEncoding;
uniform int outputEncoding;

#include <encodings_pars_fragment>

vec4 inputTexelToLinear(vec4 value){
	if(inputEncoding == 0){
		return value;
	}else if(inputEncoding == 1){
		return sRGBToLinear(value);
	}else if(inputEncoding == 2){
		return RGBEToLinear(value);
	}else if(inputEncoding == 3){
		return RGBMToLinear(value, 7.0);
	}else if(inputEncoding == 4){
		return RGBMToLinear(value, 16.0);
	}else if(inputEncoding == 5){
		return RGBDToLinear(value, 256.0);
	}else{
		return GammaToLinear(value, 2.2);
	}
}

vec4 linearToOutputTexel(vec4 value){
	if(outputEncoding == 0){
		return value;
	}else if(outputEncoding == 1){
		return LinearTosRGB(value);
	}else if(outputEncoding == 2){
		return LinearToRGBE(value);
	}else if(outputEncoding == 3){
		return LinearToRGBM(value, 7.0);
	}else if(outputEncoding == 4){
		return LinearToRGBM(value, 16.0);
	}else if(outputEncoding == 5){
		return LinearToRGBD(value, 256.0);
	}else{
		return LinearToGamma(value, 2.2);
	}
}

vec4 envMapTexelToLinear(vec4 color) {
	return inputTexelToLinear(color);
}
	`}function sb(u){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Gp.call(this,u),this.type="catmullrom",this.closed=!0}function lb(u){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Gp.call(this,u),this.type="catmullrom"}function P2(u){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Gp.call(this,u),this.type="catmullrom"}Ic===void 0&&(Number.EPSILON=Math.pow(2,-52)),lm===void 0&&(Number.isInteger=function(u){return typeof u=="number"&&isFinite(u)&&Math.floor(u)===u}),Im===void 0&&(Math.sign=function(u){return 0>u?-1:0<u?1:+u}),!("name"in Function.prototype)&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),Xe===void 0&&(Object.assign=function(u){if(u==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(u),o=1;o<arguments.length;o++){var p=arguments[o];if(p!=null)for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(t[g]=p[g])}return t}),Xe(s.prototype,{addEventListener:function(t,o){this._listeners===void 0&&(this._listeners={});var p=this._listeners;p[t]===void 0&&(p[t]=[]),p[t].indexOf(o)===-1&&p[t].push(o)},hasEventListener:function(t,o){if(this._listeners===void 0)return!1;var p=this._listeners;return p[t]!==void 0&&p[t].indexOf(o)!==-1},removeEventListener:function(t,o){this._listeners!==void 0&&(t=this._listeners[t],t!==void 0&&(o=t.indexOf(o),o!==-1&&t.splice(o,1)))},dispatchEvent:function(t){if(this._listeners!==void 0){var o=this._listeners[t.type];if(o!==void 0){t.target=this,o=o.slice(0);for(var p=0,g=o.length;p<g;p++)o[p].call(this,t)}}}});for(var Dp=[],rC=0;256>rC;rC++)Dp[rC]=(16>rC?"0":"")+rC.toString(16);var Ll={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t=4294967295*Math.random()|0,o=4294967295*Math.random()|0,p=4294967295*Math.random()|0,g=4294967295*Math.random()|0;return(Dp[t&255]+Dp[t>>8&255]+Dp[t>>16&255]+Dp[t>>24&255]+"-"+Dp[o&255]+Dp[o>>8&255]+"-"+Dp[o>>16&15|64]+Dp[o>>24&255]+"-"+Dp[p&63|128]+Dp[p>>8&255]+"-"+Dp[p>>16&255]+Dp[p>>24&255]+Dp[g&255]+Dp[g>>8&255]+Dp[g>>16&255]+Dp[g>>24&255]).toUpperCase()},clamp:function(t,o,p){return Math.max(o,Math.min(p,t))},euclideanModulo:function(t,o){return(t%o+o)%o},mapLinear:function(t,o,p,g,b){return g+(t-o)*(b-g)/(p-o)},lerp:function(t,o,p){return(1-p)*t+p*o},smoothstep:function(t,o,p){return t<=o?0:t>=p?1:(t=(t-o)/(p-o),t*t*(3-2*t))},smootherstep:function(t,o,p){return t<=o?0:t>=p?1:(t=(t-o)/(p-o),t*t*t*(t*(6*t-15)+10))},randInt:function(t,o){return t+Math.floor(Math.random()*(o-t+1))},randFloat:function(t,o){return t+Math.random()*(o-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*Ll.DEG2RAD},radToDeg:function(t){return t*Ll.RAD2DEG},isPowerOfTwo:function(t){return(t&t-1)==0&&t!==0},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,o,p,g,b){var _=Math.cos,D=Math.sin,k=_(p/2);p=D(p/2);var X=_((o+g)/2),$=D((o+g)/2),de=_((o-g)/2),ge=D((o-g)/2);switch(_=_((g-o)/2),o=D((g-o)/2),b){case"XYX":t.set(k*$,p*de,p*ge,k*X);break;case"YZY":t.set(p*ge,k*$,p*de,k*X);break;case"ZXZ":t.set(p*de,p*ge,k*$,k*X);break;case"XZX":t.set(k*$,p*o,p*_,k*X);break;case"YXY":t.set(p*_,k*$,p*o,k*X);break;case"ZYZ":t.set(p*o,p*_,k*$,k*X);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+b)}}};Ia(c.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Xe(c.prototype,{isVector2:!0,set:function(t,o){return this.x=t,this.y=o,this},setScalar:function(t){return this.y=this.x=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,o){switch(t){case 0:this.x=o;break;case 1:this.y=o;break;default:throw Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,o){return o!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,o)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,o){return this.x=t.x+o.x,this.y=t.y+o.y,this},addScaledVector:function(t,o){return this.x+=t.x*o,this.y+=t.y*o,this},sub:function(t,o){return o!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,o)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,o){return this.x=t.x-o.x,this.y=t.y-o.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var o=this.x,p=this.y;return t=t.elements,this.x=t[0]*o+t[3]*p+t[6],this.y=t[1]*o+t[4]*p+t[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,o){return this.x=Math.max(t.x,Math.min(o.x,this.x)),this.y=Math.max(t.y,Math.min(o.y,this.y)),this},clampScalar:function(t,o){return this.x=Math.max(t,Math.min(o,this.x)),this.y=Math.max(t,Math.min(o,this.y)),this},clampLength:function(t,o){var p=this.length();return this.divideScalar(p||1).multiplyScalar(Math.max(t,Math.min(o,p)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){return Math.atan2(-this.y,-this.x)+Math.PI},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var o=this.x-t.x;return t=this.y-t.y,o*o+t*t},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,o){return this.x+=(t.x-this.x)*o,this.y+=(t.y-this.y)*o,this},lerpVectors:function(t,o,p){return this.x=t.x+(o.x-t.x)*p,this.y=t.y+(o.y-t.y)*p,this},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,o){return o===void 0&&(o=0),this.x=t[o],this.y=t[o+1],this},toArray:function(t,o){return t===void 0&&(t=[]),o===void 0&&(o=0),t[o]=this.x,t[o+1]=this.y,t},fromBufferAttribute:function(t,o,p){return p!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(o),this.y=t.getY(o),this},rotateAround:function(t,o){var p=Math.cos(o);o=Math.sin(o);var g=this.x-t.x,b=this.y-t.y;return this.x=g*p-b*o+t.x,this.y=g*o+b*p+t.y,this},random:function(){return this.x=Math.random(),this.y=Math.random(),this}}),Xe(v.prototype,{isMatrix3:!0,set:function(t,o,p,g,b,_,D,k,X){var $=this.elements;return $[0]=t,$[1]=g,$[2]=D,$[3]=o,$[4]=b,$[5]=k,$[6]=p,$[7]=_,$[8]=X,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return new this.constructor().fromArray(this.elements)},copy:function(t){var o=this.elements;return t=t.elements,o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3],o[4]=t[4],o[5]=t[5],o[6]=t[6],o[7]=t[7],o[8]=t[8],this},extractBasis:function(t,o,p){return t.setFromMatrix3Column(this,0),o.setFromMatrix3Column(this,1),p.setFromMatrix3Column(this,2),this},setFromMatrix4:function(t){return t=t.elements,this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,o){var p=t.elements,g=o.elements;o=this.elements,t=p[0];var b=p[3],_=p[6],D=p[1],k=p[4],X=p[7],$=p[2],de=p[5];p=p[8];var ge=g[0],me=g[3],Ee=g[6],ke=g[1],xt=g[4],qt=g[7],Qt=g[2],er=g[5];return g=g[8],o[0]=t*ge+b*ke+_*Qt,o[3]=t*me+b*xt+_*er,o[6]=t*Ee+b*qt+_*g,o[1]=D*ge+k*ke+X*Qt,o[4]=D*me+k*xt+X*er,o[7]=D*Ee+k*qt+X*g,o[2]=$*ge+de*ke+p*Qt,o[5]=$*me+de*xt+p*er,o[8]=$*Ee+de*qt+p*g,this},multiplyScalar:function(t){var o=this.elements;return o[0]*=t,o[3]*=t,o[6]*=t,o[1]*=t,o[4]*=t,o[7]*=t,o[2]*=t,o[5]*=t,o[8]*=t,this},determinant:function(){var t=this.elements,o=t[0],p=t[1],g=t[2],b=t[3],_=t[4],D=t[5],k=t[6],X=t[7];return t=t[8],o*_*t-o*D*X-p*b*t+p*D*k+g*b*X-g*_*k},getInverse:function(t,o){o!==void 0&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");var p=t.elements;t=this.elements,o=p[0];var g=p[1],b=p[2],_=p[3],D=p[4],k=p[5],X=p[6],$=p[7];p=p[8];var de=p*D-k*$,ge=k*X-p*_,me=$*_-D*X,Ee=o*de+g*ge+b*me;return Ee===0?this.set(0,0,0,0,0,0,0,0,0):(Ee=1/Ee,t[0]=de*Ee,t[1]=(b*$-p*g)*Ee,t[2]=(k*g-b*D)*Ee,t[3]=ge*Ee,t[4]=(p*o-b*X)*Ee,t[5]=(b*_-k*o)*Ee,t[6]=me*Ee,t[7]=(g*X-$*o)*Ee,t[8]=(D*o-g*_)*Ee,this)},transpose:function(){var t=this.elements,o=t[1];return t[1]=t[3],t[3]=o,o=t[2],t[2]=t[6],t[6]=o,o=t[5],t[5]=t[7],t[7]=o,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var o=this.elements;return t[0]=o[0],t[1]=o[3],t[2]=o[6],t[3]=o[1],t[4]=o[4],t[5]=o[7],t[6]=o[2],t[7]=o[5],t[8]=o[8],this},setUvTransform:function(t,o,p,g,b,_,D){var k=Math.cos(b);b=Math.sin(b),this.set(p*k,p*b,-p*(k*_+b*D)+_+t,-g*b,g*k,-g*(-b*_+k*D)+D+o,0,0,1)},scale:function(t,o){var p=this.elements;return p[0]*=t,p[3]*=t,p[6]*=t,p[1]*=o,p[4]*=o,p[7]*=o,this},rotate:function(t){var o=Math.cos(t);t=Math.sin(t);var p=this.elements,g=p[0],b=p[3],_=p[6],D=p[1],k=p[4],X=p[7];return p[0]=o*g+t*D,p[3]=o*b+t*k,p[6]=o*_+t*X,p[1]=-t*g+o*D,p[4]=-t*b+o*k,p[7]=-t*_+o*X,this},translate:function(t,o){var p=this.elements;return p[0]+=t*p[2],p[3]+=t*p[5],p[6]+=t*p[8],p[1]+=o*p[2],p[4]+=o*p[5],p[7]+=o*p[8],this},equals:function(t){var o=this.elements;t=t.elements;for(var p=0;9>p;p++)if(o[p]!==t[p])return!1;return!0},fromArray:function(t,o){o===void 0&&(o=0);for(var p=0;9>p;p++)this.elements[p]=t[p+o];return this},toArray:function(t,o){t===void 0&&(t=[]),o===void 0&&(o=0);var p=this.elements;return t[o]=p[0],t[o+1]=p[1],t[o+2]=p[2],t[o+3]=p[3],t[o+4]=p[4],t[o+5]=p[5],t[o+6]=p[6],t[o+7]=p[7],t[o+8]=p[8],t}});var G1,ry={getDataURL:function(t){if(typeof HTMLCanvasElement=="undefined")return t.src;if(!(t instanceof HTMLCanvasElement)){G1===void 0&&(G1=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),G1.width=t.width,G1.height=t.height;var o=G1.getContext("2d");t instanceof ImageData?o.putImageData(t,0,0):o.drawImage(t,0,0,t.width,t.height),t=G1}return 2048<t.width||2048<t.height?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},dM=0;x.DEFAULT_IMAGE=void 0,x.DEFAULT_MAPPING=300,x.prototype=Xe(Ge(s.prototype),{constructor:x,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var o=t===void 0||typeof t=="string";if(!o&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];var p={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){var g=this.image;if(g.uuid===void 0&&(g.uuid=Ll.generateUUID()),!o&&t.images[g.uuid]===void 0){if(Array.isArray(g))for(var b=[],_=0,D=g.length;_<D;_++)b.push(ry.getDataURL(g[_]));else b=ry.getDataURL(g);t.images[g.uuid]={uuid:g.uuid,url:b}}p.image=g.uuid}return o||(t.textures[this.uuid]=p),p},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping!==300)return t;if(t.applyMatrix3(this.matrix),0>t.x||1<t.x)switch(this.wrapS){case 1e3:t.x-=Math.floor(t.x);break;case 1001:t.x=0>t.x?0:1;break;case 1002:t.x=Math.abs(Math.floor(t.x)%2)===1?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(0>t.y||1<t.y)switch(this.wrapT){case 1e3:t.y-=Math.floor(t.y);break;case 1001:t.y=0>t.y?0:1;break;case 1002:t.y=Math.abs(Math.floor(t.y)%2)===1?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(x.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}}),Ia(w.prototype,{width:{get:function(){return this.z},set:function(t){this.z=t}},height:{get:function(){return this.w},set:function(t){this.w=t}}}),Xe(w.prototype,{isVector4:!0,set:function(t,o,p,g){return this.x=t,this.y=o,this.z=p,this.w=g,this},setScalar:function(t){return this.w=this.z=this.y=this.x=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,o){switch(t){case 0:this.x=o;break;case 1:this.y=o;break;case 2:this.z=o;break;case 3:this.w=o;break;default:throw Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this},add:function(t,o){return o!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,o)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,o){return this.x=t.x+o.x,this.y=t.y+o.y,this.z=t.z+o.z,this.w=t.w+o.w,this},addScaledVector:function(t,o){return this.x+=t.x*o,this.y+=t.y*o,this.z+=t.z*o,this.w+=t.w*o,this},sub:function(t,o){return o!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,o)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,o){return this.x=t.x-o.x,this.y=t.y-o.y,this.z=t.z-o.z,this.w=t.w-o.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var o=this.x,p=this.y,g=this.z,b=this.w;return t=t.elements,this.x=t[0]*o+t[4]*p+t[8]*g+t[12]*b,this.y=t[1]*o+t[5]*p+t[9]*g+t[13]*b,this.z=t[2]*o+t[6]*p+t[10]*g+t[14]*b,this.w=t[3]*o+t[7]*p+t[11]*g+t[15]*b,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var o=Math.sqrt(1-t.w*t.w);return 1e-4>o?(this.x=1,this.z=this.y=0):(this.x=t.x/o,this.y=t.y/o,this.z=t.z/o),this},setAxisAngleFromRotationMatrix:function(t){t=t.elements;var o=t[0],p=t[4],g=t[8],b=t[1],_=t[5],D=t[9],k=t[2],X=t[6],$=t[10];return .01>Math.abs(p-b)&&.01>Math.abs(g-k)&&.01>Math.abs(D-X)?.1>Math.abs(p+b)&&.1>Math.abs(g+k)&&.1>Math.abs(D+X)&&.1>Math.abs(o+_+$-3)?(this.set(1,0,0,0),this):(t=Math.PI,o=(o+1)/2,_=(_+1)/2,$=($+1)/2,p=(p+b)/4,g=(g+k)/4,D=(D+X)/4,o>_&&o>$?.01>o?(X=0,p=k=.707106781):(X=Math.sqrt(o),k=p/X,p=g/X):_>$?.01>_?(X=.707106781,k=0,p=.707106781):(k=Math.sqrt(_),X=p/k,p=D/k):.01>$?(k=X=.707106781,p=0):(p=Math.sqrt($),X=g/p,k=D/p),this.set(X,k,p,t),this):(t=Math.sqrt((X-D)*(X-D)+(g-k)*(g-k)+(b-p)*(b-p)),.001>Math.abs(t)&&(t=1),this.x=(X-D)/t,this.y=(g-k)/t,this.z=(b-p)/t,this.w=Math.acos((o+_+$-1)/2),this)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,o){return this.x=Math.max(t.x,Math.min(o.x,this.x)),this.y=Math.max(t.y,Math.min(o.y,this.y)),this.z=Math.max(t.z,Math.min(o.z,this.z)),this.w=Math.max(t.w,Math.min(o.w,this.w)),this},clampScalar:function(t,o){return this.x=Math.max(t,Math.min(o,this.x)),this.y=Math.max(t,Math.min(o,this.y)),this.z=Math.max(t,Math.min(o,this.z)),this.w=Math.max(t,Math.min(o,this.w)),this},clampLength:function(t,o){var p=this.length();return this.divideScalar(p||1).multiplyScalar(Math.max(t,Math.min(o,p)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,o){return this.x+=(t.x-this.x)*o,this.y+=(t.y-this.y)*o,this.z+=(t.z-this.z)*o,this.w+=(t.w-this.w)*o,this},lerpVectors:function(t,o,p){return this.x=t.x+(o.x-t.x)*p,this.y=t.y+(o.y-t.y)*p,this.z=t.z+(o.z-t.z)*p,this.w=t.w+(o.w-t.w)*p,this},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,o){return o===void 0&&(o=0),this.x=t[o],this.y=t[o+1],this.z=t[o+2],this.w=t[o+3],this},toArray:function(t,o){return t===void 0&&(t=[]),o===void 0&&(o=0),t[o]=this.x,t[o+1]=this.y,t[o+2]=this.z,t[o+3]=this.w,t},fromBufferAttribute:function(t,o,p){return p!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(o),this.y=t.getY(o),this.z=t.getZ(o),this.w=t.getW(o),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}),I.prototype=Xe(Ge(s.prototype),{constructor:I,isWebGLRenderTarget:!0,setSize:function(t,o){(this.width!==t||this.height!==o)&&(this.width=t,this.height=o,this.texture.image.width=t,this.texture.image.height=o,this.dispose()),this.viewport.set(0,0,t,o),this.scissor.set(0,0,t,o)},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),j.prototype=Xe(Ge(I.prototype),{constructor:j,isWebGLMultisampleRenderTarget:!0,copy:function(t){return I.prototype.copy.call(this,t),this.samples=t.samples,this}}),Xe(G,{slerp:function(t,o,p,g){return p.copy(t).slerp(o,g)},slerpFlat:function(t,o,p,g,b,_,D){var k=p[g+0],X=p[g+1],$=p[g+2];p=p[g+3],g=b[_+0];var de=b[_+1],ge=b[_+2];if(b=b[_+3],p!==b||k!==g||X!==de||$!==ge){_=1-D;var me=k*g+X*de+$*ge+p*b,Ee=0<=me?1:-1,ke=1-me*me;ke>Ic&&(ke=Math.sqrt(ke),me=Math.atan2(ke,me*Ee),_=Math.sin(_*me)/ke,D=Math.sin(D*me)/ke),Ee*=D,k=k*_+g*Ee,X=X*_+de*Ee,$=$*_+ge*Ee,p=p*_+b*Ee,_===1-D&&(D=1/Math.sqrt(k*k+X*X+$*$+p*p),k*=D,X*=D,$*=D,p*=D)}t[o]=k,t[o+1]=X,t[o+2]=$,t[o+3]=p},multiplyQuaternionsFlat:function(t,o,p,g,b,_){var D=p[g],k=p[g+1],X=p[g+2];p=p[g+3],g=b[_];var $=b[_+1],de=b[_+2];return b=b[_+3],t[o]=D*b+p*g+k*de-X*$,t[o+1]=k*b+p*$+X*g-D*de,t[o+2]=X*b+p*de+D*$-k*g,t[o+3]=p*b-D*g-k*$-X*de,t}}),Ia(G.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()}}}),Xe(G.prototype,{isQuaternion:!0,set:function(t,o,p,g){return this._x=t,this._y=o,this._z=p,this._w=g,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this},setFromEuler:function(t,o){if(!t||!t.isEuler)throw Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var p=t._x,g=t._y,b=t._z;t=t.order;var _=Math.cos,D=Math.sin,k=_(p/2),X=_(g/2);switch(_=_(b/2),p=D(p/2),g=D(g/2),b=D(b/2),t){case"XYZ":this._x=p*X*_+k*g*b,this._y=k*g*_-p*X*b,this._z=k*X*b+p*g*_,this._w=k*X*_-p*g*b;break;case"YXZ":this._x=p*X*_+k*g*b,this._y=k*g*_-p*X*b,this._z=k*X*b-p*g*_,this._w=k*X*_+p*g*b;break;case"ZXY":this._x=p*X*_-k*g*b,this._y=k*g*_+p*X*b,this._z=k*X*b+p*g*_,this._w=k*X*_-p*g*b;break;case"ZYX":this._x=p*X*_-k*g*b,this._y=k*g*_+p*X*b,this._z=k*X*b-p*g*_,this._w=k*X*_+p*g*b;break;case"YZX":this._x=p*X*_+k*g*b,this._y=k*g*_+p*X*b,this._z=k*X*b-p*g*_,this._w=k*X*_-p*g*b;break;case"XZY":this._x=p*X*_-k*g*b,this._y=k*g*_-p*X*b,this._z=k*X*b+p*g*_,this._w=k*X*_+p*g*b;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+t)}return o!==!1&&this._onChangeCallback(),this},setFromAxisAngle:function(t,o){o/=2;var p=Math.sin(o);return this._x=t.x*p,this._y=t.y*p,this._z=t.z*p,this._w=Math.cos(o),this._onChangeCallback(),this},setFromRotationMatrix:function(t){var o=t.elements,p=o[0];t=o[4];var g=o[8],b=o[1],_=o[5],D=o[9],k=o[2],X=o[6];o=o[10];var $=p+_+o;return 0<$?(p=.5/Math.sqrt($+1),this._w=.25/p,this._x=(X-D)*p,this._y=(g-k)*p,this._z=(b-t)*p):p>_&&p>o?(p=2*Math.sqrt(1+p-_-o),this._w=(X-D)/p,this._x=.25*p,this._y=(t+b)/p,this._z=(g+k)/p):_>o?(p=2*Math.sqrt(1+_-p-o),this._w=(g-k)/p,this._x=(t+b)/p,this._y=.25*p,this._z=(D+X)/p):(p=2*Math.sqrt(1+o-p-_),this._w=(b-t)/p,this._x=(g+k)/p,this._y=(D+X)/p,this._z=.25*p),this._onChangeCallback(),this},setFromUnitVectors:function(t,o){var p=t.dot(o)+1;return 1e-6>p?(p=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0):(this._x=0,this._y=-t.z,this._z=t.y)):(this._x=t.y*o.z-t.z*o.y,this._y=t.z*o.x-t.x*o.z,this._z=t.x*o.y-t.y*o.x),this._w=p,this.normalize()},angleTo:function(t){return 2*Math.acos(Math.abs(Ll.clamp(this.dot(t),-1,1)))},rotateTowards:function(t,o){var p=this.angleTo(t);return p===0?this:(this.slerp(t,Math.min(1,o/p)),this)},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return t===0?(this._z=this._y=this._x=0,this._w=1):(t=1/t,this._x*=t,this._y*=t,this._z*=t,this._w*=t),this._onChangeCallback(),this},multiply:function(t,o){return o!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,o)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,o){var p=t._x,g=t._y,b=t._z;t=t._w;var _=o._x,D=o._y,k=o._z;return o=o._w,this._x=p*o+t*_+g*k-b*D,this._y=g*o+t*D+b*_-p*k,this._z=b*o+t*k+p*D-g*_,this._w=t*o-p*_-g*D-b*k,this._onChangeCallback(),this},slerp:function(t,o){if(o===0)return this;if(o===1)return this.copy(t);var p=this._x,g=this._y,b=this._z,_=this._w,D=_*t._w+p*t._x+g*t._y+b*t._z;if(0>D?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,D=-D):this.copy(t),1<=D)return this._w=_,this._x=p,this._y=g,this._z=b,this;if(t=1-D*D,t<=Ic)return D=1-o,this._w=D*_+o*this._w,this._x=D*p+o*this._x,this._y=D*g+o*this._y,this._z=D*b+o*this._z,this.normalize(),this._onChangeCallback(),this;t=Math.sqrt(t);var k=Math.atan2(t,D);return D=Math.sin((1-o)*k)/t,o=Math.sin(o*k)/t,this._w=_*D+this._w*o,this._x=p*D+this._x*o,this._y=g*D+this._y*o,this._z=b*D+this._z*o,this._onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,o){return o===void 0&&(o=0),this._x=t[o],this._y=t[o+1],this._z=t[o+2],this._w=t[o+3],this._onChangeCallback(),this},toArray:function(t,o){return t===void 0&&(t=[]),o===void 0&&(o=0),t[o]=this._x,t[o+1]=this._y,t[o+2]=this._z,t[o+3]=this._w,t},fromBufferAttribute:function(t,o){return this._x=t.getX(o),this._y=t.getY(o),this._z=t.getZ(o),this._w=t.getW(o),this},_onChange:function(t){return this._onChangeCallback=t,this},_onChangeCallback:function(){}});var O2=new W,ub=new G;Xe(W.prototype,{isVector3:!0,set:function(t,o,p){return this.x=t,this.y=o,this.z=p,this},setScalar:function(t){return this.z=this.y=this.x=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,o){switch(t){case 0:this.x=o;break;case 1:this.y=o;break;case 2:this.z=o;break;default:throw Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,o){return o!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,o)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,o){return this.x=t.x+o.x,this.y=t.y+o.y,this.z=t.z+o.z,this},addScaledVector:function(t,o){return this.x+=t.x*o,this.y+=t.y*o,this.z+=t.z*o,this},sub:function(t,o){return o!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,o)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,o){return this.x=t.x-o.x,this.y=t.y-o.y,this.z=t.z-o.z,this},multiply:function(t,o){return o!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,o)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,o){return this.x=t.x*o.x,this.y=t.y*o.y,this.z=t.z*o.z,this},applyEuler:function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(ub.setFromEuler(t))},applyAxisAngle:function(t,o){return this.applyQuaternion(ub.setFromAxisAngle(t,o))},applyMatrix3:function(t){var o=this.x,p=this.y,g=this.z;return t=t.elements,this.x=t[0]*o+t[3]*p+t[6]*g,this.y=t[1]*o+t[4]*p+t[7]*g,this.z=t[2]*o+t[5]*p+t[8]*g,this},applyNormalMatrix:function(t){return this.applyMatrix3(t).normalize()},applyMatrix4:function(t){var o=this.x,p=this.y,g=this.z;t=t.elements;var b=1/(t[3]*o+t[7]*p+t[11]*g+t[15]);return this.x=(t[0]*o+t[4]*p+t[8]*g+t[12])*b,this.y=(t[1]*o+t[5]*p+t[9]*g+t[13])*b,this.z=(t[2]*o+t[6]*p+t[10]*g+t[14])*b,this},applyQuaternion:function(t){var o=this.x,p=this.y,g=this.z,b=t.x,_=t.y,D=t.z;t=t.w;var k=t*o+_*g-D*p,X=t*p+D*o-b*g,$=t*g+b*p-_*o;return o=-b*o-_*p-D*g,this.x=k*t+o*-b+X*-D-$*-_,this.y=X*t+o*-_+$*-b-k*-D,this.z=$*t+o*-D+k*-_-X*-b,this},project:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},unproject:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)},transformDirection:function(t){var o=this.x,p=this.y,g=this.z;return t=t.elements,this.x=t[0]*o+t[4]*p+t[8]*g,this.y=t[1]*o+t[5]*p+t[9]*g,this.z=t[2]*o+t[6]*p+t[10]*g,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,o){return this.x=Math.max(t.x,Math.min(o.x,this.x)),this.y=Math.max(t.y,Math.min(o.y,this.y)),this.z=Math.max(t.z,Math.min(o.z,this.z)),this},clampScalar:function(t,o){return this.x=Math.max(t,Math.min(o,this.x)),this.y=Math.max(t,Math.min(o,this.y)),this.z=Math.max(t,Math.min(o,this.z)),this},clampLength:function(t,o){var p=this.length();return this.divideScalar(p||1).multiplyScalar(Math.max(t,Math.min(o,p)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,o){return this.x+=(t.x-this.x)*o,this.y+=(t.y-this.y)*o,this.z+=(t.z-this.z)*o,this},lerpVectors:function(t,o,p){return this.x=t.x+(o.x-t.x)*p,this.y=t.y+(o.y-t.y)*p,this.z=t.z+(o.z-t.z)*p,this},cross:function(t,o){return o!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,o)):this.crossVectors(this,t)},crossVectors:function(t,o){var p=t.x,g=t.y;t=t.z;var b=o.x,_=o.y;return o=o.z,this.x=g*o-t*_,this.y=t*b-p*o,this.z=p*_-g*b,this},projectOnVector:function(t){var o=t.lengthSq();return o===0?this.set(0,0,0):(o=t.dot(this)/o,this.copy(t).multiplyScalar(o))},projectOnPlane:function(t){return O2.copy(this).projectOnVector(t),this.sub(O2)},reflect:function(t){return this.sub(O2.copy(t).multiplyScalar(2*this.dot(t)))},angleTo:function(t){var o=Math.sqrt(this.lengthSq()*t.lengthSq());return o===0?Math.PI/2:(t=this.dot(t)/o,Math.acos(Ll.clamp(t,-1,1)))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var o=this.x-t.x,p=this.y-t.y;return t=this.z-t.z,o*o+p*p+t*t},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)},setFromSphericalCoords:function(t,o,p){var g=Math.sin(o)*t;return this.x=g*Math.sin(p),this.y=Math.cos(o)*t,this.z=g*Math.cos(p),this},setFromCylindrical:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)},setFromCylindricalCoords:function(t,o,p){return this.x=t*Math.sin(o),this.y=p,this.z=t*Math.cos(o),this},setFromMatrixPosition:function(t){return t=t.elements,this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(t){var o=this.setFromMatrixColumn(t,0).length(),p=this.setFromMatrixColumn(t,1).length();return t=this.setFromMatrixColumn(t,2).length(),this.x=o,this.y=p,this.z=t,this},setFromMatrixColumn:function(t,o){return this.fromArray(t.elements,4*o)},setFromMatrix3Column:function(t,o){return this.fromArray(t.elements,3*o)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,o){return o===void 0&&(o=0),this.x=t[o],this.y=t[o+1],this.z=t[o+2],this},toArray:function(t,o){return t===void 0&&(t=[]),o===void 0&&(o=0),t[o]=this.x,t[o+1]=this.y,t[o+2]=this.z,t},fromBufferAttribute:function(t,o,p){return p!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(o),this.y=t.getY(o),this.z=t.getZ(o),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}});var Y1=new W,ug=new ae,pM=new W(0,0,0),mM=new W(1,1,1),ny=new W,cA=new W,nv=new W;Xe(ae.prototype,{isMatrix4:!0,set:function(t,o,p,g,b,_,D,k,X,$,de,ge,me,Ee,ke,xt){var qt=this.elements;return qt[0]=t,qt[4]=o,qt[8]=p,qt[12]=g,qt[1]=b,qt[5]=_,qt[9]=D,qt[13]=k,qt[2]=X,qt[6]=$,qt[10]=de,qt[14]=ge,qt[3]=me,qt[7]=Ee,qt[11]=ke,qt[15]=xt,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return new ae().fromArray(this.elements)},copy:function(t){var o=this.elements;return t=t.elements,o[0]=t[0],o[1]=t[1],o[2]=t[2],o[3]=t[3],o[4]=t[4],o[5]=t[5],o[6]=t[6],o[7]=t[7],o[8]=t[8],o[9]=t[9],o[10]=t[10],o[11]=t[11],o[12]=t[12],o[13]=t[13],o[14]=t[14],o[15]=t[15],this},copyPosition:function(t){var o=this.elements;return t=t.elements,o[12]=t[12],o[13]=t[13],o[14]=t[14],this},extractBasis:function(t,o,p){return t.setFromMatrixColumn(this,0),o.setFromMatrixColumn(this,1),p.setFromMatrixColumn(this,2),this},makeBasis:function(t,o,p){return this.set(t.x,o.x,p.x,0,t.y,o.y,p.y,0,t.z,o.z,p.z,0,0,0,0,1),this},extractRotation:function(t){var o=this.elements,p=t.elements,g=1/Y1.setFromMatrixColumn(t,0).length(),b=1/Y1.setFromMatrixColumn(t,1).length();return t=1/Y1.setFromMatrixColumn(t,2).length(),o[0]=p[0]*g,o[1]=p[1]*g,o[2]=p[2]*g,o[3]=0,o[4]=p[4]*b,o[5]=p[5]*b,o[6]=p[6]*b,o[7]=0,o[8]=p[8]*t,o[9]=p[9]*t,o[10]=p[10]*t,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,this},makeRotationFromEuler:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var o=this.elements,p=t.x,g=t.y,b=t.z,_=Math.cos(p);p=Math.sin(p);var D=Math.cos(g);g=Math.sin(g);var k=Math.cos(b);if(b=Math.sin(b),t.order==="XYZ"){t=_*k;var X=_*b,$=p*k,de=p*b;o[0]=D*k,o[4]=-D*b,o[8]=g,o[1]=X+$*g,o[5]=t-de*g,o[9]=-p*D,o[2]=de-t*g,o[6]=$+X*g,o[10]=_*D}else t.order==="YXZ"?(t=D*k,X=D*b,$=g*k,de=g*b,o[0]=t+de*p,o[4]=$*p-X,o[8]=_*g,o[1]=_*b,o[5]=_*k,o[9]=-p,o[2]=X*p-$,o[6]=de+t*p,o[10]=_*D):t.order==="ZXY"?(t=D*k,X=D*b,$=g*k,de=g*b,o[0]=t-de*p,o[4]=-_*b,o[8]=$+X*p,o[1]=X+$*p,o[5]=_*k,o[9]=de-t*p,o[2]=-_*g,o[6]=p,o[10]=_*D):t.order==="ZYX"?(t=_*k,X=_*b,$=p*k,de=p*b,o[0]=D*k,o[4]=$*g-X,o[8]=t*g+de,o[1]=D*b,o[5]=de*g+t,o[9]=X*g-$,o[2]=-g,o[6]=p*D,o[10]=_*D):t.order==="YZX"?(t=_*D,X=_*g,$=p*D,de=p*g,o[0]=D*k,o[4]=de-t*b,o[8]=$*b+X,o[1]=b,o[5]=_*k,o[9]=-p*k,o[2]=-g*k,o[6]=X*b+$,o[10]=t-de*b):t.order==="XZY"&&(t=_*D,X=_*g,$=p*D,de=p*g,o[0]=D*k,o[4]=-b,o[8]=g*k,o[1]=t*b+de,o[5]=_*k,o[9]=X*b-$,o[2]=$*b-X,o[6]=p*k,o[10]=de*b+t);return o[3]=0,o[7]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,this},makeRotationFromQuaternion:function(t){return this.compose(pM,t,mM)},lookAt:function(t,o,p){var g=this.elements;return nv.subVectors(t,o),nv.lengthSq()===0&&(nv.z=1),nv.normalize(),ny.crossVectors(p,nv),ny.lengthSq()===0&&(Math.abs(p.z)===1?nv.x+=1e-4:nv.z+=1e-4,nv.normalize(),ny.crossVectors(p,nv)),ny.normalize(),cA.crossVectors(nv,ny),g[0]=ny.x,g[4]=cA.x,g[8]=nv.x,g[1]=ny.y,g[5]=cA.y,g[9]=nv.y,g[2]=ny.z,g[6]=cA.z,g[10]=nv.z,this},multiply:function(t,o){return o!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,o)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,o){var p=t.elements,g=o.elements;o=this.elements,t=p[0];var b=p[4],_=p[8],D=p[12],k=p[1],X=p[5],$=p[9],de=p[13],ge=p[2],me=p[6],Ee=p[10],ke=p[14],xt=p[3],qt=p[7],Qt=p[11];p=p[15];var er=g[0],dr=g[4],gn=g[8],Zr=g[12],lr=g[1],ii=g[5],Rr=g[9],ji=g[13],ro=g[2],oi=g[6],Ba=g[10],lo=g[14],Ea=g[3],gl=g[7],Ua=g[11];return g=g[15],o[0]=t*er+b*lr+_*ro+D*Ea,o[4]=t*dr+b*ii+_*oi+D*gl,o[8]=t*gn+b*Rr+_*Ba+D*Ua,o[12]=t*Zr+b*ji+_*lo+D*g,o[1]=k*er+X*lr+$*ro+de*Ea,o[5]=k*dr+X*ii+$*oi+de*gl,o[9]=k*gn+X*Rr+$*Ba+de*Ua,o[13]=k*Zr+X*ji+$*lo+de*g,o[2]=ge*er+me*lr+Ee*ro+ke*Ea,o[6]=ge*dr+me*ii+Ee*oi+ke*gl,o[10]=ge*gn+me*Rr+Ee*Ba+ke*Ua,o[14]=ge*Zr+me*ji+Ee*lo+ke*g,o[3]=xt*er+qt*lr+Qt*ro+p*Ea,o[7]=xt*dr+qt*ii+Qt*oi+p*gl,o[11]=xt*gn+qt*Rr+Qt*Ba+p*Ua,o[15]=xt*Zr+qt*ji+Qt*lo+p*g,this},multiplyScalar:function(t){var o=this.elements;return o[0]*=t,o[4]*=t,o[8]*=t,o[12]*=t,o[1]*=t,o[5]*=t,o[9]*=t,o[13]*=t,o[2]*=t,o[6]*=t,o[10]*=t,o[14]*=t,o[3]*=t,o[7]*=t,o[11]*=t,o[15]*=t,this},determinant:function(){var t=this.elements,o=t[0],p=t[4],g=t[8],b=t[12],_=t[1],D=t[5],k=t[9],X=t[13],$=t[2],de=t[6],ge=t[10],me=t[14];return t[3]*(+b*k*de-g*X*de-b*D*ge+p*X*ge+g*D*me-p*k*me)+t[7]*(+o*k*me-o*X*ge+b*_*ge-g*_*me+g*X*$-b*k*$)+t[11]*(+o*X*de-o*D*me-b*_*de+p*_*me+b*D*$-p*X*$)+t[15]*(-g*D*$-o*k*de+o*D*ge+g*_*de-p*_*ge+p*k*$)},transpose:function(){var t=this.elements,o=t[1];return t[1]=t[4],t[4]=o,o=t[2],t[2]=t[8],t[8]=o,o=t[6],t[6]=t[9],t[9]=o,o=t[3],t[3]=t[12],t[12]=o,o=t[7],t[7]=t[13],t[13]=o,o=t[11],t[11]=t[14],t[14]=o,this},setPosition:function(t,o,p){var g=this.elements;return t.isVector3?(g[12]=t.x,g[13]=t.y,g[14]=t.z):(g[12]=t,g[13]=o,g[14]=p),this},getInverse:function(t,o){o!==void 0&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate."),o=this.elements;var p=t.elements;t=p[0];var g=p[1],b=p[2],_=p[3],D=p[4],k=p[5],X=p[6],$=p[7],de=p[8],ge=p[9],me=p[10],Ee=p[11],ke=p[12],xt=p[13],qt=p[14];p=p[15];var Qt=ge*qt*$-xt*me*$+xt*X*Ee-k*qt*Ee-ge*X*p+k*me*p,er=ke*me*$-de*qt*$-ke*X*Ee+D*qt*Ee+de*X*p-D*me*p,dr=de*xt*$-ke*ge*$+ke*k*Ee-D*xt*Ee-de*k*p+D*ge*p,gn=ke*ge*X-de*xt*X-ke*k*me+D*xt*me+de*k*qt-D*ge*qt,Zr=t*Qt+g*er+b*dr+_*gn;return Zr===0?this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0):(Zr=1/Zr,o[0]=Qt*Zr,o[1]=(xt*me*_-ge*qt*_-xt*b*Ee+g*qt*Ee+ge*b*p-g*me*p)*Zr,o[2]=(k*qt*_-xt*X*_+xt*b*$-g*qt*$-k*b*p+g*X*p)*Zr,o[3]=(ge*X*_-k*me*_-ge*b*$+g*me*$+k*b*Ee-g*X*Ee)*Zr,o[4]=er*Zr,o[5]=(de*qt*_-ke*me*_+ke*b*Ee-t*qt*Ee-de*b*p+t*me*p)*Zr,o[6]=(ke*X*_-D*qt*_-ke*b*$+t*qt*$+D*b*p-t*X*p)*Zr,o[7]=(D*me*_-de*X*_+de*b*$-t*me*$-D*b*Ee+t*X*Ee)*Zr,o[8]=dr*Zr,o[9]=(ke*ge*_-de*xt*_-ke*g*Ee+t*xt*Ee+de*g*p-t*ge*p)*Zr,o[10]=(D*xt*_-ke*k*_+ke*g*$-t*xt*$-D*g*p+t*k*p)*Zr,o[11]=(de*k*_-D*ge*_-de*g*$+t*ge*$+D*g*Ee-t*k*Ee)*Zr,o[12]=gn*Zr,o[13]=(de*xt*b-ke*ge*b+ke*g*me-t*xt*me-de*g*qt+t*ge*qt)*Zr,o[14]=(ke*k*b-D*xt*b-ke*g*X+t*xt*X+D*g*qt-t*k*qt)*Zr,o[15]=(D*ge*b-de*k*b+de*g*X-t*ge*X-D*g*me+t*k*me)*Zr,this)},scale:function(t){var o=this.elements,p=t.x,g=t.y;return t=t.z,o[0]*=p,o[4]*=g,o[8]*=t,o[1]*=p,o[5]*=g,o[9]*=t,o[2]*=p,o[6]*=g,o[10]*=t,o[3]*=p,o[7]*=g,o[11]*=t,this},getMaxScaleOnAxis:function(){var t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))},makeTranslation:function(t,o,p){return this.set(1,0,0,t,0,1,0,o,0,0,1,p,0,0,0,1),this},makeRotationX:function(t){var o=Math.cos(t);return t=Math.sin(t),this.set(1,0,0,0,0,o,-t,0,0,t,o,0,0,0,0,1),this},makeRotationY:function(t){var o=Math.cos(t);return t=Math.sin(t),this.set(o,0,t,0,0,1,0,0,-t,0,o,0,0,0,0,1),this},makeRotationZ:function(t){var o=Math.cos(t);return t=Math.sin(t),this.set(o,-t,0,0,t,o,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,o){var p=Math.cos(o);o=Math.sin(o);var g=1-p,b=t.x,_=t.y;t=t.z;var D=g*b,k=g*_;return this.set(D*b+p,D*_-o*t,D*t+o*_,0,D*_+o*t,k*_+p,k*t-o*b,0,D*t-o*_,k*t+o*b,g*t*t+p,0,0,0,0,1),this},makeScale:function(t,o,p){return this.set(t,0,0,0,0,o,0,0,0,0,p,0,0,0,0,1),this},makeShear:function(t,o,p){return this.set(1,o,p,0,t,1,p,0,t,o,1,0,0,0,0,1),this},compose:function(t,o,p){var g=this.elements,b=o._x,_=o._y,D=o._z,k=o._w,X=b+b,$=_+_,de=D+D;o=b*X;var ge=b*$;b*=de;var me=_*$;_*=de,D*=de,X*=k,$*=k,k*=de,de=p.x;var Ee=p.y;return p=p.z,g[0]=(1-(me+D))*de,g[1]=(ge+k)*de,g[2]=(b-$)*de,g[3]=0,g[4]=(ge-k)*Ee,g[5]=(1-(o+D))*Ee,g[6]=(_+X)*Ee,g[7]=0,g[8]=(b+$)*p,g[9]=(_-X)*p,g[10]=(1-(o+me))*p,g[11]=0,g[12]=t.x,g[13]=t.y,g[14]=t.z,g[15]=1,this},decompose:function(t,o,p){var g=this.elements,b=Y1.set(g[0],g[1],g[2]).length(),_=Y1.set(g[4],g[5],g[6]).length(),D=Y1.set(g[8],g[9],g[10]).length();0>this.determinant()&&(b=-b),t.x=g[12],t.y=g[13],t.z=g[14],ug.copy(this),t=1/b,g=1/_;var k=1/D;return ug.elements[0]*=t,ug.elements[1]*=t,ug.elements[2]*=t,ug.elements[4]*=g,ug.elements[5]*=g,ug.elements[6]*=g,ug.elements[8]*=k,ug.elements[9]*=k,ug.elements[10]*=k,o.setFromRotationMatrix(ug),p.x=b,p.y=_,p.z=D,this},makePerspective:function(t,o,p,g,b,_){_===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var D=this.elements;return D[0]=2*b/(o-t),D[4]=0,D[8]=(o+t)/(o-t),D[12]=0,D[1]=0,D[5]=2*b/(p-g),D[9]=(p+g)/(p-g),D[13]=0,D[2]=0,D[6]=0,D[10]=-(_+b)/(_-b),D[14]=-2*_*b/(_-b),D[3]=0,D[7]=0,D[11]=-1,D[15]=0,this},makeOrthographic:function(t,o,p,g,b,_){var D=this.elements,k=1/(o-t),X=1/(p-g),$=1/(_-b);return D[0]=2*k,D[4]=0,D[8]=0,D[12]=-((o+t)*k),D[1]=0,D[5]=2*X,D[9]=0,D[13]=-((p+g)*X),D[2]=0,D[6]=0,D[10]=-2*$,D[14]=-((_+b)*$),D[3]=0,D[7]=0,D[11]=0,D[15]=1,this},equals:function(t){var o=this.elements;t=t.elements;for(var p=0;16>p;p++)if(o[p]!==t[p])return!1;return!0},fromArray:function(t,o){o===void 0&&(o=0);for(var p=0;16>p;p++)this.elements[p]=t[p+o];return this},toArray:function(t,o){t===void 0&&(t=[]),o===void 0&&(o=0);var p=this.elements;return t[o]=p[0],t[o+1]=p[1],t[o+2]=p[2],t[o+3]=p[3],t[o+4]=p[4],t[o+5]=p[5],t[o+6]=p[6],t[o+7]=p[7],t[o+8]=p[8],t[o+9]=p[9],t[o+10]=p[10],t[o+11]=p[11],t[o+12]=p[12],t[o+13]=p[13],t[o+14]=p[14],t[o+15]=p[15],t}});var cb=new ae,fb=new G;ue.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" "),ue.DefaultOrder="XYZ",Ia(ue.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this._onChangeCallback()}}}),Xe(ue.prototype,{isEuler:!0,set:function(t,o,p,g){return this._x=t,this._y=o,this._z=p,this._order=g||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this},setFromRotationMatrix:function(t,o,p){var g=Ll.clamp,b=t.elements;t=b[0];var _=b[4],D=b[8],k=b[1],X=b[5],$=b[9],de=b[2],ge=b[6];switch(b=b[10],o=o||this._order,o){case"XYZ":this._y=Math.asin(g(D,-1,1)),.9999999>Math.abs(D)?(this._x=Math.atan2(-$,b),this._z=Math.atan2(-_,t)):(this._x=Math.atan2(ge,X),this._z=0);break;case"YXZ":this._x=Math.asin(-g($,-1,1)),.9999999>Math.abs($)?(this._y=Math.atan2(D,b),this._z=Math.atan2(k,X)):(this._y=Math.atan2(-de,t),this._z=0);break;case"ZXY":this._x=Math.asin(g(ge,-1,1)),.9999999>Math.abs(ge)?(this._y=Math.atan2(-de,b),this._z=Math.atan2(-_,X)):(this._y=0,this._z=Math.atan2(k,t));break;case"ZYX":this._y=Math.asin(-g(de,-1,1)),.9999999>Math.abs(de)?(this._x=Math.atan2(ge,b),this._z=Math.atan2(k,t)):(this._x=0,this._z=Math.atan2(-_,X));break;case"YZX":this._z=Math.asin(g(k,-1,1)),.9999999>Math.abs(k)?(this._x=Math.atan2(-$,X),this._y=Math.atan2(-de,t)):(this._x=0,this._y=Math.atan2(D,b));break;case"XZY":this._z=Math.asin(-g(_,-1,1)),.9999999>Math.abs(_)?(this._x=Math.atan2(ge,X),this._y=Math.atan2(D,t)):(this._x=Math.atan2(-$,b),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+o)}return this._order=o,p!==!1&&this._onChangeCallback(),this},setFromQuaternion:function(t,o,p){return cb.makeRotationFromQuaternion(t),this.setFromRotationMatrix(cb,o,p)},setFromVector3:function(t,o){return this.set(t.x,t.y,t.z,o||this._order)},reorder:function(t){return fb.setFromEuler(this),this.setFromQuaternion(fb,t)},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this},toArray:function(t,o){return t===void 0&&(t=[]),o===void 0&&(o=0),t[o]=this._x,t[o+1]=this._y,t[o+2]=this._z,t[o+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new W(this._x,this._y,this._z)},_onChange:function(t){return this._onChangeCallback=t,this},_onChangeCallback:function(){}}),Xe(be.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask=this.mask|1<<t|0},enableAll:function(){this.mask=-1},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},disableAll:function(){this.mask=0},test:function(t){return(this.mask&t.mask)!=0}});var vM=0,hb=new W,X1=new G,u0=new ae,fA=new W,nC=new W,gM=new W,yM=new G,db=new W(1,0,0),pb=new W(0,1,0),mb=new W(0,0,1),xM={type:"added"},CM={type:"removed"};Me.DefaultUp=new W(0,1,0),Me.DefaultMatrixAutoUpdate=!0,Me.prototype=Xe(Ge(s.prototype),{constructor:Me,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,o){this.quaternion.setFromAxisAngle(t,o)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(t,o){return X1.setFromAxisAngle(t,o),this.quaternion.multiply(X1),this},rotateOnWorldAxis:function(t,o){return X1.setFromAxisAngle(t,o),this.quaternion.premultiply(X1),this},rotateX:function(t){return this.rotateOnAxis(db,t)},rotateY:function(t){return this.rotateOnAxis(pb,t)},rotateZ:function(t){return this.rotateOnAxis(mb,t)},translateOnAxis:function(t,o){return hb.copy(t).applyQuaternion(this.quaternion),this.position.add(hb.multiplyScalar(o)),this},translateX:function(t){return this.translateOnAxis(db,t)},translateY:function(t){return this.translateOnAxis(pb,t)},translateZ:function(t){return this.translateOnAxis(mb,t)},localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(t){return t.applyMatrix4(u0.getInverse(this.matrixWorld))},lookAt:function(t,o,p){t.isVector3?fA.copy(t):fA.set(t,o,p),t=this.parent,this.updateWorldMatrix(!0,!1),nC.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?u0.lookAt(nC,fA,this.up):u0.lookAt(fA,nC,this.up),this.quaternion.setFromRotationMatrix(u0),t&&(u0.extractRotation(t.matrixWorld),X1.setFromRotationMatrix(u0),this.quaternion.premultiply(X1.inverse()))},add:function(t){if(1<arguments.length){for(var o=0;o<arguments.length;o++)this.add(arguments[o]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.parent!==null&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(xM)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(1<arguments.length){for(var o=0;o<arguments.length;o++)this.remove(arguments[o]);return this}return o=this.children.indexOf(t),o!==-1&&(t.parent=null,this.children.splice(o,1),t.dispatchEvent(CM)),this},attach:function(t){return this.updateWorldMatrix(!0,!1),u0.getInverse(this.matrixWorld),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),u0.multiply(t.parent.matrixWorld)),t.applyMatrix4(u0),t.updateWorldMatrix(!1,!1),this.add(t),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,o){if(this[t]===o)return this;for(var p=0,g=this.children.length;p<g;p++){var b=this.children[p].getObjectByProperty(t,o);if(b!==void 0)return b}},getWorldPosition:function(t){return t===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new W),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(t){return t===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new G),this.updateMatrixWorld(!0),this.matrixWorld.decompose(nC,t,gM),t},getWorldScale:function(t){return t===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new W),this.updateMatrixWorld(!0),this.matrixWorld.decompose(nC,yM,t),t},getWorldDirection:function(t){t===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new W),this.updateMatrixWorld(!0);var o=this.matrixWorld.elements;return t.set(o[8],o[9],o[10]).normalize()},raycast:function(){},traverse:function(t){t(this);for(var o=this.children,p=0,g=o.length;p<g;p++)o[p].traverse(t)},traverseVisible:function(t){if(this.visible!==!1){t(this);for(var o=this.children,p=0,g=o.length;p<g;p++)o[p].traverseVisible(t)}},traverseAncestors:function(t){var o=this.parent;o!==null&&(t(o),o.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var o=this.children,p=0,g=o.length;p<g;p++)o[p].updateMatrixWorld(t)},updateWorldMatrix:function(t,o){var p=this.parent;if(t===!0&&p!==null&&p.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),o===!0)for(t=this.children,o=0,p=t.length;o<p;o++)t[o].updateWorldMatrix(!1,!0)},toJSON:function(t){function o(de,ge){return de[ge.uuid]===void 0&&(de[ge.uuid]=ge.toJSON(t)),ge.uuid}function p(de){var ge=[],me;for(me in de){var Ee=de[me];delete Ee.metadata,ge.push(Ee)}return ge}var g=t===void 0||typeof t=="string",b={};g&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},b.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var _={};if(_.uuid=this.uuid,_.type=this.type,this.name!==""&&(_.name=this.name),this.castShadow===!0&&(_.castShadow=!0),this.receiveShadow===!0&&(_.receiveShadow=!0),this.visible===!1&&(_.visible=!1),this.frustumCulled===!1&&(_.frustumCulled=!1),this.renderOrder!==0&&(_.renderOrder=this.renderOrder),Ud(this.userData)!=="{}"&&(_.userData=this.userData),_.layers=this.layers.mask,_.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(_.matrixAutoUpdate=!1),this.isInstancedMesh&&(_.type="InstancedMesh",_.count=this.count,_.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){_.geometry=o(t.geometries,this.geometry);var D=this.geometry.parameters;if(D!==void 0&&D.shapes!==void 0)if(D=D.shapes,Array.isArray(D))for(var k=0,X=D.length;k<X;k++)o(t.shapes,D[k]);else o(t.shapes,D)}if(this.material!==void 0)if(Array.isArray(this.material)){for(D=[],k=0,X=this.material.length;k<X;k++)D.push(o(t.materials,this.material[k]));_.material=D}else _.material=o(t.materials,this.material);if(0<this.children.length)for(_.children=[],k=0;k<this.children.length;k++)_.children.push(this.children[k].toJSON(t).object);if(g){g=p(t.geometries),k=p(t.materials),X=p(t.textures);var $=p(t.images);D=p(t.shapes),0<g.length&&(b.geometries=g),0<k.length&&(b.materials=k),0<X.length&&(b.textures=X),0<$.length&&(b.images=$),0<D.length&&(b.shapes=D)}return b.object=_,b},clone:function(t){return new this.constructor().copy(this,t)},copy:function(t,o){if(o===void 0&&(o=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(Ud(t.userData)),o===!0)for(o=0;o<t.children.length;o++)this.add(t.children[o].clone());return this}}),ct.prototype=Xe(Ge(Me.prototype),{constructor:ct,isScene:!0,copy:function(t,o){return Me.prototype.copy.call(this,t,o),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var o=Me.prototype.toJSON.call(this,t);return this.background!==null&&(o.object.background=this.background.toJSON(t)),this.environment!==null&&(o.object.environment=this.environment.toJSON(t)),this.fog!==null&&(o.object.fog=this.fog.toJSON()),o},dispose:function(){this.dispatchEvent({type:"dispose"})}});var c0=[new W,new W,new W,new W,new W,new W,new W,new W],iC=new W,R2=new Nt,K1=new W,Z1=new W,J1=new W,iy=new W,oy=new W,Zy=new W,oC=new W,hA=new W,dA=new W,Jy=new W;Xe(Nt.prototype,{isBox3:!0,set:function(t,o){return this.min.copy(t),this.max.copy(o),this},setFromArray:function(t){for(var o=Infinity,p=Infinity,g=Infinity,b=-Infinity,_=-Infinity,D=-Infinity,k=0,X=t.length;k<X;k+=3){var $=t[k],de=t[k+1],ge=t[k+2];$<o&&(o=$),de<p&&(p=de),ge<g&&(g=ge),$>b&&(b=$),de>_&&(_=de),ge>D&&(D=ge)}return this.min.set(o,p,g),this.max.set(b,_,D),this},setFromBufferAttribute:function(t){for(var o=Infinity,p=Infinity,g=Infinity,b=-Infinity,_=-Infinity,D=-Infinity,k=0,X=t.count;k<X;k++){var $=t.getX(k),de=t.getY(k),ge=t.getZ(k);$<o&&(o=$),de<p&&(p=de),ge<g&&(g=ge),$>b&&(b=$),de>_&&(_=de),ge>D&&(D=ge)}return this.min.set(o,p,g),this.max.set(b,_,D),this},setFromPoints:function(t){this.makeEmpty();for(var o=0,p=t.length;o<p;o++)this.expandByPoint(t[o]);return this},setFromCenterAndSize:function(t,o){return o=iC.copy(o).multiplyScalar(.5),this.min.copy(t).sub(o),this.max.copy(t).add(o),this},setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=Infinity,this.max.x=this.max.y=this.max.z=-Infinity,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return t===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new W),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return t===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new W),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(t){t.updateWorldMatrix(!1,!1);var o=t.geometry;o!==void 0&&(o.boundingBox===null&&o.computeBoundingBox(),R2.copy(o.boundingBox),R2.applyMatrix4(t.matrixWorld),this.union(R2)),t=t.children,o=0;for(var p=t.length;o<p;o++)this.expandByObject(t[o]);return this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,o){return o===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),o=new W),o.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(t){return this.clampPoint(t.center,iC),iC.distanceToSquared(t.center)<=t.radius*t.radius},intersectsPlane:function(t){if(0<t.normal.x)var o=t.normal.x*this.min.x,p=t.normal.x*this.max.x;else o=t.normal.x*this.max.x,p=t.normal.x*this.min.x;return 0<t.normal.y?(o+=t.normal.y*this.min.y,p+=t.normal.y*this.max.y):(o+=t.normal.y*this.max.y,p+=t.normal.y*this.min.y),0<t.normal.z?(o+=t.normal.z*this.min.z,p+=t.normal.z*this.max.z):(o+=t.normal.z*this.max.z,p+=t.normal.z*this.min.z),o<=-t.constant&&p>=-t.constant},intersectsTriangle:function(t){return this.isEmpty()||(this.getCenter(oC),hA.subVectors(this.max,oC),K1.subVectors(t.a,oC),Z1.subVectors(t.b,oC),J1.subVectors(t.c,oC),iy.subVectors(Z1,K1),oy.subVectors(J1,Z1),Zy.subVectors(K1,J1),t=[0,-iy.z,iy.y,0,-oy.z,oy.y,0,-Zy.z,Zy.y,iy.z,0,-iy.x,oy.z,0,-oy.x,Zy.z,0,-Zy.x,-iy.y,iy.x,0,-oy.y,oy.x,0,-Zy.y,Zy.x,0],!Pt(t,K1,Z1,J1,hA))||(t=[1,0,0,0,1,0,0,0,1],!Pt(t,K1,Z1,J1,hA))?!1:(dA.crossVectors(iy,oy),t=[dA.x,dA.y,dA.z],Pt(t,K1,Z1,J1,hA))},clampPoint:function(t,o){return o===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),o=new W),o.copy(t).clamp(this.min,this.max)},distanceToPoint:function(t){return iC.copy(t).clamp(this.min,this.max).sub(t).length()},getBoundingSphere:function(t){return t===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize(iC).length(),t},intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(t){return this.isEmpty()?this:(c0[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),c0[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),c0[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),c0[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),c0[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),c0[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),c0[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),c0[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(c0),this)},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}});var AM=new Nt;Xe(Bt.prototype,{set:function(t,o){return this.center.copy(t),this.radius=o,this},setFromPoints:function(t,o){var p=this.center;o!==void 0?p.copy(o):AM.setFromPoints(t).getCenter(p);for(var g=o=0,b=t.length;g<b;g++)o=Math.max(o,p.distanceToSquared(t[g]));return this.radius=Math.sqrt(o),this},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},isEmpty:function(){return 0>this.radius},makeEmpty:function(){return this.center.set(0,0,0),this.radius=-1,this},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var o=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=o*o},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,o){var p=this.center.distanceToSquared(t);return o===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),o=new W),o.copy(t),p>this.radius*this.radius&&(o.sub(this.center).normalize(),o.multiplyScalar(this.radius).add(this.center)),o},getBoundingBox:function(t){return t===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new Nt),this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius*=t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}});var f0=new W,L2=new W,pA=new W,ay=new W,D2=new W,mA=new W,N2=new W;Xe(ir.prototype,{set:function(t,o){return this.origin.copy(t),this.direction.copy(o),this},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,o){return o===void 0&&(console.warn("THREE.Ray: .at() target is now required"),o=new W),o.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(t){return this.origin.copy(this.at(t,f0)),this},closestPointToPoint:function(t,o){return o===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),o=new W),o.subVectors(t,this.origin),t=o.dot(this.direction),0>t?o.copy(this.origin):o.copy(this.direction).multiplyScalar(t).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(t){var o=f0.subVectors(t,this.origin).dot(this.direction);return 0>o?this.origin.distanceToSquared(t):(f0.copy(this.direction).multiplyScalar(o).add(this.origin),f0.distanceToSquared(t))},distanceSqToSegment:function(t,o,p,g){L2.copy(t).add(o).multiplyScalar(.5),pA.copy(o).sub(t).normalize(),ay.copy(this.origin).sub(L2);var b=.5*t.distanceTo(o),_=-this.direction.dot(pA),D=ay.dot(this.direction),k=-ay.dot(pA),X=ay.lengthSq(),$=Math.abs(1-_*_);if(0<$){t=_*k-D,o=_*D-k;var de=b*$;0<=t?o>=-de?o<=de?(b=1/$,t*=b,o*=b,_=t*(t+_*o+2*D)+o*(_*t+o+2*k)+X):(o=b,t=Math.max(0,-(_*o+D)),_=-t*t+o*(o+2*k)+X):(o=-b,t=Math.max(0,-(_*o+D)),_=-t*t+o*(o+2*k)+X):o<=-de?(t=Math.max(0,-(-_*b+D)),o=0<t?-b:Math.min(Math.max(-b,-k),b),_=-t*t+o*(o+2*k)+X):o<=de?(t=0,o=Math.min(Math.max(-b,-k),b),_=o*(o+2*k)+X):(t=Math.max(0,-(_*b+D)),o=0<t?b:Math.min(Math.max(-b,-k),b),_=-t*t+o*(o+2*k)+X)}else o=0<_?-b:b,t=Math.max(0,-(_*o+D)),_=-t*t+o*(o+2*k)+X;return p&&p.copy(this.direction).multiplyScalar(t).add(this.origin),g&&g.copy(pA).multiplyScalar(o).add(L2),_},intersectSphere:function(t,o){f0.subVectors(t.center,this.origin);var p=f0.dot(this.direction),g=f0.dot(f0)-p*p;return t=t.radius*t.radius,g>t?null:(t=Math.sqrt(t-g),g=p-t,p+=t,0>g&&0>p?null:0>g?this.at(p,o):this.at(g,o))},intersectsSphere:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius},distanceToPlane:function(t){var o=t.normal.dot(this.direction);return o===0?t.distanceToPoint(this.origin)===0?0:null:(t=-(this.origin.dot(t.normal)+t.constant)/o,0<=t?t:null)},intersectPlane:function(t,o){return t=this.distanceToPlane(t),t===null?null:this.at(t,o)},intersectsPlane:function(t){var o=t.distanceToPoint(this.origin);return o===0||0>t.normal.dot(this.direction)*o},intersectBox:function(t,o){var p=1/this.direction.x,g=1/this.direction.y,b=1/this.direction.z,_=this.origin;if(0<=p){var D=(t.min.x-_.x)*p;p*=t.max.x-_.x}else D=(t.max.x-_.x)*p,p*=t.min.x-_.x;if(0<=g){var k=(t.min.y-_.y)*g;g*=t.max.y-_.y}else k=(t.max.y-_.y)*g,g*=t.min.y-_.y;return D>g||k>p||((k>D||D!==D)&&(D=k),(g<p||p!==p)&&(p=g),0<=b?(k=(t.min.z-_.z)*b,t=(t.max.z-_.z)*b):(k=(t.max.z-_.z)*b,t=(t.min.z-_.z)*b),D>t||k>p)?null:((k>D||D!==D)&&(D=k),(t<p||p!==p)&&(p=t),0>p?null:this.at(0<=D?D:p,o))},intersectsBox:function(t){return this.intersectBox(t,f0)!==null},intersectTriangle:function(t,o,p,g,b){if(D2.subVectors(o,t),mA.subVectors(p,t),N2.crossVectors(D2,mA),o=this.direction.dot(N2),0<o){if(g)return null;g=1}else if(0>o)g=-1,o=-o;else return null;return ay.subVectors(this.origin,t),t=g*this.direction.dot(mA.crossVectors(ay,mA)),0>t||(p=g*this.direction.dot(D2.cross(ay)),0>p||t+p>o)?null:(t=-g*ay.dot(N2),0>t?null:this.at(t/o,b))},applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}});var F2=new W,wM=new W,bM=new v;Xe(Ir.prototype,{isPlane:!0,set:function(t,o){return this.normal.copy(t),this.constant=o,this},setComponents:function(t,o,p,g){return this.normal.set(t,o,p),this.constant=g,this},setFromNormalAndCoplanarPoint:function(t,o){return this.normal.copy(t),this.constant=-o.dot(this.normal),this},setFromCoplanarPoints:function(t,o,p){return o=F2.subVectors(p,o).cross(wM.subVectors(t,o)).normalize(),this.setFromNormalAndCoplanarPoint(o,t),this},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,o){return o===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),o=new W),o.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(t,o){o===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),o=new W);var p=t.delta(F2),g=this.normal.dot(p);if(g===0){if(this.distanceToPoint(t.start)===0)return o.copy(t.start)}else if(g=-(t.start.dot(this.normal)+this.constant)/g,!(0>g||1<g))return o.copy(p).multiplyScalar(g).add(t.start)},intersectsLine:function(t){var o=this.distanceToPoint(t.start);return t=this.distanceToPoint(t.end),0>o&&0<t||0>t&&0<o},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return t===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new W),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(t,o){return o=o||bM.getNormalMatrix(t),t=this.coplanarPoint(F2).applyMatrix4(t),o=this.normal.applyMatrix3(o).normalize(),this.constant=-t.dot(o),this},translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}});var cg=new W,h0=new W,B2=new W,d0=new W,Q1=new W,q1=new W,vb=new W,j2=new W,z2=new W,U2=new W;Xe(Tr,{getNormal:function(t,o,p,g){return g===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),g=new W),g.subVectors(p,o),cg.subVectors(t,o),g.cross(cg),t=g.lengthSq(),0<t?g.multiplyScalar(1/Math.sqrt(t)):g.set(0,0,0)},getBarycoord:function(t,o,p,g,b){cg.subVectors(g,o),h0.subVectors(p,o),B2.subVectors(t,o),t=cg.dot(cg),o=cg.dot(h0),p=cg.dot(B2);var _=h0.dot(h0);g=h0.dot(B2);var D=t*_-o*o;return b===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),b=new W),D===0?b.set(-2,-1,-1):(D=1/D,_=(_*p-o*g)*D,t=(t*g-o*p)*D,b.set(1-_-t,t,_))},containsPoint:function(t,o,p,g){return Tr.getBarycoord(t,o,p,g,d0),0<=d0.x&&0<=d0.y&&1>=d0.x+d0.y},getUV:function(t,o,p,g,b,_,D,k){return this.getBarycoord(t,o,p,g,d0),k.set(0,0),k.addScaledVector(b,d0.x),k.addScaledVector(_,d0.y),k.addScaledVector(D,d0.z),k},isFrontFacing:function(t,o,p,g){return cg.subVectors(p,o),h0.subVectors(t,o),0>cg.cross(h0).dot(g)}}),Xe(Tr.prototype,{set:function(t,o,p){return this.a.copy(t),this.b.copy(o),this.c.copy(p),this},setFromPointsAndIndices:function(t,o,p,g){return this.a.copy(t[o]),this.b.copy(t[p]),this.c.copy(t[g]),this},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},getArea:function(){return cg.subVectors(this.c,this.b),h0.subVectors(this.a,this.b),.5*cg.cross(h0).length()},getMidpoint:function(t){return t===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new W),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(t){return Tr.getNormal(this.a,this.b,this.c,t)},getPlane:function(t){return t===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new Ir),t.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(t,o){return Tr.getBarycoord(t,this.a,this.b,this.c,o)},getUV:function(t,o,p,g,b){return Tr.getUV(t,this.a,this.b,this.c,o,p,g,b)},containsPoint:function(t){return Tr.containsPoint(t,this.a,this.b,this.c)},isFrontFacing:function(t){return Tr.isFrontFacing(this.a,this.b,this.c,t)},intersectsBox:function(t){return t.intersectsTriangle(this)},closestPointToPoint:function(t,o){o===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),o=new W);var p=this.a,g=this.b,b=this.c;Q1.subVectors(g,p),q1.subVectors(b,p),j2.subVectors(t,p);var _=Q1.dot(j2),D=q1.dot(j2);if(0>=_&&0>=D)return o.copy(p);z2.subVectors(t,g);var k=Q1.dot(z2),X=q1.dot(z2);if(0<=k&&X<=k)return o.copy(g);var $=_*X-k*D;if(0>=$&&0<=_&&0>=k)return g=_/(_-k),o.copy(p).addScaledVector(Q1,g);U2.subVectors(t,b),t=Q1.dot(U2);var de=q1.dot(U2);return 0<=de&&t<=de?o.copy(b):(_=t*D-_*de,0>=_&&0<=D&&0>=de?($=D/(D-de),o.copy(p).addScaledVector(q1,$)):(D=k*de-t*X,0>=D&&0<=X-k&&0<=t-de?(vb.subVectors(b,g),$=(X-k)/(X-k+(t-de)),o.copy(g).addScaledVector(vb,$)):(b=1/(D+_+$),g=_*b,$*=b,o.copy(p).addScaledVector(Q1,g).addScaledVector(q1,$))))},equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}});var gb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},fg={h:0,s:0,l:0},vA={h:0,s:0,l:0};Xe(wt.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):typeof t=="number"?this.setHex(t):typeof t=="string"&&this.setStyle(t),this},setScalar:function(t){return this.b=this.g=this.r=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,this},setRGB:function(t,o,p){return this.r=t,this.g=o,this.b=p,this},setHSL:function(t,o,p){return t=Ll.euclideanModulo(t,1),o=Ll.clamp(o,0,1),p=Ll.clamp(p,0,1),o===0?this.r=this.g=this.b=p:(o=.5>=p?p*(1+o):p+o-p*o,p=2*p-o,this.r=qn(p,o,t+1/3),this.g=qn(p,o,t),this.b=qn(p,o,t-1/3)),this},setStyle:function(t){function o(D){D!==void 0&&1>parseFloat(D)&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var p;if(p=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var g=p[2];switch(p[1]){case"rgb":case"rgba":if(p=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(g))return this.r=Math.min(255,parseInt(p[1],10))/255,this.g=Math.min(255,parseInt(p[2],10))/255,this.b=Math.min(255,parseInt(p[3],10))/255,o(p[5]),this;if(p=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(g))return this.r=Math.min(100,parseInt(p[1],10))/100,this.g=Math.min(100,parseInt(p[2],10))/100,this.b=Math.min(100,parseInt(p[3],10))/100,o(p[5]),this;break;case"hsl":case"hsla":if(p=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(g)){g=parseFloat(p[1])/360;var b=parseInt(p[2],10)/100,_=parseInt(p[3],10)/100;return o(p[5]),this.setHSL(g,b,_)}}}else if(p=/^#([A-Fa-f0-9]+)$/.exec(t)){if(p=p[1],g=p.length,g===3)return this.r=parseInt(p.charAt(0)+p.charAt(0),16)/255,this.g=parseInt(p.charAt(1)+p.charAt(1),16)/255,this.b=parseInt(p.charAt(2)+p.charAt(2),16)/255,this;if(g===6)return this.r=parseInt(p.charAt(0)+p.charAt(1),16)/255,this.g=parseInt(p.charAt(2)+p.charAt(3),16)/255,this.b=parseInt(p.charAt(4)+p.charAt(5),16)/255,this}return t&&0<t.length?this.setColorName(t):this},setColorName:function(t){var o=gb[t];return o!==void 0?this.setHex(o):console.warn("THREE.Color: Unknown color "+t),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,o){return o===void 0&&(o=2),this.r=Math.pow(t.r,o),this.g=Math.pow(t.g,o),this.b=Math.pow(t.b,o),this},copyLinearToGamma:function(t,o){return o===void 0&&(o=2),o=0<o?1/o:1,this.r=Math.pow(t.r,o),this.g=Math.pow(t.g,o),this.b=Math.pow(t.b,o),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(t){return this.r=Fr(t.r),this.g=Fr(t.g),this.b=Fr(t.b),this},copyLinearToSRGB:function(t){return this.r=pi(t.r),this.g=pi(t.g),this.b=pi(t.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){t===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var o=this.r,p=this.g,g=this.b,b=Math.max(o,p,g),_=Math.min(o,p,g),D,k=(_+b)/2;if(_===b)_=D=0;else{var X=b-_;switch(_=.5>=k?X/(b+_):X/(2-b-_),b){case o:D=(p-g)/X+(p<g?6:0);break;case p:D=(g-o)/X+2;break;case g:D=(o-p)/X+4}D/=6}return t.h=D,t.s=_,t.l=k,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,o,p){return this.getHSL(fg),fg.h+=t,fg.s+=o,fg.l+=p,this.setHSL(fg.h,fg.s,fg.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,o){return this.r=t.r+o.r,this.g=t.g+o.g,this.b=t.b+o.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,o){return this.r+=(t.r-this.r)*o,this.g+=(t.g-this.g)*o,this.b+=(t.b-this.b)*o,this},lerpHSL:function(t,o){this.getHSL(fg),t.getHSL(vA),t=Ll.lerp(fg.h,vA.h,o);var p=Ll.lerp(fg.s,vA.s,o);return o=Ll.lerp(fg.l,vA.l,o),this.setHSL(t,p,o),this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,o){return o===void 0&&(o=0),this.r=t[o],this.g=t[o+1],this.b=t[o+2],this},toArray:function(t,o){return t===void 0&&(t=[]),o===void 0&&(o=0),t[o]=this.r,t[o+1]=this.g,t[o+2]=this.b,t},toJSON:function(){return this.getHex()}}),wt.NAMES=gb,Xe(Ai.prototype,{clone:function(){return new this.constructor().copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var o=0,p=t.vertexNormals.length;o<p;o++)this.vertexNormals[o]=t.vertexNormals[o].clone();for(o=0,p=t.vertexColors.length;o<p;o++)this.vertexColors[o]=t.vertexColors[o].clone();return this}});var SM=0;Pr.prototype=Xe(Ge(s.prototype),{constructor:Pr,isMaterial:!0,onBeforeCompile:function(){},setValues:function(t){if(t!==void 0)for(var o in t){var p=t[o];if(p===void 0)console.warn("THREE.Material: '"+o+"' parameter is undefined.");else if(o==="shading")console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=p===1;else{var g=this[o];g===void 0?console.warn("THREE."+this.type+": '"+o+"' is not a property of this material."):g&&g.isColor?g.set(p):g&&g.isVector3&&p&&p.isVector3?g.copy(p):this[o]=p}}},toJSON:function(t){function o(b){var _=[],D;for(D in b){var k=b[D];delete k.metadata,_.push(k)}return _}var p=t===void 0||typeof t=="string";p&&(t={textures:{},images:{}});var g={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};return g.uuid=this.uuid,g.type=this.type,this.name!==""&&(g.name=this.name),this.color&&this.color.isColor&&(g.color=this.color.getHex()),this.roughness!==void 0&&(g.roughness=this.roughness),this.metalness!==void 0&&(g.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(g.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(g.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(g.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(g.specular=this.specular.getHex()),this.shininess!==void 0&&(g.shininess=this.shininess),this.clearcoat!==void 0&&(g.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(g.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(g.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(g.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(g.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,g.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(g.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(g.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(g.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(g.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(g.aoMap=this.aoMap.toJSON(t).uuid,g.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(g.bumpMap=this.bumpMap.toJSON(t).uuid,g.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(g.normalMap=this.normalMap.toJSON(t).uuid,g.normalMapType=this.normalMapType,g.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(g.displacementMap=this.displacementMap.toJSON(t).uuid,g.displacementScale=this.displacementScale,g.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(g.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(g.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(g.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(g.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(g.envMap=this.envMap.toJSON(t).uuid,g.reflectivity=this.reflectivity,g.refractionRatio=this.refractionRatio,this.combine!==void 0&&(g.combine=this.combine),this.envMapIntensity!==void 0&&(g.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(g.gradientMap=this.gradientMap.toJSON(t).uuid),this.size!==void 0&&(g.size=this.size),this.sizeAttenuation!==void 0&&(g.sizeAttenuation=this.sizeAttenuation),this.blending!==1&&(g.blending=this.blending),this.flatShading===!0&&(g.flatShading=this.flatShading),this.side!==0&&(g.side=this.side),this.vertexColors&&(g.vertexColors=!0),1>this.opacity&&(g.opacity=this.opacity),this.transparent===!0&&(g.transparent=this.transparent),g.depthFunc=this.depthFunc,g.depthTest=this.depthTest,g.depthWrite=this.depthWrite,g.stencilWrite=this.stencilWrite,g.stencilWriteMask=this.stencilWriteMask,g.stencilFunc=this.stencilFunc,g.stencilRef=this.stencilRef,g.stencilFuncMask=this.stencilFuncMask,g.stencilFail=this.stencilFail,g.stencilZFail=this.stencilZFail,g.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(g.rotation=this.rotation),this.polygonOffset===!0&&(g.polygonOffset=!0),this.polygonOffsetFactor!==0&&(g.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(g.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(g.linewidth=this.linewidth),this.dashSize!==void 0&&(g.dashSize=this.dashSize),this.gapSize!==void 0&&(g.gapSize=this.gapSize),this.scale!==void 0&&(g.scale=this.scale),this.dithering===!0&&(g.dithering=!0),0<this.alphaTest&&(g.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(g.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(g.wireframe=this.wireframe),1<this.wireframeLinewidth&&(g.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(g.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(g.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(g.morphTargets=!0),this.morphNormals===!0&&(g.morphNormals=!0),this.skinning===!0&&(g.skinning=!0),this.visible===!1&&(g.visible=!1),this.toneMapped===!1&&(g.toneMapped=!1),Ud(this.userData)!=="{}"&&(g.userData=this.userData),p&&(p=o(t.textures),t=o(t.images),0<p.length&&(g.textures=p),0<t.length&&(g.images=t)),g},clone:function(){return new this.constructor().copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;var o=t.clippingPlanes,p=null;if(o!==null){var g=o.length;p=Array(g);for(var b=0;b!==g;++b)p[b]=o[b].clone()}return this.clippingPlanes=p,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(Ud(t.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Pr.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}}),Fo.prototype=Ge(Pr.prototype),Fo.prototype.constructor=Fo,Fo.prototype.isMeshBasicMaterial=!0,Fo.prototype.copy=function(u){return Pr.prototype.copy.call(this,u),this.color.copy(u.color),this.map=u.map,this.lightMap=u.lightMap,this.lightMapIntensity=u.lightMapIntensity,this.aoMap=u.aoMap,this.aoMapIntensity=u.aoMapIntensity,this.specularMap=u.specularMap,this.alphaMap=u.alphaMap,this.envMap=u.envMap,this.combine=u.combine,this.reflectivity=u.reflectivity,this.refractionRatio=u.refractionRatio,this.wireframe=u.wireframe,this.wireframeLinewidth=u.wireframeLinewidth,this.wireframeLinecap=u.wireframeLinecap,this.wireframeLinejoin=u.wireframeLinejoin,this.skinning=u.skinning,this.morphTargets=u.morphTargets,this};var pf=new W;Object.defineProperty(En.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}}),Xe(En.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this},copyAt:function(t,o,p){t*=this.itemSize,p*=o.itemSize;for(var g=0,b=this.itemSize;g<b;g++)this.array[t+g]=o.array[p+g];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var o=this.array,p=0,g=0,b=t.length;g<b;g++){var _=t[g];_===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",g),_=new wt),o[p++]=_.r,o[p++]=_.g,o[p++]=_.b}return this},copyVector2sArray:function(t){for(var o=this.array,p=0,g=0,b=t.length;g<b;g++){var _=t[g];_===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",g),_=new c),o[p++]=_.x,o[p++]=_.y}return this},copyVector3sArray:function(t){for(var o=this.array,p=0,g=0,b=t.length;g<b;g++){var _=t[g];_===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",g),_=new W),o[p++]=_.x,o[p++]=_.y,o[p++]=_.z}return this},copyVector4sArray:function(t){for(var o=this.array,p=0,g=0,b=t.length;g<b;g++){var _=t[g];_===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",g),_=new w),o[p++]=_.x,o[p++]=_.y,o[p++]=_.z,o[p++]=_.w}return this},applyMatrix3:function(t){for(var o=0,p=this.count;o<p;o++)pf.x=this.getX(o),pf.y=this.getY(o),pf.z=this.getZ(o),pf.applyMatrix3(t),this.setXYZ(o,pf.x,pf.y,pf.z);return this},applyMatrix4:function(t){for(var o=0,p=this.count;o<p;o++)pf.x=this.getX(o),pf.y=this.getY(o),pf.z=this.getZ(o),pf.applyMatrix4(t),this.setXYZ(o,pf.x,pf.y,pf.z);return this},applyNormalMatrix:function(t){for(var o=0,p=this.count;o<p;o++)pf.x=this.getX(o),pf.y=this.getY(o),pf.z=this.getZ(o),pf.applyNormalMatrix(t),this.setXYZ(o,pf.x,pf.y,pf.z);return this},transformDirection:function(t){for(var o=0,p=this.count;o<p;o++)pf.x=this.getX(o),pf.y=this.getY(o),pf.z=this.getZ(o),pf.transformDirection(t),this.setXYZ(o,pf.x,pf.y,pf.z);return this},set:function(t,o){return o===void 0&&(o=0),this.array.set(t,o),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,o){return this.array[t*this.itemSize]=o,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,o){return this.array[t*this.itemSize+1]=o,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,o){return this.array[t*this.itemSize+2]=o,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,o){return this.array[t*this.itemSize+3]=o,this},setXY:function(t,o,p){return t*=this.itemSize,this.array[t+0]=o,this.array[t+1]=p,this},setXYZ:function(t,o,p,g){return t*=this.itemSize,this.array[t+0]=o,this.array[t+1]=p,this.array[t+2]=g,this},setXYZW:function(t,o,p,g,b){return t*=this.itemSize,this.array[t+0]=o,this.array[t+1]=p,this.array[t+2]=g,this.array[t+3]=b,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),ua.prototype=Ge(En.prototype),ua.prototype.constructor=ua,as.prototype=Ge(En.prototype),as.prototype.constructor=as,Ca.prototype=Ge(En.prototype),Ca.prototype.constructor=Ca,Du.prototype=Ge(En.prototype),Du.prototype.constructor=Du,Aa.prototype=Ge(En.prototype),Aa.prototype.constructor=Aa,Bl.prototype=Ge(En.prototype),Bl.prototype.constructor=Bl,hf.prototype=Ge(En.prototype),hf.prototype.constructor=hf,vi.prototype=Ge(En.prototype),vi.prototype.constructor=vi,Gl.prototype=Ge(En.prototype),Gl.prototype.constructor=Gl,Xe(ft.prototype,{computeGroups:function(t){var o=[],p=void 0;t=t.faces;for(var g=0;g<t.length;g++){var b=t[g];if(b.materialIndex!==p){p=b.materialIndex,_!==void 0&&(_.count=3*g-_.start,o.push(_));var _={start:3*g,materialIndex:p}}}_!==void 0&&(_.count=3*g-_.start,o.push(_)),this.groups=o},fromGeometry:function(t){var o=t.faces,p=t.vertices,g=t.faceVertexUvs,b=g[0]&&0<g[0].length,_=g[1]&&0<g[1].length,D=t.morphTargets,k=D.length;if(0<k){for(var X=[],$=0;$<k;$++)X[$]={name:D[$].name,data:[]};this.morphTargets.position=X}var de=t.morphNormals,ge=de.length;if(0<ge){var me=[];for($=0;$<ge;$++)me[$]={name:de[$].name,data:[]};this.morphTargets.normal=me}var Ee=t.skinIndices,ke=t.skinWeights,xt=Ee.length===p.length,qt=ke.length===p.length;for(0<p.length&&o.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported."),$=0;$<o.length;$++){var Qt=o[$];this.vertices.push(p[Qt.a],p[Qt.b],p[Qt.c]);var er=Qt.vertexNormals;for(er.length===3?this.normals.push(er[0],er[1],er[2]):(er=Qt.normal,this.normals.push(er,er,er)),er=Qt.vertexColors,er.length===3?this.colors.push(er[0],er[1],er[2]):(er=Qt.color,this.colors.push(er,er,er)),b===!0&&(er=g[0][$],er!==void 0?this.uvs.push(er[0],er[1],er[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",$),this.uvs.push(new c,new c,new c))),_===!0&&(er=g[1][$],er!==void 0?this.uvs2.push(er[0],er[1],er[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",$),this.uvs2.push(new c,new c,new c))),er=0;er<k;er++){var dr=D[er].vertices;X[er].data.push(dr[Qt.a],dr[Qt.b],dr[Qt.c])}for(er=0;er<ge;er++)dr=de[er].vertexNormals[$],me[er].data.push(dr.a,dr.b,dr.c);xt&&this.skinIndices.push(Ee[Qt.a],Ee[Qt.b],Ee[Qt.c]),qt&&this.skinWeights.push(ke[Qt.a],ke[Qt.b],ke[Qt.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),this}});var MM=1,Dg=new ae,k2=new Me,$1=new W,iv=new Nt,aC=new Nt,Yd=new W;Kt.prototype=Xe(Ge(s.prototype),{constructor:Kt,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(65535<Ut(t)?hf:Aa)(t,1):this.index=t},getAttribute:function(t){return this.attributes[t]},setAttribute:function(t,o){return this.attributes[t]=o,this},deleteAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,o,p){this.groups.push({start:t,count:o,materialIndex:p!==void 0?p:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,o){this.drawRange.start=t,this.drawRange.count=o},applyMatrix4:function(t){var o=this.attributes.position;if(o!==void 0&&(o.applyMatrix4(t),o.needsUpdate=!0),o=this.attributes.normal,o!==void 0){var p=new v().getNormalMatrix(t);o.applyNormalMatrix(p),o.needsUpdate=!0}return o=this.attributes.tangent,o!==void 0&&(o.transformDirection(t),o.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(t){return Dg.makeRotationX(t),this.applyMatrix4(Dg),this},rotateY:function(t){return Dg.makeRotationY(t),this.applyMatrix4(Dg),this},rotateZ:function(t){return Dg.makeRotationZ(t),this.applyMatrix4(Dg),this},translate:function(t,o,p){return Dg.makeTranslation(t,o,p),this.applyMatrix4(Dg),this},scale:function(t,o,p){return Dg.makeScale(t,o,p),this.applyMatrix4(Dg),this},lookAt:function(t){return k2.lookAt(t),k2.updateMatrix(),this.applyMatrix4(k2.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter($1).negate(),this.translate($1.x,$1.y,$1.z),this},setFromObject:function(t){var o=t.geometry;if(t.isPoints||t.isLine){t=new vi(3*o.vertices.length,3);var p=new vi(3*o.colors.length,3);this.setAttribute("position",t.copyVector3sArray(o.vertices)),this.setAttribute("color",p.copyColorsArray(o.colors)),o.lineDistances&&o.lineDistances.length===o.vertices.length&&(t=new vi(o.lineDistances.length,1),this.setAttribute("lineDistance",t.copyArray(o.lineDistances))),o.boundingSphere!==null&&(this.boundingSphere=o.boundingSphere.clone()),o.boundingBox!==null&&(this.boundingBox=o.boundingBox.clone())}else t.isMesh&&o&&o.isGeometry&&this.fromGeometry(o);return this},setFromPoints:function(t){for(var o=[],p=0,g=t.length;p<g;p++){var b=t[p];o.push(b.x,b.y,b.z||0)}return this.setAttribute("position",new vi(o,3)),this},updateFromObject:function(t){var o=t.geometry;if(t.isMesh){var p=o.__directGeometry;if(o.elementsNeedUpdate===!0&&(p=void 0,o.elementsNeedUpdate=!1),p===void 0)return this.fromGeometry(o);p.verticesNeedUpdate=o.verticesNeedUpdate,p.normalsNeedUpdate=o.normalsNeedUpdate,p.colorsNeedUpdate=o.colorsNeedUpdate,p.uvsNeedUpdate=o.uvsNeedUpdate,p.groupsNeedUpdate=o.groupsNeedUpdate,o.verticesNeedUpdate=!1,o.normalsNeedUpdate=!1,o.colorsNeedUpdate=!1,o.uvsNeedUpdate=!1,o.groupsNeedUpdate=!1,o=p}return o.verticesNeedUpdate===!0&&(p=this.attributes.position,p!==void 0&&(p.copyVector3sArray(o.vertices),p.needsUpdate=!0),o.verticesNeedUpdate=!1),o.normalsNeedUpdate===!0&&(p=this.attributes.normal,p!==void 0&&(p.copyVector3sArray(o.normals),p.needsUpdate=!0),o.normalsNeedUpdate=!1),o.colorsNeedUpdate===!0&&(p=this.attributes.color,p!==void 0&&(p.copyColorsArray(o.colors),p.needsUpdate=!0),o.colorsNeedUpdate=!1),o.uvsNeedUpdate&&(p=this.attributes.uv,p!==void 0&&(p.copyVector2sArray(o.uvs),p.needsUpdate=!0),o.uvsNeedUpdate=!1),o.lineDistancesNeedUpdate&&(p=this.attributes.lineDistance,p!==void 0&&(p.copyArray(o.lineDistances),p.needsUpdate=!0),o.lineDistancesNeedUpdate=!1),o.groupsNeedUpdate&&(o.computeGroups(t.geometry),this.groups=o.groups,o.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=new ft().fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var o=new Float32Array(3*t.vertices.length);this.setAttribute("position",new En(o,3).copyVector3sArray(t.vertices)),0<t.normals.length&&(o=new Float32Array(3*t.normals.length),this.setAttribute("normal",new En(o,3).copyVector3sArray(t.normals))),0<t.colors.length&&(o=new Float32Array(3*t.colors.length),this.setAttribute("color",new En(o,3).copyColorsArray(t.colors))),0<t.uvs.length&&(o=new Float32Array(2*t.uvs.length),this.setAttribute("uv",new En(o,2).copyVector2sArray(t.uvs))),0<t.uvs2.length&&(o=new Float32Array(2*t.uvs2.length),this.setAttribute("uv2",new En(o,2).copyVector2sArray(t.uvs2))),this.groups=t.groups;for(var p in t.morphTargets){o=[];for(var g=t.morphTargets[p],b=0,_=g.length;b<_;b++){var D=g[b],k=new vi(3*D.data.length,3);k.name=D.name,o.push(k.copyVector3sArray(D.data))}this.morphAttributes[p]=o}return 0<t.skinIndices.length&&(p=new vi(4*t.skinIndices.length,4),this.setAttribute("skinIndex",p.copyVector4sArray(t.skinIndices))),0<t.skinWeights.length&&(p=new vi(4*t.skinWeights.length,4),this.setAttribute("skinWeight",p.copyVector4sArray(t.skinWeights))),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Nt);var t=this.attributes.position,o=this.morphAttributes.position;if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),o){t=0;for(var p=o.length;t<p;t++)iv.setFromBufferAttribute(o[t]),this.morphTargetsRelative?(Yd.addVectors(this.boundingBox.min,iv.min),this.boundingBox.expandByPoint(Yd),Yd.addVectors(this.boundingBox.max,iv.max),this.boundingBox.expandByPoint(Yd)):(this.boundingBox.expandByPoint(iv.min),this.boundingBox.expandByPoint(iv.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new Bt);var t=this.attributes.position,o=this.morphAttributes.position;if(t){var p=this.boundingSphere.center;if(iv.setFromBufferAttribute(t),o)for(var g=0,b=o.length;g<b;g++){var _=o[g];aC.setFromBufferAttribute(_),this.morphTargetsRelative?(Yd.addVectors(iv.min,aC.min),iv.expandByPoint(Yd),Yd.addVectors(iv.max,aC.max),iv.expandByPoint(Yd)):(iv.expandByPoint(aC.min),iv.expandByPoint(aC.max))}iv.getCenter(p);var D=0;for(g=0,b=t.count;g<b;g++)Yd.fromBufferAttribute(t,g),D=Math.max(D,p.distanceToSquared(Yd));if(o)for(g=0,b=o.length;g<b;g++){_=o[g];for(var k=this.morphTargetsRelative,X=0,$=_.count;X<$;X++)Yd.fromBufferAttribute(_,X),k&&($1.fromBufferAttribute(t,X),Yd.add($1)),D=Math.max(D,p.distanceToSquared(Yd))}this.boundingSphere.radius=Math.sqrt(D),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,o=this.attributes;if(o.position){var p=o.position.array;if(o.normal===void 0)this.setAttribute("normal",new En(new Float32Array(p.length),3));else for(var g=o.normal.array,b=0,_=g.length;b<_;b++)g[b]=0;g=o.normal.array;var D=new W,k=new W,X=new W,$=new W,de=new W;if(t){var ge=t.array;for(b=0,_=t.count;b<_;b+=3){t=3*ge[b+0];var me=3*ge[b+1],Ee=3*ge[b+2];D.fromArray(p,t),k.fromArray(p,me),X.fromArray(p,Ee),$.subVectors(X,k),de.subVectors(D,k),$.cross(de),g[t]+=$.x,g[t+1]+=$.y,g[t+2]+=$.z,g[me]+=$.x,g[me+1]+=$.y,g[me+2]+=$.z,g[Ee]+=$.x,g[Ee+1]+=$.y,g[Ee+2]+=$.z}}else for(b=0,_=p.length;b<_;b+=9)D.fromArray(p,b),k.fromArray(p,b+3),X.fromArray(p,b+6),$.subVectors(X,k),de.subVectors(D,k),$.cross(de),g[b]=$.x,g[b+1]=$.y,g[b+2]=$.z,g[b+3]=$.x,g[b+4]=$.y,g[b+5]=$.z,g[b+6]=$.x,g[b+7]=$.y,g[b+8]=$.z;this.normalizeNormals(),o.normal.needsUpdate=!0}},merge:function(t,o){if(t&&t.isBufferGeometry){o===void 0&&(o=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var p=this.attributes,g;for(g in p)if(t.attributes[g]!==void 0){var b=p[g].array,_=t.attributes[g],D=_.array,k=_.itemSize*o;_=Math.min(D.length,b.length-k);for(var X=0;X<_;X++,k++)b[k]=D[X]}return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:function(){for(var t=this.attributes.normal,o=0,p=t.count;o<p;o++)Yd.x=t.getX(o),Yd.y=t.getY(o),Yd.z=t.getZ(o),Yd.normalize(),t.setXYZ(o,Yd.x,Yd.y,Yd.z)},toNonIndexed:function(){function t(de,ge){var me=de.array,Ee=de.itemSize;de=de.normalized;for(var ke=new me.constructor(ge.length*Ee),xt,qt=0,Qt=0,er=ge.length;Qt<er;Qt++){xt=ge[Qt]*Ee;for(var dr=0;dr<Ee;dr++)ke[qt++]=me[xt++]}return new En(ke,Ee,de)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var o=new Kt,p=this.index.array,g=this.attributes,b;for(b in g){var _=g[b];_=t(_,p),o.setAttribute(b,_)}var D=this.morphAttributes;for(b in D){var k=[],X=D[b];g=0;for(var $=X.length;g<$;g++)_=X[g],_=t(_,p),k.push(_);o.morphAttributes[b]=k}for(o.morphTargetsRelative=this.morphTargetsRelative,p=this.groups,g=0,b=p.length;g<b;g++)_=p[g],o.addGroup(_.start,_.count,_.materialIndex);return o},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),0<Vc(this.userData).length&&(t.userData=this.userData),this.parameters!==void 0){var o=this.parameters;for($ in o)o[$]!==void 0&&(t[$]=o[$]);return t}t.data={attributes:{}},o=this.index,o!==null&&(t.data.index={type:o.array.constructor.name,array:Array.prototype.slice.call(o.array)});var p=this.attributes;for($ in p){o=p[$];var g=o.toJSON();o.name!==""&&(g.name=o.name),t.data.attributes[$]=g}p={};var b=!1;for($ in this.morphAttributes){for(var _=this.morphAttributes[$],D=[],k=0,X=_.length;k<X;k++)o=_[k],g=o.toJSON(),o.name!==""&&(g.name=o.name),D.push(g);0<D.length&&(p[$]=D,b=!0)}b&&(t.data.morphAttributes=p,t.data.morphTargetsRelative=this.morphTargetsRelative);var $=this.groups;return 0<$.length&&(t.data.groups=JSON.parse(Ud($))),$=this.boundingSphere,$!==null&&(t.data.boundingSphere={center:$.center.toArray(),radius:$.radius}),t},clone:function(){return new Kt().copy(this)},copy:function(t){var o;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingSphere=this.boundingBox=null,this.name=t.name;var p=t.index;p!==null&&this.setIndex(p.clone()),p=t.attributes;for(D in p)this.setAttribute(D,p[D].clone());var g=t.morphAttributes;for(D in g){var b=[],_=g[D];for(p=0,o=_.length;p<o;p++)b.push(_[p].clone());this.morphAttributes[D]=b}this.morphTargetsRelative=t.morphTargetsRelative;var D=t.groups;for(p=0,o=D.length;p<o;p++)g=D[p],this.addGroup(g.start,g.count,g.materialIndex);return D=t.boundingBox,D!==null&&(this.boundingBox=D.clone()),D=t.boundingSphere,D!==null&&(this.boundingSphere=D.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var yb=new ae,Qy=new ir,H2=new Bt,sy=new W,ly=new W,uy=new W,V2=new W,W2=new W,G2=new W,gA=new W,yA=new W,xA=new W,ex=new c,tx=new c,rx=new c,sC=new W,CA=new W;Hr.prototype=Xe(Ge(Me.prototype),{constructor:Hr,isMesh:!0,copy:function(t){return Me.prototype.copy.call(this,t),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Xe({},t.morphTargetDictionary)),this},updateMorphTargets:function(){var t=this.geometry;if(t.isBufferGeometry){t=t.morphAttributes;var o=Vc(t);if(0<o.length){var p=t[o[0]];if(p!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,o=p.length;t<o;t++){var g=p[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[g]=t}}}else t=t.morphTargets,t!==void 0&&0<t.length&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},raycast:function(t,o){var p=this.geometry,g=this.material,b=this.matrixWorld;if(g!==void 0&&(p.boundingSphere===null&&p.computeBoundingSphere(),H2.copy(p.boundingSphere),H2.applyMatrix4(b),t.ray.intersectsSphere(H2)!==!1&&(yb.getInverse(b),Qy.copy(t.ray).applyMatrix4(yb),p.boundingBox===null||Qy.intersectsBox(p.boundingBox)!==!1))){if(p.isBufferGeometry){var _=p.index;b=p.attributes.position;var D=p.morphAttributes.position,k=p.morphTargetsRelative,X=p.attributes.uv,$=p.attributes.uv2,de=p.groups,ge=p.drawRange,me,Ee;if(_!==null)if(Array.isArray(g)){var ke=0;for(me=de.length;ke<me;ke++){var xt=de[ke],qt=g[xt.materialIndex],Qt=Math.max(xt.start,ge.start);for(Ee=p=Math.min(xt.start+xt.count,ge.start+ge.count);Qt<Ee;Qt+=3){p=_.getX(Qt);var er=_.getX(Qt+1),dr=_.getX(Qt+2);(p=oo(this,qt,t,Qy,b,D,k,X,$,p,er,dr))&&(p.faceIndex=Math.floor(Qt/3),p.face.materialIndex=xt.materialIndex,o.push(p))}}}else for(Qt=Math.max(0,ge.start),p=Math.min(_.count,ge.start+ge.count),ke=Qt,me=p;ke<me;ke+=3)p=_.getX(ke),er=_.getX(ke+1),dr=_.getX(ke+2),(p=oo(this,g,t,Qy,b,D,k,X,$,p,er,dr))&&(p.faceIndex=Math.floor(ke/3),o.push(p));else if(b!==void 0)if(Array.isArray(g))for(ke=0,me=de.length;ke<me;ke++)for(xt=de[ke],qt=g[xt.materialIndex],Qt=Math.max(xt.start,ge.start),Ee=p=Math.min(xt.start+xt.count,ge.start+ge.count);Qt<Ee;Qt+=3)p=Qt,er=Qt+1,dr=Qt+2,(p=oo(this,qt,t,Qy,b,D,k,X,$,p,er,dr))&&(p.faceIndex=Math.floor(Qt/3),p.face.materialIndex=xt.materialIndex,o.push(p));else for(Qt=Math.max(0,ge.start),p=Math.min(b.count,ge.start+ge.count),ke=Qt,me=p;ke<me;ke+=3)p=ke,er=ke+1,dr=ke+2,(p=oo(this,g,t,Qy,b,D,k,X,$,p,er,dr))&&(p.faceIndex=Math.floor(ke/3),o.push(p))}else if(p.isGeometry)for(b=Array.isArray(g),D=p.vertices,k=p.faces,p=p.faceVertexUvs[0],0<p.length&&(_=p),ge=0,ke=k.length;ge<ke;ge++)me=k[ge],p=b?g[me.materialIndex]:g,p!==void 0&&(X=D[me.a],$=D[me.b],de=D[me.c],p=Vi(this,p,t,Qy,X,$,de,sC))&&(_&&_[ge]&&(xt=_[ge],ex.copy(xt[0]),tx.copy(xt[1]),rx.copy(xt[2]),p.uv=Tr.getUV(sC,X,$,de,ex,tx,rx,new c)),p.face=me,p.faceIndex=ge,o.push(p))}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var EM=0,Ng=new ae,Y2=new Me,AA=new W;Or.prototype=Xe(Ge(s.prototype),{constructor:Or,isGeometry:!0,applyMatrix4:function(t){for(var o=new v().getNormalMatrix(t),p=0,g=this.vertices.length;p<g;p++)this.vertices[p].applyMatrix4(t);for(p=0,g=this.faces.length;p<g;p++){t=this.faces[p],t.normal.applyMatrix3(o).normalize();for(var b=0,_=t.vertexNormals.length;b<_;b++)t.vertexNormals[b].applyMatrix3(o).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.normalsNeedUpdate=this.verticesNeedUpdate=!0,this},rotateX:function(t){return Ng.makeRotationX(t),this.applyMatrix4(Ng),this},rotateY:function(t){return Ng.makeRotationY(t),this.applyMatrix4(Ng),this},rotateZ:function(t){return Ng.makeRotationZ(t),this.applyMatrix4(Ng),this},translate:function(t,o,p){return Ng.makeTranslation(t,o,p),this.applyMatrix4(Ng),this},scale:function(t,o,p){return Ng.makeScale(t,o,p),this.applyMatrix4(Ng),this},lookAt:function(t){return Y2.lookAt(t),Y2.updateMatrix(),this.applyMatrix4(Y2.matrix),this},fromBufferGeometry:function(t){function o(Ee,ke,xt,qt){var Qt=k===void 0?[]:[p.colors[Ee].clone(),p.colors[ke].clone(),p.colors[xt].clone()],er=D===void 0?[]:[new W().fromArray(D,3*Ee),new W().fromArray(D,3*ke),new W().fromArray(D,3*xt)];qt=new Ai(Ee,ke,xt,er,Qt,qt),p.faces.push(qt),X!==void 0&&p.faceVertexUvs[0].push([new c().fromArray(X,2*Ee),new c().fromArray(X,2*ke),new c().fromArray(X,2*xt)]),$!==void 0&&p.faceVertexUvs[1].push([new c().fromArray($,2*Ee),new c().fromArray($,2*ke),new c().fromArray($,2*xt)])}var p=this,g=t.index!==null?t.index.array:void 0,b=t.attributes;if(b.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var _=b.position.array,D=b.normal!==void 0?b.normal.array:void 0,k=b.color!==void 0?b.color.array:void 0,X=b.uv!==void 0?b.uv.array:void 0,$=b.uv2!==void 0?b.uv2.array:void 0;for($!==void 0&&(this.faceVertexUvs[1]=[]),b=0;b<_.length;b+=3)p.vertices.push(new W().fromArray(_,b)),k!==void 0&&p.colors.push(new wt().fromArray(k,b));var de=t.groups;if(0<de.length)for(b=0;b<de.length;b++){_=de[b];var ge=_.start,me=ge;for(ge+=_.count;me<ge;me+=3)g!==void 0?o(g[me],g[me+1],g[me+2],_.materialIndex):o(me,me+1,me+2,_.materialIndex)}else if(g!==void 0)for(b=0;b<g.length;b+=3)o(g[b],g[b+1],g[b+2]);else for(b=0;b<_.length/3;b+=3)o(b,b+1,b+2);return this.computeFaceNormals(),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(AA).negate(),this.translate(AA.x,AA.y,AA.z),this},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,o=this.boundingSphere.radius;o=o===0?1:1/o;var p=new ae;return p.set(o,0,0,-o*t.x,0,o,0,-o*t.y,0,0,o,-o*t.z,0,0,0,1),this.applyMatrix4(p),this},computeFaceNormals:function(){for(var t=new W,o=new W,p=0,g=this.faces.length;p<g;p++){var b=this.faces[p],_=this.vertices[b.a],D=this.vertices[b.b];t.subVectors(this.vertices[b.c],D),o.subVectors(_,D),t.cross(o),t.normalize(),b.normal.copy(t)}},computeVertexNormals:function(t){t===void 0&&(t=!0);var o,p=Array(this.vertices.length),g=0;for(o=this.vertices.length;g<o;g++)p[g]=new W;if(t){var b=new W,_=new W;for(t=0,g=this.faces.length;t<g;t++){o=this.faces[t];var D=this.vertices[o.a],k=this.vertices[o.b],X=this.vertices[o.c];b.subVectors(X,k),_.subVectors(D,k),b.cross(_),p[o.a].add(b),p[o.b].add(b),p[o.c].add(b)}}else for(this.computeFaceNormals(),t=0,g=this.faces.length;t<g;t++)o=this.faces[t],p[o.a].add(o.normal),p[o.b].add(o.normal),p[o.c].add(o.normal);for(g=0,o=this.vertices.length;g<o;g++)p[g].normalize();for(t=0,g=this.faces.length;t<g;t++)o=this.faces[t],D=o.vertexNormals,D.length===3?(D[0].copy(p[o.a]),D[1].copy(p[o.b]),D[2].copy(p[o.c])):(D[0]=p[o.a].clone(),D[1]=p[o.b].clone(),D[2]=p[o.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t;this.computeFaceNormals();var o=0;for(t=this.faces.length;o<t;o++){var p=this.faces[o],g=p.vertexNormals;g.length===3?(g[0].copy(p.normal),g[1].copy(p.normal),g[2].copy(p.normal)):(g[0]=p.normal.clone(),g[1]=p.normal.clone(),g[2]=p.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,o,p=0;for(o=this.faces.length;p<o;p++){var g=this.faces[p];g.__originalFaceNormal?g.__originalFaceNormal.copy(g.normal):g.__originalFaceNormal=g.normal.clone(),g.__originalVertexNormals||(g.__originalVertexNormals=[]);var b=0;for(t=g.vertexNormals.length;b<t;b++)g.__originalVertexNormals[b]?g.__originalVertexNormals[b].copy(g.vertexNormals[b]):g.__originalVertexNormals[b]=g.vertexNormals[b].clone()}var _=new Or;for(_.faces=this.faces,b=0,t=this.morphTargets.length;b<t;b++){if(!this.morphNormals[b]){this.morphNormals[b]={},this.morphNormals[b].faceNormals=[],this.morphNormals[b].vertexNormals=[],g=this.morphNormals[b].faceNormals;var D=this.morphNormals[b].vertexNormals;for(p=0,o=this.faces.length;p<o;p++){var k=new W,X={a:new W,b:new W,c:new W};g.push(k),D.push(X)}}for(D=this.morphNormals[b],_.vertices=this.morphTargets[b].vertices,_.computeFaceNormals(),_.computeVertexNormals(),p=0,o=this.faces.length;p<o;p++)g=this.faces[p],k=D.faceNormals[p],X=D.vertexNormals[p],k.copy(g.normal),X.a.copy(g.vertexNormals[0]),X.b.copy(g.vertexNormals[1]),X.c.copy(g.vertexNormals[2])}for(p=0,o=this.faces.length;p<o;p++)g=this.faces[p],g.normal=g.__originalFaceNormal,g.vertexNormals=g.__originalVertexNormals},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Nt),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new Bt),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,o,p){if(t&&t.isGeometry){var g,b=this.vertices.length,_=this.vertices,D=t.vertices,k=this.faces,X=t.faces,$=this.colors,de=t.colors;p===void 0&&(p=0),o!==void 0&&(g=new v().getNormalMatrix(o));for(var ge=0,me=D.length;ge<me;ge++){var Ee=D[ge].clone();o!==void 0&&Ee.applyMatrix4(o),_.push(Ee)}for(ge=0,me=de.length;ge<me;ge++)$.push(de[ge].clone());for(ge=0,me=X.length;ge<me;ge++){D=X[ge];var ke=D.vertexNormals;for(de=D.vertexColors,$=new Ai(D.a+b,D.b+b,D.c+b),$.normal.copy(D.normal),g!==void 0&&$.normal.applyMatrix3(g).normalize(),o=0,_=ke.length;o<_;o++)Ee=ke[o].clone(),g!==void 0&&Ee.applyMatrix3(g).normalize(),$.vertexNormals.push(Ee);for($.color.copy(D.color),o=0,_=de.length;o<_;o++)Ee=de[o],$.vertexColors.push(Ee.clone());$.materialIndex=D.materialIndex+p,k.push($)}for(ge=0,me=t.faceVertexUvs.length;ge<me;ge++)for(p=t.faceVertexUvs[ge],this.faceVertexUvs[ge]===void 0&&(this.faceVertexUvs[ge]=[]),o=0,_=p.length;o<_;o++){for(g=p[o],b=[],k=0,X=g.length;k<X;k++)b.push(g[k].clone());this.faceVertexUvs[ge].push(b)}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t)},mergeMesh:function(t){t&&t.isMesh?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(){var t={},o=[],p=[],g=Math.pow(10,4),b,_=0;for(b=this.vertices.length;_<b;_++){var D=this.vertices[_];D=Math.round(D.x*g)+"_"+Math.round(D.y*g)+"_"+Math.round(D.z*g),t[D]===void 0?(t[D]=_,o.push(this.vertices[_]),p[_]=o.length-1):p[_]=p[t[D]]}for(t=[],_=0,b=this.faces.length;_<b;_++)for(g=this.faces[_],g.a=p[g.a],g.b=p[g.b],g.c=p[g.c],g=[g.a,g.b,g.c],D=0;3>D;D++)if(g[D]===g[(D+1)%3]){t.push(_);break}for(_=t.length-1;0<=_;_--)for(g=t[_],this.faces.splice(g,1),p=0,b=this.faceVertexUvs.length;p<b;p++)this.faceVertexUvs[p].splice(g,1);return _=this.vertices.length-o.length,this.vertices=o,_},setFromPoints:function(t){this.vertices=[];for(var o=0,p=t.length;o<p;o++){var g=t[o];this.vertices.push(new W(g.x,g.y,g.z||0))}return this},sortFacesByMaterialIndex:function(){for(var t=this.faces,o=t.length,p=0;p<o;p++)t[p]._id=p;t.sort(function(X,$){return X.materialIndex-$.materialIndex});var g=this.faceVertexUvs[0],b=this.faceVertexUvs[1],_,D;for(g&&g.length===o&&(_=[]),b&&b.length===o&&(D=[]),p=0;p<o;p++){var k=t[p]._id;_&&_.push(g[k]),D&&D.push(b[k])}_&&(this.faceVertexUvs[0]=_),D&&(this.faceVertexUvs[1]=D)},toJSON:function(){function t(Zr,lr,ii){return ii?Zr|1<<lr:Zr&~(1<<lr)}function o(Zr){var lr=Zr.x.toString()+Zr.y.toString()+Zr.z.toString();return $[lr]!==void 0||($[lr]=X.length/3,X.push(Zr.x,Zr.y,Zr.z)),$[lr]}function p(Zr){var lr=Zr.r.toString()+Zr.g.toString()+Zr.b.toString();return ge[lr]!==void 0||(ge[lr]=de.length,de.push(Zr.getHex())),ge[lr]}function g(Zr){var lr=Zr.x.toString()+Zr.y.toString();return Ee[lr]!==void 0||(Ee[lr]=me.length/2,me.push(Zr.x,Zr.y)),Ee[lr]}var b={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(b.uuid=this.uuid,b.type=this.type,this.name!==""&&(b.name=this.name),this.parameters!==void 0){var _=this.parameters,D;for(D in _)_[D]!==void 0&&(b[D]=_[D]);return b}for(_=[],D=0;D<this.vertices.length;D++){var k=this.vertices[D];_.push(k.x,k.y,k.z)}k=[];var X=[],$={},de=[],ge={},me=[],Ee={};for(D=0;D<this.faces.length;D++){var ke=this.faces[D],xt=this.faceVertexUvs[0][D]!==void 0,qt=0<ke.normal.length(),Qt=0<ke.vertexNormals.length,er=ke.color.r!==1||ke.color.g!==1||ke.color.b!==1,dr=0<ke.vertexColors.length,gn=0;gn=t(gn,0,0),gn=t(gn,1,!0),gn=t(gn,2,!1),gn=t(gn,3,xt),gn=t(gn,4,qt),gn=t(gn,5,Qt),gn=t(gn,6,er),gn=t(gn,7,dr),k.push(gn),k.push(ke.a,ke.b,ke.c),k.push(ke.materialIndex),xt&&(xt=this.faceVertexUvs[0][D],k.push(g(xt[0]),g(xt[1]),g(xt[2]))),qt&&k.push(o(ke.normal)),Qt&&(qt=ke.vertexNormals,k.push(o(qt[0]),o(qt[1]),o(qt[2]))),er&&k.push(p(ke.color)),dr&&(ke=ke.vertexColors,k.push(p(ke[0]),p(ke[1]),p(ke[2])))}return b.data={},b.data.vertices=_,b.data.normals=X,0<de.length&&(b.data.colors=de),0<me.length&&(b.data.uvs=[me]),b.data.faces=k,b},clone:function(){return new Or().copy(this)},copy:function(t){var o,p,g;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingSphere=this.boundingBox=null,this.name=t.name;var b=t.vertices,_=0;for(o=b.length;_<o;_++)this.vertices.push(b[_].clone());for(b=t.colors,_=0,o=b.length;_<o;_++)this.colors.push(b[_].clone());for(b=t.faces,_=0,o=b.length;_<o;_++)this.faces.push(b[_].clone());for(_=0,o=t.faceVertexUvs.length;_<o;_++){var D=t.faceVertexUvs[_];for(this.faceVertexUvs[_]===void 0&&(this.faceVertexUvs[_]=[]),b=0,p=D.length;b<p;b++){var k=D[b],X=[],$=0;for(g=k.length;$<g;$++)X.push(k[$].clone());this.faceVertexUvs[_].push(X)}}for($=t.morphTargets,_=0,o=$.length;_<o;_++){if(g={},g.name=$[_].name,$[_].vertices!==void 0)for(g.vertices=[],b=0,p=$[_].vertices.length;b<p;b++)g.vertices.push($[_].vertices[b].clone());if($[_].normals!==void 0)for(g.normals=[],b=0,p=$[_].normals.length;b<p;b++)g.normals.push($[_].normals[b].clone());this.morphTargets.push(g)}for($=t.morphNormals,_=0,o=$.length;_<o;_++){if(g={},$[_].vertexNormals!==void 0)for(g.vertexNormals=[],b=0,p=$[_].vertexNormals.length;b<p;b++)D=$[_].vertexNormals[b],k={},k.a=D.a.clone(),k.b=D.b.clone(),k.c=D.c.clone(),g.vertexNormals.push(k);if($[_].faceNormals!==void 0)for(g.faceNormals=[],b=0,p=$[_].faceNormals.length;b<p;b++)g.faceNormals.push($[_].faceNormals[b].clone());this.morphNormals.push(g)}for(b=t.skinWeights,_=0,o=b.length;_<o;_++)this.skinWeights.push(b[_].clone());for(b=t.skinIndices,_=0,o=b.length;_<o;_++)this.skinIndices.push(b[_].clone());for(b=t.lineDistances,_=0,o=b.length;_<o;_++)this.lineDistances.push(b[_]);return _=t.boundingBox,_!==null&&(this.boundingBox=_.clone()),_=t.boundingSphere,_!==null&&(this.boundingSphere=_.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var X2=function(u){function t(o,p,g,b,_,D){u.call(this),this.type="BoxGeometry",this.parameters={width:o,height:p,depth:g,widthSegments:b,heightSegments:_,depthSegments:D},this.fromBufferGeometry(new lC(o,p,g,b,_,D)),this.mergeVertices()}return u&&(t.__proto__=u),t.prototype=Ge(u&&u.prototype),t.prototype.constructor=t}(Or),lC=function(u){function t(o,p,g,b,_,D){function k(xt,qt,Qt,er,dr,gn,Zr,lr,ii,Rr,ji){var ro=gn/ii,oi=Zr/Rr,Ba=gn/2,lo=Zr/2,Ea=lr/2;Zr=ii+1;for(var gl=Rr+1,Ua=gn=0,Ql=new W,Sl=0;Sl<gl;Sl++)for(var pc=Sl*oi-lo,Yc=0;Yc<Zr;Yc++)Ql[xt]=(Yc*ro-Ba)*er,Ql[qt]=pc*dr,Ql[Qt]=Ea,de.push(Ql.x,Ql.y,Ql.z),Ql[xt]=0,Ql[qt]=0,Ql[Qt]=0<lr?1:-1,ge.push(Ql.x,Ql.y,Ql.z),me.push(Yc/ii),me.push(1-Sl/Rr),gn+=1;for(xt=0;xt<Rr;xt++)for(qt=0;qt<ii;qt++)Qt=Ee+qt+Zr*(xt+1),er=Ee+(qt+1)+Zr*(xt+1),dr=Ee+(qt+1)+Zr*xt,$.push(Ee+qt+Zr*xt,Qt,dr),$.push(Qt,er,dr),Ua+=6;X.addGroup(ke,Ua,ji),ke+=Ua,Ee+=gn}u.call(this),this.type="BoxBufferGeometry",this.parameters={width:o,height:p,depth:g,widthSegments:b,heightSegments:_,depthSegments:D};var X=this;o=o||1,p=p||1,g=g||1,b=Math.floor(b)||1,_=Math.floor(_)||1,D=Math.floor(D)||1;var $=[],de=[],ge=[],me=[],Ee=0,ke=0;k("z","y","x",-1,-1,g,p,o,D,_,0),k("z","y","x",1,-1,g,p,-o,D,_,1),k("x","z","y",1,1,o,g,p,b,D,2),k("x","z","y",1,-1,o,g,-p,b,D,3),k("x","y","z",1,-1,o,p,g,b,_,4),k("x","y","z",-1,-1,o,p,-g,b,_,5),this.setIndex($),this.setAttribute("position",new vi(de,3)),this.setAttribute("normal",new vi(ge,3)),this.setAttribute("uv",new vi(me,2))}return u&&(t.__proto__=u),t.prototype=Ge(u&&u.prototype),t.prototype.constructor=t}(Kt),xb={clone:Yr,merge:Wi};li.prototype=Ge(Pr.prototype),li.prototype.constructor=li,li.prototype.isShaderMaterial=!0,li.prototype.copy=function(u){return Pr.prototype.copy.call(this,u),this.fragmentShader=u.fragmentShader,this.vertexShader=u.vertexShader,this.uniforms=Yr(u.uniforms),this.defines=Xe({},u.defines),this.wireframe=u.wireframe,this.wireframeLinewidth=u.wireframeLinewidth,this.lights=u.lights,this.clipping=u.clipping,this.skinning=u.skinning,this.morphTargets=u.morphTargets,this.morphNormals=u.morphNormals,this.extensions=Xe({},u.extensions),this},li.prototype.toJSON=function(u){var t=Pr.prototype.toJSON.call(this,u);t.uniforms={};for(var o in this.uniforms){var p=this.uniforms[o].value;t.uniforms[o]=p&&p.isTexture?{type:"t",value:p.toJSON(u).uuid}:p&&p.isColor?{type:"c",value:p.getHex()}:p&&p.isVector2?{type:"v2",value:p.toArray()}:p&&p.isVector3?{type:"v3",value:p.toArray()}:p&&p.isVector4?{type:"v4",value:p.toArray()}:p&&p.isMatrix3?{type:"m3",value:p.toArray()}:p&&p.isMatrix4?{type:"m4",value:p.toArray()}:{value:p}}0<Vc(this.defines).length&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,u={};for(var g in this.extensions)this.extensions[g]===!0&&(u[g]=!0);return 0<Vc(u).length&&(t.extensions=u),t},Ii.prototype=Xe(Ge(Me.prototype),{constructor:Ii,isCamera:!0,copy:function(t,o){return Me.prototype.copy.call(this,t,o),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){t===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new W),this.updateMatrixWorld(!0);var o=this.matrixWorld.elements;return t.set(-o[8],-o[9],-o[10]).normalize()},updateMatrixWorld:function(t){Me.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(t,o){Me.prototype.updateWorldMatrix.call(this,t,o),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return new this.constructor().copy(this)}}),Ln.prototype=Xe(Ge(Ii.prototype),{constructor:Ln,isPerspectiveCamera:!0,copy:function(t,o){return Ii.prototype.copy.call(this,t,o),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Xe({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){t=.5*this.getFilmHeight()/t,this.fov=2*Ll.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*Ll.DEG2RAD*this.fov);return .5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Ll.RAD2DEG*Math.atan(Math.tan(.5*Ll.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,o,p,g,b,_){this.aspect=t/o,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=o,this.view.offsetX=p,this.view.offsetY=g,this.view.width=b,this.view.height=_,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,o=t*Math.tan(.5*Ll.DEG2RAD*this.fov)/this.zoom,p=2*o,g=this.aspect*p,b=-.5*g,_=this.view;if(this.view!==null&&this.view.enabled){var D=_.fullWidth,k=_.fullHeight;b+=_.offsetX*g/D,o-=_.offsetY*p/k,g*=_.width/D,p*=_.height/k}_=this.filmOffset,_!==0&&(b+=t*_/this.getFilmWidth()),this.projectionMatrix.makePerspective(b,b+g,o,o-p,t,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){return t=Me.prototype.toJSON.call(this,t),t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Xe({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),Oa.prototype=Ge(Me.prototype),Oa.prototype.constructor=Oa,Os.prototype=Ge(I.prototype),Os.prototype.constructor=Os,Os.prototype.isWebGLCubeRenderTarget=!0,Os.prototype.fromEquirectangularTexture=function(u,t){this.texture.type=t.type,this.texture.format=t.format,this.texture.encoding=t.encoding;var o=new ct,p=new li({type:"CubemapFromEquirect",uniforms:Yr({tEquirect:{value:null}}),vertexShader:`varying vec3 vWorldDirection;
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragmentShader:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
}`,side:1,blending:0});return p.uniforms.tEquirect.value=t,t=new Hr(new lC(5,5,5),p),o.add(t),new Oa(1,10,this).update(u,o),t.geometry.dispose(),t.material.dispose(),this},Dn.prototype=Ge(x.prototype),Dn.prototype.constructor=Dn,Dn.prototype.isDataTexture=!0;var nx=new Bt,wA=new W;Xe(Ra.prototype,{set:function(t,o,p,g,b,_){var D=this.planes;return D[0].copy(t),D[1].copy(o),D[2].copy(p),D[3].copy(g),D[4].copy(b),D[5].copy(_),this},clone:function(){return new this.constructor().copy(this)},copy:function(t){for(var o=this.planes,p=0;6>p;p++)o[p].copy(t.planes[p]);return this},setFromProjectionMatrix:function(t){var o=this.planes,p=t.elements;t=p[0];var g=p[1],b=p[2],_=p[3],D=p[4],k=p[5],X=p[6],$=p[7],de=p[8],ge=p[9],me=p[10],Ee=p[11],ke=p[12],xt=p[13],qt=p[14];return p=p[15],o[0].setComponents(_-t,$-D,Ee-de,p-ke).normalize(),o[1].setComponents(_+t,$+D,Ee+de,p+ke).normalize(),o[2].setComponents(_+g,$+k,Ee+ge,p+xt).normalize(),o[3].setComponents(_-g,$-k,Ee-ge,p-xt).normalize(),o[4].setComponents(_-b,$-X,Ee-me,p-qt).normalize(),o[5].setComponents(_+b,$+X,Ee+me,p+qt).normalize(),this},intersectsObject:function(t){var o=t.geometry;return o.boundingSphere===null&&o.computeBoundingSphere(),nx.copy(o.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(nx)},intersectsSprite:function(t){return nx.center.set(0,0,0),nx.radius=.7071067811865476,nx.applyMatrix4(t.matrixWorld),this.intersectsSphere(nx)},intersectsSphere:function(t){var o=this.planes,p=t.center;t=-t.radius;for(var g=0;6>g;g++)if(o[g].distanceToPoint(p)<t)return!1;return!0},intersectsBox:function(t){for(var o=this.planes,p=0;6>p;p++){var g=o[p];if(wA.x=0<g.normal.x?t.max.x:t.min.x,wA.y=0<g.normal.y?t.max.y:t.min.y,wA.z=0<g.normal.z?t.max.z:t.min.z,0>g.distanceToPoint(wA))return!1}return!0},containsPoint:function(t){for(var o=this.planes,p=0;6>p;p++)if(0>o[p].distanceToPoint(t))return!1;return!0}});var Eo={common:{diffuse:{value:new wt(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new v},uv2Transform:{value:new v},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new c(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new wt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new wt(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new v}},sprite:{diffuse:{value:new wt(15658734)},opacity:{value:1},center:{value:new c(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new v}}};Rc.prototype=Ge(Or.prototype),Rc.prototype.constructor=Rc,df.prototype=Ge(Kt.prototype),df.prototype.constructor=df;var nu={alphamap_fragment:`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,alphamap_pars_fragment:`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment:`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,aomap_fragment:`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,aomap_pars_fragment:`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs:`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE  = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS  = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha  = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,bumpmap_pars_fragment:`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment:`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment:`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex:`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex:`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment:`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment:`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,color_pars_vertex:`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,color_vertex:`#ifdef USE_COLOR
	vColor.xyz = color.xyz;
#endif`,common:`#define PI 3.14159265359
#define PI2 6.28318530718
#define PI_HALF 1.5707963267949
#define RECIPROCAL_PI 0.31830988618
#define RECIPROCAL_PI2 0.15915494
#define LOG2 1.442695
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
  return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,cube_uv_reflection_fragment:`#ifdef ENVMAP_TYPE_CUBE_UV
#define cubeUV_maxMipLevel 8.0
#define cubeUV_minMipLevel 4.0
#define cubeUV_maxTileSize 256.0
#define cubeUV_minTileSize 16.0
float getFace(vec3 direction) {
    vec3 absDirection = abs(direction);
    float face = -1.0;
    if (absDirection.x > absDirection.z) {
      if (absDirection.x > absDirection.y)
        face = direction.x > 0.0 ? 0.0 : 3.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    } else {
      if (absDirection.z > absDirection.y)
        face = direction.z > 0.0 ? 2.0 : 5.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    }
    return face;
}
vec2 getUV(vec3 direction, float face) {
    vec2 uv;
    if (face == 0.0) {
      uv = vec2(direction.z, direction.y) / abs(direction.x);    } else if (face == 1.0) {
      uv = vec2(-direction.x, -direction.z) / abs(direction.y);    } else if (face == 2.0) {
      uv = vec2(-direction.x, direction.y) / abs(direction.z);    } else if (face == 3.0) {
      uv = vec2(-direction.z, direction.y) / abs(direction.x);    } else if (face == 4.0) {
      uv = vec2(-direction.x, direction.z) / abs(direction.y);    } else {
      uv = vec2(direction.x, direction.y) / abs(direction.z);    }
    return 0.5 * (uv + 1.0);
}
vec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {
  float face = getFace(direction);
  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);
  mipInt = max(mipInt, cubeUV_minMipLevel);
  float faceSize = exp2(mipInt);
  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);
  vec2 uv = getUV(direction, face) * (faceSize - 1.0);
  vec2 f = fract(uv);
  uv += 0.5 - f;
  if (face > 2.0) {
    uv.y += faceSize;
    face -= 3.0;
  }
  uv.x += face * faceSize;
  if(mipInt < cubeUV_maxMipLevel){
    uv.y += 2.0 * cubeUV_maxTileSize;
  }
  uv.y += filterInt * 2.0 * cubeUV_minTileSize;
  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);
  uv *= texelSize;
  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x += texelSize;
  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.y += texelSize;
  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x -= texelSize;
  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  vec3 tm = mix(tl, tr, f.x);
  vec3 bm = mix(bl, br, f.x);
  return mix(tm, bm, f.y);
}
#define r0 1.0
#define v0 0.339
#define m0 -2.0
#define r1 0.8
#define v1 0.276
#define m1 -1.0
#define r4 0.4
#define v4 0.046
#define m4 2.0
#define r5 0.305
#define v5 0.016
#define m5 3.0
#define r6 0.21
#define v6 0.0038
#define m6 4.0
float roughnessToMip(float roughness) {
  float mip = 0.0;
  if (roughness >= r1) {
    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;
  } else if (roughness >= r4) {
    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;
  } else if (roughness >= r5) {
    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;
  } else if (roughness >= r6) {
    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;
  } else {
    mip = -2.0 * log2(1.16 * roughness);  }
  return mip;
}
vec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {
  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);
  float mipF = fract(mip);
  float mipInt = floor(mip);
  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);
  if (mipF == 0.0) {
    return vec4(color0, 1.0);
  } else {
    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);
    return vec4(mix(color0, color1, mipF), 1.0);
  }
}
#endif`,defaultnormal_vertex:`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex:`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex:`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment:`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment:`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value )  {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,envmap_fragment:`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		}  else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#elif defined( ENVMAP_TYPE_EQUIREC )
		reflectVec = normalize( reflectVec );
		vec2 sampleUV = equirectUv( reflectVec );
		vec4 envColor = texture2D( envMap, sampleUV );
	#elif defined( ENVMAP_TYPE_SPHERE )
		reflectVec = normalize( reflectVec );
		vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );
		vec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment:`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment:`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex:`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_physical_pars_fragment:`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
		  vec3 reflectVec = reflect( -viewDir, normal );
		  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
		  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#elif defined( ENVMAP_TYPE_EQUIREC )
			vec2 sampleUV = equirectUv( reflectVec );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_SPHERE )
			vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,envmap_vertex:`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) { 
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex:`#ifdef USE_FOG
	fogDepth = -mvPosition.z;
#endif`,fog_pars_vertex:`#ifdef USE_FOG
	varying float fogDepth;
#endif`,fog_fragment:`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment:`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment:`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,lightmap_fragment:`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,lightmap_pars_fragment:`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_vertex:`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,lights_pars_begin:`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
		struct PointLightShadow {
			float shadowBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,lights_toon_fragment:`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_toon_pars_fragment:`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,lights_phong_fragment:`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment:`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,lights_physical_fragment:`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,lights_physical_pars_fragment:`struct PhysicalMaterial {
	vec3	diffuseColor;
	float	specularRoughness;
	vec3	specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin:`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps:`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,lights_fragment_end:`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment:`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment:`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex:`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex:`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment:`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,map_pars_fragment:`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment:`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment:`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment:`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment:`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphnormal_vertex:`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,morphtarget_pars_vertex:`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
	uniform float morphTargetInfluences[ 8 ];
	#else
	uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,morphtarget_vertex:`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
	transformed += morphTarget4 * morphTargetInfluences[ 4 ];
	transformed += morphTarget5 * morphTargetInfluences[ 5 ];
	transformed += morphTarget6 * morphTargetInfluences[ 6 ];
	transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,normal_fragment_begin:`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			bitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps:`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif`,normalmap_pars_fragment:`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		float scale = sign( st1.t * st0.s - st0.t * st1.s );
		vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
		vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
		vec3 N = normalize( surf_norm );
		mat3 tsn = mat3( S, T, N );
		mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		return normalize( tsn * mapN );
	}
#endif`,clearcoat_normal_fragment_begin:`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps:`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );
	#endif
#endif`,clearcoat_pars_fragment:`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,packing:`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,premultiplied_alpha_fragment:`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex:`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment:`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment:`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment:`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment:`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,shadowmask_pars_fragment:`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex:`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex:`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,skinning_vertex:`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex:`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment:`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment:`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment:`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment:`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
uniform float toneMappingWhitePoint;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )
vec3 Uncharted2ToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );
}`,uv_pars_fragment:`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,uv_pars_vertex:`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uv_vertex:`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uv2_vertex:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,worldpos_vertex:`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,background_frag:`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,cube_frag:`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,depth_vert:`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshbasic_vert:`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSPARENCY
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSPARENCY
	uniform float transparency;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSPARENCY
		diffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,normal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,normal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,shadow_vert:`#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`},Fg={basic:{uniforms:Wi([Eo.common,Eo.specularmap,Eo.envmap,Eo.aomap,Eo.lightmap,Eo.fog]),vertexShader:nu.meshbasic_vert,fragmentShader:nu.meshbasic_frag},lambert:{uniforms:Wi([Eo.common,Eo.specularmap,Eo.envmap,Eo.aomap,Eo.lightmap,Eo.emissivemap,Eo.fog,Eo.lights,{emissive:{value:new wt(0)}}]),vertexShader:nu.meshlambert_vert,fragmentShader:nu.meshlambert_frag},phong:{uniforms:Wi([Eo.common,Eo.specularmap,Eo.envmap,Eo.aomap,Eo.lightmap,Eo.emissivemap,Eo.bumpmap,Eo.normalmap,Eo.displacementmap,Eo.fog,Eo.lights,{emissive:{value:new wt(0)},specular:{value:new wt(1118481)},shininess:{value:30}}]),vertexShader:nu.meshphong_vert,fragmentShader:nu.meshphong_frag},standard:{uniforms:Wi([Eo.common,Eo.envmap,Eo.aomap,Eo.lightmap,Eo.emissivemap,Eo.bumpmap,Eo.normalmap,Eo.displacementmap,Eo.roughnessmap,Eo.metalnessmap,Eo.fog,Eo.lights,{emissive:{value:new wt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:nu.meshphysical_vert,fragmentShader:nu.meshphysical_frag},toon:{uniforms:Wi([Eo.common,Eo.specularmap,Eo.aomap,Eo.lightmap,Eo.emissivemap,Eo.bumpmap,Eo.normalmap,Eo.displacementmap,Eo.gradientmap,Eo.fog,Eo.lights,{emissive:{value:new wt(0)},specular:{value:new wt(1118481)},shininess:{value:30}}]),vertexShader:nu.meshtoon_vert,fragmentShader:nu.meshtoon_frag},matcap:{uniforms:Wi([Eo.common,Eo.bumpmap,Eo.normalmap,Eo.displacementmap,Eo.fog,{matcap:{value:null}}]),vertexShader:nu.meshmatcap_vert,fragmentShader:nu.meshmatcap_frag},points:{uniforms:Wi([Eo.points,Eo.fog]),vertexShader:nu.points_vert,fragmentShader:nu.points_frag},dashed:{uniforms:Wi([Eo.common,Eo.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:nu.linedashed_vert,fragmentShader:nu.linedashed_frag},depth:{uniforms:Wi([Eo.common,Eo.displacementmap]),vertexShader:nu.depth_vert,fragmentShader:nu.depth_frag},normal:{uniforms:Wi([Eo.common,Eo.bumpmap,Eo.normalmap,Eo.displacementmap,{opacity:{value:1}}]),vertexShader:nu.normal_vert,fragmentShader:nu.normal_frag},sprite:{uniforms:Wi([Eo.sprite,Eo.fog]),vertexShader:nu.sprite_vert,fragmentShader:nu.sprite_frag},background:{uniforms:{uvTransform:{value:new v},t2D:{value:null}},vertexShader:nu.background_vert,fragmentShader:nu.background_frag},cube:{uniforms:Wi([Eo.envmap,{opacity:{value:1}}]),vertexShader:nu.cube_vert,fragmentShader:nu.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:nu.equirect_vert,fragmentShader:nu.equirect_frag},distanceRGBA:{uniforms:Wi([Eo.common,Eo.displacementmap,{referencePosition:{value:new W},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:nu.distanceRGBA_vert,fragmentShader:nu.distanceRGBA_frag},shadow:{uniforms:Wi([Eo.lights,Eo.fog,{color:{value:new wt(0)},opacity:{value:1}}]),vertexShader:nu.shadow_vert,fragmentShader:nu.shadow_frag}};Fg.physical={uniforms:Wi([Fg.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new c(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new wt(0)},transparency:{value:0}}]),vertexShader:nu.meshphysical_vert,fragmentShader:nu.meshphysical_frag},Iv.prototype=Ge(x.prototype),Iv.prototype.constructor=Iv,Iv.prototype.isCubeTexture=!0,Object.defineProperty(Iv.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),Wp.prototype=Ge(x.prototype),Wp.prototype.constructor=Wp,Wp.prototype.isDataTexture2DArray=!0,dm.prototype=Ge(x.prototype),dm.prototype.constructor=dm,dm.prototype.isDataTexture3D=!0;var Cb=new x,TM=new Wp,_M=new dm,Ab=new Iv,wb=[],bb=[],Sb=new Float32Array(16),Mb=new Float32Array(9),Eb=new Float32Array(4);Tw.prototype.updateCache=function(u){var t=this.cache;u instanceof Float32Array&&t.length!==u.length&&(this.cache=new Float32Array(u.length)),Rp(t,u)},_w.prototype.setValue=function(u,t,o){for(var p=this.seq,g=0,b=p.length;g!==b;++g){var _=p[g];_.setValue(u,t[_.id],o)}};var K2=/([\w\d_]+)(\])?(\[|\.)?/g;Z0.prototype.setValue=function(u,t,o,p){t=this.map[t],t!==void 0&&t.setValue(u,o,p)},Z0.prototype.setOptional=function(u,t,o){t=t[o],t!==void 0&&this.setValue(u,o,t)},Z0.upload=function(u,t,o,p){for(var g=0,b=t.length;g!==b;++g){var _=t[g],D=o[_.id];D.needsUpdate!==!1&&_.setValue(u,D.value,p)}},Z0.seqWithValue=function(u,t){for(var o=[],p=0,g=u.length;p!==g;++p){var b=u[p];b.id in t&&o.push(b)}return o};var IM=0,Z2=/^[ \t]*#include +<([\w\d./]+)>/gm,Tb=/#pragma unroll_loop[\s]+?for \( int i = (\d+); i < (\d+); i \+\+ \) \{([\s\S]+?)(?=\})\}/g,_b=/#pragma unroll_loop_start[\s]+?for \( int i = (\d+); i < (\d+); i \+\+ \) \{([\s\S]+?)(?=\})\}[\s]+?#pragma unroll_loop_end/g,PM=0;J0.prototype=Ge(Pr.prototype),J0.prototype.constructor=J0,J0.prototype.isMeshDepthMaterial=!0,J0.prototype.copy=function(u){return Pr.prototype.copy.call(this,u),this.depthPacking=u.depthPacking,this.skinning=u.skinning,this.morphTargets=u.morphTargets,this.map=u.map,this.alphaMap=u.alphaMap,this.displacementMap=u.displacementMap,this.displacementScale=u.displacementScale,this.displacementBias=u.displacementBias,this.wireframe=u.wireframe,this.wireframeLinewidth=u.wireframeLinewidth,this},Q0.prototype=Ge(Pr.prototype),Q0.prototype.constructor=Q0,Q0.prototype.isMeshDistanceMaterial=!0,Q0.prototype.copy=function(u){return Pr.prototype.copy.call(this,u),this.referencePosition.copy(u.referencePosition),this.nearDistance=u.nearDistance,this.farDistance=u.farDistance,this.skinning=u.skinning,this.morphTargets=u.morphTargets,this.map=u.map,this.alphaMap=u.alphaMap,this.displacementMap=u.displacementMap,this.displacementScale=u.displacementScale,this.displacementBias=u.displacementBias,this},EC.prototype=Xe(Ge(Ln.prototype),{constructor:EC,isArrayCamera:!0}),x1.prototype=Xe(Ge(Me.prototype),{constructor:x1,isGroup:!0}),Xe(TC.prototype,{constructor:TC,getTargetRaySpace:function(){return this._targetRay===null&&(this._targetRay=new x1,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return this._grip===null&&(this._grip=new x1,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this},disconnect:function(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this},update:function(t,o,p){var g=null,b=null,_=this._targetRay,D=this._grip;return t&&(_!==null&&(g=o.getPose(t.targetRaySpace,p),g!==null&&(_.matrix.fromArray(g.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale))),D!==null&&t.gripSpace&&(b=o.getPose(t.gripSpace,p),b!==null&&(D.matrix.fromArray(b.transform.matrix),D.matrix.decompose(D.position,D.rotation,D.scale)))),_!==null&&(_.visible=g!==null),D!==null&&(D.visible=b!==null),this}}),Xe(Uw.prototype,s.prototype),Xe(_C.prototype,{isFogExp2:!0,clone:function(){return new _C(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Xe(IC.prototype,{isFog:!0,clone:function(){return new IC(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(n0.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}}),Xe(n0.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this},copyAt:function(t,o,p){t*=this.stride,p*=o.stride;for(var g=0,b=this.stride;g<b;g++)this.array[t+g]=o.array[p+g];return this},set:function(t,o){return o===void 0&&(o=0),this.array.set(t,o),this},clone:function(){return new this.constructor().copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}});var qy=new W;Ia(wx.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Xe(wx.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(t){for(var o=0,p=this.data.count;o<p;o++)qy.x=this.getX(o),qy.y=this.getY(o),qy.z=this.getZ(o),qy.applyMatrix4(t),this.setXYZ(o,qy.x,qy.y,qy.z);return this},setX:function(t,o){return this.data.array[t*this.data.stride+this.offset]=o,this},setY:function(t,o){return this.data.array[t*this.data.stride+this.offset+1]=o,this},setZ:function(t,o){return this.data.array[t*this.data.stride+this.offset+2]=o,this},setW:function(t,o){return this.data.array[t*this.data.stride+this.offset+3]=o,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,o,p){return t=t*this.data.stride+this.offset,this.data.array[t+0]=o,this.data.array[t+1]=p,this},setXYZ:function(t,o,p,g){return t=t*this.data.stride+this.offset,this.data.array[t+0]=o,this.data.array[t+1]=p,this.data.array[t+2]=g,this},setXYZW:function(t,o,p,g,b){return t=t*this.data.stride+this.offset,this.data.array[t+0]=o,this.data.array[t+1]=p,this.data.array[t+2]=g,this.data.array[t+3]=b,this},clone:function(){for(var t=[],o=0;o<this.count;o++)for(var p=o*this.data.stride+this.offset,g=0;g<this.itemSize;g++)t.push(this.data.array[p+g]);return new En(new this.array.constructor(t),this.itemSize,this.normalized)},toJSON:function(){for(var t=[],o=0;o<this.count;o++)for(var p=o*this.data.stride+this.offset,g=0;g<this.itemSize;g++)t.push(this.data.array[p+g]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}}),q0.prototype=Ge(Pr.prototype),q0.prototype.constructor=q0,q0.prototype.isSpriteMaterial=!0,q0.prototype.copy=function(u){return Pr.prototype.copy.call(this,u),this.color.copy(u.color),this.map=u.map,this.alphaMap=u.alphaMap,this.rotation=u.rotation,this.sizeAttenuation=u.sizeAttenuation,this};var ix,uC=new W,ox=new W,ax=new W,sx=new c,cC=new c,Ib=new ae,bA=new W,fC=new W,SA=new W,Pb=new c,J2=new c,Ob=new c;bx.prototype=Xe(Ge(Me.prototype),{constructor:bx,isSprite:!0,raycast:function(t,o){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ox.setFromMatrixScale(this.matrixWorld),Ib.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),ax.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ox.multiplyScalar(-ax.z);var p=this.material.rotation;if(p!==0)var g=Math.cos(p),b=Math.sin(p);p=this.center,PC(bA.set(-.5,-.5,0),ax,p,ox,b,g),PC(fC.set(.5,-.5,0),ax,p,ox,b,g),PC(SA.set(.5,.5,0),ax,p,ox,b,g),Pb.set(0,0),J2.set(1,0),Ob.set(1,1);var _=t.ray.intersectTriangle(bA,fC,SA,!1,uC);_===null&&(PC(fC.set(-.5,.5,0),ax,p,ox,b,g),J2.set(0,1),_=t.ray.intersectTriangle(bA,SA,fC,!1,uC),_===null)||(b=t.ray.origin.distanceTo(uC),b<t.near||b>t.far||o.push({distance:b,point:uC.clone(),uv:Tr.getUV(uC,bA,fC,SA,Pb,J2,Ob,new c),face:null,object:this}))},clone:function(){return new this.constructor(this.material).copy(this)},copy:function(t){return Me.prototype.copy.call(this,t),t.center!==void 0&&this.center.copy(t.center),this}});var MA=new W,Rb=new W;Sx.prototype=Xe(Ge(Me.prototype),{constructor:Sx,isLOD:!0,copy:function(t){Me.prototype.copy.call(this,t,!1);for(var o=t.levels,p=0,g=o.length;p<g;p++){var b=o[p];this.addLevel(b.object.clone(),b.distance)}return this.autoUpdate=t.autoUpdate,this},addLevel:function(t,o){o===void 0&&(o=0),o=Math.abs(o);for(var p=this.levels,g=0;g<p.length&&!(o<p[g].distance);g++);return p.splice(g,0,{distance:o,object:t}),this.add(t),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(t){var o=this.levels;if(0<o.length){for(var p=1,g=o.length;p<g&&!(t<o[p].distance);p++);return o[p-1].object}return null},raycast:function(t,o){if(0<this.levels.length){MA.setFromMatrixPosition(this.matrixWorld);var p=t.ray.origin.distanceTo(MA);this.getObjectForDistance(p).raycast(t,o)}},update:function(t){var o=this.levels;if(1<o.length){MA.setFromMatrixPosition(t.matrixWorld),Rb.setFromMatrixPosition(this.matrixWorld),t=MA.distanceTo(Rb)/t.zoom,o[0].object.visible=!0;for(var p=1,g=o.length;p<g&&t>=o[p].distance;p++)o[p-1].object.visible=!1,o[p].object.visible=!0;for(this._currentLevel=p-1;p<g;p++)o[p].object.visible=!1}},toJSON:function(t){t=Me.prototype.toJSON.call(this,t),this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];for(var o=this.levels,p=0,g=o.length;p<g;p++){var b=o[p];t.object.levels.push({object:b.object.uuid,distance:b.distance})}return t}}),OC.prototype=Xe(Ge(Hr.prototype),{constructor:OC,isSkinnedMesh:!0,bind:function(t,o){this.skeleton=t,o===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),o=this.matrixWorld),this.bindMatrix.copy(o),this.bindMatrixInverse.getInverse(o)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var t=new w,o=this.geometry.attributes.skinWeight,p=0,g=o.count;p<g;p++){t.x=o.getX(p),t.y=o.getY(p),t.z=o.getZ(p),t.w=o.getW(p);var b=1/t.manhattanLength();b!==Infinity?t.multiplyScalar(b):t.set(1,0,0,0),o.setXYZW(p,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){Hr.prototype.updateMatrixWorld.call(this,t),this.bindMode==="attached"?this.bindMatrixInverse.getInverse(this.matrixWorld):this.bindMode==="detached"?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)},boneTransform:function(){var u=new W,t=new w,o=new w,p=new W,g=new ae;return function(b,_){var D=this.skeleton,k=this.geometry;for(t.fromBufferAttribute(k.attributes.skinIndex,b),o.fromBufferAttribute(k.attributes.skinWeight,b),u.fromBufferAttribute(k.attributes.position,b).applyMatrix4(this.bindMatrix),_.set(0,0,0),b=0;4>b;b++)if(k=o.getComponent(b),k!==0){var X=t.getComponent(b);g.multiplyMatrices(D.bones[X].matrixWorld,D.boneInverses[X]),_.addScaledVector(p.copy(u).applyMatrix4(g),k)}return _.applyMatrix4(this.bindMatrixInverse)}}()});var Lb=new ae,OM=new ae;Xe(RC.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,o=this.bones.length;t<o;t++){var p=new ae;this.bones[t]&&p.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(p)}},pose:function(){var t,o,p=0;for(o=this.bones.length;p<o;p++)(t=this.bones[p])&&t.matrixWorld.getInverse(this.boneInverses[p]);for(p=0,o=this.bones.length;p<o;p++)(t=this.bones[p])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){for(var t=this.bones,o=this.boneInverses,p=this.boneMatrices,g=this.boneTexture,b=0,_=t.length;b<_;b++)Lb.multiplyMatrices(t[b]?t[b].matrixWorld:OM,o[b]),Lb.toArray(p,16*b);g!==void 0&&(g.needsUpdate=!0)},clone:function(){return new RC(this.bones,this.boneInverses)},getBoneByName:function(t){for(var o=0,p=this.bones.length;o<p;o++){var g=this.bones[o];if(g.name===t)return g}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}}),$A.prototype=Xe(Ge(Me.prototype),{constructor:$A,isBone:!0});var Db=new ae,Nb=new ae,EA=[],hC=new Hr;LC.prototype=Xe(Ge(Hr.prototype),{constructor:LC,isInstancedMesh:!0,getMatrixAt:function(t,o){o.fromArray(this.instanceMatrix.array,16*t)},raycast:function(t,o){var p=this.matrixWorld,g=this.count;if(hC.geometry=this.geometry,hC.material=this.material,hC.material!==void 0)for(var b=0;b<g;b++){this.getMatrixAt(b,Db),Nb.multiplyMatrices(p,Db),hC.matrixWorld=Nb,hC.raycast(t,EA);for(var _=0,D=EA.length;_<D;_++){var k=EA[_];k.instanceId=b,k.object=this,o.push(k)}EA.length=0}},setMatrixAt:function(t,o){o.toArray(this.instanceMatrix.array,16*t)},updateMorphTargets:function(){}}),bh.prototype=Ge(Pr.prototype),bh.prototype.constructor=bh,bh.prototype.isLineBasicMaterial=!0,bh.prototype.copy=function(u){return Pr.prototype.copy.call(this,u),this.color.copy(u.color),this.linewidth=u.linewidth,this.linecap=u.linecap,this.linejoin=u.linejoin,this.morphTargets=u.morphTargets,this};var Fb=new W,Bb=new W,jb=new ae,TA=new ir,_A=new Bt;ev.prototype=Xe(Ge(Me.prototype),{constructor:ev,isLine:!0,computeLineDistances:function(){var t=this.geometry;if(t.isBufferGeometry)if(t.index===null){for(var o=t.attributes.position,p=[0],g=1,b=o.count;g<b;g++)Fb.fromBufferAttribute(o,g-1),Bb.fromBufferAttribute(o,g),p[g]=p[g-1],p[g]+=Fb.distanceTo(Bb);t.setAttribute("lineDistance",new vi(p,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry)for(o=t.vertices,p=t.lineDistances,p[0]=0,g=1,b=o.length;g<b;g++)p[g]=p[g-1],p[g]+=o[g-1].distanceTo(o[g]);return this},raycast:function(t,o){var p=this.geometry,g=this.matrixWorld,b=t.params.Line.threshold;if(p.boundingSphere===null&&p.computeBoundingSphere(),_A.copy(p.boundingSphere),_A.applyMatrix4(g),_A.radius+=b,t.ray.intersectsSphere(_A)!==!1){jb.getInverse(g),TA.copy(t.ray).applyMatrix4(jb),g=b/((this.scale.x+this.scale.y+this.scale.z)/3),g*=g;var _=new W,D=new W;b=new W;var k=new W,X=this&&this.isLineSegments?2:1;if(p.isBufferGeometry){var $=p.index,de=p.attributes.position.array;if($!==null){$=$.array,p=0;for(var ge=$.length-1;p<ge;p+=X){var me=$[p+1];_.fromArray(de,3*$[p]),D.fromArray(de,3*me),me=TA.distanceSqToSegment(_,D,k,b),me>g||(k.applyMatrix4(this.matrixWorld),me=t.ray.origin.distanceTo(k),me<t.near||me>t.far||o.push({distance:me,point:b.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this}))}}else for(p=0,ge=de.length/3-1;p<ge;p+=X)_.fromArray(de,3*p),D.fromArray(de,3*p+3),me=TA.distanceSqToSegment(_,D,k,b),me>g||(k.applyMatrix4(this.matrixWorld),me=t.ray.origin.distanceTo(k),me<t.near||me>t.far||o.push({distance:me,point:b.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this}))}else if(p.isGeometry)for(_=p.vertices,D=_.length,p=0;p<D-1;p+=X)me=TA.distanceSqToSegment(_[p],_[p+1],k,b),me>g||(k.applyMatrix4(this.matrixWorld),me=t.ray.origin.distanceTo(k),me<t.near||me>t.far||o.push({distance:me,point:b.clone().applyMatrix4(this.matrixWorld),index:p,face:null,faceIndex:null,object:this}))}},updateMorphTargets:function(){var t=this.geometry;if(t.isBufferGeometry){t=t.morphAttributes;var o=Vc(t);if(0<o.length){var p=t[o[0]];if(p!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,o=p.length;t<o;t++){var g=p[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[g]=t}}}else t=t.morphTargets,t!==void 0&&0<t.length&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var IA=new W,PA=new W;Bh.prototype=Xe(Ge(ev.prototype),{constructor:Bh,isLineSegments:!0,computeLineDistances:function(){var t=this.geometry;if(t.isBufferGeometry)if(t.index===null){for(var o=t.attributes.position,p=[],g=0,b=o.count;g<b;g+=2)IA.fromBufferAttribute(o,g),PA.fromBufferAttribute(o,g+1),p[g]=g===0?0:p[g-1],p[g+1]=p[g]+IA.distanceTo(PA);t.setAttribute("lineDistance",new vi(p,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry)for(o=t.vertices,p=t.lineDistances,g=0,b=o.length;g<b;g+=2)IA.copy(o[g]),PA.copy(o[g+1]),p[g]=g===0?0:p[g-1],p[g+1]=p[g]+IA.distanceTo(PA);return this}}),DC.prototype=Xe(Ge(ev.prototype),{constructor:DC,isLineLoop:!0}),ng.prototype=Ge(Pr.prototype),ng.prototype.constructor=ng,ng.prototype.isPointsMaterial=!0,ng.prototype.copy=function(u){return Pr.prototype.copy.call(this,u),this.color.copy(u.color),this.map=u.map,this.alphaMap=u.alphaMap,this.size=u.size,this.sizeAttenuation=u.sizeAttenuation,this.morphTargets=u.morphTargets,this};var zb=new ae,Q2=new ir,OA=new Bt,RA=new W;C1.prototype=Xe(Ge(Me.prototype),{constructor:C1,isPoints:!0,raycast:function(t,o){var p=this.geometry,g=this.matrixWorld,b=t.params.Points.threshold;if(p.boundingSphere===null&&p.computeBoundingSphere(),OA.copy(p.boundingSphere),OA.applyMatrix4(g),OA.radius+=b,t.ray.intersectsSphere(OA)!==!1)if(zb.getInverse(g),Q2.copy(t.ray).applyMatrix4(zb),b/=(this.scale.x+this.scale.y+this.scale.z)/3,b*=b,p.isBufferGeometry){var _=p.index;if(p=p.attributes.position.array,_!==null){var D=_.array;_=0;for(var k=D.length;_<k;_++){var X=D[_];RA.fromArray(p,3*X),e2(RA,X,b,g,t,o,this)}}else for(_=0,D=p.length/3;_<D;_++)RA.fromArray(p,3*_),e2(RA,_,b,g,t,o,this)}else for(p=p.vertices,_=0,D=p.length;_<D;_++)e2(p[_],_,b,g,t,o,this)},updateMorphTargets:function(){var t=this.geometry;if(t.isBufferGeometry){t=t.morphAttributes;var o=Vc(t);if(0<o.length){var p=t[o[0]];if(p!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,o=p.length;t<o;t++){var g=p[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[g]=t}}}else t=t.morphTargets,t!==void 0&&0<t.length&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),t2.prototype=Xe(Ge(x.prototype),{constructor:t2,isVideoTexture:!0,update:function(){var t=this.image;t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),A1.prototype=Ge(x.prototype),A1.prototype.constructor=A1,A1.prototype.isCompressedTexture=!0,Mx.prototype=Ge(x.prototype),Mx.prototype.constructor=Mx,Mx.prototype.isCanvasTexture=!0,Ex.prototype=Ge(x.prototype),Ex.prototype.constructor=Ex,Ex.prototype.isDepthTexture=!0,w1.prototype=Ge(Kt.prototype),w1.prototype.constructor=w1,Tx.prototype=Ge(Or.prototype),Tx.prototype.constructor=Tx,b1.prototype=Ge(Kt.prototype),b1.prototype.constructor=b1,_x.prototype=Ge(Or.prototype),_x.prototype.constructor=_x,Fm.prototype=Ge(Kt.prototype),Fm.prototype.constructor=Fm,Ix.prototype=Ge(Or.prototype),Ix.prototype.constructor=Ix,S1.prototype=Ge(Fm.prototype),S1.prototype.constructor=S1,Px.prototype=Ge(Or.prototype),Px.prototype.constructor=Px,Dy.prototype=Ge(Fm.prototype),Dy.prototype.constructor=Dy,Ox.prototype=Ge(Or.prototype),Ox.prototype.constructor=Ox,M1.prototype=Ge(Fm.prototype),M1.prototype.constructor=M1,Rx.prototype=Ge(Or.prototype),Rx.prototype.constructor=Rx,E1.prototype=Ge(Fm.prototype),E1.prototype.constructor=E1,Lx.prototype=Ge(Or.prototype),Lx.prototype.constructor=Lx,Ny.prototype=Ge(Kt.prototype),Ny.prototype.constructor=Ny,Ny.prototype.toJSON=function(){var u=Kt.prototype.toJSON.call(this);return u.path=this.parameters.path.toJSON(),u},Dx.prototype=Ge(Or.prototype),Dx.prototype.constructor=Dx,T1.prototype=Ge(Kt.prototype),T1.prototype.constructor=T1,Nx.prototype=Ge(Or.prototype),Nx.prototype.constructor=Nx,_1.prototype=Ge(Kt.prototype),_1.prototype.constructor=_1;var RM={triangulate:function(t,o,p){p=p||2;var g=o&&o.length,b=g?o[0]*p:t.length,_=kw(t,0,b,p,!0),D=[];if(!_||_.next===_.prev)return D;var k;if(g){var X=p;g=[];var $,de=0;for($=o.length;de<$;de++){var ge=o[de]*X,me=de<$-1?o[de+1]*X:t.length;ge=kw(t,ge,me,X,!1),ge===ge.next&&(ge.steiner=!0),g.push(cM(ge))}for(g.sort(lM),de=0;de<g.length;de++)X=g[de],o=_,(o=uM(X,o))&&(X=Vw(o,X),$0(o,o.next),$0(X,X.next)),_=$0(_,_.next)}if(t.length>80*p){var Ee=k=t[0],ke=g=t[1];for(X=p;X<b;X+=p)de=t[X],o=t[X+1],de<Ee&&(Ee=de),o<ke&&(ke=o),de>k&&(k=de),o>g&&(g=o);k=Math.max(k-Ee,g-ke),k=k!==0?1/k:0}return Fx(_,D,p,Ee,ke,k),D}},p0={area:function(t){for(var o=t.length,p=0,g=o-1,b=0;b<o;g=b++)p+=t[g].x*t[b].y-t[b].x*t[g].y;return .5*p},isClockWise:function(t){return 0>p0.area(t)},triangulateShape:function(t,o){var p=[],g=[],b=[];Gw(t),Yw(p,t);var _=t.length;for(o.forEach(Gw),t=0;t<o.length;t++)g.push(_),_+=o[t].length,Yw(p,o[t]);for(o=RM.triangulate(p,g),t=0;t<o.length;t+=3)b.push(o.slice(t,t+3));return b}};Fy.prototype=Ge(Or.prototype),Fy.prototype.constructor=Fy,Fy.prototype.toJSON=function(){var u=Or.prototype.toJSON.call(this);return Xw(this.parameters.shapes,this.parameters.options,u)},Ig.prototype=Ge(Kt.prototype),Ig.prototype.constructor=Ig,Ig.prototype.toJSON=function(){var u=Kt.prototype.toJSON.call(this);return Xw(this.parameters.shapes,this.parameters.options,u)};var LM={generateTopUV:function(t,o,p,g,b){t=o[3*g],g=o[3*g+1];var _=o[3*b];return b=o[3*b+1],[new c(o[3*p],o[3*p+1]),new c(t,g),new c(_,b)]},generateSideWallUV:function(t,o,p,g,b,_){t=o[3*p];var D=o[3*p+1];p=o[3*p+2];var k=o[3*g],X=o[3*g+1];g=o[3*g+2];var $=o[3*b],de=o[3*b+1];b=o[3*b+2];var ge=o[3*_],me=o[3*_+1];return o=o[3*_+2],.01>Math.abs(D-X)?[new c(t,1-p),new c(k,1-g),new c($,1-b),new c(ge,1-o)]:[new c(D,1-p),new c(X,1-g),new c(de,1-b),new c(me,1-o)]}};zx.prototype=Ge(Or.prototype),zx.prototype.constructor=zx,P1.prototype=Ge(Ig.prototype),P1.prototype.constructor=P1,Ux.prototype=Ge(Or.prototype),Ux.prototype.constructor=Ux,By.prototype=Ge(Kt.prototype),By.prototype.constructor=By,kx.prototype=Ge(Or.prototype),kx.prototype.constructor=kx,O1.prototype=Ge(Kt.prototype),O1.prototype.constructor=O1,Hx.prototype=Ge(Or.prototype),Hx.prototype.constructor=Hx,R1.prototype=Ge(Kt.prototype),R1.prototype.constructor=R1,jy.prototype=Ge(Or.prototype),jy.prototype.constructor=jy,jy.prototype.toJSON=function(){var u=Or.prototype.toJSON.call(this);return Kw(this.parameters.shapes,u)},zy.prototype=Ge(Kt.prototype),zy.prototype.constructor=zy,zy.prototype.toJSON=function(){var u=Kt.prototype.toJSON.call(this);return Kw(this.parameters.shapes,u)},L1.prototype=Ge(Kt.prototype),L1.prototype.constructor=L1,Uy.prototype=Ge(Or.prototype),Uy.prototype.constructor=Uy,i0.prototype=Ge(Kt.prototype),i0.prototype.constructor=i0,Vx.prototype=Ge(Uy.prototype),Vx.prototype.constructor=Vx,Wx.prototype=Ge(i0.prototype),Wx.prototype.constructor=Wx,Gx.prototype=Ge(Or.prototype),Gx.prototype.constructor=Gx,D1.prototype=Ge(Kt.prototype),D1.prototype.constructor=D1;var pm=nl({__proto__:null,WireframeGeometry:w1,ParametricGeometry:Tx,ParametricBufferGeometry:b1,TetrahedronGeometry:Ix,TetrahedronBufferGeometry:S1,OctahedronGeometry:Px,OctahedronBufferGeometry:Dy,IcosahedronGeometry:Ox,IcosahedronBufferGeometry:M1,DodecahedronGeometry:Rx,DodecahedronBufferGeometry:E1,PolyhedronGeometry:_x,PolyhedronBufferGeometry:Fm,TubeGeometry:Lx,TubeBufferGeometry:Ny,TorusKnotGeometry:Dx,TorusKnotBufferGeometry:T1,TorusGeometry:Nx,TorusBufferGeometry:_1,TextGeometry:zx,TextBufferGeometry:P1,SphereGeometry:Ux,SphereBufferGeometry:By,RingGeometry:kx,RingBufferGeometry:O1,PlaneGeometry:Rc,PlaneBufferGeometry:df,LatheGeometry:Hx,LatheBufferGeometry:R1,ShapeGeometry:jy,ShapeBufferGeometry:zy,ExtrudeGeometry:Fy,ExtrudeBufferGeometry:Ig,EdgesGeometry:L1,ConeGeometry:Vx,ConeBufferGeometry:Wx,CylinderGeometry:Uy,CylinderBufferGeometry:i0,CircleGeometry:Gx,CircleBufferGeometry:D1,BoxGeometry:X2,BoxBufferGeometry:lC});ky.prototype=Ge(Pr.prototype),ky.prototype.constructor=ky,ky.prototype.isShadowMaterial=!0,ky.prototype.copy=function(u){return Pr.prototype.copy.call(this,u),this.color.copy(u.color),this},o0.prototype=Ge(li.prototype),o0.prototype.constructor=o0,o0.prototype.isRawShaderMaterial=!0,Pg.prototype=Ge(Pr.prototype),Pg.prototype.constructor=Pg,Pg.prototype.isMeshStandardMaterial=!0,Pg.prototype.copy=function(u){return Pr.prototype.copy.call(this,u),this.defines={STANDARD:""},this.color.copy(u.color),this.roughness=u.roughness,this.metalness=u.metalness,this.map=u.map,this.lightMap=u.lightMap,this.lightMapIntensity=u.lightMapIntensity,this.aoMap=u.aoMap,this.aoMapIntensity=u.aoMapIntensity,this.emissive.copy(u.emissive),this.emissiveMap=u.emissiveMap,this.emissiveIntensity=u.emissiveIntensity,this.bumpMap=u.bumpMap,this.bumpScale=u.bumpScale,this.normalMap=u.normalMap,this.normalMapType=u.normalMapType,this.normalScale.copy(u.normalScale),this.displacementMap=u.displacementMap,this.displacementScale=u.displacementScale,this.displacementBias=u.displacementBias,this.roughnessMap=u.roughnessMap,this.metalnessMap=u.metalnessMap,this.alphaMap=u.alphaMap,this.envMap=u.envMap,this.envMapIntensity=u.envMapIntensity,this.refractionRatio=u.refractionRatio,this.wireframe=u.wireframe,this.wireframeLinewidth=u.wireframeLinewidth,this.wireframeLinecap=u.wireframeLinecap,this.wireframeLinejoin=u.wireframeLinejoin,this.skinning=u.skinning,this.morphTargets=u.morphTargets,this.morphNormals=u.morphNormals,this.vertexTangents=u.vertexTangents,this},Hy.prototype=Ge(Pg.prototype),Hy.prototype.constructor=Hy,Hy.prototype.isMeshPhysicalMaterial=!0,Hy.prototype.copy=function(u){return Pg.prototype.copy.call(this,u),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=u.clearcoat,this.clearcoatMap=u.clearcoatMap,this.clearcoatRoughness=u.clearcoatRoughness,this.clearcoatRoughnessMap=u.clearcoatRoughnessMap,this.clearcoatNormalMap=u.clearcoatNormalMap,this.clearcoatNormalScale.copy(u.clearcoatNormalScale),this.reflectivity=u.reflectivity,this.sheen=u.sheen?(this.sheen||new wt).copy(u.sheen):null,this.transparency=u.transparency,this},ey.prototype=Ge(Pr.prototype),ey.prototype.constructor=ey,ey.prototype.isMeshPhongMaterial=!0,ey.prototype.copy=function(u){return Pr.prototype.copy.call(this,u),this.color.copy(u.color),this.specular.copy(u.specular),this.shininess=u.shininess,this.map=u.map,this.lightMap=u.lightMap,this.lightMapIntensity=u.lightMapIntensity,this.aoMap=u.aoMap,this.aoMapIntensity=u.aoMapIntensity,this.emissive.copy(u.emissive),this.emissiveMap=u.emissiveMap,this.emissiveIntensity=u.emissiveIntensity,this.bumpMap=u.bumpMap,this.bumpScale=u.bumpScale,this.normalMap=u.normalMap,this.normalMapType=u.normalMapType,this.normalScale.copy(u.normalScale),this.displacementMap=u.displacementMap,this.displacementScale=u.displacementScale,this.displacementBias=u.displacementBias,this.specularMap=u.specularMap,this.alphaMap=u.alphaMap,this.envMap=u.envMap,this.combine=u.combine,this.reflectivity=u.reflectivity,this.refractionRatio=u.refractionRatio,this.wireframe=u.wireframe,this.wireframeLinewidth=u.wireframeLinewidth,this.wireframeLinecap=u.wireframeLinecap,this.wireframeLinejoin=u.wireframeLinejoin,this.skinning=u.skinning,this.morphTargets=u.morphTargets,this.morphNormals=u.morphNormals,this},Vy.prototype=Ge(Pr.prototype),Vy.prototype.constructor=Vy,Vy.prototype.isMeshToonMaterial=!0,Vy.prototype.copy=function(u){return Pr.prototype.copy.call(this,u),this.color.copy(u.color),this.specular.copy(u.specular),this.shininess=u.shininess,this.map=u.map,this.gradientMap=u.gradientMap,this.lightMap=u.lightMap,this.lightMapIntensity=u.lightMapIntensity,this.aoMap=u.aoMap,this.aoMapIntensity=u.aoMapIntensity,this.emissive.copy(u.emissive),this.emissiveMap=u.emissiveMap,this.emissiveIntensity=u.emissiveIntensity,this.bumpMap=u.bumpMap,this.bumpScale=u.bumpScale,this.normalMap=u.normalMap,this.normalMapType=u.normalMapType,this.normalScale.copy(u.normalScale),this.displacementMap=u.displacementMap,this.displacementScale=u.displacementScale,this.displacementBias=u.displacementBias,this.specularMap=u.specularMap,this.alphaMap=u.alphaMap,this.wireframe=u.wireframe,this.wireframeLinewidth=u.wireframeLinewidth,this.wireframeLinecap=u.wireframeLinecap,this.wireframeLinejoin=u.wireframeLinejoin,this.skinning=u.skinning,this.morphTargets=u.morphTargets,this.morphNormals=u.morphNormals,this},Wy.prototype=Ge(Pr.prototype),Wy.prototype.constructor=Wy,Wy.prototype.isMeshNormalMaterial=!0,Wy.prototype.copy=function(u){return Pr.prototype.copy.call(this,u),this.bumpMap=u.bumpMap,this.bumpScale=u.bumpScale,this.normalMap=u.normalMap,this.normalMapType=u.normalMapType,this.normalScale.copy(u.normalScale),this.displacementMap=u.displacementMap,this.displacementScale=u.displacementScale,this.displacementBias=u.displacementBias,this.wireframe=u.wireframe,this.wireframeLinewidth=u.wireframeLinewidth,this.skinning=u.skinning,this.morphTargets=u.morphTargets,this.morphNormals=u.morphNormals,this},Gy.prototype=Ge(Pr.prototype),Gy.prototype.constructor=Gy,Gy.prototype.isMeshLambertMaterial=!0,Gy.prototype.copy=function(u){return Pr.prototype.copy.call(this,u),this.color.copy(u.color),this.map=u.map,this.lightMap=u.lightMap,this.lightMapIntensity=u.lightMapIntensity,this.aoMap=u.aoMap,this.aoMapIntensity=u.aoMapIntensity,this.emissive.copy(u.emissive),this.emissiveMap=u.emissiveMap,this.emissiveIntensity=u.emissiveIntensity,this.specularMap=u.specularMap,this.alphaMap=u.alphaMap,this.envMap=u.envMap,this.combine=u.combine,this.reflectivity=u.reflectivity,this.refractionRatio=u.refractionRatio,this.wireframe=u.wireframe,this.wireframeLinewidth=u.wireframeLinewidth,this.wireframeLinecap=u.wireframeLinecap,this.wireframeLinejoin=u.wireframeLinejoin,this.skinning=u.skinning,this.morphTargets=u.morphTargets,this.morphNormals=u.morphNormals,this},Yy.prototype=Ge(Pr.prototype),Yy.prototype.constructor=Yy,Yy.prototype.isMeshMatcapMaterial=!0,Yy.prototype.copy=function(u){return Pr.prototype.copy.call(this,u),this.defines={MATCAP:""},this.color.copy(u.color),this.matcap=u.matcap,this.map=u.map,this.bumpMap=u.bumpMap,this.bumpScale=u.bumpScale,this.normalMap=u.normalMap,this.normalMapType=u.normalMapType,this.normalScale.copy(u.normalScale),this.displacementMap=u.displacementMap,this.displacementScale=u.displacementScale,this.displacementBias=u.displacementBias,this.alphaMap=u.alphaMap,this.skinning=u.skinning,this.morphTargets=u.morphTargets,this.morphNormals=u.morphNormals,this},Xy.prototype=Ge(bh.prototype),Xy.prototype.constructor=Xy,Xy.prototype.isLineDashedMaterial=!0,Xy.prototype.copy=function(u){return bh.prototype.copy.call(this,u),this.scale=u.scale,this.dashSize=u.dashSize,this.gapSize=u.gapSize,this};var DM=nl({__proto__:null,ShadowMaterial:ky,SpriteMaterial:q0,RawShaderMaterial:o0,ShaderMaterial:li,PointsMaterial:ng,MeshPhysicalMaterial:Hy,MeshStandardMaterial:Pg,MeshPhongMaterial:ey,MeshToonMaterial:Vy,MeshNormalMaterial:Wy,MeshLambertMaterial:Gy,MeshDepthMaterial:J0,MeshDistanceMaterial:Q0,MeshBasicMaterial:Fo,MeshMatcapMaterial:Yy,LineDashedMaterial:Xy,LineBasicMaterial:bh,Material:Pr}),Sh={arraySlice:function(t,o,p){return Sh.isTypedArray(t)?new t.constructor(t.subarray(o,p!==void 0?p:t.length)):t.slice(o,p)},convertArray:function(t,o,p){return!t||!p&&t.constructor===o?t:typeof o.BYTES_PER_ELEMENT=="number"?new o(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var o=t.length,p=Array(o),g=0;g!==o;++g)p[g]=g;return p.sort(function(b,_){return t[b]-t[_]}),p},sortedArray:function(t,o,p){for(var g=t.length,b=new t.constructor(g),_=0,D=0;D!==g;++_)for(var k=p[_]*o,X=0;X!==o;++X)b[D++]=t[k+X];return b},flattenJSON:function(t,o,p,g){for(var b=1,_=t[0];_!==void 0&&_[g]===void 0;)_=t[b++];if(_!==void 0){var D=_[g];if(D!==void 0)if(Array.isArray(D))do D=_[g],D!==void 0&&(o.push(_.time),p.push.apply(p,D)),_=t[b++];while(_!==void 0);else if(D.toArray!==void 0)do D=_[g],D!==void 0&&(o.push(_.time),D.toArray(p,p.length)),_=t[b++];while(_!==void 0);else do D=_[g],D!==void 0&&(o.push(_.time),p.push(D)),_=t[b++];while(_!==void 0)}},subclip:function(t,o,p,g,b){b=b||30,t=t.clone(),t.name=o;var _=[];for(o=0;o<t.tracks.length;++o){for(var D=t.tracks[o],k=D.getValueSize(),X=[],$=[],de=0;de<D.times.length;++de){var ge=D.times[de]*b;if(!(ge<p||ge>=g))for(X.push(D.times[de]),ge=0;ge<k;++ge)$.push(D.values[de*k+ge])}X.length!==0&&(D.times=Sh.convertArray(X,D.times.constructor),D.values=Sh.convertArray($,D.values.constructor),_.push(D))}for(t.tracks=_,p=Infinity,o=0;o<t.tracks.length;++o)p>t.tracks[o].times[0]&&(p=t.tracks[o].times[0]);for(o=0;o<t.tracks.length;++o)t.tracks[o].shift(-1*p);return t.resetDuration(),t},makeClipAdditive:function(t,o,p,g){o===void 0&&(o=0),p===void 0&&(p=t),(g===void 0||0>=g)&&(g=30);var b=t.tracks.length;for(o/=g,g=0;g<b;++g){var _=p.tracks[g],D=_.ValueTypeName;if(D!=="bool"&&D!=="string"){var k=t.tracks.find(function(ke){return ke.name===_.name&&ke.ValueTypeName===D});if(k!==void 0){var X=_.getValueSize(),$=_.times.length-1;o<=_.times[0]?$=Sh.arraySlice(_.values,0,_.valueSize):o>=_.times[$]?$=Sh.arraySlice(_.values,$*X):($=_.createInterpolant(),$.evaluate(o),$=$.resultBuffer),D==="quaternion"&&new G($[0],$[1],$[2],$[3]).normalize().conjugate().toArray($);for(var de=k.times.length,ge=0;ge<de;++ge){var me=ge*X;if(D==="quaternion")G.multiplyQuaternionsFlat(k.values,me,$,0,k.values,me);else for(var Ee=0;Ee<X;++Ee)k.values[me+Ee]-=$[Ee]}}}}return t.blendMode=2501,t}};Xe(tv.prototype,{evaluate:function(t){var o=this.parameterPositions,p=this._cachedIndex,g=o[p],b=o[p-1];e:{t:{r:{n:if(!(t<g)){for(var _=p+2;;){if(g===void 0){if(t<b)break n;return this._cachedIndex=p=o.length,this.afterEnd_(p-1,t,b)}if(p===_)break;if(b=g,g=o[++p],t<g)break t}g=o.length;break r}if(t>=b)break e;for(_=o[1],t<_&&(p=2,b=_),_=p-2;;){if(b===void 0)return this._cachedIndex=0,this.beforeStart_(0,t,g);if(p===_)break;if(g=b,b=o[--p-1],t>=b)break t}g=p,p=0}for(;p<g;)b=p+g>>>1,t<o[b]?g=b:p=b+1;if(g=o[p],b=o[p-1],b===void 0)return this._cachedIndex=0,this.beforeStart_(0,t,g);if(g===void 0)return this._cachedIndex=p=o.length,this.afterEnd_(p-1,b,t)}this._cachedIndex=p,this.intervalChanged_(p,b,g)}return this.interpolate_(p,b,t,g)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){var o=this.resultBuffer,p=this.sampleValues,g=this.valueSize;t*=g;for(var b=0;b!==g;++b)o[b]=p[t+b];return o},interpolate_:function(){throw Error("call to abstract method")},intervalChanged_:function(){}}),Xe(tv.prototype,{beforeStart_:tv.prototype.copySampleValue_,afterEnd_:tv.prototype.copySampleValue_}),jC.prototype=Xe(Ge(tv.prototype),{constructor:jC,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(t,o,p){var g=this.parameterPositions,b=t-2,_=t+1,D=g[b],k=g[_];if(D===void 0)switch(this.getSettings_().endingStart){case 2401:b=t,D=2*o-p;break;case 2402:b=g.length-2,D=o+g[b]-g[b+1];break;default:b=t,D=p}if(k===void 0)switch(this.getSettings_().endingEnd){case 2401:_=t,k=2*p-o;break;case 2402:_=1,k=p+g[1]-g[0];break;default:_=t-1,k=o}t=.5*(p-o),g=this.valueSize,this._weightPrev=t/(o-D),this._weightNext=t/(k-p),this._offsetPrev=b*g,this._offsetNext=_*g},interpolate_:function(t,o,p,g){var b=this.resultBuffer,_=this.sampleValues,D=this.valueSize;t*=D;var k=t-D,X=this._offsetPrev,$=this._offsetNext,de=this._weightPrev,ge=this._weightNext,me=(p-o)/(g-o);for(p=me*me,g=p*me,o=-de*g+2*de*p-de*me,de=(1+de)*g+(-1.5-2*de)*p+(-.5+de)*me+1,me=(-1-ge)*g+(1.5+ge)*p+.5*me,ge=ge*g-ge*p,p=0;p!==D;++p)b[p]=o*_[X+p]+de*_[k+p]+me*_[t+p]+ge*_[$+p];return b}}),Yx.prototype=Xe(Ge(tv.prototype),{constructor:Yx,interpolate_:function(t,o,p,g){var b=this.resultBuffer,_=this.sampleValues,D=this.valueSize;t*=D;var k=t-D;for(o=(p-o)/(g-o),p=1-o,g=0;g!==D;++g)b[g]=_[k+g]*p+_[t+g]*o;return b}}),zC.prototype=Xe(Ge(tv.prototype),{constructor:zC,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Xe(Lp,{toJSON:function(t){var o=t.constructor;if(o.toJSON!==void 0)o=o.toJSON(t);else{o={name:t.name,times:Sh.convertArray(t.times,Array),values:Sh.convertArray(t.values,Array)};var p=t.getInterpolation();p!==t.DefaultInterpolation&&(o.interpolation=p)}return o.type=t.ValueTypeName,o}}),Xe(Lp.prototype,{constructor:Lp,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(t){return new zC(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Yx(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new jC(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){switch(t){case 2300:var o=this.InterpolantFactoryMethodDiscrete;break;case 2301:o=this.InterpolantFactoryMethodLinear;break;case 2302:o=this.InterpolantFactoryMethodSmooth}if(o===void 0){if(o="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name,this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw Error(o);return console.warn("THREE.KeyframeTrack:",o),this}return this.createInterpolant=o,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(t!==0)for(var o=this.times,p=0,g=o.length;p!==g;++p)o[p]+=t;return this},scale:function(t){if(t!==1)for(var o=this.times,p=0,g=o.length;p!==g;++p)o[p]*=t;return this},trim:function(t,o){for(var p=this.times,g=p.length,b=0,_=g-1;b!==g&&p[b]<t;)++b;for(;_!==-1&&p[_]>o;)--_;return++_,(b!==0||_!==g)&&(b>=_&&(_=Math.max(_,1),b=_-1),t=this.getValueSize(),this.times=Sh.arraySlice(p,b,_),this.values=Sh.arraySlice(this.values,b*t,_*t)),this},validate:function(){var t=!0,o=this.getValueSize();o-Math.floor(o)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);var p=this.times;o=this.values;var g=p.length;g===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var b=null,_=0;_!==g;_++){var D=p[_];if(typeof D=="number"&&isNaN(D)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,_,D),t=!1;break}if(b!==null&&b>D){console.error("THREE.KeyframeTrack: Out of order keys.",this,_,D,b),t=!1;break}b=D}if(o!==void 0&&Sh.isTypedArray(o)){for(_=0,p=o.length;_!==p;++_)if(g=o[_],isNaN(g)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,_,g),t=!1;break}}return t},optimize:function(){for(var t=Sh.arraySlice(this.times),o=Sh.arraySlice(this.values),p=this.getValueSize(),g=this.getInterpolation()===2302,b=1,_=t.length-1,D=1;D<_;++D){var k=!1,X=t[D];if(X!==t[D+1]&&(D!==1||X!==X[0]))if(g)k=!0;else{var $=D*p,de=$-p,ge=$+p;for(X=0;X!==p;++X){var me=o[$+X];if(me!==o[de+X]||me!==o[ge+X]){k=!0;break}}}if(k){if(D!==b)for(t[b]=t[D],k=D*p,$=b*p,X=0;X!==p;++X)o[$+X]=o[k+X];++b}}if(0<_){for(t[b]=t[_],k=_*p,$=b*p,X=0;X!==p;++X)o[$+X]=o[k+X];++b}return b!==t.length?(this.times=Sh.arraySlice(t,0,b),this.values=Sh.arraySlice(o,0,b*p)):(this.times=t,this.values=o),this},clone:function(){var t=Sh.arraySlice(this.times,0),o=Sh.arraySlice(this.values,0);return t=new this.constructor(this.name,t,o),t.createInterpolant=this.createInterpolant,t}}),UC.prototype=Xe(Ge(Lp.prototype),{constructor:UC,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),kC.prototype=Xe(Ge(Lp.prototype),{constructor:kC,ValueTypeName:"color"}),N1.prototype=Xe(Ge(Lp.prototype),{constructor:N1,ValueTypeName:"number"}),HC.prototype=Xe(Ge(tv.prototype),{constructor:HC,interpolate_:function(t,o,p,g){var b=this.resultBuffer,_=this.sampleValues,D=this.valueSize;for(t*=D,o=(p-o)/(g-o),p=t+D;t!==p;t+=4)G.slerpFlat(b,0,_,t-D,_,t,o);return b}}),Xx.prototype=Xe(Ge(Lp.prototype),{constructor:Xx,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(t){return new HC(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),VC.prototype=Xe(Ge(Lp.prototype),{constructor:VC,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),F1.prototype=Xe(Ge(Lp.prototype),{constructor:F1,ValueTypeName:"vector"}),Xe(Ov,{parse:function(t){for(var o=[],p=t.tracks,g=1/(t.fps||1),b=0,_=p.length;b!==_;++b)o.push(hM(p[b]).scale(g));return new Ov(t.name,t.duration,o,t.blendMode)},toJSON:function(t){var o=[],p=t.tracks;t={name:t.name,duration:t.duration,tracks:o,uuid:t.uuid,blendMode:t.blendMode};for(var g=0,b=p.length;g!==b;++g)o.push(Lp.toJSON(p[g]));return t},CreateFromMorphTargetSequence:function(t,o,p,g){for(var b=o.length,_=[],D=0;D<b;D++){var k=[],X=[];k.push((D+b-1)%b,D,(D+1)%b),X.push(0,1,0);var $=Sh.getKeyframeOrder(k);k=Sh.sortedArray(k,1,$),X=Sh.sortedArray(X,1,$),g||k[0]!==0||(k.push(b),X.push(X[0])),_.push(new N1(".morphTargetInfluences["+o[D].name+"]",k,X).scale(1/p))}return new Ov(t,-1,_)},findByName:function(t,o){var p=t;for(Array.isArray(t)||(p=t.geometry&&t.geometry.animations||t.animations),t=0;t<p.length;t++)if(p[t].name===o)return p[t];return null},CreateClipsFromMorphTargetSequences:function(t,o,p){for(var g={},b=/^([\w-]*?)([\d]+)$/,_=0,D=t.length;_<D;_++){var k=t[_],X=k.name.match(b);if(X&&1<X.length){var $=X[1];(X=g[$])||(g[$]=X=[]),X.push(k)}}t=[];for($ in g)t.push(Ov.CreateFromMorphTargetSequence($,g[$],o,p));return t},parseAnimation:function(t,o){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;var p=function(Qt,er,dr,gn,Zr){if(dr.length!==0){var lr=[],ii=[];Sh.flattenJSON(dr,lr,ii,gn),lr.length!==0&&Zr.push(new Qt(er,lr,ii))}},g=[],b=t.name||"default",_=t.length||-1,D=t.fps||30,k=t.blendMode;t=t.hierarchy||[];for(var X=0;X<t.length;X++){var $=t[X].keys;if($&&$.length!==0)if($[0].morphTargets){_={};for(var de=0;de<$.length;de++)if($[de].morphTargets)for(var ge=0;ge<$[de].morphTargets.length;ge++)_[$[de].morphTargets[ge]]=-1;for(var me in _){var Ee=[],ke=[];for(ge=0;ge!==$[de].morphTargets.length;++ge){var xt=$[de];Ee.push(xt.time),ke.push(xt.morphTarget===me?1:0)}g.push(new N1(".morphTargetInfluence["+me+"]",Ee,ke))}_=_.length*(D||1)}else de=".bones["+o[X].name+"]",p(F1,de+".position",$,"pos",g),p(Xx,de+".quaternion",$,"rot",g),p(F1,de+".scale",$,"scl",g)}return g.length===0?null:new Ov(b,_,g,k)}}),Xe(Ov.prototype,{resetDuration:function(){for(var t=0,o=0,p=this.tracks.length;o!==p;++o){var g=this.tracks[o];t=Math.max(t,g.times[g.times.length-1])}return this.duration=t,this},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){for(var t=!0,o=0;o<this.tracks.length;o++)t=t&&this.tracks[o].validate();return t},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){for(var t=[],o=0;o<this.tracks.length;o++)t.push(this.tracks[o].clone());return new Ov(this.name,this.duration,t,this.blendMode)}});var $y={enabled:!1,files:{},add:function(t,o){this.enabled!==!1&&(this.files[t]=o)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},Ub=new i2;Xe(Lc.prototype,{load:function(){},loadAsync:function(t,o){var p=this;return new _s(function(g,b){p.load(t,g,o,b)})},parse:function(){},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}});var hg={};Rv.prototype=Xe(Ge(Lc.prototype),{constructor:Rv,load:function(t,o,p,g){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);var b=this,_=$y.get(t);if(_!==void 0)return b.manager.itemStart(t),setTimeout(function(){o&&o(_),b.manager.itemEnd(t)},0),_;if(hg[t]!==void 0)hg[t].push({onLoad:o,onProgress:p,onError:g});else{var D=t.match(/^data:(.*?)(;base64)?,(.*)$/);if(D){p=D[1];var k=!!D[2];D=D[3],D=decodeURIComponent(D),k&&(D=atob(D));try{var X=(this.responseType||"").toLowerCase();switch(X){case"arraybuffer":case"blob":var $=new Uint8Array(D.length);for(k=0;k<D.length;k++)$[k]=D.charCodeAt(k);var de=X==="blob"?new Blob([$.buffer],{type:p}):$.buffer;break;case"document":de=new DOMParser().parseFromString(D,p);break;case"json":de=JSON.parse(D);break;default:de=D}setTimeout(function(){o&&o(de),b.manager.itemEnd(t)},0)}catch(me){setTimeout(function(){g&&g(me),b.manager.itemError(t),b.manager.itemEnd(t)},0)}}else{hg[t]=[],hg[t].push({onLoad:o,onProgress:p,onError:g});var ge=new XMLHttpRequest;ge.open("GET",t,!0),ge.addEventListener("load",function(me){var Ee=this.response,ke=hg[t];if(delete hg[t],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),$y.add(t,Ee);for(var xt=0,qt=ke.length;xt<qt;xt++){var Qt=ke[xt];Qt.onLoad&&Qt.onLoad(Ee)}}else{for(xt=0,qt=ke.length;xt<qt;xt++)Qt=ke[xt],Qt.onError&&Qt.onError(me);b.manager.itemError(t)}b.manager.itemEnd(t)},!1),ge.addEventListener("progress",function(me){for(var Ee=hg[t],ke=0,xt=Ee.length;ke<xt;ke++){var qt=Ee[ke];qt.onProgress&&qt.onProgress(me)}},!1),ge.addEventListener("error",function(me){var Ee=hg[t];delete hg[t];for(var ke=0,xt=Ee.length;ke<xt;ke++){var qt=Ee[ke];qt.onError&&qt.onError(me)}b.manager.itemError(t),b.manager.itemEnd(t)},!1),ge.addEventListener("abort",function(me){var Ee=hg[t];delete hg[t];for(var ke=0,xt=Ee.length;ke<xt;ke++){var qt=Ee[ke];qt.onError&&qt.onError(me)}b.manager.itemError(t),b.manager.itemEnd(t)},!1),this.responseType!==void 0&&(ge.responseType=this.responseType),this.withCredentials!==void 0&&(ge.withCredentials=this.withCredentials),ge.overrideMimeType&&ge.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(k in this.requestHeader)ge.setRequestHeader(k,this.requestHeader[k]);ge.send(null)}return b.manager.itemStart(t),ge}},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this}}),o2.prototype=Xe(Ge(Lc.prototype),{constructor:o2,load:function(t,o,p,g){var b=this,_=new Rv(b.manager);_.setPath(b.path),_.load(t,function(D){try{o(b.parse(JSON.parse(D)))}catch(k){g?g(k):console.error(k),b.manager.itemError(t)}},p,g)},parse:function(t){for(var o=[],p=0;p<t.length;p++){var g=Ov.parse(t[p]);o.push(g)}return o}}),a2.prototype=Xe(Ge(Lc.prototype),{constructor:a2,load:function(t,o,p,g){function b(me){X.load(t[me],function(Ee){Ee=_.parse(Ee,!0),D[me]={width:Ee.width,height:Ee.height,format:Ee.format,mipmaps:Ee.mipmaps},$+=1,$===6&&(Ee.mipmapCount===1&&(k.minFilter=1006),k.format=Ee.format,k.needsUpdate=!0,o&&o(k))},p,g)}var _=this,D=[],k=new A1;k.image=D;var X=new Rv(this.manager);if(X.setPath(this.path),X.setResponseType("arraybuffer"),Array.isArray(t))for(var $=0,de=0,ge=t.length;de<ge;++de)b(de);else X.load(t,function(me){if(me=_.parse(me,!0),me.isCubemap)for(var Ee=me.mipmaps.length/me.mipmapCount,ke=0;ke<Ee;ke++){D[ke]={mipmaps:[]};for(var xt=0;xt<me.mipmapCount;xt++)D[ke].mipmaps.push(me.mipmaps[ke*me.mipmapCount+xt]),D[ke].format=me.format,D[ke].width=me.width,D[ke].height=me.height}else k.image.width=me.width,k.image.height=me.height,k.mipmaps=me.mipmaps;me.mipmapCount===1&&(k.minFilter=1006),k.format=me.format,k.needsUpdate=!0,o&&o(k)},p,g);return k}}),WC.prototype=Xe(Ge(Lc.prototype),{constructor:WC,load:function(t,o,p,g){var b=this,_=new Dn,D=new Rv(this.manager);return D.setResponseType("arraybuffer"),D.setPath(this.path),D.load(t,function(k){(k=b.parse(k))&&(k.image!==void 0?_.image=k.image:k.data!==void 0&&(_.image.width=k.width,_.image.height=k.height,_.image.data=k.data),_.wrapS=k.wrapS!==void 0?k.wrapS:1001,_.wrapT=k.wrapT!==void 0?k.wrapT:1001,_.magFilter=k.magFilter!==void 0?k.magFilter:1006,_.minFilter=k.minFilter!==void 0?k.minFilter:1006,_.anisotropy=k.anisotropy!==void 0?k.anisotropy:1,k.format!==void 0&&(_.format=k.format),k.type!==void 0&&(_.type=k.type),k.mipmaps!==void 0&&(_.mipmaps=k.mipmaps,_.minFilter=1008),k.mipmapCount===1&&(_.minFilter=1006),_.needsUpdate=!0,o&&o(_,k))},p,g),_}}),B1.prototype=Xe(Ge(Lc.prototype),{constructor:B1,load:function(t,o,p,g){function b(){X.removeEventListener("load",b,!1),X.removeEventListener("error",_,!1),$y.add(t,this),o&&o(this),D.manager.itemEnd(t)}function _($){X.removeEventListener("load",b,!1),X.removeEventListener("error",_,!1),g&&g($),D.manager.itemError(t),D.manager.itemEnd(t)}this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);var D=this,k=$y.get(t);if(k!==void 0)return D.manager.itemStart(t),setTimeout(function(){o&&o(k),D.manager.itemEnd(t)},0),k;var X=document.createElementNS("http://www.w3.org/1999/xhtml","img");return X.addEventListener("load",b,!1),X.addEventListener("error",_,!1),t.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(X.crossOrigin=this.crossOrigin),D.manager.itemStart(t),X.src=t,X}}),GC.prototype=Xe(Ge(Lc.prototype),{constructor:GC,load:function(t,o,p,g){function b(X){D.load(t[X],function($){_.images[X]=$,k++,k===6&&(_.needsUpdate=!0,o&&o(_))},void 0,g)}var _=new Iv,D=new B1(this.manager);D.setCrossOrigin(this.crossOrigin),D.setPath(this.path);var k=0;for(p=0;p<t.length;++p)b(p);return _}}),YC.prototype=Xe(Ge(Lc.prototype),{constructor:YC,load:function(t,o,p,g){var b=new x,_=new B1(this.manager);return _.setCrossOrigin(this.crossOrigin),_.setPath(this.path),_.load(t,function(D){b.image=D,D=0<t.search(/\.jpe?g($|\?)/i)||t.search(/^data:image\/jpeg/)===0,b.format=D?1022:1023,b.needsUpdate=!0,o!==void 0&&o(b)},p,g),b}}),Xe(Ya.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,o){return t=this.getUtoTmapping(t),this.getPoint(t,o)},getPoints:function(t){t===void 0&&(t=5);for(var o=[],p=0;p<=t;p++)o.push(this.getPoint(p/t));return o},getSpacedPoints:function(t){t===void 0&&(t=5);for(var o=[],p=0;p<=t;p++)o.push(this.getPointAt(p/t));return o},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(t===void 0&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var o=[],p=this.getPoint(0),g,b=0;for(o.push(0),g=1;g<=t;g++){var _=this.getPoint(g/t);b+=_.distanceTo(p),o.push(b),p=_}return this.cacheArcLengths=o},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,o){var p=this.getLengths(),g=p.length;o=o||t*p[g-1];for(var b=0,_=g-1,D;b<=_;)if(t=Math.floor(b+(_-b)/2),D=p[t]-o,0>D)b=t+1;else if(0<D)_=t-1;else{_=t;break}return t=_,p[t]===o?t/(g-1):(b=p[t],(t+(o-b)/(p[t+1]-b))/(g-1))},getTangent:function(t,o){var p=t-1e-4;return t+=1e-4,0>p&&(p=0),1<t&&(t=1),p=this.getPoint(p),t=this.getPoint(t),o=o||(p.isVector2?new c:new W),o.copy(t).sub(p).normalize(),o},getTangentAt:function(t,o){return t=this.getUtoTmapping(t),this.getTangent(t,o)},computeFrenetFrames:function(t,o){var p=new W,g=[],b=[],_=[],D=new W,k=new ae,X;for(X=0;X<=t;X++){var $=X/t;g[X]=this.getTangentAt($,new W),g[X].normalize()}b[0]=new W,_[0]=new W,X=Number.MAX_VALUE,$=Math.abs(g[0].x);var de=Math.abs(g[0].y),ge=Math.abs(g[0].z);for($<=X&&(X=$,p.set(1,0,0)),de<=X&&(X=de,p.set(0,1,0)),ge<=X&&p.set(0,0,1),D.crossVectors(g[0],p).normalize(),b[0].crossVectors(g[0],D),_[0].crossVectors(g[0],b[0]),X=1;X<=t;X++)b[X]=b[X-1].clone(),_[X]=_[X-1].clone(),D.crossVectors(g[X-1],g[X]),D.length()>Ic&&(D.normalize(),p=Math.acos(Ll.clamp(g[X-1].dot(g[X]),-1,1)),b[X].applyMatrix4(k.makeRotationAxis(D,p))),_[X].crossVectors(g[X],b[X]);if(o===!0)for(p=Math.acos(Ll.clamp(b[0].dot(b[t]),-1,1)),p/=t,0<g[0].dot(D.crossVectors(b[0],b[t]))&&(p=-p),X=1;X<=t;X++)b[X].applyMatrix4(k.makeRotationAxis(g[X],p*X)),_[X].crossVectors(g[X],b[X]);return{tangents:g,normals:b,binormals:_}},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),rv.prototype=Ge(Ya.prototype),rv.prototype.constructor=rv,rv.prototype.isEllipseCurve=!0,rv.prototype.getPoint=function(u,t){t=t||new c;for(var o=2*Math.PI,p=this.aEndAngle-this.aStartAngle,g=Math.abs(p)<Ic;0>p;)p+=o;for(;p>o;)p-=o;p<Ic&&(p=g?0:o),this.aClockwise!==!0||g||(p=p===o?-o:p-o),o=this.aStartAngle+u*p,u=this.aX+this.xRadius*Math.cos(o);var b=this.aY+this.yRadius*Math.sin(o);return this.aRotation!==0&&(o=Math.cos(this.aRotation),p=Math.sin(this.aRotation),g=u-this.aX,b-=this.aY,u=g*o-b*p+this.aX,b=g*p+b*o+this.aY),t.set(u,b)},rv.prototype.copy=function(u){return Ya.prototype.copy.call(this,u),this.aX=u.aX,this.aY=u.aY,this.xRadius=u.xRadius,this.yRadius=u.yRadius,this.aStartAngle=u.aStartAngle,this.aEndAngle=u.aEndAngle,this.aClockwise=u.aClockwise,this.aRotation=u.aRotation,this},rv.prototype.toJSON=function(){var u=Ya.prototype.toJSON.call(this);return u.aX=this.aX,u.aY=this.aY,u.xRadius=this.xRadius,u.yRadius=this.yRadius,u.aStartAngle=this.aStartAngle,u.aEndAngle=this.aEndAngle,u.aClockwise=this.aClockwise,u.aRotation=this.aRotation,u},rv.prototype.fromJSON=function(u){return Ya.prototype.fromJSON.call(this,u),this.aX=u.aX,this.aY=u.aY,this.xRadius=u.xRadius,this.yRadius=u.yRadius,this.aStartAngle=u.aStartAngle,this.aEndAngle=u.aEndAngle,this.aClockwise=u.aClockwise,this.aRotation=u.aRotation,this},j1.prototype=Ge(rv.prototype),j1.prototype.constructor=j1,j1.prototype.isArcCurve=!0;var LA=new W,q2=new s2,$2=new s2,ew=new s2;Gp.prototype=Ge(Ya.prototype),Gp.prototype.constructor=Gp,Gp.prototype.isCatmullRomCurve3=!0,Gp.prototype.getPoint=function(u,t){t=t||new W;var o=this.points,p=o.length;u*=p-(this.closed?0:1);var g=Math.floor(u);if(u-=g,this.closed?g+=0<g?0:(Math.floor(Math.abs(g)/p)+1)*p:u===0&&g===p-1&&(g=p-2,u=1),this.closed||0<g)var b=o[(g-1)%p];else LA.subVectors(o[0],o[1]).add(o[0]),b=LA;var _=o[g%p],D=o[(g+1)%p];if(this.closed||g+2<p?o=o[(g+2)%p]:(LA.subVectors(o[p-1],o[p-2]).add(o[p-1]),o=LA),this.curveType==="centripetal"||this.curveType==="chordal"){var k=this.curveType==="chordal"?.5:.25;p=Math.pow(b.distanceToSquared(_),k),g=Math.pow(_.distanceToSquared(D),k),k=Math.pow(D.distanceToSquared(o),k),1e-4>g&&(g=1),1e-4>p&&(p=g),1e-4>k&&(k=g),q2.initNonuniformCatmullRom(b.x,_.x,D.x,o.x,p,g,k),$2.initNonuniformCatmullRom(b.y,_.y,D.y,o.y,p,g,k),ew.initNonuniformCatmullRom(b.z,_.z,D.z,o.z,p,g,k)}else this.curveType==="catmullrom"&&(q2.initCatmullRom(b.x,_.x,D.x,o.x,this.tension),$2.initCatmullRom(b.y,_.y,D.y,o.y,this.tension),ew.initCatmullRom(b.z,_.z,D.z,o.z,this.tension));return t.set(q2.calc(u),$2.calc(u),ew.calc(u)),t},Gp.prototype.copy=function(u){Ya.prototype.copy.call(this,u),this.points=[];for(var t=0,o=u.points.length;t<o;t++)this.points.push(u.points[t].clone());return this.closed=u.closed,this.curveType=u.curveType,this.tension=u.tension,this},Gp.prototype.toJSON=function(){var u=Ya.prototype.toJSON.call(this);u.points=[];for(var t=0,o=this.points.length;t<o;t++)u.points.push(this.points[t].toArray());return u.closed=this.closed,u.curveType=this.curveType,u.tension=this.tension,u},Gp.prototype.fromJSON=function(u){Ya.prototype.fromJSON.call(this,u),this.points=[];for(var t=0,o=u.points.length;t<o;t++){var p=u.points[t];this.points.push(new W().fromArray(p))}return this.closed=u.closed,this.curveType=u.curveType,this.tension=u.tension,this},ig.prototype=Ge(Ya.prototype),ig.prototype.constructor=ig,ig.prototype.isCubicBezierCurve=!0,ig.prototype.getPoint=function(u,t){t=t||new c;var o=this.v0,p=this.v1,g=this.v2,b=this.v3;return t.set(Zx(u,o.x,p.x,g.x,b.x),Zx(u,o.y,p.y,g.y,b.y)),t},ig.prototype.copy=function(u){return Ya.prototype.copy.call(this,u),this.v0.copy(u.v0),this.v1.copy(u.v1),this.v2.copy(u.v2),this.v3.copy(u.v3),this},ig.prototype.toJSON=function(){var u=Ya.prototype.toJSON.call(this);return u.v0=this.v0.toArray(),u.v1=this.v1.toArray(),u.v2=this.v2.toArray(),u.v3=this.v3.toArray(),u},ig.prototype.fromJSON=function(u){return Ya.prototype.fromJSON.call(this,u),this.v0.fromArray(u.v0),this.v1.fromArray(u.v1),this.v2.fromArray(u.v2),this.v3.fromArray(u.v3),this},Og.prototype=Ge(Ya.prototype),Og.prototype.constructor=Og,Og.prototype.isCubicBezierCurve3=!0,Og.prototype.getPoint=function(u,t){t=t||new W;var o=this.v0,p=this.v1,g=this.v2,b=this.v3;return t.set(Zx(u,o.x,p.x,g.x,b.x),Zx(u,o.y,p.y,g.y,b.y),Zx(u,o.z,p.z,g.z,b.z)),t},Og.prototype.copy=function(u){return Ya.prototype.copy.call(this,u),this.v0.copy(u.v0),this.v1.copy(u.v1),this.v2.copy(u.v2),this.v3.copy(u.v3),this},Og.prototype.toJSON=function(){var u=Ya.prototype.toJSON.call(this);return u.v0=this.v0.toArray(),u.v1=this.v1.toArray(),u.v2=this.v2.toArray(),u.v3=this.v3.toArray(),u},Og.prototype.fromJSON=function(u){return Ya.prototype.fromJSON.call(this,u),this.v0.fromArray(u.v0),this.v1.fromArray(u.v1),this.v2.fromArray(u.v2),this.v3.fromArray(u.v3),this},Bm.prototype=Ge(Ya.prototype),Bm.prototype.constructor=Bm,Bm.prototype.isLineCurve=!0,Bm.prototype.getPoint=function(u,t){return t=t||new c,u===1?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(u).add(this.v1)),t},Bm.prototype.getPointAt=function(u,t){return this.getPoint(u,t)},Bm.prototype.getTangent=function(u,t){return u=t||new c,u=u.copy(this.v2).sub(this.v1).normalize()},Bm.prototype.copy=function(u){return Ya.prototype.copy.call(this,u),this.v1.copy(u.v1),this.v2.copy(u.v2),this},Bm.prototype.toJSON=function(){var u=Ya.prototype.toJSON.call(this);return u.v1=this.v1.toArray(),u.v2=this.v2.toArray(),u},Bm.prototype.fromJSON=function(u){return Ya.prototype.fromJSON.call(this,u),this.v1.fromArray(u.v1),this.v2.fromArray(u.v2),this},og.prototype=Ge(Ya.prototype),og.prototype.constructor=og,og.prototype.isLineCurve3=!0,og.prototype.getPoint=function(u,t){return t=t||new W,u===1?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(u).add(this.v1)),t},og.prototype.getPointAt=function(u,t){return this.getPoint(u,t)},og.prototype.copy=function(u){return Ya.prototype.copy.call(this,u),this.v1.copy(u.v1),this.v2.copy(u.v2),this},og.prototype.toJSON=function(){var u=Ya.prototype.toJSON.call(this);return u.v1=this.v1.toArray(),u.v2=this.v2.toArray(),u},og.prototype.fromJSON=function(u){return Ya.prototype.fromJSON.call(this,u),this.v1.fromArray(u.v1),this.v2.fromArray(u.v2),this},ag.prototype=Ge(Ya.prototype),ag.prototype.constructor=ag,ag.prototype.isQuadraticBezierCurve=!0,ag.prototype.getPoint=function(u,t){t=t||new c;var o=this.v0,p=this.v1,g=this.v2;return t.set(Kx(u,o.x,p.x,g.x),Kx(u,o.y,p.y,g.y)),t},ag.prototype.copy=function(u){return Ya.prototype.copy.call(this,u),this.v0.copy(u.v0),this.v1.copy(u.v1),this.v2.copy(u.v2),this},ag.prototype.toJSON=function(){var u=Ya.prototype.toJSON.call(this);return u.v0=this.v0.toArray(),u.v1=this.v1.toArray(),u.v2=this.v2.toArray(),u},ag.prototype.fromJSON=function(u){return Ya.prototype.fromJSON.call(this,u),this.v0.fromArray(u.v0),this.v1.fromArray(u.v1),this.v2.fromArray(u.v2),this},Rg.prototype=Ge(Ya.prototype),Rg.prototype.constructor=Rg,Rg.prototype.isQuadraticBezierCurve3=!0,Rg.prototype.getPoint=function(u,t){t=t||new W;var o=this.v0,p=this.v1,g=this.v2;return t.set(Kx(u,o.x,p.x,g.x),Kx(u,o.y,p.y,g.y),Kx(u,o.z,p.z,g.z)),t},Rg.prototype.copy=function(u){return Ya.prototype.copy.call(this,u),this.v0.copy(u.v0),this.v1.copy(u.v1),this.v2.copy(u.v2),this},Rg.prototype.toJSON=function(){var u=Ya.prototype.toJSON.call(this);return u.v0=this.v0.toArray(),u.v1=this.v1.toArray(),u.v2=this.v2.toArray(),u},Rg.prototype.fromJSON=function(u){return Ya.prototype.fromJSON.call(this,u),this.v0.fromArray(u.v0),this.v1.fromArray(u.v1),this.v2.fromArray(u.v2),this},sg.prototype=Ge(Ya.prototype),sg.prototype.constructor=sg,sg.prototype.isSplineCurve=!0,sg.prototype.getPoint=function(u,t){t=t||new c;var o=this.points,p=(o.length-1)*u;u=Math.floor(p),p-=u;var g=o[u===0?u:u-1],b=o[u],_=o[u>o.length-2?o.length-1:u+1];return o=o[u>o.length-3?o.length-1:u+2],t.set(Zw(p,g.x,b.x,_.x,o.x),Zw(p,g.y,b.y,_.y,o.y)),t},sg.prototype.copy=function(u){Ya.prototype.copy.call(this,u),this.points=[];for(var t=0,o=u.points.length;t<o;t++)this.points.push(u.points[t].clone());return this},sg.prototype.toJSON=function(){var u=Ya.prototype.toJSON.call(this);u.points=[];for(var t=0,o=this.points.length;t<o;t++)u.points.push(this.points[t].toArray());return u},sg.prototype.fromJSON=function(u){Ya.prototype.fromJSON.call(this,u),this.points=[];for(var t=0,o=u.points.length;t<o;t++){var p=u.points[t];this.points.push(new c().fromArray(p))}return this};var tw=nl({__proto__:null,ArcCurve:j1,CatmullRomCurve3:Gp,CubicBezierCurve:ig,CubicBezierCurve3:Og,EllipseCurve:rv,LineCurve:Bm,LineCurve3:og,QuadraticBezierCurve:ag,QuadraticBezierCurve3:Rg,SplineCurve:sg});a0.prototype=Xe(Ge(Ya.prototype),{constructor:a0,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),o=this.curves[this.curves.length-1].getPoint(1);t.equals(o)||this.curves.push(new Bm(o,t))},getPoint:function(t){var o=t*this.getLength(),p=this.getCurveLengths();for(t=0;t<p.length;){if(p[t]>=o)return o=p[t]-o,t=this.curves[t],p=t.getLength(),t.getPointAt(p===0?0:1-o/p);t++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],o=0,p=0,g=this.curves.length;p<g;p++)o+=this.curves[p].getLength(),t.push(o);return this.cacheLengths=t},getSpacedPoints:function(t){t===void 0&&(t=40);for(var o=[],p=0;p<=t;p++)o.push(this.getPoint(p/t));return this.autoClose&&o.push(o[0]),o},getPoints:function(t){t=t||12;for(var o=[],p,g=0,b=this.curves;g<b.length;g++){var _=b[g];_=_.getPoints(_&&_.isEllipseCurve?2*t:_&&(_.isLineCurve||_.isLineCurve3)?1:_&&_.isSplineCurve?t*_.points.length:t);for(var D=0;D<_.length;D++){var k=_[D];p&&p.equals(k)||(o.push(k),p=k)}}return this.autoClose&&1<o.length&&!o[o.length-1].equals(o[0])&&o.push(o[0]),o},copy:function(t){Ya.prototype.copy.call(this,t),this.curves=[];for(var o=0,p=t.curves.length;o<p;o++)this.curves.push(t.curves[o].clone());return this.autoClose=t.autoClose,this},toJSON:function(){var t=Ya.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var o=0,p=this.curves.length;o<p;o++)t.curves.push(this.curves[o].toJSON());return t},fromJSON:function(t){Ya.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var o=0,p=t.curves.length;o<p;o++){var g=t.curves[o];this.curves.push(new tw[g.type]().fromJSON(g))}return this}}),lg.prototype=Xe(Ge(a0.prototype),{constructor:lg,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var o=1,p=t.length;o<p;o++)this.lineTo(t[o].x,t[o].y);return this},moveTo:function(t,o){return this.currentPoint.set(t,o),this},lineTo:function(t,o){var p=new Bm(this.currentPoint.clone(),new c(t,o));return this.curves.push(p),this.currentPoint.set(t,o),this},quadraticCurveTo:function(t,o,p,g){return t=new ag(this.currentPoint.clone(),new c(t,o),new c(p,g)),this.curves.push(t),this.currentPoint.set(p,g),this},bezierCurveTo:function(t,o,p,g,b,_){return t=new ig(this.currentPoint.clone(),new c(t,o),new c(p,g),new c(b,_)),this.curves.push(t),this.currentPoint.set(b,_),this},splineThru:function(t){var o=[this.currentPoint.clone()].concat(t);return o=new sg(o),this.curves.push(o),this.currentPoint.copy(t[t.length-1]),this},arc:function(t,o,p,g,b,_){return this.absarc(t+this.currentPoint.x,o+this.currentPoint.y,p,g,b,_),this},absarc:function(t,o,p,g,b,_){return this.absellipse(t,o,p,p,g,b,_),this},ellipse:function(t,o,p,g,b,_,D,k){return this.absellipse(t+this.currentPoint.x,o+this.currentPoint.y,p,g,b,_,D,k),this},absellipse:function(t,o,p,g,b,_,D,k){return t=new rv(t,o,p,g,b,_,D,k),0<this.curves.length&&(o=t.getPoint(0),o.equals(this.currentPoint)||this.lineTo(o.x,o.y)),this.curves.push(t),t=t.getPoint(1),this.currentPoint.copy(t),this},copy:function(t){return a0.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){var t=a0.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return a0.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),ty.prototype=Xe(Ge(lg.prototype),{constructor:ty,getPointsHoles:function(t){for(var o=[],p=0,g=this.holes.length;p<g;p++)o[p]=this.holes[p].getPoints(t);return o},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){lg.prototype.copy.call(this,t),this.holes=[];for(var o=0,p=t.holes.length;o<p;o++)this.holes.push(t.holes[o].clone());return this},toJSON:function(){var t=lg.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(var o=0,p=this.holes.length;o<p;o++)t.holes.push(this.holes[o].toJSON());return t},fromJSON:function(t){lg.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var o=0,p=t.holes.length;o<p;o++){var g=t.holes[o];this.holes.push(new lg().fromJSON(g))}return this}}),kf.prototype=Xe(Ge(Me.prototype),{constructor:kf,isLight:!0,copy:function(t){return Me.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){return t=Me.prototype.toJSON.call(this,t),t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}),XC.prototype=Xe(Ge(kf.prototype),{constructor:XC,isHemisphereLight:!0,copy:function(t){return kf.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Xe(Lg.prototype,{_projScreenMatrix:new ae,_lightPositionWorld:new W,_lookTarget:new W,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(t){var o=this.camera,p=this.matrix,g=this._projScreenMatrix,b=this._lookTarget,_=this._lightPositionWorld;_.setFromMatrixPosition(t.matrixWorld),o.position.copy(_),b.setFromMatrixPosition(t.target.matrixWorld),o.lookAt(b),o.updateMatrixWorld(),g.multiplyMatrices(o.projectionMatrix,o.matrixWorldInverse),this._frustum.setFromProjectionMatrix(g),p.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),p.multiply(o.projectionMatrix),p.multiply(o.matrixWorldInverse)},getViewport:function(t){return this._viewports[t]},getFrameExtents:function(){return this._frameExtents},copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var t={};return this.bias!==0&&(t.bias=this.bias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),KC.prototype=Xe(Ge(Lg.prototype),{constructor:KC,isSpotLightShadow:!0,updateMatrices:function(t){var o=this.camera,p=2*Ll.RAD2DEG*t.angle,g=this.mapSize.width/this.mapSize.height,b=t.distance||o.far;(p!==o.fov||g!==o.aspect||b!==o.far)&&(o.fov=p,o.aspect=g,o.far=b,o.updateProjectionMatrix()),Lg.prototype.updateMatrices.call(this,t)}}),ZC.prototype=Xe(Ge(kf.prototype),{constructor:ZC,isSpotLight:!0,copy:function(t){return kf.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),l2.prototype=Xe(Ge(Lg.prototype),{constructor:l2,isPointLightShadow:!0,updateMatrices:function(t,o){o===void 0&&(o=0);var p=this.camera,g=this.matrix,b=this._lightPositionWorld,_=this._lookTarget,D=this._projScreenMatrix;b.setFromMatrixPosition(t.matrixWorld),p.position.copy(b),_.copy(p.position),_.add(this._cubeDirections[o]),p.up.copy(this._cubeUps[o]),p.lookAt(_),p.updateMatrixWorld(),g.makeTranslation(-b.x,-b.y,-b.z),D.multiplyMatrices(p.projectionMatrix,p.matrixWorldInverse),this._frustum.setFromProjectionMatrix(D)}}),JC.prototype=Xe(Ge(kf.prototype),{constructor:JC,isPointLight:!0,copy:function(t){return kf.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),z1.prototype=Xe(Ge(Ii.prototype),{constructor:z1,isOrthographicCamera:!0,copy:function(t,o){return Ii.prototype.copy.call(this,t,o),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Xe({},t.view),this},setViewOffset:function(t,o,p,g,b,_){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=o,this.view.offsetX=p,this.view.offsetY=g,this.view.width=b,this.view.height=_,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),o=(this.top-this.bottom)/(2*this.zoom),p=(this.right+this.left)/2,g=(this.top+this.bottom)/2,b=p-t;p+=t,t=g+o,o=g-o,this.view!==null&&this.view.enabled&&(g=(this.right-this.left)/this.view.fullWidth/this.zoom,o=(this.top-this.bottom)/this.view.fullHeight/this.zoom,b+=g*this.view.offsetX,p=b+g*this.view.width,t-=o*this.view.offsetY,o=t-o*this.view.height),this.projectionMatrix.makeOrthographic(b,p,t,o,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){return t=Me.prototype.toJSON.call(this,t),t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Xe({},this.view)),t}}),QC.prototype=Xe(Ge(Lg.prototype),{constructor:QC,isDirectionalLightShadow:!0,updateMatrices:function(t){Lg.prototype.updateMatrices.call(this,t)}}),qC.prototype=Xe(Ge(kf.prototype),{constructor:qC,isDirectionalLight:!0,copy:function(t){return kf.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),$C.prototype=Xe(Ge(kf.prototype),{constructor:$C,isAmbientLight:!0}),eA.prototype=Xe(Ge(kf.prototype),{constructor:eA,isRectAreaLight:!0,copy:function(t){return kf.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){return t=kf.prototype.toJSON.call(this,t),t.object.width=this.width,t.object.height=this.height,t}}),Xe(tA.prototype,{isSphericalHarmonics3:!0,set:function(t){for(var o=0;9>o;o++)this.coefficients[o].copy(t[o]);return this},zero:function(){for(var t=0;9>t;t++)this.coefficients[t].set(0,0,0);return this},getAt:function(t,o){var p=t.x,g=t.y;t=t.z;var b=this.coefficients;return o.copy(b[0]).multiplyScalar(.282095),o.addScaledVector(b[1],.488603*g),o.addScaledVector(b[2],.488603*t),o.addScaledVector(b[3],.488603*p),o.addScaledVector(b[4],1.092548*p*g),o.addScaledVector(b[5],1.092548*g*t),o.addScaledVector(b[6],.315392*(3*t*t-1)),o.addScaledVector(b[7],1.092548*p*t),o.addScaledVector(b[8],.546274*(p*p-g*g)),o},getIrradianceAt:function(t,o){var p=t.x,g=t.y;t=t.z;var b=this.coefficients;return o.copy(b[0]).multiplyScalar(.886227),o.addScaledVector(b[1],1.023328*g),o.addScaledVector(b[2],1.023328*t),o.addScaledVector(b[3],1.023328*p),o.addScaledVector(b[4],.858086*p*g),o.addScaledVector(b[5],.858086*g*t),o.addScaledVector(b[6],.743125*t*t-.247708),o.addScaledVector(b[7],.858086*p*t),o.addScaledVector(b[8],.429043*(p*p-g*g)),o},add:function(t){for(var o=0;9>o;o++)this.coefficients[o].add(t.coefficients[o]);return this},addScaledSH:function(t,o){for(var p=0;9>p;p++)this.coefficients[p].addScaledVector(t.coefficients[p],o);return this},scale:function(t){for(var o=0;9>o;o++)this.coefficients[o].multiplyScalar(t);return this},lerp:function(t,o){for(var p=0;9>p;p++)this.coefficients[p].lerp(t.coefficients[p],o);return this},equals:function(t){for(var o=0;9>o;o++)if(!this.coefficients[o].equals(t.coefficients[o]))return!1;return!0},copy:function(t){return this.set(t.coefficients)},clone:function(){return new this.constructor().copy(this)},fromArray:function(t,o){o===void 0&&(o=0);for(var p=this.coefficients,g=0;9>g;g++)p[g].fromArray(t,o+3*g);return this},toArray:function(t,o){t===void 0&&(t=[]),o===void 0&&(o=0);for(var p=this.coefficients,g=0;9>g;g++)p[g].toArray(t,o+3*g);return t}}),Xe(tA,{getBasisAt:function(t,o){var p=t.x,g=t.y;t=t.z,o[0]=.282095,o[1]=.488603*g,o[2]=.488603*t,o[3]=.488603*p,o[4]=1.092548*p*g,o[5]=1.092548*g*t,o[6]=.315392*(3*t*t-1),o[7]=1.092548*p*t,o[8]=.546274*(p*p-g*g)}}),Lv.prototype=Xe(Ge(kf.prototype),{constructor:Lv,isLightProbe:!0,copy:function(t){return kf.prototype.copy.call(this,t),this.sh.copy(t.sh),this},fromJSON:function(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this},toJSON:function(t){return t=kf.prototype.toJSON.call(this,t),t.object.sh=this.sh.toArray(),t}}),rA.prototype=Xe(Ge(Lc.prototype),{constructor:rA,load:function(t,o,p,g){var b=this,_=new Rv(b.manager);_.setPath(b.path),_.load(t,function(D){try{o(b.parse(JSON.parse(D)))}catch(k){g?g(k):console.error(k),b.manager.itemError(t)}},p,g)},parse:function(t){function o(k){return p[k]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",k),p[k]}var p=this.textures,g=new DM[t.type];if(t.uuid!==void 0&&(g.uuid=t.uuid),t.name!==void 0&&(g.name=t.name),t.color!==void 0&&g.color.setHex(t.color),t.roughness!==void 0&&(g.roughness=t.roughness),t.metalness!==void 0&&(g.metalness=t.metalness),t.sheen!==void 0&&(g.sheen=new wt().setHex(t.sheen)),t.emissive!==void 0&&g.emissive.setHex(t.emissive),t.specular!==void 0&&g.specular.setHex(t.specular),t.shininess!==void 0&&(g.shininess=t.shininess),t.clearcoat!==void 0&&(g.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&&(g.clearcoatRoughness=t.clearcoatRoughness),t.fog!==void 0&&(g.fog=t.fog),t.flatShading!==void 0&&(g.flatShading=t.flatShading),t.blending!==void 0&&(g.blending=t.blending),t.combine!==void 0&&(g.combine=t.combine),t.side!==void 0&&(g.side=t.side),t.opacity!==void 0&&(g.opacity=t.opacity),t.transparent!==void 0&&(g.transparent=t.transparent),t.alphaTest!==void 0&&(g.alphaTest=t.alphaTest),t.depthTest!==void 0&&(g.depthTest=t.depthTest),t.depthWrite!==void 0&&(g.depthWrite=t.depthWrite),t.colorWrite!==void 0&&(g.colorWrite=t.colorWrite),t.stencilWrite!==void 0&&(g.stencilWrite=t.stencilWrite),t.stencilWriteMask!==void 0&&(g.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&&(g.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&&(g.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&&(g.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&&(g.stencilFail=t.stencilFail),t.stencilZFail!==void 0&&(g.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&&(g.stencilZPass=t.stencilZPass),t.wireframe!==void 0&&(g.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&&(g.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&&(g.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&&(g.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&&(g.rotation=t.rotation),t.linewidth!==1&&(g.linewidth=t.linewidth),t.dashSize!==void 0&&(g.dashSize=t.dashSize),t.gapSize!==void 0&&(g.gapSize=t.gapSize),t.scale!==void 0&&(g.scale=t.scale),t.polygonOffset!==void 0&&(g.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&&(g.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&&(g.polygonOffsetUnits=t.polygonOffsetUnits),t.skinning!==void 0&&(g.skinning=t.skinning),t.morphTargets!==void 0&&(g.morphTargets=t.morphTargets),t.morphNormals!==void 0&&(g.morphNormals=t.morphNormals),t.dithering!==void 0&&(g.dithering=t.dithering),t.vertexTangents!==void 0&&(g.vertexTangents=t.vertexTangents),t.visible!==void 0&&(g.visible=t.visible),t.toneMapped!==void 0&&(g.toneMapped=t.toneMapped),t.userData!==void 0&&(g.userData=t.userData),t.vertexColors!==void 0&&(g.vertexColors=typeof t.vertexColors=="number"?0<t.vertexColors:t.vertexColors),t.uniforms!==void 0)for(var b in t.uniforms){var _=t.uniforms[b];switch(g.uniforms[b]={},_.type){case"t":g.uniforms[b].value=o(_.value);break;case"c":g.uniforms[b].value=new wt().setHex(_.value);break;case"v2":g.uniforms[b].value=new c().fromArray(_.value);break;case"v3":g.uniforms[b].value=new W().fromArray(_.value);break;case"v4":g.uniforms[b].value=new w().fromArray(_.value);break;case"m3":g.uniforms[b].value=new v().fromArray(_.value);case"m4":g.uniforms[b].value=new ae().fromArray(_.value);break;default:g.uniforms[b].value=_.value}}if(t.defines!==void 0&&(g.defines=t.defines),t.vertexShader!==void 0&&(g.vertexShader=t.vertexShader),t.fragmentShader!==void 0&&(g.fragmentShader=t.fragmentShader),t.extensions!==void 0)for(var D in t.extensions)g.extensions[D]=t.extensions[D];return t.shading!==void 0&&(g.flatShading=t.shading===1),t.size!==void 0&&(g.size=t.size),t.sizeAttenuation!==void 0&&(g.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&&(g.map=o(t.map)),t.matcap!==void 0&&(g.matcap=o(t.matcap)),t.alphaMap!==void 0&&(g.alphaMap=o(t.alphaMap)),t.bumpMap!==void 0&&(g.bumpMap=o(t.bumpMap)),t.bumpScale!==void 0&&(g.bumpScale=t.bumpScale),t.normalMap!==void 0&&(g.normalMap=o(t.normalMap)),t.normalMapType!==void 0&&(g.normalMapType=t.normalMapType),t.normalScale!==void 0&&(b=t.normalScale,Array.isArray(b)===!1&&(b=[b,b]),g.normalScale=new c().fromArray(b)),t.displacementMap!==void 0&&(g.displacementMap=o(t.displacementMap)),t.displacementScale!==void 0&&(g.displacementScale=t.displacementScale),t.displacementBias!==void 0&&(g.displacementBias=t.displacementBias),t.roughnessMap!==void 0&&(g.roughnessMap=o(t.roughnessMap)),t.metalnessMap!==void 0&&(g.metalnessMap=o(t.metalnessMap)),t.emissiveMap!==void 0&&(g.emissiveMap=o(t.emissiveMap)),t.emissiveIntensity!==void 0&&(g.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&&(g.specularMap=o(t.specularMap)),t.envMap!==void 0&&(g.envMap=o(t.envMap)),t.envMapIntensity!==void 0&&(g.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&&(g.reflectivity=t.reflectivity),t.refractionRatio!==void 0&&(g.refractionRatio=t.refractionRatio),t.lightMap!==void 0&&(g.lightMap=o(t.lightMap)),t.lightMapIntensity!==void 0&&(g.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&&(g.aoMap=o(t.aoMap)),t.aoMapIntensity!==void 0&&(g.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&&(g.gradientMap=o(t.gradientMap)),t.clearcoatMap!==void 0&&(g.clearcoatMap=o(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&&(g.clearcoatRoughnessMap=o(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&&(g.clearcoatNormalMap=o(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&&(g.clearcoatNormalScale=new c().fromArray(t.clearcoatNormalScale)),g},setTextures:function(t){return this.textures=t,this}});var rw={decodeText:function(t){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(t);for(var o="",p=0,g=t.length;p<g;p++)o+=String.fromCharCode(t[p]);try{return decodeURIComponent(escape(o))}catch(b){return o}},extractUrlBase:function(t){var o=t.lastIndexOf("/");return o===-1?"./":t.substr(0,o+1)}};Jx.prototype=Xe(Ge(Kt.prototype),{constructor:Jx,isInstancedBufferGeometry:!0,copy:function(t){return Kt.prototype.copy.call(this,t),this.instanceCount=t.instanceCount,this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var t=Kt.prototype.toJSON.call(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}),nA.prototype=Xe(Ge(En.prototype),{constructor:nA,isInstancedBufferAttribute:!0,copy:function(t){return En.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){var t=En.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}),iA.prototype=Xe(Ge(Lc.prototype),{constructor:iA,load:function(t,o,p,g){var b=this,_=new Rv(b.manager);_.setPath(b.path),_.load(t,function(D){try{o(b.parse(JSON.parse(D)))}catch(k){g?g(k):console.error(k),b.manager.itemError(t)}},p,g)},parse:function(t){var o=t.isInstancedBufferGeometry?new Jx:new Kt,p=t.data.index;if(p!==void 0){var g=new nw[p.type](p.array);o.setIndex(new En(g,1))}p=t.data.attributes;for(var b in p){var _=p[b];g=new nw[_.type](_.array),g=new(_.isInstancedBufferAttribute?nA:En)(g,_.itemSize,_.normalized),_.name!==void 0&&(g.name=_.name),o.setAttribute(b,g)}var D=t.data.morphAttributes;if(D)for(b in D){var k=D[b],X=[];p=0;for(var $=k.length;p<$;p++)_=k[p],g=new nw[_.type](_.array),g=new En(g,_.itemSize,_.normalized),_.name!==void 0&&(g.name=_.name),X.push(g);o.morphAttributes[b]=X}if(t.data.morphTargetsRelative&&(o.morphTargetsRelative=!0),b=t.data.groups||t.data.drawcalls||t.data.offsets,b!==void 0)for(p=0,_=b.length;p!==_;++p)g=b[p],o.addGroup(g.start,g.count,g.materialIndex);return p=t.data.boundingSphere,p!==void 0&&(b=new W,p.center!==void 0&&b.fromArray(p.center),o.boundingSphere=new Bt(b,p.radius)),t.name&&(o.name=t.name),t.userData&&(o.userData=t.userData),o}});var nw={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray!="undefined"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};oA.prototype=Xe(Ge(Lc.prototype),{constructor:oA,load:function(t,o,p,g){var b=this,_=this.path===""?rw.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||_,_=new Rv(b.manager),_.setPath(this.path),_.load(t,function(D){var k=null;try{k=JSON.parse(D)}catch(X){g!==void 0&&g(X),console.error("THREE:ObjectLoader: Can't parse "+t+".",X.message);return}D=k.metadata,D===void 0||D.type===void 0||D.type.toLowerCase()==="geometry"?console.error("THREE.ObjectLoader: Can't load "+t):b.parse(k,o)},p,g)},parse:function(t,o){var p=this.parseShape(t.shapes);p=this.parseGeometries(t.geometries,p);var g=this.parseImages(t.images,function(){o!==void 0&&o(b)});g=this.parseTextures(t.textures,g),g=this.parseMaterials(t.materials,g);var b=this.parseObject(t.object,p,g);return t.animations&&(b.animations=this.parseAnimations(t.animations)),t.images!==void 0&&t.images.length!==0||o===void 0||o(b),b},parseShape:function(t){var o={};if(t!==void 0)for(var p=0,g=t.length;p<g;p++){var b=new ty().fromJSON(t[p]);o[b.uuid]=b}return o},parseGeometries:function(t,o){var p={};if(t!==void 0)for(var g=new iA,b=0,_=t.length;b<_;b++){var D=t[b];switch(D.type){case"PlaneGeometry":case"PlaneBufferGeometry":var k=new pm[D.type](D.width,D.height,D.widthSegments,D.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":k=new pm[D.type](D.width,D.height,D.depth,D.widthSegments,D.heightSegments,D.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":k=new pm[D.type](D.radius,D.segments,D.thetaStart,D.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":k=new pm[D.type](D.radiusTop,D.radiusBottom,D.height,D.radialSegments,D.heightSegments,D.openEnded,D.thetaStart,D.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":k=new pm[D.type](D.radius,D.height,D.radialSegments,D.heightSegments,D.openEnded,D.thetaStart,D.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":k=new pm[D.type](D.radius,D.widthSegments,D.heightSegments,D.phiStart,D.phiLength,D.thetaStart,D.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":k=new pm[D.type](D.radius,D.detail);break;case"RingGeometry":case"RingBufferGeometry":k=new pm[D.type](D.innerRadius,D.outerRadius,D.thetaSegments,D.phiSegments,D.thetaStart,D.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":k=new pm[D.type](D.radius,D.tube,D.radialSegments,D.tubularSegments,D.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":k=new pm[D.type](D.radius,D.tube,D.tubularSegments,D.radialSegments,D.p,D.q);break;case"TubeGeometry":case"TubeBufferGeometry":k=new pm[D.type](new tw[D.path.type]().fromJSON(D.path),D.tubularSegments,D.radius,D.radialSegments,D.closed);break;case"LatheGeometry":case"LatheBufferGeometry":k=new pm[D.type](D.points,D.segments,D.phiStart,D.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":k=new pm[D.type](D.vertices,D.indices,D.radius,D.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":k=[];for(var X=0,$=D.shapes.length;X<$;X++){var de=o[D.shapes[X]];k.push(de)}k=new pm[D.type](k,D.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(k=[],X=0,$=D.shapes.length;X<$;X++)de=o[D.shapes[X]],k.push(de);X=D.options.extrudePath,X!==void 0&&(D.options.extrudePath=new tw[X.type]().fromJSON(X)),k=new pm[D.type](k,D.options);break;case"BufferGeometry":case"InstancedBufferGeometry":k=g.parse(D);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+D.type+'"');continue}k.uuid=D.uuid,D.name!==void 0&&(k.name=D.name),k.isBufferGeometry===!0&&D.userData!==void 0&&(k.userData=D.userData),p[D.uuid]=k}return p},parseMaterials:function(t,o){var p={},g={};if(t!==void 0){var b=new rA;b.setTextures(o),o=0;for(var _=t.length;o<_;o++){var D=t[o];if(D.type==="MultiMaterial"){for(var k=[],X=0;X<D.materials.length;X++){var $=D.materials[X];p[$.uuid]===void 0&&(p[$.uuid]=b.parse($)),k.push(p[$.uuid])}g[D.uuid]=k}else p[D.uuid]===void 0&&(p[D.uuid]=b.parse(D)),g[D.uuid]=p[D.uuid]}}return g},parseAnimations:function(t){for(var o=[],p=0;p<t.length;p++){var g=t[p],b=Ov.parse(g);g.uuid!==void 0&&(b.uuid=g.uuid),o.push(b)}return o},parseImages:function(t,o){function p(me){return g.manager.itemStart(me),_.load(me,function(){g.manager.itemEnd(me)},void 0,function(){g.manager.itemError(me),g.manager.itemEnd(me)})}var g=this,b={};if(t!==void 0&&0<t.length){o=new i2(o);var _=new B1(o);_.setCrossOrigin(this.crossOrigin),o=0;for(var D=t.length;o<D;o++){var k=t[o],X=k.url;if(Array.isArray(X)){b[k.uuid]=[];for(var $=0,de=X.length;$<de;$++){var ge=X[$];ge=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(ge)?ge:g.resourcePath+ge,b[k.uuid].push(p(ge))}}else ge=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(k.url)?k.url:g.resourcePath+k.url,b[k.uuid]=p(ge)}}return b},parseTextures:function(t,o){function p(X,$){return typeof X=="number"?X:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",X),$[X])}var g={};if(t!==void 0)for(var b=0,_=t.length;b<_;b++){var D=t[b];D.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',D.uuid),o[D.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",D.image);var k=Array.isArray(o[D.image])?new Iv(o[D.image]):new x(o[D.image]);k.needsUpdate=!0,k.uuid=D.uuid,D.name!==void 0&&(k.name=D.name),D.mapping!==void 0&&(k.mapping=p(D.mapping,NM)),D.offset!==void 0&&k.offset.fromArray(D.offset),D.repeat!==void 0&&k.repeat.fromArray(D.repeat),D.center!==void 0&&k.center.fromArray(D.center),D.rotation!==void 0&&(k.rotation=D.rotation),D.wrap!==void 0&&(k.wrapS=p(D.wrap[0],kb),k.wrapT=p(D.wrap[1],kb)),D.format!==void 0&&(k.format=D.format),D.type!==void 0&&(k.type=D.type),D.encoding!==void 0&&(k.encoding=D.encoding),D.minFilter!==void 0&&(k.minFilter=p(D.minFilter,Hb)),D.magFilter!==void 0&&(k.magFilter=p(D.magFilter,Hb)),D.anisotropy!==void 0&&(k.anisotropy=D.anisotropy),D.flipY!==void 0&&(k.flipY=D.flipY),D.premultiplyAlpha!==void 0&&(k.premultiplyAlpha=D.premultiplyAlpha),D.unpackAlignment!==void 0&&(k.unpackAlignment=D.unpackAlignment),g[D.uuid]=k}return g},parseObject:function(t,o,p){function g($){return o[$]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",$),o[$]}function b($){if($!==void 0){if(Array.isArray($)){for(var de=[],ge=0,me=$.length;ge<me;ge++){var Ee=$[ge];p[Ee]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",Ee),de.push(p[Ee])}return de}return p[$]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",$),p[$]}}switch(t.type){case"Scene":var _=new ct;t.background!==void 0&&lm(t.background)&&(_.background=new wt(t.background)),t.fog!==void 0&&(t.fog.type==="Fog"?_.fog=new IC(t.fog.color,t.fog.near,t.fog.far):t.fog.type==="FogExp2"&&(_.fog=new _C(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":_=new Ln(t.fov,t.aspect,t.near,t.far),t.focus!==void 0&&(_.focus=t.focus),t.zoom!==void 0&&(_.zoom=t.zoom),t.filmGauge!==void 0&&(_.filmGauge=t.filmGauge),t.filmOffset!==void 0&&(_.filmOffset=t.filmOffset),t.view!==void 0&&(_.view=Xe({},t.view));break;case"OrthographicCamera":_=new z1(t.left,t.right,t.top,t.bottom,t.near,t.far),t.zoom!==void 0&&(_.zoom=t.zoom),t.view!==void 0&&(_.view=Xe({},t.view));break;case"AmbientLight":_=new $C(t.color,t.intensity);break;case"DirectionalLight":_=new qC(t.color,t.intensity);break;case"PointLight":_=new JC(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":_=new eA(t.color,t.intensity,t.width,t.height);break;case"SpotLight":_=new ZC(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":_=new XC(t.color,t.groundColor,t.intensity);break;case"LightProbe":_=new Lv().fromJSON(t);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":_=g(t.geometry);var D=b(t.material);_=new Hr(_,D);break;case"InstancedMesh":_=g(t.geometry),D=b(t.material);var k=t.instanceMatrix;_=new LC(_,D,t.count),_.instanceMatrix=new En(new Float32Array(k.array),16);break;case"LOD":_=new Sx;break;case"Line":_=new ev(g(t.geometry),b(t.material),t.mode);break;case"LineLoop":_=new DC(g(t.geometry),b(t.material));break;case"LineSegments":_=new Bh(g(t.geometry),b(t.material));break;case"PointCloud":case"Points":_=new C1(g(t.geometry),b(t.material));break;case"Sprite":_=new bx(b(t.material));break;case"Group":_=new x1;break;default:_=new Me}if(_.uuid=t.uuid,t.name!==void 0&&(_.name=t.name),t.matrix!==void 0?(_.matrix.fromArray(t.matrix),t.matrixAutoUpdate!==void 0&&(_.matrixAutoUpdate=t.matrixAutoUpdate),_.matrixAutoUpdate&&_.matrix.decompose(_.position,_.quaternion,_.scale)):(t.position!==void 0&&_.position.fromArray(t.position),t.rotation!==void 0&&_.rotation.fromArray(t.rotation),t.quaternion!==void 0&&_.quaternion.fromArray(t.quaternion),t.scale!==void 0&&_.scale.fromArray(t.scale)),t.castShadow!==void 0&&(_.castShadow=t.castShadow),t.receiveShadow!==void 0&&(_.receiveShadow=t.receiveShadow),t.shadow&&(t.shadow.bias!==void 0&&(_.shadow.bias=t.shadow.bias),t.shadow.radius!==void 0&&(_.shadow.radius=t.shadow.radius),t.shadow.mapSize!==void 0&&_.shadow.mapSize.fromArray(t.shadow.mapSize),t.shadow.camera!==void 0&&(_.shadow.camera=this.parseObject(t.shadow.camera))),t.visible!==void 0&&(_.visible=t.visible),t.frustumCulled!==void 0&&(_.frustumCulled=t.frustumCulled),t.renderOrder!==void 0&&(_.renderOrder=t.renderOrder),t.userData!==void 0&&(_.userData=t.userData),t.layers!==void 0&&(_.layers.mask=t.layers),t.children!==void 0)for(k=t.children,D=0;D<k.length;D++)_.add(this.parseObject(k[D],o,p));if(t.type==="LOD")for(t.autoUpdate!==void 0&&(_.autoUpdate=t.autoUpdate),t=t.levels,k=0;k<t.length;k++){D=t[k];var X=_.getObjectByProperty("uuid",D.object);X!==void 0&&_.addLevel(X,D.distance)}return _}});var NM={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},kb={RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},Hb={NearestFilter:1003,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,LinearFilter:1006,LinearMipmapNearestFilter:1007,LinearMipmapLinearFilter:1008};u2.prototype=Xe(Ge(Lc.prototype),{constructor:u2,setOptions:function(t){return this.options=t,this},load:function(t,o,p,g){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);var b=this,_=$y.get(t);if(_!==void 0)return b.manager.itemStart(t),setTimeout(function(){o&&o(_),b.manager.itemEnd(t)},0),_;fetch(t).then(function(D){return D.blob()}).then(function(D){return b.options===void 0?createImageBitmap(D):createImageBitmap(D,b.options)}).then(function(D){$y.add(t,D),o&&o(D),b.manager.itemEnd(t)}).catch(function(D){g&&g(D),b.manager.itemError(t),b.manager.itemEnd(t)}),b.manager.itemStart(t)}}),Xe(c2.prototype,{moveTo:function(t,o){return this.currentPath=new lg,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,o),this},lineTo:function(t,o){return this.currentPath.lineTo(t,o),this},quadraticCurveTo:function(t,o,p,g){return this.currentPath.quadraticCurveTo(t,o,p,g),this},bezierCurveTo:function(t,o,p,g,b,_){return this.currentPath.bezierCurveTo(t,o,p,g,b,_),this},splineThru:function(t){return this.currentPath.splineThru(t),this},toShapes:function(t,o){function p(qt){for(var Qt=[],er=0,dr=qt.length;er<dr;er++){var gn=qt[er],Zr=new ty;Zr.curves=gn.curves,Qt.push(Zr)}return Qt}function g(qt,Qt){for(var er=Qt.length,dr=!1,gn=er-1,Zr=0;Zr<er;gn=Zr++){var lr=Qt[gn],ii=Qt[Zr],Rr=ii.x-lr.x,ji=ii.y-lr.y;if(Math.abs(ji)>Ic){if(0>ji&&(lr=Qt[Zr],Rr=-Rr,ii=Qt[gn],ji=-ji),!(qt.y<lr.y||qt.y>ii.y))if(qt.y===lr.y){if(qt.x===lr.x)return!0}else{if(gn=ji*(qt.x-lr.x)-Rr*(qt.y-lr.y),gn===0)return!0;0>gn||(dr=!dr)}}else if(qt.y===lr.y&&(ii.x<=qt.x&&qt.x<=lr.x||lr.x<=qt.x&&qt.x<=ii.x))return!0}return dr}var b=p0.isClockWise,_=this.subPaths;if(_.length===0)return[];if(o===!0)return p(_);if(o=[],_.length===1){var D=_[0],k=new ty;return k.curves=D.curves,o.push(k),o}var X=!b(_[0].getPoints());X=t?!X:X,k=[];var $=[],de=[],ge=0;$[ge]=void 0,de[ge]=[];for(var me=0,Ee=_.length;me<Ee;me++){D=_[me];var ke=D.getPoints(),xt=b(ke);(xt=t?!xt:xt)?(!X&&$[ge]&&ge++,$[ge]={s:new ty,p:ke},$[ge].s.curves=D.curves,X&&ge++,de[ge]=[]):de[ge].push({h:D,p:ke[0]})}if(!$[0])return p(_);if(1<$.length){for(me=!1,t=[],b=0,_=$.length;b<_;b++)k[b]=[];for(b=0,_=$.length;b<_;b++)for(D=de[b],xt=0;xt<D.length;xt++){for(X=D[xt],ge=!0,ke=0;ke<$.length;ke++)g(X.p,$[ke].p)&&(b!==ke&&t.push({froms:b,tos:ke,hole:xt}),ge?(ge=!1,k[ke].push(X)):me=!0);ge&&k[b].push(X)}0<t.length&&(me||(de=k))}for(me=0,b=$.length;me<b;me++)for(k=$[me].s,o.push(k),t=de[me],_=0,D=t.length;_<D;_++)k.holes.push(t[_].h);return o}}),Xe(f2.prototype,{isFont:!0,generateShapes:function(t,o){o===void 0&&(o=100);var p=[],g=o;o=this.data;var b=zp?zp(t):String(t).split("");g/=o.resolution;var _=(o.boundingBox.yMax-o.boundingBox.yMin+o.underlineThickness)*g;t=[];for(var D=0,k=0,X=0;X<b.length;X++){var $=b[X];if($===`
`)D=0,k-=_;else{var de=$;$=g;var ge=D,me=k,Ee=o,ke=Ee.glyphs[de]||Ee.glyphs["?"];if(ke){if(de=new c2,ke.o){Ee=ke._cachedOutline||(ke._cachedOutline=ke.o.split(" "));for(var xt=0,qt=Ee.length;xt<qt;)switch(Ee[xt++]){case"m":var Qt=Ee[xt++]*$+ge,er=Ee[xt++]*$+me;de.moveTo(Qt,er);break;case"l":Qt=Ee[xt++]*$+ge,er=Ee[xt++]*$+me,de.lineTo(Qt,er);break;case"q":var dr=Ee[xt++]*$+ge,gn=Ee[xt++]*$+me,Zr=Ee[xt++]*$+ge,lr=Ee[xt++]*$+me;de.quadraticCurveTo(Zr,lr,dr,gn);break;case"b":dr=Ee[xt++]*$+ge,gn=Ee[xt++]*$+me,Zr=Ee[xt++]*$+ge,lr=Ee[xt++]*$+me,Qt=Ee[xt++]*$+ge,er=Ee[xt++]*$+me,de.bezierCurveTo(Zr,lr,Qt,er,dr,gn)}}$={offsetX:ke.ha*$,path:de}}else console.error('THREE.Font: character "'+de+'" does not exists in font family '+Ee.familyName+"."),$=void 0;D+=$.offsetX,t.push($.path)}}for(o=0,b=t.length;o<b;o++)Array.prototype.push.apply(p,t[o].toShapes());return p}}),h2.prototype=Xe(Ge(Lc.prototype),{constructor:h2,load:function(t,o,p,g){var b=this,_=new Rv(this.manager);_.setPath(this.path),_.load(t,function(D){try{var k=JSON.parse(D)}catch(X){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),k=JSON.parse(D.substring(65,D.length-2))}D=b.parse(k),o&&o(D)},p,g)},parse:function(t){return new f2(t)}});var DA,iw={getContext:function(){return DA===void 0&&(DA=new(window.AudioContext||window.webkitAudioContext)),DA},setContext:function(t){DA=t}};aA.prototype=Xe(Ge(Lc.prototype),{constructor:aA,load:function(t,o,p,g){var b=this,_=new Rv(b.manager);_.setResponseType("arraybuffer"),_.setPath(b.path),_.load(t,function(D){try{var k=D.slice(0);iw.getContext().decodeAudioData(k,function(X){o(X)})}catch(X){g?g(X):console.error(X),b.manager.itemError(t)}},p,g)}}),d2.prototype=Xe(Ge(Lv.prototype),{constructor:d2,isHemisphereLightProbe:!0,copy:function(t){return Lv.prototype.copy.call(this,t),this},toJSON:function(t){return Lv.prototype.toJSON.call(this,t)}}),p2.prototype=Xe(Ge(Lv.prototype),{constructor:p2,isAmbientLightProbe:!0,copy:function(t){return Lv.prototype.copy.call(this,t),this},toJSON:function(t){return Lv.prototype.toJSON.call(this,t)}});var Vb=new ae,Wb=new ae;Xe(Jw.prototype,{update:function(t){var o=this._cache;if(o.focus!==t.focus||o.fov!==t.fov||o.aspect!==t.aspect*this.aspect||o.near!==t.near||o.far!==t.far||o.zoom!==t.zoom||o.eyeSep!==this.eyeSep){o.focus=t.focus,o.fov=t.fov,o.aspect=t.aspect*this.aspect,o.near=t.near,o.far=t.far,o.zoom=t.zoom,o.eyeSep=this.eyeSep;var p=t.projectionMatrix.clone(),g=o.eyeSep/2,b=g*o.near/o.focus,_=o.near*Math.tan(Ll.DEG2RAD*o.fov*.5)/o.zoom;Wb.elements[12]=-g,Vb.elements[12]=g,g=-_*o.aspect+b;var D=_*o.aspect+b;p.elements[0]=2*o.near/(D-g),p.elements[8]=(D+g)/(D-g),this.cameraL.projectionMatrix.copy(p),g=-_*o.aspect-b,D=_*o.aspect-b,p.elements[0]=2*o.near/(D-g),p.elements[8]=(D+g)/(D-g),this.cameraR.projectionMatrix.copy(p)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(Wb),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Vb)}}),Xe(m2.prototype,{start:function(){this.oldTime=this.startTime=(typeof performance=="undefined"?Date:performance).now(),this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.autoStart=this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var o=(typeof performance=="undefined"?Date:performance).now();t=(o-this.oldTime)/1e3,this.oldTime=o,this.elapsedTime+=t}return t}});var e1=new W,Gb=new G,FM=new W,t1=new W;v2.prototype=Xe(Ge(Me.prototype),{constructor:v2,getInput:function(){return this.gain},removeFilter:function(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(t){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this},updateMatrixWorld:function(t){Me.prototype.updateMatrixWorld.call(this,t),t=this.context.listener;var o=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(e1,Gb,FM),t1.set(0,0,-1).applyQuaternion(Gb),t.positionX){var p=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(e1.x,p),t.positionY.linearRampToValueAtTime(e1.y,p),t.positionZ.linearRampToValueAtTime(e1.z,p),t.forwardX.linearRampToValueAtTime(t1.x,p),t.forwardY.linearRampToValueAtTime(t1.y,p),t.forwardZ.linearRampToValueAtTime(t1.z,p),t.upX.linearRampToValueAtTime(o.x,p),t.upY.linearRampToValueAtTime(o.y,p),t.upZ.linearRampToValueAtTime(o.z,p)}else t.setPosition(e1.x,e1.y,e1.z),t.setOrientation(t1.x,t1.y,t1.z,o.x,o.y,o.z)}}),U1.prototype=Xe(Ge(Me.prototype),{constructor:U1,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setMediaElementSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this},setMediaStreamSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(t){if(t===void 0&&(t=0),this.isPlaying===!0)console.warn("THREE.Audio: Audio is already playing.");else if(this.hasPlaybackControl===!1)console.warn("THREE.Audio: this Audio has no playback control.");else return this._startedAt=this.context.currentTime+t,t=this.context.createBufferSource(),t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()},pause:function(){if(this.hasPlaybackControl===!1)console.warn("THREE.Audio: this Audio has no playback control.");else return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress%=this.duration||this.buffer.duration),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this},stop:function(){if(this.hasPlaybackControl===!1)console.warn("THREE.Audio: this Audio has no playback control.");else return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var t=1,o=this.filters.length;t<o;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var t=1,o=this.filters.length;t<o;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),this.isPlaying===!0?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},setDetune:function(t){if(this.detune=t,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(this.hasPlaybackControl===!1)console.warn("THREE.Audio: this Audio has no playback control.");else return this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){if(this.hasPlaybackControl===!1)console.warn("THREE.Audio: this Audio has no playback control.");else return this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this},setLoopStart:function(t){return this.loopStart=t,this},setLoopEnd:function(t){return this.loopEnd=t,this},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}});var r1=new W,Yb=new G,BM=new W,n1=new W;g2.prototype=Xe(Ge(U1.prototype),{constructor:g2,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){return this.panner.refDistance=t,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){return this.panner.rolloffFactor=t,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){return this.panner.distanceModel=t,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){return this.panner.maxDistance=t,this},setDirectionalCone:function(t,o,p){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=o,this.panner.coneOuterGain=p,this},updateMatrixWorld:function(t){if(Me.prototype.updateMatrixWorld.call(this,t),this.hasPlaybackControl!==!0||this.isPlaying!==!1)if(this.matrixWorld.decompose(r1,Yb,BM),n1.set(0,0,1).applyQuaternion(Yb),t=this.panner,t.positionX){var o=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(r1.x,o),t.positionY.linearRampToValueAtTime(r1.y,o),t.positionZ.linearRampToValueAtTime(r1.z,o),t.orientationX.linearRampToValueAtTime(n1.x,o),t.orientationY.linearRampToValueAtTime(n1.y,o),t.orientationZ.linearRampToValueAtTime(n1.z,o)}else t.setPosition(r1.x,r1.y,r1.z),t.setOrientation(n1.x,n1.y,n1.z)}}),Xe(y2.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,o=this.getFrequencyData(),p=0;p<o.length;p++)t+=o[p];return t/o.length}}),Xe(x2.prototype,{accumulate:function(t,o){var p=this.buffer,g=this.valueSize;t=t*g+g;var b=this.cumulativeWeight;if(b===0){for(b=0;b!==g;++b)p[t+b]=p[b];b=o}else b+=o,this._mixBufferRegion(p,t,0,o/b,g);this.cumulativeWeight=b},accumulateAdditive:function(t){var o=this.buffer,p=this.valueSize,g=p*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(o,g,0,t,p),this.cumulativeWeightAdditive+=t},apply:function(t){var o=this.valueSize,p=this.buffer;t=t*o+o;var g=this.cumulativeWeight,b=this.cumulativeWeightAdditive,_=this.binding;for(this.cumulativeWeightAdditive=this.cumulativeWeight=0,1>g&&this._mixBufferRegion(p,t,o*this._origIndex,1-g,o),0<b&&this._mixBufferRegionAdditive(p,t,this._addIndex*o,1,o),g=o,b=o+o;g!==b;++g)if(p[g]!==p[g+o]){_.setValue(p,t);break}},saveOriginalState:function(){var t=this.buffer,o=this.valueSize,p=o*this._origIndex;this.binding.getValue(t,p);for(var g=o;g!==p;++g)t[g]=t[p+g%o];this._setIdentity(),this.cumulativeWeightAdditive=this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_setAdditiveIdentityNumeric:function(){for(var t=this._addIndex*this.valueSize,o=t+this.valueSize;t<o;t++)this.buffer[t]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[4*this._addIndex+3]=1},_setAdditiveIdentityOther:function(){for(var t=this._origIndex*this.valueSize,o=this._addIndex*this.valueSize,p=0;p<this.valueSize;p++)this.buffer[o+p]=this.buffer[t+p]},_select:function(t,o,p,g,b){if(.5<=g)for(g=0;g!==b;++g)t[o+g]=t[p+g]},_slerp:function(t,o,p,g){G.slerpFlat(t,o,t,o,t,p,g)},_slerpAdditive:function(t,o,p,g,b){b*=this._workIndex,G.multiplyQuaternionsFlat(t,b,t,o,t,p),G.slerpFlat(t,o,t,o,t,b,g)},_lerp:function(t,o,p,g,b){for(var _=1-g,D=0;D!==b;++D){var k=o+D;t[k]=t[k]*_+t[p+D]*g}},_lerpAdditive:function(t,o,p,g,b){for(var _=0;_!==b;++_){var D=o+_;t[D]+=t[p+_]*g}}});var jM=/[\[\]\.:\/]/g,zM="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",UM=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),kM=/(WCOD+)?/.source.replace("WCOD",zM),HM=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),VM=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),WM=new RegExp("^"+UM+kM+HM+VM+"$"),GM=["material","materials","bones"];Xe(Qw.prototype,{getValue:function(t,o){this.bind();var p=this._bindings[this._targetGroup.nCachedObjects_];p!==void 0&&p.getValue(t,o)},setValue:function(t,o){for(var p=this._bindings,g=this._targetGroup.nCachedObjects_,b=p.length;g!==b;++g)p[g].setValue(t,o)},bind:function(){for(var t=this._bindings,o=this._targetGroup.nCachedObjects_,p=t.length;o!==p;++o)t[o].bind()},unbind:function(){for(var t=this._bindings,o=this._targetGroup.nCachedObjects_,p=t.length;o!==p;++o)t[o].unbind()}}),Xe(Yp,{Composite:Qw,create:function(t,o,p){return t&&t.isAnimationObjectGroup?new Yp.Composite(t,o,p):new Yp(t,o,p)},sanitizeNodeName:function(t){return t.replace(/\s/g,"_").replace(jM,"")},parseTrackName:function(t){var o=WM.exec(t);if(!o)throw Error("PropertyBinding: Cannot parse trackName: "+t);o={nodeName:o[2],objectName:o[3],objectIndex:o[4],propertyName:o[5],propertyIndex:o[6]};var p=o.nodeName&&o.nodeName.lastIndexOf(".");if(p!==void 0&&p!==-1){var g=o.nodeName.substring(p+1);GM.indexOf(g)!==-1&&(o.nodeName=o.nodeName.substring(0,p),o.objectName=g)}if(o.propertyName===null||o.propertyName.length===0)throw Error("PropertyBinding: can not parse propertyName from trackName: "+t);return o},findNode:function(t,o){if(!o||o===""||o==="."||o===-1||o===t.name||o===t.uuid)return t;if(t.skeleton){var p=t.skeleton.getBoneByName(o);if(p!==void 0)return p}return t.children&&(t=function g(b){for(var _=0;_<b.length;_++){var D=b[_];if(D.name===o||D.uuid===o||(D=g(D.children)))return D}return null}(t.children))?t:null}}),Xe(Yp.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(u,t){u[t]=this.node[this.propertyName]},function(u,t){for(var o=this.resolvedProperty,p=0,g=o.length;p!==g;++p)u[t++]=o[p]},function(u,t){u[t]=this.resolvedProperty[this.propertyIndex]},function(u,t){this.resolvedProperty.toArray(u,t)}],SetterByBindingTypeAndVersioning:[[function(u,t){this.targetObject[this.propertyName]=u[t]},function(u,t){this.targetObject[this.propertyName]=u[t],this.targetObject.needsUpdate=!0},function(u,t){this.targetObject[this.propertyName]=u[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(u,t){for(var o=this.resolvedProperty,p=0,g=o.length;p!==g;++p)o[p]=u[t++]},function(u,t){for(var o=this.resolvedProperty,p=0,g=o.length;p!==g;++p)o[p]=u[t++];this.targetObject.needsUpdate=!0},function(u,t){for(var o=this.resolvedProperty,p=0,g=o.length;p!==g;++p)o[p]=u[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(u,t){this.resolvedProperty[this.propertyIndex]=u[t]},function(u,t){this.resolvedProperty[this.propertyIndex]=u[t],this.targetObject.needsUpdate=!0},function(u,t){this.resolvedProperty[this.propertyIndex]=u[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(u,t){this.resolvedProperty.fromArray(u,t)},function(u,t){this.resolvedProperty.fromArray(u,t),this.targetObject.needsUpdate=!0},function(u,t){this.resolvedProperty.fromArray(u,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,o){this.bind(),this.getValue(t,o)},setValue:function(t,o){this.bind(),this.setValue(t,o)},bind:function(){var t=this.node,o=this.parsedPath,p=o.objectName,g=o.propertyName,b=o.propertyIndex;if(t||(this.node=t=Yp.findNode(this.rootNode,o.nodeName)||this.rootNode),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(p){var _=o.objectIndex;switch(p){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}for(t=t.skeleton.bones,p=0;p<t.length;p++)if(t[p].name===_){_=p;break}break;default:if(t[p]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[p]}if(_!==void 0){if(t[_]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[_]}}if(_=t[g],_===void 0)console.error("THREE.PropertyBinding: Trying to update property for track: "+o.nodeName+"."+g+" but it wasn't found.",t);else{if(o=this.Versioning.None,this.targetObject=t,t.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:t.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate),p=this.BindingType.Direct,b!==void 0){if(g==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[b]!==void 0&&(b=t.morphTargetDictionary[b])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}p=this.BindingType.ArrayElement,this.resolvedProperty=_,this.propertyIndex=b}else _.fromArray!==void 0&&_.toArray!==void 0?(p=this.BindingType.HasFromToArray,this.resolvedProperty=_):Array.isArray(_)?(p=this.BindingType.EntireArray,this.resolvedProperty=_):this.propertyName=g;this.getValue=this.GetterByBindingType[p],this.setValue=this.SetterByBindingTypeAndVersioning[p][o]}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Xe(Yp.prototype,{_getValue_unbound:Yp.prototype.getValue,_setValue_unbound:Yp.prototype.setValue}),Xe(qw.prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,o=t.length,p=this.nCachedObjects_,g=this._indicesByUUID,b=this._paths,_=this._parsedPaths,D=this._bindings,k=D.length,X=void 0,$=0,de=arguments.length;$!==de;++$){var ge=arguments[$],me=ge.uuid,Ee=g[me];if(Ee===void 0){Ee=o++,g[me]=Ee,t.push(ge),me=0;for(var ke=k;me!==ke;++me)D[me].push(new Yp(ge,b[me],_[me]))}else if(Ee<p){X=t[Ee];var xt=--p;for(ke=t[xt],g[ke.uuid]=Ee,t[Ee]=ke,g[me]=xt,t[xt]=ge,me=0,ke=k;me!==ke;++me){var qt=D[me],Qt=qt[Ee];qt[Ee]=qt[xt],Qt===void 0&&(Qt=new Yp(ge,b[me],_[me])),qt[xt]=Qt}}else t[Ee]!==X&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p},remove:function(){for(var t=this._objects,o=this.nCachedObjects_,p=this._indicesByUUID,g=this._bindings,b=g.length,_=0,D=arguments.length;_!==D;++_){var k=arguments[_],X=k.uuid,$=p[X];if($!==void 0&&$>=o){var de=o++,ge=t[de];for(p[ge.uuid]=$,t[$]=ge,p[X]=de,t[de]=k,k=0,X=b;k!==X;++k){ge=g[k];var me=ge[$];ge[$]=ge[de],ge[de]=me}}}this.nCachedObjects_=o},uncache:function(){for(var t=this._objects,o=t.length,p=this.nCachedObjects_,g=this._indicesByUUID,b=this._bindings,_=b.length,D=0,k=arguments.length;D!==k;++D){var X=arguments[D].uuid,$=g[X];if($!==void 0)if(delete g[X],$<p){X=--p;var de=t[X],ge=--o,me=t[ge];for(g[de.uuid]=$,t[$]=de,g[me.uuid]=X,t[X]=me,t.pop(),de=0,me=_;de!==me;++de){var Ee=b[de],ke=Ee[ge];Ee[$]=Ee[X],Ee[X]=ke,Ee.pop()}}else for(ge=--o,me=t[ge],g[me.uuid]=$,t[$]=me,t.pop(),de=0,me=_;de!==me;++de)Ee=b[de],Ee[$]=Ee[ge],Ee.pop()}this.nCachedObjects_=p},subscribe_:function(t,o){var p=this._bindingsIndicesByPath,g=p[t],b=this._bindings;if(g!==void 0)return b[g];var _=this._paths,D=this._parsedPaths,k=this._objects,X=this.nCachedObjects_,$=Array(k.length);for(g=b.length,p[t]=g,_.push(t),D.push(o),b.push($),p=X,g=k.length;p!==g;++p)$[p]=new Yp(k[p],t,o);return $},unsubscribe_:function(t){var o=this._bindingsIndicesByPath,p=o[t];if(p!==void 0){var g=this._paths,b=this._parsedPaths,_=this._bindings,D=_.length-1,k=_[D];o[t[D]]=p,_[p]=k,_.pop(),b[p]=b[D],b.pop(),g[p]=g[D],g.pop()}}}),Xe($w.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,o){return this.loop=t,this.repetitions=o,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,o,p){if(t.fadeOut(o),this.fadeIn(o),p){p=this._clip.duration;var g=t._clip.duration,b=p/g;t.warp(1,g/p,o),this.warp(b,1,o)}return this},crossFadeTo:function(t,o,p){return t.crossFadeFrom(this,o,p)},stopFading:function(){var t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,o,p){var g=this._mixer,b=g.time,_=this._timeScaleInterpolant,D=this.timeScale;return _===null&&(this._timeScaleInterpolant=_=g._lendControlInterpolant()),g=_.parameterPositions,_=_.sampleValues,g[0]=b,g[1]=b+p,_[0]=t/D,_[1]=o/D,this},stopWarping:function(){var t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,o,p,g){if(this.enabled){var b=this._startTime;if(b!==null){if(o=(t-b)*p,0>o||p===0)return;this._startTime=null,o*=p}if(o*=this._updateTimeScale(t),p=this._updateTime(o),t=this._updateWeight(t),0<t)switch(o=this._interpolants,b=this._propertyBindings,this.blendMode){case 2501:for(var _=0,D=o.length;_!==D;++_)o[_].evaluate(p),b[_].accumulateAdditive(t);break;default:for(_=0,D=o.length;_!==D;++_)o[_].evaluate(p),b[_].accumulate(g,t)}}else this._updateWeight(t)},_updateWeight:function(t){var o=0;if(this.enabled){o=this.weight;var p=this._weightInterpolant;if(p!==null){var g=p.evaluate(t)[0];o*=g,t>p.parameterPositions[1]&&(this.stopFading(),g===0&&(this.enabled=!1))}}return this._effectiveWeight=o},_updateTimeScale:function(t){var o=0;if(!this.paused){o=this.timeScale;var p=this._timeScaleInterpolant;if(p!==null){var g=p.evaluate(t)[0];o*=g,t>p.parameterPositions[1]&&(this.stopWarping(),o===0?this.paused=!0:this.timeScale=o)}}return this._effectiveTimeScale=o},_updateTime:function(t){var o=this.time+t,p=this._clip.duration,g=this.loop,b=this._loopCount,_=g===2202;if(t===0)return b===-1?o:_&&(b&1)==1?p-o:o;if(g===2200)e:{if(b===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1)),o>=p)o=p;else if(0>o)o=0;else{this.time=o;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=o,this._mixer.dispatchEvent({type:"finished",action:this,direction:0>t?-1:1})}else{if(b===-1&&(0<=t?(b=0,this._setEndings(!0,this.repetitions===0,_)):this._setEndings(this.repetitions===0,!0,_)),o>=p||0>o){g=Math.floor(o/p),o-=p*g,b+=Math.abs(g);var D=this.repetitions-b;0>=D?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=o=0<t?p:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<t?1:-1})):(D===1?(t=0>t,this._setEndings(t,!t,_)):this._setEndings(!1,!1,_),this._loopCount=b,this.time=o,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:g}))}else this.time=o;if(_&&(b&1)==1)return p-o}return o},_setEndings:function(t,o,p){var g=this._interpolantSettings;p?(g.endingStart=2401,g.endingEnd=2401):(g.endingStart=t?this.zeroSlopeAtStart?2401:2400:2402,g.endingEnd=o?this.zeroSlopeAtEnd?2401:2400:2402)},_scheduleFading:function(t,o,p){var g=this._mixer,b=g.time,_=this._weightInterpolant;return _===null&&(this._weightInterpolant=_=g._lendControlInterpolant()),g=_.parameterPositions,_=_.sampleValues,g[0]=b,_[0]=o,g[1]=b+t,_[1]=p,this}}),C2.prototype=Xe(Ge(s.prototype),{constructor:C2,_bindAction:function(t,o){var p=t._localRoot||this._root,g=t._clip.tracks,b=g.length,_=t._propertyBindings;t=t._interpolants;var D=p.uuid,k=this._bindingsByRootAndName,X=k[D];for(X===void 0&&(X={},k[D]=X),k=0;k!==b;++k){var $=g[k],de=$.name,ge=X[de];if(ge===void 0){if(ge=_[k],ge!==void 0){ge._cacheIndex===null&&(++ge.referenceCount,this._addInactiveBinding(ge,D,de));continue}ge=new x2(Yp.create(p,de,o&&o._propertyBindings[k].binding.parsedPath),$.ValueTypeName,$.getValueSize()),++ge.referenceCount,this._addInactiveBinding(ge,D,de)}_[k]=ge,t[k].resultBuffer=ge.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){var o=(t._localRoot||this._root).uuid,p=t._clip.uuid,g=this._actionsByClip[p];this._bindAction(t,g&&g.knownActions[0]),this._addInactiveAction(t,p,o)}for(o=t._propertyBindings,p=0,g=o.length;p!==g;++p){var b=o[p];b.useCount++==0&&(this._lendBinding(b),b.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var o=t._propertyBindings,p=0,g=o.length;p!==g;++p){var b=o[p];--b.useCount==0&&(b.restoreOriginalState(),this._takeBackBinding(b))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){return t=t._cacheIndex,t!==null&&t<this._nActiveActions},_addInactiveAction:function(t,o,p){var g=this._actions,b=this._actionsByClip,_=b[o];_===void 0?(_={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,b[o]=_):(o=_.knownActions,t._byClipCacheIndex=o.length,o.push(t)),t._cacheIndex=g.length,g.push(t),_.actionByRoot[p]=t},_removeInactiveAction:function(t){var o=this._actions,p=o[o.length-1],g=t._cacheIndex;p._cacheIndex=g,o[g]=p,o.pop(),t._cacheIndex=null,o=t._clip.uuid,p=this._actionsByClip,g=p[o];var b=g.knownActions,_=b[b.length-1],D=t._byClipCacheIndex;_._byClipCacheIndex=D,b[D]=_,b.pop(),t._byClipCacheIndex=null,delete g.actionByRoot[(t._localRoot||this._root).uuid],b.length===0&&delete p[o],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){t=t._propertyBindings;for(var o=0,p=t.length;o!==p;++o){var g=t[o];--g.referenceCount==0&&this._removeInactiveBinding(g)}},_lendAction:function(t){var o=this._actions,p=t._cacheIndex,g=this._nActiveActions++,b=o[g];t._cacheIndex=g,o[g]=t,b._cacheIndex=p,o[p]=b},_takeBackAction:function(t){var o=this._actions,p=t._cacheIndex,g=--this._nActiveActions,b=o[g];t._cacheIndex=g,o[g]=t,b._cacheIndex=p,o[p]=b},_addInactiveBinding:function(t,o,p){var g=this._bindingsByRootAndName,b=g[o],_=this._bindings;b===void 0&&(b={},g[o]=b),b[p]=t,t._cacheIndex=_.length,_.push(t)},_removeInactiveBinding:function(t){var o=this._bindings,p=t.binding,g=p.rootNode.uuid;p=p.path;var b=this._bindingsByRootAndName,_=b[g],D=o[o.length-1];t=t._cacheIndex,D._cacheIndex=t,o[t]=D,o.pop(),delete _[p],Vc(_).length===0&&delete b[g]},_lendBinding:function(t){var o=this._bindings,p=t._cacheIndex,g=this._nActiveBindings++,b=o[g];t._cacheIndex=g,o[g]=t,b._cacheIndex=p,o[p]=b},_takeBackBinding:function(t){var o=this._bindings,p=t._cacheIndex,g=--this._nActiveBindings,b=o[g];t._cacheIndex=g,o[g]=t,b._cacheIndex=p,o[p]=b},_lendControlInterpolant:function(){var t=this._controlInterpolants,o=this._nActiveControlInterpolants++,p=t[o];return p===void 0&&(p=new Yx(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),p.__cacheIndex=o,t[o]=p),p},_takeBackControlInterpolant:function(t){var o=this._controlInterpolants,p=t.__cacheIndex,g=--this._nActiveControlInterpolants,b=o[g];t.__cacheIndex=g,o[g]=t,b.__cacheIndex=p,o[p]=b},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,o,p){var g=o||this._root,b=g.uuid;g=typeof t=="string"?Ov.findByName(g,t):t,t=g!==null?g.uuid:t;var _=this._actionsByClip[t],D=null;if(p===void 0&&(p=g!==null?g.blendMode:2500),_!==void 0){if(D=_.actionByRoot[b],D!==void 0&&D.blendMode===p)return D;D=_.knownActions[0],g===null&&(g=D._clip)}return g===null?null:(o=new $w(this,g,o,p),this._bindAction(o,D),this._addInactiveAction(o,t,b),o)},existingAction:function(t,o){var p=o||this._root;return o=p.uuid,p=typeof t=="string"?Ov.findByName(p,t):t,t=this._actionsByClip[p?p.uuid:t],t!==void 0&&t.actionByRoot[o]||null},stopAllAction:function(){for(var t=this._actions,o=this._nActiveActions-1;0<=o;--o)t[o].stop();return this},update:function(t){t*=this.timeScale;for(var o=this._actions,p=this._nActiveActions,g=this.time+=t,b=Im(t),_=this._accuIndex^=1,D=0;D!==p;++D)o[D]._update(g,t,b,_);for(t=this._bindings,o=this._nActiveBindings,D=0;D!==o;++D)t[D].apply(_);return this},setTime:function(t){for(var o=this.time=0;o<this._actions.length;o++)this._actions[o].time=0;return this.update(t)},getRoot:function(){return this._root},uncacheClip:function(t){var o=this._actions;t=t.uuid;var p=this._actionsByClip,g=p[t];if(g!==void 0){g=g.knownActions;for(var b=0,_=g.length;b!==_;++b){var D=g[b];this._deactivateAction(D);var k=D._cacheIndex,X=o[o.length-1];D._cacheIndex=null,D._byClipCacheIndex=null,X._cacheIndex=k,o[k]=X,o.pop(),this._removeInactiveBindingsForAction(D)}delete p[t]}},uncacheRoot:function(t){t=t.uuid;var o=this._actionsByClip;for(g in o){var p=o[g].actionByRoot[t];p!==void 0&&(this._deactivateAction(p),this._removeInactiveAction(p))}var g=this._bindingsByRootAndName[t];if(g!==void 0)for(var b in g)t=g[b],t.restoreOriginalState(),this._removeInactiveBinding(t)},uncacheAction:function(t,o){t=this.existingAction(t,o),t!==null&&(this._deactivateAction(t),this._removeInactiveAction(t))}}),sA.prototype.clone=function(){return new sA(this.value.clone===void 0?this.value:this.value.clone())},A2.prototype=Xe(Ge(n0.prototype),{constructor:A2,isInstancedInterleavedBuffer:!0,copy:function(t){return n0.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Xe(w2.prototype,{set:function(t,o){this.ray.set(t,o)},setFromCamera:function(t,o){o&&o.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(o.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(o).sub(this.ray.origin).normalize(),this.camera=o):o&&o.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(o.near+o.far)/(o.near-o.far)).unproject(o),this.ray.direction.set(0,0,-1).transformDirection(o.matrixWorld),this.camera=o):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,o,p){return p=p||[],b2(t,this,p,o),p.sort(eb),p},intersectObjects:function(t,o,p){if(p=p||[],Array.isArray(t)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),p;for(var g=0,b=t.length;g<b;g++)b2(t[g],this,p,o);return p.sort(eb),p}}),Xe(tb.prototype,{set:function(t,o,p){return this.radius=t,this.phi=o,this.theta=p,this},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,o,p){return this.radius=Math.sqrt(t*t+o*o+p*p),this.radius===0?this.phi=this.theta=0:(this.theta=Math.atan2(t,p),this.phi=Math.acos(Ll.clamp(o/this.radius,-1,1))),this}}),Xe(rb.prototype,{set:function(t,o,p){return this.radius=t,this.theta=o,this.y=p,this},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,o,p){return this.radius=Math.sqrt(t*t+p*p),this.theta=Math.atan2(t,p),this.y=o,this}});var Xb=new c;Xe(S2.prototype,{set:function(t,o){return this.min.copy(t),this.max.copy(o),this},setFromPoints:function(t){this.makeEmpty();for(var o=0,p=t.length;o<p;o++)this.expandByPoint(t[o]);return this},setFromCenterAndSize:function(t,o){return o=Xb.copy(o).multiplyScalar(.5),this.min.copy(t).sub(o),this.max.copy(t).add(o),this},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=Infinity,this.max.x=this.max.y=-Infinity,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return t===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new c),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return t===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new c),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,o){return o===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),o=new c),o.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,o){return o===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),o=new c),o.copy(t).clamp(this.min,this.max)},distanceToPoint:function(t){return Xb.copy(t).clamp(this.min,this.max).sub(t).length()},intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}});var Kb=new W,NA=new W;Xe(M2.prototype,{set:function(t,o){return this.start.copy(t),this.end.copy(o),this},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return t===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),t=new W),t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return t===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),t=new W),t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,o){return o===void 0&&(console.warn("THREE.Line3: .at() target is now required"),o=new W),this.delta(o).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(t,o){return Kb.subVectors(t,this.start),NA.subVectors(this.end,this.start),t=NA.dot(NA),t=NA.dot(Kb)/t,o&&(t=Ll.clamp(t,0,1)),t},closestPointToPoint:function(t,o,p){return t=this.closestPointToPointParameter(t,o),p===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),p=new W),this.delta(p).multiplyScalar(t).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),Qx.prototype=Ge(Me.prototype),Qx.prototype.constructor=Qx,Qx.prototype.isImmediateRenderObject=!0;var Zb=new W;k1.prototype=Ge(Me.prototype),k1.prototype.constructor=k1,k1.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},k1.prototype.update=function(){this.light.updateMatrixWorld();var u=this.light.distance?this.light.distance:1e3,t=u*Math.tan(this.light.angle);this.cone.scale.set(t,t,u),Zb.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Zb),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var cy=new W,FA=new ae,ow=new ae;Ky.prototype=Ge(Bh.prototype),Ky.prototype.constructor=Ky,Ky.prototype.isSkeletonHelper=!0,Ky.prototype.updateMatrixWorld=function(u){var t=this.bones,o=this.geometry,p=o.getAttribute("position");ow.getInverse(this.root.matrixWorld);for(var g=0,b=0;g<t.length;g++){var _=t[g];_.parent&&_.parent.isBone&&(FA.multiplyMatrices(ow,_.matrixWorld),cy.setFromMatrixPosition(FA),p.setXYZ(b,cy.x,cy.y,cy.z),FA.multiplyMatrices(ow,_.parent.matrixWorld),cy.setFromMatrixPosition(FA),p.setXYZ(b+1,cy.x,cy.y,cy.z),b+=2)}o.getAttribute("position").needsUpdate=!0,Me.prototype.updateMatrixWorld.call(this,u)},H1.prototype=Ge(Hr.prototype),H1.prototype.constructor=H1,H1.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},H1.prototype.update=function(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)};var YM=new W,Jb=new wt,Qb=new wt;V1.prototype=Ge(Me.prototype),V1.prototype.constructor=V1,V1.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},V1.prototype.update=function(){var u=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{var t=u.geometry.getAttribute("color");Jb.copy(this.light.color),Qb.copy(this.light.groundColor);for(var o=0,p=t.count;o<p;o++){var g=o<p/2?Jb:Qb;t.setXYZ(o,g.r,g.g,g.b)}t.needsUpdate=!0}u.lookAt(YM.setFromMatrixPosition(this.light.matrixWorld).negate())},lA.prototype=Xe(Ge(Bh.prototype),{constructor:lA,copy:function(t){return Bh.prototype.copy.call(this,t),this.geometry.copy(t.geometry),this.material.copy(t.material),this},clone:function(){return new this.constructor().copy(this)}}),uA.prototype=Ge(Bh.prototype),uA.prototype.constructor=uA;var qb=new W,BA=new W,$b=new W;W1.prototype=Ge(Me.prototype),W1.prototype.constructor=W1,W1.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},W1.prototype.update=function(){qb.setFromMatrixPosition(this.light.matrixWorld),BA.setFromMatrixPosition(this.light.target.matrixWorld),$b.subVectors(BA,qb),this.lightPlane.lookAt(BA),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(BA),this.targetLine.scale.z=$b.length()};var jA=new W,rd=new Ii;qx.prototype=Ge(Bh.prototype),qx.prototype.constructor=qx,qx.prototype.update=function(){var u=this.geometry,t=this.pointMap;rd.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Md("c",t,u,rd,0,0,-1),Md("t",t,u,rd,0,0,1),Md("n1",t,u,rd,-1,-1,-1),Md("n2",t,u,rd,1,-1,-1),Md("n3",t,u,rd,-1,1,-1),Md("n4",t,u,rd,1,1,-1),Md("f1",t,u,rd,-1,-1,1),Md("f2",t,u,rd,1,-1,1),Md("f3",t,u,rd,-1,1,1),Md("f4",t,u,rd,1,1,1),Md("u1",t,u,rd,.7,1.1,-1),Md("u2",t,u,rd,-.7,1.1,-1),Md("u3",t,u,rd,0,2,-1),Md("cf1",t,u,rd,-1,0,1),Md("cf2",t,u,rd,1,0,1),Md("cf3",t,u,rd,0,-1,1),Md("cf4",t,u,rd,0,1,1),Md("cn1",t,u,rd,-1,0,-1),Md("cn2",t,u,rd,1,0,-1),Md("cn3",t,u,rd,0,-1,-1),Md("cn4",t,u,rd,0,1,-1),u.getAttribute("position").needsUpdate=!0};var zA=new Nt;s0.prototype=Ge(Bh.prototype),s0.prototype.constructor=s0,s0.prototype.update=function(u){if(u!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&zA.setFromObject(this.object),!zA.isEmpty()){u=zA.min;var t=zA.max,o=this.geometry.attributes.position,p=o.array;p[0]=t.x,p[1]=t.y,p[2]=t.z,p[3]=u.x,p[4]=t.y,p[5]=t.z,p[6]=u.x,p[7]=u.y,p[8]=t.z,p[9]=t.x,p[10]=u.y,p[11]=t.z,p[12]=t.x,p[13]=t.y,p[14]=u.z,p[15]=u.x,p[16]=t.y,p[17]=u.z,p[18]=u.x,p[19]=u.y,p[20]=u.z,p[21]=t.x,p[22]=u.y,p[23]=u.z,o.needsUpdate=!0,this.geometry.computeBoundingSphere()}},s0.prototype.setFromObject=function(u){return this.object=u,this.update(),this},s0.prototype.copy=function(u){return Bh.prototype.copy.call(this,u),this.object=u.object,this},s0.prototype.clone=function(){return new this.constructor().copy(this)},$x.prototype=Ge(Bh.prototype),$x.prototype.constructor=$x,$x.prototype.updateMatrixWorld=function(u){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),Me.prototype.updateMatrixWorld.call(this,u))},eC.prototype=Ge(ev.prototype),eC.prototype.constructor=eC,eC.prototype.updateMatrixWorld=function(u){var t=-this.plane.constant;1e-8>Math.abs(t)&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=0>t?1:0,this.lookAt(this.plane.normal),Me.prototype.updateMatrixWorld.call(this,u)};var eS=new W,UA,aw;l0.prototype=Ge(Me.prototype),l0.prototype.constructor=l0,l0.prototype.setDirection=function(u){.99999<u.y?this.quaternion.set(0,0,0,1):-.99999>u.y?this.quaternion.set(1,0,0,0):(eS.set(u.z,0,-u.x).normalize(),this.quaternion.setFromAxisAngle(eS,Math.acos(u.y)))},l0.prototype.setLength=function(u,t,o){t===void 0&&(t=.2*u),o===void 0&&(o=.2*t),this.line.scale.set(1,Math.max(1e-4,u-t),1),this.line.updateMatrix(),this.cone.scale.set(o,t,o),this.cone.position.y=u,this.cone.updateMatrix()},l0.prototype.setColor=function(u){this.line.material.color.set(u),this.cone.material.color.set(u)},l0.prototype.copy=function(u){return Me.prototype.copy.call(this,u,!1),this.line.copy(u.line),this.cone.copy(u.cone),this},l0.prototype.clone=function(){return new this.constructor().copy(this)},tC.prototype=Ge(Bh.prototype),tC.prototype.constructor=tC;var Bg=Math.pow(2,8),tS=[.125,.215,.35,.446,.526,.582],rS=5+tS.length,jg={3e3:0,3001:1,3002:2,3004:3,3005:4,3006:5,3007:6},sw=new z1,lw=function(){for(var u=[],t=[],o=[],p=8,g=0;g<rS;g++){var b=Math.pow(2,p);t.push(b);var _=1/b;4<g?_=tS[g-8+4-1]:g==0&&(_=0),o.push(_),_=1/(b-1),b=-_/2,_=1+_/2;var D=[b,b,_,b,_,_,b,b,_,_,b,_];b=new Float32Array(108),_=new Float32Array(72);for(var k=new Float32Array(36),X=0;6>X;X++){var $=X%3*2/3-1,de=2<X?0:-1;b.set([$,de,0,$+2/3,de,0,$+2/3,de+1,0,$,de,0,$+2/3,de+1,0,$,de+1,0],18*X),_.set(D,12*X),k.set([X,X,X,X,X,X],6*X)}D=new Kt,D.setAttribute("position",new En(b,3)),D.setAttribute("uv",new En(_,2)),D.setAttribute("faceIndex",new En(k,1)),u.push(D),4<p&&p--}return{_lodPlanes:u,_sizeLods:t,_sigmas:o}}(),dC=lw._lodPlanes,nS=lw._sizeLods,kA=lw._sigmas,uw=null,i1=(1+Math.sqrt(5))/2,lx=1/i1,iS=[new W(1,1,1),new W(-1,1,1),new W(1,1,-1),new W(-1,1,-1),new W(0,i1,lx),new W(0,i1,-lx),new W(lx,0,i1),new W(-lx,0,i1),new W(i1,lx,0),new W(-i1,lx,0)];E2.prototype={constructor:E2,fromScene:function(t,o,p,g){o===void 0&&(o=0),p===void 0&&(p=.1),g===void 0&&(g=100),uw=this._renderer.getRenderTarget();var b=this._allocateTargets();return this._sceneToCubeUV(t,p,g,b),0<o&&this._blur(b,0,0,o),this._applyPMREM(b),this._cleanup(b),b},fromEquirectangular:function(t){return t.magFilter=1003,t.minFilter=1003,t.generateMipmaps=!1,this.fromCubemap(t)},fromCubemap:function(t){uw=this._renderer.getRenderTarget();var o=this._allocateTargets(t);return this._textureToCubeUV(t,o),this._applyPMREM(o),this._cleanup(o),o},compileCubemapShader:function(){this._cubemapShader===null&&(this._cubemapShader=ab(),this._compileMaterial(this._cubemapShader))},compileEquirectangularShader:function(){this._equirectShader===null&&(this._equirectShader=ob(),this._compileMaterial(this._equirectShader))},dispose:function(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(var t=0;t<dC.length;t++)dC[t].dispose()},_cleanup:function(t){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(uw),t.scissorTest=!1,t.setSize(t.width,t.height)},_allocateTargets:function(t){var o=t===void 0||t.type!==1009?!1:t.encoding===3e3||t.encoding===3001||t.encoding===3007;o={magFilter:1003,minFilter:1003,generateMipmaps:!1,type:1009,format:1023,encoding:o?t.encoding:3002,depthBuffer:!1,stencilBuffer:!1};var p=ib(o);return p.depthBuffer=!t,this._pingPongRenderTarget=ib(o),p},_compileMaterial:function(t){t=new Hr(dC[0],t),this._renderer.compile(t,sw)},_sceneToCubeUV:function(t,o,p,g){o=new Ln(90,1,o,p),p=[1,-1,1,1,1,1];var b=[1,1,1,-1,-1,-1],_=this._renderer,D=_.outputEncoding,k=_.toneMapping,X=_.toneMappingExposure,$=_.getClearColor(),de=_.getClearAlpha();_.toneMapping=1,_.toneMappingExposure=1,_.outputEncoding=3e3;var ge=t.background;if(ge&&ge.isColor){ge.convertSRGBToLinear();var me=Math.min(Math.max(Math.ceil(hh(Math.max(ge.r,ge.g,ge.b))),-128),127);ge=ge.multiplyScalar(Math.pow(2,-me)),_.setClearColor(ge,(me+128)/255),t.background=null}for(ge=0;6>ge;ge++)me=ge%3,me==0?(o.up.set(0,p[ge],0),o.lookAt(b[ge],0,0)):me==1?(o.up.set(0,0,p[ge]),o.lookAt(0,b[ge],0)):(o.up.set(0,p[ge],0),o.lookAt(0,0,b[ge])),T2(g,me*Bg,2<ge?Bg:0,Bg,Bg),_.setRenderTarget(g),_.render(t,o);_.toneMapping=k,_.toneMappingExposure=X,_.outputEncoding=D,_.setClearColor($,de)},_textureToCubeUV:function(t,o){var p=this._renderer;t.isCubeTexture?this._cubemapShader==null&&(this._cubemapShader=ab()):this._equirectShader==null&&(this._equirectShader=ob());var g=t.isCubeTexture?this._cubemapShader:this._equirectShader,b=new Hr(dC[0],g);g=g.uniforms,g.envMap.value=t,t.isCubeTexture||g.texelSize.value.set(1/t.image.width,1/t.image.height),g.inputEncoding.value=jg[t.encoding],g.outputEncoding.value=jg[o.texture.encoding],T2(o,0,0,3*Bg,2*Bg),p.setRenderTarget(o),p.render(b,sw)},_applyPMREM:function(t){var o=this._renderer,p=o.autoClear;o.autoClear=!1;for(var g=1;g<rS;g++)this._blur(t,g-1,g,Math.sqrt(kA[g]*kA[g]-kA[g-1]*kA[g-1]),iS[(g-1)%iS.length]);o.autoClear=p},_blur:function(t,o,p,g,b){var _=this._pingPongRenderTarget;this._halfBlur(t,_,o,p,g,"latitudinal",b),this._halfBlur(_,t,p,p,g,"longitudinal",b)},_halfBlur:function(t,o,p,g,b,_,D){var k=this._renderer,X=this._blurMaterial;_!=="latitudinal"&&_!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");var $=new Hr(dC[g],X);X=X.uniforms;var de=nS[p]-1;de=isFinite(b)?Math.PI/(2*de):2*Math.PI/39;var ge=b/de,me=isFinite(b)?1+Math.floor(3*ge):20;20<me&&console.warn("sigmaRadians, "+b+", is too large and will clip, as it requested "+me+" samples when the maximum is set to 20"),b=[];for(var Ee=0,ke=0;20>ke;++ke){var xt=ke/ge;xt=Math.exp(-xt*xt/2),b.push(xt),ke==0?Ee+=xt:ke<me&&(Ee+=2*xt)}for(ke=0;ke<b.length;ke++)b[ke]/=Ee;X.envMap.value=t.texture,X.samples.value=me,X.weights.value=b,X.latitudinal.value=_==="latitudinal",D&&(X.poleAxis.value=D),X.dTheta.value=de,X.mipInt.value=8-p,X.inputEncoding.value=jg[t.texture.encoding],X.outputEncoding.value=jg[t.texture.encoding],t=nS[g],xt=3*Math.max(0,Bg-2*t),T2(o,xt,(g===0?0:2*Bg)+2*t*(4<g?g-8+4:0),3*t,2*t),k.setRenderTarget(o),k.render($,sw)}},Ya.create=function(u,t){return u.prototype=Ge(Ya.prototype),u.prototype.constructor=u,u.prototype.getPoint=t,u},Xe(a0.prototype,{createPointsGeometry:function(t){return console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead."),t=this.getPoints(t),this.createGeometry(t)},createSpacedPointsGeometry:function(t){return console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead."),t=this.getSpacedPoints(t),this.createGeometry(t)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var o=new Or,p=0,g=t.length;p<g;p++){var b=t[p];o.vertices.push(new W(b.x,b.y,b.z||0))}return o}}),Xe(lg.prototype,{fromPoints:function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),sb.prototype=Ge(Gp.prototype),lb.prototype=Ge(Gp.prototype),P2.prototype=Ge(Gp.prototype),Xe(P2.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),lA.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Ky.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Xe(Lc.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),rw.extractUrlBase(t)}}),Lc.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Xe(oA.prototype,{setTexturePath:function(t){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(t)}}),Xe(S2.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Xe(Nt.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Xe(Bt.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),Ra.prototype.setFromMatrix=function(u){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(u)},M2.prototype.center=function(u){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(u)},Xe(Ll,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Ll.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Ll.ceilPowerOfTwo(t)}}),Xe(v.prototype,{flattenToArrayOffset:function(t,o){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,o)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Xe(ae.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,o){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,o)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new W().setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,o,p,g,b,_){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,o,g,p,b,_)}}),Ir.prototype.isIntersectionLine=function(u){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(u)},G.prototype.multiplyVector3=function(u){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),u.applyQuaternion(this)},Xe(ir.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Xe(Tr.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,o){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,o)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Xe(Tr,{barycoordFromPoint:function(t,o,p,g,b){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Tr.getBarycoord(t,o,p,g,b)},normal:function(t,o,p,g){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Tr.getNormal(t,o,p,g)}}),Xe(ty.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Fy(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new jy(this,t)}}),Xe(c.prototype,{fromAttribute:function(t,o,p){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,o,p)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Xe(W.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,o){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(o,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,o,p){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,o,p)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Xe(w.prototype,{fromAttribute:function(t,o,p){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,o,p)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Xe(Or.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(t){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Xe(Me.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,o){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(o,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Ia(Me.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Xe(Hr.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Ia(Hr.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Ia(Sx.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(RC.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),OC.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Ya.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),Ln.prototype.setLens=function(u,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),t!==void 0&&(this.filmGauge=t),this.setFocalLength(u)},Ia(kf.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Ia(En.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===35048},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(35048)}}}),Xe(En.prototype,{setDynamic:function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?35048:35044),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Xe(Kt.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addAttribute:function(t,o,p){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),o&&o.isBufferAttribute||o&&o.isInterleavedBufferAttribute?t==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(o),this):this.setAttribute(t,o):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new En(o,p)))},addDrawCall:function(t,o,p){p!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,o)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},applyMatrix:function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Ia(Kt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Ia(Jx.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(t){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=t}}}),Ia(w2.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(t){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=t}}}),Ia(n0.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===35048},set:function(t){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(t)}}}),Xe(n0.prototype,{setDynamic:function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?35048:35044),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Xe(Ig.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Ia(sA.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Ia(Pr.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new wt}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===1}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}}}),Ia(ey.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Ia(li.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Xe(qA.prototype,{clearTarget:function(t,o,p,g){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(o,p,g)},animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Ia(qA.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=t===!0?3001:3e3}}}),Ia(jw.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Ia(I.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Ia(U1.prototype,{load:{value:function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var o=this;return new aA().load(t,function(p){o.setBuffer(p)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),y2.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Oa.prototype.updateCubeMap=function(u,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(u,t)},ry.crossOrigin=void 0,ry.loadTexture=function(u,t,o,p){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var g=new YC;return g.setCrossOrigin(this.crossOrigin),u=g.load(u,o,void 0,p),t&&(u.mapping=t),u},ry.loadTextureCube=function(u,t,o,p){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var g=new GC;return g.setCrossOrigin(this.crossOrigin),u=g.load(u,o,void 0,p),t&&(u.mapping=t),u},ry.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},ry.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"117"}})),r.ACESFilmicToneMapping=5,r.AddEquation=100,r.AddOperation=2,r.AdditiveAnimationBlendMode=2501,r.AdditiveBlending=2,r.AlphaFormat=1021,r.AlwaysDepth=1,r.AlwaysStencilFunc=519,r.AmbientLight=$C,r.AmbientLightProbe=p2,r.AnimationClip=Ov,r.AnimationLoader=o2,r.AnimationMixer=C2,r.AnimationObjectGroup=qw,r.AnimationUtils=Sh,r.ArcCurve=j1,r.ArrayCamera=EC,r.ArrowHelper=l0,r.Audio=U1,r.AudioAnalyser=y2,r.AudioContext=iw,r.AudioListener=v2,r.AudioLoader=aA,r.AxesHelper=tC,r.AxisHelper=function(u){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new tC(u)},r.BackSide=1,r.BasicDepthPacking=3200,r.BasicShadowMap=0,r.BinaryTextureLoader=function(u){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new WC(u)},r.Bone=$A,r.BooleanKeyframeTrack=UC,r.BoundingBoxHelper=function(u,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new s0(u,t)},r.Box2=S2,r.Box3=Nt,r.Box3Helper=$x,r.BoxBufferGeometry=lC,r.BoxGeometry=X2,r.BoxHelper=s0,r.BufferAttribute=En,r.BufferGeometry=Kt,r.BufferGeometryLoader=iA,r.ByteType=1010,r.Cache=$y,r.Camera=Ii,r.CameraHelper=qx,r.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been removed")},r.CanvasTexture=Mx,r.CatmullRomCurve3=Gp,r.CineonToneMapping=4,r.CircleBufferGeometry=D1,r.CircleGeometry=Gx,r.ClampToEdgeWrapping=1001,r.Clock=m2,r.ClosedSplineCurve3=sb,r.Color=wt,r.ColorKeyframeTrack=kC,r.CompressedTexture=A1,r.CompressedTextureLoader=a2,r.ConeBufferGeometry=Wx,r.ConeGeometry=Vx,r.CubeCamera=Oa,r.CubeGeometry=X2,r.CubeReflectionMapping=301,r.CubeRefractionMapping=302,r.CubeTexture=Iv,r.CubeTextureLoader=GC,r.CubeUVReflectionMapping=306,r.CubeUVRefractionMapping=307,r.CubicBezierCurve=ig,r.CubicBezierCurve3=Og,r.CubicInterpolant=jC,r.CullFaceBack=1,r.CullFaceFront=2,r.CullFaceFrontBack=3,r.CullFaceNone=0,r.Curve=Ya,r.CurvePath=a0,r.CustomBlending=5,r.CylinderBufferGeometry=i0,r.CylinderGeometry=Uy,r.Cylindrical=rb,r.DataTexture=Dn,r.DataTexture2DArray=Wp,r.DataTexture3D=dm,r.DataTextureLoader=WC,r.DecrementStencilOp=7683,r.DecrementWrapStencilOp=34056,r.DefaultLoadingManager=Ub,r.DepthFormat=1026,r.DepthStencilFormat=1027,r.DepthTexture=Ex,r.DirectionalLight=qC,r.DirectionalLightHelper=W1,r.DirectionalLightShadow=QC,r.DiscreteInterpolant=zC,r.DodecahedronBufferGeometry=E1,r.DodecahedronGeometry=Rx,r.DoubleSide=2,r.DstAlphaFactor=206,r.DstColorFactor=208,r.DynamicBufferAttribute=function(u,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new En(u,t).setUsage(35048)},r.DynamicCopyUsage=35050,r.DynamicDrawUsage=35048,r.DynamicReadUsage=35049,r.EdgesGeometry=L1,r.EdgesHelper=function(u,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Bh(new L1(u.geometry),new bh({color:t!==void 0?t:16777215}))},r.EllipseCurve=rv,r.EqualDepth=4,r.EqualStencilFunc=514,r.EquirectangularReflectionMapping=303,r.EquirectangularRefractionMapping=304,r.Euler=ue,r.EventDispatcher=s,r.ExtrudeBufferGeometry=Ig,r.ExtrudeGeometry=Fy,r.Face3=Ai,r.Face4=function(u,t,o,p,g,b,_){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Ai(u,t,o,g,b,_)},r.FaceColors=1,r.FileLoader=Rv,r.FlatShading=1,r.Float32Attribute=function(u,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new vi(u,t)},r.Float32BufferAttribute=vi,r.Float64Attribute=function(u,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Gl(u,t)},r.Float64BufferAttribute=Gl,r.FloatType=1015,r.Fog=IC,r.FogExp2=_C,r.Font=f2,r.FontLoader=h2,r.FrontFaceDirectionCCW=1,r.FrontFaceDirectionCW=0,r.FrontSide=0,r.Frustum=Ra,r.GammaEncoding=3007,r.Geometry=Or,r.GeometryUtils={merge:function(t,o,p){if(console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),o.isMesh){o.matrixAutoUpdate&&o.updateMatrix();var g=o.matrix;o=o.geometry}t.merge(o,g,p)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}},r.GreaterDepth=6,r.GreaterEqualDepth=5,r.GreaterEqualStencilFunc=518,r.GreaterStencilFunc=516,r.GridHelper=lA,r.Group=x1,r.HalfFloatType=1016,r.HemisphereLight=XC,r.HemisphereLightHelper=V1,r.HemisphereLightProbe=d2,r.IcosahedronBufferGeometry=M1,r.IcosahedronGeometry=Ox,r.ImageBitmapLoader=u2,r.ImageLoader=B1,r.ImageUtils=ry,r.ImmediateRenderObject=Qx,r.IncrementStencilOp=7682,r.IncrementWrapStencilOp=34055,r.InstancedBufferAttribute=nA,r.InstancedBufferGeometry=Jx,r.InstancedInterleavedBuffer=A2,r.InstancedMesh=LC,r.Int16Attribute=function(u,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Du(u,t)},r.Int16BufferAttribute=Du,r.Int32Attribute=function(u,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Bl(u,t)},r.Int32BufferAttribute=Bl,r.Int8Attribute=function(u,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new ua(u,t)},r.Int8BufferAttribute=ua,r.IntType=1013,r.InterleavedBuffer=n0,r.InterleavedBufferAttribute=wx,r.Interpolant=tv,r.InterpolateDiscrete=2300,r.InterpolateLinear=2301,r.InterpolateSmooth=2302,r.InvertStencilOp=5386,r.JSONLoader=function(){console.error("THREE.JSONLoader has been removed.")},r.KeepStencilOp=7680,r.KeyframeTrack=Lp,r.LOD=Sx,r.LatheBufferGeometry=R1,r.LatheGeometry=Hx,r.Layers=be,r.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")},r.LessDepth=2,r.LessEqualDepth=3,r.LessEqualStencilFunc=515,r.LessStencilFunc=513,r.Light=kf,r.LightProbe=Lv,r.LightShadow=Lg,r.Line=ev,r.Line3=M2,r.LineBasicMaterial=bh,r.LineCurve=Bm,r.LineCurve3=og,r.LineDashedMaterial=Xy,r.LineLoop=DC,r.LinePieces=1,r.LineSegments=Bh,r.LineStrip=0,r.LinearEncoding=3e3,r.LinearFilter=1006,r.LinearInterpolant=Yx,r.LinearMipMapLinearFilter=1008,r.LinearMipMapNearestFilter=1007,r.LinearMipmapLinearFilter=1008,r.LinearMipmapNearestFilter=1007,r.LinearToneMapping=1,r.Loader=Lc,r.LoaderUtils=rw,r.LoadingManager=i2,r.LogLuvEncoding=3003,r.LoopOnce=2200,r.LoopPingPong=2202,r.LoopRepeat=2201,r.LuminanceAlphaFormat=1025,r.LuminanceFormat=1024,r.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},r.Material=Pr,r.MaterialLoader=rA,r.Math=Ll,r.MathUtils=Ll,r.Matrix3=v,r.Matrix4=ae,r.MaxEquation=104,r.Mesh=Hr,r.MeshBasicMaterial=Fo,r.MeshDepthMaterial=J0,r.MeshDistanceMaterial=Q0,r.MeshFaceMaterial=function(u){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),u},r.MeshLambertMaterial=Gy,r.MeshMatcapMaterial=Yy,r.MeshNormalMaterial=Wy,r.MeshPhongMaterial=ey,r.MeshPhysicalMaterial=Hy,r.MeshStandardMaterial=Pg,r.MeshToonMaterial=Vy,r.MinEquation=103,r.MirroredRepeatWrapping=1002,r.MixOperation=1,r.MultiMaterial=function(u){return u===void 0&&(u=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),u.isMultiMaterial=!0,u.materials=u,u.clone=function(){return u.slice()},u},r.MultiplyBlending=4,r.MultiplyOperation=0,r.NearestFilter=1003,r.NearestMipMapLinearFilter=1005,r.NearestMipMapNearestFilter=1004,r.NearestMipmapLinearFilter=1005,r.NearestMipmapNearestFilter=1004,r.NeverDepth=0,r.NeverStencilFunc=512,r.NoBlending=0,r.NoColors=0,r.NoToneMapping=0,r.NormalAnimationBlendMode=2500,r.NormalBlending=1,r.NotEqualDepth=7,r.NotEqualStencilFunc=517,r.NumberKeyframeTrack=N1,r.Object3D=Me,r.ObjectLoader=oA,r.ObjectSpaceNormalMap=1,r.OctahedronBufferGeometry=Dy,r.OctahedronGeometry=Px,r.OneFactor=201,r.OneMinusDstAlphaFactor=207,r.OneMinusDstColorFactor=209,r.OneMinusSrcAlphaFactor=205,r.OneMinusSrcColorFactor=203,r.OrthographicCamera=z1,r.PCFShadowMap=1,r.PCFSoftShadowMap=2,r.PMREMGenerator=E2,r.ParametricBufferGeometry=b1,r.ParametricGeometry=Tx,r.Particle=function(u){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new bx(u)},r.ParticleBasicMaterial=function(u){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new ng(u)},r.ParticleSystem=function(u,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new C1(u,t)},r.ParticleSystemMaterial=function(u){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new ng(u)},r.Path=lg,r.PerspectiveCamera=Ln,r.Plane=Ir,r.PlaneBufferGeometry=df,r.PlaneGeometry=Rc,r.PlaneHelper=eC,r.PointCloud=function(u,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new C1(u,t)},r.PointCloudMaterial=function(u){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new ng(u)},r.PointLight=JC,r.PointLightHelper=H1,r.Points=C1,r.PointsMaterial=ng,r.PolarGridHelper=uA,r.PolyhedronBufferGeometry=Fm,r.PolyhedronGeometry=_x,r.PositionalAudio=g2,r.PropertyBinding=Yp,r.PropertyMixer=x2,r.QuadraticBezierCurve=ag,r.QuadraticBezierCurve3=Rg,r.Quaternion=G,r.QuaternionKeyframeTrack=Xx,r.QuaternionLinearInterpolant=HC,r.REVISION="117",r.RGBADepthPacking=3201,r.RGBAFormat=1023,r.RGBAIntegerFormat=1033,r.RGBA_ASTC_10x10_Format=37819,r.RGBA_ASTC_10x5_Format=37816,r.RGBA_ASTC_10x6_Format=37817,r.RGBA_ASTC_10x8_Format=37818,r.RGBA_ASTC_12x10_Format=37820,r.RGBA_ASTC_12x12_Format=37821,r.RGBA_ASTC_4x4_Format=37808,r.RGBA_ASTC_5x4_Format=37809,r.RGBA_ASTC_5x5_Format=37810,r.RGBA_ASTC_6x5_Format=37811,r.RGBA_ASTC_6x6_Format=37812,r.RGBA_ASTC_8x5_Format=37813,r.RGBA_ASTC_8x6_Format=37814,r.RGBA_ASTC_8x8_Format=37815,r.RGBA_BPTC_Format=36492,r.RGBA_ETC2_EAC_Format=37496,r.RGBA_PVRTC_2BPPV1_Format=35843,r.RGBA_PVRTC_4BPPV1_Format=35842,r.RGBA_S3TC_DXT1_Format=33777,r.RGBA_S3TC_DXT3_Format=33778,r.RGBA_S3TC_DXT5_Format=33779,r.RGBDEncoding=3006,r.RGBEEncoding=3002,r.RGBEFormat=1023,r.RGBFormat=1022,r.RGBIntegerFormat=1032,r.RGBM16Encoding=3005,r.RGBM7Encoding=3004,r.RGB_ETC1_Format=36196,r.RGB_ETC2_Format=37492,r.RGB_PVRTC_2BPPV1_Format=35841,r.RGB_PVRTC_4BPPV1_Format=35840,r.RGB_S3TC_DXT1_Format=33776,r.RGFormat=1030,r.RGIntegerFormat=1031,r.RawShaderMaterial=o0,r.Ray=ir,r.Raycaster=w2,r.RectAreaLight=eA,r.RedFormat=1028,r.RedIntegerFormat=1029,r.ReinhardToneMapping=2,r.RepeatWrapping=1e3,r.ReplaceStencilOp=7681,r.ReverseSubtractEquation=102,r.RingBufferGeometry=O1,r.RingGeometry=kx,r.SRGB8_ALPHA8_ASTC_10x10_Format=37851,r.SRGB8_ALPHA8_ASTC_10x5_Format=37848,r.SRGB8_ALPHA8_ASTC_10x6_Format=37849,r.SRGB8_ALPHA8_ASTC_10x8_Format=37850,r.SRGB8_ALPHA8_ASTC_12x10_Format=37852,r.SRGB8_ALPHA8_ASTC_12x12_Format=37853,r.SRGB8_ALPHA8_ASTC_4x4_Format=37840,r.SRGB8_ALPHA8_ASTC_5x4_Format=37841,r.SRGB8_ALPHA8_ASTC_5x5_Format=37842,r.SRGB8_ALPHA8_ASTC_6x5_Format=37843,r.SRGB8_ALPHA8_ASTC_6x6_Format=37844,r.SRGB8_ALPHA8_ASTC_8x5_Format=37845,r.SRGB8_ALPHA8_ASTC_8x6_Format=37846,r.SRGB8_ALPHA8_ASTC_8x8_Format=37847,r.Scene=ct,r.SceneUtils={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}},r.ShaderChunk=nu,r.ShaderLib=Fg,r.ShaderMaterial=li,r.ShadowMaterial=ky,r.Shape=ty,r.ShapeBufferGeometry=zy,r.ShapeGeometry=jy,r.ShapePath=c2,r.ShapeUtils=p0,r.ShortType=1011,r.Skeleton=RC,r.SkeletonHelper=Ky,r.SkinnedMesh=OC,r.SmoothShading=2,r.Sphere=Bt,r.SphereBufferGeometry=By,r.SphereGeometry=Ux,r.Spherical=tb,r.SphericalHarmonics3=tA,r.SphericalReflectionMapping=305,r.Spline=P2,r.SplineCurve=sg,r.SplineCurve3=lb,r.SpotLight=ZC,r.SpotLightHelper=k1,r.SpotLightShadow=KC,r.Sprite=bx,r.SpriteMaterial=q0,r.SrcAlphaFactor=204,r.SrcAlphaSaturateFactor=210,r.SrcColorFactor=202,r.StaticCopyUsage=35046,r.StaticDrawUsage=35044,r.StaticReadUsage=35045,r.StereoCamera=Jw,r.StreamCopyUsage=35042,r.StreamDrawUsage=35040,r.StreamReadUsage=35041,r.StringKeyframeTrack=VC,r.SubtractEquation=101,r.SubtractiveBlending=3,r.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},r.TangentSpaceNormalMap=0,r.TetrahedronBufferGeometry=S1,r.TetrahedronGeometry=Ix,r.TextBufferGeometry=P1,r.TextGeometry=zx,r.Texture=x,r.TextureLoader=YC,r.TorusBufferGeometry=_1,r.TorusGeometry=Nx,r.TorusKnotBufferGeometry=T1,r.TorusKnotGeometry=Dx,r.Triangle=Tr,r.TriangleFanDrawMode=2,r.TriangleStripDrawMode=1,r.TrianglesDrawMode=0,r.TubeBufferGeometry=Ny,r.TubeGeometry=Lx,r.UVMapping=300,r.Uint16Attribute=function(u,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Aa(u,t)},r.Uint16BufferAttribute=Aa,r.Uint32Attribute=function(u,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new hf(u,t)},r.Uint32BufferAttribute=hf,r.Uint8Attribute=function(u,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new as(u,t)},r.Uint8BufferAttribute=as,r.Uint8ClampedAttribute=function(u,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Ca(u,t)},r.Uint8ClampedBufferAttribute=Ca,r.Uncharted2ToneMapping=3,r.Uniform=sA,r.UniformsLib=Eo,r.UniformsUtils=xb,r.UnsignedByteType=1009,r.UnsignedInt248Type=1020,r.UnsignedIntType=1014,r.UnsignedShort4444Type=1017,r.UnsignedShort5551Type=1018,r.UnsignedShort565Type=1019,r.UnsignedShortType=1012,r.VSMShadowMap=3,r.Vector2=c,r.Vector3=W,r.Vector4=w,r.VectorKeyframeTrack=F1,r.Vertex=function(u,t,o){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new W(u,t,o)},r.VertexColors=2,r.VideoTexture=t2,r.WebGLCubeRenderTarget=Os,r.WebGLMultisampleRenderTarget=j,r.WebGLRenderTarget=I,r.WebGLRenderTargetCube=function(u,t,o){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new Os(u,o)},r.WebGLRenderer=qA,r.WebGLUtils=zw,r.WireframeGeometry=w1,r.WireframeHelper=function(u,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Bh(new w1(u.geometry),new bh({color:t!==void 0?t:16777215}))},r.WrapAroundEnding=2402,r.XHRLoader=function(u){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Rv(u)},r.ZeroCurvatureEnding=2400,r.ZeroFactor=200,r.ZeroSlopeEnding=2401,r.ZeroStencilOp=0,r.sRGBEncoding=3001,Object.defineProperty(r,"__esModule",{value:!0})})}),xg=Ae(A0);window.THREE&&(xg=window.THREE);var Pl=xg;Tl("getPrototypeOf",function(){return function(i){return Ep(Object(Dd(i)))}});var py=Do.Object.getPrototypeOf,my=ve(function(i){i.exports={default:py,__esModule:!0}}),qh=Ae(my),Cg=ve(function(i,e){e.__esModule=!0,e.default=function(r,s){if(!(r instanceof s))throw new TypeError("Cannot call a class as a function")}}),Wc=Ae(Cg);Kn(Kn.S+Kn.F*!Ou,"Object",{defineProperty:Wu.f});var w0=Do.Object,dc=function(e,r,s){return w0.defineProperty(e,r,s)},vp=ve(function(i){i.exports={default:dc,__esModule:!0}});Ae(vp);var gp=ve(function(i,e){e.__esModule=!0;var r=vp&&vp.__esModule?vp:{default:vp};e.default=function(){function s(c,v){for(var x=0;x<v.length;x++){var w=v[x];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),(0,r.default)(c,w.key,w)}}return function(c,v,x){return v&&s(c.prototype,v),x&&s(c,x),c}}()}),wf=Ae(gp),Op=ve(function(i,e){e.__esModule=!0;var r=rs&&rs.__esModule?rs:{default:rs};e.default=function(s,c){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||(typeof c=="undefined"?"undefined":(0,r.default)(c))!=="object"&&typeof c!="function"?s:c}}),$h=Ae(Op),Yg=Object.setPrototypeOf||("__proto__"in{}?function(i,e,r){try{r=hl(Function.call,Ff.f(Object.prototype,"__proto__").set,2),r(i,[]),e=!(i instanceof Array)}catch(s){e=!0}return function(s,c){if(Ms(s),!dl(c)&&c!==null)throw TypeError(c+": can't set as prototype!");return e?s.__proto__=c:r(s,c),s}}({},!1):void 0);Kn(Kn.S,"Object",{setPrototypeOf:Yg});var vy=Do.Object.setPrototypeOf,Ym=ve(function(i){i.exports={default:vy,__esModule:!0}});Ae(Ym);var Yv=ve(function(i,e){function r(x){return x&&x.__esModule?x:{default:x}}e.__esModule=!0;var s=r(Ym),c=r(xv),v=r(rs);e.default=function(x,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof w=="undefined"?"undefined":(0,v.default)(w)));x.prototype=(0,c.default)(w&&w.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),w&&(s.default?(0,s.default)(x,w):x.__proto__=w)}}),yh=Ae(Yv);we(De.prototype,{equals:function(e){return this.lat===e.lat&&this.lng===e.lng},clone:function(){return new De(this.lat,this.lng)},getLngSpan:function(e){return e=Math.abs(e-this.lng),180<e&&(e=360-e),e},sub:function(e){return new De(this.lat-e.lat,this.lng-e.lng)},toString:function(){return"Point"}}),we(We,{EARTHRADIUS:637099681e-2,MCBAND:[1289059486e-2,836237787e-2,5591021,348198983e-2,167804312e-2,0],LLBAND:[75,60,45,30,15,0],MC2LL:[[1410526172116255e-23,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,173379812e-1],[-7435856389565537e-24,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,1026014486e-2],[-3030883460898826e-23,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,685681737e-2],[-1981981304930552e-23,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,448277706e-2],[309191371068437e-23,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,25551644e-1],[2890871144776878e-24,8983055095805407e-21,-3068298e-14,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],LL2MC:[[-.0015702102444,111320.7020616939,1704480524535203,-10338987376042340,26112667856603880,-35149669176653700,26595700718403920,-10725012454188240,1800819912950474,82.5],[.0008277824516172526,111320.7020463578,6477955746671607e-7,-4082003173641316e-6,1077490566351142e-5,-1517187553151559e-5,1205306533862167e-5,-5124939663577472e-6,9133119359512032e-7,67.5],[.00337398766765,111320.7020202162,4481351045890365e-9,-2339375119931662e-8,7968221547186455e-8,-1159649932797253e-7,9723671115602145e-8,-4366194633752821e-8,8477230501135234e-9,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837749470245e-9,992013.7397791013,-122195221711287e-8,1340652697009075e-9,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758690035394e-9,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]],getDistanceByMC:function(e,r){if(!e||!r||(e=this.convertMC2LL(e),!e))return 0;var s=this.toRadians(e.lng);if(e=this.toRadians(e.lat),r=this.convertMC2LL(r),!r)return 0;var c=this.toRadians(r.lng);return r=this.toRadians(r.lat),this.getDistance(s,c,e,r)},getDistanceByLL:function(e,r){if(!e||!r)return 0;e.lng=this.getLoop(e.lng,-180,180),e.lat=this.getRange(e.lat,-74,74),r.lng=this.getLoop(r.lng,-180,180),r.lat=this.getRange(r.lat,-74,74);var s=this.toRadians(e.lng),c=this.toRadians(e.lat);return e=this.toRadians(r.lng),r=this.toRadians(r.lat),this.getDistance(s,e,c,r)},convertMC2LL:function(e){if(e==null)return new De(0,0);if(180>e.lng&&-180<e.lng&&90>e.lat&&-90<e.lat)return e;for(var r=new De(Math.abs(e.lng),Math.abs(e.lat)),s=0;s<this.MCBAND.length;s++)if(r.lat>=this.MCBAND[s]){var c=this.MC2LL[s];break}return e=this.convertor(e,c),e=new De(e.lng.toFixed(6),e.lat.toFixed(6))},convertLL2MC:function(e){if(e==null)return new De(0,0);if(180<e.lng||-180>e.lng||90<e.lat||-90>e.lat)return e;e.lng=this.getLoop(e.lng,-180,180),e.lat=this.getRange(e.lat,-74,74);for(var r=new De(e.lng,e.lat),s=0;s<this.LLBAND.length;s++)if(r.lat>=this.LLBAND[s]){var c=this.LL2MC[s];break}if(!c){for(s=0;s<this.LLBAND.length;s++)if(r.lat<=-this.LLBAND[s]){c=this.LL2MC[s];break}}return e=this.convertor(e,c),e=new De(Number(e.lng.toFixed(2)),Number(e.lat.toFixed(2)))},convertor:function(e,r){if(e&&r){var s=r[0]+r[1]*Math.abs(e.lng),c=Math.abs(e.lat)/r[9];return r=r[2]+r[3]*c+r[4]*c*c+r[5]*c*c*c+r[6]*c*c*c*c+r[7]*c*c*c*c*c+r[8]*c*c*c*c*c*c,s*=0>e.lng?-1:1,r*=0>e.lat?-1:1,new De(s,r)}},getDistance:function(e,r,s,c){return this.EARTHRADIUS*Math.acos(Math.sin(s)*Math.sin(c)+Math.cos(s)*Math.cos(c)*Math.cos(r-e))},toRadians:function(e){return Math.PI*e/180},toDegrees:function(e){return 180*e/Math.PI},getRange:function(e,r,s){return r!=null&&(e=Math.max(e,r)),s!=null&&(e=Math.min(e,s)),e},getLoop:function(e,r,s){for(;e>s;)e-=s-r;for(;e<r;)e+=s-r;return e}}),we(We.prototype,{lngLatToMercator:function(e){return We.convertLL2MC(e)},lngLatToPoint:function(e){return e=We.convertLL2MC(e),new at(e.lng,e.lat)},mercatorToLngLat:function(e){return We.convertMC2LL(e)},pointToLngLat:function(e){return e=new De(e.x,e.y),We.convertMC2LL(e)},pointToPixel:function(e,r,s,c,v){if(e)return e=this.lngLatToMercator(e,v),r=this.getZoomUnits(r),new at(Math.round((e.lng-s.lng)/r+c.width/2),Math.round((s.lat-e.lat)/r+c.height/2))},pixelToPoint:function(e,r,s,c,v){if(e)return r=this.getZoomUnits(r),e=new De(s.lng+r*(e.x-c.width/2),s.lat-r*(e.y-c.height/2)),this.mercatorToLngLat(e,v)},getZoomUnits:function(e){return Math.pow(2,18-e)}});var gy=ve(function(i,e){e.__esModule=!0;var r=fp&&fp.__esModule?fp:{default:fp};e.default=function(s){if(Array.isArray(s)){for(var c=0,v=Array(s.length);c<s.length;c++)v[c]=s[c];return v}return(0,r.default)(s)}}),Xg=Ae(gy);(function(){function i(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};Wc(this,i),this.options=e,this._initialize()}return wf(i,[{key:"_initialize",value:function(){this.points=this.options.points}},{key:"_normalizaCoord",value:function(r){return r?(r instanceof Array&&(r={lng:Number(r[0]),lat:Number(r[1])}),We.convertLL2MC(r)):null}},{key:"setOptions",value:function(){this.options=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},this._initialize()}},{key:"getPoints",value:function(r){for(var s=[],c=this.points,v=0;v<c.length-1;v++){var x=this.getCurveByTwoPoints(this._normalizaCoord(c[v]),this._normalizaCoord(c[v+1]),r);x&&0<x.length&&(s=s.concat(x))}return s}},{key:"getCurveByTwoPoints",value:function(r,s){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:20;if(!r||!s)return null;var v=[],x=0;if((typeof s=="undefined"?"undefined":vs(s))===void 0)typeof v=="undefined"||vs(v);else{var w=parseFloat(r.lat),I=parseFloat(s.lat),j=parseFloat(r.lng),G=parseFloat(s.lng);G>j&&180<parseFloat(G-j)&&0>j&&(j=parseFloat(360+j),G=parseFloat(360+G));var W=0;if(I===w)var ae=0,ue=j-G;else G===j?(ae=Math.PI/2,ue=w-I):(ae=Math.atan((I-w)/(G-j)),ue=(I-w)/Math.sin(ae));for(W===0&&(W=ae+Math.PI/5),ue/=2,ae=ue*Math.cos(W)+j,W=ue*Math.sin(W)+w,ue=0;ue<c+1;ue++){var be=j*(1-2*x+x*x)+ae*(2*x-2*x*x)+G*x*x,Me=s.lng;v.push([0>r.lng&&0<Me?be-360:be,w*(1-2*x+x*x)+W*(2*x-2*x*x)+I*x*x]),x+=1/c}return v}}}]),i})();var Pm=void 0;(function(){if(Pm!==void 0)return Pm;var i=navigator.userAgent,e="Android;iPhone;SymbianOS;Windows Phone;iPad;iPod".split(";");Pm=!1;for(var r=0;r<e.length;r++)if(0<i.indexOf(e[r])){Pm=!0;break}return Pm})(),se(Array(576)),se(Array(60)),se(Array(512)),se(Array(256)),se(Array(29)),se(Array(30)),new Uint32Array(function(){for(var i,e=[],r=0;256>r;r++){i=r;for(var s=0;8>s;s++)i=i&1?3988292384^i>>>1:i>>>1;e[r]=i}return e}());try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(i){}for(var Xm=new Uint8Array(256),um=0;256>um;um++)Xm[um]=252<=um?6:248<=um?5:240<=um?4:224<=um?3:192<=um?2:1;Xm[254]=Xm[254]=1;var Ag=function(){function i(e){Wc(this,i),this._visible=!0,this.options=this.getCommonDefaultOptions(),this.options=Xe(this.options,this.getDefaultOptions()),this.autoUpdate=!1,this.options=Xe(this.options,e),this.options.data&&(this.data=this.options.data,delete this.options.data)}return wf(i,[{key:"getCommonDefaultOptions",value:function(){return{}}},{key:"getDefaultOptions",value:function(){return{}}},{key:"initialize",value:function(r){}},{key:"destroy",value:function(){this.onDestroy&&this.onDestroy()}},{key:"show",value:function(){this._visible=!0}},{key:"hide",value:function(){this._visible=!1}},{key:"render",value:function(){}},{key:"setData",value:function(r,s){s=s||{},this.data=r,this.onDataChanged&&this.onDataChanged(this.getData()),this.onChanged&&this.onChanged(this.getOptions(),this.getData(),s),s.autoRender!==!1&&this.webglLayer&&this.webglLayer.render()}},{key:"getData",value:function(){return this.data||[]}},{key:"setOptions",value:function(r){r=r||{};var s=Xe({},this.getOptions());Xe(this.options,r),this.onOptionsChanged&&this.onOptionsChanged(this.getOptions(),s),this.onChanged&&this.onChanged(this.getOptions(),this.getData()),r.data?(this.setData(r.data),delete r.data):this.webglLayer&&this.webglLayer.render()}},{key:"getOptions",value:function(){return this.options||{}}},{key:"onOptionsChanged",value:function(r,s){}},{key:"onDataChanged",value:function(r){}},{key:"onChanged",value:function(r,s){}},{key:"onDestroy",value:function(){}},{key:"lnglatToMercator",value:function(r,s){}},{key:"setWebglLayer",value:function(r){this.webglLayer=r}},{key:"getWebglLayer",value:function(){return this.webglLayer}},{key:"isRequestAnimation",value:function(){return this.autoUpdate}}]),i}(),b0=af("iterator"),S0=Do.isIterable=function(i){return i=Object(i),i[b0]!==void 0||"@@iterator"in i||Sc.hasOwnProperty(vd(i))},Xv=ve(function(i){i.exports={default:S0,__esModule:!0}});Ae(Xv);var yy=Do.getIterator=function(i){var e=nm(i);if(typeof e!="function")throw TypeError(i+" is not iterable!");return Ms(e.call(i))},Cv=ve(function(i){i.exports={default:yy,__esModule:!0}});Ae(Cv);var xy=ve(function(i,e){e.__esModule=!0;var r=Xv&&Xv.__esModule?Xv:{default:Xv},s=Cv&&Cv.__esModule?Cv:{default:Cv};e.default=function(){return function(c,v){if(Array.isArray(c))return c;if((0,r.default)(Object(c))){var x=[],w=!0,I=!1,j=void 0;try{for(var G=(0,s.default)(c),W;!(w=(W=G.next()).done)&&(x.push(W.value),!v||x.length!==v);w=!0);}catch(ae){I=!0,j=ae}finally{try{!w&&G.return&&G.return()}finally{if(I)throw j}}return x}throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()}),wg=Ae(xy),Ad={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Ol=Ff.f;Tl("getOwnPropertyDescriptor",function(){return function(i,e){return Ol(Gh(i),e)}});var M0=Do.Object,rh=function(e,r){return M0.getOwnPropertyDescriptor(e,r)},Av=ve(function(i){i.exports={default:rh,__esModule:!0}}),Kg=Ae(Av),yp=ve(function(i){var e=Array.prototype.concat,r=Array.prototype.slice,s=i.exports=function(c){for(var v=[],x=0,w=c.length;x<w;x++){var I=c[x],j=(j=I)&&typeof j!="string"?j instanceof Array||Array.isArray(j)||0<=j.length&&(j.splice instanceof Function||Kg(j,j.length-1)&&j.constructor.name!=="String"):!1;j?v=e.call(v,r.call(I)):v.push(I)}return v};s.wrap=function(c){return function(){return c(s(arguments))}}}),Pa=ve(function(i){function e(x,w,I){return Math.min(Math.max(w,x),I)}function r(x){return x=x.toString(16).toUpperCase(),2>x.length?"0"+x:x}var s={},c;for(c in Ad)Ad.hasOwnProperty(c)&&(s[Ad[c]]=c);var v=i.exports={to:{},get:{}};v.get=function(x){switch(x.substring(0,3).toLowerCase()){case"hsl":x=v.get.hsl(x);var w="hsl";break;case"hwb":x=v.get.hwb(x),w="hwb";break;default:x=v.get.rgb(x),w="rgb"}return x?{model:w,value:x}:null},v.get.rgb=function(x){if(!x)return null;var w=/^#([a-f0-9]{3,4})$/i,I=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,j=/^rgba?\(\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,G=/(\D+)/,W=[0,0,0,1],ae;if(ae=x.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(w=ae[2],ae=ae[1],x=0;3>x;x++)I=2*x,W[x]=parseInt(ae.slice(I,I+2),16);w&&(W[3]=Math.round(parseInt(w,16)/255*100)/100)}else if(ae=x.match(w)){for(ae=ae[1],w=ae[3],x=0;3>x;x++)W[x]=parseInt(ae[x]+ae[x],16);w&&(W[3]=Math.round(parseInt(w+w,16)/255*100)/100)}else if(ae=x.match(I)){for(x=0;3>x;x++)W[x]=parseInt(ae[x+1],0);ae[4]&&(W[3]=parseFloat(ae[4]))}else if(ae=x.match(j)){for(x=0;3>x;x++)W[x]=Math.round(2.55*parseFloat(ae[x+1]));ae[4]&&(W[3]=parseFloat(ae[4]))}else return(ae=x.match(G))?ae[1]==="transparent"?[0,0,0,0]:(W=Ad[ae[1]],W?(W[3]=1,W):null):null;for(x=0;3>x;x++)W[x]=e(W[x],0,255);return W[3]=e(W[3],0,1),W},v.get.hsl=function(x){if(!x)return null;var w=x.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(w){var I=parseFloat(w[4]);x=(parseFloat(w[1])+360)%360;var j=e(parseFloat(w[2]),0,100);return w=e(parseFloat(w[3]),0,100),I=e(isNaN(I)?1:I,0,1),[x,j,w,I]}return null},v.get.hwb=function(x){if(!x)return null;var w=x.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(w){var I=parseFloat(w[4]);x=(parseFloat(w[1])%360+360)%360;var j=e(parseFloat(w[2]),0,100);return w=e(parseFloat(w[3]),0,100),I=e(isNaN(I)?1:I,0,1),[x,j,w,I]}return null},v.to.hex=function(){var x=yp(arguments);return"#"+r(x[0])+r(x[1])+r(x[2])+(1>x[3]?r(Math.round(255*x[3])):"")},v.to.rgb=function(){var x=yp(arguments);return 4>x.length||x[3]===1?"rgb("+Math.round(x[0])+", "+Math.round(x[1])+", "+Math.round(x[2])+")":"rgba("+Math.round(x[0])+", "+Math.round(x[1])+", "+Math.round(x[2])+", "+x[3]+")"},v.to.rgb.percent=function(){var x=yp(arguments),w=Math.round(x[0]/255*100),I=Math.round(x[1]/255*100),j=Math.round(x[2]/255*100);return 4>x.length||x[3]===1?"rgb("+w+"%, "+I+"%, "+j+"%)":"rgba("+w+"%, "+I+"%, "+j+"%, "+x[3]+")"},v.to.hsl=function(){var x=yp(arguments);return 4>x.length||x[3]===1?"hsl("+x[0]+", "+x[1]+"%, "+x[2]+"%)":"hsla("+x[0]+", "+x[1]+"%, "+x[2]+"%, "+x[3]+")"},v.to.hwb=function(){var x=yp(arguments),w="";return 4<=x.length&&x[3]!==1&&(w=", "+x[3]),"hwb("+x[0]+", "+x[1]+"%, "+x[2]+"%"+w+")"},v.to.keyword=function(x){return s[x.slice(0,3)]}}),wv=ve(function(i){var e={};for(c in Ad)Ad.hasOwnProperty(c)&&(e[Ad[c]]=c);var r=i.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},s;for(s in r)if(r.hasOwnProperty(s)){if(!("channels"in r[s]))throw Error("missing channels property: "+s);if(!("labels"in r[s]))throw Error("missing channel labels property: "+s);if(r[s].labels.length!==r[s].channels)throw Error("channel and label counts mismatch: "+s);i=r[s].channels;var c=r[s].labels;delete r[s].channels,delete r[s].labels,Object.defineProperty(r[s],"channels",{value:i}),Object.defineProperty(r[s],"labels",{value:c})}r.rgb.hsl=function(v){var x=v[0]/255,w=v[1]/255,I=v[2]/255;v=Math.min(x,w,I);var j=Math.max(x,w,I),G=j-v,W;return j===v?W=0:x===j?W=(w-I)/G:w===j?W=2+(I-x)/G:I===j&&(W=4+(x-w)/G),W=Math.min(60*W,360),0>W&&(W+=360),x=(v+j)/2,[W,100*(j===v?0:.5>=x?G/(j+v):G/(2-j-v)),100*x]},r.rgb.hsv=function(v){var x,w=v[0]/255,I=v[1]/255,j=v[2]/255,G=Math.max(w,I,j),W=G-Math.min(w,I,j);if(W===0)var ae=x=0;else{x=W/G,v=(G-w)/6/W+.5;var ue=(G-I)/6/W+.5;W=(G-j)/6/W+.5,w===G?ae=W-ue:I===G?ae=1/3+v-W:j===G&&(ae=2/3+ue-v),0>ae?ae+=1:1<ae&&--ae}return[360*ae,100*x,100*G]},r.rgb.hwb=function(v){var x=v[0],w=v[1],I=v[2];v=r.rgb.hsl(v)[0];var j=1/255*Math.min(x,Math.min(w,I));return I=1-1/255*Math.max(x,Math.max(w,I)),[v,100*j,100*I]},r.rgb.cmyk=function(v){var x=v[0]/255,w=v[1]/255;v=v[2]/255;var I=Math.min(1-x,1-w,1-v);return[100*((1-x-I)/(1-I)||0),100*((1-w-I)/(1-I)||0),100*((1-v-I)/(1-I)||0),100*I]},r.rgb.keyword=function(v){var x=e[v];if(x)return x;x=Infinity;var w;for(w in Ad)if(Ad.hasOwnProperty(w)){var I=Ad[w];if(I=Math.pow(v[0]-I[0],2)+Math.pow(v[1]-I[1],2)+Math.pow(v[2]-I[2],2),I<x){x=I;var j=w}}return j},r.keyword.rgb=function(v){return Ad[v]},r.rgb.xyz=function(v){var x=v[0]/255,w=v[1]/255;return v=v[2]/255,x=.04045<x?Math.pow((x+.055)/1.055,2.4):x/12.92,w=.04045<w?Math.pow((w+.055)/1.055,2.4):w/12.92,v=.04045<v?Math.pow((v+.055)/1.055,2.4):v/12.92,[100*(.4124*x+.3576*w+.1805*v),100*(.2126*x+.7152*w+.0722*v),100*(.0193*x+.1192*w+.9505*v)]},r.rgb.lab=function(v){var x=r.rgb.xyz(v);v=x[0];var w=x[1];return x=x[2],v/=95.047,w/=100,x/=108.883,v=.008856<v?Math.pow(v,1/3):7.787*v+16/116,w=.008856<w?Math.pow(w,1/3):7.787*w+16/116,x=.008856<x?Math.pow(x,1/3):7.787*x+16/116,[116*w-16,500*(v-w),200*(w-x)]},r.hsl.rgb=function(v){var x=v[0]/360,w=v[1]/100;if(v=v[2]/100,w===0){var I=255*v;return[I,I,I]}w=.5>v?v*(1+w):v+w-v*w,v=2*v-w;for(var j=[0,0,0],G=0;3>G;G++)I=x+1/3*-(G-1),0>I&&I++,1<I&&I--,I=1>6*I?v+6*(w-v)*I:1>2*I?w:2>3*I?v+(w-v)*(2/3-I)*6:v,j[G]=255*I;return j},r.hsl.hsv=function(v){var x=v[0],w=v[1]/100;v=v[2]/100;var I=w,j=Math.max(v,.01);return v*=2,w*=1>=v?v:2-v,I*=1>=j?j:2-j,[x,100*(v===0?2*I/(j+I):2*w/(v+w)),(v+w)/2*100]},r.hsv.rgb=function(v){var x=v[0]/60,w=v[1]/100;v=v[2]/100;var I=Math.floor(x)%6,j=x-Math.floor(x);x=255*v*(1-w);var G=255*v*(1-w*j);switch(w=255*v*(1-w*(1-j)),v*=255,I){case 0:return[v,w,x];case 1:return[G,v,x];case 2:return[x,v,w];case 3:return[x,G,v];case 4:return[w,x,v];case 5:return[v,x,G]}},r.hsv.hsl=function(v){var x=v[0],w=v[1]/100;v=v[2]/100;var I=Math.max(v,.01),j=(2-w)*I;return I=w*I/(1>=j?j:2-j)||0,[x,100*I,(2-w)*v/2*100]},r.hwb.rgb=function(v){var x=v[0]/360,w=v[1]/100;v=v[2]/100;var I=w+v;switch(1<I&&(w/=I,v/=I),I=Math.floor(6*x),v=1-v,x=6*x-I,(I&1)!=0&&(x=1-x),x=w+x*(v-w),I){default:case 6:case 0:I=v;var j=x;break;case 1:I=x,j=v;break;case 2:I=w,j=v,w=x;break;case 3:I=w,j=x,w=v;break;case 4:I=x,j=w,w=v;break;case 5:I=v,j=w,w=x}return[255*I,255*j,255*w]},r.cmyk.rgb=function(v){var x=v[3]/100;return[255*(1-Math.min(1,v[0]/100*(1-x)+x)),255*(1-Math.min(1,v[1]/100*(1-x)+x)),255*(1-Math.min(1,v[2]/100*(1-x)+x))]},r.xyz.rgb=function(v){var x=v[0]/100,w=v[1]/100,I=v[2]/100;v=3.2406*x+-1.5372*w+-.4986*I;var j=-.9689*x+1.8758*w+.0415*I;return x=.0557*x+-.204*w+1.057*I,v=.0031308<v?1.055*Math.pow(v,1/2.4)-.055:12.92*v,j=.0031308<j?1.055*Math.pow(j,1/2.4)-.055:12.92*j,x=.0031308<x?1.055*Math.pow(x,1/2.4)-.055:12.92*x,v=Math.min(Math.max(0,v),1),j=Math.min(Math.max(0,j),1),x=Math.min(Math.max(0,x),1),[255*v,255*j,255*x]},r.xyz.lab=function(v){var x=v[0],w=v[1];return v=v[2],x/=95.047,w/=100,v/=108.883,x=.008856<x?Math.pow(x,1/3):7.787*x+16/116,w=.008856<w?Math.pow(w,1/3):7.787*w+16/116,v=.008856<v?Math.pow(v,1/3):7.787*v+16/116,[116*w-16,500*(x-w),200*(w-v)]},r.lab.xyz=function(v){var x=v[1],w=v[2];v=(v[0]+16)/116,x=x/500+v,w=v-w/200;var I=Math.pow(v,3),j=Math.pow(x,3),G=Math.pow(w,3);return[95.047*(.008856<j?j:(x-16/116)/7.787),100*(.008856<I?I:(v-16/116)/7.787),108.883*(.008856<G?G:(w-16/116)/7.787)]},r.lab.lch=function(v){var x=v[0],w=v[1];v=v[2];var I=360*Math.atan2(v,w)/2/Math.PI;return 0>I&&(I+=360),[x,Math.sqrt(w*w+v*v),I]},r.lch.lab=function(v){var x=v[0],w=v[1];return v=v[2]/360*2*Math.PI,[x,w*Math.cos(v),w*Math.sin(v)]},r.rgb.ansi16=function(v){var x=v[0],w=v[1],I=v[2],j=1 in arguments?arguments[1]:r.rgb.hsv(v)[2];return j=Math.round(j/50),j===0?30:(x=30+(Math.round(I/255)<<2|Math.round(w/255)<<1|Math.round(x/255)),j===2&&(x+=60),x)},r.hsv.ansi16=function(v){return r.rgb.ansi16(r.hsv.rgb(v),v[2])},r.rgb.ansi256=function(v){var x=v[0],w=v[1];return v=v[2],x===w&&w===v?8>x?16:248<x?231:Math.round((x-8)/247*24)+232:16+36*Math.round(x/255*5)+6*Math.round(w/255*5)+Math.round(v/255*5)},r.ansi16.rgb=function(v){var x=v%10;return x===0||x===7?(50<v&&(x+=3.5),x=x/10.5*255,[x,x,x]):(v=.5*(~~(50<v)+1),[(x&1)*v*255,(x>>1&1)*v*255,(x>>2&1)*v*255])},r.ansi256.rgb=function(v){if(232<=v){var x=10*(v-232)+8;return[x,x,x]}v-=16,x=Math.floor(v/36)/5*255;var w=Math.floor((v%=36)/6)/5*255;return[x,w,v%6/5*255]},r.rgb.hex=function(v){return v=(((Math.round(v[0])&255)<<16)+((Math.round(v[1])&255)<<8)+(Math.round(v[2])&255)).toString(16).toUpperCase(),"000000".substring(v.length)+v},r.hex.rgb=function(v){if(v=v.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i),!v)return[0,0,0];var x=v[0];return v[0].length===3&&(x=x.split("").map(function(w){return w+w}).join("")),v=parseInt(x,16),[v>>16&255,v>>8&255,v&255]},r.rgb.hcg=function(v){var x=v[0]/255,w=v[1]/255;v=v[2]/255;var I=Math.max(Math.max(x,w),v),j=Math.min(Math.min(x,w),v),G=I-j;return[(0>=G?0:I===x?(w-v)/G%6:I===w?2+(v-x)/G:(x-w)/G+8)/6%1*360,100*G,100*(1>G?j/(1-G):0)]},r.hsl.hcg=function(v){var x=v[1]/100,w=v[2]/100,I=0;return x=.5>w?2*x*w:2*x*(1-w),1>x&&(I=(w-.5*x)/(1-x)),[v[0],100*x,100*I]},r.hsv.hcg=function(v){var x=v[2]/100,w=v[1]/100*x,I=0;return 1>w&&(I=(x-w)/(1-w)),[v[0],100*w,100*I]},r.hcg.rgb=function(v){var x=v[1]/100,w=v[2]/100;if(x===0)return[255*w,255*w,255*w];var I=[0,0,0];v=v[0]/360%1*6;var j=v%1,G=1-j;switch(Math.floor(v)){case 0:I[0]=1,I[1]=j,I[2]=0;break;case 1:I[0]=G,I[1]=1,I[2]=0;break;case 2:I[0]=0,I[1]=1,I[2]=j;break;case 3:I[0]=0,I[1]=G,I[2]=1;break;case 4:I[0]=j,I[1]=0,I[2]=1;break;default:I[0]=1,I[1]=0,I[2]=G}return w*=1-x,[255*(x*I[0]+w),255*(x*I[1]+w),255*(x*I[2]+w)]},r.hcg.hsv=function(v){var x=v[1]/100,w=x+v[2]/100*(1-x),I=0;return 0<w&&(I=x/w),[v[0],100*I,100*w]},r.hcg.hsl=function(v){var x=v[1]/100,w=v[2]/100*(1-x)+.5*x,I=0;return 0<w&&.5>w?I=x/(2*w):.5<=w&&1>w&&(I=x/(2*(1-w))),[v[0],100*I,100*w]},r.hcg.hwb=function(v){var x=v[1]/100,w=x+v[2]/100*(1-x);return[v[0],100*(w-x),100*(1-w)]},r.hwb.hcg=function(v){var x=1-v[2]/100,w=x-v[1]/100,I=0;return 1>w&&(I=(x-w)/(1-w)),[v[0],100*w,100*I]},r.apple.rgb=function(v){return[v[0]/65535*255,v[1]/65535*255,v[2]/65535*255]},r.rgb.apple=function(v){return[v[0]/255*65535,v[1]/255*65535,v[2]/255*65535]},r.gray.rgb=function(v){return[v[0]/100*255,v[0]/100*255,v[0]/100*255]},r.gray.hsl=r.gray.hsv=function(v){return[0,0,v[0]]},r.gray.hwb=function(v){return[0,100,v[0]]},r.gray.cmyk=function(v){return[0,0,0,v[0]]},r.gray.lab=function(v){return[v[0],0,0]},r.gray.hex=function(v){return v=Math.round(v[0]/100*255)&255,v=((v<<16)+(v<<8)+v).toString(16).toUpperCase(),"000000".substring(v.length)+v},r.rgb.gray=function(v){return[(v[0]+v[1]+v[2])/3/255*100]}}),S=function(e){for(var r={},s=Vc(wv),c=s.length,v=0;v<c;v++)r[s[v]]={distance:-1,parent:null};for(s=[e],r[e].distance=0;s.length;){e=s.pop(),c=Vc(wv[e]),v=c.length;for(var x=0;x<v;x++){var w=c[x],I=r[w];I.distance===-1&&(I.distance=r[e].distance+1,I.parent=e,s.unshift(w))}}for(s={},e=Vc(r),c=e.length,v=0;v<c;v++){var j=e[v];if(r[j].parent!==null){x=j,w=r,I=[w[j].parent,j];var G=wv[w[j].parent][j];for(j=w[j].parent;w[j].parent;)I.unshift(w[j].parent),G=Re(wv[w[j].parent][j],G),j=w[j].parent;G.conversion=I,s[x]=G}}return s},E={};Vc(wv).forEach(function(i){E[i]={},Object.defineProperty(E[i],"channels",{value:wv[i].channels}),Object.defineProperty(E[i],"labels",{value:wv[i].labels});var e=S(i);Vc(e).forEach(function(r){var s=e[r];E[i][r]=st(s),E[i][r].raw=mt(s)})});var R=E,N=[].slice,q=["keyword","gray","hex"],ie={};Vc(R).forEach(function(i){ie[N.call(R[i].labels).sort().join("")]=i});var d={};St.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var r=this.model in Pa.to?this:this.rgb();return r=r.round(typeof e=="number"?e:1),e=r.valpha===1?r.color:r.color.concat(this.valpha),Pa.to[r.model](e)},percentString:function(e){return e=this.rgb().round(typeof e=="number"?e:1),e=e.valpha===1?e.color:e.color.concat(this.valpha),Pa.to.rgb.percent(e)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},r=R[this.model].channels,s=R[this.model].labels,c=0;c<r;c++)e[s[c]]=this.color[c];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new St(this.color.map(Xr(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new St(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:zt("rgb",0,nr(255)),green:zt("rgb",1,nr(255)),blue:zt("rgb",2,nr(255)),hue:zt(["hsl","hsv","hsl","hwb","hcg"],0,function(i){return(i%360+360)%360}),saturationl:zt("hsl",1,nr(100)),lightness:zt("hsl",2,nr(100)),saturationv:zt("hsv",1,nr(100)),value:zt("hsv",2,nr(100)),chroma:zt("hcg",1,nr(100)),gray:zt("hcg",2,nr(100)),white:zt("hwb",1,nr(100)),wblack:zt("hwb",2,nr(100)),cyan:zt("cmyk",0,nr(100)),magenta:zt("cmyk",1,nr(100)),yellow:zt("cmyk",2,nr(100)),black:zt("cmyk",3,nr(100)),x:zt("xyz",0,nr(100)),y:zt("xyz",1,nr(100)),z:zt("xyz",2,nr(100)),l:zt("lab",0,nr(100)),a:zt("lab",1),b:zt("lab",2),keyword:function(e){return arguments.length?new St(e):R[this.model].keyword(this.color)},hex:function(e){return arguments.length?new St(e):Pa.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity:function(){for(var e=this.rgb().color,r=[],s=0;s<e.length;s++){var c=e[s]/255;r[s]=.03928>=c?c/12.92:Math.pow((c+.055)/1.055,2.4)}return .2126*r[0]+.7152*r[1]+.0722*r[2]},contrast:function(e){var r=this.luminosity();return e=e.luminosity(),r>e?(r+.05)/(e+.05):(e+.05)/(r+.05)},level:function(e){return e=this.contrast(e),7.1<=e?"AAA":4.5<=e?"AA":""},isDark:function(){var e=this.rgb().color;return 128>(299*e[0]+587*e[1]+114*e[2])/1e3},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),r=0;3>r;r++)e.color[r]=255-e.color[r];return e},lighten:function(e){var r=this.hsl();return r.color[2]+=r.color[2]*e,r},darken:function(e){var r=this.hsl();return r.color[2]-=r.color[2]*e,r},saturate:function(e){var r=this.hsl();return r.color[1]+=r.color[1]*e,r},desaturate:function(e){var r=this.hsl();return r.color[1]-=r.color[1]*e,r},whiten:function(e){var r=this.hwb();return r.color[1]+=r.color[1]*e,r},blacken:function(e){var r=this.hwb();return r.color[2]+=r.color[2]*e,r},grayscale:function(){var e=this.rgb().color;return e=.3*e[0]+.59*e[1]+.11*e[2],St.rgb(e,e,e)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var r=this.hsl(),s=r.color[0];return s=(s+e)%360,r.color[0]=0>s?360+s:s,r},mix:function(e,r){if(!e||!e.rgb)throw Error('Argument to "mix" was not a Color instance, but rather an instance of '+(typeof e=="undefined"?"undefined":vs(e)));e=e.rgb();var s=this.rgb();r=r===void 0?.5:r;var c=2*r-1,v=e.alpha()-s.alpha();return c=((c*v==-1?c:(c+v)/(1+c*v))+1)/2,v=1-c,St.rgb(c*e.red()+v*s.red(),c*e.green()+v*s.green(),c*e.blue()+v*s.blue(),e.alpha()*r+s.alpha()*(1-r))}},Vc(R).forEach(function(i){if(q.indexOf(i)===-1){var e=R[i].channels;St.prototype[i]=function(){if(this.model===i)return new St(this);if(arguments.length)return new St(arguments,i);var r=typeof arguments[e]=="number"?e:this.valpha,s=R[this.model][i].raw(this.color);return s=Array.isArray(s)?s:[s],new St(s.concat(r),i)},St[i]=function(r){return typeof r=="number"&&(r=pn(N.call(arguments),e)),new St(r,i)}}});var n=function(){function i(e,r,s){Wc(this,i),this.options=r,this.gl=e,s&&(this.map=s.map),s=this.getVertexShader(r.vertexShader);var c=this.getFragmentShader(r.fragmentShader);r=e.createShader(e.VERTEX_SHADER),e.shaderSource(r,s),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS)?(s=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(s,c),e.compileShader(s),e.getShaderParameter(s,e.COMPILE_STATUS)?(c=e.createProgram(),e.attachShader(c,r),e.attachShader(c,s),e.deleteShader(r),e.deleteShader(s),e.linkProgram(c),e.getProgramParameter(c,e.LINK_STATUS)?r=c:(r="Shader program failed to link.  The error log is:"+e.getProgramInfoLog(c),console.error(r),r=-1)):(r="Fragment shader failed to compile.  The error log is:"+e.getShaderInfoLog(s),console.error(r),r=-1)):(r="Vertex shader failed to compile.  The error log is:"+e.getShaderInfoLog(r),console.error(r),r=-1),r=this.program=r,s={},c=e.getProgramParameter(r,e.ACTIVE_ATTRIBUTES);for(var v=0;v<c;v++){var x=e.getActiveAttrib(r,v);s[x.name]=e.getAttribLocation(r,x.name)}v={},x={};for(var w=e.getProgramParameter(r,e.ACTIVE_UNIFORMS),I=0;I<w;I++){var j=e.getActiveUniform(r,I);v[j.name]=e.getUniformLocation(r,j.name),x[j.name]=j.type}this.parameter=e={attributes:s,numAttributes:c,uniformsType:x,uniforms:v},this.attributes=e.attributes,this.uniforms=e.uniforms,this.parameter=e}return wf(i,[{key:"getVertexShader",value:function(r){var s="";return this.map&&this.map.type==="cesium"&&(s=`#define LOG_DEPTH
`),s+=`#ifdef LOG_DEPTH
uniform float currentFrustumX;varying float v_depthFromNearPlusOne;
#endif
uniform vec2 MAPV_resolution;
#if defined(PICK)
uniform bool uIsPickRender;attribute vec3 aPickColor;uniform vec3 uPickedColor;varying vec4 vPickColor;uniform bool uEnablePicked;bool mapvIsPicked(){return uEnablePicked&&aPickColor==uPickedColor;}
#endif
void afterMain(){
#if defined(LOG_DEPTH)
v_depthFromNearPlusOne=(gl_Position.w-currentFrustumX)+1.0;gl_Position.z=clamp(gl_Position.z/gl_Position.w,-1.0,1.0)*gl_Position.w;
#endif
#if defined(PICK)
vPickColor=vec4(aPickColor,0.0);if(mapvIsPicked()){vPickColor.a=1.0;}
#endif
}`,r=this.getDefines()+s+r,r=r.replace("void main","void originMain"),r+"void main() {originMain(); afterMain();}"}},{key:"getFragmentShader",value:function(r){var s="";return this.map&&this.map.type==="cesium"&&(s=`#define LOG_DEPTH
`),s+=`#if defined(LOG_DEPTH)
#extension GL_EXT_frag_depth : enable
#endif
precision highp float;uniform vec2 MAPV_resolution;uniform bool uIsPickRender;
#if defined(PICK)
varying vec4 vPickColor;bool mapvIsPicked(){return vPickColor.a==1.0;}
#endif
#if defined(LOG_DEPTH)
uniform float oneOverLog2FarDepthFromNearPlusOne;uniform float farDepthFromNearPlusOne;varying float v_depthFromNearPlusOne;void writeLogDepth(float depth){if(depth<=0.9999999||depth>farDepthFromNearPlusOne){discard;}gl_FragDepthEXT=log2(depth)*oneOverLog2FarDepthFromNearPlusOne;}
#endif
void afterMain(){
#if defined(PICK)
if(uIsPickRender){gl_FragColor=vec4(vPickColor.rgb,1.0);return;}
#endif
#if defined(LOG_DEPTH)
writeLogDepth(v_depthFromNearPlusOne);
#endif
}`,r=this.getDefines()+s+r,r=r.replace("void main","void originMain"),r+"void main() {originMain(); afterMain();}"}},{key:"getDefines",value:function(){var r="",s=this.options.defines;if(s)for(var c=0;c<s.length;c++)r+="#define "+s[c]+`
`;return r}},{key:"use",value:function(r,s){this.gl=r,r.useProgram(this.program),this.map&&this.map.type==="cesium"&&this.setUniforms({currentFrustumX:this.map.map.scene.camera.frustum.near,oneOverLog2FarDepthFromNearPlusOne:this.map.map.scene.context.uniformState.oneOverLog2FarDepthFromNearPlusOne,farDepthFromNearPlusOne:this.map.map.scene.context.uniformState.farDepthFromNearPlusOne}),this.uniforms.MAPV_resolution&&this.setUniforms({MAPV_resolution:[r.canvas.width,r.canvas.height]})}},{key:"setUniform",value:function(r,s){var c=this.gl,v=this.uniforms[r];if(v)switch(this.parameter.uniformsType[r]){case c.FLOAT:c.uniform1f(v,s);break;case c.FLOAT_VEC2:c.uniform2f(v,s[0],s[1]);break;case c.FLOAT_VEC3:c.uniform3f(v,s[0],s[1],s[2]);break;case c.FLOAT_VEC4:c.uniform4f(v,s[0],s[1],s[2],s[3]);break;case c.SAMPLER_2D:case c.SAMPLER_CUBE:c.activeTexture(c["TEXTURE"+this.textureIndex]),c.uniform1i(v,this.textureIndex),c.bindTexture(c.TEXTURE_2D,s),this.textureIndex++;break;case c.INT:case c.BOOL:c.uniform1i(v,s);break;case c.INT_VEC2:case c.BOOL_VEC2:c.uniform2i(v,s[0],s[1]);break;case c.INT_VEC3:case c.BOOL_VEC3:c.uniform3i(v,s[0],s[1],s[2]);break;case c.INT_VEC4:case c.BOOL_VEC4:c.uniform4i(v,s[0],s[1],s[2],s[3]);break;case c.FLOAT_MAT2:c.uniformMatrix2fv(v,!1,s);break;case c.FLOAT_MAT3:c.uniformMatrix3fv(v,!1,s);break;case c.FLOAT_MAT4:c.uniformMatrix4fv(v,!1,s);break;default:console.error("Unrecognized uniform type: "+r)}else console.warn("Unrecognized uniform type: "+r)}},{key:"setUniforms",value:function(r){this.textureIndex=0;for(var s in r)this.setUniform(s,r[s])}}]),i}();(function(){function i(e){Wc(this,i),this.options=e,this.gl=e.gl,this.savedState=[],this.currentState=this.getCurrentState()}return wf(i,[{key:"setDefaultState",value:function(){this.setState()}},{key:"getDefaultState",value:function(){return{blend:!1,depthTest:!1,cullFace:!1,depthMask:!0,stencilTest:!1}}},{key:"getCurrentState",value:function(){var r=this.gl;return{blend:r.getParameter(r.BLEND),stencilTest:r.getParameter(r.STENCIL_TEST),depthTest:r.getParameter(r.DEPTH_TEST),cullFace:r.getParameter(r.CULL_FACE),depthMask:r.getParameter(r.DEPTH_WRITEMASK)}}},{key:"save",value:function(){this.savedState.push(this.getCurrentState())}},{key:"restore",value:function(){var r=this.savedState.pop();this.setState(r)}},{key:"setState",value:function(r){var s=this.gl,c=this.getCurrentState();r=Xe(this.getDefaultState(),r),r.blend!==c.blend&&(r.blend?s.enable(s.BLEND):s.disable(s.BLEND)),r.depthTest!==c.depthTest&&(r.depthTest?s.enable(s.DEPTH_TEST):s.disable(s.DEPTH_TEST)),r.cullFace!==c.cullFace&&(r.cullFace?s.enable(s.CULL_FACE):s.disable(s.CULL_FACE)),r.depthMask!==c.depthMask&&(r.depthMask?s.depthMask(!0):s.depthMask(!1)),this.currentState=r}}]),i})();var l=function(){function i(e){Wc(this,i),this.options=e,this.gl=e.gl,this.buffer=this.gl.createBuffer(),e.data&&this.updateData(e.data)}return wf(i,[{key:"updateData",value:function(r){var s=this.options,c=this.gl;this.bind(),c.bufferData(c[s.target],r,c[s.usage])}},{key:"bind",value:function(r){r=r||this.gl,r.bindBuffer(r[this.options.target],this.buffer)}},{key:"unBind",value:function(r){r=r||this.gl,r.bindBuffer(r[this.options.target],null)}},{key:"destroy",value:function(){this.buffer=null}}]),i}(),a={BYTE:1,UNSIGNED_BYTE:1,SHORT:2,UNSIGNED_SHORT:2,FLOAT:4},f=function(){function i(e){for(Wc(this,i),this.options=e,this.attributes=e.attributes,this.gl=e.gl,this.program=e.program,e=this.stride=0;e<this.attributes.length;e++)this.stride+=a[this.attributes[e].type]*this.attributes[e].size}return wf(i,[{key:"setVertexAttribPointers",value:function(){for(var r=this.gl,s=this.program,c=0;c<this.attributes.length;c++){var v=this.attributes[c],x=s.attributes[v.name];x!==void 0&&(v.buffer.bind(r),r.vertexAttribPointer(x,v.size,r[v.type],v.normalize||!1,v.stride!==void 0?v.stride:this.stride,v.offset),r.enableVertexAttribArray(x))}}},{key:"bind",value:function(){this.setVertexAttribPointers()}},{key:"destroy",value:function(){}}]),i}(),h=function i(e,r,s){Wc(this,i),r=r||e.canvas.width,s=s||e.canvas.height;var c=e.createFramebuffer(),v=e.createTexture();e.bindTexture(e.TEXTURE_2D,v),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r,s,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),c.texture=v;var x=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,x),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,r,s),c.depthBuffer=x,e.bindFramebuffer(e.FRAMEBUFFER,c),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,v,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,x),r=e.checkFramebufferStatus(e.FRAMEBUFFER),e.FRAMEBUFFER_COMPLETE===r&&(e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),this.framebuffer=c)},y=function(){function i(e){Wc(this,i),this.options={},Xe(this.options,e),this.vertex=[-1,1,0,-1,-1,0,1,1,0,1,1,0,-1,-1,0,1,-1,0],this.sampleCoord=[0,1,0,0,1,1,1,1,0,0,1,0]}return wf(i,[{key:"getOptions",value:function(){return this.options}},{key:"onResize",value:function(r){}},{key:"render",value:function(r){var s=r.gl;r=r.texture;var c=this.programSample;s.useProgram(c.program);var v=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,v);var x=[-1,-1,0,-1,1,0,1,1,0,1,1,0,-1,-1,0,1,-1,0];s.bufferData(s.ARRAY_BUFFER,new Float32Array(x),s.STATIC_DRAW),s.enableVertexAttribArray(c.attributes.aPos),s.vertexAttribPointer(c.attributes.aPos,3,s.FLOAT,!1,0,0),v=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,v),s.bufferData(s.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,1,1,1,0,0,1,0]),s.STATIC_DRAW),s.enableVertexAttribArray(c.attributes.aTextureCoord),s.vertexAttribPointer(c.attributes.aTextureCoord,2,s.FLOAT,!1,0,0),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,r),s.uniform1i(c.uniforms.uSampler,0),s.drawArrays(s.TRIANGLES,0,x.length/3)}}]),i}();(function(i){function e(r){return Wc(this,e),$h(this,(e.__proto__||qh(e)).call(this,r))}return yh(e,i),wf(e,[{key:"getProgram",value:function(s){return this.programSample||(this.programSample=new n(s,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(void){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision highp float;uniform sampler2D uSampler;uniform vec2 canvasSize;varying vec2 vTextureCoord;vec4 fxaa_2_0(sampler2D tex,vec2 fragCoord,vec2 resolution,vec2 v_rgbNW,vec2 v_rgbNE,vec2 v_rgbSW,vec2 v_rgbSE,vec2 v_rgbM){vec4 color;mediump vec2 inverseVP=vec2(1.0/resolution.x,1.0/resolution.y);vec3 rgbNW=texture2D(tex,v_rgbNW).xyz;vec3 rgbNE=texture2D(tex,v_rgbNE).xyz;vec3 rgbSW=texture2D(tex,v_rgbSW).xyz;vec3 rgbSE=texture2D(tex,v_rgbSE).xyz;vec4 texColor=texture2D(tex,v_rgbM);vec3 rgbM=texColor.xyz;vec3 luma=vec3(0.299,0.587,0.114);float lumaNW=dot(rgbNW,luma);float lumaNE=dot(rgbNE,luma);float lumaSW=dot(rgbSW,luma);float lumaSE=dot(rgbSE,luma);float lumaM=dot(rgbM,luma);float lumaMin=min(lumaM,min(min(lumaNW,lumaNE),min(lumaSW,lumaSE)));float lumaMax=max(lumaM,max(max(lumaNW,lumaNE),max(lumaSW,lumaSE)));mediump vec2 dir;dir.x=-((lumaNW+lumaNE)-(lumaSW+lumaSE));dir.y=((lumaNW+lumaSW)-(lumaNE+lumaSE));float dirReduce=max((lumaNW+lumaNE+lumaSW+lumaSE)*(0.25*1.0/8.0),1.0/128.0);float rcpDirMin=1.0/(min(abs(dir.x),abs(dir.y))+dirReduce);dir=min(vec2(8.0,8.0),max(vec2(-8.0,-8.0),dir*rcpDirMin))*inverseVP;vec3 rgbA=0.5*(texture2D(tex,fragCoord*inverseVP+dir*(1.0/3.0-0.5)).xyz+texture2D(tex,fragCoord*inverseVP+dir*(2.0/3.0-0.5)).xyz);vec3 rgbB=rgbA*0.5+0.25*(texture2D(tex,fragCoord*inverseVP+dir*-0.5).xyz+texture2D(tex,fragCoord*inverseVP+dir*0.5).xyz);float lumaB=dot(rgbB,luma);if((lumaB<lumaMin)||(lumaB>lumaMax)){color=vec4(rgbA,texColor.a);}else{color=vec4(rgbB,texColor.a);}return color;}void texcoords_3_1(vec2 fragCoord,vec2 resolution,out vec2 v_rgbNW,out vec2 v_rgbNE,out vec2 v_rgbSW,out vec2 v_rgbSE,out vec2 v_rgbM){vec2 inverseVP=1.0/resolution.xy;v_rgbNW=(fragCoord+vec2(-1.0,-1.0))*inverseVP;v_rgbNE=(fragCoord+vec2(1.0,-1.0))*inverseVP;v_rgbSW=(fragCoord+vec2(-1.0,1.0))*inverseVP;v_rgbSE=(fragCoord+vec2(1.0,1.0))*inverseVP;v_rgbM=vec2(fragCoord*inverseVP);}vec4 apply_1_2(sampler2D tex,vec2 fragCoord,vec2 resolution){mediump vec2 v_rgbNW;mediump vec2 v_rgbNE;mediump vec2 v_rgbSW;mediump vec2 v_rgbSE;mediump vec2 v_rgbM;texcoords_3_1(fragCoord,resolution,v_rgbNW,v_rgbNE,v_rgbSW,v_rgbSE,v_rgbM);return fxaa_2_0(tex,fragCoord,resolution,v_rgbNW,v_rgbNE,v_rgbSW,v_rgbSE,v_rgbM);}void main(void){vec2 fragCoord=vTextureCoord*canvasSize;gl_FragColor=apply_1_2(uSampler,fragCoord,canvasSize);}"})),this.programSample}},{key:"render",value:function(s){var c=s.gl;s=s.texture,this.getOptions(),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);var v=this.getProgram(c);c.useProgram(v.program);var x=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,x),c.bufferData(c.ARRAY_BUFFER,new Float32Array(this.vertex),c.STATIC_DRAW),c.enableVertexAttribArray(v.attributes.aPos),c.vertexAttribPointer(v.attributes.aPos,3,c.FLOAT,!1,0,0),x=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,x),c.bufferData(c.ARRAY_BUFFER,new Float32Array(this.sampleCoord),c.STATIC_DRAW),c.enableVertexAttribArray(v.attributes.aTextureCoord),c.vertexAttribPointer(v.attributes.aTextureCoord,2,c.FLOAT,!1,0,0),c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,s),c.uniform1i(v.uniforms.uSampler,1),c.uniform2fv(v.uniforms.canvasSize,[c.canvas.width,c.canvas.height]),c.drawArrays(c.TRIANGLES,0,this.vertex.length/3),c.bindBuffer(c.ARRAY_BUFFER,null),c.useProgram(null)}}]),e})(y),function(i){function e(r){return Wc(this,e),$h(this,(e.__proto__||qh(e)).call(this,r))}return yh(e,i),wf(e,[{key:"getProgram",value:function(s){if(this.program1||(this.program1=new n(s,{vertexShader:"attribute vec3 position;attribute vec2 uv;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];void SMAAEdgeDetectionVS(vec2 texcoord){vOffset[0]=texcoord.xyxy+resolution.xyxy*vec4(-1.0,0.0,0.0,1.0);vOffset[1]=texcoord.xyxy+resolution.xyxy*vec4(1.0,0.0,0.0,-1.0);vOffset[2]=texcoord.xyxy+resolution.xyxy*vec4(-2.0,0.0,0.0,2.0);}void main(){vUv=uv;SMAAEdgeDetectionVS(vUv);gl_Position=vec4(position,1.0);}",fragmentShader:`precision highp float;
#define SMAA_THRESHOLD 0.1
uniform sampler2D tDiffuse;varying vec2 vUv;varying vec4 vOffset[3];vec4 SMAAColorEdgeDetectionPS(vec2 texcoord,vec4 offset[3],sampler2D colorTex){vec2 threshold=vec2(SMAA_THRESHOLD,SMAA_THRESHOLD);vec4 delta;vec3 C=texture2D(colorTex,texcoord).rgb;vec3 Cleft=texture2D(colorTex,offset[0].xy).rgb;vec3 t=abs(C-Cleft);delta.x=max(max(t.r,t.g),t.b);vec3 Ctop=texture2D(colorTex,offset[0].zw).rgb;t=abs(C-Ctop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0,1.0))==0.0)discard;vec3 Cright=texture2D(colorTex,offset[1].xy).rgb;t=abs(C-Cright);delta.z=max(max(t.r,t.g),t.b);vec3 Cbottom=texture2D(colorTex,offset[1].zw).rgb;t=abs(C-Cbottom);delta.w=max(max(t.r,t.g),t.b);float maxDelta=max(max(max(delta.x,delta.y),delta.z),delta.w);vec3 Cleftleft=texture2D(colorTex,offset[2].xy).rgb;t=abs(C-Cleftleft);delta.z=max(max(t.r,t.g),t.b);vec3 Ctoptop=texture2D(colorTex,offset[2].zw).rgb;t=abs(C-Ctoptop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(max(maxDelta,delta.z),delta.w);edges.xy*=step(0.5*maxDelta,delta.xy);return vec4(edges,0.0,0.0);}void main(){gl_FragColor=SMAAColorEdgeDetectionPS(vUv,vOffset,tDiffuse);}`})),this.program2||(this.program2=new n(s,{vertexShader:`precision highp float;
#define SMAA_MAX_SEARCH_STEPS 8
#define SMAA_AREATEX_MAX_DISTANCE 16
#define SMAA_AREATEX_PIXEL_SIZE ( 1.0 / vec2( 160.0, 560.0 ) )
#define SMAA_AREATEX_SUBTEX_SIZE ( 1.0 / 7.0 )
attribute vec3 position;attribute vec2 uv;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixcoord;void SMAABlendingWeightCalculationVS(vec2 texcoord){vPixcoord=texcoord/resolution;vOffset[0]=texcoord.xyxy+resolution.xyxy*vec4(-0.25,0.125,1.25,0.125);vOffset[1]=texcoord.xyxy+resolution.xyxy*vec4(-0.125,0.25,-0.125,-1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*resolution.xxyy*float(SMAA_MAX_SEARCH_STEPS);}void main(){vUv=uv;SMAABlendingWeightCalculationVS(vUv);gl_Position=vec4(position,1.0);}`,fragmentShader:`precision highp float;
#define SMAA_MAX_SEARCH_STEPS 8
#define SMAA_AREATEX_MAX_DISTANCE 16
#define SMAA_AREATEX_PIXEL_SIZE ( 1.0 / vec2( 160.0, 560.0 ) )
#define SMAA_AREATEX_SUBTEX_SIZE ( 1.0 / 7.0 )
#define SMAASampleLevelZeroOffset( tex, coord, offset ) texture2D( tex, coord + float( offset ) * resolution, 0.0 )
uniform sampler2D tDiffuse;uniform sampler2D tArea;uniform sampler2D tSearch;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixcoord;vec2 round(vec2 x){return sign(x)*floor(abs(x)+0.5);}float SMAASearchLength(sampler2D searchTex,vec2 e,float bias,float scale){e.r=bias+e.r*scale;return 255.0*texture2D(searchTex,e,0.0).r;}float SMAASearchXLeft(sampler2D edgesTex,sampler2D searchTex,vec2 texcoord,float end){/***@PSEUDO_GATHER4*This texcoord has been offset by(-0.25,-0.125)in the vertex shader to*sample between edge,thus fetching four edges in a row.*Sampling with different offsets in each direction allows to disambiguate*which edges are active from the four fetched ones.*/vec2 e=vec2(0.0,1.0);for(int i=0;i<SMAA_MAX_SEARCH_STEPS;i++){e=texture2D(edgesTex,texcoord,0.0).rg;texcoord-=vec2(2.0,0.0)*resolution;if(!(texcoord.x>end&&e.g>0.8281&&e.r==0.0))break;}texcoord.x+=0.25*resolution.x;texcoord.x+=resolution.x;texcoord.x+=2.0*resolution.x;texcoord.x-=resolution.x*SMAASearchLength(searchTex,e,0.0,0.5);return texcoord.x;}float SMAASearchXRight(sampler2D edgesTex,sampler2D searchTex,vec2 texcoord,float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<SMAA_MAX_SEARCH_STEPS;i++){e=texture2D(edgesTex,texcoord,0.0).rg;texcoord+=vec2(2.0,0.0)*resolution;if(!(texcoord.x<end&&e.g>0.8281&&e.r==0.0))break;}texcoord.x-=0.25*resolution.x;texcoord.x-=resolution.x;texcoord.x-=2.0*resolution.x;texcoord.x+=resolution.x*SMAASearchLength(searchTex,e,0.5,0.5);return texcoord.x;}float SMAASearchYUp(sampler2D edgesTex,sampler2D searchTex,vec2 texcoord,float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<SMAA_MAX_SEARCH_STEPS;i++){e=texture2D(edgesTex,texcoord,0.0).rg;texcoord+=vec2(0.0,2.0)*resolution;if(!(texcoord.y>end&&e.r>0.8281&&e.g==0.0))break;}texcoord.y-=0.25*resolution.y;texcoord.y-=resolution.y;texcoord.y-=2.0*resolution.y;texcoord.y+=resolution.y*SMAASearchLength(searchTex,e.gr,0.0,0.5);return texcoord.y;}float SMAASearchYDown(sampler2D edgesTex,sampler2D searchTex,vec2 texcoord,float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<SMAA_MAX_SEARCH_STEPS;i++){e=texture2D(edgesTex,texcoord,0.0).rg;texcoord-=vec2(0.0,2.0)*resolution;if(!(texcoord.y<end&&e.r>0.8281&&e.g==0.0))break;}texcoord.y+=0.25*resolution.y;texcoord.y+=resolution.y;texcoord.y+=2.0*resolution.y;texcoord.y-=resolution.y*SMAASearchLength(searchTex,e.gr,0.5,0.5);return texcoord.y;}vec2 SMAAArea(sampler2D areaTex,vec2 dist,float e1,float e2,float offset){vec2 texcoord=float(SMAA_AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texcoord=SMAA_AREATEX_PIXEL_SIZE*texcoord+(0.5*SMAA_AREATEX_PIXEL_SIZE);texcoord.y+=SMAA_AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTex,texcoord,0.0).rg;}vec4 SMAABlendingWeightCalculationPS(vec2 texcoord,vec2 pixcoord,vec4 offset[3],sampler2D edgesTex,sampler2D areaTex,sampler2D searchTex,ivec4 subsampleIndices){vec4 weights=vec4(0.0,0.0,0.0,0.0);vec2 e=texture2D(edgesTex,texcoord).rg;if(e.g>0.0){vec2 d;vec2 coords;coords.x=SMAASearchXLeft(edgesTex,searchTex,offset[0].xy,offset[2].x);coords.y=offset[1].y;d.x=coords.x;float e1=texture2D(edgesTex,coords,0.0).r;coords.x=SMAASearchXRight(edgesTex,searchTex,offset[0].zw,offset[2].y);d.y=coords.x;d=d/resolution.x-pixcoord.x;vec2 sqrt_d=sqrt(abs(d));coords.y-=1.0*resolution.y;float e2=SMAASampleLevelZeroOffset(edgesTex,coords,ivec2(1,0)).r;weights.rg=SMAAArea(areaTex,sqrt_d,e1,e2,float(subsampleIndices.y));}if(e.r>0.0){vec2 d;vec2 coords;coords.y=SMAASearchYUp(edgesTex,searchTex,offset[1].xy,offset[2].z);coords.x=offset[0].x;d.x=coords.y;float e1=texture2D(edgesTex,coords,0.0).g;coords.y=SMAASearchYDown(edgesTex,searchTex,offset[1].zw,offset[2].w);d.y=coords.y;d=d/resolution.y-pixcoord.y;vec2 sqrt_d=sqrt(abs(d));coords.y-=1.0*resolution.y;float e2=SMAASampleLevelZeroOffset(edgesTex,coords,ivec2(0,1)).g;weights.ba=SMAAArea(areaTex,sqrt_d,e1,e2,float(subsampleIndices.x));}return weights;}void main(){gl_FragColor=SMAABlendingWeightCalculationPS(vUv,vPixcoord,vOffset,tDiffuse,tArea,tSearch,ivec4(0.0));}`})),this.program3||(this.program3=new n(s,{vertexShader:"precision highp float;uniform vec2 resolution;attribute vec3 position;attribute vec2 uv;varying vec2 vUv;varying vec4 vOffset[2];void SMAANeighborhoodBlendingVS(vec2 texcoord){vOffset[0]=texcoord.xyxy+resolution.xyxy*vec4(-1.0,0.0,0.0,1.0);vOffset[1]=texcoord.xyxy+resolution.xyxy*vec4(1.0,0.0,0.0,-1.0);}void main(){vUv=uv;SMAANeighborhoodBlendingVS(vUv);gl_Position=vec4(position,1.0);}",fragmentShader:"precision highp float;uniform sampler2D tDiffuse;uniform sampler2D tColor;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[2];vec4 SMAANeighborhoodBlendingPS(vec2 texcoord,vec4 offset[2],sampler2D colorTex,sampler2D blendTex){vec4 a;a.xz=texture2D(blendTex,texcoord).xz;a.y=texture2D(blendTex,offset[1].zw).g;a.w=texture2D(blendTex,offset[1].xy).a;if(dot(a,vec4(1.0,1.0,1.0,1.0))<1e-5){return texture2D(colorTex,texcoord,0.0);}else{vec2 offset;offset.x=a.a>a.b ? a.a :-a.b;offset.y=a.g>a.r ?-a.g : a.r;if(abs(offset.x)>abs(offset.y)){offset.y=0.0;}else{offset.x=0.0;}vec4 C=texture2D(colorTex,texcoord,0.0);texcoord+=sign(offset)*resolution;vec4 Cop=texture2D(colorTex,texcoord,0.0);float s=abs(offset.x)>abs(offset.y)? abs(offset.x): abs(offset.y);C.xyz=pow(C.xyz,vec3(2.2));Cop.xyz=pow(Cop.xyz,vec3(2.2));vec4 mixed=mix(C,Cop,s);mixed.xyz=pow(mixed.xyz,vec3(1.0/2.2));return mixed;}}void main(){gl_FragColor=SMAANeighborhoodBlendingPS(vUv,vOffset,tColor,tDiffuse);}"})),!this.vertexBuffer||!this.sampleBuffer){this.vertexBuffer=new l({gl:s,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.sampleBuffer=new l({gl:s,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.vertexBuffer.updateData(new Float32Array(this.vertex)),this.sampleBuffer.updateData(new Float32Array(this.sampleCoord));var c=[{stride:12,name:"position",buffer:this.vertexBuffer,size:3,type:"FLOAT",offset:0},{stride:8,name:"uv",buffer:this.sampleBuffer,size:2,type:"FLOAT",offset:0}];this.vertexArray1=new f({gl:s,program:this.program1,attributes:c}),this.vertexArray2=new f({gl:s,program:this.program2,attributes:c}),this.vertexArray3=new f({gl:s,program:this.program3,attributes:c})}return{program1:this.program1,program2:this.program2,program3:this.program3}}},{key:"onResize",value:function(s){this.collectBrightBuffer=new h(s),this.bloomBuffer=new h(s)}},{key:"getExtraFbo",value:function(s){return this.collectBrightBuffer||(this.collectBrightBuffer=new h(s)),this.bloomBuffer||(this.bloomBuffer=new h(s)),{collectBrightBuffer:this.collectBrightBuffer.framebuffer,bloomBuffer:this.bloomBuffer.framebuffer}}},{key:"render",value:function(s){var c=s.gl,v=s.texture;s=s.fbo,this.getOptions(),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);var x=this.getProgram(c),w=x.program1,I=x.program2;x=x.program3;var j=this.getExtraFbo(c),G=j.collectBrightBuffer;j=j.bloomBuffer;var W=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,W),c.bufferData(c.ARRAY_BUFFER,new Float32Array(this.vertex),c.STATIC_DRAW),c.enableVertexAttribArray(w.attributes.position),c.vertexAttribPointer(w.attributes.position,3,c.FLOAT,!1,0,0),c.enableVertexAttribArray(I.attributes.position),c.vertexAttribPointer(I.attributes.position,3,c.FLOAT,!1,0,0),c.enableVertexAttribArray(x.attributes.position),c.vertexAttribPointer(x.attributes.position,3,c.FLOAT,!1,0,0),W=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,W),c.bufferData(c.ARRAY_BUFFER,new Float32Array(this.sampleCoord),c.STATIC_DRAW),c.enableVertexAttribArray(w.attributes.uv),c.vertexAttribPointer(w.attributes.uv,2,c.FLOAT,!1,0,0),c.enableVertexAttribArray(I.attributes.uv),c.vertexAttribPointer(I.attributes.uv,2,c.FLOAT,!1,0,0),c.enableVertexAttribArray(x.attributes.uv),c.vertexAttribPointer(x.attributes.uv,2,c.FLOAT,!1,0,0),c.useProgram(w.program),c.bindFramebuffer(c.FRAMEBUFFER,G),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),c.activeTexture(c.TEXTURE2),c.bindTexture(c.TEXTURE_2D,v),c.uniform1i(w.uniforms.tDiffuse,2),c.uniform2fv(w.uniforms.resolution,[c.canvas.width,c.canvas.height]),c.drawArrays(c.TRIANGLES,0,this.vertex.length/3),c.useProgram(I.program),c.bindFramebuffer(c.FRAMEBUFFER,j),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),c.activeTexture(c.TEXTURE2),c.bindTexture(c.TEXTURE_2D,G.texture),c.uniform1i(I.uniforms.uSampler,2),c.uniform2fv(I.uniforms.resolution,[c.canvas.width,c.canvas.height]),c.drawArrays(c.TRIANGLES,0,this.vertex.length/3),c.useProgram(x.program),c.bindFramebuffer(c.FRAMEBUFFER,s),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),c.activeTexture(c.TEXTURE2),c.bindTexture(c.TEXTURE_2D,v),c.uniform1i(x.uniforms.tDiffuse,2),c.activeTexture(c.TEXTURE3),c.bindTexture(c.TEXTURE_2D,j.texture),c.uniform1i(x.uniforms.tColor,3),c.uniform2fv(x.uniforms.resolution,[c.canvas.width,c.canvas.height]),c.drawArrays(c.TRIANGLES,0,this.vertex.length/3),c.bindBuffer(c.ARRAY_BUFFER,null),c.useProgram(null)}},{key:"getAreaTexture",value:function(){return"data:image/png;base64,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"}},{key:"getSearchTexture",value:function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAhCAIAAADiVupLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFZJREFUeNrs00EKgAAIRNEZ739mTQoiwmhRi4L/FiKiu9ERISkzbXdTVV3H4WhfOG6ehl1rNR7qDSF8hwkVcJXt+3A//I0Nv0GoCBUAAAAAAMA/LAIMAB+Dcg2OE2zsAAAAAElFTkSuQmCC"}}]),e}(y),function(i){function e(r){return Wc(this,e),$h(this,(e.__proto__||qh(e)).call(this,r))}return yh(e,i),wf(e,[{key:"getProgram",value:function(s){return this.programSample||(this.programSample=new n(s,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;varying vec2 vTextureCoord;void main(){float fStep=1.0/512.0;vec4 sample11=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t+1.0*fStep));vec4 sample12=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t+1.0*fStep));vec4 sample13=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t+1.0*fStep));vec4 sample21=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t));vec4 sample22=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t));vec4 sample23=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t));vec4 sample31=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t-1.0*fStep));vec4 sample32=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t-1.0*fStep));vec4 sample33=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t-1.0*fStep));vec4 blurSample=(sample11+sample12+sample13+sample21+2.0*sample22+sample23+sample31+sample32+sample33)/10.0;gl_FragColor=blurSample;}"}),this.vertexBuffer=new l({gl:s,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.sampleBuffer=new l({gl:s,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.vertexBuffer.updateData(new Float32Array(this.vertex)),this.sampleBuffer.updateData(new Float32Array(this.sampleCoord)),this.vertexArray=new f({gl:s,program:this.programSample,attributes:[{stride:12,name:"aPos",buffer:this.vertexBuffer,size:3,type:"FLOAT",offset:0},{stride:8,name:"aTextureCoord",buffer:this.sampleBuffer,size:2,type:"FLOAT",offset:0}]})),this.programSample}},{key:"render",value:function(s){var c=s.gl;s=s.texture,c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);var v=this.getProgram(c);v.use(c),this.vertexArray.bind(),c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,s),c.uniform1i(v.uniforms.uSampler,1),c.drawArrays(c.TRIANGLES,0,this.vertex.length/3)}}]),e}(y),function(i){function e(r){return Wc(this,e),$h(this,(e.__proto__||qh(e)).call(this,r))}return yh(e,i),wf(e,[{key:"getProgram",value:function(s){return this.programBright||(this.programBright=new n(s,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform float threshold;varying vec2 vTextureCoord;void main(){vec4 color=texture2D(uSampler,vTextureCoord);vec4 lightColor=max(vec4(0.0),(color-(1.0-threshold)/5.0));float brightness=dot(color.rgb,vec3(0.2126,0.7152,0.0722));if(brightness>threshold){color=lightColor;}else{color=vec4(0.0);}gl_FragColor=color;}"})),this.programBloom||(this.programBloom=new n(s,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform bool isVertical;uniform vec2 canvasSize;uniform float blurSize;uniform float devicePixelRatio;varying vec2 vTextureCoord;void main(){float weight[10];weight[0]=0.2270270270;weight[1]=0.1945945946;weight[2]=0.1216216216;weight[3]=0.1135135135;weight[4]=0.0972972973;weight[5]=0.0608108108;weight[6]=0.0540540541;weight[7]=0.0270270270;weight[8]=0.0162162162;weight[9]=0.0081081081;vec2 offset=vec2(blurSize/canvasSize.x,blurSize/canvasSize.y)*devicePixelRatio;vec4 result=texture2D(uSampler,vTextureCoord)*weight[0];if(isVertical){for(int i=1;i<10;++i){result+=texture2D(uSampler,vTextureCoord+vec2(0.0,offset.y*float(i)))*weight[i];result+=texture2D(uSampler,vTextureCoord-vec2(0.0,offset.y*float(i)))*weight[i];}}else{for(int i=1;i<10;++i){result+=texture2D(uSampler,vTextureCoord+vec2(offset.x*float(i),0.0))*weight[i];result+=texture2D(uSampler,vTextureCoord-vec2(offset.x*float(i),0.0))*weight[i];}}gl_FragColor=result;}"})),this.programResult||(this.programResult=new n(s,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D originalTexture;uniform sampler2D bloomTexture;varying vec2 vTextureCoord;void main(){vec4 color=texture2D(originalTexture,vTextureCoord);vec4 bloomColor=texture2D(bloomTexture,vTextureCoord);color+=bloomColor;gl_FragColor=color;}"})),{programBright:this.programBright,programBloom:this.programBloom,programResult:this.programResult}}},{key:"onResize",value:function(s){this.collectBrightBuffer=new h(s),this.bloomBuffer=new h(s)}},{key:"getExtraFbo",value:function(s){return this.collectBrightBuffer||(this.collectBrightBuffer=new h(s)),this.bloomBuffer||(this.bloomBuffer=new h(s)),{collectBrightBuffer:this.collectBrightBuffer.framebuffer,bloomBuffer:this.bloomBuffer.framebuffer}}},{key:"render",value:function(s){var c=s.gl,v=s.texture;s=s.fbo;var x=this.getOptions();c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);var w=this.getProgram(c),I=w.programBright,j=w.programBloom;w=w.programResult;var G=this.getExtraFbo(c),W=G.collectBrightBuffer;G=G.bloomBuffer;var ae=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,ae),c.bufferData(c.ARRAY_BUFFER,new Float32Array(this.vertex),c.STATIC_DRAW),c.enableVertexAttribArray(I.attributes.aPos),c.vertexAttribPointer(I.attributes.aPos,3,c.FLOAT,!1,0,0),c.enableVertexAttribArray(j.attributes.aPos),c.vertexAttribPointer(j.attributes.aPos,3,c.FLOAT,!1,0,0),c.enableVertexAttribArray(w.attributes.aPos),c.vertexAttribPointer(w.attributes.aPos,3,c.FLOAT,!1,0,0),ae=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,ae),c.bufferData(c.ARRAY_BUFFER,new Float32Array(this.sampleCoord),c.STATIC_DRAW),c.enableVertexAttribArray(I.attributes.aTextureCoord),c.vertexAttribPointer(I.attributes.aTextureCoord,2,c.FLOAT,!1,0,0),c.enableVertexAttribArray(j.attributes.aTextureCoord),c.vertexAttribPointer(j.attributes.aTextureCoord,2,c.FLOAT,!1,0,0),c.enableVertexAttribArray(w.attributes.aTextureCoord),c.vertexAttribPointer(w.attributes.aTextureCoord,2,c.FLOAT,!1,0,0),c.useProgram(I.program),c.bindFramebuffer(c.FRAMEBUFFER,W),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,v),c.uniform1i(I.uniforms.uSampler,1),c.uniform1f(I.uniforms.threshold,x.threshold||0),c.drawArrays(c.TRIANGLES,0,this.vertex.length/3),c.useProgram(j.program),c.bindFramebuffer(c.FRAMEBUFFER,G),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,W.texture),c.uniform1i(j.uniforms.uSampler,1),c.uniform1i(j.uniforms.isVertical,!0),c.uniform1f(j.uniforms.blurSize,x.blurSize||2),c.uniform1f(j.uniforms.devicePixelRatio,window.devicePixelRatio),c.uniform2fv(j.uniforms.canvasSize,[c.canvas.width,c.canvas.height]),c.drawArrays(c.TRIANGLES,0,this.vertex.length/3),c.useProgram(j.program),c.bindFramebuffer(c.FRAMEBUFFER,W),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,G.texture),c.uniform1i(j.uniforms.uSampler,1),c.uniform1i(j.uniforms.isVertical,!1),c.uniform1f(j.uniforms.blurSize,x.blurSize||2),c.uniform1f(j.uniforms.devicePixelRatio,window.devicePixelRatio),c.uniform2fv(j.uniforms.canvasSize,[c.canvas.width,c.canvas.height]),c.drawArrays(c.TRIANGLES,0,this.vertex.length/3),c.useProgram(w.program),c.bindFramebuffer(c.FRAMEBUFFER,s),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,v),c.uniform1i(w.uniforms.originalTexture,1),c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,W.texture),c.uniform1i(w.uniforms.bloomTexture,0),c.drawArrays(c.TRIANGLES,0,this.vertex.length/3),c.bindBuffer(c.ARRAY_BUFFER,null),c.useProgram(null)}}]),e}(y),function(i){function e(r){return Wc(this,e),$h(this,(e.__proto__||qh(e)).call(this,r))}return yh(e,i),wf(e,[{key:"getProgram",value:function(s){return this.programBright||(this.programBright=new n(s,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform float threshold;varying vec2 vTextureCoord;void main(){vec4 color=texture2D(uSampler,vTextureCoord);vec4 lightColor=max(vec4(0.0),(color-threshold));gl_FragColor=lightColor;}"})),this.programBloom||(this.programBloom=new n(s,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform bool isVertical;uniform vec2 canvasSize;uniform float blurSize;uniform float devicePixelRatio;varying vec2 vTextureCoord;void main(){float weight[10];weight[0]=0.2270270270;weight[1]=0.1945945946;weight[2]=0.1216216216;weight[3]=0.1135135135;weight[4]=0.0972972973;weight[5]=0.0608108108;weight[6]=0.0540540541;weight[7]=0.0270270270;weight[8]=0.0162162162;weight[9]=0.0081081081;vec2 offset=vec2(blurSize/canvasSize.x,blurSize/canvasSize.y)*devicePixelRatio;vec4 result=texture2D(uSampler,vTextureCoord)*weight[0];if(isVertical){for(int i=1;i<10;++i){result+=texture2D(uSampler,vTextureCoord+vec2(0.0,offset.y*float(i)))*weight[i];result+=texture2D(uSampler,vTextureCoord-vec2(0.0,offset.y*float(i)))*weight[i];}}else{for(int i=1;i<10;++i){result+=texture2D(uSampler,vTextureCoord+vec2(offset.x*float(i),0.0))*weight[i];result+=texture2D(uSampler,vTextureCoord-vec2(offset.x*float(i),0.0))*weight[i];}}gl_FragColor=result;}"})),this.programResult||(this.programResult=new n(s,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D originalTexture;uniform sampler2D bloomTexture;uniform float toneScale;varying vec2 vTextureCoord;void main(){vec4 color=texture2D(originalTexture,vTextureCoord)*toneScale;vec4 bloomColor=texture2D(bloomTexture,vTextureCoord);color+=bloomColor;gl_FragColor=color;}"})),{programBright:this.programBright,programBloom:this.programBloom,programResult:this.programResult}}},{key:"onResize",value:function(s){this.collectBrightBuffer=new h(s),this.bloomBuffer=new h(s)}},{key:"getExtraFbo",value:function(s){return this.collectBrightBuffer||(this.collectBrightBuffer=new h(s)),this.bloomBuffer||(this.bloomBuffer=new h(s)),{collectBrightBuffer:this.collectBrightBuffer.framebuffer,bloomBuffer:this.bloomBuffer.framebuffer}}},{key:"render",value:function(s){var c=s.gl,v=s.texture;s=s.fbo;var x=this.getOptions(),w="clarity"in x?x.clarity:1;w=Math.max(0,w),w=Math.min(1,w),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);var I=this.getProgram(c),j=I.programBright,G=I.programBloom;I=I.programResult;var W=this.getExtraFbo(c),ae=W.collectBrightBuffer;W=W.bloomBuffer;var ue=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,ue),c.bufferData(c.ARRAY_BUFFER,new Float32Array(this.vertex),c.STATIC_DRAW),c.enableVertexAttribArray(j.attributes.aPos),c.vertexAttribPointer(j.attributes.aPos,3,c.FLOAT,!1,0,0),c.enableVertexAttribArray(G.attributes.aPos),c.vertexAttribPointer(G.attributes.aPos,3,c.FLOAT,!1,0,0),c.enableVertexAttribArray(I.attributes.aPos),c.vertexAttribPointer(I.attributes.aPos,3,c.FLOAT,!1,0,0),ue=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,ue),c.bufferData(c.ARRAY_BUFFER,new Float32Array(this.sampleCoord),c.STATIC_DRAW),c.enableVertexAttribArray(j.attributes.aTextureCoord),c.vertexAttribPointer(j.attributes.aTextureCoord,2,c.FLOAT,!1,0,0),c.enableVertexAttribArray(G.attributes.aTextureCoord),c.vertexAttribPointer(G.attributes.aTextureCoord,2,c.FLOAT,!1,0,0),c.enableVertexAttribArray(I.attributes.aTextureCoord),c.vertexAttribPointer(I.attributes.aTextureCoord,2,c.FLOAT,!1,0,0),c.useProgram(j.program),c.bindFramebuffer(c.FRAMEBUFFER,ae),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,v),c.uniform1i(j.uniforms.uSampler,1),c.uniform1f(j.uniforms.threshold,x.threshold||0),c.drawArrays(c.TRIANGLES,0,this.vertex.length/3),c.useProgram(G.program),c.bindFramebuffer(c.FRAMEBUFFER,W),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,ae.texture),c.uniform1i(G.uniforms.uSampler,1),c.uniform1i(G.uniforms.isVertical,!0),c.uniform1f(G.uniforms.blurSize,x.blurSize||2),c.uniform1f(G.uniforms.devicePixelRatio,window.devicePixelRatio),c.uniform2fv(G.uniforms.canvasSize,[c.canvas.width,c.canvas.height]),c.drawArrays(c.TRIANGLES,0,this.vertex.length/3),c.useProgram(G.program),c.bindFramebuffer(c.FRAMEBUFFER,ae),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,W.texture),c.uniform1i(G.uniforms.uSampler,1),c.uniform1i(G.uniforms.isVertical,!1),c.uniform1f(G.uniforms.blurSize,x.blurSize||2),c.uniform1f(G.uniforms.devicePixelRatio,window.devicePixelRatio),c.uniform2fv(G.uniforms.canvasSize,[c.canvas.width,c.canvas.height]),c.drawArrays(c.TRIANGLES,0,this.vertex.length/3),c.useProgram(I.program),c.bindFramebuffer(c.FRAMEBUFFER,s),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT),c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,v),c.uniform1i(I.uniforms.originalTexture,1),c.uniform1f(I.uniforms.toneScale,w),c.activeTexture(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,ae.texture),c.uniform1i(I.uniforms.bloomTexture,0),c.drawArrays(c.TRIANGLES,0,this.vertex.length/3),c.bindBuffer(c.ARRAY_BUFFER,null),c.useProgram(null)}}]),e}(y),function(i){function e(r){return Wc(this,e),$h(this,(e.__proto__||qh(e)).call(this,r))}return yh(e,i),wf(e,[{key:"getProgram",value:function(s){return this.programSample||(this.programSample=new n(s,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform vec2 canvasSize;varying vec2 vTextureCoord;void main(){float fStep=1.0/312.0;vec4 sample11=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t+1.0*fStep));vec4 sample12=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t+1.0*fStep));vec4 sample13=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t+1.0*fStep));vec4 sample21=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t));vec4 sample22=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t));vec4 sample23=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t));vec4 sample31=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t-1.0*fStep));vec4 sample32=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t-1.0*fStep));vec4 sample33=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t-1.0*fStep));vec4 blurSample=(sample11+sample12+sample13+sample21+2.0*sample22+sample23+sample31+sample32+sample33)/10.0;float desX=abs((gl_FragCoord.x-canvasSize.x/2.0)/(canvasSize.x/2.0));float desY=abs((gl_FragCoord.y-canvasSize.y/2.0)/(canvasSize.y/2.0));float factor=max(desX,desY);gl_FragColor=(sample22*(1.0-factor)+blurSample*factor);}"})),this.programSample}},{key:"render",value:function(s){var c=s.gl;s=s.texture;var v=this.getProgram(c);c.useProgram(v.program);var x=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,x),c.bufferData(c.ARRAY_BUFFER,new Float32Array(this.vertex),c.STATIC_DRAW),c.enableVertexAttribArray(v.attributes.aPos),c.vertexAttribPointer(v.attributes.aPos,3,c.FLOAT,!1,0,0),x=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,x),c.bufferData(c.ARRAY_BUFFER,new Float32Array(this.sampleCoord),c.STATIC_DRAW),c.enableVertexAttribArray(v.attributes.aTextureCoord),c.vertexAttribPointer(v.attributes.aTextureCoord,2,c.FLOAT,!1,0,0),c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,s),c.uniform1i(v.uniforms.uSampler,1),c.uniform2fv(v.uniforms.canvasSize,[c.canvas.width,c.canvas.height]),c.drawArrays(c.TRIANGLES,0,this.vertex.length/3)}}]),e}(y),function(){function i(e){Wc(this,i),this.gl=e,this.effects=[],this.initFbo()}return wf(i,[{key:"addEffect",value:function(r){this.effects.push(r)}},{key:"removeEffect",value:function(r){}},{key:"setEffects",value:function(r){this.effects=r}},{key:"onResize",value:function(){this.initFbo();var r=this.gl,s=this.effects;if(s&&1<s.length)for(var c=1;c<s.length;c++){var v=s[c];v.onResize&&v.onResize(r)}}},{key:"initFbo",value:function(){var r=this.gl;this.fbo=[new h(r),new h(r)]}},{key:"destroy",value:function(){this.effects=[],this.fbo=[],this.gl=null}},{key:"render",value:function(){var r=this.gl,s=this.effects;if(s&&0<s.length)for(var c={},v=0;v<s.length;v++){var x=this.fbo[v%2].framebuffer;v===s.length-1&&(x=null),r.bindFramebuffer(r.FRAMEBUFFER,x);var w=[0,0,0,0];r.clearColor(w[0],w[1],w[2],w[3]),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),s[v].render({isPickRender:!1,gl:r,texture:c.texture,fbo:x}),c=x}}}]),i}();var m=function(i){function e(r){return Wc(this,e),r=$h(this,(e.__proto__||qh(e)).call(this,r)),r.layerType="ThreeLayer",r}return yh(e,i),wf(e,[{key:"initialize",value:function(s){this.getOptions();var c=this.webglLayer.map.map;this.webglLayer.map.type==="three"?(this.camera=c.camera,this.scene=c.scene):(this.camera=new Pl.PerspectiveCamera,this.scene=new Pl.Scene),this.world=new Pl.Group,this.scene.add(this.world),this.webglLayer.map.type!=="three"&&(this.camera.matrixAutoUpdate=!1,this.world.matrixAutoUpdate=!1,this.renderer=new Pl.WebGLRenderer({alpha:!0,antialias:!0,canvas:s.canvas,context:s}),this.renderer.autoClear=!1)}},{key:"_add",value:function(s,c){var v=this.getOptions();this.scene.add(s);var x=[0,0];v.enabledPointOffset===!0&&(x=this.getPointOffset()),c?(v=new Pl.Group,v.isGeoGroup=!0,v.object=s,v.point=c,v.add(s),v.position.x=c.lng-x[0],v.position.y=c.lat-x[1],v.position.z=s.position.z,this.world.add(v)):this.world.add(s)}},{key:"add",value:function(s,c){this._add(s,c),this.update()}},{key:"update",value:function(){this.webglLayer.render()}},{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getRenderer",value:function(){return this.renderer}},{key:"getWorld",value:function(){return this.world}},{key:"updatePoint",value:function(s,c){for(var v=this.world.children,x=0;x<v.length;x++)if(v[x].isGeoGroup&&v[x].object===s){var w=v[x];w.position.x=c.lng,w.position.y=c.lat,w.position.z=s.position.z}}},{key:"remove",value:function(s){this.world.remove(s);for(var c=this.world.children,v=0;v<c.length;v++)c[v].children&&0<c[v].children.length&&c[v].children[0]===s&&this.world.remove(c[v]);this.update()}},{key:"updateCamera",value:function(){var s=this.world,c=this.map.getZoomUnits();s=s.children;for(var v=0;v<s.length;v++)s[v].point&&s[v].scale.set(c,c,c)}},{key:"render",value:function(s){var c=this.getOptions();if(s){if(!this.webglLayer.map.map.camera){this.updateCamera();var v=this.getPointOffset(),x=new Pl.Matrix4().fromArray(s.viewMatrix);this.camera.projectionMatrix=new Pl.Matrix4().fromArray(s.projectionMatrix),this.camera.projectionMatrixInverse.getInverse(this.camera.projectionMatrix),c.enabledPointOffset===!0?this.world.matrix=x:(s=new Pl.Matrix4().makeTranslation(-v[0],-v[1],0),this.world.matrix=x.multiply(s)),this.renderer.state.reset(),this.postProcessing?this.postProcessing.render():this.renderer.render(this.scene,this.camera)}}else this.update()}}]),e}(function(i){function e(r){return Wc(this,e),r=$h(this,(e.__proto__||qh(e)).call(this,r)),r.pickedColor=[-1,-1,-1],r}return yh(e,i),wf(e,[{key:"getCommonDefaultOptions",value:function(){return{zIndex:0,repeat:!1,enablePicked:!1,autoSelect:!1,selectedIndex:-1,selectedColor:"rgba(20, 20, 200, 1.0)"}}},{key:"commonInitialize",value:function(s){var c=this.getOptions();this.gl=s,c.enablePicked&&(this.pickBuffer=new l({gl:s,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}))}},{key:"getCommonAttributes",value:function(){var s=[];return this.getOptions().enablePicked&&s.push({name:"aPickColor",buffer:this.pickBuffer,size:3,type:"FLOAT",stride:12,offset:0}),s}},{key:"getProperty",value:function(s,c,v){return Object.prototype.toString.call(c)==="[object Function]"?c(v):(c=v[s]||c,"properties"in v&&s in v.properties&&(c=v.properties[s]),c)}},{key:"normizedColor",value:function(s){var c=s;return s instanceof Array||(c=St(s).unitArray()),c[3]===void 0&&(c[3]=1),c}},{key:"normizedPoint",value:function(s){var c=this.getPointOffset();if(!s||!s[0]||!s[1])return[c[0],c[1],0];var v=Number(s[0]),x=Number(s[1]);-180<=v&&180>=v&&-90<=x&&90>=x&&(x=this.webglLayer.map.lnglatToMercator(v,x),v=x[0],x=x[1]);var w=Number(s[2])||0;return this.webglLayer&&this.webglLayer.options.mapType==="cesium"&&window.Cesium?(v=this.convertLngLat([v,x]),w=window.Cesium.Cartesian3.fromDegrees(v[0],v[1],w),v=w.x,x=w.y,w=w.z):this.webglLayer&&this.webglLayer.options.mapType==="bmapgl"&&this.webglLayer.map.map.mapType==="B_EARTH_MAP"&&(v=this.convertLngLat([v,x]),w=this.webglLayer.map.map.getEarth().scene.fromLatLngToXYZ({lng:v[0],lat:v[1]}),v=w.x,x=w.y,w=w.z),3<s.length?[v-c[0],x-c[1],w].concat(Xg(s.slice(3))):[v-c[0],x-c[1],w]}},{key:"convertLngLat",value:function(s){return[s[0]/2003750834e-2*180,180/Math.PI*(2*Math.atan(Math.exp(s[1]/2003750834e-2*180*Math.PI/180))-Math.PI/2)]}},{key:"getPointOffset",value:function(){var s=[0,0],c=this.getOptions();return this.webglLayer&&this.webglLayer.options.pointOffset?s=this.webglLayer.options.pointOffset:c.pointOffset&&(s=c.pointOffset),s}},{key:"indexToRgb",value:function(s){s++;var c=Math.floor(s/65536);s-=65536*c;var v=Math.floor(s/256);return[s-256*v,v,c]}},{key:"rgbToIndex",value:function(s){return s[0]+256*s[1]+65536*s[2]-1}},{key:"getCommonUniforms",value:function(s){s=s.isPickRender;var c=this.getOptions(),v={};if(c.enablePicked){var x=0<=c.selectedIndex?c.selectedIndex:-1;x=c.autoSelect?this.pickedColor:this.indexToRgb(x),v=Xe(v,{uSelectedColor:this.normizedColor(c.selectedColor),uEnablePicked:c.enablePicked,uPickedColor:x.map(function(w){return w/255}),uIsPickRender:!!s})}return v}},{key:"pick",value:function(s,c){var v=this.gl;this.webglLayer.saveFramebuffer(),this.webglLayer.bindFramebuffer(this.webglLayer.pickFBO),this.webglLayer.clear(),this.render({gl:v,isPickRender:!0,matrix:this.webglLayer.matrix,projectionMatrix:this.webglLayer.projectionMatrix,viewMatrix:this.webglLayer.viewMatrix,orthoMatrix:this.webglLayer.orthoMatrix});var x=new Uint8Array(4);return v.readPixels(s*window.devicePixelRatio,v.canvas.height-c*window.devicePixelRatio,1,1,v.RGBA,v.UNSIGNED_BYTE,x),s=this.rgbToIndex(x),c=this.getData(),this.pickedColor=[x[0],x[1],x[2]],this.webglLayer.restoreFramebuffer(),{dataIndex:s,dataItem:c[s]}}},{key:"setGLState",value:function(s){this.webglLayer.stateManager.setState(s)}},{key:"addMultipleCoords",value:function(s,c,v){if(!this.options.repeat||!this.webglLayer||this.webglLayer.options.mapType!=="bmapgl"||this.webglLayer.map.map.mapType==="B_EARTH_MAP")return[s];var x=this.webglLayer.map.map;c=c||x.getZoom();var w=v?x.worldSize(c):4007545274461451e-8;if(c=function(Me){return[[Me[0]-w,Me[1],Me[2]||0],[Me[0]+w,Me[1],Me[2]||0]]},s instanceof Array&&!(s[0]instanceof Array))return c=c(s),c=wg(c,2),[s,c[0],c[1]];if(s instanceof Array&&s[0]instanceof Array&&!(s[0][0]instanceof Array)){v=[],x=[];for(var I=0;I<s.length;I++){var j=c(s[I]);j=wg(j,2);var G=j[1];v.push(j[0]),x.push(G)}return[s,v,x]}for(v=[],x=[],I=0;I<s.length;I++){j=[],G=[];for(var W=0;W<s[I].length;W++){var ae=c(s[I][W]);ae=wg(ae,2);var ue=ae[1];j.push(ae[0]),G.push(ue)}v.push(j),x.push(G)}return[s,v,x]}}]),e}(Ag)),C=function(i){function e(r){Wc(this,e);var s=$h(this,(e.__proto__||qh(e)).call(this,r));return s.layerType="threeLayer",s.setOptions(r),s}return yh(e,i),wf(e,[{key:"setWebglLayer",value:function(s){s.threeLayer||(s.threeLayer=new m({enabledPointOffset:!0,webglLayer:s})),this.threeLayer=s.threeLayer}},{key:"getPointOffset",value:function(){return this.threeLayer.getPointOffset()}},{key:"getThreeLayer",value:function(){return this.threeLayer}}]),e}(Ag),P=ve(function(i,e){e.__esModule=!0;var r=vp&&vp.__esModule?vp:{default:vp};e.default=function(s,c,v){return c in s?(0,r.default)(s,c,{value:v,enumerable:!0,configurable:!0,writable:!0}):s[c]=v,s}}),B=Ae(P);Ic===void 0&&(Number.EPSILON=Math.pow(2,-52)),lm===void 0&&(Number.isInteger=function(i){return typeof i=="number"&&isFinite(i)&&Math.floor(i)===i}),Im===void 0&&(Math.sign=function(i){return 0>i?-1:0<i?1:+i}),!("name"in Function.prototype)&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),Xe===void 0&&(Object.assign=function(i){if(i==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(i),r=1;r<arguments.length;r++){var s=arguments[r];if(s!=null)for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(e[c]=s[c])}return e}),Xe(Vr.prototype,{addEventListener:function(e,r){this._listeners===void 0&&(this._listeners={});var s=this._listeners;s[e]===void 0&&(s[e]=[]),s[e].indexOf(r)===-1&&s[e].push(r)},hasEventListener:function(e,r){if(this._listeners===void 0)return!1;var s=this._listeners;return s[e]!==void 0&&s[e].indexOf(r)!==-1},removeEventListener:function(e,r){this._listeners!==void 0&&(e=this._listeners[e],e!==void 0&&(r=e.indexOf(r),r!==-1&&e.splice(r,1)))},dispatchEvent:function(e){if(this._listeners!==void 0){var r=this._listeners[e.type];if(r!==void 0){e.target=this,r=r.slice(0);for(var s=0,c=r.length;s<c;s++)r[s].call(this,e)}}}});for(var M=[],T=0;256>T;T++)M[T]=(16>T?"0":"")+T.toString(16);var L={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,r=4294967295*Math.random()|0,s=4294967295*Math.random()|0,c=4294967295*Math.random()|0;return(M[e&255]+M[e>>8&255]+M[e>>16&255]+M[e>>24&255]+"-"+M[r&255]+M[r>>8&255]+"-"+M[r>>16&15|64]+M[r>>24&255]+"-"+M[s&63|128]+M[s>>8&255]+"-"+M[s>>16&255]+M[s>>24&255]+M[c&255]+M[c>>8&255]+M[c>>16&255]+M[c>>24&255]).toUpperCase()},clamp:function(e,r,s){return Math.max(r,Math.min(s,e))},euclideanModulo:function(e,r){return(e%r+r)%r},mapLinear:function(e,r,s,c,v){return c+(e-r)*(v-c)/(s-r)},lerp:function(e,r,s){return(1-s)*e+s*r},smoothstep:function(e,r,s){return e<=r?0:e>=s?1:(e=(e-r)/(s-r),e*e*(3-2*e))},smootherstep:function(e,r,s){return e<=r?0:e>=s?1:(e=(e-r)/(s-r),e*e*e*(e*(6*e-15)+10))},randInt:function(e,r){return e+Math.floor(Math.random()*(r-e+1))},randFloat:function(e,r){return e+Math.random()*(r-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*L.DEG2RAD},radToDeg:function(e){return e*L.RAD2DEG},isPowerOfTwo:function(e){return(e&e-1)==0&&e!==0},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,r,s,c,v){var x=Math.cos,w=Math.sin,I=x(s/2);s=w(s/2);var j=x((r+c)/2),G=w((r+c)/2),W=x((r-c)/2),ae=w((r-c)/2);switch(x=x((c-r)/2),r=w((c-r)/2),v){case"XYX":e.set(I*G,s*W,s*ae,I*j);break;case"YZY":e.set(s*ae,I*G,s*W,I*j);break;case"ZXZ":e.set(s*W,s*ae,I*G,I*j);break;case"XZX":e.set(I*G,s*r,s*x,I*j);break;case"YXY":e.set(s*x,I*G,s*r,I*j);break;case"ZYZ":e.set(s*r,s*x,I*G,I*j);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+v)}}};Ia($e.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Xe($e.prototype,{isVector2:!0,set:function(e,r){return this.x=e,this.y=r,this},setScalar:function(e){return this.y=this.x=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;default:throw Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,r){return r!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,r)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this},addScaledVector:function(e,r){return this.x+=e.x*r,this.y+=e.y*r,this},sub:function(e,r){return r!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,r)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var r=this.x,s=this.y;return e=e.elements,this.x=e[0]*r+e[3]*s+e[6],this.y=e[1]*r+e[4]*s+e[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this},clampScalar:function(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this},clampLength:function(e,r){var s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(e,Math.min(r,s)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){return Math.atan2(-this.y,-this.x)+Math.PI},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var r=this.x-e.x;return e=this.y-e.y,r*r+e*e},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this},lerpVectors:function(e,r,s){return this.x=e.x+(r.x-e.x)*s,this.y=e.y+(r.y-e.y)*s,this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,r){return r===void 0&&(r=0),this.x=e[r],this.y=e[r+1],this},toArray:function(e,r){return e===void 0&&(e=[]),r===void 0&&(r=0),e[r]=this.x,e[r+1]=this.y,e},fromBufferAttribute:function(e,r,s){return s!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(r),this.y=e.getY(r),this},rotateAround:function(e,r){var s=Math.cos(r);r=Math.sin(r);var c=this.x-e.x,v=this.y-e.y;return this.x=c*s-v*r+e.x,this.y=c*r+v*s+e.y,this},random:function(){return this.x=Math.random(),this.y=Math.random(),this}}),Xe(Et.prototype,{isMatrix3:!0,set:function(e,r,s,c,v,x,w,I,j){var G=this.elements;return G[0]=e,G[1]=c,G[2]=w,G[3]=r,G[4]=v,G[5]=I,G[6]=s,G[7]=x,G[8]=j,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return new this.constructor().fromArray(this.elements)},copy:function(e){var r=this.elements;return e=e.elements,r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],this},extractBasis:function(e,r,s){return e.setFromMatrix3Column(this,0),r.setFromMatrix3Column(this,1),s.setFromMatrix3Column(this,2),this},setFromMatrix4:function(e){return e=e.elements,this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,r){var s=e.elements,c=r.elements;r=this.elements,e=s[0];var v=s[3],x=s[6],w=s[1],I=s[4],j=s[7],G=s[2],W=s[5];s=s[8];var ae=c[0],ue=c[3],be=c[6],Me=c[1],ct=c[4],Nt=c[7],Pt=c[2],Bt=c[5];return c=c[8],r[0]=e*ae+v*Me+x*Pt,r[3]=e*ue+v*ct+x*Bt,r[6]=e*be+v*Nt+x*c,r[1]=w*ae+I*Me+j*Pt,r[4]=w*ue+I*ct+j*Bt,r[7]=w*be+I*Nt+j*c,r[2]=G*ae+W*Me+s*Pt,r[5]=G*ue+W*ct+s*Bt,r[8]=G*be+W*Nt+s*c,this},multiplyScalar:function(e){var r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=e,r[4]*=e,r[7]*=e,r[2]*=e,r[5]*=e,r[8]*=e,this},determinant:function(){var e=this.elements,r=e[0],s=e[1],c=e[2],v=e[3],x=e[4],w=e[5],I=e[6],j=e[7];return e=e[8],r*x*e-r*w*j-s*v*e+s*w*I+c*v*j-c*x*I},getInverse:function(e,r){r!==void 0&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");var s=e.elements;e=this.elements,r=s[0];var c=s[1],v=s[2],x=s[3],w=s[4],I=s[5],j=s[6],G=s[7];s=s[8];var W=s*w-I*G,ae=I*j-s*x,ue=G*x-w*j,be=r*W+c*ae+v*ue;return be===0?this.set(0,0,0,0,0,0,0,0,0):(be=1/be,e[0]=W*be,e[1]=(v*G-s*c)*be,e[2]=(I*c-v*w)*be,e[3]=ae*be,e[4]=(s*r-v*j)*be,e[5]=(v*x-I*r)*be,e[6]=ue*be,e[7]=(c*j-G*r)*be,e[8]=(w*r-c*x)*be,this)},transpose:function(){var e=this.elements,r=e[1];return e[1]=e[3],e[3]=r,r=e[2],e[2]=e[6],e[6]=r,r=e[5],e[5]=e[7],e[7]=r,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var r=this.elements;return e[0]=r[0],e[1]=r[3],e[2]=r[6],e[3]=r[1],e[4]=r[4],e[5]=r[7],e[6]=r[2],e[7]=r[5],e[8]=r[8],this},setUvTransform:function(e,r,s,c,v,x,w){var I=Math.cos(v);v=Math.sin(v),this.set(s*I,s*v,-s*(I*x+v*w)+x+e,-c*v,c*I,-c*(-v*x+I*w)+w+r,0,0,1)},scale:function(e,r){var s=this.elements;return s[0]*=e,s[3]*=e,s[6]*=e,s[1]*=r,s[4]*=r,s[7]*=r,this},rotate:function(e){var r=Math.cos(e);e=Math.sin(e);var s=this.elements,c=s[0],v=s[3],x=s[6],w=s[1],I=s[4],j=s[7];return s[0]=r*c+e*w,s[3]=r*v+e*I,s[6]=r*x+e*j,s[1]=-e*c+r*w,s[4]=-e*v+r*I,s[7]=-e*x+r*j,this},translate:function(e,r){var s=this.elements;return s[0]+=e*s[2],s[3]+=e*s[5],s[6]+=e*s[8],s[1]+=r*s[2],s[4]+=r*s[5],s[7]+=r*s[8],this},equals:function(e){var r=this.elements;e=e.elements;for(var s=0;9>s;s++)if(r[s]!==e[s])return!1;return!0},fromArray:function(e,r){r===void 0&&(r=0);for(var s=0;9>s;s++)this.elements[s]=e[s+r];return this},toArray:function(e,r){e===void 0&&(e=[]),r===void 0&&(r=0);var s=this.elements;return e[r]=s[0],e[r+1]=s[1],e[r+2]=s[2],e[r+3]=s[3],e[r+4]=s[4],e[r+5]=s[5],e[r+6]=s[6],e[r+7]=s[7],e[r+8]=s[8],e}});var z,H={getDataURL:function(e){if(typeof HTMLCanvasElement=="undefined")return e.src;if(!(e instanceof HTMLCanvasElement)){z===void 0&&(z=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),z.width=e.width,z.height=e.height;var r=z.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),e=z}return 2048<e.width||2048<e.height?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}},Z=0;Xt.DEFAULT_IMAGE=void 0,Xt.DEFAULT_MAPPING=300,Xt.prototype=Xe(Ge(Vr.prototype),{constructor:Xt,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var r=e===void 0||typeof e=="string";if(!r&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];var s={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){var c=this.image;if(c.uuid===void 0&&(c.uuid=L.generateUUID()),!r&&e.images[c.uuid]===void 0){if(Array.isArray(c))for(var v=[],x=0,w=c.length;x<w;x++)v.push(H.getDataURL(c[x]));else v=H.getDataURL(c);e.images[c.uuid]={uuid:c.uuid,url:v}}s.image=c.uuid}return r||(e.textures[this.uuid]=s),s},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==300)return e;if(e.applyMatrix3(this.matrix),0>e.x||1<e.x)switch(this.wrapS){case 1e3:e.x-=Math.floor(e.x);break;case 1001:e.x=0>e.x?0:1;break;case 1002:e.x=Math.abs(Math.floor(e.x)%2)===1?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(0>e.y||1<e.y)switch(this.wrapT){case 1e3:e.y-=Math.floor(e.y);break;case 1001:e.y=0>e.y?0:1;break;case 1002:e.y=Math.abs(Math.floor(e.y)%2)===1?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(Xt.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}}),Ia(et.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}}),Xe(et.prototype,{isVector4:!0,set:function(e,r,s,c){return this.x=e,this.y=r,this.z=s,this.w=c,this},setScalar:function(e){return this.w=this.z=this.y=this.x=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;case 3:this.w=r;break;default:throw Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this},add:function(e,r){return r!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,r)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this.z=e.z+r.z,this.w=e.w+r.w,this},addScaledVector:function(e,r){return this.x+=e.x*r,this.y+=e.y*r,this.z+=e.z*r,this.w+=e.w*r,this},sub:function(e,r){return r!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,r)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this.z=e.z-r.z,this.w=e.w-r.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var r=this.x,s=this.y,c=this.z,v=this.w;return e=e.elements,this.x=e[0]*r+e[4]*s+e[8]*c+e[12]*v,this.y=e[1]*r+e[5]*s+e[9]*c+e[13]*v,this.z=e[2]*r+e[6]*s+e[10]*c+e[14]*v,this.w=e[3]*r+e[7]*s+e[11]*c+e[15]*v,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var r=Math.sqrt(1-e.w*e.w);return 1e-4>r?(this.x=1,this.z=this.y=0):(this.x=e.x/r,this.y=e.y/r,this.z=e.z/r),this},setAxisAngleFromRotationMatrix:function(e){e=e.elements;var r=e[0],s=e[4],c=e[8],v=e[1],x=e[5],w=e[9],I=e[2],j=e[6],G=e[10];return .01>Math.abs(s-v)&&.01>Math.abs(c-I)&&.01>Math.abs(w-j)?.1>Math.abs(s+v)&&.1>Math.abs(c+I)&&.1>Math.abs(w+j)&&.1>Math.abs(r+x+G-3)?(this.set(1,0,0,0),this):(e=Math.PI,r=(r+1)/2,x=(x+1)/2,G=(G+1)/2,s=(s+v)/4,c=(c+I)/4,w=(w+j)/4,r>x&&r>G?.01>r?(j=0,s=I=.707106781):(j=Math.sqrt(r),I=s/j,s=c/j):x>G?.01>x?(j=.707106781,I=0,s=.707106781):(I=Math.sqrt(x),j=s/I,s=w/I):.01>G?(I=j=.707106781,s=0):(s=Math.sqrt(G),j=c/s,I=w/s),this.set(j,I,s,e),this):(e=Math.sqrt((j-w)*(j-w)+(c-I)*(c-I)+(v-s)*(v-s)),.001>Math.abs(e)&&(e=1),this.x=(j-w)/e,this.y=(c-I)/e,this.z=(v-s)/e,this.w=Math.acos((r+x+G-1)/2),this)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this.z=Math.max(e.z,Math.min(r.z,this.z)),this.w=Math.max(e.w,Math.min(r.w,this.w)),this},clampScalar:function(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this.z=Math.max(e,Math.min(r,this.z)),this.w=Math.max(e,Math.min(r,this.w)),this},clampLength:function(e,r){var s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(e,Math.min(r,s)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this.z+=(e.z-this.z)*r,this.w+=(e.w-this.w)*r,this},lerpVectors:function(e,r,s){return this.x=e.x+(r.x-e.x)*s,this.y=e.y+(r.y-e.y)*s,this.z=e.z+(r.z-e.z)*s,this.w=e.w+(r.w-e.w)*s,this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,r){return r===void 0&&(r=0),this.x=e[r],this.y=e[r+1],this.z=e[r+2],this.w=e[r+3],this},toArray:function(e,r){return e===void 0&&(e=[]),r===void 0&&(r=0),e[r]=this.x,e[r+1]=this.y,e[r+2]=this.z,e[r+3]=this.w,e},fromBufferAttribute:function(e,r,s){return s!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(r),this.y=e.getY(r),this.z=e.getZ(r),this.w=e.getW(r),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}),bt.prototype=Xe(Ge(Vr.prototype),{constructor:bt,isWebGLRenderTarget:!0,setSize:function(e,r){(this.width!==e||this.height!==r)&&(this.width=e,this.height=r,this.texture.image.width=e,this.texture.image.height=r,this.dispose()),this.viewport.set(0,0,e,r),this.scissor.set(0,0,e,r)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Zt.prototype=Xe(Ge(bt.prototype),{constructor:Zt,isWebGLMultisampleRenderTarget:!0,copy:function(e){return bt.prototype.copy.call(this,e),this.samples=e.samples,this}}),Xe(qe,{slerp:function(e,r,s,c){return s.copy(e).slerp(r,c)},slerpFlat:function(e,r,s,c,v,x,w){var I=s[c+0],j=s[c+1],G=s[c+2];s=s[c+3],c=v[x+0];var W=v[x+1],ae=v[x+2];if(v=v[x+3],s!==v||I!==c||j!==W||G!==ae){x=1-w;var ue=I*c+j*W+G*ae+s*v,be=0<=ue?1:-1,Me=1-ue*ue;Me>Ic&&(Me=Math.sqrt(Me),ue=Math.atan2(Me,ue*be),x=Math.sin(x*ue)/Me,w=Math.sin(w*ue)/Me),be*=w,I=I*x+c*be,j=j*x+W*be,G=G*x+ae*be,s=s*x+v*be,x===1-w&&(w=1/Math.sqrt(I*I+j*j+G*G+s*s),I*=w,j*=w,G*=w,s*=w)}e[r]=I,e[r+1]=j,e[r+2]=G,e[r+3]=s},multiplyQuaternionsFlat:function(e,r,s,c,v,x){var w=s[c],I=s[c+1],j=s[c+2];s=s[c+3],c=v[x];var G=v[x+1],W=v[x+2];return v=v[x+3],e[r]=w*v+s*c+I*W-j*G,e[r+1]=I*v+s*G+j*c-w*W,e[r+2]=j*v+s*W+w*G-I*c,e[r+3]=s*v-w*c-I*G-j*W,e}}),Ia(qe.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}}),Xe(qe.prototype,{isQuaternion:!0,set:function(e,r,s,c){return this._x=e,this._y=r,this._z=s,this._w=c,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,r){if(!e||!e.isEuler)throw Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var s=e._x,c=e._y,v=e._z;e=e.order;var x=Math.cos,w=Math.sin,I=x(s/2),j=x(c/2);switch(x=x(v/2),s=w(s/2),c=w(c/2),v=w(v/2),e){case"XYZ":this._x=s*j*x+I*c*v,this._y=I*c*x-s*j*v,this._z=I*j*v+s*c*x,this._w=I*j*x-s*c*v;break;case"YXZ":this._x=s*j*x+I*c*v,this._y=I*c*x-s*j*v,this._z=I*j*v-s*c*x,this._w=I*j*x+s*c*v;break;case"ZXY":this._x=s*j*x-I*c*v,this._y=I*c*x+s*j*v,this._z=I*j*v+s*c*x,this._w=I*j*x-s*c*v;break;case"ZYX":this._x=s*j*x-I*c*v,this._y=I*c*x+s*j*v,this._z=I*j*v-s*c*x,this._w=I*j*x+s*c*v;break;case"YZX":this._x=s*j*x+I*c*v,this._y=I*c*x+s*j*v,this._z=I*j*v-s*c*x,this._w=I*j*x-s*c*v;break;case"XZY":this._x=s*j*x-I*c*v,this._y=I*c*x-s*j*v,this._z=I*j*v+s*c*x,this._w=I*j*x+s*c*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+e)}return r!==!1&&this._onChangeCallback(),this},setFromAxisAngle:function(e,r){r/=2;var s=Math.sin(r);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(r),this._onChangeCallback(),this},setFromRotationMatrix:function(e){var r=e.elements,s=r[0];e=r[4];var c=r[8],v=r[1],x=r[5],w=r[9],I=r[2],j=r[6];r=r[10];var G=s+x+r;return 0<G?(s=.5/Math.sqrt(G+1),this._w=.25/s,this._x=(j-w)*s,this._y=(c-I)*s,this._z=(v-e)*s):s>x&&s>r?(s=2*Math.sqrt(1+s-x-r),this._w=(j-w)/s,this._x=.25*s,this._y=(e+v)/s,this._z=(c+I)/s):x>r?(s=2*Math.sqrt(1+x-s-r),this._w=(c-I)/s,this._x=(e+v)/s,this._y=.25*s,this._z=(w+j)/s):(s=2*Math.sqrt(1+r-s-x),this._w=(v-e)/s,this._x=(c+I)/s,this._y=(w+j)/s,this._z=.25*s),this._onChangeCallback(),this},setFromUnitVectors:function(e,r){var s=e.dot(r)+1;return 1e-6>s?(s=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0):(this._x=0,this._y=-e.z,this._z=e.y)):(this._x=e.y*r.z-e.z*r.y,this._y=e.z*r.x-e.x*r.z,this._z=e.x*r.y-e.y*r.x),this._w=s,this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(L.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,r){var s=this.angleTo(e);return s===0?this:(this.slerp(e,Math.min(1,r/s)),this)},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return e===0?(this._z=this._y=this._x=0,this._w=1):(e=1/e,this._x*=e,this._y*=e,this._z*=e,this._w*=e),this._onChangeCallback(),this},multiply:function(e,r){return r!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,r)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,r){var s=e._x,c=e._y,v=e._z;e=e._w;var x=r._x,w=r._y,I=r._z;return r=r._w,this._x=s*r+e*x+c*I-v*w,this._y=c*r+e*w+v*x-s*I,this._z=v*r+e*I+s*w-c*x,this._w=e*r-s*x-c*w-v*I,this._onChangeCallback(),this},slerp:function(e,r){if(r===0)return this;if(r===1)return this.copy(e);var s=this._x,c=this._y,v=this._z,x=this._w,w=x*e._w+s*e._x+c*e._y+v*e._z;if(0>w?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,w=-w):this.copy(e),1<=w)return this._w=x,this._x=s,this._y=c,this._z=v,this;if(e=1-w*w,e<=Ic)return w=1-r,this._w=w*x+r*this._w,this._x=w*s+r*this._x,this._y=w*c+r*this._y,this._z=w*v+r*this._z,this.normalize(),this._onChangeCallback(),this;e=Math.sqrt(e);var I=Math.atan2(e,w);return w=Math.sin((1-r)*I)/e,r=Math.sin(r*I)/e,this._w=x*w+this._w*r,this._x=s*w+this._x*r,this._y=c*w+this._y*r,this._z=v*w+this._z*r,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,r){return r===void 0&&(r=0),this._x=e[r],this._y=e[r+1],this._z=e[r+2],this._w=e[r+3],this._onChangeCallback(),this},toArray:function(e,r){return e===void 0&&(e=[]),r===void 0&&(r=0),e[r]=this._x,e[r+1]=this._y,e[r+2]=this._z,e[r+3]=this._w,e},fromBufferAttribute:function(e,r){return this._x=e.getX(r),this._y=e.getY(r),this._z=e.getZ(r),this._w=e.getW(r),this},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});var J=new Ie,V=new qe;Xe(Ie.prototype,{isVector3:!0,set:function(e,r,s){return this.x=e,this.y=r,this.z=s,this},setScalar:function(e){return this.z=this.y=this.x=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;default:throw Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,r){return r!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,r)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this.z=e.z+r.z,this},addScaledVector:function(e,r){return this.x+=e.x*r,this.y+=e.y*r,this.z+=e.z*r,this},sub:function(e,r){return r!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,r)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this.z=e.z-r.z,this},multiply:function(e,r){return r!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,r)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,r){return this.x=e.x*r.x,this.y=e.y*r.y,this.z=e.z*r.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(V.setFromEuler(e))},applyAxisAngle:function(e,r){return this.applyQuaternion(V.setFromAxisAngle(e,r))},applyMatrix3:function(e){var r=this.x,s=this.y,c=this.z;return e=e.elements,this.x=e[0]*r+e[3]*s+e[6]*c,this.y=e[1]*r+e[4]*s+e[7]*c,this.z=e[2]*r+e[5]*s+e[8]*c,this},applyNormalMatrix:function(e){return this.applyMatrix3(e).normalize()},applyMatrix4:function(e){var r=this.x,s=this.y,c=this.z;e=e.elements;var v=1/(e[3]*r+e[7]*s+e[11]*c+e[15]);return this.x=(e[0]*r+e[4]*s+e[8]*c+e[12])*v,this.y=(e[1]*r+e[5]*s+e[9]*c+e[13])*v,this.z=(e[2]*r+e[6]*s+e[10]*c+e[14])*v,this},applyQuaternion:function(e){var r=this.x,s=this.y,c=this.z,v=e.x,x=e.y,w=e.z;e=e.w;var I=e*r+x*c-w*s,j=e*s+w*r-v*c,G=e*c+v*s-x*r;return r=-v*r-x*s-w*c,this.x=I*e+r*-v+j*-w-G*-x,this.y=j*e+r*-x+G*-v-I*-w,this.z=G*e+r*-w+I*-x-j*-v,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){var r=this.x,s=this.y,c=this.z;return e=e.elements,this.x=e[0]*r+e[4]*s+e[8]*c,this.y=e[1]*r+e[5]*s+e[9]*c,this.z=e[2]*r+e[6]*s+e[10]*c,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this.z=Math.max(e.z,Math.min(r.z,this.z)),this},clampScalar:function(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this.z=Math.max(e,Math.min(r,this.z)),this},clampLength:function(e,r){var s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(e,Math.min(r,s)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this.z+=(e.z-this.z)*r,this},lerpVectors:function(e,r,s){return this.x=e.x+(r.x-e.x)*s,this.y=e.y+(r.y-e.y)*s,this.z=e.z+(r.z-e.z)*s,this},cross:function(e,r){return r!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,r)):this.crossVectors(this,e)},crossVectors:function(e,r){var s=e.x,c=e.y;e=e.z;var v=r.x,x=r.y;return r=r.z,this.x=c*r-e*x,this.y=e*v-s*r,this.z=s*x-c*v,this},projectOnVector:function(e){var r=e.lengthSq();return r===0?this.set(0,0,0):(r=e.dot(this)/r,this.copy(e).multiplyScalar(r))},projectOnPlane:function(e){return J.copy(this).projectOnVector(e),this.sub(J)},reflect:function(e){return this.sub(J.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){var r=Math.sqrt(this.lengthSq()*e.lengthSq());return r===0?Math.PI/2:(e=this.dot(e)/r,Math.acos(L.clamp(e,-1,1)))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var r=this.x-e.x,s=this.y-e.y;return e=this.z-e.z,r*r+s*s+e*e},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,r,s){var c=Math.sin(r)*e;return this.x=c*Math.sin(s),this.y=Math.cos(r)*e,this.z=c*Math.cos(s),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,r,s){return this.x=e*Math.sin(r),this.y=s,this.z=e*Math.cos(r),this},setFromMatrixPosition:function(e){return e=e.elements,this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(e){var r=this.setFromMatrixColumn(e,0).length(),s=this.setFromMatrixColumn(e,1).length();return e=this.setFromMatrixColumn(e,2).length(),this.x=r,this.y=s,this.z=e,this},setFromMatrixColumn:function(e,r){return this.fromArray(e.elements,4*r)},setFromMatrix3Column:function(e,r){return this.fromArray(e.elements,3*r)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,r){return r===void 0&&(r=0),this.x=e[r],this.y=e[r+1],this.z=e[r+2],this},toArray:function(e,r){return e===void 0&&(e=[]),r===void 0&&(r=0),e[r]=this.x,e[r+1]=this.y,e[r+2]=this.z,e},fromBufferAttribute:function(e,r,s){return s!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(r),this.y=e.getY(r),this.z=e.getZ(r),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}});var ne=new Ie,Ce=new ht,_e=new Ie(0,0,0),Fe=new Ie(1,1,1),Ue=new Ie,tt=new Ie,He=new Ie;Xe(ht.prototype,{isMatrix4:!0,set:function(e,r,s,c,v,x,w,I,j,G,W,ae,ue,be,Me,ct){var Nt=this.elements;return Nt[0]=e,Nt[4]=r,Nt[8]=s,Nt[12]=c,Nt[1]=v,Nt[5]=x,Nt[9]=w,Nt[13]=I,Nt[2]=j,Nt[6]=G,Nt[10]=W,Nt[14]=ae,Nt[3]=ue,Nt[7]=be,Nt[11]=Me,Nt[15]=ct,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return new ht().fromArray(this.elements)},copy:function(e){var r=this.elements;return e=e.elements,r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],this},copyPosition:function(e){var r=this.elements;return e=e.elements,r[12]=e[12],r[13]=e[13],r[14]=e[14],this},extractBasis:function(e,r,s){return e.setFromMatrixColumn(this,0),r.setFromMatrixColumn(this,1),s.setFromMatrixColumn(this,2),this},makeBasis:function(e,r,s){return this.set(e.x,r.x,s.x,0,e.y,r.y,s.y,0,e.z,r.z,s.z,0,0,0,0,1),this},extractRotation:function(e){var r=this.elements,s=e.elements,c=1/ne.setFromMatrixColumn(e,0).length(),v=1/ne.setFromMatrixColumn(e,1).length();return e=1/ne.setFromMatrixColumn(e,2).length(),r[0]=s[0]*c,r[1]=s[1]*c,r[2]=s[2]*c,r[3]=0,r[4]=s[4]*v,r[5]=s[5]*v,r[6]=s[6]*v,r[7]=0,r[8]=s[8]*e,r[9]=s[9]*e,r[10]=s[10]*e,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var r=this.elements,s=e.x,c=e.y,v=e.z,x=Math.cos(s);s=Math.sin(s);var w=Math.cos(c);c=Math.sin(c);var I=Math.cos(v);if(v=Math.sin(v),e.order==="XYZ"){e=x*I;var j=x*v,G=s*I,W=s*v;r[0]=w*I,r[4]=-w*v,r[8]=c,r[1]=j+G*c,r[5]=e-W*c,r[9]=-s*w,r[2]=W-e*c,r[6]=G+j*c,r[10]=x*w}else e.order==="YXZ"?(e=w*I,j=w*v,G=c*I,W=c*v,r[0]=e+W*s,r[4]=G*s-j,r[8]=x*c,r[1]=x*v,r[5]=x*I,r[9]=-s,r[2]=j*s-G,r[6]=W+e*s,r[10]=x*w):e.order==="ZXY"?(e=w*I,j=w*v,G=c*I,W=c*v,r[0]=e-W*s,r[4]=-x*v,r[8]=G+j*s,r[1]=j+G*s,r[5]=x*I,r[9]=W-e*s,r[2]=-x*c,r[6]=s,r[10]=x*w):e.order==="ZYX"?(e=x*I,j=x*v,G=s*I,W=s*v,r[0]=w*I,r[4]=G*c-j,r[8]=e*c+W,r[1]=w*v,r[5]=W*c+e,r[9]=j*c-G,r[2]=-c,r[6]=s*w,r[10]=x*w):e.order==="YZX"?(e=x*w,j=x*c,G=s*w,W=s*c,r[0]=w*I,r[4]=W-e*v,r[8]=G*v+j,r[1]=v,r[5]=x*I,r[9]=-s*I,r[2]=-c*I,r[6]=j*v+G,r[10]=e-W*v):e.order==="XZY"&&(e=x*w,j=x*c,G=s*w,W=s*c,r[0]=w*I,r[4]=-v,r[8]=c*I,r[1]=e*v+W,r[5]=x*I,r[9]=j*v-G,r[2]=G*v-j,r[6]=s*I,r[10]=W*v+e);return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(_e,e,Fe)},lookAt:function(e,r,s){var c=this.elements;return He.subVectors(e,r),He.lengthSq()===0&&(He.z=1),He.normalize(),Ue.crossVectors(s,He),Ue.lengthSq()===0&&(Math.abs(s.z)===1?He.x+=1e-4:He.z+=1e-4,He.normalize(),Ue.crossVectors(s,He)),Ue.normalize(),tt.crossVectors(He,Ue),c[0]=Ue.x,c[4]=tt.x,c[8]=He.x,c[1]=Ue.y,c[5]=tt.y,c[9]=He.y,c[2]=Ue.z,c[6]=tt.z,c[10]=He.z,this},multiply:function(e,r){return r!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,r)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,r){var s=e.elements,c=r.elements;r=this.elements,e=s[0];var v=s[4],x=s[8],w=s[12],I=s[1],j=s[5],G=s[9],W=s[13],ae=s[2],ue=s[6],be=s[10],Me=s[14],ct=s[3],Nt=s[7],Pt=s[11];s=s[15];var Bt=c[0],ir=c[4],Ir=c[8],Tr=c[12],wt=c[1],qn=c[5],Fr=c[9],pi=c[13],Ai=c[2],Pr=c[6],Fo=c[10],En=c[14],ua=c[3],as=c[7],Ca=c[11];return c=c[15],r[0]=e*Bt+v*wt+x*Ai+w*ua,r[4]=e*ir+v*qn+x*Pr+w*as,r[8]=e*Ir+v*Fr+x*Fo+w*Ca,r[12]=e*Tr+v*pi+x*En+w*c,r[1]=I*Bt+j*wt+G*Ai+W*ua,r[5]=I*ir+j*qn+G*Pr+W*as,r[9]=I*Ir+j*Fr+G*Fo+W*Ca,r[13]=I*Tr+j*pi+G*En+W*c,r[2]=ae*Bt+ue*wt+be*Ai+Me*ua,r[6]=ae*ir+ue*qn+be*Pr+Me*as,r[10]=ae*Ir+ue*Fr+be*Fo+Me*Ca,r[14]=ae*Tr+ue*pi+be*En+Me*c,r[3]=ct*Bt+Nt*wt+Pt*Ai+s*ua,r[7]=ct*ir+Nt*qn+Pt*Pr+s*as,r[11]=ct*Ir+Nt*Fr+Pt*Fo+s*Ca,r[15]=ct*Tr+Nt*pi+Pt*En+s*c,this},multiplyScalar:function(e){var r=this.elements;return r[0]*=e,r[4]*=e,r[8]*=e,r[12]*=e,r[1]*=e,r[5]*=e,r[9]*=e,r[13]*=e,r[2]*=e,r[6]*=e,r[10]*=e,r[14]*=e,r[3]*=e,r[7]*=e,r[11]*=e,r[15]*=e,this},determinant:function(){var e=this.elements,r=e[0],s=e[4],c=e[8],v=e[12],x=e[1],w=e[5],I=e[9],j=e[13],G=e[2],W=e[6],ae=e[10],ue=e[14];return e[3]*(+v*I*W-c*j*W-v*w*ae+s*j*ae+c*w*ue-s*I*ue)+e[7]*(+r*I*ue-r*j*ae+v*x*ae-c*x*ue+c*j*G-v*I*G)+e[11]*(+r*j*W-r*w*ue-v*x*W+s*x*ue+v*w*G-s*j*G)+e[15]*(-c*w*G-r*I*W+r*w*ae+c*x*W-s*x*ae+s*I*G)},transpose:function(){var e=this.elements,r=e[1];return e[1]=e[4],e[4]=r,r=e[2],e[2]=e[8],e[8]=r,r=e[6],e[6]=e[9],e[9]=r,r=e[3],e[3]=e[12],e[12]=r,r=e[7],e[7]=e[13],e[13]=r,r=e[11],e[11]=e[14],e[14]=r,this},setPosition:function(e,r,s){var c=this.elements;return e.isVector3?(c[12]=e.x,c[13]=e.y,c[14]=e.z):(c[12]=e,c[13]=r,c[14]=s),this},getInverse:function(e,r){r!==void 0&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate."),r=this.elements;var s=e.elements;e=s[0];var c=s[1],v=s[2],x=s[3],w=s[4],I=s[5],j=s[6],G=s[7],W=s[8],ae=s[9],ue=s[10],be=s[11],Me=s[12],ct=s[13],Nt=s[14];s=s[15];var Pt=ae*Nt*G-ct*ue*G+ct*j*be-I*Nt*be-ae*j*s+I*ue*s,Bt=Me*ue*G-W*Nt*G-Me*j*be+w*Nt*be+W*j*s-w*ue*s,ir=W*ct*G-Me*ae*G+Me*I*be-w*ct*be-W*I*s+w*ae*s,Ir=Me*ae*j-W*ct*j-Me*I*ue+w*ct*ue+W*I*Nt-w*ae*Nt,Tr=e*Pt+c*Bt+v*ir+x*Ir;return Tr===0?this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0):(Tr=1/Tr,r[0]=Pt*Tr,r[1]=(ct*ue*x-ae*Nt*x-ct*v*be+c*Nt*be+ae*v*s-c*ue*s)*Tr,r[2]=(I*Nt*x-ct*j*x+ct*v*G-c*Nt*G-I*v*s+c*j*s)*Tr,r[3]=(ae*j*x-I*ue*x-ae*v*G+c*ue*G+I*v*be-c*j*be)*Tr,r[4]=Bt*Tr,r[5]=(W*Nt*x-Me*ue*x+Me*v*be-e*Nt*be-W*v*s+e*ue*s)*Tr,r[6]=(Me*j*x-w*Nt*x-Me*v*G+e*Nt*G+w*v*s-e*j*s)*Tr,r[7]=(w*ue*x-W*j*x+W*v*G-e*ue*G-w*v*be+e*j*be)*Tr,r[8]=ir*Tr,r[9]=(Me*ae*x-W*ct*x-Me*c*be+e*ct*be+W*c*s-e*ae*s)*Tr,r[10]=(w*ct*x-Me*I*x+Me*c*G-e*ct*G-w*c*s+e*I*s)*Tr,r[11]=(W*I*x-w*ae*x-W*c*G+e*ae*G+w*c*be-e*I*be)*Tr,r[12]=Ir*Tr,r[13]=(W*ct*v-Me*ae*v+Me*c*ue-e*ct*ue-W*c*Nt+e*ae*Nt)*Tr,r[14]=(Me*I*v-w*ct*v-Me*c*j+e*ct*j+w*c*Nt-e*I*Nt)*Tr,r[15]=(w*ae*v-W*I*v+W*c*j-e*ae*j-w*c*ue+e*I*ue)*Tr,this)},scale:function(e){var r=this.elements,s=e.x,c=e.y;return e=e.z,r[0]*=s,r[4]*=c,r[8]*=e,r[1]*=s,r[5]*=c,r[9]*=e,r[2]*=s,r[6]*=c,r[10]*=e,r[3]*=s,r[7]*=c,r[11]*=e,this},getMaxScaleOnAxis:function(){var e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))},makeTranslation:function(e,r,s){return this.set(1,0,0,e,0,1,0,r,0,0,1,s,0,0,0,1),this},makeRotationX:function(e){var r=Math.cos(e);return e=Math.sin(e),this.set(1,0,0,0,0,r,-e,0,0,e,r,0,0,0,0,1),this},makeRotationY:function(e){var r=Math.cos(e);return e=Math.sin(e),this.set(r,0,e,0,0,1,0,0,-e,0,r,0,0,0,0,1),this},makeRotationZ:function(e){var r=Math.cos(e);return e=Math.sin(e),this.set(r,-e,0,0,e,r,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,r){var s=Math.cos(r);r=Math.sin(r);var c=1-s,v=e.x,x=e.y;e=e.z;var w=c*v,I=c*x;return this.set(w*v+s,w*x-r*e,w*e+r*x,0,w*x+r*e,I*x+s,I*e-r*v,0,w*e-r*x,I*e+r*v,c*e*e+s,0,0,0,0,1),this},makeScale:function(e,r,s){return this.set(e,0,0,0,0,r,0,0,0,0,s,0,0,0,0,1),this},makeShear:function(e,r,s){return this.set(1,r,s,0,e,1,s,0,e,r,1,0,0,0,0,1),this},compose:function(e,r,s){var c=this.elements,v=r._x,x=r._y,w=r._z,I=r._w,j=v+v,G=x+x,W=w+w;r=v*j;var ae=v*G;v*=W;var ue=x*G;x*=W,w*=W,j*=I,G*=I,I*=W,W=s.x;var be=s.y;return s=s.z,c[0]=(1-(ue+w))*W,c[1]=(ae+I)*W,c[2]=(v-G)*W,c[3]=0,c[4]=(ae-I)*be,c[5]=(1-(r+w))*be,c[6]=(x+j)*be,c[7]=0,c[8]=(v+G)*s,c[9]=(x-j)*s,c[10]=(1-(r+ue))*s,c[11]=0,c[12]=e.x,c[13]=e.y,c[14]=e.z,c[15]=1,this},decompose:function(e,r,s){var c=this.elements,v=ne.set(c[0],c[1],c[2]).length(),x=ne.set(c[4],c[5],c[6]).length(),w=ne.set(c[8],c[9],c[10]).length();0>this.determinant()&&(v=-v),e.x=c[12],e.y=c[13],e.z=c[14],Ce.copy(this),e=1/v,c=1/x;var I=1/w;return Ce.elements[0]*=e,Ce.elements[1]*=e,Ce.elements[2]*=e,Ce.elements[4]*=c,Ce.elements[5]*=c,Ce.elements[6]*=c,Ce.elements[8]*=I,Ce.elements[9]*=I,Ce.elements[10]*=I,r.setFromRotationMatrix(Ce),s.x=v,s.y=x,s.z=w,this},makePerspective:function(e,r,s,c,v,x){x===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var w=this.elements;return w[0]=2*v/(r-e),w[4]=0,w[8]=(r+e)/(r-e),w[12]=0,w[1]=0,w[5]=2*v/(s-c),w[9]=(s+c)/(s-c),w[13]=0,w[2]=0,w[6]=0,w[10]=-(x+v)/(x-v),w[14]=-2*x*v/(x-v),w[3]=0,w[7]=0,w[11]=-1,w[15]=0,this},makeOrthographic:function(e,r,s,c,v,x){var w=this.elements,I=1/(r-e),j=1/(s-c),G=1/(x-v);return w[0]=2*I,w[4]=0,w[8]=0,w[12]=-((r+e)*I),w[1]=0,w[5]=2*j,w[9]=0,w[13]=-((s+c)*j),w[2]=0,w[6]=0,w[10]=-2*G,w[14]=-((x+v)*G),w[3]=0,w[7]=0,w[11]=0,w[15]=1,this},equals:function(e){var r=this.elements;e=e.elements;for(var s=0;16>s;s++)if(r[s]!==e[s])return!1;return!0},fromArray:function(e,r){r===void 0&&(r=0);for(var s=0;16>s;s++)this.elements[s]=e[s+r];return this},toArray:function(e,r){e===void 0&&(e=[]),r===void 0&&(r=0);var s=this.elements;return e[r]=s[0],e[r+1]=s[1],e[r+2]=s[2],e[r+3]=s[3],e[r+4]=s[4],e[r+5]=s[5],e[r+6]=s[6],e[r+7]=s[7],e[r+8]=s[8],e[r+9]=s[9],e[r+10]=s[10],e[r+11]=s[11],e[r+12]=s[12],e[r+13]=s[13],e[r+14]=s[14],e[r+15]=s[15],e}});var kt=new ht,Wt=new qe;Er.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" "),Er.DefaultOrder="XYZ",Ia(Er.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}}),Xe(Er.prototype,{isEuler:!0,set:function(e,r,s,c){return this._x=e,this._y=r,this._z=s,this._order=c||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,r,s){var c=L.clamp,v=e.elements;e=v[0];var x=v[4],w=v[8],I=v[1],j=v[5],G=v[9],W=v[2],ae=v[6];switch(v=v[10],r=r||this._order,r){case"XYZ":this._y=Math.asin(c(w,-1,1)),.9999999>Math.abs(w)?(this._x=Math.atan2(-G,v),this._z=Math.atan2(-x,e)):(this._x=Math.atan2(ae,j),this._z=0);break;case"YXZ":this._x=Math.asin(-c(G,-1,1)),.9999999>Math.abs(G)?(this._y=Math.atan2(w,v),this._z=Math.atan2(I,j)):(this._y=Math.atan2(-W,e),this._z=0);break;case"ZXY":this._x=Math.asin(c(ae,-1,1)),.9999999>Math.abs(ae)?(this._y=Math.atan2(-W,v),this._z=Math.atan2(-x,j)):(this._y=0,this._z=Math.atan2(I,e));break;case"ZYX":this._y=Math.asin(-c(W,-1,1)),.9999999>Math.abs(W)?(this._x=Math.atan2(ae,v),this._z=Math.atan2(I,e)):(this._x=0,this._z=Math.atan2(-x,j));break;case"YZX":this._z=Math.asin(c(I,-1,1)),.9999999>Math.abs(I)?(this._x=Math.atan2(-G,j),this._y=Math.atan2(-W,e)):(this._x=0,this._y=Math.atan2(w,v));break;case"XZY":this._z=Math.asin(-c(x,-1,1)),.9999999>Math.abs(x)?(this._x=Math.atan2(ae,j),this._y=Math.atan2(w,e)):(this._x=Math.atan2(-G,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,s!==!1&&this._onChangeCallback(),this},setFromQuaternion:function(e,r,s){return kt.makeRotationFromQuaternion(e),this.setFromRotationMatrix(kt,r,s)},setFromVector3:function(e,r){return this.set(e.x,e.y,e.z,r||this._order)},reorder:function(e){return Wt.setFromEuler(this),this.setFromQuaternion(Wt,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,r){return e===void 0&&(e=[]),r===void 0&&(r=0),e[r]=this._x,e[r+1]=this._y,e[r+2]=this._z,e[r+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new Ie(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}}),Xe(Cn.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask=this.mask|1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return(this.mask&e.mask)!=0}});var Dr=0,qr=new Ie,br=new qe,On=new ht,Lt=new Ie,xr=new Ie,kn=new Ie,Yn=new qe,ci=new Ie(1,0,0),Rn=new Ie(0,1,0),Ps=new Ie(0,0,1),Qi={type:"added"},Ga={type:"removed"};pr.DefaultUp=new Ie(0,1,0),pr.DefaultMatrixAutoUpdate=!0,pr.prototype=Xe(Ge(Vr.prototype),{constructor:pr,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,r){this.quaternion.setFromAxisAngle(e,r)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,r){return br.setFromAxisAngle(e,r),this.quaternion.multiply(br),this},rotateOnWorldAxis:function(e,r){return br.setFromAxisAngle(e,r),this.quaternion.premultiply(br),this},rotateX:function(e){return this.rotateOnAxis(ci,e)},rotateY:function(e){return this.rotateOnAxis(Rn,e)},rotateZ:function(e){return this.rotateOnAxis(Ps,e)},translateOnAxis:function(e,r){return qr.copy(e).applyQuaternion(this.quaternion),this.position.add(qr.multiplyScalar(r)),this},translateX:function(e){return this.translateOnAxis(ci,e)},translateY:function(e){return this.translateOnAxis(Rn,e)},translateZ:function(e){return this.translateOnAxis(Ps,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(On.getInverse(this.matrixWorld))},lookAt:function(e,r,s){e.isVector3?Lt.copy(e):Lt.set(e,r,s),e=this.parent,this.updateWorldMatrix(!0,!1),xr.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?On.lookAt(xr,Lt,this.up):On.lookAt(Lt,xr,this.up),this.quaternion.setFromRotationMatrix(On),e&&(On.extractRotation(e.matrixWorld),br.setFromRotationMatrix(On),this.quaternion.premultiply(br.inverse()))},add:function(e){if(1<arguments.length){for(var r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Qi)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(1<arguments.length){for(var r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}return r=this.children.indexOf(e),r!==-1&&(e.parent=null,this.children.splice(r,1),e.dispatchEvent(Ga)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),On.getInverse(this.matrixWorld),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),On.multiply(e.parent.matrixWorld)),e.applyMatrix4(On),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,r){if(this[e]===r)return this;for(var s=0,c=this.children.length;s<c;s++){var v=this.children[s].getObjectByProperty(e,r);if(v!==void 0)return v}},getWorldPosition:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new Ie),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new qe),this.updateMatrixWorld(!0),this.matrixWorld.decompose(xr,e,kn),e},getWorldScale:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new Ie),this.updateMatrixWorld(!0),this.matrixWorld.decompose(xr,Yn,e),e},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new Ie),this.updateMatrixWorld(!0);var r=this.matrixWorld.elements;return e.set(r[8],r[9],r[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var r=this.children,s=0,c=r.length;s<c;s++)r[s].traverse(e)},traverseVisible:function(e){if(this.visible!==!1){e(this);for(var r=this.children,s=0,c=r.length;s<c;s++)r[s].traverseVisible(e)}},traverseAncestors:function(e){var r=this.parent;r!==null&&(e(r),r.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var r=this.children,s=0,c=r.length;s<c;s++)r[s].updateMatrixWorld(e)},updateWorldMatrix:function(e,r){var s=this.parent;if(e===!0&&s!==null&&s.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),r===!0)for(e=this.children,r=0,s=e.length;r<s;r++)e[r].updateWorldMatrix(!1,!0)},toJSON:function(e){function r(W,ae){return W[ae.uuid]===void 0&&(W[ae.uuid]=ae.toJSON(e)),ae.uuid}function s(W){var ae=[],ue;for(ue in W){var be=W[ue];delete be.metadata,ae.push(be)}return ae}var c=e===void 0||typeof e=="string",v={};c&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},v.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var x={};if(x.uuid=this.uuid,x.type=this.type,this.name!==""&&(x.name=this.name),this.castShadow===!0&&(x.castShadow=!0),this.receiveShadow===!0&&(x.receiveShadow=!0),this.visible===!1&&(x.visible=!1),this.frustumCulled===!1&&(x.frustumCulled=!1),this.renderOrder!==0&&(x.renderOrder=this.renderOrder),Ud(this.userData)!=="{}"&&(x.userData=this.userData),x.layers=this.layers.mask,x.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(x.matrixAutoUpdate=!1),this.isInstancedMesh&&(x.type="InstancedMesh",x.count=this.count,x.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){x.geometry=r(e.geometries,this.geometry);var w=this.geometry.parameters;if(w!==void 0&&w.shapes!==void 0)if(w=w.shapes,Array.isArray(w))for(var I=0,j=w.length;I<j;I++)r(e.shapes,w[I]);else r(e.shapes,w)}if(this.material!==void 0)if(Array.isArray(this.material)){for(w=[],I=0,j=this.material.length;I<j;I++)w.push(r(e.materials,this.material[I]));x.material=w}else x.material=r(e.materials,this.material);if(0<this.children.length)for(x.children=[],I=0;I<this.children.length;I++)x.children.push(this.children[I].toJSON(e).object);if(c){c=s(e.geometries),I=s(e.materials),j=s(e.textures);var G=s(e.images);w=s(e.shapes),0<c.length&&(v.geometries=c),0<I.length&&(v.materials=I),0<j.length&&(v.textures=j),0<G.length&&(v.images=G),0<w.length&&(v.shapes=w)}return v.object=x,v},clone:function(e){return new this.constructor().copy(this,e)},copy:function(e,r){if(r===void 0&&(r=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(Ud(e.userData)),r===!0)for(r=0;r<e.children.length;r++)this.add(e.children[r].clone());return this}}),$r.prototype=Xe(Ge(pr.prototype),{constructor:$r,isScene:!0,copy:function(e,r){return pr.prototype.copy.call(this,e,r),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var r=pr.prototype.toJSON.call(this,e);return this.background!==null&&(r.object.background=this.background.toJSON(e)),this.environment!==null&&(r.object.environment=this.environment.toJSON(e)),this.fog!==null&&(r.object.fog=this.fog.toJSON()),r},dispose:function(){this.dispatchEvent({type:"dispose"})}});var wl=[new Ie,new Ie,new Ie,new Ie,new Ie,new Ie,new Ie,new Ie],za=new Ie,qu=new An,$u=new Ie,ru=new Ie,Au=new Ie,Bf=new Ie,xc=new Ie,wd=new Ie,Cc=new Ie,bf=new Ie,kd=new Ie,Sf=new Ie;Xe(An.prototype,{isBox3:!0,set:function(e,r){return this.min.copy(e),this.max.copy(r),this},setFromArray:function(e){for(var r=Infinity,s=Infinity,c=Infinity,v=-Infinity,x=-Infinity,w=-Infinity,I=0,j=e.length;I<j;I+=3){var G=e[I],W=e[I+1],ae=e[I+2];G<r&&(r=G),W<s&&(s=W),ae<c&&(c=ae),G>v&&(v=G),W>x&&(x=W),ae>w&&(w=ae)}return this.min.set(r,s,c),this.max.set(v,x,w),this},setFromBufferAttribute:function(e){for(var r=Infinity,s=Infinity,c=Infinity,v=-Infinity,x=-Infinity,w=-Infinity,I=0,j=e.count;I<j;I++){var G=e.getX(I),W=e.getY(I),ae=e.getZ(I);G<r&&(r=G),W<s&&(s=W),ae<c&&(c=ae),G>v&&(v=G),W>x&&(x=W),ae>w&&(w=ae)}return this.min.set(r,s,c),this.max.set(v,x,w),this},setFromPoints:function(e){this.makeEmpty();for(var r=0,s=e.length;r<s;r++)this.expandByPoint(e[r]);return this},setFromCenterAndSize:function(e,r){return r=za.copy(r).multiplyScalar(.5),this.min.copy(e).sub(r),this.max.copy(e).add(r),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=Infinity,this.max.x=this.max.y=this.max.z=-Infinity,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return e===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new Ie),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return e===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new Ie),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){e.updateWorldMatrix(!1,!1);var r=e.geometry;r!==void 0&&(r.boundingBox===null&&r.computeBoundingBox(),qu.copy(r.boundingBox),qu.applyMatrix4(e.matrixWorld),this.union(qu)),e=e.children,r=0;for(var s=e.length;r<s;r++)this.expandByObject(e[r]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,r){return r===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),r=new Ie),r.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,za),za.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){if(0<e.normal.x)var r=e.normal.x*this.min.x,s=e.normal.x*this.max.x;else r=e.normal.x*this.max.x,s=e.normal.x*this.min.x;return 0<e.normal.y?(r+=e.normal.y*this.min.y,s+=e.normal.y*this.max.y):(r+=e.normal.y*this.max.y,s+=e.normal.y*this.min.y),0<e.normal.z?(r+=e.normal.z*this.min.z,s+=e.normal.z*this.max.z):(r+=e.normal.z*this.max.z,s+=e.normal.z*this.min.z),r<=-e.constant&&s>=-e.constant},intersectsTriangle:function(e){return this.isEmpty()||(this.getCenter(Cc),bf.subVectors(this.max,Cc),$u.subVectors(e.a,Cc),ru.subVectors(e.b,Cc),Au.subVectors(e.c,Cc),Bf.subVectors(ru,$u),xc.subVectors(Au,ru),wd.subVectors($u,Au),e=[0,-Bf.z,Bf.y,0,-xc.z,xc.y,0,-wd.z,wd.y,Bf.z,0,-Bf.x,xc.z,0,-xc.x,wd.z,0,-wd.x,-Bf.y,Bf.x,0,-xc.y,xc.x,0,-wd.y,wd.x,0],!rn(e,$u,ru,Au,bf))||(e=[1,0,0,0,1,0,0,0,1],!rn(e,$u,ru,Au,bf))?!1:(kd.crossVectors(Bf,xc),e=[kd.x,kd.y,kd.z],rn(e,$u,ru,Au,bf))},clampPoint:function(e,r){return r===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),r=new Ie),r.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return za.copy(e).clamp(this.min,this.max).sub(e).length()},getBoundingSphere:function(e){return e===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(za).length(),e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()?this:(wl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),wl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),wl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),wl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),wl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),wl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),wl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),wl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(wl),this)},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var Hd=new An;Xe(fr.prototype,{set:function(e,r){return this.center.copy(e),this.radius=r,this},setFromPoints:function(e,r){var s=this.center;r!==void 0?s.copy(r):Hd.setFromPoints(e).getCenter(s);for(var c=r=0,v=e.length;c<v;c++)r=Math.max(r,s.distanceToSquared(e[c]));return this.radius=Math.sqrt(r),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},isEmpty:function(){return 0>this.radius},makeEmpty:function(){return this.center.set(0,0,0),this.radius=-1,this},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var r=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=r*r},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,r){var s=this.center.distanceToSquared(e);return r===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),r=new Ie),r.copy(e),s>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(e){return e===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new An),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius*=e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});var Pc=new Ie,Mu=new Ie,Mf=new Ie,Nh=new Ie,Gs=new Ie,Ui=new Ie,sl=new Ie;Xe(_r.prototype,{set:function(e,r){return this.origin.copy(e),this.direction.copy(r),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,r){return r===void 0&&(console.warn("THREE.Ray: .at() target is now required"),r=new Ie),r.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,Pc)),this},closestPointToPoint:function(e,r){return r===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),r=new Ie),r.subVectors(e,this.origin),e=r.dot(this.direction),0>e?r.copy(this.origin):r.copy(this.direction).multiplyScalar(e).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){var r=Pc.subVectors(e,this.origin).dot(this.direction);return 0>r?this.origin.distanceToSquared(e):(Pc.copy(this.direction).multiplyScalar(r).add(this.origin),Pc.distanceToSquared(e))},distanceSqToSegment:function(e,r,s,c){Mu.copy(e).add(r).multiplyScalar(.5),Mf.copy(r).sub(e).normalize(),Nh.copy(this.origin).sub(Mu);var v=.5*e.distanceTo(r),x=-this.direction.dot(Mf),w=Nh.dot(this.direction),I=-Nh.dot(Mf),j=Nh.lengthSq(),G=Math.abs(1-x*x);if(0<G){e=x*I-w,r=x*w-I;var W=v*G;0<=e?r>=-W?r<=W?(v=1/G,e*=v,r*=v,x=e*(e+x*r+2*w)+r*(x*e+r+2*I)+j):(r=v,e=Math.max(0,-(x*r+w)),x=-e*e+r*(r+2*I)+j):(r=-v,e=Math.max(0,-(x*r+w)),x=-e*e+r*(r+2*I)+j):r<=-W?(e=Math.max(0,-(-x*v+w)),r=0<e?-v:Math.min(Math.max(-v,-I),v),x=-e*e+r*(r+2*I)+j):r<=W?(e=0,r=Math.min(Math.max(-v,-I),v),x=r*(r+2*I)+j):(e=Math.max(0,-(x*v+w)),r=0<e?v:Math.min(Math.max(-v,-I),v),x=-e*e+r*(r+2*I)+j)}else r=0<x?-v:v,e=Math.max(0,-(x*r+w)),x=-e*e+r*(r+2*I)+j;return s&&s.copy(this.direction).multiplyScalar(e).add(this.origin),c&&c.copy(Mf).multiplyScalar(r).add(Mu),x},intersectSphere:function(e,r){Pc.subVectors(e.center,this.origin);var s=Pc.dot(this.direction),c=Pc.dot(Pc)-s*s;return e=e.radius*e.radius,c>e?null:(e=Math.sqrt(e-c),c=s-e,s+=e,0>c&&0>s?null:0>c?this.at(s,r):this.at(c,r))},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var r=e.normal.dot(this.direction);return r===0?e.distanceToPoint(this.origin)===0?0:null:(e=-(this.origin.dot(e.normal)+e.constant)/r,0<=e?e:null)},intersectPlane:function(e,r){return e=this.distanceToPlane(e),e===null?null:this.at(e,r)},intersectsPlane:function(e){var r=e.distanceToPoint(this.origin);return r===0||0>e.normal.dot(this.direction)*r},intersectBox:function(e,r){var s=1/this.direction.x,c=1/this.direction.y,v=1/this.direction.z,x=this.origin;if(0<=s){var w=(e.min.x-x.x)*s;s*=e.max.x-x.x}else w=(e.max.x-x.x)*s,s*=e.min.x-x.x;if(0<=c){var I=(e.min.y-x.y)*c;c*=e.max.y-x.y}else I=(e.max.y-x.y)*c,c*=e.min.y-x.y;return w>c||I>s||((I>w||w!==w)&&(w=I),(c<s||s!==s)&&(s=c),0<=v?(I=(e.min.z-x.z)*v,e=(e.max.z-x.z)*v):(I=(e.max.z-x.z)*v,e=(e.min.z-x.z)*v),w>e||I>s)?null:((I>w||w!==w)&&(w=I),(e<s||s!==s)&&(s=e),0>s?null:this.at(0<=w?w:s,r))},intersectsBox:function(e){return this.intersectBox(e,Pc)!==null},intersectTriangle:function(e,r,s,c,v){if(Gs.subVectors(r,e),Ui.subVectors(s,e),sl.crossVectors(Gs,Ui),r=this.direction.dot(sl),0<r){if(c)return null;c=1}else if(0>r)c=-1,r=-r;else return null;return Nh.subVectors(this.origin,e),e=c*this.direction.dot(Ui.crossVectors(Nh,Ui)),0>e||(s=c*this.direction.dot(Gs.cross(Nh)),0>s||e+s>r)?null:(e=-c*Nh.dot(sl),0>e?null:this.at(e/r,v))},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});var Vd=new Ie,Wd=new Ie,Sa=new Et;Xe(Wr.prototype,{isPlane:!0,set:function(e,r){return this.normal.copy(e),this.constant=r,this},setComponents:function(e,r,s,c){return this.normal.set(e,r,s),this.constant=c,this},setFromNormalAndCoplanarPoint:function(e,r){return this.normal.copy(e),this.constant=-r.dot(this.normal),this},setFromCoplanarPoints:function(e,r,s){return r=Vd.subVectors(s,r).cross(Wd.subVectors(e,r)).normalize(),this.setFromNormalAndCoplanarPoint(r,e),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,r){return r===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),r=new Ie),r.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,r){r===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),r=new Ie);var s=e.delta(Vd),c=this.normal.dot(s);if(c===0){if(this.distanceToPoint(e.start)===0)return r.copy(e.start)}else if(c=-(e.start.dot(this.normal)+this.constant)/c,!(0>c||1<c))return r.copy(s).multiplyScalar(c).add(e.start)},intersectsLine:function(e){var r=this.distanceToPoint(e.start);return e=this.distanceToPoint(e.end),0>r&&0<e||0>e&&0<r},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return e===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new Ie),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,r){return r=r||Sa.getNormalMatrix(e),e=this.coplanarPoint(Vd).applyMatrix4(e),r=this.normal.applyMatrix3(r).normalize(),this.constant=-e.dot(r),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});var jf=new Ie,uf=new Ie,bl=new Ie,xh=new Ie,zf=new Ie,ns=new Ie,nh=new Ie,bd=new Ie,xp=new Ie,bv=new Ie;Xe(dt,{getNormal:function(e,r,s,c){return c===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),c=new Ie),c.subVectors(s,r),jf.subVectors(e,r),c.cross(jf),e=c.lengthSq(),0<e?c.multiplyScalar(1/Math.sqrt(e)):c.set(0,0,0)},getBarycoord:function(e,r,s,c,v){jf.subVectors(c,r),uf.subVectors(s,r),bl.subVectors(e,r),e=jf.dot(jf),r=jf.dot(uf),s=jf.dot(bl);var x=uf.dot(uf);c=uf.dot(bl);var w=e*x-r*r;return v===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),v=new Ie),w===0?v.set(-2,-1,-1):(w=1/w,x=(x*s-r*c)*w,e=(e*c-r*s)*w,v.set(1-x-e,e,x))},containsPoint:function(e,r,s,c){return dt.getBarycoord(e,r,s,c,xh),0<=xh.x&&0<=xh.y&&1>=xh.x+xh.y},getUV:function(e,r,s,c,v,x,w,I){return this.getBarycoord(e,r,s,c,xh),I.set(0,0),I.addScaledVector(v,xh.x),I.addScaledVector(x,xh.y),I.addScaledVector(w,xh.z),I},isFrontFacing:function(e,r,s,c){return jf.subVectors(s,r),uf.subVectors(e,r),0>jf.cross(uf).dot(c)}}),Xe(dt.prototype,{set:function(e,r,s){return this.a.copy(e),this.b.copy(r),this.c.copy(s),this},setFromPointsAndIndices:function(e,r,s,c){return this.a.copy(e[r]),this.b.copy(e[s]),this.c.copy(e[c]),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return jf.subVectors(this.c,this.b),uf.subVectors(this.a,this.b),.5*jf.cross(uf).length()},getMidpoint:function(e){return e===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new Ie),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return dt.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return e===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new Wr),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,r){return dt.getBarycoord(e,this.a,this.b,this.c,r)},getUV:function(e,r,s,c,v){return dt.getUV(e,this.a,this.b,this.c,r,s,c,v)},containsPoint:function(e){return dt.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return dt.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,r){r===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),r=new Ie);var s=this.a,c=this.b,v=this.c;zf.subVectors(c,s),ns.subVectors(v,s),bd.subVectors(e,s);var x=zf.dot(bd),w=ns.dot(bd);if(0>=x&&0>=w)return r.copy(s);xp.subVectors(e,c);var I=zf.dot(xp),j=ns.dot(xp);if(0<=I&&j<=I)return r.copy(c);var G=x*j-I*w;if(0>=G&&0<=x&&0>=I)return c=x/(x-I),r.copy(s).addScaledVector(zf,c);bv.subVectors(e,v),e=zf.dot(bv);var W=ns.dot(bv);return 0<=W&&e<=W?r.copy(v):(x=e*w-x*W,0>=x&&0<=w&&0>=W?(G=w/(w-W),r.copy(s).addScaledVector(ns,G)):(w=I*W-e*j,0>=w&&0<=j-I&&0<=e-W?(nh.subVectors(v,c),G=(j-I)/(j-I+(e-W)),r.copy(c).addScaledVector(nh,G)):(v=1/(w+x+G),c=x*v,G*=v,r.copy(s).addScaledVector(zf,c).addScaledVector(ns,G))))},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});var Hp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Sd={h:0,s:0,l:0},Om={h:0,s:0,l:0};Xe(At.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this},setScalar:function(e){return this.b=this.g=this.r=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this},setRGB:function(e,r,s){return this.r=e,this.g=r,this.b=s,this},setHSL:function(e,r,s){return e=L.euclideanModulo(e,1),r=L.clamp(r,0,1),s=L.clamp(s,0,1),r===0?this.r=this.g=this.b=s:(r=.5>=s?s*(1+r):s+r-s*r,s=2*s-r,this.r=cn(s,r,e+1/3),this.g=cn(s,r,e),this.b=cn(s,r,e-1/3)),this},setStyle:function(e){function r(w){w!==void 0&&1>parseFloat(w)&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var s;if(s=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var c=s[2];switch(s[1]){case"rgb":case"rgba":if(s=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(c))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,r(s[5]),this;if(s=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(c))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,r(s[5]),this;break;case"hsl":case"hsla":if(s=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(c)){c=parseFloat(s[1])/360;var v=parseInt(s[2],10)/100,x=parseInt(s[3],10)/100;return r(s[5]),this.setHSL(c,v,x)}}}else if(s=/^#([A-Fa-f0-9]+)$/.exec(e)){if(s=s[1],c=s.length,c===3)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,this;if(c===6)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,this}return e&&0<e.length?this.setColorName(e):this},setColorName:function(e){var r=Hp[e];return r!==void 0?this.setHex(r):console.warn("THREE.Color: Unknown color "+e),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,r){return r===void 0&&(r=2),this.r=Math.pow(e.r,r),this.g=Math.pow(e.g,r),this.b=Math.pow(e.b,r),this},copyLinearToGamma:function(e,r){return r===void 0&&(r=2),r=0<r?1/r:1,this.r=Math.pow(e.r,r),this.g=Math.pow(e.g,r),this.b=Math.pow(e.b,r),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=Jt(e.r),this.g=Jt(e.g),this.b=Jt(e.b),this},copyLinearToSRGB:function(e){return this.r=rr(e.r),this.g=rr(e.g),this.b=rr(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){e===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var r=this.r,s=this.g,c=this.b,v=Math.max(r,s,c),x=Math.min(r,s,c),w,I=(x+v)/2;if(x===v)x=w=0;else{var j=v-x;switch(x=.5>=I?j/(v+x):j/(2-v-x),v){case r:w=(s-c)/j+(s<c?6:0);break;case s:w=(c-r)/j+2;break;case c:w=(r-s)/j+4}w/=6}return e.h=w,e.s=x,e.l=I,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,r,s){return this.getHSL(Sd),Sd.h+=e,Sd.s+=r,Sd.l+=s,this.setHSL(Sd.h,Sd.s,Sd.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,r){return this.r=e.r+r.r,this.g=e.g+r.g,this.b=e.b+r.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,r){return this.r+=(e.r-this.r)*r,this.g+=(e.g-this.g)*r,this.b+=(e.b-this.b)*r,this},lerpHSL:function(e,r){this.getHSL(Sd),e.getHSL(Om),e=L.lerp(Sd.h,Om.h,r);var s=L.lerp(Sd.s,Om.s,r);return r=L.lerp(Sd.l,Om.l,r),this.setHSL(e,s,r),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,r){return r===void 0&&(r=0),this.r=e[r],this.g=e[r+1],this.b=e[r+2],this},toArray:function(e,r){return e===void 0&&(e=[]),r===void 0&&(r=0),e[r]=this.r,e[r+1]=this.g,e[r+2]=this.b,e},toJSON:function(){return this.getHex()}}),At.NAMES=Hp,Xe(Gn.prototype,{clone:function(){return new this.constructor().copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var r=0,s=e.vertexNormals.length;r<s;r++)this.vertexNormals[r]=e.vertexNormals[r].clone();for(r=0,s=e.vertexColors.length;r<s;r++)this.vertexColors[r]=e.vertexColors[r].clone();return this}});var Gc=0;Kr.prototype=Xe(Ge(Vr.prototype),{constructor:Kr,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(e!==void 0)for(var r in e){var s=e[r];if(s===void 0)console.warn("THREE.Material: '"+r+"' parameter is undefined.");else if(r==="shading")console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=s===1;else{var c=this[r];c===void 0?console.warn("THREE."+this.type+": '"+r+"' is not a property of this material."):c&&c.isColor?c.set(s):c&&c.isVector3&&s&&s.isVector3?c.copy(s):this[r]=s}}},toJSON:function(e){function r(v){var x=[],w;for(w in v){var I=v[w];delete I.metadata,x.push(I)}return x}var s=e===void 0||typeof e=="string";s&&(e={textures:{},images:{}});var c={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};return c.uuid=this.uuid,c.type=this.type,this.name!==""&&(c.name=this.name),this.color&&this.color.isColor&&(c.color=this.color.getHex()),this.roughness!==void 0&&(c.roughness=this.roughness),this.metalness!==void 0&&(c.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(c.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(c.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(c.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(c.specular=this.specular.getHex()),this.shininess!==void 0&&(c.shininess=this.shininess),this.clearcoat!==void 0&&(c.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(c.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(c.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(c.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(c.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,c.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(c.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(c.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(c.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(c.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(c.aoMap=this.aoMap.toJSON(e).uuid,c.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(c.bumpMap=this.bumpMap.toJSON(e).uuid,c.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(c.normalMap=this.normalMap.toJSON(e).uuid,c.normalMapType=this.normalMapType,c.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(c.displacementMap=this.displacementMap.toJSON(e).uuid,c.displacementScale=this.displacementScale,c.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(c.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(c.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(c.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(c.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(c.envMap=this.envMap.toJSON(e).uuid,c.reflectivity=this.reflectivity,c.refractionRatio=this.refractionRatio,this.combine!==void 0&&(c.combine=this.combine),this.envMapIntensity!==void 0&&(c.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(c.gradientMap=this.gradientMap.toJSON(e).uuid),this.size!==void 0&&(c.size=this.size),this.sizeAttenuation!==void 0&&(c.sizeAttenuation=this.sizeAttenuation),this.blending!==1&&(c.blending=this.blending),this.flatShading===!0&&(c.flatShading=this.flatShading),this.side!==0&&(c.side=this.side),this.vertexColors&&(c.vertexColors=!0),1>this.opacity&&(c.opacity=this.opacity),this.transparent===!0&&(c.transparent=this.transparent),c.depthFunc=this.depthFunc,c.depthTest=this.depthTest,c.depthWrite=this.depthWrite,c.stencilWrite=this.stencilWrite,c.stencilWriteMask=this.stencilWriteMask,c.stencilFunc=this.stencilFunc,c.stencilRef=this.stencilRef,c.stencilFuncMask=this.stencilFuncMask,c.stencilFail=this.stencilFail,c.stencilZFail=this.stencilZFail,c.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(c.rotation=this.rotation),this.polygonOffset===!0&&(c.polygonOffset=!0),this.polygonOffsetFactor!==0&&(c.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(c.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(c.linewidth=this.linewidth),this.dashSize!==void 0&&(c.dashSize=this.dashSize),this.gapSize!==void 0&&(c.gapSize=this.gapSize),this.scale!==void 0&&(c.scale=this.scale),this.dithering===!0&&(c.dithering=!0),0<this.alphaTest&&(c.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(c.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(c.wireframe=this.wireframe),1<this.wireframeLinewidth&&(c.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(c.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(c.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(c.morphTargets=!0),this.morphNormals===!0&&(c.morphNormals=!0),this.skinning===!0&&(c.skinning=!0),this.visible===!1&&(c.visible=!1),this.toneMapped===!1&&(c.toneMapped=!1),Ud(this.userData)!=="{}"&&(c.userData=this.userData),s&&(s=r(e.textures),e=r(e.images),0<s.length&&(c.textures=s),0<e.length&&(c.images=e)),c},clone:function(){return new this.constructor().copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var r=e.clippingPlanes,s=null;if(r!==null){var c=r.length;s=Array(c);for(var v=0;v!==c;++v)s[v]=r[v].clone()}return this.clippingPlanes=s,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(Ud(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Kr.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}}),ai.prototype=Ge(Kr.prototype),ai.prototype.constructor=ai,ai.prototype.isMeshBasicMaterial=!0,ai.prototype.copy=function(i){return Kr.prototype.copy.call(this,i),this.color.copy(i.color),this.map=i.map,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.specularMap=i.specularMap,this.alphaMap=i.alphaMap,this.envMap=i.envMap,this.combine=i.combine,this.reflectivity=i.reflectivity,this.refractionRatio=i.refractionRatio,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this.skinning=i.skinning,this.morphTargets=i.morphTargets,this};var ia=new Ie;Object.defineProperty(Nn.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}}),Xe(Nn.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,r,s){e*=this.itemSize,s*=r.itemSize;for(var c=0,v=this.itemSize;c<v;c++)this.array[e+c]=r.array[s+c];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var r=this.array,s=0,c=0,v=e.length;c<v;c++){var x=e[c];x===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",c),x=new At),r[s++]=x.r,r[s++]=x.g,r[s++]=x.b}return this},copyVector2sArray:function(e){for(var r=this.array,s=0,c=0,v=e.length;c<v;c++){var x=e[c];x===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",c),x=new $e),r[s++]=x.x,r[s++]=x.y}return this},copyVector3sArray:function(e){for(var r=this.array,s=0,c=0,v=e.length;c<v;c++){var x=e[c];x===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",c),x=new Ie),r[s++]=x.x,r[s++]=x.y,r[s++]=x.z}return this},copyVector4sArray:function(e){for(var r=this.array,s=0,c=0,v=e.length;c<v;c++){var x=e[c];x===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",c),x=new et),r[s++]=x.x,r[s++]=x.y,r[s++]=x.z,r[s++]=x.w}return this},applyMatrix3:function(e){for(var r=0,s=this.count;r<s;r++)ia.x=this.getX(r),ia.y=this.getY(r),ia.z=this.getZ(r),ia.applyMatrix3(e),this.setXYZ(r,ia.x,ia.y,ia.z);return this},applyMatrix4:function(e){for(var r=0,s=this.count;r<s;r++)ia.x=this.getX(r),ia.y=this.getY(r),ia.z=this.getZ(r),ia.applyMatrix4(e),this.setXYZ(r,ia.x,ia.y,ia.z);return this},applyNormalMatrix:function(e){for(var r=0,s=this.count;r<s;r++)ia.x=this.getX(r),ia.y=this.getY(r),ia.z=this.getZ(r),ia.applyNormalMatrix(e),this.setXYZ(r,ia.x,ia.y,ia.z);return this},transformDirection:function(e){for(var r=0,s=this.count;r<s;r++)ia.x=this.getX(r),ia.y=this.getY(r),ia.z=this.getZ(r),ia.transformDirection(e),this.setXYZ(r,ia.x,ia.y,ia.z);return this},set:function(e,r){return r===void 0&&(r=0),this.array.set(e,r),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,r){return this.array[e*this.itemSize]=r,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,r){return this.array[e*this.itemSize+1]=r,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,r){return this.array[e*this.itemSize+2]=r,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,r){return this.array[e*this.itemSize+3]=r,this},setXY:function(e,r,s){return e*=this.itemSize,this.array[e+0]=r,this.array[e+1]=s,this},setXYZ:function(e,r,s,c){return e*=this.itemSize,this.array[e+0]=r,this.array[e+1]=s,this.array[e+2]=c,this},setXYZW:function(e,r,s,c,v){return e*=this.itemSize,this.array[e+0]=r,this.array[e+1]=s,this.array[e+2]=c,this.array[e+3]=v,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),So.prototype=Ge(Nn.prototype),So.prototype.constructor=So,Wo.prototype=Ge(Nn.prototype),Wo.prototype.constructor=Wo,Un.prototype=Ge(Nn.prototype),Un.prototype.constructor=Un,an.prototype=Ge(Nn.prototype),an.prototype.constructor=an,In.prototype=Ge(Nn.prototype),In.prototype.constructor=In,Jr.prototype=Ge(Nn.prototype),Jr.prototype.constructor=Jr,Xn.prototype=Ge(Nn.prototype),Xn.prototype.constructor=Xn,hr.prototype=Ge(Nn.prototype),hr.prototype.constructor=hr,dn.prototype=Ge(Nn.prototype),dn.prototype.constructor=dn,Xe(Mn.prototype,{computeGroups:function(e){var r=[],s=void 0;e=e.faces;for(var c=0;c<e.length;c++){var v=e[c];if(v.materialIndex!==s){s=v.materialIndex,x!==void 0&&(x.count=3*c-x.start,r.push(x));var x={start:3*c,materialIndex:s}}}x!==void 0&&(x.count=3*c-x.start,r.push(x)),this.groups=r},fromGeometry:function(e){var r=e.faces,s=e.vertices,c=e.faceVertexUvs,v=c[0]&&0<c[0].length,x=c[1]&&0<c[1].length,w=e.morphTargets,I=w.length;if(0<I){for(var j=[],G=0;G<I;G++)j[G]={name:w[G].name,data:[]};this.morphTargets.position=j}var W=e.morphNormals,ae=W.length;if(0<ae){var ue=[];for(G=0;G<ae;G++)ue[G]={name:W[G].name,data:[]};this.morphTargets.normal=ue}var be=e.skinIndices,Me=e.skinWeights,ct=be.length===s.length,Nt=Me.length===s.length;for(0<s.length&&r.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported."),G=0;G<r.length;G++){var Pt=r[G];this.vertices.push(s[Pt.a],s[Pt.b],s[Pt.c]);var Bt=Pt.vertexNormals;for(Bt.length===3?this.normals.push(Bt[0],Bt[1],Bt[2]):(Bt=Pt.normal,this.normals.push(Bt,Bt,Bt)),Bt=Pt.vertexColors,Bt.length===3?this.colors.push(Bt[0],Bt[1],Bt[2]):(Bt=Pt.color,this.colors.push(Bt,Bt,Bt)),v===!0&&(Bt=c[0][G],Bt!==void 0?this.uvs.push(Bt[0],Bt[1],Bt[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",G),this.uvs.push(new $e,new $e,new $e))),x===!0&&(Bt=c[1][G],Bt!==void 0?this.uvs2.push(Bt[0],Bt[1],Bt[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",G),this.uvs2.push(new $e,new $e,new $e))),Bt=0;Bt<I;Bt++){var ir=w[Bt].vertices;j[Bt].data.push(ir[Pt.a],ir[Pt.b],ir[Pt.c])}for(Bt=0;Bt<ae;Bt++)ir=W[Bt].vertexNormals[G],ue[Bt].data.push(ir.a,ir.b,ir.c);ct&&this.skinIndices.push(be[Pt.a],be[Pt.b],be[Pt.c]),Nt&&this.skinWeights.push(Me[Pt.a],Me[Pt.b],Me[Pt.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this}});var la=1,ml=new ht,Fh=new pr,Rm=new Ie,ap=new An,Km=new An,cf=new Ie;kr.prototype=Xe(Ge(Vr.prototype),{constructor:kr,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(65535<Tn(e)?Xn:In)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,r){return this.attributes[e]=r,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,r,s){this.groups.push({start:e,count:r,materialIndex:s!==void 0?s:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,r){this.drawRange.start=e,this.drawRange.count=r},applyMatrix4:function(e){var r=this.attributes.position;if(r!==void 0&&(r.applyMatrix4(e),r.needsUpdate=!0),r=this.attributes.normal,r!==void 0){var s=new Et().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}return r=this.attributes.tangent,r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(e){return ml.makeRotationX(e),this.applyMatrix4(ml),this},rotateY:function(e){return ml.makeRotationY(e),this.applyMatrix4(ml),this},rotateZ:function(e){return ml.makeRotationZ(e),this.applyMatrix4(ml),this},translate:function(e,r,s){return ml.makeTranslation(e,r,s),this.applyMatrix4(ml),this},scale:function(e,r,s){return ml.makeScale(e,r,s),this.applyMatrix4(ml),this},lookAt:function(e){return Fh.lookAt(e),Fh.updateMatrix(),this.applyMatrix4(Fh.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Rm).negate(),this.translate(Rm.x,Rm.y,Rm.z),this},setFromObject:function(e){var r=e.geometry;if(e.isPoints||e.isLine){e=new hr(3*r.vertices.length,3);var s=new hr(3*r.colors.length,3);this.setAttribute("position",e.copyVector3sArray(r.vertices)),this.setAttribute("color",s.copyColorsArray(r.colors)),r.lineDistances&&r.lineDistances.length===r.vertices.length&&(e=new hr(r.lineDistances.length,1),this.setAttribute("lineDistance",e.copyArray(r.lineDistances))),r.boundingSphere!==null&&(this.boundingSphere=r.boundingSphere.clone()),r.boundingBox!==null&&(this.boundingBox=r.boundingBox.clone())}else e.isMesh&&r&&r.isGeometry&&this.fromGeometry(r);return this},setFromPoints:function(e){for(var r=[],s=0,c=e.length;s<c;s++){var v=e[s];r.push(v.x,v.y,v.z||0)}return this.setAttribute("position",new hr(r,3)),this},updateFromObject:function(e){var r=e.geometry;if(e.isMesh){var s=r.__directGeometry;if(r.elementsNeedUpdate===!0&&(s=void 0,r.elementsNeedUpdate=!1),s===void 0)return this.fromGeometry(r);s.verticesNeedUpdate=r.verticesNeedUpdate,s.normalsNeedUpdate=r.normalsNeedUpdate,s.colorsNeedUpdate=r.colorsNeedUpdate,s.uvsNeedUpdate=r.uvsNeedUpdate,s.groupsNeedUpdate=r.groupsNeedUpdate,r.verticesNeedUpdate=!1,r.normalsNeedUpdate=!1,r.colorsNeedUpdate=!1,r.uvsNeedUpdate=!1,r.groupsNeedUpdate=!1,r=s}return r.verticesNeedUpdate===!0&&(s=this.attributes.position,s!==void 0&&(s.copyVector3sArray(r.vertices),s.needsUpdate=!0),r.verticesNeedUpdate=!1),r.normalsNeedUpdate===!0&&(s=this.attributes.normal,s!==void 0&&(s.copyVector3sArray(r.normals),s.needsUpdate=!0),r.normalsNeedUpdate=!1),r.colorsNeedUpdate===!0&&(s=this.attributes.color,s!==void 0&&(s.copyColorsArray(r.colors),s.needsUpdate=!0),r.colorsNeedUpdate=!1),r.uvsNeedUpdate&&(s=this.attributes.uv,s!==void 0&&(s.copyVector2sArray(r.uvs),s.needsUpdate=!0),r.uvsNeedUpdate=!1),r.lineDistancesNeedUpdate&&(s=this.attributes.lineDistance,s!==void 0&&(s.copyArray(r.lineDistances),s.needsUpdate=!0),r.lineDistancesNeedUpdate=!1),r.groupsNeedUpdate&&(r.computeGroups(e.geometry),this.groups=r.groups,r.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=new Mn().fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var r=new Float32Array(3*e.vertices.length);this.setAttribute("position",new Nn(r,3).copyVector3sArray(e.vertices)),0<e.normals.length&&(r=new Float32Array(3*e.normals.length),this.setAttribute("normal",new Nn(r,3).copyVector3sArray(e.normals))),0<e.colors.length&&(r=new Float32Array(3*e.colors.length),this.setAttribute("color",new Nn(r,3).copyColorsArray(e.colors))),0<e.uvs.length&&(r=new Float32Array(2*e.uvs.length),this.setAttribute("uv",new Nn(r,2).copyVector2sArray(e.uvs))),0<e.uvs2.length&&(r=new Float32Array(2*e.uvs2.length),this.setAttribute("uv2",new Nn(r,2).copyVector2sArray(e.uvs2))),this.groups=e.groups;for(var s in e.morphTargets){r=[];for(var c=e.morphTargets[s],v=0,x=c.length;v<x;v++){var w=c[v],I=new hr(3*w.data.length,3);I.name=w.name,r.push(I.copyVector3sArray(w.data))}this.morphAttributes[s]=r}return 0<e.skinIndices.length&&(s=new hr(4*e.skinIndices.length,4),this.setAttribute("skinIndex",s.copyVector4sArray(e.skinIndices))),0<e.skinWeights.length&&(s=new hr(4*e.skinWeights.length,4),this.setAttribute("skinWeight",s.copyVector4sArray(e.skinWeights))),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new An);var e=this.attributes.position,r=this.morphAttributes.position;if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),r){e=0;for(var s=r.length;e<s;e++)ap.setFromBufferAttribute(r[e]),this.morphTargetsRelative?(cf.addVectors(this.boundingBox.min,ap.min),this.boundingBox.expandByPoint(cf),cf.addVectors(this.boundingBox.max,ap.max),this.boundingBox.expandByPoint(cf)):(this.boundingBox.expandByPoint(ap.min),this.boundingBox.expandByPoint(ap.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new fr);var e=this.attributes.position,r=this.morphAttributes.position;if(e){var s=this.boundingSphere.center;if(ap.setFromBufferAttribute(e),r)for(var c=0,v=r.length;c<v;c++){var x=r[c];Km.setFromBufferAttribute(x),this.morphTargetsRelative?(cf.addVectors(ap.min,Km.min),ap.expandByPoint(cf),cf.addVectors(ap.max,Km.max),ap.expandByPoint(cf)):(ap.expandByPoint(Km.min),ap.expandByPoint(Km.max))}ap.getCenter(s);var w=0;for(c=0,v=e.count;c<v;c++)cf.fromBufferAttribute(e,c),w=Math.max(w,s.distanceToSquared(cf));if(r)for(c=0,v=r.length;c<v;c++){x=r[c];for(var I=this.morphTargetsRelative,j=0,G=x.count;j<G;j++)cf.fromBufferAttribute(x,j),I&&(Rm.fromBufferAttribute(e,j),cf.add(Rm)),w=Math.max(w,s.distanceToSquared(cf))}this.boundingSphere.radius=Math.sqrt(w),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,r=this.attributes;if(r.position){var s=r.position.array;if(r.normal===void 0)this.setAttribute("normal",new Nn(new Float32Array(s.length),3));else for(var c=r.normal.array,v=0,x=c.length;v<x;v++)c[v]=0;c=r.normal.array;var w=new Ie,I=new Ie,j=new Ie,G=new Ie,W=new Ie;if(e){var ae=e.array;for(v=0,x=e.count;v<x;v+=3){e=3*ae[v+0];var ue=3*ae[v+1],be=3*ae[v+2];w.fromArray(s,e),I.fromArray(s,ue),j.fromArray(s,be),G.subVectors(j,I),W.subVectors(w,I),G.cross(W),c[e]+=G.x,c[e+1]+=G.y,c[e+2]+=G.z,c[ue]+=G.x,c[ue+1]+=G.y,c[ue+2]+=G.z,c[be]+=G.x,c[be+1]+=G.y,c[be+2]+=G.z}}else for(v=0,x=s.length;v<x;v+=9)w.fromArray(s,v),I.fromArray(s,v+3),j.fromArray(s,v+6),G.subVectors(j,I),W.subVectors(w,I),G.cross(W),c[v]=G.x,c[v+1]=G.y,c[v+2]=G.z,c[v+3]=G.x,c[v+4]=G.y,c[v+5]=G.z,c[v+6]=G.x,c[v+7]=G.y,c[v+8]=G.z;this.normalizeNormals(),r.normal.needsUpdate=!0}},merge:function(e,r){if(e&&e.isBufferGeometry){r===void 0&&(r=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var s=this.attributes,c;for(c in s)if(e.attributes[c]!==void 0){var v=s[c].array,x=e.attributes[c],w=x.array,I=x.itemSize*r;x=Math.min(w.length,v.length-I);for(var j=0;j<x;j++,I++)v[I]=w[j]}return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){for(var e=this.attributes.normal,r=0,s=e.count;r<s;r++)cf.x=e.getX(r),cf.y=e.getY(r),cf.z=e.getZ(r),cf.normalize(),e.setXYZ(r,cf.x,cf.y,cf.z)},toNonIndexed:function(){function e(W,ae){var ue=W.array,be=W.itemSize;W=W.normalized;for(var Me=new ue.constructor(ae.length*be),ct,Nt=0,Pt=0,Bt=ae.length;Pt<Bt;Pt++){ct=ae[Pt]*be;for(var ir=0;ir<be;ir++)Me[Nt++]=ue[ct++]}return new Nn(Me,be,W)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var r=new kr,s=this.index.array,c=this.attributes,v;for(v in c){var x=c[v];x=e(x,s),r.setAttribute(v,x)}var w=this.morphAttributes;for(v in w){var I=[],j=w[v];c=0;for(var G=j.length;c<G;c++)x=j[c],x=e(x,s),I.push(x);r.morphAttributes[v]=I}for(r.morphTargetsRelative=this.morphTargetsRelative,s=this.groups,c=0,v=s.length;c<v;c++)x=s[c],r.addGroup(x.start,x.count,x.materialIndex);return r},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),0<Vc(this.userData).length&&(e.userData=this.userData),this.parameters!==void 0){var r=this.parameters;for(G in r)r[G]!==void 0&&(e[G]=r[G]);return e}e.data={attributes:{}},r=this.index,r!==null&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var s=this.attributes;for(G in s){r=s[G];var c=r.toJSON();r.name!==""&&(c.name=r.name),e.data.attributes[G]=c}s={};var v=!1;for(G in this.morphAttributes){for(var x=this.morphAttributes[G],w=[],I=0,j=x.length;I<j;I++)r=x[I],c=r.toJSON(),r.name!==""&&(c.name=r.name),w.push(c);0<w.length&&(s[G]=w,v=!0)}v&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var G=this.groups;return 0<G.length&&(e.data.groups=JSON.parse(Ud(G))),G=this.boundingSphere,G!==null&&(e.data.boundingSphere={center:G.center.toArray(),radius:G.radius}),e},clone:function(){return new kr().copy(this)},copy:function(e){var r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingSphere=this.boundingBox=null,this.name=e.name;var s=e.index;s!==null&&this.setIndex(s.clone()),s=e.attributes;for(w in s)this.setAttribute(w,s[w].clone());var c=e.morphAttributes;for(w in c){var v=[],x=c[w];for(s=0,r=x.length;s<r;s++)v.push(x[s].clone());this.morphAttributes[w]=v}this.morphTargetsRelative=e.morphTargetsRelative;var w=e.groups;for(s=0,r=w.length;s<r;s++)c=w[s],this.addGroup(c.start,c.count,c.materialIndex);return w=e.boundingBox,w!==null&&(this.boundingBox=w.clone()),w=e.boundingSphere,w!==null&&(this.boundingSphere=w.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Kv=new ht,Lm=new _r,bg=new fr,Vp=new Ie,Uf=new Ie,cm=new Ie,Ef=new Ie,Ys=new Ie,Cp=new Ie,Zm=new Ie,E0=new Ie,T0=new Ie,Zv=new $e,fm=new $e,Sv=new $e,Jm=new Ie,_0=new Ie;ei.prototype=Xe(Ge(pr.prototype),{constructor:ei,isMesh:!0,copy:function(e){return pr.prototype.copy.call(this,e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Xe({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){e=e.morphAttributes;var r=Vc(e);if(0<r.length){var s=e[r[0]];if(s!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,r=s.length;e<r;e++){var c=s[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=e}}}else e=e.morphTargets,e!==void 0&&0<e.length&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},raycast:function(e,r){var s=this.geometry,c=this.material,v=this.matrixWorld;if(c!==void 0&&(s.boundingSphere===null&&s.computeBoundingSphere(),bg.copy(s.boundingSphere),bg.applyMatrix4(v),e.ray.intersectsSphere(bg)!==!1&&(Kv.getInverse(v),Lm.copy(e.ray).applyMatrix4(Kv),s.boundingBox===null||Lm.intersectsBox(s.boundingBox)!==!1))){if(s.isBufferGeometry){var x=s.index;v=s.attributes.position;var w=s.morphAttributes.position,I=s.morphTargetsRelative,j=s.attributes.uv,G=s.attributes.uv2,W=s.groups,ae=s.drawRange,ue,be;if(x!==null)if(Array.isArray(c)){var Me=0;for(ue=W.length;Me<ue;Me++){var ct=W[Me],Nt=c[ct.materialIndex],Pt=Math.max(ct.start,ae.start);for(be=s=Math.min(ct.start+ct.count,ae.start+ae.count);Pt<be;Pt+=3){s=x.getX(Pt);var Bt=x.getX(Pt+1),ir=x.getX(Pt+2);(s=Di(this,Nt,e,Lm,v,w,I,j,G,s,Bt,ir))&&(s.faceIndex=Math.floor(Pt/3),s.face.materialIndex=ct.materialIndex,r.push(s))}}}else for(Pt=Math.max(0,ae.start),s=Math.min(x.count,ae.start+ae.count),Me=Pt,ue=s;Me<ue;Me+=3)s=x.getX(Me),Bt=x.getX(Me+1),ir=x.getX(Me+2),(s=Di(this,c,e,Lm,v,w,I,j,G,s,Bt,ir))&&(s.faceIndex=Math.floor(Me/3),r.push(s));else if(v!==void 0)if(Array.isArray(c))for(Me=0,ue=W.length;Me<ue;Me++)for(ct=W[Me],Nt=c[ct.materialIndex],Pt=Math.max(ct.start,ae.start),be=s=Math.min(ct.start+ct.count,ae.start+ae.count);Pt<be;Pt+=3)s=Pt,Bt=Pt+1,ir=Pt+2,(s=Di(this,Nt,e,Lm,v,w,I,j,G,s,Bt,ir))&&(s.faceIndex=Math.floor(Pt/3),s.face.materialIndex=ct.materialIndex,r.push(s));else for(Pt=Math.max(0,ae.start),s=Math.min(v.count,ae.start+ae.count),Me=Pt,ue=s;Me<ue;Me+=3)s=Me,Bt=Me+1,ir=Me+2,(s=Di(this,c,e,Lm,v,w,I,j,G,s,Bt,ir))&&(s.faceIndex=Math.floor(Me/3),r.push(s))}else if(s.isGeometry)for(v=Array.isArray(c),w=s.vertices,I=s.faces,s=s.faceVertexUvs[0],0<s.length&&(x=s),ae=0,Me=I.length;ae<Me;ae++)ue=I[ae],s=v?c[ue.materialIndex]:c,s!==void 0&&(j=w[ue.a],G=w[ue.b],W=w[ue.c],s=Mi(this,s,e,Lm,j,G,W,Jm))&&(x&&x[ae]&&(ct=x[ae],Zv.copy(ct[0]),fm.copy(ct[1]),Sv.copy(ct[2]),s.uv=dt.getUV(Jm,j,G,W,Zv,fm,Sv,new $e)),s.face=ue,s.faceIndex=ae,r.push(s))}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var s1=0,Dm=new ht,I0=new pr,Jv=new Ie;ui.prototype=Xe(Ge(Vr.prototype),{constructor:ui,isGeometry:!0,applyMatrix4:function(e){for(var r=new Et().getNormalMatrix(e),s=0,c=this.vertices.length;s<c;s++)this.vertices[s].applyMatrix4(e);for(s=0,c=this.faces.length;s<c;s++){e=this.faces[s],e.normal.applyMatrix3(r).normalize();for(var v=0,x=e.vertexNormals.length;v<x;v++)e.vertexNormals[v].applyMatrix3(r).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.normalsNeedUpdate=this.verticesNeedUpdate=!0,this},rotateX:function(e){return Dm.makeRotationX(e),this.applyMatrix4(Dm),this},rotateY:function(e){return Dm.makeRotationY(e),this.applyMatrix4(Dm),this},rotateZ:function(e){return Dm.makeRotationZ(e),this.applyMatrix4(Dm),this},translate:function(e,r,s){return Dm.makeTranslation(e,r,s),this.applyMatrix4(Dm),this},scale:function(e,r,s){return Dm.makeScale(e,r,s),this.applyMatrix4(Dm),this},lookAt:function(e){return I0.lookAt(e),I0.updateMatrix(),this.applyMatrix4(I0.matrix),this},fromBufferGeometry:function(e){function r(be,Me,ct,Nt){var Pt=I===void 0?[]:[s.colors[be].clone(),s.colors[Me].clone(),s.colors[ct].clone()],Bt=w===void 0?[]:[new Ie().fromArray(w,3*be),new Ie().fromArray(w,3*Me),new Ie().fromArray(w,3*ct)];Nt=new Gn(be,Me,ct,Bt,Pt,Nt),s.faces.push(Nt),j!==void 0&&s.faceVertexUvs[0].push([new $e().fromArray(j,2*be),new $e().fromArray(j,2*Me),new $e().fromArray(j,2*ct)]),G!==void 0&&s.faceVertexUvs[1].push([new $e().fromArray(G,2*be),new $e().fromArray(G,2*Me),new $e().fromArray(G,2*ct)])}var s=this,c=e.index!==null?e.index.array:void 0,v=e.attributes;if(v.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var x=v.position.array,w=v.normal!==void 0?v.normal.array:void 0,I=v.color!==void 0?v.color.array:void 0,j=v.uv!==void 0?v.uv.array:void 0,G=v.uv2!==void 0?v.uv2.array:void 0;for(G!==void 0&&(this.faceVertexUvs[1]=[]),v=0;v<x.length;v+=3)s.vertices.push(new Ie().fromArray(x,v)),I!==void 0&&s.colors.push(new At().fromArray(I,v));var W=e.groups;if(0<W.length)for(v=0;v<W.length;v++){x=W[v];var ae=x.start,ue=ae;for(ae+=x.count;ue<ae;ue+=3)c!==void 0?r(c[ue],c[ue+1],c[ue+2],x.materialIndex):r(ue,ue+1,ue+2,x.materialIndex)}else if(c!==void 0)for(v=0;v<c.length;v+=3)r(c[v],c[v+1],c[v+2]);else for(v=0;v<x.length/3;v+=3)r(v,v+1,v+2);return this.computeFaceNormals(),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Jv).negate(),this.translate(Jv.x,Jv.y,Jv.z),this},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,r=this.boundingSphere.radius;r=r===0?1:1/r;var s=new ht;return s.set(r,0,0,-r*e.x,0,r,0,-r*e.y,0,0,r,-r*e.z,0,0,0,1),this.applyMatrix4(s),this},computeFaceNormals:function(){for(var e=new Ie,r=new Ie,s=0,c=this.faces.length;s<c;s++){var v=this.faces[s],x=this.vertices[v.a],w=this.vertices[v.b];e.subVectors(this.vertices[v.c],w),r.subVectors(x,w),e.cross(r),e.normalize(),v.normal.copy(e)}},computeVertexNormals:function(e){e===void 0&&(e=!0);var r,s=Array(this.vertices.length),c=0;for(r=this.vertices.length;c<r;c++)s[c]=new Ie;if(e){var v=new Ie,x=new Ie;for(e=0,c=this.faces.length;e<c;e++){r=this.faces[e];var w=this.vertices[r.a],I=this.vertices[r.b],j=this.vertices[r.c];v.subVectors(j,I),x.subVectors(w,I),v.cross(x),s[r.a].add(v),s[r.b].add(v),s[r.c].add(v)}}else for(this.computeFaceNormals(),e=0,c=this.faces.length;e<c;e++)r=this.faces[e],s[r.a].add(r.normal),s[r.b].add(r.normal),s[r.c].add(r.normal);for(c=0,r=this.vertices.length;c<r;c++)s[c].normalize();for(e=0,c=this.faces.length;e<c;e++)r=this.faces[e],w=r.vertexNormals,w.length===3?(w[0].copy(s[r.a]),w[1].copy(s[r.b]),w[2].copy(s[r.c])):(w[0]=s[r.a].clone(),w[1]=s[r.b].clone(),w[2]=s[r.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e;this.computeFaceNormals();var r=0;for(e=this.faces.length;r<e;r++){var s=this.faces[r],c=s.vertexNormals;c.length===3?(c[0].copy(s.normal),c[1].copy(s.normal),c[2].copy(s.normal)):(c[0]=s.normal.clone(),c[1]=s.normal.clone(),c[2]=s.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,r,s=0;for(r=this.faces.length;s<r;s++){var c=this.faces[s];c.__originalFaceNormal?c.__originalFaceNormal.copy(c.normal):c.__originalFaceNormal=c.normal.clone(),c.__originalVertexNormals||(c.__originalVertexNormals=[]);var v=0;for(e=c.vertexNormals.length;v<e;v++)c.__originalVertexNormals[v]?c.__originalVertexNormals[v].copy(c.vertexNormals[v]):c.__originalVertexNormals[v]=c.vertexNormals[v].clone()}var x=new ui;for(x.faces=this.faces,v=0,e=this.morphTargets.length;v<e;v++){if(!this.morphNormals[v]){this.morphNormals[v]={},this.morphNormals[v].faceNormals=[],this.morphNormals[v].vertexNormals=[],c=this.morphNormals[v].faceNormals;var w=this.morphNormals[v].vertexNormals;for(s=0,r=this.faces.length;s<r;s++){var I=new Ie,j={a:new Ie,b:new Ie,c:new Ie};c.push(I),w.push(j)}}for(w=this.morphNormals[v],x.vertices=this.morphTargets[v].vertices,x.computeFaceNormals(),x.computeVertexNormals(),s=0,r=this.faces.length;s<r;s++)c=this.faces[s],I=w.faceNormals[s],j=w.vertexNormals[s],I.copy(c.normal),j.a.copy(c.vertexNormals[0]),j.b.copy(c.vertexNormals[1]),j.c.copy(c.vertexNormals[2])}for(s=0,r=this.faces.length;s<r;s++)c=this.faces[s],c.normal=c.__originalFaceNormal,c.vertexNormals=c.__originalVertexNormals},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new An),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new fr),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,r,s){if(e&&e.isGeometry){var c,v=this.vertices.length,x=this.vertices,w=e.vertices,I=this.faces,j=e.faces,G=this.colors,W=e.colors;s===void 0&&(s=0),r!==void 0&&(c=new Et().getNormalMatrix(r));for(var ae=0,ue=w.length;ae<ue;ae++){var be=w[ae].clone();r!==void 0&&be.applyMatrix4(r),x.push(be)}for(ae=0,ue=W.length;ae<ue;ae++)G.push(W[ae].clone());for(ae=0,ue=j.length;ae<ue;ae++){w=j[ae];var Me=w.vertexNormals;for(W=w.vertexColors,G=new Gn(w.a+v,w.b+v,w.c+v),G.normal.copy(w.normal),c!==void 0&&G.normal.applyMatrix3(c).normalize(),r=0,x=Me.length;r<x;r++)be=Me[r].clone(),c!==void 0&&be.applyMatrix3(c).normalize(),G.vertexNormals.push(be);for(G.color.copy(w.color),r=0,x=W.length;r<x;r++)be=W[r],G.vertexColors.push(be.clone());G.materialIndex=w.materialIndex+s,I.push(G)}for(ae=0,ue=e.faceVertexUvs.length;ae<ue;ae++)for(s=e.faceVertexUvs[ae],this.faceVertexUvs[ae]===void 0&&(this.faceVertexUvs[ae]=[]),r=0,x=s.length;r<x;r++){for(c=s[r],v=[],I=0,j=c.length;I<j;I++)v.push(c[I].clone());this.faceVertexUvs[ae].push(v)}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e={},r=[],s=[],c=Math.pow(10,4),v,x=0;for(v=this.vertices.length;x<v;x++){var w=this.vertices[x];w=Math.round(w.x*c)+"_"+Math.round(w.y*c)+"_"+Math.round(w.z*c),e[w]===void 0?(e[w]=x,r.push(this.vertices[x]),s[x]=r.length-1):s[x]=s[e[w]]}for(e=[],x=0,v=this.faces.length;x<v;x++)for(c=this.faces[x],c.a=s[c.a],c.b=s[c.b],c.c=s[c.c],c=[c.a,c.b,c.c],w=0;3>w;w++)if(c[w]===c[(w+1)%3]){e.push(x);break}for(x=e.length-1;0<=x;x--)for(c=e[x],this.faces.splice(c,1),s=0,v=this.faceVertexUvs.length;s<v;s++)this.faceVertexUvs[s].splice(c,1);return x=this.vertices.length-r.length,this.vertices=r,x},setFromPoints:function(e){this.vertices=[];for(var r=0,s=e.length;r<s;r++){var c=e[r];this.vertices.push(new Ie(c.x,c.y,c.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,r=e.length,s=0;s<r;s++)e[s]._id=s;e.sort(function(j,G){return j.materialIndex-G.materialIndex});var c=this.faceVertexUvs[0],v=this.faceVertexUvs[1],x,w;for(c&&c.length===r&&(x=[]),v&&v.length===r&&(w=[]),s=0;s<r;s++){var I=e[s]._id;x&&x.push(c[I]),w&&w.push(v[I])}x&&(this.faceVertexUvs[0]=x),w&&(this.faceVertexUvs[1]=w)},toJSON:function(){function e(Tr,wt,qn){return qn?Tr|1<<wt:Tr&~(1<<wt)}function r(Tr){var wt=Tr.x.toString()+Tr.y.toString()+Tr.z.toString();return G[wt]!==void 0||(G[wt]=j.length/3,j.push(Tr.x,Tr.y,Tr.z)),G[wt]}function s(Tr){var wt=Tr.r.toString()+Tr.g.toString()+Tr.b.toString();return ae[wt]!==void 0||(ae[wt]=W.length,W.push(Tr.getHex())),ae[wt]}function c(Tr){var wt=Tr.x.toString()+Tr.y.toString();return be[wt]!==void 0||(be[wt]=ue.length/2,ue.push(Tr.x,Tr.y)),be[wt]}var v={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(v.uuid=this.uuid,v.type=this.type,this.name!==""&&(v.name=this.name),this.parameters!==void 0){var x=this.parameters,w;for(w in x)x[w]!==void 0&&(v[w]=x[w]);return v}for(x=[],w=0;w<this.vertices.length;w++){var I=this.vertices[w];x.push(I.x,I.y,I.z)}I=[];var j=[],G={},W=[],ae={},ue=[],be={};for(w=0;w<this.faces.length;w++){var Me=this.faces[w],ct=this.faceVertexUvs[0][w]!==void 0,Nt=0<Me.normal.length(),Pt=0<Me.vertexNormals.length,Bt=Me.color.r!==1||Me.color.g!==1||Me.color.b!==1,ir=0<Me.vertexColors.length,Ir=0;Ir=e(Ir,0,0),Ir=e(Ir,1,!0),Ir=e(Ir,2,!1),Ir=e(Ir,3,ct),Ir=e(Ir,4,Nt),Ir=e(Ir,5,Pt),Ir=e(Ir,6,Bt),Ir=e(Ir,7,ir),I.push(Ir),I.push(Me.a,Me.b,Me.c),I.push(Me.materialIndex),ct&&(ct=this.faceVertexUvs[0][w],I.push(c(ct[0]),c(ct[1]),c(ct[2]))),Nt&&I.push(r(Me.normal)),Pt&&(Nt=Me.vertexNormals,I.push(r(Nt[0]),r(Nt[1]),r(Nt[2]))),Bt&&I.push(s(Me.color)),ir&&(Me=Me.vertexColors,I.push(s(Me[0]),s(Me[1]),s(Me[2])))}return v.data={},v.data.vertices=x,v.data.normals=j,0<W.length&&(v.data.colors=W),0<ue.length&&(v.data.uvs=[ue]),v.data.faces=I,v},clone:function(){return new ui().copy(this)},copy:function(e){var r,s,c;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingSphere=this.boundingBox=null,this.name=e.name;var v=e.vertices,x=0;for(r=v.length;x<r;x++)this.vertices.push(v[x].clone());for(v=e.colors,x=0,r=v.length;x<r;x++)this.colors.push(v[x].clone());for(v=e.faces,x=0,r=v.length;x<r;x++)this.faces.push(v[x].clone());for(x=0,r=e.faceVertexUvs.length;x<r;x++){var w=e.faceVertexUvs[x];for(this.faceVertexUvs[x]===void 0&&(this.faceVertexUvs[x]=[]),v=0,s=w.length;v<s;v++){var I=w[v],j=[],G=0;for(c=I.length;G<c;G++)j.push(I[G].clone());this.faceVertexUvs[x].push(j)}}for(G=e.morphTargets,x=0,r=G.length;x<r;x++){if(c={},c.name=G[x].name,G[x].vertices!==void 0)for(c.vertices=[],v=0,s=G[x].vertices.length;v<s;v++)c.vertices.push(G[x].vertices[v].clone());if(G[x].normals!==void 0)for(c.normals=[],v=0,s=G[x].normals.length;v<s;v++)c.normals.push(G[x].normals[v].clone());this.morphTargets.push(c)}for(G=e.morphNormals,x=0,r=G.length;x<r;x++){if(c={},G[x].vertexNormals!==void 0)for(c.vertexNormals=[],v=0,s=G[x].vertexNormals.length;v<s;v++)w=G[x].vertexNormals[v],I={},I.a=w.a.clone(),I.b=w.b.clone(),I.c=w.c.clone(),c.vertexNormals.push(I);if(G[x].faceNormals!==void 0)for(c.faceNormals=[],v=0,s=G[x].faceNormals.length;v<s;v++)c.faceNormals.push(G[x].faceNormals[v].clone());this.morphNormals.push(c)}for(v=e.skinWeights,x=0,r=v.length;x<r;x++)this.skinWeights.push(v[x].clone());for(v=e.skinIndices,x=0,r=v.length;x<r;x++)this.skinIndices.push(v[x].clone());for(v=e.lineDistances,x=0,r=v.length;x<r;x++)this.lineDistances.push(v[x]);return x=e.boundingBox,x!==null&&(this.boundingBox=x.clone()),x=e.boundingSphere,x!==null&&(this.boundingSphere=x.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var px=function(i){function e(r,s,c,v,x,w){Wc(this,e);var I=$h(this,(e.__proto__||qh(e)).call(this));return I.type="BoxGeometry",I.parameters={width:r,height:s,depth:c,widthSegments:v,heightSegments:x,depthSegments:w},I.fromBufferGeometry(new P0(r,s,c,v,x,w)),I.mergeVertices(),I}return yh(e,i),e}(ui),P0=function(i){function e(r,s,c,v,x,w){function I(Nt,Pt,Bt,ir,Ir,Tr,wt,qn,Fr,pi,Ai){var Pr=Tr/Fr,Fo=wt/pi,En=Tr/2,ua=wt/2,as=qn/2;wt=Fr+1;for(var Ca=pi+1,Du=Tr=0,Aa=new Ie,Bl=0;Bl<Ca;Bl++)for(var hf=Bl*Fo-ua,vi=0;vi<wt;vi++)Aa[Nt]=(vi*Pr-En)*ir,Aa[Pt]=hf*Ir,Aa[Bt]=as,ae.push(Aa.x,Aa.y,Aa.z),Aa[Nt]=0,Aa[Pt]=0,Aa[Bt]=0<qn?1:-1,ue.push(Aa.x,Aa.y,Aa.z),be.push(vi/Fr),be.push(1-Bl/pi),Tr+=1;for(Nt=0;Nt<pi;Nt++)for(Pt=0;Pt<Fr;Pt++)Bt=Me+Pt+wt*(Nt+1),ir=Me+(Pt+1)+wt*(Nt+1),Ir=Me+(Pt+1)+wt*Nt,W.push(Me+Pt+wt*Nt,Bt,Ir),W.push(Bt,ir,Ir),Du+=6;G.addGroup(ct,Du,Ai),ct+=Du,Me+=Tr}Wc(this,e);var j=$h(this,(e.__proto__||qh(e)).call(this));j.type="BoxBufferGeometry",j.parameters={width:r,height:s,depth:c,widthSegments:v,heightSegments:x,depthSegments:w};var G=j;r=r||1,s=s||1,c=c||1,v=Math.floor(v)||1,x=Math.floor(x)||1,w=Math.floor(w)||1;var W=[],ae=[],ue=[],be=[],Me=0,ct=0;return I("z","y","x",-1,-1,c,s,r,w,x,0),I("z","y","x",1,-1,c,s,-r,w,x,1),I("x","z","y",1,1,r,c,s,v,w,2),I("x","z","y",1,-1,r,c,-s,v,w,3),I("x","y","z",1,-1,r,s,c,v,x,4),I("x","y","z",-1,-1,r,s,-c,v,x,5),j.setIndex(W),j.setAttribute("position",new hr(ae,3)),j.setAttribute("normal",new hr(ue,3)),j.setAttribute("uv",new hr(be,2)),j}return yh(e,i),e}(kr),Mv={clone:Po,merge:cr};$o.prototype=Ge(Kr.prototype),$o.prototype.constructor=$o,$o.prototype.isShaderMaterial=!0,$o.prototype.copy=function(i){return Kr.prototype.copy.call(this,i),this.fragmentShader=i.fragmentShader,this.vertexShader=i.vertexShader,this.uniforms=Po(i.uniforms),this.defines=Xe({},i.defines),this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.lights=i.lights,this.clipping=i.clipping,this.skinning=i.skinning,this.morphTargets=i.morphTargets,this.morphNormals=i.morphNormals,this.extensions=Xe({},i.extensions),this},$o.prototype.toJSON=function(i){var e=Kr.prototype.toJSON.call(this,i);e.uniforms={};for(var r in this.uniforms){var s=this.uniforms[r].value;e.uniforms[r]=s&&s.isTexture?{type:"t",value:s.toJSON(i).uuid}:s&&s.isColor?{type:"c",value:s.getHex()}:s&&s.isVector2?{type:"v2",value:s.toArray()}:s&&s.isVector3?{type:"v3",value:s.toArray()}:s&&s.isVector4?{type:"v4",value:s.toArray()}:s&&s.isMatrix3?{type:"m3",value:s.toArray()}:s&&s.isMatrix4?{type:"m4",value:s.toArray()}:{value:s}}0<Vc(this.defines).length&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,i={};for(var c in this.extensions)this.extensions[c]===!0&&(i[c]=!0);return 0<Vc(i).length&&(e.extensions=i),e},As.prototype=Xe(Ge(pr.prototype),{constructor:As,isCamera:!0,copy:function(e,r){return pr.prototype.copy.call(this,e,r),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new Ie),this.updateMatrixWorld(!0);var r=this.matrixWorld.elements;return e.set(-r[8],-r[9],-r[10]).normalize()},updateMatrixWorld:function(e){pr.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(e,r){pr.prototype.updateWorldMatrix.call(this,e,r),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return new this.constructor().copy(this)}}),Gi.prototype=Xe(Ge(As.prototype),{constructor:Gi,isPerspectiveCamera:!0,copy:function(e,r){return As.prototype.copy.call(this,e,r),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Xe({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){e=.5*this.getFilmHeight()/e,this.fov=2*L.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*L.DEG2RAD*this.fov);return .5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*L.RAD2DEG*Math.atan(Math.tan(.5*L.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,r,s,c,v,x){this.aspect=e/r,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=r,this.view.offsetX=s,this.view.offsetY=c,this.view.width=v,this.view.height=x,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,r=e*Math.tan(.5*L.DEG2RAD*this.fov)/this.zoom,s=2*r,c=this.aspect*s,v=-.5*c,x=this.view;if(this.view!==null&&this.view.enabled){var w=x.fullWidth,I=x.fullHeight;v+=x.offsetX*c/w,r-=x.offsetY*s/I,c*=x.width/w,s*=x.height/I}x=this.filmOffset,x!==0&&(v+=e*x/this.getFilmWidth()),this.projectionMatrix.makePerspective(v,v+c,r,r-s,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){return e=pr.prototype.toJSON.call(this,e),e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Xe({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),Xs.prototype=Ge(pr.prototype),Xs.prototype.constructor=Xs,un.prototype=Ge(bt.prototype),un.prototype.constructor=un,un.prototype.isWebGLCubeRenderTarget=!0,un.prototype.fromEquirectangularTexture=function(i,e){this.texture.type=e.type,this.texture.format=e.format,this.texture.encoding=e.encoding;var r=new $r,s=new $o({type:"CubemapFromEquirect",uniforms:Po({tEquirect:{value:null}}),vertexShader:`varying vec3 vWorldDirection;
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragmentShader:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
}`,side:1,blending:0});return s.uniforms.tEquirect.value=e,e=new ei(new P0(5,5,5),s),r.add(e),new Xs(1,10,this).update(i,r),e.geometry.dispose(),e.material.dispose(),this},ko.prototype=Ge(Xt.prototype),ko.prototype.constructor=ko,ko.prototype.isDataTexture=!0;var Qm=new fr,Sg=new Ie;Xe(ss.prototype,{set:function(e,r,s,c,v,x){var w=this.planes;return w[0].copy(e),w[1].copy(r),w[2].copy(s),w[3].copy(c),w[4].copy(v),w[5].copy(x),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){for(var r=this.planes,s=0;6>s;s++)r[s].copy(e.planes[s]);return this},setFromProjectionMatrix:function(e){var r=this.planes,s=e.elements;e=s[0];var c=s[1],v=s[2],x=s[3],w=s[4],I=s[5],j=s[6],G=s[7],W=s[8],ae=s[9],ue=s[10],be=s[11],Me=s[12],ct=s[13],Nt=s[14];return s=s[15],r[0].setComponents(x-e,G-w,be-W,s-Me).normalize(),r[1].setComponents(x+e,G+w,be+W,s+Me).normalize(),r[2].setComponents(x+c,G+I,be+ae,s+ct).normalize(),r[3].setComponents(x-c,G-I,be-ae,s-ct).normalize(),r[4].setComponents(x-v,G-j,be-ue,s-Nt).normalize(),r[5].setComponents(x+v,G+j,be+ue,s+Nt).normalize(),this},intersectsObject:function(e){var r=e.geometry;return r.boundingSphere===null&&r.computeBoundingSphere(),Qm.copy(r.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Qm)},intersectsSprite:function(e){return Qm.center.set(0,0,0),Qm.radius=.7071067811865476,Qm.applyMatrix4(e.matrixWorld),this.intersectsSphere(Qm)},intersectsSphere:function(e){var r=this.planes,s=e.center;e=-e.radius;for(var c=0;6>c;c++)if(r[c].distanceToPoint(s)<e)return!1;return!0},intersectsBox:function(e){for(var r=this.planes,s=0;6>s;s++){var c=r[s];if(Sg.x=0<c.normal.x?e.max.x:e.min.x,Sg.y=0<c.normal.y?e.max.y:e.min.y,Sg.z=0<c.normal.z?e.max.z:e.min.z,0>c.distanceToPoint(Sg))return!1}return!0},containsPoint:function(e){for(var r=this.planes,s=0;6>s;s++)if(0>r[s].distanceToPoint(e))return!1;return!0}});var so={common:{diffuse:{value:new At(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Et},uv2Transform:{value:new Et},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new $e(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new At(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new At(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Et}},sprite:{diffuse:{value:new At(15658734)},opacity:{value:1},center:{value:new $e(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Et}}};ou.prototype=Ge(ui.prototype),ou.prototype.constructor=ou,ea.prototype=Ge(kr.prototype),ea.prototype.constructor=ea;var Rl={alphamap_fragment:`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,alphamap_pars_fragment:`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment:`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,aomap_fragment:`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,aomap_pars_fragment:`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs:`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE  = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS  = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha  = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,bumpmap_pars_fragment:`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment:`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment:`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex:`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex:`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment:`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment:`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,color_pars_vertex:`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,color_vertex:`#ifdef USE_COLOR
	vColor.xyz = color.xyz;
#endif`,common:`#define PI 3.14159265359
#define PI2 6.28318530718
#define PI_HALF 1.5707963267949
#define RECIPROCAL_PI 0.31830988618
#define RECIPROCAL_PI2 0.15915494
#define LOG2 1.442695
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
  return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,cube_uv_reflection_fragment:`#ifdef ENVMAP_TYPE_CUBE_UV
#define cubeUV_maxMipLevel 8.0
#define cubeUV_minMipLevel 4.0
#define cubeUV_maxTileSize 256.0
#define cubeUV_minTileSize 16.0
float getFace(vec3 direction) {
    vec3 absDirection = abs(direction);
    float face = -1.0;
    if (absDirection.x > absDirection.z) {
      if (absDirection.x > absDirection.y)
        face = direction.x > 0.0 ? 0.0 : 3.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    } else {
      if (absDirection.z > absDirection.y)
        face = direction.z > 0.0 ? 2.0 : 5.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    }
    return face;
}
vec2 getUV(vec3 direction, float face) {
    vec2 uv;
    if (face == 0.0) {
      uv = vec2(direction.z, direction.y) / abs(direction.x);    } else if (face == 1.0) {
      uv = vec2(-direction.x, -direction.z) / abs(direction.y);    } else if (face == 2.0) {
      uv = vec2(-direction.x, direction.y) / abs(direction.z);    } else if (face == 3.0) {
      uv = vec2(-direction.z, direction.y) / abs(direction.x);    } else if (face == 4.0) {
      uv = vec2(-direction.x, direction.z) / abs(direction.y);    } else {
      uv = vec2(direction.x, direction.y) / abs(direction.z);    }
    return 0.5 * (uv + 1.0);
}
vec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {
  float face = getFace(direction);
  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);
  mipInt = max(mipInt, cubeUV_minMipLevel);
  float faceSize = exp2(mipInt);
  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);
  vec2 uv = getUV(direction, face) * (faceSize - 1.0);
  vec2 f = fract(uv);
  uv += 0.5 - f;
  if (face > 2.0) {
    uv.y += faceSize;
    face -= 3.0;
  }
  uv.x += face * faceSize;
  if(mipInt < cubeUV_maxMipLevel){
    uv.y += 2.0 * cubeUV_maxTileSize;
  }
  uv.y += filterInt * 2.0 * cubeUV_minTileSize;
  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);
  uv *= texelSize;
  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x += texelSize;
  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.y += texelSize;
  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x -= texelSize;
  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  vec3 tm = mix(tl, tr, f.x);
  vec3 bm = mix(bl, br, f.x);
  return mix(tm, bm, f.y);
}
#define r0 1.0
#define v0 0.339
#define m0 -2.0
#define r1 0.8
#define v1 0.276
#define m1 -1.0
#define r4 0.4
#define v4 0.046
#define m4 2.0
#define r5 0.305
#define v5 0.016
#define m5 3.0
#define r6 0.21
#define v6 0.0038
#define m6 4.0
float roughnessToMip(float roughness) {
  float mip = 0.0;
  if (roughness >= r1) {
    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;
  } else if (roughness >= r4) {
    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;
  } else if (roughness >= r5) {
    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;
  } else if (roughness >= r6) {
    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;
  } else {
    mip = -2.0 * log2(1.16 * roughness);  }
  return mip;
}
vec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {
  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);
  float mipF = fract(mip);
  float mipInt = floor(mip);
  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);
  if (mipF == 0.0) {
    return vec4(color0, 1.0);
  } else {
    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);
    return vec4(mix(color0, color1, mipF), 1.0);
  }
}
#endif`,defaultnormal_vertex:`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex:`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex:`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment:`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment:`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value )  {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,envmap_fragment:`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		}  else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#elif defined( ENVMAP_TYPE_EQUIREC )
		reflectVec = normalize( reflectVec );
		vec2 sampleUV = equirectUv( reflectVec );
		vec4 envColor = texture2D( envMap, sampleUV );
	#elif defined( ENVMAP_TYPE_SPHERE )
		reflectVec = normalize( reflectVec );
		vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );
		vec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment:`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment:`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex:`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_physical_pars_fragment:`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
		  vec3 reflectVec = reflect( -viewDir, normal );
		  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
		  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#elif defined( ENVMAP_TYPE_EQUIREC )
			vec2 sampleUV = equirectUv( reflectVec );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_SPHERE )
			vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,envmap_vertex:`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) { 
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex:`#ifdef USE_FOG
	fogDepth = -mvPosition.z;
#endif`,fog_pars_vertex:`#ifdef USE_FOG
	varying float fogDepth;
#endif`,fog_fragment:`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment:`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment:`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,lightmap_fragment:`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,lightmap_pars_fragment:`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_vertex:`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,lights_pars_begin:`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
		struct PointLightShadow {
			float shadowBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,lights_toon_fragment:`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_toon_pars_fragment:`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,lights_phong_fragment:`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment:`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,lights_physical_fragment:`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,lights_physical_pars_fragment:`struct PhysicalMaterial {
	vec3	diffuseColor;
	float	specularRoughness;
	vec3	specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin:`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps:`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,lights_fragment_end:`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment:`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment:`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex:`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex:`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment:`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,map_pars_fragment:`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment:`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment:`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment:`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment:`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphnormal_vertex:`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,morphtarget_pars_vertex:`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
	uniform float morphTargetInfluences[ 8 ];
	#else
	uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,morphtarget_vertex:`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
	transformed += morphTarget4 * morphTargetInfluences[ 4 ];
	transformed += morphTarget5 * morphTargetInfluences[ 5 ];
	transformed += morphTarget6 * morphTargetInfluences[ 6 ];
	transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,normal_fragment_begin:`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			bitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps:`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif`,normalmap_pars_fragment:`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		float scale = sign( st1.t * st0.s - st0.t * st1.s );
		vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
		vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
		vec3 N = normalize( surf_norm );
		mat3 tsn = mat3( S, T, N );
		mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		return normalize( tsn * mapN );
	}
#endif`,clearcoat_normal_fragment_begin:`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps:`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );
	#endif
#endif`,clearcoat_pars_fragment:`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,packing:`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,premultiplied_alpha_fragment:`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex:`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment:`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment:`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment:`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment:`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,shadowmask_pars_fragment:`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex:`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex:`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,skinning_vertex:`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex:`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment:`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment:`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment:`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment:`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
uniform float toneMappingWhitePoint;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )
vec3 Uncharted2ToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );
}`,uv_pars_fragment:`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,uv_pars_vertex:`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uv_vertex:`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uv2_vertex:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,worldpos_vertex:`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,background_frag:`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,cube_frag:`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,depth_vert:`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshbasic_vert:`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSPARENCY
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSPARENCY
	uniform float transparency;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSPARENCY
		diffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,normal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,normal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,shadow_vert:`#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`},hm={basic:{uniforms:cr([so.common,so.specularmap,so.envmap,so.aomap,so.lightmap,so.fog]),vertexShader:Rl.meshbasic_vert,fragmentShader:Rl.meshbasic_frag},lambert:{uniforms:cr([so.common,so.specularmap,so.envmap,so.aomap,so.lightmap,so.emissivemap,so.fog,so.lights,{emissive:{value:new At(0)}}]),vertexShader:Rl.meshlambert_vert,fragmentShader:Rl.meshlambert_frag},phong:{uniforms:cr([so.common,so.specularmap,so.envmap,so.aomap,so.lightmap,so.emissivemap,so.bumpmap,so.normalmap,so.displacementmap,so.fog,so.lights,{emissive:{value:new At(0)},specular:{value:new At(1118481)},shininess:{value:30}}]),vertexShader:Rl.meshphong_vert,fragmentShader:Rl.meshphong_frag},standard:{uniforms:cr([so.common,so.envmap,so.aomap,so.lightmap,so.emissivemap,so.bumpmap,so.normalmap,so.displacementmap,so.roughnessmap,so.metalnessmap,so.fog,so.lights,{emissive:{value:new At(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Rl.meshphysical_vert,fragmentShader:Rl.meshphysical_frag},toon:{uniforms:cr([so.common,so.specularmap,so.aomap,so.lightmap,so.emissivemap,so.bumpmap,so.normalmap,so.displacementmap,so.gradientmap,so.fog,so.lights,{emissive:{value:new At(0)},specular:{value:new At(1118481)},shininess:{value:30}}]),vertexShader:Rl.meshtoon_vert,fragmentShader:Rl.meshtoon_frag},matcap:{uniforms:cr([so.common,so.bumpmap,so.normalmap,so.displacementmap,so.fog,{matcap:{value:null}}]),vertexShader:Rl.meshmatcap_vert,fragmentShader:Rl.meshmatcap_frag},points:{uniforms:cr([so.points,so.fog]),vertexShader:Rl.points_vert,fragmentShader:Rl.points_frag},dashed:{uniforms:cr([so.common,so.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Rl.linedashed_vert,fragmentShader:Rl.linedashed_frag},depth:{uniforms:cr([so.common,so.displacementmap]),vertexShader:Rl.depth_vert,fragmentShader:Rl.depth_frag},normal:{uniforms:cr([so.common,so.bumpmap,so.normalmap,so.displacementmap,{opacity:{value:1}}]),vertexShader:Rl.normal_vert,fragmentShader:Rl.normal_frag},sprite:{uniforms:cr([so.sprite,so.fog]),vertexShader:Rl.sprite_vert,fragmentShader:Rl.sprite_frag},background:{uniforms:{uvTransform:{value:new Et},t2D:{value:null}},vertexShader:Rl.background_vert,fragmentShader:Rl.background_frag},cube:{uniforms:cr([so.envmap,{opacity:{value:1}}]),vertexShader:Rl.cube_vert,fragmentShader:Rl.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Rl.equirect_vert,fragmentShader:Rl.equirect_frag},distanceRGBA:{uniforms:cr([so.common,so.displacementmap,{referencePosition:{value:new Ie},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Rl.distanceRGBA_vert,fragmentShader:Rl.distanceRGBA_frag},shadow:{uniforms:cr([so.lights,so.fog,{color:{value:new At(0)},opacity:{value:1}}]),vertexShader:Rl.shadow_vert,fragmentShader:Rl.shadow_frag}};hm.physical={uniforms:cr([hm.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new $e(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new At(0)},transparency:{value:0}}]),vertexShader:Rl.meshphysical_vert,fragmentShader:Rl.meshphysical_frag},Vn.prototype=Ge(Xt.prototype),Vn.prototype.constructor=Vn,Vn.prototype.isCubeTexture=!0,Object.defineProperty(Vn.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),_n.prototype=Ge(Xt.prototype),_n.prototype.constructor=_n,_n.prototype.isDataTexture2DArray=!0,vo.prototype=Ge(Xt.prototype),vo.prototype.constructor=vo,vo.prototype.isDataTexture3D=!0;var Zg=new Xt,l1=new _n,O0=new vo,u1=new Vn,R0=[],Jg=[],Gd=new Float32Array(16),Qg=new Float32Array(9),c1=new Float32Array(4);La.prototype.updateCache=function(i){var e=this.cache;i instanceof Float32Array&&e.length!==i.length&&(this.cache=new Float32Array(i.length)),Je(e,i)},Vf.prototype.setValue=function(i,e,r){for(var s=this.seq,c=0,v=s.length;c!==v;++c){var x=s[c];x.setValue(i,e[x.id],r)}};var L0=/([\w\d_]+)(\])?(\[|\.)?/g;zl.prototype.setValue=function(i,e,r,s){e=this.map[e],e!==void 0&&e.setValue(i,r,s)},zl.prototype.setOptional=function(i,e,r){e=e[r],e!==void 0&&this.setValue(i,r,e)},zl.upload=function(i,e,r,s){for(var c=0,v=e.length;c!==v;++c){var x=e[c],w=r[x.id];w.needsUpdate!==!1&&x.setValue(i,w.value,s)}},zl.seqWithValue=function(i,e){for(var r=[],s=0,c=i.length;s!==c;++s){var v=i[s];v.id in e&&r.push(v)}return r};var mx=0,D0=/^[ \t]*#include +<([\w\d./]+)>/gm,N0=/#pragma unroll_loop[\s]+?for \( int i = (\d+); i < (\d+); i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Cy=/#pragma unroll_loop_start[\s]+?for \( int i = (\d+); i < (\d+); i \+\+ \) \{([\s\S]+?)(?=\})\}[\s]+?#pragma unroll_loop_end/g,Ev=0;Qc.prototype=Ge(Kr.prototype),Qc.prototype.constructor=Qc,Qc.prototype.isMeshDepthMaterial=!0,Qc.prototype.copy=function(i){return Kr.prototype.copy.call(this,i),this.depthPacking=i.depthPacking,this.skinning=i.skinning,this.morphTargets=i.morphTargets,this.map=i.map,this.alphaMap=i.alphaMap,this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this},od.prototype=Ge(Kr.prototype),od.prototype.constructor=od,od.prototype.isMeshDistanceMaterial=!0,od.prototype.copy=function(i){return Kr.prototype.copy.call(this,i),this.referencePosition.copy(i.referencePosition),this.nearDistance=i.nearDistance,this.farDistance=i.farDistance,this.skinning=i.skinning,this.morphTargets=i.morphTargets,this.map=i.map,this.alphaMap=i.alphaMap,this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this},Ni.prototype=Xe(Ge(Gi.prototype),{constructor:Ni,isArrayCamera:!0}),Uh.prototype=Xe(Ge(pr.prototype),{constructor:Uh,isGroup:!0}),Xe(Td.prototype,{constructor:Td,getTargetRaySpace:function(){return this._targetRay===null&&(this._targetRay=new Uh,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return this._grip===null&&(this._grip=new Uh,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this},update:function(e,r,s){var c=null,v=null,x=this._targetRay,w=this._grip;return e&&(x!==null&&(c=r.getPose(e.targetRaySpace,s),c!==null&&(x.matrix.fromArray(c.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale))),w!==null&&e.gripSpace&&(v=r.getPose(e.gripSpace,s),v!==null&&(w.matrix.fromArray(v.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale)))),x!==null&&(x.visible=c!==null),w!==null&&(w.visible=v!==null),this}}),Xe(bp.prototype,Vr.prototype),Xe(Qd.prototype,{isFogExp2:!0,clone:function(){return new Qd(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Xe(sd.prototype,{isFog:!0,clone:function(){return new sd(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(ah.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}}),Xe(ah.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,r,s){e*=this.stride,s*=r.stride;for(var c=0,v=this.stride;c<v;c++)this.array[e+c]=r.array[s+c];return this},set:function(e,r){return r===void 0&&(r=0),this.array.set(e,r),this},clone:function(){return new this.constructor().copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}});var Tv=new Ie;Ia(qd.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Xe(qd.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(var r=0,s=this.data.count;r<s;r++)Tv.x=this.getX(r),Tv.y=this.getY(r),Tv.z=this.getZ(r),Tv.applyMatrix4(e),this.setXYZ(r,Tv.x,Tv.y,Tv.z);return this},setX:function(e,r){return this.data.array[e*this.data.stride+this.offset]=r,this},setY:function(e,r){return this.data.array[e*this.data.stride+this.offset+1]=r,this},setZ:function(e,r){return this.data.array[e*this.data.stride+this.offset+2]=r,this},setW:function(e,r){return this.data.array[e*this.data.stride+this.offset+3]=r,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,r,s){return e=e*this.data.stride+this.offset,this.data.array[e+0]=r,this.data.array[e+1]=s,this},setXYZ:function(e,r,s,c){return e=e*this.data.stride+this.offset,this.data.array[e+0]=r,this.data.array[e+1]=s,this.data.array[e+2]=c,this},setXYZW:function(e,r,s,c,v){return e=e*this.data.stride+this.offset,this.data.array[e+0]=r,this.data.array[e+1]=s,this.data.array[e+2]=c,this.data.array[e+3]=v,this},clone:function(){for(var e=[],r=0;r<this.count;r++)for(var s=r*this.data.stride+this.offset,c=0;c<this.itemSize;c++)e.push(this.data.array[s+c]);return new Nn(new this.array.constructor(e),this.itemSize,this.normalized)},toJSON:function(){for(var e=[],r=0;r<this.count;r++)for(var s=r*this.data.stride+this.offset,c=0;c<this.itemSize;c++)e.push(this.data.array[s+c]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}}),_h.prototype=Ge(Kr.prototype),_h.prototype.constructor=_h,_h.prototype.isSpriteMaterial=!0,_h.prototype.copy=function(i){return Kr.prototype.copy.call(this,i),this.color.copy(i.color),this.map=i.map,this.alphaMap=i.alphaMap,this.rotation=i.rotation,this.sizeAttenuation=i.sizeAttenuation,this};var Mg,Qv=new Ie,qv=new Ie,$v=new Ie,_v=new $e,qg=new $e,F0=new ht,eg=new Ie,tg=new Ie,Eg=new Ie,f1=new $e,Ay=new $e,wy=new $e;us.prototype=Xe(Ge(pr.prototype),{constructor:us,isSprite:!0,raycast:function(e,r){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),qv.setFromMatrixScale(this.matrixWorld),F0.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),$v.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&qv.multiplyScalar(-$v.z);var s=this.material.rotation;if(s!==0)var c=Math.cos(s),v=Math.sin(s);s=this.center,ze(eg.set(-.5,-.5,0),$v,s,qv,v,c),ze(tg.set(.5,-.5,0),$v,s,qv,v,c),ze(Eg.set(.5,.5,0),$v,s,qv,v,c),f1.set(0,0),Ay.set(1,0),wy.set(1,1);var x=e.ray.intersectTriangle(eg,tg,Eg,!1,Qv);x===null&&(ze(tg.set(-.5,.5,0),$v,s,qv,v,c),Ay.set(0,1),x=e.ray.intersectTriangle(eg,Eg,tg,!1,Qv),x===null)||(v=e.ray.origin.distanceTo(Qv),v<e.near||v>e.far||r.push({distance:v,point:Qv.clone(),uv:dt.getUV(Qv,eg,tg,Eg,f1,Ay,wy,new $e),face:null,object:this}))},clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return pr.prototype.copy.call(this,e),e.center!==void 0&&this.center.copy(e.center),this}});var B0=new Ie,by=new Ie;Le.prototype=Xe(Ge(pr.prototype),{constructor:Le,isLOD:!0,copy:function(e){pr.prototype.copy.call(this,e,!1);for(var r=e.levels,s=0,c=r.length;s<c;s++){var v=r[s];this.addLevel(v.object.clone(),v.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,r){r===void 0&&(r=0),r=Math.abs(r);for(var s=this.levels,c=0;c<s.length&&!(r<s[c].distance);c++);return s.splice(c,0,{distance:r,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){var r=this.levels;if(0<r.length){for(var s=1,c=r.length;s<c&&!(e<r[s].distance);s++);return r[s-1].object}return null},raycast:function(e,r){if(0<this.levels.length){B0.setFromMatrixPosition(this.matrixWorld);var s=e.ray.origin.distanceTo(B0);this.getObjectForDistance(s).raycast(e,r)}},update:function(e){var r=this.levels;if(1<r.length){B0.setFromMatrixPosition(e.matrixWorld),by.setFromMatrixPosition(this.matrixWorld),e=B0.distanceTo(by)/e.zoom,r[0].object.visible=!0;for(var s=1,c=r.length;s<c&&e>=r[s].distance;s++)r[s-1].object.visible=!1,r[s].object.visible=!0;for(this._currentLevel=s-1;s<c;s++)r[s].object.visible=!1}},toJSON:function(e){e=pr.prototype.toJSON.call(this,e),this.autoUpdate===!1&&(e.object.autoUpdate=!1),e.object.levels=[];for(var r=this.levels,s=0,c=r.length;s<c;s++){var v=r[s];e.object.levels.push({object:v.object.uuid,distance:v.distance})}return e}}),it.prototype=Xe(Ge(ei.prototype),{constructor:it,isSkinnedMesh:!0,bind:function(e,r){this.skeleton=e,r===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),r=this.matrixWorld),this.bindMatrix.copy(r),this.bindMatrixInverse.getInverse(r)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new et,r=this.geometry.attributes.skinWeight,s=0,c=r.count;s<c;s++){e.x=r.getX(s),e.y=r.getY(s),e.z=r.getZ(s),e.w=r.getW(s);var v=1/e.manhattanLength();v!==Infinity?e.multiplyScalar(v):e.set(1,0,0,0),r.setXYZW(s,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){ei.prototype.updateMatrixWorld.call(this,e),this.bindMode==="attached"?this.bindMatrixInverse.getInverse(this.matrixWorld):this.bindMode==="detached"?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)},boneTransform:function(){var i=new Ie,e=new et,r=new et,s=new Ie,c=new ht;return function(v,x){var w=this.skeleton,I=this.geometry;for(e.fromBufferAttribute(I.attributes.skinIndex,v),r.fromBufferAttribute(I.attributes.skinWeight,v),i.fromBufferAttribute(I.attributes.position,v).applyMatrix4(this.bindMatrix),x.set(0,0,0),v=0;4>v;v++)if(I=r.getComponent(v),I!==0){var j=e.getComponent(v);c.multiplyMatrices(w.bones[j].matrixWorld,w.boneInverses[j]),x.addScaledVector(s.copy(i).applyMatrix4(c),I)}return x.applyMatrix4(this.bindMatrixInverse)}}()});var h1=new ht,d1=new ht;Xe(Qe.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,r=this.bones.length;e<r;e++){var s=new ht;this.bones[e]&&s.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(s)}},pose:function(){var e,r,s=0;for(r=this.bones.length;s<r;s++)(e=this.bones[s])&&e.matrixWorld.getInverse(this.boneInverses[s]);for(s=0,r=this.bones.length;s<r;s++)(e=this.bones[s])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){for(var e=this.bones,r=this.boneInverses,s=this.boneMatrices,c=this.boneTexture,v=0,x=e.length;v<x;v++)h1.multiplyMatrices(e[v]?e[v].matrixWorld:d1,r[v]),h1.toArray(s,16*v);c!==void 0&&(c.needsUpdate=!0)},clone:function(){return new Qe(this.bones,this.boneInverses)},getBoneByName:function(e){for(var r=0,s=this.bones.length;r<s;r++){var c=this.bones[r];if(c.name===e)return c}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}}),Gt.prototype=Xe(Ge(pr.prototype),{constructor:Gt,isBone:!0});var Sy=new ht,My=new ht,j0=[],Tg=new ei;yt.prototype=Xe(Ge(ei.prototype),{constructor:yt,isInstancedMesh:!0,getMatrixAt:function(e,r){r.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,r){var s=this.matrixWorld,c=this.count;if(Tg.geometry=this.geometry,Tg.material=this.material,Tg.material!==void 0)for(var v=0;v<c;v++){this.getMatrixAt(v,Sy),My.multiplyMatrices(s,Sy),Tg.matrixWorld=My,Tg.raycast(e,j0);for(var x=0,w=j0.length;x<w;x++){var I=j0[x];I.instanceId=v,I.object=this,r.push(I)}j0.length=0}},setMatrixAt:function(e,r){r.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){}}),mr.prototype=Ge(Kr.prototype),mr.prototype.constructor=mr,mr.prototype.isLineBasicMaterial=!0,mr.prototype.copy=function(i){return Kr.prototype.copy.call(this,i),this.color.copy(i.color),this.linewidth=i.linewidth,this.linecap=i.linecap,this.linejoin=i.linejoin,this.morphTargets=i.morphTargets,this};var p1=new Ie,Ey=new Ie,Ty=new ht,$g=new _r,z0=new fr;vr.prototype=Xe(Ge(pr.prototype),{constructor:vr,isLine:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(e.index===null){for(var r=e.attributes.position,s=[0],c=1,v=r.count;c<v;c++)p1.fromBufferAttribute(r,c-1),Ey.fromBufferAttribute(r,c),s[c]=s[c-1],s[c]+=p1.distanceTo(Ey);e.setAttribute("lineDistance",new hr(s,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry)for(r=e.vertices,s=e.lineDistances,s[0]=0,c=1,v=r.length;c<v;c++)s[c]=s[c-1],s[c]+=r[c-1].distanceTo(r[c]);return this},raycast:function(e,r){var s=this.geometry,c=this.matrixWorld,v=e.params.Line.threshold;if(s.boundingSphere===null&&s.computeBoundingSphere(),z0.copy(s.boundingSphere),z0.applyMatrix4(c),z0.radius+=v,e.ray.intersectsSphere(z0)!==!1){Ty.getInverse(c),$g.copy(e.ray).applyMatrix4(Ty),c=v/((this.scale.x+this.scale.y+this.scale.z)/3),c*=c;var x=new Ie,w=new Ie;v=new Ie;var I=new Ie,j=this&&this.isLineSegments?2:1;if(s.isBufferGeometry){var G=s.index,W=s.attributes.position.array;if(G!==null){G=G.array,s=0;for(var ae=G.length-1;s<ae;s+=j){var ue=G[s+1];x.fromArray(W,3*G[s]),w.fromArray(W,3*ue),ue=$g.distanceSqToSegment(x,w,I,v),ue>c||(I.applyMatrix4(this.matrixWorld),ue=e.ray.origin.distanceTo(I),ue<e.near||ue>e.far||r.push({distance:ue,point:v.clone().applyMatrix4(this.matrixWorld),index:s,face:null,faceIndex:null,object:this}))}}else for(s=0,ae=W.length/3-1;s<ae;s+=j)x.fromArray(W,3*s),w.fromArray(W,3*s+3),ue=$g.distanceSqToSegment(x,w,I,v),ue>c||(I.applyMatrix4(this.matrixWorld),ue=e.ray.origin.distanceTo(I),ue<e.near||ue>e.far||r.push({distance:ue,point:v.clone().applyMatrix4(this.matrixWorld),index:s,face:null,faceIndex:null,object:this}))}else if(s.isGeometry)for(x=s.vertices,w=x.length,s=0;s<w-1;s+=j)ue=$g.distanceSqToSegment(x[s],x[s+1],I,v),ue>c||(I.applyMatrix4(this.matrixWorld),ue=e.ray.origin.distanceTo(I),ue<e.near||ue>e.far||r.push({distance:ue,point:v.clone().applyMatrix4(this.matrixWorld),index:s,face:null,faceIndex:null,object:this}))}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){e=e.morphAttributes;var r=Vc(e);if(0<r.length){var s=e[r[0]];if(s!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,r=s.length;e<r;e++){var c=s[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=e}}}else e=e.morphTargets,e!==void 0&&0<e.length&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var U0=new Ie,k0=new Ie;Ar.prototype=Xe(Ge(vr.prototype),{constructor:Ar,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(e.index===null){for(var r=e.attributes.position,s=[],c=0,v=r.count;c<v;c+=2)U0.fromBufferAttribute(r,c),k0.fromBufferAttribute(r,c+1),s[c]=c===0?0:s[c-1],s[c+1]=s[c]+U0.distanceTo(k0);e.setAttribute("lineDistance",new hr(s,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry)for(r=e.vertices,s=e.lineDistances,c=0,v=r.length;c<v;c+=2)U0.copy(r[c]),k0.copy(r[c+1]),s[c]=c===0?0:s[c-1],s[c+1]=s[c]+U0.distanceTo(k0);return this}}),sn.prototype=Xe(Ge(vr.prototype),{constructor:sn,isLineLoop:!0}),bi.prototype=Ge(Kr.prototype),bi.prototype.constructor=bi,bi.prototype.isPointsMaterial=!0,bi.prototype.copy=function(i){return Kr.prototype.copy.call(this,i),this.color.copy(i.color),this.map=i.map,this.alphaMap=i.alphaMap,this.size=i.size,this.sizeAttenuation=i.sizeAttenuation,this.morphTargets=i.morphTargets,this};var m1=new ht,_y=new _r,A=new fr,O=new Ie;nn.prototype=Xe(Ge(pr.prototype),{constructor:nn,isPoints:!0,raycast:function(e,r){var s=this.geometry,c=this.matrixWorld,v=e.params.Points.threshold;if(s.boundingSphere===null&&s.computeBoundingSphere(),A.copy(s.boundingSphere),A.applyMatrix4(c),A.radius+=v,e.ray.intersectsSphere(A)!==!1)if(m1.getInverse(c),_y.copy(e.ray).applyMatrix4(m1),v/=(this.scale.x+this.scale.y+this.scale.z)/3,v*=v,s.isBufferGeometry){var x=s.index;if(s=s.attributes.position.array,x!==null){var w=x.array;x=0;for(var I=w.length;x<I;x++){var j=w[x];O.fromArray(s,3*j),Ti(O,j,v,c,e,r,this)}}else for(x=0,w=s.length/3;x<w;x++)O.fromArray(s,3*x),Ti(O,x,v,c,e,r,this)}else for(s=s.vertices,x=0,w=s.length;x<w;x++)Ti(s[x],x,v,c,e,r,this)},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){e=e.morphAttributes;var r=Vc(e);if(0<r.length){var s=e[r[0]];if(s!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,r=s.length;e<r;e++){var c=s[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=e}}}else e=e.morphTargets,e!==void 0&&0<e.length&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),yo.prototype=Xe(Ge(Xt.prototype),{constructor:yo,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),mn.prototype=Ge(Xt.prototype),mn.prototype.constructor=mn,mn.prototype.isCompressedTexture=!0,ca.prototype=Ge(Xt.prototype),ca.prototype.constructor=ca,ca.prototype.isCanvasTexture=!0,co.prototype=Ge(Xt.prototype),co.prototype.constructor=co,co.prototype.isDepthTexture=!0,is.prototype=Ge(kr.prototype),is.prototype.constructor=is,Yi.prototype=Ge(ui.prototype),Yi.prototype.constructor=Yi,fa.prototype=Ge(kr.prototype),fa.prototype.constructor=fa,ha.prototype=Ge(ui.prototype),ha.prototype.constructor=ha,Da.prototype=Ge(kr.prototype),Da.prototype.constructor=Da,Xi.prototype=Ge(ui.prototype),Xi.prototype.constructor=Xi,fo.prototype=Ge(Da.prototype),fo.prototype.constructor=fo,Qa.prototype=Ge(ui.prototype),Qa.prototype.constructor=Qa,po.prototype=Ge(Da.prototype),po.prototype.constructor=po,ws.prototype=Ge(ui.prototype),ws.prototype.constructor=ws,os.prototype=Ge(Da.prototype),os.prototype.constructor=os,Ls.prototype=Ge(ui.prototype),Ls.prototype.constructor=Ls,oa.prototype=Ge(Da.prototype),oa.prototype.constructor=oa,Lo.prototype=Ge(ui.prototype),Lo.prototype.constructor=Lo,wa.prototype=Ge(kr.prototype),wa.prototype.constructor=wa,wa.prototype.toJSON=function(){var i=kr.prototype.toJSON.call(this);return i.path=this.parameters.path.toJSON(),i},ba.prototype=Ge(ui.prototype),ba.prototype.constructor=ba,ho.prototype=Ge(kr.prototype),ho.prototype.constructor=ho,qa.prototype=Ge(ui.prototype),qa.prototype.constructor=qa,da.prototype=Ge(kr.prototype),da.prototype.constructor=da;var Y={triangulate:function(e,r,s){s=s||2;var c=r&&r.length,v=c?r[0]*s:e.length,x=ta(e,0,v,s,!0),w=[];if(!x||x.next===x.prev)return w;var I;if(c){var j=s;c=[];var G,W=0;for(G=r.length;W<G;W++){var ae=r[W]*j,ue=W<G-1?r[W+1]*j:e.length;ae=ta(e,ae,ue,j,!1),ae===ae.next&&(ae.steiner=!0),c.push(Bu(ae))}for(c.sort(Uo),W=0;W<c.length;W++)j=c[W],r=x,(r=nc(j,r))&&(j=fs(r,j),Ka(r,r.next),Ka(j,j.next)),x=Ka(x,x.next)}if(e.length>80*s){var be=I=e[0],Me=c=e[1];for(j=s;j<v;j+=s)W=e[j],r=e[j+1],W<be&&(be=W),r<Me&&(Me=r),W>I&&(I=W),r>c&&(c=r);I=Math.max(I-be,c-Me),I=I!==0?1/I:0}return Za(x,w,s,be,Me,I),w}},he={area:function(e){for(var r=e.length,s=0,c=r-1,v=0;v<r;c=v++)s+=e[c].x*e[v].y-e[v].x*e[c].y;return .5*s},isClockWise:function(e){return 0>he.area(e)},triangulateShape:function(e,r){var s=[],c=[],v=[];Nl(e),zu(s,e);var x=e.length;for(r.forEach(Nl),e=0;e<r.length;e++)c.push(x),x+=r[e].length,zu(s,r[e]);for(r=Y.triangulate(s,c),e=0;e<r.length;e+=3)v.push(r.slice(e,e+3));return v}};bs.prototype=Ge(ui.prototype),bs.prototype.constructor=bs,bs.prototype.toJSON=function(){var i=ui.prototype.toJSON.call(this);return Yt(this.parameters.shapes,this.parameters.options,i)},Uu.prototype=Ge(kr.prototype),Uu.prototype.constructor=Uu,Uu.prototype.toJSON=function(){var i=kr.prototype.toJSON.call(this);return Yt(this.parameters.shapes,this.parameters.options,i)};var Ne={generateTopUV:function(e,r,s,c,v){e=r[3*c],c=r[3*c+1];var x=r[3*v];return v=r[3*v+1],[new $e(r[3*s],r[3*s+1]),new $e(e,c),new $e(x,v)]},generateSideWallUV:function(e,r,s,c,v,x){e=r[3*s];var w=r[3*s+1];s=r[3*s+2];var I=r[3*c],j=r[3*c+1];c=r[3*c+2];var G=r[3*v],W=r[3*v+1];v=r[3*v+2];var ae=r[3*x],ue=r[3*x+1];return r=r[3*x+2],.01>Math.abs(w-j)?[new $e(e,1-s),new $e(I,1-c),new $e(G,1-v),new $e(ae,1-r)]:[new $e(w,1-s),new $e(j,1-c),new $e(W,1-v),new $e(ue,1-r)]}};Ur.prototype=Ge(ui.prototype),Ur.prototype.constructor=Ur,Lr.prototype=Ge(Uu.prototype),Lr.prototype.constructor=Lr,zi.prototype=Ge(ui.prototype),zi.prototype.constructor=zi,Mo.prototype=Ge(kr.prototype),Mo.prototype.constructor=Mo,Ta.prototype=Ge(ui.prototype),Ta.prototype.constructor=Ta,Ss.prototype=Ge(kr.prototype),Ss.prototype.constructor=Ss,Go.prototype=Ge(ui.prototype),Go.prototype.constructor=Go,Fi.prototype=Ge(kr.prototype),Fi.prototype.constructor=Fi,Zo.prototype=Ge(ui.prototype),Zo.prototype.constructor=Zo,Zo.prototype.toJSON=function(){var i=ui.prototype.toJSON.call(this);return Kl(this.parameters.shapes,i)},pa.prototype=Ge(kr.prototype),pa.prototype.constructor=pa,pa.prototype.toJSON=function(){var i=kr.prototype.toJSON.call(this);return Kl(this.parameters.shapes,i)},oc.prototype=Ge(kr.prototype),oc.prototype.constructor=oc,ef.prototype=Ge(ui.prototype),ef.prototype.constructor=ef,cu.prototype=Ge(kr.prototype),cu.prototype.constructor=cu,Gf.prototype=Ge(ef.prototype),Gf.prototype.constructor=Gf,Ds.prototype=Ge(cu.prototype),Ds.prototype.constructor=Ds,Yf.prototype=Ge(ui.prototype),Yf.prototype.constructor=Yf,Xf.prototype=Ge(kr.prototype),Xf.prototype.constructor=Xf;var Ze=nl({__proto__:null,WireframeGeometry:is,ParametricGeometry:Yi,ParametricBufferGeometry:fa,TetrahedronGeometry:Xi,TetrahedronBufferGeometry:fo,OctahedronGeometry:Qa,OctahedronBufferGeometry:po,IcosahedronGeometry:ws,IcosahedronBufferGeometry:os,DodecahedronGeometry:Ls,DodecahedronBufferGeometry:oa,PolyhedronGeometry:ha,PolyhedronBufferGeometry:Da,TubeGeometry:Lo,TubeBufferGeometry:wa,TorusKnotGeometry:ba,TorusKnotBufferGeometry:ho,TorusGeometry:qa,TorusBufferGeometry:da,TextGeometry:Ur,TextBufferGeometry:Lr,SphereGeometry:zi,SphereBufferGeometry:Mo,RingGeometry:Ta,RingBufferGeometry:Ss,PlaneGeometry:ou,PlaneBufferGeometry:ea,LatheGeometry:Go,LatheBufferGeometry:Fi,ShapeGeometry:Zo,ShapeBufferGeometry:pa,ExtrudeGeometry:bs,ExtrudeBufferGeometry:Uu,EdgesGeometry:oc,ConeGeometry:Gf,ConeBufferGeometry:Ds,CylinderGeometry:ef,CylinderBufferGeometry:cu,CircleGeometry:Yf,CircleBufferGeometry:Xf,BoxGeometry:px,BoxBufferGeometry:P0});vc.prototype=Ge(Kr.prototype),vc.prototype.constructor=vc,vc.prototype.isShadowMaterial=!0,vc.prototype.copy=function(i){return Kr.prototype.copy.call(this,i),this.color.copy(i.color),this},Kf.prototype=Ge($o.prototype),Kf.prototype.constructor=Kf,Kf.prototype.isRawShaderMaterial=!0,sh.prototype=Ge(Kr.prototype),sh.prototype.constructor=sh,sh.prototype.isMeshStandardMaterial=!0,sh.prototype.copy=function(i){return Kr.prototype.copy.call(this,i),this.defines={STANDARD:""},this.color.copy(i.color),this.roughness=i.roughness,this.metalness=i.metalness,this.map=i.map,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.emissive.copy(i.emissive),this.emissiveMap=i.emissiveMap,this.emissiveIntensity=i.emissiveIntensity,this.bumpMap=i.bumpMap,this.bumpScale=i.bumpScale,this.normalMap=i.normalMap,this.normalMapType=i.normalMapType,this.normalScale.copy(i.normalScale),this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.roughnessMap=i.roughnessMap,this.metalnessMap=i.metalnessMap,this.alphaMap=i.alphaMap,this.envMap=i.envMap,this.envMapIntensity=i.envMapIntensity,this.refractionRatio=i.refractionRatio,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this.skinning=i.skinning,this.morphTargets=i.morphTargets,this.morphNormals=i.morphNormals,this.vertexTangents=i.vertexTangents,this},ld.prototype=Ge(sh.prototype),ld.prototype.constructor=ld,ld.prototype.isMeshPhysicalMaterial=!0,ld.prototype.copy=function(i){return sh.prototype.copy.call(this,i),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=i.clearcoat,this.clearcoatMap=i.clearcoatMap,this.clearcoatRoughness=i.clearcoatRoughness,this.clearcoatRoughnessMap=i.clearcoatRoughnessMap,this.clearcoatNormalMap=i.clearcoatNormalMap,this.clearcoatNormalScale.copy(i.clearcoatNormalScale),this.reflectivity=i.reflectivity,this.sheen=i.sheen?(this.sheen||new At).copy(i.sheen):null,this.transparency=i.transparency,this},lh.prototype=Ge(Kr.prototype),lh.prototype.constructor=lh,lh.prototype.isMeshPhongMaterial=!0,lh.prototype.copy=function(i){return Kr.prototype.copy.call(this,i),this.color.copy(i.color),this.specular.copy(i.specular),this.shininess=i.shininess,this.map=i.map,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.emissive.copy(i.emissive),this.emissiveMap=i.emissiveMap,this.emissiveIntensity=i.emissiveIntensity,this.bumpMap=i.bumpMap,this.bumpScale=i.bumpScale,this.normalMap=i.normalMap,this.normalMapType=i.normalMapType,this.normalScale.copy(i.normalScale),this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.specularMap=i.specularMap,this.alphaMap=i.alphaMap,this.envMap=i.envMap,this.combine=i.combine,this.reflectivity=i.reflectivity,this.refractionRatio=i.refractionRatio,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this.skinning=i.skinning,this.morphTargets=i.morphTargets,this.morphNormals=i.morphNormals,this},_u.prototype=Ge(Kr.prototype),_u.prototype.constructor=_u,_u.prototype.isMeshToonMaterial=!0,_u.prototype.copy=function(i){return Kr.prototype.copy.call(this,i),this.color.copy(i.color),this.specular.copy(i.specular),this.shininess=i.shininess,this.map=i.map,this.gradientMap=i.gradientMap,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.emissive.copy(i.emissive),this.emissiveMap=i.emissiveMap,this.emissiveIntensity=i.emissiveIntensity,this.bumpMap=i.bumpMap,this.bumpScale=i.bumpScale,this.normalMap=i.normalMap,this.normalMapType=i.normalMapType,this.normalScale.copy(i.normalScale),this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.specularMap=i.specularMap,this.alphaMap=i.alphaMap,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this.skinning=i.skinning,this.morphTargets=i.morphTargets,this.morphNormals=i.morphNormals,this},yf.prototype=Ge(Kr.prototype),yf.prototype.constructor=yf,yf.prototype.isMeshNormalMaterial=!0,yf.prototype.copy=function(i){return Kr.prototype.copy.call(this,i),this.bumpMap=i.bumpMap,this.bumpScale=i.bumpScale,this.normalMap=i.normalMap,this.normalMapType=i.normalMapType,this.normalScale.copy(i.normalScale),this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.skinning=i.skinning,this.morphTargets=i.morphTargets,this.morphNormals=i.morphNormals,this},uh.prototype=Ge(Kr.prototype),uh.prototype.constructor=uh,uh.prototype.isMeshLambertMaterial=!0,uh.prototype.copy=function(i){return Kr.prototype.copy.call(this,i),this.color.copy(i.color),this.map=i.map,this.lightMap=i.lightMap,this.lightMapIntensity=i.lightMapIntensity,this.aoMap=i.aoMap,this.aoMapIntensity=i.aoMapIntensity,this.emissive.copy(i.emissive),this.emissiveMap=i.emissiveMap,this.emissiveIntensity=i.emissiveIntensity,this.specularMap=i.specularMap,this.alphaMap=i.alphaMap,this.envMap=i.envMap,this.combine=i.combine,this.reflectivity=i.reflectivity,this.refractionRatio=i.refractionRatio,this.wireframe=i.wireframe,this.wireframeLinewidth=i.wireframeLinewidth,this.wireframeLinecap=i.wireframeLinecap,this.wireframeLinejoin=i.wireframeLinejoin,this.skinning=i.skinning,this.morphTargets=i.morphTargets,this.morphNormals=i.morphNormals,this},gc.prototype=Ge(Kr.prototype),gc.prototype.constructor=gc,gc.prototype.isMeshMatcapMaterial=!0,gc.prototype.copy=function(i){return Kr.prototype.copy.call(this,i),this.defines={MATCAP:""},this.color.copy(i.color),this.matcap=i.matcap,this.map=i.map,this.bumpMap=i.bumpMap,this.bumpScale=i.bumpScale,this.normalMap=i.normalMap,this.normalMapType=i.normalMapType,this.normalScale.copy(i.normalScale),this.displacementMap=i.displacementMap,this.displacementScale=i.displacementScale,this.displacementBias=i.displacementBias,this.alphaMap=i.alphaMap,this.skinning=i.skinning,this.morphTargets=i.morphTargets,this.morphNormals=i.morphNormals,this},ac.prototype=Ge(mr.prototype),ac.prototype.constructor=ac,ac.prototype.isLineDashedMaterial=!0,ac.prototype.copy=function(i){return mr.prototype.copy.call(this,i),this.scale=i.scale,this.dashSize=i.dashSize,this.gapSize=i.gapSize,this};var It=nl({__proto__:null,ShadowMaterial:vc,SpriteMaterial:_h,RawShaderMaterial:Kf,ShaderMaterial:$o,PointsMaterial:bi,MeshPhysicalMaterial:ld,MeshStandardMaterial:sh,MeshPhongMaterial:lh,MeshToonMaterial:_u,MeshNormalMaterial:yf,MeshLambertMaterial:uh,MeshDepthMaterial:Qc,MeshDistanceMaterial:od,MeshBasicMaterial:ai,MeshMatcapMaterial:gc,LineDashedMaterial:ac,LineBasicMaterial:mr,Material:Kr}),Rt={arraySlice:function(e,r,s){return Rt.isTypedArray(e)?new e.constructor(e.subarray(r,s!==void 0?s:e.length)):e.slice(r,s)},convertArray:function(e,r,s){return!e||!s&&e.constructor===r?e:typeof r.BYTES_PER_ELEMENT=="number"?new r(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var r=e.length,s=Array(r),c=0;c!==r;++c)s[c]=c;return s.sort(function(v,x){return e[v]-e[x]}),s},sortedArray:function(e,r,s){for(var c=e.length,v=new e.constructor(c),x=0,w=0;w!==c;++x)for(var I=s[x]*r,j=0;j!==r;++j)v[w++]=e[I+j];return v},flattenJSON:function(e,r,s,c){for(var v=1,x=e[0];x!==void 0&&x[c]===void 0;)x=e[v++];if(x!==void 0){var w=x[c];if(w!==void 0)if(Array.isArray(w))do w=x[c],w!==void 0&&(r.push(x.time),s.push.apply(s,w)),x=e[v++];while(x!==void 0);else if(w.toArray!==void 0)do w=x[c],w!==void 0&&(r.push(x.time),w.toArray(s,s.length)),x=e[v++];while(x!==void 0);else do w=x[c],w!==void 0&&(r.push(x.time),s.push(w)),x=e[v++];while(x!==void 0)}},subclip:function(e,r,s,c,v){v=v||30,e=e.clone(),e.name=r;var x=[];for(r=0;r<e.tracks.length;++r){for(var w=e.tracks[r],I=w.getValueSize(),j=[],G=[],W=0;W<w.times.length;++W){var ae=w.times[W]*v;if(!(ae<s||ae>=c))for(j.push(w.times[W]),ae=0;ae<I;++ae)G.push(w.values[W*I+ae])}j.length!==0&&(w.times=Rt.convertArray(j,w.times.constructor),w.values=Rt.convertArray(G,w.values.constructor),x.push(w))}for(e.tracks=x,s=Infinity,r=0;r<e.tracks.length;++r)s>e.tracks[r].times[0]&&(s=e.tracks[r].times[0]);for(r=0;r<e.tracks.length;++r)e.tracks[r].shift(-1*s);return e.resetDuration(),e},makeClipAdditive:function(e,r,s,c){r===void 0&&(r=0),s===void 0&&(s=e),(c===void 0||0>=c)&&(c=30);var v=e.tracks.length;for(r/=c,c=0;c<v;++c){var x=s.tracks[c],w=x.ValueTypeName;if(w!=="bool"&&w!=="string"){var I=e.tracks.find(function(Me){return Me.name===x.name&&Me.ValueTypeName===w});if(I!==void 0){var j=x.getValueSize(),G=x.times.length-1;r<=x.times[0]?G=Rt.arraySlice(x.values,0,x.valueSize):r>=x.times[G]?G=Rt.arraySlice(x.values,G*j):(G=x.createInterpolant(),G.evaluate(r),G=G.resultBuffer),w==="quaternion"&&new qe(G[0],G[1],G[2],G[3]).normalize().conjugate().toArray(G);for(var W=I.times.length,ae=0;ae<W;++ae){var ue=ae*j;if(w==="quaternion")qe.multiplyQuaternionsFlat(I.values,ue,G,0,I.values,ue);else for(var be=0;be<j;++be)I.values[ue+be]-=G[be]}}}}return e.blendMode=2501,e}};Xe(bc.prototype,{evaluate:function(e){var r=this.parameterPositions,s=this._cachedIndex,c=r[s],v=r[s-1];e:{t:{r:{n:if(!(e<c)){for(var x=s+2;;){if(c===void 0){if(e<v)break n;return this._cachedIndex=s=r.length,this.afterEnd_(s-1,e,v)}if(s===x)break;if(v=c,c=r[++s],e<c)break t}c=r.length;break r}if(e>=v)break e;for(x=r[1],e<x&&(s=2,v=x),x=s-2;;){if(v===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,c);if(s===x)break;if(c=v,v=r[--s-1],e>=v)break t}c=s,s=0}for(;s<c;)v=s+c>>>1,e<r[v]?c=v:s=v+1;if(c=r[s],v=r[s-1],v===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,c);if(c===void 0)return this._cachedIndex=s=r.length,this.afterEnd_(s-1,v,e)}this._cachedIndex=s,this.intervalChanged_(s,v,c)}return this.interpolate_(s,v,e,c)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){var r=this.resultBuffer,s=this.sampleValues,c=this.valueSize;e*=c;for(var v=0;v!==c;++v)r[v]=s[e+v];return r},interpolate_:function(){throw Error("call to abstract method")},intervalChanged_:function(){}}),Xe(bc.prototype,{beforeStart_:bc.prototype.copySampleValue_,afterEnd_:bc.prototype.copySampleValue_}),xo.prototype=Xe(Ge(bc.prototype),{constructor:xo,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(e,r,s){var c=this.parameterPositions,v=e-2,x=e+1,w=c[v],I=c[x];if(w===void 0)switch(this.getSettings_().endingStart){case 2401:v=e,w=2*r-s;break;case 2402:v=c.length-2,w=r+c[v]-c[v+1];break;default:v=e,w=s}if(I===void 0)switch(this.getSettings_().endingEnd){case 2401:x=e,I=2*s-r;break;case 2402:x=1,I=s+c[1]-c[0];break;default:x=e-1,I=r}e=.5*(s-r),c=this.valueSize,this._weightPrev=e/(r-w),this._weightNext=e/(I-s),this._offsetPrev=v*c,this._offsetNext=x*c},interpolate_:function(e,r,s,c){var v=this.resultBuffer,x=this.sampleValues,w=this.valueSize;e*=w;var I=e-w,j=this._offsetPrev,G=this._offsetNext,W=this._weightPrev,ae=this._weightNext,ue=(s-r)/(c-r);for(s=ue*ue,c=s*ue,r=-W*c+2*W*s-W*ue,W=(1+W)*c+(-1.5-2*W)*s+(-.5+W)*ue+1,ue=(-1-ae)*c+(1.5+ae)*s+.5*ue,ae=ae*c-ae*s,s=0;s!==w;++s)v[s]=r*x[j+s]+W*x[I+s]+ue*x[e+s]+ae*x[G+s];return v}}),sc.prototype=Xe(Ge(bc.prototype),{constructor:sc,interpolate_:function(e,r,s,c){var v=this.resultBuffer,x=this.sampleValues,w=this.valueSize;e*=w;var I=e-w;for(r=(s-r)/(c-r),s=1-r,c=0;c!==w;++c)v[c]=x[I+c]*s+x[e+c]*r;return v}}),_d.prototype=Xe(Ge(bc.prototype),{constructor:_d,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Xe(eu,{toJSON:function(e){var r=e.constructor;if(r.toJSON!==void 0)r=r.toJSON(e);else{r={name:e.name,times:Rt.convertArray(e.times,Array),values:Rt.convertArray(e.values,Array)};var s=e.getInterpolation();s!==e.DefaultInterpolation&&(r.interpolation=s)}return r.type=e.ValueTypeName,r}}),Xe(eu.prototype,{constructor:eu,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(e){return new _d(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new sc(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new xo(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){switch(e){case 2300:var r=this.InterpolantFactoryMethodDiscrete;break;case 2301:r=this.InterpolantFactoryMethodLinear;break;case 2302:r=this.InterpolantFactoryMethodSmooth}if(r===void 0){if(r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name,this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=r,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(e!==0)for(var r=this.times,s=0,c=r.length;s!==c;++s)r[s]+=e;return this},scale:function(e){if(e!==1)for(var r=this.times,s=0,c=r.length;s!==c;++s)r[s]*=e;return this},trim:function(e,r){for(var s=this.times,c=s.length,v=0,x=c-1;v!==c&&s[v]<e;)++v;for(;x!==-1&&s[x]>r;)--x;return++x,(v!==0||x!==c)&&(v>=x&&(x=Math.max(x,1),v=x-1),e=this.getValueSize(),this.times=Rt.arraySlice(s,v,x),this.values=Rt.arraySlice(this.values,v*e,x*e)),this},validate:function(){var e=!0,r=this.getValueSize();r-Math.floor(r)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var s=this.times;r=this.values;var c=s.length;c===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var v=null,x=0;x!==c;x++){var w=s[x];if(typeof w=="number"&&isNaN(w)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,x,w),e=!1;break}if(v!==null&&v>w){console.error("THREE.KeyframeTrack: Out of order keys.",this,x,w,v),e=!1;break}v=w}if(r!==void 0&&Rt.isTypedArray(r)){for(x=0,s=r.length;x!==s;++x)if(c=r[x],isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,x,c),e=!1;break}}return e},optimize:function(){for(var e=Rt.arraySlice(this.times),r=Rt.arraySlice(this.values),s=this.getValueSize(),c=this.getInterpolation()===2302,v=1,x=e.length-1,w=1;w<x;++w){var I=!1,j=e[w];if(j!==e[w+1]&&(w!==1||j!==j[0]))if(c)I=!0;else{var G=w*s,W=G-s,ae=G+s;for(j=0;j!==s;++j){var ue=r[G+j];if(ue!==r[W+j]||ue!==r[ae+j]){I=!0;break}}}if(I){if(w!==v)for(e[v]=e[w],I=w*s,G=v*s,j=0;j!==s;++j)r[G+j]=r[I+j];++v}}if(0<x){for(e[v]=e[x],I=x*s,G=v*s,j=0;j!==s;++j)r[G+j]=r[I+j];++v}return v!==e.length?(this.times=Rt.arraySlice(e,0,v),this.values=Rt.arraySlice(r,0,v*s)):(this.times=e,this.values=r),this},clone:function(){var e=Rt.arraySlice(this.times,0),r=Rt.arraySlice(this.values,0);return e=new this.constructor(this.name,e,r),e.createInterpolant=this.createInterpolant,e}}),Ih.prototype=Xe(Ge(eu.prototype),{constructor:Ih,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),$d.prototype=Xe(Ge(eu.prototype),{constructor:$d,ValueTypeName:"color"}),Id.prototype=Xe(Ge(eu.prototype),{constructor:Id,ValueTypeName:"number"}),Kp.prototype=Xe(Ge(bc.prototype),{constructor:Kp,interpolate_:function(e,r,s,c){var v=this.resultBuffer,x=this.sampleValues,w=this.valueSize;for(e*=w,r=(s-r)/(c-r),s=e+w;e!==s;e+=4)qe.slerpFlat(v,0,x,e-w,x,e,r);return v}}),ep.prototype=Xe(Ge(eu.prototype),{constructor:ep,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(e){return new Kp(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Vo.prototype=Xe(Ge(eu.prototype),{constructor:Vo,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),ud.prototype=Xe(Ge(eu.prototype),{constructor:ud,ValueTypeName:"vector"}),Xe(Zf,{parse:function(e){for(var r=[],s=e.tracks,c=1/(e.fps||1),v=0,x=s.length;v!==x;++v)r.push(Pd(s[v]).scale(c));return new Zf(e.name,e.duration,r,e.blendMode)},toJSON:function(e){var r=[],s=e.tracks;e={name:e.name,duration:e.duration,tracks:r,uuid:e.uuid,blendMode:e.blendMode};for(var c=0,v=s.length;c!==v;++c)r.push(eu.toJSON(s[c]));return e},CreateFromMorphTargetSequence:function(e,r,s,c){for(var v=r.length,x=[],w=0;w<v;w++){var I=[],j=[];I.push((w+v-1)%v,w,(w+1)%v),j.push(0,1,0);var G=Rt.getKeyframeOrder(I);I=Rt.sortedArray(I,1,G),j=Rt.sortedArray(j,1,G),c||I[0]!==0||(I.push(v),j.push(j[0])),x.push(new Id(".morphTargetInfluences["+r[w].name+"]",I,j).scale(1/s))}return new Zf(e,-1,x)},findByName:function(e,r){var s=e;for(Array.isArray(e)||(s=e.geometry&&e.geometry.animations||e.animations),e=0;e<s.length;e++)if(s[e].name===r)return s[e];return null},CreateClipsFromMorphTargetSequences:function(e,r,s){for(var c={},v=/^([\w-]*?)([\d]+)$/,x=0,w=e.length;x<w;x++){var I=e[x],j=I.name.match(v);if(j&&1<j.length){var G=j[1];(j=c[G])||(c[G]=j=[]),j.push(I)}}e=[];for(G in c)e.push(Zf.CreateFromMorphTargetSequence(G,c[G],r,s));return e},parseAnimation:function(e,r){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;var s=function(Pt,Bt,ir,Ir,Tr){if(ir.length!==0){var wt=[],qn=[];Rt.flattenJSON(ir,wt,qn,Ir),wt.length!==0&&Tr.push(new Pt(Bt,wt,qn))}},c=[],v=e.name||"default",x=e.length||-1,w=e.fps||30,I=e.blendMode;e=e.hierarchy||[];for(var j=0;j<e.length;j++){var G=e[j].keys;if(G&&G.length!==0)if(G[0].morphTargets){x={};for(var W=0;W<G.length;W++)if(G[W].morphTargets)for(var ae=0;ae<G[W].morphTargets.length;ae++)x[G[W].morphTargets[ae]]=-1;for(var ue in x){var be=[],Me=[];for(ae=0;ae!==G[W].morphTargets.length;++ae){var ct=G[W];be.push(ct.time),Me.push(ct.morphTarget===ue?1:0)}c.push(new Id(".morphTargetInfluence["+ue+"]",be,Me))}x=x.length*(w||1)}else W=".bones["+r[j].name+"]",s(ud,W+".position",G,"pos",c),s(ep,W+".quaternion",G,"rot",c),s(ud,W+".scale",G,"scl",c)}return c.length===0?null:new Zf(v,x,c,I)}}),Xe(Zf.prototype,{resetDuration:function(){for(var e=0,r=0,s=this.tracks.length;r!==s;++r){var c=this.tracks[r];e=Math.max(e,c.times[c.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,r=0;r<this.tracks.length;r++)e=e&&this.tracks[r].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());return new Zf(this.name,this.duration,e,this.blendMode)}});var or={enabled:!1,files:{},add:function(e,r){this.enabled!==!1&&(this.files[e]=r)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Hn=new cd;Xe(no.prototype,{load:function(){},loadAsync:function(e,r){var s=this;return new _s(function(c,v){s.load(e,c,r,v)})},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});var xn={};Us.prototype=Xe(Ge(no.prototype),{constructor:Us,load:function(e,r,s,c){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);var v=this,x=or.get(e);if(x!==void 0)return v.manager.itemStart(e),setTimeout(function(){r&&r(x),v.manager.itemEnd(e)},0),x;if(xn[e]!==void 0)xn[e].push({onLoad:r,onProgress:s,onError:c});else{var w=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(w){s=w[1];var I=!!w[2];w=w[3],w=decodeURIComponent(w),I&&(w=atob(w));try{var j=(this.responseType||"").toLowerCase();switch(j){case"arraybuffer":case"blob":var G=new Uint8Array(w.length);for(I=0;I<w.length;I++)G[I]=w.charCodeAt(I);var W=j==="blob"?new Blob([G.buffer],{type:s}):G.buffer;break;case"document":W=new DOMParser().parseFromString(w,s);break;case"json":W=JSON.parse(w);break;default:W=w}setTimeout(function(){r&&r(W),v.manager.itemEnd(e)},0)}catch(ue){setTimeout(function(){c&&c(ue),v.manager.itemError(e),v.manager.itemEnd(e)},0)}}else{xn[e]=[],xn[e].push({onLoad:r,onProgress:s,onError:c});var ae=new XMLHttpRequest;ae.open("GET",e,!0),ae.addEventListener("load",function(ue){var be=this.response,Me=xn[e];if(delete xn[e],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),or.add(e,be);for(var ct=0,Nt=Me.length;ct<Nt;ct++){var Pt=Me[ct];Pt.onLoad&&Pt.onLoad(be)}}else{for(ct=0,Nt=Me.length;ct<Nt;ct++)Pt=Me[ct],Pt.onError&&Pt.onError(ue);v.manager.itemError(e)}v.manager.itemEnd(e)},!1),ae.addEventListener("progress",function(ue){for(var be=xn[e],Me=0,ct=be.length;Me<ct;Me++){var Nt=be[Me];Nt.onProgress&&Nt.onProgress(ue)}},!1),ae.addEventListener("error",function(ue){var be=xn[e];delete xn[e];for(var Me=0,ct=be.length;Me<ct;Me++){var Nt=be[Me];Nt.onError&&Nt.onError(ue)}v.manager.itemError(e),v.manager.itemEnd(e)},!1),ae.addEventListener("abort",function(ue){var be=xn[e];delete xn[e];for(var Me=0,ct=be.length;Me<ct;Me++){var Nt=be[Me];Nt.onError&&Nt.onError(ue)}v.manager.itemError(e),v.manager.itemEnd(e)},!1),this.responseType!==void 0&&(ae.responseType=this.responseType),this.withCredentials!==void 0&&(ae.withCredentials=this.withCredentials),ae.overrideMimeType&&ae.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(I in this.requestHeader)ae.setRequestHeader(I,this.requestHeader[I]);ae.send(null)}return v.manager.itemStart(e),ae}},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this}}),fd.prototype=Xe(Ge(no.prototype),{constructor:fd,load:function(e,r,s,c){var v=this,x=new Us(v.manager);x.setPath(v.path),x.load(e,function(w){try{r(v.parse(JSON.parse(w)))}catch(I){c?c(I):console.error(I),v.manager.itemError(e)}},s,c)},parse:function(e){for(var r=[],s=0;s<e.length;s++){var c=Zf.parse(e[s]);r.push(c)}return r}}),Np.prototype=Xe(Ge(no.prototype),{constructor:Np,load:function(e,r,s,c){function v(ue){j.load(e[ue],function(be){be=x.parse(be,!0),w[ue]={width:be.width,height:be.height,format:be.format,mipmaps:be.mipmaps},G+=1,G===6&&(be.mipmapCount===1&&(I.minFilter=1006),I.format=be.format,I.needsUpdate=!0,r&&r(I))},s,c)}var x=this,w=[],I=new mn;I.image=w;var j=new Us(this.manager);if(j.setPath(this.path),j.setResponseType("arraybuffer"),Array.isArray(e))for(var G=0,W=0,ae=e.length;W<ae;++W)v(W);else j.load(e,function(ue){if(ue=x.parse(ue,!0),ue.isCubemap)for(var be=ue.mipmaps.length/ue.mipmapCount,Me=0;Me<be;Me++){w[Me]={mipmaps:[]};for(var ct=0;ct<ue.mipmapCount;ct++)w[Me].mipmaps.push(ue.mipmaps[Me*ue.mipmapCount+ct]),w[Me].format=ue.format,w[Me].width=ue.width,w[Me].height=ue.height}else I.image.width=ue.width,I.image.height=ue.height,I.mipmaps=ue.mipmaps;ue.mipmapCount===1&&(I.minFilter=1006),I.format=ue.format,I.needsUpdate=!0,r&&r(I)},s,c);return I}}),Ph.prototype=Xe(Ge(no.prototype),{constructor:Ph,load:function(e,r,s,c){var v=this,x=new ko,w=new Us(this.manager);return w.setResponseType("arraybuffer"),w.setPath(this.path),w.load(e,function(I){(I=v.parse(I))&&(I.image!==void 0?x.image=I.image:I.data!==void 0&&(x.image.width=I.width,x.image.height=I.height,x.image.data=I.data),x.wrapS=I.wrapS!==void 0?I.wrapS:1001,x.wrapT=I.wrapT!==void 0?I.wrapT:1001,x.magFilter=I.magFilter!==void 0?I.magFilter:1006,x.minFilter=I.minFilter!==void 0?I.minFilter:1006,x.anisotropy=I.anisotropy!==void 0?I.anisotropy:1,I.format!==void 0&&(x.format=I.format),I.type!==void 0&&(x.type=I.type),I.mipmaps!==void 0&&(x.mipmaps=I.mipmaps,x.minFilter=1008),I.mipmapCount===1&&(x.minFilter=1006),x.needsUpdate=!0,r&&r(x,I))},s,c),x}}),tf.prototype=Xe(Ge(no.prototype),{constructor:tf,load:function(e,r,s,c){function v(){j.removeEventListener("load",v,!1),j.removeEventListener("error",x,!1),or.add(e,this),r&&r(this),w.manager.itemEnd(e)}function x(G){j.removeEventListener("load",v,!1),j.removeEventListener("error",x,!1),c&&c(G),w.manager.itemError(e),w.manager.itemEnd(e)}this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);var w=this,I=or.get(e);if(I!==void 0)return w.manager.itemStart(e),setTimeout(function(){r&&r(I),w.manager.itemEnd(e)},0),I;var j=document.createElementNS("http://www.w3.org/1999/xhtml","img");return j.addEventListener("load",v,!1),j.addEventListener("error",x,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(j.crossOrigin=this.crossOrigin),w.manager.itemStart(e),j.src=e,j}}),Od.prototype=Xe(Ge(no.prototype),{constructor:Od,load:function(e,r,s,c){function v(j){w.load(e[j],function(G){x.images[j]=G,I++,I===6&&(x.needsUpdate=!0,r&&r(x))},void 0,c)}var x=new Vn,w=new tf(this.manager);w.setCrossOrigin(this.crossOrigin),w.setPath(this.path);var I=0;for(s=0;s<e.length;++s)v(s);return x}}),Xu.prototype=Xe(Ge(no.prototype),{constructor:Xu,load:function(e,r,s,c){var v=new Xt,x=new tf(this.manager);return x.setCrossOrigin(this.crossOrigin),x.setPath(this.path),x.load(e,function(w){v.image=w,w=0<e.search(/\.jpe?g($|\?)/i)||e.search(/^data:image\/jpeg/)===0,v.format=w?1022:1023,v.needsUpdate=!0,r!==void 0&&r(v)},s,c),v}}),Xe(io.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,r){return e=this.getUtoTmapping(e),this.getPoint(e,r)},getPoints:function(e){e===void 0&&(e=5);for(var r=[],s=0;s<=e;s++)r.push(this.getPoint(s/e));return r},getSpacedPoints:function(e){e===void 0&&(e=5);for(var r=[],s=0;s<=e;s++)r.push(this.getPointAt(s/e));return r},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var r=[],s=this.getPoint(0),c,v=0;for(r.push(0),c=1;c<=e;c++){var x=this.getPoint(c/e);v+=x.distanceTo(s),r.push(v),s=x}return this.cacheArcLengths=r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,r){var s=this.getLengths(),c=s.length;r=r||e*s[c-1];for(var v=0,x=c-1,w;v<=x;)if(e=Math.floor(v+(x-v)/2),w=s[e]-r,0>w)v=e+1;else if(0<w)x=e-1;else{x=e;break}return e=x,s[e]===r?e/(c-1):(v=s[e],(e+(r-v)/(s[e+1]-v))/(c-1))},getTangent:function(e,r){var s=e-1e-4;return e+=1e-4,0>s&&(s=0),1<e&&(e=1),s=this.getPoint(s),e=this.getPoint(e),r=r||(s.isVector2?new $e:new Ie),r.copy(e).sub(s).normalize(),r},getTangentAt:function(e,r){return e=this.getUtoTmapping(e),this.getTangent(e,r)},computeFrenetFrames:function(e,r){var s=new Ie,c=[],v=[],x=[],w=new Ie,I=new ht,j;for(j=0;j<=e;j++){var G=j/e;c[j]=this.getTangentAt(G,new Ie),c[j].normalize()}v[0]=new Ie,x[0]=new Ie,j=Number.MAX_VALUE,G=Math.abs(c[0].x);var W=Math.abs(c[0].y),ae=Math.abs(c[0].z);for(G<=j&&(j=G,s.set(1,0,0)),W<=j&&(j=W,s.set(0,1,0)),ae<=j&&s.set(0,0,1),w.crossVectors(c[0],s).normalize(),v[0].crossVectors(c[0],w),x[0].crossVectors(c[0],v[0]),j=1;j<=e;j++)v[j]=v[j-1].clone(),x[j]=x[j-1].clone(),w.crossVectors(c[j-1],c[j]),w.length()>Ic&&(w.normalize(),s=Math.acos(L.clamp(c[j-1].dot(c[j]),-1,1)),v[j].applyMatrix4(I.makeRotationAxis(w,s))),x[j].crossVectors(c[j],v[j]);if(r===!0)for(s=Math.acos(L.clamp(v[0].dot(v[e]),-1,1)),s/=e,0<c[0].dot(w.crossVectors(v[0],v[e]))&&(s=-s),j=1;j<=e;j++)v[j].applyMatrix4(I.makeRotationAxis(c[j],s*j)),x[j].crossVectors(c[j],v[j]);return{tangents:c,normals:v,binormals:x}},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),Ns.prototype=Ge(io.prototype),Ns.prototype.constructor=Ns,Ns.prototype.isEllipseCurve=!0,Ns.prototype.getPoint=function(i,e){e=e||new $e;for(var r=2*Math.PI,s=this.aEndAngle-this.aStartAngle,c=Math.abs(s)<Ic;0>s;)s+=r;for(;s>r;)s-=r;s<Ic&&(s=c?0:r),this.aClockwise!==!0||c||(s=s===r?-r:s-r),r=this.aStartAngle+i*s,i=this.aX+this.xRadius*Math.cos(r);var v=this.aY+this.yRadius*Math.sin(r);return this.aRotation!==0&&(r=Math.cos(this.aRotation),s=Math.sin(this.aRotation),c=i-this.aX,v-=this.aY,i=c*r-v*s+this.aX,v=c*s+v*r+this.aY),e.set(i,v)},Ns.prototype.copy=function(i){return io.prototype.copy.call(this,i),this.aX=i.aX,this.aY=i.aY,this.xRadius=i.xRadius,this.yRadius=i.yRadius,this.aStartAngle=i.aStartAngle,this.aEndAngle=i.aEndAngle,this.aClockwise=i.aClockwise,this.aRotation=i.aRotation,this},Ns.prototype.toJSON=function(){var i=io.prototype.toJSON.call(this);return i.aX=this.aX,i.aY=this.aY,i.xRadius=this.xRadius,i.yRadius=this.yRadius,i.aStartAngle=this.aStartAngle,i.aEndAngle=this.aEndAngle,i.aClockwise=this.aClockwise,i.aRotation=this.aRotation,i},Ns.prototype.fromJSON=function(i){return io.prototype.fromJSON.call(this,i),this.aX=i.aX,this.aY=i.aY,this.xRadius=i.xRadius,this.yRadius=i.yRadius,this.aStartAngle=i.aStartAngle,this.aEndAngle=i.aEndAngle,this.aClockwise=i.aClockwise,this.aRotation=i.aRotation,this},Pf.prototype=Ge(Ns.prototype),Pf.prototype.constructor=Pf,Pf.prototype.isArcCurve=!0;var ti=new Ie,qi=new Of,Yo=new Of,Si=new Of;Ku.prototype=Ge(io.prototype),Ku.prototype.constructor=Ku,Ku.prototype.isCatmullRomCurve3=!0,Ku.prototype.getPoint=function(i,e){e=e||new Ie;var r=this.points,s=r.length;i*=s-(this.closed?0:1);var c=Math.floor(i);if(i-=c,this.closed?c+=0<c?0:(Math.floor(Math.abs(c)/s)+1)*s:i===0&&c===s-1&&(c=s-2,i=1),this.closed||0<c)var v=r[(c-1)%s];else ti.subVectors(r[0],r[1]).add(r[0]),v=ti;var x=r[c%s],w=r[(c+1)%s];if(this.closed||c+2<s?r=r[(c+2)%s]:(ti.subVectors(r[s-1],r[s-2]).add(r[s-1]),r=ti),this.curveType==="centripetal"||this.curveType==="chordal"){var I=this.curveType==="chordal"?.5:.25;s=Math.pow(v.distanceToSquared(x),I),c=Math.pow(x.distanceToSquared(w),I),I=Math.pow(w.distanceToSquared(r),I),1e-4>c&&(c=1),1e-4>s&&(s=c),1e-4>I&&(I=c),qi.initNonuniformCatmullRom(v.x,x.x,w.x,r.x,s,c,I),Yo.initNonuniformCatmullRom(v.y,x.y,w.y,r.y,s,c,I),Si.initNonuniformCatmullRom(v.z,x.z,w.z,r.z,s,c,I)}else this.curveType==="catmullrom"&&(qi.initCatmullRom(v.x,x.x,w.x,r.x,this.tension),Yo.initCatmullRom(v.y,x.y,w.y,r.y,this.tension),Si.initCatmullRom(v.z,x.z,w.z,r.z,this.tension));return e.set(qi.calc(i),Yo.calc(i),Si.calc(i)),e},Ku.prototype.copy=function(i){io.prototype.copy.call(this,i),this.points=[];for(var e=0,r=i.points.length;e<r;e++)this.points.push(i.points[e].clone());return this.closed=i.closed,this.curveType=i.curveType,this.tension=i.tension,this},Ku.prototype.toJSON=function(){var i=io.prototype.toJSON.call(this);i.points=[];for(var e=0,r=this.points.length;e<r;e++)i.points.push(this.points[e].toArray());return i.closed=this.closed,i.curveType=this.curveType,i.tension=this.tension,i},Ku.prototype.fromJSON=function(i){io.prototype.fromJSON.call(this,i),this.points=[];for(var e=0,r=i.points.length;e<r;e++){var s=i.points[e];this.points.push(new Ie().fromArray(s))}return this.closed=i.closed,this.curveType=i.curveType,this.tension=i.tension,this},kh.prototype=Ge(io.prototype),kh.prototype.constructor=kh,kh.prototype.isCubicBezierCurve=!0,kh.prototype.getPoint=function(i,e){e=e||new $e;var r=this.v0,s=this.v1,c=this.v2,v=this.v3;return e.set(Jf(i,r.x,s.x,c.x,v.x),Jf(i,r.y,s.y,c.y,v.y)),e},kh.prototype.copy=function(i){return io.prototype.copy.call(this,i),this.v0.copy(i.v0),this.v1.copy(i.v1),this.v2.copy(i.v2),this.v3.copy(i.v3),this},kh.prototype.toJSON=function(){var i=io.prototype.toJSON.call(this);return i.v0=this.v0.toArray(),i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i.v3=this.v3.toArray(),i},kh.prototype.fromJSON=function(i){return io.prototype.fromJSON.call(this,i),this.v0.fromArray(i.v0),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this.v3.fromArray(i.v3),this},Hh.prototype=Ge(io.prototype),Hh.prototype.constructor=Hh,Hh.prototype.isCubicBezierCurve3=!0,Hh.prototype.getPoint=function(i,e){e=e||new Ie;var r=this.v0,s=this.v1,c=this.v2,v=this.v3;return e.set(Jf(i,r.x,s.x,c.x,v.x),Jf(i,r.y,s.y,c.y,v.y),Jf(i,r.z,s.z,c.z,v.z)),e},Hh.prototype.copy=function(i){return io.prototype.copy.call(this,i),this.v0.copy(i.v0),this.v1.copy(i.v1),this.v2.copy(i.v2),this.v3.copy(i.v3),this},Hh.prototype.toJSON=function(){var i=io.prototype.toJSON.call(this);return i.v0=this.v0.toArray(),i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i.v3=this.v3.toArray(),i},Hh.prototype.fromJSON=function(i){return io.prototype.fromJSON.call(this,i),this.v0.fromArray(i.v0),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this.v3.fromArray(i.v3),this},ga.prototype=Ge(io.prototype),ga.prototype.constructor=ga,ga.prototype.isLineCurve=!0,ga.prototype.getPoint=function(i,e){return e=e||new $e,i===1?e.copy(this.v2):(e.copy(this.v2).sub(this.v1),e.multiplyScalar(i).add(this.v1)),e},ga.prototype.getPointAt=function(i,e){return this.getPoint(i,e)},ga.prototype.getTangent=function(i,e){return i=e||new $e,i=i.copy(this.v2).sub(this.v1).normalize()},ga.prototype.copy=function(i){return io.prototype.copy.call(this,i),this.v1.copy(i.v1),this.v2.copy(i.v2),this},ga.prototype.toJSON=function(){var i=io.prototype.toJSON.call(this);return i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i},ga.prototype.fromJSON=function(i){return io.prototype.fromJSON.call(this,i),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this},Zu.prototype=Ge(io.prototype),Zu.prototype.constructor=Zu,Zu.prototype.isLineCurve3=!0,Zu.prototype.getPoint=function(i,e){return e=e||new Ie,i===1?e.copy(this.v2):(e.copy(this.v2).sub(this.v1),e.multiplyScalar(i).add(this.v1)),e},Zu.prototype.getPointAt=function(i,e){return this.getPoint(i,e)},Zu.prototype.copy=function(i){return io.prototype.copy.call(this,i),this.v1.copy(i.v1),this.v2.copy(i.v2),this},Zu.prototype.toJSON=function(){var i=io.prototype.toJSON.call(this);return i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i},Zu.prototype.fromJSON=function(i){return io.prototype.fromJSON.call(this,i),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this},fl.prototype=Ge(io.prototype),fl.prototype.constructor=fl,fl.prototype.isQuadraticBezierCurve=!0,fl.prototype.getPoint=function(i,e){e=e||new $e;var r=this.v0,s=this.v1,c=this.v2;return e.set(Sp(i,r.x,s.x,c.x),Sp(i,r.y,s.y,c.y)),e},fl.prototype.copy=function(i){return io.prototype.copy.call(this,i),this.v0.copy(i.v0),this.v1.copy(i.v1),this.v2.copy(i.v2),this},fl.prototype.toJSON=function(){var i=io.prototype.toJSON.call(this);return i.v0=this.v0.toArray(),i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i},fl.prototype.fromJSON=function(i){return io.prototype.fromJSON.call(this,i),this.v0.fromArray(i.v0),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this},Fc.prototype=Ge(io.prototype),Fc.prototype.constructor=Fc,Fc.prototype.isQuadraticBezierCurve3=!0,Fc.prototype.getPoint=function(i,e){e=e||new Ie;var r=this.v0,s=this.v1,c=this.v2;return e.set(Sp(i,r.x,s.x,c.x),Sp(i,r.y,s.y,c.y),Sp(i,r.z,s.z,c.z)),e},Fc.prototype.copy=function(i){return io.prototype.copy.call(this,i),this.v0.copy(i.v0),this.v1.copy(i.v1),this.v2.copy(i.v2),this},Fc.prototype.toJSON=function(){var i=io.prototype.toJSON.call(this);return i.v0=this.v0.toArray(),i.v1=this.v1.toArray(),i.v2=this.v2.toArray(),i},Fc.prototype.fromJSON=function(i){return io.prototype.fromJSON.call(this,i),this.v0.fromArray(i.v0),this.v1.fromArray(i.v1),this.v2.fromArray(i.v2),this},Ve.prototype=Ge(io.prototype),Ve.prototype.constructor=Ve,Ve.prototype.isSplineCurve=!0,Ve.prototype.getPoint=function(i,e){e=e||new $e;var r=this.points,s=(r.length-1)*i;i=Math.floor(s),s-=i;var c=r[i===0?i:i-1],v=r[i],x=r[i>r.length-2?r.length-1:i+1];return r=r[i>r.length-3?r.length-1:i+2],e.set(Oh(s,c.x,v.x,x.x,r.x),Oh(s,c.y,v.y,x.y,r.y)),e},Ve.prototype.copy=function(i){io.prototype.copy.call(this,i),this.points=[];for(var e=0,r=i.points.length;e<r;e++)this.points.push(i.points[e].clone());return this},Ve.prototype.toJSON=function(){var i=io.prototype.toJSON.call(this);i.points=[];for(var e=0,r=this.points.length;e<r;e++)i.points.push(this.points[e].toArray());return i},Ve.prototype.fromJSON=function(i){io.prototype.fromJSON.call(this,i),this.points=[];for(var e=0,r=i.points.length;e<r;e++){var s=i.points[e];this.points.push(new $e().fromArray(s))}return this};var Fn=nl({__proto__:null,ArcCurve:Pf,CatmullRomCurve3:Ku,CubicBezierCurve:kh,CubicBezierCurve3:Hh,EllipseCurve:Ns,LineCurve:ga,LineCurve3:Zu,QuadraticBezierCurve:fl,QuadraticBezierCurve3:Fc,SplineCurve:Ve});Bc.prototype=Xe(Ge(io.prototype),{constructor:Bc,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),r=this.curves[this.curves.length-1].getPoint(1);e.equals(r)||this.curves.push(new ga(r,e))},getPoint:function(e){var r=e*this.getLength(),s=this.getCurveLengths();for(e=0;e<s.length;){if(s[e]>=r)return r=s[e]-r,e=this.curves[e],s=e.getLength(),e.getPointAt(s===0?0:1-r/s);e++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],r=0,s=0,c=this.curves.length;s<c;s++)r+=this.curves[s].getLength(),e.push(r);return this.cacheLengths=e},getSpacedPoints:function(e){e===void 0&&(e=40);for(var r=[],s=0;s<=e;s++)r.push(this.getPoint(s/e));return this.autoClose&&r.push(r[0]),r},getPoints:function(e){e=e||12;for(var r=[],s,c=0,v=this.curves;c<v.length;c++){var x=v[c];x=x.getPoints(x&&x.isEllipseCurve?2*e:x&&(x.isLineCurve||x.isLineCurve3)?1:x&&x.isSplineCurve?e*x.points.length:e);for(var w=0;w<x.length;w++){var I=x[w];s&&s.equals(I)||(r.push(I),s=I)}}return this.autoClose&&1<r.length&&!r[r.length-1].equals(r[0])&&r.push(r[0]),r},copy:function(e){io.prototype.copy.call(this,e),this.curves=[];for(var r=0,s=e.curves.length;r<s;r++)this.curves.push(e.curves[r].clone());return this.autoClose=e.autoClose,this},toJSON:function(){var e=io.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var r=0,s=this.curves.length;r<s;r++)e.curves.push(this.curves[r].toJSON());return e},fromJSON:function(e){io.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var r=0,s=e.curves.length;r<s;r++){var c=e.curves[r];this.curves.push(new Fn[c.type]().fromJSON(c))}return this}}),lc.prototype=Xe(Ge(Bc.prototype),{constructor:lc,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var r=1,s=e.length;r<s;r++)this.lineTo(e[r].x,e[r].y);return this},moveTo:function(e,r){return this.currentPoint.set(e,r),this},lineTo:function(e,r){var s=new ga(this.currentPoint.clone(),new $e(e,r));return this.curves.push(s),this.currentPoint.set(e,r),this},quadraticCurveTo:function(e,r,s,c){return e=new fl(this.currentPoint.clone(),new $e(e,r),new $e(s,c)),this.curves.push(e),this.currentPoint.set(s,c),this},bezierCurveTo:function(e,r,s,c,v,x){return e=new kh(this.currentPoint.clone(),new $e(e,r),new $e(s,c),new $e(v,x)),this.curves.push(e),this.currentPoint.set(v,x),this},splineThru:function(e){var r=[this.currentPoint.clone()].concat(e);return r=new Ve(r),this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,r,s,c,v,x){return this.absarc(e+this.currentPoint.x,r+this.currentPoint.y,s,c,v,x),this},absarc:function(e,r,s,c,v,x){return this.absellipse(e,r,s,s,c,v,x),this},ellipse:function(e,r,s,c,v,x,w,I){return this.absellipse(e+this.currentPoint.x,r+this.currentPoint.y,s,c,v,x,w,I),this},absellipse:function(e,r,s,c,v,x,w,I){return e=new Ns(e,r,s,c,v,x,w,I),0<this.curves.length&&(r=e.getPoint(0),r.equals(this.currentPoint)||this.lineTo(r.x,r.y)),this.curves.push(e),e=e.getPoint(1),this.currentPoint.copy(e),this},copy:function(e){return Bc.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=Bc.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Bc.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),uc.prototype=Xe(Ge(lc.prototype),{constructor:uc,getPointsHoles:function(e){for(var r=[],s=0,c=this.holes.length;s<c;s++)r[s]=this.holes[s].getPoints(e);return r},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){lc.prototype.copy.call(this,e),this.holes=[];for(var r=0,s=e.holes.length;r<s;r++)this.holes.push(e.holes[r].clone());return this},toJSON:function(){var e=lc.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var r=0,s=this.holes.length;r<s;r++)e.holes.push(this.holes[r].toJSON());return e},fromJSON:function(e){lc.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var r=0,s=e.holes.length;r<s;r++){var c=e.holes[r];this.holes.push(new lc().fromJSON(c))}return this}}),fi.prototype=Xe(Ge(pr.prototype),{constructor:fi,isLight:!0,copy:function(e){return pr.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){return e=pr.prototype.toJSON.call(this,e),e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),e}}),Iu.prototype=Xe(Ge(fi.prototype),{constructor:Iu,isHemisphereLight:!0,copy:function(e){return fi.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Xe(rf.prototype,{_projScreenMatrix:new ht,_lightPositionWorld:new Ie,_lookTarget:new Ie,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var r=this.camera,s=this.matrix,c=this._projScreenMatrix,v=this._lookTarget,x=this._lightPositionWorld;x.setFromMatrixPosition(e.matrixWorld),r.position.copy(x),v.setFromMatrixPosition(e.target.matrixWorld),r.lookAt(v),r.updateMatrixWorld(),c.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(c),s.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),s.multiply(r.projectionMatrix),s.multiply(r.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var e={};return this.bias!==0&&(e.bias=this.bias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),Mp.prototype=Xe(Ge(rf.prototype),{constructor:Mp,isSpotLightShadow:!0,updateMatrices:function(e){var r=this.camera,s=2*L.RAD2DEG*e.angle,c=this.mapSize.width/this.mapSize.height,v=e.distance||r.far;(s!==r.fov||c!==r.aspect||v!==r.far)&&(r.fov=s,r.aspect=c,r.far=v,r.updateProjectionMatrix()),rf.prototype.updateMatrices.call(this,e)}}),hd.prototype=Xe(Ge(fi.prototype),{constructor:hd,isSpotLight:!0,copy:function(e){return fi.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Rd.prototype=Xe(Ge(rf.prototype),{constructor:Rd,isPointLightShadow:!0,updateMatrices:function(e,r){r===void 0&&(r=0);var s=this.camera,c=this.matrix,v=this._lightPositionWorld,x=this._lookTarget,w=this._projScreenMatrix;v.setFromMatrixPosition(e.matrixWorld),s.position.copy(v),x.copy(s.position),x.add(this._cubeDirections[r]),s.up.copy(this._cubeUps[r]),s.lookAt(x),s.updateMatrixWorld(),c.makeTranslation(-v.x,-v.y,-v.z),w.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),this._frustum.setFromProjectionMatrix(w)}}),xl.prototype=Xe(Ge(fi.prototype),{constructor:xl,isPointLight:!0,copy:function(e){return fi.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Qf.prototype=Xe(Ge(As.prototype),{constructor:Qf,isOrthographicCamera:!0,copy:function(e,r){return As.prototype.copy.call(this,e,r),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Xe({},e.view),this},setViewOffset:function(e,r,s,c,v,x){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=r,this.view.offsetX=s,this.view.offsetY=c,this.view.width=v,this.view.height=x,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),r=(this.top-this.bottom)/(2*this.zoom),s=(this.right+this.left)/2,c=(this.top+this.bottom)/2,v=s-e;s+=e,e=c+r,r=c-r,this.view!==null&&this.view.enabled&&(c=(this.right-this.left)/this.view.fullWidth/this.zoom,r=(this.top-this.bottom)/this.view.fullHeight/this.zoom,v+=c*this.view.offsetX,s=v+c*this.view.width,e-=r*this.view.offsetY,r=e-r*this.view.height),this.projectionMatrix.makeOrthographic(v,s,e,r,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){return e=pr.prototype.toJSON.call(this,e),e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Xe({},this.view)),e}}),Vh.prototype=Xe(Ge(rf.prototype),{constructor:Vh,isDirectionalLightShadow:!0,updateMatrices:function(e){rf.prototype.updateMatrices.call(this,e)}}),Wh.prototype=Xe(Ge(fi.prototype),{constructor:Wh,isDirectionalLight:!0,copy:function(e){return fi.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),qf.prototype=Xe(Ge(fi.prototype),{constructor:qf,isAmbientLight:!0}),dd.prototype=Xe(Ge(fi.prototype),{constructor:dd,isRectAreaLight:!0,copy:function(e){return fi.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){return e=fi.prototype.toJSON.call(this,e),e.object.width=this.width,e.object.height=this.height,e}}),Xe(jc.prototype,{isSphericalHarmonics3:!0,set:function(e){for(var r=0;9>r;r++)this.coefficients[r].copy(e[r]);return this},zero:function(){for(var e=0;9>e;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,r){var s=e.x,c=e.y;e=e.z;var v=this.coefficients;return r.copy(v[0]).multiplyScalar(.282095),r.addScaledVector(v[1],.488603*c),r.addScaledVector(v[2],.488603*e),r.addScaledVector(v[3],.488603*s),r.addScaledVector(v[4],1.092548*s*c),r.addScaledVector(v[5],1.092548*c*e),r.addScaledVector(v[6],.315392*(3*e*e-1)),r.addScaledVector(v[7],1.092548*s*e),r.addScaledVector(v[8],.546274*(s*s-c*c)),r},getIrradianceAt:function(e,r){var s=e.x,c=e.y;e=e.z;var v=this.coefficients;return r.copy(v[0]).multiplyScalar(.886227),r.addScaledVector(v[1],1.023328*c),r.addScaledVector(v[2],1.023328*e),r.addScaledVector(v[3],1.023328*s),r.addScaledVector(v[4],.858086*s*c),r.addScaledVector(v[5],.858086*c*e),r.addScaledVector(v[6],.743125*e*e-.247708),r.addScaledVector(v[7],.858086*s*e),r.addScaledVector(v[8],.429043*(s*s-c*c)),r},add:function(e){for(var r=0;9>r;r++)this.coefficients[r].add(e.coefficients[r]);return this},addScaledSH:function(e,r){for(var s=0;9>s;s++)this.coefficients[s].addScaledVector(e.coefficients[s],r);return this},scale:function(e){for(var r=0;9>r;r++)this.coefficients[r].multiplyScalar(e);return this},lerp:function(e,r){for(var s=0;9>s;s++)this.coefficients[s].lerp(e.coefficients[s],r);return this},equals:function(e){for(var r=0;9>r;r++)if(!this.coefficients[r].equals(e.coefficients[r]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return new this.constructor().copy(this)},fromArray:function(e,r){r===void 0&&(r=0);for(var s=this.coefficients,c=0;9>c;c++)s[c].fromArray(e,r+3*c);return this},toArray:function(e,r){e===void 0&&(e=[]),r===void 0&&(r=0);for(var s=this.coefficients,c=0;9>c;c++)s[c].toArray(e,r+3*c);return e}}),Xe(jc,{getBasisAt:function(e,r){var s=e.x,c=e.y;e=e.z,r[0]=.282095,r[1]=.488603*c,r[2]=.488603*e,r[3]=.488603*s,r[4]=1.092548*s*c,r[5]=1.092548*c*e,r[6]=.315392*(3*e*e-1),r[7]=1.092548*s*e,r[8]=.546274*(s*s-c*c)}}),oe.prototype=Xe(Ge(fi.prototype),{constructor:oe,isLightProbe:!0,copy:function(e){return fi.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){return e=fi.prototype.toJSON.call(this,e),e.object.sh=this.sh.toArray(),e}}),te.prototype=Xe(Ge(no.prototype),{constructor:te,load:function(e,r,s,c){var v=this,x=new Us(v.manager);x.setPath(v.path),x.load(e,function(w){try{r(v.parse(JSON.parse(w)))}catch(I){c?c(I):console.error(I),v.manager.itemError(e)}},s,c)},parse:function(e){function r(I){return s[I]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",I),s[I]}var s=this.textures,c=new It[e.type];if(e.uuid!==void 0&&(c.uuid=e.uuid),e.name!==void 0&&(c.name=e.name),e.color!==void 0&&c.color.setHex(e.color),e.roughness!==void 0&&(c.roughness=e.roughness),e.metalness!==void 0&&(c.metalness=e.metalness),e.sheen!==void 0&&(c.sheen=new At().setHex(e.sheen)),e.emissive!==void 0&&c.emissive.setHex(e.emissive),e.specular!==void 0&&c.specular.setHex(e.specular),e.shininess!==void 0&&(c.shininess=e.shininess),e.clearcoat!==void 0&&(c.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(c.clearcoatRoughness=e.clearcoatRoughness),e.fog!==void 0&&(c.fog=e.fog),e.flatShading!==void 0&&(c.flatShading=e.flatShading),e.blending!==void 0&&(c.blending=e.blending),e.combine!==void 0&&(c.combine=e.combine),e.side!==void 0&&(c.side=e.side),e.opacity!==void 0&&(c.opacity=e.opacity),e.transparent!==void 0&&(c.transparent=e.transparent),e.alphaTest!==void 0&&(c.alphaTest=e.alphaTest),e.depthTest!==void 0&&(c.depthTest=e.depthTest),e.depthWrite!==void 0&&(c.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(c.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(c.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(c.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(c.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(c.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(c.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(c.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(c.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(c.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(c.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(c.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(c.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(c.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(c.rotation=e.rotation),e.linewidth!==1&&(c.linewidth=e.linewidth),e.dashSize!==void 0&&(c.dashSize=e.dashSize),e.gapSize!==void 0&&(c.gapSize=e.gapSize),e.scale!==void 0&&(c.scale=e.scale),e.polygonOffset!==void 0&&(c.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(c.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(c.polygonOffsetUnits=e.polygonOffsetUnits),e.skinning!==void 0&&(c.skinning=e.skinning),e.morphTargets!==void 0&&(c.morphTargets=e.morphTargets),e.morphNormals!==void 0&&(c.morphNormals=e.morphNormals),e.dithering!==void 0&&(c.dithering=e.dithering),e.vertexTangents!==void 0&&(c.vertexTangents=e.vertexTangents),e.visible!==void 0&&(c.visible=e.visible),e.toneMapped!==void 0&&(c.toneMapped=e.toneMapped),e.userData!==void 0&&(c.userData=e.userData),e.vertexColors!==void 0&&(c.vertexColors=typeof e.vertexColors=="number"?0<e.vertexColors:e.vertexColors),e.uniforms!==void 0)for(var v in e.uniforms){var x=e.uniforms[v];switch(c.uniforms[v]={},x.type){case"t":c.uniforms[v].value=r(x.value);break;case"c":c.uniforms[v].value=new At().setHex(x.value);break;case"v2":c.uniforms[v].value=new $e().fromArray(x.value);break;case"v3":c.uniforms[v].value=new Ie().fromArray(x.value);break;case"v4":c.uniforms[v].value=new et().fromArray(x.value);break;case"m3":c.uniforms[v].value=new Et().fromArray(x.value);case"m4":c.uniforms[v].value=new ht().fromArray(x.value);break;default:c.uniforms[v].value=x.value}}if(e.defines!==void 0&&(c.defines=e.defines),e.vertexShader!==void 0&&(c.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(c.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(var w in e.extensions)c.extensions[w]=e.extensions[w];return e.shading!==void 0&&(c.flatShading=e.shading===1),e.size!==void 0&&(c.size=e.size),e.sizeAttenuation!==void 0&&(c.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(c.map=r(e.map)),e.matcap!==void 0&&(c.matcap=r(e.matcap)),e.alphaMap!==void 0&&(c.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(c.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(c.bumpScale=e.bumpScale),e.normalMap!==void 0&&(c.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(c.normalMapType=e.normalMapType),e.normalScale!==void 0&&(v=e.normalScale,Array.isArray(v)===!1&&(v=[v,v]),c.normalScale=new $e().fromArray(v)),e.displacementMap!==void 0&&(c.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(c.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(c.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(c.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(c.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(c.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(c.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(c.specularMap=r(e.specularMap)),e.envMap!==void 0&&(c.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(c.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(c.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(c.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(c.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(c.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(c.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(c.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(c.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(c.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(c.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(c.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(c.clearcoatNormalScale=new $e().fromArray(e.clearcoatNormalScale)),c},setTextures:function(e){return this.textures=e,this}});var ri={decodeText:function(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);for(var r="",s=0,c=e.length;s<c;s++)r+=String.fromCharCode(e[s]);try{return decodeURIComponent(escape(r))}catch(v){return r}},extractUrlBase:function(e){var r=e.lastIndexOf("/");return r===-1?"./":e.substr(0,r+1)}};ce.prototype=Xe(Ge(kr.prototype),{constructor:ce,isInstancedBufferGeometry:!0,copy:function(e){return kr.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var e=kr.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}),Se.prototype=Xe(Ge(Nn.prototype),{constructor:Se,isInstancedBufferAttribute:!0,copy:function(e){return Nn.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=Nn.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),Ye.prototype=Xe(Ge(no.prototype),{constructor:Ye,load:function(e,r,s,c){var v=this,x=new Us(v.manager);x.setPath(v.path),x.load(e,function(w){try{r(v.parse(JSON.parse(w)))}catch(I){c?c(I):console.error(I),v.manager.itemError(e)}},s,c)},parse:function(e){var r=e.isInstancedBufferGeometry?new ce:new kr,s=e.data.index;if(s!==void 0){var c=new to[s.type](s.array);r.setIndex(new Nn(c,1))}s=e.data.attributes;for(var v in s){var x=s[v];c=new to[x.type](x.array),c=new(x.isInstancedBufferAttribute?Se:Nn)(c,x.itemSize,x.normalized),x.name!==void 0&&(c.name=x.name),r.setAttribute(v,c)}var w=e.data.morphAttributes;if(w)for(v in w){var I=w[v],j=[];s=0;for(var G=I.length;s<G;s++)x=I[s],c=new to[x.type](x.array),c=new Nn(c,x.itemSize,x.normalized),x.name!==void 0&&(c.name=x.name),j.push(c);r.morphAttributes[v]=j}if(e.data.morphTargetsRelative&&(r.morphTargetsRelative=!0),v=e.data.groups||e.data.drawcalls||e.data.offsets,v!==void 0)for(s=0,x=v.length;s!==x;++s)c=v[s],r.addGroup(c.start,c.count,c.materialIndex);return s=e.data.boundingSphere,s!==void 0&&(v=new Ie,s.center!==void 0&&v.fromArray(s.center),r.boundingSphere=new fr(v,s.radius)),e.name&&(r.name=e.name),e.userData&&(r.userData=e.userData),r}});var to={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray!="undefined"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};Ct.prototype=Xe(Ge(no.prototype),{constructor:Ct,load:function(e,r,s,c){var v=this,x=this.path===""?ri.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||x,x=new Us(v.manager),x.setPath(this.path),x.load(e,function(w){var I=null;try{I=JSON.parse(w)}catch(j){c!==void 0&&c(j),console.error("THREE:ObjectLoader: Can't parse "+e+".",j.message);return}w=I.metadata,w===void 0||w.type===void 0||w.type.toLowerCase()==="geometry"?console.error("THREE.ObjectLoader: Can't load "+e):v.parse(I,r)},s,c)},parse:function(e,r){var s=this.parseShape(e.shapes);s=this.parseGeometries(e.geometries,s);var c=this.parseImages(e.images,function(){r!==void 0&&r(v)});c=this.parseTextures(e.textures,c),c=this.parseMaterials(e.materials,c);var v=this.parseObject(e.object,s,c);return e.animations&&(v.animations=this.parseAnimations(e.animations)),e.images!==void 0&&e.images.length!==0||r===void 0||r(v),v},parseShape:function(e){var r={};if(e!==void 0)for(var s=0,c=e.length;s<c;s++){var v=new uc().fromJSON(e[s]);r[v.uuid]=v}return r},parseGeometries:function(e,r){var s={};if(e!==void 0)for(var c=new Ye,v=0,x=e.length;v<x;v++){var w=e[v];switch(w.type){case"PlaneGeometry":case"PlaneBufferGeometry":var I=new Ze[w.type](w.width,w.height,w.widthSegments,w.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":I=new Ze[w.type](w.width,w.height,w.depth,w.widthSegments,w.heightSegments,w.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":I=new Ze[w.type](w.radius,w.segments,w.thetaStart,w.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":I=new Ze[w.type](w.radiusTop,w.radiusBottom,w.height,w.radialSegments,w.heightSegments,w.openEnded,w.thetaStart,w.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":I=new Ze[w.type](w.radius,w.height,w.radialSegments,w.heightSegments,w.openEnded,w.thetaStart,w.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":I=new Ze[w.type](w.radius,w.widthSegments,w.heightSegments,w.phiStart,w.phiLength,w.thetaStart,w.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":I=new Ze[w.type](w.radius,w.detail);break;case"RingGeometry":case"RingBufferGeometry":I=new Ze[w.type](w.innerRadius,w.outerRadius,w.thetaSegments,w.phiSegments,w.thetaStart,w.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":I=new Ze[w.type](w.radius,w.tube,w.radialSegments,w.tubularSegments,w.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":I=new Ze[w.type](w.radius,w.tube,w.tubularSegments,w.radialSegments,w.p,w.q);break;case"TubeGeometry":case"TubeBufferGeometry":I=new Ze[w.type](new Fn[w.path.type]().fromJSON(w.path),w.tubularSegments,w.radius,w.radialSegments,w.closed);break;case"LatheGeometry":case"LatheBufferGeometry":I=new Ze[w.type](w.points,w.segments,w.phiStart,w.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":I=new Ze[w.type](w.vertices,w.indices,w.radius,w.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":I=[];for(var j=0,G=w.shapes.length;j<G;j++){var W=r[w.shapes[j]];I.push(W)}I=new Ze[w.type](I,w.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(I=[],j=0,G=w.shapes.length;j<G;j++)W=r[w.shapes[j]],I.push(W);j=w.options.extrudePath,j!==void 0&&(w.options.extrudePath=new Fn[j.type]().fromJSON(j)),I=new Ze[w.type](I,w.options);break;case"BufferGeometry":case"InstancedBufferGeometry":I=c.parse(w);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+w.type+'"');continue}I.uuid=w.uuid,w.name!==void 0&&(I.name=w.name),I.isBufferGeometry===!0&&w.userData!==void 0&&(I.userData=w.userData),s[w.uuid]=I}return s},parseMaterials:function(e,r){var s={},c={};if(e!==void 0){var v=new te;v.setTextures(r),r=0;for(var x=e.length;r<x;r++){var w=e[r];if(w.type==="MultiMaterial"){for(var I=[],j=0;j<w.materials.length;j++){var G=w.materials[j];s[G.uuid]===void 0&&(s[G.uuid]=v.parse(G)),I.push(s[G.uuid])}c[w.uuid]=I}else s[w.uuid]===void 0&&(s[w.uuid]=v.parse(w)),c[w.uuid]=s[w.uuid]}}return c},parseAnimations:function(e){for(var r=[],s=0;s<e.length;s++){var c=e[s],v=Zf.parse(c);c.uuid!==void 0&&(v.uuid=c.uuid),r.push(v)}return r},parseImages:function(e,r){function s(ue){return c.manager.itemStart(ue),x.load(ue,function(){c.manager.itemEnd(ue)},void 0,function(){c.manager.itemError(ue),c.manager.itemEnd(ue)})}var c=this,v={};if(e!==void 0&&0<e.length){r=new cd(r);var x=new tf(r);x.setCrossOrigin(this.crossOrigin),r=0;for(var w=e.length;r<w;r++){var I=e[r],j=I.url;if(Array.isArray(j)){v[I.uuid]=[];for(var G=0,W=j.length;G<W;G++){var ae=j[G];ae=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(ae)?ae:c.resourcePath+ae,v[I.uuid].push(s(ae))}}else ae=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(I.url)?I.url:c.resourcePath+I.url,v[I.uuid]=s(ae)}}return v},parseTextures:function(e,r){function s(j,G){return typeof j=="number"?j:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",j),G[j])}var c={};if(e!==void 0)for(var v=0,x=e.length;v<x;v++){var w=e[v];w.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',w.uuid),r[w.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",w.image);var I=Array.isArray(r[w.image])?new Vn(r[w.image]):new Xt(r[w.image]);I.needsUpdate=!0,I.uuid=w.uuid,w.name!==void 0&&(I.name=w.name),w.mapping!==void 0&&(I.mapping=s(w.mapping,Ma)),w.offset!==void 0&&I.offset.fromArray(w.offset),w.repeat!==void 0&&I.repeat.fromArray(w.repeat),w.center!==void 0&&I.center.fromArray(w.center),w.rotation!==void 0&&(I.rotation=w.rotation),w.wrap!==void 0&&(I.wrapS=s(w.wrap[0],Ch),I.wrapT=s(w.wrap[1],Ch)),w.format!==void 0&&(I.format=w.format),w.type!==void 0&&(I.type=w.type),w.encoding!==void 0&&(I.encoding=w.encoding),w.minFilter!==void 0&&(I.minFilter=s(w.minFilter,ff)),w.magFilter!==void 0&&(I.magFilter=s(w.magFilter,ff)),w.anisotropy!==void 0&&(I.anisotropy=w.anisotropy),w.flipY!==void 0&&(I.flipY=w.flipY),w.premultiplyAlpha!==void 0&&(I.premultiplyAlpha=w.premultiplyAlpha),w.unpackAlignment!==void 0&&(I.unpackAlignment=w.unpackAlignment),c[w.uuid]=I}return c},parseObject:function(e,r,s){function c(G){return r[G]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",G),r[G]}function v(G){if(G!==void 0){if(Array.isArray(G)){for(var W=[],ae=0,ue=G.length;ae<ue;ae++){var be=G[ae];s[be]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",be),W.push(s[be])}return W}return s[G]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",G),s[G]}}switch(e.type){case"Scene":var x=new $r;e.background!==void 0&&lm(e.background)&&(x.background=new At(e.background)),e.fog!==void 0&&(e.fog.type==="Fog"?x.fog=new sd(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(x.fog=new Qd(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":x=new Gi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(x.focus=e.focus),e.zoom!==void 0&&(x.zoom=e.zoom),e.filmGauge!==void 0&&(x.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(x.filmOffset=e.filmOffset),e.view!==void 0&&(x.view=Xe({},e.view));break;case"OrthographicCamera":x=new Qf(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(x.zoom=e.zoom),e.view!==void 0&&(x.view=Xe({},e.view));break;case"AmbientLight":x=new qf(e.color,e.intensity);break;case"DirectionalLight":x=new Wh(e.color,e.intensity);break;case"PointLight":x=new xl(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":x=new dd(e.color,e.intensity,e.width,e.height);break;case"SpotLight":x=new hd(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":x=new Iu(e.color,e.groundColor,e.intensity);break;case"LightProbe":x=new oe().fromJSON(e);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":x=c(e.geometry);var w=v(e.material);x=new ei(x,w);break;case"InstancedMesh":x=c(e.geometry),w=v(e.material);var I=e.instanceMatrix;x=new yt(x,w,e.count),x.instanceMatrix=new Nn(new Float32Array(I.array),16);break;case"LOD":x=new Le;break;case"Line":x=new vr(c(e.geometry),v(e.material),e.mode);break;case"LineLoop":x=new sn(c(e.geometry),v(e.material));break;case"LineSegments":x=new Ar(c(e.geometry),v(e.material));break;case"PointCloud":case"Points":x=new nn(c(e.geometry),v(e.material));break;case"Sprite":x=new us(v(e.material));break;case"Group":x=new Uh;break;default:x=new pr}if(x.uuid=e.uuid,e.name!==void 0&&(x.name=e.name),e.matrix!==void 0?(x.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(x.matrixAutoUpdate=e.matrixAutoUpdate),x.matrixAutoUpdate&&x.matrix.decompose(x.position,x.quaternion,x.scale)):(e.position!==void 0&&x.position.fromArray(e.position),e.rotation!==void 0&&x.rotation.fromArray(e.rotation),e.quaternion!==void 0&&x.quaternion.fromArray(e.quaternion),e.scale!==void 0&&x.scale.fromArray(e.scale)),e.castShadow!==void 0&&(x.castShadow=e.castShadow),e.receiveShadow!==void 0&&(x.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(x.shadow.bias=e.shadow.bias),e.shadow.radius!==void 0&&(x.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&x.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(x.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(x.visible=e.visible),e.frustumCulled!==void 0&&(x.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(x.renderOrder=e.renderOrder),e.userData!==void 0&&(x.userData=e.userData),e.layers!==void 0&&(x.layers.mask=e.layers),e.children!==void 0)for(I=e.children,w=0;w<I.length;w++)x.add(this.parseObject(I[w],r,s));if(e.type==="LOD")for(e.autoUpdate!==void 0&&(x.autoUpdate=e.autoUpdate),e=e.levels,I=0;I<e.length;I++){w=e[I];var j=x.getObjectByProperty("uuid",w.object);j!==void 0&&x.addLevel(j,w.distance)}return x}});var Ma={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},Ch={RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},ff={NearestFilter:1003,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,LinearFilter:1006,LinearMipmapNearestFilter:1007,LinearMipmapLinearFilter:1008};_t.prototype=Xe(Ge(no.prototype),{constructor:_t,setOptions:function(e){return this.options=e,this},load:function(e,r,s,c){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);var v=this,x=or.get(e);if(x!==void 0)return v.manager.itemStart(e),setTimeout(function(){r&&r(x),v.manager.itemEnd(e)},0),x;fetch(e).then(function(w){return w.blob()}).then(function(w){return v.options===void 0?createImageBitmap(w):createImageBitmap(w,v.options)}).then(function(w){or.add(e,w),r&&r(w),v.manager.itemEnd(e)}).catch(function(w){c&&c(w),v.manager.itemError(e),v.manager.itemEnd(e)}),v.manager.itemStart(e)}}),Xe(Nr.prototype,{moveTo:function(e,r){return this.currentPath=new lc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,r),this},lineTo:function(e,r){return this.currentPath.lineTo(e,r),this},quadraticCurveTo:function(e,r,s,c){return this.currentPath.quadraticCurveTo(e,r,s,c),this},bezierCurveTo:function(e,r,s,c,v,x){return this.currentPath.bezierCurveTo(e,r,s,c,v,x),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,r){function s(Nt){for(var Pt=[],Bt=0,ir=Nt.length;Bt<ir;Bt++){var Ir=Nt[Bt],Tr=new uc;Tr.curves=Ir.curves,Pt.push(Tr)}return Pt}function c(Nt,Pt){for(var Bt=Pt.length,ir=!1,Ir=Bt-1,Tr=0;Tr<Bt;Ir=Tr++){var wt=Pt[Ir],qn=Pt[Tr],Fr=qn.x-wt.x,pi=qn.y-wt.y;if(Math.abs(pi)>Ic){if(0>pi&&(wt=Pt[Tr],Fr=-Fr,qn=Pt[Ir],pi=-pi),!(Nt.y<wt.y||Nt.y>qn.y))if(Nt.y===wt.y){if(Nt.x===wt.x)return!0}else{if(Ir=pi*(Nt.x-wt.x)-Fr*(Nt.y-wt.y),Ir===0)return!0;0>Ir||(ir=!ir)}}else if(Nt.y===wt.y&&(qn.x<=Nt.x&&Nt.x<=wt.x||wt.x<=Nt.x&&Nt.x<=qn.x))return!0}return ir}var v=he.isClockWise,x=this.subPaths;if(x.length===0)return[];if(r===!0)return s(x);if(r=[],x.length===1){var w=x[0],I=new uc;return I.curves=w.curves,r.push(I),r}var j=!v(x[0].getPoints());j=e?!j:j,I=[];var G=[],W=[],ae=0;G[ae]=void 0,W[ae]=[];for(var ue=0,be=x.length;ue<be;ue++){w=x[ue];var Me=w.getPoints(),ct=v(Me);(ct=e?!ct:ct)?(!j&&G[ae]&&ae++,G[ae]={s:new uc,p:Me},G[ae].s.curves=w.curves,j&&ae++,W[ae]=[]):W[ae].push({h:w,p:Me[0]})}if(!G[0])return s(x);if(1<G.length){for(ue=!1,e=[],v=0,x=G.length;v<x;v++)I[v]=[];for(v=0,x=G.length;v<x;v++)for(w=W[v],ct=0;ct<w.length;ct++){for(j=w[ct],ae=!0,Me=0;Me<G.length;Me++)c(j.p,G[Me].p)&&(v!==Me&&e.push({froms:v,tos:Me,hole:ct}),ae?(ae=!1,I[Me].push(j)):ue=!0);ae&&I[v].push(j)}0<e.length&&(ue||(W=I))}for(ue=0,v=G.length;ue<v;ue++)for(I=G[ue].s,r.push(I),e=W[ue],x=0,w=e.length;x<w;x++)I.holes.push(e[x].h);return r}}),Xe(yr.prototype,{isFont:!0,generateShapes:function(e,r){r===void 0&&(r=100);var s=[],c=r;r=this.data;var v=zp?zp(e):String(e).split("");c/=r.resolution;var x=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*c;e=[];for(var w=0,I=0,j=0;j<v.length;j++){var G=v[j];if(G===`
`)w=0,I-=x;else{var W=G;G=c;var ae=w,ue=I,be=r,Me=be.glyphs[W]||be.glyphs["?"];if(Me){if(W=new Nr,Me.o){be=Me._cachedOutline||(Me._cachedOutline=Me.o.split(" "));for(var ct=0,Nt=be.length;ct<Nt;)switch(be[ct++]){case"m":var Pt=be[ct++]*G+ae,Bt=be[ct++]*G+ue;W.moveTo(Pt,Bt);break;case"l":Pt=be[ct++]*G+ae,Bt=be[ct++]*G+ue,W.lineTo(Pt,Bt);break;case"q":var ir=be[ct++]*G+ae,Ir=be[ct++]*G+ue,Tr=be[ct++]*G+ae,wt=be[ct++]*G+ue;W.quadraticCurveTo(Tr,wt,ir,Ir);break;case"b":ir=be[ct++]*G+ae,Ir=be[ct++]*G+ue,Tr=be[ct++]*G+ae,wt=be[ct++]*G+ue,Pt=be[ct++]*G+ae,Bt=be[ct++]*G+ue,W.bezierCurveTo(Tr,wt,Pt,Bt,ir,Ir)}}G={offsetX:Me.ha*G,path:W}}else console.error('THREE.Font: character "'+W+'" does not exists in font family '+be.familyName+"."),G=void 0;w+=G.offsetX,e.push(G.path)}}for(r=0,v=e.length;r<v;r++)Array.prototype.push.apply(s,e[r].toShapes());return s}}),ln.prototype=Xe(Ge(no.prototype),{constructor:ln,load:function(e,r,s,c){var v=this,x=new Us(this.manager);x.setPath(this.path),x.load(e,function(w){try{var I=JSON.parse(w)}catch(j){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),I=JSON.parse(w.substring(65,w.length-2))}w=v.parse(I),r&&r(w)},s,c)},parse:function(e){return new yr(e)}});var Oc,Lu={getContext:function(){return Oc===void 0&&(Oc=new(window.AudioContext||window.webkitAudioContext)),Oc},setContext:function(e){Oc=e}};ni.prototype=Xe(Ge(no.prototype),{constructor:ni,load:function(e,r,s,c){var v=this,x=new Us(v.manager);x.setResponseType("arraybuffer"),x.setPath(v.path),x.load(e,function(w){try{var I=w.slice(0);Lu.getContext().decodeAudioData(I,function(j){r(j)})}catch(j){c?c(j):console.error(j),v.manager.itemError(e)}},s,c)}}),Oi.prototype=Xe(Ge(oe.prototype),{constructor:Oi,isHemisphereLightProbe:!0,copy:function(e){return oe.prototype.copy.call(this,e),this},toJSON:function(e){return oe.prototype.toJSON.call(this,e)}}),Ki.prototype=Xe(Ge(oe.prototype),{constructor:Ki,isAmbientLightProbe:!0,copy:function(e){return oe.prototype.copy.call(this,e),this},toJSON:function(e){return oe.prototype.toJSON.call(this,e)}});var Ah=new ht,Ap=new ht;Xe(function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Gi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Gi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}.prototype,{update:function(e){var r=this._cache;if(r.focus!==e.focus||r.fov!==e.fov||r.aspect!==e.aspect*this.aspect||r.near!==e.near||r.far!==e.far||r.zoom!==e.zoom||r.eyeSep!==this.eyeSep){r.focus=e.focus,r.fov=e.fov,r.aspect=e.aspect*this.aspect,r.near=e.near,r.far=e.far,r.zoom=e.zoom,r.eyeSep=this.eyeSep;var s=e.projectionMatrix.clone(),c=r.eyeSep/2,v=c*r.near/r.focus,x=r.near*Math.tan(L.DEG2RAD*r.fov*.5)/r.zoom;Ap.elements[12]=-c,Ah.elements[12]=c,c=-x*r.aspect+v;var w=x*r.aspect+v;s.elements[0]=2*r.near/(w-c),s.elements[8]=(w+c)/(w-c),this.cameraL.projectionMatrix.copy(s),c=-x*r.aspect-v,w=x*r.aspect-v,s.elements[0]=2*r.near/(w-c),s.elements[8]=(w+c)/(w-c),this.cameraR.projectionMatrix.copy(s)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Ap),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Ah)}}),Xe(Bi.prototype,{start:function(){this.oldTime=this.startTime=(typeof performance=="undefined"?Date:performance).now(),this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.autoStart=this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var r=(typeof performance=="undefined"?Date:performance).now();e=(r-this.oldTime)/1e3,this.oldTime=r,this.elapsedTime+=e}return e}});var wh=new Ie,dw=new qe,cS=new Ie,Iy=new Ie;Ri.prototype=Xe(Ge(pr.prototype),{constructor:Ri,getInput:function(){return this.gain},removeFilter:function(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){pr.prototype.updateMatrixWorld.call(this,e),e=this.context.listener;var r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(wh,dw,cS),Iy.set(0,0,-1).applyQuaternion(dw),e.positionX){var s=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(wh.x,s),e.positionY.linearRampToValueAtTime(wh.y,s),e.positionZ.linearRampToValueAtTime(wh.z,s),e.forwardX.linearRampToValueAtTime(Iy.x,s),e.forwardY.linearRampToValueAtTime(Iy.y,s),e.forwardZ.linearRampToValueAtTime(Iy.z,s),e.upX.linearRampToValueAtTime(r.x,s),e.upY.linearRampToValueAtTime(r.y,s),e.upZ.linearRampToValueAtTime(r.z,s)}else e.setPosition(wh.x,wh.y,wh.z),e.setOrientation(Iy.x,Iy.y,Iy.z,r.x,r.y,r.z)}}),ma.prototype=Xe(Ge(pr.prototype),{constructor:ma,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(e){if(e===void 0&&(e=0),this.isPlaying===!0)console.warn("THREE.Audio: Audio is already playing.");else if(this.hasPlaybackControl===!1)console.warn("THREE.Audio: this Audio has no playback control.");else return this._startedAt=this.context.currentTime+e,e=this.context.createBufferSource(),e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()},pause:function(){if(this.hasPlaybackControl===!1)console.warn("THREE.Audio: this Audio has no playback control.");else return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress%=this.duration||this.buffer.duration),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this},stop:function(){if(this.hasPlaybackControl===!1)console.warn("THREE.Audio: this Audio has no playback control.");else return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var e=1,r=this.filters.length;e<r;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var e=1,r=this.filters.length;e<r;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),this.isPlaying===!0?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(this.hasPlaybackControl===!1)console.warn("THREE.Audio: this Audio has no playback control.");else return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(this.hasPlaybackControl===!1)console.warn("THREE.Audio: this Audio has no playback control.");else return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this},setLoopStart:function(e){return this.loopStart=e,this},setLoopEnd:function(e){return this.loopEnd=e,this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});var Py=new Ie,pw=new qe,fS=new Ie,Oy=new Ie;ra.prototype=Xe(Ge(ma.prototype),{constructor:ra,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,r,s){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=r,this.panner.coneOuterGain=s,this},updateMatrixWorld:function(e){if(pr.prototype.updateMatrixWorld.call(this,e),this.hasPlaybackControl!==!0||this.isPlaying!==!1)if(this.matrixWorld.decompose(Py,pw,fS),Oy.set(0,0,1).applyQuaternion(pw),e=this.panner,e.positionX){var r=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(Py.x,r),e.positionY.linearRampToValueAtTime(Py.y,r),e.positionZ.linearRampToValueAtTime(Py.z,r),e.orientationX.linearRampToValueAtTime(Oy.x,r),e.orientationY.linearRampToValueAtTime(Oy.y,r),e.orientationZ.linearRampToValueAtTime(Oy.z,r)}else e.setPosition(Py.x,Py.y,Py.z),e.setOrientation(Oy.x,Oy.y,Oy.z)}}),Xe(Fs.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,r=this.getFrequencyData(),s=0;s<r.length;s++)e+=r[s];return e/r.length}}),Xe(fu.prototype,{accumulate:function(e,r){var s=this.buffer,c=this.valueSize;e=e*c+c;var v=this.cumulativeWeight;if(v===0){for(v=0;v!==c;++v)s[e+v]=s[v];v=r}else v+=r,this._mixBufferRegion(s,e,0,r/v,c);this.cumulativeWeight=v},accumulateAdditive:function(e){var r=this.buffer,s=this.valueSize,c=s*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(r,c,0,e,s),this.cumulativeWeightAdditive+=e},apply:function(e){var r=this.valueSize,s=this.buffer;e=e*r+r;var c=this.cumulativeWeight,v=this.cumulativeWeightAdditive,x=this.binding;for(this.cumulativeWeightAdditive=this.cumulativeWeight=0,1>c&&this._mixBufferRegion(s,e,r*this._origIndex,1-c,r),0<v&&this._mixBufferRegionAdditive(s,e,this._addIndex*r,1,r),c=r,v=r+r;c!==v;++c)if(s[c]!==s[c+r]){x.setValue(s,e);break}},saveOriginalState:function(){var e=this.buffer,r=this.valueSize,s=r*this._origIndex;this.binding.getValue(e,s);for(var c=r;c!==s;++c)e[c]=e[s+c%r];this._setIdentity(),this.cumulativeWeightAdditive=this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_setAdditiveIdentityNumeric:function(){for(var e=this._addIndex*this.valueSize,r=e+this.valueSize;e<r;e++)this.buffer[e]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[4*this._addIndex+3]=1},_setAdditiveIdentityOther:function(){for(var e=this._origIndex*this.valueSize,r=this._addIndex*this.valueSize,s=0;s<this.valueSize;s++)this.buffer[r+s]=this.buffer[e+s]},_select:function(e,r,s,c,v){if(.5<=c)for(c=0;c!==v;++c)e[r+c]=e[s+c]},_slerp:function(e,r,s,c){qe.slerpFlat(e,r,e,r,e,s,c)},_slerpAdditive:function(e,r,s,c,v){v*=this._workIndex,qe.multiplyQuaternionsFlat(e,v,e,r,e,s),qe.slerpFlat(e,r,e,r,e,v,c)},_lerp:function(e,r,s,c,v){for(var x=1-c,w=0;w!==v;++w){var I=r+w;e[I]=e[I]*x+e[s+w]*c}},_lerpAdditive:function(e,r,s,c,v){for(var x=0;x!==v;++x){var w=r+x;e[w]+=e[s+x]*c}}});var hS=/[\[\]\.:\/]/g,dS="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",pS=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),mS=/(WCOD+)?/.source.replace("WCOD",dS),vS=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),gS=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),yS=new RegExp("^"+pS+mS+vS+gS+"$"),xS=["material","materials","bones"];Xe(Zs.prototype,{getValue:function(e,r){this.bind();var s=this._bindings[this._targetGroup.nCachedObjects_];s!==void 0&&s.getValue(e,r)},setValue:function(e,r){for(var s=this._bindings,c=this._targetGroup.nCachedObjects_,v=s.length;c!==v;++c)s[c].setValue(e,r)},bind:function(){for(var e=this._bindings,r=this._targetGroup.nCachedObjects_,s=e.length;r!==s;++r)e[r].bind()},unbind:function(){for(var e=this._bindings,r=this._targetGroup.nCachedObjects_,s=e.length;r!==s;++r)e[r].unbind()}}),Xe(_a,{Composite:Zs,create:function(e,r,s){return e&&e.isAnimationObjectGroup?new _a.Composite(e,r,s):new _a(e,r,s)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(hS,"")},parseTrackName:function(e){var r=yS.exec(e);if(!r)throw Error("PropertyBinding: Cannot parse trackName: "+e);r={nodeName:r[2],objectName:r[3],objectIndex:r[4],propertyName:r[5],propertyIndex:r[6]};var s=r.nodeName&&r.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){var c=r.nodeName.substring(s+1);xS.indexOf(c)!==-1&&(r.nodeName=r.nodeName.substring(0,s),r.objectName=c)}if(r.propertyName===null||r.propertyName.length===0)throw Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r},findNode:function(e,r){if(!r||r===""||r==="."||r===-1||r===e.name||r===e.uuid)return e;if(e.skeleton){var s=e.skeleton.getBoneByName(r);if(s!==void 0)return s}return e.children&&(e=function c(v){for(var x=0;x<v.length;x++){var w=v[x];if(w.name===r||w.uuid===r||(w=c(w.children)))return w}return null}(e.children))?e:null}}),Xe(_a.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(i,e){i[e]=this.node[this.propertyName]},function(i,e){for(var r=this.resolvedProperty,s=0,c=r.length;s!==c;++s)i[e++]=r[s]},function(i,e){i[e]=this.resolvedProperty[this.propertyIndex]},function(i,e){this.resolvedProperty.toArray(i,e)}],SetterByBindingTypeAndVersioning:[[function(i,e){this.targetObject[this.propertyName]=i[e]},function(i,e){this.targetObject[this.propertyName]=i[e],this.targetObject.needsUpdate=!0},function(i,e){this.targetObject[this.propertyName]=i[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(i,e){for(var r=this.resolvedProperty,s=0,c=r.length;s!==c;++s)r[s]=i[e++]},function(i,e){for(var r=this.resolvedProperty,s=0,c=r.length;s!==c;++s)r[s]=i[e++];this.targetObject.needsUpdate=!0},function(i,e){for(var r=this.resolvedProperty,s=0,c=r.length;s!==c;++s)r[s]=i[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(i,e){this.resolvedProperty[this.propertyIndex]=i[e]},function(i,e){this.resolvedProperty[this.propertyIndex]=i[e],this.targetObject.needsUpdate=!0},function(i,e){this.resolvedProperty[this.propertyIndex]=i[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(i,e){this.resolvedProperty.fromArray(i,e)},function(i,e){this.resolvedProperty.fromArray(i,e),this.targetObject.needsUpdate=!0},function(i,e){this.resolvedProperty.fromArray(i,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,r){this.bind(),this.getValue(e,r)},setValue:function(e,r){this.bind(),this.setValue(e,r)},bind:function(){var e=this.node,r=this.parsedPath,s=r.objectName,c=r.propertyName,v=r.propertyIndex;if(e||(this.node=e=_a.findNode(this.rootNode,r.nodeName)||this.rootNode),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(s){var x=r.objectIndex;switch(s){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}for(e=e.skeleton.bones,s=0;s<e.length;s++)if(e[s].name===x){x=s;break}break;default:if(e[s]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[s]}if(x!==void 0){if(e[x]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[x]}}if(x=e[c],x===void 0)console.error("THREE.PropertyBinding: Trying to update property for track: "+r.nodeName+"."+c+" but it wasn't found.",e);else{if(r=this.Versioning.None,this.targetObject=e,e.needsUpdate!==void 0?r=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(r=this.Versioning.MatrixWorldNeedsUpdate),s=this.BindingType.Direct,v!==void 0){if(c==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[v]!==void 0&&(v=e.morphTargetDictionary[v])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}s=this.BindingType.ArrayElement,this.resolvedProperty=x,this.propertyIndex=v}else x.fromArray!==void 0&&x.toArray!==void 0?(s=this.BindingType.HasFromToArray,this.resolvedProperty=x):Array.isArray(x)?(s=this.BindingType.EntireArray,this.resolvedProperty=x):this.propertyName=c;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][r]}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Xe(_a.prototype,{_getValue_unbound:_a.prototype.getValue,_setValue_unbound:_a.prototype.setValue}),Xe(function(){this.uuid=L.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var i={};this._indicesByUUID=i;for(var e=0,r=arguments.length;e!==r;++e)i[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var s=this;this.stats={objects:{get total(){return s._objects.length},get inUse(){return this.total-s.nCachedObjects_}},get bindingsPerObject(){return s._bindings.length}}}.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,r=e.length,s=this.nCachedObjects_,c=this._indicesByUUID,v=this._paths,x=this._parsedPaths,w=this._bindings,I=w.length,j=void 0,G=0,W=arguments.length;G!==W;++G){var ae=arguments[G],ue=ae.uuid,be=c[ue];if(be===void 0){be=r++,c[ue]=be,e.push(ae),ue=0;for(var Me=I;ue!==Me;++ue)w[ue].push(new _a(ae,v[ue],x[ue]))}else if(be<s){j=e[be];var ct=--s;for(Me=e[ct],c[Me.uuid]=be,e[be]=Me,c[ue]=ct,e[ct]=ae,ue=0,Me=I;ue!==Me;++ue){var Nt=w[ue],Pt=Nt[be];Nt[be]=Nt[ct],Pt===void 0&&(Pt=new _a(ae,v[ue],x[ue])),Nt[ct]=Pt}}else e[be]!==j&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=s},remove:function(){for(var e=this._objects,r=this.nCachedObjects_,s=this._indicesByUUID,c=this._bindings,v=c.length,x=0,w=arguments.length;x!==w;++x){var I=arguments[x],j=I.uuid,G=s[j];if(G!==void 0&&G>=r){var W=r++,ae=e[W];for(s[ae.uuid]=G,e[G]=ae,s[j]=W,e[W]=I,I=0,j=v;I!==j;++I){ae=c[I];var ue=ae[G];ae[G]=ae[W],ae[W]=ue}}}this.nCachedObjects_=r},uncache:function(){for(var e=this._objects,r=e.length,s=this.nCachedObjects_,c=this._indicesByUUID,v=this._bindings,x=v.length,w=0,I=arguments.length;w!==I;++w){var j=arguments[w].uuid,G=c[j];if(G!==void 0)if(delete c[j],G<s){j=--s;var W=e[j],ae=--r,ue=e[ae];for(c[W.uuid]=G,e[G]=W,c[ue.uuid]=j,e[j]=ue,e.pop(),W=0,ue=x;W!==ue;++W){var be=v[W],Me=be[ae];be[G]=be[j],be[j]=Me,be.pop()}}else for(ae=--r,ue=e[ae],c[ue.uuid]=G,e[G]=ue,e.pop(),W=0,ue=x;W!==ue;++W)be=v[W],be[G]=be[ae],be.pop()}this.nCachedObjects_=s},subscribe_:function(e,r){var s=this._bindingsIndicesByPath,c=s[e],v=this._bindings;if(c!==void 0)return v[c];var x=this._paths,w=this._parsedPaths,I=this._objects,j=this.nCachedObjects_,G=Array(I.length);for(c=v.length,s[e]=c,x.push(e),w.push(r),v.push(G),s=j,c=I.length;s!==c;++s)G[s]=new _a(I[s],e,r);return G},unsubscribe_:function(e){var r=this._bindingsIndicesByPath,s=r[e];if(s!==void 0){var c=this._paths,v=this._parsedPaths,x=this._bindings,w=x.length-1,I=x[w];r[e[w]]=s,x[s]=I,x.pop(),v[s]=v[w],v.pop(),c[s]=c[w],c.pop()}}}),Xe(ku.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,r){return this.loop=e,this.repetitions=r,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,r,s){if(e.fadeOut(r),this.fadeIn(r),s){s=this._clip.duration;var c=e._clip.duration,v=s/c;e.warp(1,c/s,r),this.warp(v,1,r)}return this},crossFadeTo:function(e,r,s){return e.crossFadeFrom(this,r,s)},stopFading:function(){var e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,r,s){var c=this._mixer,v=c.time,x=this._timeScaleInterpolant,w=this.timeScale;return x===null&&(this._timeScaleInterpolant=x=c._lendControlInterpolant()),c=x.parameterPositions,x=x.sampleValues,c[0]=v,c[1]=v+s,x[0]=e/w,x[1]=r/w,this},stopWarping:function(){var e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,r,s,c){if(this.enabled){var v=this._startTime;if(v!==null){if(r=(e-v)*s,0>r||s===0)return;this._startTime=null,r*=s}if(r*=this._updateTimeScale(e),s=this._updateTime(r),e=this._updateWeight(e),0<e)switch(r=this._interpolants,v=this._propertyBindings,this.blendMode){case 2501:for(var x=0,w=r.length;x!==w;++x)r[x].evaluate(s),v[x].accumulateAdditive(e);break;default:for(x=0,w=r.length;x!==w;++x)r[x].evaluate(s),v[x].accumulate(c,e)}}else this._updateWeight(e)},_updateWeight:function(e){var r=0;if(this.enabled){r=this.weight;var s=this._weightInterpolant;if(s!==null){var c=s.evaluate(e)[0];r*=c,e>s.parameterPositions[1]&&(this.stopFading(),c===0&&(this.enabled=!1))}}return this._effectiveWeight=r},_updateTimeScale:function(e){var r=0;if(!this.paused){r=this.timeScale;var s=this._timeScaleInterpolant;if(s!==null){var c=s.evaluate(e)[0];r*=c,e>s.parameterPositions[1]&&(this.stopWarping(),r===0?this.paused=!0:this.timeScale=r)}}return this._effectiveTimeScale=r},_updateTime:function(e){var r=this.time+e,s=this._clip.duration,c=this.loop,v=this._loopCount,x=c===2202;if(e===0)return v===-1?r:x&&(v&1)==1?s-r:r;if(c===2200)e:{if(v===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1)),r>=s)r=s;else if(0>r)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:0>e?-1:1})}else{if(v===-1&&(0<=e?(v=0,this._setEndings(!0,this.repetitions===0,x)):this._setEndings(this.repetitions===0,!0,x)),r>=s||0>r){c=Math.floor(r/s),r-=s*c,v+=Math.abs(c);var w=this.repetitions-v;0>=w?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r=0<e?s:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<e?1:-1})):(w===1?(e=0>e,this._setEndings(e,!e,x)):this._setEndings(!1,!1,x),this._loopCount=v,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c}))}else this.time=r;if(x&&(v&1)==1)return s-r}return r},_setEndings:function(e,r,s){var c=this._interpolantSettings;s?(c.endingStart=2401,c.endingEnd=2401):(c.endingStart=e?this.zeroSlopeAtStart?2401:2400:2402,c.endingEnd=r?this.zeroSlopeAtEnd?2401:2400:2402)},_scheduleFading:function(e,r,s){var c=this._mixer,v=c.time,x=this._weightInterpolant;return x===null&&(this._weightInterpolant=x=c._lendControlInterpolant()),c=x.parameterPositions,x=x.sampleValues,c[0]=v,x[0]=r,c[1]=v+e,x[1]=s,this}}),zc.prototype=Xe(Ge(Vr.prototype),{constructor:zc,_bindAction:function(e,r){var s=e._localRoot||this._root,c=e._clip.tracks,v=c.length,x=e._propertyBindings;e=e._interpolants;var w=s.uuid,I=this._bindingsByRootAndName,j=I[w];for(j===void 0&&(j={},I[w]=j),I=0;I!==v;++I){var G=c[I],W=G.name,ae=j[W];if(ae===void 0){if(ae=x[I],ae!==void 0){ae._cacheIndex===null&&(++ae.referenceCount,this._addInactiveBinding(ae,w,W));continue}ae=new fu(_a.create(s,W,r&&r._propertyBindings[I].binding.parsedPath),G.ValueTypeName,G.getValueSize()),++ae.referenceCount,this._addInactiveBinding(ae,w,W)}x[I]=ae,e[I].resultBuffer=ae.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){var r=(e._localRoot||this._root).uuid,s=e._clip.uuid,c=this._actionsByClip[s];this._bindAction(e,c&&c.knownActions[0]),this._addInactiveAction(e,s,r)}for(r=e._propertyBindings,s=0,c=r.length;s!==c;++s){var v=r[s];v.useCount++==0&&(this._lendBinding(v),v.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var r=e._propertyBindings,s=0,c=r.length;s!==c;++s){var v=r[s];--v.useCount==0&&(v.restoreOriginalState(),this._takeBackBinding(v))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){return e=e._cacheIndex,e!==null&&e<this._nActiveActions},_addInactiveAction:function(e,r,s){var c=this._actions,v=this._actionsByClip,x=v[r];x===void 0?(x={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,v[r]=x):(r=x.knownActions,e._byClipCacheIndex=r.length,r.push(e)),e._cacheIndex=c.length,c.push(e),x.actionByRoot[s]=e},_removeInactiveAction:function(e){var r=this._actions,s=r[r.length-1],c=e._cacheIndex;s._cacheIndex=c,r[c]=s,r.pop(),e._cacheIndex=null,r=e._clip.uuid,s=this._actionsByClip,c=s[r];var v=c.knownActions,x=v[v.length-1],w=e._byClipCacheIndex;x._byClipCacheIndex=w,v[w]=x,v.pop(),e._byClipCacheIndex=null,delete c.actionByRoot[(e._localRoot||this._root).uuid],v.length===0&&delete s[r],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){e=e._propertyBindings;for(var r=0,s=e.length;r!==s;++r){var c=e[r];--c.referenceCount==0&&this._removeInactiveBinding(c)}},_lendAction:function(e){var r=this._actions,s=e._cacheIndex,c=this._nActiveActions++,v=r[c];e._cacheIndex=c,r[c]=e,v._cacheIndex=s,r[s]=v},_takeBackAction:function(e){var r=this._actions,s=e._cacheIndex,c=--this._nActiveActions,v=r[c];e._cacheIndex=c,r[c]=e,v._cacheIndex=s,r[s]=v},_addInactiveBinding:function(e,r,s){var c=this._bindingsByRootAndName,v=c[r],x=this._bindings;v===void 0&&(v={},c[r]=v),v[s]=e,e._cacheIndex=x.length,x.push(e)},_removeInactiveBinding:function(e){var r=this._bindings,s=e.binding,c=s.rootNode.uuid;s=s.path;var v=this._bindingsByRootAndName,x=v[c],w=r[r.length-1];e=e._cacheIndex,w._cacheIndex=e,r[e]=w,r.pop(),delete x[s],Vc(x).length===0&&delete v[c]},_lendBinding:function(e){var r=this._bindings,s=e._cacheIndex,c=this._nActiveBindings++,v=r[c];e._cacheIndex=c,r[c]=e,v._cacheIndex=s,r[s]=v},_takeBackBinding:function(e){var r=this._bindings,s=e._cacheIndex,c=--this._nActiveBindings,v=r[c];e._cacheIndex=c,r[c]=e,v._cacheIndex=s,r[s]=v},_lendControlInterpolant:function(){var e=this._controlInterpolants,r=this._nActiveControlInterpolants++,s=e[r];return s===void 0&&(s=new sc(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),s.__cacheIndex=r,e[r]=s),s},_takeBackControlInterpolant:function(e){var r=this._controlInterpolants,s=e.__cacheIndex,c=--this._nActiveControlInterpolants,v=r[c];e.__cacheIndex=c,r[c]=e,v.__cacheIndex=s,r[s]=v},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,r,s){var c=r||this._root,v=c.uuid;c=typeof e=="string"?Zf.findByName(c,e):e,e=c!==null?c.uuid:e;var x=this._actionsByClip[e],w=null;if(s===void 0&&(s=c!==null?c.blendMode:2500),x!==void 0){if(w=x.actionByRoot[v],w!==void 0&&w.blendMode===s)return w;w=x.knownActions[0],c===null&&(c=w._clip)}return c===null?null:(r=new ku(this,c,r,s),this._bindAction(r,w),this._addInactiveAction(r,e,v),r)},existingAction:function(e,r){var s=r||this._root;return r=s.uuid,s=typeof e=="string"?Zf.findByName(s,e):e,e=this._actionsByClip[s?s.uuid:e],e!==void 0&&e.actionByRoot[r]||null},stopAllAction:function(){for(var e=this._actions,r=this._nActiveActions-1;0<=r;--r)e[r].stop();return this},update:function(e){e*=this.timeScale;for(var r=this._actions,s=this._nActiveActions,c=this.time+=e,v=Im(e),x=this._accuIndex^=1,w=0;w!==s;++w)r[w]._update(c,e,v,x);for(e=this._bindings,r=this._nActiveBindings,w=0;w!==r;++w)e[w].apply(x);return this},setTime:function(e){for(var r=this.time=0;r<this._actions.length;r++)this._actions[r].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){var r=this._actions;e=e.uuid;var s=this._actionsByClip,c=s[e];if(c!==void 0){c=c.knownActions;for(var v=0,x=c.length;v!==x;++v){var w=c[v];this._deactivateAction(w);var I=w._cacheIndex,j=r[r.length-1];w._cacheIndex=null,w._byClipCacheIndex=null,j._cacheIndex=I,r[I]=j,r.pop(),this._removeInactiveBindingsForAction(w)}delete s[e]}},uncacheRoot:function(e){e=e.uuid;var r=this._actionsByClip;for(c in r){var s=r[c].actionByRoot[e];s!==void 0&&(this._deactivateAction(s),this._removeInactiveAction(s))}var c=this._bindingsByRootAndName[e];if(c!==void 0)for(var v in c)e=c[v],e.restoreOriginalState(),this._removeInactiveBinding(e)},uncacheAction:function(e,r){e=this.existingAction(e,r),e!==null&&(this._deactivateAction(e),this._removeInactiveAction(e))}}),hu.prototype.clone=function(){return new hu(this.value.clone===void 0?this.value:this.value.clone())},Na.prototype=Xe(Ge(ah.prototype),{constructor:Na,isInstancedInterleavedBuffer:!0,copy:function(e){return ah.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Xe(Va.prototype,{set:function(e,r){this.ray.set(e,r)},setFromCamera:function(e,r){r&&r.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(r.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(r).sub(this.ray.origin).normalize(),this.camera=r):r&&r.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(r.near+r.far)/(r.near-r.far)).unproject(r),this.ray.direction.set(0,0,-1).transformDirection(r.matrixWorld),this.camera=r):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,r,s){return s=s||[],Hu(e,this,s,r),s.sort(Rf),s},intersectObjects:function(e,r,s){if(s=s||[],Array.isArray(e)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),s;for(var c=0,v=e.length;c<v;c++)Hu(e[c],this,s,r);return s.sort(Rf),s}}),Xe(function(i,e,r){return this.radius=i!==void 0?i:1,this.phi=e!==void 0?e:0,this.theta=r!==void 0?r:0,this}.prototype,{set:function(e,r,s){return this.radius=e,this.phi=r,this.theta=s,this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,r,s){return this.radius=Math.sqrt(e*e+r*r+s*s),this.radius===0?this.phi=this.theta=0:(this.theta=Math.atan2(e,s),this.phi=Math.acos(L.clamp(r/this.radius,-1,1))),this}}),Xe(function(i,e,r){return this.radius=i!==void 0?i:1,this.theta=e!==void 0?e:0,this.y=r!==void 0?r:0,this}.prototype,{set:function(e,r,s){return this.radius=e,this.theta=r,this.y=s,this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,r,s){return this.radius=Math.sqrt(e*e+s*s),this.theta=Math.atan2(e,s),this.y=r,this}});var mw=new $e;Xe(Vu.prototype,{set:function(e,r){return this.min.copy(e),this.max.copy(r),this},setFromPoints:function(e){this.makeEmpty();for(var r=0,s=e.length;r<s;r++)this.expandByPoint(e[r]);return this},setFromCenterAndSize:function(e,r){return r=mw.copy(r).multiplyScalar(.5),this.min.copy(e).sub(r),this.max.copy(e).add(r),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=Infinity,this.max.x=this.max.y=-Infinity,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return e===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new $e),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return e===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new $e),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,r){return r===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),r=new $e),r.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,r){return r===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),r=new $e),r.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return mw.copy(e).clamp(this.min,this.max).sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var vw=new Ie,pC=new Ie;Xe(Ju.prototype,{set:function(e,r){return this.start.copy(e),this.end.copy(r),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return e===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new Ie),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return e===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),e=new Ie),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,r){return r===void 0&&(console.warn("THREE.Line3: .at() target is now required"),r=new Ie),this.delta(r).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,r){return vw.subVectors(e,this.start),pC.subVectors(this.end,this.start),e=pC.dot(pC),e=pC.dot(vw)/e,r&&(e=L.clamp(e,0,1)),e},closestPointToPoint:function(e,r,s){return e=this.closestPointToPointParameter(e,r),s===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),s=new Ie),this.delta(s).multiplyScalar(e).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),yc.prototype=Ge(pr.prototype),yc.prototype.constructor=yc,yc.prototype.isImmediateRenderObject=!0;var gw=new Ie;Zl.prototype=Ge(pr.prototype),Zl.prototype.constructor=Zl,Zl.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Zl.prototype.update=function(){this.light.updateMatrixWorld();var i=this.light.distance?this.light.distance:1e3,e=i*Math.tan(this.light.angle);this.cone.scale.set(e,e,i),gw.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(gw),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var H0=new Ie,mC=new ht,GA=new ht;du.prototype=Ge(Ar.prototype),du.prototype.constructor=du,du.prototype.isSkeletonHelper=!0,du.prototype.updateMatrixWorld=function(i){var e=this.bones,r=this.geometry,s=r.getAttribute("position");GA.getInverse(this.root.matrixWorld);for(var c=0,v=0;c<e.length;c++){var x=e[c];x.parent&&x.parent.isBone&&(mC.multiplyMatrices(GA,x.matrixWorld),H0.setFromMatrixPosition(mC),s.setXYZ(v,H0.x,H0.y,H0.z),mC.multiplyMatrices(GA,x.parent.matrixWorld),H0.setFromMatrixPosition(mC),s.setXYZ(v+1,H0.x,H0.y,H0.z),v+=2)}r.getAttribute("position").needsUpdate=!0,pr.prototype.updateMatrixWorld.call(this,i)},xf.prototype=Ge(ei.prototype),xf.prototype.constructor=xf,xf.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},xf.prototype.update=function(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)};var CS=new Ie,yw=new At,xw=new At;Su.prototype=Ge(pr.prototype),Su.prototype.constructor=Su,Su.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Su.prototype.update=function(){var i=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{var e=i.geometry.getAttribute("color");yw.copy(this.light.color),xw.copy(this.light.groundColor);for(var r=0,s=e.count;r<s;r++){var c=r<s/2?yw:xw;e.setXYZ(r,c.r,c.g,c.b)}e.needsUpdate=!0}i.lookAt(CS.setFromMatrixPosition(this.light.matrixWorld).negate())},pu.prototype=Xe(Ge(Ar.prototype),{constructor:pu,copy:function(e){return Ar.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return new this.constructor().copy(this)}}),ch.prototype=Ge(Ar.prototype),ch.prototype.constructor=ch;var Cw=new Ie,vC=new Ie,Aw=new Ie;$f.prototype=Ge(pr.prototype),$f.prototype.constructor=$f,$f.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},$f.prototype.update=function(){Cw.setFromMatrixPosition(this.light.matrixWorld),vC.setFromMatrixPosition(this.light.target.matrixWorld),Aw.subVectors(vC,Cw),this.lightPlane.lookAt(vC),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(vC),this.targetLine.scale.z=Aw.length()};var gC=new Ie,ed=new As;To.prototype=Ge(Ar.prototype),To.prototype.constructor=To,To.prototype.update=function(){var i=this.geometry,e=this.pointMap;ed.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Li("c",e,i,ed,0,0,-1),Li("t",e,i,ed,0,0,1),Li("n1",e,i,ed,-1,-1,-1),Li("n2",e,i,ed,1,-1,-1),Li("n3",e,i,ed,-1,1,-1),Li("n4",e,i,ed,1,1,-1),Li("f1",e,i,ed,-1,-1,1),Li("f2",e,i,ed,1,-1,1),Li("f3",e,i,ed,-1,1,1),Li("f4",e,i,ed,1,1,1),Li("u1",e,i,ed,.7,1.1,-1),Li("u2",e,i,ed,-.7,1.1,-1),Li("u3",e,i,ed,0,2,-1),Li("cf1",e,i,ed,-1,0,1),Li("cf2",e,i,ed,1,0,1),Li("cf3",e,i,ed,0,-1,1),Li("cf4",e,i,ed,0,1,1),Li("cn1",e,i,ed,-1,0,-1),Li("cn2",e,i,ed,1,0,-1),Li("cn3",e,i,ed,0,-1,-1),Li("cn4",e,i,ed,0,1,-1),i.getAttribute("position").needsUpdate=!0};var yC=new An;Zi.prototype=Ge(Ar.prototype),Zi.prototype.constructor=Zi,Zi.prototype.update=function(i){if(i!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&yC.setFromObject(this.object),!yC.isEmpty()){i=yC.min;var e=yC.max,r=this.geometry.attributes.position,s=r.array;s[0]=e.x,s[1]=e.y,s[2]=e.z,s[3]=i.x,s[4]=e.y,s[5]=e.z,s[6]=i.x,s[7]=i.y,s[8]=e.z,s[9]=e.x,s[10]=i.y,s[11]=e.z,s[12]=e.x,s[13]=e.y,s[14]=i.z,s[15]=i.x,s[16]=e.y,s[17]=i.z,s[18]=i.x,s[19]=i.y,s[20]=i.z,s[21]=e.x,s[22]=i.y,s[23]=i.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}},Zi.prototype.setFromObject=function(i){return this.object=i,this.update(),this},Zi.prototype.copy=function(i){return Ar.prototype.copy.call(this,i),this.object=i.object,this},Zi.prototype.clone=function(){return new this.constructor().copy(this)},Io.prototype=Ge(Ar.prototype),Io.prototype.constructor=Io,Io.prototype.updateMatrixWorld=function(i){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),pr.prototype.updateMatrixWorld.call(this,i))},_i.prototype=Ge(vr.prototype),_i.prototype.constructor=_i,_i.prototype.updateMatrixWorld=function(i){var e=-this.plane.constant;1e-8>Math.abs(e)&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=0>e?1:0,this.lookAt(this.plane.normal),pr.prototype.updateMatrixWorld.call(this,i)};var ww=new Ie,xC,YA;Co.prototype=Ge(pr.prototype),Co.prototype.constructor=Co,Co.prototype.setDirection=function(i){.99999<i.y?this.quaternion.set(0,0,0,1):-.99999>i.y?this.quaternion.set(1,0,0,0):(ww.set(i.z,0,-i.x).normalize(),this.quaternion.setFromAxisAngle(ww,Math.acos(i.y)))},Co.prototype.setLength=function(i,e,r){e===void 0&&(e=.2*i),r===void 0&&(r=.2*e),this.line.scale.set(1,Math.max(1e-4,i-e),1),this.line.updateMatrix(),this.cone.scale.set(r,e,r),this.cone.position.y=i,this.cone.updateMatrix()},Co.prototype.setColor=function(i){this.line.material.color.set(i),this.cone.material.color.set(i)},Co.prototype.copy=function(i){return pr.prototype.copy.call(this,i,!1),this.line.copy(i.line),this.cone.copy(i.cone),this},Co.prototype.clone=function(){return new this.constructor().copy(this)},hs.prototype=Ge(Ar.prototype),hs.prototype.constructor=hs;var bw=[.125,.215,.35,.446,.526,.582],AS=5+bw.length,Ry={};B(Ry,3e3,0),B(Ry,3001,1),B(Ry,3002,2),B(Ry,3004,3),B(Ry,3005,4),B(Ry,3006,5),B(Ry,3007,6),new Qf,function(){for(var i=[],e=[],r=[],s=8,c=0;c<AS;c++){var v=Math.pow(2,s);e.push(v);var x=1/v;4<c?x=bw[c-8+4-1]:c==0&&(x=0),r.push(x),x=1/(v-1),v=-x/2,x=1+x/2;var w=[v,v,x,v,x,x,v,v,x,x,v,x];v=new Float32Array(108),x=new Float32Array(72);for(var I=new Float32Array(36),j=0;6>j;j++){var G=j%3*2/3-1,W=2<j?0:-1;v.set([G,W,0,G+2/3,W,0,G+2/3,W+1,0,G,W,0,G+2/3,W+1,0,G,W+1,0],18*j),x.set(w,12*j),I.set([j,j,j,j,j,j],6*j)}w=new kr,w.setAttribute("position",new Nn(v,3)),w.setAttribute("uv",new Nn(x,2)),w.setAttribute("faceIndex",new Nn(I,1)),i.push(w),4<s&&s--}return{_lodPlanes:i,_sizeLods:e,_sigmas:r}}(),io.create=function(i,e){return i.prototype=Ge(io.prototype),i.prototype.constructor=i,i.prototype.getPoint=e,i},Xe(Bc.prototype,{createPointsGeometry:function(e){return console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead."),e=this.getPoints(e),this.createGeometry(e)},createSpacedPointsGeometry:function(e){return console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead."),e=this.getSpacedPoints(e),this.createGeometry(e)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var r=new ui,s=0,c=e.length;s<c;s++){var v=e[s];r.vertices.push(new Ie(v.x,v.y,v.z||0))}return r}}),Xe(lc.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),function(i){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Ku.call(this,i),this.type="catmullrom",this.closed=!0}.prototype=Ge(Ku.prototype),function(i){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Ku.call(this,i),this.type="catmullrom"}.prototype=Ge(Ku.prototype),mu.prototype=Ge(Ku.prototype),Xe(mu.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),pu.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},du.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Xe(no.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),ri.extractUrlBase(e)}}),no.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Xe(Ct.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Xe(Vu.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Xe(An.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Xe(fr.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),ss.prototype.setFromMatrix=function(i){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(i)},Ju.prototype.center=function(i){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(i)},Xe(L,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),L.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),L.ceilPowerOfTwo(e)}}),Xe(Et.prototype,{flattenToArrayOffset:function(e,r){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,r)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Xe(ht.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,r){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,r)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new Ie().setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,r,s,c,v,x){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,r,c,s,v,x)}}),Wr.prototype.isIntersectionLine=function(i){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(i)},qe.prototype.multiplyVector3=function(i){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),i.applyQuaternion(this)},Xe(_r.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Xe(dt.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,r)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Xe(dt,{barycoordFromPoint:function(e,r,s,c,v){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),dt.getBarycoord(e,r,s,c,v)},normal:function(e,r,s,c){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),dt.getNormal(e,r,s,c)}}),Xe(uc.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new bs(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Zo(this,e)}}),Xe($e.prototype,{fromAttribute:function(e,r,s){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,r,s)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Xe(Ie.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,r){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(r,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,r,s){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,r,s)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Xe(et.prototype,{fromAttribute:function(e,r,s){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,r,s)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Xe(ui.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Xe(pr.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,r){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(r,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Ia(pr.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Xe(ei.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Ia(ei.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Ia(Le.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Qe.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),it.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(io.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),Gi.prototype.setLens=function(i,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(i)},Ia(fi.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Ia(Nn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===35048},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(35048)}}}),Xe(Nn.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?35048:35044),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Xe(kr.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,r,s){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),r&&r.isBufferAttribute||r&&r.isInterleavedBufferAttribute?e==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(r),this):this.setAttribute(e,r):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Nn(r,s)))},addDrawCall:function(e,r,s){s!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,r)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Ia(kr.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Ia(ce.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}}),Ia(Va.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}}),Ia(ah.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===35048},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Xe(ah.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?35048:35044),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Xe(Uu.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Ia(hu.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Ia(Kr.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new At}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===1}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Ia(lh.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Ia($o.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Xe(wc.prototype,{clearTarget:function(e,r,s,c){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(r,s,c)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Ia(wc.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=e===!0?3001:3e3}}}),Ia(vf.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Ia(bt.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Ia(ma.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var r=this;return new ni().load(e,function(s){r.setBuffer(s)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),Fs.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Xs.prototype.updateCubeMap=function(i,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(i,e)},H.crossOrigin=void 0,H.loadTexture=function(i,e,r,s){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var c=new Xu;return c.setCrossOrigin(this.crossOrigin),i=c.load(i,r,void 0,s),e&&(i.mapping=e),i},H.loadTextureCube=function(i,e,r,s){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var c=new Od;return c.setCrossOrigin(this.crossOrigin),i=c.load(i,r,void 0,s),e&&(i.mapping=e),i},H.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},H.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"117"}}));var v1={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`varying vec2 vUv;
void main() {
	vUv = uv;
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,fragmentShader:`uniform float opacity;
uniform sampler2D tDiffuse;
varying vec2 vUv;
void main() {
	vec4 texel = texture2D( tDiffuse, vUv );
	gl_FragColor = opacity * texel;
}`};Xe(ks.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),ks.FullScreenQuad=function(){var i=new Qf(-1,1,1,-1,0,1),e=new ea(2,2),r=function(c){this._mesh=new ei(e,c)};return Object.defineProperty(r.prototype,"material",{get:function(){return this._mesh.material},set:function(c){this._mesh.material=c}}),Xe(r.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(c){c.render(this._mesh,i)}}),r}();var CC=function(e,r){ks.call(this),this.textureID=r!==void 0?r:"tDiffuse",e instanceof $o?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=Mv.clone(e.uniforms),this.material=new $o({defines:Xe({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new ks.FullScreenQuad(this.material)};CC.prototype=Xe(Ge(ks.prototype),{constructor:CC,render:function(e,r,s){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=s.texture),this.fsQuad.material=this.material,this.renderToScreen?e.setRenderTarget(null):(e.setRenderTarget(r),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil)),this.fsQuad.render(e)}});var AC=function(e,r){ks.call(this),this.scene=e,this.camera=r,this.clear=!0,this.inverse=this.needsSwap=!1};AC.prototype=Xe(Ge(ks.prototype),{constructor:AC,render:function(e,r,s){var c=e.getContext(),v=e.state;if(v.buffers.color.setMask(!1),v.buffers.depth.setMask(!1),v.buffers.color.setLocked(!0),v.buffers.depth.setLocked(!0),this.inverse)var x=0,w=1;else x=1,w=0;v.buffers.stencil.setTest(!0),v.buffers.stencil.setOp(c.REPLACE,c.REPLACE,c.REPLACE),v.buffers.stencil.setFunc(c.ALWAYS,x,4294967295),v.buffers.stencil.setClear(w),v.buffers.stencil.setLocked(!0),e.setRenderTarget(s),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),v.buffers.color.setLocked(!1),v.buffers.depth.setLocked(!1),v.buffers.stencil.setLocked(!1),v.buffers.stencil.setFunc(c.EQUAL,1,4294967295),v.buffers.stencil.setOp(c.KEEP,c.KEEP,c.KEEP),v.buffers.stencil.setLocked(!0)}});var XA=function(){ks.call(this),this.needsSwap=!1};XA.prototype=Ge(ks.prototype),Xe(XA.prototype,{render:function(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}});var Sw=function(e,r){this.renderer=e,r===void 0?(r=e.getSize(new $e),this._pixelRatio=e.getPixelRatio(),this._width=r.width,this._height=r.height,r=new bt(this._width*this._pixelRatio,this._height*this._pixelRatio,{minFilter:1006,magFilter:1006,format:1023,stencilBuffer:!1}),r.texture.name="EffectComposer.rt1"):(this._pixelRatio=1,this._width=r.width,this._height=r.height),this.renderTarget1=r,this.renderTarget2=r.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],v1===void 0&&console.error("THREE.EffectComposer relies on CopyShader"),CC===void 0&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new CC(v1),this.clock=new Bi};Xe(Sw.prototype,{swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},insertPass:function(e,r){this.passes.splice(r,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},isLastEnabledPass:function(e){for(e+=1;e<this.passes.length;e++)if(this.passes[e].enabled)return!1;return!0},render:function(e){e===void 0&&(e=this.clock.getDelta());var r=this.renderer.getRenderTarget(),s=!1,c,v=this.passes.length;for(c=0;c<v;c++){var x=this.passes[c];if(x.enabled!==!1){if(x.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(c),x.render(this.renderer,this.writeBuffer,this.readBuffer,e,s),x.needsSwap){if(s){var w=this.renderer.getContext(),I=this.renderer.state.buffers.stencil;I.setFunc(w.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),I.setFunc(w.EQUAL,1,4294967295)}this.swapBuffers()}AC!==void 0&&(x instanceof AC?s=!0:x instanceof XA&&(s=!1))}}this.renderer.setRenderTarget(r)},reset:function(e){e===void 0&&(e=this.renderer.getSize(new $e),this._pixelRatio=this.renderer.getPixelRatio(),this._width=e.width,this._height=e.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)),this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,r){this._width=e,this._height=r,e=this._width*this._pixelRatio,r=this._height*this._pixelRatio,this.renderTarget1.setSize(e,r),this.renderTarget2.setSize(e,r);for(var s=0;s<this.passes.length;s++)this.passes[s].setSize(e,r)},setPixelRatio:function(e){this._pixelRatio=e,this.setSize(this._width,this._height)}});var Mw=function(){this.needsSwap=this.enabled=!0,this.renderToScreen=this.clear=!1};Xe(Mw.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),Mw.FullScreenQuad=function(){var i=new Qf(-1,1,1,-1,0,1),e=new ea(2,2),r=function(c){this._mesh=new ei(e,c)};return Object.defineProperty(r.prototype,"material",{get:function(){return this._mesh.material},set:function(c){this._mesh.material=c}}),Xe(r.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(c){c.render(this._mesh,i)}}),r}();var vx=function(e,r,s,c,v){ks.call(this),this.scene=e,this.camera=r,this.overrideMaterial=s,this.clearColor=c,this.clearAlpha=v!==void 0?v:0,this.clear=!0,this.needsSwap=this.clearDepth=!1};vx.prototype=Xe(Ge(ks.prototype),{constructor:vx,render:function(e,r,s){if(r=e.autoClear,e.autoClear=!1,this.overrideMaterial!==void 0){var c=this.scene.overrideMaterial;this.scene.overrideMaterial=this.overrideMaterial}if(this.clearColor){var v=e.getClearColor().getHex(),x=e.getClearAlpha();e.setClearColor(this.clearColor,this.clearAlpha)}this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:s),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(v,x),this.overrideMaterial!==void 0&&(this.scene.overrideMaterial=c),e.autoClear=r}});var gx={defines:{SMAA_THRESHOLD:"0.1"},uniforms:{tDiffuse:{value:null},resolution:{value:new $e(1/1024,1/512)}},vertexShader:`uniform vec2 resolution;
varying vec2 vUv;
varying vec4 vOffset[ 3 ];
void SMAAEdgeDetectionVS( vec2 texcoord ) {
	vOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0,  1.0 );
	vOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4(  1.0, 0.0, 0.0, -1.0 );
	vOffset[ 2 ] = texcoord.xyxy + resolution.xyxy * vec4( -2.0, 0.0, 0.0,  2.0 );
}
void main() {
	vUv = uv;
	SMAAEdgeDetectionVS( vUv );
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,fragmentShader:`uniform sampler2D tDiffuse;
varying vec2 vUv;
varying vec4 vOffset[ 3 ];
vec4 SMAAColorEdgeDetectionPS( vec2 texcoord, vec4 offset[3], sampler2D colorTex ) {
	vec2 threshold = vec2( SMAA_THRESHOLD, SMAA_THRESHOLD );
	vec4 delta;
	vec3 C = texture2D( colorTex, texcoord ).rgb;
	vec3 Cleft = texture2D( colorTex, offset[0].xy ).rgb;
	vec3 t = abs( C - Cleft );
	delta.x = max( max( t.r, t.g ), t.b );
	vec3 Ctop = texture2D( colorTex, offset[0].zw ).rgb;
	t = abs( C - Ctop );
	delta.y = max( max( t.r, t.g ), t.b );
	vec2 edges = step( threshold, delta.xy );
	if ( dot( edges, vec2( 1.0, 1.0 ) ) == 0.0 )
		discard;
	vec3 Cright = texture2D( colorTex, offset[1].xy ).rgb;
	t = abs( C - Cright );
	delta.z = max( max( t.r, t.g ), t.b );
	vec3 Cbottom  = texture2D( colorTex, offset[1].zw ).rgb;
	t = abs( C - Cbottom );
	delta.w = max( max( t.r, t.g ), t.b );
	float maxDelta = max( max( max( delta.x, delta.y ), delta.z ), delta.w );
	vec3 Cleftleft  = texture2D( colorTex, offset[2].xy ).rgb;
	t = abs( C - Cleftleft );
	delta.z = max( max( t.r, t.g ), t.b );
	vec3 Ctoptop = texture2D( colorTex, offset[2].zw ).rgb;
	t = abs( C - Ctoptop );
	delta.w = max( max( t.r, t.g ), t.b );
	maxDelta = max( max( maxDelta, delta.z ), delta.w );
	edges.xy *= step( 0.5 * maxDelta, delta.xy );
	return vec4( edges, 0.0, 0.0 );
}
void main() {
	gl_FragColor = SMAAColorEdgeDetectionPS( vUv, vOffset, tDiffuse );
}`},wS={SMAA_MAX_SEARCH_STEPS:"8",SMAA_AREATEX_MAX_DISTANCE:"16",SMAA_AREATEX_PIXEL_SIZE:"( 1.0 / vec2( 160.0, 560.0 ) )",SMAA_AREATEX_SUBTEX_SIZE:"( 1.0 / 7.0 )"},bS={tDiffuse:{value:null},tArea:{value:null},tSearch:{value:null},resolution:{value:new $e(1/1024,1/512)}},SS={tDiffuse:{value:null},tColor:{value:null},resolution:{value:new $e(1/1024,1/512)}},KA=function(e,r){ks.call(this),this.edgesRT=new bt(e,r,{depthBuffer:!1,stencilBuffer:!1,generateMipmaps:!1,minFilter:1006,format:1022}),this.edgesRT.texture.name="SMAAPass.edges",this.weightsRT=new bt(e,r,{depthBuffer:!1,stencilBuffer:!1,generateMipmaps:!1,minFilter:1006,format:1023}),this.weightsRT.texture.name="SMAAPass.weights";var s=this,c=new Image;c.src=this.getAreaTexture(),c.onload=function(){s.areaTexture.needsUpdate=!0},this.areaTexture=new Xt,this.areaTexture.name="SMAAPass.area",this.areaTexture.image=c,this.areaTexture.format=1022,this.areaTexture.minFilter=1006,this.areaTexture.generateMipmaps=!1,this.areaTexture.flipY=!1,c=new Image,c.src=this.getSearchTexture(),c.onload=function(){s.searchTexture.needsUpdate=!0},this.searchTexture=new Xt,this.searchTexture.name="SMAAPass.search",this.searchTexture.image=c,this.searchTexture.magFilter=1003,this.searchTexture.minFilter=1003,this.searchTexture.generateMipmaps=!1,this.searchTexture.flipY=!1,gx===void 0&&console.error("SMAAPass relies on SMAAShader"),this.uniformsEdges=Mv.clone(gx.uniforms),this.uniformsEdges.resolution.value.set(1/e,1/r),this.materialEdges=new $o({defines:Xe({},gx.defines),uniforms:this.uniformsEdges,vertexShader:gx.vertexShader,fragmentShader:gx.fragmentShader}),this.uniformsWeights=Mv.clone(bS),this.uniformsWeights.resolution.value.set(1/e,1/r),this.uniformsWeights.tDiffuse.value=this.edgesRT.texture,this.uniformsWeights.tArea.value=this.areaTexture,this.uniformsWeights.tSearch.value=this.searchTexture,this.materialWeights=new $o({defines:Xe({},wS),uniforms:this.uniformsWeights,vertexShader:`uniform vec2 resolution;
varying vec2 vUv;
varying vec4 vOffset[ 3 ];
varying vec2 vPixcoord;
void SMAABlendingWeightCalculationVS( vec2 texcoord ) {
	vPixcoord = texcoord / resolution;
	vOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.25, 0.125, 1.25, 0.125 );
	vOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.125, 0.25, -0.125, -1.25 );
	vOffset[ 2 ] = vec4( vOffset[ 0 ].xz, vOffset[ 1 ].yw ) + vec4( -2.0, 2.0, -2.0, 2.0 ) * resolution.xxyy * float( SMAA_MAX_SEARCH_STEPS );
}
void main() {
	vUv = uv;
	SMAABlendingWeightCalculationVS( vUv );
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,fragmentShader:`#define SMAASampleLevelZeroOffset( tex, coord, offset ) texture2D( tex, coord + float( offset ) * resolution, 0.0 )
uniform sampler2D tDiffuse;
uniform sampler2D tArea;
uniform sampler2D tSearch;
uniform vec2 resolution;
varying vec2 vUv;
varying vec4 vOffset[3];
varying vec2 vPixcoord;
#if __VERSION__ == 100
vec2 round( vec2 x ) {
	return sign( x ) * floor( abs( x ) + 0.5 );
}
#endif
float SMAASearchLength( sampler2D searchTex, vec2 e, float bias, float scale ) {
	e.r = bias + e.r * scale;
	return 255.0 * texture2D( searchTex, e, 0.0 ).r;
}
float SMAASearchXLeft( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {
	vec2 e = vec2( 0.0, 1.0 );
	for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {
		e = texture2D( edgesTex, texcoord, 0.0 ).rg;
		texcoord -= vec2( 2.0, 0.0 ) * resolution;
		if ( ! ( texcoord.x > end && e.g > 0.8281 && e.r == 0.0 ) ) break;
	}
	texcoord.x += 0.25 * resolution.x;
	texcoord.x += resolution.x;
	texcoord.x += 2.0 * resolution.x;
	texcoord.x -= resolution.x * SMAASearchLength(searchTex, e, 0.0, 0.5);
	return texcoord.x;
}
float SMAASearchXRight( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {
	vec2 e = vec2( 0.0, 1.0 );
	for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {
		e = texture2D( edgesTex, texcoord, 0.0 ).rg;
		texcoord += vec2( 2.0, 0.0 ) * resolution;
		if ( ! ( texcoord.x < end && e.g > 0.8281 && e.r == 0.0 ) ) break;
	}
	texcoord.x -= 0.25 * resolution.x;
	texcoord.x -= resolution.x;
	texcoord.x -= 2.0 * resolution.x;
	texcoord.x += resolution.x * SMAASearchLength( searchTex, e, 0.5, 0.5 );
	return texcoord.x;
}
float SMAASearchYUp( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {
	vec2 e = vec2( 1.0, 0.0 );
	for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {
		e = texture2D( edgesTex, texcoord, 0.0 ).rg;
		texcoord += vec2( 0.0, 2.0 ) * resolution;
		if ( ! ( texcoord.y > end && e.r > 0.8281 && e.g == 0.0 ) ) break;
	}
	texcoord.y -= 0.25 * resolution.y;
	texcoord.y -= resolution.y;
	texcoord.y -= 2.0 * resolution.y;
	texcoord.y += resolution.y * SMAASearchLength( searchTex, e.gr, 0.0, 0.5 );
	return texcoord.y;
}
float SMAASearchYDown( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {
	vec2 e = vec2( 1.0, 0.0 );
	for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {
		e = texture2D( edgesTex, texcoord, 0.0 ).rg;
		texcoord -= vec2( 0.0, 2.0 ) * resolution;
		if ( ! ( texcoord.y < end && e.r > 0.8281 && e.g == 0.0 ) ) break;
	}
	texcoord.y += 0.25 * resolution.y;
	texcoord.y += resolution.y;
	texcoord.y += 2.0 * resolution.y;
	texcoord.y -= resolution.y * SMAASearchLength( searchTex, e.gr, 0.5, 0.5 );
	return texcoord.y;
}
vec2 SMAAArea( sampler2D areaTex, vec2 dist, float e1, float e2, float offset ) {
	vec2 texcoord = float( SMAA_AREATEX_MAX_DISTANCE ) * round( 4.0 * vec2( e1, e2 ) ) + dist;
	texcoord = SMAA_AREATEX_PIXEL_SIZE * texcoord + ( 0.5 * SMAA_AREATEX_PIXEL_SIZE );
	texcoord.y += SMAA_AREATEX_SUBTEX_SIZE * offset;
	return texture2D( areaTex, texcoord, 0.0 ).rg;
}
vec4 SMAABlendingWeightCalculationPS( vec2 texcoord, vec2 pixcoord, vec4 offset[ 3 ], sampler2D edgesTex, sampler2D areaTex, sampler2D searchTex, ivec4 subsampleIndices ) {
	vec4 weights = vec4( 0.0, 0.0, 0.0, 0.0 );
	vec2 e = texture2D( edgesTex, texcoord ).rg;
	if ( e.g > 0.0 ) {
		vec2 d;
		vec2 coords;
		coords.x = SMAASearchXLeft( edgesTex, searchTex, offset[ 0 ].xy, offset[ 2 ].x );
		coords.y = offset[ 1 ].y;
		d.x = coords.x;
		float e1 = texture2D( edgesTex, coords, 0.0 ).r;
		coords.x = SMAASearchXRight( edgesTex, searchTex, offset[ 0 ].zw, offset[ 2 ].y );
		d.y = coords.x;
		d = d / resolution.x - pixcoord.x;
		vec2 sqrt_d = sqrt( abs( d ) );
		coords.y -= 1.0 * resolution.y;
		float e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 1, 0 ) ).r;
		weights.rg = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.y ) );
	}
	if ( e.r > 0.0 ) {
		vec2 d;
		vec2 coords;
		coords.y = SMAASearchYUp( edgesTex, searchTex, offset[ 1 ].xy, offset[ 2 ].z );
		coords.x = offset[ 0 ].x;
		d.x = coords.y;
		float e1 = texture2D( edgesTex, coords, 0.0 ).g;
		coords.y = SMAASearchYDown( edgesTex, searchTex, offset[ 1 ].zw, offset[ 2 ].w );
		d.y = coords.y;
		d = d / resolution.y - pixcoord.y;
		vec2 sqrt_d = sqrt( abs( d ) );
		coords.y -= 1.0 * resolution.y;
		float e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 0, 1 ) ).g;
		weights.ba = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.x ) );
	}
	return weights;
}
void main() {
	gl_FragColor = SMAABlendingWeightCalculationPS( vUv, vPixcoord, vOffset, tDiffuse, tArea, tSearch, ivec4( 0.0 ) );
}`}),this.uniformsBlend=Mv.clone(SS),this.uniformsBlend.resolution.value.set(1/e,1/r),this.uniformsBlend.tDiffuse.value=this.weightsRT.texture,this.materialBlend=new $o({uniforms:this.uniformsBlend,vertexShader:`uniform vec2 resolution;
varying vec2 vUv;
varying vec4 vOffset[ 2 ];
void SMAANeighborhoodBlendingVS( vec2 texcoord ) {
	vOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0, 1.0 );
	vOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( 1.0, 0.0, 0.0, -1.0 );
}
void main() {
	vUv = uv;
	SMAANeighborhoodBlendingVS( vUv );
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,fragmentShader:`uniform sampler2D tDiffuse;
uniform sampler2D tColor;
uniform vec2 resolution;
varying vec2 vUv;
varying vec4 vOffset[ 2 ];
vec4 SMAANeighborhoodBlendingPS( vec2 texcoord, vec4 offset[ 2 ], sampler2D colorTex, sampler2D blendTex ) {
	vec4 a;
	a.xz = texture2D( blendTex, texcoord ).xz;
	a.y = texture2D( blendTex, offset[ 1 ].zw ).g;
	a.w = texture2D( blendTex, offset[ 1 ].xy ).a;
	if ( dot(a, vec4( 1.0, 1.0, 1.0, 1.0 )) < 1e-5 ) {
		return texture2D( colorTex, texcoord, 0.0 );
	} else {
		vec2 offset;
		offset.x = a.a > a.b ? a.a : -a.b;
		offset.y = a.g > a.r ? -a.g : a.r;
		if ( abs( offset.x ) > abs( offset.y )) {
			offset.y = 0.0;
		} else {
			offset.x = 0.0;
		}
		vec4 C = texture2D( colorTex, texcoord, 0.0 );
		texcoord += sign( offset ) * resolution;
		vec4 Cop = texture2D( colorTex, texcoord, 0.0 );
		float s = abs( offset.x ) > abs( offset.y ) ? abs( offset.x ) : abs( offset.y );
		C.xyz = pow(C.xyz, vec3(2.2));
		Cop.xyz = pow(Cop.xyz, vec3(2.2));
		vec4 mixed = mix(C, Cop, s);
		mixed.xyz = pow(mixed.xyz, vec3(1.0 / 2.2));
		return mixed;
	}
}
void main() {
	gl_FragColor = SMAANeighborhoodBlendingPS( vUv, vOffset, tColor, tDiffuse );
}`}),this.needsSwap=!1,this.fsQuad=new ks.FullScreenQuad(null)};KA.prototype=Xe(Ge(ks.prototype),{constructor:KA,render:function(e,r,s){this.uniformsEdges.tDiffuse.value=s.texture,this.fsQuad.material=this.materialEdges,e.setRenderTarget(this.edgesRT),this.clear&&e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialWeights,e.setRenderTarget(this.weightsRT),this.clear&&e.clear(),this.fsQuad.render(e),this.uniformsBlend.tColor.value=s.texture,this.fsQuad.material=this.materialBlend,this.renderToScreen?e.setRenderTarget(null):(e.setRenderTarget(r),this.clear&&e.clear()),this.fsQuad.render(e)},setSize:function(e,r){this.edgesRT.setSize(e,r),this.weightsRT.setSize(e,r),this.materialEdges.uniforms.resolution.value.set(1/e,1/r),this.materialWeights.uniforms.resolution.value.set(1/e,1/r),this.materialBlend.uniforms.resolution.value.set(1/e,1/r)},getAreaTexture:function(){return"data:image/png;base64,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"},getSearchTexture:function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAhCAAAAABIXyLAAAAAOElEQVRIx2NgGAWjYBSMglEwEICREYRgFBZBqDCSLA2MGPUIVQETE9iNUAqLR5gIeoQKRgwXjwAAGn4AtaFeYLEAAAAASUVORK5CYII="}});var wC={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new At(0)},defaultOpacity:{value:0}},vertexShader:`varying vec2 vUv;
void main() {
	vUv = uv;
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,fragmentShader:`uniform sampler2D tDiffuse;
uniform vec3 defaultColor;
uniform float defaultOpacity;
uniform float luminosityThreshold;
uniform float smoothWidth;
varying vec2 vUv;
void main() {
	vec4 texel = texture2D( tDiffuse, vUv );
	vec3 luma = vec3( 0.299, 0.587, 0.114 );
	float v = dot( texel.xyz, luma );
	vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );
	float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );
	gl_FragColor = mix( outputColor, texel, alpha );
}`},V0=function(e,r,s,c){ks.call(this),this.strength=r!==void 0?r:1,this.radius=s,this.threshold=c,this.resolution=e!==void 0?new $e(e.x,e.y):new $e(256,256),this.clearColor=new At(0,0,0);var v={minFilter:1006,magFilter:1006,format:1023};this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5,e=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2),this.renderTargetBright=new bt(e,s,v),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(var x=0;x<this.nMips;x++){var w=new bt(e,s,v);w.texture.name="UnrealBloomPass.h"+x,w.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(w),w=new bt(e,s,v),w.texture.name="UnrealBloomPass.v"+x,w.texture.generateMipmaps=!1,this.renderTargetsVertical.push(w),e=Math.round(e/2),s=Math.round(s/2)}for(wC===void 0&&console.error("UnrealBloomPass relies on LuminosityHighPassShader"),this.highPassUniforms=Mv.clone(wC.uniforms),this.highPassUniforms.luminosityThreshold.value=c,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new $o({uniforms:this.highPassUniforms,vertexShader:wC.vertexShader,fragmentShader:wC.fragmentShader,defines:{}}),this.separableBlurMaterials=[],c=[3,5,7,9,11],e=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2),x=0;x<this.nMips;x++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(c[x])),this.separableBlurMaterials[x].uniforms.texSize.value=new $e(e,s),e=Math.round(e/2),s=Math.round(s/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=r,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0,this.compositeMaterial.uniforms.bloomFactors.value=[1,.8,.6,.4,.2],this.bloomTintColors=[new Ie(1,1,1),new Ie(1,1,1),new Ie(1,1,1),new Ie(1,1,1),new Ie(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,v1===void 0&&console.error("UnrealBloomPass relies on CopyShader"),this.copyUniforms=Mv.clone(v1.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new $o({uniforms:this.copyUniforms,vertexShader:v1.vertexShader,fragmentShader:v1.fragmentShader,blending:2,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this.oldClearColor=new At,this.oldClearAlpha=1,this.basic=new ai,this.fsQuad=new ks.FullScreenQuad(null)};V0.prototype=Xe(Ge(ks.prototype),{constructor:V0,dispose:function(){for(var e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose()},setSize:function(e,r){e=Math.round(e/2),r=Math.round(r/2),this.renderTargetBright.setSize(e,r);for(var s=0;s<this.nMips;s++)this.renderTargetsHorizontal[s].setSize(e,r),this.renderTargetsVertical[s].setSize(e,r),this.separableBlurMaterials[s].uniforms.texSize.value=new $e(e,r),e=Math.round(e/2),r=Math.round(r/2)},render:function(e,r,s,c,v){this.oldClearColor.copy(e.getClearColor()),this.oldClearAlpha=e.getClearAlpha(),r=e.autoClear,e.autoClear=!1,e.setClearColor(this.clearColor,0),v&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=s.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=s.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e),c=this.renderTargetBright;for(var x=0;x<this.nMips;x++)this.fsQuad.material=this.separableBlurMaterials[x],this.separableBlurMaterials[x].uniforms.colorTexture.value=c.texture,this.separableBlurMaterials[x].uniforms.direction.value=V0.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[x]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[x].uniforms.colorTexture.value=this.renderTargetsHorizontal[x].texture,this.separableBlurMaterials[x].uniforms.direction.value=V0.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[x]),e.clear(),this.fsQuad.render(e),c=this.renderTargetsVertical[x];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,v&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?e.setRenderTarget(null):e.setRenderTarget(s),this.fsQuad.render(e),e.setClearColor(this.oldClearColor,this.oldClearAlpha),e.autoClear=r},getSeperableBlurMaterial:function(e){return new $o({defines:{KERNEL_RADIUS:e,SIGMA:e},uniforms:{colorTexture:{value:null},texSize:{value:new $e(.5,.5)},direction:{value:new $e(.5,.5)}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;				uniform vec2 direction;								float gaussianPdf(in float x, in float sigma) {					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;				}				void main() {
					vec2 invSize = 1.0 / texSize;					float fSigma = float(SIGMA);					float weightSum = gaussianPdf(0.0, fSigma);					vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {						float x = float(i);						float w = gaussianPdf(x, fSigma);						vec2 uvOffset = direction * invSize * x;						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;						diffuseSum += (sample1 + sample2) * w;						weightSum += 2.0 * w;					}					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})},getCompositeMaterial:function(e){return new $o({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},dirtTexture:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:"varying vec2 vUv;				uniform sampler2D blurTexture1;				uniform sampler2D blurTexture2;				uniform sampler2D blurTexture3;				uniform sampler2D blurTexture4;				uniform sampler2D blurTexture5;				uniform sampler2D dirtTexture;				uniform float bloomStrength;				uniform float bloomRadius;				uniform float bloomFactors[NUM_MIPS];				uniform vec3 bloomTintColors[NUM_MIPS];								float lerpBloomFactor(const in float factor) { 					float mirrorFactor = 1.2 - factor;					return mix(factor, mirrorFactor, bloomRadius);				}								void main() {					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) + 													 lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) + 													 lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) + 													 lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) + 													 lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );				}"})}}),V0.BlurDirectionX=new $e(1,0),V0.BlurDirectionY=new $e(0,1);var MS=function(i){function e(r){return Wc(this,e),$h(this,(e.__proto__||qh(e)).call(this,r))}return yh(e,i),wf(e,[{key:"initialize",value:function(s){var c=s.camera,v=s.renderer;if(!this._initialize){if(this.scene=s.scene,this.camera=c,this.renderer=v,s=this.options.passes,this._initialize=!0,this.renderScene=new vx(this.scene,this.camera),c=new Sw(this.renderer),c.addPass(this.renderScene),this.passes=[],s)for(var x=0;x<s.length;x++){var w=s[x],I=void 0;switch(w.name){case"unrealBloom":I=w.strength||1;var j=w.radius||0,G=w.threshold||.5;I=new V0(new Pl.Vector2(window.innerWidth,window.innerHeight),I,j,G);break;case"SMAA":I=new KA(window.innerWidth*v.getPixelRatio(),window.innerHeight*v.getPixelRatio())}if(I){for(var W in w)I[W]=w[W];c.addPass(I)}}this.composer=c}}},{key:"addRender",value:function(s){this.renderScene&&this.renderScene.addRender(s)}},{key:"render",value:function(){this.composer.render(this.scene,this.camera)}}]),e}(C);V0.prototype.getSeperableBlurMaterial=function(i){return new Pl.ShaderMaterial({defines:{KERNEL_RADIUS:i,SIGMA:i},uniforms:{colorTexture:{value:null},texSize:{value:new Pl.Vector2(.5,.5)},direction:{value:new Pl.Vector2(.5,.5)}},vertexShader:`varying vec2 vUv;
            void main() {
                vUv = uv;
                gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
            }`,fragmentShader:`#include <common>            varying vec2 vUv;
            uniform sampler2D colorTexture;
            uniform vec2 texSize;            uniform vec2 direction;                        float gaussianPdf(in float x, in float sigma) {                return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;            }            void main() {
                vec2 invSize = 1.0 / texSize;                float fSigma = float(SIGMA);                float weightSum = gaussianPdf(0.0, fSigma);                vec4 diffuseSum = texture2D( colorTexture, vUv).rgba * weightSum;                for( int i = 1; i < KERNEL_RADIUS; i ++ ) {                    float x = float(i);                    float w = gaussianPdf(x, fSigma);                    vec2 uvOffset = direction * invSize * x;                    vec4 sample1 = texture2D( colorTexture, vUv + uvOffset).rgba;                    vec4 sample2 = texture2D( colorTexture, vUv - uvOffset).rgba;                    diffuseSum += (sample1 + sample2) * w;                    weightSum += 2.0 * w;                }                gl_FragColor = vec4(diffuseSum/weightSum);
            }`})},vx.prototype.addRender=function(i){this.renderCbk=i},vx.prototype.render=function(i,e,r){if(e=i.autoClear,i.autoClear=!1,this.scene.overrideMaterial=this.overrideMaterial,this.clearColor){var s=i.getClearColor().getHex(),c=i.getClearAlpha();i.setClearColor(this.clearColor,this.clearAlpha)}this.clearDepth&&i.clearDepth(),i.setRenderTarget(this.renderToScreen?null:r),this.clear&&i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil),i.render(this.scene,this.camera),this.renderCbk&&this.renderCbk(),this.clearColor&&i.setClearColor(s,c),this.scene.overrideMaterial=null,i.autoClear=e};var ES=function(i){function e(r){return Wc(this,e),r=$h(this,(e.__proto__||qh(e)).call(this,r)),r.time=0,r.autoUpdate=!0,r}return yh(e,i),wf(e,[{key:"getDefaultOptions",value:function(){return{totalRadian:Math.PI,color:16711680,radius:50,step:.1}}},{key:"initialize",value:function(s){this.threeLayer=s,this.addOverlay()}},{key:"onChanged",value:function(s,c){this.threeLayer&&(this.removeOverlay(),this.addOverlay())}},{key:"onDestroy",value:function(){this.removeOverlay()}},{key:"render",value:function(){this.time+=this.options.step/10,1<this.time&&(this.time=0);for(var s=this.shapeMarker.children,c=0;c<s.length;c++)s[c].material.uniforms.periodRatio.value=this.time}},{key:"removeOverlay",value:function(){this.threeLayer.remove(this.shapeMarker)}},{key:"addOverlay",value:function(){this.shapeMarker=new Pl.Group;for(var s=this.threeLayer,c=this.getData(),v=0;v<c.length;v++){var x=s.normizedPoint(c[v].geometry.coordinates);x=this.create3dCanvasRipple({originalData:c[v],normizedData:x}),this.shapeMarker.add(x)}s.add(this.shapeMarker)}},{key:"create3dCanvasRipple",value:function(s){var c=this.options,v=c.totalRadian,x=c.color;c=c.size;var w=s.originalData;s=s.normizedData,Object.prototype.toString.call(x)==="[object Function]"&&(x=x(w)),c=Object.prototype.toString.call(c)==="[object Function]"?c(w):Number(c),w={totalRadian:{type:"f",value:v},glowColor:{type:"c",value:new Pl.Color(x)},radius:{type:"f",value:c},periodRatio:{type:"f",value:0}},x=new Pl.Geometry;for(var I=v/(c/2),j=I;j<=v;j+=I){var G=c*Math.sin(j),W=c*Math.cos(j);x.vertices.push(new Pl.Vector3(0,0,j/v)),x.vertices.push(new Pl.Vector3(W,G,j/v))}for(v=0,c=x.vertices.length;v<c-2;++v)x.faces.push(new Pl.Face3(v,v+1,v+3));return v=new Pl.ShaderMaterial({uniforms:w,vertexShader:"varying vec4 vFragColor;varying vec4 vPosition;uniform float radius;uniform float totalRadian;uniform float periodRatio;uniform vec3 glowColor;void main(){float radian=radians(360.0*periodRatio);float s=sin(radian);float c=cos(radian);vec2 rotatedPostion=vec2(position.x*s+position.y*c,position.y*s-position.x*c);gl_Position=projectionMatrix*modelViewMatrix*vec4(rotatedPostion,0,1.0);vFragColor=vec4(glowColor,pow(position.z,1.3));}",fragmentShader:"varying vec4 vFragColor;void main(){gl_FragColor=vFragColor;}",blending:Pl.NormalBlending,transparent:!0,depthWrite:!1}),v=new Pl.Mesh(x,v),v.position.set(s[0],s[1],s[2]||0),v}}]),e}(C),Ew=ve(function(i,e){(function(){function r(){this.positions=[],this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],this.counters=[],this.geometry=new v.BufferGeometry,this.widthCallback=null,this.matrixWorld=new v.Matrix4}function s(x,w,I,j,G){if(x=x.subarray||x.slice?x:x.buffer,I=I.subarray||I.slice?I:I.buffer,x=w?x.subarray?x.subarray(w,G&&w+G):x.slice(w,G&&w+G):x,I.set)I.set(x,j);else for(w=0;w<x.length;w++)I[w+j]=x[w];return I}function c(x){v.ShaderMaterial.call(this,{uniforms:Xe({},v.UniformsLib.fog,{lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new v.Color(16777215)},opacity:{value:1},resolution:{value:new v.Vector2(1,1)},sizeAttenuation:{value:1},near:{value:1},far:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new v.Vector2(1,1)}}),vertexShader:v.ShaderChunk.meshline_vert,fragmentShader:v.ShaderChunk.meshline_frag}),this.type="MeshLineMaterial",Ia(this,{lineWidth:{enumerable:!0,get:function(){return this.uniforms.lineWidth.value},set:function(I){this.uniforms.lineWidth.value=I}},map:{enumerable:!0,get:function(){return this.uniforms.map.value},set:function(I){this.uniforms.map.value=I}},useMap:{enumerable:!0,get:function(){return this.uniforms.useMap.value},set:function(I){this.uniforms.useMap.value=I}},alphaMap:{enumerable:!0,get:function(){return this.uniforms.alphaMap.value},set:function(I){this.uniforms.alphaMap.value=I}},useAlphaMap:{enumerable:!0,get:function(){return this.uniforms.useAlphaMap.value},set:function(I){this.uniforms.useAlphaMap.value=I}},color:{enumerable:!0,get:function(){return this.uniforms.color.value},set:function(I){this.uniforms.color.value=I}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(I){this.uniforms.opacity.value=I}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(I){this.uniforms.resolution.value.copy(I)}},sizeAttenuation:{enumerable:!0,get:function(){return this.uniforms.sizeAttenuation.value},set:function(I){this.uniforms.sizeAttenuation.value=I}},near:{enumerable:!0,get:function(){return this.uniforms.near.value},set:function(I){this.uniforms.near.value=I}},far:{enumerable:!0,get:function(){return this.uniforms.far.value},set:function(I){this.uniforms.far.value=I}},dashArray:{enumerable:!0,get:function(){return this.uniforms.dashArray.value},set:function(I){this.uniforms.dashArray.value=I,this.useDash=I!==0?1:0}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(I){this.uniforms.dashOffset.value=I}},dashRatio:{enumerable:!0,get:function(){return this.uniforms.dashRatio.value},set:function(I){this.uniforms.dashRatio.value=I}},useDash:{enumerable:!0,get:function(){return this.uniforms.useDash.value},set:function(I){this.uniforms.useDash.value=I}},visibility:{enumerable:!0,get:function(){return this.uniforms.visibility.value},set:function(I){this.uniforms.visibility.value=I}},alphaTest:{enumerable:!0,get:function(){return this.uniforms.alphaTest.value},set:function(I){this.uniforms.alphaTest.value=I}},repeat:{enumerable:!0,get:function(){return this.uniforms.repeat.value},set:function(I){this.uniforms.repeat.value.copy(I)}}}),this.setValues(x)}var v=typeof K!="undefined"&&A0||this.THREE;if(!v)throw Error("MeshLine requires three.js");r.prototype.setMatrixWorld=function(x){this.matrixWorld=x},r.prototype.setGeometry=function(x,w){if(this.widthCallback=w,this.positions=[],this.counters=[],x instanceof v.Geometry)for(var I=0;I<x.vertices.length;I++){var j=x.vertices[I];w=I/x.vertices.length,this.positions.push(j.x,j.y,j.z),this.positions.push(j.x,j.y,j.z),this.counters.push(w),this.counters.push(w)}if(x instanceof Float32Array||x instanceof Array)for(I=0;I<x.length;I+=3)w=I/x.length,this.positions.push(x[I],x[I+1],x[I+2]),this.positions.push(x[I],x[I+1],x[I+2]),this.counters.push(w),this.counters.push(w);this.process()},r.prototype.raycast=function(){var x=new v.Matrix4,w=new v.Ray,I=new v.Sphere;return function(j,G){var W=j.linePrecision;W*=W;var ae=this.geometry;if(ae.boundingSphere===null&&ae.computeBoundingSphere(),I.copy(ae.boundingSphere),I.applyMatrix4(this.matrixWorld),j.ray.intersectSphere(I)!==!1){x.getInverse(this.matrixWorld),w.copy(j.ray).applyMatrix4(x);var ue=new v.Vector3,be=new v.Vector3,Me=new v.Vector3,ct=new v.Vector3,Nt=this instanceof v.LineSegments?2:1;if(ae instanceof v.BufferGeometry){var Pt=ae.index,Bt=ae.attributes;if(Pt!==null){ae=Pt.array,Bt=Bt.position.array,Pt=0;for(var ir=ae.length-1;Pt<ir;Pt+=Nt){var Ir=ae[Pt+1];ue.fromArray(Bt,3*ae[Pt]),be.fromArray(Bt,3*Ir),Ir=w.distanceSqToSegment(ue,be,ct,Me),Ir>W||(ct.applyMatrix4(this.matrixWorld),Ir=j.ray.origin.distanceTo(ct),Ir<j.near||Ir>j.far||G.push({distance:Ir,point:Me.clone().applyMatrix4(this.matrixWorld),index:Pt,face:null,faceIndex:null,object:this}))}}else for(Bt=Bt.position.array,Pt=0,ir=Bt.length/3-1;Pt<ir;Pt+=Nt)ue.fromArray(Bt,3*Pt),be.fromArray(Bt,3*Pt+3),Ir=w.distanceSqToSegment(ue,be,ct,Me),Ir>W||(ct.applyMatrix4(this.matrixWorld),Ir=j.ray.origin.distanceTo(ct),Ir<j.near||Ir>j.far||G.push({distance:Ir,point:Me.clone().applyMatrix4(this.matrixWorld),index:Pt,face:null,faceIndex:null,object:this}))}else if(ae instanceof v.Geometry)for(ue=ae.vertices,be=ue.length,Pt=0;Pt<be-1;Pt+=Nt)Ir=w.distanceSqToSegment(ue[Pt],ue[Pt+1],ct,Me),Ir>W||(ct.applyMatrix4(this.matrixWorld),Ir=j.ray.origin.distanceTo(ct),Ir<j.near||Ir>j.far||G.push({distance:Ir,point:Me.clone().applyMatrix4(this.matrixWorld),index:Pt,face:null,faceIndex:null,object:this}))}}}(),r.prototype.compareV3=function(x,w){return x*=6,w*=6,this.positions[x]===this.positions[w]&&this.positions[x+1]===this.positions[w+1]&&this.positions[x+2]===this.positions[w+2]},r.prototype.copyV3=function(x){return x*=6,[this.positions[x],this.positions[x+1],this.positions[x+2]]},r.prototype.process=function(){var x=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];for(var w=0;w<x;w++)this.side.push(1),this.side.push(-1);for(w=0;w<x;w++){var I=this.widthCallback?this.widthCallback(w/(x-1)):1;this.width.push(I),this.width.push(I)}for(w=0;w<x;w++)this.uvs.push(w/(x-1),0),this.uvs.push(w/(x-1),1);for(I=this.compareV3(0,x-1)?this.copyV3(x-2):this.copyV3(0),this.previous.push(I[0],I[1],I[2]),this.previous.push(I[0],I[1],I[2]),w=0;w<x-1;w++)I=this.copyV3(w),this.previous.push(I[0],I[1],I[2]),this.previous.push(I[0],I[1],I[2]);for(w=1;w<x;w++)I=this.copyV3(w),this.next.push(I[0],I[1],I[2]),this.next.push(I[0],I[1],I[2]);for(I=this.compareV3(x-1,0)?this.copyV3(1):this.copyV3(x-1),this.next.push(I[0],I[1],I[2]),this.next.push(I[0],I[1],I[2]),w=0;w<x-1;w++)I=2*w,this.indices_array.push(I,I+1,I+2),this.indices_array.push(I+2,I+1,I+3);this.attributes?(this.attributes.position.copyArray(new Float32Array(this.positions)),this.attributes.position.needsUpdate=!0,this.attributes.previous.copyArray(new Float32Array(this.previous)),this.attributes.previous.needsUpdate=!0,this.attributes.next.copyArray(new Float32Array(this.next)),this.attributes.next.needsUpdate=!0,this.attributes.side.copyArray(new Float32Array(this.side)),this.attributes.side.needsUpdate=!0,this.attributes.width.copyArray(new Float32Array(this.width)),this.attributes.width.needsUpdate=!0,this.attributes.uv.copyArray(new Float32Array(this.uvs)),this.attributes.uv.needsUpdate=!0,this.attributes.index.copyArray(new Uint16Array(this.indices_array)),this.attributes.index.needsUpdate=!0):this.attributes={position:new v.BufferAttribute(new Float32Array(this.positions),3),previous:new v.BufferAttribute(new Float32Array(this.previous),3),next:new v.BufferAttribute(new Float32Array(this.next),3),side:new v.BufferAttribute(new Float32Array(this.side),1),width:new v.BufferAttribute(new Float32Array(this.width),1),uv:new v.BufferAttribute(new Float32Array(this.uvs),2),index:new v.BufferAttribute(new Uint16Array(this.indices_array),1),counters:new v.BufferAttribute(new Float32Array(this.counters),1)},this.geometry.setAttribute("position",this.attributes.position),this.geometry.setAttribute("previous",this.attributes.previous),this.geometry.setAttribute("next",this.attributes.next),this.geometry.setAttribute("side",this.attributes.side),this.geometry.setAttribute("width",this.attributes.width),this.geometry.setAttribute("uv",this.attributes.uv),this.geometry.setAttribute("counters",this.attributes.counters),this.geometry.setIndex(this.attributes.index)},r.prototype.advance=function(x){var w=this.attributes.position.array,I=this.attributes.next.array,j=w.length;s(w,0,this.attributes.previous.array,0,j),s(w,6,w,0,j-6),w[j-6]=x.x,w[j-5]=x.y,w[j-4]=x.z,w[j-3]=x.x,w[j-2]=x.y,w[j-1]=x.z,s(w,6,I,0,j-6),I[j-6]=x.x,I[j-5]=x.y,I[j-4]=x.z,I[j-3]=x.x,I[j-2]=x.y,I[j-1]=x.z,this.attributes.position.needsUpdate=!0,this.attributes.previous.needsUpdate=!0,this.attributes.next.needsUpdate=!0},v.ShaderChunk.meshline_vert=["",v.ShaderChunk.logdepthbuf_pars_vertex,v.ShaderChunk.fog_pars_vertex,`\r
attribute vec3 previous;\r
attribute vec3 next;\r
attribute float side;\r
attribute float width;\r
attribute float counters;\r
\r
uniform vec2 resolution;\r
uniform float lineWidth;\r
uniform vec3 color;\r
uniform float opacity;\r
uniform float near;\r
uniform float far;\r
uniform float sizeAttenuation;\r
\r
varying vec2 vUV;\r
varying vec4 vColor;\r
varying float vCounters;\r
\r
vec2 fix( vec4 i, float aspect ) {\r
\r
    vec2 res = i.xy / i.w;\r
    res.x *= aspect;\r
	 vCounters = counters;\r
    return res;\r
\r
}\r
\r
void main() {\r
\r
    float aspect = resolution.x / resolution.y;\r
    float pixelWidthRatio = 1. / (resolution.x * projectionMatrix[0][0]);\r
\r
    vColor = vec4( color, opacity );\r
    vUV = uv;\r
\r
    mat4 m = projectionMatrix * modelViewMatrix;\r
    vec4 finalPosition = m * vec4( position, 1.0 );\r
    vec4 prevPos = m * vec4( previous, 1.0 );\r
    vec4 nextPos = m * vec4( next, 1.0 );\r
\r
    vec2 currentP = fix( finalPosition, aspect );\r
    vec2 prevP = fix( prevPos, aspect );\r
    vec2 nextP = fix( nextPos, aspect );\r
\r
    float pixelWidth = finalPosition.w * pixelWidthRatio;\r
    float w = 1.8 * pixelWidth * lineWidth * width;\r
\r
    if( sizeAttenuation == 1. ) {\r
        w = 1.8 * lineWidth * width;\r
    }\r
\r
    vec2 dir;\r
    if( nextP == currentP ) dir = normalize( currentP - prevP );\r
    else if( prevP == currentP ) dir = normalize( nextP - currentP );\r
    else {\r
        vec2 dir1 = normalize( currentP - prevP );\r
        vec2 dir2 = normalize( nextP - currentP );\r
        dir = normalize( dir1 + dir2 );\r
\r
        vec2 perp = vec2( -dir1.y, dir1.x );\r
        vec2 miter = vec2( -dir.y, dir.x );\r
        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );\r
\r
    }\r
\r
    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;\r
    vec2 normal = vec2( -dir.y, dir.x );\r
    normal.x /= aspect;\r
    normal *= .5 * w;\r
\r
    vec4 offset = vec4( normal * side, 0.0, 1.0 );\r
    finalPosition.xy += offset.xy;\r
\r
    gl_Position = finalPosition;\r
`,v.ShaderChunk.logdepthbuf_vertex,v.ShaderChunk.fog_vertex&&"    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",v.ShaderChunk.fog_vertex,"}"].join(`\r
`),v.ShaderChunk.meshline_frag=["",v.ShaderChunk.fog_pars_fragment,v.ShaderChunk.logdepthbuf_pars_fragment,`\r
uniform sampler2D map;\r
uniform sampler2D alphaMap;\r
uniform float useMap;\r
uniform float useAlphaMap;\r
uniform float useDash;\r
uniform float dashArray;\r
uniform float dashOffset;\r
uniform float dashRatio;\r
uniform float visibility;\r
uniform float alphaTest;\r
uniform vec2 repeat;\r
\r
varying vec2 vUV;\r
varying vec4 vColor;\r
varying float vCounters;\r
\r
void main() {\r
`,v.ShaderChunk.logdepthbuf_fragment,`\r
    vec4 c = vColor;\r
    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );\r
    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;\r
    if( c.a < alphaTest ) discard;\r
    if( useDash == 1. ){\r
        c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));\r
    }\r
    gl_FragColor = c;\r
    gl_FragColor.a *= step(vCounters, visibility);\r
`,v.ShaderChunk.fog_fragment,"}"].join(`\r
`),c.prototype=Ge(v.ShaderMaterial.prototype),c.prototype.constructor=c,c.prototype.isMeshLineMaterial=!0,c.prototype.copy=function(x){return v.ShaderMaterial.prototype.copy.call(this,x),this.lineWidth=x.lineWidth,this.map=x.map,this.useMap=x.useMap,this.alphaMap=x.alphaMap,this.useAlphaMap=x.useAlphaMap,this.color.copy(x.color),this.opacity=x.opacity,this.resolution.copy(x.resolution),this.sizeAttenuation=x.sizeAttenuation,this.near=x.near,this.far=x.far,this.dashArray.copy(x.dashArray),this.dashOffset.copy(x.dashOffset),this.dashRatio.copy(x.dashRatio),this.useDash=x.useDash,this.visibility=x.visibility,this.alphaTest=x.alphaTest,this.repeat.copy(x.repeat),this},i.exports&&(e=i.exports={MeshLine:r,MeshLineMaterial:c}),e.MeshLine=r,e.MeshLineMaterial=c}).call(Pu)}),TS=Ew.MeshLine,_S=Ew.MeshLineMaterial,IS=function(i){function e(r){return Wc(this,e),r=$h(this,(e.__proto__||qh(e)).call(this,r)),r.staticDashArray=2,r.time=0,r.autoUpdate=!0,r}return yh(e,i),wf(e,[{key:"getDefaultOptions",value:function(){return{color:16777215,textureColor:16777215,textureWidth:10,textureLength:30,step:.1}}},{key:"initialize",value:function(s){this.threeLayer=s,this.addOverlay()}},{key:"onChanged",value:function(s,c){this.threeLayer&&(this.removeOverlay(),this.addOverlay())}},{key:"onDestroy",value:function(){this.removeOverlay()}},{key:"render",value:function(){var s=this.getOptions(),c=s.textureWidth,v=s.style;s=s.step/10,this.time+=s,2<this.time&&(this.time=0);for(var x=this.flyLine.children,w=0;w<x.length;w++){var I=x[w],j=I.hash;I.children[0].material.uniforms.lineWidth.value=c*(1+.2*Math.sin(5*this.time)),I.children[0].material.uniforms.dashOffset.value=v==="chaos"?I.children[0].material.uniforms.dashOffset.value-s:(this.staticDashArray+j)*(1-this.time/2)}}},{key:"removeOverlay",value:function(){this.threeLayer.remove(this.flyLine)}},{key:"addOverlay",value:function(){var s=this;this.flyLine=new Pl.Group;var c=this.threeLayer,v=new Pl.TextureLoader,x=this.getData();v.load("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFkAAABZCAQAAAD/AkAkAAAACXBIWXMAAAsTAAALEwEAmpwYAAADGWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjaY2BgnuDo4uTKJMDAUFBUUuQe5BgZERmlwH6egY2BmYGBgYGBITG5uMAxIMCHgYGBIS8/L5UBA3y7xsDIwMDAcFnX0cXJlYE0wJpcUFTCwMBwgIGBwSgltTiZgYHhCwMDQ3p5SUEJAwNjDAMDg0hSdkEJAwNjAQMDg0h2SJAzAwNjCwMDE09JakUJAwMDg3N+QWVRZnpGiYKhpaWlgmNKflKqQnBlcUlqbrGCZ15yflFBflFiSWoKAwMD1A4GBgYGXpf8EgX3xMw8BUNTVQYqg4jIKAX08EGIIUByaVEZhMXIwMDAIMCgxeDHUMmwiuEBozRjFOM8xqdMhkwNTJeYNZgbme+y2LDMY2VmzWa9yubEtoldhX0mhwBHJycrZzMXM1cbNzf3RB4pnqW8xryH+IL5nvFXCwgJrBZ0E3wk1CisKHxYJF2UV3SrWJw4p/hWiRRJYcmjUhXSutJPZObIhsoJyp2V71HwUeRVvKA0RTlKRUnltepWtUZ1Pw1Zjbea+7QmaqfqWOsK6b7SO6I/36DGMMrI0ljS+LfJPdPDZivM+y0qLBOtfKwtbFRtRexY7L7aP3e47XjB6ZjzXpetruvdVrov9VjkudBrgfdCn8W+y/xW+a8P2Bq4N+hY8PmQW6HPwr5EMEUKRilFG8e4xUbF5cW3JMxO3Jx0Nvl5KlOaXLpNRlRmVdas7D059/KY8tULfAqLi2YXHy55WyZR7lJRWDmv6mz131q9uvj6SQ3HGn83G7Skt85ru94h2Ond1d59uJehz76/bsK+if8nO05pnXpiOu+M4JmzZj2aozW3ZN6+BVwLwxYtXvxxqcOyCcsfrjRe1br65lrddU3rb2402NSx+cFWq21Tt3/Y6btr1R6Oven7jh9QP9h56PURv6Obj4ufqD355LT3mS3nZM+3X/h0Ke7yqasW15bdEL3ZeuvrnfS7N+/7PDjwyPTx6qeKz2a+EHzZ9Zr5Td3bn+9LP3z6VPD53de8b+9+5P/88Lv4z7d/Vf//AwAqvx2K829RWwAAOGtpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICAgICAgICAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTktMDYtMjdUMTk6MzE6MTUrMDg6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxOS0wOC0xOVQxNjo1Nzo1MCswODowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTktMDgtMTlUMTY6NTc6NTArMDg6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjE8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5Eb3QgR2FpbiAxNSU8L3Bob3Rvc2hvcDpJQ0NQcm9maWxlPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjQ5MmI1NTQ1LWIwNmQtNGI0Yi1iMWExLTZiN2NiNzExNzA5MjwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDo0OTJiNTU0NS1iMDZkLTRiNGItYjFhMS02YjdjYjcxMTcwOTI8L3htcE1NOkRvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDo0OTJiNTU0NS1iMDZkLTRiNGItYjFhMS02YjdjYjcxMTcwOTI8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jcmVhdGVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NDkyYjU1NDUtYjA2ZC00YjRiLWIxYTEtNmI3Y2I3MTE3MDkyPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE5LTA2LTI3VDE5OjMxOjE1KzA4OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT42NTUzNTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+ODk8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+ODk8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0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",function(w){for(var I=0;I<x.length;I++){var j=x[I].geometry.coordinates.map(function(G){return new(Function.prototype.bind.apply(Pl.Vector3,[null].concat(Xg(c.normizedPoint(G)))))});j=s.createFlyLine({originalData:x[I],curveData:j,texture:w}),s.flyLine.add(j)}c.add(s.flyLine)})}},{key:"createFlyLine",value:function(s){var c=this.options,v=c.color,x=c.textureColor,w=c.textureWidth,I=s.originalData,j=s.curveData;s=s.texture;var G=Math.random();c=Math.min(1,1-c.textureLength/100),c=Math.max(0,c),Object.prototype.toString.call(v)==="[object Function]"&&(v=v(I)),Object.prototype.toString.call(x)==="[object Function]"&&(x=x(I)),I=new Pl.Geometry,I.vertices=j,I.verticesNeedUpdate=!0,v=new Pl.LineBasicMaterial({linewidth:1,color:new Pl.Color(v),blending:Pl.AdditiveBlending,depthTest:!0,depthWrite:!1,transparent:!0,opacity:.3,linecap:"round",linejoin:"round"}),v=new Pl.Line(I,v),v.renderDepth=!1,v.hash=G,I=new TS;for(var W=new Pl.Geometry,ae=0;ae<j.length;ae++){var ue=j[ae];W.vertices.push(new Pl.Vector3(ue.x,ue.y,ue.z))}return I.setGeometry(W,function(be){return 1-be}),x=new _S({map:s,useMap:!0,color:new Pl.Color(x),opacity:1,dashArray:this.staticDashArray+G,dashOffset:0,dashRatio:c,sizeAttenuation:!0,lineWidth:w,depthWrite:!1,depthTest:!0,alphaTest:!1,transparent:!0,blending:Pl.AdditiveBlending,side:Pl.DoubleSide}),x=new Pl.Mesh(I.geometry,x),v.add(x),v}}]),e}(C);F.THREE=Pl,F.PostProcessing=MS,F.FanLayer=ES,F.FlyLineLayer=IS,F.ThreeLayer=m,Object.defineProperty(F,"__esModule",{value:!0})})}).call(this,U("yLpj"))},OaEy:function(rt,je,U){"use strict";var xe=U("cIOH"),Oe=U.n(xe),F=U("bKJz"),K=U.n(F),Ae=U("R9oj")},"Of+w":function(rt,je,U){var xe=U("Cwc5"),Oe=U("Kz5y"),F=xe(Oe,"WeakMap");rt.exports=F},OujY:function(rt,je,U){rt.exports={stepForm:"stepForm___26syq",stepFormText:"stepFormText___3xXDZ",result:"result___3gBKF",desc:"desc___3_cbl",information:"information___3DN7D",label:"label___3LM0j",uppercase:"uppercase___iGDjy"}},PKrl:function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("mrSG"),Oe=U("4K7L"),F=xe.__importDefault(U("Gytx")),K=U("W1EI"),Ae="rgba(60, 50, 200, 0.9)",ve=function(Pe){xe.__extends(We,Pe);function We(we){var De=Pe.call(this,we)||this;return De._createLayer=!1,De}return We.prototype.componentDidMount=function(){this.initialize()},We.prototype.componentDidUpdate=function(we){F.default(this.props,we)||this.initialize()},We.prototype.componentWillUnmount=function(){this.destroy()},We.prototype.destroy=function(){this._createLayer=!1,this.view.destroy(),this.view=void 0,this.linelayer=void 0,this.arrowlayer=void 0,this.flowlayer=void 0,this.pointlayer=void 0,this.textlayer=void 0},We.prototype.initialize=function(){var we=this,De=this.map=this.props.map;if(!!De){this._createLayer||this.createLayers();var at=[],se=[],Re=new Map;if(this.props.data){var mt=[],st=new Oe.OdCurve;this.props.data.forEach(function(St){var Xr=St.from.point||Oe.utilCity.getCenterByCityName(St.from.city),zt=St.to.point||Oe.utilCity.getCenterByCityName(St.to.city);Xr=new BMapGL.Point(Xr.lng,Xr.lat),zt=new BMapGL.Point(zt.lng,zt.lat),st.setOptions({points:[Xr,zt]});var nr=st.getPoints();we.props.coordType==="bd09mc"?(mt.push(BMapGL.Projection.convertMC2LL(Xr)),mt.push(BMapGL.Projection.convertMC2LL(zt))):(mt.push(Xr),mt.push(zt)),at.push({geometry:{type:"LineString",coordinates:nr},color:St.color});var pn=Re.get(St.color)||[];pn.push({geometry:{type:"LineString",coordinates:nr}}),Re.set(St.color,pn),we.props.showEndPoint!==!1&&se.push({geometry:{type:"Point",coordinates:[zt.lng,zt.lat]},color:St.color,properties:{text:St.to.name||St.to.city}}),we.props.showStartPoint!==!1&&se.push({geometry:{type:"Point",coordinates:[Xr.lng,Xr.lat]},color:St.color,properties:{text:St.from.name||St.from.city}}),mt.length>0&&we.props.autoViewport===!0&&De.setViewport(mt,we.props.viewportOptions||{})})}this.linelayer.setData(at),this.props.lineOptions&&this.linelayer.setOptions(this.props.lineOptions),this.pointlayer.setData(se),this.props.pointOptions&&this.pointlayer.setOptions(this.props.pointOptions),this.textlayer.setData(se),this.props.textOptions&&this.textlayer.setOptions(this.props.textOptions),Array.from(Re.keys()).forEach(function(St){if(St===void 0)we.arrowlayer.setData(Re.get(void 0)),we.props.arrowOptions&&we.arrowlayer.setOptions(we.props.arrowOptions);else{var Xr=new Oe.LineLayer(xe.__assign(xe.__assign({width:10},we.props.arrowOptions),{style:"arrow",color:"rgba(255, 255, 255, 0)",styleOptions:{color:St}}));we.view.addLayer(Xr),Xr.setData(Re.get(St))}}),this.props.enableAnimation&&(this.flowlayer.setData(at),this.props.animationOptions&&this.flowlayer.setOptions(this.props.animationOptions))}},We.prototype.createLayers=function(){this._createLayer=!0;var we=this.map,De=this.view=new Oe.View({map:we}),at=this.linelayer=new Oe.LineLayer({blend:"ligher",color:Ae,width:4});De.addLayer(at);var se=this.arrowlayer=new Oe.LineLayer({width:10,style:"arrow",color:"rgba(255, 255, 255, 0)",styleOptions:{color:Ae}});De.addLayer(se);var Re=this.pointlayer=new Oe.PointLayer({blend:"ligher",color:Ae,size:10});De.addLayer(Re);var mt=this.textlayer=new Oe.TextLayer({offset:[0,15],color:"#333"});De.addLayer(mt);var st=this.flowlayer=new Oe.LineFlowLayer({color:function(){return"rgb(240, 200, 200)"},interval:.4,duration:1,trailLength:.8});De.addLayer(st)},We.prototype.render=function(){return null},We.defaultProps={enableAnimation:!0,showStartPoint:!0,showEndPoint:!0},We}(K.Component);je.default=ve},POPG:function(rt,je,U){"use strict";var xe=function(F){return F==null};je.a=xe},PQMj:function(rt,je,U){},PdkY:function(rt,je,U){},PjWh:function(rt,je,U){"use strict";var xe=function(F){var K={};if(Object.keys(F||{}).forEach(function(Ae){F[Ae]!==void 0&&(K[Ae]=F[Ae])}),!(Object.keys(K).length<1))return K};je.a=xe},QbM5:function(rt,je,U){},QeVK:function(rt,je,U){},QkVE:function(rt,je,U){var xe=U("EpBk");function Oe(F,K){var Ae=F.__data__;return xe(K)?Ae[typeof K=="string"?"string":"hash"]:Ae.map}rt.exports=Oe},QoRX:function(rt,je){function U(xe,Oe){for(var F=-1,K=xe==null?0:xe.length;++F<K;)if(Oe(xe[F],F,xe))return!0;return!1}rt.exports=U},QqLw:function(rt,je,U){var xe=U("tadb"),Oe=U("ebwN"),F=U("HOxn"),K=U("yGk4"),Ae=U("Of+w"),ve=U("NykK"),Pe=U("3Fdi"),We="[object Map]",we="[object Object]",De="[object Promise]",at="[object Set]",se="[object WeakMap]",Re="[object DataView]",mt=Pe(xe),st=Pe(Oe),St=Pe(F),Xr=Pe(K),zt=Pe(Ae),nr=ve;(xe&&nr(new xe(new ArrayBuffer(1)))!=Re||Oe&&nr(new Oe)!=We||F&&nr(F.resolve())!=De||K&&nr(new K)!=at||Ae&&nr(new Ae)!=se)&&(nr=function(pn){var Vr=ve(pn),$e=Vr==we?pn.constructor:void 0,Et=$e?Pe($e):"";if(Et)switch(Et){case mt:return Re;case st:return We;case St:return De;case Xr:return at;case zt:return se}return Vr}),rt.exports=nr},R9oj:function(rt,je,U){"use strict";var xe=U("cIOH"),Oe=U.n(xe),F=U("pwpV"),K=U.n(F)},Re9Q:function(rt,je,U){},RwCd:function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("mrSG"),Oe=U("W1EI"),F=xe.__importDefault(U("s+10")),K=xe.__importDefault(U("Gytx"));function Ae(){for(var we="//huiyan.baidu.com/cms/react-bmap/markers_new2x_fbb9e99.png",De={simple_red:new BMapGL.Icon(we,new BMapGL.Size(42/2,66/2),{imageOffset:new BMapGL.Size(454/2,378/2),imageSize:new BMapGL.Size(600/2,600/2)}),simple_blue:new BMapGL.Icon(we,new BMapGL.Size(42/2,66/2),{imageOffset:new BMapGL.Size(454/2,450/2),imageSize:new BMapGL.Size(600/2,600/2)}),loc_red:new BMapGL.Icon(we,new BMapGL.Size(46/2,70/2),{imageOffset:new BMapGL.Size(400/2,378/2),imageSize:new BMapGL.Size(600/2,600/2)}),loc_blue:new BMapGL.Icon(we,new BMapGL.Size(46/2,70/2),{imageOffset:new BMapGL.Size(400/2,450/2),imageSize:new BMapGL.Size(600/2,600/2)}),start:new BMapGL.Icon(we,new BMapGL.Size(50/2,80/2),{imageOffset:new BMapGL.Size(400/2,278/2),imageSize:new BMapGL.Size(600/2,600/2)}),end:new BMapGL.Icon(we,new BMapGL.Size(50/2,80/2),{imageOffset:new BMapGL.Size(450/2,278/2),imageSize:new BMapGL.Size(600/2,600/2)}),location:new BMapGL.Icon(we,new BMapGL.Size(28/2,40/2),{imageOffset:new BMapGL.Size(248/2,466/2),imageSize:new BMapGL.Size(600/2,600/2)})},at=1;at<=10;at++)De["red"+at]=new BMapGL.Icon(we,new BMapGL.Size(42/2,66/2),{imageOffset:new BMapGL.Size(42/2*(at-1),0),imageSize:new BMapGL.Size(600/2,600/2)});for(var at=1;at<=10;at++)De["blue"+at]=new BMapGL.Icon(we,new BMapGL.Size(42/2,66/2),{imageOffset:new BMapGL.Size(42/2*(at-1),132/2),imageSize:new BMapGL.Size(600/2,600/2)});return De}var ve=["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","infowindowclose","infowindowopen","dragstart","dragging","dragend","rightclick"],Pe={enableMassClear:["enableMassClear","disableMassClear"],enableDragging:["enableDragging","disableDragging"]},We=function(we){xe.__extends(De,we);function De(at){var se=we.call(this,at)||this;return se.options=["offset","icon","enableMassClear","enableDragging","enableClicking","raiseOnDrag","draggingCursor","rotation","title"],se.defaultIcons=Ae(),se}return De.prototype.componentDidUpdate=function(at){var se=this.props,Re=se.position,mt=se.icon,st=se.autoViewport,St=se.offset,Xr=se.isTop,zt=at.position,nr=at.icon,pn=at.autoViewport,Vr=at.offset,$e=at.isTop,Et=Re&&!K.default(Re,zt),Xt=!!(mt&&!K.default(mt,nr)),et=!K.default(st,pn),bt=!!(St&&!K.default(St,Vr)),Zt=!K.default(Xr,$e),qe=this.parsePosition(Re);if(Et&&this.marker.setPosition(qe),Xt){var Ie=this.parseIcon(mt);this.marker.setIcon(Ie)}bt&&this.marker.setOffset(St),Zt&&this.marker.setTop(!!Xr),st&&(Et||et)&&this.props.map.setCenter(qe)},De.prototype.componentDidMount=function(){this.initialize()},De.prototype.componentWillUnmount=function(){this.destroy()},De.prototype.destroy=function(){this.marker&&(this.props.map.removeOverlay(this.marker),this.instance=this.marker=void 0)},De.prototype.initialize=function(){var at=this.props.map;this.destroy();var se=this.parseIcon(this.props.icon),Re=this.parsePosition(this.props.position),mt=this.getOptions();mt.icon=se,this.instance=this.marker=new BMapGL.Marker(Re,mt),this.props.isTop&&this.marker.setTop(!0),at.addOverlay(this.marker),this.props.autoViewport&&at.setCenter(Re)},De.prototype.parsePosition=function(at){var se=this.props.coordType==="bd09mc",Re;return at instanceof Array?Re=new BMapGL.Point(at[0],at[1]):at instanceof BMapGL.Point?Re=at:Re=new BMapGL.Point(at.lng,at.lat),se&&(Re=BMapGL.Projection.convertMC2LL(Re)),Re},De.prototype.parseIcon=function(at){var se;return at&&at instanceof BMapGL.Icon?se=at:at&&this.defaultIcons[at]?se=this.defaultIcons[at]:se=this.defaultIcons.simple_red,se},De.prototype.render=function(){return null},De}(Oe.Component);We.defaultProps={icon:"simple_red"},je.default=F.default(We,ve,Pe)},S76h:function(rt,je,U){},SbrR:function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("mrSG"),Oe=xe.__importDefault(U("0GZW")),F=xe.__importDefault(U("Gytx")),K=function(Ae){xe.__extends(ve,Ae);function ve(Pe){var We=Ae.call(this,Pe)||this;return We.options=["strokeColor","strokeWeight","strokeOpacity","strokeStyle","dashArray","enableMassClear","enableEditing"],We}return ve.prototype.onDataUpdate=function(Pe){var We=this.props,we=We.path,De=We.autoViewport,at=Pe.path,se=Pe.autoViewport,Re=we&&!F.default(we,at),mt=!F.default(De,se);if(Re&&this.overlay.setPath(this.parsePath(we)),De&&(Re||mt)){var st=this.overlay.getPath(),St=this.props.map.getViewport(st,this.props.viewportOptions||{});this.props.map.setViewport(St)}},ve.prototype.getOverlay=function(){var Pe=this.parsePath(this.props.path);return new BMapGL.Polyline(Pe,this.getOptions())},ve.prototype.parsePath=function(Pe){var We=this.props.coordType==="bd09mc",we=Pe.map(function(De){var at;return De instanceof Array?at=new BMapGL.Point(De[0],De[1]):De instanceof BMapGL.Point?at=De:at=new BMapGL.Point(De.lng,De.lat),We&&(at=BMapGL.Projection.convertMC2LL(at)),at});return we},ve.prototype.render=function(){return null},ve}(Oe.default);je.default=K},SfRM:function(rt,je,U){var xe=U("YESw");function Oe(){this.__data__=xe?xe(null):{},this.size=0}rt.exports=Oe},TLLU:function(rt,je,U){"use strict";var xe=U("5OYt");je.a={useBreakpoint:xe.a}},ToZM:function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("mrSG"),Oe=xe.__importStar(U("4K7L")),F=xe.__importStar(U("O8ob")),K=U("W1EI"),Ae=function(ve){xe.__extends(Pe,ve);function Pe(We){var we=ve.call(this,We)||this;return we._createLayer=!1,we}return Pe.prototype.componentDidMount=function(){this.initialize()},Pe.prototype.componentWillUnmount=function(){this.layer&&(this.props.view.removeLayer(this.layer),this.layer.destroy(),this.layer=null)},Pe.prototype.componentDidUpdate=function(We){if(!this.map||!this.layer){this.initialize();return}var we=this.props,De=we.data,at=we.options,se=we.autoViewport,Re=We.data,mt=We.options,st=We.autoViewport;JSON.stringify(mt)!==JSON.stringify(at)&&this.layer.setOptions(at),JSON.stringify(Re)!==JSON.stringify(De)&&this.layer.setData(De),se&&(JSON.stringify(Re)!==JSON.stringify(De)||se!==st)&&this.setViewport()},Pe.prototype.initialize=function(){var We=this.props.map;!We||(this.map=We,this._createLayer||this.createLayers(),this.props.autoViewport&&this.setViewport())},Pe.prototype.setViewport=function(){var We=this.props.coordType==="bd09mc",we=function(se){var Re=new BMapGL.Point(se[0],se[1]);return We?BMapGL.Projection.convertMC2LL(Re):Re},De=[];this.props.data.forEach(function(at){at.geometry.type==="Point"?De.push(we(at.geometry.coordinates)):at.geometry.type==="LineString"?at.geometry.coordinates.map(function(se){De.push(we(se))}):at.geometry.type==="Polygon"&&at.geometry.coordinates[0].map(function(se){De.push(we(se))})}),De.length>0&&this.map.setViewport(De,this.props.options.viewportOptions||{})},Pe.prototype.createLayers=function(){if(Oe[this.props.type]||F[this.props.type]){this._createLayer=!0;var We=Oe[this.props.type]?Oe:F;this.layer=new We[this.props.type](this.props.options),this.props.view.addLayer(this.layer),this.layer.setData(this.props.data)}else console.error("mapvgl doesn't have layer "+this.props.type+"!")},Pe.prototype.render=function(){return null},Pe}(K.Component);je.default=Ae},"UNi/":function(rt,je){function U(xe,Oe){for(var F=-1,K=Array(xe);++F<xe;)K[F]=Oe(F);return K}rt.exports=U},UPUD:function(rt,je,U){},Urep:function(rt,je,U){},V6Ve:function(rt,je,U){var xe=U("kekF"),Oe=xe(Object.keys,Object);rt.exports=Oe},VaNO:function(rt,je){function U(xe){return this.__data__.has(xe)}rt.exports=U},Vl3Y:function(rt,je,U){"use strict";var xe=U("wx14"),Oe=U("U8pU"),F=U("ODXe"),K=U("rePB"),Ae=U("q1tI"),ve=U("TSYQ"),Pe=U.n(ve),We=U("85Yc"),we=U("H84U"),De=U("bT9E"),at=Ae.createContext({labelAlign:"right",vertical:!1,itemRef:function(){}}),se=Ae.createContext({updateItemErrors:function(){}}),Re=function(ar){var Mr=Object(De.a)(ar,["prefixCls"]);return Ae.createElement(We.b,Mr)},mt=Ae.createContext({prefixCls:""});function st(Ot){return Ot!=null&&typeof Ot=="object"&&Ot.nodeType===1}function St(Ot,ar){return(!ar||Ot!=="hidden")&&Ot!=="visible"&&Ot!=="clip"}function Xr(Ot,ar){if(Ot.clientHeight<Ot.scrollHeight||Ot.clientWidth<Ot.scrollWidth){var Mr=getComputedStyle(Ot,null);return St(Mr.overflowY,ar)||St(Mr.overflowX,ar)||function(jt){var gr=function(Vn){if(!Vn.ownerDocument||!Vn.ownerDocument.defaultView)return null;try{return Vn.ownerDocument.defaultView.frameElement}catch(_n){return null}}(jt);return!!gr&&(gr.clientHeight<jt.scrollHeight||gr.clientWidth<jt.scrollWidth)}(Ot)}return!1}function zt(Ot,ar,Mr,jt,gr,Vn,_n,vo){return Vn<Ot&&_n>ar||Vn>Ot&&_n<ar?0:Vn<=Ot&&vo<=Mr||_n>=ar&&vo>=Mr?Vn-Ot-jt:_n>ar&&vo<Mr||Vn<Ot&&vo>Mr?_n-ar+gr:0}var nr=function(Ot,ar){var Mr=window,jt=ar.scrollMode,gr=ar.block,Vn=ar.inline,_n=ar.boundary,vo=ar.skipOverflowHiddenElements,Ei=typeof _n=="function"?_n:function(zl){return zl!==_n};if(!st(Ot))throw new TypeError("Invalid target");for(var Oo=document.scrollingElement||document.documentElement,Je=[],nt=Ot;st(nt)&&Ei(nt);){if((nt=nt.parentNode)===Oo){Je.push(nt);break}nt===document.body&&Xr(nt)&&!Xr(document.documentElement)||Xr(nt,vo)&&Je.push(nt)}for(var ut=Mr.visualViewport?Mr.visualViewport.width:innerWidth,Dt=Mr.visualViewport?Mr.visualViewport.height:innerHeight,en=window.scrollX||pageXOffset,bn=window.scrollY||pageYOffset,jr=Ot.getBoundingClientRect(),tn=jr.height,yn=jr.width,Qn=jr.top,mi=jr.right,si=jr.bottom,Ji=jr.left,Hi=gr==="start"||gr==="nearest"?Qn:gr==="end"?si:Qn+tn/2,eo=Vn==="center"?Ji+yn/2:Vn==="end"?mi:Ji,go=[],Ro=0;Ro<Je.length;Ro++){var va=Je[Ro],zo=va.getBoundingClientRect(),tl=zo.height,yl=zo.width,au=zo.top,jl=zo.right,Gu=zo.bottom,mc=zo.left;if(jt==="if-needed"&&Qn>=0&&Ji>=0&&si<=Dt&&mi<=ut&&Qn>=au&&si<=Gu&&Ji>=mc&&mi<=jl)return go;var Kc=getComputedStyle(va),gs=parseInt(Kc.borderLeftWidth,10),mf=parseInt(Kc.borderTopWidth,10),Zc=parseInt(Kc.borderRightWidth,10),Hf=parseInt(Kc.borderBottomWidth,10),Ac=0,di=0,Ja="offsetWidth"in va?va.offsetWidth-va.clientWidth-gs-Zc:0,Jc="offsetHeight"in va?va.offsetHeight-va.clientHeight-mf-Hf:0;if(Oo===va)Ac=gr==="start"?Hi:gr==="end"?Hi-Dt:gr==="nearest"?zt(bn,bn+Dt,Dt,mf,Hf,bn+Hi,bn+Hi+tn,tn):Hi-Dt/2,di=Vn==="start"?eo:Vn==="center"?eo-ut/2:Vn==="end"?eo-ut:zt(en,en+ut,ut,gs,Zc,en+eo,en+eo+yn,yn),Ac=Math.max(0,Ac+bn),di=Math.max(0,di+en);else{Ac=gr==="start"?Hi-au-mf:gr==="end"?Hi-Gu+Hf+Jc:gr==="nearest"?zt(au,Gu,tl,mf,Hf+Jc,Hi,Hi+tn,tn):Hi-(au+tl/2)+Jc/2,di=Vn==="start"?eo-mc-gs:Vn==="center"?eo-(mc+yl/2)+Ja/2:Vn==="end"?eo-jl+Zc+Ja:zt(mc,jl,yl,gs,Zc+Ja,eo,eo+yn,yn);var La=va.scrollLeft,Vf=va.scrollTop;Hi+=Vf-(Ac=Math.max(0,Math.min(Vf+Ac,va.scrollHeight-tl+Jc))),eo+=La-(di=Math.max(0,Math.min(La+di,va.scrollWidth-yl+Ja)))}go.push({el:va,top:Ac,left:di})}return go};function pn(Ot){return Ot===Object(Ot)&&Object.keys(Ot).length!==0}function Vr(Ot,ar){ar===void 0&&(ar="auto");var Mr="scrollBehavior"in document.body.style;Ot.forEach(function(jt){var gr=jt.el,Vn=jt.top,_n=jt.left;gr.scroll&&Mr?gr.scroll({top:Vn,left:_n,behavior:ar}):(gr.scrollTop=Vn,gr.scrollLeft=_n)})}function $e(Ot){return Ot===!1?{block:"end",inline:"nearest"}:pn(Ot)?Ot:{block:"start",inline:"nearest"}}function Et(Ot,ar){var Mr=!Ot.ownerDocument.documentElement.contains(Ot);if(pn(ar)&&typeof ar.behavior=="function")return ar.behavior(Mr?[]:nr(Ot,ar));if(!Mr){var jt=$e(ar);return Vr(nr(Ot,jt),jt.behavior)}}var Xt=Et;function et(Ot){return Ot===void 0||Ot===!1?[]:Array.isArray(Ot)?Ot:[Ot]}function bt(Ot,ar){if(!!Ot.length){var Mr=Ot.join("_");return ar?"".concat(ar,"_").concat(Mr):Mr}}function Zt(Ot){var ar=et(Ot);return ar.join("_")}function qe(Ot){var ar=Object(We.e)(),Mr=Object(F.a)(ar,1),jt=Mr[0],gr=Ae.useRef({}),Vn=Ae.useMemo(function(){return Ot||Object(xe.a)(Object(xe.a)({},jt),{__INTERNAL__:{itemRef:function(vo){return function(Ei){var Oo=Zt(vo);Ei?gr.current[Oo]=Ei:delete gr.current[Oo]}}},scrollToField:function(vo){var Ei=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Oo=et(vo),Je=bt(Oo,Vn.__INTERNAL__.name),nt=Je?document.getElementById(Je):null;nt&&Xt(nt,Object(xe.a)({scrollMode:"if-needed",block:"nearest"},Ei))},getFieldInstance:function(vo){var Ei=Zt(vo);return gr.current[Ei]}})},[Ot,jt]);return[Vn]}var Ie=U("3Nzz"),ht=function(Ot,ar){var Mr={};for(var jt in Ot)Object.prototype.hasOwnProperty.call(Ot,jt)&&ar.indexOf(jt)<0&&(Mr[jt]=Ot[jt]);if(Ot!=null&&typeof Object.getOwnPropertySymbols=="function")for(var gr=0,jt=Object.getOwnPropertySymbols(Ot);gr<jt.length;gr++)ar.indexOf(jt[gr])<0&&Object.prototype.propertyIsEnumerable.call(Ot,jt[gr])&&(Mr[jt[gr]]=Ot[jt[gr]]);return Mr},Er=function(ar,Mr){var jt,gr=Ae.useContext(Ie.b),Vn=Ae.useContext(we.b),_n=Vn.getPrefixCls,vo=Vn.direction,Ei=Vn.form,Oo=ar.prefixCls,Je=ar.className,nt=Je===void 0?"":Je,ut=ar.size,Dt=ut===void 0?gr:ut,en=ar.form,bn=ar.colon,jr=ar.labelAlign,tn=ar.labelCol,yn=ar.wrapperCol,Qn=ar.hideRequiredMark,mi=ar.layout,si=mi===void 0?"horizontal":mi,Ji=ar.scrollToFirstError,Hi=ar.requiredMark,eo=ar.onFinishFailed,go=ar.name,Ro=ht(ar,["prefixCls","className","size","form","colon","labelAlign","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name"]),va=Object(Ae.useMemo)(function(){return Hi!==void 0?Hi:Ei&&Ei.requiredMark!==void 0?Ei.requiredMark:!Qn},[Qn,Hi,Ei]),zo=_n("form",Oo),tl=Pe()(zo,(jt={},Object(K.a)(jt,"".concat(zo,"-").concat(si),!0),Object(K.a)(jt,"".concat(zo,"-hide-required-mark"),va===!1),Object(K.a)(jt,"".concat(zo,"-rtl"),vo==="rtl"),Object(K.a)(jt,"".concat(zo,"-").concat(Dt),Dt),jt),nt),yl=qe(en),au=Object(F.a)(yl,1),jl=au[0],Gu=jl.__INTERNAL__;Gu.name=go;var mc=Object(Ae.useMemo)(function(){return{name:go,labelAlign:jr,labelCol:tn,wrapperCol:yn,vertical:si==="vertical",colon:bn,requiredMark:va,itemRef:Gu.itemRef}},[go,jr,tn,yn,si,bn,va]);Ae.useImperativeHandle(Mr,function(){return jl});var Kc=function(mf){eo&&eo(mf);var Zc={block:"nearest"};Ji&&mf.errorFields.length&&(Object(Oe.a)(Ji)==="object"&&(Zc=Ji),jl.scrollToField(mf.errorFields[0].name,Zc))};return Ae.createElement(Ie.a,{size:Dt},Ae.createElement(at.Provider,{value:mc},Ae.createElement(We.d,Object(xe.a)({id:go},Ro,{name:go,onFinishFailed:Kc,form:jl,className:tl}))))},Cn=Ae.forwardRef(Er),pr=Cn,$r=U("KQm4"),An=U("Y+p1"),rn=U.n(An),fr=U("KW7l"),_r=U("c+Xe"),Wr=U("qrJ5"),dt=U("CWQg"),At=U("uaoM"),cn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},Jt=cn,rr=U("6VBw"),Gn=function(ar,Mr){return Ae.createElement(rr.a,Object.assign({},ar,{ref:Mr,icon:Jt}))};Gn.displayName="QuestionCircleOutlined";var Kr=Ae.forwardRef(Gn),ai=U("/kpp"),Nn=U("YMnH"),So=U("ZvpZ"),Wo=U("3S7+"),Un=function(Ot,ar){var Mr={};for(var jt in Ot)Object.prototype.hasOwnProperty.call(Ot,jt)&&ar.indexOf(jt)<0&&(Mr[jt]=Ot[jt]);if(Ot!=null&&typeof Object.getOwnPropertySymbols=="function")for(var gr=0,jt=Object.getOwnPropertySymbols(Ot);gr<jt.length;gr++)ar.indexOf(jt[gr])<0&&Object.prototype.propertyIsEnumerable.call(Ot,jt[gr])&&(Mr[jt[gr]]=Ot[jt[gr]]);return Mr};function an(Ot){return Ot?Object(Oe.a)(Ot)==="object"&&!Ae.isValidElement(Ot)?Ot:{title:Ot}:null}var In=function(ar){var Mr=ar.prefixCls,jt=ar.label,gr=ar.htmlFor,Vn=ar.labelCol,_n=ar.labelAlign,vo=ar.colon,Ei=ar.required,Oo=ar.requiredMark,Je=ar.tooltip,nt=Object(Nn.b)("Form"),ut=Object(F.a)(nt,1),Dt=ut[0];return jt?Ae.createElement(at.Consumer,{key:"label"},function(en){var bn,jr=en.vertical,tn=en.labelAlign,yn=en.labelCol,Qn=en.colon,mi,si=Vn||yn||{},Ji=_n||tn,Hi="".concat(Mr,"-item-label"),eo=Pe()(Hi,Ji==="left"&&"".concat(Hi,"-left"),si.className),go=jt,Ro=vo===!0||Qn!==!1&&vo!==!1,va=Ro&&!jr;va&&typeof jt=="string"&&jt.trim()!==""&&(go=jt.replace(/[:|：]\s*$/,""));var zo=an(Je);if(zo){var tl=zo.icon,yl=tl===void 0?Ae.createElement(Kr,null):tl,au=Un(zo,["icon"]),jl=Ae.createElement(Wo.a,au,Ae.cloneElement(yl,{className:"".concat(Mr,"-item-tooltip")}));go=Ae.createElement(Ae.Fragment,null,go,jl)}Oo==="optional"&&!Ei&&(go=Ae.createElement(Ae.Fragment,null,go,Ae.createElement("span",{className:"".concat(Mr,"-item-optional")},(Dt==null?void 0:Dt.optional)||((mi=So.a.Form)===null||mi===void 0?void 0:mi.optional))));var Gu=Pe()((bn={},Object(K.a)(bn,"".concat(Mr,"-item-required"),Ei),Object(K.a)(bn,"".concat(Mr,"-item-required-mark-optional"),Oo==="optional"),Object(K.a)(bn,"".concat(Mr,"-item-no-colon"),!Ro),bn));return Ae.createElement(ai.a,Object(xe.a)({},si,{className:eo}),Ae.createElement("label",{htmlFor:gr,className:Gu,title:typeof jt=="string"?jt:""},go))}):null},Jr=In,Xn=U("ye1Q"),hr=U("jN4g"),dn=U("jO45"),Mn=U("IMoZ"),Tn=U("8XRh"),kr=U("YrtM"),ei=U("hkKa");function Mi(Ot,ar,Mr){var jt=Ae.useRef({errors:Ot,visible:!!Ot.length}),gr=Object(ei.a)(),Vn=function(){var vo=jt.current.visible,Ei=!!Ot.length,Oo=jt.current.errors;jt.current.errors=Ot,jt.current.visible=Ei,vo!==Ei?ar(Ei):(Oo.length!==Ot.length||Oo.some(function(Je,nt){return Je!==Ot[nt]}))&&gr()};return Ae.useEffect(function(){if(!Mr){var _n=setTimeout(Vn,10);return function(){return clearTimeout(_n)}}},[Ot]),Mr&&Vn(),[jt.current.visible,jt.current.errors]}var Di=[];function ui(Ot){var ar=Ot.errors,Mr=ar===void 0?Di:ar,jt=Ot.help,gr=Ot.onDomErrorVisibleChange,Vn=Object(ei.a)(),_n=Ae.useContext(mt),vo=_n.prefixCls,Ei=_n.status,Oo=Mi(Mr,function(Qn){Qn&&Promise.resolve().then(function(){gr==null||gr(!0)}),Vn()},!!jt),Je=Object(F.a)(Oo,2),nt=Je[0],ut=Je[1],Dt=Object(kr.a)(function(){return ut},nt,function(Qn,mi){return mi}),en=Ae.useState(Ei),bn=Object(F.a)(en,2),jr=bn[0],tn=bn[1];Ae.useEffect(function(){nt&&Ei&&tn(Ei)},[nt,Ei]);var yn="".concat(vo,"-item-explain");return Ae.createElement(Tn.b,{motionDeadline:500,visible:nt,motionName:"show-help",onLeaveEnd:function(){gr==null||gr(!1)},motionAppear:!0,removeOnLeave:!0},function(Qn){var mi=Qn.className;return Ae.createElement("div",{className:Pe()(yn,Object(K.a)({},"".concat(yn,"-").concat(jr),jr),mi),key:"help"},Dt.map(function(si,Ji){return Ae.createElement("div",{key:Ji,role:"alert"},si)}))})}var Po={success:dn.a,warning:Mn.a,error:hr.a,validating:Xn.a},cr=function(ar){var Mr=ar.prefixCls,jt=ar.status,gr=ar.wrapperCol,Vn=ar.children,_n=ar.help,vo=ar.errors,Ei=ar.onDomErrorVisibleChange,Oo=ar.hasFeedback,Je=ar._internalItemRender,nt=ar.validateStatus,ut=ar.extra,Dt="".concat(Mr,"-item"),en=Ae.useContext(at),bn=gr||en.wrapperCol||{},jr=Pe()("".concat(Dt,"-control"),bn.className);Ae.useEffect(function(){return function(){Ei(!1)}},[]);var tn=nt&&Po[nt],yn=Oo&&tn?Ae.createElement("span",{className:"".concat(Dt,"-children-icon")},Ae.createElement(tn,null)):null,Qn=Object(xe.a)({},en);delete Qn.labelCol,delete Qn.wrapperCol;var mi=Ae.createElement("div",{className:"".concat(Dt,"-control-input")},Ae.createElement("div",{className:"".concat(Dt,"-control-input-content")},Vn),yn),si=Ae.createElement(mt.Provider,{value:{prefixCls:Mr,status:jt}},Ae.createElement(ui,{errors:vo,help:_n,onDomErrorVisibleChange:Ei})),Ji=ut?Ae.createElement("div",{className:"".concat(Dt,"-extra")},ut):null,Hi=Je&&Je.mark==="pro_table_render"&&Je.render?Je.render(ar,{input:mi,errorList:si,extra:Ji}):Ae.createElement(Ae.Fragment,null,mi,si,Ji);return Ae.createElement(at.Provider,{value:Qn},Ae.createElement(ai.a,Object(xe.a)({},bn,{className:jr}),Hi))},$o=cr,As=U("0n0R"),Gi=U("wgJM");function Xs(Ot){var ar=Ae.useState(Ot),Mr=Object(F.a)(ar,2),jt=Mr[0],gr=Mr[1],Vn=Object(Ae.useRef)(null),_n=Object(Ae.useRef)([]),vo=Object(Ae.useRef)(!1);Ae.useEffect(function(){return function(){vo.current=!0,Gi.a.cancel(Vn.current)}},[]);function Ei(Oo){vo.current||(Vn.current===null&&(_n.current=[],Vn.current=Object(Gi.a)(function(){Vn.current=null,gr(function(Je){var nt=Je;return _n.current.forEach(function(ut){nt=ut(nt)}),nt})})),_n.current.push(Oo))}return[jt,Ei]}function un(){var Ot=Ae.useContext(at),ar=Ot.itemRef,Mr=Ae.useRef({});function jt(gr,Vn){var _n=Vn&&Object(Oe.a)(Vn)==="object"&&Vn.ref,vo=gr.join("_");return(Mr.current.name!==vo||Mr.current.originRef!==_n)&&(Mr.current.name=vo,Mr.current.originRef=_n,Mr.current.ref=Object(_r.a)(ar(gr),_n)),Mr.current.ref}return jt}var ko=function(Ot,ar){var Mr={};for(var jt in Ot)Object.prototype.hasOwnProperty.call(Ot,jt)&&ar.indexOf(jt)<0&&(Mr[jt]=Ot[jt]);if(Ot!=null&&typeof Object.getOwnPropertySymbols=="function")for(var gr=0,jt=Object.getOwnPropertySymbols(Ot);gr<jt.length;gr++)ar.indexOf(jt[gr])<0&&Object.prototype.propertyIsEnumerable.call(Ot,jt[gr])&&(Mr[jt[gr]]=Ot[jt[gr]]);return Mr},ss="__SPLIT__",Gr=Object(dt.a)("success","warning","error","validating",""),Yl=Ae.memo(function(Ot){var ar=Ot.children;return ar},function(Ot,ar){return Ot.value===ar.value&&Ot.update===ar.update});function ou(Ot){return Ot===null&&Object(At.a)(!1,"Form.Item","`null` is passed as `name` property"),Ot!=null}function ea(Ot){var ar=Ot.name,Mr=Ot.fieldKey,jt=Ot.noStyle,gr=Ot.dependencies,Vn=Ot.prefixCls,_n=Ot.style,vo=Ot.className,Ei=Ot.shouldUpdate,Oo=Ot.hasFeedback,Je=Ot.help,nt=Ot.rules,ut=Ot.validateStatus,Dt=Ot.children,en=Ot.required,bn=Ot.label,jr=Ot.messageVariables,tn=Ot.trigger,yn=tn===void 0?"onChange":tn,Qn=Ot.validateTrigger,mi=Ot.hidden,si=ko(Ot,["name","fieldKey","noStyle","dependencies","prefixCls","style","className","shouldUpdate","hasFeedback","help","rules","validateStatus","children","required","label","messageVariables","trigger","validateTrigger","hidden"]),Ji=Object(Ae.useRef)(!1),Hi=Object(Ae.useContext)(we.b),eo=Hi.getPrefixCls,go=Object(Ae.useContext)(at),Ro=go.name,va=go.requiredMark,zo=Object(Ae.useContext)(se),tl=zo.updateItemErrors,yl=Ae.useState(!!Je),au=Object(F.a)(yl,2),jl=au[0],Gu=au[1],mc=Xs({}),Kc=Object(F.a)(mc,2),gs=Kc[0],mf=Kc[1],Zc=Object(Ae.useContext)(fr.b),Hf=Zc.validateTrigger,Ac=Qn!==void 0?Qn:Hf;function di(rc){Ji.current||Gu(rc)}var Ja=ou(ar),Jc=Object(Ae.useRef)([]);Ae.useEffect(function(){return function(){Ji.current=!0,tl(Jc.current.join(ss),[])}},[]);var La=eo("form",Vn),Vf=jt?tl:function(rc,su,Xl){mf(function(){var Dc=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Xl!==rc&&delete Dc[Xl],rn()(Dc[rc],su)?Dc:Object(xe.a)(Object(xe.a)({},Dc),Object(K.a)({},rc,su))})},zl=un();function nd(rc,su,Xl,Dc){var bu,Ha;if(jt&&!mi)return rc;var Ko=[];Object.keys(gs).forEach(function(Nc){Ko=[].concat(Object($r.a)(Ko),Object($r.a)(gs[Nc]||[]))});var Tu;Je!=null?Tu=et(Je):(Tu=Xl?Xl.errors:[],Tu=[].concat(Object($r.a)(Tu),Object($r.a)(Ko)));var zs="";ut!==void 0?zs=ut:(Xl==null?void 0:Xl.validating)?zs="validating":((Ha=Xl==null?void 0:Xl.errors)===null||Ha===void 0?void 0:Ha.length)||Ko.length?zs="error":(Xl==null?void 0:Xl.touched)&&(zs="success");var Eh=(bu={},Object(K.a)(bu,"".concat(La,"-item"),!0),Object(K.a)(bu,"".concat(La,"-item-with-help"),jl||Je),Object(K.a)(bu,"".concat(vo),!!vo),Object(K.a)(bu,"".concat(La,"-item-has-feedback"),zs&&Oo),Object(K.a)(bu,"".concat(La,"-item-has-success"),zs==="success"),Object(K.a)(bu,"".concat(La,"-item-has-warning"),zs==="warning"),Object(K.a)(bu,"".concat(La,"-item-has-error"),zs==="error"),Object(K.a)(bu,"".concat(La,"-item-is-validating"),zs==="validating"),Object(K.a)(bu,"".concat(La,"-item-hidden"),mi),bu);return Ae.createElement(Wr.a,Object(xe.a)({className:Pe()(Eh),style:_n,key:"row"},Object(De.a)(si,["colon","extra","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","labelAlign","labelCol","normalize","preserve","tooltip","validateFirst","valuePropName","wrapperCol","_internalItemRender"])),Ae.createElement(Jr,Object(xe.a)({htmlFor:su,required:Dc,requiredMark:va},Ot,{prefixCls:La})),Ae.createElement($o,Object(xe.a)({},Ot,Xl,{errors:Tu,prefixCls:La,status:zs,onDomErrorVisibleChange:di,validateStatus:zs}),Ae.createElement(se.Provider,{value:{updateItemErrors:Vf}},rc)))}var tc=typeof Dt=="function",Mh=Object(Ae.useRef)(0);if(Mh.current+=1,!Ja&&!tc&&!gr)return nd(Dt);var _f={};return typeof bn=="string"&&(_f.label=bn),jr&&(_f=Object(xe.a)(Object(xe.a)({},_f),jr)),Ae.createElement(We.a,Object(xe.a)({},Ot,{messageVariables:_f,trigger:yn,validateTrigger:Ac,onReset:function(){di(!1)}}),function(rc,su,Xl){var Dc=su.errors,bu=et(ar).length&&su?su.name:[],Ha=bt(bu,Ro);if(jt){var Ko=Jc.current.join(ss);if(Jc.current=Object($r.a)(bu),Mr){var Tu=Array.isArray(Mr)?Mr:[Mr];Jc.current=[].concat(Object($r.a)(bu.slice(0,-1)),Object($r.a)(Tu))}tl(Jc.current.join(ss),Dc,Ko)}var zs=en!==void 0?en:!!(nt&&nt.some(function(Wf){if(Wf&&Object(Oe.a)(Wf)==="object"&&Wf.required)return!0;if(typeof Wf=="function"){var Jd=Wf(Xl);return Jd&&Jd.required}return!1})),Eh=Object(xe.a)({},rc),Nc=null;if(Object(At.a)(!(Ei&&gr),"Form.Item","`shouldUpdate` and `dependencies` shouldn't be used together. See https://ant.design/components/form/#dependencies."),Array.isArray(Dt)&&Ja)Object(At.a)(!1,"Form.Item","`children` is array of render props cannot have `name`."),Nc=Dt;else if(tc&&(!(Ei||gr)||Ja))Object(At.a)(!!(Ei||gr),"Form.Item","`children` of render props only work with `shouldUpdate` or `dependencies`."),Object(At.a)(!Ja,"Form.Item","Do not use `name` with `children` of render props since it's not a field.");else if(gr&&!tc&&!Ja)Object(At.a)(!1,"Form.Item","Must set `name` or use render props when `dependencies` is set.");else if(Object(As.b)(Dt)){Object(At.a)(Dt.props.defaultValue===void 0,"Form.Item","`defaultValue` will not work on controlled Field. You should use `initialValues` of Form instead.");var Ed=Object(xe.a)(Object(xe.a)({},Dt.props),Eh);Ed.id||(Ed.id=Ha),Object(_r.c)(Dt)&&(Ed.ref=zl(bu,Dt));var Zd=new Set([].concat(Object($r.a)(et(yn)),Object($r.a)(et(Ac))));Zd.forEach(function(Wf){Ed[Wf]=function(){for(var Jd,id,zh,Th,If,ql=arguments.length,Ho=new Array(ql),ul=0;ul<ql;ul++)Ho[ul]=arguments[ul];(zh=Eh[Wf])===null||zh===void 0||(Jd=zh).call.apply(Jd,[Eh].concat(Ho)),(If=(Th=Dt.props)[Wf])===null||If===void 0||(id=If).call.apply(id,[Th].concat(Ho))}}),Nc=Ae.createElement(Yl,{value:Eh[Ot.valuePropName||"value"],update:Mh.current},Object(As.a)(Dt,Ed))}else tc&&(Ei||gr)&&!Ja?Nc=Dt(Xl):(Object(At.a)(!bu.length,"Form.Item","`name` is only used for validate React element. If you are using Form.Item as layout display, please remove `name` instead."),Nc=Dt);return nd(Nc,Ha,su,zs)})}var Eu=ea,wi=function(Ot,ar){var Mr={};for(var jt in Ot)Object.prototype.hasOwnProperty.call(Ot,jt)&&ar.indexOf(jt)<0&&(Mr[jt]=Ot[jt]);if(Ot!=null&&typeof Object.getOwnPropertySymbols=="function")for(var gr=0,jt=Object.getOwnPropertySymbols(Ot);gr<jt.length;gr++)ar.indexOf(jt[gr])<0&&Object.prototype.propertyIsEnumerable.call(Ot,jt[gr])&&(Mr[jt[gr]]=Ot[jt[gr]]);return Mr},Pi=function(ar){var Mr=ar.prefixCls,jt=ar.children,gr=wi(ar,["prefixCls","children"]);Object(At.a)(!!gr.name,"Form.List","Miss `name` prop.");var Vn=Ae.useContext(we.b),_n=Vn.getPrefixCls,vo=_n("form",Mr);return Ae.createElement(We.c,gr,function(Ei,Oo,Je){return Ae.createElement(mt.Provider,{value:{prefixCls:vo,status:"error"}},jt(Ei.map(function(nt){return Object(xe.a)(Object(xe.a)({},nt),{fieldKey:nt.key})}),Oo,{errors:Je.errors}))})},hi=Pi,Mt=pr;Mt.Item=Eu,Mt.List=hi,Mt.ErrorList=ui,Mt.useForm=qe,Mt.Provider=Re,Mt.create=function(){Object(At.a)(!1,"Form","antd v4 removed `Form.create`. Please remove or use `@ant-design/compatible` instead.")};var wn=je.a=Mt},VzZb:function(rt,je,U){},W1EI:function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("s+10");Object.defineProperty(je,"Wrapper",{enumerable:!0,get:function(){return xe.default}});var Oe=U("NRzi");Object.defineProperty(je,"Component",{enumerable:!0,get:function(){return Oe.default}})},W3vr:function(rt,je,U){},WuJL:function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("mrSG"),Oe=xe.__importDefault(U("hODF")),F=function(K){xe.__extends(Ae,K);function Ae(ve){return K.call(this,ve)||this}return Ae.prototype.getControl=function(){return new BMapGL.ScaleControl(this.getOptions())},Ae.prototype.render=function(){return null},Ae}(Oe.default);je.default=F},WwoR:function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("mrSG"),Oe=U("W1EI"),F=xe.__importDefault(U("s+10")),K=xe.__importDefault(U("Gytx")),Ae=["click","dblclick","rightclick","mousedown","mouseup","mouseout","mouseover","mousemove","remove"],ve={enableMassClear:["enableMassClear","disableMassClear"]},Pe=function(We){xe.__extends(we,We);function we(De){var at=We.call(this,De)||this;return at.options=["position","offset","enableMassClear"],at}return we.prototype.componentDidUpdate=function(De){var at=this.props,se=at.position,Re=at.offset,mt=at.text,st=at.style,St=De.position,Xr=De.offset,zt=De.text,nr=De.style,pn=se&&!K.default(se,St),Vr=!!(Re&&!K.default(Re,Xr)),$e=!K.default(mt,zt),Et=!!(st&&!K.default(st,nr)),Xt=this.parsePosition(se);pn&&this.label.setPosition(Xt),Vr&&this.label.setOffset(Re),$e&&this.label.setContent(mt),Et&&this.label.setStyle(st)},we.prototype.componentDidMount=function(){this.initialize()},we.prototype.componentWillUnmount=function(){this.destroy()},we.prototype.destroy=function(){this.label&&(this.props.map.removeOverlay(this.label),this.instance=this.label=void 0)},we.prototype.initialize=function(){var De=this.props.map;if(!!De){this.destroy();var at=this.getOptions(),se=this.parsePosition(this.props.position);at.position=se,this.instance=this.label=new BMapGL.Label(this.props.text||"",at),De.addOverlay(this.label),this.props.style&&this.label.setStyle(this.props.style)}},we.prototype.parsePosition=function(De){var at=this.props.coordType==="bd09mc",se;return De instanceof Array?se=new BMapGL.Point(De[0],De[1]):De instanceof BMapGL.Point?se=De:se=new BMapGL.Point(De.lng,De.lat),at&&(se=BMapGL.Projection.convertMC2LL(se)),se},we.prototype.render=function(){return null},we}(Oe.Component);Pe.defaultProps={style:{color:"red"}},je.default=F.default(Pe,Ae,ve)},Xi7e:function(rt,je,U){var xe=U("KMkd"),Oe=U("adU4"),F=U("tMB7"),K=U("+6XX"),Ae=U("Z8oC");function ve(Pe){var We=-1,we=Pe==null?0:Pe.length;for(this.clear();++We<we;){var De=Pe[We];this.set(De[0],De[1])}}ve.prototype.clear=xe,ve.prototype.delete=Oe,ve.prototype.get=F,ve.prototype.has=K,ve.prototype.set=Ae,rt.exports=ve},"Y+p1":function(rt,je,U){var xe=U("wF/u");function Oe(F,K){return xe(F,K)}rt.exports=Oe},YESw:function(rt,je,U){var xe=U("Cwc5"),Oe=xe(Object,"create");rt.exports=Oe},YNLO:function(rt,je,U){rt.exports={card:"card___KCsQh",heading:"heading___Isyp6",steps:"steps___3fIFU",errorIcon:"errorIcon___2ndjy",anticon:"anticon___ClqxS",errorPopover:"errorPopover___1hcuK",errorListItem:"errorListItem___XPgOv",errorField:"errorField___C0qTe",editable:"editable___19IGK",advancedForm:"advancedForm___3wp9J",optional:"optional___9LBju"}},YPDd:function(rt,je,U){},YSkC:function(rt,je,U){"use strict";var xe=U("5Dmo"),Oe=U("3S7+"),F=U("GNNt"),K=U("wEI+"),Ae=U("q1tI"),ve=U.n(Ae),Pe=U("+YFz"),We=U("slOs"),we=U.n(We),De=function(se){var Re=se.label,mt=se.tooltip,st=se.subTitle,St=Object(Ae.useContext)(K.b.ConfigContext),Xr=St.getPrefixCls;if(!mt&&!st)return ve.a.createElement(ve.a.Fragment,null,Re);var zt=Xr("pro-core-label-tip"),nr=typeof mt=="string"?{title:mt}:mt;return ve.a.createElement("div",{className:zt},Re,st&&ve.a.createElement("div",{className:"".concat(zt,"-subtitle")},st),mt&&ve.a.createElement(Oe.a,nr,ve.a.createElement(Pe.a,{className:"".concat(zt,"-icon")})))};je.a=ve.a.memo(De)},Z0cm:function(rt,je){var U=Array.isArray;rt.exports=U},Z1je:function(rt,je,U){},Z87X:function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("mrSG"),Oe=xe.__importDefault(U("q1tI")),F=U("W1EI"),K=U("gI1Y"),Ae=xe.__importStar(U("s+10")),ve=["overlaycomplete"],Pe={enableCalculate:["enableCalculate","disableCalculate"],enableSorption:["enableSorption","disableSorption"],enableGpc:["enableGpc","disableGpc"]},We={strokeColor:"#5E87DB",fillColor:"#5E87DB",strokeWeight:2,strokeOpacity:1,fillOpacity:.2},we={borderRadius:"2px",background:"#FFFBCC",border:"1px solid #E1E1E1",color:"#703A04",fontSize:"12px",letterSpacing:"0",padding:"5px"},De=function(at){xe.__extends(se,at);function se(Re){var mt=at.call(this,Re)||this;return mt.el=Oe.default.createRef(),mt.options=["isOpen","enableDrawingTool","enableCalculate","enableSorption","enableGpc","enableLimit","sorptionDistance","limitOptions","drawingToolOptions","markerOptions","circleOptions","polylineOptions","polygonOptions","rectangleOptions","labelOptions"],mt}return se.prototype.componentDidMount=function(){this.initialize()},se.prototype.componentWillUnmount=function(){this.destroy()},se.prototype.destroy=function(){this.drawingmanager&&(this.drawingmanager.close(),this.instance=this.drawingmanager=void 0)},se.prototype.initialize=function(){var Re=this,mt=this.props.map;this.destroy();for(var st=this.getOptions(),St=["circleOptions","polylineOptions","polygonOptions","rectangleOptions"],Xr=0;Xr<St.length;Xr++){var zt=St[Xr];st[zt]||(st[zt]=We)}st.labelOptions||(st.labelOptions=we),st.drawingToolOptions.customContainer=this.el.current,window.BMapGLLib&&BMapGLLib.DrawingManager&&(this.instance=this.drawingmanager=new BMapGLLib.DrawingManager(mt,st)),(!window.BMapGLLib||!BMapGLLib.DrawingManager)&&(K.requireCss("//mapopen.bj.bcebos.com/github/BMapGLLib/DrawingManager/src/DrawingManager.min.css").then(function(){}),K.requireScript("//mapopen.bj.bcebos.com/github/BMapGLLib/DrawingManager/src/DrawingManager.min.js").then(function(){Re.instance=Re.drawingmanager=new BMapGLLib.DrawingManager(mt,st),Ae.registerEvents(Re,Re.getInstance(Re),ve),Ae.toggleMethods(Re,Re.getInstance(Re),Pe)}))},se.prototype.render=function(){return Oe.default.createElement("div",{className:"react-bmapgl-drawingmanager",ref:this.el,style:this.props.style})},se}(F.Component);De.defaultProps={isOpen:!1,enableDrawingTool:!0,enableCalculate:!1,enableSorption:!1,enableGpc:!1,enableLimit:!1,sorptionDistance:20,limitOptions:{area:5e7,distance:3e4},drawingToolOptions:{},style:{position:"absolute",left:0,top:0,width:360}},je.default=Ae.default(De,ve,Pe)},Z8oC:function(rt,je,U){var xe=U("y1pI");function Oe(F,K){var Ae=this.__data__,ve=xe(Ae,F);return ve<0?(++this.size,Ae.push([F,K])):Ae[ve][1]=K,this}rt.exports=Oe},ZTW2:function(rt,je,U){},aVhU:function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("mrSG"),Oe=xe.__importDefault(U("0GZW")),F=xe.__importDefault(U("Gytx")),K=function(Ae){xe.__extends(ve,Ae);function ve(Pe){var We=Ae.call(this,Pe)||this;return We.options=["strokeColor","strokeWeight","strokeOpacity","strokeStyle","fillColor","fillOpacity","enableMassClear","enableEditing"],We}return ve.prototype.onDataUpdate=function(Pe){var We=this.props,we=We.path,De=We.autoViewport,at=Pe.path,se=Pe.autoViewport,Re=we&&!F.default(we,at),mt=!F.default(De,se);if(Re&&this.overlay.setPath(this.parsePath(we)),De&&(Re||mt)){var st=this.overlay.getPath(),St=this.props.map.getViewport(st,this.props.viewportOptions||{});this.props.map.setViewport(St)}},ve.prototype.getOverlay=function(){var Pe=this.parsePath(this.props.path);return new BMapGL.Polygon(Pe,this.getOptions())},ve.prototype.parsePath=function(Pe){var We=this.props.coordType==="bd09mc",we=Pe.map(function(De){var at;return De instanceof Array?at=new BMapGL.Point(De[0],De[1]):De instanceof BMapGL.Point?at=De:at=new BMapGL.Point(De.lng,De.lat),We&&(at=BMapGL.Projection.convertMC2LL(at)),at});return we},ve.prototype.render=function(){return null},ve}(Oe.default);je.default=K},adU4:function(rt,je,U){var xe=U("y1pI"),Oe=Array.prototype,F=Oe.splice;function K(Ae){var ve=this.__data__,Pe=xe(ve,Ae);if(Pe<0)return!1;var We=ve.length-1;return Pe==We?ve.pop():F.call(ve,Pe,1),--this.size,!0}rt.exports=K},b80T:function(rt,je,U){var xe=U("UNi/"),Oe=U("03A+"),F=U("Z0cm"),K=U("DSRE"),Ae=U("wJg7"),ve=U("c6wG"),Pe=Object.prototype,We=Pe.hasOwnProperty;function we(De,at){var se=F(De),Re=!se&&Oe(De),mt=!se&&!Re&&K(De),st=!se&&!Re&&!mt&&ve(De),St=se||Re||mt||st,Xr=St?xe(De.length,String):[],zt=Xr.length;for(var nr in De)(at||We.call(De,nr))&&!(St&&(nr=="length"||mt&&(nr=="offset"||nr=="parent")||st&&(nr=="buffer"||nr=="byteLength"||nr=="byteOffset")||Ae(nr,zt)))&&Xr.push(nr);return Xr}rt.exports=we},bE4E:function(rt,je,U){},bKJz:function(rt,je,U){},bX4T:function(rt,je,U){"use strict";U.d(je,"a",function(){return De});var xe=U("rePB");function Oe(at,se){var Re=Object.keys(at);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(at);se&&(mt=mt.filter(function(st){return Object.getOwnPropertyDescriptor(at,st).enumerable})),Re.push.apply(Re,mt)}return Re}function F(at){for(var se=1;se<arguments.length;se++){var Re=arguments[se]!=null?arguments[se]:{};se%2?Oe(Object(Re),!0).forEach(function(mt){Object(xe.a)(at,mt,Re[mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(at,Object.getOwnPropertyDescriptors(Re)):Oe(Object(Re)).forEach(function(mt){Object.defineProperty(at,mt,Object.getOwnPropertyDescriptor(Re,mt))})}return at}var K=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,Ae=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,ve="".concat(K," ").concat(Ae).split(/[\s\n]+/),Pe="aria-",We="data-";function we(at,se){return at.indexOf(se)===0}function De(at){var se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Re;se===!1?Re={aria:!0,data:!0,attr:!0}:se===!0?Re={aria:!0}:Re=F({},se);var mt={};return Object.keys(at).forEach(function(st){(Re.aria&&(st==="role"||we(st,Pe))||Re.data&&we(st,We)||Re.attr&&ve.includes(st))&&(mt[st]=at[st])}),mt}},bx4M:function(rt,je,U){"use strict";var xe=U("rePB"),Oe=U("wx14"),F=U("q1tI"),K=U("TSYQ"),Ae=U.n(K),ve=U("bT9E"),Pe=U("H84U"),We=function($e,Et){var Xt={};for(var et in $e)Object.prototype.hasOwnProperty.call($e,et)&&Et.indexOf(et)<0&&(Xt[et]=$e[et]);if($e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var bt=0,et=Object.getOwnPropertySymbols($e);bt<et.length;bt++)Et.indexOf(et[bt])<0&&Object.prototype.propertyIsEnumerable.call($e,et[bt])&&(Xt[et[bt]]=$e[et[bt]]);return Xt},we=function(Et){var Xt=Et.prefixCls,et=Et.className,bt=Et.hoverable,Zt=bt===void 0?!0:bt,qe=We(Et,["prefixCls","className","hoverable"]);return F.createElement(Pe.a,null,function(Ie){var ht=Ie.getPrefixCls,Er=ht("card",Xt),Cn=Ae()("".concat(Er,"-grid"),et,Object(xe.a)({},"".concat(Er,"-grid-hoverable"),Zt));return F.createElement("div",Object(Oe.a)({},qe,{className:Cn}))})},De=we,at=function($e,Et){var Xt={};for(var et in $e)Object.prototype.hasOwnProperty.call($e,et)&&Et.indexOf(et)<0&&(Xt[et]=$e[et]);if($e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var bt=0,et=Object.getOwnPropertySymbols($e);bt<et.length;bt++)Et.indexOf(et[bt])<0&&Object.prototype.propertyIsEnumerable.call($e,et[bt])&&(Xt[et[bt]]=$e[et[bt]]);return Xt},se=function(Et){return F.createElement(Pe.a,null,function(Xt){var et=Xt.getPrefixCls,bt=Et.prefixCls,Zt=Et.className,qe=Et.avatar,Ie=Et.title,ht=Et.description,Er=at(Et,["prefixCls","className","avatar","title","description"]),Cn=et("card",bt),pr=Ae()("".concat(Cn,"-meta"),Zt),$r=qe?F.createElement("div",{className:"".concat(Cn,"-meta-avatar")},qe):null,An=Ie?F.createElement("div",{className:"".concat(Cn,"-meta-title")},Ie):null,rn=ht?F.createElement("div",{className:"".concat(Cn,"-meta-description")},ht):null,fr=An||rn?F.createElement("div",{className:"".concat(Cn,"-meta-detail")},An,rn):null;return F.createElement("div",Object(Oe.a)({},Er,{className:pr}),$r,fr)})},Re=se,mt=U("ZTPi"),st=U("BMrR"),St=U("kPKH"),Xr=U("3Nzz"),zt=function($e,Et){var Xt={};for(var et in $e)Object.prototype.hasOwnProperty.call($e,et)&&Et.indexOf(et)<0&&(Xt[et]=$e[et]);if($e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var bt=0,et=Object.getOwnPropertySymbols($e);bt<et.length;bt++)Et.indexOf(et[bt])<0&&Object.prototype.propertyIsEnumerable.call($e,et[bt])&&(Xt[et[bt]]=$e[et[bt]]);return Xt};function nr($e){var Et=$e.map(function(Xt,et){return F.createElement("li",{style:{width:"".concat(100/$e.length,"%")},key:"action-".concat(et)},F.createElement("span",null,Xt))});return Et}var pn=function(Et){var Xt,et,bt=F.useContext(Pe.b),Zt=bt.getPrefixCls,qe=bt.direction,Ie=F.useContext(Xr.b),ht=function(un){Et.onTabChange&&Et.onTabChange(un)},Er=function(){var un;return F.Children.forEach(Et.children,function(ko){ko&&ko.type&&ko.type===De&&(un=!0)}),un},Cn=Et.prefixCls,pr=Et.className,$r=Et.extra,An=Et.headStyle,rn=An===void 0?{}:An,fr=Et.bodyStyle,_r=fr===void 0?{}:fr,Wr=Et.title,dt=Et.loading,At=Et.bordered,cn=At===void 0?!0:At,Jt=Et.size,rr=Et.type,Gn=Et.cover,Kr=Et.actions,ai=Et.tabList,Nn=Et.children,So=Et.activeTabKey,Wo=Et.defaultActiveTabKey,Un=Et.tabBarExtraContent,an=Et.hoverable,In=Et.tabProps,Jr=In===void 0?{}:In,Xn=zt(Et,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),hr=Zt("card",Cn),dn=_r.padding===0||_r.padding==="0px"?{padding:24}:void 0,Mn=F.createElement("div",{className:"".concat(hr,"-loading-block")}),Tn=F.createElement("div",{className:"".concat(hr,"-loading-content"),style:dn},F.createElement(st.a,{gutter:8},F.createElement(St.a,{span:22},Mn)),F.createElement(st.a,{gutter:8},F.createElement(St.a,{span:8},Mn),F.createElement(St.a,{span:15},Mn)),F.createElement(st.a,{gutter:8},F.createElement(St.a,{span:6},Mn),F.createElement(St.a,{span:18},Mn)),F.createElement(st.a,{gutter:8},F.createElement(St.a,{span:13},Mn),F.createElement(St.a,{span:9},Mn)),F.createElement(st.a,{gutter:8},F.createElement(St.a,{span:4},Mn),F.createElement(St.a,{span:3},Mn),F.createElement(St.a,{span:16},Mn))),kr=So!==void 0,ei=Object(Oe.a)(Object(Oe.a)({},Jr),(Xt={},Object(xe.a)(Xt,kr?"activeKey":"defaultActiveKey",kr?So:Wo),Object(xe.a)(Xt,"tabBarExtraContent",Un),Xt)),Mi,Di=ai&&ai.length?F.createElement(mt.a,Object(Oe.a)({size:"large"},ei,{className:"".concat(hr,"-head-tabs"),onChange:ht}),ai.map(function(Xs){return F.createElement(mt.a.TabPane,{tab:Xs.tab,disabled:Xs.disabled,key:Xs.key})})):null;(Wr||$r||Di)&&(Mi=F.createElement("div",{className:"".concat(hr,"-head"),style:rn},F.createElement("div",{className:"".concat(hr,"-head-wrapper")},Wr&&F.createElement("div",{className:"".concat(hr,"-head-title")},Wr),$r&&F.createElement("div",{className:"".concat(hr,"-extra")},$r)),Di));var ui=Gn?F.createElement("div",{className:"".concat(hr,"-cover")},Gn):null,Po=F.createElement("div",{className:"".concat(hr,"-body"),style:_r},dt?Tn:Nn),cr=Kr&&Kr.length?F.createElement("ul",{className:"".concat(hr,"-actions")},nr(Kr)):null,$o=Object(ve.a)(Xn,["onTabChange"]),As=Jt||Ie,Gi=Ae()(hr,(et={},Object(xe.a)(et,"".concat(hr,"-loading"),dt),Object(xe.a)(et,"".concat(hr,"-bordered"),cn),Object(xe.a)(et,"".concat(hr,"-hoverable"),an),Object(xe.a)(et,"".concat(hr,"-contain-grid"),Er()),Object(xe.a)(et,"".concat(hr,"-contain-tabs"),ai&&ai.length),Object(xe.a)(et,"".concat(hr,"-").concat(As),As),Object(xe.a)(et,"".concat(hr,"-type-").concat(rr),!!rr),Object(xe.a)(et,"".concat(hr,"-rtl"),qe==="rtl"),et),pr);return F.createElement("div",Object(Oe.a)({},$o,{className:Gi}),Mi,ui,Po,cr)};pn.Grid=De,pn.Meta=Re;var Vr=je.a=pn},c6wG:function(rt,je,U){var xe=U("dD9F"),Oe=U("sEf8"),F=U("mdPL"),K=F&&F.isTypedArray,Ae=K?Oe(K):xe;rt.exports=Ae},czTT:function(rt,je,U){},dD9F:function(rt,je,U){var xe=U("NykK"),Oe=U("shjB"),F=U("ExA7"),K="[object Arguments]",Ae="[object Array]",ve="[object Boolean]",Pe="[object Date]",We="[object Error]",we="[object Function]",De="[object Map]",at="[object Number]",se="[object Object]",Re="[object RegExp]",mt="[object Set]",st="[object String]",St="[object WeakMap]",Xr="[object ArrayBuffer]",zt="[object DataView]",nr="[object Float32Array]",pn="[object Float64Array]",Vr="[object Int8Array]",$e="[object Int16Array]",Et="[object Int32Array]",Xt="[object Uint8Array]",et="[object Uint8ClampedArray]",bt="[object Uint16Array]",Zt="[object Uint32Array]",qe={};qe[nr]=qe[pn]=qe[Vr]=qe[$e]=qe[Et]=qe[Xt]=qe[et]=qe[bt]=qe[Zt]=!0,qe[K]=qe[Ae]=qe[Xr]=qe[ve]=qe[zt]=qe[Pe]=qe[We]=qe[we]=qe[De]=qe[at]=qe[se]=qe[Re]=qe[mt]=qe[st]=qe[St]=!1;function Ie(ht){return F(ht)&&Oe(ht.length)&&!!qe[xe(ht)]}rt.exports=Ie},dj1d:function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("mrSG"),Oe=U("W1EI"),F=U("gI1Y"),K=xe.__importStar(U("s+10")),Ae=["drawend","addpoint","removepolyline"],ve={},Pe=function(We){xe.__extends(we,We);function we(De){var at=We.call(this,De)||this;return at.options=["tips","followText","unit","lineColor","lineStroke","opacity","lineStyle","cursor","secIcon","closeIcon"],at}return we.prototype.componentDidMount=function(){this.initialize()},we.prototype.componentWillUnmount=function(){this.destroy()},we.prototype.destroy=function(){this.distancetool&&(this.distancetool.close(),this.instance=this.distancetool=void 0)},we.prototype.initialize=function(){var De=this,at=this.props.map;this.destroy();var se=this.getOptions();window.BMapGLLib&&BMapGLLib.DistanceTool&&(this.instance=this.distancetool=new BMapGLLib.DistanceTool(at,se),this.props.defaultOpen&&this.distancetool.open()),(!window.BMapGLLib||!BMapGLLib.DistanceTool)&&F.requireScript("//mapopen.bj.bcebos.com/github/BMapGLLib/DistanceTool/src/DistanceTool.js").then(function(){De.instance=De.distancetool=new BMapGLLib.DistanceTool(at,se),K.registerEvents(De,De.getInstance(De),Ae),K.toggleMethods(De,De.getInstance(De),ve),De.props.defaultOpen&&De.distancetool.open()})},we.prototype.render=function(){return null},we}(Oe.Component);Pe.defaultProps={defaultOpen:!0},je.default=K.default(Pe,Ae,ve)},e4Nc:function(rt,je,U){var xe=U("fGT3"),Oe=U("k+1r"),F=U("JHgL"),K=U("pSRY"),Ae=U("H8j4");function ve(Pe){var We=-1,we=Pe==null?0:Pe.length;for(this.clear();++We<we;){var De=Pe[We];this.set(De[0],De[1])}}ve.prototype.clear=xe,ve.prototype.delete=Oe,ve.prototype.get=F,ve.prototype.has=K,ve.prototype.set=Ae,rt.exports=ve},e5cp:function(rt,je,U){var xe=U("fmRc"),Oe=U("or5M"),F=U("HDyB"),K=U("seXi"),Ae=U("QqLw"),ve=U("Z0cm"),Pe=U("DSRE"),We=U("c6wG"),we=1,De="[object Arguments]",at="[object Array]",se="[object Object]",Re=Object.prototype,mt=Re.hasOwnProperty;function st(St,Xr,zt,nr,pn,Vr){var $e=ve(St),Et=ve(Xr),Xt=$e?at:Ae(St),et=Et?at:Ae(Xr);Xt=Xt==De?se:Xt,et=et==De?se:et;var bt=Xt==se,Zt=et==se,qe=Xt==et;if(qe&&Pe(St)){if(!Pe(Xr))return!1;$e=!0,bt=!1}if(qe&&!bt)return Vr||(Vr=new xe),$e||We(St)?Oe(St,Xr,zt,nr,pn,Vr):F(St,Xr,Xt,zt,nr,pn,Vr);if(!(zt&we)){var Ie=bt&&mt.call(St,"__wrapped__"),ht=Zt&&mt.call(Xr,"__wrapped__");if(Ie||ht){var Er=Ie?St.value():St,Cn=ht?Xr.value():Xr;return Vr||(Vr=new xe),pn(Er,Cn,zt,nr,Vr)}}return qe?(Vr||(Vr=new xe),K(St,Xr,zt,nr,pn,Vr)):!1}rt.exports=st},e8yt:function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("mrSG"),Oe=xe.__importStar(U("q1tI")),F=U("W1EI"),K=xe.__importDefault(U("s+10")),Ae=["confirm","highlight"],ve={},Pe=function(We){xe.__extends(we,We);function we(De){var at=We.call(this,De)||this;return at.el=Oe.default.createRef(),at.options=["location","onSearchComplete","input","types"],at}return we.prototype.componentDidMount=function(){this.initialize()},we.prototype.componentWillUnmount=function(){this.destroy()},we.prototype.destroy=function(){this.ac&&(this.ac.dispose(),this.instance=this.ac=void 0)},we.prototype.initialize=function(){this.destroy();var De=this.getOptions();De.input||(De.input=this.el.current),this.ac=this.instance=new BMapGL.Autocomplete(De)},we.prototype.render=function(){return Oe.default.createElement(Oe.Fragment,null,!this.props.input&&Oe.default.createElement("input",{className:"react-bmapgl-autocomplete",ref:this.el,style:this.props.style}))},we}(F.Component);Pe.defaultProps={},je.default=K.default(Pe,Ae,ve)},ebwN:function(rt,je,U){var xe=U("Cwc5"),Oe=U("Kz5y"),F=xe(Oe,"Map");rt.exports=F},ekgI:function(rt,je,U){var xe=U("YESw"),Oe=Object.prototype,F=Oe.hasOwnProperty;function K(Ae){var ve=this.__data__;return xe?ve[Ae]!==void 0:F.call(ve,Ae)}rt.exports=K},exNA:function(rt,je,U){"use strict";U.r(je),U.d(je,"initialAlgoData",function(){return bm}),U.d(je,"initialPointData",function(){return Tp});var xe=U("14J3"),Oe=U("BMrR"),F=U("jCWc"),K=U("kPKH"),Ae=U("IzEo"),ve=U("bx4M"),Pe=U("cIOH"),We=U("oIFs"),we=U("rePB"),De=U("wx14"),at=U("U8pU"),se=U("q1tI"),Re=U.n(se),mt=U("TSYQ"),st=U.n(mt),St=function(le){var fe=le.prefixCls,re=le.className,Q=le.width,pe=le.style;return se.createElement("h3",{className:st()(fe,re),style:Object(De.a)({width:Q},pe)})},Xr=St,zt=U("KQm4"),nr=function(le){var fe=function(Ke){var lt=le.width,ot=le.rows,Tt=ot===void 0?2:ot;if(Array.isArray(lt))return lt[Ke];if(Tt-1===Ke)return lt},re=le.prefixCls,Q=le.className,pe=le.style,ye=le.rows,Te=Object(zt.a)(Array(ye)).map(function(Be,Ke){return se.createElement("li",{key:Ke,style:{width:fe(Ke)}})});return se.createElement("ul",{className:st()(re,Q),style:pe},Te)},pn=nr,Vr=U("H84U"),$e=function(le){var fe,re,Q=le.prefixCls,pe=le.className,ye=le.style,Te=le.size,Be=le.shape,Ke=st()((fe={},Object(we.a)(fe,"".concat(Q,"-lg"),Te==="large"),Object(we.a)(fe,"".concat(Q,"-sm"),Te==="small"),fe)),lt=st()((re={},Object(we.a)(re,"".concat(Q,"-circle"),Be==="circle"),Object(we.a)(re,"".concat(Q,"-square"),Be==="square"),Object(we.a)(re,"".concat(Q,"-round"),Be==="round"),re)),ot=typeof Te=="number"?{width:Te,height:Te,lineHeight:"".concat(Te,"px")}:{};return se.createElement("span",{className:st()(Q,Ke,lt,pe),style:Object(De.a)(Object(De.a)({},ot),ye)})},Et=$e,Xt=U("bT9E"),et=function(le){var fe=function(Q){var pe=Q.getPrefixCls,ye=le.prefixCls,Te=le.className,Be=le.active,Ke=pe("skeleton",ye),lt=Object(Xt.a)(le,["prefixCls"]),ot=st()(Ke,"".concat(Ke,"-element"),Object(we.a)({},"".concat(Ke,"-active"),Be),Te);return se.createElement("div",{className:ot},se.createElement(Et,Object(De.a)({prefixCls:"".concat(Ke,"-avatar")},lt)))};return se.createElement(Vr.a,null,fe)};et.defaultProps={size:"default",shape:"circle"};var bt=et,Zt=function(le){var fe=function(Q){var pe=Q.getPrefixCls,ye=le.prefixCls,Te=le.className,Be=le.active,Ke=pe("skeleton",ye),lt=Object(Xt.a)(le,["prefixCls"]),ot=st()(Ke,"".concat(Ke,"-element"),Object(we.a)({},"".concat(Ke,"-active"),Be),Te);return se.createElement("div",{className:ot},se.createElement(Et,Object(De.a)({prefixCls:"".concat(Ke,"-button")},lt)))};return se.createElement(Vr.a,null,fe)};Zt.defaultProps={size:"default"};var qe=Zt,Ie=function(le){var fe=function(Q){var pe=Q.getPrefixCls,ye=le.prefixCls,Te=le.className,Be=le.active,Ke=pe("skeleton",ye),lt=Object(Xt.a)(le,["prefixCls"]),ot=st()(Ke,"".concat(Ke,"-element"),Object(we.a)({},"".concat(Ke,"-active"),Be),Te);return se.createElement("div",{className:ot},se.createElement(Et,Object(De.a)({prefixCls:"".concat(Ke,"-input")},lt)))};return se.createElement(Vr.a,null,fe)};Ie.defaultProps={size:"default"};var ht=Ie,Er="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",Cn=function(le){var fe=function(Q){var pe=Q.getPrefixCls,ye=le.prefixCls,Te=le.className,Be=le.style,Ke=pe("skeleton",ye),lt=st()(Ke,"".concat(Ke,"-element"),Te);return se.createElement("div",{className:lt},se.createElement("div",{className:st()("".concat(Ke,"-image"),Te),style:Be},se.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(Ke,"-image-svg")},se.createElement("path",{d:Er,className:"".concat(Ke,"-image-path")}))))};return se.createElement(Vr.a,null,fe)},pr=Cn;function $r(ee){return ee&&Object(at.a)(ee)==="object"?ee:{}}function An(ee,le){return ee&&!le?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function rn(ee,le){return!ee&&le?{width:"38%"}:ee&&le?{width:"50%"}:{}}function fr(ee,le){var fe={};return(!ee||!le)&&(fe.width="61%"),!ee&&le?fe.rows=3:fe.rows=2,fe}var _r=function(le){var fe=function(Q){var pe=Q.getPrefixCls,ye=Q.direction,Te=le.prefixCls,Be=le.loading,Ke=le.className,lt=le.children,ot=le.avatar,Tt=le.title,Ft=le.paragraph,sr=le.active,ur=le.round,tr=pe("skeleton",Te);if(Be||!("loading"in le)){var $t,Vt=!!ot,Qr=!!Tt,Bn=!!Ft,wr;if(Vt){var on=Object(De.a)(Object(De.a)({prefixCls:"".concat(tr,"-avatar")},An(Qr,Bn)),$r(ot));wr=se.createElement("div",{className:"".concat(tr,"-header")},se.createElement(Et,on))}var jn;if(Qr||Bn){var fn;if(Qr){var zr=Object(De.a)(Object(De.a)({prefixCls:"".concat(tr,"-title")},rn(Vt,Bn)),$r(Tt));fn=se.createElement(Xr,zr)}var Sn;if(Bn){var xi=Object(De.a)(Object(De.a)({prefixCls:"".concat(tr,"-paragraph")},fr(Vt,Qr)),$r(Ft));Sn=se.createElement(pn,xi)}jn=se.createElement("div",{className:"".concat(tr,"-content")},fn,Sn)}var mo=st()(tr,($t={},Object(we.a)($t,"".concat(tr,"-with-avatar"),Vt),Object(we.a)($t,"".concat(tr,"-active"),sr),Object(we.a)($t,"".concat(tr,"-rtl"),ye==="rtl"),Object(we.a)($t,"".concat(tr,"-round"),ur),$t),Ke);return se.createElement("div",{className:mo},wr,jn)}return lt};return se.createElement(Vr.a,null,fe)};_r.defaultProps={avatar:!1,title:!0,paragraph:!0},_r.Button=qe,_r.Avatar=bt,_r.Input=ht,_r.Image=pr;var Wr=_r,dt=Wr,At=U("tJVT"),cn=U("8txm"),Jt=U("MXD1"),rr=U("VTBJ"),Gn=U("Ff2n"),Kr=U("1OyB"),ai=U("vuIU"),Nn=U("Ji7U"),So=U("LK+K"),Wo=U("Zm9Q");function Un(ee){return typeof ee=="string"}var an=function(ee){Object(Nn.a)(fe,ee);var le=Object(So.a)(fe);function fe(){var re;return Object(Kr.a)(this,fe),re=le.apply(this,arguments),re.onClick=function(){var Q=re.props,pe=Q.onClick,ye=Q.onStepClick,Te=Q.stepIndex;pe&&pe.apply(void 0,arguments),ye(Te)},re}return Object(ai.a)(fe,[{key:"renderIconNode",value:function(){var Q,pe=this.props,ye=pe.prefixCls,Te=pe.progressDot,Be=pe.stepIcon,Ke=pe.stepNumber,lt=pe.status,ot=pe.title,Tt=pe.description,Ft=pe.icon,sr=pe.iconPrefix,ur=pe.icons,tr,$t=st()("".concat(ye,"-icon"),"".concat(sr,"icon"),(Q={},Object(we.a)(Q,"".concat(sr,"icon-").concat(Ft),Ft&&Un(Ft)),Object(we.a)(Q,"".concat(sr,"icon-check"),!Ft&&lt==="finish"&&(ur&&!ur.finish||!ur)),Object(we.a)(Q,"".concat(sr,"icon-cross"),!Ft&&lt==="error"&&(ur&&!ur.error||!ur)),Q)),Vt=Re.a.createElement("span",{className:"".concat(ye,"-icon-dot")});return Te?typeof Te=="function"?tr=Re.a.createElement("span",{className:"".concat(ye,"-icon")},Te(Vt,{index:Ke-1,status:lt,title:ot,description:Tt})):tr=Re.a.createElement("span",{className:"".concat(ye,"-icon")},Vt):Ft&&!Un(Ft)?tr=Re.a.createElement("span",{className:"".concat(ye,"-icon")},Ft):ur&&ur.finish&&lt==="finish"?tr=Re.a.createElement("span",{className:"".concat(ye,"-icon")},ur.finish):ur&&ur.error&&lt==="error"?tr=Re.a.createElement("span",{className:"".concat(ye,"-icon")},ur.error):Ft||lt==="finish"||lt==="error"?tr=Re.a.createElement("span",{className:$t}):tr=Re.a.createElement("span",{className:"".concat(ye,"-icon")},Ke),Be&&(tr=Be({index:Ke-1,status:lt,title:ot,description:Tt,node:tr})),tr}},{key:"render",value:function(){var Q,pe=this.props,ye=pe.className,Te=pe.prefixCls,Be=pe.style,Ke=pe.active,lt=pe.status,ot=lt===void 0?"wait":lt,Tt=pe.iconPrefix,Ft=pe.icon,sr=pe.wrapperStyle,ur=pe.stepNumber,tr=pe.disabled,$t=pe.description,Vt=pe.title,Qr=pe.subTitle,Bn=pe.progressDot,wr=pe.stepIcon,on=pe.tailContent,jn=pe.icons,fn=pe.stepIndex,zr=pe.onStepClick,Sn=pe.onClick,xi=Object(Gn.a)(pe,["className","prefixCls","style","active","status","iconPrefix","icon","wrapperStyle","stepNumber","disabled","description","title","subTitle","progressDot","stepIcon","tailContent","icons","stepIndex","onStepClick","onClick"]),mo=st()("".concat(Te,"-item"),"".concat(Te,"-item-").concat(ot),ye,(Q={},Object(we.a)(Q,"".concat(Te,"-item-custom"),Ft),Object(we.a)(Q,"".concat(Te,"-item-active"),Ke),Object(we.a)(Q,"".concat(Te,"-item-disabled"),tr===!0),Q)),yi=Object(rr.a)({},Be),Ci={};return zr&&!tr&&(Ci.role="button",Ci.tabIndex=0,Ci.onClick=this.onClick),Re.a.createElement("div",Object.assign({},xi,{className:mo,style:yi}),Re.a.createElement("div",Object.assign({onClick:Sn},Ci,{className:"".concat(Te,"-item-container")}),Re.a.createElement("div",{className:"".concat(Te,"-item-tail")},on),Re.a.createElement("div",{className:"".concat(Te,"-item-icon")},this.renderIconNode()),Re.a.createElement("div",{className:"".concat(Te,"-item-content")},Re.a.createElement("div",{className:"".concat(Te,"-item-title")},Vt,Qr&&Re.a.createElement("div",{title:typeof Qr=="string"?Qr:void 0,className:"".concat(Te,"-item-subtitle")},Qr)),$t&&Re.a.createElement("div",{className:"".concat(Te,"-item-description")},$t))))}}]),fe}(Re.a.Component),In=function(ee){Object(Nn.a)(fe,ee);var le=Object(So.a)(fe);function fe(){var re;return Object(Kr.a)(this,fe),re=le.apply(this,arguments),re.onStepClick=function(Q){var pe=re.props,ye=pe.onChange,Te=pe.current;ye&&Te!==Q&&ye(Q)},re}return Object(ai.a)(fe,[{key:"render",value:function(){var Q,pe=this,ye=this.props,Te=ye.prefixCls,Be=ye.style,Ke=Be===void 0?{}:Be,lt=ye.className,ot=ye.children,Tt=ye.direction,Ft=ye.type,sr=ye.labelPlacement,ur=ye.iconPrefix,tr=ye.status,$t=ye.size,Vt=ye.current,Qr=ye.progressDot,Bn=ye.stepIcon,wr=ye.initial,on=ye.icons,jn=ye.onChange,fn=Object(Gn.a)(ye,["prefixCls","style","className","children","direction","type","labelPlacement","iconPrefix","status","size","current","progressDot","stepIcon","initial","icons","onChange"]),zr=Ft==="navigation",Sn=Qr?"vertical":sr,xi=st()(Te,"".concat(Te,"-").concat(Tt),lt,(Q={},Object(we.a)(Q,"".concat(Te,"-").concat($t),$t),Object(we.a)(Q,"".concat(Te,"-label-").concat(Sn),Tt==="horizontal"),Object(we.a)(Q,"".concat(Te,"-dot"),!!Qr),Object(we.a)(Q,"".concat(Te,"-navigation"),zr),Q));return Re.a.createElement("div",Object.assign({className:xi,style:Ke},fn),Object(Wo.a)(ot).map(function(mo,yi){var Ci=wr+yi,aa=Object(rr.a)({stepNumber:"".concat(Ci+1),stepIndex:Ci,key:Ci,prefixCls:Te,iconPrefix:ur,wrapperStyle:Ke,progressDot:Qr,stepIcon:Bn,icons:on,onStepClick:jn&&pe.onStepClick},mo.props);return tr==="error"&&yi===Vt-1&&(aa.className="".concat(Te,"-next-error")),mo.props.status||(Ci===Vt?aa.status=tr:Ci<Vt?aa.status="finish":aa.status="wait"),aa.active=Ci===Vt,Object(se.cloneElement)(mo,aa)}))}}]),fe}(Re.a.Component);In.Step=an,In.defaultProps={type:"default",prefixCls:"rc-steps",iconPrefix:"rc",direction:"horizontal",labelPlacement:"horizontal",initial:0,current:0,status:"process",size:"",progressDot:!1};var Jr=In,Xn=U("bRQS"),hr=U("4i/N"),dn=U("CFYs"),Mn=U("5OYt"),Tn=function(le){var fe,re=le.percent,Q=le.size,pe=le.className,ye=le.direction,Te=le.responsive,Be=Object(Mn.a)(),Ke=Be.xs,lt=se.useContext(Vr.b),ot=lt.getPrefixCls,Tt=lt.direction,Ft=se.useCallback(function(){return Te&&Ke?"vertical":ye},[Ke,ye]),sr=ot("steps",le.prefixCls),ur=ot("",le.iconPrefix),tr=st()((fe={},Object(we.a)(fe,"".concat(sr,"-rtl"),Tt==="rtl"),Object(we.a)(fe,"".concat(sr,"-with-progress"),re!==void 0),fe),pe),$t={finish:se.createElement(Xn.a,{className:"".concat(sr,"-finish-icon")}),error:se.createElement(hr.a,{className:"".concat(sr,"-error-icon")})},Vt=function(Bn){var wr=Bn.node,on=Bn.status;if(on==="process"&&re!==void 0){var jn=Q==="small"?32:40,fn=se.createElement("div",{className:"".concat(sr,"-progress-icon")},se.createElement(dn.a,{type:"circle",percent:re,width:jn,strokeWidth:4,format:function(){return null}}),wr);return fn}return wr};return se.createElement(Jr,Object(De.a)({icons:$t},Object(Xt.a)(le,["percent"]),{direction:Ft(),stepIcon:Vt,prefixCls:sr,iconPrefix:ur,className:tr}))};Tn.Step=Jr.Step,Tn.defaultProps={current:0};var kr=Tn,ei=U("Hx5s"),Mi=U("+L6B"),Di=U("2/Rp"),ui=U("bE4E"),Po=function(ee,le){var fe={};for(var re in ee)Object.prototype.hasOwnProperty.call(ee,re)&&le.indexOf(re)<0&&(fe[re]=ee[re]);if(ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Q=0,re=Object.getOwnPropertySymbols(ee);Q<re.length;Q++)le.indexOf(re[Q])<0&&Object.prototype.propertyIsEnumerable.call(ee,re[Q])&&(fe[re[Q]]=ee[re[Q]]);return fe},cr=function(le){return se.createElement(Vr.a,null,function(fe){var re,Q=fe.getPrefixCls,pe=fe.direction,ye=le.prefixCls,Te=le.type,Be=Te===void 0?"horizontal":Te,Ke=le.orientation,lt=Ke===void 0?"center":Ke,ot=le.className,Tt=le.children,Ft=le.dashed,sr=le.plain,ur=Po(le,["prefixCls","type","orientation","className","children","dashed","plain"]),tr=Q("divider",ye),$t=lt.length>0?"-".concat(lt):lt,Vt=!!Tt,Qr=st()(tr,"".concat(tr,"-").concat(Be),(re={},Object(we.a)(re,"".concat(tr,"-with-text"),Vt),Object(we.a)(re,"".concat(tr,"-with-text").concat($t),Vt),Object(we.a)(re,"".concat(tr,"-dashed"),!!Ft),Object(we.a)(re,"".concat(tr,"-plain"),!!sr),Object(we.a)(re,"".concat(tr,"-rtl"),pe==="rtl"),re),ot);return se.createElement("div",Object(De.a)({className:Qr},ur,{role:"separator"}),Tt&&se.createElement("span",{className:"".concat(tr,"-inner-text")},Tt))})},$o=cr,As=U("giR+"),Gi=U("fyUT"),Xs=U("WmNS"),un=U.n(Xs),ko=U("k1fw"),ss=U("miYZ"),Gr=U("tsqr"),Yl=U("9og8"),ou=U("y8nQ"),ea=U("Vl3Y"),Eu=U("OaEy"),wi=U("2fM7"),Pi=U("uNoE"),hi=U.n(Pi),Mt=U("nKUr"),wn=wi.a.Option,Ot={labelCol:{span:8},wrapperCol:{span:12}},ar=function(le){var fe=le.rootAlgoData,re=le.setRootAlgoData,Q=le.setCurrentStep,pe=fe.algorithm,ye=fe.initialTemp,Te=fe.finalTemp,Be=fe.coolingRate,Ke=fe.chainLength,lt=Object(se.useState)(pe),ot=Object(At.a)(lt,2),Tt=ot[0],Ft=ot[1],sr=ea.a.useForm(),ur=Object(At.a)(sr,1),tr=ur[0];if(!fe)return null;var $t=function(){var Bn=Object(Yl.a)(un.a.mark(function wr(){var on;return un.a.wrap(function(fn){for(;;)switch(fn.prev=fn.next){case 0:return fn.prev=0,fn.next=3,tr.validateFields();case 3:if(on=fn.sent,Tt!=="SA"){fn.next=10;break}if(!(on.initialTemp<=0||on.finalTemp<=0||on.initialTemp<=on.finalTemp||on.coolingRate<=0||on.coolingRate>=1||on.chainLength<=1)){fn.next=8;break}return Gr.default.error("\u7B97\u6CD5\u7684\u4F20\u5165\u53C2\u6570\u6216\u5176\u7EC4\u5408\u4E0D\u5408\u6CD5\uFF01"),fn.abrupt("return");case 8:fn.next=12;break;case 10:return Gr.default.error("\u9009\u4E2D\u7B97\u6CD5\u6CA1\u5199"),fn.abrupt("return");case 12:re(Object(ko.a)(Object(ko.a)({},fe),on)),Q("step2"),fn.next=19;break;case 16:fn.prev=16,fn.t0=fn.catch(0),console.log("Save failed:",fn.t0);case 19:case"end":return fn.stop()}},wr,null,[[0,16]])}));return function(){return Bn.apply(this,arguments)}}(),Vt=function(wr){Ft(wr)},Qr=function(wr){switch(wr){case"SA":return Object(Mt.jsxs)(Mt.Fragment,{children:[Object(Mt.jsx)(ea.a.Item,{label:"\u521D\u59CB\u6E29\u5EA6",name:"initialTemp",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u521D\u59CB\u6E29\u5EA6"}],"data-inspector-line":"72","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx",children:Object(Mt.jsx)(Gi.a,{className:hi.a.numInput,initialValues:ye,min:1,step:1e3,formatter:function(jn){return"".concat(jn,"  'C")},parser:function(jn){return jn?jn.replace("  'C",""):ye},"data-inspector-line":"77","data-inspector-column":"14","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx"})}),Object(Mt.jsx)(ea.a.Item,{label:"\u7EC8\u6B62\u6E29\u5EA6",name:"finalTemp",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7EC8\u6B62\u6E29\u5EA6"}],"data-inspector-line":"86","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx",children:Object(Mt.jsx)(Gi.a,{className:hi.a.numInput,initialValues:Te,min:1,step:1,formatter:function(jn){return"".concat(jn,"  'C")},parser:function(jn){return jn?jn.replace("  'C",""):Te},"data-inspector-line":"91","data-inspector-column":"14","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx"})}),Object(Mt.jsx)(ea.a.Item,{label:"\u964D\u6E29\u901F\u7387",name:"coolingRate",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u964D\u6E29\u901F\u7387"}],"data-inspector-line":"100","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx",children:Object(Mt.jsx)(Gi.a,{className:hi.a.numInput,initialValues:Be,min:0,max:.99,step:.1,"data-inspector-line":"105","data-inspector-column":"14","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx"})}),Object(Mt.jsx)(ea.a.Item,{label:"Markov \u94FE\u957F",name:"chainLength",rules:[{required:!0,message:"\u8BF7\u8F93\u5165 Markov \u94FE\u957F"}],"data-inspector-line":"113","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx",children:Object(Mt.jsx)(Gi.a,{className:hi.a.numInput,initialValues:Ke,min:1,max:500,step:10,"data-inspector-line":"118","data-inspector-column":"14","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx"})})]});case"GA":return Object(Mt.jsx)(ea.a.Item,{label:"\u6F14\u793A",name:"param",rules:[{required:!0,message:"\u8BF7\u8F93\u5165"}],"data-inspector-line":"130","data-inspector-column":"10","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx",children:Object(Mt.jsx)(Gi.a,{className:hi.a.numInput,initialValues:1,"data-inspector-line":"135","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx"})});default:return Object(Mt.jsx)(Mt.Fragment,{})}};return Object(Mt.jsxs)(ea.a,Object(ko.a)(Object(ko.a)({},Ot),{},{form:tr,layout:"horizontal",className:hi.a.stepForm,hideRequiredMark:!0,initialValues:fe,"data-inspector-line":"147","data-inspector-column":"4","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx",children:[Object(Mt.jsx)($o,{"data-inspector-line":"155","data-inspector-column":"6","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx"}),Object(Mt.jsx)(ea.a.Item,{label:"\u7B97\u6CD5\u9009\u62E9",name:"algorithm",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7B97\u6CD5"}],"data-inspector-line":"156","data-inspector-column":"6","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx",children:Object(Mt.jsxs)(wi.a,{placeholder:"\u8BF7\u9009\u62E9",onChange:Vt,"data-inspector-line":"161","data-inspector-column":"8","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx",children:[Object(Mt.jsx)(wn,{value:"SA","data-inspector-line":"162","data-inspector-column":"10","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx",children:"\u6A21\u62DF\u9000\u706B\u7B97\u6CD5"}),Object(Mt.jsx)(wn,{value:"GA","data-inspector-line":"163","data-inspector-column":"10","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx",children:"\u9057\u4F20\u7B97\u6CD5"})]})}),Qr(Tt),Object(Mt.jsx)(ea.a.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:Ot.wrapperCol.span,offset:Ot.labelCol.span}},"data-inspector-line":"167","data-inspector-column":"6","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx",children:Object(Mt.jsx)(Di.a,{type:"primary",onClick:$t,"data-inspector-line":"176","data-inspector-column":"8","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx",children:"\u4E0B\u4E00\u6B65"})})]}))},Mr=ar,jt=U("fOrg"),gr=U("+KLJ"),Vn=U("DYRE"),_n=U("zeV3"),vo=U("tU7J"),Ei=U("wFql"),Oo=U("pED+"),Je=U("R9oj"),nt=U("7Kak"),ut=U("sRBo"),Dt=U("qVdP"),en=U("T2oS"),bn=U("DjyN"),jr=U("5Dmo"),tn=U("ODXe"),yn=U("x/xZ"),Qn=U("Gytx"),mi=U.n(Qn),si=U("Kwbf"),Ji=U("t23M"),Hi=U("qx4F");function eo(ee){return null}var go=eo;function Ro(ee){return null}var va=Ro,zo=U("c+Xe"),tl="RC_TABLE_KEY";function yl(ee){return ee==null?[]:Array.isArray(ee)?ee:[ee]}function au(ee,le){if(!le&&typeof le!="number")return ee;for(var fe=yl(le),re=ee,Q=0;Q<fe.length;Q+=1){if(!re)return null;var pe=fe[Q];re=re[pe]}return re}function jl(ee){var le=[],fe={};return ee.forEach(function(re){for(var Q=re||{},pe=Q.key,ye=Q.dataIndex,Te=pe||yl(ye).join("-")||tl;fe[Te];)Te="".concat(Te,"_next");fe[Te]=!0,le.push(Te)}),le}function Gu(){var ee={};function le(pe,ye){ye&&Object.keys(ye).forEach(function(Te){var Be=ye[Te];Be&&Object(at.a)(Be)==="object"?(pe[Te]=pe[Te]||{},le(pe[Te],Be)):pe[Te]=Be})}for(var fe=arguments.length,re=new Array(fe),Q=0;Q<fe;Q++)re[Q]=arguments[Q];return re.forEach(function(pe){le(ee,pe)}),ee}function mc(ee){return ee!=null}function Kc(ee){return ee&&Object(at.a)(ee)==="object"&&!Array.isArray(ee)&&!se.isValidElement(ee)}function gs(ee){return typeof ee=="string"?!0:Object(zo.c)(ee)}function mf(ee,le){var fe,re=ee.prefixCls,Q=ee.className,pe=ee.record,ye=ee.index,Te=ee.dataIndex,Be=ee.render,Ke=ee.children,lt=ee.component,ot=lt===void 0?"td":lt,Tt=ee.colSpan,Ft=ee.rowSpan,sr=ee.fixLeft,ur=ee.fixRight,tr=ee.firstFixLeft,$t=ee.lastFixLeft,Vt=ee.firstFixRight,Qr=ee.lastFixRight,Bn=ee.appendNode,wr=ee.additionalProps,on=wr===void 0?{}:wr,jn=ee.ellipsis,fn=ee.align,zr=ee.rowType,Sn=ee.isSticky,xi="".concat(re,"-cell"),mo,yi;if(Ke)yi=Ke;else{var Ci=au(pe,Te);if(yi=Ci,Be){var aa=Be(Ci,pe,ye);Kc(aa)?(yi=aa.children,mo=aa.props):yi=aa}}Object(at.a)(yi)==="object"&&!Array.isArray(yi)&&!se.isValidElement(yi)&&(yi=null),jn&&($t||Vt)&&(yi=se.createElement("span",{className:"".concat(xi,"-content")},yi));var ds=mo||{},xa=ds.colSpan,ts=ds.rowSpan,Ts=ds.style,ys=ds.className,Wa=Object(Gn.a)(ds,["colSpan","rowSpan","style","className"]),ps=xa!==void 0?xa:Tt,Hs=ts!==void 0?ts:Ft;if(ps===0||Hs===0)return null;var qs={},rl=typeof sr=="number",na=typeof ur=="number";rl&&(qs.position="sticky",qs.left=sr),na&&(qs.position="sticky",qs.right=ur);var _s={};fn&&(_s.textAlign=fn);var Fl,Tl=jn===!0?{showTitle:!0}:jn;Tl&&(Tl.showTitle||zr==="header")&&(typeof yi=="string"||typeof yi=="number"?Fl=yi.toString():se.isValidElement(yi)&&typeof yi.props.children=="string"&&(Fl=yi.props.children));var kl=Object(rr.a)(Object(rr.a)(Object(rr.a)({title:Fl},Wa),on),{},{colSpan:ps&&ps!==1?ps:null,rowSpan:Hs&&Hs!==1?Hs:null,className:st()(xi,Q,(fe={},Object(we.a)(fe,"".concat(xi,"-fix-left"),rl),Object(we.a)(fe,"".concat(xi,"-fix-left-first"),tr),Object(we.a)(fe,"".concat(xi,"-fix-left-last"),$t),Object(we.a)(fe,"".concat(xi,"-fix-right"),na),Object(we.a)(fe,"".concat(xi,"-fix-right-first"),Vt),Object(we.a)(fe,"".concat(xi,"-fix-right-last"),Qr),Object(we.a)(fe,"".concat(xi,"-ellipsis"),jn),Object(we.a)(fe,"".concat(xi,"-with-append"),Bn),Object(we.a)(fe,"".concat(xi,"-fix-sticky"),(rl||na)&&Sn),fe),on.className,ys),style:Object(rr.a)(Object(rr.a)(Object(rr.a)(Object(rr.a)({},on.style),_s),qs),Ts),ref:gs(ot)?le:null});return se.createElement(ot,kl,Bn,yi)}var Zc=se.forwardRef(mf);Zc.displayName="Cell";var Hf=se.memo(Zc,function(ee,le){return le.shouldCellUpdate?!le.shouldCellUpdate(le.record,ee.record):!1}),Ac=Hf,di=se.createContext(null),Ja=di;function Jc(ee,le,fe,re,Q){var pe=fe[ee]||{},ye=fe[le]||{},Te,Be;pe.fixed==="left"?Te=re.left[ee]:ye.fixed==="right"&&(Be=re.right[le]);var Ke=!1,lt=!1,ot=!1,Tt=!1,Ft=fe[le+1],sr=fe[ee-1];if(Q==="rtl"){if(Te!==void 0){var ur=sr&&sr.fixed==="left";Tt=!ur}else if(Be!==void 0){var tr=Ft&&Ft.fixed==="right";ot=!tr}}else if(Te!==void 0){var $t=Ft&&Ft.fixed==="left";Ke=!$t}else if(Be!==void 0){var Vt=sr&&sr.fixed==="right";lt=!Vt}return{fixLeft:Te,fixRight:Be,lastFixLeft:Ke,firstFixRight:lt,lastFixRight:ot,firstFixLeft:Tt,isSticky:re.isSticky}}function La(ee){var le=ee.cells,fe=ee.stickyOffsets,re=ee.flattenColumns,Q=ee.rowComponent,pe=ee.cellComponent,ye=ee.onHeaderRow,Te=ee.index,Be=se.useContext(Ja),Ke=Be.prefixCls,lt=Be.direction,ot;ye&&(ot=ye(le.map(function(Ft){return Ft.column}),Te));var Tt=jl(le.map(function(Ft){return Ft.column}));return se.createElement(Q,ot,le.map(function(Ft,sr){var ur=Ft.column,tr=Jc(Ft.colStart,Ft.colEnd,re,fe,lt),$t;return ur&&ur.onHeaderCell&&($t=Ft.column.onHeaderCell(ur)),se.createElement(Ac,Object(De.a)({},Ft,{ellipsis:ur.ellipsis,align:ur.align,component:pe,prefixCls:Ke,key:Tt[sr]},tr,{additionalProps:$t,rowType:"header"}))}))}La.displayName="HeaderRow";var Vf=La;function zl(ee){var le=[];function fe(ye,Te){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;le[Be]=le[Be]||[];var Ke=Te,lt=ye.filter(Boolean).map(function(ot){var Tt={key:ot.key,className:ot.className||"",children:ot.title,column:ot,colStart:Ke},Ft=1,sr=ot.children;return sr&&sr.length>0&&(Ft=fe(sr,Ke,Be+1).reduce(function(ur,tr){return ur+tr},0),Tt.hasSubColumns=!0),"colSpan"in ot&&(Ft=ot.colSpan),"rowSpan"in ot&&(Tt.rowSpan=ot.rowSpan),Tt.colSpan=Ft,Tt.colEnd=Tt.colStart+Ft-1,le[Be].push(Tt),Ke+=Ft,Ft});return lt}fe(ee,0);for(var re=le.length,Q=function(Te){le[Te].forEach(function(Be){!("rowSpan"in Be)&&!Be.hasSubColumns&&(Be.rowSpan=re-Te)})},pe=0;pe<re;pe+=1)Q(pe);return le}function nd(ee){var le=ee.stickyOffsets,fe=ee.columns,re=ee.flattenColumns,Q=ee.onHeaderRow,pe=se.useContext(Ja),ye=pe.prefixCls,Te=pe.getComponent,Be=se.useMemo(function(){return zl(fe)},[fe]),Ke=Te(["header","wrapper"],"thead"),lt=Te(["header","row"],"tr"),ot=Te(["header","cell"],"th");return se.createElement(Ke,{className:"".concat(ye,"-thead")},Be.map(function(Tt,Ft){var sr=se.createElement(Vf,{key:Ft,flattenColumns:re,cells:Tt,stickyOffsets:le,rowComponent:lt,cellComponent:ot,onHeaderRow:Q,index:Ft});return sr}))}var tc=nd,Mh="RC_TABLE_INTERNAL_COL_DEFINE";function _f(ee){var le=ee.expandable,fe=Object(Gn.a)(ee,["expandable"]);return"expandable"in ee?Object(rr.a)(Object(rr.a)({},fe),le):fe}function rc(ee){return Object.keys(ee).reduce(function(le,fe){return(fe.substr(0,5)==="data-"||fe.substr(0,5)==="aria-")&&(le[fe]=ee[fe]),le},{})}function su(ee){for(var le=ee.colWidths,fe=ee.columns,re=ee.columCount,Q=[],pe=re||fe.length,ye=!1,Te=pe-1;Te>=0;Te-=1){var Be=le[Te],Ke=fe&&fe[Te],lt=Ke&&Ke[Mh];(Be||lt||ye)&&(Q.unshift(se.createElement("col",Object(De.a)({key:Te,style:{width:Be,minWidth:Be}},lt))),ye=!0)}return se.createElement("colgroup",null,Q)}var Xl=su;function Dc(ee,le){return Object(se.useMemo)(function(){for(var fe=[],re=0;re<le;re+=1){var Q=ee[re];if(Q!==void 0)fe[re]=Q;else return null}return fe},[ee.join("_"),le])}var bu=se.forwardRef(function(ee,le){var fe=ee.noData,re=ee.columns,Q=ee.flattenColumns,pe=ee.colWidths,ye=ee.columCount,Te=ee.stickyOffsets,Be=ee.direction,Ke=ee.fixHeader,lt=ee.offsetHeader,ot=ee.stickyClassName,Tt=ee.onScroll,Ft=Object(Gn.a)(ee,["noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","offsetHeader","stickyClassName","onScroll"]),sr=se.useContext(Ja),ur=sr.prefixCls,tr=sr.scrollbarSize,$t=sr.isSticky,Vt=$t&&!Ke?0:tr,Qr=se.useRef(null),Bn=se.useCallback(function(xi){Object(zo.b)(le,xi),Object(zo.b)(Qr,xi)},[]);se.useEffect(function(){var xi;function mo(yi){var Ci=yi.currentTarget,aa=yi.deltaX;aa&&(Tt({currentTarget:Ci,scrollLeft:Ci.scrollLeft+aa}),yi.preventDefault())}return(xi=Qr.current)===null||xi===void 0||xi.addEventListener("wheel",mo),function(){var yi;(yi=Qr.current)===null||yi===void 0||yi.removeEventListener("wheel",mo)}},[]);var wr=Q[Q.length-1],on={fixed:wr?wr.fixed:null,onHeaderCell:function(){return{className:"".concat(ur,"-cell-scrollbar")}}},jn=Object(se.useMemo)(function(){return Vt?[].concat(Object(zt.a)(re),[on]):re},[Vt,re]),fn=Object(se.useMemo)(function(){return Vt?[].concat(Object(zt.a)(Q),[on]):Q},[Vt,Q]),zr=Object(se.useMemo)(function(){var xi=Te.right,mo=Te.left;return Object(rr.a)(Object(rr.a)({},Te),{},{left:Be==="rtl"?[].concat(Object(zt.a)(mo.map(function(yi){return yi+Vt})),[0]):mo,right:Be==="rtl"?xi:[].concat(Object(zt.a)(xi.map(function(yi){return yi+Vt})),[0]),isSticky:$t})},[Vt,Te,$t]),Sn=Dc(pe,ye);return se.createElement("div",{style:Object(rr.a)({overflow:"hidden"},$t?{top:lt}:{}),ref:Bn,className:st()("".concat(ur,"-header"),Object(we.a)({},ot,!!ot))},se.createElement("table",{style:{tableLayout:"fixed",visibility:fe||Sn?null:"hidden"}},se.createElement(Xl,{colWidths:Sn?[].concat(Object(zt.a)(Sn),[Vt]):[],columCount:ye+1,columns:fn}),se.createElement(tc,Object(De.a)({},Ft,{stickyOffsets:zr,columns:jn,flattenColumns:fn}))))});bu.displayName="FixedHeader";var Ha=bu,Ko=se.createContext(null),Tu=Ko;function zs(ee){var le=ee.prefixCls,fe=ee.children,re=ee.component,Q=ee.cellComponent,pe=ee.fixHeader,ye=ee.fixColumn,Te=ee.horizonScroll,Be=ee.className,Ke=ee.expanded,lt=ee.componentWidth,ot=ee.colSpan,Tt=se.useContext(Ja),Ft=Tt.scrollbarSize;return se.useMemo(function(){var sr=fe;return ye&&(sr=se.createElement("div",{style:{width:lt-(pe?Ft:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(le,"-expanded-row-fixed")},sr)),se.createElement(re,{className:Be,style:{display:Ke?null:"none"}},se.createElement(Ac,{component:Q,prefixCls:le,colSpan:ot},sr))},[fe,re,pe,Te,Be,Ke,lt,ot,Ft])}var Eh=zs;function Nc(ee){var le=ee.className,fe=ee.style,re=ee.record,Q=ee.index,pe=ee.rowKey,ye=ee.getRowKey,Te=ee.rowExpandable,Be=ee.expandedKeys,Ke=ee.onRow,lt=ee.indent,ot=lt===void 0?0:lt,Tt=ee.rowComponent,Ft=ee.cellComponent,sr=ee.childrenColumnName,ur=se.useContext(Ja),tr=ur.prefixCls,$t=ur.fixedInfoList,Vt=se.useContext(Tu),Qr=Vt.fixHeader,Bn=Vt.fixColumn,wr=Vt.horizonScroll,on=Vt.componentWidth,jn=Vt.flattenColumns,fn=Vt.expandableType,zr=Vt.expandRowByClick,Sn=Vt.onTriggerExpand,xi=Vt.rowClassName,mo=Vt.expandedRowClassName,yi=Vt.indentSize,Ci=Vt.expandIcon,aa=Vt.expandedRowRender,ds=Vt.expandIconColumnIndex,xa=se.useState(!1),ts=Object(tn.a)(xa,2),Ts=ts[0],ys=ts[1],Wa=Be&&Be.has(ee.recordKey);se.useEffect(function(){Wa&&ys(!0)},[Wa]);var ps=fn==="row"&&(!Te||Te(re)),Hs=fn==="nest",qs=sr&&re&&re[sr],rl=ps||Hs,na;Ke&&(na=Ke(re,Q));var _s=function(Qo){if(zr&&rl&&Sn(re,Qo),na&&na.onClick){for(var xu,Ao=arguments.length,No=new Array(Ao>1?Ao-1:0),ms=1;ms<Ao;ms++)No[ms-1]=arguments[ms];(xu=na).onClick.apply(xu,[Qo].concat(No))}},Fl;typeof xi=="string"?Fl=xi:typeof xi=="function"&&(Fl=xi(re,Q,ot));var Tl=jl(jn),kl=se.createElement(Tt,Object(De.a)({},na,{"data-row-key":pe,className:st()(le,"".concat(tr,"-row"),"".concat(tr,"-row-level-").concat(ot),Fl,na&&na.className),style:Object(rr.a)(Object(rr.a)({},fe),na?na.style:null),onClick:_s}),jn.map(function(il,Qo){var xu=il.render,Ao=il.dataIndex,No=il.className,ms=Tl[Qo],Is=$t[Qo],$s;Qo===(ds||0)&&Hs&&($s=se.createElement(se.Fragment,null,se.createElement("span",{style:{paddingLeft:"".concat(yi*ot,"px")},className:"".concat(tr,"-row-indent indent-level-").concat(ot)}),Ci({prefixCls:tr,expanded:Wa,expandable:qs,record:re,onExpand:Sn})));var el;return il.onCell&&(el=il.onCell(re,Q)),se.createElement(Ac,Object(De.a)({className:No,ellipsis:il.ellipsis,align:il.align,component:Ft,prefixCls:tr,key:ms,record:re,index:Q,dataIndex:Ao,render:xu,shouldCellUpdate:il.shouldCellUpdate},Is,{appendNode:$s,additionalProps:el}))})),sa;if(ps&&(Ts||Wa)){var Vs=aa(re,Q,ot+1,Wa),nl=mo&&mo(re,Q,ot);sa=se.createElement(Eh,{expanded:Wa,className:st()("".concat(tr,"-expanded-row"),"".concat(tr,"-expanded-row-level-").concat(ot+1),nl),prefixCls:tr,fixHeader:Qr,fixColumn:Bn,horizonScroll:wr,component:Tt,componentWidth:on,cellComponent:Ft,colSpan:jn.length},Vs)}var yu;return qs&&Wa&&(yu=(re[sr]||[]).map(function(il,Qo){var xu=ye(il,Qo);return se.createElement(Nc,Object(De.a)({},ee,{key:xu,rowKey:xu,record:il,recordKey:xu,index:Qo,indent:ot+1}))})),se.createElement(se.Fragment,null,kl,sa,yu)}Nc.displayName="BodyRow";var Ed=Nc,Zd=se.createContext(null),Wf=Zd;function Jd(ee){var le=ee.columnKey,fe=ee.onColumnResize,re=se.useRef();return se.useEffect(function(){re.current&&fe(le,re.current.offsetWidth)},[]),se.createElement(Ji.a,{onResize:function(pe){var ye=pe.offsetWidth;fe(le,ye)}},se.createElement("td",{ref:re,style:{padding:0,border:0,height:0}},se.createElement("div",{style:{height:0,overflow:"hidden"}},"\xA0")))}function id(ee){var le=ee.data,fe=ee.getRowKey,re=ee.measureColumnWidth,Q=ee.expandedKeys,pe=ee.onRow,ye=ee.rowExpandable,Te=ee.emptyNode,Be=ee.childrenColumnName,Ke=se.useContext(Wf),lt=Ke.onColumnResize,ot=se.useContext(Ja),Tt=ot.prefixCls,Ft=ot.getComponent,sr=se.useContext(Tu),ur=sr.fixHeader,tr=sr.horizonScroll,$t=sr.flattenColumns,Vt=sr.componentWidth;return se.useMemo(function(){var Qr=Ft(["body","wrapper"],"tbody"),Bn=Ft(["body","row"],"tr"),wr=Ft(["body","cell"],"td"),on;le.length?on=le.map(function(fn,zr){var Sn=fe(fn,zr);return se.createElement(Ed,{key:Sn,rowKey:Sn,record:fn,recordKey:Sn,index:zr,rowComponent:Bn,cellComponent:wr,expandedKeys:Q,onRow:pe,getRowKey:fe,rowExpandable:ye,childrenColumnName:Be})}):on=se.createElement(Eh,{expanded:!0,className:"".concat(Tt,"-placeholder"),prefixCls:Tt,fixHeader:ur,fixColumn:tr,horizonScroll:tr,component:Bn,componentWidth:Vt,cellComponent:wr,colSpan:$t.length},Te);var jn=jl($t);return se.createElement(Qr,{className:"".concat(Tt,"-tbody")},re&&se.createElement("tr",{"aria-hidden":"true",className:"".concat(Tt,"-measure-row"),style:{height:0,fontSize:0}},jn.map(function(fn){return se.createElement(Jd,{key:fn,columnKey:fn,onColumnResize:lt})})),on)},[le,Tt,pe,re,Q,fe,Ft,Vt,Te,$t])}var zh=se.memo(id);zh.displayName="Body";var Th=zh;function If(ee){return Object(Wo.a)(ee).filter(function(le){return se.isValidElement(le)}).map(function(le){var fe=le.key,re=le.props,Q=re.children,pe=Object(Gn.a)(re,["children"]),ye=Object(rr.a)({key:fe},pe);return Q&&(ye.children=If(Q)),ye})}function ql(ee){return ee.reduce(function(le,fe){var re=fe.fixed,Q=re===!0?"left":re,pe=fe.children;return pe&&pe.length>0?[].concat(Object(zt.a)(le),Object(zt.a)(ql(pe).map(function(ye){return Object(rr.a)({fixed:Q},ye)}))):[].concat(Object(zt.a)(le),[Object(rr.a)(Object(rr.a)({},fe),{},{fixed:Q})])},[])}function Ho(ee){for(var le=!0,fe=0;fe<ee.length;fe+=1){var re=ee[fe];if(le&&re.fixed!=="left")le=!1;else if(!le&&re.fixed==="left"){Object(si.a)(!1,"Index ".concat(fe-1," of `columns` missing `fixed='left'` prop."));break}}for(var Q=!0,pe=ee.length-1;pe>=0;pe-=1){var ye=ee[pe];if(Q&&ye.fixed!=="right")Q=!1;else if(!Q&&ye.fixed==="right"){Object(si.a)(!1,"Index ".concat(pe+1," of `columns` missing `fixed='right'` prop."));break}}}function ul(ee){return ee.map(function(le){var fe=le.fixed,re=Object(Gn.a)(le,["fixed"]),Q=fe;return fe==="left"?Q="right":fe==="right"&&(Q="left"),Object(rr.a)({fixed:Q},re)})}function oh(ee,le){var fe=ee.prefixCls,re=ee.columns,Q=ee.children,pe=ee.expandable,ye=ee.expandedKeys,Te=ee.getRowKey,Be=ee.onTriggerExpand,Ke=ee.expandIcon,lt=ee.rowExpandable,ot=ee.expandIconColumnIndex,Tt=ee.direction,Ft=ee.expandRowByClick,sr=ee.columnWidth,ur=se.useMemo(function(){return re||If(Q)},[re,Q]),tr=se.useMemo(function(){if(pe){var Qr,Bn=ot||0,wr=ur[Bn],on=(Qr={},Object(we.a)(Qr,Mh,{className:"".concat(fe,"-expand-icon-col")}),Object(we.a)(Qr,"title",""),Object(we.a)(Qr,"fixed",wr?wr.fixed:null),Object(we.a)(Qr,"className","".concat(fe,"-row-expand-icon-cell")),Object(we.a)(Qr,"width",sr),Object(we.a)(Qr,"render",function(zr,Sn,xi){var mo=Te(Sn,xi),yi=ye.has(mo),Ci=lt?lt(Sn):!0,aa=Ke({prefixCls:fe,expanded:yi,expandable:Ci,record:Sn,onExpand:Be});return Ft?se.createElement("span",{onClick:function(xa){return xa.stopPropagation()}},aa):aa}),Qr),jn=ur.slice();return Bn>=0&&jn.splice(Bn,0,on),jn}return ur},[pe,ur,Te,ye,Ke,Tt]),$t=se.useMemo(function(){var Qr=tr;return le&&(Qr=le(Qr)),Qr.length||(Qr=[{render:function(){return null}}]),Qr},[le,tr,Tt]),Vt=se.useMemo(function(){return Tt==="rtl"?ul(ql($t)):ql($t)},[$t,Tt]);return[$t,Vt]}var ls=oh;function cl(ee){var le=Object(se.useRef)(ee),fe=Object(se.useState)({}),re=Object(tn.a)(fe,2),Q=re[1],pe=Object(se.useRef)(null),ye=Object(se.useRef)([]);function Te(Be){ye.current.push(Be);var Ke=Promise.resolve();pe.current=Ke,Ke.then(function(){if(pe.current===Ke){var lt=ye.current,ot=le.current;ye.current=[],lt.forEach(function(Tt){le.current=Tt(le.current)}),pe.current=null,ot!==le.current&&Q({})}})}return Object(se.useEffect)(function(){return function(){pe.current=null}},[]),[le.current,Te]}function wp(ee){var le=Object(se.useRef)(ee||null),fe=Object(se.useRef)();function re(){window.clearTimeout(fe.current)}function Q(ye){le.current=ye,re(),fe.current=window.setTimeout(function(){le.current=null,fe.current=void 0},100)}function pe(){return le.current}return Object(se.useEffect)(function(){return re},[]),[Q,pe]}function mm(ee,le,fe){var re=Object(se.useMemo)(function(){for(var Q=[],pe=[],ye=0,Te=0,Be=0;Be<le;Be+=1)if(fe==="rtl"){pe[Be]=Te,Te+=ee[Be]||0;var Ke=le-Be-1;Q[Ke]=ye,ye+=ee[Ke]||0}else{Q[Be]=ye,ye+=ee[Be]||0;var lt=le-Be-1;pe[lt]=Te,Te+=ee[lt]||0}return{left:Q,right:pe}},[ee,le,fe]);return re}var Qc=mm;function od(ee){var le=ee.className,fe=ee.children;return se.createElement("div",{className:le},fe)}var vf=od;function gf(ee){var le=ee.className,fe=ee.index,re=ee.children,Q=ee.colSpan,pe=ee.rowSpan,ye=ee.align,Te=se.useContext(Ja),Be=Te.prefixCls,Ke=Te.fixedInfoList,lt=Ke[fe];return se.createElement(Ac,Object(De.a)({className:le,index:fe,component:"td",prefixCls:Be,record:null,dataIndex:null,align:ye,render:function(){return{children:re,props:{colSpan:Q,rowSpan:pe}}}},lt))}function qc(ee){return se.createElement("tr",ee)}function ad(ee){var le=ee.children,fe=se.useContext(Ja),re=fe.prefixCls;return se.createElement("tfoot",{className:"".concat(re,"-summary")},le)}var Ni=ad,Uh={Cell:gf,Row:qc};function Td(ee){var le,fe=ee.prefixCls,re=ee.record,Q=ee.onExpand,pe=ee.expanded,ye=ee.expandable,Te="".concat(fe,"-row-expand-icon");if(!ye)return se.createElement("span",{className:st()(Te,"".concat(fe,"-row-spaced"))});var Be=function(lt){Q(re,lt),lt.stopPropagation()};return se.createElement("span",{className:st()(Te,(le={},Object(we.a)(le,"".concat(fe,"-row-expanded"),pe),Object(we.a)(le,"".concat(fe,"-row-collapsed"),!pe),le)),onClick:Be})}function bp(ee,le,fe){var re=[];function Q(pe){(pe||[]).forEach(function(ye,Te){re.push(le(ye,Te)),Q(ye[fe])})}return Q(ee),re}var Fu=U("zT1h"),wc=U("y0+3"),Qd=function(le,fe){var re,Q,pe=le.scrollBodyRef,ye=le.onScroll,Te=le.offsetScroll,Be=le.container,Ke=se.useContext(Ja),lt=Ke.prefixCls,ot=((re=pe.current)===null||re===void 0?void 0:re.scrollWidth)||0,Tt=((Q=pe.current)===null||Q===void 0?void 0:Q.clientWidth)||0,Ft=ot&&Tt*(Tt/ot),sr=se.useRef(),ur=cl({scrollLeft:0,isHiddenScrollBar:!1}),tr=Object(tn.a)(ur,2),$t=tr[0],Vt=tr[1],Qr=se.useRef({delta:0,x:0}),Bn=se.useState(!1),wr=Object(tn.a)(Bn,2),on=wr[0],jn=wr[1],fn=function(){jn(!1)},zr=function(Ci){Ci.persist(),Qr.current.delta=Ci.pageX-$t.scrollLeft,Qr.current.x=0,jn(!0),Ci.preventDefault()},Sn=function(Ci){var aa,ds=Ci||((aa=window)===null||aa===void 0?void 0:aa.event),xa=ds.buttons;if(!on||xa===0){on&&jn(!1);return}var ts=Qr.current.x+Ci.pageX-Qr.current.x-Qr.current.delta;ts<=0&&(ts=0),ts+Ft>=Tt&&(ts=Tt-Ft),ye({scrollLeft:ts/Tt*(ot+2)}),Qr.current.x=Ci.pageX},xi=function(){var Ci=Object(wc.b)(pe.current).top,aa=Ci+pe.current.offsetHeight,ds=Be===window?document.documentElement.scrollTop+window.innerHeight:Object(wc.b)(Be).top+Be.clientHeight;aa-Object(Hi.a)()<=ds||Ci>=ds-Te?Vt(function(xa){return Object(rr.a)(Object(rr.a)({},xa),{},{isHiddenScrollBar:!0})}):Vt(function(xa){return Object(rr.a)(Object(rr.a)({},xa),{},{isHiddenScrollBar:!1})})},mo=function(Ci){Vt(function(aa){return Object(rr.a)(Object(rr.a)({},aa),{},{scrollLeft:Ci/ot*Tt||0})})};return se.useImperativeHandle(fe,function(){return{setScrollLeft:mo}}),se.useEffect(function(){var yi=Object(Fu.a)(document.body,"mouseup",fn,!1),Ci=Object(Fu.a)(document.body,"mousemove",Sn,!1);return xi(),function(){yi.remove(),Ci.remove()}},[Ft,on]),se.useEffect(function(){var yi=Object(Fu.a)(Be,"scroll",xi,!1),Ci=Object(Fu.a)(window,"resize",xi,!1);return function(){yi.remove(),Ci.remove()}},[Be]),se.useEffect(function(){$t.isHiddenScrollBar||Vt(function(yi){var Ci=pe.current;return Ci?Object(rr.a)(Object(rr.a)({},yi),{},{scrollLeft:Ci.scrollLeft/Ci.scrollWidth*Ci.clientWidth}):yi})},[$t.isHiddenScrollBar]),ot<=Tt||!Ft||$t.isHiddenScrollBar?null:se.createElement("div",{style:{height:Object(Hi.a)(),width:Tt,bottom:Te},className:"".concat(lt,"-sticky-scroll")},se.createElement("div",{onMouseDown:zr,ref:sr,className:st()("".concat(lt,"-sticky-scroll-bar"),Object(we.a)({},"".concat(lt,"-sticky-scroll-bar-active"),on)),style:{width:"".concat(Ft,"px"),transform:"translate3d(".concat($t.scrollLeft,"px, 0, 0)")}}))},sd=se.forwardRef(Qd),ah=U("MNnm"),qd=Object(ah.a)()?window:null;function _h(ee,le){var fe=Object(at.a)(ee)==="object"?ee:{},re=fe.offsetHeader,Q=re===void 0?0:re,pe=fe.offsetScroll,ye=pe===void 0?0:pe,Te=fe.getContainer,Be=Te===void 0?function(){return qd}:Te,Ke=Be()||qd;return se.useMemo(function(){var lt=!!ee;return{isSticky:lt,stickyClassName:lt?"".concat(le,"-sticky-header"):"",offsetHeader:Q,offsetScroll:ye,container:Ke}},[ye,Q,le,Ke])}var us=[],ze={},Le="rc-table-internal-hook",it=se.memo(function(ee){var le=ee.children;return le},function(ee,le){return mi()(ee.props,le.props)?ee.pingLeft!==le.pingLeft||ee.pingRight!==le.pingRight:!1});function Qe(ee){var le,fe=ee.prefixCls,re=ee.className,Q=ee.rowClassName,pe=ee.style,ye=ee.data,Te=ee.rowKey,Be=ee.scroll,Ke=ee.tableLayout,lt=ee.direction,ot=ee.title,Tt=ee.footer,Ft=ee.summary,sr=ee.id,ur=ee.showHeader,tr=ee.components,$t=ee.emptyText,Vt=ee.onRow,Qr=ee.onHeaderRow,Bn=ee.internalHooks,wr=ee.transformColumns,on=ee.internalRefs,jn=ee.sticky,fn=ye||us,zr=!!fn.length,Sn=se.useState(0),xi=Object(tn.a)(Sn,2),mo=xi[0],yi=xi[1];se.useEffect(function(){yi(Object(Hi.a)())});var Ci=se.useMemo(function(){return Gu(tr,{})},[tr]),aa=se.useCallback(function(al,Il){return au(Ci,al)||Il},[Ci]),ds=se.useMemo(function(){return typeof Te=="function"?Te:function(al){var Il=al&&al[Te];return Il}},[Te]),xa=_f(ee),ts=xa.expandIcon,Ts=xa.expandedRowKeys,ys=xa.defaultExpandedRowKeys,Wa=xa.defaultExpandAllRows,ps=xa.expandedRowRender,Hs=xa.onExpand,qs=xa.onExpandedRowsChange,rl=xa.expandRowByClick,na=xa.rowExpandable,_s=xa.expandIconColumnIndex,Fl=xa.expandedRowClassName,Tl=xa.childrenColumnName,kl=xa.indentSize,sa=ts||Td,Vs=Tl||"children",nl=se.useMemo(function(){return ps?"row":ee.expandable&&Bn===Le&&ee.expandable.__PARENT_RENDER_ICON__||fn.some(function(al){return al&&Object(at.a)(al)==="object"&&al[Vs]})?"nest":!1},[!!ps,fn]),yu=se.useState(function(){return ys||(Wa?bp(fn,ds,Vs):[])}),il=Object(tn.a)(yu,2),Qo=il[0],xu=il[1],Ao=se.useMemo(function(){return new Set(Ts||Qo||[])},[Ts,Qo]),No=se.useCallback(function(al){var Il=ds(al,fn.indexOf(al)),Tc,_c=Ao.has(Il);_c?(Ao.delete(Il),Tc=Object(zt.a)(Ao)):Tc=[].concat(Object(zt.a)(Ao),[Il]),xu(Tc),Hs&&Hs(!_c,al),qs&&qs(Tc)},[ds,Ao,fn,Hs,qs]),ms=se.useState(0),Is=Object(tn.a)(ms,2),$s=Is[0],el=Is[1],Mc=ls(Object(rr.a)(Object(rr.a)(Object(rr.a)({},ee),xa),{},{expandable:!!ps,expandedKeys:Ao,getRowKey:ds,onTriggerExpand:No,expandIcon:sa,expandIconColumnIndex:_s,direction:lt}),Bn===Le?wr:null),Af=Object(tn.a)(Mc,2),ip=Af[0],Cl=Af[1],Nf=se.useMemo(function(){return{columns:ip,flattenColumns:Cl}},[ip,Cl]),Ff=se.useRef(),gd=se.useRef(),sf=se.useRef(),fc=se.useState(!1),hp=Object(tn.a)(fc,2),Bs=hp[0],Hl=hp[1],Vl=se.useState(!1),Ws=Object(tn.a)(Vl,2),Al=Ws[0],Cu=Ws[1],_l=cl(new Map),tu=Object(tn.a)(_l,2),ol=tu[0],kc=tu[1],Yh=jl(Cl),dp=Yh.map(function(al){return ol.get(al)}),jd=se.useMemo(function(){return dp},[dp.join("_")]),Xh=Qc(jd,Cl.length,lt),vh=Be&&mc(Be.y),Ec=Be&&mc(Be.x),Kh=Ec&&Cl.some(function(al){var Il=al.fixed;return Il}),Hc=se.useRef(),Zh=_h(jn,fe),lf=Zh.isSticky,gh=Zh.offsetHeader,pp=Zh.offsetScroll,op=Zh.stickyClassName,_p=Zh.container,zd,yd,Jh;vh&&(yd={overflowY:"scroll",maxHeight:Be.y}),Ec&&(zd={overflowX:"auto"},vh||(yd={overflowY:"hidden"}),Jh={width:Be.x===!0?"auto":Be.x,minWidth:"100%"});var xd=se.useCallback(function(al,Il){Object(yn.a)(Ff.current)&&kc(function(Tc){if(Tc.get(al)!==Il){var _c=new Map(Tc);return _c.set(al,Il),_c}return Tc})},[]),rs=wp(null),vs=Object(tn.a)(rs,2),Wl=vs[0],Cd=vs[1];function hc(al,Il){!Il||(typeof Il=="function"?Il(al):Il.scrollLeft!==al&&(Il.scrollLeft=al))}var Dh=function(Il){var Tc=Il.currentTarget,_c=Il.scrollLeft,am=lt==="rtl",Qh=typeof _c=="number"?_c:Tc.scrollLeft,Gm=Tc||ze;if(!Cd()||Cd()===Gm){var sm;Wl(Gm),hc(Qh,gd.current),hc(Qh,sf.current),hc(Qh,(sm=Hc.current)===null||sm===void 0?void 0:sm.setScrollLeft)}if(Tc){var pl=Tc.scrollWidth,kv=Tc.clientWidth;am?(Hl(-Qh<pl-kv),Cu(-Qh>0)):(Hl(Qh>0),Cu(Qh<pl-kv))}},Sm=function(){sf.current&&Dh({currentTarget:sf.current})},Mm=function(Il){var Tc=Il.width;Sm(),el(Ff.current?Ff.current.offsetWidth:Tc)};se.useEffect(function(){return Sm},[]),se.useEffect(function(){Ec&&Sm()},[Ec]),se.useEffect(function(){Bn===Le&&on&&(on.body.current=sf.current)});var Bv=aa(["table"],"table"),kp=se.useMemo(function(){return Ke||(Kh?Be.x==="max-content"?"auto":"fixed":vh||lf||Cl.some(function(al){var Il=al.ellipsis;return Il})?"fixed":"auto")},[vh,Kh,Cl,Ke,lf]),Ip,mp={colWidths:jd,columCount:Cl.length,stickyOffsets:Xh,onHeaderRow:Qr,fixHeader:vh},jv=se.useMemo(function(){return zr?null:typeof $t=="function"?$t():$t},[zr,$t]),Em=se.createElement(Th,{data:fn,measureColumnWidth:vh||Ec||lf,expandedKeys:Ao,rowExpandable:na,getRowKey:ds,onRow:Vt,emptyNode:jv,childrenColumnName:Vs}),Tm=se.createElement(Xl,{colWidths:Cl.map(function(al){var Il=al.width;return Il}),columns:Cl}),pv=Ft&&se.createElement(Ni,null,Ft(fn)),zv=aa(["body"]);if(vh||lf){var Wm;typeof zv=="function"?(Wm=zv(fn,{scrollbarSize:mo,ref:sf,onScroll:Dh}),mp.colWidths=Cl.map(function(al,Il){var Tc=al.width,_c=Il===ip.length-1?Tc-mo:Tc;return typeof _c=="number"&&!Number.isNaN(_c)?_c:(Object(si.a)(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0)})):Wm=se.createElement("div",{style:Object(rr.a)(Object(rr.a)({},zd),yd),onScroll:Dh,ref:sf,className:st()("".concat(fe,"-body"))},se.createElement(Bv,{style:Object(rr.a)(Object(rr.a)({},Jh),{},{tableLayout:kp})},Tm,Em,pv)),Ip=se.createElement(se.Fragment,null,ur!==!1&&se.createElement(Ha,Object(De.a)({noData:!fn.length},mp,Nf,{direction:lt,offsetHeader:gh,stickyClassName:op,ref:gd,onScroll:Dh})),Wm,lf&&se.createElement(sd,{ref:Hc,offsetScroll:pp,scrollBodyRef:sf,onScroll:Dh,container:_p}))}else Ip=se.createElement("div",{style:Object(rr.a)(Object(rr.a)({},zd),yd),className:st()("".concat(fe,"-content")),onScroll:Dh,ref:sf},se.createElement(Bv,{style:Object(rr.a)(Object(rr.a)({},Jh),{},{tableLayout:kp})},Tm,ur!==!1&&se.createElement(tc,Object(De.a)({},mp,Nf)),Em,pv));var mv=rc(ee),Pp=se.createElement("div",Object(De.a)({className:st()(fe,re,(le={},Object(we.a)(le,"".concat(fe,"-rtl"),lt==="rtl"),Object(we.a)(le,"".concat(fe,"-ping-left"),Bs),Object(we.a)(le,"".concat(fe,"-ping-right"),Al),Object(we.a)(le,"".concat(fe,"-layout-fixed"),Ke==="fixed"),Object(we.a)(le,"".concat(fe,"-fixed-header"),vh),Object(we.a)(le,"".concat(fe,"-fixed-column"),Kh),Object(we.a)(le,"".concat(fe,"-scroll-horizontal"),Ec),Object(we.a)(le,"".concat(fe,"-has-fix-left"),Cl[0]&&Cl[0].fixed),Object(we.a)(le,"".concat(fe,"-has-fix-right"),Cl[Cl.length-1]&&Cl[Cl.length-1].fixed==="right"),le)),style:pe,id:sr,ref:Ff},mv),se.createElement(it,{pingLeft:Bs,pingRight:Al,props:Object(rr.a)(Object(rr.a)({},ee),{},{stickyOffsets:Xh,mergedExpandedKeys:Ao})},ot&&se.createElement(vf,{className:"".concat(fe,"-title")},ot(fn)),se.createElement("div",{className:"".concat(fe,"-container")},Ip),Tt&&se.createElement(vf,{className:"".concat(fe,"-footer")},Tt(fn))));Ec&&(Pp=se.createElement(Ji.a,{onResize:Mm},Pp));var vv=se.useMemo(function(){return{prefixCls:fe,getComponent:aa,scrollbarSize:mo,direction:lt,fixedInfoList:Cl.map(function(al,Il){return Jc(Il,Il,Cl,Xh,lt)}),isSticky:lf}},[fe,aa,mo,lt,Cl,Xh,lt,lf]),gv=se.useMemo(function(){return Object(rr.a)(Object(rr.a)({},Nf),{},{tableLayout:kp,rowClassName:Q,expandedRowClassName:Fl,componentWidth:$s,fixHeader:vh,fixColumn:Kh,horizonScroll:Ec,expandIcon:sa,expandableType:nl,expandRowByClick:rl,expandedRowRender:ps,onTriggerExpand:No,expandIconColumnIndex:_s,indentSize:kl})},[Nf,kp,Q,Fl,$s,vh,Kh,Ec,sa,nl,rl,ps,No,_s,kl]),Uv=se.useMemo(function(){return{onColumnResize:xd}},[xd]);return se.createElement(Ja.Provider,{value:vv},se.createElement(Tu.Provider,{value:gv},se.createElement(Wf.Provider,{value:Uv},Pp)))}Qe.Column=va,Qe.ColumnGroup=go,Qe.Summary=Uh,Qe.defaultProps={rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}};var Gt=Qe,yt=Gt,mr=U("W9HT"),vr=function(le){var fe,re="".concat(le.rootPrefixCls,"-item"),Q=st()(re,"".concat(re,"-").concat(le.page),(fe={},Object(we.a)(fe,"".concat(re,"-active"),le.active),Object(we.a)(fe,le.className,!!le.className),Object(we.a)(fe,"".concat(re,"-disabled"),!le.page),fe)),pe=function(){le.onClick(le.page)},ye=function(Be){le.onKeyPress(Be,le.onClick,le.page)};return Re.a.createElement("li",{title:le.showTitle?le.page:null,className:Q,onClick:pe,onKeyPress:ye,tabIndex:"0"},le.itemRender(le.page,"page",Re.a.createElement("a",{rel:"nofollow"},le.page)))},Ar=vr,sn={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},bi=function(ee){Object(Nn.a)(fe,ee);var le=Object(So.a)(fe);function fe(){var re;Object(Kr.a)(this,fe);for(var Q=arguments.length,pe=new Array(Q),ye=0;ye<Q;ye++)pe[ye]=arguments[ye];return re=le.call.apply(le,[this].concat(pe)),re.state={goInputText:""},re.buildOptionText=function(Te){return"".concat(Te," ").concat(re.props.locale.items_per_page)},re.changeSize=function(Te){re.props.changeSize(Number(Te))},re.handleChange=function(Te){re.setState({goInputText:Te.target.value})},re.handleBlur=function(Te){var Be=re.props,Ke=Be.goButton,lt=Be.quickGo,ot=Be.rootPrefixCls,Tt=re.state.goInputText;Ke||Tt===""||Te.relatedTarget&&(Te.relatedTarget.className.indexOf("".concat(ot,"-prev"))>=0||Te.relatedTarget.className.indexOf("".concat(ot,"-next"))>=0)||(re.setState({goInputText:""}),lt(re.getValidValue()))},re.go=function(Te){var Be=re.state.goInputText;Be!==""&&(Te.keyCode===sn.ENTER||Te.type==="click")&&(re.setState({goInputText:""}),re.props.quickGo(re.getValidValue()))},re}return Object(ai.a)(fe,[{key:"getValidValue",value:function(){var Q=this.state.goInputText;return!Q||isNaN(Q)?void 0:Number(Q)}},{key:"getPageSizeOptions",value:function(){var Q=this.props,pe=Q.pageSize,ye=Q.pageSizeOptions;return ye.some(function(Te){return Te.toString()===pe.toString()})?ye:ye.concat([pe.toString()]).sort(function(Te,Be){var Ke=isNaN(Number(Te))?0:Number(Te),lt=isNaN(Number(Be))?0:Number(Be);return Ke-lt})}},{key:"render",value:function(){var Q=this,pe=this.props,ye=pe.pageSize,Te=pe.locale,Be=pe.rootPrefixCls,Ke=pe.changeSize,lt=pe.quickGo,ot=pe.goButton,Tt=pe.selectComponentClass,Ft=pe.buildOptionText,sr=pe.selectPrefixCls,ur=pe.disabled,tr=this.state.goInputText,$t="".concat(Be,"-options"),Vt=Tt,Qr=null,Bn=null,wr=null;if(!Ke&&!lt)return null;var on=this.getPageSizeOptions();if(Ke&&Vt){var jn=on.map(function(fn,zr){return Re.a.createElement(Vt.Option,{key:zr,value:fn.toString()},(Ft||Q.buildOptionText)(fn))});Qr=Re.a.createElement(Vt,{disabled:ur,prefixCls:sr,showSearch:!1,className:"".concat($t,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(ye||on[0]).toString(),onChange:this.changeSize,getPopupContainer:function(zr){return zr.parentNode}},jn)}return lt&&(ot&&(wr=typeof ot=="boolean"?Re.a.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:ur,className:"".concat($t,"-quick-jumper-button")},Te.jump_to_confirm):Re.a.createElement("span",{onClick:this.go,onKeyUp:this.go},ot)),Bn=Re.a.createElement("div",{className:"".concat($t,"-quick-jumper")},Te.jump_to,Re.a.createElement("input",{disabled:ur,type:"text",value:tr,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur}),Te.page,wr)),Re.a.createElement("li",{className:"".concat($t)},Qr,Bn)}}]),fe}(Re.a.Component);bi.defaultProps={pageSizeOptions:["10","20","50","100"]};var nn=bi,Ti=U("N2Kk");function yo(){}function mn(ee){return typeof ee=="number"&&isFinite(ee)&&Math.floor(ee)===ee}function ca(ee,le,fe){return fe}function co(ee,le,fe){var re=typeof ee=="undefined"?le.pageSize:ee;return Math.floor((fe.total-1)/re)+1}var is=function(ee){Object(Nn.a)(fe,ee);var le=Object(So.a)(fe);function fe(re){var Q;Object(Kr.a)(this,fe),Q=le.call(this,re),Q.getJumpPrevPage=function(){return Math.max(1,Q.state.current-(Q.props.showLessItems?3:5))},Q.getJumpNextPage=function(){return Math.min(co(void 0,Q.state,Q.props),Q.state.current+(Q.props.showLessItems?3:5))},Q.getItemIcon=function(Ke,lt){var ot=Q.props.prefixCls,Tt=Ke||Re.a.createElement("button",{type:"button","aria-label":lt,className:"".concat(ot,"-item-link")});return typeof Ke=="function"&&(Tt=Re.a.createElement(Ke,Object(rr.a)({},Q.props))),Tt},Q.savePaginationNode=function(Ke){Q.paginationNode=Ke},Q.isValid=function(Ke){return mn(Ke)&&Ke!==Q.state.current},Q.shouldDisplayQuickJumper=function(){var Ke=Q.props,lt=Ke.showQuickJumper,ot=Ke.pageSize,Tt=Ke.total;return Tt<=ot?!1:lt},Q.handleKeyDown=function(Ke){(Ke.keyCode===sn.ARROW_UP||Ke.keyCode===sn.ARROW_DOWN)&&Ke.preventDefault()},Q.handleKeyUp=function(Ke){var lt=Q.getValidValue(Ke),ot=Q.state.currentInputValue;lt!==ot&&Q.setState({currentInputValue:lt}),Ke.keyCode===sn.ENTER?Q.handleChange(lt):Ke.keyCode===sn.ARROW_UP?Q.handleChange(lt-1):Ke.keyCode===sn.ARROW_DOWN&&Q.handleChange(lt+1)},Q.changePageSize=function(Ke){var lt=Q.state.current,ot=co(Ke,Q.state,Q.props);lt=lt>ot?ot:lt,ot===0&&(lt=Q.state.current),typeof Ke=="number"&&("pageSize"in Q.props||Q.setState({pageSize:Ke}),"current"in Q.props||Q.setState({current:lt,currentInputValue:lt})),Q.props.onShowSizeChange(lt,Ke),"onChange"in Q.props&&Q.props.onChange&&Q.props.onChange(lt,Ke)},Q.handleChange=function(Ke){var lt=Q.props.disabled,ot=Ke;if(Q.isValid(ot)&&!lt){var Tt=co(void 0,Q.state,Q.props);ot>Tt?ot=Tt:ot<1&&(ot=1),"current"in Q.props||Q.setState({current:ot,currentInputValue:ot});var Ft=Q.state.pageSize;return Q.props.onChange(ot,Ft),ot}return Q.state.current},Q.prev=function(){Q.hasPrev()&&Q.handleChange(Q.state.current-1)},Q.next=function(){Q.hasNext()&&Q.handleChange(Q.state.current+1)},Q.jumpPrev=function(){Q.handleChange(Q.getJumpPrevPage())},Q.jumpNext=function(){Q.handleChange(Q.getJumpNextPage())},Q.hasPrev=function(){return Q.state.current>1},Q.hasNext=function(){return Q.state.current<co(void 0,Q.state,Q.props)},Q.runIfEnter=function(Ke,lt){if(Ke.key==="Enter"||Ke.charCode===13){for(var ot=arguments.length,Tt=new Array(ot>2?ot-2:0),Ft=2;Ft<ot;Ft++)Tt[Ft-2]=arguments[Ft];lt.apply(void 0,Tt)}},Q.runIfEnterPrev=function(Ke){Q.runIfEnter(Ke,Q.prev)},Q.runIfEnterNext=function(Ke){Q.runIfEnter(Ke,Q.next)},Q.runIfEnterJumpPrev=function(Ke){Q.runIfEnter(Ke,Q.jumpPrev)},Q.runIfEnterJumpNext=function(Ke){Q.runIfEnter(Ke,Q.jumpNext)},Q.handleGoTO=function(Ke){(Ke.keyCode===sn.ENTER||Ke.type==="click")&&Q.handleChange(Q.state.currentInputValue)};var pe=re.onChange!==yo,ye="current"in re;ye&&!pe&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var Te=re.defaultCurrent;"current"in re&&(Te=re.current);var Be=re.defaultPageSize;return"pageSize"in re&&(Be=re.pageSize),Te=Math.min(Te,co(Be,void 0,re)),Q.state={current:Te,currentInputValue:Te,pageSize:Be},Q}return Object(ai.a)(fe,[{key:"componentDidUpdate",value:function(Q,pe){var ye=this.props.prefixCls;if(pe.current!==this.state.current&&this.paginationNode){var Te=this.paginationNode.querySelector(".".concat(ye,"-item-").concat(pe.current));Te&&document.activeElement===Te&&Te.blur()}}},{key:"getValidValue",value:function(Q){var pe=Q.target.value,ye=co(void 0,this.state,this.props),Te=this.state.currentInputValue,Be;return pe===""?Be=pe:isNaN(Number(pe))?Be=Te:pe>=ye?Be=ye:Be=Number(pe),Be}},{key:"getShowSizeChanger",value:function(){var Q=this.props,pe=Q.showSizeChanger,ye=Q.total,Te=Q.totalBoundaryShowSizeChanger;return typeof pe!="undefined"?pe:ye>Te}},{key:"renderPrev",value:function(Q){var pe=this.props,ye=pe.prevIcon,Te=pe.itemRender,Be=Te(Q,"prev",this.getItemIcon(ye,"prev page")),Ke=!this.hasPrev();return Object(se.isValidElement)(Be)?Object(se.cloneElement)(Be,{disabled:Ke}):Be}},{key:"renderNext",value:function(Q){var pe=this.props,ye=pe.nextIcon,Te=pe.itemRender,Be=Te(Q,"next",this.getItemIcon(ye,"next page")),Ke=!this.hasNext();return Object(se.isValidElement)(Be)?Object(se.cloneElement)(Be,{disabled:Ke}):Be}},{key:"render",value:function(){var Q=this,pe=this.props,ye=pe.prefixCls,Te=pe.className,Be=pe.style,Ke=pe.disabled,lt=pe.hideOnSinglePage,ot=pe.total,Tt=pe.locale,Ft=pe.showQuickJumper,sr=pe.showLessItems,ur=pe.showTitle,tr=pe.showTotal,$t=pe.simple,Vt=pe.itemRender,Qr=pe.showPrevNextJumpers,Bn=pe.jumpPrevIcon,wr=pe.jumpNextIcon,on=pe.selectComponentClass,jn=pe.selectPrefixCls,fn=pe.pageSizeOptions,zr=this.state,Sn=zr.current,xi=zr.pageSize,mo=zr.currentInputValue;if(lt===!0&&ot<=xi)return null;var yi=co(void 0,this.state,this.props),Ci=[],aa=null,ds=null,xa=null,ts=null,Ts=null,ys=Ft&&Ft.goButton,Wa=sr?1:2,ps=Sn-1>0?Sn-1:0,Hs=Sn+1<yi?Sn+1:yi,qs=Object.keys(this.props).reduce(function(xu,Ao){return(Ao.substr(0,5)==="data-"||Ao.substr(0,5)==="aria-"||Ao==="role")&&(xu[Ao]=Q.props[Ao]),xu},{});if($t)return ys&&(typeof ys=="boolean"?Ts=Re.a.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},Tt.jump_to_confirm):Ts=Re.a.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},ys),Ts=Re.a.createElement("li",{title:ur?"".concat(Tt.jump_to).concat(Sn,"/").concat(yi):null,className:"".concat(ye,"-simple-pager")},Ts)),Re.a.createElement("ul",Object(De.a)({className:st()(ye,"".concat(ye,"-simple"),Object(we.a)({},"".concat(ye,"-disabled"),Ke),Te),style:Be,ref:this.savePaginationNode},qs),Re.a.createElement("li",{title:ur?Tt.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:st()("".concat(ye,"-prev"),Object(we.a)({},"".concat(ye,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},this.renderPrev(ps)),Re.a.createElement("li",{title:ur?"".concat(Sn,"/").concat(yi):null,className:"".concat(ye,"-simple-pager")},Re.a.createElement("input",{type:"text",value:mo,disabled:Ke,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,size:"3"}),Re.a.createElement("span",{className:"".concat(ye,"-slash")},"/"),yi),Re.a.createElement("li",{title:ur?Tt.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:st()("".concat(ye,"-next"),Object(we.a)({},"".concat(ye,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(Hs)),Ts);if(yi<=3+Wa*2){var rl={locale:Tt,rootPrefixCls:ye,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:ur,itemRender:Vt};yi||Ci.push(Re.a.createElement(Ar,Object(De.a)({},rl,{key:"noPager",page:yi,className:"".concat(ye,"-disabled")})));for(var na=1;na<=yi;na+=1){var _s=Sn===na;Ci.push(Re.a.createElement(Ar,Object(De.a)({},rl,{key:na,page:na,active:_s})))}}else{var Fl=sr?Tt.prev_3:Tt.prev_5,Tl=sr?Tt.next_3:Tt.next_5;Qr&&(aa=Re.a.createElement("li",{title:ur?Fl:null,key:"prev",onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:st()("".concat(ye,"-jump-prev"),Object(we.a)({},"".concat(ye,"-jump-prev-custom-icon"),!!Bn))},Vt(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(Bn,"prev page"))),ds=Re.a.createElement("li",{title:ur?Tl:null,key:"next",tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:st()("".concat(ye,"-jump-next"),Object(we.a)({},"".concat(ye,"-jump-next-custom-icon"),!!wr))},Vt(this.getJumpNextPage(),"jump-next",this.getItemIcon(wr,"next page")))),ts=Re.a.createElement(Ar,{locale:Tt,last:!0,rootPrefixCls:ye,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:yi,page:yi,active:!1,showTitle:ur,itemRender:Vt}),xa=Re.a.createElement(Ar,{locale:Tt,rootPrefixCls:ye,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:ur,itemRender:Vt});var kl=Math.max(1,Sn-Wa),sa=Math.min(Sn+Wa,yi);Sn-1<=Wa&&(sa=1+Wa*2),yi-Sn<=Wa&&(kl=yi-Wa*2);for(var Vs=kl;Vs<=sa;Vs+=1){var nl=Sn===Vs;Ci.push(Re.a.createElement(Ar,{locale:Tt,rootPrefixCls:ye,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:Vs,page:Vs,active:nl,showTitle:ur,itemRender:Vt}))}Sn-1>=Wa*2&&Sn!==1+2&&(Ci[0]=Object(se.cloneElement)(Ci[0],{className:"".concat(ye,"-item-after-jump-prev")}),Ci.unshift(aa)),yi-Sn>=Wa*2&&Sn!==yi-2&&(Ci[Ci.length-1]=Object(se.cloneElement)(Ci[Ci.length-1],{className:"".concat(ye,"-item-before-jump-next")}),Ci.push(ds)),kl!==1&&Ci.unshift(xa),sa!==yi&&Ci.push(ts)}var yu=null;tr&&(yu=Re.a.createElement("li",{className:"".concat(ye,"-total-text")},tr(ot,[ot===0?0:(Sn-1)*xi+1,Sn*xi>ot?ot:Sn*xi])));var il=!this.hasPrev()||!yi,Qo=!this.hasNext()||!yi;return Re.a.createElement("ul",Object(De.a)({className:st()(ye,Te,Object(we.a)({},"".concat(ye,"-disabled"),Ke)),style:Be,unselectable:"unselectable",ref:this.savePaginationNode},qs),yu,Re.a.createElement("li",{title:ur?Tt.prev_page:null,onClick:this.prev,tabIndex:il?null:0,onKeyPress:this.runIfEnterPrev,className:st()("".concat(ye,"-prev"),Object(we.a)({},"".concat(ye,"-disabled"),il)),"aria-disabled":il},this.renderPrev(ps)),Ci,Re.a.createElement("li",{title:ur?Tt.next_page:null,onClick:this.next,tabIndex:Qo?null:0,onKeyPress:this.runIfEnterNext,className:st()("".concat(ye,"-next"),Object(we.a)({},"".concat(ye,"-disabled"),Qo)),"aria-disabled":Qo},this.renderNext(Hs)),Re.a.createElement(nn,{disabled:Ke,locale:Tt,rootPrefixCls:ye,selectComponentClass:on,selectPrefixCls:jn,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:Sn,pageSize:xi,pageSizeOptions:fn,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:ys}))}}],[{key:"getDerivedStateFromProps",value:function(Q,pe){var ye={};if("current"in Q&&(ye.current=Q.current,Q.current!==pe.current&&(ye.currentInputValue=ye.current)),"pageSize"in Q&&Q.pageSize!==pe.pageSize){var Te=pe.current,Be=co(Q.pageSize,pe,Q);Te=Te>Be?Be:Te,"current"in Q||(ye.current=Te,ye.currentInputValue=Te),ye.pageSize=Q.pageSize}return ye}}]),fe}(Re.a.Component);is.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:yo,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:yo,locale:Ti.a,style:{},itemRender:ca,totalBoundaryShowSizeChanger:50};var Yi=is,fa=U("H4fg"),ha=U("5bA4"),Da=U("UESt"),Xi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},fo=Xi,Qa=U("6VBw"),po=function(le,fe){return se.createElement(Qa.a,Object.assign({},le,{ref:fe,icon:fo}))};po.displayName="DoubleLeftOutlined";var ws=se.forwardRef(po),os={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},Ls=os,oa=function(le,fe){return se.createElement(Qa.a,Object.assign({},le,{ref:fe,icon:Ls}))};oa.displayName="DoubleRightOutlined";var Lo=se.forwardRef(oa),wa=function(le){return se.createElement(wi.a,Object(De.a)({size:"small"},le))};wa.Option=wi.a.Option;var ba=wa,ho=U("YMnH"),qa=function(ee,le){var fe={};for(var re in ee)Object.prototype.hasOwnProperty.call(ee,re)&&le.indexOf(re)<0&&(fe[re]=ee[re]);if(ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Q=0,re=Object.getOwnPropertySymbols(ee);Q<re.length;Q++)le.indexOf(re[Q])<0&&Object.prototype.propertyIsEnumerable.call(ee,re[Q])&&(fe[re[Q]]=ee[re[Q]]);return fe},da=function(le){var fe=le.prefixCls,re=le.selectPrefixCls,Q=le.className,pe=le.size,ye=le.locale,Te=qa(le,["prefixCls","selectPrefixCls","className","size","locale"]),Be=Object(Mn.a)(),Ke=Be.xs,lt=se.useContext(Vr.b),ot=lt.getPrefixCls,Tt=lt.direction,Ft=ot("pagination",fe),sr=function(){var $t=se.createElement("span",{className:"".concat(Ft,"-item-ellipsis")},"\u2022\u2022\u2022"),Vt=se.createElement("button",{className:"".concat(Ft,"-item-link"),type:"button",tabIndex:-1},se.createElement(ha.a,null)),Qr=se.createElement("button",{className:"".concat(Ft,"-item-link"),type:"button",tabIndex:-1},se.createElement(Da.a,null)),Bn=se.createElement("a",{className:"".concat(Ft,"-item-link")},se.createElement("div",{className:"".concat(Ft,"-item-container")},se.createElement(ws,{className:"".concat(Ft,"-item-link-icon")}),$t)),wr=se.createElement("a",{className:"".concat(Ft,"-item-link")},se.createElement("div",{className:"".concat(Ft,"-item-container")},se.createElement(Lo,{className:"".concat(Ft,"-item-link-icon")}),$t));if(Tt==="rtl"){var on=[Qr,Vt];Vt=on[0],Qr=on[1];var jn=[wr,Bn];Bn=jn[0],wr=jn[1]}return{prevIcon:Vt,nextIcon:Qr,jumpPrevIcon:Bn,jumpNextIcon:wr}},ur=function($t){var Vt=Object(De.a)(Object(De.a)({},$t),ye),Qr=pe==="small"||!!(Ke&&!pe&&Te.responsive),Bn=ot("select",re),wr=st()(Object(we.a)({mini:Qr},"".concat(Ft,"-rtl"),Tt==="rtl"),Q);return se.createElement(Yi,Object(De.a)({},Te,{prefixCls:Ft,selectPrefixCls:Bn},sr(),{className:wr,selectComponentClass:Qr?ba:wi.a,locale:Vt}))};return se.createElement(ho.a,{componentName:"Pagination",defaultLocale:fa.a},ur)},ta=da,Ka=ta,Za=function(ee,le){var fe={};for(var re in ee)Object.prototype.hasOwnProperty.call(ee,re)&&le.indexOf(re)<0&&(fe[re]=ee[re]);if(ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Q=0,re=Object.getOwnPropertySymbols(ee);Q<re.length;Q++)le.indexOf(re[Q])<0&&Object.prototype.propertyIsEnumerable.call(ee,re[Q])&&(fe[re[Q]]=ee[re[Q]]);return fe},cs=10;function Uo(ee,le){var fe={current:le.current,pageSize:le.pageSize},re=ee&&Object(at.a)(ee)==="object"?ee:{};return Object.keys(re).forEach(function(Q){var pe=le[Q];typeof pe!="function"&&(fe[Q]=pe)}),fe}function nc(){for(var ee={},le=arguments.length,fe=new Array(le),re=0;re<le;re++)fe[re]=arguments[re];return fe.forEach(function(Q){Q&&Object.keys(Q).forEach(function(pe){var ye=Q[pe];ye!==void 0&&(ee[pe]=ye)})}),ee}function Yu(ee,le,fe){var re=le&&Object(at.a)(le)==="object"?le:{},Q=re.total,pe=Q===void 0?0:Q,ye=Za(re,["total"]),Te=Object(se.useState)(function(){return{current:"defaultCurrent"in ye?ye.defaultCurrent:1,pageSize:"defaultPageSize"in ye?ye.defaultPageSize:cs}}),Be=Object(tn.a)(Te,2),Ke=Be[0],lt=Be[1],ot=nc(Ke,ye,{total:pe>0?pe:ee}),Tt=Math.ceil((pe||ee)/ot.pageSize);ot.current>Tt&&(ot.current=Tt);var Ft=function(){var tr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,$t=arguments.length>1?arguments[1]:void 0;lt({current:tr,pageSize:$t||ot.pageSize})},sr=function(tr,$t){var Vt;le&&((Vt=le.onChange)===null||Vt===void 0||Vt.call(le,tr,$t)),Ft(tr,$t),fe(tr,$t||(ot==null?void 0:ot.pageSize))};return le===!1?[{},function(){}]:[Object(De.a)(Object(De.a)({},ot),{onChange:sr}),Ft]}function Bu(ee,le,fe){var re=se.useRef({});function Q(pe){if(!re.current||re.current.data!==ee||re.current.childrenColumnName!==le||re.current.getRowKey!==fe){var ye=function Be(Ke){Ke.forEach(function(lt,ot){var Tt=fe(lt,ot);Te.set(Tt,lt),lt&&Object(at.a)(lt)==="object"&&le in lt&&Be(lt[le]||[])})},Te=new Map;ye(ee),re.current={data:ee,childrenColumnName:le,kvMap:Te,getRowKey:fe}}return re.current.kvMap.get(pe)}return[Q]}var El=U("T5bk"),ja=U("8Skl"),lu=U("JX7q"),$c=se.createContext(null),Ul=function(le){for(var fe=le.prefixCls,re=le.level,Q=le.isStart,pe=le.isEnd,ye="".concat(fe,"-indent-unit"),Te=[],Be=0;Be<re;Be+=1){var Ke;Te.push(se.createElement("span",{key:Be,className:st()(ye,(Ke={},Object(we.a)(Ke,"".concat(ye,"-start"),Q[Be]),Object(we.a)(Ke,"".concat(ye,"-end"),pe[Be]),Ke))}))}return se.createElement("span",{"aria-hidden":"true",className:"".concat(fe,"-indent")},Te)},uu=Ul,Ks="open",fs="close",ju="---",$l=function(ee){Object(Nn.a)(fe,ee);var le=Object(So.a)(fe);function fe(){var re;return Object(Kr.a)(this,fe),re=le.apply(this,arguments),re.state={dragNodeHighlight:!1},re.onSelectorClick=function(Q){var pe=re.props.context.onNodeClick;pe(Q,vc(re.props)),re.isSelectable()?re.onSelect(Q):re.onCheck(Q)},re.onSelectorDoubleClick=function(Q){var pe=re.props.context.onNodeDoubleClick;pe(Q,vc(re.props))},re.onSelect=function(Q){if(!re.isDisabled()){var pe=re.props.context.onNodeSelect;Q.preventDefault(),pe(Q,vc(re.props))}},re.onCheck=function(Q){if(!re.isDisabled()){var pe=re.props,ye=pe.disableCheckbox,Te=pe.checked,Be=re.props.context.onNodeCheck;if(!(!re.isCheckable()||ye)){Q.preventDefault();var Ke=!Te;Be(Q,vc(re.props),Ke)}}},re.onMouseEnter=function(Q){var pe=re.props.context.onNodeMouseEnter;pe(Q,vc(re.props))},re.onMouseLeave=function(Q){var pe=re.props.context.onNodeMouseLeave;pe(Q,vc(re.props))},re.onContextMenu=function(Q){var pe=re.props.context.onNodeContextMenu;pe(Q,vc(re.props))},re.onDragStart=function(Q){var pe=re.props.context.onNodeDragStart;Q.stopPropagation(),re.setState({dragNodeHighlight:!0}),pe(Q,Object(lu.a)(re));try{Q.dataTransfer.setData("text/plain","")}catch(ye){}},re.onDragEnter=function(Q){var pe=re.props.context.onNodeDragEnter;Q.preventDefault(),Q.stopPropagation(),pe(Q,Object(lu.a)(re))},re.onDragOver=function(Q){var pe=re.props.context.onNodeDragOver;Q.preventDefault(),Q.stopPropagation(),pe(Q,Object(lu.a)(re))},re.onDragLeave=function(Q){var pe=re.props.context.onNodeDragLeave;Q.stopPropagation(),pe(Q,Object(lu.a)(re))},re.onDragEnd=function(Q){var pe=re.props.context.onNodeDragEnd;Q.stopPropagation(),re.setState({dragNodeHighlight:!1}),pe(Q,Object(lu.a)(re))},re.onDrop=function(Q){var pe=re.props.context.onNodeDrop;Q.preventDefault(),Q.stopPropagation(),re.setState({dragNodeHighlight:!1}),pe(Q,Object(lu.a)(re))},re.onExpand=function(Q){var pe=re.props,ye=pe.loading,Te=pe.context.onNodeExpand;ye||Te(Q,vc(re.props))},re.setSelectHandle=function(Q){re.selectHandle=Q},re.getNodeState=function(){var Q=re.props.expanded;return re.isLeaf()?null:Q?Ks:fs},re.hasChildren=function(){var Q=re.props.eventKey,pe=re.props.context.keyEntities,ye=pe[Q]||{},Te=ye.children;return!!(Te||[]).length},re.isLeaf=function(){var Q=re.props,pe=Q.isLeaf,ye=Q.loaded,Te=re.props.context.loadData,Be=re.hasChildren();return pe===!1?!1:pe||!Te&&!Be||Te&&ye&&!Be},re.isDisabled=function(){var Q=re.props.disabled,pe=re.props.context.disabled;return!!(pe||Q)},re.isCheckable=function(){var Q=re.props.checkable,pe=re.props.context.checkable;return!pe||Q===!1?!1:pe},re.syncLoadData=function(Q){var pe=Q.expanded,ye=Q.loading,Te=Q.loaded,Be=re.props.context,Ke=Be.loadData,lt=Be.onNodeLoad;ye||Ke&&pe&&!re.isLeaf()&&!re.hasChildren()&&!Te&&lt(vc(re.props))},re.renderSwitcher=function(){var Q=re.props,pe=Q.expanded,ye=Q.switcherIcon,Te=re.props.context,Be=Te.prefixCls,Ke=Te.switcherIcon,lt=ye||Ke;if(re.isLeaf())return se.createElement("span",{className:st()("".concat(Be,"-switcher"),"".concat(Be,"-switcher-noop"))},typeof lt=="function"?lt(Object(rr.a)(Object(rr.a)({},re.props),{},{isLeaf:!0})):lt);var ot=st()("".concat(Be,"-switcher"),"".concat(Be,"-switcher_").concat(pe?Ks:fs));return se.createElement("span",{onClick:re.onExpand,className:ot},typeof lt=="function"?lt(Object(rr.a)(Object(rr.a)({},re.props),{},{isLeaf:!1})):lt)},re.renderCheckbox=function(){var Q=re.props,pe=Q.checked,ye=Q.halfChecked,Te=Q.disableCheckbox,Be=re.props.context.prefixCls,Ke=re.isDisabled(),lt=re.isCheckable();if(!lt)return null;var ot=typeof lt!="boolean"?lt:null;return se.createElement("span",{className:st()("".concat(Be,"-checkbox"),pe&&"".concat(Be,"-checkbox-checked"),!pe&&ye&&"".concat(Be,"-checkbox-indeterminate"),(Ke||Te)&&"".concat(Be,"-checkbox-disabled")),onClick:re.onCheck},ot)},re.renderIcon=function(){var Q=re.props.loading,pe=re.props.context.prefixCls;return se.createElement("span",{className:st()("".concat(pe,"-iconEle"),"".concat(pe,"-icon__").concat(re.getNodeState()||"docu"),Q&&"".concat(pe,"-icon_loading"))})},re.renderSelector=function(){var Q=re.state.dragNodeHighlight,pe=re.props,ye=pe.title,Te=pe.selected,Be=pe.icon,Ke=pe.loading,lt=pe.data,ot=re.props.context,Tt=ot.prefixCls,Ft=ot.showIcon,sr=ot.icon,ur=ot.draggable,tr=ot.loadData,$t=ot.titleRender,Vt=re.isDisabled(),Qr=typeof ur=="function"?ur(lt):ur,Bn="".concat(Tt,"-node-content-wrapper"),wr;if(Ft){var on=Be||sr;wr=on?se.createElement("span",{className:st()("".concat(Tt,"-iconEle"),"".concat(Tt,"-icon__customize"))},typeof on=="function"?on(re.props):on):re.renderIcon()}else tr&&Ke&&(wr=re.renderIcon());var jn;typeof ye=="function"?jn=ye(lt):$t?jn=$t(lt):jn=ye;var fn=se.createElement("span",{className:"".concat(Tt,"-title")},jn);return se.createElement("span",{ref:re.setSelectHandle,title:typeof ye=="string"?ye:"",className:st()("".concat(Bn),"".concat(Bn,"-").concat(re.getNodeState()||"normal"),!Vt&&(Te||Q)&&"".concat(Tt,"-node-selected"),!Vt&&Qr&&"draggable"),draggable:!Vt&&Qr||void 0,"aria-grabbed":!Vt&&Qr||void 0,onMouseEnter:re.onMouseEnter,onMouseLeave:re.onMouseLeave,onContextMenu:re.onContextMenu,onClick:re.onSelectorClick,onDoubleClick:re.onSelectorDoubleClick,onDragStart:Qr?re.onDragStart:void 0},wr,fn,re.renderDropIndicator())},re.renderDropIndicator=function(){var Q=re.props,pe=Q.disabled,ye=Q.eventKey,Te=re.props.context,Be=Te.draggable,Ke=Te.dropLevelOffset,lt=Te.dropPosition,ot=Te.prefixCls,Tt=Te.indent,Ft=Te.dropIndicatorRender,sr=Te.dragOverNodeKey,ur=Te.direction,tr=Be!==!1,$t=!pe&&tr&&sr===ye;return $t?Ft({dropPosition:lt,dropLevelOffset:Ke,indent:Tt,prefixCls:ot,direction:ur}):null},re}return Object(ai.a)(fe,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var Q=this.props.selectable,pe=this.props.context.selectable;return typeof Q=="boolean"?Q:pe}},{key:"render",value:function(){var Q,pe=this.props,ye=pe.eventKey,Te=pe.className,Be=pe.style,Ke=pe.dragOver,lt=pe.dragOverGapTop,ot=pe.dragOverGapBottom,Tt=pe.isLeaf,Ft=pe.isStart,sr=pe.isEnd,ur=pe.expanded,tr=pe.selected,$t=pe.checked,Vt=pe.halfChecked,Qr=pe.loading,Bn=pe.domRef,wr=pe.active,on=pe.data,jn=pe.onMouseMove,fn=Object(Gn.a)(pe,["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove"]),zr=this.props.context,Sn=zr.prefixCls,xi=zr.filterTreeNode,mo=zr.draggable,yi=zr.keyEntities,Ci=zr.dropContainerKey,aa=zr.dropTargetKey,ds=this.isDisabled(),xa=Kl(fn),ts=yi[ye]||{},Ts=ts.level,ys=sr[sr.length-1],Wa=typeof mo=="function"?mo(on):mo;return se.createElement("div",Object(De.a)({ref:Bn,className:st()(Te,"".concat(Sn,"-treenode"),(Q={},Object(we.a)(Q,"".concat(Sn,"-treenode-disabled"),ds),Object(we.a)(Q,"".concat(Sn,"-treenode-switcher-").concat(ur?"open":"close"),!Tt),Object(we.a)(Q,"".concat(Sn,"-treenode-checkbox-checked"),$t),Object(we.a)(Q,"".concat(Sn,"-treenode-checkbox-indeterminate"),Vt),Object(we.a)(Q,"".concat(Sn,"-treenode-selected"),tr),Object(we.a)(Q,"".concat(Sn,"-treenode-loading"),Qr),Object(we.a)(Q,"".concat(Sn,"-treenode-active"),wr),Object(we.a)(Q,"".concat(Sn,"-treenode-leaf-last"),ys),Object(we.a)(Q,"drop-target",aa===ye),Object(we.a)(Q,"drop-container",Ci===ye),Object(we.a)(Q,"drag-over",!ds&&Ke),Object(we.a)(Q,"drag-over-gap-top",!ds&&lt),Object(we.a)(Q,"drag-over-gap-bottom",!ds&&ot),Object(we.a)(Q,"filter-node",xi&&xi(vc(this.props))),Q)),style:Be,onDragEnter:Wa?this.onDragEnter:void 0,onDragOver:Wa?this.onDragOver:void 0,onDragLeave:Wa?this.onDragLeave:void 0,onDrop:Wa?this.onDrop:void 0,onDragEnd:Wa?this.onDragEnd:void 0,onMouseMove:jn},xa),se.createElement(uu,{prefixCls:Sn,level:Ts,isStart:Ft,isEnd:sr}),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),fe}(se.Component),ic=function(le){return se.createElement($c.Consumer,null,function(fe){return se.createElement($l,Object(De.a)({},le,{context:fe}))})};ic.displayName="TreeNode",ic.defaultProps={title:ju},ic.isTreeNode=1;var Nl=ic;function zu(ee,le){var fe=ee.slice(),re=fe.indexOf(le);return re>=0&&fe.splice(re,1),fe}function bs(ee,le){var fe=ee.slice();return fe.indexOf(le)===-1&&fe.push(le),fe}function Uu(ee){return ee.split("-")}function Yt(ee,le){return"".concat(ee,"-").concat(le)}function Ur(ee){return ee&&ee.type&&ee.type.isTreeNode}function Lr(ee,le){var fe=[],re=le[ee];function Q(){var pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];pe.forEach(function(ye){var Te=ye.key,Be=ye.children;fe.push(Te),Q(Be)})}return Q(re.children),fe}function zi(ee){if(ee.parent){var le=Uu(ee.pos);return Number(le[le.length-1])===ee.parent.children.length-1}return!1}function Mo(ee){var le=Uu(ee.pos);return Number(le[le.length-1])===0}function Ta(ee,le,fe,re,Q,pe,ye,Te,Be){var Ke,lt=ee.clientX,ot=ee.clientY,Tt=ee.target.getBoundingClientRect(),Ft=Tt.top,sr=Tt.height,ur=(Be==="rtl"?-1:1)*(((re==null?void 0:re.x)||0)-lt),tr=(ur-12)/fe,$t=ye[le.props.eventKey];if(ot<Ft+sr/2){var Vt=pe.findIndex(function(mo){return mo.data.key===$t.key}),Qr=Vt<=0?0:Vt-1,Bn=pe[Qr].data.key;$t=ye[Bn]}for(var wr=$t,on=$t.key,jn=0,fn=0,zr=0;zr<tr&&zi($t);zr+=1)$t=$t.parent,fn+=1;var Sn=$t.node,xi=!0;return Mo($t)&&$t.level===0&&ot<Ft+sr/2&&Q({dropNode:Sn,dropPosition:-1})&&$t.key===le.props.eventKey?jn=-1:(wr.children||[]).length&&Te.includes(on)?Q({dropNode:Sn,dropPosition:0})?jn=0:xi=!1:fn===0?tr>-1.5?Q({dropNode:Sn,dropPosition:1})?jn=1:xi=!1:Q({dropNode:Sn,dropPosition:0})?jn=0:Q({dropNode:Sn,dropPosition:1})?jn=1:xi=!1:Q({dropNode:Sn,dropPosition:1})?jn=1:xi=!1,{dropPosition:jn,dropLevelOffset:fn,dropTargetKey:$t.key,dropTargetPos:$t.pos,dragOverNodeKey:on,dropContainerKey:jn===0?null:((Ke=$t.parent)===null||Ke===void 0?void 0:Ke.key)||null,dropAllowed:xi}}function Ss(ee,le){if(!!ee){var fe=le.multiple;return fe?ee.slice():ee.length?[ee[0]]:ee}}var Go=function(le){return le};function Fi(ee,le){if(!ee)return[];var fe=le||{},re=fe.processProps,Q=re===void 0?Go:re,pe=Array.isArray(ee)?ee:[ee];return pe.map(function(ye){var Te=ye.children,Be=Object(Gn.a)(ye,["children"]),Ke=Fi(Te,le);return Re.a.createElement(Nl,Q(Be),Ke)})}function Zo(ee){if(!ee)return null;var le;if(Array.isArray(ee))le={checkedKeys:ee,halfCheckedKeys:void 0};else if(Object(at.a)(ee)==="object")le={checkedKeys:ee.checked||void 0,halfCheckedKeys:ee.halfChecked||void 0};else return Object(si.a)(!1,"`checkedKeys` is not an array or an object"),null;return le}function pa(ee,le){var fe=new Set;function re(Q){if(!fe.has(Q)){var pe=le[Q];if(!!pe){fe.add(Q);var ye=pe.parent,Te=pe.node;Te.disabled||ye&&re(ye.key)}}}return(ee||[]).forEach(function(Q){re(Q)}),Object(zt.a)(fe)}function Kl(ee){var le={};return Object.keys(ee).forEach(function(fe){(fe.startsWith("data-")||fe.startsWith("aria-"))&&(le[fe]=ee[fe])}),le}function oc(ee,le){return ee!=null?ee:le}function ef(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],le=new Map;function fe(re){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(re||[]).forEach(function(pe){var ye=pe.key,Te=pe.children;Object(si.a)(ye!=null,"Tree node must have a certain key: [".concat(Q).concat(ye,"]"));var Be=String(ye);Object(si.a)(!le.has(Be)||ye===null||ye===void 0,"Same 'key' exist in the Tree: ".concat(Be)),le.set(Be,!0),fe(Te,"".concat(Q).concat(Be," > "))})}fe(ee)}function cu(ee){function le(fe){var re=Object(Wo.a)(fe);return re.map(function(Q){if(!Ur(Q))return Object(si.a)(!Q,"Tree/TreeNode can only accept TreeNode as children."),null;var pe=Q.key,ye=Q.props,Te=ye.children,Be=Object(Gn.a)(ye,["children"]),Ke=Object(rr.a)({key:pe},Be),lt=le(Te);return lt.length&&(Ke.children=lt),Ke}).filter(function(Q){return Q})}return le(ee)}function Gf(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],fe=new Set(le===!0?[]:le),re=[];function Q(pe){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return pe.map(function(Te,Be){var Ke=Yt(ye?ye.pos:"0",Be),lt=oc(Te.key,Ke),ot=Object(rr.a)(Object(rr.a)({},Te),{},{parent:ye,pos:Ke,children:null,data:Te,isStart:[].concat(Object(zt.a)(ye?ye.isStart:[]),[Be===0]),isEnd:[].concat(Object(zt.a)(ye?ye.isEnd:[]),[Be===pe.length-1])});return re.push(ot),le===!0||fe.has(lt)?ot.children=Q(Te.children||[],ot):ot.children=[],ot})}return Q(ee),re}function Ds(ee,le,fe){var re=null,Q,pe=Object(at.a)(fe);pe==="function"||pe==="string"?re=fe:fe&&pe==="object"&&(Q=fe.childrenPropName,re=fe.externalGetKey),Q=Q||"children";var ye;re?typeof re=="string"?ye=function(Ke){return Ke[re]}:typeof re=="function"&&(ye=function(Ke){return re(Ke)}):ye=function(Ke,lt){return oc(Ke.key,lt)};function Te(Be,Ke,lt){var ot=Be?Be[Q]:ee,Tt=Be?Yt(lt.pos,Ke):"0";if(Be){var Ft=ye(Be,Tt),sr={node:Be,index:Ke,pos:Tt,key:Ft,parentPos:lt.node?lt.pos:null,level:lt.level+1};le(sr)}ot&&ot.forEach(function(ur,tr){Te(ur,tr,{node:Be,pos:Tt,level:lt?lt.level+1:-1})})}Te(null)}function Yf(ee){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},fe=le.initWrapper,re=le.processEntity,Q=le.onProcessFinished,pe=le.externalGetKey,ye=le.childrenPropName,Te=arguments.length>2?arguments[2]:void 0,Be=pe||Te,Ke={},lt={},ot={posEntities:Ke,keyEntities:lt};return fe&&(ot=fe(ot)||ot),Ds(ee,function(Tt){var Ft=Tt.node,sr=Tt.index,ur=Tt.pos,tr=Tt.key,$t=Tt.parentPos,Vt=Tt.level,Qr={node:Ft,index:sr,key:tr,pos:ur,level:Vt},Bn=oc(tr,ur);Ke[ur]=Qr,lt[Bn]=Qr,Qr.parent=Ke[$t],Qr.parent&&(Qr.parent.children=Qr.parent.children||[],Qr.parent.children.push(Qr)),re&&re(Qr,ot)},{externalGetKey:Be,childrenPropName:ye}),Q&&Q(ot),ot}function Xf(ee,le){var fe=le.expandedKeys,re=le.selectedKeys,Q=le.loadedKeys,pe=le.loadingKeys,ye=le.checkedKeys,Te=le.halfCheckedKeys,Be=le.dragOverNodeKey,Ke=le.dropPosition,lt=le.keyEntities,ot=lt[ee],Tt={eventKey:ee,expanded:fe.indexOf(ee)!==-1,selected:re.indexOf(ee)!==-1,loaded:Q.indexOf(ee)!==-1,loading:pe.indexOf(ee)!==-1,checked:ye.indexOf(ee)!==-1,halfChecked:Te.indexOf(ee)!==-1,pos:String(ot?ot.pos:""),dragOver:Be===ee&&Ke===0,dragOverGapTop:Be===ee&&Ke===-1,dragOverGapBottom:Be===ee&&Ke===1};return Tt}function vc(ee){var le=ee.data,fe=ee.expanded,re=ee.selected,Q=ee.checked,pe=ee.loaded,ye=ee.loading,Te=ee.halfChecked,Be=ee.dragOver,Ke=ee.dragOverGapTop,lt=ee.dragOverGapBottom,ot=ee.pos,Tt=ee.active,Ft=Object(rr.a)(Object(rr.a)({},le),{},{expanded:fe,selected:re,checked:Q,loaded:pe,loading:ye,halfChecked:Te,dragOver:Be,dragOverGapTop:Ke,dragOverGapBottom:lt,pos:ot,active:Tt});return"props"in Ft||Object.defineProperty(Ft,"props",{get:function(){return Object(si.a)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),ee}}),Ft}function Kf(ee,le){var fe=new Set;return ee.forEach(function(re){le.has(re)||fe.add(re)}),fe}function sh(ee){var le=ee||{},fe=le.disabled,re=le.disableCheckbox,Q=le.checkable;return!!(fe||re)||Q===!1}function ld(ee,le,fe,re){for(var Q=new Set(ee),pe=new Set,ye=0;ye<=fe;ye+=1){var Te=le.get(ye)||new Set;Te.forEach(function(ot){var Tt=ot.key,Ft=ot.node,sr=ot.children,ur=sr===void 0?[]:sr;Q.has(Tt)&&!re(Ft)&&ur.filter(function(tr){return!re(tr.node)}).forEach(function(tr){Q.add(tr.key)})})}for(var Be=new Set,Ke=fe;Ke>=0;Ke-=1){var lt=le.get(Ke)||new Set;lt.forEach(function(ot){var Tt=ot.parent,Ft=ot.node;if(!(re(Ft)||!ot.parent||Be.has(ot.parent.key))){if(re(ot.parent.node)){Be.add(Tt.key);return}var sr=!0,ur=!1;(Tt.children||[]).filter(function(tr){return!re(tr.node)}).forEach(function(tr){var $t=tr.key,Vt=Q.has($t);sr&&!Vt&&(sr=!1),!ur&&(Vt||pe.has($t))&&(ur=!0)}),sr&&Q.add(Tt.key),ur&&pe.add(Tt.key),Be.add(Tt.key)}})}return{checkedKeys:Array.from(Q),halfCheckedKeys:Array.from(Kf(pe,Q))}}function lh(ee,le,fe,re,Q){for(var pe=new Set(ee),ye=new Set(le),Te=0;Te<=re;Te+=1){var Be=fe.get(Te)||new Set;Be.forEach(function(Tt){var Ft=Tt.key,sr=Tt.node,ur=Tt.children,tr=ur===void 0?[]:ur;!pe.has(Ft)&&!ye.has(Ft)&&!Q(sr)&&tr.filter(function($t){return!Q($t.node)}).forEach(function($t){pe.delete($t.key)})})}ye=new Set;for(var Ke=new Set,lt=re;lt>=0;lt-=1){var ot=fe.get(lt)||new Set;ot.forEach(function(Tt){var Ft=Tt.parent,sr=Tt.node;if(!(Q(sr)||!Tt.parent||Ke.has(Tt.parent.key))){if(Q(Tt.parent.node)){Ke.add(Ft.key);return}var ur=!0,tr=!1;(Ft.children||[]).filter(function($t){return!Q($t.node)}).forEach(function($t){var Vt=$t.key,Qr=pe.has(Vt);ur&&!Qr&&(ur=!1),!tr&&(Qr||ye.has(Vt))&&(tr=!0)}),ur||pe.delete(Ft.key),tr&&ye.add(Ft.key),Ke.add(Ft.key)}})}return{checkedKeys:Array.from(pe),halfCheckedKeys:Array.from(Kf(ye,pe))}}function _u(ee,le,fe,re){var Q=[],pe;re?pe=re:pe=sh;var ye=new Set(ee.filter(function(lt){var ot=!!fe[lt];return ot||Q.push(lt),ot})),Te=new Map,Be=0;Object.keys(fe).forEach(function(lt){var ot=fe[lt],Tt=ot.level,Ft=Te.get(Tt);Ft||(Ft=new Set,Te.set(Tt,Ft)),Ft.add(ot),Be=Math.max(Be,Tt)}),Object(si.a)(!Q.length,"Tree missing follow keys: ".concat(Q.slice(0,100).map(function(lt){return"'".concat(lt,"'")}).join(", ")));var Ke;return le===!0?Ke=ld(ye,Te,Be,pe):Ke=lh(ye,le.halfCheckedKeys,Te,Be,pe),Ke}var yf=U("6cGi"),uh=U("kaz8"),gc=U("jsC+"),ac=U("BvKs"),bc=U("9yH6"),xo=U("uaoM"),sc="SELECT_ALL",_d="SELECT_INVERT",eu="SELECT_NONE";function Ih(ee){return ee&&ee.fixed}function $d(ee,le){var fe=[];return(ee||[]).forEach(function(re){fe.push(re),re&&Object(at.a)(re)==="object"&&le in re&&(fe=[].concat(Object(zt.a)(fe),Object(zt.a)($d(re[le],le))))}),fe}function Id(ee,le){var fe=ee||{},re=fe.preserveSelectedRowKeys,Q=fe.selectedRowKeys,pe=fe.getCheckboxProps,ye=fe.onChange,Te=fe.onSelect,Be=fe.onSelectAll,Ke=fe.onSelectInvert,lt=fe.onSelectNone,ot=fe.onSelectMultiple,Tt=fe.columnWidth,Ft=fe.type,sr=fe.selections,ur=fe.fixed,tr=fe.renderCell,$t=fe.hideSelectAll,Vt=fe.checkStrictly,Qr=Vt===void 0?!0:Vt,Bn=le.prefixCls,wr=le.data,on=le.pageData,jn=le.getRecordByKey,fn=le.getRowKey,zr=le.expandType,Sn=le.childrenColumnName,xi=le.locale,mo=le.expandIconColumnIndex,yi=le.getPopupContainer,Ci=se.useRef(new Map),aa=Object(yf.a)(Q||[],{value:Q}),ds=Object(tn.a)(aa,2),xa=ds[0],ts=ds[1],Ts=Object(se.useMemo)(function(){return Qr?{keyEntities:null}:Yf(wr,{externalGetKey:fn,childrenPropName:Sn})},[wr,fn,Qr,Sn]),ys=Ts.keyEntities,Wa=Object(se.useMemo)(function(){return $d(on,Sn)},[on,Sn]),ps=Object(se.useMemo)(function(){var Ao=new Map;return Wa.forEach(function(No,ms){var Is=fn(No,ms),$s=(pe?pe(No):null)||{};Ao.set(Is,$s)}),Ao},[Wa,fn,pe]),Hs=Object(se.useCallback)(function(Ao){var No;return!!((No=ps.get(fn(Ao)))===null||No===void 0?void 0:No.disabled)},[ps,fn]),qs=Object(se.useMemo)(function(){if(Qr)return[xa||[],[]];var Ao=_u(xa,!0,ys,Hs),No=Ao.checkedKeys,ms=Ao.halfCheckedKeys;return[No||[],ms]},[xa,Qr,ys,Hs]),rl=Object(tn.a)(qs,2),na=rl[0],_s=rl[1],Fl=Object(se.useMemo)(function(){var Ao=Ft==="radio"?na.slice(0,1):na;return new Set(Ao)},[na,Ft]),Tl=Object(se.useMemo)(function(){return Ft==="radio"?new Set:new Set(_s)},[_s,Ft]),kl=Object(se.useState)(null),sa=Object(tn.a)(kl,2),Vs=sa[0],nl=sa[1];se.useEffect(function(){ee||ts([])},[!!ee]);var yu=Object(se.useCallback)(function(Ao){var No,ms;if(re){var Is=new Map;No=Ao,ms=Ao.map(function($s){var el=jn($s);return!el&&Ci.current.has($s)&&(el=Ci.current.get($s)),Is.set($s,el),el}),Ci.current=Is}else No=[],ms=[],Ao.forEach(function($s){var el=jn($s);el!==void 0&&(No.push($s),ms.push(el))});ts(No),ye&&ye(No,ms)},[ts,jn,ye,re]),il=Object(se.useCallback)(function(Ao,No,ms,Is){if(Te){var $s=ms.map(function(el){return jn(el)});Te(jn(Ao),No,$s,Is)}yu(ms)},[Te,jn,yu]),Qo=Object(se.useMemo)(function(){if(!sr||$t)return null;var Ao=sr===!0?[sc,_d,eu]:sr;return Ao.map(function(No){return No===sc?{key:"all",text:xi.selectionAll,onSelect:function(){yu(wr.map(function(Is,$s){return fn(Is,$s)}))}}:No===_d?{key:"invert",text:xi.selectInvert,onSelect:function(){var Is=new Set(Fl);on.forEach(function(el,Mc){var Af=fn(el,Mc);Is.has(Af)?Is.delete(Af):Is.add(Af)});var $s=Array.from(Is);Ke&&(Object(xo.a)(!1,"Table","`onSelectInvert` will be removed in future. Please use `onChange` instead."),Ke($s)),yu($s)}}:No===eu?{key:"none",text:xi.selectNone,onSelect:function(){lt&&lt(),yu([])}}:No})},[sr,Fl,on,fn,Ke,yu]),xu=Object(se.useCallback)(function(Ao){if(!ee)return Ao;var No=new Set(Fl),ms=Wa.map(fn).filter(function(Hl){return!ps.get(Hl).disabled}),Is=ms.every(function(Hl){return No.has(Hl)}),$s=ms.some(function(Hl){return No.has(Hl)}),el=function(){var Vl=[];Is?ms.forEach(function(Al){No.delete(Al),Vl.push(Al)}):ms.forEach(function(Al){No.has(Al)||(No.add(Al),Vl.push(Al))});var Ws=Array.from(No);Be&&Be(!Is,Ws.map(function(Al){return jn(Al)}),Vl.map(function(Al){return jn(Al)})),yu(Ws)},Mc;if(Ft!=="radio"){var Af;if(Qo){var ip=se.createElement(ac.a,{getPopupContainer:yi},Qo.map(function(Hl,Vl){var Ws=Hl.key,Al=Hl.text,Cu=Hl.onSelect;return se.createElement(ac.a.Item,{key:Ws||Vl,onClick:function(){Cu&&Cu(ms)}},Al)}));Af=se.createElement("div",{className:"".concat(Bn,"-selection-extra")},se.createElement(gc.a,{overlay:ip,getPopupContainer:yi},se.createElement("span",null,se.createElement(ja.a,null))))}var Cl=Wa.every(function(Hl,Vl){var Ws=fn(Hl,Vl),Al=ps.get(Ws)||{};return Al.disabled});Mc=!$t&&se.createElement("div",{className:"".concat(Bn,"-selection")},se.createElement(uh.a,{checked:!Cl&&!!Wa.length&&Is,indeterminate:!Is&&$s,onChange:el,disabled:Wa.length===0||Cl,skipGroup:!0}),Af)}var Nf;Ft==="radio"?Nf=function(Vl,Ws,Al){var Cu=fn(Ws,Al),_l=No.has(Cu);return{node:se.createElement(bc.a,Object(De.a)({},ps.get(Cu),{checked:_l,onClick:function(ol){return ol.stopPropagation()},onChange:function(ol){No.has(Cu)||il(Cu,!0,[Cu],ol.nativeEvent)}})),checked:_l}}:Nf=function(Vl,Ws,Al){var Cu,_l=fn(Ws,Al),tu=No.has(_l),ol=Tl.has(_l),kc=ps.get(_l),Yh;return zr==="nest"?(Yh=ol,Object(xo.a)(typeof(kc==null?void 0:kc.indeterminate)!="boolean","Table","set `indeterminate` using `rowSelection.getCheckboxProps` is not allowed with tree structured dataSource.")):Yh=(Cu=kc==null?void 0:kc.indeterminate)!==null&&Cu!==void 0?Cu:ol,{node:se.createElement(uh.a,Object(De.a)({},kc,{indeterminate:Yh,checked:tu,skipGroup:!0,onClick:function(jd){return jd.stopPropagation()},onChange:function(jd){var Xh=jd.nativeEvent,vh=Xh.shiftKey,Ec=-1,Kh=-1;if(vh&&Qr){var Hc=new Set([Vs,_l]);ms.some(function(rs,vs){if(Hc.has(rs))if(Ec===-1)Ec=vs;else return Kh=vs,!0;return!1})}if(Kh!==-1&&Ec!==Kh&&Qr){var Zh=ms.slice(Ec,Kh+1),lf=[];tu?Zh.forEach(function(rs){No.has(rs)&&(lf.push(rs),No.delete(rs))}):Zh.forEach(function(rs){No.has(rs)||(lf.push(rs),No.add(rs))});var gh=Array.from(No);ot&&ot(!tu,gh.map(function(rs){return jn(rs)}),lf.map(function(rs){return jn(rs)})),yu(gh)}else{var pp=na;if(Qr){var op=tu?zu(pp,_l):bs(pp,_l);il(_l,!tu,op,Xh)}else{var _p=_u([].concat(Object(zt.a)(pp),[_l]),!0,ys,Hs),zd=_p.checkedKeys,yd=_p.halfCheckedKeys,Jh=zd;if(tu){var xd=new Set(zd);xd.delete(_l),Jh=_u(Array.from(xd),{checked:!1,halfCheckedKeys:yd},ys,Hs).checkedKeys}il(_l,!tu,Jh,Xh)}}nl(_l)}})),checked:tu}};var Ff=function(Vl,Ws,Al){var Cu=Nf(Vl,Ws,Al),_l=Cu.node,tu=Cu.checked;return tr?tr(tu,Ws,Al,_l):_l},gd=Object(we.a)({width:Tt,className:"".concat(Bn,"-selection-column"),title:ee.columnTitle||Mc,render:Ff},Mh,{className:"".concat(Bn,"-selection-col")});if(zr==="row"&&Ao.length&&!mo){var sf=Object(El.a)(Ao),fc=sf[0],hp=sf.slice(1),Bs=ur||Ih(hp[0]);return Bs&&(fc.fixed=Bs),[fc,Object(De.a)(Object(De.a)({},gd),{fixed:Bs})].concat(Object(zt.a)(hp))}return[Object(De.a)(Object(De.a)({},gd),{fixed:ur||Ih(Ao[0])})].concat(Object(zt.a)(Ao))},[fn,Wa,ee,na,Fl,Tl,Tt,Qo,zr,Vs,ps,ot,il,Hs]);return[xu,Fl]}var Kp={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},ep=Kp,Vo=function(le,fe){return se.createElement(Qa.a,Object.assign({},le,{ref:fe,icon:ep}))};Vo.displayName="CaretDownOutlined";var ud=se.forwardRef(Vo),Zf={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},tp=Zf,Pd=function(le,fe){return se.createElement(Qa.a,Object.assign({},le,{ref:fe,icon:tp}))};Pd.displayName="CaretUpOutlined";var cd=se.forwardRef(Pd),no=U("3S7+");function Us(ee,le){return"key"in ee&&ee.key!==void 0&&ee.key!==null?ee.key:ee.dataIndex?Array.isArray(ee.dataIndex)?ee.dataIndex.join("."):ee.dataIndex:le}function fd(ee,le){return le?"".concat(le,"-").concat(ee):"".concat(ee)}function Np(ee,le){return typeof ee=="function"?ee(le):ee}var Ph="ascend",tf="descend";function Od(ee){return Object(at.a)(ee.sorter)==="object"&&typeof ee.sorter.multiple=="number"?ee.sorter.multiple:!1}function Xu(ee){return typeof ee=="function"?ee:ee&&Object(at.a)(ee)==="object"&&ee.compare?ee.compare:!1}function io(ee,le){return le?ee[ee.indexOf(le)+1]:ee[0]}function Ns(ee,le,fe){var re=[];function Q(pe,ye){re.push({column:pe,key:Us(pe,ye),multiplePriority:Od(pe),sortOrder:pe.sortOrder})}return(ee||[]).forEach(function(pe,ye){var Te=fd(ye,fe);pe.children?("sortOrder"in pe&&Q(pe,Te),re=[].concat(Object(zt.a)(re),Object(zt.a)(Ns(pe.children,le,Te)))):pe.sorter&&("sortOrder"in pe?Q(pe,Te):le&&pe.defaultSortOrder&&re.push({column:pe,key:Us(pe,Te),multiplePriority:Od(pe),sortOrder:pe.defaultSortOrder}))}),re}function Pf(ee,le,fe,re,Q,pe,ye,Te){return(le||[]).map(function(Be,Ke){var lt=fd(Ke,Te),ot=Be;if(ot.sorter){var Tt=ot.sortDirections||Q,Ft=ot.showSorterTooltip===void 0?ye:ot.showSorterTooltip,sr=Us(ot,lt),ur=fe.find(function(Sn){var xi=Sn.key;return xi===sr}),tr=ur?ur.sortOrder:null,$t=io(Tt,tr),Vt=Tt.includes(Ph)&&se.createElement(cd,{className:st()("".concat(ee,"-column-sorter-up"),{active:tr===Ph})}),Qr=Tt.includes(tf)&&se.createElement(ud,{className:st()("".concat(ee,"-column-sorter-down"),{active:tr===tf})}),Bn=pe||{},wr=Bn.cancelSort,on=Bn.triggerAsc,jn=Bn.triggerDesc,fn=wr;$t===tf?fn=jn:$t===Ph&&(fn=on);var zr=Object(at.a)(Ft)==="object"?Ft:{title:fn};ot=Object(De.a)(Object(De.a)({},ot),{className:st()(ot.className,Object(we.a)({},"".concat(ee,"-column-sort"),tr)),title:function(xi){var mo=se.createElement("div",{className:"".concat(ee,"-column-sorters")},se.createElement("span",null,Np(Be.title,xi)),se.createElement("span",{className:st()("".concat(ee,"-column-sorter"),Object(we.a)({},"".concat(ee,"-column-sorter-full"),Vt&&Qr))},se.createElement("span",{className:"".concat(ee,"-column-sorter-inner")},Vt,Qr)));return Ft?se.createElement(no.a,zr,se.createElement("div",{className:"".concat(ee,"-column-sorters-with-tooltip")},mo)):mo},onHeaderCell:function(xi){var mo=Be.onHeaderCell&&Be.onHeaderCell(xi)||{},yi=mo.onClick;return mo.onClick=function(Ci){re({column:Be,key:sr,sortOrder:$t,multiplePriority:Od(Be)}),yi&&yi(Ci)},mo.className=st()(mo.className,"".concat(ee,"-column-has-sorters")),mo}})}return"children"in ot&&(ot=Object(De.a)(Object(De.a)({},ot),{children:Pf(ee,ot.children,fe,re,Q,pe,ye,lt)})),ot})}function Of(ee){var le=ee.column,fe=ee.sortOrder;return{column:le,order:fe,field:le.dataIndex,columnKey:le.key}}function Ku(ee){var le=ee.filter(function(fe){var re=fe.sortOrder;return re}).map(Of);return le.length===0&&ee.length?Object(De.a)(Object(De.a)({},Of(ee[ee.length-1])),{column:void 0}):le.length<=1?le[0]||{}:le}function Oh(ee,le,fe){var re=le.slice().sort(function(ye,Te){return Te.multiplePriority-ye.multiplePriority}),Q=ee.slice(),pe=re.filter(function(ye){var Te=ye.column.sorter,Be=ye.sortOrder;return Xu(Te)&&Be});return pe.length?Q.sort(function(ye,Te){for(var Be=0;Be<pe.length;Be+=1){var Ke=pe[Be],lt=Ke.column.sorter,ot=Ke.sortOrder,Tt=Xu(lt);if(Tt&&ot){var Ft=Tt(ye,Te,ot);if(Ft!==0)return ot===Ph?Ft:-Ft}}return 0}).map(function(ye){var Te=ye[fe];return Te?Object(De.a)(Object(De.a)({},ye),Object(we.a)({},fe,Oh(Te,le,fe))):ye}):Q}function Sp(ee){var le=ee.prefixCls,fe=ee.mergedColumns,re=ee.onSorterChange,Q=ee.sortDirections,pe=ee.tableLocale,ye=ee.showSorterTooltip,Te=se.useState(Ns(fe,!0)),Be=Object(tn.a)(Te,2),Ke=Be[0],lt=Be[1],ot=se.useMemo(function(){var tr=!0,$t=Ns(fe,!1);if(!$t.length)return Ke;var Vt=[];function Qr(wr){tr?Vt.push(wr):Vt.push(Object(De.a)(Object(De.a)({},wr),{sortOrder:null}))}var Bn=null;return $t.forEach(function(wr){Bn===null?(Qr(wr),wr.sortOrder&&(wr.multiplePriority===!1?tr=!1:Bn=!0)):(Bn&&wr.multiplePriority!==!1||(tr=!1),Qr(wr))}),Vt},[fe,Ke]),Tt=se.useMemo(function(){var tr=ot.map(function($t){var Vt=$t.column,Qr=$t.sortOrder;return{column:Vt,order:Qr}});return{sortColumns:tr,sortColumn:tr[0]&&tr[0].column,sortOrder:tr[0]&&tr[0].order}},[ot]);function Ft(tr){var $t;tr.multiplePriority===!1||!ot.length||ot[0].multiplePriority===!1?$t=[tr]:$t=[].concat(Object(zt.a)(ot.filter(function(Vt){var Qr=Vt.key;return Qr!==tr.key})),[tr]),lt($t),re(Ku($t),$t)}var sr=function($t){return Pf(le,$t,ot,Ft,Q,pe,ye)},ur=function(){return Ku(ot)};return[sr,ot,Tt,ur]}var Jf=U("Y+p1"),kh=U.n(Jf),Hh={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},ga=Hh,Zu=function(le,fe){return se.createElement(Qa.a,Object.assign({},le,{ref:fe,icon:ga}))};Zu.displayName="FilterFilled";var fl=se.forwardRef(Zu),Fc=U("ECub"),Ve=function(le){return se.createElement("div",{className:le.className,onClick:function(re){return re.stopPropagation()}},le.children)},Bc=Ve,lc=U("hkKa");function uc(ee){var le=se.useRef(ee),fe=Object(lc.a)();return[function(){return le.current},function(re){le.current=re,fe()}]}var fi=ac.a.SubMenu,Iu=ac.a.Item;function rf(ee){return ee.some(function(le){var fe=le.children;return fe})}function Mp(ee){var le=ee.filters,fe=ee.prefixCls,re=ee.filteredKeys,Q=ee.filterMultiple,pe=ee.locale;return le.length===0?se.createElement("div",{style:{margin:"16px 0"}},se.createElement(Fc.a,{image:Fc.a.PRESENTED_IMAGE_SIMPLE,description:pe.filterEmptyText,imageStyle:{height:24}})):le.map(function(ye,Te){var Be=String(ye.value);if(ye.children)return se.createElement(fi,{key:Be||Te,title:ye.text,popupClassName:"".concat(fe,"-dropdown-submenu")},Mp({filters:ye.children,prefixCls:fe,filteredKeys:re,filterMultiple:Q,locale:pe}));var Ke=Q?uh.a:bc.a;return se.createElement(Iu,{key:ye.value!==void 0?Be:Te},se.createElement(Ke,{checked:re.includes(Be)}),se.createElement("span",null,ye.text))})}function hd(ee){var le,fe=ee.prefixCls,re=ee.column,Q=ee.dropdownPrefixCls,pe=ee.columnKey,ye=ee.filterMultiple,Te=ee.filterState,Be=ee.triggerFilter,Ke=ee.locale,lt=ee.children,ot=ee.getPopupContainer,Tt=re.filterDropdownVisible,Ft=re.onFilterDropdownVisibleChange,sr=se.useState(!1),ur=Object(tn.a)(sr,2),tr=ur[0],$t=ur[1],Vt=!!(Te&&(((le=Te.filteredKeys)===null||le===void 0?void 0:le.length)||Te.forceFiltered)),Qr=function(sa){$t(sa),Ft&&Ft(sa)},Bn=typeof Tt=="boolean"?Tt:tr,wr=Te&&Te.filteredKeys,on=uc(wr||[]),jn=Object(tn.a)(on,2),fn=jn[0],zr=jn[1],Sn=function(sa){var Vs=sa.selectedKeys;zr(Vs)};se.useEffect(function(){Sn({selectedKeys:wr||[]})},[wr]);var xi=se.useState([]),mo=Object(tn.a)(xi,2),yi=mo[0],Ci=mo[1],aa=se.useRef(),ds=function(sa){aa.current=window.setTimeout(function(){Ci(sa)})},xa=function(){window.clearTimeout(aa.current)};se.useEffect(function(){return function(){window.clearTimeout(aa.current)}},[]);var ts=function(sa){var Vs=sa&&sa.length?sa:null;if(Vs===null&&(!Te||!Te.filteredKeys)||kh()(Vs,Te==null?void 0:Te.filteredKeys))return null;Be({column:re,key:pe,filteredKeys:Vs})},Ts=function(){Qr(!1),ts(fn())},ys=function(){zr([]),Qr(!1),ts([])},Wa=function(){var sa=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0};Qr(!sa.closeDropdown),ts(fn())},ps=function(sa){sa&&wr!==void 0&&zr(wr||[]),Qr(sa),!sa&&!re.filterDropdown&&Ts()},Hs=st()(Object(we.a)({},"".concat(Q,"-menu-without-submenu"),!rf(re.filters||[]))),qs;if(typeof re.filterDropdown=="function")qs=re.filterDropdown({prefixCls:"".concat(Q,"-custom"),setSelectedKeys:function(sa){return Sn({selectedKeys:sa})},selectedKeys:fn(),confirm:Wa,clearFilters:ys,filters:re.filters,visible:Bn});else if(re.filterDropdown)qs=re.filterDropdown;else{var rl=fn()||[];qs=se.createElement(se.Fragment,null,se.createElement(ac.a,{multiple:ye,prefixCls:"".concat(Q,"-menu"),className:Hs,onClick:xa,onSelect:Sn,onDeselect:Sn,selectedKeys:rl,getPopupContainer:ot,openKeys:yi,onOpenChange:ds},Mp({filters:re.filters||[],prefixCls:fe,filteredKeys:fn(),filterMultiple:ye,locale:Ke})),se.createElement("div",{className:"".concat(fe,"-dropdown-btns")},se.createElement(Di.a,{type:"link",size:"small",disabled:rl.length===0,onClick:ys},Ke.filterReset),se.createElement(Di.a,{type:"primary",size:"small",onClick:Ts},Ke.filterConfirm)))}var na=se.createElement(Bc,{className:"".concat(fe,"-dropdown")},qs),_s;typeof re.filterIcon=="function"?_s=re.filterIcon(Vt):re.filterIcon?_s=re.filterIcon:_s=se.createElement(fl,null);var Fl=se.useContext(Vr.b),Tl=Fl.direction;return se.createElement("div",{className:st()("".concat(fe,"-column"))},se.createElement("span",{className:"".concat(fe,"-column-title")},lt),se.createElement("span",{className:st()("".concat(fe,"-trigger-container"),Object(we.a)({},"".concat(fe,"-trigger-container-open"),Bn)),onClick:function(sa){sa.stopPropagation()}},se.createElement(gc.a,{overlay:na,trigger:["click"],visible:Bn,onVisibleChange:ps,getPopupContainer:ot,placement:Tl==="rtl"?"bottomLeft":"bottomRight"},se.createElement("span",{role:"button",tabIndex:-1,className:st()("".concat(fe,"-trigger"),{active:Vt})},_s))))}var Rd=hd;function xl(ee,le,fe){var re=[];return(ee||[]).forEach(function(Q,pe){var ye,Te=fd(pe,fe);if("children"in Q)re=[].concat(Object(zt.a)(re),Object(zt.a)(xl(Q.children,le,Te)));else if(Q.filters||"filterDropdown"in Q||"onFilter"in Q)if("filteredValue"in Q){var Be=Q.filteredValue;"filterDropdown"in Q||(Be=(ye=Be==null?void 0:Be.map(String))!==null&&ye!==void 0?ye:Be),re.push({column:Q,key:Us(Q,Te),filteredKeys:Be,forceFiltered:Q.filtered})}else re.push({column:Q,key:Us(Q,Te),filteredKeys:le&&Q.defaultFilteredValue?Q.defaultFilteredValue:void 0,forceFiltered:Q.filtered})}),re}function Qf(ee,le,fe,re,Q,pe,ye,Te){return fe.map(function(Be,Ke){var lt=fd(Ke,Te),ot=Be.filterMultiple,Tt=ot===void 0?!0:ot,Ft=Be;if(Ft.filters||Ft.filterDropdown){var sr=Us(Ft,lt),ur=re.find(function(tr){var $t=tr.key;return sr===$t});Ft=Object(De.a)(Object(De.a)({},Ft),{title:function($t){return se.createElement(Rd,{prefixCls:"".concat(ee,"-filter"),dropdownPrefixCls:le,column:Ft,columnKey:sr,filterState:ur,filterMultiple:Tt,triggerFilter:Q,locale:ye,getPopupContainer:pe},Np(Be.title,$t))}})}return"children"in Ft&&(Ft=Object(De.a)(Object(De.a)({},Ft),{children:Qf(ee,le,Ft.children,re,Q,pe,ye,lt)})),Ft})}function Vh(ee){var le=[];return(ee||[]).forEach(function(fe){var re=fe.value,Q=fe.children;le.push(re),Q&&(le=[].concat(Object(zt.a)(le),Object(zt.a)(Vh(Q))))}),le}function Wh(ee){var le={};return ee.forEach(function(fe){var re=fe.key,Q=fe.filteredKeys,pe=fe.column,ye=pe.filters,Te=pe.filterDropdown;if(Te)le[re]=Q||null;else if(Array.isArray(Q)){var Be=Vh(ye);le[re]=Be.filter(function(Ke){return Q.includes(String(Ke))})}else le[re]=null}),le}function qf(ee,le){return le.reduce(function(fe,re){var Q=re.column,pe=Q.onFilter,ye=Q.filters,Te=re.filteredKeys;return pe&&Te&&Te.length?fe.filter(function(Be){return Te.some(function(Ke){var lt=Vh(ye),ot=lt.findIndex(function(Ft){return String(Ft)===String(Ke)}),Tt=ot!==-1?lt[ot]:Ke;return pe(Tt,Be)})}):fe},ee)}function dd(ee){var le=ee.prefixCls,fe=ee.dropdownPrefixCls,re=ee.mergedColumns,Q=ee.onFilterChange,pe=ee.getPopupContainer,ye=ee.locale,Te=se.useState(xl(re,!0)),Be=Object(tn.a)(Te,2),Ke=Be[0],lt=Be[1],ot=se.useMemo(function(){var ur=xl(re,!1);return ur.every(function(tr){var $t=tr.filteredKeys;return $t===void 0})?Ke:ur},[re,Ke]),Tt=se.useCallback(function(){return Wh(ot)},[ot]),Ft=function(tr){var $t=ot.filter(function(Vt){var Qr=Vt.key;return Qr!==tr.key});$t.push(tr),lt($t),Q(Wh($t),$t)},sr=function(tr){return Qf(le,fe,tr,ot,Ft,pe,ye)};return[sr,ot,Tt]}var jc=dd;function oe(ee,le){return ee.map(function(fe){var re=Object(De.a)({},fe);return re.title=Np(fe.title,le),"children"in re&&(re.children=oe(re.children,le)),re})}function te(ee){var le=se.useCallback(function(fe){return oe(fe,ee)},[ee]);return[le]}function ce(ee){return function(fe){var re,Q=fe.prefixCls,pe=fe.onExpand,ye=fe.record,Te=fe.expanded,Be=fe.expandable,Ke="".concat(Q,"-row-expand-icon");return se.createElement("button",{type:"button",onClick:function(ot){pe(ye,ot),ot.stopPropagation()},className:st()(Ke,(re={},Object(we.a)(re,"".concat(Ke,"-spaced"),!Be),Object(we.a)(re,"".concat(Ke,"-expanded"),Be&&Te),Object(we.a)(re,"".concat(Ke,"-collapsed"),Be&&!Te),re)),"aria-label":Te?ee.collapse:ee.expand})}}var Se=ce,Ye=U("wgJM");function Ct(ee){return ee!=null&&ee===ee.window}function _t(ee,le){if(typeof window=="undefined")return 0;var fe=le?"scrollTop":"scrollLeft",re=0;return Ct(ee)?re=ee[le?"pageYOffset":"pageXOffset"]:ee instanceof Document?re=ee.documentElement[fe]:ee&&(re=ee[fe]),ee&&!Ct(ee)&&typeof re!="number"&&(re=(ee.ownerDocument||ee).documentElement[fe]),re}function Nr(ee,le,fe,re){var Q=fe-le;return ee/=re/2,ee<1?Q/2*ee*ee*ee+le:Q/2*((ee-=2)*ee*ee+2)+le}function yr(ee){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},fe=le.getContainer,re=fe===void 0?function(){return window}:fe,Q=le.callback,pe=le.duration,ye=pe===void 0?450:pe,Te=re(),Be=_t(Te,!0),Ke=Date.now(),lt=function ot(){var Tt=Date.now(),Ft=Tt-Ke,sr=Nr(Ft>ye?ye:Ft,Be,ee,ye);Ct(Te)?Te.scrollTo(window.pageXOffset,sr):Te instanceof HTMLDocument||Te.constructor.name==="HTMLDocument"?Te.documentElement.scrollTop=sr:Te.scrollTop=sr,Ft<ye?Object(Ye.a)(ot):typeof Q=="function"&&Q()};Object(Ye.a)(lt)}var ln=U("D7Yy"),ni=U("3Nzz");function Oi(ee){return null}var Ki=Oi;function Bi(ee){return null}var Ri=Bi,ma=[];function ra(ee){var le,fe=ee.prefixCls,re=ee.className,Q=ee.style,pe=ee.size,ye=ee.bordered,Te=ee.dropdownPrefixCls,Be=ee.dataSource,Ke=ee.pagination,lt=ee.rowSelection,ot=ee.rowKey,Tt=ee.rowClassName,Ft=ee.columns,sr=ee.children,ur=ee.childrenColumnName,tr=ee.onChange,$t=ee.getPopupContainer,Vt=ee.loading,Qr=ee.expandIcon,Bn=ee.expandable,wr=ee.expandedRowRender,on=ee.expandIconColumnIndex,jn=ee.indentSize,fn=ee.scroll,zr=ee.sortDirections,Sn=ee.locale,xi=ee.showSorterTooltip,mo=xi===void 0?!0:xi;Object(xo.a)(!(typeof ot=="function"&&ot.length>1),"Table","`index` parameter of `rowKey` function is deprecated. There is no guarantee that it will work as expected.");var yi=Object(Mn.a)(),Ci=se.useMemo(function(){var rs=new Set(Object.keys(yi).filter(function(vs){return yi[vs]}));return(Ft||If(sr)).filter(function(vs){return!vs.responsive||vs.responsive.some(function(Wl){return rs.has(Wl)})})},[sr,Ft,yi]),aa=Object(Xt.a)(ee,["className","style","columns"]),ds=se.useContext(ni.b),xa=se.useContext(Vr.b),ts=xa.locale,Ts=ts===void 0?ln.a:ts,ys=xa.renderEmpty,Wa=xa.direction,ps=pe||ds,Hs=Object(De.a)(Object(De.a)({},Ts.Table),Sn),qs=Be||ma,rl=se.useContext(Vr.b),na=rl.getPrefixCls,_s=na("table",fe),Fl=na("dropdown",Te),Tl=Object(De.a)({childrenColumnName:ur,expandIconColumnIndex:on},Bn),kl=Tl.childrenColumnName,sa=kl===void 0?"children":kl,Vs=se.useMemo(function(){return qs.some(function(rs){var vs;return(vs=rs)===null||vs===void 0?void 0:vs[sa]})?"nest":wr||Bn&&Bn.expandedRowRender?"row":null},[qs]),nl={body:se.useRef()},yu=se.useMemo(function(){return typeof ot=="function"?ot:function(rs){var vs;return(vs=rs)===null||vs===void 0?void 0:vs[ot]}},[ot]),il=Bu(qs,sa,yu),Qo=Object(tn.a)(il,1),xu=Qo[0],Ao={},No=function(vs,Wl){var Cd=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,hc=Object(De.a)(Object(De.a)({},Ao),vs);Cd&&(Ao.resetPagination(),hc.pagination.current&&(hc.pagination.current=1),Ke&&Ke.onChange&&Ke.onChange(1,hc.pagination.pageSize)),fn&&fn.scrollToFirstRowOnChange!==!1&&nl.body.current&&yr(0,{getContainer:function(){return nl.body.current}}),tr&&tr(hc.pagination,hc.filters,hc.sorter,{currentDataSource:qf(Oh(qs,hc.sorterStates,sa),hc.filterStates),action:Wl})},ms=function(vs,Wl){No({sorter:vs,sorterStates:Wl},"sort",!1)},Is=Sp({prefixCls:_s,mergedColumns:Ci,onSorterChange:ms,sortDirections:zr||["ascend","descend"],tableLocale:Hs,showSorterTooltip:mo}),$s=Object(tn.a)(Is,4),el=$s[0],Mc=$s[1],Af=$s[2],ip=$s[3],Cl=se.useMemo(function(){return Oh(qs,Mc,sa)},[qs,Mc]);Ao.sorter=ip(),Ao.sorterStates=Mc;var Nf=function(vs,Wl){No({filters:vs,filterStates:Wl},"filter",!0)},Ff=jc({prefixCls:_s,locale:Hs,dropdownPrefixCls:Fl,mergedColumns:Ci,onFilterChange:Nf,getPopupContainer:$t}),gd=Object(tn.a)(Ff,3),sf=gd[0],fc=gd[1],hp=gd[2],Bs=qf(Cl,fc);Ao.filters=hp(),Ao.filterStates=fc;var Hl=se.useMemo(function(){return Object(De.a)({},Af)},[Af]),Vl=te(Hl),Ws=Object(tn.a)(Vl,1),Al=Ws[0],Cu=function(vs,Wl){No({pagination:Object(De.a)(Object(De.a)({},Ao.pagination),{current:vs,pageSize:Wl})},"paginate")},_l=Yu(Bs.length,Ke,Cu),tu=Object(tn.a)(_l,2),ol=tu[0],kc=tu[1];Ao.pagination=Ke===!1?{}:Uo(Ke,ol),Ao.resetPagination=kc;var Yh=se.useMemo(function(){if(Ke===!1||!ol.pageSize)return Bs;var rs=ol.current,vs=rs===void 0?1:rs,Wl=ol.total,Cd=ol.pageSize,hc=Cd===void 0?cs:Cd;return Bs.length<Wl?Bs.length>hc?(Object(xo.a)(!1,"Table","`dataSource` length is less than `pagination.total` but large than `pagination.pageSize`. Please make sure your config correct data with async mode."),Bs.slice((vs-1)*hc,vs*hc)):Bs:Bs.slice((vs-1)*hc,vs*hc)},[!!Ke,Bs,ol&&ol.current,ol&&ol.pageSize,ol&&ol.total]),dp=Id(lt,{prefixCls:_s,data:Bs,pageData:Yh,getRowKey:yu,getRecordByKey:xu,expandType:Vs,childrenColumnName:sa,locale:Hs,expandIconColumnIndex:Tl.expandIconColumnIndex,getPopupContainer:$t}),jd=Object(tn.a)(dp,2),Xh=jd[0],vh=jd[1],Ec=function(vs,Wl,Cd){var hc;return typeof Tt=="function"?hc=st()(Tt(vs,Wl,Cd)):hc=st()(Tt),st()(Object(we.a)({},"".concat(_s,"-row-selected"),vh.has(yu(vs,Wl))),hc)};Tl.__PARENT_RENDER_ICON__=Tl.expandIcon,Tl.expandIcon=Tl.expandIcon||Qr||Se(Hs),Vs==="nest"&&Tl.expandIconColumnIndex===void 0?Tl.expandIconColumnIndex=lt?1:0:Tl.expandIconColumnIndex>0&&lt&&(Tl.expandIconColumnIndex-=1),typeof Tl.indentSize!="number"&&(Tl.indentSize=typeof jn=="number"?jn:15);var Kh=se.useCallback(function(rs){return Al(Xh(sf(el(rs))))},[el,sf,Xh]),Hc,Zh;if(Ke!==!1&&(ol==null?void 0:ol.total)){var lf;ol.size?lf=ol.size:lf=ps==="small"||ps==="middle"?"small":void 0;var gh=function(vs){return se.createElement(Ka,Object(De.a)({className:"".concat(_s,"-pagination ").concat(_s,"-pagination-").concat(vs)},ol,{size:lf}))},pp=Wa==="rtl"?"left":"right",op=ol.position;if(op!==null&&Array.isArray(op)){var _p=op.find(function(rs){return rs.indexOf("top")!==-1}),zd=op.find(function(rs){return rs.indexOf("bottom")!==-1}),yd=op.every(function(rs){return"".concat(rs)==="none"});!_p&&!zd&&!yd&&(Zh=gh(pp)),_p&&(Hc=gh(_p.toLowerCase().replace("top",""))),zd&&(Zh=gh(zd.toLowerCase().replace("bottom","")))}else Zh=gh(pp)}var Jh;typeof Vt=="boolean"?Jh={spinning:Vt}:Object(at.a)(Vt)==="object"&&(Jh=Object(De.a)({spinning:!0},Vt));var xd=st()("".concat(_s,"-wrapper"),Object(we.a)({},"".concat(_s,"-wrapper-rtl"),Wa==="rtl"),re);return se.createElement("div",{className:xd,style:Q},se.createElement(mr.a,Object(De.a)({spinning:!1},Jh),Hc,se.createElement(yt,Object(De.a)({},aa,{columns:Ci,direction:Wa,expandable:Tl,prefixCls:_s,className:st()((le={},Object(we.a)(le,"".concat(_s,"-middle"),ps==="middle"),Object(we.a)(le,"".concat(_s,"-small"),ps==="small"),Object(we.a)(le,"".concat(_s,"-bordered"),ye),Object(we.a)(le,"".concat(_s,"-empty"),qs.length===0),le)),data:Yh,rowKey:yu,rowClassName:Ec,emptyText:Sn&&Sn.emptyText||ys("Table"),internalHooks:Le,internalRefs:nl,transformColumns:Kh})),Zh))}ra.defaultProps={rowKey:"key"},ra.SELECTION_ALL=sc,ra.SELECTION_INVERT=_d,ra.SELECTION_NONE=eu,ra.Column=Ki,ra.ColumnGroup=Ri,ra.Summary=Uh;var Fs=ra,fu=Fs,Zs=U("oBTY"),_a=U("fWQN"),ku=U("mtLc"),zc=U("yKVA"),hu=U("879j"),Na=U("jrin"),Va=U("PpiC"),Rf=U("Znn+"),Hu=U("ZTPi"),Vu=U("GNNt"),Ju=U("wEI+"),yc=U("1GLa"),Zl=U("TLLU"),nf=U("YSkC"),du=U("BGR+"),xf=U("jryo"),Su=function(le){var fe=le.style,re=le.prefix;return Re.a.createElement("div",{className:"".concat(re,"-loading-content"),style:fe},Re.a.createElement(Oe.a,{gutter:8},Re.a.createElement(K.a,{span:22},Re.a.createElement("div",{className:"".concat(re,"-loading-block")}))),Re.a.createElement(Oe.a,{gutter:8},Re.a.createElement(K.a,{span:8},Re.a.createElement("div",{className:"".concat(re,"-loading-block")})),Re.a.createElement(K.a,{span:15},Re.a.createElement("div",{className:"".concat(re,"-loading-block")}))),Re.a.createElement(Oe.a,{gutter:8},Re.a.createElement(K.a,{span:6},Re.a.createElement("div",{className:"".concat(re,"-loading-block")})),Re.a.createElement(K.a,{span:18},Re.a.createElement("div",{className:"".concat(re,"-loading-block")}))),Re.a.createElement(Oe.a,{gutter:8},Re.a.createElement(K.a,{span:13},Re.a.createElement("div",{className:"".concat(re,"-loading-block")})),Re.a.createElement(K.a,{span:9},Re.a.createElement("div",{className:"".concat(re,"-loading-block")}))),Re.a.createElement(Oe.a,{gutter:8},Re.a.createElement(K.a,{span:4},Re.a.createElement("div",{className:"".concat(re,"-loading-block")})),Re.a.createElement(K.a,{span:3},Re.a.createElement("div",{className:"".concat(re,"-loading-block")})),Re.a.createElement(K.a,{span:16},Re.a.createElement("div",{className:"".concat(re,"-loading-block")}))))},pu=Su,ch=U("u1OI");function $f(ee,le,fe){return le in ee?Object.defineProperty(ee,le,{value:fe,enumerable:!0,configurable:!0,writable:!0}):ee[le]=fe,ee}var To=function(le){var fe=Object(se.useContext)(Ju.b.ConfigContext),re=fe.getPrefixCls,Q=re("pro-card-divider"),pe=le.className,ye=le.style,Te=ye===void 0?{}:ye,Be=le.children,Ke=st()(Q,pe,$f({},"".concat(Q,"-line"),Be===void 0));return Re.a.createElement("div",{className:Ke,style:Te},Be)},Li=To,Zi=U("VzZb");function Io(){return Io=Object.assign||function(ee){for(var le=1;le<arguments.length;le++){var fe=arguments[le];for(var re in fe)Object.prototype.hasOwnProperty.call(fe,re)&&(ee[re]=fe[re])}return ee},Io.apply(this,arguments)}function _i(ee,le){if(ee==null)return{};var fe=Co(ee,le),re,Q;if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(ee);for(Q=0;Q<pe.length;Q++)re=pe[Q],!(le.indexOf(re)>=0)&&(!Object.prototype.propertyIsEnumerable.call(ee,re)||(fe[re]=ee[re]))}return fe}function Co(ee,le){if(ee==null)return{};var fe={},re=Object.keys(ee),Q,pe;for(pe=0;pe<re.length;pe++)Q=re[pe],!(le.indexOf(Q)>=0)&&(fe[Q]=ee[Q]);return fe}var hs=function(le){var fe=le.key,re=le.tab,Q=le.tabKey,pe=le.disabled,ye=le.destroyInactiveTabPane,Te=le.children,Be=le.className,Ke=le.style,lt=le.cardProps,ot=_i(le,["key","tab","tabKey","disabled","destroyInactiveTabPane","children","className","style","cardProps"]),Tt=Object(se.useContext)(Ju.b.ConfigContext),Ft=Tt.getPrefixCls,sr=Ft("pro-card-tabpane"),ur=st()(sr,Be);return Re.a.createElement(Hu.a.TabPane,Io({key:fe,tabKey:Q,tab:re,className:ur,style:Ke,disabled:pe,destroyInactiveTabPane:ye},ot),Re.a.createElement(vu,lt,Te))},mu=hs,ks=U("S76h"),Pu=function(le){var fe=le.actions,re=le.prefixCls;return fe&&fe.length?Re.a.createElement("ul",{className:"".concat(re,"-actions")},fe.map(function(Q,pe){return Re.a.createElement("li",{style:{width:"".concat(100/fe.length,"%")},key:"action-".concat(pe)},Re.a.createElement("span",null,Q))})):null},ya=Pu,Do=U("lRSW");function cc(){return cc=Object.assign||function(ee){for(var le=1;le<arguments.length;le++){var fe=arguments[le];for(var re in fe)Object.prototype.hasOwnProperty.call(fe,re)&&(ee[re]=fe[re])}return ee},cc.apply(this,arguments)}function hl(ee,le){var fe=Object.keys(ee);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(ee);le&&(re=re.filter(function(Q){return Object.getOwnPropertyDescriptor(ee,Q).enumerable})),fe.push.apply(fe,re)}return fe}function dl(ee){for(var le=1;le<arguments.length;le++){var fe=arguments[le]!=null?arguments[le]:{};le%2?hl(Object(fe),!0).forEach(function(re){Ms(ee,re,fe[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(fe)):hl(Object(fe)).forEach(function(re){Object.defineProperty(ee,re,Object.getOwnPropertyDescriptor(fe,re))})}return ee}function Ms(ee,le,fe){return le in ee?Object.defineProperty(ee,le,{value:fe,enumerable:!0,configurable:!0,writable:!0}):ee[le]=fe,ee}function Lf(ee){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lf=function(fe){return typeof fe}:Lf=function(fe){return fe&&typeof Symbol=="function"&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe},Lf(ee)}function Ou(ee,le){return of(ee)||fh(ee,le)||sp(ee,le)||Ru()}function Ru(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sp(ee,le){if(!!ee){if(typeof ee=="string")return Zp(ee,le);var fe=Object.prototype.toString.call(ee).slice(8,-1);if(fe==="Object"&&ee.constructor&&(fe=ee.constructor.name),fe==="Map"||fe==="Set")return Array.from(ee);if(fe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(fe))return Zp(ee,le)}}function Zp(ee,le){(le==null||le>ee.length)&&(le=ee.length);for(var fe=0,re=new Array(le);fe<le;fe++)re[fe]=ee[fe];return re}function fh(ee,le){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(ee)))){var fe=[],re=!0,Q=!1,pe=void 0;try{for(var ye=ee[Symbol.iterator](),Te;!(re=(Te=ye.next()).done)&&(fe.push(Te.value),!(le&&fe.length===le));re=!0);}catch(Be){Q=!0,pe=Be}finally{try{!re&&ye.return!=null&&ye.return()}finally{if(Q)throw pe}}return fe}}function of(ee){if(Array.isArray(ee))return ee}function Wu(ee,le){if(ee==null)return{};var fe=eh(ee,le),re,Q;if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(ee);for(Q=0;Q<pe.length;Q++)re=pe[Q],!(le.indexOf(re)>=0)&&(!Object.prototype.propertyIsEnumerable.call(ee,re)||(fe[re]=ee[re]))}return fe}function eh(ee,le){if(ee==null)return{};var fe={},re=Object.keys(ee),Q,pe;for(pe=0;pe<re.length;pe++)Q=re[pe],!(le.indexOf(Q)>=0)&&(fe[Q]=ee[Q]);return fe}var Uc=Zl.a.useBreakpoint,th=Re.a.forwardRef(function(ee,le){var fe,re,Q=ee.className,pe=ee.style,ye=ee.bodyStyle,Te=ye===void 0?{}:ye,Be=ee.headStyle,Ke=Be===void 0?{}:Be,lt=ee.title,ot=ee.subTitle,Tt=ee.extra,Ft=ee.tip,sr=ee.layout,ur=ee.loading,tr=ee.colSpan,$t=ee.gutter,Vt=$t===void 0?0:$t,Qr=ee.tooltip,Bn=ee.split,wr=ee.headerBordered,on=wr===void 0?!1:wr,jn=ee.bordered,fn=jn===void 0?!1:jn,zr=ee.children,Sn=ee.size,xi=ee.actions,mo=ee.ghost,yi=mo===void 0?!1:mo,Ci=ee.hoverable,aa=Ci===void 0?!1:Ci,ds=ee.direction,xa=ee.collapsed,ts=ee.collapsible,Ts=ts===void 0?!1:ts,ys=ee.defaultCollapsed,Wa=ys===void 0?!1:ys,ps=ee.onCollapse,Hs=ee.tabs,qs=ee.type,rl=Wu(ee,["className","style","bodyStyle","headStyle","title","subTitle","extra","tip","layout","loading","colSpan","gutter","tooltip","split","headerBordered","bordered","children","size","actions","ghost","hoverable","direction","collapsed","collapsible","defaultCollapsed","onCollapse","tabs","type"]),na=Object(se.useContext)(Ju.b.ConfigContext),_s=na.getPrefixCls,Fl=Uc(),Tl=Object(yf.a)(Wa,{value:xa,onChange:ps}),kl=Ou(Tl,2),sa=kl[0],Vs=kl[1],nl=["xxl","xl","lg","md","sm","xs"],yu=function(Hl){var Vl=[0,0],Ws=Array.isArray(Hl)?Hl:[Hl,0];return Ws.forEach(function(Al,Cu){if(Lf(Al)==="object")for(var _l=0;_l<nl.length;_l+=1){var tu=nl[_l];if(Fl[tu]&&Al[tu]!==void 0){Vl[Cu]=Al[tu];break}}else Vl[Cu]=Al||0}),Vl},il=function(Hl,Vl){return Hl?Vl:{}},Qo=_s("pro-card"),xu=yu(Vt),Ao,No=Re.a.Children.toArray(zr),ms=No.map(function(Bs,Hl){var Vl;if(Bs==null||(Vl=Bs.type)===null||Vl===void 0?void 0:Vl.isProCard){var Ws;Ao=!0;var Al=il(xu[0]>0&&Hl!==No.length-1,{marginRight:xu[0]}),Cu=il(xu[1]>0,{marginBottom:xu[1]}),_l=il(Bn==="vertical"||Bn==="horizontal",{borderRadius:0});return Re.a.cloneElement(Bs,{className:st()(Bs.props.className,(Ws={},Ms(Ws,"".concat(Qo,"-split-vertical"),Bn==="vertical"&&Hl!==No.length-1),Ms(Ws,"".concat(Qo,"-split-horizontal"),Bn==="horizontal"&&Hl!==No.length-1),Ws)),style:dl(dl(dl(dl({},Al),Cu),_l),Bs.props.style)})}return Bs}),Is=tr;if(Lf(tr)==="object")for(var $s=0;$s<nl.length;$s+=1){var el=nl[$s];if(Fl[el]&&tr[el]!==void 0){Is=tr[el];break}}var Mc=il(typeof Is=="string"&&/\d%|\dpx/i.test(Is),{width:Is,flexShrink:0}),Af=dl(dl({},Mc),pe),ip=st()("".concat(Qo),Q,(fe={},Ms(fe,"".concat(Qo,"-span-").concat(Is),typeof Is=="number"&&Is>=0&&Is<=24),Ms(fe,"".concat(Qo,"-border"),fn),Ms(fe,"".concat(Qo,"-contain-card"),Ao),Ms(fe,"".concat(Qo,"-loading"),ur),Ms(fe,"".concat(Qo,"-split"),Bn==="vertical"||Bn==="horizontal"),Ms(fe,"".concat(Qo,"-ghost"),yi),Ms(fe,"".concat(Qo,"-hoverable"),aa),Ms(fe,"".concat(Qo,"-size-").concat(Sn),Sn),Ms(fe,"".concat(Qo,"-type-").concat(qs),qs),Ms(fe,"".concat(Qo,"-collapse"),sa),fe)),Cl=st()("".concat(Qo,"-header"),Ms({},"".concat(Qo,"-header-border"),on||qs==="inner")),Nf=st()("".concat(Qo,"-body"),(re={},Ms(re,"".concat(Qo,"-body-center"),sr==="center"),Ms(re,"".concat(Qo,"-body-column"),Bn==="horizontal"||ds==="column"),re)),Ff=Te.padding===0||Te.padding==="0px"?{padding:24}:void 0,gd=Re.a.isValidElement(ur)?ur:Re.a.createElement(pu,{prefix:Qo,style:Ff}),sf=Ts&&xa===void 0&&Re.a.createElement(Da.a,{rotate:sa?void 0:90,className:"".concat(Qo,"-collapsible-icon")}),fc=st()("".concat(Qo,"-title"),Ms({},"".concat(Qo,"-title-collapsible"),sf)),hp=Re.a.createElement(ya,{actions:xi,prefixCls:Qo});return Re.a.createElement("div",cc({className:ip,style:Af,ref:le},Object(du.a)(rl,["id","prefixCls"])),(lt||Tt||sf)&&Re.a.createElement("div",{className:Cl,style:Ke},Re.a.createElement("div",{className:fc,onClick:function(){sf&&Vs(!sa)}},sf,Re.a.createElement(nf.a,{label:lt,tooltip:Qr||Ft,subTitle:ot})),Re.a.createElement("div",{className:"".concat(Qo,"-extra")},Tt)),Hs?Re.a.createElement("div",{className:"".concat(Qo,"-tabs")},Re.a.createElement(Hu.a,cc({onChange:Hs.onChange},Hs),ur?gd:zr)):Re.a.createElement("div",{className:Nf,style:Te},ur?gd:ms),hp)}),Js=function(le){return Re.a.createElement(th,cc({bodyStyle:{padding:0}},le))};th.isProCard=!0,th.TabPane=mu,th.Divider=Li,th.Group=Js;var vu=th,Kn=U("/s86"),lp=U("/MfK"),Qs=U("LvDl");function hh(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"\u5317\u4EAC",le=arguments.length>1?arguments[1]:void 0,fe=arguments.length>2?arguments[2]:void 0,re=new BMapGL.LocalSearch(ee,fe);re.search(le)}function Ld(ee,le,fe){function re(Q){var pe=Q._pois,ye=[];pe.forEach(function(Te){ye.push({key:Te.uid,name:Te.title,lng:Te.point.lng,lat:Te.point.lat})}),fe(ye)}hh(ee,le,{onSearchComplete:re})}function Rh(){return Math.random().toString(36).slice(-8)}var up=wi.a.Option,Dd=function(ee){Object(zc.a)(fe,ee);var le=Object(hu.a)(fe);function fe(re){var Q;Object(_a.a)(this,fe),Q=le.call(this,re),Q.handleSearch=function(Be){if(Be)try{var Ke=Q.props.priorSearchCity.arr,lt=Ke[Ke.length-1];Ld(lt,Be,function(ot){ot.length>0&&Q.setState({searchResult:ot})})}catch(ot){console.log("Search failed:",ot)}else Q.setState({searchResult:[]})},Q.throttledSearch=Object(Qs.throttle)(Q.handleSearch,1e3,{leading:!0,trailing:!0}),Q.handleChange=function(Be,Ke){for(var lt=Object(Zs.a)(Q.state.searchResult),ot=0;ot<lt.length;ot+=1){var Tt=lt[ot];if(Tt.key===Ke.key){Q.setState({pointData:Tt});return}}},Q.handleBlur=Object(Yl.a)(un.a.mark(function Be(){return un.a.wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:return lt.next=2,Q.props.saveSearchResult(Q.state.pointData);case 2:case"end":return lt.stop()}},Be)}));var pe=Q.props.record,ye=pe.demand,Te=Object(Va.a)(pe,["demand"]);return Q.state={pointData:Te,searchResult:[]},Q}return Object(ku.a)(fe,[{key:"componentWillUnmount",value:function(){this.throttledSearch.cancel()}},{key:"render",value:function(){var Q=this.state.searchResult.map(function(pe){return Object(Mt.jsx)(up,{value:pe.name,"data-inspector-line":"76","data-inspector-column":"74","data-inspector-relative-path":"src\\\\components\\\\SearchInput\\\\index.tsx",children:pe.name},pe.key)});return Object(Mt.jsx)(wi.a,{showSearch:!0,autoFocus:!0,value:this.state.pointData.name,placeholder:"input search text",style:{width:"100%"},defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,onSearch:this.throttledSearch,onChange:this.handleChange,onBlur:this.handleBlur,"data-inspector-line":"79","data-inspector-column":"6","data-inspector-relative-path":"src\\\\components\\\\SearchInput\\\\index.tsx",children:Q})}}]),fe}(Re.a.Component),Sc=Dd,Dv=U("v56E"),cp=U("5NDa"),Jp=U("uciX"),Gh=U("2W6z"),Qp=U.n(Gh),Es=U("4IlW"),pd=U("uK0f"),Lh=U.n(pd);function md(ee,le){if(ee===le)return!0;if(!ee||!le)return!1;var fe=ee.length;if(le.length!==fe)return!1;for(var re=0;re<fe;re++)if(ee[re]!==le[re])return!1;return!0}var qp=function(ee){Object(Nn.a)(fe,ee);var le=Object(So.a)(fe);function fe(){var re;return Object(Kr.a)(this,fe),re=le.apply(this,arguments),re.menuItems={},re.saveMenuItem=function(Q){return function(pe){re.menuItems[Q]=pe}},re}return Object(ai.a)(fe,[{key:"componentDidMount",value:function(){this.scrollActiveItemToView()}},{key:"componentDidUpdate",value:function(Q){!Q.visible&&this.props.visible&&this.scrollActiveItemToView()}},{key:"getFieldName",value:function(Q){var pe=this.props,ye=pe.fieldNames,Te=pe.defaultFieldNames;return ye[Q]||Te[Q]}},{key:"getOption",value:function(Q,pe){var ye=this.props,Te=ye.prefixCls,Be=ye.expandTrigger,Ke=ye.expandIcon,lt=ye.loadingIcon,ot=this.props.onSelect.bind(this,Q,pe),Tt=this.props.onItemDoubleClick.bind(this,Q,pe),Ft={onClick:ot,onDoubleClick:Tt},sr="".concat(Te,"-menu-item"),ur=null,tr=Q[this.getFieldName("children")]&&Q[this.getFieldName("children")].length>0;(tr||Q.isLeaf===!1)&&(sr+=" ".concat(Te,"-menu-item-expand"),Q.loading||(ur=se.createElement("span",{className:"".concat(Te,"-menu-item-expand-icon")},Ke))),Be==="hover"&&(tr||Q.isLeaf===!1)&&(Ft={onMouseEnter:this.delayOnSelect.bind(this,ot),onMouseLeave:this.delayOnSelect.bind(this),onClick:ot}),this.isActiveOption(Q,pe)&&(sr+=" ".concat(Te,"-menu-item-active"),Ft.ref=this.saveMenuItem(pe)),Q.disabled&&(sr+=" ".concat(Te,"-menu-item-disabled"));var $t=null;Q.loading&&(sr+=" ".concat(Te,"-menu-item-loading"),$t=lt||null);var Vt="";return"title"in Q?Vt=Q.title:typeof Q[this.getFieldName("label")]=="string"&&(Vt=Q[this.getFieldName("label")]),se.createElement("li",Object.assign({key:Q[this.getFieldName("value")],className:sr,title:Vt},Ft,{role:"menuitem",onMouseDown:function(Bn){return Bn.preventDefault()}}),Q[this.getFieldName("label")],ur,$t)}},{key:"getActiveOptions",value:function(Q){var pe=this,ye=this.props.options,Te=Q||this.props.activeValue;return Lh()(ye,function(Be,Ke){return Be[pe.getFieldName("value")]===Te[Ke]},{childrenKeyName:this.getFieldName("children")})}},{key:"getShowOptions",value:function(){var Q=this,pe=this.props.options,ye=this.getActiveOptions().map(function(Te){return Te[Q.getFieldName("children")]}).filter(function(Te){return!!Te});return ye.unshift(pe),ye}},{key:"delayOnSelect",value:function(Q){for(var pe=this,ye=arguments.length,Te=new Array(ye>1?ye-1:0),Be=1;Be<ye;Be++)Te[Be-1]=arguments[Be];this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null),typeof Q=="function"&&(this.delayTimer=window.setTimeout(function(){Q(Te),pe.delayTimer=null},150))}},{key:"scrollActiveItemToView",value:function(){for(var Q=this.getShowOptions().length,pe=0;pe<Q;pe++){var ye=this.menuItems[pe];ye&&ye.parentElement&&(ye.parentElement.scrollTop=ye.offsetTop)}}},{key:"isActiveOption",value:function(Q,pe){var ye=this.props.activeValue,Te=ye===void 0?[]:ye;return Te[pe]===Q[this.getFieldName("value")]}},{key:"render",value:function(){var Q=this,pe=this.props,ye=pe.prefixCls,Te=pe.dropdownMenuColumnStyle;return se.createElement("div",null,this.getShowOptions().map(function(Be,Ke){return se.createElement("ul",{className:"".concat(ye,"-menu"),key:Ke,style:Te},Be.map(function(lt){return Q.getOption(lt,Ke)}))}))}}]),fe}(se.Component);qp.defaultProps={options:[],value:[],activeValue:[],onSelect:function(){},prefixCls:"rc-cascader-menus",visible:!1,expandTrigger:"click"};var Fp=qp,$a={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}}},ov=$a,vm=function(ee){Object(Nn.a)(fe,ee);var le=Object(So.a)(fe);function fe(re){var Q;Object(Kr.a)(this,fe),Q=le.call(this,re),Q.setPopupVisible=function(ye){var Te=Q.state.value;"popupVisible"in Q.props||Q.setState({popupVisible:ye}),ye&&!Q.state.popupVisible&&Q.setState({activeValue:Te}),Q.props.onPopupVisibleChange(ye)},Q.handleChange=function(ye,Te,Be){var Ke=Te.visible;(Be.type!=="keydown"||Be.keyCode===Es.a.ENTER)&&(Q.props.onChange(ye.map(function(lt){return lt[Q.getFieldName("value")]}),ye),Q.setPopupVisible(Ke))},Q.handlePopupVisibleChange=function(ye){Q.setPopupVisible(ye)},Q.handleMenuSelect=function(ye,Te,Be){var Ke=Q.trigger.getRootDomNode();Ke&&Ke.focus&&Ke.focus();var lt=Q.props,ot=lt.changeOnSelect,Tt=lt.loadData,Ft=lt.expandTrigger;if(!(!ye||ye.disabled)){var sr=Q.state.activeValue;sr=sr.slice(0,Te+1),sr[Te]=ye[Q.getFieldName("value")];var ur=Q.getActiveOptions(sr);if(ye.isLeaf===!1&&!ye[Q.getFieldName("children")]&&Tt){ot&&Q.handleChange(ur,{visible:!0},Be),Q.setState({activeValue:sr}),Tt(ur);return}var tr={};!ye[Q.getFieldName("children")]||!ye[Q.getFieldName("children")].length?(Q.handleChange(ur,{visible:!1},Be),tr.value=sr):ot&&(Be.type==="click"||Be.type==="keydown")&&(Ft==="hover"?Q.handleChange(ur,{visible:!1},Be):Q.handleChange(ur,{visible:!0},Be),tr.value=sr),tr.activeValue=sr,("value"in Q.props||Be.type==="keydown"&&Be.keyCode!==Es.a.ENTER)&&delete tr.value,Q.setState(tr)}},Q.handleItemDoubleClick=function(){var ye=Q.props.changeOnSelect;ye&&Q.setPopupVisible(!1)},Q.handleKeyDown=function(ye){var Te=Q.props.children;if(Te&&Te.props.onKeyDown){Te.props.onKeyDown(ye);return}var Be=Object(zt.a)(Q.state.activeValue),Ke=Be.length-1<0?0:Be.length-1,lt=Q.getCurrentLevelOptions(),ot=lt.map(function(ur){return ur[Q.getFieldName("value")]}).indexOf(Be[Ke]);if(!(ye.keyCode!==Es.a.DOWN&&ye.keyCode!==Es.a.UP&&ye.keyCode!==Es.a.LEFT&&ye.keyCode!==Es.a.RIGHT&&ye.keyCode!==Es.a.ENTER&&ye.keyCode!==Es.a.SPACE&&ye.keyCode!==Es.a.BACKSPACE&&ye.keyCode!==Es.a.ESC&&ye.keyCode!==Es.a.TAB)){if(!Q.state.popupVisible&&ye.keyCode!==Es.a.BACKSPACE&&ye.keyCode!==Es.a.LEFT&&ye.keyCode!==Es.a.RIGHT&&ye.keyCode!==Es.a.ESC&&ye.keyCode!==Es.a.TAB){Q.setPopupVisible(!0),Q.props.onKeyDown&&Q.props.onKeyDown(ye);return}if(ye.keyCode===Es.a.DOWN||ye.keyCode===Es.a.UP){ye.preventDefault();var Tt=ot;Tt!==-1?ye.keyCode===Es.a.DOWN?(Tt+=1,Tt=Tt>=lt.length?0:Tt):(Tt-=1,Tt=Tt<0?lt.length-1:Tt):Tt=0,Be[Ke]=lt[Tt][Q.getFieldName("value")]}else if(ye.keyCode===Es.a.LEFT||ye.keyCode===Es.a.BACKSPACE)ye.preventDefault(),Be.splice(Be.length-1,1);else if(ye.keyCode===Es.a.RIGHT)ye.preventDefault(),lt[ot]&&lt[ot][Q.getFieldName("children")]&&Be.push(lt[ot][Q.getFieldName("children")][0][Q.getFieldName("value")]);else if(ye.keyCode===Es.a.ESC||ye.keyCode===Es.a.TAB){Q.setPopupVisible(!1),Q.props.onKeyDown&&Q.props.onKeyDown(ye);return}(!Be||Be.length===0)&&Q.setPopupVisible(!1);var Ft=Q.getActiveOptions(Be),sr=Ft[Ft.length-1];Q.handleMenuSelect(sr,Ft.length-1,ye),Q.props.onKeyDown&&Q.props.onKeyDown(ye)}},Q.saveTrigger=function(ye){Q.trigger=ye};var pe=[];return"value"in re?pe=re.value||[]:"defaultValue"in re&&(pe=re.defaultValue||[]),Qp()(!("filedNames"in re),"`filedNames` of Cascader is a typo usage and deprecated, please use `fieldNames` instead."),Q.state={popupVisible:re.popupVisible,activeValue:pe,value:pe,prevProps:re},Q.defaultFieldNames={label:"label",value:"value",children:"children"},Q}return Object(ai.a)(fe,[{key:"getPopupDOMNode",value:function(){return this.trigger.getPopupDomNode()}},{key:"getFieldName",value:function(Q){var pe=this.defaultFieldNames,ye=this.props,Te=ye.fieldNames,Be=ye.filedNames;return"filedNames"in this.props?Be[Q]||pe[Q]:Te[Q]||pe[Q]}},{key:"getFieldNames",value:function(){var Q=this.props,pe=Q.fieldNames,ye=Q.filedNames;return"filedNames"in this.props?ye:pe}},{key:"getCurrentLevelOptions",value:function(){var Q=this,pe=this.props.options,ye=pe===void 0?[]:pe,Te=this.state.activeValue,Be=Te===void 0?[]:Te,Ke=Lh()(ye,function(lt,ot){return lt[Q.getFieldName("value")]===Be[ot]},{childrenKeyName:this.getFieldName("children")});return Ke[Ke.length-2]?Ke[Ke.length-2][this.getFieldName("children")]:Object(zt.a)(ye).filter(function(lt){return!lt.disabled})}},{key:"getActiveOptions",value:function(Q){var pe=this;return Lh()(this.props.options||[],function(ye,Te){return ye[pe.getFieldName("value")]===Q[Te]},{childrenKeyName:this.getFieldName("children")})}},{key:"render",value:function(){var Q=this.props,pe=Q.prefixCls,ye=Q.transitionName,Te=Q.popupClassName,Be=Q.options,Ke=Be===void 0?[]:Be,lt=Q.disabled,ot=Q.builtinPlacements,Tt=Q.popupPlacement,Ft=Q.children,sr=Q.dropdownRender,ur=Object(Gn.a)(Q,["prefixCls","transitionName","popupClassName","options","disabled","builtinPlacements","popupPlacement","children","dropdownRender"]),tr=se.createElement("div",null),$t="";Ke&&Ke.length>0?tr=se.createElement(Fp,Object.assign({},this.props,{fieldNames:this.getFieldNames(),defaultFieldNames:this.defaultFieldNames,activeValue:this.state.activeValue,onSelect:this.handleMenuSelect,onItemDoubleClick:this.handleItemDoubleClick,visible:this.state.popupVisible})):$t=" ".concat(pe,"-menus-empty");var Vt=tr;return sr&&(Vt=sr(tr)),se.createElement(Jp.a,Object.assign({ref:this.saveTrigger},ur,{popupPlacement:Tt,builtinPlacements:ot,popupTransitionName:ye,action:lt?[]:["click"],popupVisible:lt?!1:this.state.popupVisible,onPopupVisibleChange:this.handlePopupVisibleChange,prefixCls:"".concat(pe,"-menus"),popupClassName:Te+$t,popup:Vt}),se.cloneElement(Ft,{onKeyDown:this.handleKeyDown,tabIndex:lt?void 0:0}))}}],[{key:"getDerivedStateFromProps",value:function(Q,pe){var ye=pe.prevProps,Te=ye===void 0?{}:ye,Be={prevProps:Q};return"value"in Q&&!md(Te.value,Q.value)&&(Be.value=Q.value||[],"loadData"in Q||(Be.activeValue=Q.value||[])),"popupVisible"in Q&&(Be.popupVisible=Q.popupVisible),Be}}]),fe}(se.Component);vm.defaultProps={onChange:function(){},onPopupVisibleChange:function(){},disabled:!1,transitionName:"",prefixCls:"rc-cascader",popupClassName:"",popupPlacement:"bottomLeft",builtinPlacements:ov,expandTrigger:"click",fieldNames:{label:"label",value:"value",children:"children"},expandIcon:">"};var jm=vm,$p=jm,mg=U("jN4g"),av={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"},dh=av,sv=function(le,fe){return se.createElement(Qa.a,Object.assign({},le,{ref:fe,icon:dh}))};sv.displayName="RedoOutlined";var Bp=se.forwardRef(sv),zm=U("5rEg"),vg=U("0n0R"),lv=function(ee,le){var fe={};for(var re in ee)Object.prototype.hasOwnProperty.call(ee,re)&&le.indexOf(re)<0&&(fe[re]=ee[re]);if(ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Q=0,re=Object.getOwnPropertySymbols(ee);Q<re.length;Q++)le.indexOf(re[Q])<0&&Object.prototype.propertyIsEnumerable.call(ee,re[Q])&&(fe[re[Q]]=ee[re[Q]]);return fe},Cf=50,Df="__KEEP_FILTERED_OPTION_VALUE";function af(ee,le,fe){return ee.split(le).map(function(re,Q){return Q===0?re:[se.createElement("span",{className:"".concat(fe,"-menu-item-keyword"),key:"seperator"},le),re]})}function em(ee,le,fe){return le.some(function(re){return re[fe.label].indexOf(ee)>-1})}function rp(ee,le,fe,re){return le.map(function(Q,pe){var ye=Q[re.label],Te=ye.indexOf(ee)>-1?af(ye,ee,fe):ye;return pe===0?Te:[" / ",Te]})}function tm(ee,le,fe,re){function Q(pe){return pe[re.label].indexOf(fe)>-1}return ee.findIndex(Q)-le.findIndex(Q)}function gm(ee){var le=ee.fieldNames;return le}function ph(ee){var le=gm(ee)||{},fe={children:le.children||"children",label:le.label||"label",value:le.value||"value"};return fe}function jp(ee,le){var fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],re=ph(le),Q=[],pe=re.children;return ee.forEach(function(ye){var Te=fe.concat(ye);(le.changeOnSelect||!ye[pe]||!ye[pe].length)&&Q.push(Te),ye[pe]&&(Q=Q.concat(jp(ye[pe],le,Te)))}),Q}var uv=function(le){return le.join(" / ")};function Ep(ee){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(ee||[]).forEach(function(fe){var re=le.value||"value";Object(xo.a)(re in fe,"Cascader","Not found `value` in `options`."),Ep(fe[le.children||"children"],le)})}function ym(ee,le,fe){var re;return re={},Object(we.a)(re,le.value,"ANT_CASCADER_NOT_FOUND"),Object(we.a)(re,le.label,fe||ee("Cascader")),Object(we.a)(re,"disabled",!0),Object(we.a)(re,"isEmptyNode",!0),re}var Nd=function(ee){Object(Nn.a)(fe,ee);var le=Object(So.a)(fe);function fe(re){var Q;return Object(Kr.a)(this,fe),Q=le.call(this,re),Q.cachedOptions=[],Q.setValue=function(pe){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];"value"in Q.props||Q.setState({value:pe});var Te=Q.props.onChange;Te&&Te(pe,ye)},Q.saveInput=function(pe){Q.input=pe},Q.handleChange=function(pe,ye){if(Q.setState({inputValue:""}),ye[0].__IS_FILTERED_OPTION){var Te=ye[0][Df]===void 0?pe[0]:ye[0][Df],Be=ye[0].path;Q.setValue(Te,Be);return}Q.setValue(pe,ye)},Q.handlePopupVisibleChange=function(pe){"popupVisible"in Q.props||Q.setState(function(Te){return{popupVisible:pe,inputFocused:pe,inputValue:pe?Te.inputValue:""}});var ye=Q.props.onPopupVisibleChange;ye&&ye(pe)},Q.handleInputBlur=function(){Q.setState({inputFocused:!1})},Q.handleInputClick=function(pe){var ye=Q.state,Te=ye.inputFocused,Be=ye.popupVisible;(Te||Be)&&pe.stopPropagation()},Q.handleKeyDown=function(pe){(pe.keyCode===Es.a.BACKSPACE||pe.keyCode===Es.a.SPACE)&&pe.stopPropagation()},Q.handleInputChange=function(pe){var ye=Q.state.popupVisible,Te=pe.target.value;ye||Q.handlePopupVisibleChange(!0),Q.setState({inputValue:Te})},Q.clearSelection=function(pe){var ye=Q.state.inputValue;pe.preventDefault(),pe.stopPropagation(),ye?Q.setState({inputValue:""}):(Q.handlePopupVisibleChange(!1),Q.clearSelectionTimeout=setTimeout(function(){Q.setValue([])},200))},Q.renderCascader=function(pe,ye){var Te=pe.getPopupContainer,Be=pe.getPrefixCls,Ke=pe.renderEmpty,lt=pe.direction;return se.createElement(ni.b.Consumer,null,function(ot){var Tt,Ft,sr,ur,tr=Object(lu.a)(Q),$t=tr.props,Vt=tr.state,Qr=$t.prefixCls,Bn=$t.inputPrefixCls,wr=$t.children,on=$t.placeholder,jn=on===void 0?ye.placeholder||"Please select":on,fn=$t.size,zr=$t.disabled,Sn=$t.className,xi=$t.style,mo=$t.allowClear,yi=$t.showSearch,Ci=yi===void 0?!1:yi,aa=$t.suffixIcon,ds=$t.expandIcon,xa=$t.notFoundContent,ts=$t.popupClassName,Ts=$t.bordered,ys=$t.dropdownRender,Wa=lv($t,["prefixCls","inputPrefixCls","children","placeholder","size","disabled","className","style","allowClear","showSearch","suffixIcon","expandIcon","notFoundContent","popupClassName","bordered","dropdownRender"]),ps=fn||ot,Hs=Vt.value,qs=Vt.inputFocused,rl=lt==="rtl",na=Be("cascader",Qr),_s=Be("input",Bn),Fl=st()((Tt={},Object(we.a)(Tt,"".concat(_s,"-lg"),ps==="large"),Object(we.a)(Tt,"".concat(_s,"-sm"),ps==="small"),Tt)),Tl=mo&&!zr&&Hs.length>0||Vt.inputValue?se.createElement(mg.a,{className:"".concat(na,"-picker-clear"),onClick:Q.clearSelection}):null,kl=st()((Ft={},Object(we.a)(Ft,"".concat(na,"-picker-arrow"),!0),Object(we.a)(Ft,"".concat(na,"-picker-arrow-expand"),Vt.popupVisible),Ft)),sa=st()("".concat(na,"-picker"),(sr={},Object(we.a)(sr,"".concat(na,"-picker-rtl"),rl),Object(we.a)(sr,"".concat(na,"-picker-with-value"),Vt.inputValue),Object(we.a)(sr,"".concat(na,"-picker-disabled"),zr),Object(we.a)(sr,"".concat(na,"-picker-").concat(ps),!!ps),Object(we.a)(sr,"".concat(na,"-picker-show-search"),!!Ci),Object(we.a)(sr,"".concat(na,"-picker-focused"),qs),Object(we.a)(sr,"".concat(na,"-picker-borderless"),!Ts),sr),Sn),Vs=Object(Xt.a)(Wa,["onChange","options","popupPlacement","transitionName","displayRender","onPopupVisibleChange","changeOnSelect","expandTrigger","popupVisible","getPopupContainer","loadData","filterOption","renderFilteredOption","sortFilteredOption","fieldNames"]),nl=$t.options,yu=ph(Q.props);nl&&nl.length>0?Vt.inputValue&&(nl=Q.generateFilteredOptions(na,Ke)):nl=[ym(Ke,yu,xa)],Vt.popupVisible?Q.cachedOptions=nl:nl=Q.cachedOptions;var il={},Qo=(nl||[]).length===1&&nl[0].isEmptyNode;Qo&&(il.height="auto");var xu=Ci.matchInputWidth!==!1;xu&&(Vt.inputValue||Qo)&&Q.input&&(il.width=Q.input.input.offsetWidth);var Ao;aa?Ao=Object(vg.c)(aa,se.createElement("span",{className:"".concat(na,"-picker-arrow")},aa),function(){var Af;return{className:st()((Af={},Object(we.a)(Af,aa.props.className,aa.props.className),Object(we.a)(Af,"".concat(na,"-picker-arrow"),!0),Af))}}):Ao=se.createElement(ja.a,{className:kl});var No=wr||se.createElement("span",{style:xi,className:sa},se.createElement("span",{className:"".concat(na,"-picker-label")},Q.getLabel()),se.createElement(zm.a,Object(De.a)({},Vs,{tabIndex:-1,ref:Q.saveInput,prefixCls:_s,placeholder:Hs&&Hs.length>0?void 0:jn,className:"".concat(na,"-input ").concat(Fl),value:Vt.inputValue,disabled:zr,readOnly:!Ci,autoComplete:Vs.autoComplete||"off",onClick:Ci?Q.handleInputClick:void 0,onBlur:Ci?Q.handleInputBlur:void 0,onKeyDown:Q.handleKeyDown,onChange:Ci?Q.handleInputChange:void 0})),Tl,Ao),ms;ds?ms=ds:ms=rl?se.createElement(ha.a,null):se.createElement(Da.a,null);var Is=se.createElement("span",{className:"".concat(na,"-menu-item-loading-icon")},se.createElement(Bp,{spin:!0})),$s=$t.getPopupContainer||Te,el=Object(Xt.a)($t,["inputIcon","expandIcon","loadingIcon","bordered","className"]),Mc=st()(ts,(ur={},Object(we.a)(ur,"".concat(na,"-menu-").concat(lt),lt==="rtl"),Object(we.a)(ur,"".concat(na,"-menu-empty"),nl.length===1&&nl[0].value==="ANT_CASCADER_NOT_FOUND"),ur));return se.createElement($p,Object(De.a)({},el,{prefixCls:na,getPopupContainer:$s,options:nl,value:Hs,popupVisible:Vt.popupVisible,onPopupVisibleChange:Q.handlePopupVisibleChange,onChange:Q.handleChange,dropdownMenuColumnStyle:il,expandIcon:ms,loadingIcon:Is,popupClassName:Mc,popupPlacement:Q.getPopupPlacement(lt),dropdownRender:ys}),No)})},Q.state={value:re.value||re.defaultValue||[],inputValue:"",inputFocused:!1,popupVisible:re.popupVisible,flattenOptions:re.showSearch?jp(re.options,re):void 0,prevProps:re},Q}return Object(ai.a)(fe,[{key:"componentWillUnmount",value:function(){this.clearSelectionTimeout&&clearTimeout(this.clearSelectionTimeout)}},{key:"getLabel",value:function(){var Q=this.props,pe=Q.options,ye=Q.displayRender,Te=ye===void 0?uv:ye,Be=ph(this.props),Ke=this.state.value,lt=Array.isArray(Ke[0])?Ke[0]:Ke,ot=Lh()(pe,function(Ft,sr){return Ft[Be.value]===lt[sr]},{childrenKeyName:Be.children}),Tt=ot.length?ot.map(function(Ft){return Ft[Be.label]}):Ke;return Te(Tt,ot)}},{key:"generateFilteredOptions",value:function(Q,pe){var ye=this,Te=this.props,Be=Te.showSearch,Ke=Te.notFoundContent,lt=ph(this.props),ot=Be.filter,Tt=ot===void 0?em:ot,Ft=Be.render,sr=Ft===void 0?rp:Ft,ur=Be.sort,tr=ur===void 0?tm:ur,$t=Be.limit,Vt=$t===void 0?Cf:$t,Qr=this.state,Bn=Qr.flattenOptions,wr=Bn===void 0?[]:Bn,on=Qr.inputValue,jn;if(Vt>0){jn=[];var fn=0;wr.some(function(Sn){var xi=Tt(ye.state.inputValue,Sn,lt);return xi&&(jn.push(Sn),fn+=1),fn>=Vt})}else Object(xo.a)(typeof Vt!="number","Cascader","'limit' of showSearch should be positive number or false."),jn=wr.filter(function(Sn){return Tt(ye.state.inputValue,Sn,lt)});if(jn=jn.sort(function(Sn,xi){return tr(Sn,xi,on,lt)}),jn.length>0){var zr=lt.value===lt.label?Df:lt.value;return jn.map(function(Sn){var xi;return xi={__IS_FILTERED_OPTION:!0,path:Sn},Object(we.a)(xi,zr,Sn.map(function(mo){return mo[lt.value]})),Object(we.a)(xi,lt.label,sr(on,Sn,Q,lt)),Object(we.a)(xi,"disabled",Sn.some(function(mo){return!!mo.disabled})),Object(we.a)(xi,"isEmptyNode",!0),xi})}return[ym(pe,lt,Ke)]}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"getPopupPlacement",value:function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ltr",pe=this.props.popupPlacement;return pe!==void 0?pe:Q==="rtl"?"bottomRight":"bottomLeft"}},{key:"render",value:function(){var Q=this;return se.createElement(Vr.a,null,function(pe){return se.createElement(ho.a,null,function(ye){return Q.renderCascader(pe,ye)})})}}],[{key:"getDerivedStateFromProps",value:function(Q,pe){var ye=pe.prevProps,Te={prevProps:Q};return"value"in Q&&(Te.value=Q.value||[]),"popupVisible"in Q&&(Te.popupVisible=Q.popupVisible),Q.showSearch&&ye.options!==Q.options&&(Te.flattenOptions=jp(Q.options,Q)),Te}}]),fe}(se.Component);Nd.defaultProps={transitionName:"slide-up",options:[],disabled:!1,allowClear:!0,bordered:!0};var Nv=Nd,Um=[{code:"110000",value:"\u5317\u4EAC\u5E02",label:"\u5317\u4EAC\u5E02"},{code:"120000",value:"\u5929\u6D25\u5E02",label:"\u5929\u6D25\u5E02"},{code:"130000",value:"\u6CB3\u5317\u7701",label:"\u6CB3\u5317\u7701",children:[{code:"130100",value:"\u77F3\u5BB6\u5E84\u5E02",label:"\u77F3\u5BB6\u5E84\u5E02"},{code:"130200",value:"\u5510\u5C71\u5E02",label:"\u5510\u5C71\u5E02"},{code:"130300",value:"\u79E6\u7687\u5C9B\u5E02",label:"\u79E6\u7687\u5C9B\u5E02"},{code:"130400",value:"\u90AF\u90F8\u5E02",label:"\u90AF\u90F8\u5E02"},{code:"130500",value:"\u90A2\u53F0\u5E02",label:"\u90A2\u53F0\u5E02"},{code:"130600",value:"\u4FDD\u5B9A\u5E02",label:"\u4FDD\u5B9A\u5E02"},{code:"130700",value:"\u5F20\u5BB6\u53E3\u5E02",label:"\u5F20\u5BB6\u53E3\u5E02"},{code:"130800",value:"\u627F\u5FB7\u5E02",label:"\u627F\u5FB7\u5E02"},{code:"130900",value:"\u6CA7\u5DDE\u5E02",label:"\u6CA7\u5DDE\u5E02"},{code:"131000",value:"\u5ECA\u574A\u5E02",label:"\u5ECA\u574A\u5E02"},{code:"131100",value:"\u8861\u6C34\u5E02",label:"\u8861\u6C34\u5E02"}]},{code:"140000",value:"\u5C71\u897F\u7701",label:"\u5C71\u897F\u7701",children:[{code:"140100",value:"\u592A\u539F\u5E02",label:"\u592A\u539F\u5E02"},{code:"140200",value:"\u5927\u540C\u5E02",label:"\u5927\u540C\u5E02"},{code:"140300",value:"\u9633\u6CC9\u5E02",label:"\u9633\u6CC9\u5E02"},{code:"140400",value:"\u957F\u6CBB\u5E02",label:"\u957F\u6CBB\u5E02"},{code:"140500",value:"\u664B\u57CE\u5E02",label:"\u664B\u57CE\u5E02"},{code:"140600",value:"\u6714\u5DDE\u5E02",label:"\u6714\u5DDE\u5E02"},{code:"140700",value:"\u664B\u4E2D\u5E02",label:"\u664B\u4E2D\u5E02"},{code:"140800",value:"\u8FD0\u57CE\u5E02",label:"\u8FD0\u57CE\u5E02"},{code:"140900",value:"\u5FFB\u5DDE\u5E02",label:"\u5FFB\u5DDE\u5E02"},{code:"141000",value:"\u4E34\u6C7E\u5E02",label:"\u4E34\u6C7E\u5E02"},{code:"141100",value:"\u5415\u6881\u5E02",label:"\u5415\u6881\u5E02"}]},{code:"150000",value:"\u5185\u8499\u53E4\u81EA\u6CBB\u533A",label:"\u5185\u8499\u53E4\u81EA\u6CBB\u533A",children:[{code:"150100",value:"\u547C\u548C\u6D69\u7279\u5E02",label:"\u547C\u548C\u6D69\u7279\u5E02"},{code:"150200",value:"\u5305\u5934\u5E02",label:"\u5305\u5934\u5E02"},{code:"150300",value:"\u4E4C\u6D77\u5E02",label:"\u4E4C\u6D77\u5E02"},{code:"150400",value:"\u8D64\u5CF0\u5E02",label:"\u8D64\u5CF0\u5E02"},{code:"150500",value:"\u901A\u8FBD\u5E02",label:"\u901A\u8FBD\u5E02"},{code:"150600",value:"\u9102\u5C14\u591A\u65AF\u5E02",label:"\u9102\u5C14\u591A\u65AF\u5E02"},{code:"150700",value:"\u547C\u4F26\u8D1D\u5C14\u5E02",label:"\u547C\u4F26\u8D1D\u5C14\u5E02"},{code:"150800",value:"\u5DF4\u5F66\u6DD6\u5C14\u5E02",label:"\u5DF4\u5F66\u6DD6\u5C14\u5E02"},{code:"150900",value:"\u4E4C\u5170\u5BDF\u5E03\u5E02",label:"\u4E4C\u5170\u5BDF\u5E03\u5E02"},{code:"152200",value:"\u5174\u5B89\u76DF",label:"\u5174\u5B89\u76DF"},{code:"152500",value:"\u9521\u6797\u90ED\u52D2\u76DF",label:"\u9521\u6797\u90ED\u52D2\u76DF"},{code:"152900",value:"\u963F\u62C9\u5584\u76DF",label:"\u963F\u62C9\u5584\u76DF"}]},{code:"210000",value:"\u8FBD\u5B81\u7701",label:"\u8FBD\u5B81\u7701",children:[{code:"210100",value:"\u6C88\u9633\u5E02",label:"\u6C88\u9633\u5E02"},{code:"210200",value:"\u5927\u8FDE\u5E02",label:"\u5927\u8FDE\u5E02"},{code:"210300",value:"\u978D\u5C71\u5E02",label:"\u978D\u5C71\u5E02"},{code:"210400",value:"\u629A\u987A\u5E02",label:"\u629A\u987A\u5E02"},{code:"210500",value:"\u672C\u6EAA\u5E02",label:"\u672C\u6EAA\u5E02"},{code:"210600",value:"\u4E39\u4E1C\u5E02",label:"\u4E39\u4E1C\u5E02"},{code:"210700",value:"\u9526\u5DDE\u5E02",label:"\u9526\u5DDE\u5E02"},{code:"210800",value:"\u8425\u53E3\u5E02",label:"\u8425\u53E3\u5E02"},{code:"210900",value:"\u961C\u65B0\u5E02",label:"\u961C\u65B0\u5E02"},{code:"211000",value:"\u8FBD\u9633\u5E02",label:"\u8FBD\u9633\u5E02"},{code:"211100",value:"\u76D8\u9526\u5E02",label:"\u76D8\u9526\u5E02"},{code:"211200",value:"\u94C1\u5CAD\u5E02",label:"\u94C1\u5CAD\u5E02"},{code:"211300",value:"\u671D\u9633\u5E02",label:"\u671D\u9633\u5E02"},{code:"211400",value:"\u846B\u82A6\u5C9B\u5E02",label:"\u846B\u82A6\u5C9B\u5E02"}]},{code:"220000",value:"\u5409\u6797\u7701",label:"\u5409\u6797\u7701",children:[{code:"220100",value:"\u957F\u6625\u5E02",label:"\u957F\u6625\u5E02"},{code:"220200",value:"\u5409\u6797\u5E02",label:"\u5409\u6797\u5E02"},{code:"220300",value:"\u56DB\u5E73\u5E02",label:"\u56DB\u5E73\u5E02"},{code:"220400",value:"\u8FBD\u6E90\u5E02",label:"\u8FBD\u6E90\u5E02"},{code:"220500",value:"\u901A\u5316\u5E02",label:"\u901A\u5316\u5E02"},{code:"220600",value:"\u767D\u5C71\u5E02",label:"\u767D\u5C71\u5E02"},{code:"220700",value:"\u677E\u539F\u5E02",label:"\u677E\u539F\u5E02"},{code:"220800",value:"\u767D\u57CE\u5E02",label:"\u767D\u57CE\u5E02"},{code:"222400",value:"\u5EF6\u8FB9\u671D\u9C9C\u65CF\u81EA\u6CBB\u5DDE",label:"\u5EF6\u8FB9\u671D\u9C9C\u65CF\u81EA\u6CBB\u5DDE"}]},{code:"230000",value:"\u9ED1\u9F99\u6C5F\u7701",label:"\u9ED1\u9F99\u6C5F\u7701",children:[{code:"230100",value:"\u54C8\u5C14\u6EE8\u5E02",label:"\u54C8\u5C14\u6EE8\u5E02"},{code:"230200",value:"\u9F50\u9F50\u54C8\u5C14\u5E02",label:"\u9F50\u9F50\u54C8\u5C14\u5E02"},{code:"230300",value:"\u9E21\u897F\u5E02",label:"\u9E21\u897F\u5E02"},{code:"230400",value:"\u9E64\u5C97\u5E02",label:"\u9E64\u5C97\u5E02"},{code:"230500",value:"\u53CC\u9E2D\u5C71\u5E02",label:"\u53CC\u9E2D\u5C71\u5E02"},{code:"230600",value:"\u5927\u5E86\u5E02",label:"\u5927\u5E86\u5E02"},{code:"230700",value:"\u4F0A\u6625\u5E02",label:"\u4F0A\u6625\u5E02"},{code:"230800",value:"\u4F73\u6728\u65AF\u5E02",label:"\u4F73\u6728\u65AF\u5E02"},{code:"230900",value:"\u4E03\u53F0\u6CB3\u5E02",label:"\u4E03\u53F0\u6CB3\u5E02"},{code:"231000",value:"\u7261\u4E39\u6C5F\u5E02",label:"\u7261\u4E39\u6C5F\u5E02"},{code:"231100",value:"\u9ED1\u6CB3\u5E02",label:"\u9ED1\u6CB3\u5E02"},{code:"231200",value:"\u7EE5\u5316\u5E02",label:"\u7EE5\u5316\u5E02"},{code:"232700",value:"\u5927\u5174\u5B89\u5CAD\u5730\u533A",label:"\u5927\u5174\u5B89\u5CAD\u5730\u533A"}]},{code:"310000",value:"\u4E0A\u6D77\u5E02",label:"\u4E0A\u6D77\u5E02"},{code:"320000",value:"\u6C5F\u82CF\u7701",label:"\u6C5F\u82CF\u7701",children:[{code:"320100",value:"\u5357\u4EAC\u5E02",label:"\u5357\u4EAC\u5E02"},{code:"320200",value:"\u65E0\u9521\u5E02",label:"\u65E0\u9521\u5E02"},{code:"320300",value:"\u5F90\u5DDE\u5E02",label:"\u5F90\u5DDE\u5E02"},{code:"320400",value:"\u5E38\u5DDE\u5E02",label:"\u5E38\u5DDE\u5E02"},{code:"320500",value:"\u82CF\u5DDE\u5E02",label:"\u82CF\u5DDE\u5E02"},{code:"320600",value:"\u5357\u901A\u5E02",label:"\u5357\u901A\u5E02"},{code:"320700",value:"\u8FDE\u4E91\u6E2F\u5E02",label:"\u8FDE\u4E91\u6E2F\u5E02"},{code:"320800",value:"\u6DEE\u5B89\u5E02",label:"\u6DEE\u5B89\u5E02"},{code:"320900",value:"\u76D0\u57CE\u5E02",label:"\u76D0\u57CE\u5E02"},{code:"321000",value:"\u626C\u5DDE\u5E02",label:"\u626C\u5DDE\u5E02"},{code:"321100",value:"\u9547\u6C5F\u5E02",label:"\u9547\u6C5F\u5E02"},{code:"321200",value:"\u6CF0\u5DDE\u5E02",label:"\u6CF0\u5DDE\u5E02"},{code:"321300",value:"\u5BBF\u8FC1\u5E02",label:"\u5BBF\u8FC1\u5E02"}]},{code:"330000",value:"\u6D59\u6C5F\u7701",label:"\u6D59\u6C5F\u7701",children:[{code:"330100",value:"\u676D\u5DDE\u5E02",label:"\u676D\u5DDE\u5E02"},{code:"330200",value:"\u5B81\u6CE2\u5E02",label:"\u5B81\u6CE2\u5E02"},{code:"330300",value:"\u6E29\u5DDE\u5E02",label:"\u6E29\u5DDE\u5E02"},{code:"330400",value:"\u5609\u5174\u5E02",label:"\u5609\u5174\u5E02"},{code:"330500",value:"\u6E56\u5DDE\u5E02",label:"\u6E56\u5DDE\u5E02"},{code:"330600",value:"\u7ECD\u5174\u5E02",label:"\u7ECD\u5174\u5E02"},{code:"330700",value:"\u91D1\u534E\u5E02",label:"\u91D1\u534E\u5E02"},{code:"330800",value:"\u8862\u5DDE\u5E02",label:"\u8862\u5DDE\u5E02"},{code:"330900",value:"\u821F\u5C71\u5E02",label:"\u821F\u5C71\u5E02"},{code:"331000",value:"\u53F0\u5DDE\u5E02",label:"\u53F0\u5DDE\u5E02"},{code:"331100",value:"\u4E3D\u6C34\u5E02",label:"\u4E3D\u6C34\u5E02"}]},{code:"340000",value:"\u5B89\u5FBD\u7701",label:"\u5B89\u5FBD\u7701",children:[{code:"340100",value:"\u5408\u80A5\u5E02",label:"\u5408\u80A5\u5E02"},{code:"340200",value:"\u829C\u6E56\u5E02",label:"\u829C\u6E56\u5E02"},{code:"340300",value:"\u868C\u57E0\u5E02",label:"\u868C\u57E0\u5E02"},{code:"340400",value:"\u6DEE\u5357\u5E02",label:"\u6DEE\u5357\u5E02"},{code:"340500",value:"\u9A6C\u978D\u5C71\u5E02",label:"\u9A6C\u978D\u5C71\u5E02"},{code:"340600",value:"\u6DEE\u5317\u5E02",label:"\u6DEE\u5317\u5E02"},{code:"340700",value:"\u94DC\u9675\u5E02",label:"\u94DC\u9675\u5E02"},{code:"340800",value:"\u5B89\u5E86\u5E02",label:"\u5B89\u5E86\u5E02"},{code:"341000",value:"\u9EC4\u5C71\u5E02",label:"\u9EC4\u5C71\u5E02"},{code:"341100",value:"\u6EC1\u5DDE\u5E02",label:"\u6EC1\u5DDE\u5E02"},{code:"341200",value:"\u961C\u9633\u5E02",label:"\u961C\u9633\u5E02"},{code:"341300",value:"\u5BBF\u5DDE\u5E02",label:"\u5BBF\u5DDE\u5E02"},{code:"341500",value:"\u516D\u5B89\u5E02",label:"\u516D\u5B89\u5E02"},{code:"341600",value:"\u4EB3\u5DDE\u5E02",label:"\u4EB3\u5DDE\u5E02"},{code:"341700",value:"\u6C60\u5DDE\u5E02",label:"\u6C60\u5DDE\u5E02"},{code:"341800",value:"\u5BA3\u57CE\u5E02",label:"\u5BA3\u57CE\u5E02"}]},{code:"350000",value:"\u798F\u5EFA\u7701",label:"\u798F\u5EFA\u7701",children:[{code:"350100",value:"\u798F\u5DDE\u5E02",label:"\u798F\u5DDE\u5E02"},{code:"350200",value:"\u53A6\u95E8\u5E02",label:"\u53A6\u95E8\u5E02"},{code:"350300",value:"\u8386\u7530\u5E02",label:"\u8386\u7530\u5E02"},{code:"350400",value:"\u4E09\u660E\u5E02",label:"\u4E09\u660E\u5E02"},{code:"350500",value:"\u6CC9\u5DDE\u5E02",label:"\u6CC9\u5DDE\u5E02"},{code:"350600",value:"\u6F33\u5DDE\u5E02",label:"\u6F33\u5DDE\u5E02"},{code:"350700",value:"\u5357\u5E73\u5E02",label:"\u5357\u5E73\u5E02"},{code:"350800",value:"\u9F99\u5CA9\u5E02",label:"\u9F99\u5CA9\u5E02"},{code:"350900",value:"\u5B81\u5FB7\u5E02",label:"\u5B81\u5FB7\u5E02"}]},{code:"360000",value:"\u6C5F\u897F\u7701",label:"\u6C5F\u897F\u7701",children:[{code:"360100",value:"\u5357\u660C\u5E02",label:"\u5357\u660C\u5E02"},{code:"360200",value:"\u666F\u5FB7\u9547\u5E02",label:"\u666F\u5FB7\u9547\u5E02"},{code:"360300",value:"\u840D\u4E61\u5E02",label:"\u840D\u4E61\u5E02"},{code:"360400",value:"\u4E5D\u6C5F\u5E02",label:"\u4E5D\u6C5F\u5E02"},{code:"360500",value:"\u65B0\u4F59\u5E02",label:"\u65B0\u4F59\u5E02"},{code:"360600",value:"\u9E70\u6F6D\u5E02",label:"\u9E70\u6F6D\u5E02"},{code:"360700",value:"\u8D63\u5DDE\u5E02",label:"\u8D63\u5DDE\u5E02"},{code:"360800",value:"\u5409\u5B89\u5E02",label:"\u5409\u5B89\u5E02"},{code:"360900",value:"\u5B9C\u6625\u5E02",label:"\u5B9C\u6625\u5E02"},{code:"361000",value:"\u629A\u5DDE\u5E02",label:"\u629A\u5DDE\u5E02"},{code:"361100",value:"\u4E0A\u9976\u5E02",label:"\u4E0A\u9976\u5E02"}]},{code:"370000",value:"\u5C71\u4E1C\u7701",label:"\u5C71\u4E1C\u7701",children:[{code:"370100",value:"\u6D4E\u5357\u5E02",label:"\u6D4E\u5357\u5E02"},{code:"370200",value:"\u9752\u5C9B\u5E02",label:"\u9752\u5C9B\u5E02"},{code:"370300",value:"\u6DC4\u535A\u5E02",label:"\u6DC4\u535A\u5E02"},{code:"370400",value:"\u67A3\u5E84\u5E02",label:"\u67A3\u5E84\u5E02"},{code:"370500",value:"\u4E1C\u8425\u5E02",label:"\u4E1C\u8425\u5E02"},{code:"370600",value:"\u70DF\u53F0\u5E02",label:"\u70DF\u53F0\u5E02"},{code:"370700",value:"\u6F4D\u574A\u5E02",label:"\u6F4D\u574A\u5E02"},{code:"370800",value:"\u6D4E\u5B81\u5E02",label:"\u6D4E\u5B81\u5E02"},{code:"370900",value:"\u6CF0\u5B89\u5E02",label:"\u6CF0\u5B89\u5E02"},{code:"371000",value:"\u5A01\u6D77\u5E02",label:"\u5A01\u6D77\u5E02"},{code:"371100",value:"\u65E5\u7167\u5E02",label:"\u65E5\u7167\u5E02"},{code:"371300",value:"\u4E34\u6C82\u5E02",label:"\u4E34\u6C82\u5E02"},{code:"371400",value:"\u5FB7\u5DDE\u5E02",label:"\u5FB7\u5DDE\u5E02"},{code:"371500",value:"\u804A\u57CE\u5E02",label:"\u804A\u57CE\u5E02"},{code:"371600",value:"\u6EE8\u5DDE\u5E02",label:"\u6EE8\u5DDE\u5E02"},{code:"371700",value:"\u83CF\u6CFD\u5E02",label:"\u83CF\u6CFD\u5E02"}]},{code:"410000",value:"\u6CB3\u5357\u7701",label:"\u6CB3\u5357\u7701",children:[{code:"410100",value:"\u90D1\u5DDE\u5E02",label:"\u90D1\u5DDE\u5E02"},{code:"410200",value:"\u5F00\u5C01\u5E02",label:"\u5F00\u5C01\u5E02"},{code:"410300",value:"\u6D1B\u9633\u5E02",label:"\u6D1B\u9633\u5E02"},{code:"410400",value:"\u5E73\u9876\u5C71\u5E02",label:"\u5E73\u9876\u5C71\u5E02"},{code:"410500",value:"\u5B89\u9633\u5E02",label:"\u5B89\u9633\u5E02"},{code:"410600",value:"\u9E64\u58C1\u5E02",label:"\u9E64\u58C1\u5E02"},{code:"410700",value:"\u65B0\u4E61\u5E02",label:"\u65B0\u4E61\u5E02"},{code:"410800",value:"\u7126\u4F5C\u5E02",label:"\u7126\u4F5C\u5E02"},{code:"410900",value:"\u6FEE\u9633\u5E02",label:"\u6FEE\u9633\u5E02"},{code:"411000",value:"\u8BB8\u660C\u5E02",label:"\u8BB8\u660C\u5E02"},{code:"411100",value:"\u6F2F\u6CB3\u5E02",label:"\u6F2F\u6CB3\u5E02"},{code:"411200",value:"\u4E09\u95E8\u5CE1\u5E02",label:"\u4E09\u95E8\u5CE1\u5E02"},{code:"411300",value:"\u5357\u9633\u5E02",label:"\u5357\u9633\u5E02"},{code:"411400",value:"\u5546\u4E18\u5E02",label:"\u5546\u4E18\u5E02"},{code:"411500",value:"\u4FE1\u9633\u5E02",label:"\u4FE1\u9633\u5E02"},{code:"411600",value:"\u5468\u53E3\u5E02",label:"\u5468\u53E3\u5E02"},{code:"411700",value:"\u9A7B\u9A6C\u5E97\u5E02",label:"\u9A7B\u9A6C\u5E97\u5E02"},{code:"419001",value:"\u6D4E\u6E90\u5E02",label:"\u6D4E\u6E90\u5E02"}]},{code:"420000",value:"\u6E56\u5317\u7701",label:"\u6E56\u5317\u7701",children:[{code:"420100",value:"\u6B66\u6C49\u5E02",label:"\u6B66\u6C49\u5E02"},{code:"420200",value:"\u9EC4\u77F3\u5E02",label:"\u9EC4\u77F3\u5E02"},{code:"420300",value:"\u5341\u5830\u5E02",label:"\u5341\u5830\u5E02"},{code:"420500",value:"\u5B9C\u660C\u5E02",label:"\u5B9C\u660C\u5E02"},{code:"420600",value:"\u8944\u9633\u5E02",label:"\u8944\u9633\u5E02"},{code:"420700",value:"\u9102\u5DDE\u5E02",label:"\u9102\u5DDE\u5E02"},{code:"420800",value:"\u8346\u95E8\u5E02",label:"\u8346\u95E8\u5E02"},{code:"420900",value:"\u5B5D\u611F\u5E02",label:"\u5B5D\u611F\u5E02"},{code:"421000",value:"\u8346\u5DDE\u5E02",label:"\u8346\u5DDE\u5E02"},{code:"421100",value:"\u9EC4\u5188\u5E02",label:"\u9EC4\u5188\u5E02"},{code:"421200",value:"\u54B8\u5B81\u5E02",label:"\u54B8\u5B81\u5E02"},{code:"421300",value:"\u968F\u5DDE\u5E02",label:"\u968F\u5DDE\u5E02"},{code:"422800",value:"\u6069\u65BD\u571F\u5BB6\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE",label:"\u6069\u65BD\u571F\u5BB6\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE"},{code:"429004",value:"\u4ED9\u6843\u5E02",label:"\u4ED9\u6843\u5E02"},{code:"429005",value:"\u6F5C\u6C5F\u5E02",label:"\u6F5C\u6C5F\u5E02"},{code:"429006",value:"\u5929\u95E8\u5E02",label:"\u5929\u95E8\u5E02"},{code:"429021",value:"\u795E\u519C\u67B6\u6797\u533A",label:"\u795E\u519C\u67B6\u6797\u533A"}]},{code:"430000",value:"\u6E56\u5357\u7701",label:"\u6E56\u5357\u7701",children:[{code:"430100",value:"\u957F\u6C99\u5E02",label:"\u957F\u6C99\u5E02"},{code:"430200",value:"\u682A\u6D32\u5E02",label:"\u682A\u6D32\u5E02"},{code:"430300",value:"\u6E58\u6F6D\u5E02",label:"\u6E58\u6F6D\u5E02"},{code:"430400",value:"\u8861\u9633\u5E02",label:"\u8861\u9633\u5E02"},{code:"430500",value:"\u90B5\u9633\u5E02",label:"\u90B5\u9633\u5E02"},{code:"430600",value:"\u5CB3\u9633\u5E02",label:"\u5CB3\u9633\u5E02"},{code:"430700",value:"\u5E38\u5FB7\u5E02",label:"\u5E38\u5FB7\u5E02"},{code:"430800",value:"\u5F20\u5BB6\u754C\u5E02",label:"\u5F20\u5BB6\u754C\u5E02"},{code:"430900",value:"\u76CA\u9633\u5E02",label:"\u76CA\u9633\u5E02"},{code:"431000",value:"\u90F4\u5DDE\u5E02",label:"\u90F4\u5DDE\u5E02"},{code:"431100",value:"\u6C38\u5DDE\u5E02",label:"\u6C38\u5DDE\u5E02"},{code:"431200",value:"\u6000\u5316\u5E02",label:"\u6000\u5316\u5E02"},{code:"431300",value:"\u5A04\u5E95\u5E02",label:"\u5A04\u5E95\u5E02"},{code:"433100",value:"\u6E58\u897F\u571F\u5BB6\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE",label:"\u6E58\u897F\u571F\u5BB6\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE"}]},{code:"440000",value:"\u5E7F\u4E1C\u7701",label:"\u5E7F\u4E1C\u7701",children:[{code:"440100",value:"\u5E7F\u5DDE\u5E02",label:"\u5E7F\u5DDE\u5E02"},{code:"440200",value:"\u97F6\u5173\u5E02",label:"\u97F6\u5173\u5E02"},{code:"440300",value:"\u6DF1\u5733\u5E02",label:"\u6DF1\u5733\u5E02"},{code:"440400",value:"\u73E0\u6D77\u5E02",label:"\u73E0\u6D77\u5E02"},{code:"440500",value:"\u6C55\u5934\u5E02",label:"\u6C55\u5934\u5E02"},{code:"440600",value:"\u4F5B\u5C71\u5E02",label:"\u4F5B\u5C71\u5E02"},{code:"440700",value:"\u6C5F\u95E8\u5E02",label:"\u6C5F\u95E8\u5E02"},{code:"440800",value:"\u6E5B\u6C5F\u5E02",label:"\u6E5B\u6C5F\u5E02"},{code:"440900",value:"\u8302\u540D\u5E02",label:"\u8302\u540D\u5E02"},{code:"441200",value:"\u8087\u5E86\u5E02",label:"\u8087\u5E86\u5E02"},{code:"441300",value:"\u60E0\u5DDE\u5E02",label:"\u60E0\u5DDE\u5E02"},{code:"441400",value:"\u6885\u5DDE\u5E02",label:"\u6885\u5DDE\u5E02"},{code:"441500",value:"\u6C55\u5C3E\u5E02",label:"\u6C55\u5C3E\u5E02"},{code:"441600",value:"\u6CB3\u6E90\u5E02",label:"\u6CB3\u6E90\u5E02"},{code:"441700",value:"\u9633\u6C5F\u5E02",label:"\u9633\u6C5F\u5E02"},{code:"441800",value:"\u6E05\u8FDC\u5E02",label:"\u6E05\u8FDC\u5E02"},{code:"441900",value:"\u4E1C\u839E\u5E02",label:"\u4E1C\u839E\u5E02"},{code:"442000",value:"\u4E2D\u5C71\u5E02",label:"\u4E2D\u5C71\u5E02"},{code:"445100",value:"\u6F6E\u5DDE\u5E02",label:"\u6F6E\u5DDE\u5E02"},{code:"445200",value:"\u63ED\u9633\u5E02",label:"\u63ED\u9633\u5E02"},{code:"445300",value:"\u4E91\u6D6E\u5E02",label:"\u4E91\u6D6E\u5E02"}]},{code:"450000",value:"\u5E7F\u897F\u58EE\u65CF\u81EA\u6CBB\u533A",label:"\u5E7F\u897F\u58EE\u65CF\u81EA\u6CBB\u533A",children:[{code:"450100",value:"\u5357\u5B81\u5E02",label:"\u5357\u5B81\u5E02"},{code:"450200",value:"\u67F3\u5DDE\u5E02",label:"\u67F3\u5DDE\u5E02"},{code:"450300",value:"\u6842\u6797\u5E02",label:"\u6842\u6797\u5E02"},{code:"450400",value:"\u68A7\u5DDE\u5E02",label:"\u68A7\u5DDE\u5E02"},{code:"450500",value:"\u5317\u6D77\u5E02",label:"\u5317\u6D77\u5E02"},{code:"450600",value:"\u9632\u57CE\u6E2F\u5E02",label:"\u9632\u57CE\u6E2F\u5E02"},{code:"450700",value:"\u94A6\u5DDE\u5E02",label:"\u94A6\u5DDE\u5E02"},{code:"450800",value:"\u8D35\u6E2F\u5E02",label:"\u8D35\u6E2F\u5E02"},{code:"450900",value:"\u7389\u6797\u5E02",label:"\u7389\u6797\u5E02"},{code:"451000",value:"\u767E\u8272\u5E02",label:"\u767E\u8272\u5E02"},{code:"451100",value:"\u8D3A\u5DDE\u5E02",label:"\u8D3A\u5DDE\u5E02"},{code:"451200",value:"\u6CB3\u6C60\u5E02",label:"\u6CB3\u6C60\u5E02"},{code:"451300",value:"\u6765\u5BBE\u5E02",label:"\u6765\u5BBE\u5E02"},{code:"451400",value:"\u5D07\u5DE6\u5E02",label:"\u5D07\u5DE6\u5E02"}]},{code:"460000",value:"\u6D77\u5357\u7701",label:"\u6D77\u5357\u7701",children:[{code:"460100",value:"\u6D77\u53E3\u5E02",label:"\u6D77\u53E3\u5E02"},{code:"460200",value:"\u4E09\u4E9A\u5E02",label:"\u4E09\u4E9A\u5E02"},{code:"460300",value:"\u4E09\u6C99\u5E02",label:"\u4E09\u6C99\u5E02"},{code:"460400",value:"\u510B\u5DDE\u5E02",label:"\u510B\u5DDE\u5E02"},{code:"469001",value:"\u4E94\u6307\u5C71\u5E02",label:"\u4E94\u6307\u5C71\u5E02"},{code:"469002",value:"\u743C\u6D77\u5E02",label:"\u743C\u6D77\u5E02"},{code:"469005",value:"\u6587\u660C\u5E02",label:"\u6587\u660C\u5E02"},{code:"469006",value:"\u4E07\u5B81\u5E02",label:"\u4E07\u5B81\u5E02"},{code:"469007",value:"\u4E1C\u65B9\u5E02",label:"\u4E1C\u65B9\u5E02"},{code:"469021",value:"\u5B9A\u5B89\u53BF",label:"\u5B9A\u5B89\u53BF"},{code:"469022",value:"\u5C6F\u660C\u53BF",label:"\u5C6F\u660C\u53BF"},{code:"469023",value:"\u6F84\u8FC8\u53BF",label:"\u6F84\u8FC8\u53BF"},{code:"469024",value:"\u4E34\u9AD8\u53BF",label:"\u4E34\u9AD8\u53BF"},{code:"469025",value:"\u767D\u6C99\u9ECE\u65CF\u81EA\u6CBB\u53BF",label:"\u767D\u6C99\u9ECE\u65CF\u81EA\u6CBB\u53BF"},{code:"469026",value:"\u660C\u6C5F\u9ECE\u65CF\u81EA\u6CBB\u53BF",label:"\u660C\u6C5F\u9ECE\u65CF\u81EA\u6CBB\u53BF"},{code:"469027",value:"\u4E50\u4E1C\u9ECE\u65CF\u81EA\u6CBB\u53BF",label:"\u4E50\u4E1C\u9ECE\u65CF\u81EA\u6CBB\u53BF"},{code:"469028",value:"\u9675\u6C34\u9ECE\u65CF\u81EA\u6CBB\u53BF",label:"\u9675\u6C34\u9ECE\u65CF\u81EA\u6CBB\u53BF"},{code:"469029",value:"\u4FDD\u4EAD\u9ECE\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF",label:"\u4FDD\u4EAD\u9ECE\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF"},{code:"469030",value:"\u743C\u4E2D\u9ECE\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF",label:"\u743C\u4E2D\u9ECE\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF"}]},{code:"500000",value:"\u91CD\u5E86\u5E02",label:"\u91CD\u5E86\u5E02"},{code:"510000",value:"\u56DB\u5DDD\u7701",label:"\u56DB\u5DDD\u7701",children:[{code:"510100",value:"\u6210\u90FD\u5E02",label:"\u6210\u90FD\u5E02"},{code:"510300",value:"\u81EA\u8D21\u5E02",label:"\u81EA\u8D21\u5E02"},{code:"510400",value:"\u6500\u679D\u82B1\u5E02",label:"\u6500\u679D\u82B1\u5E02"},{code:"510500",value:"\u6CF8\u5DDE\u5E02",label:"\u6CF8\u5DDE\u5E02"},{code:"510600",value:"\u5FB7\u9633\u5E02",label:"\u5FB7\u9633\u5E02"},{code:"510700",value:"\u7EF5\u9633\u5E02",label:"\u7EF5\u9633\u5E02"},{code:"510800",value:"\u5E7F\u5143\u5E02",label:"\u5E7F\u5143\u5E02"},{code:"510900",value:"\u9042\u5B81\u5E02",label:"\u9042\u5B81\u5E02"},{code:"511000",value:"\u5185\u6C5F\u5E02",label:"\u5185\u6C5F\u5E02"},{code:"511100",value:"\u4E50\u5C71\u5E02",label:"\u4E50\u5C71\u5E02"},{code:"511300",value:"\u5357\u5145\u5E02",label:"\u5357\u5145\u5E02"},{code:"511400",value:"\u7709\u5C71\u5E02",label:"\u7709\u5C71\u5E02"},{code:"511500",value:"\u5B9C\u5BBE\u5E02",label:"\u5B9C\u5BBE\u5E02"},{code:"511600",value:"\u5E7F\u5B89\u5E02",label:"\u5E7F\u5B89\u5E02"},{code:"511700",value:"\u8FBE\u5DDE\u5E02",label:"\u8FBE\u5DDE\u5E02"},{code:"511800",value:"\u96C5\u5B89\u5E02",label:"\u96C5\u5B89\u5E02"},{code:"511900",value:"\u5DF4\u4E2D\u5E02",label:"\u5DF4\u4E2D\u5E02"},{code:"512000",value:"\u8D44\u9633\u5E02",label:"\u8D44\u9633\u5E02"},{code:"513200",value:"\u963F\u575D\u85CF\u65CF\u7F8C\u65CF\u81EA\u6CBB\u5DDE",label:"\u963F\u575D\u85CF\u65CF\u7F8C\u65CF\u81EA\u6CBB\u5DDE"},{code:"513300",value:"\u7518\u5B5C\u85CF\u65CF\u81EA\u6CBB\u5DDE",label:"\u7518\u5B5C\u85CF\u65CF\u81EA\u6CBB\u5DDE"},{code:"513400",value:"\u51C9\u5C71\u5F5D\u65CF\u81EA\u6CBB\u5DDE",label:"\u51C9\u5C71\u5F5D\u65CF\u81EA\u6CBB\u5DDE"}]},{code:"520000",value:"\u8D35\u5DDE\u7701",label:"\u8D35\u5DDE\u7701",children:[{code:"520100",value:"\u8D35\u9633\u5E02",label:"\u8D35\u9633\u5E02"},{code:"520200",value:"\u516D\u76D8\u6C34\u5E02",label:"\u516D\u76D8\u6C34\u5E02"},{code:"520300",value:"\u9075\u4E49\u5E02",label:"\u9075\u4E49\u5E02"},{code:"520400",value:"\u5B89\u987A\u5E02",label:"\u5B89\u987A\u5E02"},{code:"520500",value:"\u6BD5\u8282\u5E02",label:"\u6BD5\u8282\u5E02"},{code:"520600",value:"\u94DC\u4EC1\u5E02",label:"\u94DC\u4EC1\u5E02"},{code:"522300",value:"\u9ED4\u897F\u5357\u5E03\u4F9D\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE",label:"\u9ED4\u897F\u5357\u5E03\u4F9D\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE"},{code:"522600",value:"\u9ED4\u4E1C\u5357\u82D7\u65CF\u4F97\u65CF\u81EA\u6CBB\u5DDE",label:"\u9ED4\u4E1C\u5357\u82D7\u65CF\u4F97\u65CF\u81EA\u6CBB\u5DDE"},{code:"522700",value:"\u9ED4\u5357\u5E03\u4F9D\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE",label:"\u9ED4\u5357\u5E03\u4F9D\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE"}]},{code:"530000",value:"\u4E91\u5357\u7701",label:"\u4E91\u5357\u7701",children:[{code:"530100",value:"\u6606\u660E\u5E02",label:"\u6606\u660E\u5E02"},{code:"530300",value:"\u66F2\u9756\u5E02",label:"\u66F2\u9756\u5E02"},{code:"530400",value:"\u7389\u6EAA\u5E02",label:"\u7389\u6EAA\u5E02"},{code:"530500",value:"\u4FDD\u5C71\u5E02",label:"\u4FDD\u5C71\u5E02"},{code:"530600",value:"\u662D\u901A\u5E02",label:"\u662D\u901A\u5E02"},{code:"530700",value:"\u4E3D\u6C5F\u5E02",label:"\u4E3D\u6C5F\u5E02"},{code:"530800",value:"\u666E\u6D31\u5E02",label:"\u666E\u6D31\u5E02"},{code:"530900",value:"\u4E34\u6CA7\u5E02",label:"\u4E34\u6CA7\u5E02"},{code:"532300",value:"\u695A\u96C4\u5F5D\u65CF\u81EA\u6CBB\u5DDE",label:"\u695A\u96C4\u5F5D\u65CF\u81EA\u6CBB\u5DDE"},{code:"532500",value:"\u7EA2\u6CB3\u54C8\u5C3C\u65CF\u5F5D\u65CF\u81EA\u6CBB\u5DDE",label:"\u7EA2\u6CB3\u54C8\u5C3C\u65CF\u5F5D\u65CF\u81EA\u6CBB\u5DDE"},{code:"532600",value:"\u6587\u5C71\u58EE\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE",label:"\u6587\u5C71\u58EE\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE"},{code:"532800",value:"\u897F\u53CC\u7248\u7EB3\u50A3\u65CF\u81EA\u6CBB\u5DDE",label:"\u897F\u53CC\u7248\u7EB3\u50A3\u65CF\u81EA\u6CBB\u5DDE"},{code:"532900",value:"\u5927\u7406\u767D\u65CF\u81EA\u6CBB\u5DDE",label:"\u5927\u7406\u767D\u65CF\u81EA\u6CBB\u5DDE"},{code:"533100",value:"\u5FB7\u5B8F\u50A3\u65CF\u666F\u9887\u65CF\u81EA\u6CBB\u5DDE",label:"\u5FB7\u5B8F\u50A3\u65CF\u666F\u9887\u65CF\u81EA\u6CBB\u5DDE"},{code:"533300",value:"\u6012\u6C5F\u5088\u50F3\u65CF\u81EA\u6CBB\u5DDE",label:"\u6012\u6C5F\u5088\u50F3\u65CF\u81EA\u6CBB\u5DDE"},{code:"533400",value:"\u8FEA\u5E86\u85CF\u65CF\u81EA\u6CBB\u5DDE",label:"\u8FEA\u5E86\u85CF\u65CF\u81EA\u6CBB\u5DDE"}]},{code:"540000",value:"\u897F\u85CF\u81EA\u6CBB\u533A",label:"\u897F\u85CF\u81EA\u6CBB\u533A",children:[{code:"540100",value:"\u62C9\u8428\u5E02",label:"\u62C9\u8428\u5E02"},{code:"540200",value:"\u65E5\u5580\u5219\u5E02",label:"\u65E5\u5580\u5219\u5E02"},{code:"540300",value:"\u660C\u90FD\u5E02",label:"\u660C\u90FD\u5E02"},{code:"540400",value:"\u6797\u829D\u5E02",label:"\u6797\u829D\u5E02"},{code:"540500",value:"\u5C71\u5357\u5E02",label:"\u5C71\u5357\u5E02"},{code:"540600",value:"\u90A3\u66F2\u5E02",label:"\u90A3\u66F2\u5E02"},{code:"542500",value:"\u963F\u91CC\u5730\u533A",label:"\u963F\u91CC\u5730\u533A"}]},{code:"610000",value:"\u9655\u897F\u7701",label:"\u9655\u897F\u7701",children:[{code:"610100",value:"\u897F\u5B89\u5E02",label:"\u897F\u5B89\u5E02"},{code:"610200",value:"\u94DC\u5DDD\u5E02",label:"\u94DC\u5DDD\u5E02"},{code:"610300",value:"\u5B9D\u9E21\u5E02",label:"\u5B9D\u9E21\u5E02"},{code:"610400",value:"\u54B8\u9633\u5E02",label:"\u54B8\u9633\u5E02"},{code:"610500",value:"\u6E2D\u5357\u5E02",label:"\u6E2D\u5357\u5E02"},{code:"610600",value:"\u5EF6\u5B89\u5E02",label:"\u5EF6\u5B89\u5E02"},{code:"610700",value:"\u6C49\u4E2D\u5E02",label:"\u6C49\u4E2D\u5E02"},{code:"610800",value:"\u6986\u6797\u5E02",label:"\u6986\u6797\u5E02"},{code:"610900",value:"\u5B89\u5EB7\u5E02",label:"\u5B89\u5EB7\u5E02"},{code:"611000",value:"\u5546\u6D1B\u5E02",label:"\u5546\u6D1B\u5E02"}]},{code:"620000",value:"\u7518\u8083\u7701",label:"\u7518\u8083\u7701",children:[{code:"620100",value:"\u5170\u5DDE\u5E02",label:"\u5170\u5DDE\u5E02"},{code:"620200",value:"\u5609\u5CEA\u5173\u5E02",label:"\u5609\u5CEA\u5173\u5E02"},{code:"620300",value:"\u91D1\u660C\u5E02",label:"\u91D1\u660C\u5E02"},{code:"620400",value:"\u767D\u94F6\u5E02",label:"\u767D\u94F6\u5E02"},{code:"620500",value:"\u5929\u6C34\u5E02",label:"\u5929\u6C34\u5E02"},{code:"620600",value:"\u6B66\u5A01\u5E02",label:"\u6B66\u5A01\u5E02"},{code:"620700",value:"\u5F20\u6396\u5E02",label:"\u5F20\u6396\u5E02"},{code:"620800",value:"\u5E73\u51C9\u5E02",label:"\u5E73\u51C9\u5E02"},{code:"620900",value:"\u9152\u6CC9\u5E02",label:"\u9152\u6CC9\u5E02"},{code:"621000",value:"\u5E86\u9633\u5E02",label:"\u5E86\u9633\u5E02"},{code:"621100",value:"\u5B9A\u897F\u5E02",label:"\u5B9A\u897F\u5E02"},{code:"621200",value:"\u9647\u5357\u5E02",label:"\u9647\u5357\u5E02"},{code:"622900",value:"\u4E34\u590F\u56DE\u65CF\u81EA\u6CBB\u5DDE",label:"\u4E34\u590F\u56DE\u65CF\u81EA\u6CBB\u5DDE"},{code:"623000",value:"\u7518\u5357\u85CF\u65CF\u81EA\u6CBB\u5DDE",label:"\u7518\u5357\u85CF\u65CF\u81EA\u6CBB\u5DDE"}]},{code:"630000",value:"\u9752\u6D77\u7701",label:"\u9752\u6D77\u7701",children:[{code:"630100",value:"\u897F\u5B81\u5E02",label:"\u897F\u5B81\u5E02"},{code:"630200",value:"\u6D77\u4E1C\u5E02",label:"\u6D77\u4E1C\u5E02"},{code:"632200",value:"\u6D77\u5317\u85CF\u65CF\u81EA\u6CBB\u5DDE",label:"\u6D77\u5317\u85CF\u65CF\u81EA\u6CBB\u5DDE"},{code:"632300",value:"\u9EC4\u5357\u85CF\u65CF\u81EA\u6CBB\u5DDE",label:"\u9EC4\u5357\u85CF\u65CF\u81EA\u6CBB\u5DDE"},{code:"632500",value:"\u6D77\u5357\u85CF\u65CF\u81EA\u6CBB\u5DDE",label:"\u6D77\u5357\u85CF\u65CF\u81EA\u6CBB\u5DDE"},{code:"632600",value:"\u679C\u6D1B\u85CF\u65CF\u81EA\u6CBB\u5DDE",label:"\u679C\u6D1B\u85CF\u65CF\u81EA\u6CBB\u5DDE"},{code:"632700",value:"\u7389\u6811\u85CF\u65CF\u81EA\u6CBB\u5DDE",label:"\u7389\u6811\u85CF\u65CF\u81EA\u6CBB\u5DDE"},{code:"632800",value:"\u6D77\u897F\u8499\u53E4\u65CF\u85CF\u65CF\u81EA\u6CBB\u5DDE",label:"\u6D77\u897F\u8499\u53E4\u65CF\u85CF\u65CF\u81EA\u6CBB\u5DDE"}]},{code:"640000",value:"\u5B81\u590F\u56DE\u65CF\u81EA\u6CBB\u533A",label:"\u5B81\u590F\u56DE\u65CF\u81EA\u6CBB\u533A",children:[{code:"640100",value:"\u94F6\u5DDD\u5E02",label:"\u94F6\u5DDD\u5E02"},{code:"640200",value:"\u77F3\u5634\u5C71\u5E02",label:"\u77F3\u5634\u5C71\u5E02"},{code:"640300",value:"\u5434\u5FE0\u5E02",label:"\u5434\u5FE0\u5E02"},{code:"640400",value:"\u56FA\u539F\u5E02",label:"\u56FA\u539F\u5E02"},{code:"640500",value:"\u4E2D\u536B\u5E02",label:"\u4E2D\u536B\u5E02"}]},{code:"650000",value:"\u65B0\u7586\u7EF4\u543E\u5C14\u81EA\u6CBB\u533A",label:"\u65B0\u7586\u7EF4\u543E\u5C14\u81EA\u6CBB\u533A",children:[{code:"650100",value:"\u4E4C\u9C81\u6728\u9F50\u5E02",label:"\u4E4C\u9C81\u6728\u9F50\u5E02"},{code:"650200",value:"\u514B\u62C9\u739B\u4F9D\u5E02",label:"\u514B\u62C9\u739B\u4F9D\u5E02"},{code:"650400",value:"\u5410\u9C81\u756A\u5E02",label:"\u5410\u9C81\u756A\u5E02"},{code:"650500",value:"\u54C8\u5BC6\u5E02",label:"\u54C8\u5BC6\u5E02"},{code:"652300",value:"\u660C\u5409\u56DE\u65CF\u81EA\u6CBB\u5DDE",label:"\u660C\u5409\u56DE\u65CF\u81EA\u6CBB\u5DDE"},{code:"652700",value:"\u535A\u5C14\u5854\u62C9\u8499\u53E4\u81EA\u6CBB\u5DDE",label:"\u535A\u5C14\u5854\u62C9\u8499\u53E4\u81EA\u6CBB\u5DDE"},{code:"652800",value:"\u5DF4\u97F3\u90ED\u695E\u8499\u53E4\u81EA\u6CBB\u5DDE",label:"\u5DF4\u97F3\u90ED\u695E\u8499\u53E4\u81EA\u6CBB\u5DDE"},{code:"652900",value:"\u963F\u514B\u82CF\u5730\u533A",label:"\u963F\u514B\u82CF\u5730\u533A"},{code:"653000",value:"\u514B\u5B5C\u52D2\u82CF\u67EF\u5C14\u514B\u5B5C\u81EA\u6CBB\u5DDE",label:"\u514B\u5B5C\u52D2\u82CF\u67EF\u5C14\u514B\u5B5C\u81EA\u6CBB\u5DDE"},{code:"653100",value:"\u5580\u4EC0\u5730\u533A",label:"\u5580\u4EC0\u5730\u533A"},{code:"653200",value:"\u548C\u7530\u5730\u533A",label:"\u548C\u7530\u5730\u533A"},{code:"654000",value:"\u4F0A\u7281\u54C8\u8428\u514B\u81EA\u6CBB\u5DDE",label:"\u4F0A\u7281\u54C8\u8428\u514B\u81EA\u6CBB\u5DDE"},{code:"654200",value:"\u5854\u57CE\u5730\u533A",label:"\u5854\u57CE\u5730\u533A"},{code:"654300",value:"\u963F\u52D2\u6CF0\u5730\u533A",label:"\u963F\u52D2\u6CF0\u5730\u533A"},{code:"659001",value:"\u77F3\u6CB3\u5B50\u5E02",label:"\u77F3\u6CB3\u5B50\u5E02"},{code:"659002",value:"\u963F\u62C9\u5C14\u5E02",label:"\u963F\u62C9\u5C14\u5E02"},{code:"659003",value:"\u56FE\u6728\u8212\u514B\u5E02",label:"\u56FE\u6728\u8212\u514B\u5E02"},{code:"659004",value:"\u4E94\u5BB6\u6E20\u5E02",label:"\u4E94\u5BB6\u6E20\u5E02"},{code:"659005",value:"\u5317\u5C6F\u5E02",label:"\u5317\u5C6F\u5E02"},{code:"659006",value:"\u94C1\u95E8\u5173\u5E02",label:"\u94C1\u95E8\u5173\u5E02"},{code:"659007",value:"\u53CC\u6CB3\u5E02",label:"\u53CC\u6CB3\u5E02"},{code:"659008",value:"\u53EF\u514B\u8FBE\u62C9\u5E02",label:"\u53EF\u514B\u8FBE\u62C9\u5E02"}]},{code:"659009",value:"\u6606\u7389\u5E02",label:"\u6606\u7389\u5E02"},{code:"710000",value:"\u53F0\u6E7E\u7701",label:"\u53F0\u6E7E\u7701"},{code:"810000",value:"\u9999\u6E2F\u7279\u522B\u884C\u653F\u533A",label:"\u9999\u6E2F\u7279\u522B\u884C\u653F\u533A"},{code:"820000",value:"\u6FB3\u95E8\u7279\u522B\u884C\u653F\u533A",label:"\u6FB3\u95E8\u7279\u522B\u884C\u653F\u533A"}],cv=function(ee){Object(zc.a)(fe,ee);var le=Object(hu.a)(fe);function fe(){var re;Object(_a.a)(this,fe);for(var Q=arguments.length,pe=new Array(Q),ye=0;ye<Q;ye++)pe[ye]=arguments[ye];return re=le.call.apply(le,[this].concat(pe)),re.onChange=function(Te){re.props.handleDefaultCity(Te)},re}return Object(ku.a)(fe,[{key:"render",value:function(){return Object(Mt.jsx)(Nv,{allowClear:!1,defaultValue:this.props.priorSearchCity.arr,options:Um,expandTrigger:"hover",placeholder:"\u9009\u62E9\u4F18\u5148\u641C\u7D22\u5730\u533A",onChange:this.onChange,style:{width:200},"data-inspector-line":"20","data-inspector-column":"6","data-inspector-relative-path":"src\\\\components\\\\CitySelector\\\\index.tsx"})}}]),fe}(Re.a.Component),xm=Ei.a.Text,km=Re.a.createContext(null),fv=function(le){var fe=le.index,re=Object(Va.a)(le,["index"]),Q=ea.a.useForm(),pe=Object(At.a)(Q,1),ye=pe[0];return Object(Mt.jsx)(ea.a,{form:ye,component:!1,"data-inspector-line":"28","data-inspector-column":"4","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx",children:Object(Mt.jsx)(km.Provider,{value:ye,"data-inspector-line":"29","data-inspector-column":"6","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx",children:Object(Mt.jsx)("tr",Object(ko.a)(Object(ko.a)({},re),{},{"data-inspector-line":"30","data-inspector-column":"8","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx"}))})})},hv=function(le){var fe=le.title,re=le.editable,Q=le.children,pe=le.dataIndex,ye=le.record,Te=le.priorSearchCity,Be=le.handleSave,Ke=Object(Va.a)(le,["title","editable","children","dataIndex","record","priorSearchCity","handleSave"]),lt=Object(se.useState)(!1),ot=Object(At.a)(lt,2),Tt=ot[0],Ft=ot[1],sr=Object(se.useContext)(km),ur=function(){Ft(!Tt),sr.setFieldsValue(Object(Na.a)({},pe,ye[pe]))},tr=function(){var Bn=Object(Yl.a)(un.a.mark(function wr(on){var jn,fn;return un.a.wrap(function(Sn){for(;;)switch(Sn.prev=Sn.next){case 0:return Sn.prev=0,jn=on.key,fn=Object(Va.a)(on,["key"]),Sn.next=4,sr.validateFields();case 4:ur(),Be(Object(ko.a)(Object(ko.a)({},ye),fn)),Sn.next=11;break;case 8:Sn.prev=8,Sn.t0=Sn.catch(0),console.log("Save failed:",Sn.t0);case 11:case"end":return Sn.stop()}},wr,null,[[0,8]])}));return function(on){return Bn.apply(this,arguments)}}(),$t=function(){var Bn=Object(Yl.a)(un.a.mark(function wr(){var on;return un.a.wrap(function(fn){for(;;)switch(fn.prev=fn.next){case 0:return fn.prev=0,fn.next=3,sr.validateFields();case 3:on=fn.sent,ur(),Be(Object(ko.a)(Object(ko.a)({},ye),on)),fn.next=11;break;case 8:fn.prev=8,fn.t0=fn.catch(0),console.log("Save failed:",fn.t0);case 11:case"end":return fn.stop()}},wr,null,[[0,8]])}));return function(){return Bn.apply(this,arguments)}}(),Vt=function(wr){switch(wr){case"name":return Object(Mt.jsx)(Sc,{record:ye,saveSearchResult:tr,priorSearchCity:Te,"data-inspector-line":"102","data-inspector-column":"10","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx"});case"demand":return Object(Mt.jsx)(Gi.a,{autoFocus:!0,onPressEnter:$t,onBlur:$t,min:0,step:1,style:{width:"100%"},"data-inspector-line":"110","data-inspector-column":"10","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx"});default:return Object(Mt.jsx)(Mt.Fragment,{})}},Qr=Q;return re&&(Qr=Tt?Object(Mt.jsx)(ea.a.Item,{style:{margin:0},name:pe,rules:[{required:!0,message:"".concat(fe," is required.")}],"data-inspector-line":"128","data-inspector-column":"6","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx",children:Vt(pe)}):Object(Mt.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:ur,"data-inspector-line":"141","data-inspector-column":"6","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx",children:Q})),Object(Mt.jsx)("td",Object(ko.a)(Object(ko.a)({},Ke),{},{"data-inspector-line":"151","data-inspector-column":"9","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx",children:Qr}))},Hm=function(ee){Object(zc.a)(fe,ee);var le=Object(hu.a)(fe);function fe(re){var Q;return Object(_a.a)(this,fe),Q=le.call(this,re),Q.columns=void 0,Q.priorSearchCity={arr:["\u5317\u4EAC\u5E02"]},Q.handleDefaultCity=function(pe){Q.priorSearchCity.arr=pe},Q.handleDelete=function(pe){try{var ye=Object(Zs.a)(Q.props.step2POIData);Q.props.setStep2POIData(ye.filter(function(Te){return Te.key!==pe})),Gr.default.success("\u5220\u9664\u5730\u70B9\u6210\u529F\uFF01")}catch(Te){Gr.default.error("\u5220\u9664\u5730\u70B9\u5931\u8D25\uFF0C".concat(Te.message," !"))}},Q.handleAdd=function(){var pe=Object(Zs.a)(Q.props.step2POIData),ye={key:Rh(),name:"[\u65B0\u5730\u70B9]",lng:0,lat:0,demand:1};Q.props.setStep2POIData([].concat(Object(Zs.a)(pe),[ye])),Gr.default.success("\u5DF2\u5728\u5E95\u90E8\u6DFB\u52A0\u4E00\u884C\uFF01")},Q.handleSave=function(pe){var ye=Object(Zs.a)(Q.props.step2POIData),Te=ye.findIndex(function(Ke){return pe.key===Ke.key}),Be=ye[Te];ye.splice(Te,1,Object(ko.a)(Object(ko.a)({},Be),pe)),Q.props.setStep2POIData(ye)},Q.columns=[{title:"\u5730\u70B9",dataIndex:"name",editable:!0},{title:"\u9700\u6C42",dataIndex:"demand",width:"25%",editable:!0},{title:"\u64CD\u4F5C",dataIndex:"operation",width:65,render:function(ye,Te){return Q.props.step2POIData.length>=1?Object(Mt.jsx)(lp.a,{disabled:!0,onClick:function(){return Q.handleDelete(Te.key)},"data-inspector-line":"190","data-inspector-column":"12","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx"}):null}}],Q}return Object(ku.a)(fe,[{key:"render",value:function(){var Q=this,pe=this.props.step2POIData,ye={body:{row:fv,cell:hv}},Te=this.columns.map(function(Be){return Be.editable?Object(ko.a)(Object(ko.a)({},Be),{},{onCell:function(lt){return{record:lt,editable:Be.editable,dataIndex:Be.dataIndex,title:Be.title,priorSearchCity:Q.priorSearchCity,handleSave:Q.handleSave}}}):Be});return Object(Mt.jsxs)(Mt.Fragment,{children:[Object(Mt.jsx)(Di.a,{onClick:this.handleAdd,type:"primary",style:{marginBottom:20},"data-inspector-line":"266","data-inspector-column":"8","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx",children:"Add a row"}),Object(Mt.jsxs)(_n.b,{style:{float:"right"},"data-inspector-line":"273","data-inspector-column":"8","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx",children:[Object(Mt.jsx)(no.a,{title:"\u4F18\u5148\u662F\u6307\u8F93\u5165\u5730\u70B9\u65F6\u65E0\u9700\u8F93\u5165\u57CE\u5E02\u540D\u4E5F\u4F18\u5148\u5728\u8BE5\u57CE\u5E02\u5185\u67E5\u627E\u3002\u4F46\u82E5\u8F93\u5165\u57CE\u5E02+\u5730\u5740\uFF0C\u5219\u5C1D\u8BD5\u5728\u5168\u56FD\u8303\u56F4\u5185\u67E5\u627E\u3002","data-inspector-line":"274","data-inspector-column":"8","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx",children:Object(Mt.jsx)(xm,{"data-inspector-line":"275","data-inspector-column":"10","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx",children:"\u4F18\u5148\u641C\u7D22\u57CE\u5E02\uFF1A"})}),Object(Mt.jsx)(cv,{priorSearchCity:this.priorSearchCity,handleDefaultCity:this.handleDefaultCity,"data-inspector-line":"277","data-inspector-column":"10","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx"})]}),Object(Mt.jsx)(fu,{components:ye,rowClassName:"editable-row",bordered:!0,sticky:!0,dataSource:pe,columns:Te,pagination:!1,scroll:{y:300},"data-inspector-line":"282","data-inspector-column":"8","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx"}),Object(Mt.jsx)(vu,{title:"\u8868\u683C\u6570\u636E",collapsible:!0,defaultCollapsed:!0,"data-inspector-line":"292","data-inspector-column":"8","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx",children:Object(Mt.jsx)(Kn.a,{fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(pe),"data-inspector-line":"293","data-inspector-column":"10","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx"})})]})}}]),fe}(Re.a.Component),vd=Hm,rm=Ei.a.Text,nm=function(le){var fe=le[0].demand,re;for(re=0;re<le.length;re+=1){var Q=le[re];if(Q.lng===0||Q.lat===0)throw new Error("\u7B2C ".concat(re+1," \u884C\u7684 ").concat(Q.name," \u4E3A\u65E0\u6548\u5730\u70B9\uFF01"));if(Q.demand<=0)throw new Error("\u7B2C ".concat(re+1," \u884C\u7684 ").concat(Q.name," \u7684\u9700\u6C42\u91CF\u4E0D\u5408\u6CD5\uFF01"));if(fe<Q.demand)throw new Error("\u8F66\u8F86\u8F7D\u91CD\u91CF\u8FC7\u5C0F\uFF0C\u4E0D\u8DB3\u4EE5\u88C5\u8F7D\u7B2C ".concat(re+1," \u884C\u7684 ").concat(Q.name," \u5904\u8D27\u7269\uFF01"))}if(re<3)throw new Error("\u53EA\u8F93\u5165\u4E86 ".concat(re," \u5904\u5730\u70B9\uFF0C\u8BA1\u7B97\u91CF\u8FC7\u5C11\u3002"))},mh=function(le){var fe=le.rootPOIData,re=le.setRootPOIData,Q=le.setCurrentStep,pe=Object(se.useState)(fe),ye=Object(At.a)(pe,2),Te=ye[0],Be=ye[1],Ke=ea.a.useForm(),lt=Object(At.a)(Ke,1),ot=lt[0];if(!fe)return null;var Tt=function(){try{nm(Te),re(Te),Q("step1")}catch(ur){Gr.default.error(ur.message)}},Ft=function(){try{nm(Te),re(Te),Q("result")}catch(ur){Gr.default.error(ur.message)}};return Object(Mt.jsxs)(ea.a,{form:ot,layout:"horizontal","data-inspector-line":"73","data-inspector-column":"4","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step2Form\\\\index.tsx",children:[Object(Mt.jsx)($o,{"data-inspector-line":"77","data-inspector-column":"6","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step2Form\\\\index.tsx"}),Object(Mt.jsx)(gr.a,{message:Object(Mt.jsxs)(_n.b,{direction:"vertical","data-inspector-line":"80","data-inspector-column":"10","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step2Form\\\\index.tsx",children:[Object(Mt.jsx)(rm,{"data-inspector-line":"81","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step2Form\\\\index.tsx",children:"1. \u70B9\u51FB\u5730\u70B9\u53EF\u4EE5\u76F4\u63A5\u5728\u7EBF\u641C\u7D22\u5E76\u4FEE\u6539\uFF1B"}),Object(Mt.jsx)(rm,{"data-inspector-line":"82","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step2Form\\\\index.tsx",children:"2. \u9996\u884C\u5730\u70B9\u4E3A\u914D\u9001\u70B9\uFF0C\u5176\u9700\u6C42\u91CF\u4E3A\u6BCF\u8F86\u8F66\u7684\u8F7D\u91CD\uFF1B\u5176\u4F59\u884C\u5730\u70B9\u4E3A\u9700\u6C42\u70B9\u3002"}),Object(Mt.jsx)(rm,{"data-inspector-line":"83","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step2Form\\\\index.tsx",children:"3.\u914D\u9001\u81F3\u9700\u6C42\u70B9\u7684\u8F66\u8F86\u6570\u4E0D\u9700\u8981\u8BBE\u7F6E\uFF0C\u7531\u8BA1\u7B97\u5F97\u51FA\u7ED3\u679C\u3002"})]}),type:"info",showIcon:!0,closable:!0,style:{marginBottom:20},"data-inspector-line":"78","data-inspector-column":"6","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step2Form\\\\index.tsx"}),Object(Mt.jsx)(ea.a.Item,{"data-inspector-line":"90","data-inspector-column":"6","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step2Form\\\\index.tsx",children:Object(Mt.jsx)(vd,{step2POIData:Te,setStep2POIData:Be,"data-inspector-line":"91","data-inspector-column":"8","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step2Form\\\\index.tsx"})}),Object(Mt.jsx)(ea.a.Item,{"data-inspector-line":"96","data-inspector-column":"6","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step2Form\\\\index.tsx",children:Object(Mt.jsxs)(_n.b,{style:{marginLeft:"150px"},size:"large","data-inspector-line":"97","data-inspector-column":"8","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step2Form\\\\index.tsx",children:[Object(Mt.jsx)(Di.a,{onClick:Tt,"data-inspector-line":"102","data-inspector-column":"10","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step2Form\\\\index.tsx",children:"\u4E0A\u4E00\u6B65"}),Object(Mt.jsx)(Di.a,{type:"primary",onClick:Ft,"data-inspector-line":"105","data-inspector-column":"10","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step2Form\\\\index.tsx",children:"\u63D0\u4EA4"})]})})]})},np=mh,Vm=U("J+/v"),Fv=U("MoRW"),fp=U("OujY"),zp=U.n(fp),Fd=function(le){var fe=le.setCurrentStep,re=le.rootAlgoData,Q=le.setRootAlgoData,pe=le.rootPOIData,ye=le.setRootPOIData,Te=le.setCalcStatus;if(Object(se.useEffect)(function(){Te(1);var lt=setTimeout(function(){return Te(2)},3e3);return function(){return clearTimeout(lt)}}),!re)return null;var Be=function(){Q(bm),ye(Tp),fe("step1"),Te(0)},Ke=Object(Mt.jsx)(Di.a,{type:"primary",onClick:Be,"data-inspector-line":"33","data-inspector-column":"4","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\StepResult\\\\index.tsx",children:"\u91CD\u65B0\u5F00\u59CB"});return Object(Mt.jsxs)(Mt.Fragment,{children:[Object(Mt.jsx)(Fv.a,{status:"success",title:"\u8BA1\u7B97\u4E2D",extra:Ke,className:zp.a.result,"data-inspector-line":"42","data-inspector-column":"6","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\StepResult\\\\index.tsx"}),Object(Mt.jsxs)(vu,{title:"\u8868\u5355\u6570\u636E",collapsible:!0,defaultCollapsed:!1,style:{width:"100%"},"data-inspector-line":"50","data-inspector-column":"6","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\StepResult\\\\index.tsx",children:[Object(Mt.jsx)(Kn.a,{fieldProps:{style:{width:"48%",float:"left"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(re),"data-inspector-line":"57","data-inspector-column":"8","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\StepResult\\\\index.tsx"}),Object(Mt.jsx)(Kn.a,{fieldProps:{style:{width:"48%",float:"right"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(pe),"data-inspector-line":"68","data-inspector-column":"8","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\StepResult\\\\index.tsx"})]})]})},dv=Fd,im=U("NHCu"),Cm=function(){return Object(Mt.jsxs)(im.Map,{style:{height:700},center:new BMapGL.Point(116.4,39.91),zoom:11,"data-inspector-line":"11","data-inspector-column":"4","data-inspector-relative-path":"src\\\\components\\\\BaiduMap\\\\index.tsx",children:[Object(Mt.jsx)(im.Marker,{position:new BMapGL.Point(116.4,39.91),icon:"start","data-inspector-line":"18","data-inspector-column":"6","data-inspector-relative-path":"src\\\\components\\\\BaiduMap\\\\index.tsx"}),Object(Mt.jsx)(im.NavigationControl,{"data-inspector-line":"19","data-inspector-column":"6","data-inspector-relative-path":"src\\\\components\\\\BaiduMap\\\\index.tsx"})]})},es=Object(im.MapApiLoaderHOC)({ak:"OalRnqTPhFKA9F4CwPQwCtprspgDqGG3"})(Cm),om=[{key:"1",carIndex:"1",route:"\u56DB\u5B63\u9752\u9633\u5149\u79D1\u6280\u56ED\u533A-\u4E1C1\u95E8 (@ 0 min) -> \u5BF9\u5916\u7ECF\u6D4E\u8D38\u6613\u5927\u5B66-\u897F\u95E8 (@ 29 min) -> \u5317\u4EAC\u5E08\u8303\u5927\u5B66\u5317\u9662-\u897F3\u95E8 (@ 46 min) -> \u56DB\u5B63\u9752\u9633\u5149\u79D1\u6280\u56ED\u533A-\u4E1C1\u95E8 (@ 63 min)",distance:"43",loadRate:"100%"},{key:"2",carIndex:"2",route:"\u56DB\u5B63\u9752\u9633\u5149\u79D1\u6280\u56ED\u533A-\u4E1C1\u95E8 (@ 0 min) -> \u4E2D\u592E\u7F8E\u672F\u5B66\u9662-\u4E1C\u95E8 (@ 26 min) -> \u56DB\u5B63\u9752\u9633\u5149\u79D1\u6280\u56ED\u533A-\u4E1C1\u95E8 (@ 51 min)",distance:"31",loadRate:"66%"}],Jo=[{title:"\u8F66\u8F86\u5E8F\u53F7",dataIndex:"carIndex",key:"carIndex"},{title:"\u8DEF\u5F84\uFF08\u5230\u8FBE\u5404\u70B9\u65F6\u95F4\uFF09",dataIndex:"route",key:"route"},{title:"\u884C\u9A76\u8DEF\u7A0B\uFF08km\uFF09",dataIndex:"distance",key:"distance"},{title:"\u6EE1\u8F7D\u7387",dataIndex:"loadRate",key:"loadRate"}],Am=function(){return Object(Mt.jsx)(fu,{dataSource:om,columns:Jo,"data-inspector-line":"48","data-inspector-column":"4","data-inspector-relative-path":"src\\\\components\\\\ResultTable\\\\index.tsx"})},gu=Am,Qu=U("YNLO"),Up=U.n(Qu),wm=kr.Step,bm={algorithm:"SA",initialTemp:1e3,finalTemp:1,coolingRate:.9,chainLength:10},Tp=[{key:Rh(),name:"\u56DB\u5B63\u9752\u9633\u5149\u79D1\u6280\u56ED\u533A-\u4E1C1\u95E8\uFF08\u914D\u9001\u70B9\uFF09",lng:116.426549,lat:39.779675,demand:3},{key:Rh(),name:"\u5317\u4EAC\u5E08\u8303\u5927\u5B66\u5317\u9662-\u897F3\u95E8",lng:116.409614,lat:39.942402,demand:1},{key:Rh(),name:"\u5BF9\u5916\u7ECF\u6D4E\u8D38\u6613\u5927\u5B66-\u897F\u95E8",lng:116.431244,lat:39.986622,demand:2},{key:Rh(),name:"\u4E2D\u592E\u7F8E\u672F\u5B66\u9662-\u4E1C\u95E8",lng:116.472828,lat:39.988674,demand:2}],Bd=function(){var le=Object(se.useState)("step1"),fe=Object(At.a)(le,2),re=fe[0],Q=fe[1],pe=Object(se.useState)(bm),ye=Object(At.a)(pe,2),Te=ye[0],Be=ye[1],Ke=Object(se.useState)(Tp),lt=Object(At.a)(Ke,2),ot=lt[0],Tt=lt[1],Ft=Object(se.useState)(0),sr=Object(At.a)(Ft,2),ur=sr[0],tr=sr[1],$t={currentStep:re,setCurrentStep:Q,rootAlgoData:Te,setRootAlgoData:Be,rootPOIData:ot,setRootPOIData:Tt},Vt=function(jn){switch(jn){case 1:return Object(Mt.jsxs)(ve.a,{"data-inspector-line":"87","data-inspector-column":"10","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:[Object(Mt.jsx)("h4",{"data-inspector-line":"88","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:"\u8BA1\u7B97\u7ED3\u679C\uFF1A"}),Object(Mt.jsx)(dt,{active:!0,"data-inspector-line":"89","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx"})]});case 2:return Object(Mt.jsxs)(ve.a,{"data-inspector-line":"94","data-inspector-column":"10","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:[Object(Mt.jsx)("h3",{"data-inspector-line":"95","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:"\u8BA1\u7B97\u7ED3\u679C\uFF1A"}),Object(Mt.jsx)(gu,{"data-inspector-line":"96","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx"})]});case 0:default:return Object(Mt.jsx)(Mt.Fragment,{})}},Qr=Object(se.useMemo)(function(){var on=function(){var fn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"step1",zr={step1:{step:0,component:Object(Mt.jsx)(Mr,{currentStep:re,setCurrentStep:Q,rootAlgoData:Te,setRootAlgoData:Be,"data-inspector-line":"112","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx"})},step2:{step:1,component:Object(Mt.jsx)(np,{currentStep:re,setCurrentStep:Q,rootPOIData:ot,setRootPOIData:Tt,"data-inspector-line":"123","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx"})},result:{step:2,component:Object(Mt.jsx)(dv,{currentStep:re,setCurrentStep:Q,rootAlgoData:Te,setRootAlgoData:Be,rootPOIData:ot,setRootPOIData:Tt,calcStatus:ur,setCalcStatus:tr,"data-inspector-line":"134","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx"})}};return zr[fn]};return on(re)},[re]),Bn=Qr.step,wr=Qr.component;return Object(Mt.jsxs)(Mt.Fragment,{children:[Object(Mt.jsx)(Oe.a,{gutter:[16,16],"data-inspector-line":"155","data-inspector-column":"6","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:Object(Mt.jsx)(K.a,{span:24,"data-inspector-line":"156","data-inspector-column":"8","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:Object(Mt.jsx)(ei.a,{content:"\u6C42\u89E3\u591A\u8F66\u8F86\u8DEF\u5F84\u95EE\u9898 (VRP)","data-inspector-line":"157","data-inspector-column":"10","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx"})})}),Object(Mt.jsxs)(Oe.a,{gutter:[16,16],"data-inspector-line":"160","data-inspector-column":"6","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:[Object(Mt.jsx)(K.a,{span:12,"data-inspector-line":"161","data-inspector-column":"8","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:Object(Mt.jsxs)(ve.a,{"data-inspector-line":"162","data-inspector-column":"10","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:[Object(Mt.jsxs)(kr,{size:"small",current:Bn,className:Up.a.steps,"data-inspector-line":"163","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:[Object(Mt.jsx)(wm,{title:"\u7B97\u6CD5","data-inspector-line":"164","data-inspector-column":"14","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx"}),Object(Mt.jsx)(wm,{title:"\u9009\u70B9","data-inspector-line":"165","data-inspector-column":"14","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx"}),Object(Mt.jsx)(wm,{title:"\u8BA1\u7B97","data-inspector-line":"166","data-inspector-column":"14","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx"})]}),wr]})}),Object(Mt.jsx)(K.a,{span:12,"data-inspector-line":"171","data-inspector-column":"8","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:Object(Mt.jsx)(ve.a,{"data-inspector-line":"172","data-inspector-column":"10","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:Object(Mt.jsx)(es,{"data-inspector-line":"173","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx"})})})]}),Object(Mt.jsx)(Oe.a,{gutter:[16,16],"data-inspector-line":"177","data-inspector-column":"6","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:Object(Mt.jsx)(K.a,{span:24,"data-inspector-line":"178","data-inspector-column":"8","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:Vt(ur)})})]})},Ug=je.default=Bd},fGT3:function(rt,je,U){var xe=U("4kuk"),Oe=U("Xi7e"),F=U("ebwN");function K(){this.size=0,this.__data__={hash:new xe,map:new(F||Oe),string:new xe}}rt.exports=K},fHMl:function(rt,je,U){"use strict";var xe=U("q1tI"),Oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},F=Oe,K=U("6VBw"),Ae=function(We,we){return xe.createElement(K.a,Object.assign({},We,{ref:we,icon:F}))};Ae.displayName="EyeInvisibleOutlined";var ve=je.a=xe.forwardRef(Ae)},"fR/l":function(rt,je,U){var xe=U("CH3K"),Oe=U("Z0cm");function F(K,Ae,ve){var Pe=Ae(K);return Oe(K)?Pe:xe(Pe,ve(K))}rt.exports=F},fmRc:function(rt,je,U){var xe=U("Xi7e"),Oe=U("77Zs"),F=U("L8xA"),K=U("gCq4"),Ae=U("VaNO"),ve=U("0Cz8");function Pe(We){var we=this.__data__=new xe(We);this.size=we.size}Pe.prototype.clear=Oe,Pe.prototype.delete=F,Pe.prototype.get=K,Pe.prototype.has=Ae,Pe.prototype.set=ve,rt.exports=Pe},ftKO:function(rt,je){var U="__lodash_hash_undefined__";function xe(Oe){return this.__data__.set(Oe,U),this}rt.exports=xe},fyUT:function(rt,je,U){"use strict";var xe=U("wx14"),Oe=U("rePB"),F=U("q1tI"),K=U.n(F),Ae=U("TSYQ"),ve=U.n(Ae),Pe=U("Ff2n"),We=U("VTBJ"),we=U("1OyB"),De=U("vuIU"),at=U("Ji7U"),se=U("LK+K"),Re=U("4IlW");function mt(){}function st(rn){rn.preventDefault()}var St=function(fr){return fr.replace(/[^\w.-]+/g,"")},Xr=200,zt=600,nr=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,pn=function(fr){return fr!=null},Vr=function(fr,_r){return _r===fr||typeof _r=="number"&&typeof fr=="number"&&isNaN(_r)&&isNaN(fr)},$e=function(rn){Object(at.a)(_r,rn);var fr=Object(se.a)(_r);function _r(Wr){var dt;Object(we.a)(this,_r),dt=fr.call(this,Wr),dt.onKeyDown=function(Jt){var rr=dt.props,Gn=rr.onKeyDown,Kr=rr.onPressEnter,ai=rr.keyboard,Nn=[Re.a.UP,Re.a.DOWN];if(ai!==!1&&Nn.includes(Jt.keyCode))switch(Jt.keyCode){case Re.a.UP:{var So=dt.getRatio(Jt);dt.up(Jt,So,null),dt.stop();break}case Re.a.DOWN:{var Wo=dt.getRatio(Jt);dt.down(Jt,Wo,null),dt.stop();break}}Jt.keyCode===Re.a.ENTER&&(Kr==null||Kr(Jt)),dt.recordCursorPosition(),dt.lastKeyCode=Jt.keyCode,Gn==null||Gn(Jt)},dt.onKeyUp=function(Jt){var rr=dt.props.onKeyUp;if(dt.stop(),dt.recordCursorPosition(),rr){for(var Gn=arguments.length,Kr=new Array(Gn>1?Gn-1:0),ai=1;ai<Gn;ai++)Kr[ai-1]=arguments[ai];rr.apply(void 0,[Jt].concat(Kr))}},dt.onChange=function(Jt){var rr=dt.props.onChange;dt.state.focused&&(dt.inputting=!0),dt.rawInput=dt.props.parser(dt.getValueFromEvent(Jt)),dt.setState({inputValue:dt.rawInput}),rr(dt.toNumber(dt.rawInput))},dt.onMouseUp=function(){var Jt=dt.props.onMouseUp;dt.recordCursorPosition(),Jt&&Jt.apply(void 0,arguments)},dt.onFocus=function(){var Jt;dt.setState({focused:!0}),(Jt=dt.props).onFocus.apply(Jt,arguments)},dt.onBlur=function(){var Jt=dt.props.onBlur;dt.inputting=!1,dt.setState({focused:!1});var rr=dt.getCurrentValidValue(dt.state.inputValue),Gn=dt.setValue(rr,mt);if(Jt){var Kr=dt.input.value,ai=dt.getInputDisplayValue({focus:!1,value:Gn});dt.input.value=ai,Jt.apply(void 0,arguments),dt.input.value=Kr}},dt.getRatio=function(Jt){var rr=1;return Jt.metaKey||Jt.ctrlKey?rr=.1:Jt.shiftKey&&(rr=10),rr},dt.getFullNum=function(Jt){return isNaN(Jt)||!/e/i.test(String(Jt))?Jt:Number(Jt).toFixed(18).replace(/\.?0+$/,"")},dt.getPrecision=function(Jt){if(pn(dt.props.precision))return dt.props.precision;var rr=String(Jt);if(rr.indexOf("e-")>=0)return parseInt(rr.slice(rr.indexOf("e-")+2),10);var Gn=0;return rr.indexOf(".")>=0&&(Gn=rr.length-rr.indexOf(".")-1),Gn},dt.getInputDisplayValue=function(Jt){var rr=Jt||dt.state,Gn=rr.focused,Kr=rr.inputValue,ai=rr.value,Nn;Gn?Nn=Kr:Nn=dt.toPrecisionAsStep(ai),Nn==null&&(Nn="");var So=dt.formatWrapper(Nn);return pn(dt.props.decimalSeparator)&&(So=So.toString().replace(".",dt.props.decimalSeparator)),So},dt.recordCursorPosition=function(){try{dt.cursorStart=dt.input.selectionStart,dt.cursorEnd=dt.input.selectionEnd,dt.currentValue=dt.input.value,dt.cursorBefore=dt.input.value.substring(0,dt.cursorStart),dt.cursorAfter=dt.input.value.substring(dt.cursorEnd)}catch(Jt){}},dt.restoreByAfter=function(Jt){if(Jt===void 0)return!1;var rr=dt.input.value,Gn=rr.lastIndexOf(Jt);if(Gn===-1)return!1;var Kr=dt.cursorBefore.length;return dt.lastKeyCode===Re.a.DELETE&&dt.cursorBefore.charAt(Kr-1)===Jt[0]?(dt.fixCaret(Kr,Kr),!0):Gn+Jt.length===rr.length?(dt.fixCaret(Gn,Gn),!0):!1},dt.partRestoreByAfter=function(Jt){return Jt===void 0?!1:Array.prototype.some.call(Jt,function(rr,Gn){var Kr=Jt.substring(Gn);return dt.restoreByAfter(Kr)})},dt.isNotCompleteNumber=function(Jt){return isNaN(Jt)||Jt===""||Jt===null||Jt&&Jt.toString().indexOf(".")===Jt.toString().length-1},dt.stop=function(){dt.autoStepTimer&&clearTimeout(dt.autoStepTimer)},dt.down=function(Jt,rr,Gn){dt.pressingUpOrDown=!0,dt.step("down",Jt,rr,Gn)},dt.up=function(Jt,rr,Gn){dt.pressingUpOrDown=!0,dt.step("up",Jt,rr,Gn)},dt.saveInput=function(Jt){dt.input=Jt};var At=Wr.value;At===void 0&&(At=Wr.defaultValue),dt.state={focused:Wr.autoFocus};var cn=dt.getValidValue(dt.toNumber(At));return dt.state=Object(We.a)(Object(We.a)({},dt.state),{},{inputValue:dt.toPrecisionAsStep(cn),value:cn}),dt}return Object(De.a)(_r,[{key:"componentDidMount",value:function(){this.componentDidUpdate(null)}},{key:"componentDidUpdate",value:function(dt){var At=this.props,cn=At.value,Jt=At.onChange,rr=At.max,Gn=At.min,Kr=this.state.focused;if(dt){if(!Vr(dt.value,cn)||!Vr(dt.max,rr)||!Vr(dt.min,Gn)){var ai=Kr?cn:this.getValidValue(cn),Nn;this.pressingUpOrDown?Nn=ai:this.inputting?Nn=this.rawInput:Nn=this.toPrecisionAsStep(ai),this.setState({value:ai,inputValue:Nn})}var So="value"in this.props?cn:this.state.value;"max"in this.props&&dt.max!==rr&&typeof So=="number"&&So>rr&&Jt&&Jt(rr),"min"in this.props&&dt.min!==Gn&&typeof So=="number"&&So<Gn&&Jt&&Jt(Gn)}try{if(this.cursorStart!==void 0&&this.state.focused){if(!this.partRestoreByAfter(this.cursorAfter)&&this.state.value!==this.props.value){var Wo=this.getInputDisplayValue(this.state).length;this.cursorAfter?this.lastKeyCode===Re.a.BACKSPACE?Wo=this.cursorStart-1:this.lastKeyCode===Re.a.DELETE&&(Wo=this.cursorStart):Wo=this.input.value.length,this.fixCaret(Wo,Wo)}else if(this.currentValue===this.input.value)switch(this.lastKeyCode){case Re.a.BACKSPACE:this.fixCaret(this.cursorStart-1,this.cursorStart-1);break;case Re.a.DELETE:this.fixCaret(this.cursorStart+1,this.cursorStart+1);break;default:}}}catch(Un){}this.lastKeyCode=null,!!this.pressingUpOrDown&&this.props.focusOnUpDown&&this.state.focused&&document.activeElement!==this.input&&this.focus()}},{key:"componentWillUnmount",value:function(){this.stop()}},{key:"getCurrentValidValue",value:function(dt){var At=dt;return At===""?At="":this.isNotCompleteNumber(parseFloat(At))?At=this.state.value:At=this.getValidValue(At),this.toNumber(At)}},{key:"getValueFromEvent",value:function(dt){var At=dt.target.value.trim().replace(/。/g,".");return pn(this.props.decimalSeparator)&&(At=At.replace(this.props.decimalSeparator,".")),At}},{key:"getValidValue",value:function(dt){var At=this.props,cn=At.min,Jt=At.max,rr=parseFloat(dt);return isNaN(rr)?dt:(rr<cn&&(rr=cn),rr>Jt&&(rr=Jt),rr)}},{key:"setValue",value:function(dt,At){var cn=this.props.precision,Jt=this.isNotCompleteNumber(parseFloat(dt))?null:parseFloat(dt),rr=this.state.value,Gn=rr===void 0?null:rr,Kr=this.state.inputValue,ai=Kr===void 0?null:Kr,Nn=typeof Jt=="number"?Jt.toFixed(cn):"".concat(Jt),So=Jt!==Gn||Nn!=="".concat(ai);return"value"in this.props?(ai=this.toPrecisionAsStep(this.state.value),this.setState({inputValue:ai},At)):this.setState({value:Jt,inputValue:this.toPrecisionAsStep(dt)},At),So&&this.props.onChange(Jt),Jt}},{key:"getMaxPrecision",value:function(dt){var At=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,cn=this.props,Jt=cn.precision,rr=cn.step;if(pn(Jt))return Jt;var Gn=this.getPrecision(At),Kr=this.getPrecision(rr),ai=this.getPrecision(dt);return dt?Math.max(ai,Gn+Kr):Gn+Kr}},{key:"getPrecisionFactor",value:function(dt){var At=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,cn=this.getMaxPrecision(dt,At);return Math.pow(10,cn)}},{key:"focus",value:function(){this.input.focus(),this.recordCursorPosition()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"formatWrapper",value:function(dt){return this.props.formatter?this.props.formatter(dt):dt}},{key:"toPrecisionAsStep",value:function(dt){if(this.isNotCompleteNumber(dt)||dt==="")return dt;var At=Math.abs(this.getMaxPrecision(dt));return isNaN(At)?dt.toString():Number(dt).toFixed(At)}},{key:"toNumber",value:function(dt){var At=this.props.precision,cn=this.state.focused,Jt=dt&&dt.length>16&&cn;return this.isNotCompleteNumber(dt)||Jt?dt:pn(At)?Math.round(dt*Math.pow(10,At))/Math.pow(10,At):Number(dt)}},{key:"upStep",value:function(dt,At){var cn=this.props.step,Jt=this.getPrecisionFactor(dt,At),rr=Math.abs(this.getMaxPrecision(dt,At)),Gn=((Jt*dt+Jt*Number(cn)*At)/Jt).toFixed(rr);return this.toNumber(Gn)}},{key:"downStep",value:function(dt,At){var cn=this.props.step,Jt=this.getPrecisionFactor(dt,At),rr=Math.abs(this.getMaxPrecision(dt,At)),Gn=((Jt*dt-Jt*Number(cn)*At)/Jt).toFixed(rr);return this.toNumber(Gn)}},{key:"step",value:function(dt,At){var cn=this,Jt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,rr=arguments.length>3?arguments[3]:void 0;this.stop(),this.recordCursorPosition(),At&&(At.persist(),At.preventDefault());var Gn=this.props;if(!Gn.disabled){var Kr=this.getCurrentValidValue(this.state.inputValue)||0;if(!this.isNotCompleteNumber(Kr)){var ai=this["".concat(dt,"Step")](Kr,Jt),Nn=ai>Gn.max||ai<Gn.min;ai>Gn.max?ai=Gn.max:ai<Gn.min&&(ai=Gn.min),this.setValue(ai,null),Gn.onStep&&Gn.onStep(ai,{offset:Jt,type:dt}),this.setState({focused:!0},function(){cn.pressingUpOrDown=!1}),!Nn&&(this.autoStepTimer=setTimeout(function(){cn[dt](At,Jt,!0)},rr?Xr:zt))}}}},{key:"fixCaret",value:function(dt,At){if(!(dt===void 0||At===void 0||!this.input||!this.input.value))try{var cn=this.input.selectionStart,Jt=this.input.selectionEnd;(dt!==cn||At!==Jt)&&this.input.setSelectionRange(dt,At)}catch(rr){}}},{key:"render",value:function(){var dt,At=this.props,cn=At.prefixCls,Jt=At.disabled,rr=At.readOnly,Gn=At.useTouch,Kr=At.autoComplete,ai=At.upHandler,Nn=At.downHandler,So=At.className,Wo=At.max,Un=At.min,an=At.style,In=At.title,Jr=At.onMouseEnter,Xn=At.onMouseLeave,hr=At.onMouseOver,dn=At.onMouseOut,Mn=At.required,Tn=At.onClick,kr=At.tabIndex,ei=At.type,Mi=At.placeholder,Di=At.id,ui=At.inputMode,Po=At.pattern,cr=At.step,$o=At.maxLength,As=At.autoFocus,Gi=At.name,Xs=At.onPaste,un=At.onInput,ko=Object(Pe.a)(At,["prefixCls","disabled","readOnly","useTouch","autoComplete","upHandler","downHandler","className","max","min","style","title","onMouseEnter","onMouseLeave","onMouseOver","onMouseOut","required","onClick","tabIndex","type","placeholder","id","inputMode","pattern","step","maxLength","autoFocus","name","onPaste","onInput"]),ss=this.state,Gr=ss.value,Yl=ss.focused,ou=ve()(cn,(dt={},Object(Oe.a)(dt,So,!!So),Object(Oe.a)(dt,"".concat(cn,"-disabled"),Jt),Object(Oe.a)(dt,"".concat(cn,"-focused"),Yl),dt)),ea={};Object.keys(ko).forEach(function(gr){(gr.substr(0,5)==="data-"||gr.substr(0,5)==="aria-"||gr==="role")&&(ea[gr]=ko[gr])});var Eu=!rr&&!Jt,wi=this.getInputDisplayValue(null),Pi=(Gr||Gr===0)&&(isNaN(Gr)||Number(Gr)>=Wo),hi=(Gr||Gr===0)&&(isNaN(Gr)||Number(Gr)<=Un),Mt=Pi||Jt||rr,wn=hi||Jt||rr,Ot=ve()("".concat(cn,"-handler"),"".concat(cn,"-handler-up"),Object(Oe.a)({},"".concat(cn,"-handler-up-disabled"),Mt)),ar=ve()("".concat(cn,"-handler"),"".concat(cn,"-handler-down"),Object(Oe.a)({},"".concat(cn,"-handler-down-disabled"),wn)),Mr=Gn?{onTouchStart:Mt?mt:this.up,onTouchEnd:this.stop}:{onMouseDown:Mt?mt:this.up,onMouseUp:this.stop,onMouseLeave:this.stop},jt=Gn?{onTouchStart:wn?mt:this.down,onTouchEnd:this.stop}:{onMouseDown:wn?mt:this.down,onMouseUp:this.stop,onMouseLeave:this.stop};return K.a.createElement("div",{className:ou,style:an,title:In,onMouseEnter:Jr,onMouseLeave:Xn,onMouseOver:hr,onMouseOut:dn,onFocus:function(){return null},onBlur:function(){return null}},K.a.createElement("div",{className:"".concat(cn,"-handler-wrap")},K.a.createElement("span",Object(xe.a)({unselectable:"on"},Mr,{role:"button","aria-label":"Increase Value","aria-disabled":Mt,className:Ot}),ai||K.a.createElement("span",{unselectable:"on",className:"".concat(cn,"-handler-up-inner"),onClick:st})),K.a.createElement("span",Object(xe.a)({unselectable:"on"},jt,{role:"button","aria-label":"Decrease Value","aria-disabled":wn,className:ar}),Nn||K.a.createElement("span",{unselectable:"on",className:"".concat(cn,"-handler-down-inner"),onClick:st}))),K.a.createElement("div",{className:"".concat(cn,"-input-wrap")},K.a.createElement("input",Object(xe.a)({role:"spinbutton","aria-valuemin":Un,"aria-valuemax":Wo,"aria-valuenow":Gr,required:Mn,type:ei,placeholder:Mi,onPaste:Xs,onClick:Tn,onMouseUp:this.onMouseUp,className:"".concat(cn,"-input"),tabIndex:kr,autoComplete:Kr,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:Eu?this.onKeyDown:mt,onKeyUp:Eu?this.onKeyUp:mt,autoFocus:As,maxLength:$o,readOnly:rr,disabled:Jt,max:Wo,min:Un,step:cr,name:Gi,title:In,id:Di,onChange:this.onChange,ref:this.saveInput,value:this.getFullNum(wi),pattern:Po,inputMode:ui,onInput:un},ea))))}}]),_r}(K.a.Component);$e.defaultProps={focusOnUpDown:!0,useTouch:!1,prefixCls:"rc-input-number",max:nr,min:-nr,step:1,style:{},onChange:mt,onKeyDown:mt,onPressEnter:mt,onFocus:mt,onBlur:mt,parser:St,required:!1,autoComplete:"off"};var Et=$e,Xt=Et,et={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},bt=et,Zt=U("6VBw"),qe=function(fr,_r){return F.createElement(Zt.a,Object.assign({},fr,{ref:_r,icon:bt}))};qe.displayName="UpOutlined";var Ie=F.forwardRef(qe),ht=U("8Skl"),Er=U("H84U"),Cn=U("3Nzz"),pr=function(rn,fr){var _r={};for(var Wr in rn)Object.prototype.hasOwnProperty.call(rn,Wr)&&fr.indexOf(Wr)<0&&(_r[Wr]=rn[Wr]);if(rn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var dt=0,Wr=Object.getOwnPropertySymbols(rn);dt<Wr.length;dt++)fr.indexOf(Wr[dt])<0&&Object.prototype.propertyIsEnumerable.call(rn,Wr[dt])&&(_r[Wr[dt]]=rn[Wr[dt]]);return _r},$r=F.forwardRef(function(rn,fr){var _r,Wr=F.useContext(Er.b),dt=Wr.getPrefixCls,At=Wr.direction,cn=F.useContext(Cn.b),Jt=rn.className,rr=rn.size,Gn=rn.prefixCls,Kr=rn.bordered,ai=Kr===void 0?!0:Kr,Nn=rn.readOnly,So=pr(rn,["className","size","prefixCls","bordered","readOnly"]),Wo=dt("input-number",Gn),Un=F.createElement(Ie,{className:"".concat(Wo,"-handler-up-inner")}),an=F.createElement(ht.a,{className:"".concat(Wo,"-handler-down-inner")}),In=rr||cn,Jr=ve()((_r={},Object(Oe.a)(_r,"".concat(Wo,"-lg"),In==="large"),Object(Oe.a)(_r,"".concat(Wo,"-sm"),In==="small"),Object(Oe.a)(_r,"".concat(Wo,"-rtl"),At==="rtl"),Object(Oe.a)(_r,"".concat(Wo,"-readonly"),Nn),Object(Oe.a)(_r,"".concat(Wo,"-borderless"),!ai),_r),Jt);return F.createElement(Xt,Object(xe.a)({ref:fr,className:Jr,upHandler:Un,downHandler:an,prefixCls:Wo,readOnly:Nn},So))});$r.defaultProps={step:1};var An=je.a=$r},g5r2:function(rt,je,U){"use strict";var xe=U("q1tI"),Oe=U.n(xe),F=U("tJk1"),K=U.n(F),Ae=K.a;function ve(We){var we=Object(xe.useRef)();return Ae(We,we.current)||(we.current=We),we.current}function Pe(We){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];Object(xe.useEffect)(We,ve(we))}je.a=Pe},g8eg:function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("mrSG"),Oe=xe.__importDefault(U("q1tI")),F=U("W1EI"),K=xe.__importDefault(U("s+10")),Ae=xe.__importDefault(U("Gytx")),ve=xe.__importDefault(U("gOxR")),Pe=["click","dblclick","rightclick","rightdblclick","maptypechange","mousemove","mouseover","mouseout","movestart","moving","moveend","zoomstart","zoomend","addoverlay","addcontrol","removecontrol","removeoverlay","clearoverlays","dragstart","dragging","dragend","addtilelayer","removetilelayer","load","resize","hotspotclick","hotspotover","hotspotout","tilesloaded","touchstart","touchmove","touchend","longpress"],We={enableScrollWheelZoom:["enableScrollWheelZoom","disableScrollWheelZoom"],enableDragging:["enableDragging","disableDragging"],enableDoubleClickZoom:["enableDoubleClickZoom","disableDoubleClickZoom"],enableKeyboard:["enableKeyboard","disableKeyboard"],enableInertialDragging:["enableInertialDragging","disableInertialDragging"],enableContinuousZoom:["enableContinuousZoom","disableContinuousZoom"],enablePinchToZoom:["enablePinchToZoom","disablePinchToZoom"],enableAutoResize:["enableAutoResize","disableAutoResize"]},we=function(at){xe.__extends(se,at);function se(Re){var mt=at.call(this,Re)||this;return mt.el=Oe.default.createRef(),mt.options=["minZoom","maxZoom","mapType"],mt}return se.prototype.componentDidMount=function(){this.initialize(),this.forceUpdate()},se.prototype.componentDidUpdate=function(Re){var mt=Re.center,st=Re.zoom,St=this.props,Xr=St.center,zt=St.zoom,nr=!!Xr&&!Ae.default(mt,Xr),pn=!!(zt&&!Ae.default(st,zt)),Vr;if(ve.default(Xr))Vr=Xr;else{var $e=Xr,Et=$e.lng,Xt=$e.lat;Vr=new BMapGL.Point(Et,Xt)}nr&&pn?this.map.centerAndZoom(Vr,zt):nr?this.map.setCenter(Vr):pn&&this.map.setZoom(zt)},se.prototype.componentWillUnmount=function(){this.map&&this.map.destroy()},se.prototype.initialize=function(){if(!this.map){var Re=this.getOptions();Re.mapType&&(Re.mapType=Re.mapType==="normal"?BMAP_NORMAL_MAP:Re.mapType,Re.mapType=Re.mapType==="earth"?BMAP_EARTH_MAP:Re.mapType),this.props.mapStyleV2&&(Re.style=this.props.mapStyleV2);var mt=new BMapGL.Map(this.el.current,Re);if(this.map=mt,this.instance=mt,ve.default(this.props.center))mt.centerAndZoom(this.props.center,this.props.zoom);else{var st=this.props.center,St=st.lng,Xr=st.lat,zt=new BMapGL.Point(St,Xr);mt.centerAndZoom(zt,this.props.zoom)}this.props.heading&&mt.setHeading(this.props.heading),this.props.tilt&&mt.setTilt(this.props.tilt)}},se.prototype.renderChildren=function(Re,mt){var st=this;if(!(!Re||!mt))return Oe.default.Children.map(Re,function(St){return St?typeof St.type=="string"||!St.props?St:Oe.default.cloneElement(St,{map:mt},st.renderChildren(St.props.children,mt)):null})},se.prototype.render=function(){return Oe.default.createElement("div",{style:this.props.style},Oe.default.createElement("div",{ref:this.el,className:this.props.className,style:{height:"100%"}},"\u52A0\u8F7D\u5730\u56FE\u4E2D..."),this.renderChildren(this.props.children,this.map))},se}(F.Component);we.defaultProps={center:{lng:116.404449,lat:39.914889},zoom:12,style:{position:"relative",height:"350px"}},je.default=K.default(we,Pe,We);var De=U("q8ti");Object.defineProperty(je,"MapApiLoaderHOC",{enumerable:!0,get:function(){return De.default}})},gCq4:function(rt,je){function U(xe){return this.__data__.get(xe)}rt.exports=U},gI1Y:function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0}),je.requireScript=je.requireCss=void 0;var xe=document.head||document.getElementsByTagName("head")[0],Oe={};function F(ve){return new Promise(function(Pe,We){if(ve in Oe){Pe();return}var we=document.createElement("link");we.type="text/css",we.rel="stylesheet",we.href=ve,we.onerror=function(De){xe.removeChild(we),We(new URIError("The css "+ve+" is no accessible."))},we.onload=function(){Oe[ve]=!0,Pe()},xe.appendChild(we)})}je.requireCss=F;function K(ve){return new Promise(function(Pe,We){if(ve in Oe){Pe();return}var we=document.createElement("script");we.type="text/javascript",we.src=ve,we.onerror=function(De){xe.removeChild(we),We(new URIError("The Script "+ve+" is no accessible."))},Ae(we)?we.onload=function(){Oe[ve]=!0,Pe()}:we.onreadystatechange=function(){(we.readyState=="loaded"||we.readyState=="complete")&&(we.onreadystatechange=null,Oe[ve]=!0,Pe())},xe.appendChild(we)})}je.requireScript=K;function Ae(ve){return ve=ve||document.createElement("script"),"onload"in ve?!0:(ve.setAttribute("onload",""),typeof ve.onload=="function")}},gOxR:function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});function xe(Oe){return Object.prototype.toString.call(Oe)==="[object String]"}je.default=xe},"giR+":function(rt,je,U){"use strict";var xe=U("cIOH"),Oe=U.n(xe),F=U("QbM5"),K=U.n(F)},gwTy:function(rt,je,U){},hODF:function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("mrSG"),Oe=U("W1EI"),F=xe.__importDefault(U("Gytx")),K=function(Ae){xe.__extends(ve,Ae);function ve(Pe){var We=Ae.call(this,Pe)||this;return We.options=["anchor","offset"],We}return ve.prototype.componentDidUpdate=function(Pe){var We=this.props,we=We.anchor,De=We.offset,at=Pe.anchor,se=Pe.offset,Re=!F.default(we,at),mt=!F.default(De,se);we&&Re&&this.control.setAnchor(we),De&&mt&&this.control.setOffset(De)},ve.prototype.componentDidMount=function(){this.initialize()},ve.prototype.componentWillUnmount=function(){this.destroy()},ve.prototype.destroy=function(){this.control&&(this.props.map.removeControl(this.control),this.control=null)},ve.prototype.initialize=function(){var Pe=this.props.map;!Pe||(this.destroy(),this.control=this.getControl(),Pe.addControl(this.control))},ve.prototype.getControl=function(){throw new Error("Method getControl not implemented.")},ve}(Oe.Component);je.default=K},hkKa:function(rt,je,U){"use strict";U.d(je,"a",function(){return K});var xe=U("ODXe"),Oe=U("q1tI"),F=U.n(Oe);function K(){var Ae=Oe.useReducer(function(We){return We+1},0),ve=Object(xe.a)(Ae,2),Pe=ve[1];return Pe}},i5tv:function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("mrSG"),Oe=U("W1EI"),F=xe.__importDefault(U("s+10")),K=U("i8i4"),Ae=["close","open","maximize","restore","clickclose"],ve={enableMaximize:["enableMaximize","disableMaximize"],enableAutoPan:["enableAutoPan","disableAutoPan"],enableCloseOnClick:["enableCloseOnClick","disableCloseOnClick"]},Pe=function(We){xe.__extends(we,We);function we(De){var at=We.call(this,De)||this;return at.options=["width","height","maxWidth","offset","title","enableMassClear"],at}return we.prototype.componentDidUpdate=function(De){this.initialize()},we.prototype.componentDidMount=function(){this.initialize()},we.prototype.componentWillUnmount=function(){this.destroy()},we.prototype.destroy=function(){this.content&&K.unmountComponentAtNode(this.content),this.infoWindow&&(this.props.map.closeInfoWindow(),this.instance=this.infoWindow=void 0)},we.prototype.initialize=function(){var De=this.props.map;if(!!De){this.destroy();var at=this.getOptions(),se=this.parsePosition(this.props.position);if(this.instance=this.infoWindow=new BMapGL.InfoWindow(this.props.text||"",at),De.openInfoWindow(this.infoWindow,se),this.props.children!==void 0){var Re=this.content=document.createElement("div");K.render(this.props.children,Re),this.infoWindow.setContent(Re)}}},we.prototype.parsePosition=function(De){var at=this.props.coordType==="bd09mc",se;return De instanceof Array?se=new BMapGL.Point(De[0],De[1]):De instanceof BMapGL.Point?se=De:se=new BMapGL.Point(De.lng,De.lat),at&&(se=BMapGL.Projection.convertMC2LL(se)),se},we.prototype.render=function(){return null},we}(Oe.Component);Pe.defaultProps={},je.default=F.default(Pe,Ae,ve)},iGn7:function(rt,je,U){"use strict";var xe=U("GNNt"),Oe=U("wEI+"),F=U("q1tI"),K=U.n(F),Ae=U("4i/N"),ve=U("8Skl"),Pe=U("TSYQ"),We=U.n(Pe),we=U("LQCs"),De=U("pAY0"),at=U.n(De);function se(mt,st,St){return st in mt?Object.defineProperty(mt,st,{value:St,enumerable:!0,configurable:!0,writable:!0}):mt[st]=St,mt}var Re=function(st){var St,Xr=st.label,zt=st.onClear,nr=st.value,pn=st.size,Vr=pn===void 0?"middle":pn,$e=st.disabled,Et=st.ellipsis,Xt=st.placeholder,et=st.className,bt=st.style,Zt=st.formatter,qe=st.bordered,Ie=st.allowClear,ht=Ie===void 0?!0:Ie,Er=Object(F.useContext)(Oe.b.ConfigContext),Cn=Er.getPrefixCls,pr=Cn("pro-core-field-label"),$r=Object(we.c)(),An=function(fr,_r){if(_r!=null&&_r!==""&&(!Array.isArray(_r)||_r.length)){var Wr;Zt?Wr=Zt(_r):Wr=Array.isArray(_r)?_r.join(","):String(_r);var dt=fr?K.a.createElement(K.a.Fragment,null,fr,": "):"";if(!Et)return K.a.createElement("span",null,dt,Wr);var At=function(){var rr=Array.isArray(_r)&&_r.length>1,Gn=$r.getMessage("form.lightFilter.itemUnit","\u9879");return Wr.length>32&&rr?"...".concat(_r.length).concat(Gn):""},cn=At();return K.a.createElement("span",{title:Wr},dt,Wr.substr(0,32),cn)}return Xt||fr};return K.a.createElement("span",{className:We()(pr,"".concat(pr,"-").concat(Vr),(St={},se(St,"".concat(pr,"-active"),!!nr||nr===0),se(St,"".concat(pr,"-disabled"),$e),se(St,"".concat(pr,"-bordered"),qe),se(St,"".concat(pr,"-allow-clear"),ht),St),et),style:bt},An(Xr,nr),(nr||nr===0)&&ht&&K.a.createElement(Ae.a,{className:We()("".concat(pr,"-icon"),"".concat(pr,"-close")),onClick:function(fr){zt&&!$e&&zt(),fr.stopPropagation()}}),K.a.createElement(ve.a,{className:We()("".concat(pr,"-icon"),"".concat(pr,"-arrow"))}))};je.a=Re},j9lq:function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("mrSG"),Oe=U("W1EI"),F=xe.__importDefault(U("Gytx")),K=xe.__importDefault(U("5zFI")),Ae=function(ve){xe.__extends(Pe,ve);function Pe(We){var we=ve.call(this,We)||this;return we.options=["offset"],we}return Pe.prototype.componentDidUpdate=function(We){F.default(this.props,We)||this.initialize()},Pe.prototype.componentDidMount=function(){this.initialize()},Pe.prototype.componentWillUnmount=function(){this.destroy()},Pe.prototype.destroy=function(){this.overlay&&(this.overlay.destroy(),this.props.map.removeOverlay(this.overlay),this.instance=this.overlay=void 0)},Pe.prototype.initialize=function(){var We=this.props.map;this.destroy();var we=this.getOptions();we.html=this.props.children;var De=this.parsePosition(this.props.position);this.instance=this.overlay=new K.default(De,we),We.addOverlay(this.overlay),this.props.autoViewport&&We.setCenter(De)},Pe.prototype.parsePosition=function(We){var we=this.props.coordType==="bd09mc",De;return We instanceof Array?De=new BMapGL.Point(We[0],We[1]):We instanceof BMapGL.Point?De=We:De=new BMapGL.Point(We.lng,We.lat),we&&(De=BMapGL.Projection.convertMC2LL(De)),De},Pe.prototype.render=function(){return null},Pe}(Oe.Component);je.default=Ae},jCWc:function(rt,je,U){"use strict";var xe=U("cIOH"),Oe=U.n(xe),F=U("1GLa")},jfsG:function(rt,je){rt.exports=Re,rt.exports.parse=F,rt.exports.compile=K,rt.exports.tokensToFunction=Ae,rt.exports.tokensToRegExp=se;var U="/",xe="./",Oe=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function F(mt,st){for(var St=[],Xr=0,zt=0,nr="",pn=st&&st.delimiter||U,Vr=st&&st.delimiters||xe,$e=!1,Et;(Et=Oe.exec(mt))!==null;){var Xt=Et[0],et=Et[1],bt=Et.index;if(nr+=mt.slice(zt,bt),zt=bt+Xt.length,et){nr+=et[1],$e=!0;continue}var Zt="",qe=mt[zt],Ie=Et[2],ht=Et[3],Er=Et[4],Cn=Et[5];if(!$e&&nr.length){var pr=nr.length-1;Vr.indexOf(nr[pr])>-1&&(Zt=nr[pr],nr=nr.slice(0,pr))}nr&&(St.push(nr),nr="",$e=!1);var $r=Zt!==""&&qe!==void 0&&qe!==Zt,An=Cn==="+"||Cn==="*",rn=Cn==="?"||Cn==="*",fr=Zt||pn,_r=ht||Er;St.push({name:Ie||Xr++,prefix:Zt,delimiter:fr,optional:rn,repeat:An,partial:$r,pattern:_r?Pe(_r):"[^"+ve(fr)+"]+?"})}return(nr||zt<mt.length)&&St.push(nr+mt.substr(zt)),St}function K(mt,st){return Ae(F(mt,st))}function Ae(mt){for(var st=new Array(mt.length),St=0;St<mt.length;St++)typeof mt[St]=="object"&&(st[St]=new RegExp("^(?:"+mt[St].pattern+")$"));return function(Xr,zt){for(var nr="",pn=zt&&zt.encode||encodeURIComponent,Vr=0;Vr<mt.length;Vr++){var $e=mt[Vr];if(typeof $e=="string"){nr+=$e;continue}var Et=Xr?Xr[$e.name]:void 0,Xt;if(Array.isArray(Et)){if(!$e.repeat)throw new TypeError('Expected "'+$e.name+'" to not repeat, but got array');if(Et.length===0){if($e.optional)continue;throw new TypeError('Expected "'+$e.name+'" to not be empty')}for(var et=0;et<Et.length;et++){if(Xt=pn(Et[et],$e),!st[Vr].test(Xt))throw new TypeError('Expected all "'+$e.name+'" to match "'+$e.pattern+'"');nr+=(et===0?$e.prefix:$e.delimiter)+Xt}continue}if(typeof Et=="string"||typeof Et=="number"||typeof Et=="boolean"){if(Xt=pn(String(Et),$e),!st[Vr].test(Xt))throw new TypeError('Expected "'+$e.name+'" to match "'+$e.pattern+'", but got "'+Xt+'"');nr+=$e.prefix+Xt;continue}if($e.optional){$e.partial&&(nr+=$e.prefix);continue}throw new TypeError('Expected "'+$e.name+'" to be '+($e.repeat?"an array":"a string"))}return nr}}function ve(mt){return mt.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Pe(mt){return mt.replace(/([=!:$/()])/g,"\\$1")}function We(mt){return mt&&mt.sensitive?"":"i"}function we(mt,st){if(!st)return mt;var St=mt.source.match(/\((?!\?)/g);if(St)for(var Xr=0;Xr<St.length;Xr++)st.push({name:Xr,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return mt}function De(mt,st,St){for(var Xr=[],zt=0;zt<mt.length;zt++)Xr.push(Re(mt[zt],st,St).source);return new RegExp("(?:"+Xr.join("|")+")",We(St))}function at(mt,st,St){return se(F(mt,St),st,St)}function se(mt,st,St){St=St||{};for(var Xr=St.strict,zt=St.start!==!1,nr=St.end!==!1,pn=ve(St.delimiter||U),Vr=St.delimiters||xe,$e=[].concat(St.endsWith||[]).map(ve).concat("$").join("|"),Et=zt?"^":"",Xt=mt.length===0,et=0;et<mt.length;et++){var bt=mt[et];if(typeof bt=="string")Et+=ve(bt),Xt=et===mt.length-1&&Vr.indexOf(bt[bt.length-1])>-1;else{var Zt=bt.repeat?"(?:"+bt.pattern+")(?:"+ve(bt.delimiter)+"(?:"+bt.pattern+"))*":bt.pattern;st&&st.push(bt),bt.optional?bt.partial?Et+=ve(bt.prefix)+"("+Zt+")?":Et+="(?:"+ve(bt.prefix)+"("+Zt+"))?":Et+=ve(bt.prefix)+"("+Zt+")"}}return nr?(Xr||(Et+="(?:"+pn+")?"),Et+=$e==="$"?"$":"(?="+$e+")"):(Xr||(Et+="(?:"+pn+"(?="+$e+"))?"),Xt||(Et+="(?="+pn+"|"+$e+")")),new RegExp(Et,We(St))}function Re(mt,st,St){return mt instanceof RegExp?we(mt,st):Array.isArray(mt)?De(mt,st,St):at(mt,st,St)}},jkmW:function(rt,je,U){},jryo:function(rt,je,U){},"k+1r":function(rt,je,U){var xe=U("QkVE");function Oe(F){var K=xe(this,F).delete(F);return this.size-=K?1:0,K}rt.exports=Oe},kPKH:function(rt,je,U){"use strict";var xe=U("/kpp");je.a=xe.a},kaz8:function(rt,je,U){"use strict";var xe=U("rePB"),Oe=U("wx14"),F=U("q1tI"),K=U("TSYQ"),Ae=U.n(K),ve=U("x1Ya"),Pe=U("KQm4"),We=U("ODXe"),we=U("bT9E"),De=U("H84U"),at=function($e,Et){var Xt={};for(var et in $e)Object.prototype.hasOwnProperty.call($e,et)&&Et.indexOf(et)<0&&(Xt[et]=$e[et]);if($e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var bt=0,et=Object.getOwnPropertySymbols($e);bt<et.length;bt++)Et.indexOf(et[bt])<0&&Object.prototype.propertyIsEnumerable.call($e,et[bt])&&(Xt[et[bt]]=$e[et[bt]]);return Xt},se=F.createContext(null),Re=function(Et){var Xt=Et.defaultValue,et=Et.children,bt=Et.options,Zt=bt===void 0?[]:bt,qe=Et.prefixCls,Ie=Et.className,ht=Et.style,Er=Et.onChange,Cn=at(Et,["defaultValue","children","options","prefixCls","className","style","onChange"]),pr=F.useContext(De.b),$r=pr.getPrefixCls,An=pr.direction,rn=F.useState(Cn.value||Xt||[]),fr=Object(We.a)(rn,2),_r=fr[0],Wr=fr[1],dt=F.useState([]),At=Object(We.a)(dt,2),cn=At[0],Jt=At[1];F.useEffect(function(){"value"in Cn&&Wr(Cn.value||[])},[Cn.value]);var rr=function(){return Zt.map(function(Jr){return typeof Jr=="string"?{label:Jr,value:Jr}:Jr})},Gn=function(Jr){Jt(function(Xn){return Xn.filter(function(hr){return hr!==Jr})})},Kr=function(Jr){Jt(function(Xn){return[].concat(Object(Pe.a)(Xn),[Jr])})},ai=function(Jr){var Xn=_r.indexOf(Jr.value),hr=Object(Pe.a)(_r);if(Xn===-1?hr.push(Jr.value):hr.splice(Xn,1),"value"in Cn||Wr(hr),Er){var dn=rr();Er(hr.filter(function(Mn){return cn.indexOf(Mn)!==-1}).sort(function(Mn,Tn){var kr=dn.findIndex(function(Mi){return Mi.value===Mn}),ei=dn.findIndex(function(Mi){return Mi.value===Tn});return kr-ei}))}},Nn=$r("checkbox",qe),So="".concat(Nn,"-group"),Wo=Object(we.a)(Cn,["value","disabled"]);Zt&&Zt.length>0&&(et=rr().map(function(In){return F.createElement(nr,{prefixCls:Nn,key:In.value.toString(),disabled:"disabled"in In?In.disabled:Cn.disabled,value:In.value,checked:_r.indexOf(In.value)!==-1,onChange:In.onChange,className:"".concat(So,"-item"),style:In.style},In.label)}));var Un={toggleOption:ai,value:_r,disabled:Cn.disabled,name:Cn.name,registerValue:Kr,cancelValue:Gn},an=Ae()(So,Object(xe.a)({},"".concat(So,"-rtl"),An==="rtl"),Ie);return F.createElement("div",Object(Oe.a)({className:an,style:ht},Wo),F.createElement(se.Provider,{value:Un},et))},mt=F.memo(Re),st=U("uaoM"),St=function($e,Et){var Xt={};for(var et in $e)Object.prototype.hasOwnProperty.call($e,et)&&Et.indexOf(et)<0&&(Xt[et]=$e[et]);if($e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var bt=0,et=Object.getOwnPropertySymbols($e);bt<et.length;bt++)Et.indexOf(et[bt])<0&&Object.prototype.propertyIsEnumerable.call($e,et[bt])&&(Xt[et[bt]]=$e[et[bt]]);return Xt},Xr=function(Et,Xt){var et,bt=Et.prefixCls,Zt=Et.className,qe=Et.children,Ie=Et.indeterminate,ht=Ie===void 0?!1:Ie,Er=Et.style,Cn=Et.onMouseEnter,pr=Et.onMouseLeave,$r=Et.skipGroup,An=$r===void 0?!1:$r,rn=St(Et,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup"]),fr=F.useContext(De.b),_r=fr.getPrefixCls,Wr=fr.direction,dt=F.useContext(se),At=F.useRef(rn.value);F.useEffect(function(){dt==null||dt.registerValue(rn.value),Object(st.a)("checked"in rn||!!dt||!("value"in rn),"Checkbox","`value` is not a valid prop, do you mean `checked`?")},[]),F.useEffect(function(){if(!An)return rn.value!==At.current&&(dt==null||dt.cancelValue(At.current),dt==null||dt.registerValue(rn.value)),function(){return dt==null?void 0:dt.cancelValue(rn.value)}},[rn.value]);var cn=_r("checkbox",bt),Jt=Object(Oe.a)({},rn);dt&&!An&&(Jt.onChange=function(){rn.onChange&&rn.onChange.apply(rn,arguments),dt.toggleOption&&dt.toggleOption({label:qe,value:rn.value})},Jt.name=dt.name,Jt.checked=dt.value.indexOf(rn.value)!==-1,Jt.disabled=rn.disabled||dt.disabled);var rr=Ae()((et={},Object(xe.a)(et,"".concat(cn,"-wrapper"),!0),Object(xe.a)(et,"".concat(cn,"-rtl"),Wr==="rtl"),Object(xe.a)(et,"".concat(cn,"-wrapper-checked"),Jt.checked),Object(xe.a)(et,"".concat(cn,"-wrapper-disabled"),Jt.disabled),et),Zt),Gn=Ae()(Object(xe.a)({},"".concat(cn,"-indeterminate"),ht));return F.createElement("label",{className:rr,style:Er,onMouseEnter:Cn,onMouseLeave:pr},F.createElement(ve.a,Object(Oe.a)({},Jt,{prefixCls:cn,className:Gn,ref:Xt})),qe!==void 0&&F.createElement("span",null,qe))},zt=F.forwardRef(Xr);zt.displayName="Checkbox";var nr=zt,pn=nr;pn.Group=mt,pn.__ANT_CHECKBOX=!0;var Vr=je.a=pn},kekF:function(rt,je){function U(xe,Oe){return function(F){return xe(Oe(F))}}rt.exports=U},"l+S1":function(rt,je,U){"use strict";var xe=U("q1tI"),Oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},F=Oe,K=U("6VBw"),Ae=function(We,we){return xe.createElement(K.a,Object.assign({},We,{ref:we,icon:F}))};Ae.displayName="SearchOutlined";var ve=je.a=xe.forwardRef(Ae)},lRSW:function(rt,je,U){},lSCD:function(rt,je,U){var xe=U("NykK"),Oe=U("GoyQ"),F="[object AsyncFunction]",K="[object Function]",Ae="[object GeneratorFunction]",ve="[object Proxy]";function Pe(We){if(!Oe(We))return!1;var we=xe(We);return we==K||we==Ae||we==F||we==ve}rt.exports=Pe},ljhN:function(rt,je){function U(xe,Oe){return xe===Oe||xe!==xe&&Oe!==Oe}rt.exports=U},lnY3:function(rt,je,U){},mEKJ:function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("mrSG"),Oe=U("W1EI"),F=function(K){xe.__extends(Ae,K);function Ae(ve){var Pe=K.call(this,ve)||this;return Pe._showLayer=!1,Pe}return Ae.prototype.componentDidMount=function(){this.initialize()},Ae.prototype.componentDidUpdate=function(ve){this.initialize()},Ae.prototype.componentWillUnmount=function(){this._showLayer&&(this.props.map.setTrafficOff(),this._showLayer=!1)},Ae.prototype.initialize=function(){var ve=this.props.map;!ve||(this.map=ve,this._showLayer||(ve.setTrafficOn(),this._showLayer=!0))},Ae.prototype.render=function(){return null},Ae}(Oe.Component);je.default=F},mQwV:function(rt,je,U){},mdPL:function(rt,je,U){(function(xe){var Oe=U("WFqU"),F=je&&!je.nodeType&&je,K=F&&typeof xe=="object"&&xe&&!xe.nodeType&&xe,Ae=K&&K.exports===F,ve=Ae&&Oe.process,Pe=function(){try{var We=K&&K.require&&K.require("util").types;return We||ve&&ve.binding&&ve.binding("util")}catch(we){}}();xe.exports=Pe}).call(this,U("YuTi")(rt))},mr32:function(rt,je,U){"use strict";var xe=U("rePB"),Oe=U("wx14"),F=U("ODXe"),K=U("q1tI"),Ae=U("TSYQ"),ve=U.n(Ae),Pe=U("bT9E"),We=U("4i/N"),we=U("H84U"),De=function(Vr,$e){var Et={};for(var Xt in Vr)Object.prototype.hasOwnProperty.call(Vr,Xt)&&$e.indexOf(Xt)<0&&(Et[Xt]=Vr[Xt]);if(Vr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var et=0,Xt=Object.getOwnPropertySymbols(Vr);et<Xt.length;et++)$e.indexOf(Xt[et])<0&&Object.prototype.propertyIsEnumerable.call(Vr,Xt[et])&&(Et[Xt[et]]=Vr[Xt[et]]);return Et},at=function($e){var Et,Xt=$e.prefixCls,et=$e.className,bt=$e.checked,Zt=$e.onChange,qe=$e.onClick,Ie=De($e,["prefixCls","className","checked","onChange","onClick"]),ht=K.useContext(we.b),Er=ht.getPrefixCls,Cn=function(rn){Zt&&Zt(!bt),qe&&qe(rn)},pr=Er("tag",Xt),$r=ve()(pr,(Et={},Object(xe.a)(Et,"".concat(pr,"-checkable"),!0),Object(xe.a)(Et,"".concat(pr,"-checkable-checked"),bt),Et),et);return K.createElement("span",Object(Oe.a)({},Ie,{className:$r,onClick:Cn}))},se=at,Re=U("09Wf"),mt=U("g0mS"),st=function(Vr,$e){var Et={};for(var Xt in Vr)Object.prototype.hasOwnProperty.call(Vr,Xt)&&$e.indexOf(Xt)<0&&(Et[Xt]=Vr[Xt]);if(Vr!=null&&typeof Object.getOwnPropertySymbols=="function")for(var et=0,Xt=Object.getOwnPropertySymbols(Vr);et<Xt.length;et++)$e.indexOf(Xt[et])<0&&Object.prototype.propertyIsEnumerable.call(Vr,Xt[et])&&(Et[Xt[et]]=Vr[Xt[et]]);return Et},St=new RegExp("^(".concat(Re.a.join("|"),")(-inverse)?$")),Xr=new RegExp("^(".concat(Re.b.join("|"),")$")),zt=function($e,Et){var Xt,et=$e.prefixCls,bt=$e.className,Zt=$e.style,qe=$e.children,Ie=$e.icon,ht=$e.color,Er=$e.onClose,Cn=$e.closeIcon,pr=$e.closable,$r=pr===void 0?!1:pr,An=st($e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),rn=K.useContext(we.b),fr=rn.getPrefixCls,_r=rn.direction,Wr=K.useState(!0),dt=Object(F.a)(Wr,2),At=dt[0],cn=dt[1];K.useEffect(function(){"visible"in An&&cn(An.visible)},[An.visible]);var Jt=function(){return ht?St.test(ht)||Xr.test(ht):!1},rr=Object(Oe.a)({backgroundColor:ht&&!Jt()?ht:void 0},Zt),Gn=Jt(),Kr=fr("tag",et),ai=ve()(Kr,(Xt={},Object(xe.a)(Xt,"".concat(Kr,"-").concat(ht),Gn),Object(xe.a)(Xt,"".concat(Kr,"-has-color"),ht&&!Gn),Object(xe.a)(Xt,"".concat(Kr,"-hidden"),!At),Object(xe.a)(Xt,"".concat(Kr,"-rtl"),_r==="rtl"),Xt),bt),Nn=function(hr){hr.stopPropagation(),Er&&Er(hr),!hr.defaultPrevented&&("visible"in An||cn(!1))},So=function(){return $r?Cn?K.createElement("span",{className:"".concat(Kr,"-close-icon"),onClick:Nn},Cn):K.createElement(We.a,{className:"".concat(Kr,"-close-icon"),onClick:Nn}):null},Wo="onClick"in An||qe&&qe.type==="a",Un=Object(Pe.a)(An,["visible"]),an=Ie||null,In=an?K.createElement(K.Fragment,null,an,K.createElement("span",null,qe)):qe,Jr=K.createElement("span",Object(Oe.a)({},Un,{ref:Et,className:ai,style:rr}),In,So());return Wo?K.createElement(mt.a,null,Jr):Jr},nr=K.forwardRef(zt);nr.displayName="Tag",nr.CheckableTag=se;var pn=je.a=nr},mrSG:function(rt,je,U){"use strict";U.r(je),U.d(je,"__extends",function(){return Oe}),U.d(je,"__assign",function(){return F}),U.d(je,"__rest",function(){return K}),U.d(je,"__decorate",function(){return Ae}),U.d(je,"__param",function(){return ve}),U.d(je,"__metadata",function(){return Pe}),U.d(je,"__awaiter",function(){return We}),U.d(je,"__generator",function(){return we}),U.d(je,"__createBinding",function(){return De}),U.d(je,"__exportStar",function(){return at}),U.d(je,"__values",function(){return se}),U.d(je,"__read",function(){return Re}),U.d(je,"__spread",function(){return mt}),U.d(je,"__spreadArrays",function(){return st}),U.d(je,"__await",function(){return St}),U.d(je,"__asyncGenerator",function(){return Xr}),U.d(je,"__asyncDelegator",function(){return zt}),U.d(je,"__asyncValues",function(){return nr}),U.d(je,"__makeTemplateObject",function(){return pn}),U.d(je,"__importStar",function(){return Vr}),U.d(je,"__importDefault",function(){return $e}),U.d(je,"__classPrivateFieldGet",function(){return Et}),U.d(je,"__classPrivateFieldSet",function(){return Xt});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xe=function(bt,Zt){return xe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(qe,Ie){qe.__proto__=Ie}||function(qe,Ie){for(var ht in Ie)Ie.hasOwnProperty(ht)&&(qe[ht]=Ie[ht])},xe(bt,Zt)};function Oe(et,bt){xe(et,bt);function Zt(){this.constructor=et}et.prototype=bt===null?Object.create(bt):(Zt.prototype=bt.prototype,new Zt)}var F=function(){return F=Object.assign||function(Zt){for(var qe,Ie=1,ht=arguments.length;Ie<ht;Ie++){qe=arguments[Ie];for(var Er in qe)Object.prototype.hasOwnProperty.call(qe,Er)&&(Zt[Er]=qe[Er])}return Zt},F.apply(this,arguments)};function K(et,bt){var Zt={};for(var qe in et)Object.prototype.hasOwnProperty.call(et,qe)&&bt.indexOf(qe)<0&&(Zt[qe]=et[qe]);if(et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ie=0,qe=Object.getOwnPropertySymbols(et);Ie<qe.length;Ie++)bt.indexOf(qe[Ie])<0&&Object.prototype.propertyIsEnumerable.call(et,qe[Ie])&&(Zt[qe[Ie]]=et[qe[Ie]]);return Zt}function Ae(et,bt,Zt,qe){var Ie=arguments.length,ht=Ie<3?bt:qe===null?qe=Object.getOwnPropertyDescriptor(bt,Zt):qe,Er;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ht=Reflect.decorate(et,bt,Zt,qe);else for(var Cn=et.length-1;Cn>=0;Cn--)(Er=et[Cn])&&(ht=(Ie<3?Er(ht):Ie>3?Er(bt,Zt,ht):Er(bt,Zt))||ht);return Ie>3&&ht&&Object.defineProperty(bt,Zt,ht),ht}function ve(et,bt){return function(Zt,qe){bt(Zt,qe,et)}}function Pe(et,bt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(et,bt)}function We(et,bt,Zt,qe){function Ie(ht){return ht instanceof Zt?ht:new Zt(function(Er){Er(ht)})}return new(Zt||(Zt=Promise))(function(ht,Er){function Cn(An){try{$r(qe.next(An))}catch(rn){Er(rn)}}function pr(An){try{$r(qe.throw(An))}catch(rn){Er(rn)}}function $r(An){An.done?ht(An.value):Ie(An.value).then(Cn,pr)}$r((qe=qe.apply(et,bt||[])).next())})}function we(et,bt){var Zt={label:0,sent:function(){if(ht[0]&1)throw ht[1];return ht[1]},trys:[],ops:[]},qe,Ie,ht,Er;return Er={next:Cn(0),throw:Cn(1),return:Cn(2)},typeof Symbol=="function"&&(Er[Symbol.iterator]=function(){return this}),Er;function Cn($r){return function(An){return pr([$r,An])}}function pr($r){if(qe)throw new TypeError("Generator is already executing.");for(;Zt;)try{if(qe=1,Ie&&(ht=$r[0]&2?Ie.return:$r[0]?Ie.throw||((ht=Ie.return)&&ht.call(Ie),0):Ie.next)&&!(ht=ht.call(Ie,$r[1])).done)return ht;switch(Ie=0,ht&&($r=[$r[0]&2,ht.value]),$r[0]){case 0:case 1:ht=$r;break;case 4:return Zt.label++,{value:$r[1],done:!1};case 5:Zt.label++,Ie=$r[1],$r=[0];continue;case 7:$r=Zt.ops.pop(),Zt.trys.pop();continue;default:if(ht=Zt.trys,!(ht=ht.length>0&&ht[ht.length-1])&&($r[0]===6||$r[0]===2)){Zt=0;continue}if($r[0]===3&&(!ht||$r[1]>ht[0]&&$r[1]<ht[3])){Zt.label=$r[1];break}if($r[0]===6&&Zt.label<ht[1]){Zt.label=ht[1],ht=$r;break}if(ht&&Zt.label<ht[2]){Zt.label=ht[2],Zt.ops.push($r);break}ht[2]&&Zt.ops.pop(),Zt.trys.pop();continue}$r=bt.call(et,Zt)}catch(An){$r=[6,An],Ie=0}finally{qe=ht=0}if($r[0]&5)throw $r[1];return{value:$r[0]?$r[1]:void 0,done:!0}}}function De(et,bt,Zt,qe){qe===void 0&&(qe=Zt),et[qe]=bt[Zt]}function at(et,bt){for(var Zt in et)Zt!=="default"&&!bt.hasOwnProperty(Zt)&&(bt[Zt]=et[Zt])}function se(et){var bt=typeof Symbol=="function"&&Symbol.iterator,Zt=bt&&et[bt],qe=0;if(Zt)return Zt.call(et);if(et&&typeof et.length=="number")return{next:function(){return et&&qe>=et.length&&(et=void 0),{value:et&&et[qe++],done:!et}}};throw new TypeError(bt?"Object is not iterable.":"Symbol.iterator is not defined.")}function Re(et,bt){var Zt=typeof Symbol=="function"&&et[Symbol.iterator];if(!Zt)return et;var qe=Zt.call(et),Ie,ht=[],Er;try{for(;(bt===void 0||bt-- >0)&&!(Ie=qe.next()).done;)ht.push(Ie.value)}catch(Cn){Er={error:Cn}}finally{try{Ie&&!Ie.done&&(Zt=qe.return)&&Zt.call(qe)}finally{if(Er)throw Er.error}}return ht}function mt(){for(var et=[],bt=0;bt<arguments.length;bt++)et=et.concat(Re(arguments[bt]));return et}function st(){for(var et=0,bt=0,Zt=arguments.length;bt<Zt;bt++)et+=arguments[bt].length;for(var qe=Array(et),Ie=0,bt=0;bt<Zt;bt++)for(var ht=arguments[bt],Er=0,Cn=ht.length;Er<Cn;Er++,Ie++)qe[Ie]=ht[Er];return qe}function St(et){return this instanceof St?(this.v=et,this):new St(et)}function Xr(et,bt,Zt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe=Zt.apply(et,bt||[]),Ie,ht=[];return Ie={},Er("next"),Er("throw"),Er("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie;function Er(fr){qe[fr]&&(Ie[fr]=function(_r){return new Promise(function(Wr,dt){ht.push([fr,_r,Wr,dt])>1||Cn(fr,_r)})})}function Cn(fr,_r){try{pr(qe[fr](_r))}catch(Wr){rn(ht[0][3],Wr)}}function pr(fr){fr.value instanceof St?Promise.resolve(fr.value.v).then($r,An):rn(ht[0][2],fr)}function $r(fr){Cn("next",fr)}function An(fr){Cn("throw",fr)}function rn(fr,_r){fr(_r),ht.shift(),ht.length&&Cn(ht[0][0],ht[0][1])}}function zt(et){var bt,Zt;return bt={},qe("next"),qe("throw",function(Ie){throw Ie}),qe("return"),bt[Symbol.iterator]=function(){return this},bt;function qe(Ie,ht){bt[Ie]=et[Ie]?function(Er){return(Zt=!Zt)?{value:St(et[Ie](Er)),done:Ie==="return"}:ht?ht(Er):Er}:ht}}function nr(et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var bt=et[Symbol.asyncIterator],Zt;return bt?bt.call(et):(et=typeof se=="function"?se(et):et[Symbol.iterator](),Zt={},qe("next"),qe("throw"),qe("return"),Zt[Symbol.asyncIterator]=function(){return this},Zt);function qe(ht){Zt[ht]=et[ht]&&function(Er){return new Promise(function(Cn,pr){Er=et[ht](Er),Ie(Cn,pr,Er.done,Er.value)})}}function Ie(ht,Er,Cn,pr){Promise.resolve(pr).then(function($r){ht({value:$r,done:Cn})},Er)}}function pn(et,bt){return Object.defineProperty?Object.defineProperty(et,"raw",{value:bt}):et.raw=bt,et}function Vr(et){if(et&&et.__esModule)return et;var bt={};if(et!=null)for(var Zt in et)Object.hasOwnProperty.call(et,Zt)&&(bt[Zt]=et[Zt]);return bt.default=et,bt}function $e(et){return et&&et.__esModule?et:{default:et}}function Et(et,bt){if(!bt.has(et))throw new TypeError("attempted to get private field on non-instance");return bt.get(et)}function Xt(et,bt,Zt){if(!bt.has(et))throw new TypeError("attempted to set private field on non-instance");return bt.set(et,Zt),Zt}},n2rz:function(rt,je,U){"use strict";var xe=U("bfL6"),Oe=typeof BigInt64Array!="undefined";rt.exports=function F(K,Ae){if(K===Ae)return!0;if(K&&Ae&&typeof K=="object"&&typeof Ae=="object"){if(K.constructor!==Ae.constructor)return!1;var ve,Pe,We;if(Array.isArray(K)){if(ve=K.length,ve!=Ae.length)return!1;for(Pe=ve;Pe--!=0;)if(!F(K[Pe],Ae[Pe]))return!1;return!0}if(K instanceof Map&&Ae instanceof Map){if(K.size!==Ae.size)return!1;var we=xe(K.entries()),De;try{for(we.s();!(De=we.n()).done;)if(Pe=De.value,!Ae.has(Pe[0]))return!1}catch(St){we.e(St)}finally{we.f()}var at=xe(K.entries()),se;try{for(at.s();!(se=at.n()).done;)if(Pe=se.value,!F(Pe[1],Ae.get(Pe[0])))return!1}catch(St){at.e(St)}finally{at.f()}return!0}if(K instanceof Set&&Ae instanceof Set){if(K.size!==Ae.size)return!1;var Re=xe(K.entries()),mt;try{for(Re.s();!(mt=Re.n()).done;)if(Pe=mt.value,!Ae.has(Pe[0]))return!1}catch(St){Re.e(St)}finally{Re.f()}return!0}if(ArrayBuffer.isView(K)&&ArrayBuffer.isView(Ae)){if(ve=K.length,ve!=Ae.length)return!1;for(Pe=ve;Pe--!=0;)if(K[Pe]!==Ae[Pe])return!1;return!0}if(K.constructor===RegExp)return K.source===Ae.source&&K.flags===Ae.flags;if(K.valueOf!==Object.prototype.valueOf)return K.valueOf()===Ae.valueOf();if(K.toString!==Object.prototype.toString)return K.toString()===Ae.toString();if(We=Object.keys(K),ve=We.length,ve!==Object.keys(Ae).length)return!1;for(Pe=ve;Pe--!=0;)if(!Object.prototype.hasOwnProperty.call(Ae,We[Pe]))return!1;for(Pe=ve;Pe--!=0;){var st=We[Pe];if(!F(K[st],Ae[st]))return!1}return!0}return K!==K&&Ae!==Ae}},nSmt:function(rt,je,U){},oBiK:function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("mrSG"),Oe=U("W1EI"),F=function(K){xe.__extends(Ae,K);function Ae(ve){return K.call(this,ve)||this}return Ae.prototype.componentDidMount=function(){this.initialize()},Ae.prototype.componentDidUpdate=function(ve){this.initialize()},Ae.prototype.componentWillUnmount=function(){this.destroy()},Ae.prototype.destroy=function(){this.tilelayer&&(this.props.map.removeTileLayer(this.tilelayer),this.tilelayer=void 0)},Ae.prototype.initialize=function(){var ve=this.props.map;if(!!ve){this.map=ve,this.destroy();var Pe="pl",We="20190102",we=this.tilelayer=new BMapGL.TileLayer({transparentPng:!0});we.zIndex=110,we.getTilesUrl=function(De,at){if(!De||at<0)return"";var se=De.x,Re=De.y,mt="//mapsv0.bdimg.com/tile/?udt="+We+"&qt=tile&styles="+Pe+"&x="+se+"&y="+Re+"&z="+at;return mt},ve.addTileLayer(this.tilelayer)}},Ae.prototype.render=function(){return null},Ae}(Oe.Component);je.default=F},oIFs:function(rt,je,U){},or5M:function(rt,je,U){var xe=U("1hJj"),Oe=U("QoRX"),F=U("xYSL"),K=1,Ae=2;function ve(Pe,We,we,De,at,se){var Re=we&K,mt=Pe.length,st=We.length;if(mt!=st&&!(Re&&st>mt))return!1;var St=se.get(Pe),Xr=se.get(We);if(St&&Xr)return St==We&&Xr==Pe;var zt=-1,nr=!0,pn=we&Ae?new xe:void 0;for(se.set(Pe,We),se.set(We,Pe);++zt<mt;){var Vr=Pe[zt],$e=We[zt];if(De)var Et=Re?De($e,Vr,zt,We,Pe,se):De(Vr,$e,zt,Pe,We,se);if(Et!==void 0){if(Et)continue;nr=!1;break}if(pn){if(!Oe(We,function(Xt,et){if(!F(pn,et)&&(Vr===Xt||at(Vr,Xt,we,De,se)))return pn.push(et)})){nr=!1;break}}else if(!(Vr===$e||at(Vr,$e,we,De,se))){nr=!1;break}}return se.delete(Pe),se.delete(We),nr}rt.exports=ve},pAY0:function(rt,je,U){},"pED+":function(rt,je,U){},pL63:function(rt,je,U){},pSRY:function(rt,je,U){var xe=U("QkVE");function Oe(F){return xe(this,F).has(F)}rt.exports=Oe},pwpV:function(rt,je,U){},q8ti:function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("mrSG"),Oe=xe.__importStar(U("q1tI")),F=xe.__importDefault(U("3RkO"));je.default=function(K){return function(Ae){var ve;return ve=function(Pe){xe.__extends(We,Pe);function We(we){var De=Pe.call(this,we)||this;return De.state={loaded:De.isLoadReady()},De.loadJSAPI=De.loadJSAPI.bind(De),De.handleLoaded=De.handleLoaded.bind(De),De}return We.prototype.isLoadReady=function(){return!!(window.BMapGL&&window.BMapGL.Map)},We.prototype.componentDidMount=function(){if(!this.isLoadReady()){if(!K.ak)throw new TypeError("MapApiLoaderHOC: ak is required");this.loadJSAPI()}},We.prototype.componentWillUnmount=function(){this.apiTimer&&clearTimeout(this.apiTimer),this.loadedTimer&&clearTimeout(this.loadedTimer)},We.prototype.loadJSAPI=function(){var we=this;if(this.isLoadReady()){this.handleLoaded();return}if(window.loadingMap)this.apiTimer=window.setTimeout(function(){we.loadJSAPI()},300);else if(!window.MapApiLoaderCallback){window.loadingMap=!0,window.MapApiLoaderCallback=function(){delete window.loadingMap,delete window.MapApiLoaderCallback};var De=K.ak,at=document.createElement("script");at.type="text/javascript",at.src="//api.map.baidu.com/api?type=webgl&v=1.0&ak="+De+"&callback=MapApiLoaderCallback",document.body.appendChild(at),this.loadedTimer=window.setTimeout(function(){we.handleLoaded()},300)}},We.prototype.handleLoaded=function(){var we=this;if(!this.isLoadReady()){this.loadedTimer=window.setTimeout(function(){we.handleLoaded()},300);return}this.setState({loaded:!0})},We.prototype.render=function(){var we=this.state.loaded;return we?Oe.default.createElement(Ae,xe.__assign({},this.props)):Oe.default.createElement("div",null,"loading...")},We}(Oe.Component),ve.displayName="MapApiLoaderHOC("+F.default(Ae)+")",ve}}},qZTm:function(rt,je,U){var xe=U("fR/l"),Oe=U("MvSz"),F=U("7GkX");function K(Ae){return xe(Ae,F,Oe)}rt.exports=K},qx4F:function(rt,je,U){"use strict";U.d(je,"a",function(){return Oe});var xe;function Oe(F){if(typeof document=="undefined")return 0;if(F||xe===void 0){var K=document.createElement("div");K.style.width="100%",K.style.height="200px";var Ae=document.createElement("div"),ve=Ae.style;ve.position="absolute",ve.top=0,ve.left=0,ve.pointerEvents="none",ve.visibility="hidden",ve.width="200px",ve.height="150px",ve.overflow="hidden",Ae.appendChild(K),document.body.appendChild(Ae);var Pe=K.offsetWidth;Ae.style.overflow="scroll";var We=K.offsetWidth;Pe===We&&(We=Ae.clientWidth),document.body.removeChild(Ae),xe=Pe-We}return xe}},rEGp:function(rt,je){function U(xe){var Oe=-1,F=Array(xe.size);return xe.forEach(function(K){F[++Oe]=K}),F}rt.exports=U},"s+10":function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0}),je.toggleMethods=je.unregisterEvents=je.registerEvents=void 0;var xe=U("mrSG"),Oe=xe.__importDefault(U("Gytx"));function F(we,De,at){at&&De&&De.addEventListener&&(we.registeredEvents={},at.forEach(function(se){var Re="on"+se.substr(0,1).toUpperCase()+se.substr(1);we.props[Re]&&typeof we.props[Re]=="function"&&(De.addEventListener(se,we.props[Re]),we.registeredEvents[se]=we.props[Re])}))}je.registerEvents=F;function K(we,De){we.registeredEvents&&De&&De.removeEventListener&&(Object.keys(we.registeredEvents).forEach(function(at){De.removeEventListener(at,we.registeredEvents[at])}),we.registeredEvents=null)}je.unregisterEvents=K;function Ae(we,De,at,se){at&&De&&Object.keys(at).forEach(function(Re){(se===void 0&&we.props[Re]!==void 0||se!==void 0&&!Oe.default(we.props[Re],se[Re]))&&(we.props[Re]?De&&De[at[Re][0]]():De&&De[at[Re][1]]())})}je.toggleMethods=Ae;function ve(we,De){var at=we.prototype.getInstance,se=we.prototype.componentDidMount,Re=we.prototype.componentDidUpdate;return at&&De&&Object.keys(De).length>0&&(we.prototype.componentDidMount=function(){se&&se.call(this),Ae(this,at(this),De)},we.prototype.componentDidUpdate=function(mt,st){Ae(this,at(this),De,mt),Re&&Re.call(this,mt,st)}),we}function Pe(we,De){var at=we.prototype.getInstance,se=we.prototype.componentDidUpdate,Re=we.prototype.componentDidMount,mt=we.prototype.componentWillUnmount;return De&&De.length>0&&(we.prototype.componentDidMount=function(){Re&&Re.call(this),F(this,at(this),De)},we.prototype.componentDidUpdate=function(st,St){Oe.default(this.props,st)||K(this,at(this)),se&&se.call(this,st,St),Oe.default(this.props,st)||F(this,at(this),De)},we.prototype.componentWillUnmount=function(){K(this,at(this)),mt&&mt.call(this)}),we}function We(we,De,at){var se=ve(we,at);return se=Pe(se,De),se}je.default=We},sEf8:function(rt,je){function U(xe){return function(Oe){return xe(Oe)}}rt.exports=U},sRBo:function(rt,je,U){"use strict";var xe=U("cIOH"),Oe=U.n(xe),F=U("KCY9"),K=U.n(F)},seXi:function(rt,je,U){var xe=U("qZTm"),Oe=1,F=Object.prototype,K=F.hasOwnProperty;function Ae(ve,Pe,We,we,De,at){var se=We&Oe,Re=xe(ve),mt=Re.length,st=xe(Pe),St=st.length;if(mt!=St&&!se)return!1;for(var Xr=mt;Xr--;){var zt=Re[Xr];if(!(se?zt in Pe:K.call(Pe,zt)))return!1}var nr=at.get(ve),pn=at.get(Pe);if(nr&&pn)return nr==Pe&&pn==ve;var Vr=!0;at.set(ve,Pe),at.set(Pe,ve);for(var $e=se;++Xr<mt;){zt=Re[Xr];var Et=ve[zt],Xt=Pe[zt];if(we)var et=se?we(Xt,Et,zt,Pe,ve,at):we(Et,Xt,zt,ve,Pe,at);if(!(et===void 0?Et===Xt||De(Et,Xt,We,we,at):et)){Vr=!1;break}$e||($e=zt=="constructor")}if(Vr&&!$e){var bt=ve.constructor,Zt=Pe.constructor;bt!=Zt&&"constructor"in ve&&"constructor"in Pe&&!(typeof bt=="function"&&bt instanceof bt&&typeof Zt=="function"&&Zt instanceof Zt)&&(Vr=!1)}return at.delete(ve),at.delete(Pe),Vr}rt.exports=Ae},shjB:function(rt,je){var U=9007199254740991;function xe(Oe){return typeof Oe=="number"&&Oe>-1&&Oe%1==0&&Oe<=U}rt.exports=xe},slOs:function(rt,je,U){},sxwG:function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("mrSG"),Oe=xe.__importDefault(U("hODF")),F=function(K){xe.__extends(Ae,K);function Ae(ve){return K.call(this,ve)||this}return Ae.prototype.getControl=function(){return new BMapGL.MapTypeControl(this.getOptions())},Ae.prototype.render=function(){return null},Ae}(Oe.default);je.default=F},tJk1:function(rt,je,U){"use strict";var xe=U("bfL6"),Oe=typeof BigInt64Array!="undefined";rt.exports=function F(K,Ae){if(K===Ae)return!0;if(K&&Ae&&typeof K=="object"&&typeof Ae=="object"){if(K.constructor!==Ae.constructor)return!1;var ve,Pe,We;if(Array.isArray(K)){if(ve=K.length,ve!=Ae.length)return!1;for(Pe=ve;Pe--!=0;)if(!F(K[Pe],Ae[Pe]))return!1;return!0}if(K instanceof Map&&Ae instanceof Map){if(K.size!==Ae.size)return!1;var we=xe(K.entries()),De;try{for(we.s();!(De=we.n()).done;)if(Pe=De.value,!Ae.has(Pe[0]))return!1}catch(St){we.e(St)}finally{we.f()}var at=xe(K.entries()),se;try{for(at.s();!(se=at.n()).done;)if(Pe=se.value,!F(Pe[1],Ae.get(Pe[0])))return!1}catch(St){at.e(St)}finally{at.f()}return!0}if(K instanceof Set&&Ae instanceof Set){if(K.size!==Ae.size)return!1;var Re=xe(K.entries()),mt;try{for(Re.s();!(mt=Re.n()).done;)if(Pe=mt.value,!Ae.has(Pe[0]))return!1}catch(St){Re.e(St)}finally{Re.f()}return!0}if(ArrayBuffer.isView(K)&&ArrayBuffer.isView(Ae)){if(ve=K.length,ve!=Ae.length)return!1;for(Pe=ve;Pe--!=0;)if(K[Pe]!==Ae[Pe])return!1;return!0}if(K.constructor===RegExp)return K.source===Ae.source&&K.flags===Ae.flags;if(K.valueOf!==Object.prototype.valueOf)return K.valueOf()===Ae.valueOf();if(K.toString!==Object.prototype.toString)return K.toString()===Ae.toString();if(We=Object.keys(K),ve=We.length,ve!==Object.keys(Ae).length)return!1;for(Pe=ve;Pe--!=0;)if(!Object.prototype.hasOwnProperty.call(Ae,We[Pe]))return!1;for(Pe=ve;Pe--!=0;){var st=We[Pe];if(!(st==="_owner"&&K.$$typeof)&&!F(K[st],Ae[st]))return!1}return!0}return K!==K&&Ae!==Ae}},tMB7:function(rt,je,U){var xe=U("y1pI");function Oe(F){var K=this.__data__,Ae=xe(K,F);return Ae<0?void 0:K[Ae][1]}rt.exports=Oe},tU7J:function(rt,je,U){"use strict";var xe=U("cIOH"),Oe=U.n(xe),F=U("/qDX"),K=U.n(F),Ae=U("5Dmo"),ve=U("5NDa")},tadb:function(rt,je,U){var xe=U("Cwc5"),Oe=U("Kz5y"),F=xe(Oe,"DataView");rt.exports=F},u1OI:function(rt,je,U){},u8Dt:function(rt,je,U){var xe=U("YESw"),Oe="__lodash_hash_undefined__",F=Object.prototype,K=F.hasOwnProperty;function Ae(ve){var Pe=this.__data__;if(xe){var We=Pe[ve];return We===Oe?void 0:We}return K.call(Pe,ve)?Pe[ve]:void 0}rt.exports=Ae},uK0f:function(rt,je,U){(function(xe,Oe){rt.exports=Oe()})(this,function(){"use strict";function xe(Oe,F,K){K=K||{},K.childrenKeyName=K.childrenKeyName||"children";var Ae=Oe||[],ve=[],Pe=0;do{var We=Ae.filter(function(we){return F(we,Pe)})[0];if(!We)break;ve.push(We),Ae=We[K.childrenKeyName]||[],Pe+=1}while(Ae.length>0);return ve}return xe})},uNoE:function(rt,je,U){rt.exports={stepForm:"stepForm___2j1kv",stepFormText:"stepFormText___175Da",result:"result___2CRdD",desc:"desc___2edD4",information:"information___KXNhG",label:"label___3CcgB",money:"money___WHBQ1",uppercase:"uppercase___3_cs6",numInput:"numInput___1LEyY"}},v56E:function(rt,je,U){},"wF/u":function(rt,je,U){var xe=U("e5cp"),Oe=U("ExA7");function F(K,Ae,ve,Pe,We){return K===Ae?!0:K==null||Ae==null||!Oe(K)&&!Oe(Ae)?K!==K&&Ae!==Ae:xe(K,Ae,ve,Pe,F,We)}rt.exports=F},wFql:function(rt,je,U){"use strict";var xe=U("wx14"),Oe=U("rePB"),F=U("q1tI"),K=U("TSYQ"),Ae=U.n(K),ve=U("c+Xe"),Pe=U("H84U"),We=U("uaoM"),we=function(wi,Pi){var hi={};for(var Mt in wi)Object.prototype.hasOwnProperty.call(wi,Mt)&&Pi.indexOf(Mt)<0&&(hi[Mt]=wi[Mt]);if(wi!=null&&typeof Object.getOwnPropertySymbols=="function")for(var wn=0,Mt=Object.getOwnPropertySymbols(wi);wn<Mt.length;wn++)Pi.indexOf(Mt[wn])<0&&Object.prototype.propertyIsEnumerable.call(wi,Mt[wn])&&(hi[Mt[wn]]=wi[Mt[wn]]);return hi},De=function(Pi,hi){var Mt=Pi.prefixCls,wn=Pi.component,Ot=wn===void 0?"article":wn,ar=Pi.className,Mr=Pi["aria-label"],jt=Pi.setContentRef,gr=Pi.children,Vn=we(Pi,["prefixCls","component","className","aria-label","setContentRef","children"]),_n=hi;return jt&&(Object(We.a)(!1,"Typography","`setContentRef` is deprecated. Please use `ref` instead."),_n=Object(ve.a)(hi,jt)),F.createElement(Pe.a,null,function(vo){var Ei=vo.getPrefixCls,Oo=vo.direction,Je=Ot,nt=Ei("typography",Mt),ut=Ae()(nt,Object(Oe.a)({},"".concat(nt,"-rtl"),Oo==="rtl"),ar);return F.createElement(Je,Object(xe.a)({className:ut,"aria-label":Mr,ref:_n},Vn),gr)})},at=F.forwardRef(De);at.displayName="Typography";var se=at,Re=se,mt=U("U8pU"),st=U("bT9E"),St=U("KQm4"),Xr=U("1OyB"),zt=U("vuIU"),nr=U("Ji7U"),pn=U("LK+K"),Vr=U("Zm9Q"),$e=U("+QRC"),Et=U.n($e),Xt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},et=Xt,bt=U("6VBw"),Zt=function(Pi,hi){return F.createElement(bt.a,Object.assign({},Pi,{ref:hi,icon:et}))};Zt.displayName="EditOutlined";var qe=F.forwardRef(Zt),Ie=U("bRQS"),ht=U("lfch"),Er=U("t23M"),Cn=U("wEI+"),pr=U("YMnH"),$r=U("gDlH"),An=U("oHiP"),rn=U("R3zJ"),fr=U("3S7+"),_r=U("ODXe"),Wr=U("4IlW"),dt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"},At=dt,cn=function(Pi,hi){return F.createElement(bt.a,Object.assign({},Pi,{ref:hi,icon:At}))};cn.displayName="EnterOutlined";var Jt=F.forwardRef(cn),rr=U("whJP"),Gn=function(Pi){var hi=Pi.prefixCls,Mt=Pi["aria-label"],wn=Pi.className,Ot=Pi.style,ar=Pi.direction,Mr=Pi.maxLength,jt=Pi.autoSize,gr=jt===void 0?!0:jt,Vn=Pi.value,_n=Pi.onSave,vo=Pi.onCancel,Ei=F.useRef(),Oo=F.useRef(!1),Je=F.useRef(),nt=F.useState(Vn),ut=Object(_r.a)(nt,2),Dt=ut[0],en=ut[1];F.useEffect(function(){en(Vn)},[Vn]),F.useEffect(function(){if(Ei.current&&Ei.current.resizableTextArea){var Hi=Ei.current.resizableTextArea.textArea;Hi.focus();var eo=Hi.value.length;Hi.setSelectionRange(eo,eo)}},[]);var bn=function(eo){var go=eo.target;en(go.value.replace(/[\n\r]/g,""))},jr=function(){Oo.current=!0},tn=function(){Oo.current=!1},yn=function(eo){var go=eo.keyCode;Oo.current||(Je.current=go)},Qn=function(){_n(Dt.trim())},mi=function(eo){var go=eo.keyCode,Ro=eo.ctrlKey,va=eo.altKey,zo=eo.metaKey,tl=eo.shiftKey;Je.current===go&&!Oo.current&&!Ro&&!va&&!zo&&!tl&&(go===Wr.a.ENTER?Qn():go===Wr.a.ESC&&vo())},si=function(){Qn()},Ji=Ae()(hi,"".concat(hi,"-edit-content"),Object(Oe.a)({},"".concat(hi,"-rtl"),ar==="rtl"),wn);return F.createElement("div",{className:Ji,style:Ot},F.createElement(rr.a,{ref:Ei,maxLength:Mr,value:Dt,onChange:bn,onKeyDown:yn,onKeyUp:mi,onCompositionStart:jr,onCompositionEnd:tn,onBlur:si,"aria-label":Mt,autoSize:gr}),F.createElement(Jt,{className:"".concat(hi,"-edit-content-confirm")}))},Kr=Gn,ai=U("i8i4"),Nn=1,So=3,Wo=8,Un,an={padding:0,margin:0,display:"inline",lineHeight:"inherit"};function In(wi){if(!wi)return 0;var Pi=wi.match(/^\d*(\.\d*)?/);return Pi?Number(Pi[0]):0}function Jr(wi){var Pi=Array.prototype.slice.apply(wi);return Pi.map(function(hi){return"".concat(hi,": ").concat(wi.getPropertyValue(hi),";")}).join("")}function Xn(wi){var Pi=[];return wi.forEach(function(hi){var Mt=Pi[Pi.length-1];typeof hi=="string"&&typeof Mt=="string"?Pi[Pi.length-1]+=hi:Pi.push(hi)}),Pi}var hr=function(wi,Pi,hi,Mt,wn){Un||(Un=document.createElement("div"),Un.setAttribute("aria-hidden","true"),document.body.appendChild(Un));var Ot=Pi.rows,ar=Pi.suffix,Mr=ar===void 0?"":ar,jt=window.getComputedStyle(wi),gr=Jr(jt),Vn=In(jt.lineHeight),_n=Math.round(Vn*(Ot+1)+In(jt.paddingTop)+In(jt.paddingBottom));Un.setAttribute("style",gr),Un.style.position="fixed",Un.style.left="0",Un.style.height="auto",Un.style.minHeight="auto",Un.style.maxHeight="auto",Un.style.top="-999999px",Un.style.zIndex="-1000",Un.style.textOverflow="clip",Un.style.whiteSpace="normal",Un.style.webkitLineClamp="none";var vo=Xn(Object(Vr.a)(hi));Object(ai.render)(F.createElement("div",{style:an},F.createElement("span",{style:an},vo,Mr),F.createElement("span",{style:an},Mt)),Un);function Ei(){return Un.offsetHeight<_n}if(Ei())return Object(ai.unmountComponentAtNode)(Un),{content:hi,text:Un.innerHTML,ellipsis:!1};var Oo=Array.prototype.slice.apply(Un.childNodes[0].childNodes[0].cloneNode(!0).childNodes).filter(function(tn){var yn=tn.nodeType;return yn!==Wo}),Je=Array.prototype.slice.apply(Un.childNodes[0].childNodes[1].cloneNode(!0).childNodes);Object(ai.unmountComponentAtNode)(Un);var nt=[];Un.innerHTML="";var ut=document.createElement("span");Un.appendChild(ut);var Dt=document.createTextNode(wn+Mr);ut.appendChild(Dt),Je.forEach(function(tn){Un.appendChild(tn)});function en(tn){ut.insertBefore(tn,Dt)}function bn(tn,yn){var Qn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,mi=arguments.length>3&&arguments[3]!==void 0?arguments[3]:yn.length,si=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,Ji=Math.floor((Qn+mi)/2),Hi=yn.slice(0,Ji);if(tn.textContent=Hi,Qn>=mi-1)for(var eo=mi;eo>=Qn;eo-=1){var go=yn.slice(0,eo);if(tn.textContent=go,Ei()||!go)return eo===yn.length?{finished:!1,reactNode:yn}:{finished:!0,reactNode:go}}return Ei()?bn(tn,yn,Ji,mi,Ji):bn(tn,yn,Qn,Ji,si)}function jr(tn,yn){var Qn=tn.nodeType;if(Qn===Nn)return en(tn),Ei()?{finished:!1,reactNode:vo[yn]}:(ut.removeChild(tn),{finished:!0,reactNode:null});if(Qn===So){var mi=tn.textContent||"",si=document.createTextNode(mi);return en(si),bn(si,mi)}return{finished:!1,reactNode:null}}return Oo.some(function(tn,yn){var Qn=jr(tn,yn),mi=Qn.finished,si=Qn.reactNode;return si&&nt.push(si),mi}),{content:nt,text:Un.innerHTML,ellipsis:!0}},dn=function(wi,Pi){var hi={};for(var Mt in wi)Object.prototype.hasOwnProperty.call(wi,Mt)&&Pi.indexOf(Mt)<0&&(hi[Mt]=wi[Mt]);if(wi!=null&&typeof Object.getOwnPropertySymbols=="function")for(var wn=0,Mt=Object.getOwnPropertySymbols(wi);wn<Mt.length;wn++)Pi.indexOf(Mt[wn])<0&&Object.prototype.propertyIsEnumerable.call(wi,Mt[wn])&&(hi[Mt[wn]]=wi[Mt[wn]]);return hi},Mn=Object(rn.b)("webkitLineClamp"),Tn=Object(rn.b)("textOverflow");function kr(wi,Pi){var hi=wi.mark,Mt=wi.code,wn=wi.underline,Ot=wi.delete,ar=wi.strong,Mr=wi.keyboard,jt=Pi;function gr(Vn,_n){!Vn||(jt=F.createElement(_n,{},jt))}return gr(ar,"strong"),gr(wn,"u"),gr(Ot,"del"),gr(Mt,"code"),gr(hi,"mark"),gr(Mr,"kbd"),jt}var ei="...",Mi=function(wi){Object(nr.a)(hi,wi);var Pi=Object(pn.a)(hi);function hi(){var Mt;return Object(Xr.a)(this,hi),Mt=Pi.apply(this,arguments),Mt.contentRef=F.createRef(),Mt.state={edit:!1,copied:!1,ellipsisText:"",ellipsisContent:null,isEllipsis:!1,expanded:!1,clientRendered:!1},Mt.getPrefixCls=function(){var wn=Mt.props.prefixCls,Ot=Mt.context.getPrefixCls;return Ot("typography",wn)},Mt.onExpandClick=function(wn){var Ot=Mt.getEllipsis(),ar=Ot.onExpand;Mt.setState({expanded:!0}),ar&&ar(wn)},Mt.onEditClick=function(){Mt.triggerEdit(!0)},Mt.onEditChange=function(wn){var Ot=Mt.getEditable(),ar=Ot.onChange;ar&&ar(wn),Mt.triggerEdit(!1)},Mt.onEditCancel=function(){Mt.triggerEdit(!1)},Mt.onCopyClick=function(wn){wn.preventDefault();var Ot=Mt.props,ar=Ot.children,Mr=Ot.copyable,jt=Object(xe.a)({},Object(mt.a)(Mr)==="object"?Mr:null);jt.text===void 0&&(jt.text=String(ar)),Et()(jt.text||""),Mt.setState({copied:!0},function(){jt.onCopy&&jt.onCopy(),Mt.copyId=window.setTimeout(function(){Mt.setState({copied:!1})},3e3)})},Mt.setEditRef=function(wn){Mt.editIcon=wn},Mt.triggerEdit=function(wn){var Ot=Mt.getEditable(),ar=Ot.onStart;wn&&ar&&ar(),Mt.setState({edit:wn},function(){!wn&&Mt.editIcon&&Mt.editIcon.focus()})},Mt.resizeOnNextFrame=function(){An.a.cancel(Mt.rafId),Mt.rafId=Object(An.a)(function(){Mt.syncEllipsis()})},Mt}return Object(zt.a)(hi,[{key:"componentDidMount",value:function(){this.setState({clientRendered:!0}),this.resizeOnNextFrame()}},{key:"componentDidUpdate",value:function(wn){var Ot=this.props.children,ar=this.getEllipsis(),Mr=this.getEllipsis(wn);(Ot!==wn.children||ar.rows!==Mr.rows)&&this.resizeOnNextFrame()}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.copyId),An.a.cancel(this.rafId)}},{key:"getEditable",value:function(wn){var Ot=this.state.edit,ar=wn||this.props,Mr=ar.editable;return Mr?Object(xe.a)({editing:Ot},Object(mt.a)(Mr)==="object"?Mr:null):{editing:Ot}}},{key:"getEllipsis",value:function(wn){var Ot=wn||this.props,ar=Ot.ellipsis;return ar?Object(xe.a)({rows:1,expandable:!1},Object(mt.a)(ar)==="object"?ar:null):{}}},{key:"canUseCSSEllipsis",value:function(){var wn=this.state.clientRendered,Ot=this.props,ar=Ot.editable,Mr=Ot.copyable,jt=this.getEllipsis(),gr=jt.rows,Vn=jt.expandable,_n=jt.suffix,vo=jt.onEllipsis,Ei=jt.tooltip;return _n||Ei||ar||Mr||Vn||!wn||vo?!1:gr===1?Tn:Mn}},{key:"syncEllipsis",value:function(){var wn=this.state,Ot=wn.ellipsisText,ar=wn.isEllipsis,Mr=wn.expanded,jt=this.getEllipsis(),gr=jt.rows,Vn=jt.suffix,_n=jt.onEllipsis,vo=this.props.children;if(!(!gr||gr<0||!this.contentRef.current||Mr)&&!this.canUseCSSEllipsis()){Object(We.a)(Object(Vr.a)(vo).every(function(ut){return typeof ut=="string"}),"Typography","`ellipsis` should use string as children only.");var Ei=hr(this.contentRef.current,{rows:gr,suffix:Vn},vo,this.renderOperations(!0),ei),Oo=Ei.content,Je=Ei.text,nt=Ei.ellipsis;(Ot!==Je||ar!==nt)&&(this.setState({ellipsisText:Je,ellipsisContent:Oo,isEllipsis:nt}),ar!==nt&&_n&&_n(nt))}}},{key:"renderExpand",value:function(wn){var Ot=this.getEllipsis(),ar=Ot.expandable,Mr=Ot.symbol,jt=this.state,gr=jt.expanded,Vn=jt.isEllipsis;if(!ar||!wn&&(gr||!Vn))return null;var _n;return Mr?_n=Mr:_n=this.expandStr,F.createElement("a",{key:"expand",className:"".concat(this.getPrefixCls(),"-expand"),onClick:this.onExpandClick,"aria-label":this.expandStr},_n)}},{key:"renderEdit",value:function(){var wn=this.props.editable;if(!!wn){var Ot=wn.icon,ar=wn.tooltip,Mr=Object(Vr.a)(ar)[0]||this.editStr,jt=typeof Mr=="string"?Mr:"";return F.createElement(fr.a,{key:"edit",title:ar===!1?"":Mr},F.createElement($r.a,{ref:this.setEditRef,className:"".concat(this.getPrefixCls(),"-edit"),onClick:this.onEditClick,"aria-label":jt},Ot||F.createElement(qe,{role:"button"})))}}},{key:"renderCopy",value:function(){var wn=this.state.copied,Ot=this.props.copyable;if(!!Ot){var ar=this.getPrefixCls(),Mr=Ot.tooltips,jt=Object(Vr.a)(Mr);jt.length===0&&(jt=[this.copyStr,this.copiedStr]);var gr=wn?jt[1]:jt[0],Vn=typeof gr=="string"?gr:"",_n=Object(Vr.a)(Ot.icon);return F.createElement(fr.a,{key:"copy",title:Mr===!1?"":gr},F.createElement($r.a,{className:Ae()("".concat(ar,"-copy"),wn&&"".concat(ar,"-copy-success")),onClick:this.onCopyClick,"aria-label":Vn},wn?_n[1]||F.createElement(Ie.a,null):_n[0]||F.createElement(ht.a,null)))}}},{key:"renderEditInput",value:function(){var wn=this.props,Ot=wn.children,ar=wn.className,Mr=wn.style,jt=this.context.direction,gr=this.getEditable(),Vn=gr.maxLength,_n=gr.autoSize;return F.createElement(Kr,{value:typeof Ot=="string"?Ot:"",onSave:this.onEditChange,onCancel:this.onEditCancel,prefixCls:this.getPrefixCls(),className:ar,style:Mr,direction:jt,maxLength:Vn,autoSize:_n})}},{key:"renderOperations",value:function(wn){return[this.renderExpand(wn),this.renderEdit(),this.renderCopy()].filter(function(Ot){return Ot})}},{key:"renderContent",value:function(){var wn=this,Ot=this.state,ar=Ot.ellipsisContent,Mr=Ot.isEllipsis,jt=Ot.expanded,gr=this.props,Vn=gr.component,_n=gr.children,vo=gr.className,Ei=gr.type,Oo=gr.disabled,Je=gr.style,nt=dn(gr,["component","children","className","type","disabled","style"]),ut=this.context.direction,Dt=this.getEllipsis(),en=Dt.rows,bn=Dt.suffix,jr=Dt.tooltip,tn=this.getPrefixCls(),yn=Object(st.a)(nt,["prefixCls","editable","copyable","ellipsis","mark","code","delete","underline","strong","keyboard"].concat(Object(St.a)(Cn.a))),Qn=this.canUseCSSEllipsis(),mi=en===1&&Qn,si=en&&en>1&&Qn,Ji=_n;if(en&&Mr&&!jt&&!Qn){var Hi=nt.title,eo=Hi||"";!Hi&&(typeof _n=="string"||typeof _n=="number")&&(eo=String(_n)),eo=eo==null?void 0:eo.slice(String(ar||"").length),Ji=F.createElement(F.Fragment,null,ar,F.createElement("span",{title:eo,"aria-hidden":"true"},ei),bn),jr&&(Ji=F.createElement(fr.a,{title:jr===!0?_n:jr},F.createElement("span",null,Ji)))}else Ji=F.createElement(F.Fragment,null,_n,bn);return Ji=kr(this.props,Ji),F.createElement(pr.a,{componentName:"Text"},function(go){var Ro,va=go.edit,zo=go.copy,tl=go.copied,yl=go.expand;return wn.editStr=va,wn.copyStr=zo,wn.copiedStr=tl,wn.expandStr=yl,F.createElement(Er.a,{onResize:wn.resizeOnNextFrame,disabled:!en},F.createElement(Re,Object(xe.a)({className:Ae()((Ro={},Object(Oe.a)(Ro,"".concat(tn,"-").concat(Ei),Ei),Object(Oe.a)(Ro,"".concat(tn,"-disabled"),Oo),Object(Oe.a)(Ro,"".concat(tn,"-ellipsis"),en),Object(Oe.a)(Ro,"".concat(tn,"-ellipsis-single-line"),mi),Object(Oe.a)(Ro,"".concat(tn,"-ellipsis-multiple-line"),si),Ro),vo),style:Object(xe.a)(Object(xe.a)({},Je),{WebkitLineClamp:si?en:void 0}),component:Vn,ref:wn.contentRef,direction:ut},yn),Ji,wn.renderOperations()))})}},{key:"render",value:function(){var wn=this.getEditable(),Ot=wn.editing;return Ot?this.renderEditInput():this.renderContent()}}],[{key:"getDerivedStateFromProps",value:function(wn){var Ot=wn.children,ar=wn.editable;return Object(We.a)(!ar||typeof Ot=="string","Typography","When `editable` is enabled, the `children` should use string."),{}}}]),hi}(F.Component);Mi.contextType=Pe.b,Mi.defaultProps={children:""};var Di=Mi,ui=function(wi,Pi){var hi={};for(var Mt in wi)Object.prototype.hasOwnProperty.call(wi,Mt)&&Pi.indexOf(Mt)<0&&(hi[Mt]=wi[Mt]);if(wi!=null&&typeof Object.getOwnPropertySymbols=="function")for(var wn=0,Mt=Object.getOwnPropertySymbols(wi);wn<Mt.length;wn++)Pi.indexOf(Mt[wn])<0&&Object.prototype.propertyIsEnumerable.call(wi,Mt[wn])&&(hi[Mt[wn]]=wi[Mt[wn]]);return hi},Po=function(Pi){var hi=Pi.ellipsis,Mt=ui(Pi,["ellipsis"]),wn=F.useMemo(function(){return hi&&Object(mt.a)(hi)==="object"?Object(st.a)(hi,["expandable","rows"]):hi},[hi]);return Object(We.a)(Object(mt.a)(hi)!=="object"||!hi||!("expandable"in hi)&&!("rows"in hi),"Typography.Text","`ellipsis` do not support `expandable` or `rows` props."),F.createElement(Di,Object(xe.a)({},Mt,{ellipsis:wn,component:"span"}))},cr=Po,$o=function(wi,Pi){var hi={};for(var Mt in wi)Object.prototype.hasOwnProperty.call(wi,Mt)&&Pi.indexOf(Mt)<0&&(hi[Mt]=wi[Mt]);if(wi!=null&&typeof Object.getOwnPropertySymbols=="function")for(var wn=0,Mt=Object.getOwnPropertySymbols(wi);wn<Mt.length;wn++)Pi.indexOf(Mt[wn])<0&&Object.prototype.propertyIsEnumerable.call(wi,Mt[wn])&&(hi[Mt[wn]]=wi[Mt[wn]]);return hi},As=function(Pi,hi){var Mt=Pi.ellipsis,wn=Pi.rel,Ot=$o(Pi,["ellipsis","rel"]);Object(We.a)(Object(mt.a)(Mt)!=="object","Typography.Link","`ellipsis` only supports boolean value.");var ar=F.useRef(null);F.useImperativeHandle(hi,function(){var jt;return(jt=ar.current)===null||jt===void 0?void 0:jt.contentRef.current});var Mr=Object(xe.a)(Object(xe.a)({},Ot),{rel:wn===void 0&&Ot.target==="_blank"?"noopener noreferrer":wn});return delete Mr.navigate,F.createElement(Di,Object(xe.a)({},Mr,{ref:ar,ellipsis:!!Mt,component:"a"}))},Gi=F.forwardRef(As),Xs=U("CWQg"),un=function(wi,Pi){var hi={};for(var Mt in wi)Object.prototype.hasOwnProperty.call(wi,Mt)&&Pi.indexOf(Mt)<0&&(hi[Mt]=wi[Mt]);if(wi!=null&&typeof Object.getOwnPropertySymbols=="function")for(var wn=0,Mt=Object.getOwnPropertySymbols(wi);wn<Mt.length;wn++)Pi.indexOf(Mt[wn])<0&&Object.prototype.propertyIsEnumerable.call(wi,Mt[wn])&&(hi[Mt[wn]]=wi[Mt[wn]]);return hi},ko=Object(Xs.b)(1,2,3,4,5),ss=function(Pi){var hi=Pi.level,Mt=hi===void 0?1:hi,wn=un(Pi,["level"]),Ot;return ko.indexOf(Mt)!==-1?Ot="h".concat(Mt):(Object(We.a)(!1,"Typography.Title","Title only accept `1 | 2 | 3 | 4 | 5` as `level` value. And `5` need 4.6.0+ version."),Ot="h1"),F.createElement(Di,Object(xe.a)({},wn,{component:Ot}))},Gr=ss,Yl=function(Pi){return F.createElement(Di,Object(xe.a)({},Pi,{component:"div"}))},ou=Yl,ea=Re;ea.Text=cr,ea.Link=Gi,ea.Title=Gr,ea.Paragraph=ou;var Eu=je.a=ea},wJg7:function(rt,je){var U=9007199254740991,xe=/^(?:0|[1-9]\d*)$/;function Oe(F,K){var Ae=typeof F;return K=K==null?U:K,!!K&&(Ae=="number"||Ae!="symbol"&&xe.test(F))&&F>-1&&F%1==0&&F<K}rt.exports=Oe},x1Ya:function(rt,je,U){"use strict";var xe=U("wx14"),Oe=U("rePB"),F=U("Ff2n"),K=U("VTBJ"),Ae=U("1OyB"),ve=U("vuIU"),Pe=U("Ji7U"),We=U("LK+K"),we=U("q1tI"),De=U.n(we),at=U("TSYQ"),se=U.n(at),Re=function(mt){Object(Pe.a)(St,mt);var st=Object(We.a)(St);function St(Xr){var zt;Object(Ae.a)(this,St),zt=st.call(this,Xr),zt.handleChange=function(pn){var Vr=zt.props,$e=Vr.disabled,Et=Vr.onChange;$e||("checked"in zt.props||zt.setState({checked:pn.target.checked}),Et&&Et({target:Object(K.a)(Object(K.a)({},zt.props),{},{checked:pn.target.checked}),stopPropagation:function(){pn.stopPropagation()},preventDefault:function(){pn.preventDefault()},nativeEvent:pn.nativeEvent}))},zt.saveInput=function(pn){zt.input=pn};var nr="checked"in Xr?Xr.checked:Xr.defaultChecked;return zt.state={checked:nr},zt}return Object(ve.a)(St,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var zt,nr=this.props,pn=nr.prefixCls,Vr=nr.className,$e=nr.style,Et=nr.name,Xt=nr.id,et=nr.type,bt=nr.disabled,Zt=nr.readOnly,qe=nr.tabIndex,Ie=nr.onClick,ht=nr.onFocus,Er=nr.onBlur,Cn=nr.onKeyDown,pr=nr.onKeyPress,$r=nr.onKeyUp,An=nr.autoFocus,rn=nr.value,fr=nr.required,_r=Object(F.a)(nr,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),Wr=Object.keys(_r).reduce(function(cn,Jt){return(Jt.substr(0,5)==="aria-"||Jt.substr(0,5)==="data-"||Jt==="role")&&(cn[Jt]=_r[Jt]),cn},{}),dt=this.state.checked,At=se()(pn,Vr,(zt={},Object(Oe.a)(zt,"".concat(pn,"-checked"),dt),Object(Oe.a)(zt,"".concat(pn,"-disabled"),bt),zt));return De.a.createElement("span",{className:At,style:$e},De.a.createElement("input",Object(xe.a)({name:Et,id:Xt,type:et,required:fr,readOnly:Zt,disabled:bt,tabIndex:qe,className:"".concat(pn,"-input"),checked:!!dt,onClick:Ie,onFocus:ht,onBlur:Er,onKeyUp:$r,onKeyDown:Cn,onKeyPress:pr,onChange:this.handleChange,autoFocus:An,ref:this.saveInput,value:rn},Wr)),De.a.createElement("span",{className:"".concat(pn,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(zt,nr){return"checked"in zt?Object(K.a)(Object(K.a)({},nr),{},{checked:zt.checked}):null}}]),St}(we.Component);Re.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}},je.a=Re},xYSL:function(rt,je){function U(xe,Oe){return xe.has(Oe)}rt.exports=U},xzDV:function(rt,je,U){},"y0+3":function(rt,je,U){"use strict";U.d(je,"a",function(){return at}),U.d(je,"b",function(){return Re});var xe=/margin|padding|width|height|max|min|offset/,Oe={left:!0,top:!0},F={cssFloat:1,styleFloat:1,float:1};function K(mt){return mt.nodeType===1?mt.ownerDocument.defaultView.getComputedStyle(mt,null):{}}function Ae(mt,st,St){if(st=st.toLowerCase(),St==="auto"){if(st==="height")return mt.offsetHeight;if(st==="width")return mt.offsetWidth}return st in Oe||(Oe[st]=xe.test(st)),Oe[st]?parseFloat(St)||0:St}function ve(mt,st){var St=arguments.length,Xr=K(mt);return st=F[st]?"cssFloat"in mt.style?"cssFloat":"styleFloat":st,St===1?Xr:Ae(mt,st,Xr[st]||mt.style[st])}function Pe(mt,st,St){var Xr=arguments.length;if(st=F[st]?"cssFloat"in mt.style?"cssFloat":"styleFloat":st,Xr===3)return typeof St=="number"&&xe.test(st)&&(St="".concat(St,"px")),mt.style[st]=St,St;for(var zt in st)st.hasOwnProperty(zt)&&Pe(mt,zt,st[zt]);return K(mt)}function We(mt){return mt===document.body?document.documentElement.clientWidth:mt.offsetWidth}function we(mt){return mt===document.body?window.innerHeight||document.documentElement.clientHeight:mt.offsetHeight}function De(){var mt=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),st=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);return{width:mt,height:st}}function at(){var mt=document.documentElement.clientWidth,st=window.innerHeight||document.documentElement.clientHeight;return{width:mt,height:st}}function se(){return{scrollLeft:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),scrollTop:Math.max(document.documentElement.scrollTop,document.body.scrollTop)}}function Re(mt){var st=mt.getBoundingClientRect(),St=document.documentElement;return{left:st.left+(window.pageXOffset||St.scrollLeft)-(St.clientLeft||document.body.clientLeft||0),top:st.top+(window.pageYOffset||St.scrollTop)-(St.clientTop||document.body.clientTop||0)}}},y1pI:function(rt,je,U){var xe=U("ljhN");function Oe(F,K){for(var Ae=F.length;Ae--;)if(xe(F[Ae][0],K))return Ae;return-1}rt.exports=Oe},y8nQ:function(rt,je,U){"use strict";var xe=U("cIOH"),Oe=U.n(xe),F=U("gwTy"),K=U.n(F),Ae=U("1GLa"),ve=U("5Dmo")},yGk4:function(rt,je,U){var xe=U("Cwc5"),Oe=U("Kz5y"),F=xe(Oe,"Set");rt.exports=F},zATX:function(rt,je,U){"use strict";Object.defineProperty(je,"__esModule",{value:!0});var xe=U("mrSG"),Oe=xe.__importDefault(U("0GZW")),F=xe.__importDefault(U("Gytx")),K=function(Ae){xe.__extends(ve,Ae);function ve(Pe){var We=Ae.call(this,Pe)||this;return We.options=["strokeColor","strokeWeight","strokeOpacity","strokeStyle","fillColor","fillOpacity","enableMassClear","enableEditing"],We}return ve.prototype.onDataUpdate=function(Pe){var We=this.props,we=We.center,De=We.radius,at=We.autoViewport,se=Pe.center,Re=Pe.radius,mt=Pe.autoViewport,st=we&&!F.default(we,se),St=!!(De&&!F.default(De,Re)),Xr=!F.default(at,mt);if(st&&this.overlay.setCenter(this.parseCenter(we)),St&&this.overlay.setRadius(De),at&&(st||St||Xr)){var zt=this.overlay.getBounds(),nr=this.props.map.getViewport(zt,this.props.viewportOptions||{});this.props.map.setViewport(nr)}},ve.prototype.getOverlay=function(){var Pe=this.props,We=Pe.center,we=Pe.radius;return new BMapGL.Circle(this.parseCenter(We),we,this.getOptions())},ve.prototype.parseCenter=function(Pe){var We=this.props.coordType==="bd09mc",we;return Pe instanceof Array?we=new BMapGL.Point(Pe[0],Pe[1]):Pe instanceof BMapGL.Point?we=Pe:we=new BMapGL.Point(Pe.lng,Pe.lat),We&&(we=BMapGL.Projection.convertMC2LL(we)),we},ve.prototype.render=function(){return null},ve}(Oe.default);je.default=K}}]);
