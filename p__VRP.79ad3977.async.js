(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"+6XX":function(ut,Ye,ae){var Be=ae("y1pI");function Xe(Ne){return Be(this.__data__,Ne)>-1}ut.exports=Xe},"03A+":function(ut,Ye,ae){var Be=ae("JTzB"),Xe=ae("ExA7"),Ne=Object.prototype,ge=Ne.hasOwnProperty,We=Ne.propertyIsEnumerable,Fe=Be(function(){return arguments}())?Be:function(lt){return Xe(lt)&&ge.call(lt,"callee")&&!We.call(lt,"callee")};ut.exports=Fe},"0Cz8":function(ut,Ye,ae){var Be=ae("Xi7e"),Xe=ae("ebwN"),Ne=ae("e4Nc"),ge=200;function We(Fe,lt){var pt=this.__data__;if(pt instanceof Be){var de=pt.__data__;if(!Xe||de.length<ge-1)return de.push([Fe,lt]),this.size=++pt.size,this;pt=this.__data__=new Ne(de)}return pt.set(Fe,lt),this.size=pt.size,this}ut.exports=We},"0GZW":function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("mrSG"),Xe=ae("W1EI"),Ne=Be.__importDefault(ae("s+10")),ge=Be.__importDefault(ae("Gytx")),We=["click","dblclick","rightclick","mousedown","mouseup","mouseout","mouseover","mousemove","remove","lineupdate"],Fe={enableMassClear:["enableMassClear","disableMassClear"],enableEditing:["enableEditing","disableEditing"]},lt=function(pt){Be.__extends(de,pt);function de(xe){var ft=pt.call(this,xe)||this;return ft.options=["strokeColor","strokeWeight","strokeOpacity","strokeStyle","fillColor","fillOpacity","enableMassClear","enableEditing","enableClicking"],ft}return de.prototype.componentDidUpdate=function(xe){var ft=this.props,N=ft.strokeColor,ve=ft.strokeWeight,Zr=ft.strokeOpacity,st=ft.strokeStyle,zr=ft.fillColor,zn=ft.fillOpacity,$t=xe.strokeColor,gn=xe.strokeWeight,Ni=xe.strokeOpacity,br=xe.strokeStyle,Tt=xe.fillColor,Vr=xe.fillOpacity,Ar=!ge.default(N,$t),Dt=!ge.default(ve,gn),pr=!ge.default(Zr,Ni),Gr=!ge.default(st,br),lr=!ge.default(zr,Tt),Pe=!ge.default(zn,Vr);(Ar||Dt||pr||Gr||lr||Pe)&&this.overlay.setOptions(this.getOptions()),this.onDataUpdate(xe)},de.prototype.componentDidMount=function(){this.initialize()},de.prototype.componentWillUnmount=function(){this.destroy()},de.prototype.destroy=function(){this.overlay&&(this.props.map.removeOverlay(this.overlay),this.instance=this.overlay=void 0)},de.prototype.initialize=function(){var xe=this.props.map;if(!!xe){this.destroy(),this.instance=this.overlay=this.getOverlay(),xe.addOverlay(this.overlay);var ft;if(this.overlay instanceof BMapGL.Polyline||this.overlay instanceof BMapGL.Polygon){var N=this.overlay.getPath();ft=xe.getViewport(N,this.props.viewportOptions||{})}else if(this.overlay instanceof BMapGL.Circle){var ve=this.overlay.getBounds();ft=xe.getViewport(ve,this.props.viewportOptions||{})}ft&&this.props.autoViewport&&xe.setViewport(ft)}},de.prototype.getOverlay=function(){throw new Error("Method getOverlay not implemented.")},de.prototype.onDataUpdate=function(xe){throw new Error("Method onDataUpdate not implemented.")},de}(Xe.Component);Ye.default=Ne.default(lt,We,Fe)},"0uCz":function(ut,Ye,ae){"use strict";window._hmt=window._hmt||[],function(){var Be=document.createElement("script");Be.src="https://hm.baidu.com/hm.js?b97569d26a525941d8d163729d284198";var Xe=document.getElementsByTagName("script")[0];Xe.parentNode.insertBefore(Be,Xe)}()},"0ycA":function(ut,Ye){function ae(){return[]}ut.exports=ae},"1hJj":function(ut,Ye,ae){var Be=ae("e4Nc"),Xe=ae("ftKO"),Ne=ae("3A9y");function ge(We){var Fe=-1,lt=We==null?0:We.length;for(this.__data__=new Be;++Fe<lt;)this.add(We[Fe])}ge.prototype.add=ge.prototype.push=Xe,ge.prototype.has=Ne,ut.exports=ge},"2gN3":function(ut,Ye,ae){var Be=ae("Kz5y"),Xe=Be["__core-js_shared__"];ut.exports=Xe},"3A9y":function(ut,Ye){function ae(Be){return this.__data__.has(Be)}ut.exports=ae},"3Fdi":function(ut,Ye){var ae=Function.prototype,Be=ae.toString;function Xe(Ne){if(Ne!=null){try{return Be.call(Ne)}catch(ge){}try{return Ne+""}catch(ge){}}return""}ut.exports=Xe},"3Ree":function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("mrSG"),Xe=ae("4K7L"),Ne=Be.__importStar(ae("q1tI")),ge=ae("W1EI"),We=function(Fe){Be.__extends(lt,Fe);function lt(pt){return Fe.call(this,pt)||this}return lt.prototype.componentDidMount=function(){this.initialize(),this.forceUpdate()},lt.prototype.componentWillUnmount=function(){this.view&&(this.view.destroy(),this.view=null)},lt.prototype.componentDidUpdate=function(pt){(!this.map||!this.view)&&this.initialize()},lt.prototype.initialize=function(){var pt=this.props.map;if(!(!pt||this.view)&&(this.map=pt,!this.view)){var de=[],xe=this.props.effects;xe&&xe.length&&xe.forEach(function(ft){ft==="bloom"?de.push(new Xe.BloomEffect):ft==="bright"?de.push(new Xe.BrightEffect):ft==="blur"&&de.push(new Xe.BlurEffect)}),this.view=new Xe.View({effects:de,map:pt})}},lt.prototype.renderChildren=function(pt){var de=this;if(!(!pt||!this.map||!this.view))return Ne.default.Children.map(pt,function(xe){if(!!xe)return typeof xe.type=="string"?xe:Ne.default.cloneElement(xe,{map:de.map,view:de.view})})},lt.prototype.render=function(){return Ne.default.createElement(Ne.Fragment,null,this.renderChildren(this.props.children))},lt}(ge.Component);Ye.default=We},"3RkO":function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});function Be(Xe){if(typeof Xe=="string")return Xe;if(!!Xe)return Xe.displayName||Xe.name||"Component"}Ye.default=Be},"4K7L":function(ut,Ye,ae){(function(Be){function Xe(Ne,ge,We){for(var Fe=ge.length,lt=new Uint8Array(3*Fe/4-(ge[Fe-2]=="="?2:ge[Fe-1]=="="?1:0)),pt=new Uint8Array(130),de=0;64>de;de++)pt["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(de)]=de;for(var xe=de=0;de<Fe;de+=4){var ft=pt[ge.charCodeAt(de+1)],N=pt[ge.charCodeAt(de+2)];lt[xe++]=pt[ge.charCodeAt(de)]<<2|ft>>4,lt[xe++]=(ft&15)<<4|N>>2,lt[xe++]=(N&3)<<6|pt[ge.charCodeAt(de+3)]&63}return We&&!Ne?WebAssembly.instantiate(lt,We):We||Ne?(Ne=new WebAssembly.Module(lt),We?new WebAssembly.Instance(Ne,We):Ne):WebAssembly.compile(lt)}(function(Ne,ge){ge(Ye)})(this,function(Ne){function ge(C){this.options=C||{},this.paneName=this.options.paneName||"labelPane",this.zIndex=this.options.zIndex||1,this._map=C.map,this._lastDrawTime=null,this.show()}function We(C){return C&&C.__esModule&&Object.prototype.hasOwnProperty.call(C,"default")?C.default:C}function Fe(C,o){return o={exports:{}},C(o,o.exports),o.exports}function lt(C,o){return function(h){return o(C(h))}}function pt(C){var o=function(u){return u==null?u:(1<arguments.length&&(u=Array.prototype.slice.call(arguments)),C(u))};return"conversion"in C&&(o.conversion=C.conversion),o}function de(C){var o=function(u){if(u==null)return u;1<arguments.length&&(u=Array.prototype.slice.call(arguments));var f=C(u);if((typeof f=="undefined"?"undefined":Ol(f))==="object")for(var p=f.length,S=0;S<p;S++)f[S]=Math.round(f[S]);return f};return"conversion"in C&&(o.conversion=C.conversion),o}function xe(C,o){if(!(this instanceof xe))return new xe(C,o);if(o&&o in qv&&(o=null),o&&!(o in Jl))throw Error("Unknown model: "+o);if(typeof C=="undefined")this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(C instanceof xe)this.model=C.model,this.color=C.color.slice(),this.valpha=C.valpha;else if(typeof C=="string"){if(o=Jd.get(C),o===null)throw Error("Unable to parse color from string: "+C);this.model=o.model;var h=Jl[this.model].channels;this.color=o.value.slice(0,h),this.valpha=typeof o.value[h]=="number"?o.value[h]:1}else if(C.length)this.model=o||"rgb",h=Jl[this.model].channels,o=Ru.call(C,0,h),this.color=Zr(o,h),this.valpha=typeof C[h]=="number"?C[h]:1;else if(typeof C=="number")C&=16777215,this.model="rgb",this.color=[C>>16&255,C>>8&255,C&255],this.valpha=1;else{if(this.valpha=1,o=Gs(C),"alpha"in C&&(o.splice(o.indexOf("alpha"),1),this.valpha=typeof C.alpha=="number"?C.alpha:0),o=o.sort().join(""),!(o in qd))throw Error("Unable to parse color from object: "+ci(C));this.model=qd[o],h=Jl[this.model].labels;var u=[];for(o=0;o<h.length;o++)u.push(C[h[o]]);this.color=Zr(u)}if(ql[this.model])for(h=Jl[this.model].channels,o=0;o<h;o++)(C=ql[this.model][o])&&(this.color[o]=C(this.color[o]));this.valpha=Math.max(0,Math.min(1,this.valpha)),Re&&Re(this)}function ft(C){return function(o){return Number(o.toFixed(C))}}function N(C,o,h){return C=Array.isArray(C)?C:[C],C.forEach(function(u){(ql[u]||(ql[u]=[]))[o]=h}),C=C[0],function(u){if(arguments.length){h&&(u=h(u));var f=this[C]();return f.color[o]=u,f}return f=this[C]().color[o],h&&(f=h(f)),f}}function ve(C){return function(o){return Math.max(0,Math.min(C,o))}}function Zr(C,o){for(var h=0;h<o;h++)typeof C[h]!="number"&&(C[h]=0);return C}function st(C){return C*Math.PI/180}function zr(C){return C/Math.PI*180}function zn(C){return Math.pow(2,Math.ceil(Math.log(C)/Math.LN2))}function $t(C){return Math.pow(2,Math.floor(Math.log(C)/Math.LN2))}function gn(C,o){return 1e-8>Math.abs(C-o)}function Ni(){}function br(C,o){for(var h in o)C[h]=o[h]}function Tt(C,o){this.lng=C,this.lat=o}function Vr(C,o){this.x=C,this.y=o}function Ar(C,o){var h=document.createElement("canvas");return C&&(h.width=C),o&&(h.height=o),h}function Dt(C){C=C||{},this.gradient=C.gradient||{"0.25":"rgba(0, 0, 255, 1)","0.55":"rgba(0, 255, 0, 1)","0.85":"rgba(255, 255, 0, 1)",1:"rgba(255, 0, 0, 1)"},this.maxSize=C.maxSize===void 0?35:C.maxSize,this.minSize=C.minSize||0,this.max=C.max||100,this.min=C.min||0,this.initPalette()}function pr(C){this.options=C||{},this._initialize()}function Gr(C,o,h,u,f){var p=1-C,S=1-C;return p*p*p*o+3*S*S*C*h+3*(1-C)*C*C*u+C*C*C*f}function lr(C){this.WORLD_SIZE_MC_HALF=20037726372307256e-9,this.WORLD_SIZE_MC=2*this.WORLD_SIZE_MC_HALF,this.options=C||{},this._initialize()}function Pe(C,o){return C&&o?Math.round(Math.sqrt(Math.pow(C.lng-o.lng,2)+Math.pow(C.lat-o.lat,2))):0}function ir(C){return C=C.split("|"),C[0]=C[0].split(","),{lng:parseFloat(C[0][0]),lat:parseFloat(C[0][1])}}function pi(C){for(var o=C.length;0<=--o;)C[o]=0}function Do(C,o,h,u,f){this.static_tree=C,this.extra_bits=o,this.extra_base=h,this.elems=u,this.max_length=f,this.has_stree=C&&C.length}function an(C,o){this.dyn_tree=C,this.max_code=0,this.stat_desc=o}function Ai(C,o,h,u,f){this.good_length=C,this.max_lazy=o,this.nice_length=h,this.max_chain=u,this.func=f}function Uo(){this.strm=null,this.status=0,this.pending_buf=null,this.wrap=this.pending=this.pending_out=this.pending_buf_size=0,this.gzhead=null,this.gzindex=0,this.method=$l,this.last_flush=-1,this.w_mask=this.w_bits=this.w_size=0,this.window=null,this.window_size=0,this.head=this.prev=null,this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Xs(this.dyn_ltree),Xs(this.dyn_dtree),Xs(this.bl_tree),this.bl_desc=this.d_desc=this.l_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Xs(this.heap),this.heap_max=this.heap_len=0,this.depth=new Uint16Array(573),Xs(this.depth),this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function Ga(C){C=this.options=Og.assign({level:u0,method:gx,chunkSize:16384,windowBits:15,memLevel:8,strategy:al},C||{}),C.raw&&0<C.windowBits?C.windowBits=-C.windowBits:C.gzip&&0<C.windowBits&&16>C.windowBits&&(C.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Yy,this.strm.avail_out=0;var o=eu.deflateInit2(this.strm,C.level,C.method,C.windowBits,C.memLevel,C.strategy);if(o!==Rg)throw Error(ta[o]);if(C.header&&eu.deflateSetHeader(this.strm,C.header),C.dictionary){if(C=typeof C.dictionary=="string"?oc.string2buf(C.dictionary):s0.call(C.dictionary)==="[object ArrayBuffer]"?new Uint8Array(C.dictionary):C.dictionary,o=eu.deflateSetDictionary(this.strm,C),o!==Rg)throw Error(ta[o]);this._dict_set=!0}}function Ca(C,o){if(o=new Ga(o),o.push(C,!0),o.err)throw o.msg||ta[o.err];return o.result}function os(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.total=this.check=this.dmax=this.flags=0,this.head=null,this.wnext=this.whave=this.wsize=this.wbits=0,this.window=null,this.extra=this.offset=this.length=this.bits=this.hold=0,this.distcode=this.lencode=null,this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.distdyn=this.lendyn=null,this.was=this.back=this.sane=0}function _a(C){var o=this.options=Og.assign({chunkSize:65536,windowBits:15,to:""},C||{});if(o.raw&&0<=o.windowBits&&16>o.windowBits&&(o.windowBits=-o.windowBits,o.windowBits===0&&(o.windowBits=-15)),!(0<=o.windowBits&&16>o.windowBits)||C&&C.windowBits||(o.windowBits+=32),15<o.windowBits&&48>o.windowBits&&(o.windowBits&15)==0&&(o.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Yy,this.strm.avail_out=0,C=Nu.inflateInit2(this.strm,o.windowBits),C!==op||(this.header=new yx,Nu.inflateGetHeader(this.strm,this.header),o.dictionary&&(typeof o.dictionary=="string"?o.dictionary=oc.string2buf(o.dictionary):Fg.call(o.dictionary)==="[object ArrayBuffer]"&&(o.dictionary=new Uint8Array(o.dictionary)),o.raw&&(C=Nu.inflateSetDictionary(this.strm,o.dictionary),C!==op))))throw Error(ta[C])}function Qa(C,o){if(o=new _a(o),o.push(C),o.err)throw o.msg||ta[o.err];return o.result}function Sn(C){for(var o=["webgl2","experimental-webgl2","webgl","experimental-webgl"],h,u=0;u<o.length;u++)try{if(h=C.getContext(o[u],{alpha:!0,premultipliedAlpha:!1}))break}catch(f){}return h}function ih(C,o,h){h=_o({TEXTURE_MAG_FILTER:"LINEAR",TEXTURE_MIN_FILTER:"LINEAR",TEXTURE_WRAP_S:"REPEAT",TEXTURE_WRAP_T:"REPEAT"},h);var u=C.createTexture();C.bindTexture(C.TEXTURE_2D,u),C.pixelStorei(C.UNPACK_FLIP_Y_WEBGL,!0),C.texImage2D(C.TEXTURE_2D,0,C.RGBA,C.RGBA,C.UNSIGNED_BYTE,o);for(var f in h)C.texParameteri(C.TEXTURE_2D,C[f],C[h[f]]);return C.bindTexture(C.TEXTURE_2D,null),u}function As(C,o,h,u){if((typeof o=="undefined"?"undefined":Ol(o))==="object")o=ih(C,o,u),h(o,null);else{var f=new Image;f.crossOrigin="anonymous",f.onload=function(){var p=$t(f.width),S=$t(f.height),x=document.createElement("canvas");x.width=p,x.height=S,x.getContext("2d").drawImage(f,0,0,p,S),f=x,p=ih(C,f,u),h(p,f)},f.src=o}}function ur(C,o,h){h=h||2;var u=o&&o.length,f=u?o[0]*h:C.length,p=ua(C,0,f,h,!0),S=[];if(!p||p.next===p.prev)return S;var x;if(u){var T=h;u=[];var z,G=0;for(z=o.length;G<z;G++){var P=o[G]*T,D=G<z-1?o[G+1]*T:C.length;P=ua(C,P,D,T,!1),P===P.next&&(P.steiner=!0),u.push(El(P))}for(u.sort(Xa),G=0;G<u.length;G++)T=u[G],o=p,(o=yu(T,o))&&(T=Yn(o,T),vn(o,o.next),vn(T,T.next)),p=vn(p,p.next)}if(C.length>80*h){var U=x=C[0],V=u=C[1];for(T=h;T<f;T+=h)G=C[T],o=C[T+1],G<U&&(U=G),o<V&&(V=o),G>x&&(x=G),o>u&&(u=o);x=Math.max(x-U,u-V),x=x!==0?1/x:0}return No(p,S,h,U,V,x),S}function ua(C,o,h,u,f){if(f===0<Gi(C,o,h,u))for(f=o;f<h;f+=u)var p=so(f,C[f],C[f+1],p);else for(f=h-u;f>=o;f-=u)p=so(f,C[f],C[f+1],p);return p&&ws(p,p.next)&&(Vf(p),p=p.next),p}function vn(C,o){if(!C)return C;o||(o=C);do{var h=!1;if(C.steiner||!ws(C,C.next)&&Ma(C.prev,C,C.next)!==0)C=C.next;else{if(Vf(C),C=o=C.prev,C===C.next)break;h=!0}}while(h||C!==o);return o}function No(C,o,h,u,f,p,S){if(C){if(!S&&p){var x=C,T=x;do T.z===null&&(T.z=Wh(T.x,T.y,u,f,p)),T.prevZ=T.prev,T=T.nextZ=T.next;while(T!==x);T.prevZ.nextZ=null,T.prevZ=null,x=T;var z,G,P,D,U=1;do{T=x;var V=x=null;for(G=0;T;){G++;var J=T;for(z=P=0;z<U&&(P++,J=J.nextZ,J);z++);for(D=U;0<P||0<D&&J;)P!==0&&(D===0||!J||T.z<=J.z)?(z=T,T=T.nextZ,P--):(z=J,J=J.nextZ,D--),V?V.nextZ=z:x=z,z.prevZ=V,V=z;T=J}V.nextZ=null,U*=2}while(1<G)}for(x=C;C.prev!==C.next;){if(T=C.prev,J=C.next,p)V=ti(C,u,f,p);else e:if(V=C,G=V.prev,P=V,U=V.next,0<=Ma(G,P,U))V=!1;else{for(z=V.next.next;z!==V.prev;){if(el(G.x,G.y,P.x,P.y,U.x,U.y,z.x,z.y)&&0<=Ma(z.prev,z,z.next)){V=!1;break e}z=z.next}V=!0}if(V)o.push(T.i/h),o.push(C.i/h),o.push(J.i/h),Vf(C),x=C=J.next;else if(C=J,C===x){if(!S)No(vn(C),o,h,u,f,p,1);else if(S===1){C=vn(C),S=o,x=h,T=C;do J=T.prev,V=T.next.next,!ws(J,V)&&_n(J,T,T.next,V)&&bs(J,V)&&bs(V,J)&&(S.push(J.i/x),S.push(T.i/x),S.push(V.i/x),Vf(T),Vf(T.next),T=C=V),T=T.next;while(T!==C);C=vn(T),No(C,o,h,u,f,p,2)}else if(S===2)e:{S=C;do{for(x=S.next.next;x!==S.prev;){if(T=S.i!==x.i){if(T=S,J=x,V=T.next.i!==J.i&&T.prev.i!==J.i){t:{V=T;do{if(V.i!==T.i&&V.next.i!==T.i&&V.i!==J.i&&V.next.i!==J.i&&_n(V,V.next,T,J)){V=!0;break t}V=V.next}while(V!==T);V=!1}V=!V}if(V){if(V=bs(T,J)&&bs(J,T)){V=T,G=!1,P=(T.x+J.x)/2,U=(T.y+J.y)/2;do V.y>U!=V.next.y>U&&V.next.y!==V.y&&P<(V.next.x-V.x)*(U-V.y)/(V.next.y-V.y)+V.x&&(G=!G),V=V.next;while(V!==T);V=G}V=V&&(Ma(T.prev,T,J.prev)||Ma(T,J.prev,J))||ws(T,J)&&0<Ma(T.prev,T,T.next)&&0<Ma(J.prev,J,J.next)}T=V}if(T){C=Yn(S,x),S=vn(S,S.next),C=vn(C,C.next),No(S,o,h,u,f,p),No(C,o,h,u,f,p);break e}x=x.next}S=S.next}while(S!==C)}break}}}}function ti(C,o,h,u){var f=C.prev,p=C.next;if(0<=Ma(f,C,p))return!1;var S=f.x>C.x?f.x>p.x?f.x:p.x:C.x>p.x?C.x:p.x,x=f.y>C.y?f.y>p.y?f.y:p.y:C.y>p.y?C.y:p.y,T=Wh(f.x<C.x?f.x<p.x?f.x:p.x:C.x<p.x?C.x:p.x,f.y<C.y?f.y<p.y?f.y:p.y:C.y<p.y?C.y:p.y,o,h,u);for(o=Wh(S,x,o,h,u),h=C.prevZ,u=C.nextZ;h&&h.z>=T&&u&&u.z<=o;){if(h!==C.prev&&h!==C.next&&el(f.x,f.y,C.x,C.y,p.x,p.y,h.x,h.y)&&0<=Ma(h.prev,h,h.next)||(h=h.prevZ,u!==C.prev&&u!==C.next&&el(f.x,f.y,C.x,C.y,p.x,p.y,u.x,u.y)&&0<=Ma(u.prev,u,u.next)))return!1;u=u.nextZ}for(;h&&h.z>=T;){if(h!==C.prev&&h!==C.next&&el(f.x,f.y,C.x,C.y,p.x,p.y,h.x,h.y)&&0<=Ma(h.prev,h,h.next))return!1;h=h.prevZ}for(;u&&u.z<=o;){if(u!==C.prev&&u!==C.next&&el(f.x,f.y,C.x,C.y,p.x,p.y,u.x,u.y)&&0<=Ma(u.prev,u,u.next))return!1;u=u.nextZ}return!0}function Xa(C,o){return C.x-o.x}function yu(C,o){var h=o,u=C.x,f=C.y,p=-Infinity;do{if(f<=h.y&&f>=h.next.y&&h.next.y!==h.y){var S=h.x+(f-h.y)*(h.next.x-h.x)/(h.next.y-h.y);if(S<=u&&S>p){if(p=S,S===u){if(f===h.y)return h;if(f===h.next.y)return h.next}var x=h.x<h.next.x?h:h.next}}h=h.next}while(h!==o);if(!x)return null;if(u===p)return x;o=x,S=x.x;var T=x.y,z=Infinity;h=x;do{if(u>=h.x&&h.x>=S&&u!==h.x&&el(f<T?u:p,f,S,T,f<T?p:u,f,h.x,h.y)){var G=Math.abs(f-h.y)/(u-h.x),P;if((P=bs(h,C))&&!(P=G<z)&&(P=G===z)&&!(P=h.x>x.x)&&(P=h.x===x.x)){P=x;var D=h;P=0>Ma(P.prev,P,D.prev)&&0>Ma(D.next,P,P.next)}P&&(x=h,z=G)}h=h.next}while(h!==o);return x}function Wh(C,o,h,u,f){return C=32767*(C-h)*f,o=32767*(o-u)*f,C=(C|C<<8)&16711935,C=(C|C<<4)&252645135,C=(C|C<<2)&858993459,o=(o|o<<8)&16711935,o=(o|o<<4)&252645135,o=(o|o<<2)&858993459,(C|C<<1)&1431655765|((o|o<<1)&1431655765)<<1}function El(C){var o=C,h=C;do(o.x<h.x||o.x===h.x&&o.y<h.y)&&(h=o),o=o.next;while(o!==C);return h}function el(C,o,h,u,f,p,S,x){return 0<=(f-S)*(o-x)-(C-S)*(p-x)&&0<=(C-S)*(u-x)-(h-S)*(o-x)&&0<=(h-S)*(p-x)-(f-S)*(u-x)}function Ma(C,o,h){return(o.y-C.y)*(h.x-o.x)-(o.x-C.x)*(h.y-o.y)}function ws(C,o){return C.x===o.x&&C.y===o.y}function _n(C,o,h,u){var f=oh(Ma(C,o,h)),p=oh(Ma(C,o,u)),S=oh(Ma(h,u,C)),x=oh(Ma(h,u,o));return!!(f!==p&&S!==x||f===0&&xu(C,h,o)||p===0&&xu(C,u,o)||S===0&&xu(h,C,u)||x===0&&xu(h,o,u))}function xu(C,o,h){return o.x<=Math.max(C.x,h.x)&&o.x>=Math.min(C.x,h.x)&&o.y<=Math.max(C.y,h.y)&&o.y>=Math.min(C.y,h.y)}function oh(C){return 0<C?1:0>C?-1:0}function bs(C,o){return 0>Ma(C.prev,C,C.next)?0<=Ma(C,o,C.next)&&0<=Ma(C,C.prev,o):0>Ma(C,o,C.prev)||0>Ma(C,C.next,o)}function Yn(C,o){var h=new dl(C.i,C.x,C.y),u=new dl(o.i,o.x,o.y),f=C.next,p=o.prev;return C.next=o,o.prev=C,h.next=f,f.prev=h,u.next=h,h.prev=u,p.next=u,u.prev=p,u}function so(C,o,h,u){return C=new dl(C,o,h),u?(C.next=u.next,C.prev=u,u.next.prev=C,u.next=C):(C.prev=C,C.next=C),C}function Vf(C){C.next.prev=C.prev,C.prev.next=C.next,C.prevZ&&(C.prevZ.nextZ=C.nextZ),C.nextZ&&(C.nextZ.prevZ=C.prevZ)}function dl(C,o,h){this.i=C,this.x=o,this.y=h,this.nextZ=this.prevZ=this.z=this.next=this.prev=null,this.steiner=!1}function Gi(C,o,h,u){for(var f=0,p=h-u;o<h;o+=u)f+=(C[p]-C[o])*(C[o+1]+C[p+1]),p=o;return f}function Cc(C){try{return Vg.createObjectURL(new Blob([C],{type:"application/javascript"}))}catch(h){var o=new Hg;return o.append(C),Vg.createObjectURL(o.getBlob(type))}}function Ba(C,o){this.shapeLayer=C,this.gl=o,this.initData()}function Wa(C,o,h,u){var f=[];return u=u*Math.PI/180,f[0]=(C-h[0])*Math.cos(u)-(o-h[1])*Math.sin(u)+h[0],f[1]=(C-h[0])*Math.sin(u)+(o-h[1])*Math.cos(u)+h[1],f}function Ku(){Gg=!0;for(var C=0;64>C;++C)Mh[C]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[C],hu["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(C)]=C;hu[45]=62,hu[95]=63}function Rs(C,o,h){for(var u=[],f=o;f<h;f+=3)o=(C[f]<<16)+(C[f+1]<<8)+C[f+2],u.push(Mh[o>>18&63]+Mh[o>>12&63]+Mh[o>>6&63]+Mh[o&63]);return u.join("")}function ar(C){Gg||Ku();for(var o=C.length,h=o%3,u="",f=[],p=0,S=o-h;p<S;p+=16383)f.push(Rs(C,p,p+16383>S?S:p+16383));return h===1?(C=C[o-1],u+=Mh[C>>2],u+=Mh[C<<4&63],u+="=="):h===2&&(C=(C[o-2]<<8)+C[o-1],u+=Mh[C>>10],u+=Mh[C>>4&63],u+=Mh[C<<2&63],u+="="),f.push(u),f.join("")}function Ac(C,o,h,u,f){var p=8*f-u-1,S=(1<<p)-1,x=S>>1,T=-7;f=h?f-1:0;var z=h?-1:1,G=C[o+f];for(f+=z,h=G&(1<<-T)-1,G>>=-T,T+=p;0<T;h=256*h+C[o+f],f+=z,T-=8);for(p=h&(1<<-T)-1,h>>=-T,T+=u;0<T;p=256*p+C[o+f],f+=z,T-=8);if(h===0)h=1-x;else{if(h===S)return p?NaN:Infinity*(G?-1:1);p+=Math.pow(2,u),h-=x}return(G?-1:1)*p*Math.pow(2,h-u)}function ah(C,o,h,u,f,p){var S,x=8*p-f-1,T=(1<<x)-1,z=T>>1,G=f===23?Math.pow(2,-24)-Math.pow(2,-77):0;p=u?0:p-1;var P=u?1:-1,D=0>o||o===0&&0>1/o?1:0;for(o=Math.abs(o),isNaN(o)||o===Infinity?(o=isNaN(o)?1:0,u=T):(u=Math.floor(Math.log(o)/Math.LN2),1>o*(S=Math.pow(2,-u))&&(u--,S*=2),o=1<=u+z?o+G/S:o+G*Math.pow(2,1-z),2<=o*S&&(u++,S/=2),u+z>=T?(o=0,u=T):1<=u+z?(o=(o*S-1)*Math.pow(2,f),u+=z):(o=o*Math.pow(2,z-1)*Math.pow(2,f),u=0));8<=f;C[h+p]=o&255,p+=P,o/=256,f-=8);for(u=u<<f|o,x+=f;0<x;C[h+p]=u&255,p+=P,u/=256,x-=8);C[h+p-P]|=128*D}function pl(C,o){if((Wr.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<o)throw new RangeError("Invalid typed array length");return Wr.TYPED_ARRAY_SUPPORT?(C=new Uint8Array(o),C.__proto__=Wr.prototype):(C===null&&(C=new Wr(o)),C.length=o),C}function Wr(C,o,h){if(!(Wr.TYPED_ARRAY_SUPPORT||this instanceof Wr))return new Wr(C,o,h);if(typeof C=="number"){if(typeof o=="string")throw Error("If encoding is specified then the first argument must be a string");return wc(this,C)}return sg(this,C,o,h)}function sg(C,o,h,u){if(typeof o=="number")throw new TypeError('"value" argument must not be a number');if(typeof ArrayBuffer!="undefined"&&o instanceof ArrayBuffer){if(o.byteLength,0>h||o.byteLength<h)throw new RangeError("'offset' is out of bounds");if(o.byteLength<h+(u||0))throw new RangeError("'length' is out of bounds");return o=h===void 0&&u===void 0?new Uint8Array(o):u===void 0?new Uint8Array(o,h):new Uint8Array(o,h,u),Wr.TYPED_ARRAY_SUPPORT?(C=o,C.__proto__=Wr.prototype):C=kv(C,o),C}if(typeof o=="string"){if(u=C,C=h,(typeof C!="string"||C==="")&&(C="utf8"),!Wr.isEncoding(C))throw new TypeError('"encoding" must be a valid string encoding');return h=q1(o,C)|0,u=pl(u,h),o=u.write(o,C),o!==h&&(u=u.slice(0,o)),u}return Hv(C,o)}function kp(C){if(typeof C!="number")throw new TypeError('"size" argument must be a number');if(0>C)throw new RangeError('"size" argument must not be negative')}function wc(C,o){if(kp(o),C=pl(C,0>o?0:lg(o)|0),!Wr.TYPED_ARRAY_SUPPORT)for(var h=0;h<o;++h)C[h]=0;return C}function kv(C,o){var h=0>o.length?0:lg(o.length)|0;C=pl(C,h);for(var u=0;u<h;u+=1)C[u]=o[u]&255;return C}function Hv(C,o){if(Yh(o)){var h=lg(o.length)|0;return C=pl(C,h),C.length===0||o.copy(C,0,0,h),C}if(o){if(typeof ArrayBuffer!="undefined"&&o.buffer instanceof ArrayBuffer||"length"in o)return(h=typeof o.length!="number")||(h=o.length,h=h!==h),h?pl(C,0):kv(C,o);if(o.type==="Buffer"&&Th(o.data))return kv(C,o.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function lg(C){if(C>=(Wr.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(Wr.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return C|0}function Yh(C){return!(C==null||!C._isBuffer)}function q1(C,o){if(Yh(C))return C.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(C)||C instanceof ArrayBuffer))return C.byteLength;typeof C!="string"&&(C=""+C);var h=C.length;if(h===0)return 0;for(var u=!1;;)switch(o){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":case void 0:return Hp(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*h;case"hex":return h>>>1;case"base64":return qC(C).length;default:if(u)return Hp(C).length;o=(""+o).toLowerCase(),u=!0}}function JC(C,o,h){var u=!1;if((o===void 0||0>o)&&(o=0),o>this.length||((h===void 0||h>this.length)&&(h=this.length),0>=h)||(h>>>=0,o>>>=0,h<=o))return"";for(C||(C="utf8");;)switch(C){case"hex":for(C=o,o=h,h=this.length,(!C||0>C)&&(C=0),(!o||0>o||o>h)&&(o=h),u="",h=C;h<o;++h)C=u,u=this[h],u=16>u?"0"+u.toString(16):u.toString(16),u=C+u;return u;case"utf8":case"utf-8":return $1(this,o,h);case"ascii":for(C="",h=Math.min(this.length,h);o<h;++o)C+=String.fromCharCode(this[o]&127);return C;case"latin1":case"binary":for(C="",h=Math.min(this.length,h);o<h;++o)C+=String.fromCharCode(this[o]);return C;case"base64":return o=o===0&&h===this.length?ar(this):ar(this.slice(o,h)),o;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(o=this.slice(o,h),h="",C=0;C<o.length;C+=2)h+=String.fromCharCode(o[C]+256*o[C+1]);return h;default:if(u)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),u=!0}}function zd(C,o,h){var u=C[o];C[o]=C[h],C[h]=u}function Oy(C,o,h,u,f){if(C.length===0)return-1;if(typeof h=="string"?(u=h,h=0):2147483647<h?h=2147483647:-2147483648>h&&(h=-2147483648),h=+h,isNaN(h)&&(h=f?0:C.length-1),0>h&&(h=C.length+h),h>=C.length){if(f)return-1;h=C.length-1}else if(0>h)if(f)h=0;else return-1;if(typeof o=="string"&&(o=Wr.from(o,u)),Yh(o))return o.length===0?-1:Q1(C,o,h,u,f);if(typeof o=="number")return o&=255,Wr.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?f?Uint8Array.prototype.indexOf.call(C,o,h):Uint8Array.prototype.lastIndexOf.call(C,o,h):Q1(C,[o],h,u,f);throw new TypeError("val must be string, number or Buffer")}function Q1(C,o,h,u,f){function p(z,G){return S===1?z[G]:z.readUInt16BE(G*S)}var S=1,x=C.length,T=o.length;if(u!==void 0&&(u=String(u).toLowerCase(),u==="ucs2"||u==="ucs-2"||u==="utf16le"||u==="utf-16le")){if(2>C.length||2>o.length)return-1;S=2,x/=2,T/=2,h/=2}if(f)for(u=-1;h<x;h++)if(p(C,h)===p(o,u===-1?0:h-u)){if(u===-1&&(u=h),h-u+1===T)return u*S}else u!==-1&&(h-=h-u),u=-1;else for(h+T>x&&(h=x-T);0<=h;h--){for(x=!0,u=0;u<T;u++)if(p(C,h+u)!==p(o,u)){x=!1;break}if(x)return h}return-1}function $1(C,o,h){h=Math.min(C.length,h);for(var u=[];o<h;){var f=C[o],p=null,S=239<f?4:223<f?3:191<f?2:1;if(o+S<=h)switch(S){case 1:128>f&&(p=f);break;case 2:var x=C[o+1];(x&192)==128&&(f=(f&31)<<6|x&63,127<f&&(p=f));break;case 3:x=C[o+1];var T=C[o+2];(x&192)==128&&(T&192)==128&&(f=(f&15)<<12|(x&63)<<6|T&63,2047<f&&(55296>f||57343<f)&&(p=f));break;case 4:x=C[o+1],T=C[o+2];var z=C[o+3];(x&192)==128&&(T&192)==128&&(z&192)==128&&(f=(f&15)<<18|(x&63)<<12|(T&63)<<6|z&63,65535<f&&1114112>f&&(p=f))}p===null?(p=65533,S=1):65535<p&&(p-=65536,u.push(p>>>10&1023|55296),p=56320|p&1023),u.push(p),o+=S}if(C=u.length,C<=Cm)u=String.fromCharCode.apply(String,u);else{for(h="",o=0;o<C;)h+=String.fromCharCode.apply(String,u.slice(o,o+=Cm));u=h}return u}function tl(C,o,h){if(C%1!=0||0>C)throw new RangeError("offset is not uint");if(C+o>h)throw new RangeError("Trying to access beyond buffer length")}function ds(C,o,h,u,f,p){if(!Yh(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>f||o<p)throw new RangeError('"value" argument is out of bounds');if(h+u>C.length)throw new RangeError("Index out of range")}function Gf(C,o,h,u){0>o&&(o=65535+o+1);for(var f=0,p=Math.min(C.length-h,2);f<p;++f)C[h+f]=(o&255<<8*(u?f:1-f))>>>8*(u?f:1-f)}function bc(C,o,h,u){0>o&&(o=4294967295+o+1);for(var f=0,p=Math.min(C.length-h,4);f<p;++f)C[h+f]=o>>>8*(u?f:3-f)&255}function Wf(C,o,h,u,f,p){if(h+u>C.length)throw new RangeError("Index out of range");if(0>h)throw new RangeError("Index out of range")}function Gl(C,o,h,u,f){return f||Wf(C,o,h,4,34028234663852886e22,-34028234663852886e22),ah(C,o,h,u,23,4),h+4}function Tl(C,o,h,u,f){return f||Wf(C,o,h,8,17976931348623157e292,-17976931348623157e292),ah(C,o,h,u,52,8),h+8}function Hp(C,o){o=o||Infinity;for(var h,u=C.length,f=null,p=[],S=0;S<u;++S){if(h=C.charCodeAt(S),55295<h&&57344>h){if(!f){if(56319<h){-1<(o-=3)&&p.push(239,191,189);continue}else if(S+1===u){-1<(o-=3)&&p.push(239,191,189);continue}f=h;continue}if(56320>h){-1<(o-=3)&&p.push(239,191,189),f=h;continue}h=(f-55296<<10|h-56320)+65536}else f&&-1<(o-=3)&&p.push(239,191,189);if(f=null,128>h){if(0>--o)break;p.push(h)}else if(2048>h){if(0>(o-=2))break;p.push(h>>6|192,h&63|128)}else if(65536>h){if(0>(o-=3))break;p.push(h>>12|224,h>>6&63|128,h&63|128)}else if(1114112>h){if(0>(o-=4))break;p.push(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}else throw Error("Invalid code point")}return p}function ex(C){for(var o=[],h=0;h<C.length;++h)o.push(C.charCodeAt(h)&255);return o}function qC(C){if(C=(C.trim?C.trim():C.replace(/^\s+|\s+$/g,"")).replace(Wg,""),2>C.length)C="";else for(;C.length%4!=0;)C+="=";Gg||Ku();var o=C.length;if(0<o%4)throw Error("Invalid string. Length must be a multiple of 4");var h=C[o-2]==="="?2:C[o-1]==="="?1:0,u=new Eh(3*o/4-h),f=0<h?o-4:o,p=0;for(o=0;o<f;o+=4){var S=hu[C.charCodeAt(o)]<<18|hu[C.charCodeAt(o+1)]<<12|hu[C.charCodeAt(o+2)]<<6|hu[C.charCodeAt(o+3)];u[p++]=S>>16&255,u[p++]=S>>8&255,u[p++]=S&255}return h===2?(S=hu[C.charCodeAt(o)]<<2|hu[C.charCodeAt(o+1)]>>4,u[p++]=S&255):h===1&&(S=hu[C.charCodeAt(o)]<<10|hu[C.charCodeAt(o+1)]<<4|hu[C.charCodeAt(o+2)]>>2,u[p++]=S>>8&255,u[p++]=S&255),u}function Cu(C,o,h,u){for(var f=0;f<u&&!(f+h>=o.length||f>=C.length);++f)o[f+h]=C[f];return f}function QC(C){return!!C.constructor&&typeof C.constructor.isBuffer=="function"&&C.constructor.isBuffer(C)}function Au(C,o){var h=[];return C.forEach(function(u){h.push(o?-u:u,u)}),h}function tx(C){for(var o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,h=[],u=0;u<C-1;u++){var f=2*(u+o);h.push(f,f+1,f+2),h.push(f+2,f+1,f+3)}return h}function ug(C){return function(o,h,u){return o=h+C,h=u.length-1,u[0<h?0>o?0:o>h?h:o:o<h?h:0<o?0:o]}}function Xh(C){if(!C[0]||!C[0].length)return C;for(var o=C[0].length,h=[],u=0,f=0;f<C.length;f++)for(var p=0;p<o;p++)h[u++]=C[f][p];return h}function Cn(){for(var C=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],o=[],h=0,u=0;u<C.length;u++){var f=C[u];if(0<u){var p=C[u-1];h+=Math.sqrt(Math.pow(f[0]-p[0],2)+Math.pow(f[1]-p[1],2))}o.push(h)}return{arr:o,total:h}}function wu(){var C=document.createElement("canvas");C.width=C.height=32;var o=C.getContext("2d");return{canvas:C,ctx:o}}function Ry(){var C=(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{}).color,o=wu(),h=o.canvas;return o=o.ctx,o.save(),o.moveTo(0,0),o.lineTo(20,0),o.lineTo(32,16),o.lineTo(20,32),o.lineTo(0,32),o.lineTo(10,16),o.fillStyle=C||"#fff",o.fill(),o.restore(),h}function jd(C,o){return Ao.set(C,-o[1],o[0])}function rx(C,o,h){return Ao.sub(C,o,h),Ao.normalize(C,C),C}function Vp(C){var o=0,h=0,u=!0,f=!1,p=void 0;try{for(var S=lf(C),x;!(u=(x=S.next()).done);u=!0){var T=x.value;o+=T.w*T.h,h=Math.max(h,T.w)}}catch(J){f=!0,p=J}finally{try{!u&&S.return&&S.return()}finally{if(f)throw p}}C.sort(function(J,ne){return ne.h-J.h}),h=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(o/.95)),h),h:Infinity}],f=u=0,p=!0,S=!1,x=void 0;try{for(var z=lf(C),G;!(p=(G=z.next()).done);p=!0)for(var P=G.value,D=h.length-1;0<=D;D--){var U=h[D];if(!(P.w>U.w||P.h>U.h)){if(P.x=U.x,P.y=U.y,f=Math.max(f,P.y+P.h),u=Math.max(u,P.x+P.w),P.w===U.w&&P.h===U.h){var V=h.pop();D<h.length&&(h[D]=V)}else P.h===U.h?(U.x+=P.w,U.w-=P.w):(P.w!==U.w&&h.push({x:U.x+P.w,y:U.y,w:U.w-P.w,h:P.h}),U.y+=P.h,U.h-=P.h);break}}}catch(J){S=!0,x=J}finally{try{!p&&z.return&&z.return()}finally{if(S)throw x}}return{w:u,h:f,fill:o/(u*f)||0}}function nx(C,o,h){return h=Math.PI/180*(60*h+30),[C.x+o*Math.cos(h),C.y+o*Math.sin(h)]}function cg(C,o,h){for(var u={},f=[],p=C.length,S=o/2/Math.sin(Math.PI/3),x=1.5*S,T=1,z=0;z<p;++z){var G=C[z].geometry.coordinates;h&&(G=h(G));var P=+G[0],D=+G[1];if(!isNaN(P)&&!isNaN(D)){G=Math.round(D/=x);var U=Math.round(P=P/o-(G&1)/2),V=D-G;if(1<3*Math.abs(V)){var J=P-U,ne=U+(P<U?-1:1)/2,re=G+(D<G?-1:1);P-=ne,D-=re,J*J+V*V>P*P+D*D&&(U=ne+(G&1?1:-1)/2,G=re)}V=U+"-"+G,(J=u[V])?(J.count+=C[z].count||1,T=Math.max(T,J.count)):(u[V]={center:{x:(U+(G&1)/2)*o,y:G*x},count:C[z].count||1},f.push(u[V]))}}return f.max=T,f.r=S,f}function Ly(C){var o,h;this.promise=new C(function(u,f){if(o!==void 0||h!==void 0)throw TypeError("Bad Promise constructor");o=u,h=f}),this.resolve=Yf(o),this.reject=Yf(h)}function Dy(C,o,h,u){switch(u){case 5122:return new Int16Array(C,o,h);case 5123:return new Uint16Array(C,o,h);case 5124:return new Int32Array(C,o,h);case 5125:return new Uint32Array(C,o,h);case 5126:return new Float32Array(C,o,h);default:return null}}function hg(C){return Dy(C.bufferView.data,C.byteOffset,C.count*Fx[C.type],C.componentType)}function ix(C){var o="",h=C.lastIndexOf("/");return h!==-1&&(o=C.substring(0,h+1)),o}function $C(C,o){var h=new XMLHttpRequest;h.overrideMimeType("application/json"),h.open("GET",C,!0),h.onreadystatechange=function(){h.readyState==4&&h.status=="200"&&o(h.responseText,this)},h.send(null)}function eA(C,o){var h=new XMLHttpRequest;h.responseType="arraybuffer",h.open("GET",C,!0),h.onreadystatechange=function(){if(h.readyState==4&&h.status=="200"){var u=h.response;u&&o&&o(u)}},h.send(null)}function Ls(C,o,h){var u=new Image;u.crossOrigin="Anonymous",u.src=C,u.onload=function(){h(u,o)}}function ox(C){function o(zt,Sr){h.uniform1i(zt,Sr.index),h.activeTexture(h.TEXTURE0+Sr.index),zt=Ue.glTF.textures[Sr.index],h.bindTexture(h.TEXTURE_2D,zt.texture),h.bindSampler(Sr.index,zt.sampler?zt.sampler.sampler:S)}var h=C.gl,u=0,f=[];C=h.canvas;var p=function(Sr,Jn,Ii){for(this.glTFScene=Sr,this.glTF=Jn,this.id=Ii,this.rootTransform=dn.create(),this.nodeMatrix=Array(Jn.nodes.length),Sr=0,Jn=this.nodeMatrix.length;Sr<Jn;Sr++)this.nodeMatrix[Sr]=dn.create()},S=h.createSampler();h.samplerParameteri(S,h.TEXTURE_MIN_FILTER,h.NEAREST_MIPMAP_LINEAR),h.samplerParameteri(S,h.TEXTURE_MAG_FILTER,h.LINEAR),h.samplerParameteri(S,h.TEXTURE_WRAP_S,h.REPEAT),h.samplerParameteri(S,h.TEXTURE_WRAP_T,h.REPEAT),h.bindVertexArray(null),h.bindVertexArray(null);var x={HAS_SKIN:1,SKIN_VEC8:2,HAS_BASECOLORMAP:4,HAS_NORMALMAP:8,HAS_METALROUGHNESSMAP:16,HAS_OCCLUSIONMAP:32,HAS_EMISSIVEMAP:64},T={},z=function(){this.flags=0,this.programObject=null};z.prototype.hasSkin=function(){return this.flags&x.HAS_SKIN},z.prototype.hasBaseColorMap=function(){return this.flags&x.HAS_BASECOLORMAP},z.prototype.hasNormalMap=function(){return this.flags&x.HAS_NORMALMAP},z.prototype.hasMetalRoughnessMap=function(){return this.flags&x.HAS_METALROUGHNESSMAP},z.prototype.hasOcclusionMap=function(){return this.flags&x.HAS_OCCLUSIONMAP},z.prototype.hasEmissiveMap=function(){return this.flags&x.HAS_EMISSIVEMAP},z.prototype.defineMacro=function(zt){x[zt]!==void 0&&(this.flags|=x[zt])},z.prototype.compile=function(){var zt=T[this.flags];if(zt)this.programObject=zt;else{var Sr=zt="";this.flags&x.HAS_SKIN&&(zt+=`#define HAS_SKIN
`),this.flags&x.SKIN_VEC8&&(zt+=`#define SKIN_VEC8
`),this.flags&x.HAS_BASECOLORMAP&&(Sr+=`#define HAS_BASECOLORMAP
`),this.flags&x.HAS_NORMALMAP&&(Sr+=`#define HAS_NORMALMAP
`),this.flags&x.HAS_METALROUGHNESSMAP&&(Sr+=`#define HAS_METALROUGHNESSMAP
`),this.flags&x.HAS_OCCLUSIONMAP&&(Sr+=`#define HAS_OCCLUSIONMAP
`),this.flags&x.HAS_EMISSIVEMAP&&(Sr+=`#define HAS_EMISSIVEMAP
`),zt=Ki.createProgram(h,`#version 300 es
`+zt+`#define POSITION_LOCATION 0
#define NORMAL_LOCATION 1
#define TEXCOORD_0_LOCATION 2
#define JOINTS_0_LOCATION 3
#define JOINTS_1_LOCATION 5
#define WEIGHTS_0_LOCATION 4
#define WEIGHTS_1_LOCATION 6
#define TANGENT_LOCATION 7
precision highp float;precision highp int;uniform mat4 u_MVP;uniform mat4 u_MV;uniform mat4 u_MVNormal;
#ifdef HAS_SKIN
uniform JointMatrix{mat4 matrix[65];}u_jointMatrix;
#endif
layout(location=POSITION_LOCATION)in vec3 position;layout(location=NORMAL_LOCATION)in vec3 normal;layout(location=TEXCOORD_0_LOCATION)in vec2 uv;
#ifdef HAS_SKIN
layout(location=JOINTS_0_LOCATION)in vec4 joint0;layout(location=WEIGHTS_0_LOCATION)in vec4 weight0;
#ifdef SKIN_VEC8
layout(location=JOINTS_1_LOCATION)in vec4 joint1;layout(location=WEIGHTS_1_LOCATION)in vec4 weight1;
#endif
#endif
out vec3 v_position;out vec3 v_normal;out vec2 v_uv;void main(){
#ifdef HAS_SKIN
mat4 skinMatrix=weight0.x*u_jointMatrix.matrix[int(joint0.x)]+weight0.y*u_jointMatrix.matrix[int(joint0.y)]+weight0.z*u_jointMatrix.matrix[int(joint0.z)]+weight0.w*u_jointMatrix.matrix[int(joint0.w)];
#ifdef SKIN_VEC8
skinMatrix+=weight1.x*u_jointMatrix.matrix[int(joint1.x)]+weight1.y*u_jointMatrix.matrix[int(joint1.y)]+weight1.z*u_jointMatrix.matrix[int(joint1.z)]+weight1.w*u_jointMatrix.matrix[int(joint1.w)];
#endif
#endif
v_uv=uv;
#ifdef HAS_SKIN
v_normal=normalize((u_MVNormal*transpose(inverse(skinMatrix))*vec4(normal,0)).xyz);vec4 pos=u_MV*skinMatrix*vec4(position,1.0);gl_Position=u_MVP*skinMatrix*vec4(position,1.0);
#else
v_normal=normalize((u_MVNormal*vec4(normal,0)).xyz);vec4 pos=u_MV*vec4(position,1.0);gl_Position=u_MVP*vec4(position,1.0);
#endif
v_position=vec3(pos.xyz)/pos.w;}`,`#version 300 es
`+Sr+`#define FRAG_COLOR_LOCATION 0
precision highp float;precision highp int;uniform sampler2D u_brdfLUT;uniform vec4 u_baseColorFactor;
#ifdef HAS_BASECOLORMAP
uniform sampler2D u_baseColorTexture;
#endif
#ifdef HAS_NORMALMAP
uniform sampler2D u_normalTexture;uniform float u_normalTextureScale;
#endif
#ifdef HAS_EMISSIVEMAP
uniform sampler2D u_emissiveTexture;uniform vec3 u_emissiveFactor;
#endif
#ifdef HAS_METALROUGHNESSMAP
uniform sampler2D u_metallicRoughnessTexture;
#endif
uniform float u_metallicFactor;uniform float u_roughnessFactor;
#ifdef HAS_OCCLUSIONMAP
uniform sampler2D u_occlusionTexture;uniform float u_occlusionStrength;
#endif
in vec3 v_position;in vec3 v_normal;in vec2 v_uv;layout(location=FRAG_COLOR_LOCATION)out vec4 frag_color;struct PBRInfo{float NdotL;float NdotV;float NdotH;float LdotH;float VdotH;float perceptualRoughness;float metalness;vec3 reflectance0;vec3 reflectance90;float alphaRoughness;vec3 diffuseColor;vec3 specularColor;};const float M_PI=3.141592653589793;const float c_MinRoughness=0.04;vec3 getNormal(){vec3 pos_dx=dFdx(v_position);vec3 pos_dy=dFdy(v_position);vec3 tex_dx=dFdx(vec3(v_uv,0.0));vec3 tex_dy=dFdy(vec3(v_uv,0.0));vec3 t=(tex_dy.t*pos_dx-tex_dx.t*pos_dy)/(tex_dx.s*tex_dy.t-tex_dy.s*tex_dx.t);vec3 ng=v_normal;t=normalize(t-ng*dot(ng,t));vec3 b=normalize(cross(ng,t));mat3 tbn=mat3(t,b,ng);
#ifdef HAS_NORMALMAP
vec3 n=texture(u_normalTexture,v_uv).rgb;n=normalize(tbn*((2.0*n-1.0)*vec3(u_normalTextureScale,u_normalTextureScale,1.0)));
#else
vec3 n=tbn[2].xyz;
#endif
return n;}vec3 getIBLContribution(PBRInfo pbrInputs,vec3 n,vec3 reflection){float mipCount=10.0;float lod=(pbrInputs.perceptualRoughness*mipCount);vec3 brdf=texture(u_brdfLUT,vec2(pbrInputs.NdotV,1.0-pbrInputs.perceptualRoughness)).rgb;vec3 diffuseLight=vec3(0.6,0.6,0.6);vec3 specularLight=vec3(0.6,0.6,0.6);vec3 diffuse=diffuseLight*pbrInputs.diffuseColor;vec3 specular=specularLight*(pbrInputs.specularColor*brdf.x+brdf.y);return diffuse+specular;}vec3 diffuse(PBRInfo pbrInputs){return pbrInputs.diffuseColor/M_PI;}vec3 specularReflection(PBRInfo pbrInputs){return pbrInputs.reflectance0+(pbrInputs.reflectance90-pbrInputs.reflectance0)*pow(clamp(1.0-pbrInputs.VdotH,0.0,1.0),5.0);}float geometricOcclusion(PBRInfo pbrInputs){float NdotL=pbrInputs.NdotL;float NdotV=pbrInputs.NdotV;float r=pbrInputs.alphaRoughness;float attenuationL=2.0*NdotL/(NdotL+sqrt(r*r+(1.0-r*r)*(NdotL*NdotL)));float attenuationV=2.0*NdotV/(NdotV+sqrt(r*r+(1.0-r*r)*(NdotV*NdotV)));return attenuationL*attenuationV;}float microfacetDistribution(PBRInfo pbrInputs){float roughnessSq=pbrInputs.alphaRoughness*pbrInputs.alphaRoughness;float f=(pbrInputs.NdotH*roughnessSq-pbrInputs.NdotH)*pbrInputs.NdotH+1.0;return roughnessSq/(M_PI*f*f);}void main(){float perceptualRoughness=u_roughnessFactor;float metallic=u_metallicFactor;
#ifdef HAS_METALROUGHNESSMAP
vec4 mrSample=texture(u_metallicRoughnessTexture,v_uv);perceptualRoughness=mrSample.g*perceptualRoughness;metallic=mrSample.b*metallic;
#endif
perceptualRoughness=clamp(perceptualRoughness,c_MinRoughness,1.0);metallic=clamp(metallic,0.0,1.0);float alphaRoughness=perceptualRoughness*perceptualRoughness;
#ifdef HAS_BASECOLORMAP
vec4 baseColor=texture(u_baseColorTexture,v_uv)*u_baseColorFactor;
#else
vec4 baseColor=u_baseColorFactor;
#endif
vec3 f0=vec3(0.04);vec3 diffuseColor=baseColor.rgb*(vec3(1.0)-f0);diffuseColor*=1.0-metallic;vec3 specularColor=mix(f0,baseColor.rgb,metallic);float reflectance=max(max(specularColor.r,specularColor.g),specularColor.b);float reflectance90=clamp(reflectance*25.0,0.0,1.0);vec3 specularEnvironmentR0=specularColor.rgb;vec3 specularEnvironmentR90=vec3(1.0,1.0,1.0)*reflectance90;vec3 n=getNormal();vec3 v=normalize(-v_position);vec3 l=normalize(vec3(1.0,1.0,1.0));vec3 h=normalize(l+v);vec3 reflection=-normalize(reflect(v,n));float NdotL=clamp(dot(n,l),0.001,1.0);float NdotV=abs(dot(n,v))+0.001;float NdotH=clamp(dot(n,h),0.0,1.0);float LdotH=clamp(dot(l,h),0.0,1.0);float VdotH=clamp(dot(v,h),0.0,1.0);PBRInfo pbrInputs=PBRInfo(NdotL,NdotV,NdotH,LdotH,VdotH,perceptualRoughness,metallic,specularEnvironmentR0,specularEnvironmentR90,alphaRoughness,diffuseColor,specularColor);vec3 F=specularReflection(pbrInputs);float G=geometricOcclusion(pbrInputs);float D=microfacetDistribution(pbrInputs);vec3 diffuseContrib=(1.0-F)*diffuse(pbrInputs);vec3 specContrib=max(vec3(0.0),F*G*D/(4.0*NdotL*NdotV));vec3 color=NdotL*(diffuseContrib+specContrib);color+=getIBLContribution(pbrInputs,n,reflection);
#ifdef HAS_OCCLUSIONMAP
float ao=texture(u_occlusionTexture,v_uv).r;color=mix(color,color*ao,u_occlusionStrength);
#endif
#ifdef HAS_EMISSIVEMAP
vec3 emissive=texture(u_emissiveTexture,v_uv).rgb*u_emissiveFactor;color+=emissive;
#endif
frag_color=vec4(color,baseColor.a);}`),this.programObject={program:zt,uniformLocations:{},uniformBlockIndices:{}},this.flags&x.HAS_SKIN&&(this.programObject.uniformBlockIndices.JointMatrix=h.getUniformBlockIndex(zt,"JointMatrix")),Sr=this.programObject.uniformLocations,Sr.MVP=h.getUniformLocation(zt,"u_MVP"),Sr.MVNormal=h.getUniformLocation(zt,"u_MVNormal"),Sr.MV=h.getUniformLocation(zt,"u_MV"),Sr.baseColorFactor=h.getUniformLocation(zt,"u_baseColorFactor"),Sr.metallicFactor=h.getUniformLocation(zt,"u_metallicFactor"),Sr.roughnessFactor=h.getUniformLocation(zt,"u_roughnessFactor"),this.flags&x.HAS_BASECOLORMAP&&(Sr.baseColorTexture=h.getUniformLocation(zt,"u_baseColorTexture")),this.flags&x.HAS_NORMALMAP&&(Sr.normalTexture=h.getUniformLocation(zt,"u_normalTexture"),Sr.normalTextureScale=h.getUniformLocation(zt,"u_normalTextureScale")),this.flags&x.HAS_METALROUGHNESSMAP&&(Sr.metallicRoughnessTexture=h.getUniformLocation(zt,"u_metallicRoughnessTexture")),this.flags&x.HAS_OCCLUSIONMAP&&(Sr.occlusionTexture=h.getUniformLocation(zt,"u_occlusionTexture"),Sr.occlusionStrength=h.getUniformLocation(zt,"u_occlusionStrength")),this.flags&x.HAS_EMISSIVEMAP&&(Sr.emissiveTexture=h.getUniformLocation(zt,"u_emissiveTexture"),Sr.emissiveFactor=h.getUniformLocation(zt,"u_emissiveFactor")),h.useProgram(null),T[this.flags]=this.programObject}};var G=1,P=ai.create(),D=dn.create();wf.create();var U=[];h.enable(h.CULL_FACE),h.cullFace(h.BACK),h.frontFace(h.CCW);var V=!0;h.enable(h.DEPTH_TEST),h.depthFunc(h.LEQUAL);var J=J||{},ne=null;ai.create();var re=dn.create();dn.perspective(re,.785,C.width/C.height,.01,100),dn.create();var Q=dn.create(),he=dn.create(),Me=dn.create();dn.create();var De,Ue,Ve=[1,1,1,1],ht=J.drawPrimitive=function(zt,Sr){if($n){he=Q=$n.matrix,dn.invert(Me,Q),dn.transpose(Me,Me),Sr=Ve;var Jn=zt.shader,Ii=zt.material;if(Ii!==null){var gi=Ii.pbrMetallicRoughness;Sr=gi.baseColorFactor,zt.material.doubleSided===V&&((V=!zt.material.doubleSided)?h.enable(h.CULL_FACE):h.disable(h.CULL_FACE))}ne!=zt.shader.programObject&&(ne=zt.shader.programObject,h.useProgram(ne.program)),Ii&&(Jn.hasBaseColorMap()&&o(ne.uniformLocations.baseColorTexture,gi.baseColorTexture),Jn.hasNormalMap()&&(o(ne.uniformLocations.normalTexture,Ii.normalTexture),h.uniform1f(ne.uniformLocations.normalTextureScale,Ii.normalTexture.scale)),Jn.hasMetalRoughnessMap()&&o(ne.uniformLocations.metallicRoughnessTexture,gi.metallicRoughnessTexture),h.uniform1f(ne.uniformLocations.metallicFactor,gi.metallicFactor),h.uniform1f(ne.uniformLocations.roughnessFactor,gi.roughnessFactor),Jn.hasOcclusionMap()&&(o(ne.uniformLocations.occlusionTexture,Ii.occlusionTexture),h.uniform1f(ne.uniformLocations.occlusionStrength,Ii.occlusionTexture.strength)),Jn.hasEmissiveMap()&&(o(ne.uniformLocations.emissiveTexture,Ii.emissiveTexture),h.uniform3fv(ne.uniformLocations.emissiveFactor,Ii.emissiveFactor))),Jn.hasSkin()&&h.uniformBlockBinding(ne.program,ne.uniformBlockIndices.JointMatrix,De),h.activeTexture(h.TEXTURE0+29),h.bindTexture(h.TEXTURE_2D,null),h.uniform4fv(ne.uniformLocations.baseColorFactor,Sr),h.uniformMatrix4fv(ne.uniformLocations.MV,!1,Q),h.uniformMatrix4fv(ne.uniformLocations.MVP,!1,he),h.uniformMatrix4fv(ne.uniformLocations.MVNormal,!1,Me),h.bindVertexArray(zt.vertexArray),zt.indices!==null?h.drawElements(zt.mode,zt.indicesLength,zt.indicesComponentType,zt.indicesOffset):h.drawArrays(zt.mode,zt.drawArraysOffset,zt.drawArraysCount),h.bindVertexArray(null)}},Je=dn.create(),Er=dn.create(),fr=J.drawNode=function(zt,Sr,Jn,Ii){if(Sr=Jn[Sr],Ii!==void 0?dn.mul(Sr,Ii,zt.matrix):dn.copy(Sr,zt.matrix),zt.skin!==null){var gi=zt.skin;De=gi.uniformBlockID;var jn=zt.skin.joints;for(dn.invert(Er,Sr),Ii=0,Sa=jn.length;Ii<Sa;Ii++){var fc=jn[Ii];dn.mul(Je,Jn[fc.nodeID],gi.inverseBindMatrix[Ii]),dn.mul(Je,Er,Je),gi.jointMatrixUnidormBufferData.set(Je,16*Ii)}h.bindBuffer(h.UNIFORM_BUFFER,gi.jointMatrixUniformBuffer),h.bufferSubData(h.UNIFORM_BUFFER,0,gi.jointMatrixUnidormBufferData,0,gi.jointMatrixUnidormBufferData.length)}var Sa;if(zt.mesh!==null)for(gi=zt.mesh,Ii=0,Sa=gi.primitives.length;Ii<Sa;Ii++)ht(gi.primitives[Ii],Sr);for(zt.skin!==null&&h.bindBuffer(h.UNIFORM_BUFFER,null),Ii=0,Sa=zt.children.length;Ii<Sa;Ii++)fr(zt.children[Ii],zt.children[Ii].nodeID,Jn,Sr)},Pn=J.drawScene=function(zt){var Sr=zt.glTF;if(Sr.animations){var Jn=Sr.animations[u],Ii,gi=0;for(Ii=Jn.samplers.length;gi<Ii;gi++)Jn.samplers[gi].getValue(Qr);for(gi=0,Ii=Jn.channels.length;gi<Ii;gi++){var jn=Jn.channels[gi],fc=jn.sampler,Sa=Sr.nodes[jn.target.nodeID];switch(jn.target.path){case"rotation":tu.copy(Sa.rotation,fc.curValue);break;case"translation":ai.copy(Sa.translation,fc.curValue);break;case"scale":ai.copy(Sa.scale,fc.curValue)}Sa.updateMatrixFromTRS()}}for(Jn=0,Sr=zt.glTFScene.nodes.length;Jn<Sr;Jn++)fr(zt.glTFScene.nodes[Jn],zt.glTFScene.nodes[Jn].nodeID,zt.nodeMatrix,zt.rootTransform)},yn=performance.now(),Qr=0,$n;return{setupScene:function(Sr,Jn){function Ii(nv,wp){if(nv!==void 0){var Jc=nv.bufferView;return Jc.target===null?(h.bindBuffer(h.ARRAY_BUFFER,Jc.buffer),h.bufferData(h.ARRAY_BUFFER,Jc.data,h.STATIC_DRAW)):h.bindBuffer(Jc.target,Jc.buffer),nv.prepareVertexAttrib(wp,h),!0}return!1}var gi;if(Sr.animations){var jn=0;for(gi=Sr.animations.length;jn<gi;jn++)f.add(Sr.animations[jn].name||jn)}u=0,jn=Sr.scenes[Sr.defaultScene],ai.fromValues(1.2*jn.boundingBox.transform[0],0,0),ai.create(),Jn?Jn=U[Jn.id]=new p(jn,Sr,Jn.id):(Jn=new p(jn,Sr,U.length),U.push(Jn)),U.length===1&&(dn.identity(D),G=1/Math.max(jn.boundingBox.transform[0],Math.max(jn.boundingBox.transform[5],jn.boundingBox.transform[10])),dn.getTranslation(P,jn.boundingBox.transform),ai.scale(P,P,-1),P[0]+=-.5*jn.boundingBox.transform[0],P[1]+=-.5*jn.boundingBox.transform[5],P[2]+=-.5*jn.boundingBox.transform[10],G*=.5,D[0]=G,D[5]=G,D[10]=G,dn.translate(D,D,P),ai.set(P,0,0,-1.5),G=1);var fc;for(jn=0,gi=Sr.bufferViews.length;jn<gi;jn++){var Sa=Sr.bufferViews[jn];Sa.createBuffer(h),Sa.bindData(h)}if(Sr.textures)for(jn=0,gi=Sr.textures.length;jn<gi;jn++){var bl=Sr.textures[jn];bl.createTexture(h)}if(Sr.samplers)for(jn=0,gi=Sr.samplers.length;jn<gi;jn++)bl=Sr.samplers[jn],bl.createSampler(h);if(Sr.skins)for(jn=0,gi=Sr.skins.length;jn<gi;jn++)bl=Sr.skins[jn],bl.jointMatrixUniformBuffer=h.createBuffer(),h.bindBufferBase(h.UNIFORM_BUFFER,bl.uniformBlockID,bl.jointMatrixUniformBuffer),h.bindBuffer(h.UNIFORM_BUFFER,bl.jointMatrixUniformBuffer),h.bufferData(h.UNIFORM_BUFFER,bl.jointMatrixUnidormBufferData,h.DYNAMIC_DRAW),h.bufferSubData(h.UNIFORM_BUFFER,0,bl.jointMatrixUnidormBufferData),h.bindBuffer(h.UNIFORM_BUFFER,null);var Nh=0;for(fc=Sr.meshes.length;Nh<fc;Nh++)for(bl=Sr.meshes[Nh],jn=0,gi=bl.primitives.length;jn<gi;++jn){var qa=bl.primitives[jn];qa.shader=new z,qa.vertexArray=Sa=h.createVertexArray(),h.bindVertexArray(Sa),Ii(qa.attributes.POSITION,0),Ii(qa.attributes.NORMAL,1),Ii(qa.attributes.TEXCOORD_0,2),Ii(qa.attributes.JOINTS_0,3)&&Ii(qa.attributes.WEIGHTS_0,4)&&qa.shader.defineMacro("HAS_SKIN"),Ii(qa.attributes.JOINTS_1,5)&&Ii(qa.attributes.WEIGHTS_1,6)&&qa.shader.defineMacro("SKIN_VEC8"),qa.indices!==null&&(Sa=Sr.accessors[qa.indices],Sa=Sa.bufferView,Sa.target===null?(h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,Sa.buffer),h.bufferData(h.ELEMENT_ARRAY_BUFFER,Sa.data,h.STATIC_DRAW)):h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,Sa.buffer)),h.bindVertexArray(null),h.bindBuffer(h.ARRAY_BUFFER,null),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,null),(Sa=qa.material)&&(Sa.pbrMetallicRoughness.baseColorTexture&&qa.shader.defineMacro("HAS_BASECOLORMAP"),Sa.pbrMetallicRoughness.metallicRoughnessTexture&&qa.shader.defineMacro("HAS_METALROUGHNESSMAP"),Sa.normalTexture&&qa.shader.defineMacro("HAS_NORMALMAP"),Sa.occlusionTexture&&qa.shader.defineMacro("HAS_OCCLUSIONMAP"),Sa.emissiveTexture&&qa.shader.defineMacro("HAS_EMISSIVEMAP")),qa.shader.compile()}return Jn},render:J.render=function(zt){$n=zt,zt=new Date().getTime();var Sr,Jn=0;for(Sr=U.length;Jn<Sr;Jn++)Ue=U[Jn],Pn(U[Jn]);ne=null,Qr=.001*(zt-yn)}}}function ps(C){this.options=C=C||{},C.colors=C.colors||["rgba(0,192,73,0.99609375)","rgba(242,48,48,0.99609375)","rgba(255,159,25,0.99609375)"];var o=C.colors;this.drawTogether=!0,this.parseColors(o),this.tileSize=256,this.ratio=window.devicePixelRatio,this.cache={},C.getTileUrl&&(this.getTileUrl=C.getTileUrl),this._loadCount={}}function Gp(C){var o=C/2,h=C+o,u=new Ar(2*h,2*h),f=u.getContext("2d");return f.shadowBlur=o,f.shadowColor="black",f.shadowOffsetX=f.shadowOffsetY=1e4,f.beginPath(),f.arc(h-1e4,h-1e4,C,0,2*Math.PI,!0),f.closePath(),f.fill(),u}var ou=window.BMapGL||window.BMap;ou&&ou.Overlay&&(ge.prototype=new ou.Overlay),ge.prototype.initialize=function(C){this._map=C;var o=this.canvas=document.createElement("canvas"),h=this.ctx=this.canvas.getContext("2d");o.style.cssText="position:absolute;left:0;top:0;z-index:"+this.zIndex+";",this.adjustSize(),this.adjustRatio(h),C.getContainer().appendChild(o);var u=this;return C.addEventListener("resize",function(){u.adjustSize(),u._draw()}),this.canvas},ge.prototype.adjustSize=function(){var C=this._map.getSize(),o=this.canvas;o.width=C.width,o.height=C.height,o.style.width=o.width+"px",o.style.height=o.height+"px"},ge.prototype.adjustRatio=function(C){var o=(window.devicePixelRatio||1)/(C.backingStorePixelRatio||C.webkitBackingStorePixelRatio||C.mozBackingStorePixelRatio||C.msBackingStorePixelRatio||C.oBackingStorePixelRatio||C.backingStorePixelRatio||1),h=C.canvas.width,u=C.canvas.height;C.canvas.width=h*o,C.canvas.height=u*o,C.canvas.style.width=h+"px",C.canvas.style.height=u+"px",C.scale(o,o)},ge.prototype.draw=function(){this._draw.apply(this,arguments)},ge.prototype._draw=function(){this.dispatchEvent("draw"),this.options.update&&this.options.update.apply(this,arguments)},ge.prototype.getContainer=function(){return this.canvas},ge.prototype.show=function(){this.canvas||this._map.addOverlay(this),this.canvas.style.display="block"},ge.prototype.hide=function(){this.canvas.style.display="none"},ge.prototype.setZIndex=function(C){this.canvas.style.zIndex=C},ge.prototype.getZIndex=function(){return this.zIndex};var Vv=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof Be!="undefined"?Be:typeof self!="undefined"?self:{},ax=Fe(function(C,o){o.__esModule=!0,o.default=function(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")}}),On=We(ax),Sc=function(o){if(o==null)throw TypeError("Can't call method on  "+o);return o},Hs={}.hasOwnProperty,wo=function(o,h){return Hs.call(o,h)},sx={}.toString,Ss=function(o){return sx.call(o).slice(8,-1)},Zh=Object("z").propertyIsEnumerable(0)?Object:function(C){return Ss(C)=="String"?C.split(""):Object(C)},sh=function(o){return Zh(Sc(o))},lx=Math.ceil,Wp=Math.floor,Kh=function(o){return isNaN(o=+o)?0:(0<o?Wp:lx)(o)},_c=Math.min,Yp=function(o){return 0<o?_c(Kh(o),9007199254740991):0},Xp=Math.max,Gv=Math.min,pa=Fe(function(C){C=C.exports={version:"2.6.5"},typeof __e=="number"&&(__e=C)}),fo=Fe(function(C){C=C.exports=typeof window!="undefined"&&Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")(),typeof __g=="number"&&(__g=C)}),Jh=Fe(function(C){var o=fo["__core-js_shared__"]||(fo["__core-js_shared__"]={});(C.exports=function(h,u){return o[h]||(o[h]=u!==void 0?u:{})})("versions",[]).push({version:pa.version,mode:"pure",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"})}),Ud=0,Ny=Math.random(),fg=function(o){return"Symbol(".concat(o===void 0?"":o,")_",(++Ud+Ny).toString(36))},ux=Jh("keys"),Wv=function(o){return ux[o]||(ux[o]=fg(o))},tA=function(C){return function(o,h,u){o=sh(o);var f=Yp(o.length);if(u=Kh(u),u=0>u?Xp(u+f,0):Gv(u,f),C&&h!=h){for(;f>u;)if(h=o[u++],h!=h)return!0}else for(;f>u;u++)if((C||u in o)&&o[u]===h)return C||u||0;return!C&&-1}}(!1),rA=Wv("IE_PROTO"),kd=function(o,h){o=sh(o);var u=0,f=[],p;for(p in o)p!=rA&&wo(o,p)&&f.push(p);for(;h.length>u;)wo(o,p=h[u++])&&(~tA(f,p)||f.push(p));return f},dg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),qh=Object.keys||function(C){return kd(C,dg)},Yf=function(o){if(typeof o!="function")throw TypeError(o+" is not a function!");return o},Vs=function(o,h,u){if(Yf(o),h===void 0)return o;switch(u){case 1:return function(f){return o.call(h,f)};case 2:return function(f,p){return o.call(h,f,p)};case 3:return function(f,p,S){return o.call(h,f,p,S)}}return function(){return o.apply(h,arguments)}},Il=function(o){return typeof o=="object"?o!==null:typeof o=="function"},Wl=function(o){if(!Il(o))throw TypeError(o+" is not an object!");return o},Xf=function(o){try{return!!o()}catch(h){return!0}},Yo=!Xf(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7}),ca=fo.document,pg=Il(ca)&&Il(ca.createElement),Qh=!Yo&&!Xf(function(){return Object.defineProperty(pg?ca.createElement("div"):{},"a",{get:function(){return 7}}).a!=7}),Mc=function(o,h){if(!Il(o))return o;var u,f;if(h&&typeof(u=o.toString)=="function"&&!Il(f=u.call(o))||typeof(u=o.valueOf)=="function"&&!Il(f=u.call(o))||!h&&typeof(u=o.toString)=="function"&&!Il(f=u.call(o)))return f;throw TypeError("Can't convert object to primitive value")},Hd=Object.defineProperty,au={f:Yo?Object.defineProperty:function(C,o,h){if(Wl(C),o=Mc(o,!0),Wl(h),Qh)try{return Hd(C,o,h)}catch(u){}if("get"in h||"set"in h)throw TypeError("Accessors not supported!");return"value"in h&&(C[o]=h.value),C}},$h=function(o,h){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:h}},lh=Yo?function(C,o,h){return au.f(C,o,$h(1,h))}:function(C,o,h){return C[o]=h,C},uh=function C(o,h,u){var f=o&C.F,p=o&C.G,S=o&C.S,x=o&C.P,T=o&C.B,z=o&C.W,G=p?pa:pa[h]||(pa[h]={}),P=G.prototype;S=p?fo:S?fo[h]:(fo[h]||{}).prototype;var D;p&&(u=h);for(D in u)if(h=!f&&S&&S[D]!==void 0,!h||!wo(G,D)){var U=h?S[D]:u[D];G[D]=p&&typeof S[D]!="function"?u[D]:T&&h?Vs(U,fo):z&&S[D]==U?function(V){var J=function(re,Q,he){if(this instanceof V){switch(arguments.length){case 0:return new V;case 1:return new V(re);case 2:return new V(re,Q)}return new V(re,Q,he)}return V.apply(this,arguments)};return J.prototype=V.prototype,J}(U):x&&typeof U=="function"?Vs(Function.call,U):U,x&&((G.virtual||(G.virtual={}))[D]=U,o&C.R&&P&&!P[D]&&lh(P,D,U))}};uh.F=1,uh.G=2,uh.S=4,uh.P=8,uh.B=16,uh.W=32,uh.U=64,uh.R=128;var An=uh,ch=function(o,h){var u=(pa.Object||{})[o]||Object[o],f={};f[o]=h(u),An(An.S+An.F*Xf(function(){u(1)}),"Object",f)};ch("keys",function(){return function(C){return qh(Object(Sc(C)))}});var bu=pa.Object.keys,Fy=Fe(function(C){C.exports={default:bu,__esModule:!0}}),Gs=We(Fy),Yl=Object.getOwnPropertySymbols,Vd={}.propertyIsEnumerable,ef=Object.assign,tf=!ef||Xf(function(){var C={},o={},h=Symbol();return C[h]=7,"abcdefghijklmnopqrst".split("").forEach(function(u){o[u]=u}),ef({},C)[h]!=7||Object.keys(ef({},o)).join("")!="abcdefghijklmnopqrst"})?function(C,o){for(var h=Object(Sc(C)),u=arguments.length,f=1,p=Yl,S=Vd;u>f;)for(var x=Zh(arguments[f++]),T=p?qh(x).concat(p(x)):qh(x),z=T.length,G=0,P;z>G;)S.call(x,P=T[G++])&&(h[P]=x[P]);return h}:ef;An(An.S+An.F,"Object",{assign:tf});var Zf=pa.Object.assign,Ec=Fe(function(C){C.exports={default:Zf,__esModule:!0}}),_o=We(Ec),ml=Wv("IE_PROTO"),Yv=Object.prototype,Pl=Object.getPrototypeOf||function(C){return C=Object(Sc(C)),wo(C,ml)?C[ml]:typeof C.constructor=="function"&&C instanceof C.constructor?C.constructor.prototype:C instanceof Object?Yv:null};ch("getPrototypeOf",function(){return function(C){return Pl(Object(Sc(C)))}});var By=pa.Object.getPrototypeOf,Gd=Fe(function(C){C.exports={default:By,__esModule:!0}}),ri=We(Gd);An(An.S+An.F*!Yo,"Object",{defineProperty:au.f});var Aa=pa.Object,wa=function(o,h,u){return Aa.defineProperty(o,h,u)},$i=Fe(function(C){C.exports={default:wa,__esModule:!0}}),Ea=We($i),rf=Fe(function(C,o){o.__esModule=!0;var h=$i&&$i.__esModule?$i:{default:$i};o.default=function(){function u(f,p){for(var S=0;S<p.length;S++){var x=p[S];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),(0,h.default)(f,x.key,x)}}return function(f,p,S){return p&&u(f.prototype,p),S&&u(f,S),f}}()}),Qn=We(rf),Su={},cx=Yo?Object.defineProperties:function(C,o){Wl(C);for(var h=qh(o),u=h.length,f=0,p;u>f;)au.f(C,p=h[f++],o[p]);return C},Zp=fo.document,Kp=Zp&&Zp.documentElement,mg=Wv("IE_PROTO"),nf=function(){},Ju=function(){var o=pg?ca.createElement("iframe"):{},h=dg.length;for(o.style.display="none",Kp.appendChild(o),o.src="javascript:",o=o.contentWindow.document,o.open(),o.write("<script>document.F=Object</script>"),o.close(),Ju=o.F;h--;)delete Ju.prototype[dg[h]];return Ju()},qu=Object.create||function(C,o){if(C!==null){nf.prototype=Wl(C);var h=new nf;nf.prototype=null,h[mg]=C}else h=Ju();return o===void 0?h:cx(h,o)},Ta=Fe(function(C){var o=Jh("wks"),h=fo.Symbol,u=typeof h=="function";(C.exports=function(f){return o[f]||(o[f]=u&&h[f]||(u?h:fg)("Symbol."+f))}).store=o}),Ia=au.f,Jp=Ta("toStringTag"),su=function(o,h,u){o&&!wo(o=u?o:o.prototype,Jp)&&Ia(o,Jp,{configurable:!0,value:h})},qp={};lh(qp,Ta("iterator"),function(){return this});var Qp=function(o,h,u){o.prototype=qu(qp,{next:$h(1,u)}),su(o,h+" Iterator")},Kf=Ta("iterator"),of=!([].keys&&"next"in[].keys()),Xv=function(){return this},Jf=function(o,h,u,f,p,S,x){Qp(u,h,f),f=function(he){return!of&&he in P?P[he]:function(){return new u(this,he)}};var T=h+" Iterator",z=p=="values",G=!1,P=o.prototype,D=P[Kf]||P["@@iterator"]||p&&P[p],U=D||f(p),V=p?z?f("entries"):U:void 0,J=h=="Array"&&P.entries||D,ne;if(J&&(o=Pl(J.call(new o)),o!==Object.prototype&&o.next&&su(o,T,!0)),z&&D&&D.name!=="values"&&(G=!0,U=function(){return D.call(this)}),x&&(of||G||!P[Kf])&&lh(P,Kf,U),Su[h]=U,Su[T]=Xv,p){var re={values:z?U:f("values"),keys:S?U:f("keys"),entries:V};if(x)for(ne in re)ne in P||lh(P,ne,re[ne]);else An(An.P+An.F*(of||G),h,re)}return re},gl=function(C){return function(o,h){o=String(Sc(o)),h=Kh(h);var u=o.length,f;if(0>h||h>=u)return C?"":void 0;var p=o.charCodeAt(h);return 55296>p||56319<p||h+1===u||56320>(f=o.charCodeAt(h+1))||57343<f?C?o.charAt(h):p:C?o.slice(h,h+2):(p-55296<<10)+(f-56320)+65536}}(!0);Jf(String,"String",function(C){this._t=String(C),this._i=0},function(){var C=this._t,o=this._i;return o>=C.length?{value:void 0,done:!0}:(C=gl(C,o),this._i+=C.length,{value:C,done:!1})});var vl=function(o,h){return{value:h,done:!!o}};Jf(Array,"Array",function(C,o){this._t=sh(C),this._i=0,this._k=o},function(){var C=this._t,o=this._k,h=this._i++;return!C||h>=C.length?(this._t=void 0,vl(1)):o=="keys"?vl(0,h):o=="values"?vl(0,C[h]):vl(0,[h,C[h]])},"values"),Su.Arguments=Su.Array;for(var _u=Ta("toStringTag"),qf="CSSRuleList CSSStyleDeclaration CSSValueList ClientRectList DOMRectList DOMStringList DOMTokenList DataTransferItemList FileList HTMLAllCollection HTMLCollection HTMLFormElement HTMLSelectElement MediaList MimeTypeArray NamedNodeMap NodeList PaintRequestList Plugin PluginArray SVGLengthList SVGNumberList SVGPathSegList SVGPointList SVGStringList SVGTransformList SourceBufferList StyleSheetList TextTrackCueList TextTrackList TouchList".split(" "),Qf=0;Qf<qf.length;Qf++){var $f=qf[Qf],Zv=fo[$f],hh=Zv&&Zv.prototype;hh&&!hh[_u]&&lh(hh,_u,$f),Su[$f]=Su.Array}var Tc={f:Ta},nA=Tc.f("iterator"),fh=Fe(function(C){C.exports={default:nA,__esModule:!0}});We(fh);var gg=Fe(function(C){var o=fg("meta"),h=au.f,u=0,f=Object.isExtensible||function(){return!0},p=!Xf(function(){return f(Object.preventExtensions({}))}),S=function(z){h(z,o,{value:{i:"O"+ ++u,w:{}}})},x=C.exports={KEY:o,NEED:!1,fastKey:function(z,G){if(!Il(z))return typeof z=="symbol"?z:(typeof z=="string"?"S":"P")+z;if(!wo(z,o)){if(!f(z))return"F";if(!G)return"E";S(z)}return z[o].i},getWeak:function(z,G){if(!wo(z,o)){if(!f(z))return!0;if(!G)return!1;S(z)}return z[o].w},onFreeze:function(z){return p&&x.NEED&&f(z)&&!wo(z,o)&&S(z),z}}}),zy=au.f,vg=function(o){var h=pa.Symbol||(pa.Symbol={});o.charAt(0)=="_"||o in h||zy(h,o,{value:Tc.f(o)})},Ic=Array.isArray||function(C){return Ss(C)=="Array"},ba=dg.concat("length","prototype"),ed=Object.getOwnPropertyNames||function(C){return kd(C,ba)},jy=ed,Kv={}.toString,td=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Pc=function(o){if(td&&Kv.call(o)=="[object Window]")try{var h=jy(o)}catch(u){h=td.slice()}else h=jy(sh(o));return h},lu=Object.getOwnPropertyDescriptor,$p={f:Yo?lu:function(C,o){if(C=sh(C),o=Mc(o,!0),Qh)try{return lu(C,o)}catch(h){}if(wo(C,o))return $h(!Vd.call(C,o),C[o])}},yg=gg.KEY,Jv=$p.f,af=au.f,Uy=Pc,Ds=fo.Symbol,Xl=fo.JSON,Ot=Xl&&Xl.stringify,rr=Ta("_hidden"),er=Ta("toPrimitive"),Kn={}.propertyIsEnumerable,Wi=Jh("symbol-registry"),bo=Jh("symbols"),ha=Jh("op-symbols"),Co=Object.prototype,Qu=typeof Ds=="function",Oc=fo.QObject,Ws=!Oc||!Oc.prototype||!Oc.prototype.findChild,em=Yo&&Xf(function(){return qu(af({},"a",{get:function(){return af(this,"a",{value:7}).a}})).a!=7})?function(C,o,h){var u=Jv(Co,o);u&&delete Co[o],af(C,o,h),u&&C!==Co&&af(Co,o,u)}:af,xg=function(o){var h=bo[o]=qu(Ds.prototype);return h._k=o,h},uu=Qu&&typeof Ds.iterator=="symbol"?function(C){return typeof C=="symbol"}:function(C){return C instanceof Ds},Mu=function C(o,h,u){return o===Co&&C(ha,h,u),Wl(o),h=Mc(h,!0),Wl(u),wo(bo,h)?(u.enumerable?(wo(o,rr)&&o[rr][h]&&(o[rr][h]=!1),u=qu(u,{enumerable:$h(0,!1)})):(wo(o,rr)||af(o,rr,$h(1,{})),o[rr][h]=!0),em(o,h,u)):af(o,h,u)},rd=function(o,h){Wl(o);var u=h=sh(h),f=qh(u),p=Yl;if(p){p=p(u);for(var S=Vd,x=0,T;p.length>x;)S.call(u,T=p[x++])&&f.push(T)}u=0,T=f.length;for(var z;T>u;)Mu(o,z=f[u++],h[z]);return o},ia=function(o){var h=Kn.call(this,o=Mc(o,!0));return this===Co&&wo(bo,o)&&!wo(ha,o)?!1:h||!wo(this,o)||!wo(bo,o)||wo(this,rr)&&this[rr][o]?h:!0},Cg=function(o,h){if(o=sh(o),h=Mc(h,!0),o!==Co||!wo(bo,h)||wo(ha,h)){var u=Jv(o,h);return!u||!wo(bo,h)||wo(o,rr)&&o[rr][h]||(u.enumerable=!0),u}},Wd=function(o){o=Uy(sh(o));for(var h=[],u=0,f;o.length>u;)wo(bo,f=o[u++])||f==rr||f==yg||h.push(f);return h},dh=function(o){var h=o===Co;o=Uy(h?ha:sh(o));for(var u=[],f=0,p;o.length>f;)wo(bo,p=o[f++])&&(h?wo(Co,p):1)&&u.push(bo[p]);return u};Qu||(Ds=function(){if(this instanceof Ds)throw TypeError("Symbol is not a constructor!");var o=fg(0<arguments.length?arguments[0]:void 0),h=function u(f){this===Co&&u.call(ha,f),wo(this,rr)&&wo(this[rr],o)&&(this[rr][o]=!1),em(this,o,$h(1,f))};return Yo&&Ws&&em(Co,o,{configurable:!0,set:h}),xg(o)},lh(Ds.prototype,"toString",function(){return this._k}),$p.f=Cg,au.f=Mu,ed=Pc=Wd,Vd=ia,Yl=dh,Tc.f=function(C){return xg(Ta(C))}),An(An.G+An.W+An.F*!Qu,{Symbol:Ds});for(var sf="hasInstance isConcatSpreadable iterator match replace search species split toPrimitive toStringTag unscopables".split(" "),ph=0;sf.length>ph;)Ta(sf[ph++]);for(var Yd=qh(Ta.store),$u=0;Yd.length>$u;)vg(Yd[$u++]);An(An.S+An.F*!Qu,"Symbol",{for:function(o){return wo(Wi,o+="")?Wi[o]:Wi[o]=Ds(o)},keyFor:function(o){if(!uu(o))throw TypeError(o+" is not a symbol!");for(var h in Wi)if(Wi[h]===o)return h},useSetter:function(){Ws=!0},useSimple:function(){Ws=!1}}),An(An.S+An.F*!Qu,"Object",{create:function(o,h){return h===void 0?qu(o):rd(qu(o),h)},defineProperty:Mu,defineProperties:rd,getOwnPropertyDescriptor:Cg,getOwnPropertyNames:Wd,getOwnPropertySymbols:dh}),Xl&&An(An.S+An.F*(!Qu||Xf(function(){var C=Ds();return Ot([C])!="[null]"||Ot({a:C})!="{}"||Ot(Object(C))!="{}"})),"JSON",{stringify:function(o){for(var h=[o],u=1,f;arguments.length>u;)h.push(arguments[u++]);if(f=u=h[1],(Il(u)||o!==void 0)&&!uu(o))return Ic(u)||(u=function(S,x){if(typeof f=="function"&&(x=f.call(this,S,x)),!uu(x))return x}),h[1]=u,Ot.apply(Xl,h)}}),Ds.prototype[er]||lh(Ds.prototype,er,Ds.prototype.valueOf),su(Ds,"Symbol"),su(Math,"Math",!0),su(fo.JSON,"JSON",!0),vg("asyncIterator"),vg("observable");var Eu=pa.Symbol,Tu=Fe(function(C){C.exports={default:Eu,__esModule:!0}}),nd=We(Tu),Zl=Fe(function(C,o){o.__esModule=!0,C=fh&&fh.__esModule?fh:{default:fh};var h=Tu&&Tu.__esModule?Tu:{default:Tu},u=typeof h.default=="function"&&typeof C.default=="symbol"?function(f){return typeof f}:function(f){return f&&typeof h.default=="function"&&f.constructor===h.default&&f!==h.default.prototype?"symbol":typeof f};o.default=typeof h.default=="function"&&u(C.default)==="symbol"?function(f){return typeof f=="undefined"?"undefined":u(f)}:function(f){return f&&typeof h.default=="function"&&f.constructor===h.default&&f!==h.default.prototype?"symbol":typeof f=="undefined"?"undefined":u(f)}}),Ol=We(Zl),cu=Fe(function(C,o){o.__esModule=!0;var h=Zl&&Zl.__esModule?Zl:{default:Zl};o.default=function(u,f){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||(typeof f=="undefined"?"undefined":(0,h.default)(f))!=="object"&&typeof f!="function"?u:f}}),wi=We(cu),Ag=Object.setPrototypeOf||("__proto__"in{}?function(C,o,h){try{h=Vs(Function.call,$p.f(Object.prototype,"__proto__").set,2),h(C,[]),o=!(C instanceof Array)}catch(u){o=!0}return function(u,f){if(Wl(u),!Il(f)&&f!==null)throw TypeError(f+": can't set as prototype!");return o?u.__proto__=f:h(u,f),u}}({},!1):void 0);An(An.S,"Object",{setPrototypeOf:Ag});var Xd=pa.Object.setPrototypeOf,$a=Fe(function(C){C.exports={default:Xd,__esModule:!0}});We($a),An(An.S,"Object",{create:qu});var tm=pa.Object,ky=function(o,h){return tm.create(o,h)},rm=Fe(function(C){C.exports={default:ky,__esModule:!0}}),Hy=We(rm),Zd=Fe(function(C,o){function h(S){return S&&S.__esModule?S:{default:S}}o.__esModule=!0;var u=h($a),f=h(rm),p=h(Zl);o.default=function(S,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof x=="undefined"?"undefined":(0,p.default)(x)));S.prototype=(0,f.default)(x&&x.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),x&&(u.default?(0,u.default)(S,x):S.__proto__=x)}}),ji=We(Zd),Kd=Ta("toStringTag"),ec=Ss(function(){return arguments}())=="Arguments",wg=function(o){var h;if(o===void 0)var u="Undefined";else{if(o===null)var f="Null";else{e:{var p=o=Object(o);try{f=p[Kd];break e}catch(S){}f=void 0}f=typeof(u=f)=="string"?u:ec?Ss(o):(h=Ss(o))=="Object"&&typeof o.callee=="function"?"Arguments":h}u=f}return u},iA=Ta("iterator"),hx=pa.isIterable=function(C){return C=Object(C),C[iA]!==void 0||"@@iterator"in C||Su.hasOwnProperty(wg(C))},Ui=Fe(function(C){C.exports={default:hx,__esModule:!0}});We(Ui);var Za=Ta("iterator"),bg=pa.getIteratorMethod=function(C){if(C!=null)return C[Za]||C["@@iterator"]||Su[wg(C)]},fx=pa.getIterator=function(C){var o=bg(C);if(typeof o!="function")throw TypeError(C+" is not iterable!");return Wl(o.call(C))},id=Fe(function(C){C.exports={default:fx,__esModule:!0}}),lf=We(id),nm=Fe(function(C,o){o.__esModule=!0;var h=Ui&&Ui.__esModule?Ui:{default:Ui},u=id&&id.__esModule?id:{default:id};o.default=function(){return function(f,p){if(Array.isArray(f))return f;if((0,h.default)(Object(f))){var S=[],x=!0,T=!1,z=void 0;try{for(var G=(0,u.default)(f),P;!(x=(P=G.next()).done)&&(S.push(P.value),!p||S.length!==p);x=!0);}catch(D){T=!0,z=D}finally{try{!x&&G.return&&G.return()}finally{if(T)throw z}}return S}throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()}),ms=We(nm),Ei=function(o,h,u,f){try{return f?h(Wl(u)[0],u[1]):h(u)}catch(p){throw h=o.return,h!==void 0&&Wl(h.call(o)),p}},Ns=Ta("iterator"),Rc=Array.prototype,Xo=Ta("iterator"),_s=!1;try{[7][Xo]().return=function(){_s=!0}}catch(C){}var od=function(o,h){if(!h&&!_s)return!1;var u=!1;try{h=[7];var f=h[Xo]();f.next=function(){return{done:u=!0}},h[Xo]=function(){return f},o(h)}catch(p){}return u};An(An.S+An.F*!od(function(C){}),"Array",{from:function(o){var h=Object(Sc(o)),u=typeof this=="function"?this:Array,f=arguments.length,p=1<f?arguments[1]:void 0,S=p!==void 0,x=0,T=bg(h),z;if(S&&(p=Vs(p,2<f?arguments[2]:void 0,2)),T!=null&&(u!=Array||T===void 0||Su.Array!==T&&Rc[Ns]!==T))for(h=T.call(h),u=new u;!(z=h.next()).done;x++)f=u,T=x,z=S?Ei(h,p,[z.value,x],!0):z.value,T in f?au.f(f,T,$h(0,z)):f[T]=z;else for(f=Yp(h.length),u=new u(f);f>x;x++){T=u,z=x;var G=S?p(h[x],x):h[x];z in T?au.f(T,z,$h(0,G)):T[z]=G}return u.length=x,u}});var Sg=pa.Array.from,uf=Fe(function(C){C.exports={default:Sg,__esModule:!0}}),Lc=We(uf),mh=Fe(function(C,o){o.__esModule=!0;var h=uf&&uf.__esModule?uf:{default:uf};o.default=function(u){if(Array.isArray(u)){for(var f=0,p=Array(u.length);f<u.length;f++)p[f]=u[f];return p}return(0,h.default)(u)}}),ro=We(mh),Iu=gg.onFreeze;ch("freeze",function(C){return function(o){return C&&Il(o)?C(Iu(o)):o}});var Kl=pa.Object.freeze,gh=Fe(function(C){C.exports={default:Kl,__esModule:!0}}),Re=We(gh),Rl=pa.JSON||(pa.JSON={stringify:JSON.stringify}),Pu=function(o){return Rl.stringify.apply(Rl,arguments)},Ys=Fe(function(C){C.exports={default:Pu,__esModule:!0}}),ci=We(Ys),Ou={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},cf=$p.f;ch("getOwnPropertyDescriptor",function(){return function(C,o){return cf(sh(C),o)}});var Vy=pa.Object,hf=function(o,h){return Vy.getOwnPropertyDescriptor(o,h)},Ya=Fe(function(C){C.exports={default:hf,__esModule:!0}}),Ka=We(Ya),Dc=Fe(function(C){var o=Array.prototype.concat,h=Array.prototype.slice,u=C.exports=function(f){for(var p=[],S=0,x=f.length;S<x;S++){var T=f[S],z=(z=T)&&typeof z!="string"?z instanceof Array||Array.isArray(z)||0<=z.length&&(z.splice instanceof Function||Ka(z,z.length-1)&&z.constructor.name!=="String"):!1;z?p=o.call(p,h.call(T)):p.push(T)}return p};u.wrap=function(f){return function(){return f(u(arguments))}}}),Jd=Fe(function(C){function o(S,x,T){return Math.min(Math.max(x,S),T)}function h(S){return S=S.toString(16).toUpperCase(),2>S.length?"0"+S:S}var u={},f;for(f in Ou)Ou.hasOwnProperty(f)&&(u[Ou[f]]=f);var p=C.exports={to:{},get:{}};p.get=function(S){switch(S.substring(0,3).toLowerCase()){case"hsl":S=p.get.hsl(S);var x="hsl";break;case"hwb":S=p.get.hwb(S),x="hwb";break;default:S=p.get.rgb(S),x="rgb"}return S?{model:x,value:S}:null},p.get.rgb=function(S){if(!S)return null;var x=/^#([a-f0-9]{3,4})$/i,T=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,z=/^rgba?\(\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,G=/(\D+)/,P=[0,0,0,1],D;if(D=S.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(x=D[2],D=D[1],S=0;3>S;S++)T=2*S,P[S]=parseInt(D.slice(T,T+2),16);x&&(P[3]=Math.round(parseInt(x,16)/255*100)/100)}else if(D=S.match(x)){for(D=D[1],x=D[3],S=0;3>S;S++)P[S]=parseInt(D[S]+D[S],16);x&&(P[3]=Math.round(parseInt(x+x,16)/255*100)/100)}else if(D=S.match(T)){for(S=0;3>S;S++)P[S]=parseInt(D[S+1],0);D[4]&&(P[3]=parseFloat(D[4]))}else if(D=S.match(z)){for(S=0;3>S;S++)P[S]=Math.round(2.55*parseFloat(D[S+1]));D[4]&&(P[3]=parseFloat(D[4]))}else return(D=S.match(G))?D[1]==="transparent"?[0,0,0,0]:(P=Ou[D[1]],P?(P[3]=1,P):null):null;for(S=0;3>S;S++)P[S]=o(P[S],0,255);return P[3]=o(P[3],0,1),P},p.get.hsl=function(S){if(!S)return null;var x=S.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(x){var T=parseFloat(x[4]);S=(parseFloat(x[1])+360)%360;var z=o(parseFloat(x[2]),0,100);return x=o(parseFloat(x[3]),0,100),T=o(isNaN(T)?1:T,0,1),[S,z,x,T]}return null},p.get.hwb=function(S){if(!S)return null;var x=S.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(x){var T=parseFloat(x[4]);S=(parseFloat(x[1])%360+360)%360;var z=o(parseFloat(x[2]),0,100);return x=o(parseFloat(x[3]),0,100),T=o(isNaN(T)?1:T,0,1),[S,z,x,T]}return null},p.to.hex=function(){var S=Dc(arguments);return"#"+h(S[0])+h(S[1])+h(S[2])+(1>S[3]?h(Math.round(255*S[3])):"")},p.to.rgb=function(){var S=Dc(arguments);return 4>S.length||S[3]===1?"rgb("+Math.round(S[0])+", "+Math.round(S[1])+", "+Math.round(S[2])+")":"rgba("+Math.round(S[0])+", "+Math.round(S[1])+", "+Math.round(S[2])+", "+S[3]+")"},p.to.rgb.percent=function(){var S=Dc(arguments),x=Math.round(S[0]/255*100),T=Math.round(S[1]/255*100),z=Math.round(S[2]/255*100);return 4>S.length||S[3]===1?"rgb("+x+"%, "+T+"%, "+z+"%)":"rgba("+x+"%, "+T+"%, "+z+"%, "+S[3]+")"},p.to.hsl=function(){var S=Dc(arguments);return 4>S.length||S[3]===1?"hsl("+S[0]+", "+S[1]+"%, "+S[2]+"%)":"hsla("+S[0]+", "+S[1]+"%, "+S[2]+"%, "+S[3]+")"},p.to.hwb=function(){var S=Dc(arguments),x="";return 4<=S.length&&S[3]!==1&&(x=", "+S[3]),"hwb("+S[0]+", "+S[1]+"%, "+S[2]+"%"+x+")"},p.to.keyword=function(S){return u[S.slice(0,3)]}}),ff=Fe(function(C){var o={};for(f in Ou)Ou.hasOwnProperty(f)&&(o[Ou[f]]=f);var h=C.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},u;for(u in h)if(h.hasOwnProperty(u)){if(!("channels"in h[u]))throw Error("missing channels property: "+u);if(!("labels"in h[u]))throw Error("missing channel labels property: "+u);if(h[u].labels.length!==h[u].channels)throw Error("channel and label counts mismatch: "+u);C=h[u].channels;var f=h[u].labels;delete h[u].channels,delete h[u].labels,Object.defineProperty(h[u],"channels",{value:C}),Object.defineProperty(h[u],"labels",{value:f})}h.rgb.hsl=function(p){var S=p[0]/255,x=p[1]/255,T=p[2]/255;p=Math.min(S,x,T);var z=Math.max(S,x,T),G=z-p,P;return z===p?P=0:S===z?P=(x-T)/G:x===z?P=2+(T-S)/G:T===z&&(P=4+(S-x)/G),P=Math.min(60*P,360),0>P&&(P+=360),S=(p+z)/2,[P,100*(z===p?0:.5>=S?G/(z+p):G/(2-z-p)),100*S]},h.rgb.hsv=function(p){var S,x=p[0]/255,T=p[1]/255,z=p[2]/255,G=Math.max(x,T,z),P=G-Math.min(x,T,z);if(P===0)var D=S=0;else{S=P/G,p=(G-x)/6/P+.5;var U=(G-T)/6/P+.5;P=(G-z)/6/P+.5,x===G?D=P-U:T===G?D=1/3+p-P:z===G&&(D=2/3+U-p),0>D?D+=1:1<D&&--D}return[360*D,100*S,100*G]},h.rgb.hwb=function(p){var S=p[0],x=p[1],T=p[2];p=h.rgb.hsl(p)[0];var z=1/255*Math.min(S,Math.min(x,T));return T=1-1/255*Math.max(S,Math.max(x,T)),[p,100*z,100*T]},h.rgb.cmyk=function(p){var S=p[0]/255,x=p[1]/255;p=p[2]/255;var T=Math.min(1-S,1-x,1-p);return[100*((1-S-T)/(1-T)||0),100*((1-x-T)/(1-T)||0),100*((1-p-T)/(1-T)||0),100*T]},h.rgb.keyword=function(p){var S=o[p];if(S)return S;S=Infinity;var x;for(x in Ou)if(Ou.hasOwnProperty(x)){var T=Ou[x];if(T=Math.pow(p[0]-T[0],2)+Math.pow(p[1]-T[1],2)+Math.pow(p[2]-T[2],2),T<S){S=T;var z=x}}return z},h.keyword.rgb=function(p){return Ou[p]},h.rgb.xyz=function(p){var S=p[0]/255,x=p[1]/255;return p=p[2]/255,S=.04045<S?Math.pow((S+.055)/1.055,2.4):S/12.92,x=.04045<x?Math.pow((x+.055)/1.055,2.4):x/12.92,p=.04045<p?Math.pow((p+.055)/1.055,2.4):p/12.92,[100*(.4124*S+.3576*x+.1805*p),100*(.2126*S+.7152*x+.0722*p),100*(.0193*S+.1192*x+.9505*p)]},h.rgb.lab=function(p){var S=h.rgb.xyz(p);p=S[0];var x=S[1];return S=S[2],p/=95.047,x/=100,S/=108.883,p=.008856<p?Math.pow(p,1/3):7.787*p+16/116,x=.008856<x?Math.pow(x,1/3):7.787*x+16/116,S=.008856<S?Math.pow(S,1/3):7.787*S+16/116,[116*x-16,500*(p-x),200*(x-S)]},h.hsl.rgb=function(p){var S=p[0]/360,x=p[1]/100;if(p=p[2]/100,x===0){var T=255*p;return[T,T,T]}x=.5>p?p*(1+x):p+x-p*x,p=2*p-x;for(var z=[0,0,0],G=0;3>G;G++)T=S+1/3*-(G-1),0>T&&T++,1<T&&T--,T=1>6*T?p+6*(x-p)*T:1>2*T?x:2>3*T?p+(x-p)*(2/3-T)*6:p,z[G]=255*T;return z},h.hsl.hsv=function(p){var S=p[0],x=p[1]/100;p=p[2]/100;var T=x,z=Math.max(p,.01);return p*=2,x*=1>=p?p:2-p,T*=1>=z?z:2-z,[S,100*(p===0?2*T/(z+T):2*x/(p+x)),(p+x)/2*100]},h.hsv.rgb=function(p){var S=p[0]/60,x=p[1]/100;p=p[2]/100;var T=Math.floor(S)%6,z=S-Math.floor(S);S=255*p*(1-x);var G=255*p*(1-x*z);switch(x=255*p*(1-x*(1-z)),p*=255,T){case 0:return[p,x,S];case 1:return[G,p,S];case 2:return[S,p,x];case 3:return[S,G,p];case 4:return[x,S,p];case 5:return[p,S,G]}},h.hsv.hsl=function(p){var S=p[0],x=p[1]/100;p=p[2]/100;var T=Math.max(p,.01),z=(2-x)*T;return T=x*T/(1>=z?z:2-z)||0,[S,100*T,(2-x)*p/2*100]},h.hwb.rgb=function(p){var S=p[0]/360,x=p[1]/100;p=p[2]/100;var T=x+p;switch(1<T&&(x/=T,p/=T),T=Math.floor(6*S),p=1-p,S=6*S-T,(T&1)!=0&&(S=1-S),S=x+S*(p-x),T){default:case 6:case 0:T=p;var z=S;break;case 1:T=S,z=p;break;case 2:T=x,z=p,x=S;break;case 3:T=x,z=S,x=p;break;case 4:T=S,z=x,x=p;break;case 5:T=p,z=x,x=S}return[255*T,255*z,255*x]},h.cmyk.rgb=function(p){var S=p[3]/100;return[255*(1-Math.min(1,p[0]/100*(1-S)+S)),255*(1-Math.min(1,p[1]/100*(1-S)+S)),255*(1-Math.min(1,p[2]/100*(1-S)+S))]},h.xyz.rgb=function(p){var S=p[0]/100,x=p[1]/100,T=p[2]/100;p=3.2406*S+-1.5372*x+-.4986*T;var z=-.9689*S+1.8758*x+.0415*T;return S=.0557*S+-.204*x+1.057*T,p=.0031308<p?1.055*Math.pow(p,1/2.4)-.055:12.92*p,z=.0031308<z?1.055*Math.pow(z,1/2.4)-.055:12.92*z,S=.0031308<S?1.055*Math.pow(S,1/2.4)-.055:12.92*S,p=Math.min(Math.max(0,p),1),z=Math.min(Math.max(0,z),1),S=Math.min(Math.max(0,S),1),[255*p,255*z,255*S]},h.xyz.lab=function(p){var S=p[0],x=p[1];return p=p[2],S/=95.047,x/=100,p/=108.883,S=.008856<S?Math.pow(S,1/3):7.787*S+16/116,x=.008856<x?Math.pow(x,1/3):7.787*x+16/116,p=.008856<p?Math.pow(p,1/3):7.787*p+16/116,[116*x-16,500*(S-x),200*(x-p)]},h.lab.xyz=function(p){var S=p[1],x=p[2];p=(p[0]+16)/116,S=S/500+p,x=p-x/200;var T=Math.pow(p,3),z=Math.pow(S,3),G=Math.pow(x,3);return[95.047*(.008856<z?z:(S-16/116)/7.787),100*(.008856<T?T:(p-16/116)/7.787),108.883*(.008856<G?G:(x-16/116)/7.787)]},h.lab.lch=function(p){var S=p[0],x=p[1];p=p[2];var T=360*Math.atan2(p,x)/2/Math.PI;return 0>T&&(T+=360),[S,Math.sqrt(x*x+p*p),T]},h.lch.lab=function(p){var S=p[0],x=p[1];return p=p[2]/360*2*Math.PI,[S,x*Math.cos(p),x*Math.sin(p)]},h.rgb.ansi16=function(p){var S=p[0],x=p[1],T=p[2],z=1 in arguments?arguments[1]:h.rgb.hsv(p)[2];return z=Math.round(z/50),z===0?30:(S=30+(Math.round(T/255)<<2|Math.round(x/255)<<1|Math.round(S/255)),z===2&&(S+=60),S)},h.hsv.ansi16=function(p){return h.rgb.ansi16(h.hsv.rgb(p),p[2])},h.rgb.ansi256=function(p){var S=p[0],x=p[1];return p=p[2],S===x&&x===p?8>S?16:248<S?231:Math.round((S-8)/247*24)+232:16+36*Math.round(S/255*5)+6*Math.round(x/255*5)+Math.round(p/255*5)},h.ansi16.rgb=function(p){var S=p%10;return S===0||S===7?(50<p&&(S+=3.5),S=S/10.5*255,[S,S,S]):(p=.5*(~~(50<p)+1),[(S&1)*p*255,(S>>1&1)*p*255,(S>>2&1)*p*255])},h.ansi256.rgb=function(p){if(232<=p){var S=10*(p-232)+8;return[S,S,S]}p-=16,S=Math.floor(p/36)/5*255;var x=Math.floor((p%=36)/6)/5*255;return[S,x,p%6/5*255]},h.rgb.hex=function(p){return p=(((Math.round(p[0])&255)<<16)+((Math.round(p[1])&255)<<8)+(Math.round(p[2])&255)).toString(16).toUpperCase(),"000000".substring(p.length)+p},h.hex.rgb=function(p){if(p=p.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i),!p)return[0,0,0];var S=p[0];return p[0].length===3&&(S=S.split("").map(function(x){return x+x}).join("")),p=parseInt(S,16),[p>>16&255,p>>8&255,p&255]},h.rgb.hcg=function(p){var S=p[0]/255,x=p[1]/255;p=p[2]/255;var T=Math.max(Math.max(S,x),p),z=Math.min(Math.min(S,x),p),G=T-z;return[(0>=G?0:T===S?(x-p)/G%6:T===x?2+(p-S)/G:(S-x)/G+8)/6%1*360,100*G,100*(1>G?z/(1-G):0)]},h.hsl.hcg=function(p){var S=p[1]/100,x=p[2]/100,T=0;return S=.5>x?2*S*x:2*S*(1-x),1>S&&(T=(x-.5*S)/(1-S)),[p[0],100*S,100*T]},h.hsv.hcg=function(p){var S=p[2]/100,x=p[1]/100*S,T=0;return 1>x&&(T=(S-x)/(1-x)),[p[0],100*x,100*T]},h.hcg.rgb=function(p){var S=p[1]/100,x=p[2]/100;if(S===0)return[255*x,255*x,255*x];var T=[0,0,0];p=p[0]/360%1*6;var z=p%1,G=1-z;switch(Math.floor(p)){case 0:T[0]=1,T[1]=z,T[2]=0;break;case 1:T[0]=G,T[1]=1,T[2]=0;break;case 2:T[0]=0,T[1]=1,T[2]=z;break;case 3:T[0]=0,T[1]=G,T[2]=1;break;case 4:T[0]=z,T[1]=0,T[2]=1;break;default:T[0]=1,T[1]=0,T[2]=G}return x*=1-S,[255*(S*T[0]+x),255*(S*T[1]+x),255*(S*T[2]+x)]},h.hcg.hsv=function(p){var S=p[1]/100,x=S+p[2]/100*(1-S),T=0;return 0<x&&(T=S/x),[p[0],100*T,100*x]},h.hcg.hsl=function(p){var S=p[1]/100,x=p[2]/100*(1-S)+.5*S,T=0;return 0<x&&.5>x?T=S/(2*x):.5<=x&&1>x&&(T=S/(2*(1-x))),[p[0],100*T,100*x]},h.hcg.hwb=function(p){var S=p[1]/100,x=S+p[2]/100*(1-S);return[p[0],100*(x-S),100*(1-x)]},h.hwb.hcg=function(p){var S=1-p[2]/100,x=S-p[1]/100,T=0;return 1>x&&(T=(S-x)/(1-x)),[p[0],100*x,100*T]},h.apple.rgb=function(p){return[p[0]/65535*255,p[1]/65535*255,p[2]/65535*255]},h.rgb.apple=function(p){return[p[0]/255*65535,p[1]/255*65535,p[2]/255*65535]},h.gray.rgb=function(p){return[p[0]/100*255,p[0]/100*255,p[0]/100*255]},h.gray.hsl=h.gray.hsv=function(p){return[0,0,p[0]]},h.gray.hwb=function(p){return[0,100,p[0]]},h.gray.cmyk=function(p){return[0,0,0,p[0]]},h.gray.lab=function(p){return[p[0],0,0]},h.gray.hex=function(p){return p=Math.round(p[0]/100*255)&255,p=((p<<16)+(p<<8)+p).toString(16).toUpperCase(),"000000".substring(p.length)+p},h.rgb.gray=function(p){return[(p[0]+p[1]+p[2])/3/255*100]}}),Nc=function(o){for(var h={},u=Gs(ff),f=u.length,p=0;p<f;p++)h[u[p]]={distance:-1,parent:null};for(u=[o],h[o].distance=0;u.length;){o=u.pop(),f=Gs(ff[o]),p=f.length;for(var S=0;S<p;S++){var x=f[S],T=h[x];T.distance===-1&&(T.distance=h[o].distance+1,T.parent=o,u.unshift(x))}}for(u={},o=Gs(h),f=o.length,p=0;p<f;p++){var z=o[p];if(h[z].parent!==null){S=z,x=h,T=[x[z].parent,z];var G=ff[x[z].parent][z];for(z=x[z].parent;x[z].parent;)T.unshift(x[z].parent),G=lt(ff[x[z].parent][z],G),z=x[z].parent;G.conversion=T,u[S]=G}}return u},df={};Gs(ff).forEach(function(C){df[C]={},Object.defineProperty(df[C],"channels",{value:ff[C].channels}),Object.defineProperty(df[C],"labels",{value:ff[C].labels});var o=Nc(C);Gs(o).forEach(function(h){var u=o[h];df[C][h]=de(u),df[C][h].raw=pt(u)})});var Jl=df,Ru=[].slice,qv=["keyword","gray","hex"],qd={};Gs(Jl).forEach(function(C){qd[Ru.call(Jl[C].labels).sort().join("")]=C});var ql={};xe.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(o){var h=this.model in Jd.to?this:this.rgb();return h=h.round(typeof o=="number"?o:1),o=h.valpha===1?h.color:h.color.concat(this.valpha),Jd.to[h.model](o)},percentString:function(o){return o=this.rgb().round(typeof o=="number"?o:1),o=o.valpha===1?o.color:o.color.concat(this.valpha),Jd.to.rgb.percent(o)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var o={},h=Jl[this.model].channels,u=Jl[this.model].labels,f=0;f<h;f++)o[u[f]]=this.color[f];return this.valpha!==1&&(o.alpha=this.valpha),o},unitArray:function(){var o=this.rgb().color;return o[0]/=255,o[1]/=255,o[2]/=255,this.valpha!==1&&o.push(this.valpha),o},unitObject:function(){var o=this.rgb().object();return o.r/=255,o.g/=255,o.b/=255,this.valpha!==1&&(o.alpha=this.valpha),o},round:function(o){return o=Math.max(o||0,0),new xe(this.color.map(ft(o)).concat(this.valpha),this.model)},alpha:function(o){return arguments.length?new xe(this.color.concat(Math.max(0,Math.min(1,o))),this.model):this.valpha},red:N("rgb",0,ve(255)),green:N("rgb",1,ve(255)),blue:N("rgb",2,ve(255)),hue:N(["hsl","hsv","hsl","hwb","hcg"],0,function(C){return(C%360+360)%360}),saturationl:N("hsl",1,ve(100)),lightness:N("hsl",2,ve(100)),saturationv:N("hsv",1,ve(100)),value:N("hsv",2,ve(100)),chroma:N("hcg",1,ve(100)),gray:N("hcg",2,ve(100)),white:N("hwb",1,ve(100)),wblack:N("hwb",2,ve(100)),cyan:N("cmyk",0,ve(100)),magenta:N("cmyk",1,ve(100)),yellow:N("cmyk",2,ve(100)),black:N("cmyk",3,ve(100)),x:N("xyz",0,ve(100)),y:N("xyz",1,ve(100)),z:N("xyz",2,ve(100)),l:N("lab",0,ve(100)),a:N("lab",1),b:N("lab",2),keyword:function(o){return arguments.length?new xe(o):Jl[this.model].keyword(this.color)},hex:function(o){return arguments.length?new xe(o):Jd.to.hex(this.rgb().round().color)},rgbNumber:function(){var o=this.rgb().color;return(o[0]&255)<<16|(o[1]&255)<<8|o[2]&255},luminosity:function(){for(var o=this.rgb().color,h=[],u=0;u<o.length;u++){var f=o[u]/255;h[u]=.03928>=f?f/12.92:Math.pow((f+.055)/1.055,2.4)}return .2126*h[0]+.7152*h[1]+.0722*h[2]},contrast:function(o){var h=this.luminosity();return o=o.luminosity(),h>o?(h+.05)/(o+.05):(o+.05)/(h+.05)},level:function(o){return o=this.contrast(o),7.1<=o?"AAA":4.5<=o?"AA":""},isDark:function(){var o=this.rgb().color;return 128>(299*o[0]+587*o[1]+114*o[2])/1e3},isLight:function(){return!this.isDark()},negate:function(){for(var o=this.rgb(),h=0;3>h;h++)o.color[h]=255-o.color[h];return o},lighten:function(o){var h=this.hsl();return h.color[2]+=h.color[2]*o,h},darken:function(o){var h=this.hsl();return h.color[2]-=h.color[2]*o,h},saturate:function(o){var h=this.hsl();return h.color[1]+=h.color[1]*o,h},desaturate:function(o){var h=this.hsl();return h.color[1]-=h.color[1]*o,h},whiten:function(o){var h=this.hwb();return h.color[1]+=h.color[1]*o,h},blacken:function(o){var h=this.hwb();return h.color[2]+=h.color[2]*o,h},grayscale:function(){var o=this.rgb().color;return o=.3*o[0]+.59*o[1]+.11*o[2],xe.rgb(o,o,o)},fade:function(o){return this.alpha(this.valpha-this.valpha*o)},opaquer:function(o){return this.alpha(this.valpha+this.valpha*o)},rotate:function(o){var h=this.hsl(),u=h.color[0];return u=(u+o)%360,h.color[0]=0>u?360+u:u,h},mix:function(o,h){if(!o||!o.rgb)throw Error('Argument to "mix" was not a Color instance, but rather an instance of '+(typeof o=="undefined"?"undefined":Ol(o)));o=o.rgb();var u=this.rgb();h=h===void 0?.5:h;var f=2*h-1,p=o.alpha()-u.alpha();return f=((f*p==-1?f:(f+p)/(1+f*p))+1)/2,p=1-f,xe.rgb(f*o.red()+p*u.red(),f*o.green()+p*u.green(),f*o.blue()+p*u.blue(),o.alpha()*h+u.alpha()*(1-h))}},Gs(Jl).forEach(function(C){if(qv.indexOf(C)===-1){var o=Jl[C].channels;xe.prototype[C]=function(){if(this.model===C)return new xe(this);if(arguments.length)return new xe(arguments,C);var h=typeof arguments[o]=="number"?o:this.valpha,u=Jl[this.model][C].raw(this.color);return u=Array.isArray(u)?u:[u],new xe(u.concat(h),C)},xe[C]=function(h){return typeof h=="number"&&(h=Zr(Ru.call(arguments),o)),new xe(h,C)}}}),br(Tt.prototype,{equals:function(o){return this.lat===o.lat&&this.lng===o.lng},clone:function(){return new Tt(this.lat,this.lng)},getLngSpan:function(o){return o=Math.abs(o-this.lng),180<o&&(o=360-o),o},sub:function(o){return new Tt(this.lat-o.lat,this.lng-o.lng)},toString:function(){return"Point"}}),br(Ni,{EARTHRADIUS:637099681e-2,MCBAND:[1289059486e-2,836237787e-2,5591021,348198983e-2,167804312e-2,0],LLBAND:[75,60,45,30,15,0],MC2LL:[[1410526172116255e-23,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,173379812e-1],[-7435856389565537e-24,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,1026014486e-2],[-3030883460898826e-23,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,685681737e-2],[-1981981304930552e-23,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,448277706e-2],[309191371068437e-23,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,25551644e-1],[2890871144776878e-24,8983055095805407e-21,-3068298e-14,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],LL2MC:[[-.0015702102444,111320.7020616939,1704480524535203,-10338987376042340,26112667856603880,-35149669176653700,26595700718403920,-10725012454188240,1800819912950474,82.5],[.0008277824516172526,111320.7020463578,6477955746671607e-7,-4082003173641316e-6,1077490566351142e-5,-1517187553151559e-5,1205306533862167e-5,-5124939663577472e-6,9133119359512032e-7,67.5],[.00337398766765,111320.7020202162,4481351045890365e-9,-2339375119931662e-8,7968221547186455e-8,-1159649932797253e-7,9723671115602145e-8,-4366194633752821e-8,8477230501135234e-9,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837749470245e-9,992013.7397791013,-122195221711287e-8,1340652697009075e-9,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758690035394e-9,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]],getDistanceByMC:function(o,h){if(!o||!h||(o=this.convertMC2LL(o),!o))return 0;var u=this.toRadians(o.lng);if(o=this.toRadians(o.lat),h=this.convertMC2LL(h),!h)return 0;var f=this.toRadians(h.lng);return h=this.toRadians(h.lat),this.getDistance(u,f,o,h)},getDistanceByLL:function(o,h){if(!o||!h)return 0;o.lng=this.getLoop(o.lng,-180,180),o.lat=this.getRange(o.lat,-74,74),h.lng=this.getLoop(h.lng,-180,180),h.lat=this.getRange(h.lat,-74,74);var u=this.toRadians(o.lng),f=this.toRadians(o.lat);return o=this.toRadians(h.lng),h=this.toRadians(h.lat),this.getDistance(u,o,f,h)},convertMC2LL:function(o){if(o==null)return new Tt(0,0);if(180>o.lng&&-180<o.lng&&90>o.lat&&-90<o.lat)return o;for(var h=new Tt(Math.abs(o.lng),Math.abs(o.lat)),u=0;u<this.MCBAND.length;u++)if(h.lat>=this.MCBAND[u]){var f=this.MC2LL[u];break}return o=this.convertor(o,f),o=new Tt(o.lng.toFixed(6),o.lat.toFixed(6))},convertLL2MC:function(o){if(o==null)return new Tt(0,0);if(180<o.lng||-180>o.lng||90<o.lat||-90>o.lat)return o;o.lng=this.getLoop(o.lng,-180,180),o.lat=this.getRange(o.lat,-74,74);for(var h=new Tt(o.lng,o.lat),u=0;u<this.LLBAND.length;u++)if(h.lat>=this.LLBAND[u]){var f=this.LL2MC[u];break}if(!f){for(u=0;u<this.LLBAND.length;u++)if(h.lat<=-this.LLBAND[u]){f=this.LL2MC[u];break}}return o=this.convertor(o,f),o=new Tt(Number(o.lng.toFixed(2)),Number(o.lat.toFixed(2)))},convertor:function(o,h){if(o&&h){var u=h[0]+h[1]*Math.abs(o.lng),f=Math.abs(o.lat)/h[9];return h=h[2]+h[3]*f+h[4]*f*f+h[5]*f*f*f+h[6]*f*f*f*f+h[7]*f*f*f*f*f+h[8]*f*f*f*f*f*f,u*=0>o.lng?-1:1,h*=0>o.lat?-1:1,new Tt(u,h)}},getDistance:function(o,h,u,f){return this.EARTHRADIUS*Math.acos(Math.sin(u)*Math.sin(f)+Math.cos(u)*Math.cos(f)*Math.cos(h-o))},toRadians:function(o){return Math.PI*o/180},toDegrees:function(o){return 180*o/Math.PI},getRange:function(o,h,u){return h!=null&&(o=Math.max(o,h)),u!=null&&(o=Math.min(o,u)),o},getLoop:function(o,h,u){for(;o>u;)o-=u-h;for(;o<h;)o+=u-h;return o}}),br(Ni.prototype,{lngLatToMercator:function(o){return Ni.convertLL2MC(o)},lngLatToPoint:function(o){return o=Ni.convertLL2MC(o),new Vr(o.lng,o.lat)},mercatorToLngLat:function(o){return Ni.convertMC2LL(o)},pointToLngLat:function(o){return o=new Tt(o.x,o.y),Ni.convertMC2LL(o)},pointToPixel:function(o,h,u,f,p){if(o)return o=this.lngLatToMercator(o,p),h=this.getZoomUnits(h),new Vr(Math.round((o.lng-u.lng)/h+f.width/2),Math.round((u.lat-o.lat)/h+f.height/2))},pixelToPoint:function(o,h,u,f,p){if(o)return h=this.getZoomUnits(h),o=new Tt(u.lng+h*(o.x-f.width/2),u.lat-h*(o.y-f.height/2)),this.mercatorToLngLat(o,p)},getZoomUnits:function(o){return Math.pow(2,18-o)}}),Dt.prototype.setMax=function(C){this.max=C||100},Dt.prototype.setMin=function(C){this.min=C||0},Dt.prototype.setMaxSize=function(C){this.maxSize=C||35},Dt.prototype.setMinSize=function(C){this.minSize=C||0},Dt.prototype.initPalette=function(){var C=this.gradient,o=this.paletteCtx=new Ar(256,1).getContext("2d"),h=o.createLinearGradient(0,0,256,1);Gs(C).forEach(function(u){h.addColorStop(parseFloat(u),C[u])}),o.fillStyle=h,o.fillRect(0,0,256,1),o.imageData=o.getImageData(0,0,256,1).data},Dt.prototype.getColor=function(C){return C=this.getImageData(C),"rgba("+C[0]+", "+C[1]+", "+C[2]+", "+C[3]/256+")"},Dt.prototype.getImageData=function(C){var o=this.paletteCtx.imageData;if(C===void 0)return o;var h=this.max,u=this.min;return C>h&&(C=h),C<u&&(C=u),C=4*Math.floor((C-u)/(h-u)*255),[o[C],o[C+1],o[C+2],o[C+3]]},Dt.prototype.getSize=function(C){var o=this.max,h=this.min,u=this.maxSize,f=this.minSize;return C>o&&(C=o),C<h&&(C=h),f+(C-h)/(o-h)*(u-f)},pr.prototype._initialize=function(){this.v0=this._normalizaCoord(this.options.start),this.v3=this._normalizaCoord(this.options.end),this.v1=this._getControlPoint(this.v0,this.v3,4),this.v2=this._getControlPoint(this.v3,this.v0,5),this.v0[2]||(this.v0[2]=0),this.v3[2]||(this.v3[2]=0)},pr.prototype.setOptions=function(C){this.options=C||{},this._initialize()},pr.prototype.getPoints=function(C){C===void 0&&(C=20);for(var o=[],h=0;h<=C;h++)o.push(this._getPoint(h/C));return o},pr.prototype._normalizaCoord=function(C){return C?(C=Ni.convertLL2MC({lng:Number(C[0]),lat:Number(C[1])}),[C.lng,C.lat]):[]},pr.prototype._getControlPoint=function(C,o){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1;return[].concat(ro(this._getQuarter(C,o)),[this._getDistance(C,o)/h])},pr.prototype._getQuarter=function(C,o){return[(3*C[0]+o[0])/4,(3*C[1]+o[1])/4]},pr.prototype._getDistance=function(C,o){return Math.sqrt(Math.pow(C[0]-o[0],2)+Math.pow(C[1]-o[1],2))},pr.prototype._getPoint=function(C){var o=[],h=this.v0,u=this.v1,f=this.v2,p=this.v3;return o.push(Gr(C,h[0],u[0],f[0],p[0]),Gr(C,h[1],u[1],f[1],p[1]),Gr(C,h[2],u[2],f[2],p[2])),o},lr.prototype._initialize=function(){this.points=this.options.points||this.options.point||[],this.greatCirclePoints=[];for(var C=[],o=0;o<this.points.length;o++){var h=this._normalizaCoord(this.points[o]);h&&C.push(h)}this.points=C},lr.prototype.setOptions=function(C){this.options=C||{},this._initialize()},lr.prototype.getPoints=function(){if(this.greatCirclePoints.length===0)for(var C=0;C<this.points.length-1;C++)this._calcGreatCirclePoints(this.points[C],this.points[C+1]);return this.greatCirclePoints},lr.prototype._normalizaCoord=function(C){if(!C)return null;C instanceof Array&&(C={lng:Number(C[0]),lat:Number(C[1])});var o=Ni.convertLL2MC(C);return C=Ni.convertMC2LL(C),o.latLng=C,o},lr.prototype._calcGreatCirclePoints=function(C,o){var h=C.latLng,u=o.latLng;if(!gn(h.lng,u.lng)||!gn(h.lat,u.lat)){var f=Ni.getDistance(st(h.lng),st(h.lat),st(u.lng),st(u.lat));if(!(25e4>f)){f=Math.round(f/15e4);var p=this._calcAngularDistance(h,u);this.greatCirclePoints.push([C.lng,C.lat]);for(var S=0;S<f;S++){var x=this._calcMiddlePoint(h,u,S/f,p);x=Ni.convertLL2MC(x);var T=Pe(x,C);30037726<T&&(x.lng=x.lng<C.lng?x.lng+this.WORLD_SIZE_MC:x.lng-this.WORLD_SIZE_MC),this.greatCirclePoints.push([x.lng,x.lat]),C=x}T=Pe(o,C),30037726<T&&(o.lng=o.lng<C.lng?o.lng+this.WORLD_SIZE_MC:o.lng-this.WORLD_SIZE_MC),this.greatCirclePoints.push([o.lng,o.lat])}}},lr.prototype._calcAngularDistance=function(C,o){var h=st(C.lat),u=st(o.lat);return C=st(C.lng),o=st(o.lng),Math.acos(Math.sin(h)*Math.sin(u)+Math.cos(h)*Math.cos(u)*Math.cos(Math.abs(o-C)))},lr.prototype._calcMiddlePoint=function(C,o,h,u){var f=o.lat,p=C.lng;o=o.lng,C=st(C.lat),f=st(f),p=st(p);var S=st(o);return o=Math.sin((1-h)*u)/Math.sin(u),u=Math.sin(h*u)/Math.sin(u),h=o*Math.cos(C)*Math.cos(p)+u*Math.cos(f)*Math.cos(S),p=o*Math.cos(C)*Math.sin(p)+u*Math.cos(f)*Math.sin(S),C=Math.atan2(o*Math.sin(C)+u*Math.sin(f),Math.sqrt(Math.pow(h,2)+Math.pow(p,2))),new Tt(zr(Math.atan2(p,h)),zr(C))};var Qv=function(){function C(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};On(this,C),this.options=o,this._initialize()}return Qn(C,[{key:"_initialize",value:function(){this.points=this.options.points}},{key:"_normalizaCoord",value:function(h){return h?(h instanceof Array&&(h={lng:Number(h[0]),lat:Number(h[1])}),Ni.convertLL2MC(h)):null}},{key:"setOptions",value:function(){this.options=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},this._initialize()}},{key:"getPoints",value:function(h){for(var u=[],f=this.points,p=0;p<f.length-1;p++){var S=this.getCurveByTwoPoints(this._normalizaCoord(f[p]),this._normalizaCoord(f[p+1]),h);S&&0<S.length&&(u=u.concat(S))}return u}},{key:"getCurveByTwoPoints",value:function(h,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:20;if(!h||!u)return null;var p=[],S=0;if((typeof u=="undefined"?"undefined":Ol(u))===void 0)typeof p=="undefined"||Ol(p);else{var x=parseFloat(h.lat),T=parseFloat(u.lat),z=parseFloat(h.lng),G=parseFloat(u.lng);G>z&&180<parseFloat(G-z)&&0>z&&(z=parseFloat(360+z),G=parseFloat(360+G));var P=0;if(T===x)var D=0,U=z-G;else G===z?(D=Math.PI/2,U=x-T):(D=Math.atan((T-x)/(G-z)),U=(T-x)/Math.sin(D));for(P===0&&(P=D+Math.PI/5),U/=2,D=U*Math.cos(P)+z,P=U*Math.sin(P)+x,U=0;U<f+1;U++){var V=z*(1-2*S+S*S)+D*(2*S-2*S*S)+G*S*S,J=u.lng;p.push([0>h.lng&&0<J?V-360:V,x*(1-2*S+S*S)+P*(2*S-2*S*S)+T*S*S]),S+=1/f}return p}}}]),C}(),im=[{n:"\u5317\u4EAC",g:"116.395645,39.929986|12"},{n:"\u4E0A\u6D77",g:"121.487899,31.249162|12"},{n:"\u5929\u6D25",g:"117.210813,39.14393|12"},{n:"\u91CD\u5E86",g:"106.530635,29.544606|12"}],ad=[{n:"\u5B89\u5FBD",g:"117.216005,31.859252|8",cities:[{n:"\u5408\u80A5",g:"117.282699,31.866942|12"},{n:"\u5B89\u5E86",g:"117.058739,30.537898|13"},{n:"\u868C\u57E0",g:"117.35708,32.929499|13"},{n:"\u4EB3\u5DDE",g:"115.787928,33.871211|13"},{n:"\u5DE2\u6E56",g:"117.88049,31.608733|13"},{n:"\u6C60\u5DDE",g:"117.494477,30.660019|14"},{n:"\u6EC1\u5DDE",g:"118.32457,32.317351|13"},{n:"\u961C\u9633",g:"115.820932,32.901211|13"},{n:"\u6DEE\u5317",g:"116.791447,33.960023|13"},{n:"\u6DEE\u5357",g:"117.018639,32.642812|13"},{n:"\u9EC4\u5C71",g:"118.29357,29.734435|13"},{n:"\u516D\u5B89",g:"116.505253,31.755558|13"},{n:"\u9A6C\u978D\u5C71",g:"118.515882,31.688528|13"},{n:"\u5BBF\u5DDE",g:"116.988692,33.636772|13"},{n:"\u94DC\u9675",g:"117.819429,30.94093|14"},{n:"\u829C\u6E56",g:"118.384108,31.36602|12"},{n:"\u5BA3\u57CE",g:"118.752096,30.951642|13"}]},{n:"\u798F\u5EFA",g:"117.984943,26.050118|8",cities:[{n:"\u798F\u5DDE",g:"119.330221,26.047125|12"},{n:"\u9F99\u5CA9",g:"117.017997,25.078685|13"},{n:"\u5357\u5E73",g:"118.181883,26.643626|13"},{n:"\u5B81\u5FB7",g:"119.542082,26.656527|14"},{n:"\u8386\u7530",g:"119.077731,25.44845|13"},{n:"\u6CC9\u5DDE",g:"118.600362,24.901652|12"},{n:"\u4E09\u660E",g:"117.642194,26.270835|14"},{n:"\u53A6\u95E8",g:"118.103886,24.489231|12"},{n:"\u6F33\u5DDE",g:"117.676205,24.517065|12"}]},{n:"\u7518\u8083",g:"102.457625,38.103267|6",cities:[{n:"\u5170\u5DDE",g:"103.823305,36.064226|12"},{n:"\u767D\u94F6",g:"104.171241,36.546682|13"},{n:"\u5B9A\u897F",g:"104.626638,35.586056|13"},{n:"\u7518\u5357\u5DDE",g:"102.917442,34.992211|14"},{n:"\u5609\u5CEA\u5173",g:"98.281635,39.802397|13"},{n:"\u91D1\u660C",g:"102.208126,38.516072|13"},{n:"\u9152\u6CC9",g:"98.508415,39.741474|13"},{n:"\u4E34\u590F\u5DDE",g:"103.215249,35.598514|13"},{n:"\u9647\u5357",g:"104.934573,33.39448|14"},{n:"\u5E73\u51C9",g:"106.688911,35.55011|13"},{n:"\u5E86\u9633",g:"107.644227,35.726801|13"},{n:"\u5929\u6C34",g:"105.736932,34.584319|13"},{n:"\u6B66\u5A01",g:"102.640147,37.933172|13"},{n:"\u5F20\u6396",g:"100.459892,38.93932|13"}]},{n:"\u5E7F\u4E1C",g:"113.394818,23.408004|8",cities:[{n:"\u5E7F\u5DDE",g:"113.30765,23.120049|12"},{n:"\u6F6E\u5DDE",g:"116.630076,23.661812|13"},{n:"\u4E1C\u839E",g:"113.763434,23.043024|12"},{n:"\u4F5B\u5C71",g:"113.134026,23.035095|13"},{n:"\u6CB3\u6E90",g:"114.713721,23.757251|12"},{n:"\u60E0\u5DDE",g:"114.410658,23.11354|12"},{n:"\u6C5F\u95E8",g:"113.078125,22.575117|13"},{n:"\u63ED\u9633",g:"116.379501,23.547999|13"},{n:"\u8302\u540D",g:"110.931245,21.668226|13"},{n:"\u6885\u5DDE",g:"116.126403,24.304571|13"},{n:"\u6E05\u8FDC",g:"113.040773,23.698469|13"},{n:"\u6C55\u5934",g:"116.72865,23.383908|13"},{n:"\u6C55\u5C3E",g:"115.372924,22.778731|14"},{n:"\u97F6\u5173",g:"113.594461,24.80296|13"},{n:"\u6DF1\u5733",g:"114.025974,22.546054|12"},{n:"\u9633\u6C5F",g:"111.97701,21.871517|14"},{n:"\u4E91\u6D6E",g:"112.050946,22.937976|13"},{n:"\u6E5B\u6C5F",g:"110.365067,21.257463|13"},{n:"\u8087\u5E86",g:"112.479653,23.078663|13"},{n:"\u4E2D\u5C71",g:"113.42206,22.545178|12"},{n:"\u73E0\u6D77",g:"113.562447,22.256915|13"}]},{n:"\u5E7F\u897F",g:"108.924274,23.552255|7",cities:[{n:"\u5357\u5B81",g:"108.297234,22.806493|12"},{n:"\u767E\u8272",g:"106.631821,23.901512|13"},{n:"\u5317\u6D77",g:"109.122628,21.472718|13"},{n:"\u5D07\u5DE6",g:"107.357322,22.415455|14"},{n:"\u9632\u57CE\u6E2F",g:"108.351791,21.617398|15"},{n:"\u6842\u6797",g:"110.26092,25.262901|12"},{n:"\u8D35\u6E2F",g:"109.613708,23.103373|13"},{n:"\u6CB3\u6C60",g:"108.069948,24.699521|14"},{n:"\u8D3A\u5DDE",g:"111.552594,24.411054|14"},{n:"\u6765\u5BBE",g:"109.231817,23.741166|14"},{n:"\u67F3\u5DDE",g:"109.422402,24.329053|12"},{n:"\u94A6\u5DDE",g:"108.638798,21.97335|13"},{n:"\u68A7\u5DDE",g:"111.305472,23.485395|13"},{n:"\u7389\u6797",g:"110.151676,22.643974|14"}]},{n:"\u8D35\u5DDE",g:"106.734996,26.902826|8",cities:[{n:"\u8D35\u9633",g:"106.709177,26.629907|12"},{n:"\u5B89\u987A",g:"105.92827,26.228595|13"},{n:"\u6BD5\u8282\u5730\u533A",g:"105.300492,27.302612|14"},{n:"\u516D\u76D8\u6C34",g:"104.852087,26.591866|13"},{n:"\u94DC\u4EC1\u5730\u533A",g:"109.196161,27.726271|14"},{n:"\u9075\u4E49",g:"106.93126,27.699961|13"},{n:"\u9ED4\u897F\u5357\u5DDE",g:"104.900558,25.095148|11"},{n:"\u9ED4\u4E1C\u5357\u5DDE",g:"107.985353,26.583992|11"},{n:"\u9ED4\u5357\u5DDE",g:"107.523205,26.264536|11"}]},{n:"\u6D77\u5357",g:"109.733755,19.180501|9",cities:[{n:"\u6D77\u53E3",g:"110.330802,20.022071|13"},{n:"\u767D\u6C99",g:"109.358586,19.216056|12"},{n:"\u4FDD\u4EAD",g:"109.656113,18.597592|12"},{n:"\u660C\u6C5F",g:"109.0113,19.222483|12"},{n:"\u510B\u5DDE",g:"109.413973,19.571153|13"},{n:"\u6F84\u8FC8",g:"109.996736,19.693135|13"},{n:"\u4E1C\u65B9",g:"108.85101,18.998161|13"},{n:"\u5B9A\u5B89",g:"110.32009,19.490991|13"},{n:"\u743C\u6D77",g:"110.414359,19.21483|13"},{n:"\u743C\u4E2D",g:"109.861849,19.039771|12"},{n:"\u4E50\u4E1C",g:"109.062698,18.658614|12"},{n:"\u4E34\u9AD8",g:"109.724101,19.805922|13"},{n:"\u9675\u6C34",g:"109.948661,18.575985|12"},{n:"\u4E09\u4E9A",g:"109.522771,18.257776|12"},{n:"\u5C6F\u660C",g:"110.063364,19.347749|13"},{n:"\u4E07\u5B81",g:"110.292505,18.839886|13"},{n:"\u6587\u660C",g:"110.780909,19.750947|13"},{n:"\u4E94\u6307\u5C71",g:"109.51775,18.831306|13"}]},{n:"\u6CB3\u5317",g:"115.661434,38.61384|7",cities:[{n:"\u77F3\u5BB6\u5E84",g:"114.522082,38.048958|12"},{n:"\u4FDD\u5B9A",g:"115.49481,38.886565|13"},{n:"\u6CA7\u5DDE",g:"116.863806,38.297615|13"},{n:"\u627F\u5FB7",g:"117.933822,40.992521|14"},{n:"\u90AF\u90F8",g:"114.482694,36.609308|13"},{n:"\u8861\u6C34",g:"115.686229,37.746929|13"},{n:"\u5ECA\u574A",g:"116.703602,39.518611|13"},{n:"\u79E6\u7687\u5C9B",g:"119.604368,39.945462|12"},{n:"\u5510\u5C71",g:"118.183451,39.650531|13"},{n:"\u90A2\u53F0",g:"114.520487,37.069531|13"},{n:"\u5F20\u5BB6\u53E3",g:"114.893782,40.811188|13"}]},{n:"\u6CB3\u5357",g:"113.486804,34.157184|7",cities:[{n:"\u90D1\u5DDE",g:"113.649644,34.75661|12"},{n:"\u5B89\u9633",g:"114.351807,36.110267|12"},{n:"\u9E64\u58C1",g:"114.29777,35.755426|13"},{n:"\u7126\u4F5C",g:"113.211836,35.234608|13"},{n:"\u5F00\u5C01",g:"114.351642,34.801854|13"},{n:"\u6D1B\u9633",g:"112.447525,34.657368|12"},{n:"\u6F2F\u6CB3",g:"114.046061,33.576279|13"},{n:"\u5357\u9633",g:"112.542842,33.01142|13"},{n:"\u5E73\u9876\u5C71",g:"113.300849,33.745301|13"},{n:"\u6FEE\u9633",g:"115.026627,35.753298|12"},{n:"\u4E09\u95E8\u5CE1",g:"111.181262,34.78332|13"},{n:"\u5546\u4E18",g:"115.641886,34.438589|13"},{n:"\u65B0\u4E61",g:"113.91269,35.307258|13"},{n:"\u4FE1\u9633",g:"114.085491,32.128582|13"},{n:"\u8BB8\u660C",g:"113.835312,34.02674|13"},{n:"\u5468\u53E3",g:"114.654102,33.623741|13"},{n:"\u9A7B\u9A6C\u5E97",g:"114.049154,32.983158|13"}]},{n:"\u9ED1\u9F99\u6C5F",g:"128.047414,47.356592|6",cities:[{n:"\u54C8\u5C14\u6EE8",g:"126.657717,45.773225|12"},{n:"\u5927\u5E86",g:"125.02184,46.596709|12"},{n:"\u5927\u5174\u5B89\u5CAD\u5730\u533A",g:"124.196104,51.991789|10"},{n:"\u9E64\u5C97",g:"130.292472,47.338666|13"},{n:"\u9ED1\u6CB3",g:"127.50083,50.25069|14"},{n:"\u9E21\u897F",g:"130.941767,45.32154|13"},{n:"\u4F73\u6728\u65AF",g:"130.284735,46.81378|12"},{n:"\u7261\u4E39\u6C5F",g:"129.608035,44.588521|13"},{n:"\u4E03\u53F0\u6CB3",g:"131.019048,45.775005|14"},{n:"\u9F50\u9F50\u54C8\u5C14",g:"123.987289,47.3477|13"},{n:"\u53CC\u9E2D\u5C71",g:"131.171402,46.655102|13"},{n:"\u7EE5\u5316",g:"126.989095,46.646064|13"},{n:"\u4F0A\u6625",g:"128.910766,47.734685|14"}]},{n:"\u6E56\u5317",g:"112.410562,31.209316|8",cities:[{n:"\u6B66\u6C49",g:"114.3162,30.581084|12"},{n:"\u9102\u5DDE",g:"114.895594,30.384439|14"},{n:"\u6069\u65BD",g:"109.517433,30.308978|14"},{n:"\u9EC4\u5188",g:"114.906618,30.446109|14"},{n:"\u9EC4\u77F3",g:"115.050683,30.216127|13"},{n:"\u8346\u95E8",g:"112.21733,31.042611|13"},{n:"\u8346\u5DDE",g:"112.241866,30.332591|12"},{n:"\u6F5C\u6C5F",g:"112.768768,30.343116|13"},{n:"\u795E\u519C\u67B6\u6797\u533A",g:"110.487231,31.595768|13"},{n:"\u5341\u5830",g:"110.801229,32.636994|13"},{n:"\u968F\u5DDE",g:"113.379358,31.717858|13"},{n:"\u5929\u95E8",g:"113.12623,30.649047|13"},{n:"\u4ED9\u6843",g:"113.387448,30.293966|13"},{n:"\u54B8\u5B81",g:"114.300061,29.880657|13"},{n:"\u8944\u9633",g:"112.176326,32.094934|12"},{n:"\u5B5D\u611F",g:"113.935734,30.927955|13"},{n:"\u5B9C\u660C",g:"111.310981,30.732758|13"}]},{n:"\u6E56\u5357",g:"111.720664,27.695864|7",cities:[{n:"\u957F\u6C99",g:"112.979353,28.213478|12"},{n:"\u5E38\u5FB7",g:"111.653718,29.012149|12"},{n:"\u90F4\u5DDE",g:"113.037704,25.782264|13"},{n:"\u8861\u9633",g:"112.583819,26.898164|13"},{n:"\u6000\u5316",g:"109.986959,27.557483|13"},{n:"\u5A04\u5E95",g:"111.996396,27.741073|13"},{n:"\u90B5\u9633",g:"111.461525,27.236811|13"},{n:"\u6E58\u6F6D",g:"112.935556,27.835095|13"},{n:"\u6E58\u897F\u5DDE",g:"109.745746,28.317951|14"},{n:"\u76CA\u9633",g:"112.366547,28.588088|13"},{n:"\u6C38\u5DDE",g:"111.614648,26.435972|13"},{n:"\u5CB3\u9633",g:"113.146196,29.378007|13"},{n:"\u5F20\u5BB6\u754C",g:"110.48162,29.124889|13"},{n:"\u682A\u6D32",g:"113.131695,27.827433|13"}]},{n:"\u6C5F\u82CF",g:"119.368489,33.013797|8",cities:[{n:"\u5357\u4EAC",g:"118.778074,32.057236|12"},{n:"\u5E38\u5DDE",g:"119.981861,31.771397|12"},{n:"\u6DEE\u5B89",g:"119.030186,33.606513|12"},{n:"\u8FDE\u4E91\u6E2F",g:"119.173872,34.601549|12"},{n:"\u5357\u901A",g:"120.873801,32.014665|12"},{n:"\u82CF\u5DDE",g:"120.619907,31.317987|12"},{n:"\u5BBF\u8FC1",g:"118.296893,33.95205|13"},{n:"\u6CF0\u5DDE",g:"119.919606,32.476053|13"},{n:"\u65E0\u9521",g:"120.305456,31.570037|12"},{n:"\u5F90\u5DDE",g:"117.188107,34.271553|12"},{n:"\u76D0\u57CE",g:"120.148872,33.379862|12"},{n:"\u626C\u5DDE",g:"119.427778,32.408505|13"},{n:"\u9547\u6C5F",g:"119.455835,32.204409|13"}]},{n:"\u6C5F\u897F",g:"115.676082,27.757258|7",cities:[{n:"\u5357\u660C",g:"115.893528,28.689578|12"},{n:"\u629A\u5DDE",g:"116.360919,27.954545|13"},{n:"\u8D63\u5DDE",g:"114.935909,25.845296|13"},{n:"\u5409\u5B89",g:"114.992039,27.113848|13"},{n:"\u666F\u5FB7\u9547",g:"117.186523,29.303563|12"},{n:"\u4E5D\u6C5F",g:"115.999848,29.71964|13"},{n:"\u840D\u4E61",g:"113.859917,27.639544|13"},{n:"\u4E0A\u9976",g:"117.955464,28.457623|13"},{n:"\u65B0\u4F59",g:"114.947117,27.822322|13"},{n:"\u5B9C\u6625",g:"114.400039,27.81113|13"},{n:"\u9E70\u6F6D",g:"117.03545,28.24131|13"}]},{n:"\u5409\u6797",g:"126.262876,43.678846|7",cities:[{n:"\u957F\u6625",g:"125.313642,43.898338|12"},{n:"\u767D\u57CE",g:"122.840777,45.621086|13"},{n:"\u767D\u5C71",g:"126.435798,41.945859|13"},{n:"\u5409\u6797",g:"126.564544,43.871988|12"},{n:"\u8FBD\u6E90",g:"125.133686,42.923303|13"},{n:"\u56DB\u5E73",g:"124.391382,43.175525|12"},{n:"\u677E\u539F",g:"124.832995,45.136049|13"},{n:"\u901A\u5316",g:"125.94265,41.736397|13"},{n:"\u5EF6\u8FB9",g:"129.485902,42.896414|13"}]},{n:"\u8FBD\u5B81",g:"122.753592,41.6216|8",cities:[{n:"\u6C88\u9633",g:"123.432791,41.808645|12"},{n:"\u978D\u5C71",g:"123.007763,41.118744|13"},{n:"\u672C\u6EAA",g:"123.778062,41.325838|12"},{n:"\u671D\u9633",g:"120.446163,41.571828|13"},{n:"\u5927\u8FDE",g:"121.593478,38.94871|12"},{n:"\u4E39\u4E1C",g:"124.338543,40.129023|12"},{n:"\u629A\u987A",g:"123.92982,41.877304|12"},{n:"\u961C\u65B0",g:"121.660822,42.01925|14"},{n:"\u846B\u82A6\u5C9B",g:"120.860758,40.74303|13"},{n:"\u9526\u5DDE",g:"121.147749,41.130879|13"},{n:"\u8FBD\u9633",g:"123.172451,41.273339|14"},{n:"\u76D8\u9526",g:"122.073228,41.141248|13"},{n:"\u94C1\u5CAD",g:"123.85485,42.299757|13"},{n:"\u8425\u53E3",g:"122.233391,40.668651|13"}]},{n:"\u5185\u8499\u53E4",g:"114.415868,43.468238|5",cities:[{n:"\u547C\u548C\u6D69\u7279",g:"111.660351,40.828319|12"},{n:"\u963F\u62C9\u5584\u76DF",g:"105.695683,38.843075|14"},{n:"\u5305\u5934",g:"109.846239,40.647119|12"},{n:"\u5DF4\u5F66\u6DD6\u5C14",g:"107.423807,40.76918|12"},{n:"\u8D64\u5CF0",g:"118.930761,42.297112|12"},{n:"\u9102\u5C14\u591A\u65AF",g:"109.993706,39.81649|12"},{n:"\u547C\u4F26\u8D1D\u5C14",g:"119.760822,49.201636|12"},{n:"\u901A\u8FBD",g:"122.260363,43.633756|12"},{n:"\u4E4C\u6D77",g:"106.831999,39.683177|13"},{n:"\u4E4C\u5170\u5BDF\u5E03",g:"113.112846,41.022363|12"},{n:"\u9521\u6797\u90ED\u52D2\u76DF",g:"116.02734,43.939705|11"},{n:"\u5174\u5B89\u76DF",g:"122.048167,46.083757|11"}]},{n:"\u5B81\u590F",g:"106.155481,37.321323|8",cities:[{n:"\u94F6\u5DDD",g:"106.206479,38.502621|12"},{n:"\u56FA\u539F",g:"106.285268,36.021523|13"},{n:"\u77F3\u5634\u5C71",g:"106.379337,39.020223|13"},{n:"\u5434\u5FE0",g:"106.208254,37.993561|14"},{n:"\u4E2D\u536B",g:"105.196754,37.521124|14"}]},{n:"\u9752\u6D77",g:"96.202544,35.499761|7",cities:[{n:"\u897F\u5B81",g:"101.767921,36.640739|12"},{n:"\u679C\u6D1B\u5DDE",g:"100.223723,34.480485|11"},{n:"\u6D77\u4E1C\u5730\u533A",g:"102.085207,36.51761|11"},{n:"\u6D77\u5317\u5DDE",g:"100.879802,36.960654|11"},{n:"\u6D77\u5357\u5DDE",g:"100.624066,36.284364|11"},{n:"\u6D77\u897F\u5DDE",g:"97.342625,37.373799|11"},{n:"\u9EC4\u5357\u5DDE",g:"102.0076,35.522852|11"},{n:"\u7389\u6811\u5DDE",g:"97.013316,33.00624|14"}]},{n:"\u5C71\u4E1C",g:"118.527663,36.09929|8",cities:[{n:"\u6D4E\u5357",g:"117.024967,36.682785|12"},{n:"\u6EE8\u5DDE",g:"117.968292,37.405314|12"},{n:"\u4E1C\u8425",g:"118.583926,37.487121|12"},{n:"\u5FB7\u5DDE",g:"116.328161,37.460826|12"},{n:"\u83CF\u6CFD",g:"115.46336,35.26244|13"},{n:"\u6D4E\u5B81",g:"116.600798,35.402122|13"},{n:"\u83B1\u829C",g:"117.684667,36.233654|13"},{n:"\u804A\u57CE",g:"115.986869,36.455829|12"},{n:"\u4E34\u6C82",g:"118.340768,35.072409|12"},{n:"\u9752\u5C9B",g:"120.384428,36.105215|12"},{n:"\u65E5\u7167",g:"119.50718,35.420225|12"},{n:"\u6CF0\u5B89",g:"117.089415,36.188078|13"},{n:"\u5A01\u6D77",g:"122.093958,37.528787|13"},{n:"\u6F4D\u574A",g:"119.142634,36.716115|12"},{n:"\u70DF\u53F0",g:"121.309555,37.536562|12"},{n:"\u67A3\u5E84",g:"117.279305,34.807883|13"},{n:"\u6DC4\u535A",g:"118.059134,36.804685|12"}]},{n:"\u5C71\u897F",g:"112.515496,37.866566|7",cities:[{n:"\u592A\u539F",g:"112.550864,37.890277|12"},{n:"\u957F\u6CBB",g:"113.120292,36.201664|12"},{n:"\u5927\u540C",g:"113.290509,40.113744|12"},{n:"\u664B\u57CE",g:"112.867333,35.499834|13"},{n:"\u664B\u4E2D",g:"112.738514,37.693362|13"},{n:"\u4E34\u6C7E",g:"111.538788,36.099745|13"},{n:"\u5415\u6881",g:"111.143157,37.527316|14"},{n:"\u6714\u5DDE",g:"112.479928,39.337672|13"},{n:"\u5FFB\u5DDE",g:"112.727939,38.461031|12"},{n:"\u9633\u6CC9",g:"113.569238,37.869529|13"},{n:"\u8FD0\u57CE",g:"111.006854,35.038859|13"}]},{n:"\u9655\u897F",g:"109.503789,35.860026|7",cities:[{n:"\u897F\u5B89",g:"108.953098,34.2778|12"},{n:"\u5B89\u5EB7",g:"109.038045,32.70437|13"},{n:"\u5B9D\u9E21",g:"107.170645,34.364081|12"},{n:"\u6C49\u4E2D",g:"107.045478,33.081569|13"},{n:"\u5546\u6D1B",g:"109.934208,33.873907|13"},{n:"\u94DC\u5DDD",g:"108.968067,34.908368|13"},{n:"\u6E2D\u5357",g:"109.483933,34.502358|13"},{n:"\u54B8\u9633",g:"108.707509,34.345373|13"},{n:"\u5EF6\u5B89",g:"109.50051,36.60332|13"},{n:"\u6986\u6797",g:"109.745926,38.279439|12"}]},{n:"\u56DB\u5DDD",g:"102.89916,30.367481|7",cities:[{n:"\u6210\u90FD",g:"104.067923,30.679943|12"},{n:"\u963F\u575D\u5DDE",g:"102.228565,31.905763|15"},{n:"\u5DF4\u4E2D",g:"106.757916,31.869189|14"},{n:"\u8FBE\u5DDE",g:"107.494973,31.214199|14"},{n:"\u5FB7\u9633",g:"104.402398,31.13114|13"},{n:"\u7518\u5B5C\u5DDE",g:"101.969232,30.055144|15"},{n:"\u5E7F\u5B89",g:"106.63572,30.463984|13"},{n:"\u5E7F\u5143",g:"105.819687,32.44104|13"},{n:"\u4E50\u5C71",g:"103.760824,29.600958|13"},{n:"\u51C9\u5C71\u5DDE",g:"102.259591,27.892393|14"},{n:"\u6CF8\u5DDE",g:"105.44397,28.89593|14"},{n:"\u5357\u5145",g:"106.105554,30.800965|13"},{n:"\u7709\u5C71",g:"103.84143,30.061115|13"},{n:"\u7EF5\u9633",g:"104.705519,31.504701|12"},{n:"\u5185\u6C5F",g:"105.073056,29.599462|13"},{n:"\u6500\u679D\u82B1",g:"101.722423,26.587571|14"},{n:"\u9042\u5B81",g:"105.564888,30.557491|12"},{n:"\u96C5\u5B89",g:"103.009356,29.999716|13"},{n:"\u5B9C\u5BBE",g:"104.633019,28.769675|13"},{n:"\u8D44\u9633",g:"104.63593,30.132191|13"},{n:"\u81EA\u8D21",g:"104.776071,29.359157|13"}]},{n:"\u897F\u85CF",g:"89.137982,31.367315|6",cities:[{n:"\u62C9\u8428",g:"91.111891,29.662557|13"},{n:"\u963F\u91CC\u5730\u533A",g:"81.107669,30.404557|11"},{n:"\u660C\u90FD\u5730\u533A",g:"97.185582,31.140576|15"},{n:"\u6797\u829D\u5730\u533A",g:"94.349985,29.666941|11"},{n:"\u90A3\u66F2\u5730\u533A",g:"92.067018,31.48068|14"},{n:"\u65E5\u5580\u5219\u5730\u533A",g:"88.891486,29.269023|14"},{n:"\u5C71\u5357\u5730\u533A",g:"91.750644,29.229027|11"}]},{n:"\u65B0\u7586",g:"85.614899,42.127001|6",cities:[{n:"\u4E4C\u9C81\u6728\u9F50",g:"87.564988,43.84038|12"},{n:"\u963F\u62C9\u5C14",g:"81.291737,40.61568|13"},{n:"\u963F\u514B\u82CF\u5730\u533A",g:"80.269846,41.171731|12"},{n:"\u963F\u52D2\u6CF0\u5730\u533A",g:"88.137915,47.839744|13"},{n:"\u5DF4\u97F3\u90ED\u695E",g:"86.121688,41.771362|12"},{n:"\u535A\u5C14\u5854\u62C9\u5DDE",g:"82.052436,44.913651|11"},{n:"\u660C\u5409\u5DDE",g:"87.296038,44.007058|13"},{n:"\u54C8\u5BC6\u5730\u533A",g:"93.528355,42.858596|13"},{n:"\u548C\u7530\u5730\u533A",g:"79.930239,37.116774|13"},{n:"\u5580\u4EC0\u5730\u533A",g:"75.992973,39.470627|12"},{n:"\u514B\u62C9\u739B\u4F9D",g:"84.88118,45.594331|13"},{n:"\u514B\u5B5C\u52D2\u82CF\u5DDE",g:"76.137564,39.750346|11"},{n:"\u77F3\u6CB3\u5B50",g:"86.041865,44.308259|13"},{n:"\u5854\u57CE\u5730\u533A",g:"82.974881,46.758684|12"},{n:"\u56FE\u6728\u8212\u514B",g:"79.198155,39.889223|13"},{n:"\u5410\u9C81\u756A\u5730\u533A",g:"89.181595,42.96047|13"},{n:"\u4E94\u5BB6\u6E20",g:"87.565449,44.368899|13"},{n:"\u4F0A\u7281\u5DDE",g:"81.297854,43.922248|11"}]},{n:"\u4E91\u5357",g:"101.592952,24.864213|7",cities:[{n:"\u6606\u660E",g:"102.714601,25.049153|12"},{n:"\u4FDD\u5C71",g:"99.177996,25.120489|13"},{n:"\u695A\u96C4\u5DDE",g:"101.529382,25.066356|13"},{n:"\u5927\u7406\u5DDE",g:"100.223675,25.5969|14"},{n:"\u5FB7\u5B8F\u5DDE",g:"98.589434,24.44124|14"},{n:"\u8FEA\u5E86\u5DDE",g:"99.713682,27.831029|14"},{n:"\u7EA2\u6CB3\u5DDE",g:"103.384065,23.367718|11"},{n:"\u4E3D\u6C5F",g:"100.229628,26.875351|13"},{n:"\u4E34\u6CA7",g:"100.092613,23.887806|14"},{n:"\u6012\u6C5F\u5DDE",g:"98.859932,25.860677|14"},{n:"\u666E\u6D31",g:"100.980058,22.788778|14"},{n:"\u66F2\u9756",g:"103.782539,25.520758|12"},{n:"\u662D\u901A",g:"103.725021,27.340633|13"},{n:"\u6587\u5C71",g:"104.089112,23.401781|14"},{n:"\u897F\u53CC\u7248\u7EB3",g:"100.803038,22.009433|13"},{n:"\u7389\u6EAA",g:"102.545068,24.370447|13"}]},{n:"\u6D59\u6C5F",g:"119.957202,29.159494|8",cities:[{n:"\u676D\u5DDE",g:"120.219375,30.259244|12"},{n:"\u6E56\u5DDE",g:"120.137243,30.877925|12"},{n:"\u5609\u5174",g:"120.760428,30.773992|13"},{n:"\u91D1\u534E",g:"119.652576,29.102899|12"},{n:"\u4E3D\u6C34",g:"119.929576,28.4563|13"},{n:"\u5B81\u6CE2",g:"121.579006,29.885259|12"},{n:"\u8862\u5DDE",g:"118.875842,28.95691|12"},{n:"\u7ECD\u5174",g:"120.592467,30.002365|13"},{n:"\u53F0\u5DDE",g:"121.440613,28.668283|13"},{n:"\u6E29\u5DDE",g:"120.690635,28.002838|12"},{n:"\u821F\u5C71",g:"122.169872,30.03601|13"}]}],$v=[{n:"\u9999\u6E2F",g:"114.186124,22.293586|11"},{n:"\u6FB3\u95E8",g:"113.557519,22.204118|13"},{n:"\u53F0\u6E7E",g:"120.961454,23.80406|8"}],om=void 0,pf=function(){if(om!==void 0)return om;var C=navigator.userAgent,o="Android;iPhone;SymbianOS;Windows Phone;iPad;iPod".split(";");om=!1;for(var h=0;h<o.length;h++)if(0<C.indexOf(o[h])){om=!0;break}return om}(),am=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),_g=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Lu=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),e0=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tc=Array(576);pi(tc);var mf=Array(60);pi(mf);var sd=Array(512);pi(sd);var Qd=Array(256);pi(Qd);var Mg=Array(29);pi(Mg);var sm=Array(30);pi(sm);var Ll=void 0,Gy=void 0,Eg=void 0,Fc=function(o,h){o.pending_buf[o.pending++]=h&255,o.pending_buf[o.pending++]=h>>>8&255},rl=function(o,h,u){o.bi_valid>16-u?(o.bi_buf|=h<<o.bi_valid&65535,Fc(o,o.bi_buf),o.bi_buf=h>>16-o.bi_valid,o.bi_valid+=u-16):(o.bi_buf|=h<<o.bi_valid&65535,o.bi_valid+=u)},Bc=function(o,h,u){rl(o,u[2*h],u[2*h+1])},t0=function(o,h){var u=0;do u|=o&1,o>>>=1,u<<=1;while(0<--h);return u>>>1},r0=function(o,h,u){var f=Array(16),p=0,S;for(S=1;15>=S;S++)f[S]=p=p+u[S-1]<<1;for(u=0;u<=h;u++)p=o[2*u+1],p!==0&&(o[2*u]=t0(f[p]++,p))},zc=function(o){var h;for(h=0;286>h;h++)o.dyn_ltree[2*h]=0;for(h=0;30>h;h++)o.dyn_dtree[2*h]=0;for(h=0;19>h;h++)o.bl_tree[2*h]=0;o.dyn_ltree[512]=1,o.opt_len=o.static_len=0,o.last_lit=o.matches=0},$d=function(o){8<o.bi_valid?Fc(o,o.bi_buf):0<o.bi_valid&&(o.pending_buf[o.pending++]=o.bi_buf),o.bi_buf=0,o.bi_valid=0},jc=function(o,h,u,f){var p=2*h,S=2*u;return o[p]<o[S]||o[p]===o[S]&&f[h]<=f[u]},nl=function(o,h,u){for(var f=o.heap[u],p=u<<1;p<=o.heap_len&&(p<o.heap_len&&jc(h,o.heap[p+1],o.heap[p],o.depth)&&p++,!jc(h,f,o.heap[p],o.depth));)o.heap[u]=o.heap[p],u=p,p<<=1;o.heap[u]=f},Wy=function(o,h,u){var f=0;if(o.last_lit!==0)do{var p=o.pending_buf[o.d_buf+2*f]<<8|o.pending_buf[o.d_buf+2*f+1],S=o.pending_buf[o.l_buf+f];if(f++,p===0)Bc(o,S,h);else{var x=Qd[S];Bc(o,x+256+1,h);var T=am[x];T!==0&&(S-=Mg[x],rl(o,S,T)),p--,x=256>p?sd[p]:sd[256+(p>>>7)],Bc(o,x,u),T=_g[x],T!==0&&(p-=sm[x],rl(o,p,T))}}while(f<o.last_lit);Bc(o,256,h)},gf=function(o,h){var u=h.dyn_tree,f=h.stat_desc.static_tree,p=h.stat_desc.has_stree,S=h.stat_desc.elems,x,T=-1;for(o.heap_len=0,o.heap_max=573,x=0;x<S;x++)u[2*x]!==0?(o.heap[++o.heap_len]=T=x,o.depth[x]=0):u[2*x+1]=0;for(;2>o.heap_len;){var z=o.heap[++o.heap_len]=2>T?++T:0;u[2*z]=1,o.depth[z]=0,o.opt_len--,p&&(o.static_len-=f[2*z+1])}for(h.max_code=T,x=o.heap_len>>1;1<=x;x--)nl(o,u,x);z=S;do x=o.heap[1],o.heap[1]=o.heap[o.heap_len--],nl(o,u,1),f=o.heap[1],o.heap[--o.heap_max]=x,o.heap[--o.heap_max]=f,u[2*z]=u[2*x]+u[2*f],o.depth[z]=(o.depth[x]>=o.depth[f]?o.depth[x]:o.depth[f])+1,u[2*x+1]=u[2*f+1]=z,o.heap[1]=z++,nl(o,u,1);while(2<=o.heap_len);o.heap[--o.heap_max]=o.heap[1],x=h.dyn_tree,z=h.max_code,f=h.stat_desc.static_tree,p=h.stat_desc.has_stree,S=h.stat_desc.extra_bits;var G=h.stat_desc.extra_base,P=h.stat_desc.max_length,D,U=0;for(D=0;15>=D;D++)o.bl_count[D]=0;for(x[2*o.heap[o.heap_max]+1]=0,h=o.heap_max+1;573>h;h++){var V=o.heap[h];if(D=x[2*x[2*V+1]+1]+1,D>P&&(D=P,U++),x[2*V+1]=D,!(V>z)){o.bl_count[D]++;var J=0;V>=G&&(J=S[V-G]);var ne=x[2*V];o.opt_len+=ne*(D+J),p&&(o.static_len+=ne*(f[2*V+1]+J))}}if(U!==0){do{for(D=P-1;o.bl_count[D]===0;)D--;o.bl_count[D]--,o.bl_count[D+1]+=2,o.bl_count[P]--,U-=2}while(0<U);for(D=P;D!==0;D--)for(V=o.bl_count[D];V!==0;)f=o.heap[--h],f>z||(x[2*f+1]!==D&&(o.opt_len+=(D-x[2*f+1])*x[2*f],x[2*f+1]=D),V--)}r0(u,T,o.bl_count)},ld=function(o,h,u){var f,p=-1,S=h[1],x=0,T=7,z=4;for(S===0&&(T=138,z=3),h[2*(u+1)+1]=65535,f=0;f<=u;f++){var G=S;S=h[2*(f+1)+1],++x<T&&G===S||(x<z?o.bl_tree[2*G]+=x:G!==0?(G!==p&&o.bl_tree[2*G]++,o.bl_tree[32]++):10>=x?o.bl_tree[34]++:o.bl_tree[36]++,x=0,p=G,S===0?(T=138,z=3):G===S?(T=6,z=3):(T=7,z=4))}},rc=function(o,h,u){var f,p=-1,S=h[1],x=0,T=7,z=4;for(S===0&&(T=138,z=3),f=0;f<=u;f++){var G=S;if(S=h[2*(f+1)+1],!(++x<T&&G===S)){if(x<z)do Bc(o,G,o.bl_tree);while(--x!=0);else G!==0?(G!==p&&(Bc(o,G,o.bl_tree),x--),Bc(o,16,o.bl_tree),rl(o,x-3,2)):10>=x?(Bc(o,17,o.bl_tree),rl(o,x-3,3)):(Bc(o,18,o.bl_tree),rl(o,x-11,7));x=0,p=G,S===0?(T=138,z=3):G===S?(T=6,z=3):(T=7,z=4)}}},vh=function(o){var h=4093624447,u;for(u=0;31>=u;u++,h>>>=1)if(h&1&&o.dyn_ltree[2*u]!==0)return 0;if(o.dyn_ltree[18]!==0||o.dyn_ltree[20]!==0||o.dyn_ltree[26]!==0)return 1;for(u=32;256>u;u++)if(o.dyn_ltree[2*u]!==0)return 1;return 0},Tg=!1,ep=function(o,h,u,f){rl(o,f?1:0,3),$d(o),Fc(o,u),Fc(o,~u),o.pending_buf.set(o.window.subarray(h,h+u),o.pending),o.pending+=u},Uc=function(o,h,u,f){var p=o&65535|0;o=o>>>16&65535|0;for(var S;u!==0;){S=2e3<u?2e3:u,u-=S;do p=p+h[f++]|0,o=o+p|0;while(--S);p%=65521,o%=65521}return p|o<<16|0},Ms=new Uint32Array(function(){for(var C,o=[],h=0;256>h;h++){C=h;for(var u=0;8>u;u++)C=C&1?3988292384^C>>>1:C>>>1;o[h]=C}return o}()),Oa=function(o,h,u,f){for(u=f+u,o^=-1;f<u;f++)o=o>>>8^Ms[(o^h[f])&255];return o^-1},ta={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Xi={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},Es=function(o,h,u){return o.pending_buf[o.d_buf+2*o.last_lit]=h>>>8&255,o.pending_buf[o.d_buf+2*o.last_lit+1]=h&255,o.pending_buf[o.l_buf+o.last_lit]=u&255,o.last_lit++,h===0?o.dyn_ltree[2*u]++:(o.matches++,h--,o.dyn_ltree[2*(Qd[u]+256+1)]++,o.dyn_dtree[2*(256>h?sd[h]:sd[256+(h>>>7)])]++),o.last_lit===o.lit_bufsize-1},Tr=Xi.Z_NO_FLUSH,Ig=Xi.Z_PARTIAL_FLUSH,gs=Xi.Z_FULL_FLUSH,Ql=Xi.Z_FINISH,po=Xi.Z_BLOCK,Fi=Xi.Z_OK,yh=Xi.Z_STREAM_END,za=Xi.Z_STREAM_ERROR,Ra=Xi.Z_DATA_ERROR,yl=Xi.Z_BUF_ERROR,kc=Xi.Z_DEFAULT_COMPRESSION,nc=Xi.Z_FILTERED,ic=Xi.Z_HUFFMAN_ONLY,n0=Xi.Z_RLE,oA=Xi.Z_FIXED,i0=Xi.Z_DEFAULT_STRATEGY,o0=Xi.Z_UNKNOWN,$l=Xi.Z_DEFLATED,Dl=function(o,h){return o.msg=ta[h],h},Xs=function(o){for(var h=o.length;0<=--h;)o[h]=0},xh=function(o,h,u){return(h<<o.hash_shift^u)&o.hash_mask},ko=function(o){var h=o.state,u=h.pending;u>o.avail_out&&(u=o.avail_out),u!==0&&(o.output.set(h.pending_buf.subarray(h.pending_out,h.pending_out+u),o.next_out),o.next_out+=u,h.pending_out+=u,o.total_out+=u,o.avail_out-=u,h.pending-=u,h.pending===0&&(h.pending_out=0))},Ja=function(o,h){var u=0<=o.block_start?o.block_start:-1,f=o.strstart-o.block_start,p=0;if(0<o.level){for(o.strm.data_type===2&&(o.strm.data_type=vh(o)),gf(o,o.l_desc),gf(o,o.d_desc),ld(o,o.dyn_ltree,o.l_desc.max_code),ld(o,o.dyn_dtree,o.d_desc.max_code),gf(o,o.bl_desc),p=18;3<=p&&o.bl_tree[2*e0[p]+1]===0;p--);o.opt_len+=3*(p+1)+14;var S=o.opt_len+3+7>>>3,x=o.static_len+3+7>>>3;x<=S&&(S=x)}else S=x=f+5;if(f+4<=S&&u!==-1)ep(o,u,f,h);else if(o.strategy===4||x===S)rl(o,2+(h?1:0),3),Wy(o,tc,mf);else{for(rl(o,4+(h?1:0),3),u=o.l_desc.max_code+1,f=o.d_desc.max_code+1,p+=1,rl(o,u-257,5),rl(o,f-1,5),rl(o,p-4,4),S=0;S<p;S++)rl(o,o.bl_tree[2*e0[S]+1],3);rc(o,o.dyn_ltree,u-1),rc(o,o.dyn_dtree,f-1),Wy(o,o.dyn_ltree,o.dyn_dtree)}zc(o),h&&$d(o),o.block_start=o.strstart,ko(o.strm)},Kr=function(o,h){o.pending_buf[o.pending++]=h},lm=function(o,h){o.pending_buf[o.pending++]=h>>>8&255,o.pending_buf[o.pending++]=h&255},a0=function(o,h){var u=o.max_chain_length,f=o.strstart,p=o.prev_length,S=o.nice_match,x=o.strstart>o.w_size-262?o.strstart-(o.w_size-262):0,T=o.window,z=o.w_mask,G=o.prev,P=o.strstart+258,D=T[f+p-1],U=T[f+p];o.prev_length>=o.good_match&&(u>>=2),S>o.lookahead&&(S=o.lookahead);do{var V=h;if(T[V+p]===U&&T[V+p-1]===D&&T[V]===T[f]&&T[++V]===T[f+1]){for(f+=2,V++;T[++f]===T[++V]&&T[++f]===T[++V]&&T[++f]===T[++V]&&T[++f]===T[++V]&&T[++f]===T[++V]&&T[++f]===T[++V]&&T[++f]===T[++V]&&T[++f]===T[++V]&&f<P;);if(V=258-(P-f),f=P-258,V>p){if(o.match_start=h,p=V,V>=S)break;D=T[f+p-1],U=T[f+p]}}}while((h=G[h&z])>x&&--u!=0);return p<=o.lookahead?p:o.lookahead},tp=function(o){var h=o.w_size,u;do{var f=o.window_size-o.lookahead-o.strstart;if(o.strstart>=h+(h-262)){o.window.set(o.window.subarray(h,h+h),0),o.match_start-=h,o.strstart-=h,o.block_start-=h;var p=u=o.hash_size;do{var S=o.head[--p];o.head[p]=S>=h?S-h:0}while(--u);p=u=h;do S=o.prev[--p],o.prev[p]=S>=h?S-h:0;while(--u);f+=h}if(o.strm.avail_in===0)break;p=o.strm,u=o.window,S=o.strstart+o.lookahead;var x=p.avail_in;if(x>f&&(x=f),x===0?u=0:(p.avail_in-=x,u.set(p.input.subarray(p.next_in,p.next_in+x),S),p.state.wrap===1?p.adler=Uc(p.adler,u,x,S):p.state.wrap===2&&(p.adler=Oa(p.adler,u,x,S)),p.next_in+=x,p.total_in+=x,u=x),o.lookahead+=u,3<=o.lookahead+o.insert)for(f=o.strstart-o.insert,o.ins_h=o.window[f],o.ins_h=xh(o,o.ins_h,o.window[f+1]);o.insert&&(o.ins_h=xh(o,o.ins_h,o.window[f+3-1]),o.prev[f&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=f,f++,o.insert--,!(3>o.lookahead+o.insert)););}while(262>o.lookahead&&o.strm.avail_in!==0)},um=function(o,h){for(var u;;){if(262>o.lookahead){if(tp(o),262>o.lookahead&&h===Tr)return 1;if(o.lookahead===0)break}if(u=0,3<=o.lookahead&&(o.ins_h=xh(o,o.ins_h,o.window[o.strstart+3-1]),u=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),u!==0&&o.strstart-u<=o.w_size-262&&(o.match_length=a0(o,u)),3<=o.match_length)if(u=Es(o,o.strstart-o.match_start,o.match_length-3),o.lookahead-=o.match_length,o.match_length<=o.max_lazy_match&&3<=o.lookahead){o.match_length--;do o.strstart++,o.ins_h=xh(o,o.ins_h,o.window[o.strstart+3-1]),o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart;while(--o.match_length!=0);o.strstart++}else o.strstart+=o.match_length,o.match_length=0,o.ins_h=o.window[o.strstart],o.ins_h=xh(o,o.ins_h,o.window[o.strstart+1]);else u=Es(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++;if(u&&(Ja(o,!1),o.strm.avail_out===0))return 1}return o.insert=2>o.strstart?o.strstart:2,h===Ql?(Ja(o,!0),o.strm.avail_out===0?3:4):o.last_lit&&(Ja(o,!1),o.strm.avail_out===0)?1:2},ud=function(o,h){for(var u,f;;){if(262>o.lookahead){if(tp(o),262>o.lookahead&&h===Tr)return 1;if(o.lookahead===0)break}if(u=0,3<=o.lookahead&&(o.ins_h=xh(o,o.ins_h,o.window[o.strstart+3-1]),u=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),o.prev_length=o.match_length,o.prev_match=o.match_start,o.match_length=2,u!==0&&o.prev_length<o.max_lazy_match&&o.strstart-u<=o.w_size-262&&(o.match_length=a0(o,u),5>=o.match_length&&(o.strategy===nc||o.match_length===3&&4096<o.strstart-o.match_start)&&(o.match_length=2)),3<=o.prev_length&&o.match_length<=o.prev_length){f=o.strstart+o.lookahead-3,u=Es(o,o.strstart-1-o.prev_match,o.prev_length-3),o.lookahead-=o.prev_length-1,o.prev_length-=2;do++o.strstart<=f&&(o.ins_h=xh(o,o.ins_h,o.window[o.strstart+3-1]),o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart);while(--o.prev_length!=0);if(o.match_available=0,o.match_length=2,o.strstart++,u&&(Ja(o,!1),o.strm.avail_out===0))return 1}else if(o.match_available){if((u=Es(o,0,o.window[o.strstart-1]))&&Ja(o,!1),o.strstart++,o.lookahead--,o.strm.avail_out===0)return 1}else o.match_available=1,o.strstart++,o.lookahead--}return o.match_available&&(Es(o,0,o.window[o.strstart-1]),o.match_available=0),o.insert=2>o.strstart?o.strstart:2,h===Ql?(Ja(o,!0),o.strm.avail_out===0?3:4):o.last_lit&&(Ja(o,!1),o.strm.avail_out===0)?1:2},rp=function(o,h){for(var u,f,p,S=o.window;;){if(258>=o.lookahead){if(tp(o),258>=o.lookahead&&h===Tr)return 1;if(o.lookahead===0)break}if(o.match_length=0,3<=o.lookahead&&0<o.strstart&&(f=o.strstart-1,u=S[f],u===S[++f]&&u===S[++f]&&u===S[++f])){for(p=o.strstart+258;u===S[++f]&&u===S[++f]&&u===S[++f]&&u===S[++f]&&u===S[++f]&&u===S[++f]&&u===S[++f]&&u===S[++f]&&f<p;);o.match_length=258-(p-f),o.match_length>o.lookahead&&(o.match_length=o.lookahead)}if(3<=o.match_length?(u=Es(o,1,o.match_length-3),o.lookahead-=o.match_length,o.strstart+=o.match_length,o.match_length=0):(u=Es(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++),u&&(Ja(o,!1),o.strm.avail_out===0))return 1}return o.insert=0,h===Ql?(Ja(o,!0),o.strm.avail_out===0?3:4):o.last_lit&&(Ja(o,!1),o.strm.avail_out===0)?1:2},vf=function(o,h){for(var u;;){if(o.lookahead===0&&(tp(o),o.lookahead===0)){if(h===Tr)return 1;break}if(o.match_length=0,u=Es(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++,u&&(Ja(o,!1),o.strm.avail_out===0))return 1}return o.insert=0,h===Ql?(Ja(o,!0),o.strm.avail_out===0?3:4):o.last_lit&&(Ja(o,!1),o.strm.avail_out===0)?1:2},il=[new Ai(0,0,0,0,function(C,o){var h=65535;for(h>C.pending_buf_size-5&&(h=C.pending_buf_size-5);;){if(1>=C.lookahead){if(tp(C),C.lookahead===0&&o===Tr)return 1;if(C.lookahead===0)break}C.strstart+=C.lookahead,C.lookahead=0;var u=C.block_start+h;if((C.strstart===0||C.strstart>=u)&&(C.lookahead=C.strstart-u,C.strstart=u,Ja(C,!1),C.strm.avail_out===0)||C.strstart-C.block_start>=C.w_size-262&&(Ja(C,!1),C.strm.avail_out===0))return 1}return C.insert=0,o===Ql?(Ja(C,!0),C.strm.avail_out===0?3:4):(C.strstart>C.block_start&&Ja(C,!1),1)}),new Ai(4,4,8,4,um),new Ai(4,5,16,8,um),new Ai(4,6,32,32,um),new Ai(4,4,16,16,ud),new Ai(8,16,32,32,ud),new Ai(8,16,128,128,ud),new Ai(8,32,128,256,ud),new Ai(32,128,258,1024,ud),new Ai(32,258,258,4096,ud)],dx=function(o){if(!o||!o.state)return Dl(o,za);o.total_in=o.total_out=0,o.data_type=o0;var h=o.state;if(h.pending=0,h.pending_out=0,0>h.wrap&&(h.wrap=-h.wrap),h.status=h.wrap?42:113,o.adler=h.wrap===2?0:1,h.last_flush=Tr,!Tg){var u,f,p;for(o=Array(16),p=f=0;28>p;p++)for(Mg[p]=f,u=0;u<1<<am[p];u++)Qd[f++]=p;for(Qd[f-1]=p,p=f=0;16>p;p++)for(sm[p]=f,u=0;u<1<<_g[p];u++)sd[f++]=p;for(f>>=7;30>p;p++)for(sm[p]=f<<7,u=0;u<1<<_g[p]-7;u++)sd[256+f++]=p;for(u=0;15>=u;u++)o[u]=0;for(u=0;143>=u;)tc[2*u+1]=8,u++,o[8]++;for(;255>=u;)tc[2*u+1]=9,u++,o[9]++;for(;279>=u;)tc[2*u+1]=7,u++,o[7]++;for(;287>=u;)tc[2*u+1]=8,u++,o[8]++;for(r0(tc,287,o),u=0;30>u;u++)mf[2*u+1]=5,mf[2*u]=t0(u,5);Ll=new Do(tc,am,257,286,15),Gy=new Do(mf,_g,0,30,15),Eg=new Do([],Lu,0,19,7),Tg=!0}return h.l_desc=new an(h.dyn_ltree,Ll),h.d_desc=new an(h.dyn_dtree,Gy),h.bl_desc=new an(h.bl_tree,Eg),h.bi_buf=0,h.bi_valid=0,zc(h),Fi},yf=function(o){var h=dx(o);return h===Fi&&(o=o.state,o.window_size=2*o.w_size,Xs(o.head),o.max_lazy_match=il[o.level].max_lazy,o.good_match=il[o.level].good_length,o.nice_match=il[o.level].nice_length,o.max_chain_length=il[o.level].max_chain,o.strstart=0,o.block_start=0,o.lookahead=0,o.insert=0,o.match_length=o.prev_length=2,o.match_available=0,o.ins_h=0),h},Pg=function(o,h,u,f,p,S){if(!o)return za;var x=1;if(h===kc&&(h=6),0>f?(x=0,f=-f):15<f&&(x=2,f-=16),1>p||9<p||u!==$l||8>f||15<f||0>h||9<h||0>S||S>oA)return Dl(o,za);f===8&&(f=9);var T=new Uo;return o.state=T,T.strm=o,T.wrap=x,T.gzhead=null,T.w_bits=f,T.w_size=1<<T.w_bits,T.w_mask=T.w_size-1,T.hash_bits=p+7,T.hash_size=1<<T.hash_bits,T.hash_mask=T.hash_size-1,T.hash_shift=~~((T.hash_bits+3-1)/3),T.window=new Uint8Array(2*T.w_size),T.head=new Uint16Array(T.hash_size),T.prev=new Uint16Array(T.w_size),T.lit_bufsize=1<<p+6,T.pending_buf_size=4*T.lit_bufsize,T.pending_buf=new Uint8Array(T.pending_buf_size),T.d_buf=1*T.lit_bufsize,T.l_buf=3*T.lit_bufsize,T.level=h,T.strategy=S,T.method=u,yf(o)},eu={deflateInit:function(o,h){return Pg(o,h,$l,15,8,i0)},deflateInit2:Pg,deflateReset:yf,deflateResetKeep:dx,deflateSetHeader:function(o,h){return!o||!o.state||o.state.wrap!==2?za:(o.state.gzhead=h,Fi)},deflate:function(o,h){if(!o||!o.state||h>po||0>h)return o?Dl(o,za):za;var u=o.state;if(!o.output||!o.input&&o.avail_in!==0||u.status===666&&h!==Ql)return Dl(o,o.avail_out===0?yl:za);u.strm=o;var f=u.last_flush;if(u.last_flush=h,u.status===42)if(u.wrap===2)o.adler=0,Kr(u,31),Kr(u,139),Kr(u,8),u.gzhead?(Kr(u,(u.gzhead.text?1:0)+(u.gzhead.hcrc?2:0)+(u.gzhead.extra?4:0)+(u.gzhead.name?8:0)+(u.gzhead.comment?16:0)),Kr(u,u.gzhead.time&255),Kr(u,u.gzhead.time>>8&255),Kr(u,u.gzhead.time>>16&255),Kr(u,u.gzhead.time>>24&255),Kr(u,u.level===9?2:u.strategy>=ic||2>u.level?4:0),Kr(u,u.gzhead.os&255),u.gzhead.extra&&u.gzhead.extra.length&&(Kr(u,u.gzhead.extra.length&255),Kr(u,u.gzhead.extra.length>>8&255)),u.gzhead.hcrc&&(o.adler=Oa(o.adler,u.pending_buf,u.pending,0)),u.gzindex=0,u.status=69):(Kr(u,0),Kr(u,0),Kr(u,0),Kr(u,0),Kr(u,0),Kr(u,u.level===9?2:u.strategy>=ic||2>u.level?4:0),Kr(u,3),u.status=113);else{var p=$l+(u.w_bits-8<<4)<<8;p|=(u.strategy>=ic||2>u.level?0:6>u.level?1:u.level===6?2:3)<<6,u.strstart!==0&&(p|=32),u.status=113,lm(u,p+(31-p%31)),u.strstart!==0&&(lm(u,o.adler>>>16),lm(u,o.adler&65535)),o.adler=1}if(u.status===69)if(u.gzhead.extra){for(p=u.pending;u.gzindex<(u.gzhead.extra.length&65535)&&(u.pending!==u.pending_buf_size||(u.gzhead.hcrc&&u.pending>p&&(o.adler=Oa(o.adler,u.pending_buf,u.pending-p,p)),ko(o),p=u.pending,u.pending!==u.pending_buf_size));)Kr(u,u.gzhead.extra[u.gzindex]&255),u.gzindex++;u.gzhead.hcrc&&u.pending>p&&(o.adler=Oa(o.adler,u.pending_buf,u.pending-p,p)),u.gzindex===u.gzhead.extra.length&&(u.gzindex=0,u.status=73)}else u.status=73;if(u.status===73)if(u.gzhead.name){p=u.pending;do{if(u.pending===u.pending_buf_size&&(u.gzhead.hcrc&&u.pending>p&&(o.adler=Oa(o.adler,u.pending_buf,u.pending-p,p)),ko(o),p=u.pending,u.pending===u.pending_buf_size)){var S=1;break}S=u.gzindex<u.gzhead.name.length?u.gzhead.name.charCodeAt(u.gzindex++)&255:0,Kr(u,S)}while(S!==0);u.gzhead.hcrc&&u.pending>p&&(o.adler=Oa(o.adler,u.pending_buf,u.pending-p,p)),S===0&&(u.gzindex=0,u.status=91)}else u.status=91;if(u.status===91)if(u.gzhead.comment){p=u.pending;do{if(u.pending===u.pending_buf_size&&(u.gzhead.hcrc&&u.pending>p&&(o.adler=Oa(o.adler,u.pending_buf,u.pending-p,p)),ko(o),p=u.pending,u.pending===u.pending_buf_size)){S=1;break}S=u.gzindex<u.gzhead.comment.length?u.gzhead.comment.charCodeAt(u.gzindex++)&255:0,Kr(u,S)}while(S!==0);u.gzhead.hcrc&&u.pending>p&&(o.adler=Oa(o.adler,u.pending_buf,u.pending-p,p)),S===0&&(u.status=103)}else u.status=103;if(u.status===103&&(u.gzhead.hcrc?(u.pending+2>u.pending_buf_size&&ko(o),u.pending+2<=u.pending_buf_size&&(Kr(u,o.adler&255),Kr(u,o.adler>>8&255),o.adler=0,u.status=113)):u.status=113),u.pending!==0){if(ko(o),o.avail_out===0)return u.last_flush=-1,Fi}else if(o.avail_in===0&&(h<<1)-(4<h?9:0)<=(f<<1)-(4<f?9:0)&&h!==Ql)return Dl(o,yl);if(u.status===666&&o.avail_in!==0)return Dl(o,yl);if(o.avail_in!==0||u.lookahead!==0||h!==Tr&&u.status!==666){if(f=u.strategy===ic?vf(u,h):u.strategy===n0?rp(u,h):il[u.level].func(u,h),(f===3||f===4)&&(u.status=666),f===1||f===3)return o.avail_out===0&&(u.last_flush=-1),Fi;if(f===2&&(h===Ig?(rl(u,2,3),Bc(u,256,tc),u.bi_valid===16?(Fc(u,u.bi_buf),u.bi_buf=0,u.bi_valid=0):8<=u.bi_valid&&(u.pending_buf[u.pending++]=u.bi_buf&255,u.bi_buf>>=8,u.bi_valid-=8)):h!==po&&(ep(u,0,0,!1),h===gs&&(Xs(u.head),u.lookahead===0&&(u.strstart=0,u.block_start=0,u.insert=0))),ko(o),o.avail_out===0))return u.last_flush=-1,Fi}return h!==Ql?Fi:0>=u.wrap?yh:(u.wrap===2?(Kr(u,o.adler&255),Kr(u,o.adler>>8&255),Kr(u,o.adler>>16&255),Kr(u,o.adler>>24&255),Kr(u,o.total_in&255),Kr(u,o.total_in>>8&255),Kr(u,o.total_in>>16&255),Kr(u,o.total_in>>24&255)):(lm(u,o.adler>>>16),lm(u,o.adler&65535)),ko(o),0<u.wrap&&(u.wrap=-u.wrap),u.pending!==0?Fi:yh)},deflateEnd:function(o){if(!o||!o.state)return za;var h=o.state.status;return h!==42&&h!==69&&h!==73&&h!==91&&h!==103&&h!==113&&h!==666?Dl(o,za):(o.state=null,h===113?Dl(o,Ra):Fi)},deflateSetDictionary:function(o,h){var u=h.length;if(!o||!o.state)return za;var f=o.state,p=f.wrap;if(p===2||p===1&&f.status!==42||f.lookahead)return za;if(p===1&&(o.adler=Uc(o.adler,h,u,0)),f.wrap=0,u>=f.w_size){p===0&&(Xs(f.head),f.strstart=0,f.block_start=0,f.insert=0);var S=new Uint8Array(f.w_size);S.set(h.subarray(u-f.w_size,u),0),h=S,u=f.w_size}S=o.avail_in;var x=o.next_in,T=o.input;for(o.avail_in=u,o.next_in=0,o.input=h,tp(f);3<=f.lookahead;){h=f.strstart,u=f.lookahead-2;do f.ins_h=xh(f,f.ins_h,f.window[h+3-1]),f.prev[h&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=h,h++;while(--u);f.strstart=h,f.lookahead=2,tp(f)}return f.strstart+=f.lookahead,f.block_start=f.strstart,f.insert=f.lookahead,f.lookahead=0,f.match_length=f.prev_length=2,f.match_available=0,o.next_in=x,o.input=T,o.avail_in=S,f.wrap=p,Fi},deflateInfo:"pako deflate (from Nodeca project)"},Og={assign:function(o){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var u=h.shift();if(u){if((typeof u=="undefined"?"undefined":Ol(u))!=="object")throw new TypeError(u+"must be non-object");for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(o[f]=u[f])}}return o},flattenChunks:function(o){for(var h=0,u=0,f=o.length;u<f;u++)h+=o[u].length;h=new Uint8Array(h),f=u=0;for(var p=o.length;u<p;u++){var S=o[u];h.set(S,f),f+=S.length}return h}},cd=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(C){cd=!1}for(var np=new Uint8Array(256),ol=0;256>ol;ol++)np[ol]=252<=ol?6:248<=ol?5:240<=ol?4:224<=ol?3:192<=ol?2:1;np[254]=np[254]=1;var oc={string2buf:function(o){var h,u,f=o.length,p=0;for(h=0;h<f;h++){var S=o.charCodeAt(h);if((S&64512)==55296&&h+1<f){var x=o.charCodeAt(h+1);(x&64512)==56320&&(S=65536+(S-55296<<10)+(x-56320),h++)}p+=128>S?1:2048>S?2:65536>S?3:4}var T=new Uint8Array(p);for(h=u=0;u<p;h++)S=o.charCodeAt(h),(S&64512)==55296&&h+1<f&&(x=o.charCodeAt(h+1),(x&64512)==56320&&(S=65536+(S-55296<<10)+(x-56320),h++)),128>S?T[u++]=S:(2048>S?T[u++]=192|S>>>6:(65536>S?T[u++]=224|S>>>12:(T[u++]=240|S>>>18,T[u++]=128|S>>>12&63),T[u++]=128|S>>>6&63),T[u++]=128|S&63);return T},buf2string:function(o,h){var u,f,p=h||o.length;for(h=Array(2*p),u=f=0;u<p;){var S=o[u++];if(128>S)h[f++]=S;else{var x=np[S];if(4<x)h[f++]=65533,u+=x-1;else{for(S&=x===2?31:x===3?15:7;1<x&&u<p;)S=S<<6|o[u++]&63,x--;1<x?h[f++]=65533:65536>S?h[f++]=S:(S-=65536,h[f++]=55296|S>>10&1023,h[f++]=56320|S&1023)}}}if(o=f,65534>o&&h.subarray&&cd)h=String.fromCharCode.apply(null,h.length===o?h:h.subarray(0,o));else{for(u="",f=0;f<o;f++)u+=String.fromCharCode(h[f]);h=u}return h},utf8border:function(o,h){h=h||o.length,h>o.length&&(h=o.length);for(var u=h-1;0<=u&&(o[u]&192)==128;)u--;return 0>u||u===0?h:u+np[o[u]]>h?u:h}},Yy=function(){this.input=null,this.total_in=this.avail_in=this.next_in=0,this.output=null,this.total_out=this.avail_out=this.next_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},s0=Object.prototype.toString,Mo=Xi.Z_NO_FLUSH,px=Xi.Z_SYNC_FLUSH,l0=Xi.Z_FULL_FLUSH,ip=Xi.Z_FINISH,Rg=Xi.Z_OK,mx=Xi.Z_STREAM_END,u0=Xi.Z_DEFAULT_COMPRESSION,al=Xi.Z_DEFAULT_STRATEGY,gx=Xi.Z_DEFLATED;Ga.prototype.push=function(C,o){var h=this.strm,u=this.options.chunkSize;if(this.ended)return!1;for(o=o===~~o?o:o===!0?ip:Mo,typeof C=="string"?h.input=oc.string2buf(C):s0.call(C)==="[object ArrayBuffer]"?h.input=new Uint8Array(C):h.input=C,h.next_in=0,h.avail_in=h.input.length;;)if(h.avail_out===0&&(h.output=new Uint8Array(u),h.next_out=0,h.avail_out=u),(o===px||o===l0)&&6>=h.avail_out)this.onData(h.output.subarray(0,h.next_out)),h.avail_out=0;else{if(C=eu.deflate(h,o),C===mx)return 0<h.next_out&&this.onData(h.output.subarray(0,h.next_out)),C=eu.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===Rg;if(h.avail_out===0)this.onData(h.output);else if(0<o&&0<h.next_out)this.onData(h.output.subarray(0,h.next_out)),h.avail_out=0;else if(h.avail_in===0)break}return!0},Ga.prototype.onData=function(C){this.chunks.push(C)},Ga.prototype.onEnd=function(C){C===Rg&&(this.result=Og.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg};var cm=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Lg=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),vx=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),hm=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Fs=function(o,h,u,f,p,S,x,T){var z=T.bits,G,P,D,U,V,J,ne=0,re=new Uint16Array(16),Q=new Uint16Array(16),he,Me=0;for(G=0;15>=G;G++)re[G]=0;for(P=0;P<f;P++)re[h[u+P]]++;var De=z;for(D=15;1<=D&&re[D]===0;D--);if(De>D&&(De=D),D===0)return p[S++]=20971520,p[S++]=20971520,T.bits=1,0;for(z=1;z<D&&re[z]===0;z++);for(De<z&&(De=z),G=U=1;15>=G;G++)if(U<<=1,U-=re[G],0>U)return-1;if(0<U&&(o===0||D!==1))return-1;for(Q[1]=0,G=1;15>G;G++)Q[G+1]=Q[G]+re[G];for(P=0;P<f;P++)h[u+P]!==0&&(x[Q[h[u+P]]++]=P);if(o===0)var Ue=he=x,Ve=19;else o===1?(Ue=cm,ne-=257,he=Lg,Me-=257,Ve=256):(Ue=vx,he=hm,Ve=-1);P=V=0,G=z;var ht=S;f=De,Q=0;var Je=-1,Er=1<<De,fr=Er-1;if(o===1&&852<Er||o===2&&592<Er)return 1;for(;;){var Pn=G-Q;if(x[P]<Ve)var yn=0,Qr=x[P];else x[P]>Ve?(yn=he[Me+x[P]],Qr=Ue[ne+x[P]]):(yn=96,Qr=0);U=1<<G-Q,z=J=1<<f;do J-=U,p[ht+(V>>Q)+J]=Pn<<24|yn<<16|Qr|0;while(J!==0);for(U=1<<G-1;V&U;)U>>=1;if(U!==0?(V&=U-1,V+=U):V=0,P++,--re[G]==0){if(G===D)break;G=h[u+x[P]]}if(G>De&&(V&fr)!==Je){for(Q===0&&(Q=De),ht+=z,f=G-Q,U=1<<f;f+Q<D&&(U-=re[f+Q],!(0>=U));)f++,U<<=1;if(Er+=1<<f,o===1&&852<Er||o===2&&592<Er)return 1;Je=V&fr,p[Je]=De<<24|f<<16|ht-S|0}}return V!==0&&(p[ht+V]=G-Q<<24|4194304),T.bits=De,0},xl=Xi.Z_FINISH,as=Xi.Z_BLOCK,Dg=Xi.Z_TREES,Hc=Xi.Z_OK,xf=Xi.Z_STREAM_END,c0=Xi.Z_NEED_DICT,Du=Xi.Z_STREAM_ERROR,fm=Xi.Z_DATA_ERROR,h0=Xi.Z_MEM_ERROR,Vc=Xi.Z_BUF_ERROR,dm=Xi.Z_DEFLATED,Ch=function(o){return(o>>>24&255)+(o>>>8&65280)+((o&65280)<<8)+((o&255)<<24)},Xy=function(o){if(!o||!o.state)return Du;var h=o.state;return o.total_in=o.total_out=h.total=0,o.msg="",h.wrap&&(o.adler=h.wrap&1),h.mode=1,h.last=0,h.havedict=0,h.dmax=32768,h.head=null,h.hold=0,h.bits=0,h.lencode=h.lendyn=new Int32Array(852),h.distcode=h.distdyn=new Int32Array(592),h.sane=1,h.back=-1,Hc},Ng=function(o){if(!o||!o.state)return Du;var h=o.state;return h.wsize=0,h.whave=0,h.wnext=0,Xy(o)},f0=function(o,h){if(!o||!o.state)return Du;var u=o.state;if(0>h){var f=0;h=-h}else f=(h>>4)+1,48>h&&(h&=15);return h&&(8>h||15<h)?Du:(u.window!==null&&u.wbits!==h&&(u.window=null),u.wrap=f,u.wbits=h,Ng(o))},d0=function(o,h){if(!o)return Du;var u=new os;return o.state=u,u.window=null,h=f0(o,h),h!==Hc&&(o.state=null),h},Zy=!0,p0=void 0,m0=void 0,Ky=function(o,h,u,f){var p=o.state;return p.window===null&&(p.wsize=1<<p.wbits,p.wnext=0,p.whave=0,p.window=new Uint8Array(p.wsize)),f>=p.wsize?(p.window.set(h.subarray(u-p.wsize,u),0),p.wnext=0,p.whave=p.wsize):(o=p.wsize-p.wnext,o>f&&(o=f),p.window.set(h.subarray(u-f,u-f+o),p.wnext),(f-=o)?(p.window.set(h.subarray(u-f,u),0),p.wnext=f,p.whave=p.wsize):(p.wnext+=o,p.wnext===p.wsize&&(p.wnext=0),p.whave<p.wsize&&(p.whave+=o))),0},Nu={inflateReset:Ng,inflateReset2:f0,inflateResetKeep:Xy,inflateInit:function(o){return d0(o,15)},inflateInit2:d0,inflate:function(o,h){var u=new Uint8Array(4),f=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!o||!o.state||!o.output||!o.input&&o.avail_in!==0)return Du;var p=o.state;p.mode===12&&(p.mode=13);var S=o.next_out,x=o.output,T=o.avail_out,z=o.next_in,G=o.input,P=o.avail_in,D=p.hold,U=p.bits,V=P,J=T,ne=Hc;e:for(;;)switch(p.mode){case 1:if(p.wrap===0){p.mode=13;break}for(;16>U;){if(P===0)break e;P--,D+=G[z++]<<U,U+=8}if(p.wrap&2&&D===35615){p.check=0,u[0]=D&255,u[1]=D>>>8&255,p.check=Oa(p.check,u,2,0),U=D=0,p.mode=2;break}if(p.flags=0,p.head&&(p.head.done=!1),!(p.wrap&1)||(((D&255)<<8)+(D>>8))%31){o.msg="incorrect header check",p.mode=30;break}if((D&15)!==dm){o.msg="unknown compression method",p.mode=30;break}D>>>=4,U-=4;var re=(D&15)+8;if(p.wbits===0)p.wbits=re;else if(re>p.wbits){o.msg="invalid window size",p.mode=30;break}p.dmax=1<<p.wbits,o.adler=p.check=1,p.mode=D&512?10:12,U=D=0;break;case 2:for(;16>U;){if(P===0)break e;P--,D+=G[z++]<<U,U+=8}if(p.flags=D,(p.flags&255)!==dm){o.msg="unknown compression method",p.mode=30;break}if(p.flags&57344){o.msg="unknown header flags set",p.mode=30;break}p.head&&(p.head.text=D>>8&1),p.flags&512&&(u[0]=D&255,u[1]=D>>>8&255,p.check=Oa(p.check,u,2,0)),U=D=0,p.mode=3;case 3:for(;32>U;){if(P===0)break e;P--,D+=G[z++]<<U,U+=8}p.head&&(p.head.time=D),p.flags&512&&(u[0]=D&255,u[1]=D>>>8&255,u[2]=D>>>16&255,u[3]=D>>>24&255,p.check=Oa(p.check,u,4,0)),U=D=0,p.mode=4;case 4:for(;16>U;){if(P===0)break e;P--,D+=G[z++]<<U,U+=8}p.head&&(p.head.xflags=D&255,p.head.os=D>>8),p.flags&512&&(u[0]=D&255,u[1]=D>>>8&255,p.check=Oa(p.check,u,2,0)),U=D=0,p.mode=5;case 5:if(p.flags&1024){for(;16>U;){if(P===0)break e;P--,D+=G[z++]<<U,U+=8}p.length=D,p.head&&(p.head.extra_len=D),p.flags&512&&(u[0]=D&255,u[1]=D>>>8&255,p.check=Oa(p.check,u,2,0)),U=D=0}else p.head&&(p.head.extra=null);p.mode=6;case 6:if(p.flags&1024){var Q=p.length;if(Q>P&&(Q=P),Q&&(p.head&&(re=p.head.extra_len-p.length,p.head.extra||(p.head.extra=new Uint8Array(p.head.extra_len)),p.head.extra.set(G.subarray(z,z+Q),re)),p.flags&512&&(p.check=Oa(p.check,G,Q,z)),P-=Q,z+=Q,p.length-=Q),p.length)break e}p.length=0,p.mode=7;case 7:if(p.flags&2048){if(P===0)break e;Q=0;do re=G[z+Q++],p.head&&re&&65536>p.length&&(p.head.name+=String.fromCharCode(re));while(re&&Q<P);if(p.flags&512&&(p.check=Oa(p.check,G,Q,z)),P-=Q,z+=Q,re)break e}else p.head&&(p.head.name=null);p.length=0,p.mode=8;case 8:if(p.flags&4096){if(P===0)break e;Q=0;do re=G[z+Q++],p.head&&re&&65536>p.length&&(p.head.comment+=String.fromCharCode(re));while(re&&Q<P);if(p.flags&512&&(p.check=Oa(p.check,G,Q,z)),P-=Q,z+=Q,re)break e}else p.head&&(p.head.comment=null);p.mode=9;case 9:if(p.flags&512){for(;16>U;){if(P===0)break e;P--,D+=G[z++]<<U,U+=8}if(D!==(p.check&65535)){o.msg="header crc mismatch",p.mode=30;break}U=D=0}p.head&&(p.head.hcrc=p.flags>>9&1,p.head.done=!0),o.adler=p.check=0,p.mode=12;break;case 10:for(;32>U;){if(P===0)break e;P--,D+=G[z++]<<U,U+=8}o.adler=p.check=Ch(D),U=D=0,p.mode=11;case 11:if(p.havedict===0)return o.next_out=S,o.avail_out=T,o.next_in=z,o.avail_in=P,p.hold=D,p.bits=U,c0;o.adler=p.check=1,p.mode=12;case 12:if(h===as||h===Dg)break e;case 13:if(p.last){D>>>=U&7,U-=U&7,p.mode=27;break}for(;3>U;){if(P===0)break e;P--,D+=G[z++]<<U,U+=8}switch(p.last=D&1,D>>>=1,--U,D&3){case 0:p.mode=14;break;case 1:if(Q=p,Zy){for(p0=new Int32Array(512),m0=new Int32Array(32),re=0;144>re;)Q.lens[re++]=8;for(;256>re;)Q.lens[re++]=9;for(;280>re;)Q.lens[re++]=7;for(;288>re;)Q.lens[re++]=8;for(Fs(1,Q.lens,0,288,p0,0,Q.work,{bits:9}),re=0;32>re;)Q.lens[re++]=5;Fs(2,Q.lens,0,32,m0,0,Q.work,{bits:5}),Zy=!1}if(Q.lencode=p0,Q.lenbits=9,Q.distcode=m0,Q.distbits=5,p.mode=20,h===Dg){D>>>=2,U-=2;break e}break;case 2:p.mode=17;break;case 3:o.msg="invalid block type",p.mode=30}D>>>=2,U-=2;break;case 14:for(D>>>=U&7,U-=U&7;32>U;){if(P===0)break e;P--,D+=G[z++]<<U,U+=8}if((D&65535)!=(D>>>16^65535)){o.msg="invalid stored block lengths",p.mode=30;break}if(p.length=D&65535,U=D=0,p.mode=15,h===Dg)break e;case 15:p.mode=16;case 16:if(Q=p.length){if(Q>P&&(Q=P),Q>T&&(Q=T),Q===0)break e;x.set(G.subarray(z,z+Q),S),P-=Q,z+=Q,T-=Q,S+=Q,p.length-=Q;break}p.mode=12;break;case 17:for(;14>U;){if(P===0)break e;P--,D+=G[z++]<<U,U+=8}if(p.nlen=(D&31)+257,D>>>=5,U-=5,p.ndist=(D&31)+1,D>>>=5,U-=5,p.ncode=(D&15)+4,D>>>=4,U-=4,286<p.nlen||30<p.ndist){o.msg="too many length or distance symbols",p.mode=30;break}p.have=0,p.mode=18;case 18:for(;p.have<p.ncode;){for(;3>U;){if(P===0)break e;P--,D+=G[z++]<<U,U+=8}p.lens[f[p.have++]]=D&7,D>>>=3,U-=3}for(;19>p.have;)p.lens[f[p.have++]]=0;if(p.lencode=p.lendyn,p.lenbits=7,Q={bits:p.lenbits},ne=Fs(0,p.lens,0,19,p.lencode,0,p.work,Q),p.lenbits=Q.bits,ne){o.msg="invalid code lengths set",p.mode=30;break}p.have=0,p.mode=19;case 19:for(;p.have<p.nlen+p.ndist;){for(;;){var he=p.lencode[D&(1<<p.lenbits)-1];if(Q=he>>>24,he&=65535,Q<=U)break;if(P===0)break e;P--,D+=G[z++]<<U,U+=8}if(16>he)D>>>=Q,U-=Q,p.lens[p.have++]=he;else{if(he===16){for(re=Q+2;U<re;){if(P===0)break e;P--,D+=G[z++]<<U,U+=8}if(D>>>=Q,U-=Q,p.have===0){o.msg="invalid bit length repeat",p.mode=30;break}re=p.lens[p.have-1],Q=3+(D&3),D>>>=2,U-=2}else if(he===17){for(re=Q+3;U<re;){if(P===0)break e;P--,D+=G[z++]<<U,U+=8}D>>>=Q,U-=Q,re=0,Q=3+(D&7),D>>>=3,U-=3}else{for(re=Q+7;U<re;){if(P===0)break e;P--,D+=G[z++]<<U,U+=8}D>>>=Q,U-=Q,re=0,Q=11+(D&127),D>>>=7,U-=7}if(p.have+Q>p.nlen+p.ndist){o.msg="invalid bit length repeat",p.mode=30;break}for(;Q--;)p.lens[p.have++]=re}}if(p.mode===30)break;if(p.lens[256]===0){o.msg="invalid code -- missing end-of-block",p.mode=30;break}if(p.lenbits=9,Q={bits:p.lenbits},ne=Fs(1,p.lens,0,p.nlen,p.lencode,0,p.work,Q),p.lenbits=Q.bits,ne){o.msg="invalid literal/lengths set",p.mode=30;break}if(p.distbits=6,p.distcode=p.distdyn,Q={bits:p.distbits},ne=Fs(2,p.lens,p.nlen,p.ndist,p.distcode,0,p.work,Q),p.distbits=Q.bits,ne){o.msg="invalid distances set",p.mode=30;break}if(p.mode=20,h===Dg)break e;case 20:p.mode=21;case 21:if(6<=P&&258<=T){o.next_out=S,o.avail_out=T,o.next_in=z,o.avail_in=P,p.hold=D,p.bits=U,G=o;var Me=G.state;x=G.next_in;var De=G.input;z=x+(G.avail_in-5),S=G.next_out;var Ue=G.output;P=S-(J-G.avail_out),T=S+(G.avail_out-257),D=Me.dmax,U=Me.wsize,Q=Me.whave,re=Me.wnext;var Ve=Me.window,ht=Me.hold,Je=Me.bits;he=Me.lencode;var Er=Me.distcode,fr=(1<<Me.lenbits)-1,Pn=(1<<Me.distbits)-1;t:do{15>Je&&(ht+=De[x++]<<Je,Je+=8,ht+=De[x++]<<Je,Je+=8);var yn=he[ht&fr];r:for(;;){var Qr=yn>>>24;if(ht>>>=Qr,Je-=Qr,Qr=yn>>>16&255,Qr===0)Ue[S++]=yn&65535;else if(Qr&16){var $n=yn&65535;(Qr&=15)&&(Je<Qr&&(ht+=De[x++]<<Je,Je+=8),$n+=ht&(1<<Qr)-1,ht>>>=Qr,Je-=Qr),15>Je&&(ht+=De[x++]<<Je,Je+=8,ht+=De[x++]<<Je,Je+=8),yn=Er[ht&Pn];n:for(;;){if(Qr=yn>>>24,ht>>>=Qr,Je-=Qr,Qr=yn>>>16&255,Qr&16){if(yn&=65535,Qr&=15,Je<Qr&&(ht+=De[x++]<<Je,Je+=8,Je<Qr&&(ht+=De[x++]<<Je,Je+=8)),yn+=ht&(1<<Qr)-1,yn>D){G.msg="invalid distance too far back",Me.mode=30;break t}if(ht>>>=Qr,Je-=Qr,Qr=S-P,yn>Qr){if(Qr=yn-Qr,Qr>Q&&Me.sane){G.msg="invalid distance too far back",Me.mode=30;break t}var zt=0,Sr=Ve;if(re===0){if(zt+=U-Qr,Qr<$n){$n-=Qr;do Ue[S++]=Ve[zt++];while(--Qr);zt=S-yn,Sr=Ue}}else if(re<Qr){if(zt+=U+re-Qr,Qr-=re,Qr<$n){$n-=Qr;do Ue[S++]=Ve[zt++];while(--Qr);if(zt=0,re<$n){Qr=re,$n-=Qr;do Ue[S++]=Ve[zt++];while(--Qr);zt=S-yn,Sr=Ue}}}else if(zt+=re-Qr,Qr<$n){$n-=Qr;do Ue[S++]=Ve[zt++];while(--Qr);zt=S-yn,Sr=Ue}for(;2<$n;)Ue[S++]=Sr[zt++],Ue[S++]=Sr[zt++],Ue[S++]=Sr[zt++],$n-=3;$n&&(Ue[S++]=Sr[zt++],1<$n&&(Ue[S++]=Sr[zt++]))}else{zt=S-yn;do Ue[S++]=Ue[zt++],Ue[S++]=Ue[zt++],Ue[S++]=Ue[zt++],$n-=3;while(2<$n);$n&&(Ue[S++]=Ue[zt++],1<$n&&(Ue[S++]=Ue[zt++]))}}else if((Qr&64)==0){yn=Er[(yn&65535)+(ht&(1<<Qr)-1)];continue n}else{G.msg="invalid distance code",Me.mode=30;break t}break}}else if((Qr&64)==0){yn=he[(yn&65535)+(ht&(1<<Qr)-1)];continue r}else{Qr&32?Me.mode=12:(G.msg="invalid literal/length code",Me.mode=30);break t}break}}while(x<z&&S<T);$n=Je>>3,x-=$n,Je-=$n<<3,G.next_in=x,G.next_out=S,G.avail_in=x<z?5+(z-x):5-(x-z),G.avail_out=S<T?257+(T-S):257-(S-T),Me.hold=ht&(1<<Je)-1,Me.bits=Je,S=o.next_out,x=o.output,T=o.avail_out,z=o.next_in,G=o.input,P=o.avail_in,D=p.hold,U=p.bits,p.mode===12&&(p.back=-1);break}for(p.back=0;he=p.lencode[D&(1<<p.lenbits)-1],Q=he>>>24,re=he>>>16&255,he&=65535,!(Q<=U);){if(P===0)break e;P--,D+=G[z++]<<U,U+=8}if(re&&(re&240)==0){for(Ve=Q,ht=re,Je=he;he=p.lencode[Je+((D&(1<<Ve+ht)-1)>>Ve)],Q=he>>>24,re=he>>>16&255,he&=65535,!(Ve+Q<=U);){if(P===0)break e;P--,D+=G[z++]<<U,U+=8}D>>>=Ve,U-=Ve,p.back+=Ve}if(D>>>=Q,U-=Q,p.back+=Q,p.length=he,re===0){p.mode=26;break}if(re&32){p.back=-1,p.mode=12;break}if(re&64){o.msg="invalid literal/length code",p.mode=30;break}p.extra=re&15,p.mode=22;case 22:if(p.extra){for(re=p.extra;U<re;){if(P===0)break e;P--,D+=G[z++]<<U,U+=8}p.length+=D&(1<<p.extra)-1,D>>>=p.extra,U-=p.extra,p.back+=p.extra}p.was=p.length,p.mode=23;case 23:for(;he=p.distcode[D&(1<<p.distbits)-1],Q=he>>>24,re=he>>>16&255,he&=65535,!(Q<=U);){if(P===0)break e;P--,D+=G[z++]<<U,U+=8}if((re&240)==0){for(Ve=Q,ht=re,Je=he;he=p.distcode[Je+((D&(1<<Ve+ht)-1)>>Ve)],Q=he>>>24,re=he>>>16&255,he&=65535,!(Ve+Q<=U);){if(P===0)break e;P--,D+=G[z++]<<U,U+=8}D>>>=Ve,U-=Ve,p.back+=Ve}if(D>>>=Q,U-=Q,p.back+=Q,re&64){o.msg="invalid distance code",p.mode=30;break}p.offset=he,p.extra=re&15,p.mode=24;case 24:if(p.extra){for(re=p.extra;U<re;){if(P===0)break e;P--,D+=G[z++]<<U,U+=8}p.offset+=D&(1<<p.extra)-1,D>>>=p.extra,U-=p.extra,p.back+=p.extra}if(p.offset>p.dmax){o.msg="invalid distance too far back",p.mode=30;break}p.mode=25;case 25:if(T===0)break e;if(Q=J-T,p.offset>Q){if(Q=p.offset-Q,Q>p.whave&&p.sane){o.msg="invalid distance too far back",p.mode=30;break}Q>p.wnext?(Q-=p.wnext,re=p.wsize-Q):re=p.wnext-Q,Q>p.length&&(Q=p.length),Ve=p.window}else Ve=x,re=S-p.offset,Q=p.length;Q>T&&(Q=T),T-=Q,p.length-=Q;do x[S++]=Ve[re++];while(--Q);p.length===0&&(p.mode=21);break;case 26:if(T===0)break e;x[S++]=p.length,T--,p.mode=21;break;case 27:if(p.wrap){for(;32>U;){if(P===0)break e;P--,D|=G[z++]<<U,U+=8}if(J-=T,o.total_out+=J,p.total+=J,J&&(o.adler=p.check=p.flags?Oa(p.check,x,J,S-J):Uc(p.check,x,J,S-J)),J=T,(p.flags?D:Ch(D))!==p.check){o.msg="incorrect data check",p.mode=30;break}U=D=0}p.mode=28;case 28:if(p.wrap&&p.flags){for(;32>U;){if(P===0)break e;P--,D+=G[z++]<<U,U+=8}if(D!==(p.total&4294967295)){o.msg="incorrect length check",p.mode=30;break}U=D=0}p.mode=29;case 29:ne=xf;break e;case 30:ne=fm;break e;case 31:return h0;default:return Du}return o.next_out=S,o.avail_out=T,o.next_in=z,o.avail_in=P,p.hold=D,p.bits=U,(p.wsize||J!==o.avail_out&&30>p.mode&&(27>p.mode||h!==xl))&&Ky(o,o.output,o.next_out,J-o.avail_out),V-=o.avail_in,J-=o.avail_out,o.total_in+=V,o.total_out+=J,p.total+=J,p.wrap&&J&&(o.adler=p.check=p.flags?Oa(p.check,x,J,o.next_out-J):Uc(p.check,x,J,o.next_out-J)),o.data_type=p.bits+(p.last?64:0)+(p.mode===12?128:0)+(p.mode===20||p.mode===15?256:0),(V===0&&J===0||h===xl)&&ne===Hc&&(ne=Vc),ne},inflateEnd:function(o){if(!o||!o.state)return Du;var h=o.state;return h.window&&(h.window=null),o.state=null,Hc},inflateGetHeader:function(o,h){return!o||!o.state||(o=o.state,(o.wrap&2)==0)?Du:(o.head=h,h.done=!1,Hc)},inflateSetDictionary:function(o,h){var u=h.length;if(!o||!o.state)return Du;var f=o.state;if(f.wrap!==0&&f.mode!==11)return Du;if(f.mode===11){var p=Uc(1,h,u,0);if(p!==f.check)return fm}return Ky(o,h,u,u)?(f.mode=31,h0):(f.havedict=1,Hc)},inflateInfo:"pako inflate (from Nodeca project)"},yx=function(){this.os=this.xflags=this.time=this.text=0,this.extra=null,this.extra_len=0,this.comment=this.name="",this.hcrc=0,this.done=!1},Fg=Object.prototype.toString,Nl=Xi.Z_NO_FLUSH,Gc=Xi.Z_FINISH,op=Xi.Z_OK,Jy=Xi.Z_STREAM_END,Ah=Xi.Z_NEED_DICT,Cl=Xi.Z_STREAM_ERROR,Wc=Xi.Z_DATA_ERROR,Bg=Xi.Z_MEM_ERROR;_a.prototype.push=function(C,o){var h=this.strm,u=this.options.chunkSize,f=this.options.dictionary;if(this.ended)return!1;var p=o===~~o?o:o===!0?Gc:Nl;for(Fg.call(C)==="[object ArrayBuffer]"?h.input=new Uint8Array(C):h.input=C,h.next_in=0,h.avail_in=h.input.length;;){for(h.avail_out===0&&(h.output=new Uint8Array(u),h.next_out=0,h.avail_out=u),o=Nu.inflate(h,p),o===Ah&&f&&(o=Nu.inflateSetDictionary(h,f),o===op?o=Nu.inflate(h,p):o===Wc&&(o=Ah));0<h.avail_in&&o===Jy&&0<h.state.wrap&&C[h.next_in]!==0;)Nu.inflateReset(h),o=Nu.inflate(h,p);switch(o){case Cl:case Wc:case Ah:case Bg:return this.onEnd(o),this.ended=!0,!1}var S=h.avail_out;if(h.next_out&&(h.avail_out===0||o===Jy))if(this.options.to==="string"){var x=oc.utf8border(h.output,h.next_out),T=h.next_out-x,z=oc.buf2string(h.output,x);h.next_out=T,h.avail_out=u-T,T&&h.output.set(h.output.subarray(x,x+T),0),this.onData(z)}else this.onData(h.output.length===h.next_out?h.output:h.output.subarray(0,h.next_out));if(o!==op||S!==0){if(o===Jy){o=Nu.inflateEnd(this.strm),this.onEnd(o),this.ended=!0;break}if(h.avail_in===0)break}}return!0},_a.prototype.onData=function(C){this.chunks.push(C)},_a.prototype.onEnd=function(C){C===op&&(this.result=this.options.to==="string"?this.chunks.join(""):Og.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg};var g0={Deflate:Ga,deflate:Ca,deflateRaw:function(o,h){return h=h||{},h.raw=!0,Ca(o,h)},gzip:function(o,h){return h=h||{},h.gzip=!0,Ca(o,h)},Inflate:_a,inflate:Qa,inflateRaw:function(o,h){return h=h||{},h.raw=!0,Qa(o,h)},ungzip:Qa,constants:Xi},ap=function(){function C(o){On(this,C),this._visible=!0,this.options=this.getCommonDefaultOptions(),this.options=_o(this.options,this.getDefaultOptions()),this.autoUpdate=!1,this.options=_o(this.options,o),this.options.data&&(this.data=this.options.data,delete this.options.data)}return Qn(C,[{key:"getCommonDefaultOptions",value:function(){return{}}},{key:"getDefaultOptions",value:function(){return{}}},{key:"initialize",value:function(h){}},{key:"destroy",value:function(){this.onDestroy&&this.onDestroy()}},{key:"show",value:function(){this._visible=!0}},{key:"hide",value:function(){this._visible=!1}},{key:"render",value:function(){}},{key:"setData",value:function(h,u){u=u||{},this.data=h,this.onDataChanged&&this.onDataChanged(this.getData()),this.onChanged&&this.onChanged(this.getOptions(),this.getData(),u),u.autoRender!==!1&&this.webglLayer&&this.webglLayer.render()}},{key:"getData",value:function(){return this.data||[]}},{key:"setOptions",value:function(h){h=h||{};var u=_o({},this.getOptions());_o(this.options,h),this.onOptionsChanged&&this.onOptionsChanged(this.getOptions(),u),this.onChanged&&this.onChanged(this.getOptions(),this.getData()),h.data?(this.setData(h.data),delete h.data):this.webglLayer&&this.webglLayer.render()}},{key:"getOptions",value:function(){return this.options||{}}},{key:"onOptionsChanged",value:function(h,u){}},{key:"onDataChanged",value:function(h){}},{key:"onChanged",value:function(h,u){}},{key:"onDestroy",value:function(){}},{key:"lnglatToMercator",value:function(h,u){}},{key:"setWebglLayer",value:function(h){this.webglLayer=h}},{key:"getWebglLayer",value:function(){return this.webglLayer}},{key:"isRequestAnimation",value:function(){return this.autoUpdate}}]),C}(),yo=function(){function C(o,h,u){On(this,C),this.options=h,this.gl=o,u&&(this.map=u.map),u=this.getVertexShader(h.vertexShader);var f=this.getFragmentShader(h.fragmentShader);h=o.createShader(o.VERTEX_SHADER),o.shaderSource(h,u),o.compileShader(h),o.getShaderParameter(h,o.COMPILE_STATUS)?(u=o.createShader(o.FRAGMENT_SHADER),o.shaderSource(u,f),o.compileShader(u),o.getShaderParameter(u,o.COMPILE_STATUS)?(f=o.createProgram(),o.attachShader(f,h),o.attachShader(f,u),o.deleteShader(h),o.deleteShader(u),o.linkProgram(f),o.getProgramParameter(f,o.LINK_STATUS)?h=f:(h="Shader program failed to link.  The error log is:"+o.getProgramInfoLog(f),console.error(h),h=-1)):(h="Fragment shader failed to compile.  The error log is:"+o.getShaderInfoLog(u),console.error(h),h=-1)):(h="Vertex shader failed to compile.  The error log is:"+o.getShaderInfoLog(h),console.error(h),h=-1),h=this.program=h,u={},f=o.getProgramParameter(h,o.ACTIVE_ATTRIBUTES);for(var p=0;p<f;p++){var S=o.getActiveAttrib(h,p);u[S.name]=o.getAttribLocation(h,S.name)}p={},S={};for(var x=o.getProgramParameter(h,o.ACTIVE_UNIFORMS),T=0;T<x;T++){var z=o.getActiveUniform(h,T);p[z.name]=o.getUniformLocation(h,z.name),S[z.name]=z.type}this.parameter=o={attributes:u,numAttributes:f,uniformsType:S,uniforms:p},this.attributes=o.attributes,this.uniforms=o.uniforms,this.parameter=o}return Qn(C,[{key:"getVertexShader",value:function(h){var u="";return this.map&&this.map.type==="cesium"&&(u=`#define LOG_DEPTH
`),u+=`#ifdef LOG_DEPTH
uniform float currentFrustumX;varying float v_depthFromNearPlusOne;
#endif
uniform vec2 MAPV_resolution;
#if defined(PICK)
uniform bool uIsPickRender;attribute vec3 aPickColor;uniform vec3 uPickedColor;varying vec4 vPickColor;uniform bool uEnablePicked;bool mapvIsPicked(){return uEnablePicked&&aPickColor==uPickedColor;}
#endif
void afterMain(){
#if defined(LOG_DEPTH)
v_depthFromNearPlusOne=(gl_Position.w-currentFrustumX)+1.0;gl_Position.z=clamp(gl_Position.z/gl_Position.w,-1.0,1.0)*gl_Position.w;
#endif
#if defined(PICK)
vPickColor=vec4(aPickColor,0.0);if(mapvIsPicked()){vPickColor.a=1.0;}
#endif
}`,h=this.getDefines()+u+h,h=h.replace("void main","void originMain"),h+"void main() {originMain(); afterMain();}"}},{key:"getFragmentShader",value:function(h){var u="";return this.map&&this.map.type==="cesium"&&(u=`#define LOG_DEPTH
`),u+=`#if defined(LOG_DEPTH)
#extension GL_EXT_frag_depth : enable
#endif
precision highp float;uniform vec2 MAPV_resolution;uniform bool uIsPickRender;
#if defined(PICK)
varying vec4 vPickColor;bool mapvIsPicked(){return vPickColor.a==1.0;}
#endif
#if defined(LOG_DEPTH)
uniform float oneOverLog2FarDepthFromNearPlusOne;uniform float farDepthFromNearPlusOne;varying float v_depthFromNearPlusOne;void writeLogDepth(float depth){if(depth<=0.9999999||depth>farDepthFromNearPlusOne){discard;}gl_FragDepthEXT=log2(depth)*oneOverLog2FarDepthFromNearPlusOne;}
#endif
void afterMain(){
#if defined(PICK)
if(uIsPickRender){gl_FragColor=vec4(vPickColor.rgb,1.0);return;}
#endif
#if defined(LOG_DEPTH)
writeLogDepth(v_depthFromNearPlusOne);
#endif
}`,h=this.getDefines()+u+h,h=h.replace("void main","void originMain"),h+"void main() {originMain(); afterMain();}"}},{key:"getDefines",value:function(){var h="",u=this.options.defines;if(u)for(var f=0;f<u.length;f++)h+="#define "+u[f]+`
`;return h}},{key:"use",value:function(h,u){this.gl=h,h.useProgram(this.program),this.map&&this.map.type==="cesium"&&this.setUniforms({currentFrustumX:this.map.map.scene.camera.frustum.near,oneOverLog2FarDepthFromNearPlusOne:this.map.map.scene.context.uniformState.oneOverLog2FarDepthFromNearPlusOne,farDepthFromNearPlusOne:this.map.map.scene.context.uniformState.farDepthFromNearPlusOne}),this.uniforms.MAPV_resolution&&this.setUniforms({MAPV_resolution:[h.canvas.width,h.canvas.height]})}},{key:"setUniform",value:function(h,u){var f=this.gl,p=this.uniforms[h];if(p)switch(this.parameter.uniformsType[h]){case f.FLOAT:f.uniform1f(p,u);break;case f.FLOAT_VEC2:f.uniform2f(p,u[0],u[1]);break;case f.FLOAT_VEC3:f.uniform3f(p,u[0],u[1],u[2]);break;case f.FLOAT_VEC4:f.uniform4f(p,u[0],u[1],u[2],u[3]);break;case f.SAMPLER_2D:case f.SAMPLER_CUBE:f.activeTexture(f["TEXTURE"+this.textureIndex]),f.uniform1i(p,this.textureIndex),f.bindTexture(f.TEXTURE_2D,u),this.textureIndex++;break;case f.INT:case f.BOOL:f.uniform1i(p,u);break;case f.INT_VEC2:case f.BOOL_VEC2:f.uniform2i(p,u[0],u[1]);break;case f.INT_VEC3:case f.BOOL_VEC3:f.uniform3i(p,u[0],u[1],u[2]);break;case f.INT_VEC4:case f.BOOL_VEC4:f.uniform4i(p,u[0],u[1],u[2],u[3]);break;case f.FLOAT_MAT2:f.uniformMatrix2fv(p,!1,u);break;case f.FLOAT_MAT3:f.uniformMatrix3fv(p,!1,u);break;case f.FLOAT_MAT4:f.uniformMatrix4fv(p,!1,u);break;default:console.error("Unrecognized uniform type: "+h)}else console.warn("Unrecognized uniform type: "+h)}},{key:"setUniforms",value:function(h){this.textureIndex=0;for(var u in h)this.setUniform(u,h[u])}}]),C}(),pm=function(){function C(o){On(this,C),this.options=o,this.gl=o.gl,this.savedState=[],this.currentState=this.getCurrentState()}return Qn(C,[{key:"setDefaultState",value:function(){this.setState()}},{key:"getDefaultState",value:function(){return{blend:!1,depthTest:!1,cullFace:!1,depthMask:!0,stencilTest:!1}}},{key:"getCurrentState",value:function(){var h=this.gl;return{blend:h.getParameter(h.BLEND),stencilTest:h.getParameter(h.STENCIL_TEST),depthTest:h.getParameter(h.DEPTH_TEST),cullFace:h.getParameter(h.CULL_FACE),depthMask:h.getParameter(h.DEPTH_WRITEMASK)}}},{key:"save",value:function(){this.savedState.push(this.getCurrentState())}},{key:"restore",value:function(){var h=this.savedState.pop();this.setState(h)}},{key:"setState",value:function(h){var u=this.gl,f=this.getCurrentState();h=_o(this.getDefaultState(),h),h.blend!==f.blend&&(h.blend?u.enable(u.BLEND):u.disable(u.BLEND)),h.depthTest!==f.depthTest&&(h.depthTest?u.enable(u.DEPTH_TEST):u.disable(u.DEPTH_TEST)),h.cullFace!==f.cullFace&&(h.cullFace?u.enable(u.CULL_FACE):u.disable(u.CULL_FACE)),h.depthMask!==f.depthMask&&(h.depthMask?u.depthMask(!0):u.depthMask(!1)),this.currentState=h}}]),C}(),Ti=function(){function C(o){On(this,C),this.options=o,this.gl=o.gl,this.buffer=this.gl.createBuffer(),o.data&&this.updateData(o.data)}return Qn(C,[{key:"updateData",value:function(h){var u=this.options,f=this.gl;this.bind(),f.bufferData(f[u.target],h,f[u.usage])}},{key:"bind",value:function(h){h=h||this.gl,h.bindBuffer(h[this.options.target],this.buffer)}},{key:"unBind",value:function(h){h=h||this.gl,h.bindBuffer(h[this.options.target],null)}},{key:"destroy",value:function(){this.buffer=null}}]),C}(),zg={BYTE:1,UNSIGNED_BYTE:1,SHORT:2,UNSIGNED_SHORT:2,FLOAT:4},La=function(){function C(o){for(On(this,C),this.options=o,this.attributes=o.attributes,this.gl=o.gl,this.program=o.program,o=this.stride=0;o<this.attributes.length;o++)this.stride+=zg[this.attributes[o].type]*this.attributes[o].size}return Qn(C,[{key:"setVertexAttribPointers",value:function(){for(var h=this.gl,u=this.program,f=0;f<this.attributes.length;f++){var p=this.attributes[f],S=u.attributes[p.name];S!==void 0&&(p.buffer.bind(h),h.vertexAttribPointer(S,p.size,h[p.type],p.normalize||!1,p.stride!==void 0?p.stride:this.stride,p.offset),h.enableVertexAttribArray(S))}}},{key:"bind",value:function(){this.setVertexAttribPointers()}},{key:"destroy",value:function(){}}]),C}(),Bs=function C(o,h,u){On(this,C),h=h||o.canvas.width,u=u||o.canvas.height;var f=o.createFramebuffer(),p=o.createTexture();o.bindTexture(o.TEXTURE_2D,p),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,h,u,0,o.RGBA,o.UNSIGNED_BYTE,null),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),f.texture=p;var S=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,S),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_COMPONENT16,h,u),f.depthBuffer=S,o.bindFramebuffer(o.FRAMEBUFFER,f),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,p,0),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_ATTACHMENT,o.RENDERBUFFER,S),h=o.checkFramebufferStatus(o.FRAMEBUFFER),o.FRAMEBUFFER_COMPLETE===h&&(o.bindFramebuffer(o.FRAMEBUFFER,null),o.bindTexture(o.TEXTURE_2D,null),o.bindRenderbuffer(o.RENDERBUFFER,null),this.framebuffer=f)},hd=function(){function C(o){On(this,C),this.options={},_o(this.options,o),this.vertex=[-1,1,0,-1,-1,0,1,1,0,1,1,0,-1,-1,0,1,-1,0],this.sampleCoord=[0,1,0,0,1,1,1,1,0,0,1,0]}return Qn(C,[{key:"getOptions",value:function(){return this.options}},{key:"onResize",value:function(h){}},{key:"render",value:function(h){var u=h.gl;h=h.texture;var f=this.programSample;u.useProgram(f.program);var p=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,p);var S=[-1,-1,0,-1,1,0,1,1,0,1,1,0,-1,-1,0,1,-1,0];u.bufferData(u.ARRAY_BUFFER,new Float32Array(S),u.STATIC_DRAW),u.enableVertexAttribArray(f.attributes.aPos),u.vertexAttribPointer(f.attributes.aPos,3,u.FLOAT,!1,0,0),p=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,p),u.bufferData(u.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,1,1,1,0,0,1,0]),u.STATIC_DRAW),u.enableVertexAttribArray(f.attributes.aTextureCoord),u.vertexAttribPointer(f.attributes.aTextureCoord,2,u.FLOAT,!1,0,0),u.activeTexture(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,h),u.uniform1i(f.uniforms.uSampler,0),u.drawArrays(u.TRIANGLES,0,S.length/3)}}]),C}(),qy=function(C){function o(h){return On(this,o),wi(this,(o.__proto__||ri(o)).call(this,h))}return ji(o,C),Qn(o,[{key:"getProgram",value:function(u){return this.programSample||(this.programSample=new yo(u,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(void){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision highp float;uniform sampler2D uSampler;uniform vec2 canvasSize;varying vec2 vTextureCoord;vec4 fxaa_2_0(sampler2D tex,vec2 fragCoord,vec2 resolution,vec2 v_rgbNW,vec2 v_rgbNE,vec2 v_rgbSW,vec2 v_rgbSE,vec2 v_rgbM){vec4 color;mediump vec2 inverseVP=vec2(1.0/resolution.x,1.0/resolution.y);vec3 rgbNW=texture2D(tex,v_rgbNW).xyz;vec3 rgbNE=texture2D(tex,v_rgbNE).xyz;vec3 rgbSW=texture2D(tex,v_rgbSW).xyz;vec3 rgbSE=texture2D(tex,v_rgbSE).xyz;vec4 texColor=texture2D(tex,v_rgbM);vec3 rgbM=texColor.xyz;vec3 luma=vec3(0.299,0.587,0.114);float lumaNW=dot(rgbNW,luma);float lumaNE=dot(rgbNE,luma);float lumaSW=dot(rgbSW,luma);float lumaSE=dot(rgbSE,luma);float lumaM=dot(rgbM,luma);float lumaMin=min(lumaM,min(min(lumaNW,lumaNE),min(lumaSW,lumaSE)));float lumaMax=max(lumaM,max(max(lumaNW,lumaNE),max(lumaSW,lumaSE)));mediump vec2 dir;dir.x=-((lumaNW+lumaNE)-(lumaSW+lumaSE));dir.y=((lumaNW+lumaSW)-(lumaNE+lumaSE));float dirReduce=max((lumaNW+lumaNE+lumaSW+lumaSE)*(0.25*1.0/8.0),1.0/128.0);float rcpDirMin=1.0/(min(abs(dir.x),abs(dir.y))+dirReduce);dir=min(vec2(8.0,8.0),max(vec2(-8.0,-8.0),dir*rcpDirMin))*inverseVP;vec3 rgbA=0.5*(texture2D(tex,fragCoord*inverseVP+dir*(1.0/3.0-0.5)).xyz+texture2D(tex,fragCoord*inverseVP+dir*(2.0/3.0-0.5)).xyz);vec3 rgbB=rgbA*0.5+0.25*(texture2D(tex,fragCoord*inverseVP+dir*-0.5).xyz+texture2D(tex,fragCoord*inverseVP+dir*0.5).xyz);float lumaB=dot(rgbB,luma);if((lumaB<lumaMin)||(lumaB>lumaMax)){color=vec4(rgbA,texColor.a);}else{color=vec4(rgbB,texColor.a);}return color;}void texcoords_3_1(vec2 fragCoord,vec2 resolution,out vec2 v_rgbNW,out vec2 v_rgbNE,out vec2 v_rgbSW,out vec2 v_rgbSE,out vec2 v_rgbM){vec2 inverseVP=1.0/resolution.xy;v_rgbNW=(fragCoord+vec2(-1.0,-1.0))*inverseVP;v_rgbNE=(fragCoord+vec2(1.0,-1.0))*inverseVP;v_rgbSW=(fragCoord+vec2(-1.0,1.0))*inverseVP;v_rgbSE=(fragCoord+vec2(1.0,1.0))*inverseVP;v_rgbM=vec2(fragCoord*inverseVP);}vec4 apply_1_2(sampler2D tex,vec2 fragCoord,vec2 resolution){mediump vec2 v_rgbNW;mediump vec2 v_rgbNE;mediump vec2 v_rgbSW;mediump vec2 v_rgbSE;mediump vec2 v_rgbM;texcoords_3_1(fragCoord,resolution,v_rgbNW,v_rgbNE,v_rgbSW,v_rgbSE,v_rgbM);return fxaa_2_0(tex,fragCoord,resolution,v_rgbNW,v_rgbNE,v_rgbSW,v_rgbSE,v_rgbM);}void main(void){vec2 fragCoord=vTextureCoord*canvasSize;gl_FragColor=apply_1_2(uSampler,fragCoord,canvasSize);}"})),this.programSample}},{key:"render",value:function(u){var f=u.gl;u=u.texture,this.getOptions(),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT);var p=this.getProgram(f);f.useProgram(p.program);var S=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,S),f.bufferData(f.ARRAY_BUFFER,new Float32Array(this.vertex),f.STATIC_DRAW),f.enableVertexAttribArray(p.attributes.aPos),f.vertexAttribPointer(p.attributes.aPos,3,f.FLOAT,!1,0,0),S=f.createBuffer(),f.bindBuffer(f.ARRAY_BUFFER,S),f.bufferData(f.ARRAY_BUFFER,new Float32Array(this.sampleCoord),f.STATIC_DRAW),f.enableVertexAttribArray(p.attributes.aTextureCoord),f.vertexAttribPointer(p.attributes.aTextureCoord,2,f.FLOAT,!1,0,0),f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,u),f.uniform1i(p.uniforms.uSampler,1),f.uniform2fv(p.uniforms.canvasSize,[f.canvas.width,f.canvas.height]),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3),f.bindBuffer(f.ARRAY_BUFFER,null),f.useProgram(null)}}]),o}(hd),mm=function(C){function o(h){return On(this,o),wi(this,(o.__proto__||ri(o)).call(this,h))}return ji(o,C),Qn(o,[{key:"getProgram",value:function(u){if(this.program1||(this.program1=new yo(u,{vertexShader:"attribute vec3 position;attribute vec2 uv;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];void SMAAEdgeDetectionVS(vec2 texcoord){vOffset[0]=texcoord.xyxy+resolution.xyxy*vec4(-1.0,0.0,0.0,1.0);vOffset[1]=texcoord.xyxy+resolution.xyxy*vec4(1.0,0.0,0.0,-1.0);vOffset[2]=texcoord.xyxy+resolution.xyxy*vec4(-2.0,0.0,0.0,2.0);}void main(){vUv=uv;SMAAEdgeDetectionVS(vUv);gl_Position=vec4(position,1.0);}",fragmentShader:`precision highp float;
#define SMAA_THRESHOLD 0.1
uniform sampler2D tDiffuse;varying vec2 vUv;varying vec4 vOffset[3];vec4 SMAAColorEdgeDetectionPS(vec2 texcoord,vec4 offset[3],sampler2D colorTex){vec2 threshold=vec2(SMAA_THRESHOLD,SMAA_THRESHOLD);vec4 delta;vec3 C=texture2D(colorTex,texcoord).rgb;vec3 Cleft=texture2D(colorTex,offset[0].xy).rgb;vec3 t=abs(C-Cleft);delta.x=max(max(t.r,t.g),t.b);vec3 Ctop=texture2D(colorTex,offset[0].zw).rgb;t=abs(C-Ctop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0,1.0))==0.0)discard;vec3 Cright=texture2D(colorTex,offset[1].xy).rgb;t=abs(C-Cright);delta.z=max(max(t.r,t.g),t.b);vec3 Cbottom=texture2D(colorTex,offset[1].zw).rgb;t=abs(C-Cbottom);delta.w=max(max(t.r,t.g),t.b);float maxDelta=max(max(max(delta.x,delta.y),delta.z),delta.w);vec3 Cleftleft=texture2D(colorTex,offset[2].xy).rgb;t=abs(C-Cleftleft);delta.z=max(max(t.r,t.g),t.b);vec3 Ctoptop=texture2D(colorTex,offset[2].zw).rgb;t=abs(C-Ctoptop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(max(maxDelta,delta.z),delta.w);edges.xy*=step(0.5*maxDelta,delta.xy);return vec4(edges,0.0,0.0);}void main(){gl_FragColor=SMAAColorEdgeDetectionPS(vUv,vOffset,tDiffuse);}`})),this.program2||(this.program2=new yo(u,{vertexShader:`precision highp float;
#define SMAA_MAX_SEARCH_STEPS 8
#define SMAA_AREATEX_MAX_DISTANCE 16
#define SMAA_AREATEX_PIXEL_SIZE ( 1.0 / vec2( 160.0, 560.0 ) )
#define SMAA_AREATEX_SUBTEX_SIZE ( 1.0 / 7.0 )
attribute vec3 position;attribute vec2 uv;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixcoord;void SMAABlendingWeightCalculationVS(vec2 texcoord){vPixcoord=texcoord/resolution;vOffset[0]=texcoord.xyxy+resolution.xyxy*vec4(-0.25,0.125,1.25,0.125);vOffset[1]=texcoord.xyxy+resolution.xyxy*vec4(-0.125,0.25,-0.125,-1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*resolution.xxyy*float(SMAA_MAX_SEARCH_STEPS);}void main(){vUv=uv;SMAABlendingWeightCalculationVS(vUv);gl_Position=vec4(position,1.0);}`,fragmentShader:`precision highp float;
#define SMAA_MAX_SEARCH_STEPS 8
#define SMAA_AREATEX_MAX_DISTANCE 16
#define SMAA_AREATEX_PIXEL_SIZE ( 1.0 / vec2( 160.0, 560.0 ) )
#define SMAA_AREATEX_SUBTEX_SIZE ( 1.0 / 7.0 )
#define SMAASampleLevelZeroOffset( tex, coord, offset ) texture2D( tex, coord + float( offset ) * resolution, 0.0 )
uniform sampler2D tDiffuse;uniform sampler2D tArea;uniform sampler2D tSearch;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixcoord;vec2 round(vec2 x){return sign(x)*floor(abs(x)+0.5);}float SMAASearchLength(sampler2D searchTex,vec2 e,float bias,float scale){e.r=bias+e.r*scale;return 255.0*texture2D(searchTex,e,0.0).r;}float SMAASearchXLeft(sampler2D edgesTex,sampler2D searchTex,vec2 texcoord,float end){/***@PSEUDO_GATHER4*This texcoord has been offset by(-0.25,-0.125)in the vertex shader to*sample between edge,thus fetching four edges in a row.*Sampling with different offsets in each direction allows to disambiguate*which edges are active from the four fetched ones.*/vec2 e=vec2(0.0,1.0);for(int i=0;i<SMAA_MAX_SEARCH_STEPS;i++){e=texture2D(edgesTex,texcoord,0.0).rg;texcoord-=vec2(2.0,0.0)*resolution;if(!(texcoord.x>end&&e.g>0.8281&&e.r==0.0))break;}texcoord.x+=0.25*resolution.x;texcoord.x+=resolution.x;texcoord.x+=2.0*resolution.x;texcoord.x-=resolution.x*SMAASearchLength(searchTex,e,0.0,0.5);return texcoord.x;}float SMAASearchXRight(sampler2D edgesTex,sampler2D searchTex,vec2 texcoord,float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<SMAA_MAX_SEARCH_STEPS;i++){e=texture2D(edgesTex,texcoord,0.0).rg;texcoord+=vec2(2.0,0.0)*resolution;if(!(texcoord.x<end&&e.g>0.8281&&e.r==0.0))break;}texcoord.x-=0.25*resolution.x;texcoord.x-=resolution.x;texcoord.x-=2.0*resolution.x;texcoord.x+=resolution.x*SMAASearchLength(searchTex,e,0.5,0.5);return texcoord.x;}float SMAASearchYUp(sampler2D edgesTex,sampler2D searchTex,vec2 texcoord,float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<SMAA_MAX_SEARCH_STEPS;i++){e=texture2D(edgesTex,texcoord,0.0).rg;texcoord+=vec2(0.0,2.0)*resolution;if(!(texcoord.y>end&&e.r>0.8281&&e.g==0.0))break;}texcoord.y-=0.25*resolution.y;texcoord.y-=resolution.y;texcoord.y-=2.0*resolution.y;texcoord.y+=resolution.y*SMAASearchLength(searchTex,e.gr,0.0,0.5);return texcoord.y;}float SMAASearchYDown(sampler2D edgesTex,sampler2D searchTex,vec2 texcoord,float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<SMAA_MAX_SEARCH_STEPS;i++){e=texture2D(edgesTex,texcoord,0.0).rg;texcoord-=vec2(0.0,2.0)*resolution;if(!(texcoord.y<end&&e.r>0.8281&&e.g==0.0))break;}texcoord.y+=0.25*resolution.y;texcoord.y+=resolution.y;texcoord.y+=2.0*resolution.y;texcoord.y-=resolution.y*SMAASearchLength(searchTex,e.gr,0.5,0.5);return texcoord.y;}vec2 SMAAArea(sampler2D areaTex,vec2 dist,float e1,float e2,float offset){vec2 texcoord=float(SMAA_AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texcoord=SMAA_AREATEX_PIXEL_SIZE*texcoord+(0.5*SMAA_AREATEX_PIXEL_SIZE);texcoord.y+=SMAA_AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTex,texcoord,0.0).rg;}vec4 SMAABlendingWeightCalculationPS(vec2 texcoord,vec2 pixcoord,vec4 offset[3],sampler2D edgesTex,sampler2D areaTex,sampler2D searchTex,ivec4 subsampleIndices){vec4 weights=vec4(0.0,0.0,0.0,0.0);vec2 e=texture2D(edgesTex,texcoord).rg;if(e.g>0.0){vec2 d;vec2 coords;coords.x=SMAASearchXLeft(edgesTex,searchTex,offset[0].xy,offset[2].x);coords.y=offset[1].y;d.x=coords.x;float e1=texture2D(edgesTex,coords,0.0).r;coords.x=SMAASearchXRight(edgesTex,searchTex,offset[0].zw,offset[2].y);d.y=coords.x;d=d/resolution.x-pixcoord.x;vec2 sqrt_d=sqrt(abs(d));coords.y-=1.0*resolution.y;float e2=SMAASampleLevelZeroOffset(edgesTex,coords,ivec2(1,0)).r;weights.rg=SMAAArea(areaTex,sqrt_d,e1,e2,float(subsampleIndices.y));}if(e.r>0.0){vec2 d;vec2 coords;coords.y=SMAASearchYUp(edgesTex,searchTex,offset[1].xy,offset[2].z);coords.x=offset[0].x;d.x=coords.y;float e1=texture2D(edgesTex,coords,0.0).g;coords.y=SMAASearchYDown(edgesTex,searchTex,offset[1].zw,offset[2].w);d.y=coords.y;d=d/resolution.y-pixcoord.y;vec2 sqrt_d=sqrt(abs(d));coords.y-=1.0*resolution.y;float e2=SMAASampleLevelZeroOffset(edgesTex,coords,ivec2(0,1)).g;weights.ba=SMAAArea(areaTex,sqrt_d,e1,e2,float(subsampleIndices.x));}return weights;}void main(){gl_FragColor=SMAABlendingWeightCalculationPS(vUv,vPixcoord,vOffset,tDiffuse,tArea,tSearch,ivec4(0.0));}`})),this.program3||(this.program3=new yo(u,{vertexShader:"precision highp float;uniform vec2 resolution;attribute vec3 position;attribute vec2 uv;varying vec2 vUv;varying vec4 vOffset[2];void SMAANeighborhoodBlendingVS(vec2 texcoord){vOffset[0]=texcoord.xyxy+resolution.xyxy*vec4(-1.0,0.0,0.0,1.0);vOffset[1]=texcoord.xyxy+resolution.xyxy*vec4(1.0,0.0,0.0,-1.0);}void main(){vUv=uv;SMAANeighborhoodBlendingVS(vUv);gl_Position=vec4(position,1.0);}",fragmentShader:"precision highp float;uniform sampler2D tDiffuse;uniform sampler2D tColor;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[2];vec4 SMAANeighborhoodBlendingPS(vec2 texcoord,vec4 offset[2],sampler2D colorTex,sampler2D blendTex){vec4 a;a.xz=texture2D(blendTex,texcoord).xz;a.y=texture2D(blendTex,offset[1].zw).g;a.w=texture2D(blendTex,offset[1].xy).a;if(dot(a,vec4(1.0,1.0,1.0,1.0))<1e-5){return texture2D(colorTex,texcoord,0.0);}else{vec2 offset;offset.x=a.a>a.b ? a.a :-a.b;offset.y=a.g>a.r ?-a.g : a.r;if(abs(offset.x)>abs(offset.y)){offset.y=0.0;}else{offset.x=0.0;}vec4 C=texture2D(colorTex,texcoord,0.0);texcoord+=sign(offset)*resolution;vec4 Cop=texture2D(colorTex,texcoord,0.0);float s=abs(offset.x)>abs(offset.y)? abs(offset.x): abs(offset.y);C.xyz=pow(C.xyz,vec3(2.2));Cop.xyz=pow(Cop.xyz,vec3(2.2));vec4 mixed=mix(C,Cop,s);mixed.xyz=pow(mixed.xyz,vec3(1.0/2.2));return mixed;}}void main(){gl_FragColor=SMAANeighborhoodBlendingPS(vUv,vOffset,tColor,tDiffuse);}"})),!this.vertexBuffer||!this.sampleBuffer){this.vertexBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.sampleBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.vertexBuffer.updateData(new Float32Array(this.vertex)),this.sampleBuffer.updateData(new Float32Array(this.sampleCoord));var f=[{stride:12,name:"position",buffer:this.vertexBuffer,size:3,type:"FLOAT",offset:0},{stride:8,name:"uv",buffer:this.sampleBuffer,size:2,type:"FLOAT",offset:0}];this.vertexArray1=new La({gl:u,program:this.program1,attributes:f}),this.vertexArray2=new La({gl:u,program:this.program2,attributes:f}),this.vertexArray3=new La({gl:u,program:this.program3,attributes:f})}return{program1:this.program1,program2:this.program2,program3:this.program3}}},{key:"onResize",value:function(u){this.collectBrightBuffer=new Bs(u),this.bloomBuffer=new Bs(u)}},{key:"getExtraFbo",value:function(u){return this.collectBrightBuffer||(this.collectBrightBuffer=new Bs(u)),this.bloomBuffer||(this.bloomBuffer=new Bs(u)),{collectBrightBuffer:this.collectBrightBuffer.framebuffer,bloomBuffer:this.bloomBuffer.framebuffer}}},{key:"render",value:function(u){var f=u.gl,p=u.texture;u=u.fbo,this.getOptions(),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT);var S=this.getProgram(f),x=S.program1,T=S.program2;S=S.program3;var z=this.getExtraFbo(f),G=z.collectBrightBuffer;z=z.bloomBuffer;var P=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,P),f.bufferData(f.ARRAY_BUFFER,new Float32Array(this.vertex),f.STATIC_DRAW),f.enableVertexAttribArray(x.attributes.position),f.vertexAttribPointer(x.attributes.position,3,f.FLOAT,!1,0,0),f.enableVertexAttribArray(T.attributes.position),f.vertexAttribPointer(T.attributes.position,3,f.FLOAT,!1,0,0),f.enableVertexAttribArray(S.attributes.position),f.vertexAttribPointer(S.attributes.position,3,f.FLOAT,!1,0,0),P=f.createBuffer(),f.bindBuffer(f.ARRAY_BUFFER,P),f.bufferData(f.ARRAY_BUFFER,new Float32Array(this.sampleCoord),f.STATIC_DRAW),f.enableVertexAttribArray(x.attributes.uv),f.vertexAttribPointer(x.attributes.uv,2,f.FLOAT,!1,0,0),f.enableVertexAttribArray(T.attributes.uv),f.vertexAttribPointer(T.attributes.uv,2,f.FLOAT,!1,0,0),f.enableVertexAttribArray(S.attributes.uv),f.vertexAttribPointer(S.attributes.uv,2,f.FLOAT,!1,0,0),f.useProgram(x.program),f.bindFramebuffer(f.FRAMEBUFFER,G),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.activeTexture(f.TEXTURE2),f.bindTexture(f.TEXTURE_2D,p),f.uniform1i(x.uniforms.tDiffuse,2),f.uniform2fv(x.uniforms.resolution,[f.canvas.width,f.canvas.height]),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3),f.useProgram(T.program),f.bindFramebuffer(f.FRAMEBUFFER,z),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.activeTexture(f.TEXTURE2),f.bindTexture(f.TEXTURE_2D,G.texture),f.uniform1i(T.uniforms.uSampler,2),f.uniform2fv(T.uniforms.resolution,[f.canvas.width,f.canvas.height]),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3),f.useProgram(S.program),f.bindFramebuffer(f.FRAMEBUFFER,u),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.activeTexture(f.TEXTURE2),f.bindTexture(f.TEXTURE_2D,p),f.uniform1i(S.uniforms.tDiffuse,2),f.activeTexture(f.TEXTURE3),f.bindTexture(f.TEXTURE_2D,z.texture),f.uniform1i(S.uniforms.tColor,3),f.uniform2fv(S.uniforms.resolution,[f.canvas.width,f.canvas.height]),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3),f.bindBuffer(f.ARRAY_BUFFER,null),f.useProgram(null)}},{key:"getAreaTexture",value:function(){return"data:image/png;base64,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"}},{key:"getSearchTexture",value:function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAhCAIAAADiVupLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFZJREFUeNrs00EKgAAIRNEZ739mTQoiwmhRi4L/FiKiu9ERISkzbXdTVV3H4WhfOG6ehl1rNR7qDSF8hwkVcJXt+3A//I0Nv0GoCBUAAAAAAMA/LAIMAB+Dcg2OE2zsAAAAAElFTkSuQmCC"}}]),o}(hd),gm=function(C){function o(h){return On(this,o),wi(this,(o.__proto__||ri(o)).call(this,h))}return ji(o,C),Qn(o,[{key:"getProgram",value:function(u){return this.programSample||(this.programSample=new yo(u,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;varying vec2 vTextureCoord;void main(){float fStep=1.0/512.0;vec4 sample11=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t+1.0*fStep));vec4 sample12=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t+1.0*fStep));vec4 sample13=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t+1.0*fStep));vec4 sample21=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t));vec4 sample22=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t));vec4 sample23=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t));vec4 sample31=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t-1.0*fStep));vec4 sample32=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t-1.0*fStep));vec4 sample33=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t-1.0*fStep));vec4 blurSample=(sample11+sample12+sample13+sample21+2.0*sample22+sample23+sample31+sample32+sample33)/10.0;gl_FragColor=blurSample;}"}),this.vertexBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.sampleBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.vertexBuffer.updateData(new Float32Array(this.vertex)),this.sampleBuffer.updateData(new Float32Array(this.sampleCoord)),this.vertexArray=new La({gl:u,program:this.programSample,attributes:[{stride:12,name:"aPos",buffer:this.vertexBuffer,size:3,type:"FLOAT",offset:0},{stride:8,name:"aTextureCoord",buffer:this.sampleBuffer,size:2,type:"FLOAT",offset:0}]})),this.programSample}},{key:"render",value:function(u){var f=u.gl;u=u.texture,f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT);var p=this.getProgram(f);p.use(f),this.vertexArray.bind(),f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,u),f.uniform1i(p.uniforms.uSampler,1),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3)}}]),o}(hd),xx=function(C){function o(h){return On(this,o),wi(this,(o.__proto__||ri(o)).call(this,h))}return ji(o,C),Qn(o,[{key:"getProgram",value:function(u){return this.programBright||(this.programBright=new yo(u,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform float threshold;varying vec2 vTextureCoord;void main(){vec4 color=texture2D(uSampler,vTextureCoord);vec4 lightColor=max(vec4(0.0),(color-(1.0-threshold)/5.0));float brightness=dot(color.rgb,vec3(0.2126,0.7152,0.0722));if(brightness>threshold){color=lightColor;}else{color=vec4(0.0);}gl_FragColor=color;}"})),this.programBloom||(this.programBloom=new yo(u,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform bool isVertical;uniform vec2 canvasSize;uniform float blurSize;uniform float devicePixelRatio;varying vec2 vTextureCoord;void main(){float weight[10];weight[0]=0.2270270270;weight[1]=0.1945945946;weight[2]=0.1216216216;weight[3]=0.1135135135;weight[4]=0.0972972973;weight[5]=0.0608108108;weight[6]=0.0540540541;weight[7]=0.0270270270;weight[8]=0.0162162162;weight[9]=0.0081081081;vec2 offset=vec2(blurSize/canvasSize.x,blurSize/canvasSize.y)*devicePixelRatio;vec4 result=texture2D(uSampler,vTextureCoord)*weight[0];if(isVertical){for(int i=1;i<10;++i){result+=texture2D(uSampler,vTextureCoord+vec2(0.0,offset.y*float(i)))*weight[i];result+=texture2D(uSampler,vTextureCoord-vec2(0.0,offset.y*float(i)))*weight[i];}}else{for(int i=1;i<10;++i){result+=texture2D(uSampler,vTextureCoord+vec2(offset.x*float(i),0.0))*weight[i];result+=texture2D(uSampler,vTextureCoord-vec2(offset.x*float(i),0.0))*weight[i];}}gl_FragColor=result;}"})),this.programResult||(this.programResult=new yo(u,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D originalTexture;uniform sampler2D bloomTexture;varying vec2 vTextureCoord;void main(){vec4 color=texture2D(originalTexture,vTextureCoord);vec4 bloomColor=texture2D(bloomTexture,vTextureCoord);color+=bloomColor;gl_FragColor=color;}"})),{programBright:this.programBright,programBloom:this.programBloom,programResult:this.programResult}}},{key:"onResize",value:function(u){this.collectBrightBuffer=new Bs(u),this.bloomBuffer=new Bs(u)}},{key:"getExtraFbo",value:function(u){return this.collectBrightBuffer||(this.collectBrightBuffer=new Bs(u)),this.bloomBuffer||(this.bloomBuffer=new Bs(u)),{collectBrightBuffer:this.collectBrightBuffer.framebuffer,bloomBuffer:this.bloomBuffer.framebuffer}}},{key:"render",value:function(u){var f=u.gl,p=u.texture;u=u.fbo;var S=this.getOptions();f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT);var x=this.getProgram(f),T=x.programBright,z=x.programBloom;x=x.programResult;var G=this.getExtraFbo(f),P=G.collectBrightBuffer;G=G.bloomBuffer;var D=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,D),f.bufferData(f.ARRAY_BUFFER,new Float32Array(this.vertex),f.STATIC_DRAW),f.enableVertexAttribArray(T.attributes.aPos),f.vertexAttribPointer(T.attributes.aPos,3,f.FLOAT,!1,0,0),f.enableVertexAttribArray(z.attributes.aPos),f.vertexAttribPointer(z.attributes.aPos,3,f.FLOAT,!1,0,0),f.enableVertexAttribArray(x.attributes.aPos),f.vertexAttribPointer(x.attributes.aPos,3,f.FLOAT,!1,0,0),D=f.createBuffer(),f.bindBuffer(f.ARRAY_BUFFER,D),f.bufferData(f.ARRAY_BUFFER,new Float32Array(this.sampleCoord),f.STATIC_DRAW),f.enableVertexAttribArray(T.attributes.aTextureCoord),f.vertexAttribPointer(T.attributes.aTextureCoord,2,f.FLOAT,!1,0,0),f.enableVertexAttribArray(z.attributes.aTextureCoord),f.vertexAttribPointer(z.attributes.aTextureCoord,2,f.FLOAT,!1,0,0),f.enableVertexAttribArray(x.attributes.aTextureCoord),f.vertexAttribPointer(x.attributes.aTextureCoord,2,f.FLOAT,!1,0,0),f.useProgram(T.program),f.bindFramebuffer(f.FRAMEBUFFER,P),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,p),f.uniform1i(T.uniforms.uSampler,1),f.uniform1f(T.uniforms.threshold,S.threshold||0),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3),f.useProgram(z.program),f.bindFramebuffer(f.FRAMEBUFFER,G),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,P.texture),f.uniform1i(z.uniforms.uSampler,1),f.uniform1i(z.uniforms.isVertical,!0),f.uniform1f(z.uniforms.blurSize,S.blurSize||2),f.uniform1f(z.uniforms.devicePixelRatio,window.devicePixelRatio),f.uniform2fv(z.uniforms.canvasSize,[f.canvas.width,f.canvas.height]),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3),f.useProgram(z.program),f.bindFramebuffer(f.FRAMEBUFFER,P),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,G.texture),f.uniform1i(z.uniforms.uSampler,1),f.uniform1i(z.uniforms.isVertical,!1),f.uniform1f(z.uniforms.blurSize,S.blurSize||2),f.uniform1f(z.uniforms.devicePixelRatio,window.devicePixelRatio),f.uniform2fv(z.uniforms.canvasSize,[f.canvas.width,f.canvas.height]),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3),f.useProgram(x.program),f.bindFramebuffer(f.FRAMEBUFFER,u),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,p),f.uniform1i(x.uniforms.originalTexture,1),f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,P.texture),f.uniform1i(x.uniforms.bloomTexture,0),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3),f.bindBuffer(f.ARRAY_BUFFER,null),f.useProgram(null)}}]),o}(hd),Qy=function(C){function o(h){return On(this,o),wi(this,(o.__proto__||ri(o)).call(this,h))}return ji(o,C),Qn(o,[{key:"getProgram",value:function(u){return this.programBright||(this.programBright=new yo(u,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform float threshold;varying vec2 vTextureCoord;void main(){vec4 color=texture2D(uSampler,vTextureCoord);vec4 lightColor=max(vec4(0.0),(color-threshold));gl_FragColor=lightColor;}"})),this.programBloom||(this.programBloom=new yo(u,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform bool isVertical;uniform vec2 canvasSize;uniform float blurSize;uniform float devicePixelRatio;varying vec2 vTextureCoord;void main(){float weight[10];weight[0]=0.2270270270;weight[1]=0.1945945946;weight[2]=0.1216216216;weight[3]=0.1135135135;weight[4]=0.0972972973;weight[5]=0.0608108108;weight[6]=0.0540540541;weight[7]=0.0270270270;weight[8]=0.0162162162;weight[9]=0.0081081081;vec2 offset=vec2(blurSize/canvasSize.x,blurSize/canvasSize.y)*devicePixelRatio;vec4 result=texture2D(uSampler,vTextureCoord)*weight[0];if(isVertical){for(int i=1;i<10;++i){result+=texture2D(uSampler,vTextureCoord+vec2(0.0,offset.y*float(i)))*weight[i];result+=texture2D(uSampler,vTextureCoord-vec2(0.0,offset.y*float(i)))*weight[i];}}else{for(int i=1;i<10;++i){result+=texture2D(uSampler,vTextureCoord+vec2(offset.x*float(i),0.0))*weight[i];result+=texture2D(uSampler,vTextureCoord-vec2(offset.x*float(i),0.0))*weight[i];}}gl_FragColor=result;}"})),this.programResult||(this.programResult=new yo(u,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D originalTexture;uniform sampler2D bloomTexture;uniform float toneScale;varying vec2 vTextureCoord;void main(){vec4 color=texture2D(originalTexture,vTextureCoord)*toneScale;vec4 bloomColor=texture2D(bloomTexture,vTextureCoord);color+=bloomColor;gl_FragColor=color;}"})),{programBright:this.programBright,programBloom:this.programBloom,programResult:this.programResult}}},{key:"onResize",value:function(u){this.collectBrightBuffer=new Bs(u),this.bloomBuffer=new Bs(u)}},{key:"getExtraFbo",value:function(u){return this.collectBrightBuffer||(this.collectBrightBuffer=new Bs(u)),this.bloomBuffer||(this.bloomBuffer=new Bs(u)),{collectBrightBuffer:this.collectBrightBuffer.framebuffer,bloomBuffer:this.bloomBuffer.framebuffer}}},{key:"render",value:function(u){var f=u.gl,p=u.texture;u=u.fbo;var S=this.getOptions(),x="clarity"in S?S.clarity:1;x=Math.max(0,x),x=Math.min(1,x),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT);var T=this.getProgram(f),z=T.programBright,G=T.programBloom;T=T.programResult;var P=this.getExtraFbo(f),D=P.collectBrightBuffer;P=P.bloomBuffer;var U=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,U),f.bufferData(f.ARRAY_BUFFER,new Float32Array(this.vertex),f.STATIC_DRAW),f.enableVertexAttribArray(z.attributes.aPos),f.vertexAttribPointer(z.attributes.aPos,3,f.FLOAT,!1,0,0),f.enableVertexAttribArray(G.attributes.aPos),f.vertexAttribPointer(G.attributes.aPos,3,f.FLOAT,!1,0,0),f.enableVertexAttribArray(T.attributes.aPos),f.vertexAttribPointer(T.attributes.aPos,3,f.FLOAT,!1,0,0),U=f.createBuffer(),f.bindBuffer(f.ARRAY_BUFFER,U),f.bufferData(f.ARRAY_BUFFER,new Float32Array(this.sampleCoord),f.STATIC_DRAW),f.enableVertexAttribArray(z.attributes.aTextureCoord),f.vertexAttribPointer(z.attributes.aTextureCoord,2,f.FLOAT,!1,0,0),f.enableVertexAttribArray(G.attributes.aTextureCoord),f.vertexAttribPointer(G.attributes.aTextureCoord,2,f.FLOAT,!1,0,0),f.enableVertexAttribArray(T.attributes.aTextureCoord),f.vertexAttribPointer(T.attributes.aTextureCoord,2,f.FLOAT,!1,0,0),f.useProgram(z.program),f.bindFramebuffer(f.FRAMEBUFFER,D),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,p),f.uniform1i(z.uniforms.uSampler,1),f.uniform1f(z.uniforms.threshold,S.threshold||0),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3),f.useProgram(G.program),f.bindFramebuffer(f.FRAMEBUFFER,P),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,D.texture),f.uniform1i(G.uniforms.uSampler,1),f.uniform1i(G.uniforms.isVertical,!0),f.uniform1f(G.uniforms.blurSize,S.blurSize||2),f.uniform1f(G.uniforms.devicePixelRatio,window.devicePixelRatio),f.uniform2fv(G.uniforms.canvasSize,[f.canvas.width,f.canvas.height]),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3),f.useProgram(G.program),f.bindFramebuffer(f.FRAMEBUFFER,D),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,P.texture),f.uniform1i(G.uniforms.uSampler,1),f.uniform1i(G.uniforms.isVertical,!1),f.uniform1f(G.uniforms.blurSize,S.blurSize||2),f.uniform1f(G.uniforms.devicePixelRatio,window.devicePixelRatio),f.uniform2fv(G.uniforms.canvasSize,[f.canvas.width,f.canvas.height]),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3),f.useProgram(T.program),f.bindFramebuffer(f.FRAMEBUFFER,u),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,p),f.uniform1i(T.uniforms.originalTexture,1),f.uniform1f(T.uniforms.toneScale,x),f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,D.texture),f.uniform1i(T.uniforms.bloomTexture,0),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3),f.bindBuffer(f.ARRAY_BUFFER,null),f.useProgram(null)}}]),o}(hd),sp=function(C){function o(h){return On(this,o),wi(this,(o.__proto__||ri(o)).call(this,h))}return ji(o,C),Qn(o,[{key:"getProgram",value:function(u){return this.programSample||(this.programSample=new yo(u,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform vec2 canvasSize;varying vec2 vTextureCoord;void main(){float fStep=1.0/312.0;vec4 sample11=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t+1.0*fStep));vec4 sample12=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t+1.0*fStep));vec4 sample13=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t+1.0*fStep));vec4 sample21=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t));vec4 sample22=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t));vec4 sample23=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t));vec4 sample31=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t-1.0*fStep));vec4 sample32=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t-1.0*fStep));vec4 sample33=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t-1.0*fStep));vec4 blurSample=(sample11+sample12+sample13+sample21+2.0*sample22+sample23+sample31+sample32+sample33)/10.0;float desX=abs((gl_FragCoord.x-canvasSize.x/2.0)/(canvasSize.x/2.0));float desY=abs((gl_FragCoord.y-canvasSize.y/2.0)/(canvasSize.y/2.0));float factor=max(desX,desY);gl_FragColor=(sample22*(1.0-factor)+blurSample*factor);}"})),this.programSample}},{key:"render",value:function(u){var f=u.gl;u=u.texture;var p=this.getProgram(f);f.useProgram(p.program);var S=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,S),f.bufferData(f.ARRAY_BUFFER,new Float32Array(this.vertex),f.STATIC_DRAW),f.enableVertexAttribArray(p.attributes.aPos),f.vertexAttribPointer(p.attributes.aPos,3,f.FLOAT,!1,0,0),S=f.createBuffer(),f.bindBuffer(f.ARRAY_BUFFER,S),f.bufferData(f.ARRAY_BUFFER,new Float32Array(this.sampleCoord),f.STATIC_DRAW),f.enableVertexAttribArray(p.attributes.aTextureCoord),f.vertexAttribPointer(p.attributes.aTextureCoord,2,f.FLOAT,!1,0,0),f.activeTexture(f.TEXTURE1),f.bindTexture(f.TEXTURE_2D,u),f.uniform1i(p.uniforms.uSampler,1),f.uniform2fv(p.uniforms.canvasSize,[f.canvas.width,f.canvas.height]),f.drawArrays(f.TRIANGLES,0,this.vertex.length/3)}}]),o}(hd),jg=function(){function C(o){On(this,C),this.gl=o,this.effects=[],this.initFbo()}return Qn(C,[{key:"addEffect",value:function(h){this.effects.push(h)}},{key:"removeEffect",value:function(h){}},{key:"setEffects",value:function(h){this.effects=h}},{key:"onResize",value:function(){this.initFbo();var h=this.gl,u=this.effects;if(u&&1<u.length)for(var f=1;f<u.length;f++){var p=u[f];p.onResize&&p.onResize(h)}}},{key:"initFbo",value:function(){var h=this.gl;this.fbo=[new Bs(h),new Bs(h)]}},{key:"destroy",value:function(){this.effects=[],this.fbo=[],this.gl=null}},{key:"render",value:function(){var h=this.gl,u=this.effects;if(u&&0<u.length)for(var f={},p=0;p<u.length;p++){var S=this.fbo[p%2].framebuffer;p===u.length-1&&(S=null),h.bindFramebuffer(h.FRAMEBUFFER,S);var x=[0,0,0,0];h.clearColor(x[0],x[1],x[2],x[3]),h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT),u[p].render({isPickRender:!1,gl:h,texture:f.texture,fbo:S}),f=S}}}]),C}(),fa=function(C){function o(h){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h)),h.pickedColor=[-1,-1,-1],h}return ji(o,C),Qn(o,[{key:"getCommonDefaultOptions",value:function(){return{zIndex:0,repeat:!1,enablePicked:!1,autoSelect:!1,selectedIndex:-1,selectedColor:"rgba(20, 20, 200, 1.0)"}}},{key:"commonInitialize",value:function(u){var f=this.getOptions();this.gl=u,f.enablePicked&&(this.pickBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}))}},{key:"getCommonAttributes",value:function(){var u=[];return this.getOptions().enablePicked&&u.push({name:"aPickColor",buffer:this.pickBuffer,size:3,type:"FLOAT",stride:12,offset:0}),u}},{key:"getProperty",value:function(u,f,p){return Object.prototype.toString.call(f)==="[object Function]"?f(p):(f=p[u]||f,"properties"in p&&u in p.properties&&(f=p.properties[u]),f)}},{key:"normizedColor",value:function(u){var f=u;return u instanceof Array||(f=xe(u).unitArray()),f[3]===void 0&&(f[3]=1),f}},{key:"normizedPoint",value:function(u){var f=this.getPointOffset();if(!u||!u[0]||!u[1])return[f[0],f[1],0];var p=Number(u[0]),S=Number(u[1]);-180<=p&&180>=p&&-90<=S&&90>=S&&(S=this.webglLayer.map.lnglatToMercator(p,S),p=S[0],S=S[1]);var x=Number(u[2])||0;return this.webglLayer&&this.webglLayer.options.mapType==="cesium"&&window.Cesium?(p=this.convertLngLat([p,S]),x=window.Cesium.Cartesian3.fromDegrees(p[0],p[1],x),p=x.x,S=x.y,x=x.z):this.webglLayer&&this.webglLayer.options.mapType==="bmapgl"&&this.webglLayer.map.map.mapType==="B_EARTH_MAP"&&(p=this.convertLngLat([p,S]),x=this.webglLayer.map.map.getEarth().scene.fromLatLngToXYZ({lng:p[0],lat:p[1]}),p=x.x,S=x.y,x=x.z),3<u.length?[p-f[0],S-f[1],x].concat(ro(u.slice(3))):[p-f[0],S-f[1],x]}},{key:"convertLngLat",value:function(u){return[u[0]/2003750834e-2*180,180/Math.PI*(2*Math.atan(Math.exp(u[1]/2003750834e-2*180*Math.PI/180))-Math.PI/2)]}},{key:"getPointOffset",value:function(){var u=[0,0],f=this.getOptions();return this.webglLayer&&this.webglLayer.options.pointOffset?u=this.webglLayer.options.pointOffset:f.pointOffset&&(u=f.pointOffset),u}},{key:"indexToRgb",value:function(u){u++;var f=Math.floor(u/65536);u-=65536*f;var p=Math.floor(u/256);return[u-256*p,p,f]}},{key:"rgbToIndex",value:function(u){return u[0]+256*u[1]+65536*u[2]-1}},{key:"getCommonUniforms",value:function(u){u=u.isPickRender;var f=this.getOptions(),p={};if(f.enablePicked){var S=0<=f.selectedIndex?f.selectedIndex:-1;S=f.autoSelect?this.pickedColor:this.indexToRgb(S),p=_o(p,{uSelectedColor:this.normizedColor(f.selectedColor),uEnablePicked:f.enablePicked,uPickedColor:S.map(function(x){return x/255}),uIsPickRender:!!u})}return p}},{key:"pick",value:function(u,f){var p=this.gl;this.webglLayer.saveFramebuffer(),this.webglLayer.bindFramebuffer(this.webglLayer.pickFBO),this.webglLayer.clear(),this.render({gl:p,isPickRender:!0,matrix:this.webglLayer.matrix,projectionMatrix:this.webglLayer.projectionMatrix,viewMatrix:this.webglLayer.viewMatrix,orthoMatrix:this.webglLayer.orthoMatrix});var S=new Uint8Array(4);return p.readPixels(u*window.devicePixelRatio,p.canvas.height-f*window.devicePixelRatio,1,1,p.RGBA,p.UNSIGNED_BYTE,S),u=this.rgbToIndex(S),f=this.getData(),this.pickedColor=[S[0],S[1],S[2]],this.webglLayer.restoreFramebuffer(),{dataIndex:u,dataItem:f[u]}}},{key:"setGLState",value:function(u){this.webglLayer.stateManager.setState(u)}},{key:"addMultipleCoords",value:function(u,f,p){if(!this.options.repeat||!this.webglLayer||this.webglLayer.options.mapType!=="bmapgl"||this.webglLayer.map.map.mapType==="B_EARTH_MAP")return[u];var S=this.webglLayer.map.map;f=f||S.getZoom();var x=p?S.worldSize(f):4007545274461451e-8;if(f=function(J){return[[J[0]-x,J[1],J[2]||0],[J[0]+x,J[1],J[2]||0]]},u instanceof Array&&!(u[0]instanceof Array))return f=f(u),f=ms(f,2),[u,f[0],f[1]];if(u instanceof Array&&u[0]instanceof Array&&!(u[0][0]instanceof Array)){p=[],S=[];for(var T=0;T<u.length;T++){var z=f(u[T]);z=ms(z,2);var G=z[1];p.push(z[0]),S.push(G)}return[u,p,S]}for(p=[],S=[],T=0;T<u.length;T++){z=[],G=[];for(var P=0;P<u[T].length;P++){var D=f(u[T][P]);D=ms(D,2);var U=D[1];z.push(D[0]),G.push(U)}p.push(z),S.push(G)}return[u,p,S]}}]),o}(ap),Ug=function(C){function o(h){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h)),h.bufferData=[],h.initializeTime=new Date,h}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{size:10,unit:"px",color:"blue"}}},{key:"initialize",value:function(u){this.gl=u;var f=this.getOptions();this.program=new yo(this.gl,{vertexShader:`attribute vec3 aPos;attribute float aSize;attribute float aIndex;attribute vec4 aColor;varying vec4 vColor;varying vec4 vPosition;varying vec4 vFragPosition;varying float vSize;uniform mat4 uMatrix;uniform float uZoomUnits;uniform vec4 uSelectedColor;void main(){vColor=aColor;float x=aPos.x;float y=aPos.y;vSize=aSize*uZoomUnits;if(aIndex==1.0){x+=vSize;y-=vSize;}else if(aIndex==2.0){x-=vSize;y+=vSize;}else if(aIndex==3.0){x+=vSize;y+=vSize;}else{x-=vSize;y-=vSize;}vPosition=vec4(aPos.xyz,1.0);vFragPosition=vec4(x,y,aPos.z,1.0);gl_Position=uMatrix*vFragPosition;
#if defined(PICK)
if(mapvIsPicked()){vColor=uSelectedColor;}
#endif
}`,fragmentShader:"varying vec4 vPosition;varying float vSize;varying vec4 vFragPosition;varying vec4 vColor;uniform mat4 uMatrix;uniform float uTime;uniform float duration;uniform float trail;uniform float lineWidth;void main(){float d=distance(vFragPosition.xy,vPosition.xy);if(d>vSize){discard;}vec4 color=vColor;if(d>0.9*vSize&&d<=vSize){color.a*=1.0-smoothstep(0.9*vSize,vSize,d);}gl_FragColor=color;}",defines:f.enablePicked?["PICK"]:[]},this),this.buffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Ti({gl:u,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),f=[{stride:36,name:"aPos",buffer:this.buffer,size:3,type:"FLOAT",offset:0},{stride:36,name:"aSize",buffer:this.buffer,size:1,type:"FLOAT",offset:12},{stride:36,name:"aIndex",buffer:this.buffer,size:1,type:"FLOAT",offset:16},{stride:36,name:"aColor",buffer:this.buffer,size:4,type:"FLOAT",offset:20}],f=f.concat(this.getCommonAttributes()),this.vertexArray=new La({gl:u,program:this.program,attributes:f})}},{key:"onChanged",value:function(u,f){this.gl&&f&&(this.uniforms={},this.data=f,this.processData(),u.enablePicked&&this.parsePickData(f))}},{key:"processData",value:function(){var u=this,f=[],p=[];this.data.forEach(function(S,x){var T=S.color||u.options.color,z=S.size||u.options.size;T=u.normizedColor(T),S=u.normizedPoint(S.geometry.coordinates);for(var G=0;4>G;G++)f.push(S[0],S[1],0,z,G),f.push(T[0],T[1],T[2],T[3]);T=4*x,0<x&&p.push(T-1,T),p.push(T,T+1,T+2,T+3)}),this.bufferData=f,this.indexData=p,this.buffer.updateData(new Float32Array(f)),this.indexBuffer.updateData(new Uint32Array(p))}},{key:"parsePickData",value:function(u){var f=[];if(this.getOptions().enablePicked){for(var p=0;p<u.length;p++){var S=this.indexToRgb(p);f.push(S[0]/255,S[1]/255,S[2]/255),f.push(S[0]/255,S[1]/255,S[2]/255),f.push(S[0]/255,S[1]/255,S[2]/255),f.push(S[0]/255,S[1]/255,S[2]/255)}this.pickBuffer.updateData(new Float32Array(f))}}},{key:"render",value:function(u){var f=this.program,p=u.gl,S=u.matrix;f.use(p),this.vertexArray.bind(),this.indexBuffer.bind();var x=this.map.getZoomUnits();_o(this.uniforms,this.getCommonUniforms(u),{uZoomUnits:this.options.unit==="px"?x:1,uMatrix:S}),f.setUniforms(this.uniforms),p.drawElements(p.TRIANGLE_STRIP,this.indexData.length,p.UNSIGNED_INT,0)}}]),o}(fa),lp={wave:"varying vec4 vPosition;varying float vSize;varying vec4 vFragPosition;varying vec4 vColor;varying float vStartTime;varying float vRadius;uniform mat4 uMatrix;uniform float uTime;uniform float duration;uniform float trail;varying float vWidth;void main(){float d=distance(vFragPosition.xy,vPosition.xy);if(d>=vRadius){discard;}vec4 color=vColor;float R=vRadius;float center=vSize;float time=vStartTime+uTime;float alpha=sin((R-d)/R*trail*2.0*3.14+time/duration);if(d<=center){if(d>0.9*center&&d<=center){if(alpha>=0.5){color.a=0.9;}else{color.a=1.0-smoothstep(0.9*center,center,d);}}}else{if(alpha>=0.5){color.a=0.9;if(alpha>=0.5&&alpha<=0.6){color.a=smoothstep(0.0,0.1,alpha-0.5);}if(d>=0.98*R&&d<=R){color.a*=1.0-smoothstep(0.98,1.0,d/R);}}else{color.a=0.0;}}gl_FragColor=color;}",bubble:"varying vec4 vPosition;varying float vSize;varying vec4 vFragPosition;varying vec4 vColor;varying float vStartTime;varying float vRadius;uniform mat4 uMatrix;uniform float uTime;uniform float duration;uniform float trail;varying float vWidth;void main(){float d=distance(vFragPosition.xy,vPosition.xy);if(d>=vRadius){discard;}float time=vStartTime+uTime;float range=mod(time,(duration+trail));float percent=0.0;if(range<=duration){percent=range/duration;}else{percent=1.0;}float center=vSize;float R=vRadius;float r=R*percent;vec4 color=vColor;if(d<=center){if(d>0.9*center&&d<=center){color.a=1.0-smoothstep(0.9*center,center,d);}}else{if(d<r){color.a=smoothstep(0.1,0.9,pow(d/r,2.0)*0.9);if(d>=0.9*r&&d<=r){color.a*=1.0-smoothstep(0.9,1.0,d/r);}if(range>duration){color.a*=1.0-(range-duration)/trail;}}else{color.a=0.0;}}gl_FragColor=color;}"},Fu=function(C){function o(h){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h)),h.autoUpdate=!0,h.bufferData=[],h.initializeTime=new Date,h}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{depthWrite:!1,type:"bubble",size:10,duration:1,trail:1,unit:"px",random:!0,color:"blue",radius:function(f){return 2*f}}}},{key:"initialize",value:function(u){this.gl=u,this.program=new yo(this.gl,{vertexShader:`attribute vec3 aPos;attribute float aSize;attribute float aIndex;attribute vec4 aColor;attribute float aStartTime;attribute float aRadius;varying vec4 vColor;varying vec4 vPosition;varying vec4 vFragPosition;varying float vSize;varying float vWidth;varying float vStartTime;varying float vRadius;uniform mat4 uMatrix;uniform float uZoomUnits;uniform float lineWidth;uniform vec4 uSelectedColor;void main(){vColor=aColor;vWidth=lineWidth;vStartTime=aStartTime;vSize=aSize*uZoomUnits;vRadius=aRadius*uZoomUnits;float x=aPos.x;float y=aPos.y;float R=vRadius;if(aIndex==1.0){x+=R;y-=R;}else if(aIndex==2.0){x-=R;y+=R;}else if(aIndex==3.0){x+=R;y+=R;}else{x-=R;y-=R;}vPosition=vec4(aPos.xyz,1.0);vFragPosition=vec4(x,y,aPos.z,1.0);gl_Position=uMatrix*vFragPosition;
#if defined(PICK)
if(mapvIsPicked()){vColor=uSelectedColor;}
#endif
}`,fragmentShader:lp[this.options.type]||"bubble",defines:this.options.enablePicked?["PICK"]:[]},this),this.buffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Ti({gl:u,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"});var f=[{stride:44,name:"aPos",buffer:this.buffer,size:3,type:"FLOAT",offset:0},{stride:44,name:"aSize",buffer:this.buffer,size:1,type:"FLOAT",offset:12},{stride:44,name:"aIndex",buffer:this.buffer,size:1,type:"FLOAT",offset:16},{stride:44,name:"aColor",buffer:this.buffer,size:4,type:"FLOAT",offset:20},{stride:44,name:"aRadius",buffer:this.buffer,size:1,type:"FLOAT",offset:36},{stride:44,name:"aStartTime",buffer:this.buffer,size:1,type:"FLOAT",offset:40}];f=f.concat(this.getCommonAttributes()),this.vertexArray=new La({gl:u,program:this.program,attributes:f})}},{key:"onChanged",value:function(u,f){this.gl&&f&&(this.uniforms={duration:u.duration,trail:u.trail},this.data=f,this.processData(),u.enablePicked&&this.parsePickData(f))}},{key:"processData",value:function(){var u=this,f=[],p=[];this.data.forEach(function(S,x){var T=S.size||u.options.size,z=S.radius||u.options.radius||1.618*T;typeof z=="function"&&(z=z(T));var G=S.color||u.options.color;G=u.normizedColor(G),S=u.normizedPoint(S.geometry.coordinates);for(var P=u.options.random?Math.random()*u.data.length*9999:0,D=0;4>D;D++)f.push(S[0],S[1],0,T,D),f.push(G[0],G[1],G[2],G[3]),f.push(z),f.push(P);T=4*x,0<x&&p.push(T-1,T),p.push(T,T+1,T+2,T+3)}),this.bufferData=f,this.indexData=p,this.buffer.updateData(new Float32Array(f)),this.indexBuffer.updateData(new Uint32Array(p))}},{key:"parsePickData",value:function(u){var f=[];if(this.getOptions().enablePicked){for(var p=0;p<u.length;p++){var S=this.indexToRgb(p);f.push(S[0]/255,S[1]/255,S[2]/255),f.push(S[0]/255,S[1]/255,S[2]/255),f.push(S[0]/255,S[1]/255,S[2]/255),f.push(S[0]/255,S[1]/255,S[2]/255)}this.pickBuffer.updateData(new Float32Array(f))}}},{key:"render",value:function(u){var f=this.getOptions(),p=this.program,S=u.gl;u=u.matrix,p.use(S);var x=this.map.getZoomUnits();_o(this.uniforms,{uTime:(new Date-this.initializeTime)/1e3,uZoomUnits:f.unit==="m"?1:x,lineWidth:f.lineWidth*x,uMatrix:u}),p.setUniforms(this.uniforms),S.enable(S.BLEND),S.blendEquation(S.FUNC_ADD),S.blendFunc(S.SRC_ALPHA,S.ONE_MINUS_SRC_ALPHA),("depthWrite"in f||"depthTest"in f)&&(f.depthTest===!1&&S.disable(S.DEPTH_TEST),f.depthWrite===!1&&S.depthMask(!1)),0<this.indexData.length&&(this.vertexArray.bind(),this.indexBuffer.bind(),S.drawElements(S.TRIANGLE_STRIP,this.indexData.length,S.UNSIGNED_INT,0)),("depthWrite"in f||"depthTest"in f)&&(f.depthTest===!1&&S.enable(S.DEPTH_TEST),f.depthWrite===!1&&S.depthMask(!0)),S.useProgram(null)}}]),o}(fa),up=Gs(lp),$y=Fe(function(C,o){o.__esModule=!0;var h=Gd&&Gd.__esModule?Gd:{default:Gd},u=Ya&&Ya.__esModule?Ya:{default:Ya};o.default=function f(p,S,x){p===null&&(p=Function.prototype);var T=(0,u.default)(p,S);if(T===void 0){if(p=(0,h.default)(p),p!==null)return f(p,S,x)}else return"value"in T?T.value:(S=T.get,S===void 0?void 0:S.call(x))}}),ac=We($y),Fl=Fe(function(C,o){Object.defineProperty(o,"__esModule",{value:!0}),o.setMatrixArrayType=function(p){o.ARRAY_TYPE=u=p},o.toRadian=function(p){return p*f},o.equals=function(p,S){return Math.abs(p-S)<=h*Math.max(1,Math.abs(p),Math.abs(S))},o.RANDOM=o.ARRAY_TYPE=o.EPSILON=void 0;var h=1e-6;o.EPSILON=h;var u=typeof Float32Array!="undefined"?Float32Array:Array;o.ARRAY_TYPE=u,o.RANDOM=Math.random;var f=Math.PI/180});We(Fl);var v0=Fe(function(C,o){function h(p,S,x){var T=S[0],z=S[1],G=S[2];S=S[3];var P=x[0],D=x[1],U=x[2];return x=x[3],p[0]=T*P+G*D,p[1]=z*P+S*D,p[2]=T*U+G*x,p[3]=z*U+S*x,p}function u(p,S,x){return p[0]=S[0]-x[0],p[1]=S[1]-x[1],p[2]=S[2]-x[2],p[3]=S[3]-x[3],p}Object.defineProperty(o,"__esModule",{value:!0}),o.create=function(){var p=new f.ARRAY_TYPE(4);return f.ARRAY_TYPE!=Float32Array&&(p[1]=0,p[2]=0),p[0]=1,p[3]=1,p},o.clone=function(p){var S=new f.ARRAY_TYPE(4);return S[0]=p[0],S[1]=p[1],S[2]=p[2],S[3]=p[3],S},o.copy=function(p,S){return p[0]=S[0],p[1]=S[1],p[2]=S[2],p[3]=S[3],p},o.identity=function(p){return p[0]=1,p[1]=0,p[2]=0,p[3]=1,p},o.fromValues=function(p,S,x,T){var z=new f.ARRAY_TYPE(4);return z[0]=p,z[1]=S,z[2]=x,z[3]=T,z},o.set=function(p,S,x,T,z){return p[0]=S,p[1]=x,p[2]=T,p[3]=z,p},o.transpose=function(p,S){if(p===S){var x=S[1];p[1]=S[2],p[2]=x}else p[0]=S[0],p[1]=S[2],p[2]=S[1],p[3]=S[3];return p},o.invert=function(p,S){var x=S[0],T=S[1],z=S[2];S=S[3];var G=x*S-z*T;return G?(G=1/G,p[0]=S*G,p[1]=-T*G,p[2]=-z*G,p[3]=x*G,p):null},o.adjoint=function(p,S){var x=S[0];return p[0]=S[3],p[1]=-S[1],p[2]=-S[2],p[3]=x,p},o.determinant=function(p){return p[0]*p[3]-p[2]*p[1]},o.multiply=h,o.rotate=function(p,S,x){var T=S[0],z=S[1],G=S[2];S=S[3];var P=Math.sin(x);return x=Math.cos(x),p[0]=T*x+G*P,p[1]=z*x+S*P,p[2]=T*-P+G*x,p[3]=z*-P+S*x,p},o.scale=function(p,S,x){var T=S[1],z=S[2],G=S[3],P=x[0];return x=x[1],p[0]=S[0]*P,p[1]=T*P,p[2]=z*x,p[3]=G*x,p},o.fromRotation=function(p,S){var x=Math.sin(S);return S=Math.cos(S),p[0]=S,p[1]=x,p[2]=-x,p[3]=S,p},o.fromScaling=function(p,S){return p[0]=S[0],p[1]=0,p[2]=0,p[3]=S[1],p},o.str=function(p){return"mat2("+p[0]+", "+p[1]+", "+p[2]+", "+p[3]+")"},o.frob=function(p){return Math.sqrt(Math.pow(p[0],2)+Math.pow(p[1],2)+Math.pow(p[2],2)+Math.pow(p[3],2))},o.LDU=function(p,S,x,T){return p[2]=T[2]/T[0],x[0]=T[0],x[1]=T[1],x[3]=T[3]-p[2]*x[1],[p,S,x]},o.add=function(p,S,x){return p[0]=S[0]+x[0],p[1]=S[1]+x[1],p[2]=S[2]+x[2],p[3]=S[3]+x[3],p},o.subtract=u,o.exactEquals=function(p,S){return p[0]===S[0]&&p[1]===S[1]&&p[2]===S[2]&&p[3]===S[3]},o.equals=function(p,S){var x=p[0],T=p[1],z=p[2];p=p[3];var G=S[0],P=S[1],D=S[2];return S=S[3],Math.abs(x-G)<=f.EPSILON*Math.max(1,Math.abs(x),Math.abs(G))&&Math.abs(T-P)<=f.EPSILON*Math.max(1,Math.abs(T),Math.abs(P))&&Math.abs(z-D)<=f.EPSILON*Math.max(1,Math.abs(z),Math.abs(D))&&Math.abs(p-S)<=f.EPSILON*Math.max(1,Math.abs(p),Math.abs(S))},o.multiplyScalar=function(p,S,x){return p[0]=S[0]*x,p[1]=S[1]*x,p[2]=S[2]*x,p[3]=S[3]*x,p},o.multiplyScalarAndAdd=function(p,S,x,T){return p[0]=S[0]+x[0]*T,p[1]=S[1]+x[1]*T,p[2]=S[2]+x[2]*T,p[3]=S[3]+x[3]*T,p},o.sub=o.mul=void 0;var f=function(p){if(p&&p.__esModule)return p;var S={};if(p!=null){for(var x in p)if(Object.prototype.hasOwnProperty.call(p,x)){var T=Ea&&Ka?Ka(p,x):{};T.get||T.set?Ea(S,x,T):S[x]=p[x]}}return S.default=p,S}(Fl);o.mul=h,o.sub=u});We(v0);var fd=Fe(function(C,o){function h(p,S,x){var T=S[0],z=S[1],G=S[2],P=S[3],D=S[4];S=S[5];var U=x[0],V=x[1],J=x[2],ne=x[3],re=x[4];return x=x[5],p[0]=T*U+G*V,p[1]=z*U+P*V,p[2]=T*J+G*ne,p[3]=z*J+P*ne,p[4]=T*re+G*x+D,p[5]=z*re+P*x+S,p}function u(p,S,x){return p[0]=S[0]-x[0],p[1]=S[1]-x[1],p[2]=S[2]-x[2],p[3]=S[3]-x[3],p[4]=S[4]-x[4],p[5]=S[5]-x[5],p}Object.defineProperty(o,"__esModule",{value:!0}),o.create=function(){var p=new f.ARRAY_TYPE(6);return f.ARRAY_TYPE!=Float32Array&&(p[1]=0,p[2]=0,p[4]=0,p[5]=0),p[0]=1,p[3]=1,p},o.clone=function(p){var S=new f.ARRAY_TYPE(6);return S[0]=p[0],S[1]=p[1],S[2]=p[2],S[3]=p[3],S[4]=p[4],S[5]=p[5],S},o.copy=function(p,S){return p[0]=S[0],p[1]=S[1],p[2]=S[2],p[3]=S[3],p[4]=S[4],p[5]=S[5],p},o.identity=function(p){return p[0]=1,p[1]=0,p[2]=0,p[3]=1,p[4]=0,p[5]=0,p},o.fromValues=function(p,S,x,T,z,G){var P=new f.ARRAY_TYPE(6);return P[0]=p,P[1]=S,P[2]=x,P[3]=T,P[4]=z,P[5]=G,P},o.set=function(p,S,x,T,z,G,P){return p[0]=S,p[1]=x,p[2]=T,p[3]=z,p[4]=G,p[5]=P,p},o.invert=function(p,S){var x=S[0],T=S[1],z=S[2],G=S[3],P=S[4];S=S[5];var D=x*G-T*z;return D?(D=1/D,p[0]=G*D,p[1]=-T*D,p[2]=-z*D,p[3]=x*D,p[4]=(z*S-G*P)*D,p[5]=(T*P-x*S)*D,p):null},o.determinant=function(p){return p[0]*p[3]-p[1]*p[2]},o.multiply=h,o.rotate=function(p,S,x){var T=S[0],z=S[1],G=S[2],P=S[3],D=S[4];S=S[5];var U=Math.sin(x);return x=Math.cos(x),p[0]=T*x+G*U,p[1]=z*x+P*U,p[2]=T*-U+G*x,p[3]=z*-U+P*x,p[4]=D,p[5]=S,p},o.scale=function(p,S,x){var T=S[1],z=S[2],G=S[3],P=S[4],D=S[5],U=x[0];return x=x[1],p[0]=S[0]*U,p[1]=T*U,p[2]=z*x,p[3]=G*x,p[4]=P,p[5]=D,p},o.translate=function(p,S,x){var T=S[0],z=S[1],G=S[2],P=S[3],D=S[4];S=S[5];var U=x[0];return x=x[1],p[0]=T,p[1]=z,p[2]=G,p[3]=P,p[4]=T*U+G*x+D,p[5]=z*U+P*x+S,p},o.fromRotation=function(p,S){var x=Math.sin(S);return S=Math.cos(S),p[0]=S,p[1]=x,p[2]=-x,p[3]=S,p[4]=0,p[5]=0,p},o.fromScaling=function(p,S){return p[0]=S[0],p[1]=0,p[2]=0,p[3]=S[1],p[4]=0,p[5]=0,p},o.fromTranslation=function(p,S){return p[0]=1,p[1]=0,p[2]=0,p[3]=1,p[4]=S[0],p[5]=S[1],p},o.str=function(p){return"mat2d("+p[0]+", "+p[1]+", "+p[2]+", "+p[3]+", "+p[4]+", "+p[5]+")"},o.frob=function(p){return Math.sqrt(Math.pow(p[0],2)+Math.pow(p[1],2)+Math.pow(p[2],2)+Math.pow(p[3],2)+Math.pow(p[4],2)+Math.pow(p[5],2)+1)},o.add=function(p,S,x){return p[0]=S[0]+x[0],p[1]=S[1]+x[1],p[2]=S[2]+x[2],p[3]=S[3]+x[3],p[4]=S[4]+x[4],p[5]=S[5]+x[5],p},o.subtract=u,o.multiplyScalar=function(p,S,x){return p[0]=S[0]*x,p[1]=S[1]*x,p[2]=S[2]*x,p[3]=S[3]*x,p[4]=S[4]*x,p[5]=S[5]*x,p},o.multiplyScalarAndAdd=function(p,S,x,T){return p[0]=S[0]+x[0]*T,p[1]=S[1]+x[1]*T,p[2]=S[2]+x[2]*T,p[3]=S[3]+x[3]*T,p[4]=S[4]+x[4]*T,p[5]=S[5]+x[5]*T,p},o.exactEquals=function(p,S){return p[0]===S[0]&&p[1]===S[1]&&p[2]===S[2]&&p[3]===S[3]&&p[4]===S[4]&&p[5]===S[5]},o.equals=function(p,S){var x=p[0],T=p[1],z=p[2],G=p[3],P=p[4];p=p[5];var D=S[0],U=S[1],V=S[2],J=S[3],ne=S[4];return S=S[5],Math.abs(x-D)<=f.EPSILON*Math.max(1,Math.abs(x),Math.abs(D))&&Math.abs(T-U)<=f.EPSILON*Math.max(1,Math.abs(T),Math.abs(U))&&Math.abs(z-V)<=f.EPSILON*Math.max(1,Math.abs(z),Math.abs(V))&&Math.abs(G-J)<=f.EPSILON*Math.max(1,Math.abs(G),Math.abs(J))&&Math.abs(P-ne)<=f.EPSILON*Math.max(1,Math.abs(P),Math.abs(ne))&&Math.abs(p-S)<=f.EPSILON*Math.max(1,Math.abs(p),Math.abs(S))},o.sub=o.mul=void 0;var f=function(p){if(p&&p.__esModule)return p;var S={};if(p!=null){for(var x in p)if(Object.prototype.hasOwnProperty.call(p,x)){var T=Ea&&Ka?Ka(p,x):{};T.get||T.set?Ea(S,x,T):S[x]=p[x]}}return S.default=p,S}(Fl);o.mul=h,o.sub=u});We(fd);var sl=Fe(function(C,o){function h(p,S,x){var T=S[0],z=S[1],G=S[2],P=S[3],D=S[4],U=S[5],V=S[6],J=S[7];S=S[8];var ne=x[0],re=x[1],Q=x[2],he=x[3],Me=x[4],De=x[5],Ue=x[6],Ve=x[7];return x=x[8],p[0]=ne*T+re*P+Q*V,p[1]=ne*z+re*D+Q*J,p[2]=ne*G+re*U+Q*S,p[3]=he*T+Me*P+De*V,p[4]=he*z+Me*D+De*J,p[5]=he*G+Me*U+De*S,p[6]=Ue*T+Ve*P+x*V,p[7]=Ue*z+Ve*D+x*J,p[8]=Ue*G+Ve*U+x*S,p}function u(p,S,x){return p[0]=S[0]-x[0],p[1]=S[1]-x[1],p[2]=S[2]-x[2],p[3]=S[3]-x[3],p[4]=S[4]-x[4],p[5]=S[5]-x[5],p[6]=S[6]-x[6],p[7]=S[7]-x[7],p[8]=S[8]-x[8],p}Object.defineProperty(o,"__esModule",{value:!0}),o.create=function(){var p=new f.ARRAY_TYPE(9);return f.ARRAY_TYPE!=Float32Array&&(p[1]=0,p[2]=0,p[3]=0,p[5]=0,p[6]=0,p[7]=0),p[0]=1,p[4]=1,p[8]=1,p},o.fromMat4=function(p,S){return p[0]=S[0],p[1]=S[1],p[2]=S[2],p[3]=S[4],p[4]=S[5],p[5]=S[6],p[6]=S[8],p[7]=S[9],p[8]=S[10],p},o.clone=function(p){var S=new f.ARRAY_TYPE(9);return S[0]=p[0],S[1]=p[1],S[2]=p[2],S[3]=p[3],S[4]=p[4],S[5]=p[5],S[6]=p[6],S[7]=p[7],S[8]=p[8],S},o.copy=function(p,S){return p[0]=S[0],p[1]=S[1],p[2]=S[2],p[3]=S[3],p[4]=S[4],p[5]=S[5],p[6]=S[6],p[7]=S[7],p[8]=S[8],p},o.fromValues=function(p,S,x,T,z,G,P,D,U){var V=new f.ARRAY_TYPE(9);return V[0]=p,V[1]=S,V[2]=x,V[3]=T,V[4]=z,V[5]=G,V[6]=P,V[7]=D,V[8]=U,V},o.set=function(p,S,x,T,z,G,P,D,U,V){return p[0]=S,p[1]=x,p[2]=T,p[3]=z,p[4]=G,p[5]=P,p[6]=D,p[7]=U,p[8]=V,p},o.identity=function(p){return p[0]=1,p[1]=0,p[2]=0,p[3]=0,p[4]=1,p[5]=0,p[6]=0,p[7]=0,p[8]=1,p},o.transpose=function(p,S){if(p===S){var x=S[1],T=S[2],z=S[5];p[1]=S[3],p[2]=S[6],p[3]=x,p[5]=S[7],p[6]=T,p[7]=z}else p[0]=S[0],p[1]=S[3],p[2]=S[6],p[3]=S[1],p[4]=S[4],p[5]=S[7],p[6]=S[2],p[7]=S[5],p[8]=S[8];return p},o.invert=function(p,S){var x=S[0],T=S[1],z=S[2],G=S[3],P=S[4],D=S[5],U=S[6],V=S[7];S=S[8];var J=S*P-D*V,ne=-S*G+D*U,re=V*G-P*U,Q=x*J+T*ne+z*re;return Q?(Q=1/Q,p[0]=J*Q,p[1]=(-S*T+z*V)*Q,p[2]=(D*T-z*P)*Q,p[3]=ne*Q,p[4]=(S*x-z*U)*Q,p[5]=(-D*x+z*G)*Q,p[6]=re*Q,p[7]=(-V*x+T*U)*Q,p[8]=(P*x-T*G)*Q,p):null},o.adjoint=function(p,S){var x=S[0],T=S[1],z=S[2],G=S[3],P=S[4],D=S[5],U=S[6],V=S[7];return S=S[8],p[0]=P*S-D*V,p[1]=z*V-T*S,p[2]=T*D-z*P,p[3]=D*U-G*S,p[4]=x*S-z*U,p[5]=z*G-x*D,p[6]=G*V-P*U,p[7]=T*U-x*V,p[8]=x*P-T*G,p},o.determinant=function(p){var S=p[3],x=p[4],T=p[5],z=p[6],G=p[7],P=p[8];return p[0]*(P*x-T*G)+p[1]*(-P*S+T*z)+p[2]*(G*S-x*z)},o.multiply=h,o.translate=function(p,S,x){var T=S[0],z=S[1],G=S[2],P=S[3],D=S[4],U=S[5],V=S[6],J=S[7];S=S[8];var ne=x[0];return x=x[1],p[0]=T,p[1]=z,p[2]=G,p[3]=P,p[4]=D,p[5]=U,p[6]=ne*T+x*P+V,p[7]=ne*z+x*D+J,p[8]=ne*G+x*U+S,p},o.rotate=function(p,S,x){var T=S[0],z=S[1],G=S[2],P=S[3],D=S[4],U=S[5],V=S[6],J=S[7];S=S[8];var ne=Math.sin(x);return x=Math.cos(x),p[0]=x*T+ne*P,p[1]=x*z+ne*D,p[2]=x*G+ne*U,p[3]=x*P-ne*T,p[4]=x*D-ne*z,p[5]=x*U-ne*G,p[6]=V,p[7]=J,p[8]=S,p},o.scale=function(p,S,x){var T=x[0];return x=x[1],p[0]=T*S[0],p[1]=T*S[1],p[2]=T*S[2],p[3]=x*S[3],p[4]=x*S[4],p[5]=x*S[5],p[6]=S[6],p[7]=S[7],p[8]=S[8],p},o.fromTranslation=function(p,S){return p[0]=1,p[1]=0,p[2]=0,p[3]=0,p[4]=1,p[5]=0,p[6]=S[0],p[7]=S[1],p[8]=1,p},o.fromRotation=function(p,S){var x=Math.sin(S);return S=Math.cos(S),p[0]=S,p[1]=x,p[2]=0,p[3]=-x,p[4]=S,p[5]=0,p[6]=0,p[7]=0,p[8]=1,p},o.fromScaling=function(p,S){return p[0]=S[0],p[1]=0,p[2]=0,p[3]=0,p[4]=S[1],p[5]=0,p[6]=0,p[7]=0,p[8]=1,p},o.fromMat2d=function(p,S){return p[0]=S[0],p[1]=S[1],p[2]=0,p[3]=S[2],p[4]=S[3],p[5]=0,p[6]=S[4],p[7]=S[5],p[8]=1,p},o.fromQuat=function(p,S){var x=S[0],T=S[1],z=S[2];S=S[3];var G=x+x,P=T+T,D=z+z;x*=G;var U=T*G;T*=P;var V=z*G,J=z*P;return z*=D,G*=S,P*=S,S*=D,p[0]=1-T-z,p[3]=U-S,p[6]=V+P,p[1]=U+S,p[4]=1-x-z,p[7]=J-G,p[2]=V-P,p[5]=J+G,p[8]=1-x-T,p},o.normalFromMat4=function(p,S){var x=S[0],T=S[1],z=S[2],G=S[3],P=S[4],D=S[5],U=S[6],V=S[7],J=S[8],ne=S[9],re=S[10],Q=S[11],he=S[12],Me=S[13],De=S[14];S=S[15];var Ue=x*D-T*P,Ve=x*U-z*P,ht=x*V-G*P,Je=T*U-z*D,Er=T*V-G*D,fr=z*V-G*U,Pn=J*Me-ne*he,yn=J*De-re*he;J=J*S-Q*he;var Qr=ne*De-re*Me;return ne=ne*S-Q*Me,re=re*S-Q*De,Q=Ue*re-Ve*ne+ht*Qr+Je*J-Er*yn+fr*Pn,Q?(Q=1/Q,p[0]=(D*re-U*ne+V*Qr)*Q,p[1]=(U*J-P*re-V*yn)*Q,p[2]=(P*ne-D*J+V*Pn)*Q,p[3]=(z*ne-T*re-G*Qr)*Q,p[4]=(x*re-z*J+G*yn)*Q,p[5]=(T*J-x*ne-G*Pn)*Q,p[6]=(Me*fr-De*Er+S*Je)*Q,p[7]=(De*ht-he*fr-S*Ve)*Q,p[8]=(he*Er-Me*ht+S*Ue)*Q,p):null},o.projection=function(p,S,x){return p[0]=2/S,p[1]=0,p[2]=0,p[3]=0,p[4]=-2/x,p[5]=0,p[6]=-1,p[7]=1,p[8]=1,p},o.str=function(p){return"mat3("+p[0]+", "+p[1]+", "+p[2]+", "+p[3]+", "+p[4]+", "+p[5]+", "+p[6]+", "+p[7]+", "+p[8]+")"},o.frob=function(p){return Math.sqrt(Math.pow(p[0],2)+Math.pow(p[1],2)+Math.pow(p[2],2)+Math.pow(p[3],2)+Math.pow(p[4],2)+Math.pow(p[5],2)+Math.pow(p[6],2)+Math.pow(p[7],2)+Math.pow(p[8],2))},o.add=function(p,S,x){return p[0]=S[0]+x[0],p[1]=S[1]+x[1],p[2]=S[2]+x[2],p[3]=S[3]+x[3],p[4]=S[4]+x[4],p[5]=S[5]+x[5],p[6]=S[6]+x[6],p[7]=S[7]+x[7],p[8]=S[8]+x[8],p},o.subtract=u,o.multiplyScalar=function(p,S,x){return p[0]=S[0]*x,p[1]=S[1]*x,p[2]=S[2]*x,p[3]=S[3]*x,p[4]=S[4]*x,p[5]=S[5]*x,p[6]=S[6]*x,p[7]=S[7]*x,p[8]=S[8]*x,p},o.multiplyScalarAndAdd=function(p,S,x,T){return p[0]=S[0]+x[0]*T,p[1]=S[1]+x[1]*T,p[2]=S[2]+x[2]*T,p[3]=S[3]+x[3]*T,p[4]=S[4]+x[4]*T,p[5]=S[5]+x[5]*T,p[6]=S[6]+x[6]*T,p[7]=S[7]+x[7]*T,p[8]=S[8]+x[8]*T,p},o.exactEquals=function(p,S){return p[0]===S[0]&&p[1]===S[1]&&p[2]===S[2]&&p[3]===S[3]&&p[4]===S[4]&&p[5]===S[5]&&p[6]===S[6]&&p[7]===S[7]&&p[8]===S[8]},o.equals=function(p,S){var x=p[0],T=p[1],z=p[2],G=p[3],P=p[4],D=p[5],U=p[6],V=p[7];p=p[8];var J=S[0],ne=S[1],re=S[2],Q=S[3],he=S[4],Me=S[5],De=S[6],Ue=S[7];return S=S[8],Math.abs(x-J)<=f.EPSILON*Math.max(1,Math.abs(x),Math.abs(J))&&Math.abs(T-ne)<=f.EPSILON*Math.max(1,Math.abs(T),Math.abs(ne))&&Math.abs(z-re)<=f.EPSILON*Math.max(1,Math.abs(z),Math.abs(re))&&Math.abs(G-Q)<=f.EPSILON*Math.max(1,Math.abs(G),Math.abs(Q))&&Math.abs(P-he)<=f.EPSILON*Math.max(1,Math.abs(P),Math.abs(he))&&Math.abs(D-Me)<=f.EPSILON*Math.max(1,Math.abs(D),Math.abs(Me))&&Math.abs(U-De)<=f.EPSILON*Math.max(1,Math.abs(U),Math.abs(De))&&Math.abs(V-Ue)<=f.EPSILON*Math.max(1,Math.abs(V),Math.abs(Ue))&&Math.abs(p-S)<=f.EPSILON*Math.max(1,Math.abs(p),Math.abs(S))},o.sub=o.mul=void 0;var f=function(p){if(p&&p.__esModule)return p;var S={};if(p!=null){for(var x in p)if(Object.prototype.hasOwnProperty.call(p,x)){var T=Ea&&Ka?Ka(p,x):{};T.get||T.set?Ea(S,x,T):S[x]=p[x]}}return S.default=p,S}(Fl);o.mul=h,o.sub=u});We(sl);var Cf=Fe(function(C,o){function h(x){return x[0]=1,x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=1,x[6]=0,x[7]=0,x[8]=0,x[9]=0,x[10]=1,x[11]=0,x[12]=0,x[13]=0,x[14]=0,x[15]=1,x}function u(x,T,z){var G=T[0],P=T[1],D=T[2],U=T[3],V=T[4],J=T[5],ne=T[6],re=T[7],Q=T[8],he=T[9],Me=T[10],De=T[11],Ue=T[12],Ve=T[13],ht=T[14];T=T[15];var Je=z[0],Er=z[1],fr=z[2],Pn=z[3];return x[0]=Je*G+Er*V+fr*Q+Pn*Ue,x[1]=Je*P+Er*J+fr*he+Pn*Ve,x[2]=Je*D+Er*ne+fr*Me+Pn*ht,x[3]=Je*U+Er*re+fr*De+Pn*T,Je=z[4],Er=z[5],fr=z[6],Pn=z[7],x[4]=Je*G+Er*V+fr*Q+Pn*Ue,x[5]=Je*P+Er*J+fr*he+Pn*Ve,x[6]=Je*D+Er*ne+fr*Me+Pn*ht,x[7]=Je*U+Er*re+fr*De+Pn*T,Je=z[8],Er=z[9],fr=z[10],Pn=z[11],x[8]=Je*G+Er*V+fr*Q+Pn*Ue,x[9]=Je*P+Er*J+fr*he+Pn*Ve,x[10]=Je*D+Er*ne+fr*Me+Pn*ht,x[11]=Je*U+Er*re+fr*De+Pn*T,Je=z[12],Er=z[13],fr=z[14],Pn=z[15],x[12]=Je*G+Er*V+fr*Q+Pn*Ue,x[13]=Je*P+Er*J+fr*he+Pn*Ve,x[14]=Je*D+Er*ne+fr*Me+Pn*ht,x[15]=Je*U+Er*re+fr*De+Pn*T,x}function f(x,T,z){var G=T[0],P=T[1],D=T[2],U=T[3],V=G+G,J=P+P,ne=D+D;T=G*V;var re=G*J;G*=ne;var Q=P*J;return P*=ne,D*=ne,V*=U,J*=U,U*=ne,x[0]=1-(Q+D),x[1]=re+U,x[2]=G-J,x[3]=0,x[4]=re-U,x[5]=1-(T+D),x[6]=P+V,x[7]=0,x[8]=G+J,x[9]=P-V,x[10]=1-(T+Q),x[11]=0,x[12]=z[0],x[13]=z[1],x[14]=z[2],x[15]=1,x}function p(x,T,z){return x[0]=T[0]-z[0],x[1]=T[1]-z[1],x[2]=T[2]-z[2],x[3]=T[3]-z[3],x[4]=T[4]-z[4],x[5]=T[5]-z[5],x[6]=T[6]-z[6],x[7]=T[7]-z[7],x[8]=T[8]-z[8],x[9]=T[9]-z[9],x[10]=T[10]-z[10],x[11]=T[11]-z[11],x[12]=T[12]-z[12],x[13]=T[13]-z[13],x[14]=T[14]-z[14],x[15]=T[15]-z[15],x}Object.defineProperty(o,"__esModule",{value:!0}),o.create=function(){var x=new S.ARRAY_TYPE(16);return S.ARRAY_TYPE!=Float32Array&&(x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[6]=0,x[7]=0,x[8]=0,x[9]=0,x[11]=0,x[12]=0,x[13]=0,x[14]=0),x[0]=1,x[5]=1,x[10]=1,x[15]=1,x},o.clone=function(x){var T=new S.ARRAY_TYPE(16);return T[0]=x[0],T[1]=x[1],T[2]=x[2],T[3]=x[3],T[4]=x[4],T[5]=x[5],T[6]=x[6],T[7]=x[7],T[8]=x[8],T[9]=x[9],T[10]=x[10],T[11]=x[11],T[12]=x[12],T[13]=x[13],T[14]=x[14],T[15]=x[15],T},o.copy=function(x,T){return x[0]=T[0],x[1]=T[1],x[2]=T[2],x[3]=T[3],x[4]=T[4],x[5]=T[5],x[6]=T[6],x[7]=T[7],x[8]=T[8],x[9]=T[9],x[10]=T[10],x[11]=T[11],x[12]=T[12],x[13]=T[13],x[14]=T[14],x[15]=T[15],x},o.fromValues=function(x,T,z,G,P,D,U,V,J,ne,re,Q,he,Me,De,Ue){var Ve=new S.ARRAY_TYPE(16);return Ve[0]=x,Ve[1]=T,Ve[2]=z,Ve[3]=G,Ve[4]=P,Ve[5]=D,Ve[6]=U,Ve[7]=V,Ve[8]=J,Ve[9]=ne,Ve[10]=re,Ve[11]=Q,Ve[12]=he,Ve[13]=Me,Ve[14]=De,Ve[15]=Ue,Ve},o.set=function(x,T,z,G,P,D,U,V,J,ne,re,Q,he,Me,De,Ue,Ve){return x[0]=T,x[1]=z,x[2]=G,x[3]=P,x[4]=D,x[5]=U,x[6]=V,x[7]=J,x[8]=ne,x[9]=re,x[10]=Q,x[11]=he,x[12]=Me,x[13]=De,x[14]=Ue,x[15]=Ve,x},o.identity=h,o.transpose=function(x,T){if(x===T){var z=T[1],G=T[2],P=T[3],D=T[6],U=T[7],V=T[11];x[1]=T[4],x[2]=T[8],x[3]=T[12],x[4]=z,x[6]=T[9],x[7]=T[13],x[8]=G,x[9]=D,x[11]=T[14],x[12]=P,x[13]=U,x[14]=V}else x[0]=T[0],x[1]=T[4],x[2]=T[8],x[3]=T[12],x[4]=T[1],x[5]=T[5],x[6]=T[9],x[7]=T[13],x[8]=T[2],x[9]=T[6],x[10]=T[10],x[11]=T[14],x[12]=T[3],x[13]=T[7],x[14]=T[11],x[15]=T[15];return x},o.invert=function(x,T){var z=T[0],G=T[1],P=T[2],D=T[3],U=T[4],V=T[5],J=T[6],ne=T[7],re=T[8],Q=T[9],he=T[10],Me=T[11],De=T[12],Ue=T[13],Ve=T[14];T=T[15];var ht=z*V-G*U,Je=z*J-P*U,Er=z*ne-D*U,fr=G*J-P*V,Pn=G*ne-D*V,yn=P*ne-D*J,Qr=re*Ue-Q*De,$n=re*Ve-he*De,zt=re*T-Me*De,Sr=Q*Ve-he*Ue,Jn=Q*T-Me*Ue,Ii=he*T-Me*Ve,gi=ht*Ii-Je*Jn+Er*Sr+fr*zt-Pn*$n+yn*Qr;return gi?(gi=1/gi,x[0]=(V*Ii-J*Jn+ne*Sr)*gi,x[1]=(P*Jn-G*Ii-D*Sr)*gi,x[2]=(Ue*yn-Ve*Pn+T*fr)*gi,x[3]=(he*Pn-Q*yn-Me*fr)*gi,x[4]=(J*zt-U*Ii-ne*$n)*gi,x[5]=(z*Ii-P*zt+D*$n)*gi,x[6]=(Ve*Er-De*yn-T*Je)*gi,x[7]=(re*yn-he*Er+Me*Je)*gi,x[8]=(U*Jn-V*zt+ne*Qr)*gi,x[9]=(G*zt-z*Jn-D*Qr)*gi,x[10]=(De*Pn-Ue*Er+T*ht)*gi,x[11]=(Q*Er-re*Pn-Me*ht)*gi,x[12]=(V*$n-U*Sr-J*Qr)*gi,x[13]=(z*Sr-G*$n+P*Qr)*gi,x[14]=(Ue*Je-De*fr-Ve*ht)*gi,x[15]=(re*fr-Q*Je+he*ht)*gi,x):null},o.adjoint=function(x,T){var z=T[0],G=T[1],P=T[2],D=T[3],U=T[4],V=T[5],J=T[6],ne=T[7],re=T[8],Q=T[9],he=T[10],Me=T[11],De=T[12],Ue=T[13],Ve=T[14];return T=T[15],x[0]=V*(he*T-Me*Ve)-Q*(J*T-ne*Ve)+Ue*(J*Me-ne*he),x[1]=-(G*(he*T-Me*Ve)-Q*(P*T-D*Ve)+Ue*(P*Me-D*he)),x[2]=G*(J*T-ne*Ve)-V*(P*T-D*Ve)+Ue*(P*ne-D*J),x[3]=-(G*(J*Me-ne*he)-V*(P*Me-D*he)+Q*(P*ne-D*J)),x[4]=-(U*(he*T-Me*Ve)-re*(J*T-ne*Ve)+De*(J*Me-ne*he)),x[5]=z*(he*T-Me*Ve)-re*(P*T-D*Ve)+De*(P*Me-D*he),x[6]=-(z*(J*T-ne*Ve)-U*(P*T-D*Ve)+De*(P*ne-D*J)),x[7]=z*(J*Me-ne*he)-U*(P*Me-D*he)+re*(P*ne-D*J),x[8]=U*(Q*T-Me*Ue)-re*(V*T-ne*Ue)+De*(V*Me-ne*Q),x[9]=-(z*(Q*T-Me*Ue)-re*(G*T-D*Ue)+De*(G*Me-D*Q)),x[10]=z*(V*T-ne*Ue)-U*(G*T-D*Ue)+De*(G*ne-D*V),x[11]=-(z*(V*Me-ne*Q)-U*(G*Me-D*Q)+re*(G*ne-D*V)),x[12]=-(U*(Q*Ve-he*Ue)-re*(V*Ve-J*Ue)+De*(V*he-J*Q)),x[13]=z*(Q*Ve-he*Ue)-re*(G*Ve-P*Ue)+De*(G*he-P*Q),x[14]=-(z*(V*Ve-J*Ue)-U*(G*Ve-P*Ue)+De*(G*J-P*V)),x[15]=z*(V*he-J*Q)-U*(G*he-P*Q)+re*(G*J-P*V),x},o.determinant=function(x){var T=x[0],z=x[1],G=x[2],P=x[3],D=x[4],U=x[5],V=x[6],J=x[7],ne=x[8],re=x[9],Q=x[10],he=x[11],Me=x[12],De=x[13],Ue=x[14];return x=x[15],(T*U-z*D)*(Q*x-he*Ue)-(T*V-G*D)*(re*x-he*De)+(T*J-P*D)*(re*Ue-Q*De)+(z*V-G*U)*(ne*x-he*Me)-(z*J-P*U)*(ne*Ue-Q*Me)+(G*J-P*V)*(ne*De-re*Me)},o.multiply=u,o.translate=function(x,T,z){var G=z[0],P=z[1];if(z=z[2],T===x)x[12]=T[0]*G+T[4]*P+T[8]*z+T[12],x[13]=T[1]*G+T[5]*P+T[9]*z+T[13],x[14]=T[2]*G+T[6]*P+T[10]*z+T[14],x[15]=T[3]*G+T[7]*P+T[11]*z+T[15];else{var D=T[0],U=T[1],V=T[2],J=T[3],ne=T[4],re=T[5],Q=T[6],he=T[7],Me=T[8],De=T[9],Ue=T[10],Ve=T[11];x[0]=D,x[1]=U,x[2]=V,x[3]=J,x[4]=ne,x[5]=re,x[6]=Q,x[7]=he,x[8]=Me,x[9]=De,x[10]=Ue,x[11]=Ve,x[12]=D*G+ne*P+Me*z+T[12],x[13]=U*G+re*P+De*z+T[13],x[14]=V*G+Q*P+Ue*z+T[14],x[15]=J*G+he*P+Ve*z+T[15]}return x},o.scale=function(x,T,z){var G=z[0],P=z[1];return z=z[2],x[0]=T[0]*G,x[1]=T[1]*G,x[2]=T[2]*G,x[3]=T[3]*G,x[4]=T[4]*P,x[5]=T[5]*P,x[6]=T[6]*P,x[7]=T[7]*P,x[8]=T[8]*z,x[9]=T[9]*z,x[10]=T[10]*z,x[11]=T[11]*z,x[12]=T[12],x[13]=T[13],x[14]=T[14],x[15]=T[15],x},o.rotate=function(x,T,z,G){var P=G[0],D=G[1];G=G[2];var U=Math.sqrt(P*P+D*D+G*G);if(U<S.EPSILON)return null;U=1/U,P*=U,D*=U,G*=U;var V=Math.sin(z),J=Math.cos(z),ne=1-J;z=T[0],U=T[1];var re=T[2],Q=T[3],he=T[4],Me=T[5],De=T[6],Ue=T[7],Ve=T[8],ht=T[9],Je=T[10],Er=T[11],fr=P*P*ne+J,Pn=D*P*ne+G*V,yn=G*P*ne-D*V,Qr=P*D*ne-G*V,$n=D*D*ne+J,zt=G*D*ne+P*V,Sr=P*G*ne+D*V;return P=D*G*ne-P*V,D=G*G*ne+J,x[0]=z*fr+he*Pn+Ve*yn,x[1]=U*fr+Me*Pn+ht*yn,x[2]=re*fr+De*Pn+Je*yn,x[3]=Q*fr+Ue*Pn+Er*yn,x[4]=z*Qr+he*$n+Ve*zt,x[5]=U*Qr+Me*$n+ht*zt,x[6]=re*Qr+De*$n+Je*zt,x[7]=Q*Qr+Ue*$n+Er*zt,x[8]=z*Sr+he*P+Ve*D,x[9]=U*Sr+Me*P+ht*D,x[10]=re*Sr+De*P+Je*D,x[11]=Q*Sr+Ue*P+Er*D,T!==x&&(x[12]=T[12],x[13]=T[13],x[14]=T[14],x[15]=T[15]),x},o.rotateX=function(x,T,z){var G=Math.sin(z);z=Math.cos(z);var P=T[4],D=T[5],U=T[6],V=T[7],J=T[8],ne=T[9],re=T[10],Q=T[11];return T!==x&&(x[0]=T[0],x[1]=T[1],x[2]=T[2],x[3]=T[3],x[12]=T[12],x[13]=T[13],x[14]=T[14],x[15]=T[15]),x[4]=P*z+J*G,x[5]=D*z+ne*G,x[6]=U*z+re*G,x[7]=V*z+Q*G,x[8]=J*z-P*G,x[9]=ne*z-D*G,x[10]=re*z-U*G,x[11]=Q*z-V*G,x},o.rotateY=function(x,T,z){var G=Math.sin(z);z=Math.cos(z);var P=T[0],D=T[1],U=T[2],V=T[3],J=T[8],ne=T[9],re=T[10],Q=T[11];return T!==x&&(x[4]=T[4],x[5]=T[5],x[6]=T[6],x[7]=T[7],x[12]=T[12],x[13]=T[13],x[14]=T[14],x[15]=T[15]),x[0]=P*z-J*G,x[1]=D*z-ne*G,x[2]=U*z-re*G,x[3]=V*z-Q*G,x[8]=P*G+J*z,x[9]=D*G+ne*z,x[10]=U*G+re*z,x[11]=V*G+Q*z,x},o.rotateZ=function(x,T,z){var G=Math.sin(z);z=Math.cos(z);var P=T[0],D=T[1],U=T[2],V=T[3],J=T[4],ne=T[5],re=T[6],Q=T[7];return T!==x&&(x[8]=T[8],x[9]=T[9],x[10]=T[10],x[11]=T[11],x[12]=T[12],x[13]=T[13],x[14]=T[14],x[15]=T[15]),x[0]=P*z+J*G,x[1]=D*z+ne*G,x[2]=U*z+re*G,x[3]=V*z+Q*G,x[4]=J*z-P*G,x[5]=ne*z-D*G,x[6]=re*z-U*G,x[7]=Q*z-V*G,x},o.fromTranslation=function(x,T){return x[0]=1,x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=1,x[6]=0,x[7]=0,x[8]=0,x[9]=0,x[10]=1,x[11]=0,x[12]=T[0],x[13]=T[1],x[14]=T[2],x[15]=1,x},o.fromScaling=function(x,T){return x[0]=T[0],x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=T[1],x[6]=0,x[7]=0,x[8]=0,x[9]=0,x[10]=T[2],x[11]=0,x[12]=0,x[13]=0,x[14]=0,x[15]=1,x},o.fromRotation=function(x,T,z){var G=z[0],P=z[1];z=z[2];var D=Math.sqrt(G*G+P*P+z*z);if(D<S.EPSILON)return null;D=1/D,G*=D,P*=D,z*=D,D=Math.sin(T),T=Math.cos(T);var U=1-T;return x[0]=G*G*U+T,x[1]=P*G*U+z*D,x[2]=z*G*U-P*D,x[3]=0,x[4]=G*P*U-z*D,x[5]=P*P*U+T,x[6]=z*P*U+G*D,x[7]=0,x[8]=G*z*U+P*D,x[9]=P*z*U-G*D,x[10]=z*z*U+T,x[11]=0,x[12]=0,x[13]=0,x[14]=0,x[15]=1,x},o.fromXRotation=function(x,T){var z=Math.sin(T);return T=Math.cos(T),x[0]=1,x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=T,x[6]=z,x[7]=0,x[8]=0,x[9]=-z,x[10]=T,x[11]=0,x[12]=0,x[13]=0,x[14]=0,x[15]=1,x},o.fromYRotation=function(x,T){var z=Math.sin(T);return T=Math.cos(T),x[0]=T,x[1]=0,x[2]=-z,x[3]=0,x[4]=0,x[5]=1,x[6]=0,x[7]=0,x[8]=z,x[9]=0,x[10]=T,x[11]=0,x[12]=0,x[13]=0,x[14]=0,x[15]=1,x},o.fromZRotation=function(x,T){var z=Math.sin(T);return T=Math.cos(T),x[0]=T,x[1]=z,x[2]=0,x[3]=0,x[4]=-z,x[5]=T,x[6]=0,x[7]=0,x[8]=0,x[9]=0,x[10]=1,x[11]=0,x[12]=0,x[13]=0,x[14]=0,x[15]=1,x},o.fromRotationTranslation=f,o.fromQuat2=function(x,T){var z=new S.ARRAY_TYPE(3),G=-T[0],P=-T[1],D=-T[2],U=T[3],V=T[4],J=T[5],ne=T[6],re=T[7],Q=G*G+P*P+D*D+U*U;return 0<Q?(z[0]=2*(V*U+re*G+J*D-ne*P)/Q,z[1]=2*(J*U+re*P+ne*G-V*D)/Q,z[2]=2*(ne*U+re*D+V*P-J*G)/Q):(z[0]=2*(V*U+re*G+J*D-ne*P),z[1]=2*(J*U+re*P+ne*G-V*D),z[2]=2*(ne*U+re*D+V*P-J*G)),f(x,T,z),x},o.getTranslation=function(x,T){return x[0]=T[12],x[1]=T[13],x[2]=T[14],x},o.getScaling=function(x,T){var z=T[0],G=T[1],P=T[2],D=T[4],U=T[5],V=T[6],J=T[8],ne=T[9];return T=T[10],x[0]=Math.sqrt(z*z+G*G+P*P),x[1]=Math.sqrt(D*D+U*U+V*V),x[2]=Math.sqrt(J*J+ne*ne+T*T),x},o.getRotation=function(x,T){var z=T[0]+T[5]+T[10];return 0<z?(z=2*Math.sqrt(z+1),x[3]=.25*z,x[0]=(T[6]-T[9])/z,x[1]=(T[8]-T[2])/z,x[2]=(T[1]-T[4])/z):T[0]>T[5]&&T[0]>T[10]?(z=2*Math.sqrt(1+T[0]-T[5]-T[10]),x[3]=(T[6]-T[9])/z,x[0]=.25*z,x[1]=(T[1]+T[4])/z,x[2]=(T[8]+T[2])/z):T[5]>T[10]?(z=2*Math.sqrt(1+T[5]-T[0]-T[10]),x[3]=(T[8]-T[2])/z,x[0]=(T[1]+T[4])/z,x[1]=.25*z,x[2]=(T[6]+T[9])/z):(z=2*Math.sqrt(1+T[10]-T[0]-T[5]),x[3]=(T[1]-T[4])/z,x[0]=(T[8]+T[2])/z,x[1]=(T[6]+T[9])/z,x[2]=.25*z),x},o.fromRotationTranslationScale=function(x,T,z,G){var P=T[0],D=T[1],U=T[2],V=T[3],J=P+P,ne=D+D,re=U+U;T=P*J;var Q=P*ne;P*=re;var he=D*ne;D*=re,U*=re,J*=V,ne*=V,V*=re,re=G[0];var Me=G[1];return G=G[2],x[0]=(1-(he+U))*re,x[1]=(Q+V)*re,x[2]=(P-ne)*re,x[3]=0,x[4]=(Q-V)*Me,x[5]=(1-(T+U))*Me,x[6]=(D+J)*Me,x[7]=0,x[8]=(P+ne)*G,x[9]=(D-J)*G,x[10]=(1-(T+he))*G,x[11]=0,x[12]=z[0],x[13]=z[1],x[14]=z[2],x[15]=1,x},o.fromRotationTranslationScaleOrigin=function(x,T,z,G,P){var D=T[0],U=T[1],V=T[2],J=T[3],ne=D+D,re=U+U,Q=V+V;T=D*ne;var he=D*re,Me=D*Q;D=U*re,U*=Q;var De=V*Q;V=J*ne,re*=J;var Ue=J*Q,Ve=G[0],ht=G[1];Q=G[2],G=P[0],J=P[1],P=P[2],ne=(1-(D+De))*Ve;var Je=(he+Ue)*Ve;return Ve*=Me-re,he=(he-Ue)*ht,De=(1-(T+De))*ht,ht*=U+V,Me=(Me+re)*Q,U=(U-V)*Q,T=(1-(T+D))*Q,x[0]=ne,x[1]=Je,x[2]=Ve,x[3]=0,x[4]=he,x[5]=De,x[6]=ht,x[7]=0,x[8]=Me,x[9]=U,x[10]=T,x[11]=0,x[12]=z[0]+G-(ne*G+he*J+Me*P),x[13]=z[1]+J-(Je*G+De*J+U*P),x[14]=z[2]+P-(Ve*G+ht*J+T*P),x[15]=1,x},o.fromQuat=function(x,T){var z=T[0],G=T[1],P=T[2];T=T[3];var D=z+z,U=G+G,V=P+P;z*=D;var J=G*D;G*=U;var ne=P*D,re=P*U;return P*=V,D*=T,U*=T,T*=V,x[0]=1-G-P,x[1]=J+T,x[2]=ne-U,x[3]=0,x[4]=J-T,x[5]=1-z-P,x[6]=re+D,x[7]=0,x[8]=ne+U,x[9]=re-D,x[10]=1-z-G,x[11]=0,x[12]=0,x[13]=0,x[14]=0,x[15]=1,x},o.frustum=function(x,T,z,G,P,D,U){var V=1/(z-T),J=1/(P-G),ne=1/(D-U);return x[0]=2*D*V,x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=2*D*J,x[6]=0,x[7]=0,x[8]=(z+T)*V,x[9]=(P+G)*J,x[10]=(U+D)*ne,x[11]=-1,x[12]=0,x[13]=0,x[14]=U*D*2*ne,x[15]=0,x},o.perspective=function(x,T,z,G,P){return T=1/Math.tan(T/2),x[0]=T/z,x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=T,x[6]=0,x[7]=0,x[8]=0,x[9]=0,x[11]=-1,x[12]=0,x[13]=0,x[15]=0,P!=null&&P!==Infinity?(z=1/(G-P),x[10]=(P+G)*z,x[14]=2*P*G*z):(x[10]=-1,x[14]=-2*G),x},o.perspectiveFromFieldOfView=function(x,T,z,G){var P=Math.tan(T.upDegrees*Math.PI/180),D=Math.tan(T.downDegrees*Math.PI/180),U=Math.tan(T.leftDegrees*Math.PI/180);T=Math.tan(T.rightDegrees*Math.PI/180);var V=2/(U+T),J=2/(P+D);return x[0]=V,x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=J,x[6]=0,x[7]=0,x[8]=-((U-T)*V*.5),x[9]=(P-D)*J*.5,x[10]=G/(z-G),x[11]=-1,x[12]=0,x[13]=0,x[14]=G*z/(z-G),x[15]=0,x},o.ortho=function(x,T,z,G,P,D,U){var V=1/(T-z),J=1/(G-P),ne=1/(D-U);return x[0]=-2*V,x[1]=0,x[2]=0,x[3]=0,x[4]=0,x[5]=-2*J,x[6]=0,x[7]=0,x[8]=0,x[9]=0,x[10]=2*ne,x[11]=0,x[12]=(T+z)*V,x[13]=(P+G)*J,x[14]=(U+D)*ne,x[15]=1,x},o.lookAt=function(x,T,z,G){var P=T[0],D=T[1];T=T[2];var U=G[0],V=G[1],J=G[2],ne=z[0];G=z[1];var re=z[2];if(Math.abs(P-ne)<S.EPSILON&&Math.abs(D-G)<S.EPSILON&&Math.abs(T-re)<S.EPSILON)return h(x);z=P-ne,G=D-G,ne=T-re;var Q=1/Math.sqrt(z*z+G*G+ne*ne);z*=Q,G*=Q,ne*=Q,re=V*ne-J*G,J=J*z-U*ne,U=U*G-V*z,(Q=Math.sqrt(re*re+J*J+U*U))?(Q=1/Q,re*=Q,J*=Q,U*=Q):U=J=re=0,V=G*U-ne*J;var he=ne*re-z*U,Me=z*J-G*re;return(Q=Math.sqrt(V*V+he*he+Me*Me))?(Q=1/Q,V*=Q,he*=Q,Me*=Q):Me=he=V=0,x[0]=re,x[1]=V,x[2]=z,x[3]=0,x[4]=J,x[5]=he,x[6]=G,x[7]=0,x[8]=U,x[9]=Me,x[10]=ne,x[11]=0,x[12]=-(re*P+J*D+U*T),x[13]=-(V*P+he*D+Me*T),x[14]=-(z*P+G*D+ne*T),x[15]=1,x},o.targetTo=function(x,T,z,G){var P=T[0],D=T[1];T=T[2];var U=G[0],V=G[1],J=G[2];G=P-z[0];var ne=D-z[1];z=T-z[2];var re=G*G+ne*ne+z*z;0<re&&(re=1/Math.sqrt(re),G*=re,ne*=re,z*=re);var Q=V*z-J*ne;return J=J*G-U*z,U=U*ne-V*G,re=Q*Q+J*J+U*U,0<re&&(re=1/Math.sqrt(re),Q*=re,J*=re,U*=re),x[0]=Q,x[1]=J,x[2]=U,x[3]=0,x[4]=ne*U-z*J,x[5]=z*Q-G*U,x[6]=G*J-ne*Q,x[7]=0,x[8]=G,x[9]=ne,x[10]=z,x[11]=0,x[12]=P,x[13]=D,x[14]=T,x[15]=1,x},o.str=function(x){return"mat4("+x[0]+", "+x[1]+", "+x[2]+", "+x[3]+", "+x[4]+", "+x[5]+", "+x[6]+", "+x[7]+", "+x[8]+", "+x[9]+", "+x[10]+", "+x[11]+", "+x[12]+", "+x[13]+", "+x[14]+", "+x[15]+")"},o.frob=function(x){return Math.sqrt(Math.pow(x[0],2)+Math.pow(x[1],2)+Math.pow(x[2],2)+Math.pow(x[3],2)+Math.pow(x[4],2)+Math.pow(x[5],2)+Math.pow(x[6],2)+Math.pow(x[7],2)+Math.pow(x[8],2)+Math.pow(x[9],2)+Math.pow(x[10],2)+Math.pow(x[11],2)+Math.pow(x[12],2)+Math.pow(x[13],2)+Math.pow(x[14],2)+Math.pow(x[15],2))},o.add=function(x,T,z){return x[0]=T[0]+z[0],x[1]=T[1]+z[1],x[2]=T[2]+z[2],x[3]=T[3]+z[3],x[4]=T[4]+z[4],x[5]=T[5]+z[5],x[6]=T[6]+z[6],x[7]=T[7]+z[7],x[8]=T[8]+z[8],x[9]=T[9]+z[9],x[10]=T[10]+z[10],x[11]=T[11]+z[11],x[12]=T[12]+z[12],x[13]=T[13]+z[13],x[14]=T[14]+z[14],x[15]=T[15]+z[15],x},o.subtract=p,o.multiplyScalar=function(x,T,z){return x[0]=T[0]*z,x[1]=T[1]*z,x[2]=T[2]*z,x[3]=T[3]*z,x[4]=T[4]*z,x[5]=T[5]*z,x[6]=T[6]*z,x[7]=T[7]*z,x[8]=T[8]*z,x[9]=T[9]*z,x[10]=T[10]*z,x[11]=T[11]*z,x[12]=T[12]*z,x[13]=T[13]*z,x[14]=T[14]*z,x[15]=T[15]*z,x},o.multiplyScalarAndAdd=function(x,T,z,G){return x[0]=T[0]+z[0]*G,x[1]=T[1]+z[1]*G,x[2]=T[2]+z[2]*G,x[3]=T[3]+z[3]*G,x[4]=T[4]+z[4]*G,x[5]=T[5]+z[5]*G,x[6]=T[6]+z[6]*G,x[7]=T[7]+z[7]*G,x[8]=T[8]+z[8]*G,x[9]=T[9]+z[9]*G,x[10]=T[10]+z[10]*G,x[11]=T[11]+z[11]*G,x[12]=T[12]+z[12]*G,x[13]=T[13]+z[13]*G,x[14]=T[14]+z[14]*G,x[15]=T[15]+z[15]*G,x},o.exactEquals=function(x,T){return x[0]===T[0]&&x[1]===T[1]&&x[2]===T[2]&&x[3]===T[3]&&x[4]===T[4]&&x[5]===T[5]&&x[6]===T[6]&&x[7]===T[7]&&x[8]===T[8]&&x[9]===T[9]&&x[10]===T[10]&&x[11]===T[11]&&x[12]===T[12]&&x[13]===T[13]&&x[14]===T[14]&&x[15]===T[15]},o.equals=function(x,T){var z=x[0],G=x[1],P=x[2],D=x[3],U=x[4],V=x[5],J=x[6],ne=x[7],re=x[8],Q=x[9],he=x[10],Me=x[11],De=x[12],Ue=x[13],Ve=x[14];x=x[15];var ht=T[0],Je=T[1],Er=T[2],fr=T[3],Pn=T[4],yn=T[5],Qr=T[6],$n=T[7],zt=T[8],Sr=T[9],Jn=T[10],Ii=T[11],gi=T[12],jn=T[13],fc=T[14];return T=T[15],Math.abs(z-ht)<=S.EPSILON*Math.max(1,Math.abs(z),Math.abs(ht))&&Math.abs(G-Je)<=S.EPSILON*Math.max(1,Math.abs(G),Math.abs(Je))&&Math.abs(P-Er)<=S.EPSILON*Math.max(1,Math.abs(P),Math.abs(Er))&&Math.abs(D-fr)<=S.EPSILON*Math.max(1,Math.abs(D),Math.abs(fr))&&Math.abs(U-Pn)<=S.EPSILON*Math.max(1,Math.abs(U),Math.abs(Pn))&&Math.abs(V-yn)<=S.EPSILON*Math.max(1,Math.abs(V),Math.abs(yn))&&Math.abs(J-Qr)<=S.EPSILON*Math.max(1,Math.abs(J),Math.abs(Qr))&&Math.abs(ne-$n)<=S.EPSILON*Math.max(1,Math.abs(ne),Math.abs($n))&&Math.abs(re-zt)<=S.EPSILON*Math.max(1,Math.abs(re),Math.abs(zt))&&Math.abs(Q-Sr)<=S.EPSILON*Math.max(1,Math.abs(Q),Math.abs(Sr))&&Math.abs(he-Jn)<=S.EPSILON*Math.max(1,Math.abs(he),Math.abs(Jn))&&Math.abs(Me-Ii)<=S.EPSILON*Math.max(1,Math.abs(Me),Math.abs(Ii))&&Math.abs(De-gi)<=S.EPSILON*Math.max(1,Math.abs(De),Math.abs(gi))&&Math.abs(Ue-jn)<=S.EPSILON*Math.max(1,Math.abs(Ue),Math.abs(jn))&&Math.abs(Ve-fc)<=S.EPSILON*Math.max(1,Math.abs(Ve),Math.abs(fc))&&Math.abs(x-T)<=S.EPSILON*Math.max(1,Math.abs(x),Math.abs(T))},o.sub=o.mul=void 0;var S=function(x){if(x&&x.__esModule)return x;var T={};if(x!=null){for(var z in x)if(Object.prototype.hasOwnProperty.call(x,z)){var G=Ea&&Ka?Ka(x,z):{};G.get||G.set?Ea(T,z,G):T[z]=x[z]}}return T.default=x,T}(Fl);o.mul=u,o.sub=p});We(Cf);var dd=Fe(function(C,o){function h(){var V=new U.ARRAY_TYPE(3);return U.ARRAY_TYPE!=Float32Array&&(V[0]=0,V[1]=0,V[2]=0),V}function u(V){var J=V[0],ne=V[1];return V=V[2],Math.sqrt(J*J+ne*ne+V*V)}function f(V,J,ne){var re=new U.ARRAY_TYPE(3);return re[0]=V,re[1]=J,re[2]=ne,re}function p(V,J,ne){return V[0]=J[0]-ne[0],V[1]=J[1]-ne[1],V[2]=J[2]-ne[2],V}function S(V,J,ne){return V[0]=J[0]*ne[0],V[1]=J[1]*ne[1],V[2]=J[2]*ne[2],V}function x(V,J,ne){return V[0]=J[0]/ne[0],V[1]=J[1]/ne[1],V[2]=J[2]/ne[2],V}function T(V,J){var ne=J[0]-V[0],re=J[1]-V[1];return V=J[2]-V[2],Math.sqrt(ne*ne+re*re+V*V)}function z(V,J){var ne=J[0]-V[0],re=J[1]-V[1];return V=J[2]-V[2],ne*ne+re*re+V*V}function G(V){var J=V[0],ne=V[1];return V=V[2],J*J+ne*ne+V*V}function P(V,J){var ne=J[0],re=J[1],Q=J[2];return ne=ne*ne+re*re+Q*Q,0<ne&&(ne=1/Math.sqrt(ne)),V[0]=J[0]*ne,V[1]=J[1]*ne,V[2]=J[2]*ne,V}function D(V,J){return V[0]*J[0]+V[1]*J[1]+V[2]*J[2]}Object.defineProperty(o,"__esModule",{value:!0}),o.create=h,o.clone=function(V){var J=new U.ARRAY_TYPE(3);return J[0]=V[0],J[1]=V[1],J[2]=V[2],J},o.length=u,o.fromValues=f,o.copy=function(V,J){return V[0]=J[0],V[1]=J[1],V[2]=J[2],V},o.set=function(V,J,ne,re){return V[0]=J,V[1]=ne,V[2]=re,V},o.add=function(V,J,ne){return V[0]=J[0]+ne[0],V[1]=J[1]+ne[1],V[2]=J[2]+ne[2],V},o.subtract=p,o.multiply=S,o.divide=x,o.ceil=function(V,J){return V[0]=Math.ceil(J[0]),V[1]=Math.ceil(J[1]),V[2]=Math.ceil(J[2]),V},o.floor=function(V,J){return V[0]=Math.floor(J[0]),V[1]=Math.floor(J[1]),V[2]=Math.floor(J[2]),V},o.min=function(V,J,ne){return V[0]=Math.min(J[0],ne[0]),V[1]=Math.min(J[1],ne[1]),V[2]=Math.min(J[2],ne[2]),V},o.max=function(V,J,ne){return V[0]=Math.max(J[0],ne[0]),V[1]=Math.max(J[1],ne[1]),V[2]=Math.max(J[2],ne[2]),V},o.round=function(V,J){return V[0]=Math.round(J[0]),V[1]=Math.round(J[1]),V[2]=Math.round(J[2]),V},o.scale=function(V,J,ne){return V[0]=J[0]*ne,V[1]=J[1]*ne,V[2]=J[2]*ne,V},o.scaleAndAdd=function(V,J,ne,re){return V[0]=J[0]+ne[0]*re,V[1]=J[1]+ne[1]*re,V[2]=J[2]+ne[2]*re,V},o.distance=T,o.squaredDistance=z,o.squaredLength=G,o.negate=function(V,J){return V[0]=-J[0],V[1]=-J[1],V[2]=-J[2],V},o.inverse=function(V,J){return V[0]=1/J[0],V[1]=1/J[1],V[2]=1/J[2],V},o.normalize=P,o.dot=D,o.cross=function(V,J,ne){var re=J[0],Q=J[1];J=J[2];var he=ne[0],Me=ne[1];return ne=ne[2],V[0]=Q*ne-J*Me,V[1]=J*he-re*ne,V[2]=re*Me-Q*he,V},o.lerp=function(V,J,ne,re){var Q=J[0],he=J[1];return J=J[2],V[0]=Q+re*(ne[0]-Q),V[1]=he+re*(ne[1]-he),V[2]=J+re*(ne[2]-J),V},o.hermite=function(V,J,ne,re,Q,he){var Me=he*he,De=Me*(2*he-3)+1,Ue=Me*(he-2)+he,Ve=Me*(he-1);return he=Me*(3-2*he),V[0]=J[0]*De+ne[0]*Ue+re[0]*Ve+Q[0]*he,V[1]=J[1]*De+ne[1]*Ue+re[1]*Ve+Q[1]*he,V[2]=J[2]*De+ne[2]*Ue+re[2]*Ve+Q[2]*he,V},o.bezier=function(V,J,ne,re,Q,he){var Me=1-he,De=Me*Me,Ue=he*he,Ve=De*Me;return De*=3*he,Me*=3*Ue,he*=Ue,V[0]=J[0]*Ve+ne[0]*De+re[0]*Me+Q[0]*he,V[1]=J[1]*Ve+ne[1]*De+re[1]*Me+Q[1]*he,V[2]=J[2]*Ve+ne[2]*De+re[2]*Me+Q[2]*he,V},o.random=function(V,J){J=J||1;var ne=2*U.RANDOM()*Math.PI,re=2*U.RANDOM()-1,Q=Math.sqrt(1-re*re)*J;return V[0]=Math.cos(ne)*Q,V[1]=Math.sin(ne)*Q,V[2]=re*J,V},o.transformMat4=function(V,J,ne){var re=J[0],Q=J[1];J=J[2];var he=ne[3]*re+ne[7]*Q+ne[11]*J+ne[15];return he=he||1,V[0]=(ne[0]*re+ne[4]*Q+ne[8]*J+ne[12])/he,V[1]=(ne[1]*re+ne[5]*Q+ne[9]*J+ne[13])/he,V[2]=(ne[2]*re+ne[6]*Q+ne[10]*J+ne[14])/he,V},o.transformMat3=function(V,J,ne){var re=J[0],Q=J[1];return J=J[2],V[0]=re*ne[0]+Q*ne[3]+J*ne[6],V[1]=re*ne[1]+Q*ne[4]+J*ne[7],V[2]=re*ne[2]+Q*ne[5]+J*ne[8],V},o.transformQuat=function(V,J,ne){var re=ne[0],Q=ne[1],he=ne[2],Me=J[0],De=J[1];J=J[2];var Ue=Q*J-he*De,Ve=he*Me-re*J,ht=re*De-Q*Me;return ne=2*ne[3],V[0]=Me+Ue*ne+2*(Q*ht-he*Ve),V[1]=De+Ve*ne+2*(he*Ue-re*ht),V[2]=J+ht*ne+2*(re*Ve-Q*Ue),V},o.rotateX=function(V,J,ne,re){var Q=[],he=[];return Q[0]=J[0]-ne[0],Q[1]=J[1]-ne[1],Q[2]=J[2]-ne[2],he[0]=Q[0],he[1]=Q[1]*Math.cos(re)-Q[2]*Math.sin(re),he[2]=Q[1]*Math.sin(re)+Q[2]*Math.cos(re),V[0]=he[0]+ne[0],V[1]=he[1]+ne[1],V[2]=he[2]+ne[2],V},o.rotateY=function(V,J,ne,re){var Q=[],he=[];return Q[0]=J[0]-ne[0],Q[1]=J[1]-ne[1],Q[2]=J[2]-ne[2],he[0]=Q[2]*Math.sin(re)+Q[0]*Math.cos(re),he[1]=Q[1],he[2]=Q[2]*Math.cos(re)-Q[0]*Math.sin(re),V[0]=he[0]+ne[0],V[1]=he[1]+ne[1],V[2]=he[2]+ne[2],V},o.rotateZ=function(V,J,ne,re){var Q=[],he=[];return Q[0]=J[0]-ne[0],Q[1]=J[1]-ne[1],Q[2]=J[2]-ne[2],he[0]=Q[0]*Math.cos(re)-Q[1]*Math.sin(re),he[1]=Q[0]*Math.sin(re)+Q[1]*Math.cos(re),he[2]=Q[2],V[0]=he[0]+ne[0],V[1]=he[1]+ne[1],V[2]=he[2]+ne[2],V},o.angle=function(V,J){return V=f(V[0],V[1],V[2]),J=f(J[0],J[1],J[2]),P(V,V),P(J,J),J=D(V,J),1<J?0:-1>J?Math.PI:Math.acos(J)},o.zero=function(V){return V[0]=0,V[1]=0,V[2]=0,V},o.str=function(V){return"vec3("+V[0]+", "+V[1]+", "+V[2]+")"},o.exactEquals=function(V,J){return V[0]===J[0]&&V[1]===J[1]&&V[2]===J[2]},o.equals=function(V,J){var ne=V[0],re=V[1];V=V[2];var Q=J[0],he=J[1];return J=J[2],Math.abs(ne-Q)<=U.EPSILON*Math.max(1,Math.abs(ne),Math.abs(Q))&&Math.abs(re-he)<=U.EPSILON*Math.max(1,Math.abs(re),Math.abs(he))&&Math.abs(V-J)<=U.EPSILON*Math.max(1,Math.abs(V),Math.abs(J))},o.forEach=o.sqrLen=o.len=o.sqrDist=o.dist=o.div=o.mul=o.sub=void 0;var U=function(V){if(V&&V.__esModule)return V;var J={};if(V!=null){for(var ne in V)if(Object.prototype.hasOwnProperty.call(V,ne)){var re=Ea&&Ka?Ka(V,ne):{};re.get||re.set?Ea(J,ne,re):J[ne]=V[ne]}}return J.default=V,J}(Fl);o.sub=p,o.mul=S,o.div=x,o.dist=T,o.sqrDist=z,o.len=u,o.sqrLen=G,C=function(){var V=h();return function(J,ne,re,Q,he,Me){for(ne||(ne=3),re||(re=0),Q=Q?Math.min(Q*ne+re,J.length):J.length;re<Q;re+=ne)V[0]=J[re],V[1]=J[re+1],V[2]=J[re+2],he(V,V,Me),J[re]=V[0],J[re+1]=V[1],J[re+2]=V[2];return J}}(),o.forEach=C});We(dd);var vm=Fe(function(C,o){function h(){var P=new G.ARRAY_TYPE(4);return G.ARRAY_TYPE!=Float32Array&&(P[0]=0,P[1]=0,P[2]=0,P[3]=0),P}function u(P,D,U){return P[0]=D[0]-U[0],P[1]=D[1]-U[1],P[2]=D[2]-U[2],P[3]=D[3]-U[3],P}function f(P,D,U){return P[0]=D[0]*U[0],P[1]=D[1]*U[1],P[2]=D[2]*U[2],P[3]=D[3]*U[3],P}function p(P,D,U){return P[0]=D[0]/U[0],P[1]=D[1]/U[1],P[2]=D[2]/U[2],P[3]=D[3]/U[3],P}function S(P,D){var U=D[0]-P[0],V=D[1]-P[1],J=D[2]-P[2];return P=D[3]-P[3],Math.sqrt(U*U+V*V+J*J+P*P)}function x(P,D){var U=D[0]-P[0],V=D[1]-P[1],J=D[2]-P[2];return P=D[3]-P[3],U*U+V*V+J*J+P*P}function T(P){var D=P[0],U=P[1],V=P[2];return P=P[3],Math.sqrt(D*D+U*U+V*V+P*P)}function z(P){var D=P[0],U=P[1],V=P[2];return P=P[3],D*D+U*U+V*V+P*P}Object.defineProperty(o,"__esModule",{value:!0}),o.create=h,o.clone=function(P){var D=new G.ARRAY_TYPE(4);return D[0]=P[0],D[1]=P[1],D[2]=P[2],D[3]=P[3],D},o.fromValues=function(P,D,U,V){var J=new G.ARRAY_TYPE(4);return J[0]=P,J[1]=D,J[2]=U,J[3]=V,J},o.copy=function(P,D){return P[0]=D[0],P[1]=D[1],P[2]=D[2],P[3]=D[3],P},o.set=function(P,D,U,V,J){return P[0]=D,P[1]=U,P[2]=V,P[3]=J,P},o.add=function(P,D,U){return P[0]=D[0]+U[0],P[1]=D[1]+U[1],P[2]=D[2]+U[2],P[3]=D[3]+U[3],P},o.subtract=u,o.multiply=f,o.divide=p,o.ceil=function(P,D){return P[0]=Math.ceil(D[0]),P[1]=Math.ceil(D[1]),P[2]=Math.ceil(D[2]),P[3]=Math.ceil(D[3]),P},o.floor=function(P,D){return P[0]=Math.floor(D[0]),P[1]=Math.floor(D[1]),P[2]=Math.floor(D[2]),P[3]=Math.floor(D[3]),P},o.min=function(P,D,U){return P[0]=Math.min(D[0],U[0]),P[1]=Math.min(D[1],U[1]),P[2]=Math.min(D[2],U[2]),P[3]=Math.min(D[3],U[3]),P},o.max=function(P,D,U){return P[0]=Math.max(D[0],U[0]),P[1]=Math.max(D[1],U[1]),P[2]=Math.max(D[2],U[2]),P[3]=Math.max(D[3],U[3]),P},o.round=function(P,D){return P[0]=Math.round(D[0]),P[1]=Math.round(D[1]),P[2]=Math.round(D[2]),P[3]=Math.round(D[3]),P},o.scale=function(P,D,U){return P[0]=D[0]*U,P[1]=D[1]*U,P[2]=D[2]*U,P[3]=D[3]*U,P},o.scaleAndAdd=function(P,D,U,V){return P[0]=D[0]+U[0]*V,P[1]=D[1]+U[1]*V,P[2]=D[2]+U[2]*V,P[3]=D[3]+U[3]*V,P},o.distance=S,o.squaredDistance=x,o.length=T,o.squaredLength=z,o.negate=function(P,D){return P[0]=-D[0],P[1]=-D[1],P[2]=-D[2],P[3]=-D[3],P},o.inverse=function(P,D){return P[0]=1/D[0],P[1]=1/D[1],P[2]=1/D[2],P[3]=1/D[3],P},o.normalize=function(P,D){var U=D[0],V=D[1],J=D[2];D=D[3];var ne=U*U+V*V+J*J+D*D;return 0<ne&&(ne=1/Math.sqrt(ne)),P[0]=U*ne,P[1]=V*ne,P[2]=J*ne,P[3]=D*ne,P},o.dot=function(P,D){return P[0]*D[0]+P[1]*D[1]+P[2]*D[2]+P[3]*D[3]},o.cross=function(P,D,U,V){var J=U[0]*V[1]-U[1]*V[0],ne=U[0]*V[2]-U[2]*V[0],re=U[0]*V[3]-U[3]*V[0],Q=U[1]*V[2]-U[2]*V[1],he=U[1]*V[3]-U[3]*V[1];U=U[2]*V[3]-U[3]*V[2],V=D[0];var Me=D[1],De=D[2];return D=D[3],P[0]=Me*U-De*he+D*Q,P[1]=-(V*U)+De*re-D*ne,P[2]=V*he-Me*re+D*J,P[3]=-(V*Q)+Me*ne-De*J,P},o.lerp=function(P,D,U,V){var J=D[0],ne=D[1],re=D[2];return D=D[3],P[0]=J+V*(U[0]-J),P[1]=ne+V*(U[1]-ne),P[2]=re+V*(U[2]-re),P[3]=D+V*(U[3]-D),P},o.random=function(P,D){D=D||1;do var U=2*G.RANDOM()-1,V=2*G.RANDOM()-1,J=U*U+V*V;while(1<=J);do var ne=2*G.RANDOM()-1,re=2*G.RANDOM()-1,Q=ne*ne+re*re;while(1<=Q);return J=Math.sqrt((1-J)/Q),P[0]=D*U,P[1]=D*V,P[2]=D*ne*J,P[3]=D*re*J,P},o.transformMat4=function(P,D,U){var V=D[0],J=D[1],ne=D[2];return D=D[3],P[0]=U[0]*V+U[4]*J+U[8]*ne+U[12]*D,P[1]=U[1]*V+U[5]*J+U[9]*ne+U[13]*D,P[2]=U[2]*V+U[6]*J+U[10]*ne+U[14]*D,P[3]=U[3]*V+U[7]*J+U[11]*ne+U[15]*D,P},o.transformQuat=function(P,D,U){var V=D[0],J=D[1],ne=D[2],re=U[0],Q=U[1],he=U[2];U=U[3];var Me=U*V+Q*ne-he*J,De=U*J+he*V-re*ne,Ue=U*ne+re*J-Q*V;return V=-re*V-Q*J-he*ne,P[0]=Me*U+V*-re+De*-he-Ue*-Q,P[1]=De*U+V*-Q+Ue*-re-Me*-he,P[2]=Ue*U+V*-he+Me*-Q-De*-re,P[3]=D[3],P},o.zero=function(P){return P[0]=0,P[1]=0,P[2]=0,P[3]=0,P},o.str=function(P){return"vec4("+P[0]+", "+P[1]+", "+P[2]+", "+P[3]+")"},o.exactEquals=function(P,D){return P[0]===D[0]&&P[1]===D[1]&&P[2]===D[2]&&P[3]===D[3]},o.equals=function(P,D){var U=P[0],V=P[1],J=P[2];P=P[3];var ne=D[0],re=D[1],Q=D[2];return D=D[3],Math.abs(U-ne)<=G.EPSILON*Math.max(1,Math.abs(U),Math.abs(ne))&&Math.abs(V-re)<=G.EPSILON*Math.max(1,Math.abs(V),Math.abs(re))&&Math.abs(J-Q)<=G.EPSILON*Math.max(1,Math.abs(J),Math.abs(Q))&&Math.abs(P-D)<=G.EPSILON*Math.max(1,Math.abs(P),Math.abs(D))},o.forEach=o.sqrLen=o.len=o.sqrDist=o.dist=o.div=o.mul=o.sub=void 0;var G=function(P){if(P&&P.__esModule)return P;var D={};if(P!=null){for(var U in P)if(Object.prototype.hasOwnProperty.call(P,U)){var V=Ea&&Ka?Ka(P,U):{};V.get||V.set?Ea(D,U,V):D[U]=P[U]}}return D.default=P,D}(Fl);o.sub=u,o.mul=f,o.div=p,o.dist=S,o.sqrDist=x,o.len=T,o.sqrLen=z,C=function(){var P=h();return function(D,U,V,J,ne,re){for(U||(U=4),V||(V=0),J=J?Math.min(J*U+V,D.length):D.length;V<J;V+=U)P[0]=D[V],P[1]=D[V+1],P[2]=D[V+2],P[3]=D[V+3],ne(P,P,re),D[V]=P[0],D[V+1]=P[1],D[V+2]=P[2],D[V+3]=P[3];return D}}(),o.forEach=C});We(vm);var pd=Fe(function(C,o){function h(U){if(U&&U.__esModule)return U;var V={};if(U!=null){for(var J in U)if(Object.prototype.hasOwnProperty.call(U,J)){var ne=Ea&&Ka?Ka(U,J):{};ne.get||ne.set?Ea(V,J,ne):V[J]=U[J]}}return V.default=U,V}function u(){var U=new T.ARRAY_TYPE(4);return T.ARRAY_TYPE!=Float32Array&&(U[0]=0,U[1]=0,U[2]=0),U[3]=1,U}function f(U,V,J){J*=.5;var ne=Math.sin(J);return U[0]=ne*V[0],U[1]=ne*V[1],U[2]=ne*V[2],U[3]=Math.cos(J),U}function p(U,V,J){var ne=V[0],re=V[1],Q=V[2];V=V[3];var he=J[0],Me=J[1],De=J[2];return J=J[3],U[0]=ne*J+V*he+re*De-Q*Me,U[1]=re*J+V*Me+Q*he-ne*De,U[2]=Q*J+V*De+ne*Me-re*he,U[3]=V*J-ne*he-re*Me-Q*De,U}function S(U,V,J,ne){var re=V[0],Q=V[1],he=V[2];V=V[3];var Me=J[0],De=J[1],Ue=J[2];J=J[3];var Ve=re*Me+Q*De+he*Ue+V*J;if(0>Ve&&(Ve=-Ve,Me=-Me,De=-De,Ue=-Ue,J=-J),1-Ve>T.EPSILON){var ht=Math.acos(Ve),Je=Math.sin(ht);Ve=Math.sin((1-ne)*ht)/Je,ne=Math.sin(ne*ht)/Je}else Ve=1-ne;return U[0]=Ve*re+ne*Me,U[1]=Ve*Q+ne*De,U[2]=Ve*he+ne*Ue,U[3]=Ve*V+ne*J,U}function x(U,V){var J=V[0]+V[4]+V[8];if(0<J)J=Math.sqrt(J+1),U[3]=.5*J,J=.5/J,U[0]=(V[5]-V[7])*J,U[1]=(V[6]-V[2])*J,U[2]=(V[1]-V[3])*J;else{var ne=0;V[4]>V[0]&&(ne=1),V[8]>V[3*ne+ne]&&(ne=2);var re=(ne+1)%3,Q=(ne+2)%3;J=Math.sqrt(V[3*ne+ne]-V[3*re+re]-V[3*Q+Q]+1),U[ne]=.5*J,J=.5/J,U[3]=(V[3*re+Q]-V[3*Q+re])*J,U[re]=(V[3*re+ne]+V[3*ne+re])*J,U[Q]=(V[3*Q+ne]+V[3*ne+Q])*J}return U}Object.defineProperty(o,"__esModule",{value:!0}),o.create=u,o.identity=function(U){return U[0]=0,U[1]=0,U[2]=0,U[3]=1,U},o.setAxisAngle=f,o.getAxisAngle=function(U,V){var J=2*Math.acos(V[3]),ne=Math.sin(J/2);return ne>T.EPSILON?(U[0]=V[0]/ne,U[1]=V[1]/ne,U[2]=V[2]/ne):(U[0]=1,U[1]=0,U[2]=0),J},o.multiply=p,o.rotateX=function(U,V,J){J*=.5;var ne=V[0],re=V[1],Q=V[2];V=V[3];var he=Math.sin(J);return J=Math.cos(J),U[0]=ne*J+V*he,U[1]=re*J+Q*he,U[2]=Q*J-re*he,U[3]=V*J-ne*he,U},o.rotateY=function(U,V,J){J*=.5;var ne=V[0],re=V[1],Q=V[2];V=V[3];var he=Math.sin(J);return J=Math.cos(J),U[0]=ne*J-Q*he,U[1]=re*J+V*he,U[2]=Q*J+ne*he,U[3]=V*J-re*he,U},o.rotateZ=function(U,V,J){J*=.5;var ne=V[0],re=V[1],Q=V[2];V=V[3];var he=Math.sin(J);return J=Math.cos(J),U[0]=ne*J+re*he,U[1]=re*J-ne*he,U[2]=Q*J+V*he,U[3]=V*J-Q*he,U},o.calculateW=function(U,V){var J=V[0],ne=V[1];return V=V[2],U[0]=J,U[1]=ne,U[2]=V,U[3]=Math.sqrt(Math.abs(1-J*J-ne*ne-V*V)),U},o.slerp=S,o.random=function(U){var V=T.RANDOM(),J=T.RANDOM(),ne=T.RANDOM(),re=Math.sqrt(1-V);return V=Math.sqrt(V),U[0]=re*Math.sin(2*Math.PI*J),U[1]=re*Math.cos(2*Math.PI*J),U[2]=V*Math.sin(2*Math.PI*ne),U[3]=V*Math.cos(2*Math.PI*ne),U},o.invert=function(U,V){var J=V[0],ne=V[1],re=V[2];V=V[3];var Q=J*J+ne*ne+re*re+V*V;return Q=Q?1/Q:0,U[0]=-J*Q,U[1]=-ne*Q,U[2]=-re*Q,U[3]=V*Q,U},o.conjugate=function(U,V){return U[0]=-V[0],U[1]=-V[1],U[2]=-V[2],U[3]=V[3],U},o.fromMat3=x,o.fromEuler=function(U,V,J,ne){var re=.5*Math.PI/180;V*=re,J*=re,ne*=re,re=Math.sin(V),V=Math.cos(V);var Q=Math.sin(J);J=Math.cos(J);var he=Math.sin(ne);return ne=Math.cos(ne),U[0]=re*J*ne-V*Q*he,U[1]=V*Q*ne+re*J*he,U[2]=V*J*he-re*Q*ne,U[3]=V*J*ne+re*Q*he,U},o.str=function(U){return"quat("+U[0]+", "+U[1]+", "+U[2]+", "+U[3]+")"},o.setAxes=o.sqlerp=o.rotationTo=o.equals=o.exactEquals=o.normalize=o.sqrLen=o.squaredLength=o.len=o.length=o.lerp=o.dot=o.scale=o.mul=o.add=o.set=o.copy=o.fromValues=o.clone=void 0;var T=h(Fl),z=h(sl),G=h(dd);C=h(vm),o.clone=C.clone,o.fromValues=C.fromValues,o.copy=C.copy,o.set=C.set,o.add=C.add,o.mul=p,o.scale=C.scale,o.dot=C.dot,o.lerp=C.lerp;var P=C.length;o.length=P,o.len=P,P=C.squaredLength,o.squaredLength=P,o.sqrLen=P;var D=C.normalize;o.normalize=D,o.exactEquals=C.exactEquals,o.equals=C.equals,C=function(){var U=G.create(),V=G.fromValues(1,0,0),J=G.fromValues(0,1,0);return function(ne,re,Q){var he=G.dot(re,Q);return-.999999>he?(G.cross(U,V,re),1e-6>G.len(U)&&G.cross(U,J,re),G.normalize(U,U),f(ne,U,Math.PI),ne):.999999<he?(ne[0]=0,ne[1]=0,ne[2]=0,ne[3]=1,ne):(G.cross(U,re,Q),ne[0]=U[0],ne[1]=U[1],ne[2]=U[2],ne[3]=1+he,D(ne,ne))}}(),o.rotationTo=C,C=function(){var U=u(),V=u();return function(J,ne,re,Q,he,Me){return S(U,ne,he,Me),S(V,re,Q,Me),S(J,U,V,2*Me*(1-Me)),J}}(),o.sqlerp=C,C=function(){var U=z.create();return function(V,J,ne,re){return U[0]=ne[0],U[3]=ne[1],U[6]=ne[2],U[1]=re[0],U[4]=re[1],U[7]=re[2],U[2]=-J[0],U[5]=-J[1],U[8]=-J[2],D(V,x(V,U))}}(),o.setAxes=C});We(pd);var Af=Fe(function(C,o){function h(P){if(P&&P.__esModule)return P;var D={};if(P!=null){for(var U in P)if(Object.prototype.hasOwnProperty.call(P,U)){var V=Ea&&Ka?Ka(P,U):{};V.get||V.set?Ea(D,U,V):D[U]=P[U]}}return D.default=P,D}function u(P,D,U){var V=.5*U[0],J=.5*U[1];U=.5*U[2];var ne=D[0],re=D[1],Q=D[2];return D=D[3],P[0]=ne,P[1]=re,P[2]=Q,P[3]=D,P[4]=V*D+J*Q-U*re,P[5]=J*D+U*ne-V*Q,P[6]=U*D+V*re-J*ne,P[7]=-V*ne-J*re-U*Q,P}function f(P,D){return P[0]=D[0],P[1]=D[1],P[2]=D[2],P[3]=D[3],P[4]=D[4],P[5]=D[5],P[6]=D[6],P[7]=D[7],P}function p(P,D,U){var V=D[0],J=D[1],ne=D[2],re=D[3],Q=U[4],he=U[5],Me=U[6],De=U[7],Ue=D[4],Ve=D[5],ht=D[6];D=D[7];var Je=U[0],Er=U[1],fr=U[2];return U=U[3],P[0]=V*U+re*Je+J*fr-ne*Er,P[1]=J*U+re*Er+ne*Je-V*fr,P[2]=ne*U+re*fr+V*Er-J*Je,P[3]=re*U-V*Je-J*Er-ne*fr,P[4]=V*De+re*Q+J*Me-ne*he+Ue*U+D*Je+Ve*fr-ht*Er,P[5]=J*De+re*he+ne*Q-V*Me+Ve*U+D*Er+ht*Je-Ue*fr,P[6]=ne*De+re*Me+V*he-J*Q+ht*U+D*fr+Ue*Er-Ve*Je,P[7]=re*De-V*Q-J*he-ne*Me+D*U-Ue*Je-Ve*Er-ht*fr,P}Object.defineProperty(o,"__esModule",{value:!0}),o.create=function(){var P=new S.ARRAY_TYPE(8);return S.ARRAY_TYPE!=Float32Array&&(P[0]=0,P[1]=0,P[2]=0,P[4]=0,P[5]=0,P[6]=0,P[7]=0),P[3]=1,P},o.clone=function(P){var D=new S.ARRAY_TYPE(8);return D[0]=P[0],D[1]=P[1],D[2]=P[2],D[3]=P[3],D[4]=P[4],D[5]=P[5],D[6]=P[6],D[7]=P[7],D},o.fromValues=function(P,D,U,V,J,ne,re,Q){var he=new S.ARRAY_TYPE(8);return he[0]=P,he[1]=D,he[2]=U,he[3]=V,he[4]=J,he[5]=ne,he[6]=re,he[7]=Q,he},o.fromRotationTranslationValues=function(P,D,U,V,J,ne,re){var Q=new S.ARRAY_TYPE(8);return Q[0]=P,Q[1]=D,Q[2]=U,Q[3]=V,J*=.5,ne*=.5,re*=.5,Q[4]=J*V+ne*U-re*D,Q[5]=ne*V+re*P-J*U,Q[6]=re*V+J*D-ne*P,Q[7]=-J*P-ne*D-re*U,Q},o.fromRotationTranslation=u,o.fromTranslation=function(P,D){return P[0]=0,P[1]=0,P[2]=0,P[3]=1,P[4]=.5*D[0],P[5]=.5*D[1],P[6]=.5*D[2],P[7]=0,P},o.fromRotation=function(P,D){return P[0]=D[0],P[1]=D[1],P[2]=D[2],P[3]=D[3],P[4]=0,P[5]=0,P[6]=0,P[7]=0,P},o.fromMat4=function(P,D){var U=x.create();T.getRotation(U,D);var V=new S.ARRAY_TYPE(3);return T.getTranslation(V,D),u(P,U,V),P},o.copy=f,o.identity=function(P){return P[0]=0,P[1]=0,P[2]=0,P[3]=1,P[4]=0,P[5]=0,P[6]=0,P[7]=0,P},o.set=function(P,D,U,V,J,ne,re,Q,he){return P[0]=D,P[1]=U,P[2]=V,P[3]=J,P[4]=ne,P[5]=re,P[6]=Q,P[7]=he,P},o.getDual=function(P,D){return P[0]=D[4],P[1]=D[5],P[2]=D[6],P[3]=D[7],P},o.setDual=function(P,D){return P[4]=D[0],P[5]=D[1],P[6]=D[2],P[7]=D[3],P},o.getTranslation=function(P,D){var U=D[4],V=D[5],J=D[6],ne=D[7],re=-D[0],Q=-D[1],he=-D[2];return D=D[3],P[0]=2*(U*D+ne*re+V*he-J*Q),P[1]=2*(V*D+ne*Q+J*re-U*he),P[2]=2*(J*D+ne*he+U*Q-V*re),P},o.translate=function(P,D,U){var V=D[0],J=D[1],ne=D[2],re=D[3],Q=.5*U[0],he=.5*U[1];U=.5*U[2];var Me=D[4],De=D[5],Ue=D[6];return D=D[7],P[0]=V,P[1]=J,P[2]=ne,P[3]=re,P[4]=re*Q+J*U-ne*he+Me,P[5]=re*he+ne*Q-V*U+De,P[6]=re*U+V*he-J*Q+Ue,P[7]=-V*Q-J*he-ne*U+D,P},o.rotateX=function(P,D,U){var V=-D[0],J=-D[1],ne=-D[2],re=D[3],Q=D[4],he=D[5],Me=D[6],De=D[7],Ue=Q*re+De*V+he*ne-Me*J,Ve=he*re+De*J+Me*V-Q*ne,ht=Me*re+De*ne+Q*J-he*V;return Q=De*re-Q*V-he*J-Me*ne,x.rotateX(P,D,U),V=P[0],J=P[1],ne=P[2],re=P[3],P[4]=Ue*re+Q*V+Ve*ne-ht*J,P[5]=Ve*re+Q*J+ht*V-Ue*ne,P[6]=ht*re+Q*ne+Ue*J-Ve*V,P[7]=Q*re-Ue*V-Ve*J-ht*ne,P},o.rotateY=function(P,D,U){var V=-D[0],J=-D[1],ne=-D[2],re=D[3],Q=D[4],he=D[5],Me=D[6],De=D[7],Ue=Q*re+De*V+he*ne-Me*J,Ve=he*re+De*J+Me*V-Q*ne,ht=Me*re+De*ne+Q*J-he*V;return Q=De*re-Q*V-he*J-Me*ne,x.rotateY(P,D,U),V=P[0],J=P[1],ne=P[2],re=P[3],P[4]=Ue*re+Q*V+Ve*ne-ht*J,P[5]=Ve*re+Q*J+ht*V-Ue*ne,P[6]=ht*re+Q*ne+Ue*J-Ve*V,P[7]=Q*re-Ue*V-Ve*J-ht*ne,P},o.rotateZ=function(P,D,U){var V=-D[0],J=-D[1],ne=-D[2],re=D[3],Q=D[4],he=D[5],Me=D[6],De=D[7],Ue=Q*re+De*V+he*ne-Me*J,Ve=he*re+De*J+Me*V-Q*ne,ht=Me*re+De*ne+Q*J-he*V;return Q=De*re-Q*V-he*J-Me*ne,x.rotateZ(P,D,U),V=P[0],J=P[1],ne=P[2],re=P[3],P[4]=Ue*re+Q*V+Ve*ne-ht*J,P[5]=Ve*re+Q*J+ht*V-Ue*ne,P[6]=ht*re+Q*ne+Ue*J-Ve*V,P[7]=Q*re-Ue*V-Ve*J-ht*ne,P},o.rotateByQuatAppend=function(P,D,U){var V=U[0],J=U[1],ne=U[2];U=U[3];var re=D[0],Q=D[1],he=D[2],Me=D[3];return P[0]=re*U+Me*V+Q*ne-he*J,P[1]=Q*U+Me*J+he*V-re*ne,P[2]=he*U+Me*ne+re*J-Q*V,P[3]=Me*U-re*V-Q*J-he*ne,re=D[4],Q=D[5],he=D[6],Me=D[7],P[4]=re*U+Me*V+Q*ne-he*J,P[5]=Q*U+Me*J+he*V-re*ne,P[6]=he*U+Me*ne+re*J-Q*V,P[7]=Me*U-re*V-Q*J-he*ne,P},o.rotateByQuatPrepend=function(P,D,U){var V=D[0],J=D[1],ne=D[2];D=D[3];var re=U[0],Q=U[1],he=U[2],Me=U[3];return P[0]=V*Me+D*re+J*he-ne*Q,P[1]=J*Me+D*Q+ne*re-V*he,P[2]=ne*Me+D*he+V*Q-J*re,P[3]=D*Me-V*re-J*Q-ne*he,re=U[4],Q=U[5],he=U[6],Me=U[7],P[4]=V*Me+D*re+J*he-ne*Q,P[5]=J*Me+D*Q+ne*re-V*he,P[6]=ne*Me+D*he+V*Q-J*re,P[7]=D*Me-V*re-J*Q-ne*he,P},o.rotateAroundAxis=function(P,D,U,V){if(Math.abs(V)<S.EPSILON)return f(P,D);var J=Math.sqrt(U[0]*U[0]+U[1]*U[1]+U[2]*U[2]);V*=.5;var ne=Math.sin(V),re=ne*U[0]/J,Q=ne*U[1]/J;U=ne*U[2]/J,V=Math.cos(V),J=D[0],ne=D[1];var he=D[2],Me=D[3];return P[0]=J*V+Me*re+ne*U-he*Q,P[1]=ne*V+Me*Q+he*re-J*U,P[2]=he*V+Me*U+J*Q-ne*re,P[3]=Me*V-J*re-ne*Q-he*U,J=D[4],ne=D[5],he=D[6],D=D[7],P[4]=J*V+D*re+ne*U-he*Q,P[5]=ne*V+D*Q+he*re-J*U,P[6]=he*V+D*U+J*Q-ne*re,P[7]=D*V-J*re-ne*Q-he*U,P},o.add=function(P,D,U){return P[0]=D[0]+U[0],P[1]=D[1]+U[1],P[2]=D[2]+U[2],P[3]=D[3]+U[3],P[4]=D[4]+U[4],P[5]=D[5]+U[5],P[6]=D[6]+U[6],P[7]=D[7]+U[7],P},o.multiply=p,o.scale=function(P,D,U){return P[0]=D[0]*U,P[1]=D[1]*U,P[2]=D[2]*U,P[3]=D[3]*U,P[4]=D[4]*U,P[5]=D[5]*U,P[6]=D[6]*U,P[7]=D[7]*U,P},o.lerp=function(P,D,U,V){var J=1-V;return 0>z(D,U)&&(V=-V),P[0]=D[0]*J+U[0]*V,P[1]=D[1]*J+U[1]*V,P[2]=D[2]*J+U[2]*V,P[3]=D[3]*J+U[3]*V,P[4]=D[4]*J+U[4]*V,P[5]=D[5]*J+U[5]*V,P[6]=D[6]*J+U[6]*V,P[7]=D[7]*J+U[7]*V,P},o.invert=function(P,D){var U=G(D);return P[0]=-D[0]/U,P[1]=-D[1]/U,P[2]=-D[2]/U,P[3]=D[3]/U,P[4]=-D[4]/U,P[5]=-D[5]/U,P[6]=-D[6]/U,P[7]=D[7]/U,P},o.conjugate=function(P,D){return P[0]=-D[0],P[1]=-D[1],P[2]=-D[2],P[3]=D[3],P[4]=-D[4],P[5]=-D[5],P[6]=-D[6],P[7]=D[7],P},o.normalize=function(P,D){var U=G(D);if(0<U){U=Math.sqrt(U);var V=D[0]/U,J=D[1]/U,ne=D[2]/U,re=D[3]/U,Q=D[4],he=D[5],Me=D[6];D=D[7];var De=V*Q+J*he+ne*Me+re*D;P[0]=V,P[1]=J,P[2]=ne,P[3]=re,P[4]=(Q-V*De)/U,P[5]=(he-J*De)/U,P[6]=(Me-ne*De)/U,P[7]=(D-re*De)/U}return P},o.str=function(P){return"quat2("+P[0]+", "+P[1]+", "+P[2]+", "+P[3]+", "+P[4]+", "+P[5]+", "+P[6]+", "+P[7]+")"},o.exactEquals=function(P,D){return P[0]===D[0]&&P[1]===D[1]&&P[2]===D[2]&&P[3]===D[3]&&P[4]===D[4]&&P[5]===D[5]&&P[6]===D[6]&&P[7]===D[7]},o.equals=function(P,D){var U=P[0],V=P[1],J=P[2],ne=P[3],re=P[4],Q=P[5],he=P[6];P=P[7];var Me=D[0],De=D[1],Ue=D[2],Ve=D[3],ht=D[4],Je=D[5],Er=D[6];return D=D[7],Math.abs(U-Me)<=S.EPSILON*Math.max(1,Math.abs(U),Math.abs(Me))&&Math.abs(V-De)<=S.EPSILON*Math.max(1,Math.abs(V),Math.abs(De))&&Math.abs(J-Ue)<=S.EPSILON*Math.max(1,Math.abs(J),Math.abs(Ue))&&Math.abs(ne-Ve)<=S.EPSILON*Math.max(1,Math.abs(ne),Math.abs(Ve))&&Math.abs(re-ht)<=S.EPSILON*Math.max(1,Math.abs(re),Math.abs(ht))&&Math.abs(Q-Je)<=S.EPSILON*Math.max(1,Math.abs(Q),Math.abs(Je))&&Math.abs(he-Er)<=S.EPSILON*Math.max(1,Math.abs(he),Math.abs(Er))&&Math.abs(P-D)<=S.EPSILON*Math.max(1,Math.abs(P),Math.abs(D))},o.sqrLen=o.squaredLength=o.len=o.length=o.dot=o.mul=o.setReal=o.getReal=void 0;var S=h(Fl),x=h(pd),T=h(Cf);o.getReal=x.copy,o.setReal=x.copy,o.mul=p;var z=x.dot;o.dot=z,C=x.length,o.length=C,o.len=C;var G=x.squaredLength;o.squaredLength=G,o.sqrLen=G});We(Af);var Bi=Fe(function(C,o){function h(){var P=new G.ARRAY_TYPE(2);return G.ARRAY_TYPE!=Float32Array&&(P[0]=0,P[1]=0),P}function u(P,D,U){return P[0]=D[0]-U[0],P[1]=D[1]-U[1],P}function f(P,D,U){return P[0]=D[0]*U[0],P[1]=D[1]*U[1],P}function p(P,D,U){return P[0]=D[0]/U[0],P[1]=D[1]/U[1],P}function S(P,D){var U=D[0]-P[0];return P=D[1]-P[1],Math.sqrt(U*U+P*P)}function x(P,D){var U=D[0]-P[0];return P=D[1]-P[1],U*U+P*P}function T(P){var D=P[0];return P=P[1],Math.sqrt(D*D+P*P)}function z(P){var D=P[0];return P=P[1],D*D+P*P}Object.defineProperty(o,"__esModule",{value:!0}),o.create=h,o.clone=function(P){var D=new G.ARRAY_TYPE(2);return D[0]=P[0],D[1]=P[1],D},o.fromValues=function(P,D){var U=new G.ARRAY_TYPE(2);return U[0]=P,U[1]=D,U},o.copy=function(P,D){return P[0]=D[0],P[1]=D[1],P},o.set=function(P,D,U){return P[0]=D,P[1]=U,P},o.add=function(P,D,U){return P[0]=D[0]+U[0],P[1]=D[1]+U[1],P},o.subtract=u,o.multiply=f,o.divide=p,o.ceil=function(P,D){return P[0]=Math.ceil(D[0]),P[1]=Math.ceil(D[1]),P},o.floor=function(P,D){return P[0]=Math.floor(D[0]),P[1]=Math.floor(D[1]),P},o.min=function(P,D,U){return P[0]=Math.min(D[0],U[0]),P[1]=Math.min(D[1],U[1]),P},o.max=function(P,D,U){return P[0]=Math.max(D[0],U[0]),P[1]=Math.max(D[1],U[1]),P},o.round=function(P,D){return P[0]=Math.round(D[0]),P[1]=Math.round(D[1]),P},o.scale=function(P,D,U){return P[0]=D[0]*U,P[1]=D[1]*U,P},o.scaleAndAdd=function(P,D,U,V){return P[0]=D[0]+U[0]*V,P[1]=D[1]+U[1]*V,P},o.distance=S,o.squaredDistance=x,o.length=T,o.squaredLength=z,o.negate=function(P,D){return P[0]=-D[0],P[1]=-D[1],P},o.inverse=function(P,D){return P[0]=1/D[0],P[1]=1/D[1],P},o.normalize=function(P,D){var U=D[0],V=D[1];return U=U*U+V*V,0<U&&(U=1/Math.sqrt(U)),P[0]=D[0]*U,P[1]=D[1]*U,P},o.dot=function(P,D){return P[0]*D[0]+P[1]*D[1]},o.cross=function(P,D,U){return D=D[0]*U[1]-D[1]*U[0],P[0]=P[1]=0,P[2]=D,P},o.lerp=function(P,D,U,V){var J=D[0];return D=D[1],P[0]=J+V*(U[0]-J),P[1]=D+V*(U[1]-D),P},o.random=function(P,D){D=D||1;var U=2*G.RANDOM()*Math.PI;return P[0]=Math.cos(U)*D,P[1]=Math.sin(U)*D,P},o.transformMat2=function(P,D,U){var V=D[0];return D=D[1],P[0]=U[0]*V+U[2]*D,P[1]=U[1]*V+U[3]*D,P},o.transformMat2d=function(P,D,U){var V=D[0];return D=D[1],P[0]=U[0]*V+U[2]*D+U[4],P[1]=U[1]*V+U[3]*D+U[5],P},o.transformMat3=function(P,D,U){var V=D[0];return D=D[1],P[0]=U[0]*V+U[3]*D+U[6],P[1]=U[1]*V+U[4]*D+U[7],P},o.transformMat4=function(P,D,U){var V=D[0];return D=D[1],P[0]=U[0]*V+U[4]*D+U[12],P[1]=U[1]*V+U[5]*D+U[13],P},o.rotate=function(P,D,U,V){var J=D[0]-U[0];D=D[1]-U[1];var ne=Math.sin(V);return V=Math.cos(V),P[0]=J*V-D*ne+U[0],P[1]=J*ne+D*V+U[1],P},o.angle=function(P,D){var U=P[0];P=P[1];var V=D[0];D=D[1];var J=U*U+P*P;0<J&&(J=1/Math.sqrt(J));var ne=V*V+D*D;return 0<ne&&(ne=1/Math.sqrt(ne)),U=(U*V+P*D)*J*ne,1<U?0:-1>U?Math.PI:Math.acos(U)},o.zero=function(P){return P[0]=0,P[1]=0,P},o.str=function(P){return"vec2("+P[0]+", "+P[1]+")"},o.exactEquals=function(P,D){return P[0]===D[0]&&P[1]===D[1]},o.equals=function(P,D){var U=P[0];P=P[1];var V=D[0];return D=D[1],Math.abs(U-V)<=G.EPSILON*Math.max(1,Math.abs(U),Math.abs(V))&&Math.abs(P-D)<=G.EPSILON*Math.max(1,Math.abs(P),Math.abs(D))},o.forEach=o.sqrLen=o.sqrDist=o.dist=o.div=o.mul=o.sub=o.len=void 0;var G=function(P){if(P&&P.__esModule)return P;var D={};if(P!=null){for(var U in P)if(Object.prototype.hasOwnProperty.call(P,U)){var V=Ea&&Ka?Ka(P,U):{};V.get||V.set?Ea(D,U,V):D[U]=P[U]}}return D.default=P,D}(Fl);o.len=T,o.sub=u,o.mul=f,o.div=p,o.dist=S,o.sqrDist=x,o.sqrLen=z,C=function(){var P=h();return function(D,U,V,J,ne,re){for(U||(U=2),V||(V=0),J=J?Math.min(J*U+V,D.length):D.length;V<J;V+=U)P[0]=D[V],P[1]=D[V+1],ne(P,P,re),D[V]=P[0],D[V+1]=P[1];return D}}(),o.forEach=C});We(Bi);var ss=Fe(function(C,o){function h(u){if(u&&u.__esModule)return u;var f={};if(u!=null){for(var p in u)if(Object.prototype.hasOwnProperty.call(u,p)){var S=Ea&&Ka?Ka(u,p):{};S.get||S.set?Ea(f,p,S):f[p]=u[p]}}return f.default=u,f}Object.defineProperty(o,"__esModule",{value:!0}),o.vec4=o.vec3=o.vec2=o.quat2=o.quat=o.mat4=o.mat3=o.mat2d=o.mat2=o.glMatrix=void 0,C=h(Fl),o.glMatrix=C,C=h(v0),o.mat2=C,C=h(fd),o.mat2d=C,C=h(sl),o.mat3=C,C=h(Cf),o.mat4=C,C=h(pd),o.quat=C,C=h(Af),o.quat2=C,C=h(Bi),o.vec2=C,C=h(dd),o.vec3=C,C=h(vm),o.vec4=C});We(ss);var tu=ss.vec4,ai=ss.vec3,Ao=ss.vec2,wh=ss.quat2,wf=ss.quat,dn=ss.mat4,bh=ss.mat3,ym=ss.mat2d,kg=ss.mat2,Cx=ss.glMatrix;ur.deviation=function(C,o,h,u){var f=o&&o.length,p=Math.abs(Gi(C,0,f?o[0]*h:C.length,h));if(f){f=0;for(var S=o.length;f<S;f++)p-=Math.abs(Gi(C,o[f]*h,f<S-1?o[f+1]*h:C.length,h))}for(f=o=0;f<u.length;f+=3){S=u[f]*h;var x=u[f+1]*h,T=u[f+2]*h;o+=Math.abs((C[S]-C[T])*(C[x+1]-C[S+1])-(C[S]-C[x])*(C[T+1]-C[S+1]))}return p===0&&o===0?0:Math.abs((o-p)/p)},ur.flatten=function(C){for(var o=C[0][0].length,h={vertices:[],holes:[],dimensions:o},u=0,f=0;f<C.length;f++){for(var p=0;p<C[f].length;p++)for(var S=0;S<o;S++)h.vertices.push(C[f][p][S]);0<f&&(u+=C[f-1].length,h.holes.push(u))}return h},ur.default=ur;var cp=typeof nd=="undefined"?"__target":nd(),Hg=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,Vg=window.URL||window.webkitURL,bf=window.Worker;if(bf){var Sh=Cc("self.onmessage = function () {}"),Bl=new Uint8Array(1);try{if(/(?:Trident|Edge)\/(?:[567]|12)/i.test(navigator.userAgent))throw Error("Not available");var _h=new bf(Sh);_h.postMessage(Bl,[Bl.buffer])}catch(C){bf=null}finally{Vg.revokeObjectURL(Sh),_h&&_h.terminate()}}var Ax=new function(C,o){return function(h){var u=this;if(o){if(bf&&!h)return h=(""+o).replace(/^function.+?{/,"").slice(0,-1),h=Cc(h),this[cp]=new bf(h),Vg.revokeObjectURL(h),this[cp];var f={postMessage:function(S){u.onmessage&&setTimeout(function(){return u.onmessage({data:S,target:f})})}};o.call(f),this.postMessage=function(p){setTimeout(function(){return f.onmessage({data:p,target:u})})},this.isThisThread=!0}else return new bf(C)}}("./worker.js",function(C,o){}),xm={window:1,windowAnimation:2,gradual:3,ripple:4,water:6},y0=function(C){function o(h,u){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h,u)),h._isShow=!0,u=h.getOptions(),(u.style==="windowAnimation"||u.style==="ripple"||0<u.riseTime)&&(h.autoUpdate=!0),h.selectedColor=[-1,-1,-1],h.textureCache={},h}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{color:"rgba(50, 50, 230, 1.0)",opacity:.8,height:0,isTextureFull:!1,topColor:"rgba(76, 76, 76, 0.8)",textureRotate:0,textureScale:1,useLight:!0,riseTime:0,polygonOffset:[1,1]}}},{key:"initialize",value:function(u){this.gl=u;var f=this.getOptions();this.dataMgr=new Ba(this,this.gl),this.texture=null,this.isUseTexture=!1;var p=[];f.enablePicked&&p.push("PICK"),f.texture&&p.push("USE_TEXTURE"),this.program=new yo(this.gl,{vertexShader:`precision highp float;uniform vec4 uSelectedColor;attribute vec4 a_pos;attribute vec3 a_normal;attribute vec4 a_color;attribute vec4 a_pre_color;attribute float a_height;attribute float a_pre_height;
#if defined(USE_TEXTURE)
attribute vec2 a_texture_coord;
#endif
uniform mat4 u_proj_matrix;uniform mat4 u_mv_matrix;uniform mat4 u_normal_matrix;uniform vec3 u_side_light_dir;uniform bool u_use_lighting;uniform bool u_use_texture;uniform vec3 u_ripple_center;uniform float u_radius;uniform float style;uniform float alpha;uniform float time;uniform float dataTime;uniform float riseTime;uniform vec2 uMapCenter;uniform float uMapZoom;varying float v_height;varying vec4 v_color;varying vec3 v_position;varying vec2 v_texture_coord;const vec3 point_color=vec3(0.06,0.06,0.06);const vec3 light_color=vec3(0.53,0.53,0.53);const vec3 light_color_2=vec3(0.4,0.4,0.4);const vec3 uAmbientColor=vec3(0.8,0.8,0.8);const vec3 uLightingDirection=vec3(0.0,1.0,1.0);const vec3 uDirectionalColor=vec3(1.0,1.0,1.0);float getTransitionValue(float pre_value,float to_value,float dataTime,float riseTime){float result=0.0;if(pre_value==to_value){result=to_value;}else{if(riseTime>0.0&&dataTime<riseTime){result=(pre_value+(to_value-pre_value)*(dataTime/riseTime));}else{result=to_value;}}return result;}void main(){vec4 pos=a_pos;pos.z=pos.z+pos.w*getTransitionValue(a_pre_height,a_height,dataTime,riseTime);v_position=pos.xyz;v_height=a_height;
#if defined(USE_TEXTURE)
if(u_use_texture){v_texture_coord=a_texture_coord;}
#endif
vec4 position=u_proj_matrix*u_mv_matrix*vec4(pos.xyz,1.0);gl_Position=position;vec4 icolor=a_color;
#if defined(PICK)
if(mapvIsPicked()){icolor=uSelectedColor;}
#endif
if(u_use_lighting){vec3 N=normalize(vec3(u_normal_matrix*vec4(a_normal,1.0)));vec4 point_dir=u_mv_matrix*vec4(0,1,0,0);vec3 L_point=normalize(point_dir.xyz);float lambert_point=max(0.0,dot(N,-L_point));vec4 light_dir=u_mv_matrix*vec4(u_side_light_dir,0);vec3 L=normalize(light_dir.xyz);float lambert=max(0.0,dot(N,-L));if(pos.z<5.0){float deepGradientColor=(5.0-pos.z)/8.0;lambert=lambert-deepGradientColor;}vec4 light_dir_2=u_mv_matrix*vec4(0,0,-1,0);vec3 L2=normalize(light_dir_2.xyz);float lambert_2=max(0.0,dot(N,-L2));if(a_pre_color.r==a_color.r&&a_pre_color.g==a_color.g&&a_pre_color.b==a_color.b){}else{if(riseTime>0.0&&dataTime<riseTime){icolor.r=a_pre_color.r+(a_color.r-a_pre_color.r)*(dataTime/riseTime);icolor.g=a_pre_color.g+(a_color.g-a_pre_color.g)*(dataTime/riseTime);icolor.b=a_pre_color.b+(a_color.b-a_pre_color.b)*(dataTime/riseTime);}}v_color.rgb=icolor.rgb+icolor.rgb*light_color*lambert+icolor.rgb*light_color_2*lambert_2+icolor.rgb*point_color*lambert_point;v_color.a=icolor.a;if(u_use_texture){mat3 normalMatrix=mat3(u_normal_matrix);vec3 transformedNormal=normalMatrix*a_normal;vec3 dir=uLightingDirection;dir=vec3(normalMatrix*vec3(0.0,-1.0,2.0));float directionalLightWeighting=max(dot(normalize(transformedNormal),normalize(dir)),0.0);vec4 vLightWeighting;vLightWeighting=vec4(uAmbientColor+uDirectionalColor*directionalLightWeighting,1.0);v_color=vLightWeighting;}}else{v_color=icolor;}}`,fragmentShader:"precision highp float;varying vec4 v_color;varying vec3 v_position;varying float v_height;varying vec2 v_texture_coord;uniform vec3 u_ripple_center;uniform vec4 top_color;uniform float u_radius;uniform float style;uniform float alpha;uniform float time;uniform sampler2D u_sampler;uniform bool u_use_lighting;uniform bool u_use_texture;void main(){vec4 color=vec4(v_color);vec4 textureColor=vec4(1.0,1.0,1.0,1.0);if(u_use_texture){if(style==6.0){float x=v_texture_coord.s;float y=v_texture_coord.t;vec2 cPos=-1.0+2.0*gl_FragCoord.xy/MAPV_resolution;float cLength=length(cPos);vec2 uv=gl_FragCoord.xy/MAPV_resolution+(cPos/cLength)*cos(cLength*12.0-time/1000.0*4.0)*0.03;textureColor=texture2D(u_sampler,uv/2.0+vec2(x,y));}else{textureColor=texture2D(u_sampler,vec2(v_texture_coord.s,v_texture_coord.t));}if(u_use_lighting){color=vec4(textureColor*v_color*1.1);}else{color=textureColor;}}if(style==1.0||style==2.0){float t=time/1000.0;float diffDistance=5.0;float modX=mod(v_position.x,diffDistance*2.0);float modZ=mod(v_position.z,diffDistance*2.0);if(modX<diffDistance&&modZ<diffDistance&&v_position.z<v_height){color*=1.05;if(time>0.0&&style==2.0){float iX=ceil(v_position.x/diffDistance);float iZ=ceil(v_position.z/diffDistance);float timeDistance=8.0;t+=tan(sin(iZ));color*=(1.0+mod(t,timeDistance)/timeDistance);}}color.a=alpha;}else if(style==5.0){float t=time/1000.0;float diffDistance=10.0;float modZ=mod(v_position.z-t*40.0,diffDistance*2.0);color.a=1.0-pow(v_position.z/v_height,0.5);if(v_position.z/v_height<0.3){color.r+=0.2;color.g+=0.2;color.b+=0.2;}if(modZ<diffDistance*2.0-4.0){discard;}}else if(style==3.0){float diffDistance=10.0;float modX=mod(v_position.x,diffDistance*2.0);color.a=1.0-pow(v_position.z/v_height,0.3);}else if(style==4.0){float dis=distance(u_ripple_center,v_position);float rSize=400.0;if(v_position.z>=v_height){color=top_color;}if(dis>u_radius-rSize&&dis<u_radius+rSize){color*=(1.0-abs(dis-u_radius)/rSize)*2.0+1.0;}}else if(style==6.0){}gl_FragColor=color;}",defines:p},this),this.vertexBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.colorBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.heightBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.textureBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Ti({gl:u,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),p=[{name:"a_pos",buffer:this.vertexBuffer,stride:28,size:4,type:"FLOAT",offset:0},{name:"a_normal",buffer:this.vertexBuffer,size:3,stride:28,type:"FLOAT",offset:16},{name:"a_color",buffer:this.colorBuffer,size:4,stride:32,type:"FLOAT",offset:0},{name:"a_pre_color",buffer:this.colorBuffer,size:4,stride:32,type:"FLOAT",offset:16},{name:"a_height",buffer:this.heightBuffer,size:1,stride:8,type:"FLOAT",offset:0},{name:"a_pre_height",buffer:this.heightBuffer,size:1,stride:8,type:"FLOAT",offset:4}],f.texture&&p.push({name:"a_texture_coord",buffer:this.textureBuffer,size:2,stride:8,type:"FLOAT",offset:0}),p=p.concat(this.getCommonAttributes()),this.vertexArray=new La({gl:u,program:this.program,attributes:p}),this.initializeTime=new Date,this.normalMatrix=dn.create()}},{key:"destroy",value:function(){this.options&&this.options.enablePicked&&(this.pickBuffer=null),this.dataMgr=this.options=this.data=this.indexBuffer=this.textureBuffer=this.heightBuffer=this.colorBuffer=this.vertexBuffer=this.program=this.vertexArray=null}},{key:"onChanged",value:function(u,f){var p=this;this.gl&&(this.loadTextureTime&&clearTimeout(this.loadTextureTime),this.loadTextureTime=setTimeout(function(){p.loadTexture(function(){p.dataMgr.parseData(f),p.dataTime=new Date,p.webglLayer.render()})},0))}},{key:"render",value:function(u){var f=u.gl,p=u.projectionMatrix,S=u.viewMatrix;if(this._isShow){var x=this.getData();if(x&&!(0>=x.length)){x=this.getOptions();var T=this.program;if(T.use(f),!x.texture||this.texture){f.disable(f.CULL_FACE),x.blend&&(f.enable(f.BLEND),f.blendFunc(f.ONE,f.ONE),f.blendEquation(f.FUNC_ADD)),x.height===0&&(f.enable(f.BLEND),f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA));var z=0;x.style&&xm[x.style]&&(z=xm[x.style]),x.style==="gradual"?(f.depthMask(!1),f.enable(f.BLEND),f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA)):f.depthMask(!0),f.enable(f.POLYGON_OFFSET_FILL),f.polygonOffset(x.polygonOffset[0],x.polygonOffset[1]);var G=this.normizedColor(x.topColor);if(x.style==="ripple"&&x.rippleLayer&&x.rippleLayer.data&&x.rippleLayer.data[0]){var P=this.normizedPoint(x.rippleLayer.data[0].geometry.coordinates);T.setUniforms({u_ripple_center:[P[0],P[1],0],u_radius:x.rippleLayer.options.size*x.rippleLayer.currentScale})}P=ai.fromValues(0,-1,2),x.lightDir&&(P=ai.fromValues(x.lightDir[0],x.lightDir[1],x.lightDir[2]));var D=this.normalMatrix;dn.invert(D,S),dn.transpose(D,D),T.setUniforms(_o(this.getCommonUniforms(u),{u_normal_matrix:D,u_sampler:this.texture,u_proj_matrix:p,u_mv_matrix:S,style:z,top_color:G,u_use_lighting:x.useLight,u_use_texture:this.isUseTexture,alpha:x.opacity===void 0?.8:parseFloat(x.opacity),time:new Date-this.initializeTime,dataTime:new Date-this.dataTime,riseTime:x.riseTime,u_side_light_dir:P})),u=this.dataMgr.getData(),0<u.vertex.length&&(this.vertexArray.bind(),this.indexBuffer.bind(),f.drawElements(f.TRIANGLES,u.index.length,f.UNSIGNED_INT,0)),f.disable(f.POLYGON_OFFSET_FILL)}}}else this.webglLayer.clear()}},{key:"loadTexture",value:function(u){var f=this,p=this.getOptions();p.texture?(this.isUseTexture=!0,As(this.gl,p.texture,function(S,x){f.image=x,f.texture=S,u&&u(),f.webglLayer.render()})):(this.isUseTexture=!1,this.image=this.texture=null,u&&u())}}]),o}(fa);Ba.prototype.initData=function(){this.outBuilding3d={pickColorVertex:[],vertex:[],texture:[],color:[],height:[],index:[]}},Ba.prototype.getData=function(){return this.outBuilding3d},Ba.prototype.initWorker=function(){this.worker=new Ax,this.worker.onmessage=function(C){}},Ba.prototype.parseData=function(C){var o=this;this.initData();for(var h=this.shapeLayer.getOptions(),u=0;u<C.length;u++){var f=C[u],p=f.height||h.height;"properties"in f&&"height"in f.properties&&(p=f.properties.height),p*=1;var S=f.color||h.color;"properties"in f&&"color"in f.properties&&(S=f.properties.color),"properties"in f&&"fillColor"in f.properties&&(S=f.properties.fillColor),Object.prototype.toString.call(S)==="[object Function]"&&(S=S(f)),S=this.shapeLayer.normizedColor(S);var x=this.shapeLayer.getProperty("angle",h.textureRotate,f),T=void 0;h.enablePicked&&(T=this.shapeLayer.indexToRgb(u));var z=void 0,G=void 0;if(h.riseTime&&(G=f.preColor,"properties"in f&&"preColor"in f.properties&&(G=f.properties.preColor),z=f.preHeight,"properties"in f&&"preHeight"in f.properties&&(z=f.properties.preHeight),z===void 0&&(z=0)),f.geometry.coordinates)if(f.geometry.type==="MultiPolygon"){var P=f.geometry.coordinates;f=[];for(var D=0;D<P.length;D++)f.push(P[D].map(function(re){return re.map(function(Q){return o.shapeLayer.normizedPoint(Q)})}));for(P=0;P<f.length;P++){D=[];var U=[],V=ur.flatten(f[P]),J=V.vertices;V=V.holes;for(var ne=0;ne<J.length;ne+=3)D.push(J[ne+0],J[ne+1]),U.push(J[ne+2]);this.parseBuilding3d(this.outBuilding3d,D,U,z,p,G,S,T,x,V)}}else{for(P=[],D=0;D<f.geometry.coordinates.length;D++)P.push(f.geometry.coordinates[D].map(function(re){return o.shapeLayer.normizedPoint(re)}));for(P=ur.flatten(P),f=P.vertices,P=P.holes,D=[],U=[],J=0;J<f.length;J+=3)D.push(f[J+0],f[J+1]),U.push(f[J+2]);this.parseBuilding3d(this.outBuilding3d,D,U,z,p,G,S,T,x,P)}}this.shapeLayer.vertexBuffer.updateData(new Float32Array(this.outBuilding3d.vertex)),this.shapeLayer.colorBuffer.updateData(new Float32Array(this.outBuilding3d.color)),this.shapeLayer.heightBuffer.updateData(new Float32Array(this.outBuilding3d.height)),this.shapeLayer.textureBuffer.updateData(new Float32Array(this.outBuilding3d.texture)),this.shapeLayer.indexBuffer.updateData(new Uint32Array(this.outBuilding3d.index)),h.enablePicked&&this.shapeLayer.pickBuffer.updateData(new Float32Array(this.outBuilding3d.pickColorVertex))},Ba.prototype.getBounds=function(C,o){for(var h=C[0],u=C[1],f=C[0],p=C[1],S=0;S<C.length;S+=2)h=Math.min(C[S],h),u=Math.min(C[S+1],u),f=Math.max(C[S],f),p=Math.max(C[S+1],p);if(S=[(f-h)/2+h,(p-u)/2+u],o===0||!o)return{minX:h,minY:u,maxX:f,maxY:p,width:f-h,height:p-u,center:S};for(h=C.slice(0),u=0;u<h.length;u+=2)f=Wa(C[u],C[u+1],S,o),h[u]=f[0],h[u+1]=f[1];return this.getBounds(h,0)},Ba.prototype.parseBuilding3d=function(C,o,h,u,f,p,S,x,T,z){u===void 0&&(u=f);var G=this.shapeLayer.options,P=C.vertex,D=C.texture,U=C.color,V=C.height,J=C.pickColorVertex;C=C.index,p===void 0&&(p=S);var ne=0,re=0;if(this.shapeLayer.image&&(ne=this.shapeLayer.image.width*G.textureScale,re=this.shapeLayer.image.height*G.textureScale),G.style!=="gradual"){z=z?ur(o,z,2):ur(o);var Q=z[0],he=z[1],Me=z[2];Q=[o[2*Q],o[2*Q+1],1],he=[o[2*he],o[2*he+1],1];var De=[o[2*Me],o[2*Me+1],1];Me=[],ai.cross(Me,[De[0]-he[0],De[1]-he[1],De[2]-he[2]],[Q[0]-he[0],Q[1]-he[1],Q[2]-he[2]]),he=P.length/7;var Ue;G.texture&&(Ue=this.getBounds(o,T)),Q=G.isTextureFull,De=0;for(var Ve=o.length;De<Ve;De+=2){if(P.push(o[De],o[De+1],h[De/2],1,Me[0],Me[1],Me[2]),U.push(S[0],S[1],S[2],S[3],p[0],p[1],p[2],p[3]),V.push(f,u),G.texture){var ht=Wa(o[De],o[De+1],Ue.center,T),Je=ms(ht,2);ht=Je[0],Je=Je[1],Q?(ht=(ht-Ue.minX)/Ue.width,Je=(Je-Ue.minY)/Ue.height):(ht=(ht-Ue.minX)/ne,Je=(Je-Ue.minY)/re),D.push(ht,Je)}x&&J.push(x[0]/255,x[1]/255,x[2]/255)}for(T=0,Ue=z.length;T<Ue;T++)C.push(z[T]+he)}if(!(f===u&&0>=f))for(T=0,z=o.length;T<z;T+=2)Ue=P.length/7,Ve=o[T],ht=o[T+1],Me=[Ve,ht,h[T/2],0],he=[Ve,ht,h[T/2],1],De=T+2,Je=T+3,T===z-2&&(De=0,Je=1),De=o[De],Je=o[Je],Ve=Math.sqrt(Math.pow(De-Ve,2),Math.pow(Je-ht,2)),ht=[De,Je,h[T/2],0],De=[De,Je,h[T/2],1],Je=[],ai.cross(Je,[ht[0]-Me[0],ht[1]-Me[1],ht[2]-Me[2]],[he[0]-Me[0],he[1]-Me[1],he[2]-Me[2]]),P.push(Me[0],Me[1],Me[2],Me[3]),P.push(Je[0],Je[1],Je[2]),P.push(he[0],he[1],he[2],he[3]),P.push(Je[0],Je[1],Je[2]),P.push(ht[0],ht[1],ht[2],ht[3]),P.push(Je[0],Je[1],Je[2]),P.push(De[0],De[1],De[2],De[3]),P.push(Je[0],Je[1],Je[2]),U.push(S[0],S[1],S[2],S[3]),U.push(p[0],p[1],p[2],p[3]),U.push(S[0],S[1],S[2],S[3]),U.push(p[0],p[1],p[2],p[3]),U.push(S[0],S[1],S[2],S[3]),U.push(p[0],p[1],p[2],p[3]),U.push(S[0],S[1],S[2],S[3]),U.push(p[0],p[1],p[2],p[3]),V.push(f),V.push(u),V.push(f),V.push(u),V.push(f),V.push(u),V.push(f),V.push(u),G.texture&&(Q?(D.push(0,0),D.push(0,1),D.push(1,0),D.push(1,1)):(D.push(0,0),D.push(0,f/re),D.push(Ve/ne,0),D.push(Ve/ne,f/re))),x&&(J.push(x[0]/255,x[1]/255,x[2]/255),J.push(x[0]/255,x[1]/255,x[2]/255),J.push(x[0]/255,x[1]/255,x[2]/255),J.push(x[0]/255,x[1]/255,x[2]/255)),C.push(Ue,Ue+2,Ue+3,Ue,Ue+3,Ue+1)};var x0=function(C){function o(h,u){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h,u)),h.preHeightMapper={},h.preColorMapper={},h}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return _o(ac(o.prototype.__proto__||ri(o.prototype),"getDefaultOptions",this).call(this),{style:"grid",gridSize:500,height:function(){return 1e3},color:function(){return"rgb(200, 200, 20)"}})}},{key:"generateGrid",value:function(u,f){var p=f.gridSize,S=[],x={};f=u.length;for(var T=this.getPointOffset(),z=0;z<f;z++){var G=this.normizedPoint(u[z].geometry.coordinates);G=~~((G[0]+T[0])/p)+"_"+~~((G[1]+T[1])/p),x[G]===void 0&&(x[G]=0);var P=~~u[z].count||1;"properties"in u[z]&&"count"in u[z].properties&&(P=~~u[z].properties.count),x[G]+=P}return Gs(x).forEach(function(D){var U=D.split("_");S.push([U[0]*p+p/2,U[1]*p+p/2,x[D]])}),S}},{key:"onChanged",value:function(u,f){f=this.processData(f),ac(o.prototype.__proto__||ri(o.prototype),"onChanged",this).call(this,u,f)}},{key:"getGridDataRange",value:function(){var u=this.gridData,f=void 0,p=void 0;u[0]&&(f=u[0][2],p=u[0][2]);for(var S=u.length,x=0;x<S;x++){var T=u[x];f=Math.max(T[2],f),p=Math.min(T[2],p)}return{max:f/2,min:p}}},{key:"processData",value:function(u){var f=this.getOptions(),p=f.style,S=f.gridSize,x=[];if(this.gridData=x,p==="normal"){p=this.getPointOffset();for(var T=0;T<u.length;T++){var z=this.normizedPoint(u[T].geometry.coordinates),G=z[0]+p[0];z=z[1]+p[1];var P=~~u[T].count||1;"properties"in u[T]&&"count"in u[T].properties&&(P=~~u[T].properties.count);var D=u[T].color;"properties"in u[T]&&"color"in u[T].properties&&(D=~~u[T].properties.color),x.push([G,z,P,D])}}else x=this.generateGrid(u,f);for(u=[],this._preHeightMapper={},this._preColorMapper={},p=0;p<x.length;p++)T=x[p],T[0]=T[0],T[1]=T[1],G=T[2],f.height&&(G=typeof f.height=="function"?f.height({count:T[2]}):f.height),z=S/2-5,P=T[3],f.color&&(P=typeof f.color=="function"?f.color({count:T[2],color:T[3]}):xe(P).unitArray()),D="p"+T[0]+T[1],u.push({geometry:{type:"Polygon",coordinates:[[[T[0]-z,T[1]-z],[T[0]-z,T[1]+z],[T[0]+z,T[1]+z],[T[0]+z,T[1]-z]]]},color:P,preHeight:this.preHeightMapper[D],preColor:this.preColorMapper[D],height:G}),this._preHeightMapper[D]=G,this._preColorMapper[D]=P;return this.preHeightMapper=this._preHeightMapper,this.preColorMapper=this._preColorMapper,u}}]),o}(y0),Bu=function(C){function o(h){return On(this,o),wi(this,(o.__proto__||ri(o)).call(this,h))}return ji(o,C),Qn(o,[{key:"initialize",value:function(u){var f=this;this.children&&this.children.forEach(function(p){p.map=f.map,p.setWebglLayer(f.getWebglLayer()),p.commonInitialize&&p.commonInitialize(u),p.initialize&&p.initialize(u),p.onOptionsChanged(p.getOptions()),p.onDataChanged(p.getData()),p.onChanged(p.getOptions(),p.getData())})}},{key:"isRequestAnimation",value:function(){if(this.autoUpdate!==void 0)return ac(o.prototype.__proto__||ri(o.prototype),"isRequestAnimation",this).call(this);for(var u=!1,f=0;f<this.children.length;f++)if(this.children[f].isRequestAnimation()){u=!0;break}return u}},{key:"render",value:function(u){this.children&&this.children.forEach(function(f){f.render(u)})}}]),o}(ap),wx=function(C){function o(h,u){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h,u)),h.gridLayer=new x0(h.getGridOptions()),h.children=[h.gridLayer],h.options.riseTime&&(h.autoUpdate=!0),h}return ji(o,C),Qn(o,[{key:"onDataChanged",value:function(u){this.gridLayer.setData(u)}},{key:"getGridOptions",value:function(){var u=this.getOptions(),f=u.max,p=u.min;f===void 0&&(p=this.gridLayer.getGridDataRange(),f=p.max,p=p.min);var S=new Dt({max:f,min:p,gradient:u.gradient,maxSize:u.maxHeight,minSize:u.minHeight});return u.height=function(x){var T=S.getSize(x.count);return"properties"in x&&"count"in x.properties&&(T=S.getSize(x.properties.count)),T},u.color=function(x){var T=S.getImageData(x.count);return"properties"in x&&"count"in x.properties&&(T=S.getImageData(x.properties.count)),[T[0]/255,T[1]/255,T[2]/255]},u}},{key:"onOptionsChanged",value:function(u){this.gridLayer.setOptions(this.getGridOptions())}},{key:"getDefaultOptions",value:function(){return{style:"grid",gridSize:500,maxHeight:8e3,minHeight:200,gradient:{0:"rgb(50, 50, 256)","0.1":"rgb(50, 250, 56)","0.5":"rgb(250, 250, 56)",1:"rgb(250, 50, 56)"}}}}]),o}(Bu),C0=function(C){function o(h,u){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h,u)),h.bufferData=[],h}return ji(o,C),Qn(o,[{key:"initialize",value:function(u){this.gl=u;var f=this.getOptions();this.program=new yo(this.gl,{vertexShader:`uniform mat4 u_matrix;attribute vec3 aPos;attribute vec4 aColor;varying vec4 vColor;
#if defined(DASH)
varying vec3 vPos;
#endif
void main(){if(aColor.w>=0.0&&aColor.w<=1.0){vColor=aColor;}else{vColor=vec4(aColor.xyz,1.0);}gl_Position=u_matrix*vec4(aPos,1.0);
#if defined(DASH)
vPos=aPos;
#endif
}`,fragmentShader:`precision highp float;varying vec4 vColor;varying vec3 vPos;void main(){
#if defined(DASH)
if(mod(vPos.x,3.0)<1.5){discard;}
#endif
gl_FragColor=vColor;}`,defines:f.useDash?["DASH"]:""},this),this.buffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.vertexArray=new La({gl:u,program:this.program,attributes:[{stride:28,name:"aPos",buffer:this.buffer,size:3,type:"FLOAT",offset:0},{stride:28,name:"aColor",buffer:this.buffer,size:4,type:"FLOAT",offset:12}]})}},{key:"destroy",value:function(){this.data=this.vertexArray=this.program=this.buffer=this.bufferData=null}},{key:"onChanged",value:function(u,f){var p=this;if(this.gl){var S=[],x=function(U,V){if(U)for(var J=0;J<U.length-1;J++){var ne=p.normizedPoint(U[J]);S.push(ne[0]),S.push(ne[1]),S.push(ne[2]),S.push(V[0],V[1],V[2],V[3]),ne=p.normizedPoint(U[J+1]),S.push(ne[0]),S.push(ne[1]),S.push(ne[2]),S.push(V[0],V[1],V[2],V[3])}};u=u.color;for(var T=0;T<f.length;T++){var z=this.getProperty("color",u,f[T]);z=this.normizedColor(z);var G=f[T].geometry,P=G.coordinates;if(G.type==="MultiPolygon"){if(P)for(G=0;G<P.length;G++)x(P[G][0],z)}else if(G.type==="Polygon")P&&x(P[0],z);else if(G.type==="MultiLineString"){if(P)for(G=0;G<P.length;G++)x(P[G],z)}else x(P,z)}this.bufferData=S,this.buffer.updateData(new Float32Array(S))}}},{key:"render",value:function(u){var f=u.gl;if(u=u.matrix,this.bufferData&&!(0>=this.bufferData.length)){var p=this.program;p.use(f),this.vertexArray.bind(),p.setUniforms({u_matrix:u}),u=this.getOptions().blend,f.enable(f.BLEND),f.blendEquation(f.FUNC_ADD),u&&u==="lighter"?f.blendFunc(f.SRC_ALPHA,f.ONE):f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),f.drawArrays(f.LINES,0,this.bufferData.length/7),f.disable(f.BLEND)}}}]),o}(fa),hp=Tc.f("species"),A0=Fe(function(C){C.exports={default:hp,__esModule:!0}});We(A0);var bx=typeof Be!="undefined"?Be:typeof self!="undefined"?self:typeof window!="undefined"?window:{},Mh=[],hu=[],Eh=typeof Uint8Array!="undefined"?Uint8Array:Array,Gg=!1,e1={}.toString,Th=Array.isArray||function(C){return e1.call(C)=="[object Array]"};Wr.TYPED_ARRAY_SUPPORT=bx.TYPED_ARRAY_SUPPORT!==void 0?bx.TYPED_ARRAY_SUPPORT:!0,Wr.poolSize=8192,Wr._augment=function(C){return C.__proto__=Wr.prototype,C},Wr.from=function(C,o,h){return sg(null,C,o,h)},Wr.TYPED_ARRAY_SUPPORT&&(Wr.prototype.__proto__=Uint8Array.prototype,Wr.__proto__=Uint8Array),Wr.alloc=function(C,o,h){return kp(C),C=0>=C?pl(null,C):o!==void 0?typeof h=="string"?pl(null,C).fill(o,h):pl(null,C).fill(o):pl(null,C),C},Wr.allocUnsafe=function(C){return wc(null,C)},Wr.allocUnsafeSlow=function(C){return wc(null,C)},Wr.isBuffer=function(C){return C!=null&&(!!C._isBuffer||QC(C)||typeof C.readFloatLE=="function"&&typeof C.slice=="function"&&QC(C.slice(0,0)))},Wr.compare=function(C,o){if(!Yh(C)||!Yh(o))throw new TypeError("Arguments must be Buffers");if(C===o)return 0;for(var h=C.length,u=o.length,f=0,p=Math.min(h,u);f<p;++f)if(C[f]!==o[f]){h=C[f],u=o[f];break}return h<u?-1:u<h?1:0},Wr.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Wr.concat=function(C,o){if(!Th(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return Wr.alloc(0);var h;if(o===void 0)for(h=o=0;h<C.length;++h)o+=C[h].length;o=Wr.allocUnsafe(o);var u=0;for(h=0;h<C.length;++h){var f=C[h];if(!Yh(f))throw new TypeError('"list" argument must be an Array of Buffers');f.copy(o,u),u+=f.length}return o},Wr.byteLength=q1,Wr.prototype._isBuffer=!0,Wr.prototype.swap16=function(){var C=this.length;if(C%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var o=0;o<C;o+=2)zd(this,o,o+1);return this},Wr.prototype.swap32=function(){var C=this.length;if(C%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var o=0;o<C;o+=4)zd(this,o,o+3),zd(this,o+1,o+2);return this},Wr.prototype.swap64=function(){var C=this.length;if(C%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var o=0;o<C;o+=8)zd(this,o,o+7),zd(this,o+1,o+6),zd(this,o+2,o+5),zd(this,o+3,o+4);return this},Wr.prototype.toString=function(){var C=this.length|0;return C===0?"":arguments.length===0?$1(this,0,C):JC.apply(this,arguments)},Wr.prototype.equals=function(C){if(!Yh(C))throw new TypeError("Argument must be a Buffer");return this===C?!0:Wr.compare(this,C)===0},Wr.prototype.inspect=function(){var C="";return 0<this.length&&(C=this.toString("hex",0,50).match(/.{2}/g).join(" "),50<this.length&&(C+=" ... ")),"<Buffer "+C+">"},Wr.prototype.compare=function(C,o,h,u,f){if(!Yh(C))throw new TypeError("Argument must be a Buffer");if(o===void 0&&(o=0),h===void 0&&(h=C?C.length:0),u===void 0&&(u=0),f===void 0&&(f=this.length),0>o||h>C.length||0>u||f>this.length)throw new RangeError("out of range index");if(u>=f&&o>=h)return 0;if(u>=f)return-1;if(o>=h)return 1;if(o>>>=0,h>>>=0,u>>>=0,f>>>=0,this===C)return 0;var p=f-u,S=h-o,x=Math.min(p,S);for(u=this.slice(u,f),C=C.slice(o,h),o=0;o<x;++o)if(u[o]!==C[o]){p=u[o],S=C[o];break}return p<S?-1:S<p?1:0},Wr.prototype.includes=function(C,o,h){return this.indexOf(C,o,h)!==-1},Wr.prototype.indexOf=function(C,o,h){return Oy(this,C,o,h,!0)},Wr.prototype.lastIndexOf=function(C,o,h){return Oy(this,C,o,h,!1)},Wr.prototype.write=function(C,o,h,u){if(o===void 0)u="utf8",h=this.length,o=0;else if(h===void 0&&typeof o=="string")u=o,h=this.length,o=0;else if(isFinite(o))o|=0,isFinite(h)?(h|=0,u===void 0&&(u="utf8")):(u=h,h=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var f=this.length-o;if((h===void 0||h>f)&&(h=f),0<C.length&&(0>h||0>o)||o>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(u||(u="utf8"),f=!1;;)switch(u){case"hex":e:{if(o=Number(o)||0,u=this.length-o,h?(h=Number(h),h>u&&(h=u)):h=u,u=C.length,u%2!=0)throw new TypeError("Invalid hex string");for(h>u/2&&(h=u/2),u=0;u<h;++u){if(f=parseInt(C.substr(2*u,2),16),isNaN(f)){C=u;break e}this[o+u]=f}C=u}return C;case"utf8":case"utf-8":return Cu(Hp(C,this.length-o),this,o,h);case"ascii":return Cu(ex(C),this,o,h);case"latin1":case"binary":return Cu(ex(C),this,o,h);case"base64":return Cu(qC(C),this,o,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":u=C,f=this.length-o;for(var p=[],S=0;S<u.length&&!(0>(f-=2));++S){var x=u.charCodeAt(S);C=x>>8,x%=256,p.push(x),p.push(C)}return Cu(p,this,o,h);default:if(f)throw new TypeError("Unknown encoding: "+u);u=(""+u).toLowerCase(),f=!0}},Wr.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Cm=4096;Wr.prototype.slice=function(C,o){var h=this.length;if(C=~~C,o=o===void 0?h:~~o,0>C?(C+=h,0>C&&(C=0)):C>h&&(C=h),0>o?(o+=h,0>o&&(o=0)):o>h&&(o=h),o<C&&(o=C),Wr.TYPED_ARRAY_SUPPORT)o=this.subarray(C,o),o.__proto__=Wr.prototype;else{h=o-C,o=new Wr(h,void 0);for(var u=0;u<h;++u)o[u]=this[u+C]}return o},Wr.prototype.readUIntLE=function(C,o,h){C|=0,o|=0,h||tl(C,o,this.length),h=this[C];for(var u=1,f=0;++f<o&&(u*=256);)h+=this[C+f]*u;return h},Wr.prototype.readUIntBE=function(C,o,h){C|=0,o|=0,h||tl(C,o,this.length),h=this[C+--o];for(var u=1;0<o&&(u*=256);)h+=this[C+--o]*u;return h},Wr.prototype.readUInt8=function(C,o){return o||tl(C,1,this.length),this[C]},Wr.prototype.readUInt16LE=function(C,o){return o||tl(C,2,this.length),this[C]|this[C+1]<<8},Wr.prototype.readUInt16BE=function(C,o){return o||tl(C,2,this.length),this[C]<<8|this[C+1]},Wr.prototype.readUInt32LE=function(C,o){return o||tl(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+16777216*this[C+3]},Wr.prototype.readUInt32BE=function(C,o){return o||tl(C,4,this.length),16777216*this[C]+(this[C+1]<<16|this[C+2]<<8|this[C+3])},Wr.prototype.readIntLE=function(C,o,h){C|=0,o|=0,h||tl(C,o,this.length),h=this[C];for(var u=1,f=0;++f<o&&(u*=256);)h+=this[C+f]*u;return h>=128*u&&(h-=Math.pow(2,8*o)),h},Wr.prototype.readIntBE=function(C,o,h){C|=0,o|=0,h||tl(C,o,this.length),h=o;for(var u=1,f=this[C+--h];0<h&&(u*=256);)f+=this[C+--h]*u;return f>=128*u&&(f-=Math.pow(2,8*o)),f},Wr.prototype.readInt8=function(C,o){return o||tl(C,1,this.length),this[C]&128?-1*(255-this[C]+1):this[C]},Wr.prototype.readInt16LE=function(C,o){return o||tl(C,2,this.length),C=this[C]|this[C+1]<<8,C&32768?C|4294901760:C},Wr.prototype.readInt16BE=function(C,o){return o||tl(C,2,this.length),C=this[C+1]|this[C]<<8,C&32768?C|4294901760:C},Wr.prototype.readInt32LE=function(C,o){return o||tl(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},Wr.prototype.readInt32BE=function(C,o){return o||tl(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},Wr.prototype.readFloatLE=function(C,o){return o||tl(C,4,this.length),Ac(this,C,!0,23,4)},Wr.prototype.readFloatBE=function(C,o){return o||tl(C,4,this.length),Ac(this,C,!1,23,4)},Wr.prototype.readDoubleLE=function(C,o){return o||tl(C,8,this.length),Ac(this,C,!0,52,8)},Wr.prototype.readDoubleBE=function(C,o){return o||tl(C,8,this.length),Ac(this,C,!1,52,8)},Wr.prototype.writeUIntLE=function(C,o,h,u){C=+C,o|=0,h|=0,u||ds(this,C,o,h,Math.pow(2,8*h)-1,0),u=1;var f=0;for(this[o]=C&255;++f<h&&(u*=256);)this[o+f]=C/u&255;return o+h},Wr.prototype.writeUIntBE=function(C,o,h,u){C=+C,o|=0,h|=0,u||ds(this,C,o,h,Math.pow(2,8*h)-1,0),u=h-1;var f=1;for(this[o+u]=C&255;0<=--u&&(f*=256);)this[o+u]=C/f&255;return o+h},Wr.prototype.writeUInt8=function(C,o,h){return C=+C,o|=0,h||ds(this,C,o,1,255,0),Wr.TYPED_ARRAY_SUPPORT||(C=Math.floor(C)),this[o]=C&255,o+1},Wr.prototype.writeUInt16LE=function(C,o,h){return C=+C,o|=0,h||ds(this,C,o,2,65535,0),Wr.TYPED_ARRAY_SUPPORT?(this[o]=C&255,this[o+1]=C>>>8):Gf(this,C,o,!0),o+2},Wr.prototype.writeUInt16BE=function(C,o,h){return C=+C,o|=0,h||ds(this,C,o,2,65535,0),Wr.TYPED_ARRAY_SUPPORT?(this[o]=C>>>8,this[o+1]=C&255):Gf(this,C,o,!1),o+2},Wr.prototype.writeUInt32LE=function(C,o,h){return C=+C,o|=0,h||ds(this,C,o,4,4294967295,0),Wr.TYPED_ARRAY_SUPPORT?(this[o+3]=C>>>24,this[o+2]=C>>>16,this[o+1]=C>>>8,this[o]=C&255):bc(this,C,o,!0),o+4},Wr.prototype.writeUInt32BE=function(C,o,h){return C=+C,o|=0,h||ds(this,C,o,4,4294967295,0),Wr.TYPED_ARRAY_SUPPORT?(this[o]=C>>>24,this[o+1]=C>>>16,this[o+2]=C>>>8,this[o+3]=C&255):bc(this,C,o,!1),o+4},Wr.prototype.writeIntLE=function(C,o,h,u){C=+C,o|=0,u||(u=Math.pow(2,8*h-1),ds(this,C,o,h,u-1,-u)),u=0;var f=1,p=0;for(this[o]=C&255;++u<h&&(f*=256);)0>C&&p===0&&this[o+u-1]!==0&&(p=1),this[o+u]=(C/f>>0)-p&255;return o+h},Wr.prototype.writeIntBE=function(C,o,h,u){C=+C,o|=0,u||(u=Math.pow(2,8*h-1),ds(this,C,o,h,u-1,-u)),u=h-1;var f=1,p=0;for(this[o+u]=C&255;0<=--u&&(f*=256);)0>C&&p===0&&this[o+u+1]!==0&&(p=1),this[o+u]=(C/f>>0)-p&255;return o+h},Wr.prototype.writeInt8=function(C,o,h){return C=+C,o|=0,h||ds(this,C,o,1,127,-128),Wr.TYPED_ARRAY_SUPPORT||(C=Math.floor(C)),0>C&&(C=255+C+1),this[o]=C&255,o+1},Wr.prototype.writeInt16LE=function(C,o,h){return C=+C,o|=0,h||ds(this,C,o,2,32767,-32768),Wr.TYPED_ARRAY_SUPPORT?(this[o]=C&255,this[o+1]=C>>>8):Gf(this,C,o,!0),o+2},Wr.prototype.writeInt16BE=function(C,o,h){return C=+C,o|=0,h||ds(this,C,o,2,32767,-32768),Wr.TYPED_ARRAY_SUPPORT?(this[o]=C>>>8,this[o+1]=C&255):Gf(this,C,o,!1),o+2},Wr.prototype.writeInt32LE=function(C,o,h){return C=+C,o|=0,h||ds(this,C,o,4,2147483647,-2147483648),Wr.TYPED_ARRAY_SUPPORT?(this[o]=C&255,this[o+1]=C>>>8,this[o+2]=C>>>16,this[o+3]=C>>>24):bc(this,C,o,!0),o+4},Wr.prototype.writeInt32BE=function(C,o,h){return C=+C,o|=0,h||ds(this,C,o,4,2147483647,-2147483648),0>C&&(C=4294967295+C+1),Wr.TYPED_ARRAY_SUPPORT?(this[o]=C>>>24,this[o+1]=C>>>16,this[o+2]=C>>>8,this[o+3]=C&255):bc(this,C,o,!1),o+4},Wr.prototype.writeFloatLE=function(C,o,h){return Gl(this,C,o,!0,h)},Wr.prototype.writeFloatBE=function(C,o,h){return Gl(this,C,o,!1,h)},Wr.prototype.writeDoubleLE=function(C,o,h){return Tl(this,C,o,!0,h)},Wr.prototype.writeDoubleBE=function(C,o,h){return Tl(this,C,o,!1,h)},Wr.prototype.copy=function(C,o,h,u){if(h||(h=0),u||u===0||(u=this.length),o>=C.length&&(o=C.length),o||(o=0),0<u&&u<h&&(u=h),u===h||C.length===0||this.length===0)return 0;if(0>o)throw new RangeError("targetStart out of bounds");if(0>h||h>=this.length)throw new RangeError("sourceStart out of bounds");if(0>u)throw new RangeError("sourceEnd out of bounds");u>this.length&&(u=this.length),C.length-o<u-h&&(u=C.length-o+h);var f=u-h;if(this===C&&h<o&&o<u)for(u=f-1;0<=u;--u)C[u+o]=this[u+h];else if(1e3>f||!Wr.TYPED_ARRAY_SUPPORT)for(u=0;u<f;++u)C[u+o]=this[u+h];else Uint8Array.prototype.set.call(C,this.subarray(h,h+f),o);return f},Wr.prototype.fill=function(C,o,h,u){if(typeof C=="string"){if(typeof o=="string"?(u=o,o=0,h=this.length):typeof h=="string"&&(u=h,h=this.length),C.length===1){var f=C.charCodeAt(0);256>f&&(C=f)}if(u!==void 0&&typeof u!="string")throw new TypeError("encoding must be a string");if(typeof u=="string"&&!Wr.isEncoding(u))throw new TypeError("Unknown encoding: "+u)}else typeof C=="number"&&(C&=255);if(0>o||this.length<o||this.length<h)throw new RangeError("Out of range index");if(h<=o)return this;if(o>>>=0,h=h===void 0?this.length:h>>>0,C||(C=0),typeof C=="number")for(u=o;u<h;++u)this[u]=C;else for(C=Yh(C)?C:Hp(new Wr(C,u).toString()),f=C.length,u=0;u<h-o;++u)this[u+o]=C[u%f];return this};var Wg=/[^+\/0-9A-Za-z-_]/g,Am={normal:null,road:Ry()},wm=function(C){function o(h,u){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h,u)),h.initData(),h}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{color:"rgba(25, 25, 250, 1)",offset:0,blend:"normal",width:4,flat:!1,antialias:!1,style:"normal",dashArray:[0,0],dashOffset:0}}},{key:"initData",value:function(){this.dataMgr={position:[],prev:[],next:[],direction:[],color:[],index:[],counter:[],uv:[]}}},{key:"initialize",value:function(u){this.gl=u;var f=this.getOptions(),p=[];f.enablePicked&&p.push("PICK"),Am[f.style]&&(this.isUseTexture=!0,p.push("USE_TEXTURE")),this.program=new yo(this.gl,{vertexShader:`precision highp float;uniform vec4 uSelectedColor;uniform mat4 uMatrix;uniform bool uFlat;uniform vec2 uDashArray;uniform float thickness;uniform float zoomUnits;uniform float devicePixelRatio;uniform float uOffset;attribute vec3 position;attribute vec3 next;attribute vec3 previous;attribute float direction;attribute vec4 aColor;attribute float aDistance;attribute float aTotalDistance;
#if defined(USE_TEXTURE)
attribute vec2 uv;
#endif
varying vec4 vColor;varying vec2 vNormal;varying vec2 vUV;varying vec2 vDashArray;varying float vTotalDistance;varying float vCounter;vec2 project(vec4 coord){vec3 screen=coord.xyz/coord.w;vec2 clip=(screen.xy+1.0)/2.0;return clip*MAPV_resolution;}vec4 unproject(vec2 projected,float z,float w){vec2 clip=projected/MAPV_resolution;vec2 screen=clip*2.0-1.0;return vec4(screen*w,z,w);}vec3 getNormalAndWidth(vec2 currentScreen,vec2 previousScreen,vec2 nextScreen,float thickness){vec2 dir=vec2(0.0);if(currentScreen==previousScreen){dir=normalize(nextScreen-currentScreen);}else if(currentScreen==nextScreen){dir=normalize(currentScreen-previousScreen);}else{vec2 dirA=normalize((currentScreen-previousScreen));vec2 dirB=normalize((nextScreen-currentScreen));vec2 tangent=normalize(dirA+dirB);vec2 perp=vec2(-dirA.y,dirA.x);vec2 miter=vec2(-tangent.y,tangent.x);dir=tangent;float angle=40.0;if(dot(dirA,dirB)>cos(radians(angle))){thickness=thickness/dot(miter,perp);}}vec2 normal=vec2(-dir.y,dir.x);return vec3(normal,thickness);}void main(){vColor=aColor;vCounter=aDistance/aTotalDistance;vDashArray=zoomUnits*uDashArray/aTotalDistance;vTotalDistance=aTotalDistance;
#if defined(USE_TEXTURE)
vUV=uv;
#endif
#if defined(PICK)
if(mapvIsPicked()){vColor=uSelectedColor;}
#endif
if(uFlat){float width=thickness*zoomUnits;vec3 nw=getNormalAndWidth(position.xy,previous.xy,next.xy,width);width=nw.z;vec2 normal=nw.xy;vNormal=normal*direction;normal*=width/2.0;float offsetXy=uOffset/zoomUnits;float offsetHeight=uOffset*zoomUnits/100.0;gl_Position=uMatrix*vec4(position.xy+normal*(direction+offsetXy),position.z+offsetHeight,1.0);}else{vec4 previousProjected=uMatrix*vec4(previous,1.0);vec4 currentProjected=uMatrix*vec4(position,1.0);vec4 nextProjected=uMatrix*vec4(next,1.0);vec2 currentScreen=project(currentProjected);vec2 previousScreen=project(previousProjected);vec2 nextScreen=project(nextProjected);float width=thickness*devicePixelRatio;vec3 nw=getNormalAndWidth(currentScreen,previousScreen,nextScreen,width);width=nw.z;vec2 normal=nw.xy;vNormal=normal*direction;normal*=width/2.0;vec2 pos=currentScreen+normal*direction;vec4 finalPos=unproject(pos,currentProjected.z,currentProjected.w);gl_Position=finalPos;}}`,fragmentShader:`precision highp float;varying vec4 vColor;varying vec2 vNormal;varying vec2 vUV;varying vec2 vDashArray;varying float vCounter;varying float vTotalDistance;uniform bool uAntialias;uniform float uDashOffset;uniform float zoomUnits;uniform float thickness;
#if defined(USE_TEXTURE)
uniform float uTextureMargin;uniform sampler2D textureImage;
#endif
void main(){vec4 color=vColor;if(uAntialias){float blur=1.0;blur=1.0-smoothstep(0.8,1.0,length(vNormal));color.a*=blur;}
#if defined(USE_TEXTURE)
float segLen=uTextureMargin*zoomUnits;float textureLen=thickness*zoomUnits;float deltaX=mod(vUV.x,segLen);float middle=segLen/2.0;if(deltaX>=middle&&deltaX<=middle+textureLen){float uvx=(deltaX-middle)/textureLen;vec4 texture=texture2D(textureImage,vec2(uvx,vUV.y));color=texture.a>=0.5 ? texture : color;}
#endif
if(vDashArray.y>0.0){float offset=uDashOffset*zoomUnits/vTotalDistance;color.a*=(1.0-step(vDashArray.x,mod(vCounter+offset,vDashArray.x+vDashArray.y)));}gl_FragColor=color;}`,defines:p},this),this.prevBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.currentBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.nextBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.directionBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.colorBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.counterBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.uvBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Ti({gl:u,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),p=[{stride:12,name:"previous",buffer:this.prevBuffer,size:3,type:"FLOAT",offset:0},{stride:12,name:"position",buffer:this.currentBuffer,size:3,type:"FLOAT",offset:0},{stride:12,name:"next",buffer:this.nextBuffer,size:3,type:"FLOAT",offset:0},{stride:4,name:"direction",buffer:this.directionBuffer,size:1,type:"FLOAT",offset:0},{stride:16,name:"aColor",buffer:this.colorBuffer,size:4,type:"FLOAT",offset:0},{stride:8,name:"aDistance",buffer:this.counterBuffer,size:1,type:"FLOAT",offset:0},{stride:8,name:"aTotalDistance",buffer:this.counterBuffer,size:1,type:"FLOAT",offset:4}],p=p.concat(this.getCommonAttributes()),Am[f.style]&&(p.push({stride:8,name:"uv",buffer:this.uvBuffer,size:2,type:"FLOAT",offset:0}),this.setOptions({texture:Am[f.style]}),this.loadTexture()),this.vertexArray=new La({gl:u,program:this.program,attributes:p})}},{key:"destroy",value:function(){this.options&&this.options.enablePicked&&(this.pickBuffer=null),this.options=this.data=this.dataMgr=this.indexBuffer=this.uvBuffer=this.counterBuffer=this.directionBuffer=this.colorBuffer=this.nextBuffer=this.currentBuffer=this.prevBuffer=this.program=this.vertexArray=null}},{key:"onChanged",value:function(u,f){var p=this;if(this.gl){this.initData();for(var S=u.color,x=[],T=0;T<f.length;T++){var z=[],G=f[T].geometry.coordinates;G&&0<G.length&&(z=f[T].geometry.type==="MultiPolygon"?G.reduce(function(U,V){return U.concat(V)})[0].map(function(U){return p.normizedPoint(U)}):f[T].geometry.type==="Polygon"||f[T].geometry.type==="MultiLineString"?G[0].map(function(U){return p.normizedPoint(U)}):G.map(function(U){return p.normizedPoint(U)})),G=this.getProperty("color",S,f[T]),G=this.getProperty("lineColor",S,f[T]),G=this.normizedColor(G);for(var P=this.addMultipleCoords(z),D=0;D<P.length;D++)this.processData(this.dataMgr,P[D],G);if(u.enablePicked)for(G=this.indexToRgb(T),P=0;P<z.length;P++)x.push(G[0]/255,G[1]/255,G[2]/255),x.push(G[0]/255,G[1]/255,G[2]/255),u.repeat&&(x.push(G[0]/255,G[1]/255,G[2]/255),x.push(G[0]/255,G[1]/255,G[2]/255),x.push(G[0]/255,G[1]/255,G[2]/255),x.push(G[0]/255,G[1]/255,G[2]/255))}this.counterBuffer.updateData(new Float32Array(this.dataMgr.counter)),this.currentBuffer.updateData(new Float32Array(this.dataMgr.position)),this.prevBuffer.updateData(new Float32Array(this.dataMgr.prev)),this.nextBuffer.updateData(new Float32Array(this.dataMgr.next)),this.directionBuffer.updateData(new Float32Array(this.dataMgr.direction)),this.colorBuffer.updateData(new Float32Array(this.dataMgr.color)),this.indexBuffer.updateData(new Uint32Array(this.dataMgr.index)),this.isUseTexture&&this.uvBuffer.updateData(new Float32Array(this.dataMgr.uv)),u.enablePicked&&this.pickBuffer.updateData(new Float32Array(x))}}},{key:"processData",value:function(u,f,p){var S,x,T,z,G,P,D,U,V=f.length,J=u.position.length/6,ne=Cn(f),re=ne.arr,Q=ne.total;ne=Au(re.map(function(Ve){return[Ve,Q]})),re=re.map(function(Ve){return[Ve,0,Ve,1]});var he=Au(f.map(function(Ve){return-1}),!0),Me=Au(f),De=Au(f.map(ug(-1))),Ue=Au(f.map(ug(1)));f=Au(f.map(function(Ve){return p})),V=tx(V,J),(S=u.uv).push.apply(S,ro(Xh(re))),(x=u.counter).push.apply(x,ro(Xh(ne))),(T=u.position).push.apply(T,ro(Xh(Me))),(z=u.prev).push.apply(z,ro(Xh(De))),(G=u.next).push.apply(G,ro(Xh(Ue))),(P=u.direction).push.apply(P,ro(he)),(D=u.color).push.apply(D,ro(Xh(f))),(U=u.index).push.apply(U,ro(V))}},{key:"render",value:function(u){var f=u.gl,p=u.matrix,S=this.dataMgr;if(S&&!(0>=S.index.length)&&this.map){var x=this.getOptions(),T=this.program;T.use(f),u=_o(this.getCommonUniforms(u),{uMatrix:p,uFlat:x.flat,zoomUnits:this.map.getZoomUnits(),devicePixelRatio:window.devicePixelRatio,thickness:x.width,uDashArray:x.dashArray,uDashOffset:x.dashOffset,uAntialias:x.antialias,uOffset:x.offset}),this.isUseTexture&&(u=_o(u,{uTextureMargin:140,textureImage:this.texture})),T.setUniforms(u),f.enable(f.BLEND),f.blendEquation(f.FUNC_ADD),x.blend&&x.blend==="lighter"?f.blendFunc(f.SRC_ALPHA,f.ONE):f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),f.polygonOffset(-1,1),this.indexBuffer.bind(),this.vertexArray.bind(),f.drawElements(f.TRIANGLES,S.index.length,f.UNSIGNED_INT,0),f.bindBuffer(f.ARRAY_BUFFER,null),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,null),f.disable(f.BLEND)}}},{key:"loadTexture",value:function(u){var f=this,p=this.getOptions();p.texture?As(this.gl,p.texture,function(S,x){f.image=x,f.texture=S,u&&u(),f.webglLayer.render()}):(this.image=this.texture=null,u&&u())}}]),o}(fa),fp=function(){function C(o){On(this,C),this.join=o.join||"miter",this.cap=o.cap||"butt",this.thickness=o.thickness||4,this.miterLimit=o.miterLimit||2*this.thickness,this.dash=o.dash||!1,this.complex={positions:[],indices:[],normals:[],colors:[],uvs:[],startIndex:0,maxDistance:0},this._lastFlip=-1,this._started=!1,this._normal=null,this._totalDistance=0}return Qn(C,[{key:"extrude",value:function(h,u,f,p){var S=this.complex;if(1>=h.length)return S;this._lastFlip=-1,this._started=!1,this._normal=null,this._totalDistance=0;for(var x=h.length,T=S.startIndex,z=1;z<x;z++){var G=this._segment(S,T,h[z-1],h[z],z<x-1?h[z+1]:null,u,f,p);G!==-1&&(T+=G)}return this.dash&&(S.maxDistance=Math.max(this._totalDistance,S.maxDistance)),S.startIndex=S.positions.length/7,S}},{key:"_segment",value:function(h,u,f,p,S,x,T,z){var G=0,P=Ao.create(),D=Ao.create(),U=Ao.create(),V=Ao.create(),J=h.indices,ne=h.positions,re=h.normals,Q=h.colors;h=h.uvs;var he=this.cap==="square",Me=this.cap==="round",De=this.join==="bevel",Ue=this.join==="round",Ve=[p[0],p[1]],ht=[f[0],f[1]];rx(D,Ve,ht);var Je=0;if(this.dash&&(Je=this._calcDistance(Ve,ht),this._totalDistance+=Je),this._normal||(this._normal=Ao.create(),jd(this._normal,D)),!this._started)if(this._started=!0,he){ht=Ao.create();var Er=Ao.create();Ao.add(ht,this._normal,D),Ao.sub(Er,this._normal,D),re.push(Er[0],Er[1],0),re.push(ht[0],ht[1],0),ne.push(f[0],f[1],f[2],this._totalDistance-Je,x,T,0),ne.push(f[0],f[1],f[2],this._totalDistance-Je,-x,T,0),h.push(this._totalDistance-Je,0,this._totalDistance-Je,1),Q.push(z[0],z[1],z[2],z[3]),Q.push(z[0],z[1],z[2],z[3])}else if(Me){ht=Ao.fromValues(-D[0],-D[1]),Er=Ao.create(),Ao.sub(Er,this._normal,D),Ao.normalize(Er,Er);var fr=Ao.create();Ao.add(fr,this._normal,D),Ao.normalize(fr,fr);var Pn=Ao.fromValues(this._normal[0],this._normal[1]),yn=Ao.fromValues(-this._normal[0],-this._normal[1]);for(re.push(ht[0],ht[1],0),re.push(Er[0],Er[1],0),re.push(-fr[0],-fr[1],0),re.push(Pn[0],Pn[1],0),re.push(yn[0],yn[1],0),ht=0;5>ht;ht++)ne.push(f[0],f[1],f[2],this._totalDistance-Je,x,T,0),h.push(this._totalDistance-Je,0),Q.push(z[0],z[1],z[2],z[3]);J.push(u+0,u+2,u+1,u+1,u+2,u+3,u+3,u+2,u+4),G+=3,u+=3}else this._extrusions(ne,re,h,Q,f,this._normal,x,this._totalDistance-Je,T,z);if(J.push.apply(J,ro(this._lastFlip===-1?[u+0,u+1,u+2]:[u+1,u+0,u+2])),S){if(p[0]===S[0]&&p[1]===S[1]&&p[2]===S[2])return-1;rx(U,[S[0],S[1]],Ve),Ao.create(),Ao.add(V,D,U),Ao.normalize(V,V),Je=Ao.fromValues(-V[1],V[0]),D=Ao.fromValues(-D[1],D[0]),D=[x/Ao.dot(Je,D),Je],D=ms(D,2),Je=D[0],D=D[1],V=0<Ao.dot(V,this._normal)?-1:1,De||this.join!=="miter"||Math.abs(Je)>this.miterLimit&&(De=!0),De?(Ue=Math.min(2*x,Math.abs(Je)),re.push(this._normal[0],this._normal[1],0),re.push(D[0],D[1],0),ne.push(p[0],p[1],p[2],this._totalDistance,x*V,T,0),ne.push(p[0],p[1],p[2],this._totalDistance,-Ue*V,T,0),J.push.apply(J,ro(this._lastFlip===-V?[u+2,u+1,u+3]:[u+0,u+2,u+3])),jd(P,U),Ao.copy(this._normal,P),re.push(this._normal[0],this._normal[1],0),ne.push(p[0],p[1],p[2],this._totalDistance,x*V,T,0),J.push.apply(J,ro(V===1?[u+2,u+3,u+4]:[u+3,u+2,u+4])),this._flipedUV(h,this._totalDistance,V,!0),Q.push(z[0],z[1],z[2],z[3]),Q.push(z[0],z[1],z[2],z[3]),Q.push(z[0],z[1],z[2],z[3]),G+=3):Ue?(Ue=Math.min(2*x,Math.abs(Je)),re.push(this._normal[0],this._normal[1],0),re.push(D[0],D[1],0),re.push(D[0],D[1],0),ne.push(p[0],p[1],p[2],this._totalDistance,x*V,T,0),ne.push(p[0],p[1],p[2],this._totalDistance,x*V,T,0),ne.push(p[0],p[1],p[2],this._totalDistance,-Ue*V,T,0),J.push.apply(J,ro(this._lastFlip===-V?[u+2,u+1,u+4,u+2,u+4,u+3]:[u+0,u+2,u+4,u+2,u+3,u+4])),jd(P,U),Ao.copy(this._normal,P),re.push(this._normal[0],this._normal[1],0),ne.push(p[0],p[1],p[2],this._totalDistance,x*V,T,0),J.push.apply(J,ro(V===1?[u+4,u+3,u+5]:[u+3,u+4,u+5])),this._flipedUV(h,this._totalDistance,V,!1),Q.push(z[0],z[1],z[2],z[3]),Q.push(z[0],z[1],z[2],z[3]),Q.push(z[0],z[1],z[2],z[3]),Q.push(z[0],z[1],z[2],z[3]),G+=4):(this._extrusions(ne,re,h,Q,p,D,Je,this._totalDistance,T,z),J.push.apply(J,ro(this._lastFlip===-1?[u+2,u+1,u+3]:[u+2,u+0,u+3])),V=-1,Ao.copy(this._normal,D),G+=2),this._lastFlip=V}else if(jd(this._normal,D),he?(P=Ao.create(),U=Ao.create(),Ao.add(P,D,this._normal),Ao.sub(U,D,this._normal),re.push(P[0],P[1],0),re.push(U[0],U[1],0),ne.push(p[0],p[1],p[2],this._totalDistance,x,T,0),ne.push(p[0],p[1],p[2],this._totalDistance,x,T,0),h.push(this._totalDistance,0,this._totalDistance,1),Q.push(z[0],z[1],z[2],z[3]),Q.push(z[0],z[1],z[2],z[3])):this._extrusions(ne,re,h,Q,p,this._normal,x,this._totalDistance,T,z),J.push.apply(J,ro(this._lastFlip===-1?[u+2,u+1,u+3]:[u+2,u+0,u+3])),G+=2,Me){for(P=Ao.create(),Ao.add(P,D,this._normal),Ao.normalize(P,P),U=Ao.create(),Ao.sub(U,D,this._normal),Ao.normalize(U,U),Ue=Ao.fromValues(D[0],D[1]),re.push(P[0],P[1],0),re.push(U[0],U[1],0),re.push(Ue[0],Ue[1],0),re=0;3>re;re++)ne.push(p[0],p[1],p[2],this._totalDistance-Je,x,T,0),h.push(this._totalDistance-Je,0),Q.push(z[0],z[1],z[2],z[3]);J.push(u+2,u+3,u+4,u+4,u+3,u+5,u+4,u+5,u+6),G+=3}return G}},{key:"_extrusions",value:function(h,u,f,p,S,x,T,z,G,P){u.push(x[0],x[1],0),u.push(x[0],x[1],0),h.push(S[0],S[1],S[2],z,T,G,0),h.push(S[0],S[1],S[2],z,-T,G,0),f.push(z,0,z,1),p.push(P[0],P[1],P[2],P[3]),p.push(P[0],P[1],P[2],P[3])}},{key:"_calcDistance",value:function(h,u){return Math.sqrt(Math.pow(h[0]-u[0],2)+Math.pow(h[1]-u[1],2))}},{key:"_flipedUV",value:function(h,u,f,p){p?f===-1?h.push(u,0,u,1,u,0):h.push(u,1,u,0,u,1):f===-1?h.push(u,0,u,0,u,1,u,0):h.push(u,1,u,1,u,0,u,1)}}]),C}(),w0={normal:null,road:Ry,arrow:function(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},h=o.width;o=o.color;var u=wu(),f=u.canvas;return u=u.ctx,u.save(),u.moveTo(5,0),u.lineTo(32,16),u.lineTo(5,32),u.strokeStyle=o||"#fff",u.lineWidth=h||8,u.stroke(),u.restore(),f}},Yc=function(C){function o(h,u){return On(this,o),wi(this,(o.__proto__||ri(o)).call(this,h,u))}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{style:"normal",styleOptions:{},color:"rgba(25, 25, 250, 1)",blend:"normal",lineJoin:"miter",lineCap:"butt",unit:"px",width:4,offset:0,antialias:!1,dashArray:[0,0],dashOffset:0,animation:!1,interval:.1,duration:2,trailLength:.5,minZoom:2,maxZoom:25,polygonOffset:[-2,-2]}}},{key:"initialize",value:function(u){this.gl=u;var f=this.getOptions(),p=[];f.enablePicked&&p.push("PICK"),w0[f.style]&&(this.isUseTexture=!0,this.prevStyle=f.style,this.prevStyleOptions=f.styleOptions,p.push("USE_TEXTURE")),f.animation===!0&&(this.isAnimateLine=!0,this.date=new Date,this.autoUpdate=!0,p.push("USE_LINE_ANIMATION")),f.useDash===!0&&p.push("USE_SIMPLE_DASH"),this.program=new yo(this.gl,{vertexShader:`precision highp float;uniform vec4 uSelectedColor;uniform mat4 u_matrix;uniform vec2 u_dash_array;uniform float u_zoom_units;uniform bool u_unit_px;attribute vec4 a_color;attribute vec3 a_position;attribute vec3 a_normal;attribute float a_distance;attribute float a_total_distance;attribute float a_width;attribute float a_offset;
#if defined(USE_TEXTURE)
attribute vec2 uv;
#endif
varying vec4 v_color;varying vec2 v_normal;varying vec2 v_uv;varying vec2 v_dash_array;varying float v_total_distance;varying float v_counter;varying float v_width;
#if defined(USE_SIMPLE_DASH)
varying vec3 v_position;
#endif
void main(){v_width=a_width;v_color=a_color;v_counter=a_distance/a_total_distance;v_dash_array=u_dash_array/a_total_distance;if(u_unit_px){v_dash_array*=u_zoom_units;}v_total_distance=a_total_distance;v_normal=vec2(normalize(a_normal.xy)*sign(a_width));
#if defined(USE_TEXTURE)
v_uv=uv;
#endif
#if defined(PICK)
if(mapvIsPicked()){v_color=uSelectedColor;}
#endif
vec2 extrude=a_normal.xy*a_width/2.0;if(u_unit_px){extrude*=u_zoom_units;}vec2 offsetXY=a_normal.xy*-a_offset;float offsetZ=a_offset/100.0;if(u_unit_px){offsetXY*=u_zoom_units;offsetZ*=u_zoom_units;}
#if defined(USE_SIMPLE_DASH)
v_position=a_position;
#endif
gl_Position=u_matrix*vec4(a_position.xy+extrude+offsetXY,a_position.z+offsetZ,1.0);}`,fragmentShader:`precision highp float;varying vec4 v_color;varying vec2 v_normal;varying vec2 v_uv;varying vec2 v_dash_array;varying float v_counter;varying float v_total_distance;varying float v_width;
#if defined(USE_SIMPLE_DASH)
varying vec3 v_position;
#endif
uniform bool u_antialias;uniform float u_dash_offset;uniform float u_zoom_units;
#if defined(USE_LINE_ANIMATION)
uniform bool u_animate;uniform float u_time;uniform float u_duration;uniform float u_interval;uniform float u_trail_length;
#endif
#if defined(USE_TEXTURE)
uniform float u_texture_width;uniform float u_texture_margin;uniform sampler2D u_sampler;
#endif
void main(){vec4 color=v_color;
#if defined(USE_SIMPLE_DASH)
if(mod(v_position.x,5.0)<3.0){discard;}
#endif
if(u_antialias){float blur=1.0;blur=1.0-smoothstep(0.9,1.0,length(v_normal));color.a*=blur;}
#if defined(USE_LINE_ANIMATION)
if(u_animate){float alpha=1.0-fract(mod(1.0-v_counter,u_interval)*(1.0/u_interval)+u_time/u_duration);alpha=(alpha+u_trail_length-1.0)/u_trail_length;color.a*=alpha;gl_FragColor=color;return;}
#endif
#if defined(USE_TEXTURE)
float margin_width=u_texture_margin*u_zoom_units;float margin_width_half=margin_width/2.0;float texture_width=u_texture_width*u_zoom_units;float delta=mod(v_uv.x,texture_width+margin_width);if(delta>=margin_width_half&&delta<=margin_width_half+texture_width){float uvx=(delta-margin_width_half)/texture_width;vec4 texture=texture2D(u_sampler,vec2(uvx,v_uv.y));color=texture.a>=0.5 ? texture : color;}
#endif
if(v_dash_array.y>0.0){float offset=u_dash_offset*u_zoom_units/v_total_distance;color.a*=(1.0-step(v_dash_array.x,mod(v_counter+offset,v_dash_array.x+v_dash_array.y)));}gl_FragColor=color;}`,defines:p},this),this.positionBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.colorBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.normalBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Ti({gl:u,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),p=[{stride:28,name:"a_position",buffer:this.positionBuffer,size:3,type:"FLOAT",offset:0},{stride:28,name:"a_distance",buffer:this.positionBuffer,size:1,type:"FLOAT",offset:12},{stride:28,name:"a_width",buffer:this.positionBuffer,size:1,type:"FLOAT",offset:16},{stride:28,name:"a_offset",buffer:this.positionBuffer,size:1,type:"FLOAT",offset:20},{stride:28,name:"a_total_distance",buffer:this.positionBuffer,size:1,type:"FLOAT",offset:24},{stride:12,name:"a_normal",buffer:this.normalBuffer,size:3,type:"FLOAT",offset:0},{stride:16,name:"a_color",buffer:this.colorBuffer,size:4,type:"FLOAT",offset:0}],p=p.concat(this.getCommonAttributes()),this.isUseTexture&&(this.uvBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),p.push({stride:8,name:"uv",buffer:this.uvBuffer,size:2,type:"FLOAT",offset:0}),f=(0,w0[f.style])(f.styleOptions),this.setOptions({texture:f}),this.loadTexture()),this.vertexArray=new La({gl:u,program:this.program,attributes:p})}},{key:"destroy",value:function(){this.options&&this.options.enablePicked&&(this.pickBuffer=null),this.isUseTexture&&(this.uvBuffer=null),this.options=this.data=this.indexBuffer=this.normalBuffer=this.colorBuffer=this.positionBuffer=this.program=this.vertexArray=null}},{key:"onChanged",value:function(u,f){var p=this;if(this.gl)if(!this.isUseTexture||this.prevStyle===u.style&&ci(this.prevStyleOptions)===ci(u.styleOptions))this.parseData(u,f);else{this.prevStyle=u.style,this.prevStyleOptions=u.styleOptions;var S=(0,w0[u.style])(u.styleOptions);this.setOptions({texture:S}),this.loadTextureTime&&clearTimeout(this.loadTextureTime),this.loadTextureTime=setTimeout(function(){p.loadTexture(function(){p.parseData(u,f)})},0)}}},{key:"parseData",value:function(u,f){var p=this,S=u.dashArray,x=u.width,T=u.color,z=u.offset;S=!!this.isUseTexture||!!S[1]||!!this.isAnimateLine;for(var G=new fp({dash:S,cap:u.lineCap,join:u.lineJoin,miterLimit:u.miterLimit,thickness:x}),P=[],D=function(J){var ne=f[J].geometry.coordinates;ne&&0<ne.length&&(f[J].geometry.type==="MultiPolygon"?ne=ne.reduce(function(Ue,Ve){return Ue.concat(Ve)}):f[J].geometry.type==="LineString"&&(ne=[ne]),ne=ne.map(function(Ue){return Ue.map(function(Ve){return p.normizedPoint(Ve)})}));var re=p.getProperty("color",T,f[J]);re=p.normizedColor(re);var Q=p.getProperty("width",x,f[J]);Q=Number(Q);var he=p.getProperty("offset",z,f[J]);he=Number(he);var Me=G.complex.startIndex;ne=p.addMultipleCoords(ne);for(var De=0;De<ne.length;De++)ne[De].forEach(function(Ue){G.extrude(Ue,Q,he,re)});if(u.enablePicked)for(J=p.indexToRgb(J),ne=G.complex.startIndex;Me<ne;Me++)P.push(J[0]/255,J[1]/255,J[2]/255),u.repeat&&(P.push(J[0]/255,J[1]/255,J[2]/255),P.push(J[0]/255,J[1]/255,J[2]/255))},U=0;U<f.length;U++)D(U);if(D=G.complex,S)for(U=0;U<D.positions.length/7;U++)D.positions[7*U+6]=D.maxDistance;this.lineData=D,this.positionBuffer.updateData(new Float32Array(D.positions)),this.normalBuffer.updateData(new Float32Array(D.normals)),this.colorBuffer.updateData(new Float32Array(D.colors)),this.indexBuffer.updateData(new Uint32Array(D.indices)),this.isUseTexture&&this.uvBuffer.updateData(new Float32Array(D.uvs)),u.enablePicked&&this.pickBuffer.updateData(new Float32Array(P))}},{key:"render",value:function(u){var f=u.gl,p=u.matrix,S=this.lineData;if(S&&!(0>=S.indices.length)&&this.map){var x=this.getOptions(),T=this.program;T.use(f),u=_o(this.getCommonUniforms(u),{u_matrix:p,u_zoom_units:this.map.getZoomUnits(),u_dash_array:x.dashArray,u_dash_offset:x.dashOffset,u_antialias:x.antialias,u_unit_px:x.unit==="px"}),this.isUseTexture&&(u=_o(u,{u_texture_width:x.width,u_texture_margin:140,u_sampler:this.texture})),this.isAnimateLine&&(p=this.map.getZoom(),u=_o(u,{u_time:(new Date-this.date)/1e3,u_animate:!!(p>=x.minZoom&&p<=x.maxZoom&&this.autoUpdate),u_duration:x.duration,u_interval:x.interval,u_trail_length:x.trailLength})),T.setUniforms(u),f.enable(f.BLEND),f.blendEquation(f.FUNC_ADD),x.blend&&x.blend==="lighter"?f.blendFunc(f.SRC_ALPHA,f.ONE):f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),f.enable(f.POLYGON_OFFSET_FILL),f.polygonOffset(x.polygonOffset[0],x.polygonOffset[1]),this.indexBuffer.bind(),this.vertexArray.bind(),f.drawElements(f.TRIANGLES,S.indices.length,f.UNSIGNED_INT,0),f.bindBuffer(f.ARRAY_BUFFER,null),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,null),f.disable(f.BLEND),f.disable(f.POLYGON_OFFSET_FILL)}}},{key:"loadTexture",value:function(u){var f=this,p=this.getOptions();p.texture?As(this.gl,p.texture,function(S,x){f.image=x,f.texture=S,u&&u(),f.webglLayer.render()}):(this.image=this.texture=null,u&&u())}}]),o}(fa),md=function(){function C(o,h){On(this,C),this.layer=o,this.gl=h,this.initData()}return Qn(C,[{key:"initData",value:function(){this.outWall3d={vertex:[],vertexBuffer:[],index:[],indexBuffer:[]},this.maxLength=0}},{key:"getData",value:function(){return this.outWall3d}},{key:"getMaxDataLength",value:function(){return this.maxLength}},{key:"onLayerChange",value:function(h,u){this.initData();var f=h.color,p=h.height,S=h.gradient;h=this.gl;for(var x=0;x<u.length;x++){var T=u[x].geometry.coordinates,z=T.length;this.maxLength=z>this.maxLength?z:this.maxLength;for(var G=[],P=0;P<z;P++){var D=this.layer.normizedPoint(T[P]);G.push(D)}z=u[x].color||f,"properties"in u[x]&&"color"in u[x].properties&&(z=u[x].properties.color),S||Object.prototype.toString.call(z)!=="[object Function]"||(z=z(u[x])),T=this.layer.normizedColor(S?S[0]:z),z=this.layer.normizedColor(S?S[1]:z),P=u[x].height||p,"properties"in u[x]&&"height"in u[x].properties&&(P=u[x].properties.height),Object.prototype.toString.call(P)==="[object Function]"&&(P=P(u[x])),this.processData(this.outWall3d,G,T,z,P)}for(u=0;u<this.outWall3d.vertex.length;u++){for(f=[],p=this.outWall3d.vertex[u].length,S=0;S<p;S++)f.push.apply(f,ro(this.outWall3d.vertex[u][S]));p=h.createBuffer(),h.bindBuffer(h.ARRAY_BUFFER,p),h.bufferData(h.ARRAY_BUFFER,new Float32Array(f),h.STATIC_DRAW),this.outWall3d.vertexBuffer[u]=p,h.bindBuffer(h.ARRAY_BUFFER,null),p=h.createBuffer(),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,p),h.bufferData(h.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.outWall3d.index[u]),h.STATIC_DRAW),this.outWall3d.indexBuffer[u]=p,h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,null)}}},{key:"processData",value:function(h,u,f,p,S){var x=h.vertex[h.vertex.length-1],T=h.index[h.index.length-1],z=u.length;(!T||65536<=T.length+2*z+2)&&(x=[],T=[],h.vertex.push(x),h.index.push(T)),(h=x.length)&&T.push(h-1,h);for(var G=h=0;G<z;G++){var P=[],D=[],U=u[G];P.push(U[0],U[1]),P.push(U[2]?Number(U[2])+S:S),P.push(U[3]?Number(U[3]):G),P.push(h),P.push(f[0],f[1],f[2],f[3]),D.push(U[0],U[1]),D.push(U[2]?Number(U[2]):0),D.push(U[3]?Number(U[3]):G),D.push(h),D.push(p[0],p[1],p[2],p[3]),U=x.length,x.push(P,D),T.push(U,U+1),G<z-1&&(h+=this.getDistance(u[G],u[G+1]))}}},{key:"getDistance",value:function(h,u){return Math.sqrt(Math.pow(Math.abs(h[0]-u[0]),2)+Math.pow(Math.abs(h[1]-u[1]),2))}}]),C}(),aA=function(C){function o(h,u){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h,u)),h.startTime=h.options.startTime||0,h.endTime=h.options.endTime,h.time=h.startTime,h.autoUpdate=!0,h}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{height:100,color:[1,1,1,1],trailLength:3,step:.1}}},{key:"initialize",value:function(u){this.gl=u,this.dataMgr=new md(this,this.gl),this.program=new yo(this.gl,{vertexShader:"uniform mat4 u_matrix;uniform float currentTime;uniform float trailLength;attribute vec4 aPos;attribute float aDistance;attribute vec4 aColor;varying vec4 vColor;varying float vHeight;varying float vTime;varying float vDistance;void main(){vTime=1.0-((currentTime-aPos.w)/trailLength);vHeight=aPos.z;vColor=aColor;vDistance=aDistance;gl_Position=u_matrix*vec4(aPos.xyz,1.0);}",fragmentShader:"precision highp float;varying vec4 vColor;varying float vTime;varying float vDistance;varying float vHeight;uniform float currentTime;void main(){if(vTime>1.0||vTime<0.0){}float radius=2.5;float distance=vDistance+currentTime*20.0;float modDistance=mod(distance,9.0);float alpha=1.0;if(modDistance>radius*2.0){discard;}else{float x=abs(modDistance-radius);float y=abs(vHeight-radius);float dis=sqrt(pow(x,2.0)+pow(y,2.0));if(dis>radius){discard;}alpha=dis/radius;}gl_FragColor=vec4(vColor.rgb,1.0-alpha);}"})}},{key:"onChanged",value:function(u,f){this.gl&&(this.dataMgr.onLayerChange(u,f),u.endTime===void 0&&(this.endTime=this.dataMgr.getMaxDataLength()))}},{key:"render",value:function(u){var f=u.gl,p=u.matrix;if((u=this.dataMgr.getData())&&!(0>=u.vertex.length)){var S=this.getOptions(),x=this.program;for(f.useProgram(x.program),f.enable(f.BLEND),f.blendEquation(f.FUNC_ADD),f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),f.enableVertexAttribArray(x.attributes.aPos),f.enableVertexAttribArray(x.attributes.aDistance),f.enableVertexAttribArray(x.attributes.aColor),f.uniformMatrix4fv(x.uniforms.u_matrix,!1,p),f.uniform1f(x.uniforms.currentTime,this.time),f.uniform1f(x.uniforms.trailLength,S.trailLength),p=0;p<u.vertex.length;p++)if(!(0>=u.vertex[p].length)){var T=u.vertex[p],z=new Float32Array(T[0]).BYTES_PER_ELEMENT;T=z*T[0].length,f.bindBuffer(f.ARRAY_BUFFER,u.vertexBuffer[p]),f.vertexAttribPointer(x.attributes.aPos,4,f.FLOAT,!1,T,0),f.vertexAttribPointer(x.attributes.aDistance,1,f.FLOAT,!1,T,4*z),f.vertexAttribPointer(x.attributes.aColor,4,f.FLOAT,!1,T,5*z),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,u.indexBuffer[p]),f.drawElements(f.TRIANGLE_STRIP,u.index[p].length,f.UNSIGNED_SHORT,0),f.bindBuffer(f.ARRAY_BUFFER,null),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,null)}f.disable(f.BLEND),this.time+=S.step,this.time>this.endTime&&(this.time=this.startTime),f.useProgram(null)}}}]),o}(fa),Sx=Fe(function(C,o){o.__esModule=!0;var h=$i&&$i.__esModule?$i:{default:$i};o.default=function(u,f,p){return f in u?(0,h.default)(u,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):u[f]=p,u}}),bm=We(Sx),Sm,gd,C2=(Sm={},bm(Sm,1,1),bm(Sm,2,1),bm(Sm,3,1),Sm),sA=(gd={},bm(gd,1,1),bm(gd,2,1),bm(gd,3,1),gd),zu=function(C){function o(h,u){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h,u)),h.bufferMap={},h.bufferData=[],h.autoUpdate=!0,h}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{color:[1,1,1,.8],speed:1,size:5,pointFade:!0,pointFadeBuffer:1,minLineLength:2,animationType:2,shapeType:2,depthTest:!1,delay:0,unit:"px"}}},{key:"initialize",value:function(u){this.gl=u,this.texture=null,this.isUseTexture=!1;var f=this.getOptions();this.updateUniformsFromOptions(f),this.program=new yo(this.gl,{vertexShader:"precision highp float;attribute vec3 aPos;attribute vec3 aNextPos;attribute float aIndex;attribute float aNextIndex;attribute float aLength;attribute float aSpeed;uniform float uSize;uniform mat4 u_matrix;uniform float uOriginSpeed;uniform float uElapsedSteps;uniform int uAnimationType;uniform int uPointFade;uniform float uPointFadeBuffer;uniform float uZoomUnits;varying float vAddOpacity;void main(){if(uAnimationType==1){if(abs(aIndex-mod(uElapsedSteps,aLength))>.1){gl_Position=vec4(-2.,-2.,0,1.0);return;}gl_Position=u_matrix*vec4(aPos.xyz,1.0);vAddOpacity=1.;}else if(uAnimationType==2){float lineLength=aLength-1.;float cIndex=mod(uElapsedSteps,lineLength);float rest=cIndex-aIndex;if(rest<1.&&rest>=0.){if(uPointFade==1){if(cIndex<uPointFadeBuffer){vAddOpacity=cIndex/uPointFadeBuffer;}else if(cIndex>lineLength-uPointFadeBuffer){vAddOpacity=(lineLength-cIndex)/uPointFadeBuffer;}else{vAddOpacity=1.;}}else{vAddOpacity=1.;}gl_Position=u_matrix*vec4(aPos.x+(aNextPos.x-aPos.x)*rest,aPos.y+(aNextPos.y-aPos.y)*rest,aPos.z+(aNextPos.z-aPos.z)*rest,1.0);}else{gl_Position=vec4(-2.,-2.,0,1.0);return;}}else if(uAnimationType==3){float speedRatio=aSpeed/uOriginSpeed;float percent=mod(uElapsedSteps*aSpeed,aLength)/aLength;if(percent<=aNextIndex&&percent>=aIndex){if(uPointFade==1){float fadePercent=uPointFadeBuffer*1000./aLength;if(percent<fadePercent){vAddOpacity=percent/fadePercent;}else if(percent>1.-fadePercent){vAddOpacity=(1.-percent)/fadePercent;}else{vAddOpacity=1.;}}else{vAddOpacity=1.;}float rest=(percent-aIndex)/(aNextIndex-aIndex);gl_Position=u_matrix*vec4(aPos.x+(aNextPos.x-aPos.x)*rest,aPos.y+(aNextPos.y-aPos.y)*rest,aPos.z+(aNextPos.z-aPos.z)*rest,1.0);}else{gl_Position=vec4(-2.,-2.,0,1.0);return;}}gl_PointSize=uSize/uZoomUnits;}",fragmentShader:"precision highp float;uniform vec4 uColor;uniform int ushapeType;uniform bool uUseTexture;uniform sampler2D uSampler;varying float vAddOpacity;void main(){if(ushapeType==2){float d=distance(gl_PointCoord,vec2(0.5,0.5));if(d>0.5){discard;}gl_FragColor=vec4(uColor.rgb,uColor.a*vAddOpacity);}else if(ushapeType==3){float d=distance(gl_PointCoord,vec2(0.5,0.5));if(d>0.5){discard;}gl_FragColor=vec4(uColor.rgb,uColor.a*smoothstep(1.0,0.0,d*2.)*vAddOpacity);}else{gl_FragColor=vec4(uColor.rgb,uColor.a*vAddOpacity);}if(uUseTexture){gl_FragColor=texture2D(uSampler,vec2(gl_PointCoord.x,1.0-gl_PointCoord.y));}}"}),this.loadTexture(),this.buffer=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,this.buffer)}},{key:"bindAttributeBufferData",value:function(u,f,p,S){var x=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,x),p=new Float32Array(p),u.bufferData(u.ARRAY_BUFFER,p,u.STATIC_DRAW),this.bufferMap[f]={buffer:x,data:p,elementSize:S}}},{key:"onChanged",value:function(u,f){var p=this;this.gl&&(Array.isArray(f)||(f=[]),this.loadTextureTime&&clearTimeout(this.loadTextureTime),this.loadTextureTime=setTimeout(function(){p.loadTexture(function(){p.parseData(u,f)})},0))}},{key:"parseData",value:function(u,f){var p=this.gl;this.updateUniformsFromOptions(u);for(var S=[],x=[],T=[],z=[],G=[],P=[],D=u.minLineLength,U=0;U<f.length;U++){var V=f[U].geometry.coordinates,J=V.length;if(!(J<D)){for(var ne=0;ne<J;++ne){var re=this.normizedPoint(V[ne]);S.push(re[0]),S.push(re[1]),S.push(re[2]||0),this.animationType!==3&&(x.push(ne),z.push(J))}if(this.animationType!==1){for(re=S.length-3*J+3,ne=S.length,V=re;V<ne;++V)G.push(S[V]);if(S.splice(ne-3,3),this.animationType===2)x.pop(),z.pop();else if(this.animationType===3){re-=3,ne=S.length-3,V=0,J=[];for(var Q=re;Q<=ne;Q+=3)re=Math.sqrt(Math.pow(G[Q]-S[Q],2)+Math.pow(G[Q+1]-S[Q+1],2)+Math.pow(G[Q+2]-S[Q+2],2)),V+=re,J.push(re);x.push(0),P.push(this.getProperty("speed",u.speed,f[U])),Q=ne=0;for(var he=J.length-1;Q<he;++Q)ne+=J[Q],re=ne/V,x.push(re),T.push(re),z.push(V),P.push(this.getProperty("speed",u.speed,f[U]));T.push(1),z.push(V)}}}}this.bindAttributeBufferData(p,"aPos",S,3),this.bindAttributeBufferData(p,"aIndex",x,1),this.bindAttributeBufferData(p,"aLength",z,1),this.animationType!==1&&(this.bindAttributeBufferData(p,"aNextPos",G,3),this.animationType===3&&(this.bindAttributeBufferData(p,"aNextIndex",T,1),this.bindAttributeBufferData(p,"aSpeed",P,1))),this.vertCount=S.length/3}},{key:"updateUniformsFromOptions",value:function(u){this.color=this.normizedColor(u.color),this.startTime=new Date().getTime(),C2[u.animationType]||(u.animationType=2),sA[u.shapeType]||(u.shapeType=2),(isNaN(u.minLineLength)||2>u.minLineLength)&&(u.minLineLength=2),this.animationType=u.animationType}},{key:"renderAttributeArr",value:function(u,f,p){if(f.attributes[p]!==void 0){var S=this.bufferMap[p];S&&(u.bindBuffer(u.ARRAY_BUFFER,S.buffer),u.enableVertexAttribArray(f.attributes[p]),u.vertexAttribPointer(f.attributes[p],S.elementSize,u.FLOAT,!1,S.data.BYTES_PER_ELEMENT*S.elementSize,0))}}},{key:"render",value:function(u){var f=u.gl;if(u=u.matrix,!(0>=this.vertCount)){var p=this.program;f.useProgram(p.program),this.renderAttributeArr(f,p,"aPos"),this.renderAttributeArr(f,p,"aIndex"),this.renderAttributeArr(f,p,"aLength"),this.animationType!==1&&(this.renderAttributeArr(f,p,"aNextPos"),this.animationType===3&&(this.renderAttributeArr(f,p,"aNextIndex"),this.renderAttributeArr(f,p,"aSpeed")));var S=new Date().getTime()-this.startTime;S<this.options.delay?S=0:(S-=this.options.delay,S=this.animationType===1?Math.round(S/1e3*this.options.speed*20):this.animationType===3?S/1e3*this.options.speed*1e3:S/1e3*this.options.speed);var x=this.options.size;if(Array.isArray(x)){var T=this.map.map.getMaxZoom(),z=this.map.map.getMinZoom();x=x[0]+(this.map.getZoom()-z)/(T-z)*(x[1]-x[0])}f.uniformMatrix4fv(p.uniforms.u_matrix,!1,u),f.uniform4f(p.uniforms.uColor,this.color[0],this.color[1],this.color[2],this.color[3]),f.uniform1f(p.uniforms.uSize,x),f.uniform1f(p.uniforms.uElapsedSteps,S),f.uniform1f(p.uniforms.uOriginSpeed,this.options.speed),f.uniform1i(p.uniforms.uAnimationType,this.animationType),f.uniform1i(p.uniforms.ushapeType,this.options.shapeType),f.uniform1i(p.uniforms.uPointFade,this.options.pointFade?1:0),f.uniform1f(p.uniforms.uPointFadeBuffer,this.options.pointFadeBuffer),f.uniform1f(p.uniforms.uZoomUnits,this.options.unit==="m"?this.map.getZoomUnits():1),this.options.icon&&this.texture&&(f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,this.texture),f.uniform1i(p.uniforms.uSampler,0),f.uniform1i(p.uniforms.uUseTexture,this.isUseTexture)),u=this.options.blend,p=this.options.depthTest,f.enable(f.BLEND),f.blendEquation(f.FUNC_ADD),u&&u==="lighter"?f.blendFunc(f.SRC_ALPHA,f.ONE):f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),p||f.disable(f.DEPTH_TEST),f.drawArrays(f.POINTS,0,this.vertCount),f.bindBuffer(f.ARRAY_BUFFER,null),f.disable(f.BLEND),f.disable(f.DEPTH_TEST),f.useProgram(null)}}},{key:"loadTexture",value:function(u){var f=this,p=this.getOptions();p.icon?(this.isUseTexture=!0,As(this.gl,p.icon,function(S,x){f.image=x,f.texture=S,u&&u(),f.webglLayer.render()})):(this.isUseTexture=!1,this.image=this.texture=null,u&&u())}}]),o}(fa);zu.ANIMATION_TYPE_LEAP=1,zu.ANIMATION_TYPE_SMOOTH=2,zu.ANIMATION_TYPE_UNIFORM_SPEED=3,zu.SHAPE_TYPE_SQUARE=1,zu.SHAPE_TYPE_CIRCLE=2,zu.SHAPE_TYPE_CIRCLE_GRADIENT=3;var b0=function(){function C(o,h){On(this,C),this.layer=o,this.gl=h,this.initData()}return Qn(C,[{key:"initData",value:function(){this.outWall3d={vertex:[],vertexBuffer:[],index:[],indexBuffer:[]}}},{key:"getData",value:function(){return this.outWall3d}},{key:"onLayerChange",value:function(h,u){this.initData();for(var f=h.color,p=h.height,S=h.gradient,x=h.enablePreciseMap,T=h.repeatMap,z=this.gl,G=0;G<u.length;G++){var P=u[G],D=P.color||f;"properties"in P&&"color"in P.properties&&(D=P.properties.color),S||Object.prototype.toString.call(D)!=="[object Function]"||(D=D(P));var U=this.layer.normizedColor(S?S[0]:D);D=this.layer.normizedColor(S?S[1]:D);var V=P.height||p;if("properties"in P&&"height"in P.properties&&(V=P.properties.height),Object.prototype.toString.call(V)==="[object Function]"&&(V=V(P)),P.geometry.type==="MultiLineString"||P.geometry.type==="Polygon")for(var J=0;J<P.geometry.coordinates.length;J++){for(var ne=P.geometry.coordinates[J],re=ne.length,Q=[],he=[],Me=0,De=0;De<re;De++){var Ue=this.layer.normizedPoint(ne[De]);if(0<De&&(x||T)){var Ve=this.layer.normizedPoint(ne[De-1]);Me+=Math.sqrt(Math.pow(Ue[0]-Ve[0],2)+Math.pow(Ue[1]-Ve[1],2))}Q.push(Ue),he.push(Me)}this.processData(this.outWall3d,h,Q,he,U,D,V)}else{for(P=P.geometry.coordinates,J=P.length,ne=[],re=[],he=Q=0;he<J;he++)Me=this.layer.normizedPoint(P[he]),0<he&&(x||T)&&(De=this.layer.normizedPoint(P[he-1]),Q+=Math.sqrt(Math.pow(Me[0]-De[0],2)+Math.pow(Me[1]-De[1],2))),ne.push(Me),re.push(Q);this.processData(this.outWall3d,h,ne,re,U,D,V)}}for(h=0;h<this.outWall3d.vertex.length;h++){for(u=[],f=this.outWall3d.vertex[h].length,p=0;p<f;p++)u.push.apply(u,ro(this.outWall3d.vertex[h][p]));f=z.createBuffer(),z.bindBuffer(z.ARRAY_BUFFER,f),z.bufferData(z.ARRAY_BUFFER,new Float32Array(u),z.STATIC_DRAW),this.outWall3d.vertexBuffer[h]=f,z.bindBuffer(z.ARRAY_BUFFER,null),f=z.createBuffer(),z.bindBuffer(z.ELEMENT_ARRAY_BUFFER,f),z.bufferData(z.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.outWall3d.index[h]),z.STATIC_DRAW),this.outWall3d.indexBuffer[h]=f,z.bindBuffer(z.ELEMENT_ARRAY_BUFFER,null)}}},{key:"processData",value:function(h,u,f,p,S,x,T){var z=p[p.length-1],G=h.vertex[h.vertex.length-1],P=h.index[h.index.length-1],D=f.length;for((!P||65536<=P.length+2*D+2)&&(G=[],P=[],h.vertex.push(G),h.index.push(P)),(h=G.length)&&P.push(h-1,h),h=0;h<D;h++){var U=[],V=[],J=f[h];U.push(J[0],J[1],J[2]+T),U.push(S[0],S[1],S[2],S[3]),V.push(J[0],J[1],J[2]),V.push(x[0],x[1],x[2],x[3]),u.texture&&(J=p[h],u.enablePreciseMap||u.repeatMap?(U.push(J,1,z),V.push(J,0,z)):(U.push(h,1,D-1),V.push(h,0,D-1))),J=G.length,G.push(U,V),P.push(J,J+1)}}}]),C}(),ju=function(C){function o(h,u){return On(this,o),wi(this,(o.__proto__||ri(o)).call(this,h,u))}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{texture:null,enablePreciseMap:!1,repeatMap:0,height:100,color:[1,1,1,1]}}},{key:"initialize",value:function(u){this.gl=u,this.dataMgr=new b0(this,this.gl),this.texture=null,this.isUseTexture=!1,this.vertexLength=10,this.program=new yo(this.gl,{vertexShader:"uniform mat4 u_matrix;uniform bool uUseTexture;attribute vec3 aPos;attribute vec4 aColor;attribute vec2 aTextureCoords;attribute float aTotalDistance;varying vec2 vTextureCoords;varying float vTotalDistance;varying vec4 vColor;void main(){if(aColor.w>=0.0&&aColor.w<=1.0){vColor=aColor;}else{vColor=vec4(aColor.xyz,1.0);}if(uUseTexture){vTextureCoords=aTextureCoords;vTotalDistance=aTotalDistance;}gl_Position=u_matrix*vec4(aPos,1.0);}",fragmentShader:"precision highp float;uniform bool uUseTexture;uniform float uDistance;uniform sampler2D uSampler;varying vec2 vTextureCoords;varying float vTotalDistance;varying vec4 vColor;void main(){if(uUseTexture){float uvx=vTextureCoords.x/vTotalDistance;if(uDistance>0.0){uvx=mod(vTextureCoords.x,uDistance)/uDistance;}gl_FragColor=vec4(1.0,1.0,1.0,1.0)*texture2D(uSampler,vec2(uvx,vTextureCoords.y));}else{gl_FragColor=vColor;}}"}),this.loadTexture()}},{key:"onChanged",value:function(u,f){var p=this;this.gl&&(this.loadTextureTime&&clearTimeout(this.loadTextureTime),this.loadTextureTime=setTimeout(function(){p.loadTexture(function(){p.dataMgr.onLayerChange(u,f),p.webglLayer.render()})},0))}},{key:"render",value:function(u){var f=u.gl,p=u.matrix;if((u=this.dataMgr.getData())&&!(0>=u.vertex.length)){var S=this.getOptions(),x=this.program;if(f.useProgram(x.program),f.enable(f.BLEND),f.blendEquation(f.FUNC_ADD),f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),S.texture){if(!this.texture)return;f.activeTexture(f.TEXTURE0),f.bindTexture(f.TEXTURE_2D,this.texture),f.uniform1i(x.uniforms.uSampler,0),f.depthMask(!0),f.depthFunc(f.LESS)}else f.depthMask(!1);for(S.texture?f.enableVertexAttribArray(x.attributes.aTextureCoords):f.disableVertexAttribArray(x.attributes.aTextureCoords),f.enableVertexAttribArray(x.attributes.aPos),f.enableVertexAttribArray(x.attributes.aColor),f.uniformMatrix4fv(x.uniforms.u_matrix,!1,p),f.uniform1i(x.uniforms.uUseTexture,this.isUseTexture),f.uniform1f(x.uniforms.uDistance,S.repeatMap),p=0;p<u.vertex.length;p++)if(!(0>=u.vertex[p].length)){var T=u.vertex[p],z=new Float32Array(T[0]).BYTES_PER_ELEMENT;T=z*T[0].length,f.bindBuffer(f.ARRAY_BUFFER,u.vertexBuffer[p]),f.vertexAttribPointer(x.attributes.aPos,3,f.FLOAT,!1,T,0),f.vertexAttribPointer(x.attributes.aColor,4,f.FLOAT,!1,T,3*z),S.texture&&(f.vertexAttribPointer(x.attributes.aTextureCoords,2,f.FLOAT,!1,T,7*z),f.vertexAttribPointer(x.attributes.aTotalDistance,1,f.FLOAT,!1,T,9*z)),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,u.indexBuffer[p]),f.drawElements(f.TRIANGLE_STRIP,u.index[p].length,f.UNSIGNED_SHORT,0),f.bindBuffer(f.ARRAY_BUFFER,null),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,null)}f.disable(f.BLEND),f.useProgram(null)}}},{key:"loadTexture",value:function(u){var f=this,p=this.getOptions();p.texture?(this.isUseTexture=!0,As(this.gl,p.texture,function(S,x){f.image=x,f.texture=S,u&&u(),f.webglLayer.render()})):(this.isUseTexture=!1,this.image=this.texture=null,u&&u())}}]),o}(fa),t1=function(){function C(o,h){On(this,C),this.layer=o,this.gl=h,this.initData()}return Qn(C,[{key:"initData",value:function(){this.outWall3d={vertex:[],vertexBuffer:[],index:[],indexBuffer:[]},this.maxLength=0}},{key:"getData",value:function(){return this.outWall3d}},{key:"getMaxDataLength",value:function(){return this.maxLength}},{key:"onLayerChange",value:function(h,u){this.initData();var f=h.color,p=h.height,S=h.gradient;h=this.gl;for(var x=0;x<u.length;x++){var T=u[x].geometry.coordinates,z=T.length;this.maxLength=z>this.maxLength?z:this.maxLength;for(var G=[],P=0;P<z;P++){var D=this.layer.normizedPoint(T[P]);G.push(D)}z=u[x].color||f,"properties"in u[x]&&"color"in u[x].properties&&(z=u[x].properties.color),S||Object.prototype.toString.call(z)!=="[object Function]"||(z=z(u[x])),T=this.layer.normizedColor(S?S[0]:z),z=this.layer.normizedColor(S?S[1]:z),P=u[x].height||p,"properties"in u[x]&&"height"in u[x].properties&&(P=u[x].properties.height),Object.prototype.toString.call(P)==="[object Function]"&&(P=P(u[x])),this.processData(this.outWall3d,G,T,z,P)}for(u=0;u<this.outWall3d.vertex.length;u++){for(f=[],p=this.outWall3d.vertex[u].length,S=0;S<p;S++)f.push.apply(f,ro(this.outWall3d.vertex[u][S]));p=h.createBuffer(),h.bindBuffer(h.ARRAY_BUFFER,p),h.bufferData(h.ARRAY_BUFFER,new Float32Array(f),h.STATIC_DRAW),this.outWall3d.vertexBuffer[u]=p,h.bindBuffer(h.ARRAY_BUFFER,null),p=h.createBuffer(),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,p),h.bufferData(h.ELEMENT_ARRAY_BUFFER,new Uint16Array(this.outWall3d.index[u]),h.STATIC_DRAW),this.outWall3d.indexBuffer[u]=p,h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,null)}}},{key:"processData",value:function(h,u,f,p,S){var x=h.vertex[h.vertex.length-1],T=h.index[h.index.length-1],z=u.length;for((!T||65536<=T.length+2*z+2)&&(x=[],T=[],h.vertex.push(x),h.index.push(T)),(h=x.length)&&T.push(h-1,h),h=0;h<z;h++){var G=[],P=[],D=u[h];G.push(D[0],D[1]),G.push(D[2]?Number(D[2])+S:S),G.push(D[3]?Number(D[3]):h),G.push(f[0],f[1],f[2],f[3]),P.push(D[0],D[1]),P.push(D[2]?Number(D[2]):0),P.push(D[3]?Number(D[3]):h),P.push(p[0],p[1],p[2],p[3]),D=x.length,x.push(G,P),T.push(D,D+1)}}}]),C}(),r1=function(C){function o(h,u){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h,u)),h.startTime=h.options.startTime||0,h.endTime=h.options.endTime,h.time=h.startTime,h.autoUpdate=!0,h}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{height:100,color:[1,1,1,1],trailLength:3,step:.1}}},{key:"initialize",value:function(u){this.gl=u,this.dataMgr=new t1(this,this.gl),this.program=new yo(this.gl,{vertexShader:"uniform mat4 u_matrix;uniform float currentTime;uniform float trailLength;attribute vec4 aPos;attribute vec4 aColor;varying vec4 vColor;varying float vTime;void main(){vTime=1.0-((currentTime-aPos.w)/trailLength);vColor=aColor;gl_Position=u_matrix*vec4(aPos.xyz,1.0);}",fragmentShader:"precision highp float;varying vec4 vColor;varying float vTime;void main(){if(vTime>1.0||vTime<0.0){discard;}gl_FragColor=vec4(vColor.rgb,1.0*vTime);}"})}},{key:"onChanged",value:function(u,f){this.gl&&(this.dataMgr.onLayerChange(u,f),u.endTime===void 0&&(this.endTime=this.dataMgr.getMaxDataLength()))}},{key:"render",value:function(u){var f=u.gl,p=u.matrix;if((u=this.dataMgr.getData())&&!(0>=u.vertex.length)){var S=this.getOptions(),x=this.program;for(f.useProgram(x.program),f.enable(f.BLEND),f.blendEquation(f.FUNC_ADD),f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),f.enableVertexAttribArray(x.attributes.aPos),f.enableVertexAttribArray(x.attributes.aColor),f.uniformMatrix4fv(x.uniforms.u_matrix,!1,p),f.uniform1f(x.uniforms.currentTime,this.time),f.uniform1f(x.uniforms.trailLength,S.trailLength),p=0;p<u.vertex.length;p++)if(!(0>=u.vertex[p].length)){var T=u.vertex[p],z=new Float32Array(T[0]).BYTES_PER_ELEMENT;T=z*T[0].length,f.bindBuffer(f.ARRAY_BUFFER,u.vertexBuffer[p]),f.vertexAttribPointer(x.attributes.aPos,4,f.FLOAT,!1,T,0),f.vertexAttribPointer(x.attributes.aColor,4,f.FLOAT,!1,T,4*z),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,u.indexBuffer[p]),f.drawElements(f.TRIANGLE_STRIP,u.index[p].length,f.UNSIGNED_SHORT,0),f.bindBuffer(f.ARRAY_BUFFER,null),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,null)}f.disable(f.BLEND),this.time+=S.step,this.time>this.endTime&&(this.time=this.startTime),f.useProgram(null)}}}]),o}(fa),fu=function(C){function o(h,u){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h,u)),h.simpleLineLayer=new C0(h.getHeatOptions()),h.children=[h.simpleLineLayer],h}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{blend:"normal",gradient:{0:"rgb(50, 50, 256)","0.1":"rgb(50, 250, 56)","0.5":"rgb(250, 250, 56)",1:"rgb(250, 50, 56)"}}}},{key:"onDataChanged",value:function(u){this.simpleLineLayer.setData(u)}},{key:"onOptionsChanged",value:function(u){this.simpleLineLayer.setOptions(this.getHeatOptions())}},{key:"getHeatOptions",value:function(){var u=this.getOptions(),f=u.max,p=u.min;f===void 0&&(p=this.getDataRange(),f=p.max,p=p.min);var S=new Dt({max:f,min:p,gradient:u.gradient});return u.color=function(x){var T=~~x.count||1;return"properties"in x&&"count"in x.properties&&(T=~~x.properties.count),x=S.getImageData(T),[x[0]/255,x[1]/255,x[2]/255,x[3]/255]},u}},{key:"getDataRange",value:function(){var u=this.getData(),f=0,p=0;u[0]&&(f=~~u[0].count||1,p=~~u[0].count||1),"properties"in u[0]&&"count"in u[0].properties&&(f=~~u[0].properties.count,p=~~u[0].properties.count);for(var S=u.length,x=0;x<S;x++){var T=~~u[x].count||1;"properties"in u[x]&&"count"in u[x].properties&&(T=~~u[x].properties.count),f=Math.max(T,f),p=Math.min(T,p)}return{max:f/2,min:p}}}]),o}(Bu),n1=Fe(function(C,o){(function(h,u){C.exports=u()})(Vv,function(){function h(re,Q,he,Me,De){for(;Me>he;){if(600<Me-he){var Ue=Me-he+1,Ve=Q-he+1,ht=Math.log(Ue),Je=.5*Math.exp(2*ht/3);ht=.5*Math.sqrt(ht*Je*(Ue-Je)/Ue)*(0>Ve-Ue/2?-1:1),h(re,Q,Math.max(he,Math.floor(Q-Ve*Je/Ue+ht)),Math.min(Me,Math.floor(Q+(Ue-Ve)*Je/Ue+ht)),De)}for(Ue=re[Q],Ve=he,Je=Me,u(re,he,Q),0<De(re[Me],Ue)&&u(re,he,Me);Ve<Je;){for(u(re,Ve,Je),Ve++,Je--;0>De(re[Ve],Ue);)Ve++;for(;0<De(re[Je],Ue);)Je--}De(re[he],Ue)===0?u(re,he,Je):(Je++,u(re,Je,Me)),Je<=Q&&(he=Je+1),Q<=Je&&(Me=Je-1)}}function u(re,Q,he){var Me=re[Q];re[Q]=re[he],re[he]=Me}function f(re,Q){return re<Q?-1:re>Q?1:0}function p(re,Q){S(re,0,re.children.length,Q,re)}function S(re,Q,he,Me,De){for(De||(De=V(null)),De.minX=Infinity,De.minY=Infinity,De.maxX=-Infinity,De.maxY=-Infinity;Q<he;Q++){var Ue=re.children[Q];x(De,re.leaf?Me(Ue):Ue)}return De}function x(re,Q){return re.minX=Math.min(re.minX,Q.minX),re.minY=Math.min(re.minY,Q.minY),re.maxX=Math.max(re.maxX,Q.maxX),re.maxY=Math.max(re.maxY,Q.maxY),re}function T(re,Q){return re.minX-Q.minX}function z(re,Q){return re.minY-Q.minY}function G(re){return(re.maxX-re.minX)*(re.maxY-re.minY)}function P(re){return re.maxX-re.minX+(re.maxY-re.minY)}function D(re,Q){return re.minX<=Q.minX&&re.minY<=Q.minY&&Q.maxX<=re.maxX&&Q.maxY<=re.maxY}function U(re,Q){return Q.minX<=re.maxX&&Q.minY<=re.maxY&&Q.maxX>=re.minX&&Q.maxY>=re.minY}function V(re){return{children:re,height:1,leaf:!0,minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity}}function J(re,Q,he,Me,De){for(var Ue=[Q,he];Ue.length;)if(he=Ue.pop(),Q=Ue.pop(),!(he-Q<=Me)){var Ve=Q+Math.ceil((he-Q)/Me/2)*Me;h(re,Ve,Q||0,he||re.length-1,De||f),Ue.push(Q,Ve,Ve,he)}}var ne=function(Q){Q===void 0&&(Q=9),this._maxEntries=Math.max(4,Q),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};return ne.prototype.all=function(){return this._all(this.data,[])},ne.prototype.search=function(re){var Q=this.data,he=[];if(!U(re,Q))return he;for(var Me=this.toBBox,De=[];Q;){for(var Ue=0;Ue<Q.children.length;Ue++){var Ve=Q.children[Ue],ht=Q.leaf?Me(Ve):Ve;U(re,ht)&&(Q.leaf?he.push(Ve):D(re,ht)?this._all(Ve,he):De.push(Ve))}Q=De.pop()}return he},ne.prototype.collides=function(re){var Q=this.data;if(!U(re,Q))return!1;for(var he=[];Q;){for(var Me=0;Me<Q.children.length;Me++){var De=Q.children[Me],Ue=Q.leaf?this.toBBox(De):De;if(U(re,Ue)){if(Q.leaf||D(re,Ue))return!0;he.push(De)}}Q=he.pop()}return!1},ne.prototype.load=function(re){if(!re||!re.length)return this;if(re.length<this._minEntries){for(var Q=0;Q<re.length;Q++)this.insert(re[Q]);return this}return re=this._build(re.slice(),0,re.length-1,0),this.data.children.length?this.data.height===re.height?this._splitRoot(this.data,re):(this.data.height<re.height&&(Q=this.data,this.data=re,re=Q),this._insert(re,this.data.height-re.height-1,!0)):this.data=re,this},ne.prototype.insert=function(re){return re&&this._insert(re,this.data.height-1),this},ne.prototype.clear=function(){return this.data=V([]),this},ne.prototype.remove=function(re,Q){if(!re)return this;for(var he=this.data,Me=this.toBBox(re),De=[],Ue=[],Ve,ht,Je;he||De.length;){if(he||(he=De.pop(),ht=De[De.length-1],Ve=Ue.pop(),Je=!0),he.leaf){e:{var Er=re,fr=he.children,Pn=Q;if(Pn){for(var yn=0;yn<fr.length;yn++)if(Pn(Er,fr[yn])){Er=yn;break e}Er=-1}else Er=fr.indexOf(Er)}if(Er!==-1){he.children.splice(Er,1),De.push(he),this._condense(De);break}}Je||he.leaf||!D(he,Me)?ht?(Ve++,he=ht.children[Ve],Je=!1):he=null:(De.push(he),Ue.push(Ve),Ve=0,ht=he,he=he.children[0])}return this},ne.prototype.toBBox=function(re){return re},ne.prototype.compareMinX=function(re,Q){return re.minX-Q.minX},ne.prototype.compareMinY=function(re,Q){return re.minY-Q.minY},ne.prototype.toJSON=function(){return this.data},ne.prototype.fromJSON=function(re){return this.data=re,this},ne.prototype._all=function(re,Q){for(var he=[];re;)re.leaf?Q.push.apply(Q,re.children):he.push.apply(he,re.children),re=he.pop();return Q},ne.prototype._build=function(re,Q,he,Me){var De=he-Q+1,Ue=this._maxEntries;if(De<=Ue){var Ve=V(re.slice(Q,he+1));return p(Ve,this.toBBox),Ve}for(Me||(Me=Math.ceil(Math.log(De)/Math.log(Ue)),Ue=Math.ceil(De/Math.pow(Ue,Me-1))),Ve=V([]),Ve.leaf=!1,Ve.height=Me,De=Math.ceil(De/Ue),Ue=De*Math.ceil(Math.sqrt(Ue)),J(re,Q,he,Ue,this.compareMinX);Q<=he;Q+=Ue){var ht=Math.min(Q+Ue-1,he);J(re,Q,ht,De,this.compareMinY);for(var Je=Q;Je<=ht;Je+=De)Ve.children.push(this._build(re,Je,Math.min(Je+De-1,ht),Me-1))}return p(Ve,this.toBBox),Ve},ne.prototype._chooseSubtree=function(re,Q,he,Me){for(;Me.push(Q),!(Q.leaf||Me.length-1===he);){for(var De=Infinity,Ue=Infinity,Ve=void 0,ht=0;ht<Q.children.length;ht++){var Je=Q.children[ht],Er=G(Je),fr=(Math.max(Je.maxX,re.maxX)-Math.min(Je.minX,re.minX))*(Math.max(Je.maxY,re.maxY)-Math.min(Je.minY,re.minY))-Er;fr<Ue?(Ue=fr,De=Er<De?Er:De,Ve=Je):fr===Ue&&Er<De&&(De=Er,Ve=Je)}Q=Ve||Q.children[0]}return Q},ne.prototype._insert=function(re,Q,he){he=he?re:this.toBBox(re);var Me=[],De=this._chooseSubtree(he,this.data,Q,Me);for(De.children.push(re),x(De,he);0<=Q&&Me[Q].children.length>this._maxEntries;)this._split(Me,Q),Q--;this._adjustParentBBoxes(he,Me,Q)},ne.prototype._split=function(re,Q){var he=re[Q],Me=he.children.length,De=this._minEntries;this._chooseSplitAxis(he,De,Me),Me=this._chooseSplitIndex(he,De,Me),Me=V(he.children.splice(Me,he.children.length-Me)),Me.height=he.height,Me.leaf=he.leaf,p(he,this.toBBox),p(Me,this.toBBox),Q?re[Q-1].children.push(Me):this._splitRoot(he,Me)},ne.prototype._splitRoot=function(re,Q){this.data=V([re,Q]),this.data.height=re.height+1,this.data.leaf=!1,p(this.data,this.toBBox)},ne.prototype._chooseSplitIndex=function(re,Q,he){for(var Me,De=Infinity,Ue=Infinity,Ve=Q;Ve<=he-Q;Ve++){var ht=S(re,0,Ve,this.toBBox),Je=S(re,Ve,he,this.toBBox),Er=Math.max(0,Math.min(ht.maxX,Je.maxX)-Math.max(ht.minX,Je.minX))*Math.max(0,Math.min(ht.maxY,Je.maxY)-Math.max(ht.minY,Je.minY));ht=G(ht)+G(Je),Er<De?(De=Er,Me=Ve,Ue=ht<Ue?ht:Ue):Er===De&&ht<Ue&&(Ue=ht,Me=Ve)}return Me||he-Q},ne.prototype._chooseSplitAxis=function(re,Q,he){var Me=re.leaf?this.compareMinX:T,De=re.leaf?this.compareMinY:z,Ue=this._allDistMargin(re,Q,he,Me);Q=this._allDistMargin(re,Q,he,De),Ue<Q&&re.children.sort(Me)},ne.prototype._allDistMargin=function(re,Q,he,Me){re.children.sort(Me),Me=this.toBBox;for(var De=S(re,0,Q,Me),Ue=S(re,he-Q,he,Me),Ve=P(De)+P(Ue),ht=Q;ht<he-Q;ht++){var Je=re.children[ht];x(De,re.leaf?Me(Je):Je),Ve+=P(De)}for(he=he-Q-1;he>=Q;he--)De=re.children[he],x(Ue,re.leaf?Me(De):De),Ve+=P(Ue);return Ve},ne.prototype._adjustParentBBoxes=function(re,Q,he){for(;0<=he;he--)x(Q[he],re)},ne.prototype._condense=function(re){for(var Q=re.length-1,he;0<=Q;Q--)re[Q].children.length===0?0<Q?(he=re[Q-1].children,he.splice(he.indexOf(re[Q]),1)):this.clear():p(re[Q],this.toBBox)},ne})}),S0=function(C){function o(h,u){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h,u)),u=h.canvas=document.createElement("canvas"),u=h.ctx=u.getContext("2d"),u.textAlign="start",u.textBaseline="top",h}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{depthWrite:!1,color:"#fff",fontFamily:"Microsoft Yahei",fontSize:14,flat:!1,collides:!0,unit:"px",angle:0,offset:[0,0],padding:[2,2],margin:[0,0],polygonOffset:[0,0]}}},{key:"initialize",value:function(u){this.gl=u;var f=this.getOptions();this.texture=null,this.lastUpdateTime=0,this.program=new yo(this.gl,{vertexShader:"precision highp float;uniform mat4 matrix;uniform bool uFlat;uniform bool uUnitPx;uniform float zoomUnits;uniform float devicePixelRatio;uniform float zIndex;uniform vec2 offset;attribute vec3 position;attribute float corner;attribute float scale;attribute float rotation;attribute vec2 size;attribute vec2 aTextCoord;varying vec2 vTextCoord;/***\u70B9A(x,y)\uFF0C\u7ED5\u539F\u70B9\u987A\u65F6\u9488\u65CB\u8F6C\u89D2\u5EA6a\u65B0\u5750\u6807\u7684\u8BA1\u7B97\u516C\u5F0F*x1=x*cos(a)+y*sin(a)*y1=y*cos(a)-x*sin(a)*/vec3 transformCoord(vec3 coord,vec2 size,float corner){float x=coord.x;float y=coord.y;if(corner==1.0){x+=-size.x*cos(rotation)+size.y*sin(rotation);y+=size.y*cos(rotation)+size.x*sin(rotation);}else if(corner==2.0){x+=size.x*cos(rotation)+size.y*sin(rotation);y+=size.y*cos(rotation)-size.x*sin(rotation);}else if(corner==3.0){x+=size.x*cos(rotation)-size.y*sin(rotation);y+=-size.y*cos(rotation)-size.x*sin(rotation);}else{x+=-size.x*cos(rotation)-size.y*sin(rotation);y+=-size.y*cos(rotation)+size.x*sin(rotation);}return vec3(x,y,coord.z);}void main(){vTextCoord=aTextCoord;if(uFlat){vec2 pixelOffset=offset;vec2 halfSize=size/2.0*scale;if(uUnitPx){halfSize*=zoomUnits;pixelOffset*=zoomUnits;}vec3 current=transformCoord(position,halfSize,corner);current.z+=zIndex;gl_Position=matrix*vec4(current.x+pixelOffset[0],current.y-pixelOffset[1],current.z,1.0);}else{vec2 pixelOffset=offset*zoomUnits;vec4 projection=matrix*vec4(position.x+pixelOffset[0],position.y-pixelOffset[1],position.z,1.0);vec3 screen=projection.xyz/projection.w;vec2 halfSize=size/MAPV_resolution*devicePixelRatio*scale;vec3 current=transformCoord(screen,halfSize,corner);current.z+=zIndex;gl_Position=vec4(current,1.0);}}",fragmentShader:`precision highp float;uniform sampler2D textureImage;uniform vec4 uSelectedColor;varying vec2 vTextCoord;void main(){gl_FragColor=texture2D(textureImage,vec2(vTextCoord.x,1.0-vTextCoord.y));
#if defined(PICK)
if(mapvIsPicked()){gl_FragColor=vec4(uSelectedColor.rgb,gl_FragColor.a);}
#endif
}`,defines:f.enablePicked?["PICK"]:[]},this),this.vertexBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.uvBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Ti({gl:u,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),f=[{name:"position",buffer:this.vertexBuffer,size:3,stride:32,type:"FLOAT",offset:0},{name:"corner",buffer:this.vertexBuffer,size:1,stride:32,type:"FLOAT",offset:12},{name:"size",buffer:this.vertexBuffer,size:2,stride:32,type:"FLOAT",offset:16},{name:"scale",buffer:this.vertexBuffer,size:1,stride:32,type:"FLOAT",offset:24},{name:"rotation",buffer:this.vertexBuffer,size:1,stride:32,type:"FLOAT",offset:28},{name:"aTextCoord",buffer:this.uvBuffer,size:2,stride:8,type:"FLOAT",offset:0}],f=f.concat(this.getCommonAttributes()),this.vertexArray=new La({gl:u,program:this.program,attributes:f})}},{key:"destroy",value:function(){this.options&&this.options.enablePicked&&(this.pickBuffer=null),this.canvas=this.cachedData=this.options=this.data=this.indexBuffer=this.uvBuffer=this.vertexBuffer=this.program=this.vertexArray=null}},{key:"onChanged",value:function(u,f){this.gl&&this.processCache(u,f)}},{key:"processCache",value:function(u,f){this.cachedData=[];for(var p=0;p<f.length;p++){var S=this.normizedPoint(f[p].geometry.coordinates),x=f[p].text;"properties"in f[p]&&"text"in f[p].properties&&(x=f[p].properties.text);var T=this.getProperty("angle",u.angle,f[p]);S&&x!==void 0&&this.cachedData.push({point:S,text:x,angle:T})}}},{key:"render",value:function(u){if(this.cachedData&&this.cachedData.length&&this.map){var f=u.gl,p=u.matrix,S=this.getOptions(),x=this.program;x.use(f),this.throttleUpdate(u),f.enable(f.BLEND),f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),("depthWrite"in S||"depthTest"in S)&&(S.depthTest===!1&&f.disable(f.DEPTH_TEST),S.depthWrite===!1&&f.depthMask(!1)),f.enable(f.POLYGON_OFFSET_FILL),f.polygonOffset(S.polygonOffset[0],S.polygonOffset[1]);var T=this.map.getZoomUnits();x.setUniforms(_o(this.getCommonUniforms(u),{matrix:p,devicePixelRatio:window.devicePixelRatio,textureImage:this.texture,uFlat:S.flat,offset:S.offset,zoomUnits:T,zIndex:S.zIndex,uUnitPx:S.unit==="px"})),0<this.index.length&&(this.indexBuffer.bind(),this.vertexArray.bind(),f.drawElements(f.TRIANGLES,this.index.length,f.UNSIGNED_INT,0)),("depthWrite"in S||"depthTest"in S)&&(S.depthTest===!1&&f.enable(f.DEPTH_TEST),S.depthWrite===!1&&f.depthMask(!0)),f.disable(f.POLYGON_OFFSET_FILL),f.useProgram(null)}}},{key:"throttleUpdate",value:function(u){var f=this;clearTimeout(this.throttleTimer),300<new Date().getTime()-this.lastUpdateTime?(this.updateText(u),this.lastUpdateTime=new Date().getTime()):this.throttleTimer=setTimeout(function(){f.updateText(u),f.lastUpdateTime=new Date().getTime()},200)}},{key:"updateText",value:function(u){var f=u.gl,p=u.matrix,S=this.getOptions(),x=S.color;u=S.fontSize;var T=S.fontFamily,z=S.padding,G=S.margin,P=S.collides;S=S.enablePicked;var D=f.canvas.width/window.devicePixelRatio,U=f.canvas.height/window.devicePixelRatio,V=this.canvas;f=this.ctx,f.save(),f.scale(window.devicePixelRatio,window.devicePixelRatio),f.textBaseline="top",f.font="20px "+T;for(var J=new n1,ne=[],re=0;re<this.cachedData.length;re++){var Q=this.cachedData[re],he=Q.point,Me=Q.text;Q=Q.angle;var De=ms(he,3);De=tu.clone([De[0],De[1],De[2],1]),tu.transformMat4(De,De,p),tu.scale(De,De,1/De[3]);var Ue=(De[0]+1)/2*D,Ve=(-De[1]+1)/2*U,ht=f.measureText(Me);De=ht.width+2*z[0];var Je=20;ht.actualBoundingBoxAscent&&ht.actualBoundingBoxDescent&&(Je=ht.actualBoundingBoxDescent-ht.actualBoundingBoxAscent),Je+=2*z[1];var Er=De+G[0];if(ht=Je+G[1],Ue-=Er/2,Ve-=ht/2,Er=Ue+Er,ht=Ve+ht,!(0>Er||0>ht||Ue>D||Ve>U)){if(P){if(ht={minX:Ue,maxX:Er,minY:Ve,maxY:ht},J.collides(ht))continue;J.insert(ht)}ne.push({w:De,h:Je,point:he,text:Me,angle:Q,dataIndex:re})}}for(f.restore(),G=Vp(ne),p=G.w,G=G.h,0>=p&&(p=1),0>=G&&(G=1),V.width=p*window.devicePixelRatio,V.height=G*window.devicePixelRatio,f.save(),f.scale(window.devicePixelRatio,window.devicePixelRatio),f.textBaseline="top",f.fillStyle=x,f.font="20px "+T,x=[],T=[],V=[],P=[],D=0,U=ne.length;D<U;++D){for(J=ne[D],f.fillText(J.text,J.x+z[0],J.y+z[1]),Me=ms(J.point,3),re=Me[0],he=Me[1],Me=Me[2],Q=0;4>Q;Q++)x.push(re,he,Me),x.push(Q),x.push(J.w,J.h),x.push(u/20,J.angle*Math.PI/180);re=J.x/p,he=(J.x+J.w)/p,Me=(J.y+J.h)/G,Q=J.y/G,T.push(re,Me,re,Q,he,Q,he,Me),re=4*D,V.push(re,re+2,re+1,re,re+3,re+2),S&&(J=this.indexToRgb(J.dataIndex),P.push(J[0]/255,J[1]/255,J[2]/255),P.push(J[0]/255,J[1]/255,J[2]/255),P.push(J[0]/255,J[1]/255,J[2]/255),P.push(J[0]/255,J[1]/255,J[2]/255))}f.restore(),this.loadTexture(),this.index=V,this.vertexBuffer.updateData(new Float32Array(x)),this.uvBuffer.updateData(new Float32Array(T)),this.indexBuffer.updateData(new Uint32Array(V)),S&&this.pickBuffer.updateData(new Float32Array(P))}},{key:"loadTexture",value:function(){var u=this;this.canvas?As(this.gl,this.canvas,function(f){u.texture=f},{TEXTURE_WRAP_S:"CLAMP_TO_EDGE",TEXTURE_WRAP_T:"CLAMP_TO_EDGE"}):this.texture=null}}]),o}(fa),zl=Fe(function(C,o){(function(h,u){C.exports=u()})(Vv,function(){function h(Q,he,Me,De,Ue,Ve){if(!(Ue-De<=Me)){var ht=De+Ue>>1;u(Q,he,ht,De,Ue,Ve%2),h(Q,he,Me,De,ht-1,Ve+1),h(Q,he,Me,ht+1,Ue,Ve+1)}}function u(Q,he,Me,De,Ue,Ve){for(;Ue>De;){if(600<Ue-De){var ht=Ue-De+1,Je=Me-De+1,Er=Math.log(ht),fr=.5*Math.exp(2*Er/3);Er=.5*Math.sqrt(Er*fr*(ht-fr)/ht)*(0>Je-ht/2?-1:1),u(Q,he,Me,Math.max(De,Math.floor(Me-Je*fr/ht+Er)),Math.min(Ue,Math.floor(Me+(ht-Je)*fr/ht+Er)),Ve)}for(ht=he[2*Me+Ve],Je=De,fr=Ue,f(Q,he,De,Me),he[2*Ue+Ve]>ht&&f(Q,he,De,Ue);Je<fr;){for(f(Q,he,Je,fr),Je++,fr--;he[2*Je+Ve]<ht;)Je++;for(;he[2*fr+Ve]>ht;)fr--}he[2*De+Ve]===ht?f(Q,he,De,fr):(fr++,f(Q,he,fr,Ue)),fr<=Me&&(De=fr+1),Me<=fr&&(Ue=fr-1)}}function f(Q,he,Me,De){p(Q,Me,De),p(he,2*Me,2*De),p(he,2*Me+1,2*De+1)}function p(Q,he,Me){var De=Q[he];Q[he]=Q[Me],Q[Me]=De}function S(Q,he){return Q=Q.geometry.coordinates,{x:Q[0]/360+.5,y:z(Q[1]),zoom:Infinity,index:he,parentId:-1}}function x(Q){var he=Q.id,Me=T(Q);return{type:"Feature",id:he,properties:Me,geometry:{type:"Point",coordinates:[360*(Q.x-.5),360*Math.atan(Math.exp((180-360*Q.y)*Math.PI/180))/Math.PI-90]}}}function T(Q){var he=Q.numPoints,Me=1e4<=he?Math.round(he/1e3)+"k":1e3<=he?Math.round(he/100)/10+"k":he;return G(G({},Q.properties),{cluster:!0,cluster_id:Q.id,point_count:he,point_count_abbreviated:Me})}function z(Q){return Q=Math.sin(Q*Math.PI/180),Q=.5-.25*Math.log((1+Q)/(1-Q))/Math.PI,0>Q?0:1<Q?1:Q}function G(Q,he){for(var Me in he)Q[Me]=he[Me];return Q}function P(Q){return Q.x}function D(Q){return Q.y}var U=function(he){return he[0]},V=function(he){return he[1]},J=function(he,Me,De,Ue,Ve){Me===void 0&&(Me=U),De===void 0&&(De=V),Ue===void 0&&(Ue=64),Ve===void 0&&(Ve=Float64Array),this.nodeSize=Ue,this.points=he;var ht=this.ids=new(65536>he.length?Uint16Array:Uint32Array)(he.length);Ve=this.coords=new Ve(2*he.length);for(var Je=0;Je<he.length;Je++)ht[Je]=Je,Ve[2*Je]=Me(he[Je]),Ve[2*Je+1]=De(he[Je]);h(ht,Ve,Ue,0,ht.length-1,0)};J.prototype.range=function(Q,he,Me,De){for(var Ue=this.ids,Ve=this.coords,ht=this.nodeSize,Je=[0,Ue.length-1,0],Er=[],fr,Pn;Je.length;){var yn=Je.pop(),Qr=Je.pop(),$n=Je.pop();if(Qr-$n<=ht)for(yn=$n;yn<=Qr;yn++)fr=Ve[2*yn],Pn=Ve[2*yn+1],fr>=Q&&fr<=Me&&Pn>=he&&Pn<=De&&Er.push(Ue[yn]);else{var zt=Math.floor(($n+Qr)/2);fr=Ve[2*zt],Pn=Ve[2*zt+1],fr>=Q&&fr<=Me&&Pn>=he&&Pn<=De&&Er.push(Ue[zt]);var Sr=(yn+1)%2;(yn===0?Q<=fr:he<=Pn)&&(Je.push($n),Je.push(zt-1),Je.push(Sr)),(yn===0?Me>=fr:De>=Pn)&&(Je.push(zt+1),Je.push(Qr),Je.push(Sr))}}return Er},J.prototype.within=function(Q,he,Me){for(var De=this.ids,Ue=this.coords,Ve=this.nodeSize,ht=[0,De.length-1,0],Je=[],Er=Me*Me;ht.length;){var fr=ht.pop(),Pn=ht.pop(),yn=ht.pop();if(Pn-yn<=Ve)for(fr=yn;fr<=Pn;fr++){yn=Ue[2*fr]-Q;var Qr=Ue[2*fr+1]-he;yn*yn+Qr*Qr<=Er&&Je.push(De[fr])}else{Qr=Math.floor((yn+Pn)/2);var $n=Ue[2*Qr],zt=Ue[2*Qr+1],Sr=$n-Q,Jn=zt-he;Sr*Sr+Jn*Jn<=Er&&Je.push(De[Qr]),Sr=(fr+1)%2,(fr===0?Q-Me<=$n:he-Me<=zt)&&(ht.push(yn),ht.push(Qr-1),ht.push(Sr)),(fr===0?Q+Me>=$n:he+Me>=zt)&&(ht.push(Qr+1),ht.push(Pn),ht.push(Sr))}}return Je};var ne={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(he){return he}},re=function(he){this.options=G(Hy(ne),he),this.trees=Array(this.options.maxZoom+1)};return re.prototype.load=function(Q){var he=this.options,Me=he.minZoom,De=he.maxZoom;he=he.nodeSize,this.points=Q;for(var Ue=[],Ve=0;Ve<Q.length;Ve++)Q[Ve].geometry&&Ue.push(S(Q[Ve],Ve));for(this.trees[De+1]=new J(Ue,P,D,he,Float32Array),Q=De;Q>=Me;Q--)Ue=this._cluster(Ue,Q),this.trees[Q]=new J(Ue,P,D,he,Float32Array);return this},re.prototype.getClusters=function(Q,he){var Me=((Q[0]+180)%360+360)%360-180,De=Math.max(-90,Math.min(90,Q[1])),Ue=Q[2]===180?180:((Q[2]+180)%360+360)%360-180,Ve=Math.max(-90,Math.min(90,Q[3]));if(360<=Q[2]-Q[0])Me=-180,Ue=180;else if(Me>Ue)return Me=this.getClusters([Me,De,180,Ve],he),De=this.getClusters([-180,De,Ue,Ve],he),Me.concat(De);he=this.trees[this._limitZoom(he)],Q=[];var ht=0;for(De=he.range(Me/360+.5,z(Ve),Ue/360+.5,z(De));ht<De.length;ht+=1)Ue=he.points[De[ht]],Q.push(Ue.numPoints?x(Ue):this.points[Ue.index]);return Q},re.prototype.getChildren=function(Q){var he=this._getOriginId(Q),Me=this._getOriginZoom(Q),De=this.trees[Me];if(!De)throw Error("No cluster with the specified id.");var Ue=De.points[he];if(!Ue)throw Error("No cluster with the specified id.");he=[];var Ve=0;for(Me=De.within(Ue.x,Ue.y,this.options.radius/(this.options.extent*Math.pow(2,Me-1)));Ve<Me.length;Ve+=1)Ue=De.points[Me[Ve]],Ue.parentId===Q&&he.push(Ue.numPoints?x(Ue):this.points[Ue.index]);if(he.length===0)throw Error("No cluster with the specified id.");return he},re.prototype.getLeaves=function(Q,he,Me){var De=[];return this._appendLeaves(De,Q,he||10,Me||0,0),De},re.prototype.getTile=function(Q,he,Me){var De=this.trees[this._limitZoom(Q)];Q=Math.pow(2,Q);var Ue=this.options;Ue=Ue.radius/Ue.extent;var Ve=(Me-Ue)/Q,ht=(Me+1+Ue)/Q,Je={features:[]};return this._addTileFeatures(De.range((he-Ue)/Q,Ve,(he+1+Ue)/Q,ht),De.points,he,Me,Q,Je),he===0&&this._addTileFeatures(De.range(1-Ue/Q,Ve,1,ht),De.points,Q,Me,Q,Je),he===Q-1&&this._addTileFeatures(De.range(0,Ve,Ue/Q,ht),De.points,-1,Me,Q,Je),Je.features.length?Je:null},re.prototype.getClusterExpansionZoom=function(Q){for(var he=this._getOriginZoom(Q)-1;he<=this.options.maxZoom&&(Q=this.getChildren(Q),he++,Q.length===1);)Q=Q[0].properties.cluster_id;return he},re.prototype._appendLeaves=function(Q,he,Me,De,Ue){var Ve=0;for(he=this.getChildren(he);Ve<he.length;Ve+=1){var ht=he[Ve],Je=ht.properties;if(Je&&Je.cluster?Ue=Ue+Je.point_count<=De?Ue+Je.point_count:this._appendLeaves(Q,Je.cluster_id,Me,De,Ue):Ue<De?Ue++:Q.push(ht),Q.length===Me)break}return Ue},re.prototype._addTileFeatures=function(Q,he,Me,De,Ue,Ve){for(var ht=0;ht<Q.length;ht+=1){var Je=he[Q[ht]],Er=Je.numPoints,fr={type:1,geometry:[[Math.round(this.options.extent*(Je.x*Ue-Me)),Math.round(this.options.extent*(Je.y*Ue-De))]],tags:Er?T(Je):this.points[Je.index].properties},Pn=void 0;Er?Pn=Je.id:this.options.generateId?Pn=Je.index:this.points[Je.index].id&&(Pn=this.points[Je.index].id),Pn!==void 0&&(fr.id=Pn),Ve.features.push(fr)}},re.prototype._limitZoom=function(Q){return Math.max(this.options.minZoom,Math.min(+Q,this.options.maxZoom+1))},re.prototype._cluster=function(Q,he){var Me=[],De=this.options,Ue=De.reduce,Ve=De.minPoints;De=De.radius/(De.extent*Math.pow(2,he));for(var ht=0;ht<Q.length;ht++){var Je=Q[ht];if(!(Je.zoom<=he)){Je.zoom=he;for(var Er=this.trees[he+1],fr=Er.within(Je.x,Je.y,De),Pn=Je.numPoints||1,yn=Pn,Qr=0,$n=fr;Qr<$n.length;Qr+=1){var zt=Er.points[$n[Qr]];zt.zoom>he&&(yn+=zt.numPoints||1)}if(yn>=Ve){Qr=Je.x*Pn,$n=Je.y*Pn,Pn=Ue&&1<Pn?this._map(Je,!0):null,zt=(ht<<5)+(he+1)+this.points.length;for(var Sr=0;Sr<fr.length;Sr+=1){var Jn=Er.points[fr[Sr]];if(!(Jn.zoom<=he)){Jn.zoom=he;var Ii=Jn.numPoints||1;Qr+=Jn.x*Ii,$n+=Jn.y*Ii,Jn.parentId=zt,Ue&&(Pn||(Pn=this._map(Je,!0)),Ue(Pn,this._map(Jn)))}}Je.parentId=zt,Me.push({x:Qr/yn,y:$n/yn,zoom:Infinity,id:zt,parentId:-1,numPoints:yn,properties:Pn})}else if(Me.push(Je),1<yn)for(Je=0,yn=fr;Je<yn.length;Je+=1)fr=Er.points[yn[Je]],fr.zoom<=he||(fr.zoom=he,Me.push(fr))}}return Me},re.prototype._getOriginId=function(Q){return Q-this.points.length>>5},re.prototype._getOriginZoom=function(Q){return(Q-this.points.length)%32},re.prototype._map=function(Q,he){if(Q.numPoints)return he?G({},Q.properties):Q.properties;Q=this.points[Q.index].properties;var Me=this.options.map(Q);return he&&Me===Q?G({},Me):Me},re})}),Ih=function(C){function o(h){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h)),h.shapeLayer=new y0(h.options),h.textLayer=new S0(h.options.textOptions),h.children=[h.shapeLayer,h.textLayer],h.max=[],h}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{size:50,height:0,maxZoom:19,minZoom:5,gradient:{0:"rgb(50, 50, 256)","0.1":"rgb(50, 250, 56)","0.5":"rgb(250, 250, 56)",1:"rgb(250, 50, 56)"},enableCluster:!1,showText:!0,textOptions:{fontSize:13,color:"white"}}}},{key:"onOptionsChanged",value:function(u){this.textLayer.setOptions(u.textOptions)}},{key:"setOptions",value:function(){var u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},f=this.options.textOptions;u.textOptions&&_o(f,u.textOptions);var p=u.minZoom,S=u.maxZoom,x=u.size;p=S&&S!==this.options.maxZoom||p&&p!==this.options.minZoom||x&&x!==this.options.size,_o(this.options,u,{textOptions:f}),p?this.onChanged(this.options,this.data):this.refreshLayer(),this.onOptionsChanged(this.getOptions())}},{key:"onChanged",value:function(u,f){if(f&&f.length){this.zoom=Math.floor(this.map.getZoom());var p=u.maxZoom,S=u.minZoom,x=u.enableCluster;u=u.size,this.zoom>p?this.zoom=p:this.zoom<S&&(this.zoom=S),x&&(this.supercluster=new zl({maxZoom:p,minZoom:S,radius:u/2}),this.supercluster.load(f)),this.refreshLayer()}}},{key:"refreshLayer",value:function(){var u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.options,f=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.data,p=this.map,S=this.zoom;if(u.enableCluster&&this.supercluster&&(f=this.getClusterData(u)),f&&f.length){var x=u.gradient,T=u.showText,z=u.textOptions,G=u.height,P=u.size;P*=Math.pow(2,18-S),f=cg(f,P,function(V){var J=ms(V,2),ne=J[0];return J=J[1],-180<=ne&&180>=ne&&-90<=J&&90>=J&&(J=p.lnglatToMercator(ne,J),ne=J[0],J=J[1]),V[0]=ne,V[1]=J,V}),this.max[S]=Math.max(this.max[S]||0,f.max);var D=new Dt({max:this.max[S],min:0,maxSize:G*Math.pow(2,18-S),minSize:0,gradient:x});if(x=[],T){var U=z&&z.format;U=typeof U=="function"?U:null,x=f.map(function(V){return{geometry:{coordinates:[V.center.x,V.center.y,D.getSize(V.count)+z.fontSize/2*Math.pow(2,18-S)]},text:U?U(V.count):V.count}})}this.textLayer.setData(x),T=f.map(function(V){for(var J=V.center,ne=f.r,re=[],Q=0;6>Q;Q++)re.push(nx({x:J.x,y:J.y},ne,Q));return{geometry:{type:"Polygon",coordinates:[re]},properties:{height:D.getSize(V.count),color:D.getColor(V.count)}}}),this.shapeLayer.setData(T),u.enablePicked&&u.autoSelect&&this.pick(-1,-1)}}},{key:"getClusterData",value:function(){var u=this.map,f=u.getBounds(),p=f.ne;f=f.sw,this.ne=p,this.sw=f;var S=p,x=S.lng;S=S.lat;var T=[];return-180<=x&&180>=x&&-90<=S&&90>=S?T=[f.lng,f.lat,p.lng,p.lat]:(p=u.mercatorToLnglat(this.ne.lng,this.ne.lat),f=u.mercatorToLnglat(this.sw.lng,this.sw.lat),T=f.concat(p)),this.supercluster.getClusters(T,this.zoom).map(function(z){var G=0;return z.properties&&z.properties.point_count&&(G=z.properties.point_count),{geometry:z.geometry,count:G}})}},{key:"pick",value:function(u,f){return this.shapeLayer.pick(u,f)}},{key:"shouldUpdate",value:function(){if(!this.data)return!1;var u=this.map,f=Math.floor(u.getZoom()),p=this.options,S=p.maxZoom;if(p=p.minZoom,f>S?f=S:f<p&&(f=p),this.zoom!==f)return this.zoom=f,!0;if(!this.options.enableCluster||(f=u.getBounds(),u=f.ne,f=f.sw,!(u&&f&&this.ne&&this.sw)))return!1;if(this.ne.lng!==u.lng||this.ne.lat!==u.lat||this.sw.lng!==f.lng||this.sw.lat!==f.lat)return!0}},{key:"render",value:function(u){this.shouldUpdate()?this.refreshLayer():ac(o.prototype.__proto__||ri(o.prototype),"render",this).call(this,u)}}]),o}(Bu),Sf=function(){function C(o,h){On(this,C),this.map=o,this.options=h||{},this.eventMap={}}return Qn(C,[{key:"onResize",value:function(h){}},{key:"onUpdate",value:function(h){throw"\u672A\u5B9E\u73B0onUpdate\u65B9\u6CD5"}},{key:"getContainer",value:function(){throw"\u672A\u5B9E\u73B0getContainer\u65B9\u6CD5"}},{key:"getSize",value:function(){throw"\u672A\u5B9E\u73B0getSize\u65B9\u6CD5"}},{key:"getTilt",value:function(){throw"\u672A\u5B9E\u73B0getTilt\u65B9\u6CD5"}},{key:"getHeading",value:function(){throw"\u672A\u5B9E\u73B0getHeading\u65B9\u6CD5"}},{key:"getZoomUnits",value:function(){throw"\u672A\u5B9E\u73B0getZoomUnits\u65B9\u6CD5"}},{key:"getCenter",value:function(){throw"\u672A\u5B9E\u73B0getCenter\u65B9\u6CD5"}},{key:"getMapType",value:function(){throw"\u672A\u5B9E\u73B0getMapType\u65B9\u6CD5"}},{key:"lnglatToMercator",value:function(h,u){return this.options.coordinateSystem==="gcj02"?(u=u*Math.PI/180,u=31890685e-1*Math.log((1+Math.sin(u))/(1-Math.sin(u))),[parseFloat((h*Math.PI/180*6378137).toFixed(2)),parseFloat(u.toFixed(2))]):(h=Ni.convertLL2MC({lng:h,lat:u}),[h.lng,h.lat])}}]),C}(),Xc=function(C){function o(h){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h)),h.eventMap={},h}return ji(o,C),Qn(o,[{key:"onResize",value:function(u){this.map.addEventListener("resize",u),this.eventMap.resize=u}},{key:"onMousemove",value:function(u){u=this.extendCallback(u),this.map.addEventListener("mousemove",u),this.eventMap.mousemove=u}},{key:"onClick",value:function(u){u=this.extendCallback(u),this.map.addEventListener("click",u),this.eventMap.click=u}},{key:"onDblClick",value:function(u){u=this.extendCallback(u),this.map.addEventListener("dblclick",u),this.eventMap.dblclick=u}},{key:"onRightClick",value:function(u){u=this.extendCallback(u),this.map.addEventListener("rightclick",u),this.eventMap.rightclick=u}},{key:"onUpdate",value:function(u){this.map.addEventListener("update",u),this.map.addEventListener("onearthstatuschange",u),this.eventMap.update=u,this.eventMap.onearthstatuschange=u}},{key:"extendCallback",value:function(u){return function(f){u(_o(f,{x:f.x,y:f.y}))}}},{key:"unbind",value:function(){var u=this;Gs(this.eventMap).forEach(function(f){u.map.removeEventListener(f,u.eventMap[f])}),this.eventMap={}}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getSize",value:function(){return this.map.getSize()}},{key:"getBounds",value:function(){return this.map.getBounds()}},{key:"getTilt",value:function(){return this.map.getTilt()}},{key:"getHeading",value:function(){return this.map.getHeading()}},{key:"getZoomUnits",value:function(){return this.map.getZoomUnits()}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"getCenter",value:function(){var u=this.map.getCenter();return-180<=u.lng&&180>=u.lng&&(u=this.map.lnglatToMercator(u.lng,u.lat),u={lng:u[0],lat:u[1]}),u}},{key:"getMapType",value:function(){return this.map.getMapType()}},{key:"lnglatToMercator",value:function(u,f){return this.map.lnglatToMercator(u,f)}},{key:"mercatorToLnglat",value:function(u,f){return this.map.mercatorToLnglat(u,f)}}]),o}(Sf),dp=function(C){function o(h){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h)),h.div=document.createElement("div"),h.div.style.position="absolute",h.div.style.userSelect="none",h.map.getPanes().mapPane.appendChild(h.div),h.eventMap={},h}return ji(o,C),Qn(o,[{key:"onResize",value:function(u){this.map.addEventListener("resize",u),this.eventMap.resize=u}},{key:"onMousemove",value:function(u){u=this.extendCallback(u),this.map.addEventListener("mousemove",u),this.eventMap.mousemove=u}},{key:"onClick",value:function(u){u=this.extendCallback(u),pf?(this.map.addEventListener("touchend",u),this.eventMap.touchend=u):(this.map.addEventListener("click",u),this.eventMap.click=u)}},{key:"onDblClick",value:function(u){u=this.extendCallback(u),this.map.addEventListener("dblclick",u),this.eventMap.dblclick=u}},{key:"onRightClick",value:function(u){u=this.extendCallback(u),this.map.addEventListener("rightclick",u),this.eventMap.rightclick=u}},{key:"changeCanvas",value:function(){var u=this.map,f=u.getSize(),p=u.getCenter();u=u.pointToOverlayPixel(p),this.div.style.left=u.x-f.width/2+"px",this.div.style.top=u.y-f.height/2+"px"}},{key:"onUpdate",value:function(u){var f=this,p=function(){f.changeCanvas(),u()};this.map.addEventListener("moveend",p),this.map.addEventListener("moving",p),this.map.addEventListener("zoomend",p),this.eventMap.moveend=p,this.eventMap.moving=p,this.eventMap.zoomend=p}},{key:"extendCallback",value:function(u){return function(f){u(_o(f,{x:f.pixel.x,y:f.pixel.y}))}}},{key:"unbind",value:function(){var u=this;Gs(this.eventMap).forEach(function(f){u.map.removeEventListener(f,u.eventMap[f])}),this.eventMap={}}},{key:"getContainer",value:function(){return this.div}},{key:"getSize",value:function(){return this.map.getSize()}},{key:"getBounds",value:function(){return this.map.getBounds()}},{key:"getTilt",value:function(){return 0}},{key:"getHeading",value:function(){return 0}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"getZoomUnits",value:function(){return Math.pow(2,18-this.map.getZoom())}},{key:"getCenter",value:function(){var u=this.map.getMapType().getProjection().lngLatToPoint(this.map.getCenter());return{lng:u.x,lat:u.y}}},{key:"lnglatToMercator",value:function(u,f){return u=this.map.getMapType().getProjection().lngLatToPoint({lng:u,lat:f}),[u.x,u.y]}},{key:"mercatorToLnglat",value:function(u,f){return u=this.map.getMapType().getProjection().pointToLngLat({lng:u,lat:f}),[u.lng,u.lat]}}]),o}(Sf),Yg=function(C){function o(h){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h)),h.eventMap={},h}return ji(o,C),Qn(o,[{key:"onResize",value:function(u){window.addEventListener("resize",u),this.eventMap.resize=u}},{key:"onUpdate",value:function(u){}},{key:"unbind",value:function(){var u=this;Gs(this.eventMap).forEach(function(f){window.removeEventListener(f,u.eventMap[f])}),this.eventMap={}}},{key:"getContainer",value:function(){return this.map.container.getElementsByClassName("cesium-widget")[0]}},{key:"getSize",value:function(){var u=this.map;return{width:u.canvas.clientWidth,height:u.canvas.clientHeight}}},{key:"getTilt",value:function(){return 180*this.map.camera.pitch/Math.PI+90}},{key:"getHeading",value:function(){return 360-180*this.map.camera.heading/Math.PI}},{key:"getZoomUnits",value:function(){var u=this.map;return 6.8*u.scene.globe.ellipsoid.cartesianToCartographic(u.camera.position).height/6500}},{key:"getZoom",value:function(){return 10}},{key:"getCenter",value:function(){var u=this.map;return u=u.camera.pickEllipsoid(new Cesium.Cartesian2(u.canvas.clientWidth/2,u.canvas.clientHeight/2)),u=Cesium.Ellipsoid.WGS84.cartesianToCartographic(u),u=this.getMercator([180*u.longitude/Math.PI,180*u.latitude/Math.PI]),{lng:u[0],lat:u[1]}}},{key:"getMercator",value:function(u){var f=[];return f[0]=u[0]*Math.PI/180*6378137,u=u[1]*Math.PI/180,f[1]=31890685e-1*Math.log((1+Math.sin(u))/(1-Math.sin(u))),f}}]),o}(Sf),_0=function(C){function o(h){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h)),h.eventMap={},h}return ji(o,C),Qn(o,[{key:"onResize",value:function(u){window.addEventListener("resize",u),this.eventMap.resize=u}},{key:"onUpdate",value:function(u){}},{key:"unbind",value:function(){var u=this;Gs(this.eventMap).forEach(function(f){window.removeEventListener(f,u.eventMap[f])}),this.eventMap={}}},{key:"getContainer",value:function(){return this.map.container}},{key:"getSize",value:function(){return{width:this.map.container.clientWidth,height:this.map.container.clientHeight}}},{key:"getTilt",value:function(){return this.map.tilt}},{key:"getHeading",value:function(){return this.map.heading}},{key:"getZoomUnits",value:function(){return this.map.zoomUnits}},{key:"getCenter",value:function(){return this.map.center}}]),o}(Sf),M0=function(C){function o(h,u){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h,u)),h.eventMap={},h}return ji(o,C),Qn(o,[{key:"onResize",value:function(u){window.addEventListener("resize",u),this.eventMap.resize=u}},{key:"onUpdate",value:function(u){}},{key:"unbind",value:function(){var u=this;Gs(this.eventMap).forEach(function(f){window.removeEventListener(f,u.eventMap[f])}),this.eventMap={}}},{key:"getContainer",value:function(){return this.map.container}},{key:"getSize",value:function(){return{width:this.map.container.clientWidth,height:this.map.container.clientHeight}}},{key:"getTilt",value:function(){return this.map.tilt}},{key:"getHeading",value:function(){return this.map.heading}},{key:"getZoomUnits",value:function(){return this.map.zoomUnits}},{key:"getCenter",value:function(){return this.map.center}}]),o}(Sf),i1=function(){function C(o,h){On(this,C),h=h||{},h.mapType==="bmap"?this.map=new dp(o,h):h.mapType==="blank"?this.map=new _0(o,h):h.mapType==="cesium"?this.map=new Yg(o,h):h.mapType==="three"?this.map=new M0(o,h):(h.mapType="bmapgl",this.map=new Xc(o,h)),this.map.type=h.mapType,this.options=h||{},this.renderArr=[],(o=h.canvas)||(o=document.createElement("canvas")),this.canvas=o,this.gl=h.gl?h.gl:Sn(o),this.gl.getExtension("OES_element_index_uint"),this.changeSize(),this.projectionMatrix=dn.create(Float64Array),this.orthoMatrix=dn.create(Float64Array),this.matrix=dn.create(Float64Array),this.viewMatrix=dn.create(Float64Array),this.pointToPixelMatrix=dn.create(Float64Array),this.pixelToViewMatrix=dn.create(Float64Array),this.fovy=35,this._animation=this.animation.bind(this),this._update=this.update.bind(this),this.onInitialize(this.options.onInitialize),this.options.onRender&&this.renderArr.push(this.options.onRender),this.stateManager=new pm({gl:this.gl}),this.pickFBO=new Bs(this.gl),this.transferOptions={},this.bind()}return Qn(C,[{key:"bind",value:function(){var h=this,u=this.map;u.onResize(function(){h.changeSize(),h.render()}),u.onUpdate(this._update),u.onClick&&u.onClick(function(f){h.onClick&&h.onClick(f)}),u.onDblClick&&u.onDblClick(function(f){h.onDblClick&&h.onDblClick(f)}),u.onRightClick&&u.onRightClick(function(f){h.onRightClick&&h.onRightClick(f)}),u.onMousemove&&u.onMousemove(function(f){h.onMousemove&&h.onMousemove(f)}),this.options.canvas||u.getContainer().appendChild(this.canvas)}},{key:"unbind",value:function(){var h=this.map;h.unbind&&h.unbind()}},{key:"setOptions",value:function(h){this.options=h}},{key:"onInitialize",value:function(h){h&&(this.transferOptions=h.bind(this)(this.gl)||{})}},{key:"bindFramebuffer",value:function(h){var u=this.gl;h?u.bindFramebuffer(u.FRAMEBUFFER,h.framebuffer):u.bindFramebuffer(u.FRAMEBUFFER,null)}},{key:"saveFramebuffer",value:function(){var h=this.gl;this.preFramebuffer=h.getParameter(h.FRAMEBUFFER_BINDING)}},{key:"restoreFramebuffer",value:function(){var h=this.gl;h.bindFramebuffer(h.FRAMEBUFFER,this.preFramebuffer)}},{key:"onRender",value:function(h){this.renderArr.push(h)}},{key:"changeSize",value:function(){var h=this.canvas;if(h){var u=h.style,f=this.map.getSize(),p=window.devicePixelRatio;h.width=f.width*p,h.height=f.height*p,u.cssText="position: absolute;left:0;top:0;width:"+f.width+"px;height:"+f.height+"px;z-index:2;",f=this.options,f.mapType!=="cesium"||f.canvas||(u.pointerEvents="none"),this.gl.viewport(0,0,h.width,h.height)}}},{key:"update",value:function(){this.options.autoUpdate===!1||this.isAnimation||this.render()}},{key:"render",value:function(){if(this.map){var h=this.options,u=this.projectionMatrix,f=this.viewMatrix;if(h.mapType==="three")f=this.map.map.camera,u=f.projectionMatrix.elements,f=f.matrixWorldInverse.elements;else if(h.mapType==="cesium"){f=this.map.map;var p=f.camera.frustum.projectionMatrix;u=new Float32Array([p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]]),p=f.camera.viewMatrix,f=new Float32Array([p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]])}else this.map.map.mapType==="B_EARTH_MAP"?(u=this.map.map.getEarth().scene._camera.getProjectionMatrix(),f=this.map.map.getEarth().scene._camera.getModelViewMatrix()):(this.updateProjectionMatrix(),this.updateModelViewMatrix());for(p=dn.multiply(this.matrix,u,f),_o(this.transferOptions,{gl:this.gl,matrix:p,pointToPixelMatrix:this.pointToPixelMatrix,pixelToViewMatrix:this.pixelToViewMatrix,projectionMatrix:u,orthoMatrix:this.orthoMatrix,viewMatrix:f,stateManager:this.stateManager}),h.mapType!=="three"&&h.mapType!=="cesium"&&h.autoUpdate!==!1&&this.clear(),h=0;h<this.renderArr.length;h++)this.renderArr[h]&&this.renderArr[h].bind(this)(this.transferOptions)}}},{key:"clear",value:function(h){var u=this.gl,f=this.options.clearColor||[0,0,0,0];u.clearColor(f[0],f[1],f[2],f[3]),h&&(h instanceof Array||(h=xe(h).unitArray()),u.clearColor(h[0],h[1],h[2],h[3])),u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT)}},{key:"updateProjectionMatrix",value:function(){var h=this.gl.canvas.width/this.gl.canvas.height,u=this.options.cameraNear||1,f=this.options.cameraFar||4e3;dn.perspective(this.projectionMatrix,st(this.fovy),h,u,f),h=this.map.getSize(),dn.ortho(this.orthoMatrix,-h.width/2,h.width/2,-h.height/2,h.height/2,u,f)}},{key:"updateModelViewMatrix",value:function(){var h=this.map,u=this.viewMatrix,f=this.pointToPixelMatrix,p=this.pixelToViewMatrix;dn.identity(u),dn.identity(f),dn.identity(p);var S=h.getSize();S=Math.round(-S.height/(2*Math.tan(st(this.fovy)/2))),dn.translate(p,p,[0,0,S]),dn.rotate(p,p,st(h.getTilt()),[-1,0,0]),dn.rotate(p,p,st(h.getHeading()),[0,0,-1]),S=h.getCenter();var x=this.options.pointOffset||[0,0];h=h.getZoomUnits(),dn.translate(f,f,[(x[0]-S.lng)/h,(x[1]-S.lat)/h,0]),h=1/h,dn.scale(f,f,[h,h,h]),dn.multiply(u,p,f)}},{key:"destroy",value:function(){this.stopAnimation(),this.unbind();var h=this.gl.getExtension("WEBGL_lose_context");h&&h.loseContext(),this.map.getContainer().removeChild(this.canvas),this.canvas=null}},{key:"animation",value:function(){this.isAnimation&&(this.render(),window.requestAnimationFrame(this._animation))}},{key:"startAnimation",value:function(){this.isAnimation||(this.isAnimation=!0,window.requestAnimationFrame(this._animation))}},{key:"stopAnimation",value:function(){this.isAnimation=!1}}]),C}(),vd=function(C){function o(h){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h)),h.bufferData=[],h}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{color:[.1,.1,.9,1],blend:"normal",shape:"circle",size:5,unit:"px",borderWidth:0,borderColor:[1,1,1,.9],polygonOffset:[0,0]}}},{key:"initialize",value:function(u){this.gl=u;var f=this.getOptions(),p=[];f.enablePicked&&p.push("PICK"),f.shape&&f.shape==="circle"&&p.push("SHAPE_CIRCLE"),this.program=new yo(this.gl,{vertexShader:`attribute vec3 aPos;attribute vec4 aColor;attribute float aSize;attribute float aBorderWidth;attribute vec4 aBorderColor;uniform mat4 uMatrix;uniform vec4 uSelectedColor;uniform bool uUnitPx;uniform float zoomUnits;uniform float devicePixelRatio;varying vec4 vColor;varying float vSize;varying float vBorderWidth;varying vec4 vBorderColor;void main(void){if(aColor.w>=0.0&&aColor.w<=1.0){vColor=aColor;}else{vColor=vec4(aColor.xyz,1.0);}float size=aSize*devicePixelRatio;float borderWidth=aBorderWidth*devicePixelRatio;gl_Position=uMatrix*vec4(aPos.xyz,1.0);gl_PointSize=uUnitPx ? size : size/zoomUnits;vSize=size;vBorderWidth=borderWidth;vBorderColor=aBorderColor;
#if defined(PICK)
if(mapvIsPicked()){vColor=uSelectedColor;}
#endif
}`,fragmentShader:`varying vec4 vColor;varying float vSize;varying float vBorderWidth;varying vec4 vBorderColor;void main(void){vec4 color=vColor;
#if defined(SHAPE_CIRCLE)
float d=distance(gl_PointCoord,vec2(0.5,0.5));float ratio=1.0-vBorderWidth/vSize*2.0;if(d>0.5){discard;}if(d>ratio*0.5){color=vBorderColor;}float blur=1.0;blur=1.0-smoothstep(0.49,0.5,d);color.a*=blur;
#else
float ratio=vBorderWidth/vSize;if(gl_PointCoord.x<ratio||gl_PointCoord.x>1.0-ratio||gl_PointCoord.y<ratio||gl_PointCoord.y>1.0-ratio){color=vBorderColor;}
#endif
gl_FragColor=color;}`,defines:p},this),this.buffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),f=[{stride:52,name:"aPos",buffer:this.buffer,size:3,type:"FLOAT",offset:0},{stride:52,name:"aColor",buffer:this.buffer,size:4,type:"FLOAT",offset:12},{stride:52,name:"aSize",buffer:this.buffer,size:1,type:"FLOAT",offset:28},{stride:52,name:"aBorderWidth",buffer:this.buffer,size:1,type:"FLOAT",offset:32},{stride:52,name:"aBorderColor",buffer:this.buffer,size:4,type:"FLOAT",offset:36}],f=f.concat(this.getCommonAttributes()),this.vertexArray=new La({gl:u,program:this.program,attributes:f})}},{key:"destroy",value:function(){this.options&&this.options.enablePicked&&(this.pickBuffer=null),this.options=this.data=this.buffer=this.program=this.bufferData=this.vertexArray=null}},{key:"onChanged",value:function(u,f){if(this.gl){for(var p=[],S=u.color,x=u.size,T=u.borderWidth,z=u.borderColor,G=0;G<f.length;G++){var P=this.normizedPoint(f[G].geometry.coordinates),D=this.getProperty("color",S,f[G]);D=this.normizedColor(D);var U=this.getProperty("size",x,f[G]);U=Number(U);var V=this.getProperty("borderWidth",T,f[G]);V=Number(V);var J=this.getProperty("borderColor",z,f[G]);J=this.normizedColor(J),P=this.addMultipleCoords(P);for(var ne=0;ne<P.length;ne++){var re=P[ne];p.push(re[0],re[1],Number(re[2]||0)),p.push(D[0],D[1],D[2],D[3]),p.push(U),p.push(V,J[0],J[1],J[2],J[3])}}this.bufferData=p,this.buffer.updateData(new Float32Array(p)),u.enablePicked&&this.parsePickData(f)}}},{key:"parsePickData",value:function(u){var f=this.getOptions(),p=[];if(f.enablePicked)for(var S=0;S<u.length;S++){var x=this.indexToRgb(S);p.push(x[0]/255,x[1]/255,x[2]/255),f.repeat&&(p.push(x[0]/255,x[1]/255,x[2]/255),p.push(x[0]/255,x[1]/255,x[2]/255))}f.enablePicked&&this.pickBuffer.updateData(new Float32Array(p))}},{key:"render",value:function(u){var f=u.gl,p=u.matrix,S=u.isPickRender;if(!(0>=this.bufferData.length)){var x=this.getOptions(),T=this.program;T.use(f),this.vertexArray.bind(),u=this.getCommonUniforms(u),u=_o(u,{uMatrix:p,uUnitPx:x.unit==="px",zoomUnits:this.map.getZoomUnits(),devicePixelRatio:window.devicePixelRatio}),T.setUniforms(u),p=x.blend,S?f.disable(f.BLEND):(f.enable(f.BLEND),f.blendEquation(f.FUNC_ADD),p&&p==="lighter"?f.blendFunc(f.SRC_ALPHA,f.ONE):f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA)),f.enable(f.POLYGON_OFFSET_FILL),f.polygonOffset(x.polygonOffset[0],x.polygonOffset[1]),x.depthTest===!1&&f.disable(f.DEPTH_TEST),f.drawArrays(f.POINTS,0,this.bufferData.length/13),f.disable(f.POLYGON_OFFSET_FILL),x.depthTest===!1&&f.enable(f.DEPTH_TEST)}}}]),o}(fa),o1=function(C){function o(h,u){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h,u)),h.bufferDataArr=[],h.indexDataArr=[],h.vertexBuffer=[],h.indexBuffer=[],h.position=[],h.opacity=1,h.currentScale=1,h.autoUpdate=!0,h}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{color:[.1,.1,.9,1],size:5,segs:32,scale:2,unit:"m",step:.1}}},{key:"initialize",value:function(u){this.gl=u,this.program=new yo(this.gl,{vertexShader:"uniform mat4 u_projectionMatrix;uniform mat4 u_modelViewMatrix;uniform mat4 u_modelMatrix;uniform float u_opacity;attribute vec4 aPos;attribute vec4 aColor;varying vec4 vColor;void main(){vColor=aColor;vColor.a=u_opacity;gl_Position=u_projectionMatrix*u_modelViewMatrix*u_modelMatrix*vec4(aPos.xyz,1.0);}",fragmentShader:"precision highp float;varying vec4 vColor;void main(){if(vColor.a==0.0){discard;}gl_FragColor=vColor;}"})}},{key:"destroy",value:function(){this.data=this.program=this.position=this.indexBuffer=this.vertexBuffer=this.indexDataArr=this.bufferDataArr=null}},{key:"onChanged",value:function(u,f){var p=this.gl;if(p&&(this.currentScale=this.opacity=1,(this.data=f)&&f.length)){var S=u.color,x=u.segs;u=u.size;for(var T=360/x,z=0;z<f.length;z++){var G=[],P=[],D=this.normizedPoint(f[z].geometry.coordinates),U=S;Object.prototype.toString.call(U)==="[object Function]"?U=U(f[z]):(U=f[z].color||S,"properties"in f[z]&&"color"in f[z].properties&&(U=f[z].properties.color)),U=this.normizedColor(U);var V=Object.prototype.toString.call(u)==="[object Function]"?u(f[z]):Number(u),J=D[0],ne=D[1];G.push(0,0,-.5),G.push(U[0],U[1],U[2],0);for(var re=1,Q=0;re<=x;re++,Q+=T)G.push(D[0]-J+Math.cos(Math.PI/180*Q)*V,D[1]-ne+Math.sin(Math.PI/180*Q)*V,-.5),G.push(U[0],U[1],U[2],this.opacity),re===x?P.push(0,0+re,1):P.push(0,0+re,0+re+1);U=p.createBuffer(),p.bindBuffer(p.ARRAY_BUFFER,U),p.bufferData(p.ARRAY_BUFFER,new Float32Array(G),p.STATIC_DRAW),this.vertexBuffer[z]=U,this.bufferDataArr[z]=G,p.bindBuffer(p.ARRAY_BUFFER,null),G=p.createBuffer(),p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,G),p.bufferData(p.ELEMENT_ARRAY_BUFFER,new Uint16Array(P),p.STATIC_DRAW),this.indexBuffer[z]=G,this.indexDataArr[z]=P,p.bindBuffer(p.ELEMENT_ARRAY_BUFFER,null),this.position[z]=[D[0],D[1]]}this.webglLayer&&this.webglLayer.render()}}},{key:"render",value:function(u){var f=u.gl,p=u.projectionMatrix,S=u.viewMatrix;for(u=this.program,f.useProgram(u.program),f.uniformMatrix4fv(u.uniforms.u_projectionMatrix,!1,p),f.uniformMatrix4fv(u.uniforms.u_modelViewMatrix,!1,S),p=this.opacity,this.options.opacity!==void 0&&(p=this.options.opacity),f.uniform1f(u.uniforms.u_opacity,p),f.enable(f.BLEND),f.blendFunc(f.SRC_ALPHA,f.DST_ALPHA),f.blendEquation(f.FUNC_ADD),f.enableVertexAttribArray(u.attributes.aPos),f.enableVertexAttribArray(u.attributes.aColor),p=0;p<this.bufferDataArr.length;p++)if(!(0>=this.bufferDataArr[p].length)){S=new Float32Array(this.bufferDataArr[p]).BYTES_PER_ELEMENT,f.bindBuffer(f.ARRAY_BUFFER,this.vertexBuffer[p]),f.vertexAttribPointer(u.attributes.aColor,4,f.FLOAT,!1,7*S,3*S),f.vertexAttribPointer(u.attributes.aPos,3,f.FLOAT,!1,7*S,0),S=this.position[p];var x=dn.create(),T=[this.currentScale,this.currentScale,this.currentScale];this.options.unit==="px"&&this.map&&(T=this.map.getZoomUnits(),T=[this.currentScale*T,this.currentScale*T,this.currentScale]),dn.identity(x),dn.translate(x,x,[S[0],S[1],0]),dn.scale(x,x,T),f.uniformMatrix4fv(u.uniforms.u_modelMatrix,!1,x),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,this.indexBuffer[p]),f.drawElements(f.TRIANGLES,this.indexDataArr[p].length,f.UNSIGNED_SHORT,0),f.bindBuffer(f.ARRAY_BUFFER,null),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,null)}f.disable(f.BLEND),p=this.getOptions(),u=p.scale,p=p.step,this.opacity-=p/10,this.currentScale+=u*p,0>this.opacity&&(this.currentScale=this.opacity=1),f.useProgram(null)}}]),o}(fa),Uu=function(C){function o(h){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h)),h.bufferData=[],h.date=new Date,h.autoUpdate=!0,h}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{color:[.1,.1,.9,1],blend:"normal",size:20,unit:"px",duration:2}}},{key:"initialize",value:function(u){this.gl=u;var f=this.getOptions();this.program=new yo(this.gl,{vertexShader:`attribute vec3 aPos;attribute vec4 aColor;attribute float aSize;uniform mat4 uMatrix;uniform vec4 uSelectedColor;uniform float uTime;uniform float duration;uniform float zoomUnits;varying vec4 vColor;void main(void){if(aColor.w>=0.0&&aColor.w<=1.0){vColor=aColor;}else{vColor=vec4(aColor.xyz,1.0);}float percent=mod(uTime,duration)/duration;vColor.a=1.-percent;gl_Position=uMatrix*vec4(aPos.xyz,1.0);gl_PointSize=aSize/zoomUnits*percent;
#if defined(PICK)
if(mapvIsPicked()){vColor=uSelectedColor;}
#endif
}`,fragmentShader:"varying vec4 vColor;void main(void){vec4 color=vColor;float d=distance(gl_PointCoord,vec2(0.5,0.5));if(d>0.5){discard;}float blur=1.0;blur=1.0-smoothstep(0.49,0.5,d);color.a*=blur;gl_FragColor=color;}",defines:f.enablePicked?["PICK"]:[]},this),this.buffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),f=[{stride:32,name:"aPos",buffer:this.buffer,size:3,type:"FLOAT",offset:0},{stride:32,name:"aColor",buffer:this.buffer,size:4,type:"FLOAT",offset:12},{stride:32,name:"aSize",buffer:this.buffer,size:1,type:"FLOAT",offset:28}],f=f.concat(this.getCommonAttributes()),this.vertexArray=new La({gl:u,program:this.program,attributes:f})}},{key:"destroy",value:function(){this.options&&this.options.enablePicked&&(this.pickBuffer=null),this.options=this.data=this.buffer=this.program=this.bufferData=this.vertexArray=null}},{key:"onChanged",value:function(u,f){if(this.gl){for(var p=[],S=u.color,x=u.size,T=0;T<f.length;T++){var z=f[T].geometry.coordinates,G=S;Object.prototype.toString.call(G)==="[object Function]"?G=G(f[T]):(G=f[T].color||S,"properties"in f[T]&&"color"in f[T].properties&&(G=f[T].properties.color)),G=this.normizedColor(G),z=this.normizedPoint(z);var P=f[T].size||x;"properties"in f[T]&&"size"in f[T].properties&&(P=f[T].properties.size),P=Object.prototype.toString.call(P)==="[object Function]"?P(f[T]):Number(P),p.push(z[0],z[1],Number(z[2]||0)),p.push(G[0],G[1],G[2],G[3]),p.push(P*window.devicePixelRatio)}this.bufferData=p,this.buffer.updateData(new Float32Array(p)),u.enablePicked&&this.parsePickData(f)}}},{key:"parsePickData",value:function(u){var f=this.getOptions(),p=[];if(f.enablePicked)for(var S=0;S<u.length;S++){var x=this.indexToRgb(S);p.push(x[0]/255,x[1]/255,x[2]/255)}f.enablePicked&&this.pickBuffer.updateData(new Float32Array(p))}},{key:"render",value:function(u){var f=u.gl,p=u.matrix,S=u.isPickRender;if(!(0>=this.bufferData.length)){var x=this.getOptions(),T=this.program;T.use(f),this.vertexArray.bind(),u=this.getCommonUniforms(u);var z=1;x.unit==="m"&&this.map&&(z=this.map.getZoomUnits()),u=_o(u,{zoomUnits:z,uTime:(new Date-this.date)/1e3,duration:x.duration,uMatrix:p}),T.setUniforms(u),p=this.options.blend,S?f.disable(f.BLEND):(f.enable(f.BLEND),f.blendEquation(f.FUNC_ADD),p&&p==="lighter"?f.blendFunc(f.SRC_ALPHA,f.ONE):f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA)),f.drawArrays(f.POINTS,0,this.bufferData.length/8)}}}]),o}(fa),lA=function(C){function o(h,u){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h,u)),h.bufferData=[],h.startTime=Number(h.options.startTime)||0,h.endTime=Number(h.options.endTime),h.time=h.startTime,h.segs=Number(h.options.segs)||10,h.autoUpdate=!0,h}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{color:[.9,.1,.1,1],trailLength:3,height:100,step:.1,segs:10}}},{key:"setTime",value:function(u){this.time=u}},{key:"initialize",value:function(u){this.gl=u,this.program=new yo(this.gl,{vertexShader:"precision mediump float;attribute vec4 aPos;uniform mat4 u_matrix;uniform float currentTime;uniform float trailLength;varying float vTime;void main(){gl_Position=u_matrix*vec4(aPos.xyz,1.0);vTime=1.0-((currentTime-aPos.w)/trailLength);}",fragmentShader:"precision mediump float;uniform vec3 uFragColor;varying float vTime;void main(){if(vTime>1.0||vTime<0.0){discard;}gl_FragColor=vec4(uFragColor,1.0*vTime);}"}),this.buffer=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,this.buffer)}},{key:"destroy",value:function(){this.data=this.program=this.buffer=this.bufferData=null}},{key:"onChanged",value:function(u,f){var p=this.gl;if(p){this.buffer=p.createBuffer(),p.bindBuffer(p.ARRAY_BUFFER,this.buffer);for(var S=[],x=u.height,T=0;T<f.length;T++)for(var z=f[T].geometry.coordinates,G=Object.prototype.toString.call(x)==="[object Function]"?x(f[T]):Number(x),P=0,D=0;D<this.segs;D++){var U=this.normizedPoint(z);S.push(U[0],U[1],P),z[2]===void 0?S.push(D):S.push(Number(z[2])),P+=G/this.segs,S.push(U[0],U[1],P),z[2]===void 0?S.push(D+1):S.push(Number(z[2]))}u.endTime===void 0&&(this.endTime=this.segs),this.bufferData=S,p.bufferData(p.ARRAY_BUFFER,new Float32Array(S),p.STATIC_DRAW),this.webglLayer&&this.webglLayer.render()}}},{key:"render",value:function(u){var f=u.gl,p=u.matrix;u=this.program,f.useProgram(u.program),f.uniformMatrix4fv(u.uniforms.u_matrix,!1,p),f.bindBuffer(f.ARRAY_BUFFER,this.buffer),f.enableVertexAttribArray(u.attributes.aPos),f.vertexAttribPointer(u.attributes.aPos,4,f.FLOAT,!1,0,0),p=this.normizedColor(this.options.color),f.uniform3f(u.uniforms.uFragColor,p[0],p[1],p[2]),f.uniform1f(u.uniforms.currentTime,this.time),f.uniform1f(u.uniforms.trailLength,this.options.trailLength),f.enable(f.BLEND),f.polygonOffset(2,1),f.blendFunc(f.SRC_ALPHA,f.ONE),f.blendEquation(f.FUNC_ADD),f.drawArrays(f.LINES,0,this.bufferData.length/4),f.bindBuffer(f.ARRAY_BUFFER,null),f.disable(f.BLEND),this.time+=Number(this.options.step),this.time>1.5*this.endTime&&(this.time=this.startTime),f.useProgram(null)}}]),o}(fa),Xg=function(o,h,u,f){if(!(o instanceof h)||f!==void 0&&f in o)throw TypeError(u+": incorrect invocation!");return o},_f=Fe(function(C){var o={},h={};C=C.exports=function(u,f,p,S,x){x=x?function(){return u}:bg(u),p=Vs(p,S,f?2:1),S=0;var T,z;if(typeof x!="function")throw TypeError(u+" is not iterable!");if(x===void 0||Su.Array!==x&&Rc[Ns]!==x){for(S=x.call(u);!(z=S.next()).done;)if(x=Ei(S,p,z.value,f),x===o||x===h)return x}else for(T=Yp(u.length);T>S;S++)if(x=f?p(Wl(z=u[S])[0],z[1]):p(u[S]),x===o||x===h)return x},C.BREAK=o,C.RETURN=h}),E0=Ta("species"),Zg=function(o,h){o=Wl(o).constructor;var u;return o===void 0||(u=Wl(o)[E0])==null?h:Yf(u)},Kg=function(o,h,u){var f=u===void 0;switch(h.length){case 0:return f?o():o.call(u);case 1:return f?o(h[0]):o.call(u,h[0]);case 2:return f?o(h[0],h[1]):o.call(u,h[0],h[1]);case 3:return f?o(h[0],h[1],h[2]):o.call(u,h[0],h[1],h[2]);case 4:return f?o(h[0],h[1],h[2],h[3]):o.call(u,h[0],h[1],h[2],h[3])}return o.apply(u,h)},T0=fo.process,yd=fo.setImmediate,Jg=fo.clearImmediate,_m=fo.MessageChannel,Mf=fo.Dispatch,xd=0,Al={},pp=function(){var o=+this;if(Al.hasOwnProperty(o)){var h=Al[o];delete Al[o],h()}},Mm=function(o){pp.call(o.data)};if(!yd||!Jg)if(yd=function(o){for(var h=[],u=1;arguments.length>u;)h.push(arguments[u++]);return Al[++xd]=function(){Kg(typeof o=="function"?o:Function(o),h)},Ef(xd),xd},Jg=function(o){delete Al[o]},Ss(T0)=="process")var Ef=function(o){T0.nextTick(Vs(pp,o,1))};else if(Mf&&Mf.now)Ef=function(o){Mf.now(Vs(pp,o,1))};else if(_m){var qg=new _m,I0=qg.port2;qg.port1.onmessage=Mm,Ef=Vs(I0.postMessage,I0,1)}else fo.addEventListener&&typeof postMessage=="function"&&!fo.importScripts?(Ef=function(o){fo.postMessage(o+"","*")},fo.addEventListener("message",Mm,!1)):Ef="onreadystatechange"in(pg?ca.createElement("script"):{})?function(C){Kp.appendChild(pg?ca.createElement("script"):{}).onreadystatechange=function(){Kp.removeChild(this),pp.call(C)}}:function(C){setTimeout(Vs(pp,C,1),0)};var a1=yd,_x=fo.MutationObserver||fo.WebKitMutationObserver,Cd=fo.process,mp=fo.Promise,P0=Ss(Cd)=="process",gp={f:function(o){return new Ly(o)}},vp=function(o){try{return{e:!1,v:o()}}catch(h){return{e:!0,v:h}}},O0=fo.navigator,Mx=O0&&O0.userAgent||"",s1=function(o,h){if(Wl(o),Il(h)&&h.constructor===o)return h;o=gp.f(o);var u=o.resolve;return u(h),o.promise},R0=function(o,h,u){for(var f in h)u&&o[f]?o[f]=h[f]:lh(o,f,h[f]);return o},yp=Ta("species"),Qg=function(o){o=typeof pa[o]=="function"?pa[o]:fo[o],Yo&&o&&!o[yp]&&au.f(o,yp,{configurable:!0,get:function(){return this}})},L0=function(){var C,o,h=function(){var T;for(P0&&(T=Cd.domain)&&T.exit();C;){var z=C.fn;C=C.next;try{z()}catch(G){throw C?u():o=void 0,G}}o=void 0,T&&T.enter()};if(P0)var u=function(){Cd.nextTick(h)};else if(!_x||fo.navigator&&fo.navigator.standalone)if(mp&&mp.resolve){var f=mp.resolve(void 0);u=function(){f.then(h)}}else u=function(){a1.call(fo,h)};else{var p=!0,S=document.createTextNode("");new _x(h).observe(S,{characterData:!0}),u=function(){S.data=p=!p}}return function(x){x={fn:x,next:void 0},o&&(o.next=x),C||(C=x,u()),o=x}}(),Ex=fo.TypeError,Em=fo.process,l1=Em&&Em.versions,D0=l1&&l1.v8||"",jl=fo.Promise,Ph=wg(Em)=="process",Tf=function(){},Tm,xp=Tm=gp.f,Zo=!!function(){try{var C=jl.resolve(1),o=(C.constructor={})[Ta("species")]=function(h){h(Tf,Tf)};return(Ph||typeof PromiseRejectionEvent=="function")&&C.then(Tf)instanceof o&&D0.indexOf("6.6")!==0&&Mx.indexOf("Chrome/66")===-1}catch(h){}}(),u1=function(o){var h;return Il(o)&&typeof(h=o.then)=="function"?h:!1},c1=function(o,h){if(!o._n){o._n=!0;var u=o._c;L0(function(){for(var f=o._v,p=o._s==1,S=0;u.length>S;){var x=void 0,T=void 0,z=void 0,G=u[S++],P=p?G.ok:G.fail,D=G.resolve,U=G.reject,V=G.domain;try{P?(p||(o._h==2&&h1(o),o._h=1),P===!0?z=f:(V&&V.enter(),z=P(f),V&&(V.exit(),x=!0)),z===G.promise?U(Ex("Promise-chain cycle")):(T=u1(z))?T.call(z,D,U):D(z)):U(f)}catch(J){V&&!x&&V.exit(),U(J)}}o._c=[],o._n=!1,h&&!o._h&&es(o)})}},es=function(o){a1.call(fo,function(){var h=o._v,u=o._h!==1&&(o._a||o._c).length===0,f,p;if(u){var S=vp(function(){Ph?Em.emit("unhandledRejection",h,o):(f=fo.onunhandledrejection)?f({promise:o,reason:h}):(p=fo.console)&&p.error&&p.error("Unhandled promise rejection",h)});o._h=Ph||o._h!==1&&(o._a||o._c).length===0?2:1}if(o._a=void 0,u&&S.e)throw S.v})},h1=function(o){a1.call(fo,function(){var h;Ph?Em.emit("rejectionHandled",o):(h=fo.onrejectionhandled)&&h({promise:o,reason:o._v})})},Cp=function(o){var h=this;h._d||(h._d=!0,h=h._w||h,h._v=o,h._s=2,h._a||(h._a=h._c.slice()),c1(h,!0))},f1=function C(o){var h=this,u;if(!h._d){h._d=!0,h=h._w||h;try{if(h===o)throw Ex("Promise can't be resolved itself");(u=u1(o))?L0(function(){var f={_w:h,_d:!1};try{u.call(o,Vs(C,f,1),Vs(Cp,f,1))}catch(p){Cp.call(f,p)}}):(h._v=o,h._s=1,c1(h,!1))}catch(f){Cp.call({_w:h,_d:!1},f)}}};if(!Zo){jl=function(o){Xg(this,jl,"Promise","_h"),Yf(o),ru.call(this);try{o(Vs(f1,this,1),Vs(Cp,this,1))}catch(h){Cp.call(this,h)}};var ru=function(o){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1};ru.prototype=R0(jl.prototype,{then:function(o,h){var u=xp(Zg(this,jl));return u.ok=typeof o=="function"?o:!0,u.fail=typeof h=="function"&&h,u.domain=Ph?Em.domain:void 0,this._c.push(u),this._a&&this._a.push(u),this._s&&c1(this,!1),u.promise},catch:function(o){return this.then(void 0,o)}});var uA=function(){var o=new ru;this.promise=o,this.resolve=Vs(f1,o,1),this.reject=Vs(Cp,o,1)};gp.f=xp=function(o){return o===jl||o===Tx?new uA(o):Tm(o)}}An(An.G+An.W+An.F*!Zo,{Promise:jl}),su(jl,"Promise"),Qg("Promise");var Tx=pa.Promise;An(An.S+An.F*!Zo,"Promise",{reject:function(o){var h=xp(this),u=h.reject;return u(o),h.promise}}),An(An.S+1*An.F,"Promise",{resolve:function(o){return s1(this===Tx?jl:this,o)}}),An(An.S+An.F*!(Zo&&od(function(C){jl.all(C).catch(Tf)})),"Promise",{all:function(o){var h=this,u=xp(h),f=u.resolve,p=u.reject,S=vp(function(){var x=[],T=0,z=1;_f(o,!1,function(G){var P=T++,D=!1;x.push(void 0),z++,h.resolve(G).then(function(U){D||(D=!0,x[P]=U,--z||f(x))},p)}),--z||f(x)});return S.e&&p(S.v),u.promise},race:function(o){var h=this,u=xp(h),f=u.reject,p=vp(function(){_f(o,!1,function(S){h.resolve(S).then(u.resolve,f)})});return p.e&&f(p.v),u.promise}}),An(An.P+An.R,"Promise",{finally:function(o){var h=Zg(this,pa.Promise||fo.Promise),u=typeof o=="function";return this.then(u?function(f){return s1(h,o()).then(function(){return f})}:o,u?function(f){return s1(h,o()).then(function(){throw f})}:o)}}),An(An.S,"Promise",{try:function(o){var h=gp.f(this);return o=vp(o),(o.e?h.reject:h.resolve)(o.v),h.promise}});var Ix=pa.Promise,Oe=Fe(function(C){C.exports={default:Ix,__esModule:!0}}),N0=We(Oe),If=function(o,h){if(!Il(o)||o._t!==h)throw TypeError("Incompatible receiver, "+h+" required!");return o},cA=au.f,Zi=gg.fastKey,$g=Yo?"_s":"size",ev=function(o,h){var u=Zi(h);if(u!=="F")return o._i[u];for(o=o._f;o;o=o.n)if(o.k==h)return o},Le={getConstructor:function(o,h,u,f){var p=o(function(S,x){Xg(S,p,h,"_i"),S._t=h,S._i=qu(null),S._f=void 0,S._l=void 0,S[$g]=0,x!=null&&_f(x,u,S[f],S)});return R0(p.prototype,{clear:function(){for(var x=If(this,h),T=x._i,z=x._f;z;z=z.n)z.r=!0,z.p&&(z.p=z.p.n=void 0),delete T[z.i];x._f=x._l=void 0,x[$g]=0},delete:function(x){var T=If(this,h);if(x=ev(T,x)){var z=x.n,G=x.p;delete T._i[x.i],x.r=!0,G&&(G.n=z),z&&(z.p=G),T._f==x&&(T._f=z),T._l==x&&(T._l=G),T[$g]--}return!!x},forEach:function(x){If(this,h);for(var T=Vs(x,1<arguments.length?arguments[1]:void 0,3),z;z=z?z.n:this._f;)for(T(z.v,z.k,this);z&&z.r;)z=z.p},has:function(x){return!!ev(If(this,h),x)}}),Yo&&cA(p.prototype,"size",{get:function(){return If(this,h)[$g]}}),p},def:function(o,h,u){var f=ev(o,h),p;return f?f.v=u:(o._l=f={i:p=Zi(h,!0),k:h,v:u,p:h=o._l,n:void 0,r:!1},o._f||(o._f=f),h&&(h.n=f),o[$g]++,p!=="F"&&(o._i[p]=f)),o},getEntry:ev,setStrong:function(o,h,u){Jf(o,h,function(f,p){this._t=If(f,h),this._k=p,this._l=void 0},function(){for(var f=this._k,p=this._l;p&&p.r;)p=p.p;return this._t&&(this._l=p=p?p.n:this._t._f)?f=="keys"?vl(0,p.k):f=="values"?vl(0,p.v):vl(0,[p.k,p.v]):(this._t=void 0,vl(1))},u?"entries":"values",!u,!0),Qg(h)}},hA=Ta("species"),Px=function(o,h){if(Ic(o)){var u=o.constructor;typeof u!="function"||u!==Array&&!Ic(u.prototype)||(u=void 0),Il(u)&&(u=u[hA],u===null&&(u=void 0))}return new(u===void 0?Array:u)(h)},Ad=au.f,fA=function(C,o){var h=C==1,u=C==2,f=C==3,p=C==4,S=C==6,x=C==5||S,T=o||Px;return function(z,G,P){var D=Object(Sc(z)),U=Zh(D);G=Vs(G,P,3),P=Yp(U.length);var V=0;z=h?T(z,P):u?T(z,0):void 0;for(var J,ne;P>V;V++)if((x||V in U)&&(J=U[V],ne=G(J,V,D),C)){if(h)z[V]=ne;else if(ne)switch(C){case 3:return!0;case 5:return J;case 6:return V;case 2:z.push(J)}else if(p)return!1}return S?-1:f||p?p:z}}(0);(function(C,o,h,u,f,p){var S=fo[C],x=S,T=f?"set":"add",z=x&&x.prototype,G={};return Yo&&typeof x=="function"&&(p||z.forEach&&!Xf(function(){new x().entries().next()}))?(x=o(function(P,D){Xg(P,x,C,"_c"),P._c=new S,D!=null&&_f(D,f,P[T],P)}),fA("add clear delete forEach get has set keys values entries toJSON".split(" "),function(P){var D=P=="add"||P=="set";P in z&&(!p||P!="clear")&&lh(x.prototype,P,function(U,V){return Xg(this,x,P),!D&&p&&!Il(U)?P=="get"?void 0:!1:(U=this._c[P](U===0?0:U,V),D?this:U)})}),p||Ad(x.prototype,"size",{get:function(){return this._c.size}})):(x=u.getConstructor(o,C,f,T),R0(x.prototype,h),gg.NEED=!0),su(x,C),G[C]=x,An(An.G+An.W+An.F,G),p||u.setStrong(x,C,f),x})("Map",function(C){return function(){return C(this,0<arguments.length?arguments[0]:void 0)}},{get:function(o){return(o=Le.getEntry(If(this,"Map"),o))&&o.v},set:function(o,h){return Le.def(If(this,"Map"),o===0?0:o,h)}},Le,!0),An(An.P+An.R,"Map",{toJSON:function(C){return function(){if(wg(this)!=C)throw TypeError(C+"#toJSON isn't generic");var o=[];return _f(this,!1,o.push,o,void 0),o}}("Map")}),function(C){An(An.S,C,{of:function(){for(var h=arguments.length,u=Array(h);h--;)u[h]=arguments[h];return new this(u)}})}("Map"),function(C){An(An.S,C,{from:function(h,u,f){var p;if(Yf(this),(p=u!==void 0)&&Yf(u),h==null)return new this;var S=[];if(p){var x=0,T=Vs(u,f,2);_f(h,!1,function(z){S.push(T(z,x++))})}else _f(h,!1,S.push,S);return new this(S)}})}("Map");var Im=pa.Map,Ox=Fe(function(C){C.exports={default:Im,__esModule:!0}}),Zc=We(Ox),F0=function(C){function o(h,u){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h,u)),h.index=[],u=h.canvas=document.createElement("canvas"),h.ctx=u.getContext("2d"),h.iconHash=new Zc,h}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{flat:!1,unit:"px",scale:1,angle:0,offset:[0,0],padding:[0,0]}}},{key:"initialize",value:function(u){this.gl=u;var f=this.getOptions();this.texture=null,this.program=new yo(this.gl,{vertexShader:"precision highp float;attribute vec3 a_pos;attribute float a_corner;attribute float a_rotation;attribute vec2 a_size;attribute vec2 a_offset;attribute vec2 a_texture_coord;uniform mat4 u_matrix;uniform vec2 u_size;uniform float devicePixelRatio;uniform float u_zoom_units;uniform float u_zIndex;uniform float u_scale;uniform bool u_unit_px;uniform bool u_flat;varying vec2 v_texture_coord;/***\u70B9A(x,y)\uFF0C\u7ED5\u539F\u70B9\u987A\u65F6\u9488\u65CB\u8F6C\u89D2\u5EA6a\u65B0\u5750\u6807\u7684\u8BA1\u7B97\u516C\u5F0F*x1=x*cos(a)+y*sin(a)*y1=y*cos(a)-x*sin(a)*/vec3 transformCoord(vec3 coord,vec2 size,float corner){float x=coord.x;float y=coord.y;if(corner==1.0){x+=-size.x*cos(a_rotation)+size.y*sin(a_rotation);y+=size.y*cos(a_rotation)+size.x*sin(a_rotation);}else if(corner==2.0){x+=size.x*cos(a_rotation)+size.y*sin(a_rotation);y+=size.y*cos(a_rotation)-size.x*sin(a_rotation);}else if(corner==3.0){x+=size.x*cos(a_rotation)-size.y*sin(a_rotation);y+=-size.y*cos(a_rotation)-size.x*sin(a_rotation);}else{x+=-size.x*cos(a_rotation)-size.y*sin(a_rotation);y+=-size.y*cos(a_rotation)+size.x*sin(a_rotation);}return vec3(x,y,coord.z);}void main(){v_texture_coord=a_texture_coord;if(u_flat){vec2 offset=a_offset;vec2 halfSize=a_size/2.0*u_scale;if(u_unit_px){halfSize*=u_zoom_units;offset*=u_zoom_units;}vec3 current=transformCoord(a_pos,halfSize,a_corner);current.z+=u_zIndex;gl_Position=u_matrix*vec4(current.x+offset[0],current.y-offset[1],current.z,1.0);}else{vec4 position=u_matrix*vec4(a_pos,1.0);vec3 screen=position.xyz/position.w;vec2 halfSize=a_size/MAPV_resolution*devicePixelRatio*u_scale;vec2 offset=a_offset*2./MAPV_resolution*devicePixelRatio;if(!u_unit_px){halfSize/=u_zoom_units;offset/=u_zoom_units;}vec3 current=transformCoord(screen,halfSize,a_corner);current.xy=current.xy-offset;current.z+=u_zIndex;gl_Position=vec4(current,1.0);}}",fragmentShader:`precision highp float;varying vec2 v_texture_coord;uniform sampler2D u_icon;uniform vec4 uSelectedColor;void main(){vec4 textureColor=texture2D(u_icon,vec2(v_texture_coord.x,1.0-v_texture_coord.y));if(textureColor.a==0.0&&uIsPickRender==false){discard;}gl_FragColor=textureColor;
#if defined(PICK)
if(mapvIsPicked()){gl_FragColor=vec4(uSelectedColor.rgb,gl_FragColor.a);}
#endif
}`,defines:f.enablePicked?["PICK"]:[]},this),this.vertexBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.uvBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Ti({gl:u,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),f=[{name:"a_pos",buffer:this.vertexBuffer,size:3,stride:36,type:"FLOAT",offset:0},{name:"a_corner",buffer:this.vertexBuffer,size:1,stride:36,type:"FLOAT",offset:12},{name:"a_size",buffer:this.vertexBuffer,size:2,stride:36,type:"FLOAT",offset:16},{name:"a_offset",buffer:this.vertexBuffer,size:2,stride:36,type:"FLOAT",offset:24},{name:"a_rotation",buffer:this.vertexBuffer,size:1,stride:36,type:"FLOAT",offset:32},{name:"a_texture_coord",buffer:this.uvBuffer,size:2,stride:8,type:"FLOAT",offset:0}],f=f.concat(this.getCommonAttributes()),this.vertexArray=new La({gl:u,program:this.program,attributes:f})}},{key:"destroy",value:function(){this.options&&this.options.enablePicked&&(this.pickBuffer=null),this.canvas=this.iconHash=this.cachedData=this.options=this.data=this.indexBuffer=this.uvBuffer=this.vertexBuffer=this.program=this.vertexArray=null}},{key:"onChanged",value:function(u,f,p){this.gl&&this.processCache(u,f,p)}},{key:"processCache",value:function(u,f,p){var S=this;p=p||{},this.cachedData=[];for(var x=u.icon,T=u.width,z=u.height,G=u.offset,P=u.angle,D=0;D<f.length;D++){var U=this.normizedPoint(f[D].geometry.coordinates),V=this.getProperty("icon",x,f[D]),J=this.getProperty("width",T,f[D]),ne=this.getProperty("height",z,f[D]),re=this.getProperty("offset",G,f[D]),Q=this.getProperty("angle",P,f[D]);U&&V&&(this.cachedData.push({point:U,icon:V,width:J,height:ne,offset:re,angle:Q}),this.iconHash.get(V)||this.iconHash.set(V,V))}f=Lc(this.iconHash.entries()).filter(function(he){return typeof he[1]=="string"}).map(function(he){var Me=ms(he,2)[0];return new N0(function(De,Ue){S.url2canvas(Me,function(Ve){S.iconHash.set(Me,Ve),De()})})}),N0.all(f).then(function(he){S.buildSprite(u),p.autoRender!==!1&&S.webglLayer&&S.webglLayer.render()})}},{key:"buildSprite",value:function(u){var f=u.padding,p=this.canvas,S=this.ctx,x=[],T=new Zc,z=!0,G=!1,P=void 0;try{for(var D=lf(this.iconHash),U;!(z=(U=D.next()).done);z=!0){var V=ms(U.value,2),J=V[1];if(typeof J!="string"){var ne=J.width,re=J.height;x.push({w:ne+f[0],h:re+f[0],width:ne,height:re,key:V[0],icon:J})}}}catch(Q){G=!0,P=Q}finally{try{!z&&D.return&&D.return()}finally{if(G)throw P}}for(G=Vp(x),z=0;z<x.length;z++)P=x[z],T.get(P.key)||T.set(P.key,P);for(z=zn(G.w),G=zn(G.h),p.width=z||1,p.height=G||1,S.save(),p=0;p<x.length;p++)P=x[p],S.drawImage(P.icon,P.x+f[0],P.y+f[1],P.width,P.height);S.restore(),this.loadTexture(),this.buildVertex(u,T,z,G)}},{key:"buildVertex",value:function(u,f,p,S){u=u.enablePicked;for(var x=[],T=[],z=[],G=[],P=0;P<this.cachedData.length;P++){var D=this.cachedData[P],U=D.point,V=D.width,J=D.height,ne=D.offset,re=D.angle;if(D=f.get(D.icon)){V=V||D.icon.width,J=J||D.icon.height;var Q=ms(U,3);U=Q[0];var he=Q[1];Q=Q[2];for(var Me=0;4>Me;Me++)x.push(U,he,Q),x.push(Me),x.push(V,J),x.push.apply(x,ro(ne)),x.push(re*Math.PI/180);V=D.x/p,J=(D.x+D.w)/p,ne=(D.y+D.h)/S,D=D.y/S,T.push(V,ne,V,D,J,D,J,ne),D=4*P,z.push(D,D+2,D+1,D,D+3,D+2),u&&(D=this.indexToRgb(P),G.push(D[0]/255,D[1]/255,D[2]/255),G.push(D[0]/255,D[1]/255,D[2]/255),G.push(D[0]/255,D[1]/255,D[2]/255),G.push(D[0]/255,D[1]/255,D[2]/255))}}this.index=z,this.vertexBuffer.updateData(new Float32Array(x)),this.uvBuffer.updateData(new Float32Array(T)),this.indexBuffer.updateData(new Uint32Array(z)),u&&this.pickBuffer.updateData(new Float32Array(G))}},{key:"render",value:function(u){if(this.cachedData&&this.cachedData.length&&this.iconHash&&this.texture){var f=u.gl,p=u.matrix,S=this.getOptions(),x=this.program;x.use(f),f.enable(f.BLEND),f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),x.setUniforms(_o(this.getCommonUniforms(u),{u_icon:this.texture,u_matrix:p,u_flat:S.flat,u_unit_px:S.unit==="px",u_zoom_units:this.map.getZoomUnits(),u_scale:S.scale,u_zIndex:S.zIndex,devicePixelRatio:window.devicePixelRatio})),0<this.index.length&&(this.indexBuffer.bind(),this.vertexArray.bind(),f.drawElements(f.TRIANGLES,this.index.length,f.UNSIGNED_INT,0)),f.useProgram(null)}}},{key:"url2canvas",value:function(u,f){if((typeof u=="undefined"?"undefined":Ol(u))==="object")f(u);else{var p=new Image;p.crossOrigin="anonymous",p.onload=function(){var S=p.width,x=p.height,T=document.createElement("canvas");T.width=S,T.height=x,T.getContext("2d").drawImage(p,0,0,S,x),f(T)},p.onerror=function(){var S=document.createElement("canvas");S.width=20,S.height=40;var x=S.getContext("2d");x.fillStyle="red",x.beginPath(),x.lineTo(0,0),x.lineTo(20,0),x.lineTo(10,40),x.closePath(),x.fill(),f(S)},p.src=u}}},{key:"loadTexture",value:function(){var u=this;this.canvas?As(this.gl,this.canvas,function(f){u.texture=f}):this.texture=null}}]),o}(fa),Rx=function(C){function o(h){On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h)),h.pointLayer=new vd(h.options),h.options.textOptions=_o({depthTest:!1},h.options.textOptions),h.textLayer=new S0(h.options.textOptions);var u=_o({},h.options,h.options.iconOptions);return h.iconLayer=new F0(u),h.children=[h.pointLayer,h.textLayer,h.iconLayer],h}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{minSize:25,maxSize:40,clusterRadius:200,minPoints:2,extent:400,showText:!0,maxZoom:19,minZoom:4,gradient:{0:"rgb(50, 50, 256)","0.1":"rgb(50, 250, 56)","0.5":"rgb(250, 250, 56)",1:"rgb(250, 50, 56)"},textOptions:{fontSize:12,color:"white"},iconOptions:{}}}},{key:"onOptionsChanged",value:function(u){this.textLayer.setOptions(u.textOptions)}},{key:"setOptions",value:function(){var u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},f=this.options.textOptions;u.textOptions&&_o(f,u.textOptions);var p=u.minZoom,S=u.maxZoom,x=u.clusterRadius;p=S&&S!==this.options.maxZoom||p&&p!==this.options.minZoom||x&&x!==this.options.clusterRadius,_o(this.options,u,{textOptions:f}),p?this.onChanged(this.options,this.data):this.refreshCluster(),this.onOptionsChanged(this.getOptions())}},{key:"onChanged",value:function(u,f){var p=this;f&&f.length?(f.forEach(function(S){var x=ms(S.geometry.coordinates,2),T=x[0];x=x[1],-180<=T&&180>=T&&-90<=x&&90>=x||(T=p.map.mercatorToLnglat(T,x),S.geometry.coordinates[0]=T[0],S.geometry.coordinates[1]=T[1])}),this.supercluster=new zl({maxZoom:u.maxZoom,minZoom:u.minZoom,radius:u.clusterRadius,minPoints:u.minPoints,extent:u.extent}),this.supercluster.load(f),this.supercluster.trees.forEach(function(S){var x=0,T=Infinity;S.points.forEach(function(z){x=Math.max(z.numPoints||0,x),T=Math.min(z.numPoints||Infinity,T)}),S.max=x,S.min=T}),this.refreshCluster()):(this.supercluster=null,this.pointLayer.setData([]),this.iconLayer.setData([]),this.textLayer.setData([]))}},{key:"refreshCluster",value:function(){var u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.options;if(this.supercluster){var f=this.getClusterData(u);if(typeof u.beforeRender=="function"&&u.beforeRender(f)===!1)this.pointLayer.setData([]),this.iconLayer.setData([]),this.textLayer.setData([]);else if(f&&f.length){var p=[],S=[];f.forEach(function(x){x.properties.text?p.push(x):S.push(x)}),this.pointLayer.setData(p),this.iconLayer.setData(S),this.textLayer.setData(u.showText?f:[]),u.enablePicked&&u.autoSelect&&this.pick(-1,-1)}}}},{key:"getClusterData",value:function(){var u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.options,f=this.map.getBounds(),p=this.ne=f.getNorthEast();f=this.sw=f.getSouthWest();var S=p,x=S.lng;return S=S.lat,-180<=x&&180>=x&&-90<=S&&90>=S?f=[f.lng,f.lat,p.lng,p.lat]:(p=this.map.mercatorToLnglat(this.ne.lng,this.ne.lat),f=this.map.mercatorToLnglat(this.sw.lng,this.sw.lat),f=f.concat(p)),p=Math.floor(this.map.getZoom()),f=this.supercluster.getClusters(f,p),this.zoom!==p&&0<f.length&&(this.zoom=p,S=this.supercluster.trees,x=S[p]&&S[p].max||this.max,p=S[p]&&S[p].min||this.min,x!==p&&(this.max=x,this.min=p)),this.processData(f,u)}},{key:"processData",value:function(u,f){var p=f.defaultColor,S=f.defaultSize,x=f.gradient,T=f.minSize,z=f.textOptions,G=new Dt({max:this.max,min:~~this.min||1,minSize:T||8,maxSize:f.maxSize||30,gradient:x});p=p||x[0]||"black",S=S||.5*T||5;var P=z&&z.format;return P=typeof P=="function"?P:null,u.map(function(D){var U=S,V=p,J="";return D.properties&&D.properties.point_count&&(J=D.properties.point_count,U=G.getSize(J)||U,V=G.getColor(J),J=P?P(J):J),U=_o({},D.properties,{text:J,size:U,color:V}),_o({},D,{properties:U,children:D.id})})}},{key:"pick",value:function(u,f){var p=this.pointLayer.pick(u,f);return 0>p.dataIndex&&(p=this.iconLayer.pick(u,f)),(u=p.dataItem)&&typeof u.children=="number"&&(u.children=this.getClusterPoints(u.children)),p}},{key:"getClusterPoints",value:function(u){var f=this;return u?this.supercluster.getChildren(u).map(function(p){return p.type==="Feature"?f.getClusterPoints(p.id):p}).flat():[]}},{key:"shouldUpdate",value:function(){if(!this.data||!this.supercluster)return!1;if(this.zoom!==Math.floor(this.map.getZoom()))return!0;var u=this.map.getBounds(),f=u.getNorthEast();if(u=u.getSouthWest(),this.ne.lng!==f.lng||this.ne.lat!==f.lat||this.sw.lng!==u.lng||this.sw.lat!==u.lat)return!0}},{key:"render",value:function(u){this.shouldUpdate()?this.refreshCluster():ac(o.prototype.__proto__||ri(o.prototype),"render",this).call(this,u)}}]),o}(Bu),ts=function(C){function o(h,u){return On(this,o),wi(this,(o.__proto__||ri(o)).call(this,h,u))}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return _o(ac(o.prototype.__proto__||ri(o.prototype),"getDefaultOptions",this).call(this),{style:"grid",gridSize:500,gradient:{0:"rgb(50, 50, 256)","0.1":"rgb(50, 250, 56)","0.5":"rgb(250, 250, 56)",1:"rgb(250, 50, 56)"}})}},{key:"onChanged",value:function(u,f){this.gl&&(f=this.processData(f,u),ac(o.prototype.__proto__||ri(o.prototype),"onChanged",this).call(this,u,f))}},{key:"generateGrid",value:function(u,f){var p=f.gridSize,S=[],x={};f=u.length;for(var T=this.getPointOffset(),z=0;z<f;z++){var G=this.normizedPoint(u[z].geometry.coordinates),P=G[2];G=~~((G[0]+T[0])/p)+"_"+~~((G[1]+T[1])/p),x[G]===void 0&&(x[G]={count:0,num:0,z:0});var D=~~u[z].count||1;"properties"in u[z]&&"count"in u[z].properties&&(D=~~u[z].properties.count),x[G].count+=D,x[G].num+=1,x[G].z+=P}return Gs(x).forEach(function(U){var V=U.split("_");S.push([V[0]*p+p/2,V[1]*p+p/2,x[U].z/x[U].num,x[U].count])}),S}},{key:"processData",value:function(u,f){var p=[];if(f.style==="normal")for(var S=this.getPointOffset(),x=0;x<u.length;x++){var T=this.normizedPoint(u[x].geometry.coordinates),z=T[0]+S[0],G=T[1]+S[1];T=T[2];var P=~~u[x].count||1;"properties"in u[x]&&"count"in u[x].properties&&(P=~~u[x].properties.count),p.push([z,G,T,P])}else p=this.generateGrid(u,f);if(S=u=0,f.max!==void 0&&f.min!==void 0)u=f.max,S=f.min;else{for(p[0]&&(u=p[0][3],S=p[0][3]),x=p.length,z=0;z<x;z++)G=p[z],u=Math.max(G[3],u),S=Math.min(G[3],S);u/=2}for(f=new Dt({max:~~u,min:S,gradient:f.gradient}),u=[],S=0;S<p.length;S++)x=p[S],x[0]=x[0],x[1]=x[1],z=f.getImageData(x[3]),u.push({geometry:{type:"Point",coordinates:[x[0],x[1],x[2]]},color:[z[0]/255,z[1]/255,z[2]/255,z[3]/255]});return u}}]),o}(vd),Lx=function(C){function o(h,u){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h,u)),h.bufferData=[],h}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{color:[1,.05,.05,1]}}},{key:"onChanged",value:function(u,f){var p=this;if(u=this.gl){this.buffer=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,this.buffer);for(var S=[],x=function(G){var P=5*G;for(G=0;G<f.length;G++)f[G].geometry.coordinates.forEach(function(D){for(var U=0;U<D.length-1;U++){var V=p.normizedPoint(D[U]);S.push(V[0]),S.push(V[1]),S.push(Number(P)),V=p.normizedPoint(D[U+1]),S.push(V[0]),S.push(V[1]),S.push(Number(P))}})},T=0;20>T;T++)x(T);u.bufferData(u.ARRAY_BUFFER,new Float32Array(S),u.STATIC_DRAW),this.bufferData=S,u.bindBuffer(u.ARRAY_BUFFER,null)}}},{key:"initialize",value:function(u){this.gl=u,this.program=new yo(u,{vertexShader:"uniform mat4 uMatrix;attribute vec3 aPos;void main(){gl_PointSize=10.0;gl_Position=uMatrix*vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform vec4 uFragColor;void main(){gl_FragColor=uFragColor;}"}),this.buffer=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,this.buffer)}},{key:"render",value:function(u){var f=u.gl;u=u.matrix;var p=this.program;f.useProgram(p.program);var S=this.normizedColor(this.options.color);f.uniform4f(p.uniforms.uFragColor,S[0],S[1],S[2],S[3]),f.uniformMatrix4fv(p.uniforms.uMatrix,!1,u),f.bindBuffer(f.ARRAY_BUFFER,this.buffer),f.enableVertexAttribArray(p.attributes.aPos),f.vertexAttribPointer(p.attributes.aPos,3,f.FLOAT,!1,0,0),f.enable(f.BLEND),f.blendEquation(f.FUNC_ADD),f.blendFunc(f.ONE,f.ONE),f.drawArrays(f.LINES,0,this.bufferData.length/3),f.bindBuffer(f.ARRAY_BUFFER,null)}}]),o}(fa),B0={circle:1,square:2},Ko=function(C){function o(h,u){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h,u)),h.bufferData=[],h.startTime=h.options.startTime||0,h.endTime=h.options.endTime,h.time=h.startTime,h.autoUpdate=!0,h}return ji(o,C),Qn(o,[{key:"initialize",value:function(u){this.gl=u,this.program=new yo(this.gl,{vertexShader:"attribute vec4 aPos;attribute vec4 aColor;attribute float aSize;uniform mat4 u_matrix;varying vec4 vColor;uniform float currentTime;uniform float trailLength;varying float vTime;void main(void){if(aColor.w>=0.0&&aColor.w<=1.0){vColor=aColor;}else{vColor=vec4(aColor.xyz,1.0);}gl_Position=u_matrix*vec4(aPos.xyz,1.0);gl_PointSize=aSize;vTime=1.0-((currentTime-aPos.w)/trailLength);}",fragmentShader:"precision highp float;varying vec4 vColor;uniform int uShape;varying float vTime;void main(void){if(vTime>1.0||vTime<0.0){discard;}if(uShape==1){float d=distance(gl_PointCoord,vec2(0.5,0.5));if(d<0.5){gl_FragColor=vColor;}else{discard;}}else{gl_FragColor=vec4(vColor.rgb,vColor.a*vTime);}}"}),this.f32BufferData=new Float32Array,this.buffer=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,this.buffer)}},{key:"onChanged",value:function(u,f){var p=this.gl;if(p){this.buffer=p.createBuffer(),p.bindBuffer(p.ARRAY_BUFFER,this.buffer);for(var S=[],x=u.color||[.1,.1,.9,1],T=u.size||5,z=0;z<f.length;z++){var G=f[z].geometry.coordinates,P=x;Object.prototype.toString.call(P)==="[object Function]"?P=P(f[z]):(P=f[z].color||x,"properties"in f[z]&&"color"in f[z].properties&&(P=f[z].properties.color)),P=this.normizedColor(P);var D=this.normizedPoint(G),U=T;U=Object.prototype.toString.call(U)==="[object Function]"?U(f[z]):Number(U);var V=f[z].time||z;"properties"in f[z]&&"time"in f[z].properties&&(V=f[z].properties.time),S.push(D[0],D[1],Number(G[2]||0),V),S.push(P[0],P[1],P[2],P[3]),S.push(U*window.devicePixelRatio)}u.endTime===void 0&&(this.endTime=f.length),this.bufferData=S,this.f32BufferData=new Float32Array(S),p.bufferData(p.ARRAY_BUFFER,this.f32BufferData,p.STATIC_DRAW)}}},{key:"render",value:function(u){var f=u.gl,p=u.matrix;0>=this.bufferData.length||(u=this.program,f.useProgram(u.program),f.uniformMatrix4fv(u.uniforms.u_matrix,!1,p),f.bindBuffer(f.ARRAY_BUFFER,this.buffer),p=this.f32BufferData.BYTES_PER_ELEMENT,f.enableVertexAttribArray(u.attributes.aPos),f.vertexAttribPointer(u.attributes.aPos,4,f.FLOAT,!1,9*p,0),f.enableVertexAttribArray(u.attributes.aColor),f.vertexAttribPointer(u.attributes.aColor,4,f.FLOAT,!1,9*p,4*p),f.enableVertexAttribArray(u.attributes.aSize),f.vertexAttribPointer(u.attributes.aSize,1,f.FLOAT,!1,9*p,8*p),f.uniform1f(u.uniforms.currentTime,this.time),f.uniform1f(u.uniforms.trailLength,this.options.trailLength||3),p=1,this.options.shape&&B0[this.options.shape]&&(p=B0[this.options.shape]),f.uniform1i(u.uniforms.uShape,p),u=this.options.blend,f.enable(f.BLEND),f.blendEquation(f.FUNC_ADD),u&&u==="lighter"?f.blendFunc(f.SRC_ALPHA,f.ONE):f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),f.drawArrays(f.POINTS,0,this.bufferData.length/9),f.bindBuffer(f.ARRAY_BUFFER,null),f.disable(f.BLEND),f.useProgram(null),this.time+=this.options.step||.1,this.time>this.endTime&&(this.time=this.startTime))}}]),o}(fa),dA=function(C){function o(h,u){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h,u)),h.bufferData=[],h.startTime=h.options.startTime||0,h.endTime=h.options.endTime,h.time=h.startTime,h.autoUpdate=!0,h}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{color:[1,.05,.05,1],trailLength:3,step:.1}}},{key:"initialize",value:function(u){this.gl=u,this.program=new yo(this.gl,{vertexShader:"precision highp float;attribute vec4 aPos;attribute vec4 aColor;uniform mat4 u_matrix;uniform float currentTime;uniform float trailLength;varying float vTime;varying vec4 vColor;void main(){gl_Position=u_matrix*vec4(aPos.xyz,1.0);vColor=aColor;vTime=1.0-((currentTime-aPos.w)/trailLength);}",fragmentShader:"precision highp float;uniform vec3 uFragColor;varying vec4 vColor;varying float vTime;void main(){if(vTime>1.0||vTime<0.0){discard;}gl_FragColor=vec4(vColor.rgb,1.0*vTime);}"},this),this.buffer=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,this.buffer)}},{key:"setTime",value:function(u){this.time=u}},{key:"onChanged",value:function(u,f){var p=this.gl;if(p){this.buffer=p.createBuffer(),p.bindBuffer(p.ARRAY_BUFFER,this.buffer);for(var S=[],x=0,T=this.options.color,z=0;z<f.length;z++){var G=f[z].geometry.coordinates;f[z].color&&(T=f[z].color),"properties"in f[z]&&"color"in f[z].properties&&(T=f[z].properties.color),Object.prototype.toString.call(T)==="[object Function]"&&(T=T(f[z])),T=this.normizedColor(T),G.length>x&&(x=G.length);for(var P=0;P<G.length-1;P++){var D=this.normizedPoint(G[P]);S.push(D[0]),S.push(D[1]),S.push(D[2]),G[P][3]===void 0?S.push(P):S.push(Number(G[P][3])),S.push(T[0]),S.push(T[1]),S.push(T[2]),S.push(T[3]),D=this.normizedPoint(G[P+1]),S.push(D[0]),S.push(D[1]),S.push(D[2]),G[P+1][3]===void 0?S.push(P+1):S.push(Number(G[P+1][3])),S.push(T[0]),S.push(T[1]),S.push(T[2]),S.push(T[3])}}u.endTime===void 0&&(this.endTime=x),this.bufferData=S,this.f32BufferData=new Float32Array(S),p.bufferData(p.ARRAY_BUFFER,this.f32BufferData,p.STATIC_DRAW)}}},{key:"render",value:function(u){var f=u.gl,p=u.matrix;u=this.program,u.use(f),f.uniformMatrix4fv(u.uniforms.u_matrix,!1,p),f.bindBuffer(f.ARRAY_BUFFER,this.buffer),p=this.f32BufferData.BYTES_PER_ELEMENT,f.enableVertexAttribArray(u.attributes.aPos),f.vertexAttribPointer(u.attributes.aPos,4,f.FLOAT,!1,8*p,0),f.enableVertexAttribArray(u.attributes.aColor),f.vertexAttribPointer(u.attributes.aColor,4,f.FLOAT,!1,8*p,4*p),p=this.normizedColor(this.options.color),f.uniform3f(u.uniforms.uFragColor,p[0],p[1],p[2]),f.uniform1f(u.uniforms.currentTime,this.time),f.uniform1f(u.uniforms.trailLength,this.options.trailLength),f.enable(f.BLEND),f.polygonOffset(2,1),this.options.blend==="lighter"?f.blendFunc(f.ONE,f.ONE):f.blendFunc(f.SRC_ALPHA,f.ONE),f.blendEquation(f.FUNC_ADD),f.drawArrays(f.LINES,0,this.bufferData.length/8),f.bindBuffer(f.ARRAY_BUFFER,null),this.time+=this.options.step,this.time>this.endTime&&(this.time=this.startTime),f.useProgram(null)}}]),o}(fa),pA=function(C){function o(h){On(this,o);var u=wi(this,(o.__proto__||ri(o)).call(this,h));return h=u.getOptions(),u.iconlayer=new F0,u.children=[u.iconlayer],u.autoUpdate=!0,u.index=[],u.newData=[],u.isStarted=h.autoPlay!==!1,u}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{flat:!1,scale:1,unit:"px",step:1}}},{key:"onOptionsChanged",value:function(u){this.iconlayer.setOptions({flat:u.flat,icon:u.icon,scale:u.scale,unit:u.unit})}},{key:"onDataChanged",value:function(u){var f=this;this.index=[],this.newData=[];for(var p=function(T){f.index.push(0);var z=u[T].geometry.coordinates,G=u[T].properties||{};u[T].geometry.type==="LineString"?f.newData.push(f._addPath(z,G)):z.forEach(function(P){f.newData.push(f._addPath(P,G))})},S=0;S<u.length;S++)p(S);this.updatePoints()}},{key:"lnglatToMercator",value:function(u,f){return f=f*Math.PI/180,f=31890685e-1*Math.log((1+Math.sin(f))/(1-Math.sin(f))),[parseFloat((u*Math.PI/180*6378137).toFixed(2)),parseFloat(f.toFixed(2))]}},{key:"getDeg",value:function(u,f){-180<u[0]&&180>u[0]&&(u=this.lnglatToMercator(u[0],u[1]),f=this.lnglatToMercator(f[0],f[1]));var p=180*Math.atan((f[1]-u[1])/(f[0]-u[0]))/Math.PI;return f[0]>u[0]&&(p-=180),p}},{key:"getPoint",value:function(u,f,p){return[u[0]+(f[0]-u[0])*p,u[1]+(f[1]-u[1])*p]}},{key:"updatePoints",value:function(){for(var u=this.newData,f=[],p=0;p<u.length;p++){for(var S=u[p].path,x=u[p].properties,T=Math.floor(this.index[p]),z=T+1;S[z]&&S[T]&&S[z][0]===S[T][0]&&S[z][1]===S[T][1];)z++;z>=S.length-1&&(z=--T),f.push({geometry:{type:"Point",coordinates:this.getPoint(S[T],S[z],this.index[p]%1)},properties:x})}this.pointData=f,this.iconlayer.setData(f,{autoRender:!1})}},{key:"getCurrentPoint",value:function(){return this.pointData}},{key:"getDistance",value:function(u,f){var p=u[1]*Math.PI/180,S=f[1]*Math.PI/180;return u=2*Math.asin(Math.sqrt(Math.pow(Math.sin((p-S)/2),2)+Math.cos(p)*Math.cos(S)*Math.pow(Math.sin((u[0]*Math.PI/180-f[0]*Math.PI/180)/2),2))),u=Math.round(6378137e4*u)/1e4}},{key:"_addPath",value:function(u,f){for(var p=u.length,S=0,x=[],T=[],z=1;z<p;z++){var G=this.getDistance(u[z-1],u[z]);x.push(G),S+=G}for(G=[0],z=1;z<p;z++){var P=(x[z-1]/S).toFixed(2);G[z]=G[z-1]+parseFloat(P,10),T=T.concat(this._getPath(u[z-1],u[z],1e3*P))}return this._pathPercents=G,{path:T,properties:f}}},{key:"_getPath",value:function(u,f,p){if(p===0)return[u];for(var S=[],x=0;x<=p;x++)S.push([(f[0]-u[0])/p*x+u[0],(f[1]-u[1])/p*x+u[1]]);return S}},{key:"start",value:function(){this.isStarted=!0}},{key:"stop",value:function(){this.isStarted=!1}},{key:"render",value:function(u){if(ac(o.prototype.__proto__||ri(o.prototype),"render",this).call(this,u),u=this.getOptions(),this.isStarted)for(var f=this.newData,p=0;p<this.index.length;p++)this.index[p]+=u.step,this.index[p]>f[p].path.length-2&&(this.index[p]=0);this.updatePoints()}}]),o}(Bu),wl=function(C){function o(h,u){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h,u)),h.initData(),h.date=new Date,h.autoUpdate=!0,h}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{color:"rgba(25, 25, 250, 1)",blend:"normal",width:2,antialias:!1,interval:.1,duration:2,trailLength:.5,minZoom:2,maxZoom:25}}},{key:"initData",value:function(){this.dataMgr={position:[],prev:[],next:[],direction:[],color:[],index:[],counter:[]}}},{key:"initialize",value:function(u){this.gl=u;var f=this.getOptions();this.program=new yo(this.gl,{vertexShader:`uniform mat4 u_matrix;uniform float thickness;uniform vec4 uSelectedColor;attribute vec3 position;attribute vec3 next;attribute vec3 previous;attribute float direction;attribute vec4 aColor;attribute float aCounter;attribute vec2 uv;varying vec4 vColor;varying vec2 vNormal;varying float vCounter;vec2 project(vec4 coord){vec3 screen=coord.xyz/coord.w;vec2 clip=(screen.xy+1.0)/2.0;return clip*MAPV_resolution;}vec4 unproject(vec2 projected,float z,float w){vec2 clip=projected/MAPV_resolution;vec2 screen=clip*2.0-1.0;return vec4(screen*w,z,w);}void main(){vColor=aColor;vCounter=aCounter;
#if defined(PICK)
if(mapvIsPicked()){vColor=uSelectedColor;}
#endif
vec4 previousProjected=u_matrix*vec4(previous,1.0);vec4 currentProjected=u_matrix*vec4(position,1.0);vec4 nextProjected=u_matrix*vec4(next,1.0);vec2 currentScreen=project(currentProjected);vec2 previousScreen=project(previousProjected);vec2 nextScreen=project(nextProjected);float len=thickness;float orientation=direction;vec2 dir=vec2(0.0);if(currentScreen==previousScreen){dir=normalize(nextScreen-currentScreen);}else if(currentScreen==nextScreen){dir=normalize(currentScreen-previousScreen);}else{vec2 dirA=normalize((currentScreen-previousScreen));vec2 dirB=normalize((nextScreen-currentScreen));vec2 tangent=normalize(dirA+dirB);vec2 perp=vec2(-dirA.y,dirA.x);vec2 miter=vec2(-tangent.y,tangent.x);dir=tangent;float angle=40.0;if(dot(dirA,dirB)>cos(radians(angle))){len=thickness/dot(miter,perp);}}vec2 normal=vec2(-dir.y,dir.x);vNormal=normal*orientation;normal*=len/2.0;vec2 pos=currentScreen+normal*orientation;vec4 finalPos=unproject(pos,currentProjected.z,currentProjected.w);gl_Position=finalPos;}`,fragmentShader:"precision highp float;uniform bool uAntialias;uniform bool uAnimate;uniform float uTime;uniform float duration;uniform float interval;uniform float trailLength;varying vec4 vColor;varying vec2 vNormal;varying float vCounter;void main(){vec4 color=vColor;if(uAntialias){float blur=1.0;blur=1.0-smoothstep(0.98,1.0,length(vNormal));color.a*=blur;}if(uAnimate){float alpha=1.0-fract(mod(1.0-vCounter,interval)*(1.0/interval)+uTime/duration);alpha=(alpha+trailLength-1.0)/trailLength;color.a*=alpha;}gl_FragColor=color;}",defines:f.enablePicked?["PICK"]:[]},this),this.prevBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.currentBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.nextBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.directionBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.colorBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.counterBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Ti({gl:u,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),f=[{stride:12,name:"previous",buffer:this.prevBuffer,size:3,type:"FLOAT",offset:0},{stride:12,name:"position",buffer:this.currentBuffer,size:3,type:"FLOAT",offset:0},{stride:12,name:"next",buffer:this.nextBuffer,size:3,type:"FLOAT",offset:0},{stride:4,name:"direction",buffer:this.directionBuffer,size:1,type:"FLOAT",offset:0},{stride:16,name:"aColor",buffer:this.colorBuffer,size:4,type:"FLOAT",offset:0},{stride:4,name:"aCounter",buffer:this.counterBuffer,size:1,type:"FLOAT",offset:0}],f=f.concat(this.getCommonAttributes()),this.vertexArray=new La({gl:u,program:this.program,attributes:f})}},{key:"destroy",value:function(){this.options&&this.options.enablePicked&&(this.pickBuffer=null),this.options=this.data=this.dataMgr=this.indexBuffer=this.uvBuffer=this.counterBuffer=this.directionBuffer=this.colorBuffer=this.nextBuffer=this.currentBuffer=this.prevBuffer=this.program=this.vertexArray=null}},{key:"onChanged",value:function(u,f){var p=this;if(this.gl){this.initData();for(var S=1,x=[],T=0;T<f.length;T++){var z=[],G=f[T].geometry.coordinates;G&&0<G.length&&(z=f[T].geometry.type==="Polygon"?G[0].map(function(J){return p.normizedPoint(J)}):G.map(function(J){return p.normizedPoint(J)})),z=Cn(z),G=z.total,x[T]=z.arr,S=Math.max(G,S)}for(T=[],z=u.color,G=0;G<f.length;G++){var P=[],D=f[G].geometry.coordinates;D&&0<D.length&&(P=f[G].geometry.type==="Polygon"?D[0].map(function(J){return p.normizedPoint(J)}):D.map(function(J){return p.normizedPoint(J)})),D=z,Object.prototype.toString.call(D)==="[object Function]"?D=D(f[G]):(D=f[G].color||z,"properties"in f[G]&&"color"in f[G].properties&&(D=f[G].properties.color)),D=this.normizedColor(D);for(var U=this.addMultipleCoords(P),V=0;V<U.length;V++)this.processData(this.dataMgr,U[V],x[G],S,D);if(u.enablePicked)for(D=this.indexToRgb(G),U=0;U<P.length;U++)T.push(D[0]/255,D[1]/255,D[2]/255),T.push(D[0]/255,D[1]/255,D[2]/255),u.repeat&&(T.push(D[0]/255,D[1]/255,D[2]/255),T.push(D[0]/255,D[1]/255,D[2]/255),T.push(D[0]/255,D[1]/255,D[2]/255),T.push(D[0]/255,D[1]/255,D[2]/255))}this.counterBuffer.updateData(new Float32Array(this.dataMgr.counter)),this.currentBuffer.updateData(new Float32Array(this.dataMgr.position)),this.prevBuffer.updateData(new Float32Array(this.dataMgr.prev)),this.nextBuffer.updateData(new Float32Array(this.dataMgr.next)),this.directionBuffer.updateData(new Float32Array(this.dataMgr.direction)),this.colorBuffer.updateData(new Float32Array(this.dataMgr.color)),this.indexBuffer.updateData(new Uint32Array(this.dataMgr.index)),u.enablePicked&&this.pickBuffer.updateData(new Float32Array(T))}}},{key:"processData",value:function(u,f,p,S,x){var T,z,G,P,D,U,V,J=f.length,ne=u.position.length/6;p=Au(p.map(function(De){return De/S}));var re=Au(f.map(function(De){return-1}),!0),Q=Au(f),he=Au(f.map(ug(-1))),Me=Au(f.map(ug(1)));f=Au(f.map(function(De){return x})),J=tx(J,ne),(T=u.counter).push.apply(T,ro(p)),(z=u.position).push.apply(z,ro(Xh(Q))),(G=u.prev).push.apply(G,ro(Xh(he))),(P=u.next).push.apply(P,ro(Xh(Me))),(D=u.direction).push.apply(D,ro(re)),(U=u.color).push.apply(U,ro(Xh(f))),(V=u.index).push.apply(V,ro(J))}},{key:"render",value:function(u){var f=u.gl,p=u.matrix,S=this.dataMgr;if(S&&!(0>=S.index.length)){var x=this.getOptions(),T=this.program;if(T.use(f),this.map){var z=this.map.getZoom();z=!!(z>=x.minZoom&&z<=x.maxZoom&&this.autoUpdate)}else z=!0;T.setUniforms(_o(this.getCommonUniforms(u),{u_matrix:p,thickness:x.width,uAntialias:x.antialias,uTime:(new Date-this.date)/1e3,uAnimate:z,duration:x.duration,interval:x.interval,trailLength:x.trailLength})),f.enable(f.BLEND),f.blendEquation(f.FUNC_ADD),x.blend&&x.blend==="lighter"?f.blendFunc(f.SRC_ALPHA,f.ONE):f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),this.indexBuffer.bind(),this.vertexArray.bind(),f.drawElements(f.TRIANGLES,S.index.length,f.UNSIGNED_INT,0),f.bindBuffer(f.ARRAY_BUFFER,null),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,null),f.disable(f.BLEND)}}}]),o}(fa),z0=function(C){function o(h,u){return On(this,o),wi(this,(o.__proto__||ri(o)).call(this,h,u))}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{}}},{key:"initialize",value:function(u){this.gl=u;var f=this.getOptions();this.texture=null,this.program=new yo(this.gl,{vertexShader:`precision highp float;attribute vec3 a_pos;attribute vec2 a_texture_coord;uniform sampler2D uTerrain;uniform mat4 u_proj_matrix;uniform mat4 u_mv_matrix;varying vec2 v_texture_coord;void main(){v_texture_coord=a_texture_coord;vec3 pos=a_pos.xyz;
#if defined(TERRAIN)
vec4 terrainColor=texture2D(uTerrain,vec2(v_texture_coord.s,v_texture_coord.t));vec3 rgb=terrainColor.rgb*256.0;pos.z=-10000.0+((rgb.r*256.0*256.0+rgb.g*256.0+rgb.b)*0.1);pos.z=pos.z-60.0;
#endif
vec4 position=u_proj_matrix*u_mv_matrix*vec4(pos,1.0);gl_Position=position;}`,fragmentShader:"precision highp float;varying vec2 v_texture_coord;uniform sampler2D uTile;uniform bool uUseFilter;uniform vec4 uFilterColor;void main(){vec4 textureColor=texture2D(uTile,vec2(v_texture_coord.s,v_texture_coord.t));if(uUseFilter){textureColor=textureColor*uFilterColor;}gl_FragColor=textureColor;}",defines:f.terrain?["TERRAIN"]:""},this),this.vertexBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Ti({gl:u,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.vertexArray=new La({gl:u,program:this.program,attributes:[{name:"a_pos",buffer:this.vertexBuffer,stride:20,size:3,type:"FLOAT",offset:0},{name:"a_texture_coord",buffer:this.vertexBuffer,size:2,stride:20,type:"FLOAT",offset:12}]})}},{key:"onChanged",value:function(u,f){var p=this;this.gl&&(this.loadTextureTime&&clearTimeout(this.loadTextureTime),this.loadTextureTime=setTimeout(function(){p.loadTexture(function(){p.parseData(f),p.dataTime=new Date,p.webglLayer.render()})},0))}},{key:"render",value:function(u){var f=u.gl,p=u.projectionMatrix;u=u.viewMatrix;var S=this.getOptions(),x=this.program,T=x.uniforms;x.use(f),this.texture&&(f.activeTexture(f.TEXTURE0),f.uniform1i(T.uTile,0),f.bindTexture(f.TEXTURE_2D,this.texture),f.activeTexture(f.TEXTURE1),f.uniform1i(T.uTerrain,1),f.bindTexture(f.TEXTURE_2D,this.terrainSampler),f.disable(f.CULL_FACE),x.setUniforms({u_proj_matrix:p,uUseFilter:!!S.filterColor,uFilterColor:this.normizedColor(S.filterColor||"rgba(0, 0, 100, 1.0)"),u_mv_matrix:u}),0<this.index.length&&(this.indexBuffer.bind(),this.vertexArray.bind(),f.drawElements(f.TRIANGLES,this.index.length,f.UNSIGNED_INT,0)))}},{key:"loadTexture",value:function(u){var f=this,p=this.getOptions();p.tile?p.terrain?As(this.gl,p.terrain,function(S,x){f.terrainSampler=S,As(f.gl,p.tile,function(T,z){f.texture=T,u&&u(),f.webglLayer.render()})},{TEXTURE_WRAP_S:"MIRRORED_REPEAT",TEXTURE_WRAP_T:"MIRRORED_REPEAT"}):As(this.gl,p.tile,function(S,x){f.texture=S,u&&u(),f.webglLayer.render()}):(this.texture=null,u&&u())}},{key:"parseData",value:function(u){var f=this,p=[],S=[];if(u&&u[0]){var x=u[0].geometry.coordinates[0];x=x.map(function(J){return f.normizedPoint(J)}),u=x[0][0];var T=x[0][1],z=x[0][2],G=(x[2][0]-u)/16;x=(x[2][1]-T)/16;for(var P=0;16>=P;P++)for(var D=0;16>=D;D++)if(p.push(u+G*D,T+x*P,z),p.push(D/16,P/16),16>D&&16>P){var U=17*P+D,V=17*(P+1)+D;S.push(U,V+1,U+1),S.push(U,V,V+1)}}this.index=S,this.vertexBuffer.updateData(new Float32Array(p)),this.indexBuffer.updateData(new Uint32Array(S))}}]),o}(fa),ls=function(C){function o(h,u){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h,u)),h.index=[],u=h.canvas=document.createElement("canvas"),h.ctx=u.getContext("2d"),h.iconHash=new Zc,h}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{unit:"px",scale:1,angle:0,offsetZ:0,padding:[0,0],polygonOffset:[0,0]}}},{key:"initialize",value:function(u){this.gl=u;var f=this.getOptions();this.texture=null,this.program=new yo(this.gl,{vertexShader:"precision highp float;attribute vec3 a_pos;attribute float a_corner;attribute float a_rotation;attribute float a_offsetZ;attribute vec2 a_size;attribute vec2 a_texture_coord;uniform mat4 u_matrix;uniform vec2 u_size;uniform float u_zoom_units;uniform float u_scale;uniform bool u_unit_px;varying vec2 v_texture_coord;/***\u4E09\u7EF4\u7A7A\u95F4\u5185\uFF0C\u7ED5Z\u8F74\u65CB\u8F6C\u7684\u77E9\u9635\uFF0C\u53F3\u624B\u5750\u6807\u7CFB\u4E0B*[x'][cos0-sin0  0  0]*[y']=[sin0 cos0   0  0]*[z'][0     0     1  0]*[1][0     0     0  1]*/mat3 rotateZ(float angle){float cos0=cos(angle);float sin0=sin(angle);return mat3(cos0,sin0,0.,-sin0,cos0,0.,0.,0.,1.);}vec3 transformCoord(vec3 coord,vec2 size,float corner){float x=coord.x;float y=coord.y;float z=coord.z;mat3 mat=rotateZ(a_rotation);vec3 rotated=vec3(size[0],0.0,size[1]);if(corner==1.0){rotated=mat*vec3(-size[0],0.0,size[1]);}else if(corner==2.0){rotated=mat*vec3(size[0],0.0,size[1]);}else if(corner==3.0){rotated=mat*vec3(size[0],0.0,-size[1]);}else{rotated=mat*vec3(-size[0],0.0,-size[1]);}x+=rotated.x;y+=rotated.y;z+=rotated.z;return vec3(x,y,z);}void main(){v_texture_coord=a_texture_coord;vec2 halfSize=a_size/2.0*u_scale;if(u_unit_px){halfSize*=u_zoom_units;}vec3 current=transformCoord(a_pos,halfSize,a_corner);current.z+=a_offsetZ;gl_Position=u_matrix*vec4(current,1.0);}",fragmentShader:`precision highp float;varying vec2 v_texture_coord;uniform sampler2D u_icon;uniform vec4 uSelectedColor;void main(){vec4 textureColor=texture2D(u_icon,vec2(v_texture_coord.x,1.0-v_texture_coord.y));if(textureColor.a==0.0&&uIsPickRender==false){discard;}gl_FragColor=textureColor;
#if defined(PICK)
if(mapvIsPicked()){gl_FragColor=vec4(uSelectedColor.rgb,gl_FragColor.a);}
#endif
}`,defines:f.enablePicked?["PICK"]:[]},this),this.vertexBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.uvBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Ti({gl:u,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),f=[{name:"a_pos",buffer:this.vertexBuffer,size:3,stride:32,type:"FLOAT",offset:0},{name:"a_corner",buffer:this.vertexBuffer,size:1,stride:32,type:"FLOAT",offset:12},{name:"a_size",buffer:this.vertexBuffer,size:2,stride:32,type:"FLOAT",offset:16},{name:"a_offsetZ",buffer:this.vertexBuffer,size:1,stride:32,type:"FLOAT",offset:24},{name:"a_rotation",buffer:this.vertexBuffer,size:1,stride:32,type:"FLOAT",offset:28},{name:"a_texture_coord",buffer:this.uvBuffer,size:2,stride:8,type:"FLOAT",offset:0}],f=f.concat(this.getCommonAttributes()),this.vertexArray=new La({gl:u,program:this.program,attributes:f})}},{key:"destroy",value:function(){this.options&&this.options.enablePicked&&(this.pickBuffer=null),this.canvas=this.iconHash=this.cachedData=this.options=this.data=this.indexBuffer=this.uvBuffer=this.vertexBuffer=this.program=this.vertexArray=null}},{key:"onChanged",value:function(u,f){this.gl&&this.processCache(u,f)}},{key:"processCache",value:function(u,f){var p=this;this.cachedData=[];for(var S=u.icon,x=u.width,T=u.height,z=u.offsetZ,G=u.angle,P=0;P<f.length;P++){var D=this.normizedPoint(f[P].geometry.coordinates),U=this.getProperty("icon",S,f[P]),V=this.getProperty("width",x,f[P]),J=this.getProperty("height",T,f[P]),ne=this.getProperty("angle",G,f[P]),re=this.getProperty("offsetZ",z,f[P]);D&&U&&(this.cachedData.push({point:D,icon:U,width:V,height:J,offsetZ:re,angle:ne}),this.iconHash.get(U)||this.iconHash.set(U,U))}f=Lc(this.iconHash.entries()).filter(function(Q){return typeof Q[1]=="string"}).map(function(Q){var he=ms(Q,2)[0];return new N0(function(Me,De){p.url2canvas(he,function(Ue){p.iconHash.set(he,Ue),Me()})})}),N0.all(f).then(function(Q){p.buildSprite(u),p.webglLayer.render()})}},{key:"buildSprite",value:function(u){var f=u.padding,p=this.canvas,S=this.ctx,x=[],T=new Zc,z=!0,G=!1,P=void 0;try{for(var D=lf(this.iconHash),U;!(z=(U=D.next()).done);z=!0){var V=ms(U.value,2),J=V[1];if(typeof J!="string"){var ne=J.width,re=J.height;x.push({w:ne+f[0],h:re+f[0],width:ne,height:re,key:V[0],icon:J})}}}catch(Q){G=!0,P=Q}finally{try{!z&&D.return&&D.return()}finally{if(G)throw P}}for(G=Vp(x),z=0;z<x.length;z++)P=x[z],T.get(P.key)||T.set(P.key,P);for(z=zn(G.w),G=zn(G.h),p.width=z||1,p.height=G||1,S.save(),p=0;p<x.length;p++)P=x[p],S.drawImage(P.icon,P.x+f[0],P.y+f[1],P.width,P.height);S.restore(),this.loadTexture(),this.buildVertex(u,T,z,G)}},{key:"buildVertex",value:function(u,f,p,S){u=u.enablePicked;for(var x=[],T=[],z=[],G=[],P=0;P<this.cachedData.length;P++){var D=this.cachedData[P],U=D.point,V=D.width,J=D.height,ne=D.offsetZ,re=D.angle;if(D=f.get(D.icon)){V=V||D.icon.width,J=J||D.icon.height;var Q=ms(U,3);U=Q[0];var he=Q[1];Q=Q[2];for(var Me=0;4>Me;Me++)x.push(U,he,Q),x.push(Me),x.push(V,J),x.push(ne),x.push(re*Math.PI/180);V=D.x/p,J=(D.x+D.w)/p,ne=(D.y+D.h)/S,D=D.y/S,T.push(V,ne,V,D,J,D,J,ne),D=4*P,z.push(D,D+2,D+1,D,D+3,D+2),u&&(D=this.indexToRgb(P),G.push(D[0]/255,D[1]/255,D[2]/255),G.push(D[0]/255,D[1]/255,D[2]/255),G.push(D[0]/255,D[1]/255,D[2]/255),G.push(D[0]/255,D[1]/255,D[2]/255))}}this.index=z,this.vertexBuffer.updateData(new Float32Array(x)),this.uvBuffer.updateData(new Float32Array(T)),this.indexBuffer.updateData(new Uint32Array(z)),u&&this.pickBuffer.updateData(new Float32Array(G))}},{key:"render",value:function(u){if(this.cachedData&&this.cachedData.length&&this.iconHash&&this.texture){var f=u.gl,p=u.matrix,S=this.getOptions(),x=this.program;x.use(f),f.enable(f.BLEND),f.blendFunc(f.SRC_ALPHA,f.ONE_MINUS_SRC_ALPHA),f.enable(f.POLYGON_OFFSET_FILL),f.polygonOffset(S.polygonOffset[0],S.polygonOffset[1]),x.setUniforms(_o(this.getCommonUniforms(u),{u_icon:this.texture,u_matrix:p,u_unit_px:S.unit==="px",u_zoom_units:this.map.getZoomUnits(),u_scale:S.scale})),0<this.index.length&&(this.indexBuffer.bind(),this.vertexArray.bind(),f.drawElements(f.TRIANGLES,this.index.length,f.UNSIGNED_INT,0)),f.disable(f.POLYGON_OFFSET_FILL),f.useProgram(null)}}},{key:"url2canvas",value:function(u,f){if((typeof u=="undefined"?"undefined":Ol(u))==="object")f(u);else{var p=new Image;p.crossOrigin="anonymous",p.onload=function(){var S=p.width,x=p.height,T=document.createElement("canvas");T.width=S,T.height=x,T.getContext("2d").drawImage(p,0,0,S,x),f(T)},p.onerror=function(){var S=document.createElement("canvas");S.width=20,S.height=40;var x=S.getContext("2d");x.fillStyle="red",x.beginPath(),x.lineTo(0,0),x.lineTo(20,0),x.lineTo(10,40),x.closePath(),x.fill(),f(S)},p.src=u}}},{key:"loadTexture",value:function(){var u=this;this.canvas?As(this.gl,this.canvas,function(f){u.texture=f}):this.texture=null}}]),o}(fa),Dx=function(C){function o(h){On(this,o);var u=wi(this,(o.__proto__||ri(o)).call(this,h));return h=u.getOptions(),u.shapeLayer=new y0({enablePicked:h.enablePicked}),u.lineLayer=new Yc,u.children=[u.shapeLayer,u.lineLayer],u}return ji(o,C),Qn(o,[{key:"pick",value:function(u,f){return this.shapeLayer.pick(u,f)}},{key:"onOptionsChanged",value:function(u){this.shapeLayer.setOptions({onClick:function(p){u.onClick&&u.onClick(p)},selectedIndex:u.selectedIndex,selectedColor:u.selectedColor,height:0,polygonOffset:[1,1],autoSelect:u.autoSelect,color:u.fillColor,opacity:u.fillOpacity,topColor:u.fillColor,useLight:!1}),this.lineLayer.setOptions({polygonOffset:[-1,-1],dashArray:u.dashArray,color:u.lineColor,width:u.lineWidth,lineJoin:u.lineJoin})}},{key:"onDataChanged",value:function(u){this.shapeLayer.setData(u),this.lineLayer.setData(u)}},{key:"getDefaultOptions",value:function(){return{enablePicked:!1,selectedIndex:-1,selectedColor:"#ff0000",autoSelect:!0,dashArray:[0,0],lineColor:"rgba(250, 250, 25, 1)",lineWidth:2,lineJoin:"miter",fillColor:"rgba(25, 25, 250, 1)",fillOpacity:1}}}]),o}(Bu),ja=ja||{},sc=0,lc=null,Ts=ja.Scene=function(C,o){this.name=o.name!==void 0?o.name:null,this.nodes=Array(o.nodes.length);for(var h=0,u=o.nodes.length;h<u;h++)this.nodes[h]=C.nodes[o.nodes[h]];this.extensions=o.extensions!==void 0?o.extensions:null,this.extras=o.extras!==void 0?o.extras:null,this.boundingBox=null},Oh=ja.BoundingBox=function(C,o,h){C=C||ai.fromValues(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),o=o||ai.fromValues(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),h===void 0||h===!0?(this.min=ai.clone(C),this.max=ai.clone(o)):(this.min=C,this.max=o),this.transform=dn.create()};Oh.prototype.updateBoundingBox=function(C){ai.min(this.min,this.min,C.min),ai.max(this.max,this.max,C.max)},Oh.prototype.calculateTransform=function(){this.transform[0]=this.max[0]-this.min[0],this.transform[5]=this.max[1]-this.min[1],this.transform[10]=this.max[2]-this.min[2],this.transform[12]=this.min[0],this.transform[13]=this.min[1],this.transform[14]=this.min[2]},Oh.getAABBFromOBB=function(){var C=ai.create(),o=ai.create(),h=ai.create(),u=ai.create(),f=ai.create();return function(p,S){ai.set(C,S[0],S[1],S[2]),ai.set(o,S[4],S[5],S[6]),ai.set(h,S[8],S[9],S[10]),S=ai.fromValues(S[12],S[13],S[14]);var x=ai.clone(S);return ai.scale(u,C,p.min[0]),ai.scale(f,C,p.max[0]),ai.min(C,u,f),ai.add(S,S,C),ai.max(C,u,f),ai.add(x,x,C),ai.scale(u,o,p.min[1]),ai.scale(f,o,p.max[1]),ai.min(o,u,f),ai.add(S,S,o),ai.max(o,u,f),ai.add(x,x,o),ai.scale(u,h,p.min[2]),ai.scale(f,h,p.max[2]),ai.min(h,u,f),ai.add(S,S,h),ai.max(h,u,f),ai.add(x,x,h),p=new Oh(S,x,!1),p.calculateTransform(),p}}();var Ul=ja.Accessor=function(C,o){this.bufferView=o,this.componentType=C.componentType,this.byteOffset=C.byteOffset!==void 0?C.byteOffset:0,this.byteStride=o.byteStride,this.normalized=C.normalized!==void 0?C.normalized:!1,this.count=C.count,this.type=C.type,this.size=Fx[this.type],this.min=C.min,this.max=C.max,this.extensions=C.extensions!==void 0?C.extensions:null,this.extras=C.extras!==void 0?C.extras:null};Ul.prototype.prepareVertexAttrib=function(C,o){o.vertexAttribPointer(C,this.size,this.componentType,this.normalized,this.byteStride,this.byteOffset),o.enableVertexAttribArray(C)};var Rh=ja.BufferView=function(C,o){this.byteLength=C.byteLength,this.byteOffset=C.byteOffset!==void 0?C.byteOffset:0,this.byteStride=C.byteStride!==void 0?C.byteStride:0,this.target=C.target!==void 0?C.target:null,this.data=o.slice(this.byteOffset,this.byteOffset+this.byteLength),this.extensions=C.extensions!==void 0?C.extensions:null,this.extras=C.extras!==void 0?C.extras:null,this.buffer=null};Rh.prototype.createBuffer=function(C){this.buffer=C.createBuffer()},Rh.prototype.bindData=function(C){return this.target?(C.bindBuffer(this.target,this.buffer),C.bufferData(this.target,this.data,C.STATIC_DRAW),C.bindBuffer(this.target,null),!0):!1};var mA=ja.Camera=function(C){this.name=C.name!==void 0?C.name:null,this.type=C.type,this.othographic=C.othographic===void 0?null:C.othographic,this.perspective=C.perspective===void 0?null:{yfov:C.perspective.yfov,znear:C.perspective.znear,zfar:C.perspective.zfar!==void 0?C.perspective.zfar:null,aspectRatio:C.perspective.aspectRatio!==void 0?C.perspective.aspectRatio:null},this.extensions=C.extensions!==void 0?C.extensions:null,this.extras=C.extras!==void 0?C.extras:null},wd=ja.Node=function(C,o){if(this.name=C.name!==void 0?C.name:null,this.nodeID=o,this.camera=C.camera!==void 0?C.camera:null,this.matrix=dn.create(),C.hasOwnProperty("matrix")){for(o=0;16>o;++o)this.matrix[o]=C.matrix[o];this.translation=ai.create(),dn.getTranslation(this.translation,this.matrix),this.rotation=wf.create(),dn.getRotation(this.rotation,this.matrix),this.scale=ai.create(),dn.getScaling(this.scale,this.matrix)}else this.getTransformMatrixFromTRS(C.translation,C.rotation,C.scale);this.children=C.children||[],this.mesh=C.mesh!==void 0?lc.glTF.meshes[C.mesh]:null,this.skin=C.skin!==void 0?C.skin:null,C.extensions!==void 0&&C.extensions.gl_avatar!==void 0&&lc.enableGLAvatar===!0&&(this.skin=new vA(lc.glTF,lc.skeletonGltf.skins[lc.skeletonGltf.json.extensions.gl_avatar.skins[C.extensions.gl_avatar.skin.name]],C.extensions.gl_avatar.skin.inverseBindMatrices)),this.weights=C.weights!==void 0?C.weights:null,this.extensions=C.extensions!==void 0?C.extensions:null,this.extras=C.extras!==void 0?C.extras:null,this.aabb=null,this.bvh=new Oh};wd.prototype.traverse=function(C,o){o(this,C),C=0;for(var h=this.children.length;C<h;C++)this.children[C].traverse(this,o)},wd.prototype.traversePostOrder=function(C,o){for(var h=0,u=this.children.length;h<u;h++)this.children[h].traversePostOrder(this,o);o(this,C)},wd.prototype.traverseTwoExecFun=function(C,o,h){o(this,C);for(var u=0,f=this.children.length;u<f;u++)this.children[u].traverseTwoExecFun(this,o,h);h(this,C)};var Pf=dn.create();wd.prototype.getTransformMatrixFromTRS=function(C,o,h){this.translation=C!==void 0?ai.fromValues(C[0],C[1],C[2]):ai.fromValues(0,0,0),this.rotation=o!==void 0?tu.fromValues(o[0],o[1],o[2],o[3]):tu.fromValues(0,0,0,1),this.scale=h!==void 0?ai.fromValues(h[0],h[1],h[2]):ai.fromValues(1,1,1),this.updateMatrixFromTRS()},wd.prototype.updateMatrixFromTRS=function(){dn.fromRotationTranslation(Pf,this.rotation,this.translation),dn.scale(this.matrix,Pf,this.scale)};var Zs=ja.Mesh=function(C,o){this.meshID=o,this.name=C.name!==void 0?C.name:null,this.primitives=[],this.boundingBox=null,o=0;for(var h=C.primitives.length;o<h;++o){var u=C.primitives[o];u=new d1(lc.glTF,u),this.primitives.push(u),u.boundingBox&&(this.boundingBox||(this.boundingBox=new Oh),this.boundingBox.updateBoundingBox(u.boundingBox))}this.boundingBox&&this.boundingBox.calculateTransform(),this.weights=C.weights!==void 0?C.weights:null,this.extensions=C.extensions!==void 0?C.extensions:null,this.extras=C.extras!==void 0?C.extras:null},d1=ja.Primitive=function(C,o){this.attributes=o.attributes,this.indices=o.indices!==void 0?o.indices:null;var h;if(o.extensions!==void 0&&o.extensions.gl_avatar!==void 0&&lc.enableGLAvatar===!0&&o.extensions.gl_avatar.attributes)for(h in o.extensions.gl_avatar.attributes)this.attributes[h]=o.extensions.gl_avatar.attributes[h];this.indices!==null?(this.indicesComponentType=C.json.accessors[this.indices].componentType,this.indicesLength=C.json.accessors[this.indices].count,this.indicesOffset=C.json.accessors[this.indices].byteOffset||0):(this.drawArraysCount=C.json.accessors[this.attributes.POSITION].count,this.drawArraysOffset=C.json.accessors[this.attributes.POSITION].byteOffset||0);for(h in this.attributes)this.attributes[h]=C.accessors[this.attributes[h]];this.material=o.material!==void 0?C.materials[o.material]:null,this.mode=o.mode!==void 0?o.mode:4,this.targets=o.targets,this.extensions=o.extensions!==void 0?o.extensions:null,this.extras=o.extras!==void 0?o.extras:null,this.boundingBox=this.shader=this.indexBuffer=this.vertexBuffer=this.vertexArray=null,this.attributes.POSITION!==void 0&&(C=this.attributes.POSITION,C.max&&C.type==="VEC3"&&(this.boundingBox=new Oh(ai.fromValues(C.min[0],C.min[1],C.min[2]),ai.fromValues(C.max[0],C.max[1],C.max[2]),!1),this.boundingBox.calculateTransform()))},tv=ja.Texture=function(C){this.name=C.name!==void 0?C.name:null,this.sampler=C.sampler!==void 0?lc.glTF.samplers[C.sampler]:null,this.source=C.source!==void 0?lc.glTF.images[C.source]:null,this.extensions=C.extensions!==void 0?C.extensions:null,this.extras=C.extras!==void 0?C.extras:null,this.texture=null};tv.prototype.createTexture=function(C){this.texture=C.createTexture(),C.bindTexture(C.TEXTURE_2D,this.texture),C.texImage2D(C.TEXTURE_2D,0,C.RGBA,C.RGBA,C.UNSIGNED_BYTE,this.source),C.generateMipmap(C.TEXTURE_2D),C.bindTexture(C.TEXTURE_2D,null)};var Lh=ja.Sampler=function(C){this.name=C.name!==void 0?C.name:null,this.magFilter=C.magFilter!==void 0?C.magFilter:null,this.minFilter=C.minFilter!==void 0?C.minFilter:null,this.wrapS=C.wrapS!==void 0?C.wrapS:10497,this.wrapT=C.wrapT!==void 0?C.wrapT:10497,this.extensions=C.extensions!==void 0?C.extensions:null,this.extras=C.extras!==void 0?C.extras:null,this.sampler=null};Lh.prototype.createSampler=function(C){this.sampler=C.createSampler(),this.minFilter?C.samplerParameteri(this.sampler,C.TEXTURE_MIN_FILTER,this.minFilter):C.samplerParameteri(this.sampler,C.TEXTURE_MIN_FILTER,C.NEAREST_MIPMAP_LINEAR),this.magFilter?C.samplerParameteri(this.sampler,C.TEXTURE_MAG_FILTER,this.magFilter):C.samplerParameteri(this.sampler,C.TEXTURE_MAG_FILTER,C.LINEAR),C.samplerParameteri(this.sampler,C.TEXTURE_WRAP_S,this.wrapS),C.samplerParameteri(this.sampler,C.TEXTURE_WRAP_T,this.wrapT)};var Pm=ja.TextureInfo=function(C){this.index=C.index,this.texCoord=C.texCoord!==void 0?C.texCoord:0,this.extensions=C.extensions!==void 0?C.extensions:null,this.extras=C.extras!==void 0?C.extras:null},uc=ja.PbrMetallicRoughness=function(C){this.baseColorFactor=C.baseColorFactor!==void 0?C.baseColorFactor:[1,1,1,1],this.baseColorTexture=C.baseColorTexture!==void 0?new Pm(C.baseColorTexture):null,this.metallicFactor=C.metallicFactor!==void 0?C.metallicFactor:1,this.roughnessFactor=C.roughnessFactor!==void 0?C.roughnessFactor:1,this.metallicRoughnessTexture=C.metallicRoughnessTexture!==void 0?new Pm(C.metallicRoughnessTexture):null,this.extensions=C.extensions!==void 0?C.extensions:null,this.extras=C.extras!==void 0?C.extras:null},gA=ja.NormalTextureInfo=function(C){this.index=C.index,this.texCoord=C.texCoord!==void 0?C.texCoord:0,this.scale=C.scale!==void 0?C.scale:1,this.extensions=C.extensions!==void 0?C.extensions:null,this.extras=C.extras!==void 0?C.extras:null},Nx=ja.OcclusionTextureInfo=function(C){this.index=C.index,this.texCoord=C.texCoord!==void 0?C.texCoord:0,this.strength=C.strength!==void 0?C.strength:1,this.extensions=C.extensions!==void 0?C.extensions:null,this.extras=C.extras!==void 0?C.extras:null},A2=ja.Material=function(C){this.name=C.name!==void 0?C.name:null,this.pbrMetallicRoughness=C.pbrMetallicRoughness!==void 0?new uc(C.pbrMetallicRoughness):new uc({baseColorFactor:[1,1,1,1],metallicFactor:1,metallicRoughnessTexture:1}),this.normalTexture=C.normalTexture!==void 0?new gA(C.normalTexture):null,this.occlusionTexture=C.occlusionTexture!==void 0?new Nx(C.occlusionTexture):null,this.emissiveTexture=C.emissiveTexture!==void 0?new Pm(C.emissiveTexture):null,this.emissiveFactor=C.emissiveFactor!==void 0?C.emissiveFactor:[0,0,0],this.alphaMode=C.alphaMode!==void 0?C.alphaMode:"OPAQUE",this.alphaCutoff=C.alphaCutoff!==void 0?C.alphaCutoff:.5,this.doubleSided=C.doubleSided||!1,this.extensions=C.extensions!==void 0?C.extensions:null,this.extras=C.extras!==void 0?C.extras:null},zs=ja.Skin=function(C,o,h){this.name=o.name!==void 0?o.name:null,this.skinID=h,this.joints=Array(o.joints.length);var u;for(h=0,u=this.joints.length;h<u;h++)this.joints[h]=C.nodes[o.joints[h]];if(this.skeleton=o.skeleton!==void 0?C.nodes[o.skeleton]:null,this.inverseBindMatrices=o.inverseBindMatrices!==void 0?C.accessors[o.inverseBindMatrices]:null,this.extensions=o.extensions!==void 0?o.extensions:null,this.extras=o.extras!==void 0?o.extras:null,this.uniformBlockID=sc++,this.inverseBindMatrices)for(this.inverseBindMatricesData=hg(this.inverseBindMatrices),this.inverseBindMatrix=[],this.jointMatrixUniformBuffer=null,this.jointMatrixUnidormBufferData=new Float32Array(1040),h=0,u=this.inverseBindMatricesData.length;h<u;h+=16)this.inverseBindMatrix.push(dn.fromValues(this.inverseBindMatricesData[h],this.inverseBindMatricesData[h+1],this.inverseBindMatricesData[h+2],this.inverseBindMatricesData[h+3],this.inverseBindMatricesData[h+4],this.inverseBindMatricesData[h+5],this.inverseBindMatricesData[h+6],this.inverseBindMatricesData[h+7],this.inverseBindMatricesData[h+8],this.inverseBindMatricesData[h+9],this.inverseBindMatricesData[h+10],this.inverseBindMatricesData[h+11],this.inverseBindMatricesData[h+12],this.inverseBindMatricesData[h+13],this.inverseBindMatricesData[h+14],this.inverseBindMatricesData[h+15]))},vA=ja.SkinLink=function(C,o,h){if(this.isLink=!0,C.skins||(C.skins=[]),C.skins.push(this),this.name=o.name,this.skinID=C.skins.length-1,this.joints=o.joints,this.skeleton=o.skeleton,this.inverseBindMatrices=h!==void 0?C.accessors[h]:null,this.uniformBlockID=sc++,this.inverseBindMatrices)for(this.inverseBindMatricesData=hg(this.inverseBindMatrices),this.inverseBindMatrix=[],this.jointMatrixUniformBuffer=null,this.jointMatrixUnidormBufferData=new Float32Array(1040),C=0,o=this.inverseBindMatricesData.length;C<o;C+=16)this.inverseBindMatrix.push(dn.fromValues(this.inverseBindMatricesData[C],this.inverseBindMatricesData[C+1],this.inverseBindMatricesData[C+2],this.inverseBindMatricesData[C+3],this.inverseBindMatricesData[C+4],this.inverseBindMatricesData[C+5],this.inverseBindMatricesData[C+6],this.inverseBindMatricesData[C+7],this.inverseBindMatricesData[C+8],this.inverseBindMatricesData[C+9],this.inverseBindMatricesData[C+10],this.inverseBindMatricesData[C+11],this.inverseBindMatricesData[C+12],this.inverseBindMatricesData[C+13],this.inverseBindMatricesData[C+14],this.inverseBindMatricesData[C+15]))},rv=ja.Target=function(C){this.nodeID=C.node!==void 0?C.node:null,this.path=C.path,this.extensions=C.extensions!==void 0?C.extensions:null,this.extras=C.extras!==void 0?C.extras:null},w2=ja.Channel=function(C,o){this.sampler=o.samplers[C.sampler],this.target=new rv(C.target),this.extensions=C.extensions!==void 0?C.extensions:null,this.extras=C.extras!==void 0?C.extras:null},j0=ja.AnimationSampler=function(C,o){this.input=C.accessors[o.input],this.output=C.accessors[o.output],this.inputTypedArray=hg(this.input),this.outputTypedArray=hg(this.output),this.interpolation=o.interpolation!==void 0?o.interpolation:"LINEAR",this.extensions=o.extensions!==void 0?o.extensions:null,this.extras=o.extras!==void 0?o.extras:null,this.curIdx=0,this.curValue=tu.create(),this.endT=this.inputTypedArray[this.inputTypedArray.length-1],this.inputMax=this.endT-this.inputTypedArray[0]},cc=tu.create(),p1=tu.create();j0.prototype.getValue=function(C){C>this.endT&&(C-=this.inputMax*Math.ceil((C-this.endT)/this.inputMax),this.curIdx=0);for(var o=this.inputTypedArray.length;this.curIdx<=o-2&&C>=this.inputTypedArray[this.curIdx+1];)this.curIdx++;this.curIdx>=o-1&&(C-=this.inputMax,this.curIdx=0),o=Fx[this.output.type];var h=o===4?wf.slerp:tu.lerp,u=this.curIdx,f=u*o,p=f+o;for(C=Math.max(0,C-this.inputTypedArray[u])/(this.inputTypedArray[u+1]-this.inputTypedArray[u]),u=0;u<o;u++)cc[u]=this.outputTypedArray[f+u],p1[u]=this.outputTypedArray[p+u];switch(this.interpolation){case"LINEAR":h(this.curValue,cc,p1,C)}};var b2=ja.Animation=function(C,o){this.name=o.name!==void 0?o.name:null;var h;this.samplers=[];var u=0;for(h=o.samplers.length;u<h;u++)this.samplers[u]=new j0(C,o.samplers[u]);for(this.channels=[],u=0,h=o.channels.length;u<h;u++)this.channels[u]=new w2(o.channels[u],this);this.extensions=o.extensions!==void 0?o.extensions:null,this.extras=o.extras!==void 0?o.extras:null},Kc=ja.glTFModel=function(C){this.json=C,this.defaultScene=C.scene!==void 0?C.scene:0,this.version=Number(C.asset.version),C.accessors&&(this.accessors=Array(C.accessors.length)),C.bufferViews&&(this.bufferViews=Array(C.bufferViews.length)),C.scenes&&(this.scenes=Array(C.scenes.length)),C.nodes&&(this.nodes=Array(C.nodes.length)),C.meshes&&(this.meshes=Array(C.meshes.length)),C.materials&&(this.materials=Array(C.materials.length)),C.textures&&(this.textures=Array(C.textures.length)),C.samplers&&(this.samplers=Array(C.samplers.length)),C.images&&(this.images=Array(C.images.length)),C.skins&&(this.skins=Array(C.skins.length)),C.animations&&(this.animations=Array(C.animations.length)),C.cameras&&(this.cameras=Array(C.cameras.length)),this.extensions=C.extensions!==void 0?C.extensions:null,this.extras=C.extras!==void 0?C.extras:null},Om=ja.glTFLoader=function(C){this._init(),this.glTF=null,this.enableGLAvatar=!1,this.linkSkeletonGltf=null};Om.prototype._init=function(){this._loadDone=!1,this._bufferLoaded=this._bufferRequested=0,this._buffers=[],this._bufferTasks={},this._finishedPendingTasks=this._pendingTasks=this._imageLoaded=this._imageRequested=this._shaderLoaded=this._shaderRequested=0,this.onload=null,lc=this},Om.prototype._checkComplete=function(){this._bufferRequested==this._bufferLoaded&&this._imageRequested==this._imageLoaded&&(this._loadDone=!0),this._loadDone&&this._pendingTasks==this._finishedPendingTasks&&(this._postprocess(),this.onload(this.glTF))},Om.prototype.loadGLTF_GL_Avatar_Skin=function(C,o,h){this.enableGLAvatar=!0,this.skeletonGltf=o,this.loadGLTF(C,h)},Om.prototype.loadGLTF=function(C,o){this._init(),this.onload=o||function(u){},this.baseUri=ix(C);var h=this;$C(C,function(u){u=JSON.parse(u),h.glTF=new Kc(u);var f,p=function(z){if(h._buffers[f]=z,h._bufferLoaded++,h._bufferTasks[f]){var G,P=0;for(G=h._bufferTasks[f].length;P<G;++P)h._bufferTasks[f][P](z)}h._checkComplete()};if(u.buffers)for(f in u.buffers){h._bufferRequested++;var S=u.buffers[f].uri;S.indexOf("base64")===-1&&(S=h.baseUri+S),eA(S,p)}p=function(z,G){h._imageLoaded++,h.glTF.images[G]=z,h._checkComplete()};var x;if(u.images)for(x in u.images)h._imageRequested++,Ls(h.baseUri+u.images[x].uri,x,p);h._checkComplete()})},Om.prototype._postprocess=function(){function C(G,P){var D=T[G.nodeID];P!==null?dn.mul(D,T[P.nodeID],G.matrix):dn.copy(D,G.matrix)}function o(G,P){var D=T[G.nodeID];P=P!==null?P.bvh:z.boundingBox,G.mesh&&(f=G.mesh,f.boundingBox&&(G.aabb=Oh.getAABBFromOBB(f.boundingBox,D),G.children.length===0&&(ai.copy(G.bvh.min,G.aabb.min),ai.copy(G.bvh.max,G.aabb.max)))),ai.min(P.min,P.min,G.bvh.min),ai.max(P.max,P.max,G.bvh.max)}lc=this;var h,u,f;if(this.glTF.cameras){var p=0;for(h=this.glTF.cameras.length;p<h;p++)this.glTF.cameras[p]=new mA(this.glTF.json.cameras[p])}if(this.glTF.bufferViews)for(p=0,h=this.glTF.bufferViews.length;p<h;p++)this.glTF.bufferViews[p]=new Rh(this.glTF.json.bufferViews[p],this._buffers[this.glTF.json.bufferViews[p].buffer]);if(this.glTF.accessors)for(p=0,h=this.glTF.accessors.length;p<h;p++)this.glTF.accessors[p]=new Ul(this.glTF.json.accessors[p],this.glTF.bufferViews[this.glTF.json.accessors[p].bufferView]);if(this.glTF.materials)for(p=0,h=this.glTF.materials.length;p<h;p++)this.glTF.materials[p]=new A2(this.glTF.json.materials[p]);if(this.glTF.samplers)for(p=0,h=this.glTF.samplers.length;p<h;p++)this.glTF.samplers[p]=new Lh(this.glTF.json.samplers[p]);if(this.glTF.textures)for(p=0,h=this.glTF.textures.length;p<h;p++)this.glTF.textures[p]=new tv(this.glTF.json.textures[p]);for(p=0,h=this.glTF.meshes.length;p<h;p++)this.glTF.meshes[p]=new Zs(this.glTF.json.meshes[p],p);for(p=0,h=this.glTF.nodes.length;p<h;p++)this.glTF.nodes[p]=new wd(this.glTF.json.nodes[p],p);for(p=0,h=this.glTF.nodes.length;p<h;p++){var S=this.glTF.nodes[p],x=0;for(u=S.children.length;x<u;x++)S.children[x]=this.glTF.nodes[S.children[x]]}var T=Array(this.glTF.nodes.length);for(p=0,h=T.length;p<h;p++)T[p]=dn.create();for(p=0,h=this.glTF.scenes.length;p<h;p++){var z=this.glTF.scenes[p]=new Ts(this.glTF,this.glTF.json.scenes[p]);for(z.boundingBox=new Oh,x=0,u=z.nodes.length;x<u;x++)S=z.nodes[x],S.traverseTwoExecFun(null,C,o);z.boundingBox.calculateTransform()}for(x=0,u=this.glTF.nodes.length;x<u;x++)S=this.glTF.nodes[x],S.bvh!==null&&S.bvh.calculateTransform();if(this.glTF.animations)for(p=0,h=this.glTF.animations.length;p<h;p++)this.glTF.animations[p]=new b2(this.glTF,this.glTF.json.animations[p]);if(this.glTF.json.skins)for(p=0,h=this.glTF.skins.length;p<h;p++)for(this.glTF.skins[p]=new zs(this.glTF,this.glTF.json.skins[p],p),S=this.glTF.skins[p].joints,x=0,u=S.length;x<u;x++)S[x].jointID=x;for(p=0,h=this.glTF.nodes.length;p<h;p++)S=this.glTF.nodes[p],S.skin!==null&&typeof S.skin=="number"&&(S.skin=this.glTF.skins[S.skin])};var Fx={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},hc=function(C){function o(h,u){return On(this,o),wi(this,(o.__proto__||ri(o)).call(this,h,u))}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{scale:1}}},{key:"initialize",value:function(u){var f=this;this.gl=u;var p=this.getOptions();this.gltfObj=ox({gl:u,options:p}),new Om().loadGLTF(p.url,function(S){f.gltfObj.setupScene(S),f.webglLayer.render()})}},{key:"onChanged",value:function(u,f){}},{key:"render",value:function(u){var f=u.gl;u=u.matrix;var p=this.getData(),S=this.getOptions(),x=S.scale,T=[x,x,x];for(S.unit==="px"&&this.map&&(T=this.map.getZoomUnits(),T=[x*T,x*T,x*T]),x=0;x<p.length;x++){var z=p[x].geometry.coordinates;S=dn.create();var G=dn.create();z=this.normizedPoint(z),dn.identity(S),dn.translate(S,S,[z[0],z[1],z[2]]),dn.rotateX(S,S,Math.PI/2),dn.rotateY(S,S,(p[x].angle||0)*Math.PI/180),dn.scale(S,S,T),dn.mul(G,u,S),this.gltfObj.render({gl:f,matrix:G})}}}]),o}(fa),Ki=Ki||{};(function(){function C(h,u,f){return f=h.createShader(f),h.shaderSource(f,u),h.compileShader(f),f}Ki.getShaderSource=function(h){return document.getElementById(h).textContent.replace(/^\s+|\s+$/g,"")},Ki.createProgram=function(h,u,f){var p=h.createProgram();return u=C(h,u,h.VERTEX_SHADER),f=C(h,f,h.FRAGMENT_SHADER),h.attachShader(p,u),h.deleteShader(u),h.attachShader(p,f),h.deleteShader(f),h.linkProgram(p),h.getProgramInfoLog(p),h.getShaderInfoLog(u),h.getShaderInfoLog(f),p};var o=Ki.loadImage=function(h,u){var f=new Image;return f.crossOrigin="Anonymous",f.src=h,f.onload=u,f};Ki.loadImages=function(h,u){function f(){0>=--S&&u(p)}for(var p=[],S=h.length,x=0;x<S;++x)p.push(o(h[x],f))}})();var Ap=function(C){function o(h){On(this,o);var u=wi(this,(o.__proto__||ri(o)).call(this,h));return h=u.getOptions(),u.gltfLayer=new hc({url:h.url,scale:h.scale}),u.children=[u.gltfLayer],u.autoUpdate=!0,u.index=[],u.newData=[],u.isStarted=h.autoPlay!==!1,u}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{url:"https://mapv-website.bj.bcebos.com/gl/examples/model/car.gltf",scale:1,step:1,defaultAngle:90}}},{key:"onOptionsChanged",value:function(u){this.gltfLayer.setOptions({})}},{key:"onDataChanged",value:function(u){var f=this;this.index=[],this.newData=[];for(var p=0;p<u.length;p++){this.index.push(0);var S=u[p].geometry.coordinates;u[p].geometry.type==="LineString"?this.newData.push(this._addPath(S)):S.forEach(function(x){f.newData.push(f._addPath(x))})}this.updatePoints()}},{key:"lnglatToMercator",value:function(u,f){return f=f*Math.PI/180,f=31890685e-1*Math.log((1+Math.sin(f))/(1-Math.sin(f))),[parseFloat((u*Math.PI/180*6378137).toFixed(2)),parseFloat(f.toFixed(2))]}},{key:"getDeg",value:function(u,f){-180<u[0]&&180>u[0]&&(u=this.lnglatToMercator(u[0],u[1]),f=this.lnglatToMercator(f[0],f[1]));var p=180*Math.atan((f[1]-u[1])/(f[0]-u[0]))/Math.PI;return f[0]>u[0]&&(p-=180),p}},{key:"getPoint",value:function(u,f,p){return[u[0]+(f[0]-u[0])*p,u[1]+(f[1]-u[1])*p,u[2]&&f[2]?u[2]+(f[2]-u[2])*p:0]}},{key:"updatePoints",value:function(){for(var u=this.getOptions(),f=this.newData,p=[],S=0;S<f.length;S++){for(var x=f[S],T=Math.floor(this.index[S]),z=T+1;x[z]&&x[z][0]===x[T][0]&&x[z][1]===x[T][1];)z++;z>=x.length-1&&(z=--T),z=this.getDeg(x[T],x[z]),p.push({geometry:{type:"Point",coordinates:this.getPoint(x[T],x[T+1],this.index[S]%1)},angle:z-u.defaultAngle})}this.pointData=p,this.gltfLayer.setData(p,{autoRender:!1})}},{key:"getCurrentPoint",value:function(){return this.pointData}},{key:"getDistance",value:function(u,f){var p=u[1]*Math.PI/180,S=f[1]*Math.PI/180;return u=2*Math.asin(Math.sqrt(Math.pow(Math.sin((p-S)/2),2)+Math.cos(p)*Math.cos(S)*Math.pow(Math.sin((u[0]*Math.PI/180-f[0]*Math.PI/180)/2),2))),u=Math.round(6378137e4*u)/1e4}},{key:"_addPath",value:function(u){for(var f=u.length,p=0,S=[],x=[],T=1;T<f;T++){var z=this.getDistance(u[T-1],u[T]);S.push(z),p+=z}for(z=[0],T=1;T<f;T++){var G=(S[T-1]/p).toFixed(2);z[T]=z[T-1]+parseFloat(G,10),x=x.concat(this._getPath(u[T-1],u[T],1e3*G))}return this._pathPercents=z,x}},{key:"_getPath",value:function(u,f,p){if(p===0)return[u];for(var S=[],x=0;x<=p;x++)S.push([(f[0]-u[0])/p*x+u[0],(f[1]-u[1])/p*x+u[1],f[2]&&u[2]?(f[2]-u[2])/p*x+u[2]:0]);return S}},{key:"start",value:function(){this.isStarted=!0}},{key:"stop",value:function(){this.isStarted=!1}},{key:"render",value:function(u){if(ac(o.prototype.__proto__||ri(o.prototype),"render",this).call(this,u),u=this.getOptions(),this.isStarted)for(var f=this.newData,p=0;p<this.index.length;p++)this.index[p]+=u.step,this.index[p]>f[p].length-2&&(this.index[p]=0);this.updatePoints()}}]),o}(Bu);ps.prototype.parseColors=function(C){this.arrFeatureStyles=[[2,C[0]||"rgba(79,210,125,1)",2,2,0,[],0,0],[2,C[0]||"rgba(79,210,125,1)",3,2,0,[],0,0],[2,C[0]||"rgba(79,210,125,1)",3,2,0,[],0,0],[2,C[0]||"rgba(79,210,125,1)",5,2,0,[],0,0],[2,C[0]||"rgba(79,210,125,1)",6,2,0,[],0,0],[2,C[2]||"rgba(255,208,69,1)",2,2,0,[],0,0],[2,C[2]||"rgba(255,208,69,1)",3,2,0,[],0,0],[2,C[2]||"rgba(255,208,69,1)",3,2,0,[],0,0],[2,C[2]||"rgba(255,208,69,1)",5,2,0,[],0,0],[2,C[2]||"rgba(255,208,69,1)",6,2,0,[],0,0],[2,C[1]||"rgba(232,14,14,1)",2,2,0,[],0,0],[2,C[1]||"rgba(232,14,14,1)",3,2,0,[],0,0],[2,C[1]||"rgba(232,14,14,1)",3,2,0,[],0,0],[2,C[1]||"rgba(232,14,14,1)",5,2,0,[],0,0],[2,C[1]||"rgba(232,14,14,1)",6,2,0,[],0,0],[2,C[3]||"rgba(181,0,0,1)",2,2,0,[],0,0],[2,C[3]||"rgba(181,0,0,1)",3,2,0,[],0,0],[2,C[3]||"rgba(181,0,0,1)",3,2,0,[],0,0],[2,C[3]||"rgba(181,0,0,1)",5,2,0,[],0,0],[2,C[3]||"rgba(181,0,0,1)",6,2,0,[],0,0],[2,"rgba(255,255,255,1)",4,0,0,[],0,0],[2,"rgba(255,255,255,1)",5.5,0,0,[],0,0],[2,"rgba(255,255,255,1)",7,0,0,[],0,0],[2,"rgba(255,255,255,1)",8.5,0,0,[],0,0],[2,"rgba(255,255,255,1)",10,0,0,[],0,0]]},ps.prototype.setColors=function(C){this.parseColors(C)},ps.prototype.initialize=function(C){this._initialize||(this._initialize=!0)},ps.prototype.clearCache=function(C){this.cache={}},ps.prototype.setMap=function(C){C?(this.map=C,this._initialize?this.canvaslayer.show():this.initialize(C)):this.canvaslayer.hide()},ps.prototype.draw=function(C){C=C||{},C.clearCache&&this.clearCache(),this.canvaslayer.draw()},ps.prototype.clear=function(){},ps.prototype.update=function(){var C=this.map,o=this.getDataZoom(),h=Math.pow(2,18-o),u=256*h,f=Ni.convertLL2MC(C.getCenter()),p=Math.ceil(f.lng/u),S=Math.ceil(f.lat/u),x=this.tileSize,T=o-Math.round(C.getZoom());for(0<T&&(x/=Math.pow(2,T)),u=[p,S,(f.lng-p*u)/u*x,(f.lat-S*u)/u*x],p=C.getBounds(),f=p.getNorthEast(),p=p.getSouthWest(),C.getSize(),C.getSize(),C=(f.lng-p.lng)/h,h=(f.lat-p.lat)/h,f=u[1]-Math.ceil((h/2-u[3])/x),p=u[0]+Math.ceil((C/2+u[2])/x),S=u[1]+Math.ceil((h/2+u[3])/x),h=[],x=u[0]-Math.ceil((C/2-u[2])/x);x<p;x++)for(u=f;u<S;u++)h.push([x,u,o]);for(this.tilesOrder=h,this._loadCount={},x=0;x<h.length;x++)u=h[x][0],C=h[x][1],this._loadCount[u+"_"+C+"_"+h[x][2]]=!1;for(x=0;x<h.length;x++)u=h[x][0],C=h[x][1],this.showTile(u,C,o)},ps.prototype.showTile=function(C,o,h){this._parseDataAndDraw(C,o,h)},ps.prototype.drawCurrentData=function(){this.clear();for(var C=[],o=0;o<this.tilesOrder.length;o++){var h=this.tilesOrder[o][0],u=this.tilesOrder[o][1],f=this.tilesOrder[o][2],p=this.cache[this.getCacheKey(h,u,f)];if(p)for(h=this._drawFeatures(p,h,u,f),u=0;u<h.length;u++)C.push(h[u])}this.lineLayer.setData(C)},ps.prototype.isAllLoaded=function(){var C=!0,o;for(o in this._loadCount)if(!this._loadCount[o]){C=!1;break}return C},ps.prototype.getCacheKey=function(C,o,h){return C+"_"+o+"_"+h},ps.prototype.getDataZoom=function(){var C=Math.round(this.map.getZoom());return 19<C&&(C=19),C},ps.prototype._parseDataAndDraw=function(C,o,h){var u=this,f=u.map,p=f.getCenter(),S=Math.round(f.getZoom()),x=this.getCacheKey(C,o,h),T="_cbk"+(1e5*Math.random()).toFixed(0),z=this.getTileUrl(C,o,h,"BMapGL."+T);BMapGL[T]=function(G){u._loadCount[C+"_"+o+"_"+h]=!0;var P=f.getCenter(),D=Math.round(f.getZoom());P.equals(p)&&D===S?(P=G.content&&G.content.tf,G.data&&(P=G.data),u.cache[x]=P?{traffic:P,precision:G.precision}:null,u.drawTogether&&u.isAllLoaded()&&u.drawCurrentData()):D!==S&&u.clear(),delete BMapGL[T]},u.cache[x]!==void 0?(u._loadCount[C+"_"+o+"_"+h]=!0,u.drawTogether&&u.isAllLoaded()&&u.drawCurrentData()):this.request(z)},ps.prototype.getTileUrl=function(C,o,h,u){return"https://sp3.baidu.com/7_AZsjOpB1gCo2Kml5_Y_DAcsMJiwa/traffic/?qt=vtraffic&x="+C+"&y="+o+"&z="+h+"&fn="+u+"&t="+new Date().getTime()},ps.prototype._drawFeatures=function(C,o,h,u){var f=10;u=Math.pow(2,18-u),this.map.getCenter();var p=this.tileSize;if(o=[o*p*u,(h+1)*p*u],h=[],C&&C.traffic){f*=C.precision,C=C.traffic,p=0;for(var S=C.length;p<S;p++){var x=C[p],T=x[1];x=this.arrFeatureStyles[x[3]];var z=T[0]/f,G=-T[1]/f,P=[];P.push([o[0]+z*u,o[1]+G*u,1]);for(var D=2,U=T.length;D<U;D+=2)z+=T[D]/f,G-=T[D+1]/f,P.push([o[0]+z*u,o[1]+G*u,1]);h.push({color:x[1],geometry:{type:"LineString",coordinates:P}})}}return h},ps.prototype.request=function(C,o){if(o){var h=(1e5*Math.random()).toFixed(0);BMapGL._rd["_cbk"+h]=function(f){o&&o(f),delete BMapGL._rd["_cbk"+h]},C+="&callback=BMapGL._rd._cbk"+h}var u=document.createElement("script");u.type="text/javascript",u.charset="utf-8",u.src=C,u.addEventListener?u.addEventListener("load",function(f){f=f.target,f.parentNode.removeChild(f)},!1):u.attachEvent&&u.attachEvent("onreadystatechange",function(f){f=window.event.srcElement,!f||f.readyState!=="loaded"&&f.readyState!=="complete"||f.parentNode.removeChild(f)}),setTimeout(function(){document.getElementsByTagName("head")[0].appendChild(u),u=null},1)},ps.prototype.getRGBA=function(C){return C>>>=0,"rgba("+(C>>24&255)+","+(C>>16&255)+","+(C>>8&255)+","+(C&255)/256+")"},ps.prototype.getLineCap=function(C){return["butt","square","round"][C]},ps.prototype.getLineJoin=function(C){return["miter","bevel","round"][C]};var ku=function(C){function o(h){On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h)),h.autoUpdate=!0,h.getOptions();var u=new wl({color:"rgba(257, 254, 47, 0.9)",minZoom:18,duration:.8,interval:.2,trailLength:.4});return h.lineLayer=u,h.children=[u],h}return ji(o,C),Qn(o,[{key:"initialize",value:function(u){ac(o.prototype.__proto__||ri(o.prototype),"initialize",this).call(this,u),u=this.map.map;var f=new ps({});f.lineLayer=this.lineLayer,this.trafficTileManager=f,f.setMap(u),f.update(),u.addEventListener("moveend",function(){f.update()}),u.addEventListener("zoomend",function(){f.update()}),u.addEventListener("ondraw",function(){})}},{key:"onOptionsChanged",value:function(u){}},{key:"onDataChanged",value:function(u){}},{key:"getDefaultOptions",value:function(){return{}}}]),o}(Bu),Da=function(C){function o(h,u){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h,u)),h.bufferData=[],h}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{size:13,unit:"px",height:0,max:100,min:0}}},{key:"initialize",value:function(u){var f=this;this.gl=u;var p=this.getOptions();this.inverseMatrix=dn.create(Float64Array),this.frameBuffer=new Bs(u),this.webglLayer.map.onResize(function(){f.frameBuffer=new Bs(u)}),this.circle=Gp(64),this.circleTexture=ih(u,this.circle,{TEXTURE_MAG_FILTER:"LINEAR",TEXTURE_MIN_FILTER:"LINEAR",TEXTURE_WRAP_S:"CLAMP_TO_EDGE",TEXTURE_WRAP_T:"CLAMP_TO_EDGE"}),this.intensity=new Dt({gradient:p.gradient}),this.paletteTexture=ih(u,this.intensity.paletteCtx.canvas,{TEXTURE_MAG_FILTER:"LINEAR",TEXTURE_MIN_FILTER:"LINEAR",TEXTURE_WRAP_S:"CLAMP_TO_EDGE",TEXTURE_WRAP_T:"CLAMP_TO_EDGE"}),this.offlineProgram=new yo(this.gl,{vertexShader:"uniform mat4 u_matrix;uniform mat4 pointToPixelMatrix;uniform mat4 pixelToViewMatrix;uniform mat4 projectionMatrix;uniform int unit;uniform float size;uniform float max;uniform float min;attribute vec3 aPos;attribute vec2 aOffset;attribute float aCount;varying vec2 vOffset;varying float vCount;varying vec3 vPosition;void main(){vOffset=aOffset;vCount=(aCount-min)/(max-min);if(unit==1){vec2 pos=(pointToPixelMatrix*vec4(aPos.xy,0.0,1.0)).xy+aOffset.xy*size/2.0;gl_Position=projectionMatrix*pixelToViewMatrix*vec4(pos,0.0,1.0);}else{vec2 pos=aPos.xy+aOffset.xy*size;gl_Position=u_matrix*vec4(pos,0.0,1.0);}vPosition=vec3(gl_Position.z/gl_Position.w);}",fragmentShader:"varying vec2 vOffset;varying float vCount;varying vec3 vPosition;uniform sampler2D uCircle;void main(){vec4 circle=texture2D(uCircle,(vOffset+1.0)/2.0);float intensity=circle.a*vCount;if(intensity<=0.0){discard;}gl_FragColor=vec4(vPosition,intensity);}"},this),this.offlineBuffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.offlineIndexBuffer=new Ti({gl:u,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.offlineVertexArray=new La({gl:u,program:this.offlineProgram,attributes:[{stride:24,name:"aPos",buffer:this.offlineBuffer,size:3,type:"FLOAT",offset:0},{stride:24,name:"aOffset",buffer:this.offlineBuffer,size:2,type:"FLOAT",offset:12},{stride:24,name:"aCount",buffer:this.offlineBuffer,size:1,type:"FLOAT",offset:20}]}),this.indexBuffer=new Ti({gl:u,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.program=new yo(this.gl,{vertexShader:"attribute vec2 aPos;varying vec2 vPos;uniform float uHeight;uniform mat4 pixelToViewMatrix;uniform mat4 projectionMatrix;uniform sampler2D u_sampler;uniform mat4 inverseMatrix;void main(){vPos=aPos;if(uHeight<=0.0){gl_Position=vec4(aPos,0.0,1.0);}else{vec4 gray=texture2D(u_sampler,(aPos+1.0)/2.0);vec4 m0=inverseMatrix*vec4(aPos.xy,0.0,1.0);vec4 m1=inverseMatrix*vec4(aPos.xy,1.0,1.0);m0/=m0.w;m1/=m1.w;vec4 pixel=m0+(-m0.z/(m1.z-m0.z))*(m1-m0);pixel.z=uHeight*gray.a;gl_Position=projectionMatrix*pixelToViewMatrix*vec4(pixel.xyz,1.0);}}",fragmentShader:"uniform sampler2D u_sampler;uniform sampler2D u_samplerPalette;uniform float uHeight;varying vec2 vPos;void main(){vec4 gray=texture2D(u_sampler,(vPos+1.0)/2.0);float grayAlpha=gray.a;if(grayAlpha<=0.0){discard;}vec4 color=texture2D(u_samplerPalette,vec2(grayAlpha,1.0));gl_FragColor=vec4(color.rgb,grayAlpha);}"},this),this.buffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.vertexArray=new La({gl:u,program:this.program,attributes:[{stride:8,name:"aPos",buffer:this.buffer,size:2,type:"FLOAT",offset:0}]}),p=[];for(var S=[],x=Math.floor(u.canvas.width/4),T=Math.floor(u.canvas.height/4),z=x+1,G=0;G<=T;G++)for(var P=0;P<=x;P++)if(p.push(2*P/x-1,2*G/T-1),P<x&&G<T){var D=z*G+P,U=z*(G+1)+P;S.push(D,D+1,U+1),S.push(D,U+1,U)}this.bufferData=p,this.buffer.updateData(new Float32Array(p)),this.indexData=S,this.indexBuffer.updateData(new Uint32Array(S))}},{key:"destroy",value:function(){this.data=this.frameBuffer=this.vertexArray=this.program=this.indexBuffer=this.buffer=this.indexData=this.bufferData=this.offlineVertexArray=this.offlineProgram=this.offlineIndexBuffer=this.offlineBuffer=this.offlineIndexData=this.offlineBufferData=null}},{key:"onOptionsChanged",value:function(u,f){var p=this.gl;p&&u.gradient!==f.gradient&&(this.intensity=new Dt({gradient:u.gradient}),this.paletteTexture=ih(p,this.intensity.paletteCtx.canvas,{TEXTURE_MAG_FILTER:"LINEAR",TEXTURE_MIN_FILTER:"LINEAR",TEXTURE_WRAP_S:"CLAMP_TO_EDGE",TEXTURE_WRAP_T:"CLAMP_TO_EDGE"}))}},{key:"onDataChanged",value:function(u){if(this.gl){var f=[],p=[];this.getOptions();for(var S=0;S<u.length;S++){var x=u[S],T=this.normizedPoint(u[S].geometry.coordinates),z=x.count===void 0?1:x.count;"properties"in x&&"count"in x.properties&&(z=x.properties.count),f.push(T[0],T[1],T[2]),f.push(-1,-1),f.push(z),f.push(T[0],T[1],T[2]),f.push(-1,1),f.push(z),f.push(T[0],T[1],T[2]),f.push(1,1),f.push(z),f.push(T[0],T[1],T[2]),f.push(1,-1),f.push(z),x=4*S,p.push(x+0,x+2,x+1),p.push(x+0,x+3,x+2)}this.offlineBufferData=f,this.offlineIndexData=p,this.offlineBuffer.updateData(new Float32Array(f)),this.offlineIndexBuffer.updateData(new Uint32Array(p))}}},{key:"render",value:function(u){var f=u.gl,p=u.matrix,S=u.pointToPixelMatrix,x=u.pixelToViewMatrix;if(u=u.projectionMatrix,this.offlineBufferData&&!(0>=this.offlineBufferData.length)){var T=this.getOptions();f.enable(f.BLEND),f.disable(f.DEPTH_TEST),f.blendFunc(f.ONE,f.ONE),f.bindFramebuffer(f.FRAMEBUFFER,this.frameBuffer.framebuffer),f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT),this.offlineProgram.use(f),this.offlineProgram.setUniforms({u_matrix:p,uCircle:this.circleTexture,pointToPixelMatrix:S,pixelToViewMatrix:x,projectionMatrix:u,unit:T.unit==="px"?1:0,size:T.size,max:T.max,min:T.min}),this.offlineVertexArray.bind(),this.offlineIndexBuffer.bind(),f.drawElements(f.TRIANGLES,this.offlineIndexData.length,f.UNSIGNED_INT,0),f.bindFramebuffer(f.FRAMEBUFFER,null),this.program.use(f),this.vertexArray.bind(),p=this.inverseMatrix,dn.identity(p),dn.multiply(p,u,x),dn.invert(p,p),f.enable(f.DEPTH_TEST),f.disable(f.BLEND),this.program.setUniforms({u_sampler:this.frameBuffer.framebuffer.texture,u_samplerPalette:this.paletteTexture,uHeight:T.height,pixelToViewMatrix:x,inverseMatrix:p,projectionMatrix:u}),this.indexBuffer.bind(),f.drawElements(f.TRIANGLES,this.indexData.length,f.UNSIGNED_INT,0)}}}]),o}(fa),Hu=function(C){function o(h,u){return On(this,o),h=wi(this,(o.__proto__||ri(o)).call(this,h,u)),h.selectedColor=[-1,-1,-1],h.textureCache={},h}return ji(o,C),Qn(o,[{key:"getDefaultOptions",value:function(){return{color:"rgba(0, 180, 0, 1.0)",edgeCount:4,unit:"m",height:1e5,type:"normal",size:5e4}}},{key:"initialize",value:function(u){this.gl=u;var f=this.getOptions(),p={normal:[`attribute vec3 aPos;attribute vec4 aColor;attribute float aSize;attribute float aEdgeIndex;attribute float aPointIndex;attribute float aEdgeCount;varying vec4 vColor;varying vec4 vPosition;varying float vSize;varying float vEdgeIndex;varying float vPointIndex;varying float vEdgeCount;uniform mat4 uMatrix;uniform float uZoomUnits;uniform vec4 uSelectedColor;void main(){vColor=aColor;vEdgeIndex=aEdgeIndex;vEdgeCount=aEdgeCount;vPointIndex=aPointIndex;float z=aPos.z*uZoomUnits;float x=aPos.x;float y=aPos.y;vSize=aSize*uZoomUnits;float a=radians(360.0/aEdgeCount);float b=a/2.0;if(aEdgeIndex<0.0){a=-a;b=-b;float index=aPointIndex;float angle=0.0;if(index==1.0){angle=b;}else if(mod(index,2.0)==0.0){angle=a*(index/2.0)+b;}else{angle=-a*((index-1.0)/2.0-1.0)-b;}x=x+vSize/cos(b)*sin(angle);y=y+vSize/cos(b)*cos(angle);}else{float i=aEdgeIndex;float j=aPointIndex;float angle1=a*(i-1.0)+b;float angle2=a*(i-1.0)+a+b;if(j==1.0||j==2.0){x=x+vSize/cos(b)*sin(angle1);y=y+vSize/cos(b)*cos(angle1);}else{x=x+vSize/cos(b)*sin(angle2);y=y+vSize/cos(b)*cos(angle2);}}vPosition=vec4(x,y,z,1.0);gl_Position=uMatrix*vPosition;
#if defined(PICK)
if(mapvIsPicked()){vColor=uSelectedColor;}
#endif
}`,"varying vec4 vColor;varying float vEdgeIndex;varying float vPointIndex;varying float vEdgeCount;uniform mat4 uMatrix;void main(){vec4 color=vColor;if(vEdgeIndex<0.0){color.r+=0.2;color.g+=0.2;color.b+=0.2;}else{float i=vEdgeIndex;float j=vPointIndex;float d=i/vEdgeCount*0.5;if(i<vEdgeCount/2.0){d=0.2*(i/vEdgeCount*0.5)-0.1;}else{d=0.2*(vEdgeCount-i)/vEdgeCount*0.5-0.1;}color.r+=d;color.g+=d;color.b+=d;}gl_FragColor=color;}"],light:[`attribute vec3 aPos;attribute vec4 aColor;attribute float aSize;attribute float aEdgeIndex;attribute float aPointIndex;attribute float aEdgeCount;varying vec4 vColor;varying vec4 vPosition;varying vec4 vFragPosition;varying float vSize;varying float vEdgeIndex;varying float vPointIndex;varying float vEdgeCount;uniform mat4 uMatrix;uniform float uZoomUnits;uniform vec4 uSelectedColor;void main(){vColor=aColor;vEdgeIndex=aEdgeIndex;vEdgeCount=aEdgeCount;vPointIndex=aPointIndex;float z=aPos.z*uZoomUnits;float x=aPos.x;float y=aPos.y;vSize=aSize*uZoomUnits;float a=radians(360.0/aEdgeCount);float b=a/2.0;float i=aEdgeIndex;float j=aPointIndex;float angle1=a*(i-1.0)+b;float angle2=a*(i-1.0)+a+b;float r=vSize/cos(b);if(j==1.0||j==3.0){y=y+r*sin(angle1);x=x+r*cos(angle1);}else{y=y+r*sin(angle2);x=x+r*cos(angle2);}if(j==1.0||j==2.0){z=0.0;}vPosition=vec4(aPos.xyz,1.0);vFragPosition=vec4(x,y,z,1.0);gl_Position=uMatrix*vFragPosition;
#if defined(PICK)
if(mapvIsPicked()){vColor=uSelectedColor;}
#endif
}`,"varying vec4 vColor;varying float vEdgeIndex;varying float vPointIndex;varying float vEdgeCount;varying vec4 vPosition;varying vec4 vFragPosition;uniform mat4 uMatrix;void main(){vec4 color=vColor;float i=vEdgeIndex;float j=vPointIndex;float d=i/vEdgeCount*0.5;if(i<vEdgeCount/2.0){d=0.2*(i/vEdgeCount*0.5)-0.1;}else{d=0.2*(vEdgeCount-i)/vEdgeCount*0.5-0.1;}color.r+=d;color.g+=d;color.b+=d;color.a=1.0-vFragPosition.z/vPosition.z;gl_FragColor=color;}"]};p=p[f.type]||p.normal,this.program=new yo(this.gl,{vertexShader:p[0],fragmentShader:p[1],defines:f.enablePicked?["PICK"]:[]},this),this.buffer=new Ti({gl:u,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.indexBuffer=new Ti({gl:u,target:"ELEMENT_ARRAY_BUFFER",usage:"STATIC_DRAW"}),f=[{stride:44,name:"aPos",buffer:this.buffer,size:3,type:"FLOAT",offset:0},{stride:44,name:"aSize",buffer:this.buffer,size:1,type:"FLOAT",offset:12},{stride:44,name:"aEdgeIndex",buffer:this.buffer,size:1,type:"FLOAT",offset:16},{stride:44,name:"aPointIndex",buffer:this.buffer,size:1,type:"FLOAT",offset:20},{stride:44,name:"aEdgeCount",buffer:this.buffer,size:1,type:"FLOAT",offset:24},{stride:44,name:"aColor",buffer:this.buffer,size:4,type:"FLOAT",offset:28}],f=f.concat(this.getCommonAttributes()),this.vertexArray=new La({gl:u,program:this.program,attributes:f})}},{key:"onChanged",value:function(u,f){this.gl&&f&&(this.uniforms={},this.data=f,this.options=u,this.processData(),u.enablePicked&&this.parsePickData(f))}},{key:"processData",value:function(){var u=[],f=[];this.options.type==="light"?this.createLightBuffer(this.data,u,f):this.createNormalBuffer(this.data,u,f),this.bufferData=u,this.indexData=f,this.buffer.updateData(new Float32Array(u)),this.indexBuffer.updateData(new Uint32Array(f))}},{key:"createNormalBuffer",value:function(u,f,p){var S=this,x=parseInt(this.options.edgeCount,10)||4;u.forEach(function(T,z){var G=T.color||S.options.color,P=T.size||S.options.size,D=Array.isArray(T.value)?T.value:typeof T.value=="number"?[T.value]:[1],U=S.normizedPoint(T.geometry.coordinates),V=T.height||S.options.height,J=D.reduce(function(Q,he){return Number(Q)+Number(he)}),ne=0,re="blue";for(D.forEach(function(Q,he){for(re=S.normizedColor(typeof G=="function"?G(Q,he,D):Array.isArray(G)?G[he]:G),Q=typeof V=="function"?V(Q,he,D):Array.isArray(V)?V[he]:V/J*Q,he=1;he<=x;he++){var Me=p[p.length-1]||-1;1<Me&&p.push(Me,Me+1),f.push.apply(f,[U[0],U[1],ne,P,he,1,x].concat(ro(re))),f.push.apply(f,[U[0],U[1],ne+Q,P,he,2,x].concat(ro(re))),f.push.apply(f,[U[0],U[1],ne,P,he,3,x].concat(ro(re))),f.push.apply(f,[U[0],U[1],ne+Q,P,he,4,x].concat(ro(re))),p.push(Me+1,Me+2,Me+3,Me+4)}ne+=Q}),T=p[p.length-1]||-1,1<T&&p.push(T,T+1),z=1;z<=x;z++)f.push.apply(f,[U[0],U[1],ne,P,-1,z,x].concat(ro(re))),p.push(T+z)})}},{key:"createLightBuffer",value:function(u,f,p){var S=this,x=parseInt(this.options.edgeCount,10)||4;u.forEach(function(T,z){z=T.color||S.options.color,z=S.normizedColor(typeof z=="function"?z(T.value):typeof z=="string"?z:"blue");var G=T.size||S.options.size,P=S.normizedPoint(T.geometry.coordinates),D=T.height||S.options.height;for(D=typeof D=="function"?D(T.value):D,T=1;T<=x;T++){var U=p[p.length-1]||-1;1<U&&p.push(U,U+1),f.push.apply(f,[P[0],P[1],D,G,T,1,x].concat(ro(z))),f.push.apply(f,[P[0],P[1],D,G,T,2,x].concat(ro(z))),f.push.apply(f,[P[0],P[1],D,G,T,3,x].concat(ro(z))),f.push.apply(f,[P[0],P[1],D,G,T,4,x].concat(ro(z))),p.push(U+1,U+2,U+3,U+4)}})}},{key:"render",value:function(u){var f=this.program,p=u.gl,S=u.matrix;this.options.type==="normal"&&(p.enable(p.CULL_FACE),p.cullFace(p.BACK)),f.use(p),this.vertexArray.bind(),this.indexBuffer.bind();var x=this.map.getZoomUnits();_o(this.uniforms,this.getCommonUniforms(u),{uZoomUnits:this.options.unit==="px"?x:1,uMatrix:S}),f.setUniforms(this.uniforms),p.drawElements(p.TRIANGLE_STRIP,this.indexData.length,p.UNSIGNED_INT,0)}}]),o}(fa),Dh=function(C){function o(h){On(this,o);var u=wi(this,(o.__proto__||ri(o)).call(this,h));return h=u.getOptions(),u.fillPoint=new vd({enablePicked:h.enablePicked,autoSelect:h.autoSelect}),u.shadowPoint=new vd,u.textPoint=new S0,u.children=[u.shadowPoint,u.fillPoint,u.textPoint],u}return ji(o,C),Qn(o,[{key:"pick",value:function(u,f){return this.fillPoint.pick(u,f)}},{key:"onOptionsChanged",value:function(u){this.shadowPoint.setOptions({depthTest:!1,polygonOffset:[1,1],color:u.shadowColor,size:u.shadowSize,borderWidth:u.shadowBorderWidth,borderColor:u.shadowBorderColor}),this.fillPoint.setOptions({onClick:function(p){u.onClick&&u.onClick(p)},selectedIndex:u.selectedIndex,selectedColor:u.selectedColor,depthTest:!1,color:u.fillColor,size:u.fillSize,borderWidth:u.fillBorderWidth,borderColor:u.fillBorderColor}),this.textPoint.setOptions({collides:!1,polygonOffset:[-1,-1],color:u.fontColor,fontFamily:u.fontFamily,fontSize:u.fontSize})}},{key:"onDataChanged",value:function(u){var f=this,p=this.getOptions(),S=JSON.parse(ci(u)).map(function(T){return T.properties.size=f.getProperty("shadowSize",p.shadowSize,T),T.properties.color=f.getProperty("shadowColor",p.shadowColor,T),T.properties.borderColor=f.getProperty("shadowBorderColor",p.shadowBorderColor,T),T.properties.borderWidth=f.getProperty("shadowBorderWidth",p.shadowBorderWidth,T),T}),x=JSON.parse(ci(u)).map(function(T){return T.properties.size=f.getProperty("fillSize",p.fillSize,T),T.properties.color=f.getProperty("fillColor",p.fillColor,T),T.properties.borderColor=f.getProperty("fillBorderColor",p.fillBorderColor,T),T.properties.borderWidth=f.getProperty("fillBorderWidth",p.fillBorderWidth,T),T});this.shadowPoint.setData(S),this.fillPoint.setData(x),this.textPoint.setData(u)}},{key:"getProperty",value:function(u,f,p){return Object.prototype.toString.call(f)==="[object Function]"?f(p):(f=p[u]||f,"properties"in p&&u in p.properties&&(f=p.properties[u]),f)}},{key:"getDefaultOptions",value:function(){return{enablePicked:!1,selectedIndex:-1,selectedColor:"#ffff00",autoSelect:!0,fillColor:"rgba(255, 50, 10, 1)",fillSize:20,fillBorderColor:"#ffffff",fillBorderWidth:1.2,shadowColor:"rgba(255, 80, 110, 0.7)",shadowSize:40,shadowBorderColor:"rgba(255, 80, 110, 1)",shadowBorderWidth:1.2,fontSize:12,fontFamily:"Microsoft Yahei",fontColor:"#ffffff"}}}]),o}(Bu),Bx=function(){function C(o){On(this,C),this.layers=[],this.options=o,this.webglLayer=o.webglLayer}return Qn(C,[{key:"addLayer",value:function(h){for(var u=!1,f=0;f<this.layers.length;f++)if(this.layers[f]===h){u=!0;break}u||(h.map=this.webglLayer.map,h.layerType==="threeLayer"?(h.setWebglLayer(this.webglLayer),u=h.getThreeLayer(),this.addLayer(u),h.initialize&&h.initialize(u)):(h.setWebglLayer(this.webglLayer),h.commonInitialize&&h.commonInitialize(this.webglLayer.gl),h.initialize&&h.initialize(this.webglLayer.gl),h.onOptionsChanged(h.getOptions(),{}),h.onDataChanged(h.getData()),h.onChanged(h.getOptions(),h.getData())),this.layers.push(h)),this.options.autoUpdate&&(this.isRequestAnimation()?this.webglLayer.startAnimation():this.webglLayer.stopAnimation()),this.webglLayer.render()}},{key:"removeLayer",value:function(h){for(var u=0;u<this.layers.length;u++)this.layers[u]===h&&this.layers.splice(u,1);this.options.autoUpdate&&(this.isRequestAnimation()?this.webglLayer.startAnimation():this.webglLayer.stopAnimation()),this.webglLayer.render()}},{key:"showLayer",value:function(h){for(var u=0;u<this.layers.length;u++)this.layers[u]===h&&h.show();this.options.autoUpdate&&(this.isRequestAnimation()?this.webglLayer.startAnimation():this.webglLayer.stopAnimation()),this.webglLayer.render()}},{key:"hideLayer",value:function(h){for(var u=0;u<this.layers.length;u++)this.layers[u]===h&&h.hide();this.options.autoUpdate&&(this.isRequestAnimation()?this.webglLayer.startAnimation():this.webglLayer.stopAnimation()),this.webglLayer.render()}},{key:"removeAllLayers",value:function(){this.layers=[],this.webglLayer.stopAnimation(),this.webglLayer.render()}},{key:"destroyAllLayers",value:function(){for(var h=0;h<this.layers.length;h++){var u=this.layers[h];u.destroy&&u.destroy()}}},{key:"getAllLayers",value:function(){return this.layers}},{key:"getAllThreeLayers",value:function(){for(var h=[],u=0;u<this.layers.length;u++){var f=this.layers[u];f.layerType==="ThreeLayer"&&h.push(f)}return h}},{key:"isRequestAnimation",value:function(){for(var h=!1,u=0;u<this.layers.length;u++)if(this.layers[u].isRequestAnimation()){h=!0;break}return h}},{key:"beforeRender",value:function(h){h.gl&&this.webglLayer.stateManager.save()}},{key:"afterRender",value:function(h){h.gl&&this.webglLayer.stateManager.restore()}},{key:"renderGLLayers",value:function(h){this.webglLayer.stateManager.save(),this.webglLayer.stateManager.setDefaultState();for(var u=0;u<this.layers.length;u++){var f=this.layers[u];f._visible===!0&&f.layerType!=="threeLayer"&&f.layerType!=="ThreeLayer"&&(this.beforeRender(h),h.gl.enable(h.gl.DEPTH_TEST),h.gl.depthFunc(h.gl.LEQUAL),f.render(h),this.afterRender(h))}this.webglLayer.stateManager.restore()}},{key:"renderThreeLayer",value:function(h){for(var u=0;u<this.layers.length;u++){var f=this.layers[u];f._visible===!0&&f.layerType==="ThreeLayer"&&f.render(h)}}},{key:"renderThreeLayers",value:function(h){for(var u=0;u<this.layers.length;u++){var f=this.layers[u];f._visible===!0&&f.layerType==="threeLayer"&&(this.beforeRender(h),f.render(h),this.afterRender(h))}}},{key:"onClick",value:function(h){for(var u=0;u<this.layers.length;u++){var f=this.layers[u];if(f._visible===!0&&f.layerType!=="threeLayer"&&f.layerType!=="ThreeLayer"&&f.options.enablePicked&&f.options.onClick&&f.pick){var p=f.pick(h.x,h.y);f.options.onClick(p,h),f.options.autoSelect&&this.webglLayer.render()}}}},{key:"onDblClick",value:function(h){for(var u=0;u<this.layers.length;u++){var f=this.layers[u];if(f._visible===!0&&f.layerType!=="threeLayer"&&f.layerType!=="ThreeLayer"&&f.options.enablePicked&&f.options.onDblClick&&f.pick){var p=f.pick(h.x,h.y);f.options.onDblClick(p,h),f.options.autoSelect&&this.webglLayer.render()}}}},{key:"onRightClick",value:function(h){for(var u=0;u<this.layers.length;u++){var f=this.layers[u];if(f._visible===!0&&f.layerType!=="threeLayer"&&f.layerType!=="ThreeLayer"&&f.options.enablePicked&&f.options.onRightClick&&f.pick){var p=f.pick(h.x,h.y);f.options.onRightClick(p,h),f.options.autoSelect&&this.webglLayer.render()}}}},{key:"onMousemove",value:function(h){for(var u=!1,f=0;f<this.layers.length;f++){var p=this.layers[f];if(p._visible===!0&&p.layerType!=="threeLayer"&&p.layerType!=="ThreeLayer"&&p.options.enablePicked&&p.pick){var S=p.pick(h.x,h.y);this.webglLayer.map.map.platform.style.cursor=S.dataIndex===-1?"default":"pointer",p.options.onMousemove&&p.options.onMousemove(S,h),p.options.autoSelect&&(u=!0)}}u&&(this.webglLayer.isAnimation||this.webglLayer.render())}},{key:"destroy",value:function(){this.destroyAllLayers(),this.removeAllLayers()}}]),C}(),m1=function(){function C(o){var h=this;On(this,C),this.options={autoUpdate:!0},this._visible=!0,_o(this.options,o);var u=o.pointOffset;this.webglLayer=o.webglLayer||new i1(o.map,this.options),this.layerManager=new Bx({autoUpdate:this.options.autoUpdate,webglLayer:this.webglLayer}),this.effectManager=new jg(this.webglLayer.gl),this.webglRender={render:function(){}},this.options.effects&&this.effectManager.setEffects([this.webglRender].concat(this.options.effects)),this.webglLayer.onRender(function(f){h._render(f)}),this.webglLayer.onClick=function(f){h._visible&&h.layerManager.onClick(f)},this.webglLayer.onDblClick=function(f){h._visible&&h.layerManager.onDblClick(f)},this.webglLayer.onRightClick=function(f){h._visible&&h.layerManager.onRightClick(f)},this.webglLayer.onMousemove=function(f){h._visible&&h.layerManager.onMousemove(f)},u||this.webglLayer.options.mapType==="cesium"||(u=this.webglLayer.map.getCenter(),this.webglLayer.options.pointOffset=[u.lng,u.lat]),this.webglLayer.map.onResize(function(){h.effectManager.onResize()}),(this.postProcessing=o.postProcessing)&&(this.postProcessing.setWebglLayer(this.webglLayer),o=this.postProcessing.getThreeLayer(),this.addLayer(o),this.postProcessing.initialize(o),o.postProcessing=this.postProcessing)}return Qn(C,[{key:"renderCanvas",value:function(h){var u=this;this.postProcessing?this.postProcessing.addRender(function(){u.layerManager.renderGLLayers(h)}):this.layerManager.renderGLLayers(h),this.layerManager.renderThreeLayers(h),this.layerManager.renderThreeLayer(h)}},{key:"render",value:function(){this.webglLayer&&this.webglLayer.render()}},{key:"_render",value:function(h){var u=this;if(this._visible){var f=this.options.effects;f&&0<f.length?(this.webglRender.render=function(){u.renderCanvas(h)},this.effectManager.render()):(this.webglLayer.saveFramebuffer(),this.renderCanvas(h),this.webglLayer.restoreFramebuffer())}}},{key:"onRender",value:function(h){this.webglLayer.onRender(h)}},{key:"destroy",value:function(){this.stopAnimation(),this.layerManager.destroy(),this.effectManager.destroy(),this.webglLayer.destroy()}},{key:"isRequestAnimation",value:function(){return this.layerManager.isRequestAnimation()}},{key:"startAnimation",value:function(){this.webglLayer.startAnimation()}},{key:"stopAnimation",value:function(){this.webglLayer.stopAnimation()}},{key:"show",value:function(){this._visible!==!0&&(this._visible=!0,this.webglLayer.render(),this.isRequestAnimation()&&this.startAnimation())}},{key:"hide",value:function(){this._visible!==!1&&(this._visible=!1,this.stopAnimation(),this.webglLayer.clear())}},{key:"showLayer",value:function(h){this.layerManager.showLayer(h)}},{key:"hideLayer",value:function(h){this.layerManager.hideLayer(h)}},{key:"add",value:function(h){this.addLayer(h)}},{key:"remove",value:function(h){this.removeLayer(h)}},{key:"addLayer",value:function(h){this.layerManager.addLayer(h)}},{key:"removeLayer",value:function(h){this.layerManager.removeLayer(h)}},{key:"removeAllLayers",value:function(){this.layerManager.removeAllLayers()}},{key:"getAllLayers",value:function(){return this.layerManager.getAllLayers()}},{key:"getAllThreeLayers",value:function(){return this.layerManager.getAllThreeLayers()}}]),C}();window._hmt=window._hmt||[],function(){var C=document.createElement("script");C.src="https://hm.baidu.com/hm.js?e8002ef3d9e0d8274b5b74cc4a027d08";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(C,o)}(),Ne.View=m1,Ne.CanvasLayer=ge,Ne.CircleLayer=function C(){var o=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return On(this,C),up.includes(o.type)?new Fu(o):new Ug(o)},Ne.GridLayer=x0,Ne.HeatGridLayer=wx,Ne.ShapeLayer=y0,Ne.SimpleLineLayer=C0,Ne.LineLayer3D=wm,Ne.LineLayer=Yc,Ne.WallSpriteLayer=aA,Ne.LinePointLayer=zu,Ne.WallLayer=ju,Ne.WallTripLayer=r1,Ne.HeatLineLayer=fu,Ne.HoneycombLayer=Ih,Ne.WebglLayer=i1,Ne.PointLayer=vd,Ne.GroundRippleLayer=o1,Ne.RippleLayer=Uu,Ne.SparkLayer=lA,Ne.ClusterLayer=Rx,Ne.HeatPointLayer=ts,Ne.ShapeLineLayer=Lx,Ne.PointTripLayer=Ko,Ne.LineTripLayer=dA,Ne.IconLineLayer=pA,Ne.LineFlowLayer=wl,Ne.TileLayer=z0,Ne.IconLayer=F0,Ne.BoardLayer=ls,Ne.PolygonLayer=Dx,Ne.CarLineLayer=Ap,Ne.Layer=fa,Ne.TextLayer=S0,Ne.TrafficLayer=ku,Ne.GltfLayer=hc,Ne.HeatmapLayer=Da,Ne.BarLayer=Hu,Ne.MarkerListLayer=Dh,Ne.FXAA=qy,Ne.SMAA=mm,Ne.BlurEffect=gm,Ne.BloomEffect=xx,Ne.BrightEffect=Qy,Ne.DepthEffect=sp,Ne.EffectManager=jg,Ne.getContext=Sn,Ne.createTexture=ih,Ne.loadTextureImage=As,Ne.FrameBufferObject=Bs,Ne.Program=yo,Ne.StateManager=pm,Ne.Buffer=Ti,Ne.VertexArray=La,Ne.CommonLayer=ap,Ne.MercatorProjection=Ni,Ne.Canvas=Ar,Ne.Intensity=Dt,Ne.BezierCurve=pr,Ne.GeodesicCurve=lr,Ne.OdCurve=Qv,Ne.utilCity={getProvinceNameByCityName:function(o){for(var h=0;h<ad.length;h++)for(var u=ad[h].n,f=ad[h].cities,p=0;p<f.length;p++)if(f[p].n==o)return u;return null},getCenterByCityName:function(o){o=o.replace("\u5E02","");for(var h=0;h<im.length;h++)if(im[h].n==o)return ir(im[h].g);for(h=0;h<$v.length;h++)if($v[h].n==o)return ir($v[h].g);for(h=0;h<ad.length;h++){if(ad[h].n==o)return ir(ad[h].g);for(var u=ad[h].cities,f=0;f<u.length;f++)if(u[f].n==o)return ir(u[f].g)}return null}},Ne.isMobile=pf,Ne.Encryptor={encode:function(o){o=g0.deflateRaw(o);for(var h=[],u=0;u<o.length;u++)h.push(o[u]^23);return new Uint8Array(h)},decode:function(o){o=new Uint8Array(o);for(var h=[],u=0;u<o.length;u++)h.push(o[u]^23);o=new Uint8Array(h);try{var f=window.flate.deflate_decode_raw(o);return new TextDecoder("utf-8").decode(f)}catch(p){return console.warn("inflate by pako!"),g0.inflateRaw(o,{to:"string"})}},download:function(o,h){var u=new Blob([o],{type:"application/octet-binary"});o=document.createElement("a"),u=window.URL.createObjectURL(u),o.href=u,o.download=h||"mapvgl_download",o.click()}},Ne.toRadian=st,Ne.toAngle=zr,Ne.ceilPowerOfTwo=zn,Ne.floorPowerOfTwo=$t,Ne.approximatelyEqual=gn,Ne.__moduleExports=ss,Ne.vec4=tu,Ne.vec3=ai,Ne.vec2=Ao,Ne.quat2=wh,Ne.quat=wf,Ne.mat4=dn,Ne.mat3=bh,Ne.mat2d=ym,Ne.mat2=kg,Ne.glMatrix=Cx,Object.defineProperty(Ne,"__esModule",{value:!0})})}).call(this,ae("yLpj"))},"4kuk":function(ut,Ye,ae){var Be=ae("SfRM"),Xe=ae("Hvzi"),Ne=ae("u8Dt"),ge=ae("ekgI"),We=ae("JSQU");function Fe(lt){var pt=-1,de=lt==null?0:lt.length;for(this.clear();++pt<de;){var xe=lt[pt];this.set(xe[0],xe[1])}}Fe.prototype.clear=Be,Fe.prototype.delete=Xe,Fe.prototype.get=Ne,Fe.prototype.has=ge,Fe.prototype.set=We,ut.exports=Fe},"5bzT":function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("mrSG"),Xe=Be.__importDefault(ae("hODF")),Ne=function(ge){Be.__extends(We,ge);function We(Fe){return ge.call(this,Fe)||this}return We.prototype.getControl=function(){return new BMapGL.NavigationControl3D(this.getOptions())},We.prototype.render=function(){return null},We}(Xe.default);Ye.default=Ne},"5zFI":function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("i8i4");function Xe(Ne,ge){this._point=new BMapGL.Point(Ne.lng,Ne.lat),this._options=ge||{},this._html=ge.html||"";var We=new BMapGL.Overlay;for(var Fe in We)Fe!=="initialize"&&Fe!=="draw"&&Fe!=="destroy"&&(this.__proto__[Fe]=We[Fe])}Xe.prototype.initialize=function(Ne){return this._map=Ne,this._div=document.createElement("div"),this._div.style.position="absolute",this._div.style.zIndex=BMapGL.Overlay.getZIndex(this._point.lat),Be.render(this._html,this._div),this._div.onmousedown=function(ge){return ge=ge||window.event,ge.preventDefault?ge.preventDefault():ge.returnValue=!1,!1},Ne.getPanes().floatShadow.appendChild(this._div),this._div},Xe.prototype.destroy=function(){Be.unmountComponentAtNode(this._div)},Xe.prototype.draw=function(){var Ne=this._map,ge=Ne.pointToOverlayPixel(this._point),We={width:0,height:0};this._options&&this._options.offset&&(We=this._options.offset),this._div.style.left=ge.x+We.width+"px",this._div.style.top=ge.y+We.height+"px",this._div.style.transform="translate(-50%, -100%)"},Ye.default=Xe},"6sVZ":function(ut,Ye){var ae=Object.prototype;function Be(Xe){var Ne=Xe&&Xe.constructor,ge=typeof Ne=="function"&&Ne.prototype||ae;return Xe===ge}ut.exports=Be},"75XV":function(ut,Ye,ae){},"77Zs":function(ut,Ye,ae){var Be=ae("Xi7e");function Xe(){this.__data__=new Be,this.size=0}ut.exports=Xe},"7GkX":function(ut,Ye,ae){var Be=ae("b80T"),Xe=ae("A90E"),Ne=ae("MMmD");function ge(We){return Ne(We)?Be(We):Xe(We)}ut.exports=ge},"7fqy":function(ut,Ye){function ae(Be){var Xe=-1,Ne=Array(Be.size);return Be.forEach(function(ge,We){Ne[++Xe]=[We,ge]}),Ne}ut.exports=ae},"8txm":function(ut,Ye,ae){},A90E:function(ut,Ye,ae){var Be=ae("6sVZ"),Xe=ae("V6Ve"),Ne=Object.prototype,ge=Ne.hasOwnProperty;function We(Fe){if(!Be(Fe))return Xe(Fe);var lt=[];for(var pt in Object(Fe))ge.call(Fe,pt)&&pt!="constructor"&&lt.push(pt);return lt}ut.exports=We},"B+1O":function(ut,Ye,ae){},B8du:function(ut,Ye){function ae(){return!1}ut.exports=ae},CH3K:function(ut,Ye){function ae(Be,Xe){for(var Ne=-1,ge=Xe.length,We=Be.length;++Ne<ge;)Be[We+Ne]=Xe[Ne];return Be}ut.exports=ae},CeSn:function(ut,Ye){var ae=0/0,Be="[object Symbol]",Xe=/^\s+|\s+$/g,Ne=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,We=/^0o[0-7]+$/i,Fe=parseInt,lt=Object.prototype,pt=lt.toString;function de(ve){var Zr=typeof ve;return!!ve&&(Zr=="object"||Zr=="function")}function xe(ve){return!!ve&&typeof ve=="object"}function ft(ve){return typeof ve=="symbol"||xe(ve)&&pt.call(ve)==Be}function N(ve){if(typeof ve=="number")return ve;if(ft(ve))return ae;if(de(ve)){var Zr=typeof ve.valueOf=="function"?ve.valueOf():ve;ve=de(Zr)?Zr+"":Zr}if(typeof ve!="string")return ve===0?ve:+ve;ve=ve.replace(Xe,"");var st=ge.test(ve);return st||We.test(ve)?Fe(ve.slice(2),st?2:8):Ne.test(ve)?ae:+ve}ut.exports=N},Cwc5:function(ut,Ye,ae){var Be=ae("NKxu"),Xe=ae("Npjl");function Ne(ge,We){var Fe=Xe(ge,We);return Be(Fe)?Fe:void 0}ut.exports=Ne},DSRE:function(ut,Ye,ae){(function(Be){var Xe=ae("Kz5y"),Ne=ae("B8du"),ge=Ye&&!Ye.nodeType&&Ye,We=ge&&typeof Be=="object"&&Be&&!Be.nodeType&&Be,Fe=We&&We.exports===ge,lt=Fe?Xe.Buffer:void 0,pt=lt?lt.isBuffer:void 0,de=pt||Ne;Be.exports=de}).call(this,ae("YuTi")(ut))},DjyN:function(ut,Ye,ae){"use strict";var Be=ae("cIOH"),Xe=ae.n(Be),Ne=ae("Urep"),ge=ae.n(Ne),We=ae("OaEy")},E2jh:function(ut,Ye,ae){var Be=ae("2gN3"),Xe=function(){var ge=/[^.]+$/.exec(Be&&Be.keys&&Be.keys.IE_PROTO||"");return ge?"Symbol(src)_1."+ge:""}();function Ne(ge){return!!Xe&&Xe in ge}ut.exports=Ne},EpBk:function(ut,Ye){function ae(Be){var Xe=typeof Be;return Xe=="string"||Xe=="number"||Xe=="symbol"||Xe=="boolean"?Be!=="__proto__":Be===null}ut.exports=ae},H8j4:function(ut,Ye,ae){var Be=ae("QkVE");function Xe(Ne,ge){var We=Be(this,Ne),Fe=We.size;return We.set(Ne,ge),this.size+=We.size==Fe?0:1,this}ut.exports=Xe},HDyB:function(ut,Ye,ae){var Be=ae("nmnc"),Xe=ae("JHRd"),Ne=ae("ljhN"),ge=ae("or5M"),We=ae("7fqy"),Fe=ae("rEGp"),lt=1,pt=2,de="[object Boolean]",xe="[object Date]",ft="[object Error]",N="[object Map]",ve="[object Number]",Zr="[object RegExp]",st="[object Set]",zr="[object String]",zn="[object Symbol]",$t="[object ArrayBuffer]",gn="[object DataView]",Ni=Be?Be.prototype:void 0,br=Ni?Ni.valueOf:void 0;function Tt(Vr,Ar,Dt,pr,Gr,lr,Pe){switch(Dt){case gn:if(Vr.byteLength!=Ar.byteLength||Vr.byteOffset!=Ar.byteOffset)return!1;Vr=Vr.buffer,Ar=Ar.buffer;case $t:return!(Vr.byteLength!=Ar.byteLength||!lr(new Xe(Vr),new Xe(Ar)));case de:case xe:case ve:return Ne(+Vr,+Ar);case ft:return Vr.name==Ar.name&&Vr.message==Ar.message;case Zr:case zr:return Vr==Ar+"";case N:var ir=We;case st:var pi=pr&lt;if(ir||(ir=Fe),Vr.size!=Ar.size&&!pi)return!1;var Do=Pe.get(Vr);if(Do)return Do==Ar;pr|=pt,Pe.set(Vr,Ar);var an=ge(ir(Vr),ir(Ar),pr,Gr,lr,Pe);return Pe.delete(Vr),an;case zn:if(br)return br.call(Vr)==br.call(Ar)}return!1}ut.exports=Tt},HOxn:function(ut,Ye,ae){var Be=ae("Cwc5"),Xe=ae("Kz5y"),Ne=Be(Xe,"Promise");ut.exports=Ne},Hvzi:function(ut,Ye){function ae(Be){var Xe=this.has(Be)&&delete this.__data__[Be];return this.size-=Xe?1:0,Xe}ut.exports=ae},"I/il":function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("mrSG"),Xe=Be.__importDefault(ae("hODF")),Ne=function(ge){Be.__extends(We,ge);function We(Fe){return ge.call(this,Fe)||this}return We.prototype.getControl=function(){return new BMapGL.ZoomControl(this.getOptions())},We.prototype.render=function(){return null},We}(Xe.default);Ye.default=Ne},JHRd:function(ut,Ye,ae){var Be=ae("Kz5y"),Xe=Be.Uint8Array;ut.exports=Xe},JHgL:function(ut,Ye,ae){var Be=ae("QkVE");function Xe(Ne){return Be(this,Ne).get(Ne)}ut.exports=Xe},JSQU:function(ut,Ye,ae){var Be=ae("YESw"),Xe="__lodash_hash_undefined__";function Ne(ge,We){var Fe=this.__data__;return this.size+=this.has(ge)?0:1,Fe[ge]=Be&&We===void 0?Xe:We,this}ut.exports=Ne},JTzB:function(ut,Ye,ae){var Be=ae("NykK"),Xe=ae("ExA7"),Ne="[object Arguments]";function ge(We){return Xe(We)&&Be(We)==Ne}ut.exports=ge},KCY9:function(ut,Ye,ae){},KMkd:function(ut,Ye){function ae(){this.__data__=[],this.size=0}ut.exports=ae},KPFz:function(ut,Ye,ae){},Kvyg:function(ut,Ye,ae){},L8xA:function(ut,Ye){function ae(Be){var Xe=this.__data__,Ne=Xe.delete(Be);return this.size=Xe.size,Ne}ut.exports=ae},LXxW:function(ut,Ye){function ae(Be,Xe){for(var Ne=-1,ge=Be==null?0:Be.length,We=0,Fe=[];++Ne<ge;){var lt=Be[Ne];Xe(lt,Ne,Be)&&(Fe[We++]=lt)}return Fe}ut.exports=ae},LvDl:function(ut,Ye,ae){(function(Be,Xe){var Ne;/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(){var ge,We="4.17.21",Fe=200,lt="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",pt="Expected a function",de="Invalid `variable` option passed into `_.template`",xe="__lodash_hash_undefined__",ft=500,N="__lodash_placeholder__",ve=1,Zr=2,st=4,zr=1,zn=2,$t=1,gn=2,Ni=4,br=8,Tt=16,Vr=32,Ar=64,Dt=128,pr=256,Gr=512,lr=30,Pe="...",ir=800,pi=16,Do=1,an=2,Ai=3,Uo=1/0,Ga=9007199254740991,Ca=17976931348623157e292,os=0/0,_a=4294967295,Qa=_a-1,Sn=_a>>>1,ih=[["ary",Dt],["bind",$t],["bindKey",gn],["curry",br],["curryRight",Tt],["flip",Gr],["partial",Vr],["partialRight",Ar],["rearg",pr]],As="[object Arguments]",ur="[object Array]",ua="[object AsyncFunction]",vn="[object Boolean]",No="[object Date]",ti="[object DOMException]",Xa="[object Error]",yu="[object Function]",Wh="[object GeneratorFunction]",El="[object Map]",el="[object Number]",Ma="[object Null]",ws="[object Object]",_n="[object Promise]",xu="[object Proxy]",oh="[object RegExp]",bs="[object Set]",Yn="[object String]",so="[object Symbol]",Vf="[object Undefined]",dl="[object WeakMap]",Gi="[object WeakSet]",Cc="[object ArrayBuffer]",Ba="[object DataView]",Wa="[object Float32Array]",Ku="[object Float64Array]",Rs="[object Int8Array]",ar="[object Int16Array]",Ac="[object Int32Array]",ah="[object Uint8Array]",pl="[object Uint8ClampedArray]",Wr="[object Uint16Array]",sg="[object Uint32Array]",kp=/\b__p \+= '';/g,wc=/\b(__p \+=) '' \+/g,kv=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Hv=/&(?:amp|lt|gt|quot|#39);/g,lg=/[&<>"']/g,Yh=RegExp(Hv.source),q1=RegExp(lg.source),JC=/<%-([\s\S]+?)%>/g,zd=/<%([\s\S]+?)%>/g,Oy=/<%=([\s\S]+?)%>/g,Q1=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$1=/^\w*$/,tl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ds=/[\\^$.*+?()[\]{}|]/g,Gf=RegExp(ds.source),bc=/^\s+/,Wf=/\s/,Gl=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Tl=/\{\n\/\* \[wrapped with (.+)\] \*/,Hp=/,? & /,ex=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qC=/[()=,{}\[\]\/\s]/,Cu=/\\(\\)?/g,QC=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Au=/\w*$/,tx=/^[-+]0x[0-9a-f]+$/i,ug=/^0b[01]+$/i,Xh=/^\[object .+?Constructor\]$/,Cn=/^0o[0-7]+$/i,wu=/^(?:0|[1-9]\d*)$/,Ry=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,jd=/($^)/,rx=/['\n\r\u2028\u2029\\]/g,Vp="\\ud800-\\udfff",nx="\\u0300-\\u036f",cg="\\ufe20-\\ufe2f",Ly="\\u20d0-\\u20ff",Dy=nx+cg+Ly,hg="\\u2700-\\u27bf",ix="a-z\\xdf-\\xf6\\xf8-\\xff",$C="\\xac\\xb1\\xd7\\xf7",eA="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ls="\\u2000-\\u206f",ox=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ps="A-Z\\xc0-\\xd6\\xd8-\\xde",Gp="\\ufe0e\\ufe0f",ou=$C+eA+Ls+ox,Vv="['\u2019]",ax="["+Vp+"]",On="["+ou+"]",Sc="["+Dy+"]",Hs="\\d+",wo="["+hg+"]",sx="["+ix+"]",Ss="[^"+Vp+ou+Hs+hg+ix+ps+"]",Zh="\\ud83c[\\udffb-\\udfff]",sh="(?:"+Sc+"|"+Zh+")",lx="[^"+Vp+"]",Wp="(?:\\ud83c[\\udde6-\\uddff]){2}",Kh="[\\ud800-\\udbff][\\udc00-\\udfff]",_c="["+ps+"]",Yp="\\u200d",Xp="(?:"+sx+"|"+Ss+")",Gv="(?:"+_c+"|"+Ss+")",pa="(?:"+Vv+"(?:d|ll|m|re|s|t|ve))?",fo="(?:"+Vv+"(?:D|LL|M|RE|S|T|VE))?",Jh=sh+"?",Ud="["+Gp+"]?",Ny="(?:"+Yp+"(?:"+[lx,Wp,Kh].join("|")+")"+Ud+Jh+")*",fg="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ux="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Wv=Ud+Jh+Ny,tA="(?:"+[wo,Wp,Kh].join("|")+")"+Wv,rA="(?:"+[lx+Sc+"?",Sc,Wp,Kh,ax].join("|")+")",kd=RegExp(Vv,"g"),dg=RegExp(Sc,"g"),qh=RegExp(Zh+"(?="+Zh+")|"+rA+Wv,"g"),Yf=RegExp([_c+"?"+sx+"+"+pa+"(?="+[On,_c,"$"].join("|")+")",Gv+"+"+fo+"(?="+[On,_c+Xp,"$"].join("|")+")",_c+"?"+Xp+"+"+pa,_c+"+"+fo,ux,fg,Hs,tA].join("|"),"g"),Vs=RegExp("["+Yp+Vp+Dy+Gp+"]"),Il=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Wl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xf=-1,Yo={};Yo[Wa]=Yo[Ku]=Yo[Rs]=Yo[ar]=Yo[Ac]=Yo[ah]=Yo[pl]=Yo[Wr]=Yo[sg]=!0,Yo[As]=Yo[ur]=Yo[Cc]=Yo[vn]=Yo[Ba]=Yo[No]=Yo[Xa]=Yo[yu]=Yo[El]=Yo[el]=Yo[ws]=Yo[oh]=Yo[bs]=Yo[Yn]=Yo[dl]=!1;var ca={};ca[As]=ca[ur]=ca[Cc]=ca[Ba]=ca[vn]=ca[No]=ca[Wa]=ca[Ku]=ca[Rs]=ca[ar]=ca[Ac]=ca[El]=ca[el]=ca[ws]=ca[oh]=ca[bs]=ca[Yn]=ca[so]=ca[ah]=ca[pl]=ca[Wr]=ca[sg]=!0,ca[Xa]=ca[yu]=ca[dl]=!1;var pg={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Qh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Mc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Hd={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},au=parseFloat,$h=parseInt,lh=typeof Be=="object"&&Be&&Be.Object===Object&&Be,uh=typeof self=="object"&&self&&self.Object===Object&&self,An=lh||uh||Function("return this")(),ch=Ye&&!Ye.nodeType&&Ye,bu=ch&&typeof Xe=="object"&&Xe&&!Xe.nodeType&&Xe,Fy=bu&&bu.exports===ch,Gs=Fy&&lh.process,Yl=function(){try{var Ot=bu&&bu.require&&bu.require("util").types;return Ot||Gs&&Gs.binding&&Gs.binding("util")}catch(rr){}}(),Vd=Yl&&Yl.isArrayBuffer,ef=Yl&&Yl.isDate,tf=Yl&&Yl.isMap,Zf=Yl&&Yl.isRegExp,Ec=Yl&&Yl.isSet,_o=Yl&&Yl.isTypedArray;function ml(Ot,rr,er){switch(er.length){case 0:return Ot.call(rr);case 1:return Ot.call(rr,er[0]);case 2:return Ot.call(rr,er[0],er[1]);case 3:return Ot.call(rr,er[0],er[1],er[2])}return Ot.apply(rr,er)}function Yv(Ot,rr,er,Kn){for(var Wi=-1,bo=Ot==null?0:Ot.length;++Wi<bo;){var ha=Ot[Wi];rr(Kn,ha,er(ha),Ot)}return Kn}function Pl(Ot,rr){for(var er=-1,Kn=Ot==null?0:Ot.length;++er<Kn&&rr(Ot[er],er,Ot)!==!1;);return Ot}function By(Ot,rr){for(var er=Ot==null?0:Ot.length;er--&&rr(Ot[er],er,Ot)!==!1;);return Ot}function Gd(Ot,rr){for(var er=-1,Kn=Ot==null?0:Ot.length;++er<Kn;)if(!rr(Ot[er],er,Ot))return!1;return!0}function ri(Ot,rr){for(var er=-1,Kn=Ot==null?0:Ot.length,Wi=0,bo=[];++er<Kn;){var ha=Ot[er];rr(ha,er,Ot)&&(bo[Wi++]=ha)}return bo}function Aa(Ot,rr){var er=Ot==null?0:Ot.length;return!!er&&Ju(Ot,rr,0)>-1}function wa(Ot,rr,er){for(var Kn=-1,Wi=Ot==null?0:Ot.length;++Kn<Wi;)if(er(rr,Ot[Kn]))return!0;return!1}function $i(Ot,rr){for(var er=-1,Kn=Ot==null?0:Ot.length,Wi=Array(Kn);++er<Kn;)Wi[er]=rr(Ot[er],er,Ot);return Wi}function Ea(Ot,rr){for(var er=-1,Kn=rr.length,Wi=Ot.length;++er<Kn;)Ot[Wi+er]=rr[er];return Ot}function rf(Ot,rr,er,Kn){var Wi=-1,bo=Ot==null?0:Ot.length;for(Kn&&bo&&(er=Ot[++Wi]);++Wi<bo;)er=rr(er,Ot[Wi],Wi,Ot);return er}function Qn(Ot,rr,er,Kn){var Wi=Ot==null?0:Ot.length;for(Kn&&Wi&&(er=Ot[--Wi]);Wi--;)er=rr(er,Ot[Wi],Wi,Ot);return er}function Su(Ot,rr){for(var er=-1,Kn=Ot==null?0:Ot.length;++er<Kn;)if(rr(Ot[er],er,Ot))return!0;return!1}var cx=Jp("length");function Zp(Ot){return Ot.split("")}function Kp(Ot){return Ot.match(ex)||[]}function mg(Ot,rr,er){var Kn;return er(Ot,function(Wi,bo,ha){if(rr(Wi,bo,ha))return Kn=bo,!1}),Kn}function nf(Ot,rr,er,Kn){for(var Wi=Ot.length,bo=er+(Kn?1:-1);Kn?bo--:++bo<Wi;)if(rr(Ot[bo],bo,Ot))return bo;return-1}function Ju(Ot,rr,er){return rr===rr?Kv(Ot,rr,er):nf(Ot,Ta,er)}function qu(Ot,rr,er,Kn){for(var Wi=er-1,bo=Ot.length;++Wi<bo;)if(Kn(Ot[Wi],rr))return Wi;return-1}function Ta(Ot){return Ot!==Ot}function Ia(Ot,rr){var er=Ot==null?0:Ot.length;return er?Kf(Ot,rr)/er:os}function Jp(Ot){return function(rr){return rr==null?ge:rr[Ot]}}function su(Ot){return function(rr){return Ot==null?ge:Ot[rr]}}function qp(Ot,rr,er,Kn,Wi){return Wi(Ot,function(bo,ha,Co){er=Kn?(Kn=!1,bo):rr(er,bo,ha,Co)}),er}function Qp(Ot,rr){var er=Ot.length;for(Ot.sort(rr);er--;)Ot[er]=Ot[er].value;return Ot}function Kf(Ot,rr){for(var er,Kn=-1,Wi=Ot.length;++Kn<Wi;){var bo=rr(Ot[Kn]);bo!==ge&&(er=er===ge?bo:er+bo)}return er}function of(Ot,rr){for(var er=-1,Kn=Array(Ot);++er<Ot;)Kn[er]=rr(er);return Kn}function Xv(Ot,rr){return $i(rr,function(er){return[er,Ot[er]]})}function Jf(Ot){return Ot&&Ot.slice(0,$p(Ot)+1).replace(bc,"")}function gl(Ot){return function(rr){return Ot(rr)}}function vl(Ot,rr){return $i(rr,function(er){return Ot[er]})}function _u(Ot,rr){return Ot.has(rr)}function qf(Ot,rr){for(var er=-1,Kn=Ot.length;++er<Kn&&Ju(rr,Ot[er],0)>-1;);return er}function Qf(Ot,rr){for(var er=Ot.length;er--&&Ju(rr,Ot[er],0)>-1;);return er}function $f(Ot,rr){for(var er=Ot.length,Kn=0;er--;)Ot[er]===rr&&++Kn;return Kn}var Zv=su(pg),hh=su(Qh);function Tc(Ot){return"\\"+Hd[Ot]}function nA(Ot,rr){return Ot==null?ge:Ot[rr]}function fh(Ot){return Vs.test(Ot)}function gg(Ot){return Il.test(Ot)}function zy(Ot){for(var rr,er=[];!(rr=Ot.next()).done;)er.push(rr.value);return er}function vg(Ot){var rr=-1,er=Array(Ot.size);return Ot.forEach(function(Kn,Wi){er[++rr]=[Wi,Kn]}),er}function Ic(Ot,rr){return function(er){return Ot(rr(er))}}function ba(Ot,rr){for(var er=-1,Kn=Ot.length,Wi=0,bo=[];++er<Kn;){var ha=Ot[er];(ha===rr||ha===N)&&(Ot[er]=N,bo[Wi++]=er)}return bo}function ed(Ot){var rr=-1,er=Array(Ot.size);return Ot.forEach(function(Kn){er[++rr]=Kn}),er}function jy(Ot){var rr=-1,er=Array(Ot.size);return Ot.forEach(function(Kn){er[++rr]=[Kn,Kn]}),er}function Kv(Ot,rr,er){for(var Kn=er-1,Wi=Ot.length;++Kn<Wi;)if(Ot[Kn]===rr)return Kn;return-1}function td(Ot,rr,er){for(var Kn=er+1;Kn--;)if(Ot[Kn]===rr)return Kn;return Kn}function Pc(Ot){return fh(Ot)?Jv(Ot):cx(Ot)}function lu(Ot){return fh(Ot)?af(Ot):Zp(Ot)}function $p(Ot){for(var rr=Ot.length;rr--&&Wf.test(Ot.charAt(rr)););return rr}var yg=su(Mc);function Jv(Ot){for(var rr=qh.lastIndex=0;qh.test(Ot);)++rr;return rr}function af(Ot){return Ot.match(qh)||[]}function Uy(Ot){return Ot.match(Yf)||[]}var Ds=function Ot(rr){rr=rr==null?An:Xl.defaults(An.Object(),rr,Xl.pick(An,Wl));var er=rr.Array,Kn=rr.Date,Wi=rr.Error,bo=rr.Function,ha=rr.Math,Co=rr.Object,Qu=rr.RegExp,Oc=rr.String,Ws=rr.TypeError,em=er.prototype,xg=bo.prototype,uu=Co.prototype,Mu=rr["__core-js_shared__"],rd=xg.toString,ia=uu.hasOwnProperty,Cg=0,Wd=function(){var _=/[^.]+$/.exec(Mu&&Mu.keys&&Mu.keys.IE_PROTO||"");return _?"Symbol(src)_1."+_:""}(),dh=uu.toString,sf=rd.call(Co),ph=An._,Yd=Qu("^"+rd.call(ia).replace(ds,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$u=Fy?rr.Buffer:ge,Eu=rr.Symbol,Tu=rr.Uint8Array,nd=$u?$u.allocUnsafe:ge,Zl=Ic(Co.getPrototypeOf,Co),Ol=Co.create,cu=uu.propertyIsEnumerable,wi=em.splice,Ag=Eu?Eu.isConcatSpreadable:ge,Xd=Eu?Eu.iterator:ge,$a=Eu?Eu.toStringTag:ge,tm=function(){try{var _=ai(Co,"defineProperty");return _({},"",{}),_}catch(L){}}(),ky=rr.clearTimeout!==An.clearTimeout&&rr.clearTimeout,rm=Kn&&Kn.now!==An.Date.now&&Kn.now,Hy=rr.setTimeout!==An.setTimeout&&rr.setTimeout,Zd=ha.ceil,ji=ha.floor,Kd=Co.getOwnPropertySymbols,ec=$u?$u.isBuffer:ge,wg=rr.isFinite,iA=em.join,hx=Ic(Co.keys,Co),Ui=ha.max,Za=ha.min,bg=Kn.now,fx=rr.parseInt,id=ha.random,lf=em.reverse,nm=ai(rr,"DataView"),ms=ai(rr,"Map"),Ei=ai(rr,"Promise"),Ns=ai(rr,"Set"),Rc=ai(rr,"WeakMap"),Xo=ai(Co,"create"),_s=Rc&&new Rc,od={},Sg=md(nm),uf=md(ms),Lc=md(Ei),mh=md(Ns),ro=md(Rc),Iu=Eu?Eu.prototype:ge,Kl=Iu?Iu.valueOf:ge,gh=Iu?Iu.toString:ge;function Re(_){if(z(_)&&!Ki(_)&&!(_ instanceof ci)){if(_ instanceof Ys)return _;if(ia.call(_,"__wrapped__"))return Sx(_)}return new Ys(_)}var Rl=function(){function _(){}return function(L){if(!T(L))return{};if(Ol)return Ol(L);_.prototype=L;var q=new _;return _.prototype=ge,q}}();function Pu(){}function Ys(_,L){this.__wrapped__=_,this.__actions__=[],this.__chain__=!!L,this.__index__=0,this.__values__=ge}Re.templateSettings={escape:JC,evaluate:zd,interpolate:Oy,variable:"",imports:{_:Re}},Re.prototype=Pu.prototype,Re.prototype.constructor=Re,Ys.prototype=Rl(Pu.prototype),Ys.prototype.constructor=Ys;function ci(_){this.__wrapped__=_,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=_a,this.__views__=[]}function Ou(){var _=new ci(this.__wrapped__);return _.__actions__=Nl(this.__actions__),_.__dir__=this.__dir__,_.__filtered__=this.__filtered__,_.__iteratees__=Nl(this.__iteratees__),_.__takeCount__=this.__takeCount__,_.__views__=Nl(this.__views__),_}function cf(){if(this.__filtered__){var _=new ci(this);_.__dir__=-1,_.__filtered__=!0}else _=this.clone(),_.__dir__*=-1;return _}function Vy(){var _=this.__wrapped__.value(),L=this.__dir__,q=Ki(_),fe=L<0,Ee=q?_.length:0,ze=bh(0,Ee,this.__views__),ct=ze.start,mt=ze.end,Ft=mt-ct,Lr=fe?mt:ct-1,yr=this.__iteratees__,Yr=yr.length,Un=0,vi=Za(Ft,this.__takeCount__);if(!q||!fe&&Ee==Ft&&vi==Ft)return xf(_,this.__actions__);var no=[];e:for(;Ft--&&Un<vi;){Lr+=L;for(var Oo=-1,oo=_[Lr];++Oo<Yr;){var Go=yr[Oo],oa=Go.iteratee,pc=Go.type,pu=oa(oo);if(pc==an)oo=pu;else if(!pu){if(pc==Do)continue e;break e}}no[Un++]=oo}return no}ci.prototype=Rl(Pu.prototype),ci.prototype.constructor=ci;function hf(_){var L=-1,q=_==null?0:_.length;for(this.clear();++L<q;){var fe=_[L];this.set(fe[0],fe[1])}}function Ya(){this.__data__=Xo?Xo(null):{},this.size=0}function Ka(_){var L=this.has(_)&&delete this.__data__[_];return this.size-=L?1:0,L}function Dc(_){var L=this.__data__;if(Xo){var q=L[_];return q===xe?ge:q}return ia.call(L,_)?L[_]:ge}function Jd(_){var L=this.__data__;return Xo?L[_]!==ge:ia.call(L,_)}function ff(_,L){var q=this.__data__;return this.size+=this.has(_)?0:1,q[_]=Xo&&L===ge?xe:L,this}hf.prototype.clear=Ya,hf.prototype.delete=Ka,hf.prototype.get=Dc,hf.prototype.has=Jd,hf.prototype.set=ff;function Nc(_){var L=-1,q=_==null?0:_.length;for(this.clear();++L<q;){var fe=_[L];this.set(fe[0],fe[1])}}function df(){this.__data__=[],this.size=0}function Jl(_){var L=this.__data__,q=rl(L,_);if(q<0)return!1;var fe=L.length-1;return q==fe?L.pop():wi.call(L,q,1),--this.size,!0}function Ru(_){var L=this.__data__,q=rl(L,_);return q<0?ge:L[q][1]}function qv(_){return rl(this.__data__,_)>-1}function qd(_,L){var q=this.__data__,fe=rl(q,_);return fe<0?(++this.size,q.push([_,L])):q[fe][1]=L,this}Nc.prototype.clear=df,Nc.prototype.delete=Jl,Nc.prototype.get=Ru,Nc.prototype.has=qv,Nc.prototype.set=qd;function ql(_){var L=-1,q=_==null?0:_.length;for(this.clear();++L<q;){var fe=_[L];this.set(fe[0],fe[1])}}function Qv(){this.size=0,this.__data__={hash:new hf,map:new(ms||Nc),string:new hf}}function im(_){var L=ss(this,_).delete(_);return this.size-=L?1:0,L}function ad(_){return ss(this,_).get(_)}function $v(_){return ss(this,_).has(_)}function om(_,L){var q=ss(this,_),fe=q.size;return q.set(_,L),this.size+=q.size==fe?0:1,this}ql.prototype.clear=Qv,ql.prototype.delete=im,ql.prototype.get=ad,ql.prototype.has=$v,ql.prototype.set=om;function pf(_){var L=-1,q=_==null?0:_.length;for(this.__data__=new ql;++L<q;)this.add(_[L])}function am(_){return this.__data__.set(_,xe),this}function _g(_){return this.__data__.has(_)}pf.prototype.add=pf.prototype.push=am,pf.prototype.has=_g;function Lu(_){var L=this.__data__=new Nc(_);this.size=L.size}function e0(){this.__data__=new Nc,this.size=0}function tc(_){var L=this.__data__,q=L.delete(_);return this.size=L.size,q}function mf(_){return this.__data__.get(_)}function sd(_){return this.__data__.has(_)}function Qd(_,L){var q=this.__data__;if(q instanceof Nc){var fe=q.__data__;if(!ms||fe.length<Fe-1)return fe.push([_,L]),this.size=++q.size,this;q=this.__data__=new ql(fe)}return q.set(_,L),this.size=q.size,this}Lu.prototype.clear=e0,Lu.prototype.delete=tc,Lu.prototype.get=mf,Lu.prototype.has=sd,Lu.prototype.set=Qd;function Mg(_,L){var q=Ki(_),fe=!q&&hc(_),Ee=!q&&!fe&&Dh(_),ze=!q&&!fe&&!Ee&&ht(_),ct=q||fe||Ee||ze,mt=ct?of(_.length,Oc):[],Ft=mt.length;for(var Lr in _)(L||ia.call(_,Lr))&&!(ct&&(Lr=="length"||Ee&&(Lr=="offset"||Lr=="parent")||ze&&(Lr=="buffer"||Lr=="byteLength"||Lr=="byteOffset")||Sh(Lr,Ft)))&&mt.push(Lr);return mt}function sm(_){var L=_.length;return L?_[oc(0,L-1)]:ge}function Ll(_,L){return fp(Nl(_),jc(L,0,_.length))}function Gy(_){return fp(Nl(_))}function Eg(_,L,q){(q!==ge&&!Kc(_[L],q)||q===ge&&!(L in _))&&zc(_,L,q)}function Fc(_,L,q){var fe=_[L];(!(ia.call(_,L)&&Kc(fe,q))||q===ge&&!(L in _))&&zc(_,L,q)}function rl(_,L){for(var q=_.length;q--;)if(Kc(_[q][0],L))return q;return-1}function Bc(_,L,q,fe){return vh(_,function(Ee,ze,ct){L(fe,Ee,q(Ee),ct)}),fe}function t0(_,L){return _&&Gc(L,Ks(L),_)}function r0(_,L){return _&&Gc(L,du(L),_)}function zc(_,L,q){L=="__proto__"&&tm?tm(_,L,{configurable:!0,enumerable:!0,value:q,writable:!0}):_[L]=q}function $d(_,L){for(var q=-1,fe=L.length,Ee=er(fe),ze=_==null;++q<fe;)Ee[q]=ze?ge:v1(_,L[q]);return Ee}function jc(_,L,q){return _===_&&(q!==ge&&(_=_<=q?_:q),L!==ge&&(_=_>=L?_:L)),_}function nl(_,L,q,fe,Ee,ze){var ct,mt=L&ve,Ft=L&Zr,Lr=L&st;if(q&&(ct=Ee?q(_,fe,Ee,ze):q(_)),ct!==ge)return ct;if(!T(_))return _;var yr=Ki(_);if(yr){if(ct=Cx(_),!mt)return Nl(_,ct)}else{var Yr=dn(_),Un=Yr==yu||Yr==Wh;if(Dh(_))return Ng(_,mt);if(Yr==ws||Yr==As||Un&&!Ee){if(ct=Ft||Un?{}:cp(_),!mt)return Ft?Jy(_,r0(ct,_)):op(_,t0(ct,_))}else{if(!ca[Yr])return Ee?_:{};ct=Hg(_,Yr,mt)}}ze||(ze=new Lu);var vi=ze.get(_);if(vi)return vi;ze.set(_,ct),De(_)?_.forEach(function(oo){ct.add(nl(oo,L,q,oo,_,ze))}):G(_)&&_.forEach(function(oo,Go){ct.set(Go,nl(oo,L,q,Go,_,ze))});var no=Lr?Ft?dd:Cf:Ft?du:Ks,Oo=yr?ge:no(_);return Pl(Oo||_,function(oo,Go){Oo&&(Go=oo,oo=_[Go]),Fc(ct,Go,nl(oo,L,q,Go,_,ze))}),ct}function Wy(_){var L=Ks(_);return function(q){return gf(q,_,L)}}function gf(_,L,q){var fe=q.length;if(_==null)return!fe;for(_=Co(_);fe--;){var Ee=q[fe],ze=L[Ee],ct=_[Ee];if(ct===ge&&!(Ee in _)||!ze(ct))return!1}return!0}function ld(_,L,q){if(typeof _!="function")throw new Ws(pt);return Cm(function(){_.apply(ge,q)},L)}function rc(_,L,q,fe){var Ee=-1,ze=Aa,ct=!0,mt=_.length,Ft=[],Lr=L.length;if(!mt)return Ft;q&&(L=$i(L,gl(q))),fe?(ze=wa,ct=!1):L.length>=Fe&&(ze=_u,ct=!1,L=new pf(L));e:for(;++Ee<mt;){var yr=_[Ee],Yr=q==null?yr:q(yr);if(yr=fe||yr!==0?yr:0,ct&&Yr===Yr){for(var Un=Lr;Un--;)if(L[Un]===Yr)continue e;Ft.push(yr)}else ze(L,Yr,fe)||Ft.push(yr)}return Ft}var vh=Wc(Tr),Tg=Wc(Ig,!0);function ep(_,L){var q=!0;return vh(_,function(fe,Ee,ze){return q=!!L(fe,Ee,ze),q}),q}function Uc(_,L,q){for(var fe=-1,Ee=_.length;++fe<Ee;){var ze=_[fe],ct=L(ze);if(ct!=null&&(mt===ge?ct===ct&&!Ve(ct):q(ct,mt)))var mt=ct,Ft=ze}return Ft}function Ms(_,L,q,fe){var Ee=_.length;for(q=zt(q),q<0&&(q=-q>Ee?0:Ee+q),fe=fe===ge||fe>Ee?Ee:zt(fe),fe<0&&(fe+=Ee),fe=q>fe?0:Sr(fe);q<fe;)_[q++]=L;return _}function Oa(_,L){var q=[];return vh(_,function(fe,Ee,ze){L(fe,Ee,ze)&&q.push(fe)}),q}function ta(_,L,q,fe,Ee){var ze=-1,ct=_.length;for(q||(q=bf),Ee||(Ee=[]);++ze<ct;){var mt=_[ze];L>0&&q(mt)?L>1?ta(mt,L-1,q,fe,Ee):Ea(Ee,mt):fe||(Ee[Ee.length]=mt)}return Ee}var Xi=Bg(),Es=Bg(!0);function Tr(_,L){return _&&Xi(_,L,Ks)}function Ig(_,L){return _&&Es(_,L,Ks)}function gs(_,L){return ri(L,function(q){return p(_[q])})}function Ql(_,L){L=Vc(L,_);for(var q=0,fe=L.length;_!=null&&q<fe;)_=_[Yc(L[q++])];return q&&q==fe?_:ge}function po(_,L,q){var fe=L(_);return Ki(_)?fe:Ea(fe,q(_))}function Fi(_){return _==null?_===ge?Vf:Ma:$a&&$a in Co(_)?Ao(_):Mh(_)}function yh(_,L){return _>L}function za(_,L){return _!=null&&ia.call(_,L)}function Ra(_,L){return _!=null&&L in Co(_)}function yl(_,L,q){return _>=Za(L,q)&&_<Ui(L,q)}function kc(_,L,q){for(var fe=q?wa:Aa,Ee=_[0].length,ze=_.length,ct=ze,mt=er(ze),Ft=Infinity,Lr=[];ct--;){var yr=_[ct];ct&&L&&(yr=$i(yr,gl(L))),Ft=Za(yr.length,Ft),mt[ct]=!q&&(L||Ee>=120&&yr.length>=120)?new pf(ct&&yr):ge}yr=_[0];var Yr=-1,Un=mt[0];e:for(;++Yr<Ee&&Lr.length<Ft;){var vi=yr[Yr],no=L?L(vi):vi;if(vi=q||vi!==0?vi:0,!(Un?_u(Un,no):fe(Lr,no,q))){for(ct=ze;--ct;){var Oo=mt[ct];if(!(Oo?_u(Oo,no):fe(_[ct],no,q)))continue e}Un&&Un.push(no),Lr.push(vi)}}return Lr}function nc(_,L,q,fe){return Tr(_,function(Ee,ze,ct){L(fe,q(Ee),ze,ct)}),fe}function ic(_,L,q){L=Vc(L,_),_=Eh(_,L);var fe=_==null?_:_[Yc(Uu(L))];return fe==null?ge:ml(fe,_,q)}function n0(_){return z(_)&&Fi(_)==As}function oA(_){return z(_)&&Fi(_)==Cc}function i0(_){return z(_)&&Fi(_)==No}function o0(_,L,q,fe,Ee){return _===L?!0:_==null||L==null||!z(_)&&!z(L)?_!==_&&L!==L:$l(_,L,q,fe,o0,Ee)}function $l(_,L,q,fe,Ee,ze){var ct=Ki(_),mt=Ki(L),Ft=ct?ur:dn(_),Lr=mt?ur:dn(L);Ft=Ft==As?ws:Ft,Lr=Lr==As?ws:Lr;var yr=Ft==ws,Yr=Lr==ws,Un=Ft==Lr;if(Un&&Dh(_)){if(!Dh(L))return!1;ct=!0,yr=!1}if(Un&&!yr)return ze||(ze=new Lu),ct||ht(_)?Fl(_,L,q,fe,Ee,ze):v0(_,L,Ft,q,fe,Ee,ze);if(!(q&zr)){var vi=yr&&ia.call(_,"__wrapped__"),no=Yr&&ia.call(L,"__wrapped__");if(vi||no){var Oo=vi?_.value():_,oo=no?L.value():L;return ze||(ze=new Lu),Ee(Oo,oo,q,fe,ze)}}return Un?(ze||(ze=new Lu),fd(_,L,q,fe,Ee,ze)):!1}function Dl(_){return z(_)&&dn(_)==El}function Xs(_,L,q,fe){var Ee=q.length,ze=Ee,ct=!fe;if(_==null)return!ze;for(_=Co(_);Ee--;){var mt=q[Ee];if(ct&&mt[2]?mt[1]!==_[mt[0]]:!(mt[0]in _))return!1}for(;++Ee<ze;){mt=q[Ee];var Ft=mt[0],Lr=_[Ft],yr=mt[1];if(ct&&mt[2]){if(Lr===ge&&!(Ft in _))return!1}else{var Yr=new Lu;if(fe)var Un=fe(Lr,yr,Ft,_,L,Yr);if(!(Un===ge?o0(yr,Lr,zr|zn,fe,Yr):Un))return!1}}return!0}function xh(_){if(!T(_)||y0(_))return!1;var L=p(_)?Yd:Xh;return L.test(md(_))}function ko(_){return z(_)&&Fi(_)==oh}function Ja(_){return z(_)&&dn(_)==bs}function Kr(_){return z(_)&&x(_.length)&&!!Yo[Fi(_)]}function lm(_){return typeof _=="function"?_:_==null?Vu:typeof _=="object"?Ki(_)?vf(_[0],_[1]):rp(_):Um(_)}function a0(_){if(!Bu(_))return hx(_);var L=[];for(var q in Co(_))ia.call(_,q)&&q!="constructor"&&L.push(q);return L}function tp(_){if(!T(_))return bx(_);var L=Bu(_),q=[];for(var fe in _)fe=="constructor"&&(L||!ia.call(_,fe))||q.push(fe);return q}function um(_,L){return _<L}function ud(_,L){var q=-1,fe=ku(_)?er(_.length):[];return vh(_,function(Ee,ze,ct){fe[++q]=L(Ee,ze,ct)}),fe}function rp(_){var L=tu(_);return L.length==1&&L[0][2]?C0(L[0][0],L[0][1]):function(q){return q===_||Xs(q,_,L)}}function vf(_,L){return _h(_)&&wx(L)?C0(Yc(_),L):function(q){var fe=v1(q,_);return fe===ge&&fe===L?U0(q,_):o0(L,fe,zr|zn)}}function il(_,L,q,fe,Ee){_!==L&&Xi(L,function(ze,ct){if(Ee||(Ee=new Lu),T(ze))dx(_,L,ct,q,il,fe,Ee);else{var mt=fe?fe(e1(_,ct),ze,ct+"",_,L,Ee):ge;mt===ge&&(mt=ze),Eg(_,ct,mt)}},du)}function dx(_,L,q,fe,Ee,ze,ct){var mt=e1(_,q),Ft=e1(L,q),Lr=ct.get(Ft);if(Lr){Eg(_,q,Lr);return}var yr=ze?ze(mt,Ft,q+"",_,L,ct):ge,Yr=yr===ge;if(Yr){var Un=Ki(Ft),vi=!Un&&Dh(Ft),no=!Un&&!vi&&ht(Ft);yr=Ft,Un||vi||no?Ki(mt)?yr=mt:Da(mt)?yr=Nl(mt):vi?(Yr=!1,yr=Ng(Ft,!0)):no?(Yr=!1,yr=m0(Ft,!0)):yr=[]:Q(Ft)||hc(Ft)?(yr=mt,hc(mt)?yr=Ii(mt):(!T(mt)||p(mt))&&(yr=cp(Ft))):Yr=!1}Yr&&(ct.set(Ft,yr),Ee(yr,Ft,fe,ze,ct),ct.delete(Ft)),Eg(_,q,yr)}function yf(_,L){var q=_.length;if(!!q)return L+=L<0?q:0,Sh(L,q)?_[L]:ge}function Pg(_,L,q){L.length?L=$i(L,function(ze){return Ki(ze)?function(ct){return Ql(ct,ze.length===1?ze[0]:ze)}:ze}):L=[Vu];var fe=-1;L=$i(L,gl(Bi()));var Ee=ud(_,function(ze,ct,mt){var Ft=$i(L,function(Lr){return Lr(ze)});return{criteria:Ft,index:++fe,value:ze}});return Qp(Ee,function(ze,ct){return Nu(ze,ct,q)})}function eu(_,L){return Og(_,L,function(q,fe){return U0(_,fe)})}function Og(_,L,q){for(var fe=-1,Ee=L.length,ze={};++fe<Ee;){var ct=L[fe],mt=Ql(_,ct);q(mt,ct)&&ip(ze,Vc(ct,_),mt)}return ze}function cd(_){return function(L){return Ql(L,_)}}function np(_,L,q,fe){var Ee=fe?qu:Ju,ze=-1,ct=L.length,mt=_;for(_===L&&(L=Nl(L)),q&&(mt=$i(_,gl(q)));++ze<ct;)for(var Ft=0,Lr=L[ze],yr=q?q(Lr):Lr;(Ft=Ee(mt,yr,Ft,fe))>-1;)mt!==_&&wi.call(mt,Ft,1),wi.call(_,Ft,1);return _}function ol(_,L){for(var q=_?L.length:0,fe=q-1;q--;){var Ee=L[q];if(q==fe||Ee!==ze){var ze=Ee;Sh(Ee)?wi.call(_,Ee,1):as(_,Ee)}}return _}function oc(_,L){return _+ji(id()*(L-_+1))}function Yy(_,L,q,fe){for(var Ee=-1,ze=Ui(Zd((L-_)/(q||1)),0),ct=er(ze);ze--;)ct[fe?ze:++Ee]=_,_+=q;return ct}function s0(_,L){var q="";if(!_||L<1||L>Ga)return q;do L%2&&(q+=_),L=ji(L/2),L&&(_+=_);while(L);return q}function Mo(_,L){return Wg(hu(_,L,Vu),_+"")}function px(_){return sm(da(_))}function l0(_,L){var q=da(_);return fp(q,jc(L,0,q.length))}function ip(_,L,q,fe){if(!T(_))return _;L=Vc(L,_);for(var Ee=-1,ze=L.length,ct=ze-1,mt=_;mt!=null&&++Ee<ze;){var Ft=Yc(L[Ee]),Lr=q;if(Ft==="__proto__"||Ft==="constructor"||Ft==="prototype")return _;if(Ee!=ct){var yr=mt[Ft];Lr=fe?fe(yr,Ft,mt):ge,Lr===ge&&(Lr=T(yr)?yr:Sh(L[Ee+1])?[]:{})}Fc(mt,Ft,Lr),mt=mt[Ft]}return _}var Rg=_s?function(_,L){return _s.set(_,L),_}:Vu,mx=tm?function(_,L){return tm(_,"toString",{configurable:!0,enumerable:!1,value:SA(L),writable:!0})}:Vu;function u0(_){return fp(da(_))}function al(_,L,q){var fe=-1,Ee=_.length;L<0&&(L=-L>Ee?0:Ee+L),q=q>Ee?Ee:q,q<0&&(q+=Ee),Ee=L>q?0:q-L>>>0,L>>>=0;for(var ze=er(Ee);++fe<Ee;)ze[fe]=_[fe+L];return ze}function gx(_,L){var q;return vh(_,function(fe,Ee,ze){return q=L(fe,Ee,ze),!q}),!!q}function cm(_,L,q){var fe=0,Ee=_==null?fe:_.length;if(typeof L=="number"&&L===L&&Ee<=Sn){for(;fe<Ee;){var ze=fe+Ee>>>1,ct=_[ze];ct!==null&&!Ve(ct)&&(q?ct<=L:ct<L)?fe=ze+1:Ee=ze}return Ee}return Lg(_,L,Vu,q)}function Lg(_,L,q,fe){var Ee=0,ze=_==null?0:_.length;if(ze===0)return 0;L=q(L);for(var ct=L!==L,mt=L===null,Ft=Ve(L),Lr=L===ge;Ee<ze;){var yr=ji((Ee+ze)/2),Yr=q(_[yr]),Un=Yr!==ge,vi=Yr===null,no=Yr===Yr,Oo=Ve(Yr);if(ct)var oo=fe||no;else Lr?oo=no&&(fe||Un):mt?oo=no&&Un&&(fe||!vi):Ft?oo=no&&Un&&!vi&&(fe||!Oo):vi||Oo?oo=!1:oo=fe?Yr<=L:Yr<L;oo?Ee=yr+1:ze=yr}return Za(ze,Qa)}function vx(_,L){for(var q=-1,fe=_.length,Ee=0,ze=[];++q<fe;){var ct=_[q],mt=L?L(ct):ct;if(!q||!Kc(mt,Ft)){var Ft=mt;ze[Ee++]=ct===0?0:ct}}return ze}function hm(_){return typeof _=="number"?_:Ve(_)?os:+_}function Fs(_){if(typeof _=="string")return _;if(Ki(_))return $i(_,Fs)+"";if(Ve(_))return gh?gh.call(_):"";var L=_+"";return L=="0"&&1/_==-Uo?"-0":L}function xl(_,L,q){var fe=-1,Ee=Aa,ze=_.length,ct=!0,mt=[],Ft=mt;if(q)ct=!1,Ee=wa;else if(ze>=Fe){var Lr=L?null:Ug(_);if(Lr)return ed(Lr);ct=!1,Ee=_u,Ft=new pf}else Ft=L?[]:mt;e:for(;++fe<ze;){var yr=_[fe],Yr=L?L(yr):yr;if(yr=q||yr!==0?yr:0,ct&&Yr===Yr){for(var Un=Ft.length;Un--;)if(Ft[Un]===Yr)continue e;L&&Ft.push(Yr),mt.push(yr)}else Ee(Ft,Yr,q)||(Ft!==mt&&Ft.push(Yr),mt.push(yr))}return mt}function as(_,L){return L=Vc(L,_),_=Eh(_,L),_==null||delete _[Yc(Uu(L))]}function Dg(_,L,q,fe){return ip(_,L,q(Ql(_,L)),fe)}function Hc(_,L,q,fe){for(var Ee=_.length,ze=fe?Ee:-1;(fe?ze--:++ze<Ee)&&L(_[ze],ze,_););return q?al(_,fe?0:ze,fe?ze+1:Ee):al(_,fe?ze+1:0,fe?Ee:ze)}function xf(_,L){var q=_;return q instanceof ci&&(q=q.value()),rf(L,function(fe,Ee){return Ee.func.apply(Ee.thisArg,Ea([fe],Ee.args))},q)}function c0(_,L,q){var fe=_.length;if(fe<2)return fe?xl(_[0]):[];for(var Ee=-1,ze=er(fe);++Ee<fe;)for(var ct=_[Ee],mt=-1;++mt<fe;)mt!=Ee&&(ze[Ee]=rc(ze[Ee]||ct,_[mt],L,q));return xl(ta(ze,1),L,q)}function Du(_,L,q){for(var fe=-1,Ee=_.length,ze=L.length,ct={};++fe<Ee;){var mt=fe<ze?L[fe]:ge;q(ct,_[fe],mt)}return ct}function fm(_){return Da(_)?_:[]}function h0(_){return typeof _=="function"?_:Vu}function Vc(_,L){return Ki(_)?_:_h(_,L)?[_]:w0(jn(_))}var dm=Mo;function Ch(_,L,q){var fe=_.length;return q=q===ge?fe:q,!L&&q>=fe?_:al(_,L,q)}var Xy=ky||function(_){return An.clearTimeout(_)};function Ng(_,L){if(L)return _.slice();var q=_.length,fe=nd?nd(q):new _.constructor(q);return _.copy(fe),fe}function f0(_){var L=new _.constructor(_.byteLength);return new Tu(L).set(new Tu(_)),L}function d0(_,L){var q=L?f0(_.buffer):_.buffer;return new _.constructor(q,_.byteOffset,_.byteLength)}function Zy(_){var L=new _.constructor(_.source,Au.exec(_));return L.lastIndex=_.lastIndex,L}function p0(_){return Kl?Co(Kl.call(_)):{}}function m0(_,L){var q=L?f0(_.buffer):_.buffer;return new _.constructor(q,_.byteOffset,_.length)}function Ky(_,L){if(_!==L){var q=_!==ge,fe=_===null,Ee=_===_,ze=Ve(_),ct=L!==ge,mt=L===null,Ft=L===L,Lr=Ve(L);if(!mt&&!Lr&&!ze&&_>L||ze&&ct&&Ft&&!mt&&!Lr||fe&&ct&&Ft||!q&&Ft||!Ee)return 1;if(!fe&&!ze&&!Lr&&_<L||Lr&&q&&Ee&&!fe&&!ze||mt&&q&&Ee||!ct&&Ee||!Ft)return-1}return 0}function Nu(_,L,q){for(var fe=-1,Ee=_.criteria,ze=L.criteria,ct=Ee.length,mt=q.length;++fe<ct;){var Ft=Ky(Ee[fe],ze[fe]);if(Ft){if(fe>=mt)return Ft;var Lr=q[fe];return Ft*(Lr=="desc"?-1:1)}}return _.index-L.index}function yx(_,L,q,fe){for(var Ee=-1,ze=_.length,ct=q.length,mt=-1,Ft=L.length,Lr=Ui(ze-ct,0),yr=er(Ft+Lr),Yr=!fe;++mt<Ft;)yr[mt]=L[mt];for(;++Ee<ct;)(Yr||Ee<ze)&&(yr[q[Ee]]=_[Ee]);for(;Lr--;)yr[mt++]=_[Ee++];return yr}function Fg(_,L,q,fe){for(var Ee=-1,ze=_.length,ct=-1,mt=q.length,Ft=-1,Lr=L.length,yr=Ui(ze-mt,0),Yr=er(yr+Lr),Un=!fe;++Ee<yr;)Yr[Ee]=_[Ee];for(var vi=Ee;++Ft<Lr;)Yr[vi+Ft]=L[Ft];for(;++ct<mt;)(Un||Ee<ze)&&(Yr[vi+q[ct]]=_[Ee++]);return Yr}function Nl(_,L){var q=-1,fe=_.length;for(L||(L=er(fe));++q<fe;)L[q]=_[q];return L}function Gc(_,L,q,fe){var Ee=!q;q||(q={});for(var ze=-1,ct=L.length;++ze<ct;){var mt=L[ze],Ft=fe?fe(q[mt],_[mt],mt,q,_):ge;Ft===ge&&(Ft=_[mt]),Ee?zc(q,mt,Ft):Fc(q,mt,Ft)}return q}function op(_,L){return Gc(_,wh(_),L)}function Jy(_,L){return Gc(_,wf(_),L)}function Ah(_,L){return function(q,fe){var Ee=Ki(q)?Yv:Bc,ze=L?L():{};return Ee(q,_,Bi(fe,2),ze)}}function Cl(_){return Mo(function(L,q){var fe=-1,Ee=q.length,ze=Ee>1?q[Ee-1]:ge,ct=Ee>2?q[2]:ge;for(ze=_.length>3&&typeof ze=="function"?(Ee--,ze):ge,ct&&Bl(q[0],q[1],ct)&&(ze=Ee<3?ge:ze,Ee=1),L=Co(L);++fe<Ee;){var mt=q[fe];mt&&_(L,mt,fe,ze)}return L})}function Wc(_,L){return function(q,fe){if(q==null)return q;if(!ku(q))return _(q,fe);for(var Ee=q.length,ze=L?Ee:-1,ct=Co(q);(L?ze--:++ze<Ee)&&fe(ct[ze],ze,ct)!==!1;);return q}}function Bg(_){return function(L,q,fe){for(var Ee=-1,ze=Co(L),ct=fe(L),mt=ct.length;mt--;){var Ft=ct[_?mt:++Ee];if(q(ze[Ft],Ft,ze)===!1)break}return L}}function g0(_,L,q){var fe=L&$t,Ee=pm(_);function ze(){var ct=this&&this!==An&&this instanceof ze?Ee:_;return ct.apply(fe?q:this,arguments)}return ze}function ap(_){return function(L){L=jn(L);var q=fh(L)?lu(L):ge,fe=q?q[0]:L.charAt(0),Ee=q?Ch(q,1).join(""):L.slice(1);return fe[_]()+Ee}}function yo(_){return function(L){return rf(Xn(ma(L).replace(kd,"")),_,"")}}function pm(_){return function(){var L=arguments;switch(L.length){case 0:return new _;case 1:return new _(L[0]);case 2:return new _(L[0],L[1]);case 3:return new _(L[0],L[1],L[2]);case 4:return new _(L[0],L[1],L[2],L[3]);case 5:return new _(L[0],L[1],L[2],L[3],L[4]);case 6:return new _(L[0],L[1],L[2],L[3],L[4],L[5]);case 7:return new _(L[0],L[1],L[2],L[3],L[4],L[5],L[6])}var q=Rl(_.prototype),fe=_.apply(q,L);return T(fe)?fe:q}}function Ti(_,L,q){var fe=pm(_);function Ee(){for(var ze=arguments.length,ct=er(ze),mt=ze,Ft=Af(Ee);mt--;)ct[mt]=arguments[mt];var Lr=ze<3&&ct[0]!==Ft&&ct[ze-1]!==Ft?[]:ba(ct,Ft);if(ze-=Lr.length,ze<q)return jg(_,L,Bs,Ee.placeholder,ge,ct,Lr,ge,ge,q-ze);var yr=this&&this!==An&&this instanceof Ee?fe:_;return ml(yr,this,ct)}return Ee}function zg(_){return function(L,q,fe){var Ee=Co(L);if(!ku(L)){var ze=Bi(q,3);L=Ks(L),q=function(mt){return ze(Ee[mt],mt,Ee)}}var ct=_(L,q,fe);return ct>-1?Ee[ze?L[ct]:ct]:ge}}function La(_){return sl(function(L){var q=L.length,fe=q,Ee=Ys.prototype.thru;for(_&&L.reverse();fe--;){var ze=L[fe];if(typeof ze!="function")throw new Ws(pt);if(Ee&&!ct&&pd(ze)=="wrapper")var ct=new Ys([],!0)}for(fe=ct?fe:q;++fe<q;){ze=L[fe];var mt=pd(ze),Ft=mt=="wrapper"?vm(ze):ge;Ft&&xm(Ft[0])&&Ft[1]==(Dt|br|Vr|pr)&&!Ft[4].length&&Ft[9]==1?ct=ct[pd(Ft[0])].apply(ct,Ft[3]):ct=ze.length==1&&xm(ze)?ct[mt]():ct.thru(ze)}return function(){var Lr=arguments,yr=Lr[0];if(ct&&Lr.length==1&&Ki(yr))return ct.plant(yr).value();for(var Yr=0,Un=q?L[Yr].apply(this,Lr):yr;++Yr<q;)Un=L[Yr].call(this,Un);return Un}})}function Bs(_,L,q,fe,Ee,ze,ct,mt,Ft,Lr){var yr=L&Dt,Yr=L&$t,Un=L&gn,vi=L&(br|Tt),no=L&Gr,Oo=Un?ge:pm(_);function oo(){for(var Go=arguments.length,oa=er(Go),pc=Go;pc--;)oa[pc]=arguments[pc];if(vi)var pu=Af(oo),mu=$f(oa,pu);if(fe&&(oa=yx(oa,fe,Ee,vi)),ze&&(oa=Fg(oa,ze,ct,vi)),Go-=mu,vi&&Go<Lr){var Us=ba(oa,pu);return jg(_,L,Bs,oo.placeholder,q,oa,Us,mt,Ft,Lr-Go)}var zh=Yr?q:this,Td=Un?zh[_]:_;return Go=oa.length,mt?oa=Gg(oa,mt):no&&Go>1&&oa.reverse(),yr&&Ft<Go&&(oa.length=Ft),this&&this!==An&&this instanceof oo&&(Td=Oo||pm(Td)),Td.apply(zh,oa)}return oo}function hd(_,L){return function(q,fe){return nc(q,_,L(fe),{})}}function qy(_,L){return function(q,fe){var Ee;if(q===ge&&fe===ge)return L;if(q!==ge&&(Ee=q),fe!==ge){if(Ee===ge)return fe;typeof q=="string"||typeof fe=="string"?(q=Fs(q),fe=Fs(fe)):(q=hm(q),fe=hm(fe)),Ee=_(q,fe)}return Ee}}function mm(_){return sl(function(L){return L=$i(L,gl(Bi())),Mo(function(q){var fe=this;return _(L,function(Ee){return ml(Ee,fe,q)})})})}function gm(_,L){L=L===ge?" ":Fs(L);var q=L.length;if(q<2)return q?s0(L,_):L;var fe=s0(L,Zd(_/Pc(L)));return fh(L)?Ch(lu(fe),0,_).join(""):fe.slice(0,_)}function xx(_,L,q,fe){var Ee=L&$t,ze=pm(_);function ct(){for(var mt=-1,Ft=arguments.length,Lr=-1,yr=fe.length,Yr=er(yr+Ft),Un=this&&this!==An&&this instanceof ct?ze:_;++Lr<yr;)Yr[Lr]=fe[Lr];for(;Ft--;)Yr[Lr++]=arguments[++mt];return ml(Un,Ee?q:this,Yr)}return ct}function Qy(_){return function(L,q,fe){return fe&&typeof fe!="number"&&Bl(L,q,fe)&&(q=fe=ge),L=$n(L),q===ge?(q=L,L=0):q=$n(q),fe=fe===ge?L<q?1:-1:$n(fe),Yy(L,q,fe,_)}}function sp(_){return function(L,q){return typeof L=="string"&&typeof q=="string"||(L=Jn(L),q=Jn(q)),_(L,q)}}function jg(_,L,q,fe,Ee,ze,ct,mt,Ft,Lr){var yr=L&br,Yr=yr?ct:ge,Un=yr?ge:ct,vi=yr?ze:ge,no=yr?ge:ze;L|=yr?Vr:Ar,L&=~(yr?Ar:Vr),L&Ni||(L&=~($t|gn));var Oo=[_,L,Ee,vi,Yr,no,Un,mt,Ft,Lr],oo=q.apply(ge,Oo);return xm(_)&&Th(oo,Oo),oo.placeholder=fe,Am(oo,_,L)}function fa(_){var L=ha[_];return function(q,fe){if(q=Jn(q),fe=fe==null?0:Za(zt(fe),292),fe&&wg(q)){var Ee=(jn(q)+"e").split("e"),ze=L(Ee[0]+"e"+(+Ee[1]+fe));return Ee=(jn(ze)+"e").split("e"),+(Ee[0]+"e"+(+Ee[1]-fe))}return L(q)}}var Ug=Ns&&1/ed(new Ns([,-0]))[1]==Uo?function(_){return new Ns(_)}:pv;function lp(_){return function(L){var q=dn(L);return q==El?vg(L):q==bs?jy(L):Xv(L,_(L))}}function Fu(_,L,q,fe,Ee,ze,ct,mt){var Ft=L&gn;if(!Ft&&typeof _!="function")throw new Ws(pt);var Lr=fe?fe.length:0;if(Lr||(L&=~(Vr|Ar),fe=Ee=ge),ct=ct===ge?ct:Ui(zt(ct),0),mt=mt===ge?mt:zt(mt),Lr-=Ee?Ee.length:0,L&Ar){var yr=fe,Yr=Ee;fe=Ee=ge}var Un=Ft?ge:vm(_),vi=[_,L,q,fe,Ee,yr,Yr,ze,ct,mt];if(Un&&A0(vi,Un),_=vi[0],L=vi[1],q=vi[2],fe=vi[3],Ee=vi[4],mt=vi[9]=vi[9]===ge?Ft?0:_.length:Ui(vi[9]-Lr,0),!mt&&L&(br|Tt)&&(L&=~(br|Tt)),!L||L==$t)var no=g0(_,L,q);else L==br||L==Tt?no=Ti(_,L,mt):(L==Vr||L==($t|Vr))&&!Ee.length?no=xx(_,L,q,fe):no=Bs.apply(ge,vi);var Oo=Un?Rg:Th;return Am(Oo(no,vi),_,L)}function up(_,L,q,fe){return _===ge||Kc(_,uu[q])&&!ia.call(fe,q)?L:_}function $y(_,L,q,fe,Ee,ze){return T(_)&&T(L)&&(ze.set(L,_),il(_,L,ge,$y,ze),ze.delete(L)),_}function ac(_){return Q(_)?ge:_}function Fl(_,L,q,fe,Ee,ze){var ct=q&zr,mt=_.length,Ft=L.length;if(mt!=Ft&&!(ct&&Ft>mt))return!1;var Lr=ze.get(_),yr=ze.get(L);if(Lr&&yr)return Lr==L&&yr==_;var Yr=-1,Un=!0,vi=q&zn?new pf:ge;for(ze.set(_,L),ze.set(L,_);++Yr<mt;){var no=_[Yr],Oo=L[Yr];if(fe)var oo=ct?fe(Oo,no,Yr,L,_,ze):fe(no,Oo,Yr,_,L,ze);if(oo!==ge){if(oo)continue;Un=!1;break}if(vi){if(!Su(L,function(Go,oa){if(!_u(vi,oa)&&(no===Go||Ee(no,Go,q,fe,ze)))return vi.push(oa)})){Un=!1;break}}else if(!(no===Oo||Ee(no,Oo,q,fe,ze))){Un=!1;break}}return ze.delete(_),ze.delete(L),Un}function v0(_,L,q,fe,Ee,ze,ct){switch(q){case Ba:if(_.byteLength!=L.byteLength||_.byteOffset!=L.byteOffset)return!1;_=_.buffer,L=L.buffer;case Cc:return!(_.byteLength!=L.byteLength||!ze(new Tu(_),new Tu(L)));case vn:case No:case el:return Kc(+_,+L);case Xa:return _.name==L.name&&_.message==L.message;case oh:case Yn:return _==L+"";case El:var mt=vg;case bs:var Ft=fe&zr;if(mt||(mt=ed),_.size!=L.size&&!Ft)return!1;var Lr=ct.get(_);if(Lr)return Lr==L;fe|=zn,ct.set(_,L);var yr=Fl(mt(_),mt(L),fe,Ee,ze,ct);return ct.delete(_),yr;case so:if(Kl)return Kl.call(_)==Kl.call(L)}return!1}function fd(_,L,q,fe,Ee,ze){var ct=q&zr,mt=Cf(_),Ft=mt.length,Lr=Cf(L),yr=Lr.length;if(Ft!=yr&&!ct)return!1;for(var Yr=Ft;Yr--;){var Un=mt[Yr];if(!(ct?Un in L:ia.call(L,Un)))return!1}var vi=ze.get(_),no=ze.get(L);if(vi&&no)return vi==L&&no==_;var Oo=!0;ze.set(_,L),ze.set(L,_);for(var oo=ct;++Yr<Ft;){Un=mt[Yr];var Go=_[Un],oa=L[Un];if(fe)var pc=ct?fe(oa,Go,Un,L,_,ze):fe(Go,oa,Un,_,L,ze);if(!(pc===ge?Go===oa||Ee(Go,oa,q,fe,ze):pc)){Oo=!1;break}oo||(oo=Un=="constructor")}if(Oo&&!oo){var pu=_.constructor,mu=L.constructor;pu!=mu&&"constructor"in _&&"constructor"in L&&!(typeof pu=="function"&&pu instanceof pu&&typeof mu=="function"&&mu instanceof mu)&&(Oo=!1)}return ze.delete(_),ze.delete(L),Oo}function sl(_){return Wg(hu(_,ge,zl),_+"")}function Cf(_){return po(_,Ks,wh)}function dd(_){return po(_,du,wf)}var vm=_s?function(_){return _s.get(_)}:pv;function pd(_){for(var L=_.name+"",q=od[L],fe=ia.call(od,L)?q.length:0;fe--;){var Ee=q[fe],ze=Ee.func;if(ze==null||ze==_)return Ee.name}return L}function Af(_){var L=ia.call(Re,"placeholder")?Re:_;return L.placeholder}function Bi(){var _=Re.iteratee||dv;return _=_===dv?lm:_,arguments.length?_(arguments[0],arguments[1]):_}function ss(_,L){var q=_.__data__;return Ax(L)?q[typeof L=="string"?"string":"hash"]:q.map}function tu(_){for(var L=Ks(_),q=L.length;q--;){var fe=L[q],Ee=_[fe];L[q]=[fe,Ee,wx(Ee)]}return L}function ai(_,L){var q=nA(_,L);return xh(q)?q:ge}function Ao(_){var L=ia.call(_,$a),q=_[$a];try{_[$a]=ge;var fe=!0}catch(ze){}var Ee=dh.call(_);return fe&&(L?_[$a]=q:delete _[$a]),Ee}var wh=Kd?function(_){return _==null?[]:(_=Co(_),ri(Kd(_),function(L){return cu.call(_,L)}))}:J0,wf=Kd?function(_){for(var L=[];_;)Ea(L,wh(_)),_=Zl(_);return L}:J0,dn=Fi;(nm&&dn(new nm(new ArrayBuffer(1)))!=Ba||ms&&dn(new ms)!=El||Ei&&dn(Ei.resolve())!=_n||Ns&&dn(new Ns)!=bs||Rc&&dn(new Rc)!=dl)&&(dn=function(_){var L=Fi(_),q=L==ws?_.constructor:ge,fe=q?md(q):"";if(fe)switch(fe){case Sg:return Ba;case uf:return El;case Lc:return _n;case mh:return bs;case ro:return dl}return L});function bh(_,L,q){for(var fe=-1,Ee=q.length;++fe<Ee;){var ze=q[fe],ct=ze.size;switch(ze.type){case"drop":_+=ct;break;case"dropRight":L-=ct;break;case"take":L=Za(L,_+ct);break;case"takeRight":_=Ui(_,L-ct);break}}return{start:_,end:L}}function ym(_){var L=_.match(Tl);return L?L[1].split(Hp):[]}function kg(_,L,q){L=Vc(L,_);for(var fe=-1,Ee=L.length,ze=!1;++fe<Ee;){var ct=Yc(L[fe]);if(!(ze=_!=null&&q(_,ct)))break;_=_[ct]}return ze||++fe!=Ee?ze:(Ee=_==null?0:_.length,!!Ee&&x(Ee)&&Sh(ct,Ee)&&(Ki(_)||hc(_)))}function Cx(_){var L=_.length,q=new _.constructor(L);return L&&typeof _[0]=="string"&&ia.call(_,"index")&&(q.index=_.index,q.input=_.input),q}function cp(_){return typeof _.constructor=="function"&&!Bu(_)?Rl(Zl(_)):{}}function Hg(_,L,q){var fe=_.constructor;switch(L){case Cc:return f0(_);case vn:case No:return new fe(+_);case Ba:return d0(_,q);case Wa:case Ku:case Rs:case ar:case Ac:case ah:case pl:case Wr:case sg:return m0(_,q);case El:return new fe;case el:case Yn:return new fe(_);case oh:return Zy(_);case bs:return new fe;case so:return p0(_)}}function Vg(_,L){var q=L.length;if(!q)return _;var fe=q-1;return L[fe]=(q>1?"& ":"")+L[fe],L=L.join(q>2?", ":" "),_.replace(Gl,`{
/* [wrapped with `+L+`] */
`)}function bf(_){return Ki(_)||hc(_)||!!(Ag&&_&&_[Ag])}function Sh(_,L){var q=typeof _;return L=L==null?Ga:L,!!L&&(q=="number"||q!="symbol"&&wu.test(_))&&_>-1&&_%1==0&&_<L}function Bl(_,L,q){if(!T(q))return!1;var fe=typeof L;return(fe=="number"?ku(q)&&Sh(L,q.length):fe=="string"&&L in q)?Kc(q[L],_):!1}function _h(_,L){if(Ki(_))return!1;var q=typeof _;return q=="number"||q=="symbol"||q=="boolean"||_==null||Ve(_)?!0:$1.test(_)||!Q1.test(_)||L!=null&&_ in Co(L)}function Ax(_){var L=typeof _;return L=="string"||L=="number"||L=="symbol"||L=="boolean"?_!=="__proto__":_===null}function xm(_){var L=pd(_),q=Re[L];if(typeof q!="function"||!(L in ci.prototype))return!1;if(_===q)return!0;var fe=vm(q);return!!fe&&_===fe[0]}function y0(_){return!!Wd&&Wd in _}var x0=Mu?p:Ed;function Bu(_){var L=_&&_.constructor,q=typeof L=="function"&&L.prototype||uu;return _===q}function wx(_){return _===_&&!T(_)}function C0(_,L){return function(q){return q==null?!1:q[_]===L&&(L!==ge||_ in Co(q))}}function hp(_){var L=Pf(_,function(fe){return q.size===ft&&q.clear(),fe}),q=L.cache;return L}function A0(_,L){var q=_[1],fe=L[1],Ee=q|fe,ze=Ee<($t|gn|Dt),ct=fe==Dt&&q==br||fe==Dt&&q==pr&&_[7].length<=L[8]||fe==(Dt|pr)&&L[7].length<=L[8]&&q==br;if(!(ze||ct))return _;fe&$t&&(_[2]=L[2],Ee|=q&$t?0:Ni);var mt=L[3];if(mt){var Ft=_[3];_[3]=Ft?yx(Ft,mt,L[4]):mt,_[4]=Ft?ba(_[3],N):L[4]}return mt=L[5],mt&&(Ft=_[5],_[5]=Ft?Fg(Ft,mt,L[6]):mt,_[6]=Ft?ba(_[5],N):L[6]),mt=L[7],mt&&(_[7]=mt),fe&Dt&&(_[8]=_[8]==null?L[8]:Za(_[8],L[8])),_[9]==null&&(_[9]=L[9]),_[0]=L[0],_[1]=Ee,_}function bx(_){var L=[];if(_!=null)for(var q in Co(_))L.push(q);return L}function Mh(_){return dh.call(_)}function hu(_,L,q){return L=Ui(L===ge?_.length-1:L,0),function(){for(var fe=arguments,Ee=-1,ze=Ui(fe.length-L,0),ct=er(ze);++Ee<ze;)ct[Ee]=fe[L+Ee];Ee=-1;for(var mt=er(L+1);++Ee<L;)mt[Ee]=fe[Ee];return mt[L]=q(ct),ml(_,this,mt)}}function Eh(_,L){return L.length<2?_:Ql(_,al(L,0,-1))}function Gg(_,L){for(var q=_.length,fe=Za(L.length,q),Ee=Nl(_);fe--;){var ze=L[fe];_[fe]=Sh(ze,q)?Ee[ze]:ge}return _}function e1(_,L){if(!(L==="constructor"&&typeof _[L]=="function")&&L!="__proto__")return _[L]}var Th=wm(Rg),Cm=Hy||function(_,L){return An.setTimeout(_,L)},Wg=wm(mx);function Am(_,L,q){var fe=L+"";return Wg(_,Vg(fe,aA(ym(fe),q)))}function wm(_){var L=0,q=0;return function(){var fe=bg(),Ee=pi-(fe-q);if(q=fe,Ee>0){if(++L>=ir)return arguments[0]}else L=0;return _.apply(ge,arguments)}}function fp(_,L){var q=-1,fe=_.length,Ee=fe-1;for(L=L===ge?fe:L;++q<L;){var ze=oc(q,Ee),ct=_[ze];_[ze]=_[q],_[q]=ct}return _.length=L,_}var w0=hp(function(_){var L=[];return _.charCodeAt(0)===46&&L.push(""),_.replace(tl,function(q,fe,Ee,ze){L.push(Ee?ze.replace(Cu,"$1"):fe||q)}),L});function Yc(_){if(typeof _=="string"||Ve(_))return _;var L=_+"";return L=="0"&&1/_==-Uo?"-0":L}function md(_){if(_!=null){try{return rd.call(_)}catch(L){}try{return _+""}catch(L){}}return""}function aA(_,L){return Pl(ih,function(q){var fe="_."+q[0];L&q[1]&&!Aa(_,fe)&&_.push(fe)}),_.sort()}function Sx(_){if(_ instanceof ci)return _.clone();var L=new Ys(_.__wrapped__,_.__chain__);return L.__actions__=Nl(_.__actions__),L.__index__=_.__index__,L.__values__=_.__values__,L}function bm(_,L,q){(q?Bl(_,L,q):L===ge)?L=1:L=Ui(zt(L),0);var fe=_==null?0:_.length;if(!fe||L<1)return[];for(var Ee=0,ze=0,ct=er(Zd(fe/L));Ee<fe;)ct[ze++]=al(_,Ee,Ee+=L);return ct}function Sm(_){for(var L=-1,q=_==null?0:_.length,fe=0,Ee=[];++L<q;){var ze=_[L];ze&&(Ee[fe++]=ze)}return Ee}function gd(){var _=arguments.length;if(!_)return[];for(var L=er(_-1),q=arguments[0],fe=_;fe--;)L[fe-1]=arguments[fe];return Ea(Ki(q)?Nl(q):[q],ta(L,1))}var C2=Mo(function(_,L){return Da(_)?rc(_,ta(L,1,Da,!0)):[]}),sA=Mo(function(_,L){var q=Uu(L);return Da(q)&&(q=ge),Da(_)?rc(_,ta(L,1,Da,!0),Bi(q,2)):[]}),zu=Mo(function(_,L){var q=Uu(L);return Da(q)&&(q=ge),Da(_)?rc(_,ta(L,1,Da,!0),ge,q):[]});function b0(_,L,q){var fe=_==null?0:_.length;return fe?(L=q||L===ge?1:zt(L),al(_,L<0?0:L,fe)):[]}function ju(_,L,q){var fe=_==null?0:_.length;return fe?(L=q||L===ge?1:zt(L),L=fe-L,al(_,0,L<0?0:L)):[]}function t1(_,L){return _&&_.length?Hc(_,Bi(L,3),!0,!0):[]}function r1(_,L){return _&&_.length?Hc(_,Bi(L,3),!0):[]}function fu(_,L,q,fe){var Ee=_==null?0:_.length;return Ee?(q&&typeof q!="number"&&Bl(_,L,q)&&(q=0,fe=Ee),Ms(_,L,q,fe)):[]}function n1(_,L,q){var fe=_==null?0:_.length;if(!fe)return-1;var Ee=q==null?0:zt(q);return Ee<0&&(Ee=Ui(fe+Ee,0)),nf(_,Bi(L,3),Ee)}function S0(_,L,q){var fe=_==null?0:_.length;if(!fe)return-1;var Ee=fe-1;return q!==ge&&(Ee=zt(q),Ee=q<0?Ui(fe+Ee,0):Za(Ee,fe-1)),nf(_,Bi(L,3),Ee,!0)}function zl(_){var L=_==null?0:_.length;return L?ta(_,1):[]}function Ih(_){var L=_==null?0:_.length;return L?ta(_,Uo):[]}function Sf(_,L){var q=_==null?0:_.length;return q?(L=L===ge?1:zt(L),ta(_,L)):[]}function Xc(_){for(var L=-1,q=_==null?0:_.length,fe={};++L<q;){var Ee=_[L];fe[Ee[0]]=Ee[1]}return fe}function dp(_){return _&&_.length?_[0]:ge}function Yg(_,L,q){var fe=_==null?0:_.length;if(!fe)return-1;var Ee=q==null?0:zt(q);return Ee<0&&(Ee=Ui(fe+Ee,0)),Ju(_,L,Ee)}function _0(_){var L=_==null?0:_.length;return L?al(_,0,-1):[]}var M0=Mo(function(_){var L=$i(_,fm);return L.length&&L[0]===_[0]?kc(L):[]}),i1=Mo(function(_){var L=Uu(_),q=$i(_,fm);return L===Uu(q)?L=ge:q.pop(),q.length&&q[0]===_[0]?kc(q,Bi(L,2)):[]}),vd=Mo(function(_){var L=Uu(_),q=$i(_,fm);return L=typeof L=="function"?L:ge,L&&q.pop(),q.length&&q[0]===_[0]?kc(q,ge,L):[]});function o1(_,L){return _==null?"":iA.call(_,L)}function Uu(_){var L=_==null?0:_.length;return L?_[L-1]:ge}function lA(_,L,q){var fe=_==null?0:_.length;if(!fe)return-1;var Ee=fe;return q!==ge&&(Ee=zt(q),Ee=Ee<0?Ui(fe+Ee,0):Za(Ee,fe-1)),L===L?td(_,L,Ee):nf(_,Ta,Ee,!0)}function Xg(_,L){return _&&_.length?yf(_,zt(L)):ge}var _f=Mo(E0);function E0(_,L){return _&&_.length&&L&&L.length?np(_,L):_}function Zg(_,L,q){return _&&_.length&&L&&L.length?np(_,L,Bi(q,2)):_}function Kg(_,L,q){return _&&_.length&&L&&L.length?np(_,L,ge,q):_}var T0=sl(function(_,L){var q=_==null?0:_.length,fe=$d(_,L);return ol(_,$i(L,function(Ee){return Sh(Ee,q)?+Ee:Ee}).sort(Ky)),fe});function yd(_,L){var q=[];if(!(_&&_.length))return q;var fe=-1,Ee=[],ze=_.length;for(L=Bi(L,3);++fe<ze;){var ct=_[fe];L(ct,fe,_)&&(q.push(ct),Ee.push(fe))}return ol(_,Ee),q}function Jg(_){return _==null?_:lf.call(_)}function _m(_,L,q){var fe=_==null?0:_.length;return fe?(q&&typeof q!="number"&&Bl(_,L,q)?(L=0,q=fe):(L=L==null?0:zt(L),q=q===ge?fe:zt(q)),al(_,L,q)):[]}function Mf(_,L){return cm(_,L)}function xd(_,L,q){return Lg(_,L,Bi(q,2))}function Al(_,L){var q=_==null?0:_.length;if(q){var fe=cm(_,L);if(fe<q&&Kc(_[fe],L))return fe}return-1}function pp(_,L){return cm(_,L,!0)}function Mm(_,L,q){return Lg(_,L,Bi(q,2),!0)}function Ef(_,L){var q=_==null?0:_.length;if(q){var fe=cm(_,L,!0)-1;if(Kc(_[fe],L))return fe}return-1}function qg(_){return _&&_.length?vx(_):[]}function I0(_,L){return _&&_.length?vx(_,Bi(L,2)):[]}function a1(_){var L=_==null?0:_.length;return L?al(_,1,L):[]}function _x(_,L,q){return _&&_.length?(L=q||L===ge?1:zt(L),al(_,0,L<0?0:L)):[]}function Cd(_,L,q){var fe=_==null?0:_.length;return fe?(L=q||L===ge?1:zt(L),L=fe-L,al(_,L<0?0:L,fe)):[]}function mp(_,L){return _&&_.length?Hc(_,Bi(L,3),!1,!0):[]}function P0(_,L){return _&&_.length?Hc(_,Bi(L,3)):[]}var gp=Mo(function(_){return xl(ta(_,1,Da,!0))}),vp=Mo(function(_){var L=Uu(_);return Da(L)&&(L=ge),xl(ta(_,1,Da,!0),Bi(L,2))}),O0=Mo(function(_){var L=Uu(_);return L=typeof L=="function"?L:ge,xl(ta(_,1,Da,!0),ge,L)});function Mx(_){return _&&_.length?xl(_):[]}function s1(_,L){return _&&_.length?xl(_,Bi(L,2)):[]}function R0(_,L){return L=typeof L=="function"?L:ge,_&&_.length?xl(_,ge,L):[]}function yp(_){if(!(_&&_.length))return[];var L=0;return _=ri(_,function(q){if(Da(q))return L=Ui(q.length,L),!0}),of(L,function(q){return $i(_,Jp(q))})}function Qg(_,L){if(!(_&&_.length))return[];var q=yp(_);return L==null?q:$i(q,function(fe){return ml(L,ge,fe)})}var L0=Mo(function(_,L){return Da(_)?rc(_,L):[]}),Ex=Mo(function(_){return c0(ri(_,Da))}),Em=Mo(function(_){var L=Uu(_);return Da(L)&&(L=ge),c0(ri(_,Da),Bi(L,2))}),l1=Mo(function(_){var L=Uu(_);return L=typeof L=="function"?L:ge,c0(ri(_,Da),ge,L)}),D0=Mo(yp);function jl(_,L){return Du(_||[],L||[],Fc)}function Ph(_,L){return Du(_||[],L||[],ip)}var Tf=Mo(function(_){var L=_.length,q=L>1?_[L-1]:ge;return q=typeof q=="function"?(_.pop(),q):ge,Qg(_,q)});function Tm(_){var L=Re(_);return L.__chain__=!0,L}function xp(_,L){return L(_),_}function Zo(_,L){return L(_)}var u1=sl(function(_){var L=_.length,q=L?_[0]:0,fe=this.__wrapped__,Ee=function(ze){return $d(ze,_)};return L>1||this.__actions__.length||!(fe instanceof ci)||!Sh(q)?this.thru(Ee):(fe=fe.slice(q,+q+(L?1:0)),fe.__actions__.push({func:Zo,args:[Ee],thisArg:ge}),new Ys(fe,this.__chain__).thru(function(ze){return L&&!ze.length&&ze.push(ge),ze}))});function c1(){return Tm(this)}function es(){return new Ys(this.value(),this.__chain__)}function h1(){this.__values__===ge&&(this.__values__=Qr(this.value()));var _=this.__index__>=this.__values__.length,L=_?ge:this.__values__[this.__index__++];return{done:_,value:L}}function Cp(){return this}function f1(_){for(var L,q=this;q instanceof Pu;){var fe=Sx(q);fe.__index__=0,fe.__values__=ge,L?Ee.__wrapped__=fe:L=fe;var Ee=fe;q=q.__wrapped__}return Ee.__wrapped__=_,L}function ru(){var _=this.__wrapped__;if(_ instanceof ci){var L=_;return this.__actions__.length&&(L=new ci(this)),L=L.reverse(),L.__actions__.push({func:Zo,args:[Jg],thisArg:ge}),new Ys(L,this.__chain__)}return this.thru(Jg)}function uA(){return xf(this.__wrapped__,this.__actions__)}var Tx=Ah(function(_,L,q){ia.call(_,q)?++_[q]:zc(_,q,1)});function Ix(_,L,q){var fe=Ki(_)?Gd:ep;return q&&Bl(_,L,q)&&(L=ge),fe(_,Bi(L,3))}function Oe(_,L){var q=Ki(_)?ri:Oa;return q(_,Bi(L,3))}var N0=zg(n1),If=zg(S0);function cA(_,L){return ta(Im(_,L),1)}function Zi(_,L){return ta(Im(_,L),Uo)}function $g(_,L,q){return q=q===ge?1:zt(q),ta(Im(_,L),q)}function ev(_,L){var q=Ki(_)?Pl:vh;return q(_,Bi(L,3))}function Le(_,L){var q=Ki(_)?By:Tg;return q(_,Bi(L,3))}var hA=Ah(function(_,L,q){ia.call(_,q)?_[q].push(L):zc(_,q,[L])});function Px(_,L,q,fe){_=ku(_)?_:da(_),q=q&&!fe?zt(q):0;var Ee=_.length;return q<0&&(q=Ui(Ee+q,0)),Ue(_)?q<=Ee&&_.indexOf(L,q)>-1:!!Ee&&Ju(_,L,q)>-1}var Ad=Mo(function(_,L,q){var fe=-1,Ee=typeof L=="function",ze=ku(_)?er(_.length):[];return vh(_,function(ct){ze[++fe]=Ee?ml(L,ct,q):ic(ct,L,q)}),ze}),fA=Ah(function(_,L,q){zc(_,q,L)});function Im(_,L){var q=Ki(_)?$i:ud;return q(_,Bi(L,3))}function Ox(_,L,q,fe){return _==null?[]:(Ki(L)||(L=L==null?[]:[L]),q=fe?ge:q,Ki(q)||(q=q==null?[]:[q]),Pg(_,L,q))}var Zc=Ah(function(_,L,q){_[q?0:1].push(L)},function(){return[[],[]]});function F0(_,L,q){var fe=Ki(_)?rf:qp,Ee=arguments.length<3;return fe(_,Bi(L,4),q,Ee,vh)}function Rx(_,L,q){var fe=Ki(_)?Qn:qp,Ee=arguments.length<3;return fe(_,Bi(L,4),q,Ee,Tg)}function ts(_,L){var q=Ki(_)?ri:Oa;return q(_,Zs(Bi(L,3)))}function Lx(_){var L=Ki(_)?sm:px;return L(_)}function B0(_,L,q){(q?Bl(_,L,q):L===ge)?L=1:L=zt(L);var fe=Ki(_)?Ll:l0;return fe(_,L)}function Ko(_){var L=Ki(_)?Gy:u0;return L(_)}function dA(_){if(_==null)return 0;if(ku(_))return Ue(_)?Pc(_):_.length;var L=dn(_);return L==El||L==bs?_.size:a0(_).length}function pA(_,L,q){var fe=Ki(_)?Su:gx;return q&&Bl(_,L,q)&&(L=ge),fe(_,Bi(L,3))}var wl=Mo(function(_,L){if(_==null)return[];var q=L.length;return q>1&&Bl(_,L[0],L[1])?L=[]:q>2&&Bl(L[0],L[1],L[2])&&(L=[L[0]]),Pg(_,ta(L,1),[])}),z0=rm||function(){return An.Date.now()};function ls(_,L){if(typeof L!="function")throw new Ws(pt);return _=zt(_),function(){if(--_<1)return L.apply(this,arguments)}}function Dx(_,L,q){return L=q?ge:L,L=_&&L==null?_.length:L,Fu(_,Dt,ge,ge,ge,ge,L)}function ja(_,L){var q;if(typeof L!="function")throw new Ws(pt);return _=zt(_),function(){return--_>0&&(q=L.apply(this,arguments)),_<=1&&(L=ge),q}}var sc=Mo(function(_,L,q){var fe=$t;if(q.length){var Ee=ba(q,Af(sc));fe|=Vr}return Fu(_,fe,L,q,Ee)}),lc=Mo(function(_,L,q){var fe=$t|gn;if(q.length){var Ee=ba(q,Af(lc));fe|=Vr}return Fu(L,fe,_,q,Ee)});function Ts(_,L,q){L=q?ge:L;var fe=Fu(_,br,ge,ge,ge,ge,ge,L);return fe.placeholder=Ts.placeholder,fe}function Oh(_,L,q){L=q?ge:L;var fe=Fu(_,Tt,ge,ge,ge,ge,ge,L);return fe.placeholder=Oh.placeholder,fe}function Ul(_,L,q){var fe,Ee,ze,ct,mt,Ft,Lr=0,yr=!1,Yr=!1,Un=!0;if(typeof _!="function")throw new Ws(pt);L=Jn(L)||0,T(q)&&(yr=!!q.leading,Yr="maxWait"in q,ze=Yr?Ui(Jn(q.maxWait)||0,L):ze,Un="trailing"in q?!!q.trailing:Un);function vi(Us){var zh=fe,Td=Ee;return fe=Ee=ge,Lr=Us,ct=_.apply(Td,zh),ct}function no(Us){return Lr=Us,mt=Cm(Go,L),yr?vi(Us):ct}function Oo(Us){var zh=Us-Ft,Td=Us-Lr,Hm=L-zh;return Yr?Za(Hm,ze-Td):Hm}function oo(Us){var zh=Us-Ft,Td=Us-Lr;return Ft===ge||zh>=L||zh<0||Yr&&Td>=ze}function Go(){var Us=z0();if(oo(Us))return oa(Us);mt=Cm(Go,Oo(Us))}function oa(Us){return mt=ge,Un&&fe?vi(Us):(fe=Ee=ge,ct)}function pc(){mt!==ge&&Xy(mt),Lr=0,fe=Ft=Ee=mt=ge}function pu(){return mt===ge?ct:oa(z0())}function mu(){var Us=z0(),zh=oo(Us);if(fe=arguments,Ee=this,Ft=Us,zh){if(mt===ge)return no(Ft);if(Yr)return Xy(mt),mt=Cm(Go,L),vi(Ft)}return mt===ge&&(mt=Cm(Go,L)),ct}return mu.cancel=pc,mu.flush=pu,mu}var Rh=Mo(function(_,L){return ld(_,1,L)}),mA=Mo(function(_,L,q){return ld(_,Jn(L)||0,q)});function wd(_){return Fu(_,Gr)}function Pf(_,L){if(typeof _!="function"||L!=null&&typeof L!="function")throw new Ws(pt);var q=function(){var fe=arguments,Ee=L?L.apply(this,fe):fe[0],ze=q.cache;if(ze.has(Ee))return ze.get(Ee);var ct=_.apply(this,fe);return q.cache=ze.set(Ee,ct)||ze,ct};return q.cache=new(Pf.Cache||ql),q}Pf.Cache=ql;function Zs(_){if(typeof _!="function")throw new Ws(pt);return function(){var L=arguments;switch(L.length){case 0:return!_.call(this);case 1:return!_.call(this,L[0]);case 2:return!_.call(this,L[0],L[1]);case 3:return!_.call(this,L[0],L[1],L[2])}return!_.apply(this,L)}}function d1(_){return ja(2,_)}var tv=dm(function(_,L){L=L.length==1&&Ki(L[0])?$i(L[0],gl(Bi())):$i(ta(L,1),gl(Bi()));var q=L.length;return Mo(function(fe){for(var Ee=-1,ze=Za(fe.length,q);++Ee<ze;)fe[Ee]=L[Ee].call(this,fe[Ee]);return ml(_,this,fe)})}),Lh=Mo(function(_,L){var q=ba(L,Af(Lh));return Fu(_,Vr,ge,L,q)}),Pm=Mo(function(_,L){var q=ba(L,Af(Pm));return Fu(_,Ar,ge,L,q)}),uc=sl(function(_,L){return Fu(_,pr,ge,ge,ge,L)});function gA(_,L){if(typeof _!="function")throw new Ws(pt);return L=L===ge?L:zt(L),Mo(_,L)}function Nx(_,L){if(typeof _!="function")throw new Ws(pt);return L=L==null?0:Ui(zt(L),0),Mo(function(q){var fe=q[L],Ee=Ch(q,0,L);return fe&&Ea(Ee,fe),ml(_,this,Ee)})}function A2(_,L,q){var fe=!0,Ee=!0;if(typeof _!="function")throw new Ws(pt);return T(q)&&(fe="leading"in q?!!q.leading:fe,Ee="trailing"in q?!!q.trailing:Ee),Ul(_,L,{leading:fe,maxWait:L,trailing:Ee})}function zs(_){return Dx(_,1)}function vA(_,L){return Lh(h0(L),_)}function rv(){if(!arguments.length)return[];var _=arguments[0];return Ki(_)?_:[_]}function w2(_){return nl(_,st)}function j0(_,L){return L=typeof L=="function"?L:ge,nl(_,st,L)}function cc(_){return nl(_,ve|st)}function p1(_,L){return L=typeof L=="function"?L:ge,nl(_,ve|st,L)}function b2(_,L){return L==null||gf(_,L,Ks(L))}function Kc(_,L){return _===L||_!==_&&L!==L}var Om=sp(yh),Fx=sp(function(_,L){return _>=L}),hc=n0(function(){return arguments}())?n0:function(_){return z(_)&&ia.call(_,"callee")&&!cu.call(_,"callee")},Ki=er.isArray,Ap=Vd?gl(Vd):oA;function ku(_){return _!=null&&x(_.length)&&!p(_)}function Da(_){return z(_)&&ku(_)}function Hu(_){return _===!0||_===!1||z(_)&&Fi(_)==vn}var Dh=ec||Ed,Bx=ef?gl(ef):i0;function m1(_){return z(_)&&_.nodeType===1&&!Q(_)}function C(_){if(_==null)return!0;if(ku(_)&&(Ki(_)||typeof _=="string"||typeof _.splice=="function"||Dh(_)||ht(_)||hc(_)))return!_.length;var L=dn(_);if(L==El||L==bs)return!_.size;if(Bu(_))return!a0(_).length;for(var q in _)if(ia.call(_,q))return!1;return!0}function o(_,L){return o0(_,L)}function h(_,L,q){q=typeof q=="function"?q:ge;var fe=q?q(_,L):ge;return fe===ge?o0(_,L,ge,q):!!fe}function u(_){if(!z(_))return!1;var L=Fi(_);return L==Xa||L==ti||typeof _.message=="string"&&typeof _.name=="string"&&!Q(_)}function f(_){return typeof _=="number"&&wg(_)}function p(_){if(!T(_))return!1;var L=Fi(_);return L==yu||L==Wh||L==ua||L==xu}function S(_){return typeof _=="number"&&_==zt(_)}function x(_){return typeof _=="number"&&_>-1&&_%1==0&&_<=Ga}function T(_){var L=typeof _;return _!=null&&(L=="object"||L=="function")}function z(_){return _!=null&&typeof _=="object"}var G=tf?gl(tf):Dl;function P(_,L){return _===L||Xs(_,L,tu(L))}function D(_,L,q){return q=typeof q=="function"?q:ge,Xs(_,L,tu(L),q)}function U(_){return re(_)&&_!=+_}function V(_){if(x0(_))throw new Wi(lt);return xh(_)}function J(_){return _===null}function ne(_){return _==null}function re(_){return typeof _=="number"||z(_)&&Fi(_)==el}function Q(_){if(!z(_)||Fi(_)!=ws)return!1;var L=Zl(_);if(L===null)return!0;var q=ia.call(L,"constructor")&&L.constructor;return typeof q=="function"&&q instanceof q&&rd.call(q)==sf}var he=Zf?gl(Zf):ko;function Me(_){return S(_)&&_>=-Ga&&_<=Ga}var De=Ec?gl(Ec):Ja;function Ue(_){return typeof _=="string"||!Ki(_)&&z(_)&&Fi(_)==Yn}function Ve(_){return typeof _=="symbol"||z(_)&&Fi(_)==so}var ht=_o?gl(_o):Kr;function Je(_){return _===ge}function Er(_){return z(_)&&dn(_)==dl}function fr(_){return z(_)&&Fi(_)==Gi}var Pn=sp(um),yn=sp(function(_,L){return _<=L});function Qr(_){if(!_)return[];if(ku(_))return Ue(_)?lu(_):Nl(_);if(Xd&&_[Xd])return zy(_[Xd]());var L=dn(_),q=L==El?vg:L==bs?ed:da;return q(_)}function $n(_){if(!_)return _===0?_:0;if(_=Jn(_),_===Uo||_===-Uo){var L=_<0?-1:1;return L*Ca}return _===_?_:0}function zt(_){var L=$n(_),q=L%1;return L===L?q?L-q:L:0}function Sr(_){return _?jc(zt(_),0,_a):0}function Jn(_){if(typeof _=="number")return _;if(Ve(_))return os;if(T(_)){var L=typeof _.valueOf=="function"?_.valueOf():_;_=T(L)?L+"":L}if(typeof _!="string")return _===0?_:+_;_=Jf(_);var q=ug.test(_);return q||Cn.test(_)?$h(_.slice(2),q?2:8):tx.test(_)?os:+_}function Ii(_){return Gc(_,du(_))}function gi(_){return _?jc(zt(_),-Ga,Ga):_===0?_:0}function jn(_){return _==null?"":Fs(_)}var fc=Cl(function(_,L){if(Bu(L)||ku(L)){Gc(L,Ks(L),_);return}for(var q in L)ia.call(L,q)&&Fc(_,q,L[q])}),Sa=Cl(function(_,L){Gc(L,du(L),_)}),bl=Cl(function(_,L,q,fe){Gc(L,du(L),_,fe)}),Nh=Cl(function(_,L,q,fe){Gc(L,Ks(L),_,fe)}),qa=sl($d);function nv(_,L){var q=Rl(_);return L==null?q:t0(q,L)}var wp=Mo(function(_,L){_=Co(_);var q=-1,fe=L.length,Ee=fe>2?L[2]:ge;for(Ee&&Bl(L[0],L[1],Ee)&&(fe=1);++q<fe;)for(var ze=L[q],ct=du(ze),mt=-1,Ft=ct.length;++mt<Ft;){var Lr=ct[mt],yr=_[Lr];(yr===ge||Kc(yr,uu[Lr])&&!ia.call(_,Lr))&&(_[Lr]=ze[Lr])}return _}),Jc=Mo(function(_){return _.push(ge,$y),ml(Fh,ge,_)});function iv(_,L){return mg(_,Bi(L,3),Tr)}function Rm(_,L){return mg(_,Bi(L,3),Ig)}function Of(_,L){return _==null?_:Xi(_,Bi(L,3),du)}function ov(_,L){return _==null?_:Es(_,Bi(L,3),du)}function g1(_,L){return _&&Tr(_,Bi(L,3))}function zx(_,L){return _&&Ig(_,Bi(L,3))}function jx(_){return _==null?[]:gs(_,Ks(_))}function Lm(_){return _==null?[]:gs(_,du(_))}function v1(_,L,q){var fe=_==null?ge:Ql(_,L);return fe===ge?q:fe}function bd(_,L){return _!=null&&kg(_,L,za)}function U0(_,L){return _!=null&&kg(_,L,Ra)}var Ux=hd(function(_,L,q){L!=null&&typeof L.toString!="function"&&(L=dh.call(L)),_[L]=q},SA(Vu)),Dm=hd(function(_,L,q){L!=null&&typeof L.toString!="function"&&(L=dh.call(L)),ia.call(_,L)?_[L].push(q):_[L]=[q]},Bi),yA=Mo(ic);function Ks(_){return ku(_)?Mg(_):a0(_)}function du(_){return ku(_)?Mg(_,!0):tp(_)}function xA(_,L){var q={};return L=Bi(L,3),Tr(_,function(fe,Ee,ze){zc(q,L(fe,Ee,ze),fe)}),q}function Vw(_,L){var q={};return L=Bi(L,3),Tr(_,function(fe,Ee,ze){zc(q,Ee,L(fe,Ee,ze))}),q}var Gw=Cl(function(_,L,q){il(_,L,q)}),Fh=Cl(function(_,L,q,fe){il(_,L,q,fe)}),bp=sl(function(_,L){var q={};if(_==null)return q;var fe=!1;L=$i(L,function(ze){return ze=Vc(ze,_),fe||(fe=ze.length>1),ze}),Gc(_,dd(_),q),fe&&(q=nl(q,ve|Zr|st,ac));for(var Ee=L.length;Ee--;)as(q,L[Ee]);return q});function kx(_,L){return k0(_,Zs(Bi(L)))}var Nm=sl(function(_,L){return _==null?{}:eu(_,L)});function k0(_,L){if(_==null)return{};var q=$i(dd(_),function(fe){return[fe]});return L=Bi(L),Og(_,q,function(fe,Ee){return L(fe,Ee[0])})}function H0(_,L,q){L=Vc(L,_);var fe=-1,Ee=L.length;for(Ee||(Ee=1,_=ge);++fe<Ee;){var ze=_==null?ge:_[Yc(L[fe])];ze===ge&&(fe=Ee,ze=q),_=p(ze)?ze.call(_):ze}return _}function kl(_,L,q){return _==null?_:ip(_,L,q)}function CA(_,L,q,fe){return fe=typeof fe=="function"?fe:ge,_==null?_:ip(_,L,q,fe)}var Hx=lp(Ks),Vx=lp(du);function S2(_,L,q){var fe=Ki(_),Ee=fe||Dh(_)||ht(_);if(L=Bi(L,4),q==null){var ze=_&&_.constructor;Ee?q=fe?new ze:[]:T(_)?q=p(ze)?Rl(Zl(_)):{}:q={}}return(Ee?Pl:Tr)(_,function(ct,mt,Ft){return L(q,ct,mt,Ft)}),q}function Rf(_,L){return _==null?!0:as(_,L)}function Gx(_,L,q){return _==null?_:Dg(_,L,h0(q))}function Ww(_,L,q,fe){return fe=typeof fe=="function"?fe:ge,_==null?_:Dg(_,L,h0(q),fe)}function da(_){return _==null?[]:vl(_,Ks(_))}function _2(_){return _==null?[]:vl(_,du(_))}function Sd(_,L,q){return q===ge&&(q=L,L=ge),q!==ge&&(q=Jn(q),q=q===q?q:0),L!==ge&&(L=Jn(L),L=L===L?L:0),jc(Jn(_),L,q)}function AA(_,L,q){return L=$n(L),q===ge?(q=L,L=0):q=$n(q),_=Jn(_),yl(_,L,q)}function av(_,L,q){if(q&&typeof q!="boolean"&&Bl(_,L,q)&&(L=q=ge),q===ge&&(typeof L=="boolean"?(q=L,L=ge):typeof _=="boolean"&&(q=_,_=ge)),_===ge&&L===ge?(_=0,L=1):(_=$n(_),L===ge?(L=_,_=0):L=$n(L)),_>L){var fe=_;_=L,L=fe}if(q||_%1||L%1){var Ee=id();return Za(_+Ee*(L-_+au("1e-"+((Ee+"").length-1))),L)}return oc(_,L)}var dc=yo(function(_,L,q){return L=L.toLowerCase(),_+(q?V0(L):L)});function V0(_){return Z0(jn(_).toLowerCase())}function ma(_){return _=jn(_),_&&_.replace(Ry,Zv).replace(dg,"")}function y1(_,L,q){_=jn(_),L=Fs(L);var fe=_.length;q=q===ge?fe:jc(zt(q),0,fe);var Ee=q;return q-=L.length,q>=0&&_.slice(q,Ee)==L}function sv(_){return _=jn(_),_&&q1.test(_)?_.replace(lg,hh):_}function Fm(_){return _=jn(_),_&&Gf.test(_)?_.replace(ds,"\\$&"):_}var Bm=yo(function(_,L,q){return _+(q?"-":"")+L.toLowerCase()}),zm=yo(function(_,L,q){return _+(q?" ":"")+L.toLowerCase()}),Sp=ap("toLowerCase");function wA(_,L,q){_=jn(_),L=zt(L);var fe=L?Pc(_):0;if(!L||fe>=L)return _;var Ee=(L-fe)/2;return gm(ji(Ee),q)+_+gm(Zd(Ee),q)}function bA(_,L,q){_=jn(_),L=zt(L);var fe=L?Pc(_):0;return L&&fe<L?_+gm(L-fe,q):_}function lv(_,L,q){_=jn(_),L=zt(L);var fe=L?Pc(_):0;return L&&fe<L?gm(L-fe,q)+_:_}function G0(_,L,q){return q||L==null?L=0:L&&(L=+L),fx(jn(_).replace(bc,""),L||0)}function x1(_,L,q){return(q?Bl(_,L,q):L===ge)?L=1:L=zt(L),s0(jn(_),L)}function Wx(){var _=arguments,L=jn(_[0]);return _.length<3?L:L.replace(_[1],_[2])}var W0=yo(function(_,L,q){return _+(q?"_":"")+L.toLowerCase()});function _p(_,L,q){return q&&typeof q!="number"&&Bl(_,L,q)&&(L=q=ge),q=q===ge?_a:q>>>0,q?(_=jn(_),_&&(typeof L=="string"||L!=null&&!he(L))&&(L=Fs(L),!L&&fh(_))?Ch(lu(_),0,q):_.split(L,q)):[]}var Y0=yo(function(_,L,q){return _+(q?" ":"")+Z0(L)});function uv(_,L,q){return _=jn(_),q=q==null?0:jc(zt(q),0,_.length),L=Fs(L),_.slice(q,q+L.length)==L}function Mp(_,L,q){var fe=Re.templateSettings;q&&Bl(_,L,q)&&(L=ge),_=jn(_),L=bl({},L,fe,up);var Ee=bl({},L.imports,fe.imports,up),ze=Ks(Ee),ct=vl(Ee,ze),mt,Ft,Lr=0,yr=L.interpolate||jd,Yr="__p += '",Un=Qu((L.escape||jd).source+"|"+yr.source+"|"+(yr===Oy?QC:jd).source+"|"+(L.evaluate||jd).source+"|$","g"),vi="//# sourceURL="+(ia.call(L,"sourceURL")?(L.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xf+"]")+`
`;_.replace(Un,function(oo,Go,oa,pc,pu,mu){return oa||(oa=pc),Yr+=_.slice(Lr,mu).replace(rx,Tc),Go&&(mt=!0,Yr+=`' +
__e(`+Go+`) +
'`),pu&&(Ft=!0,Yr+=`';
`+pu+`;
__p += '`),oa&&(Yr+=`' +
((__t = (`+oa+`)) == null ? '' : __t) +
'`),Lr=mu+oo.length,oo}),Yr+=`';
`;var no=ia.call(L,"variable")&&L.variable;if(!no)Yr=`with (obj) {
`+Yr+`
}
`;else if(qC.test(no))throw new Wi(de);Yr=(Ft?Yr.replace(kp,""):Yr).replace(wc,"$1").replace(kv,"$1;"),Yr="function("+(no||"obj")+`) {
`+(no?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(mt?", __e = _.escape":"")+(Ft?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Yr+`return __p
}`;var Oo=Jo(function(){return bo(ze,vi+"return "+Yr).apply(ge,ct)});if(Oo.source=Yr,u(Oo))throw Oo;return Oo}function M2(_){return jn(_).toLowerCase()}function Lf(_){return jn(_).toUpperCase()}function cv(_,L,q){if(_=jn(_),_&&(q||L===ge))return Jf(_);if(!_||!(L=Fs(L)))return _;var fe=lu(_),Ee=lu(L),ze=qf(fe,Ee),ct=Qf(fe,Ee)+1;return Ch(fe,ze,ct).join("")}function hv(_,L,q){if(_=jn(_),_&&(q||L===ge))return _.slice(0,$p(_)+1);if(!_||!(L=Fs(L)))return _;var fe=lu(_),Ee=Qf(fe,lu(L))+1;return Ch(fe,0,Ee).join("")}function Yw(_,L,q){if(_=jn(_),_&&(q||L===ge))return _.replace(bc,"");if(!_||!(L=Fs(L)))return _;var fe=lu(_),Ee=qf(fe,lu(L));return Ch(fe,Ee).join("")}function Yx(_,L){var q=lr,fe=Pe;if(T(L)){var Ee="separator"in L?L.separator:Ee;q="length"in L?zt(L.length):q,fe="omission"in L?Fs(L.omission):fe}_=jn(_);var ze=_.length;if(fh(_)){var ct=lu(_);ze=ct.length}if(q>=ze)return _;var mt=q-Pc(fe);if(mt<1)return fe;var Ft=ct?Ch(ct,0,mt).join(""):_.slice(0,mt);if(Ee===ge)return Ft+fe;if(ct&&(mt+=Ft.length-mt),he(Ee)){if(_.slice(mt).search(Ee)){var Lr,yr=Ft;for(Ee.global||(Ee=Qu(Ee.source,jn(Au.exec(Ee))+"g")),Ee.lastIndex=0;Lr=Ee.exec(yr);)var Yr=Lr.index;Ft=Ft.slice(0,Yr===ge?mt:Yr)}}else if(_.indexOf(Fs(Ee),mt)!=mt){var Un=Ft.lastIndexOf(Ee);Un>-1&&(Ft=Ft.slice(0,Un))}return Ft+fe}function fv(_){return _=jn(_),_&&Yh.test(_)?_.replace(Hv,yg):_}var X0=yo(function(_,L,q){return _+(q?" ":"")+L.toUpperCase()}),Z0=ap("toUpperCase");function Xn(_,L,q){return _=jn(_),L=q?ge:L,L===ge?gg(_)?Uy(_):Kp(_):_.match(L)||[]}var Jo=Mo(function(_,L){try{return ml(_,ge,L)}catch(q){return u(q)?q:new Wi(q)}}),_d=sl(function(_,L){return Pl(L,function(q){q=Yc(q),zc(_,q,sc(_[q],_))}),_});function Bh(_){var L=_==null?0:_.length,q=Bi();return _=L?$i(_,function(fe){if(typeof fe[1]!="function")throw new Ws(pt);return[q(fe[0]),fe[1]]}):[],Mo(function(fe){for(var Ee=-1;++Ee<L;){var ze=_[Ee];if(ml(ze[0],this,fe))return ml(ze[1],this,fe)}})}function Ep(_){return Wy(nl(_,ve))}function SA(_){return function(){return _}}function E2(_,L){return _==null||_!==_?L:_}var C1=La(),jm=La(!0);function Vu(_){return _}function dv(_){return lm(typeof _=="function"?_:nl(_,ve))}function Xx(_){return rp(nl(_,ve))}function Zx(_,L){return vf(_,nl(L,ve))}var _A=Mo(function(_,L){return function(q){return ic(q,_,L)}}),Df=Mo(function(_,L){return function(q){return ic(_,q,L)}});function Kx(_,L,q){var fe=Ks(L),Ee=gs(L,fe);q==null&&!(T(L)&&(Ee.length||!fe.length))&&(q=L,L=_,_=this,Ee=gs(L,Ks(L)));var ze=!(T(q)&&"chain"in q)||!!q.chain,ct=p(_);return Pl(Ee,function(mt){var Ft=L[mt];_[mt]=Ft,ct&&(_.prototype[mt]=function(){var Lr=this.__chain__;if(ze||Lr){var yr=_(this.__wrapped__),Yr=yr.__actions__=Nl(this.__actions__);return Yr.push({func:Ft,args:arguments,thisArg:_}),yr.__chain__=Lr,yr}return Ft.apply(_,Ea([this.value()],arguments))})}),_}function MA(){return An._===this&&(An._=ph),this}function pv(){}function Md(_){return _=zt(_),Mo(function(L){return yf(L,_)})}var K0=mm($i),Tp=mm(Gd),js=mm(Su);function Um(_){return _h(_)?Jp(Yc(_)):cd(_)}function km(_){return function(L){return _==null?ge:Ql(_,L)}}var A1=Qy(),T2=Qy(!0);function J0(){return[]}function Ed(){return!1}function w1(){return{}}function I2(){return""}function Jx(){return!0}function EA(_,L){if(_=zt(_),_<1||_>Ga)return[];var q=_a,fe=Za(_,_a);L=Bi(L),_-=_a;for(var Ee=of(fe,L);++q<_;)L(q);return Ee}function Vo(_){return Ki(_)?$i(_,Yc):Ve(_)?[_]:Nl(w0(jn(_)))}function qc(_){var L=++Cg;return jn(_)+L}var P2=qy(function(_,L){return _+L},0),TA=fa("ceil"),O2=qy(function(_,L){return _/L},1),R2=fa("floor");function qx(_){return _&&_.length?Uc(_,Vu,yh):ge}function b1(_,L){return _&&_.length?Uc(_,Bi(L,2),yh):ge}function IA(_){return Ia(_,Vu)}function L2(_,L){return Ia(_,Bi(L,2))}function mv(_){return _&&_.length?Uc(_,Vu,um):ge}function gv(_,L){return _&&_.length?Uc(_,Bi(L,2),um):ge}var Qx=qy(function(_,L){return _*L},1),$x=fa("round"),eC=qy(function(_,L){return _-L},0);function D2(_){return _&&_.length?Kf(_,Vu):0}function PA(_,L){return _&&_.length?Kf(_,Bi(L,2)):0}return Re.after=ls,Re.ary=Dx,Re.assign=fc,Re.assignIn=Sa,Re.assignInWith=bl,Re.assignWith=Nh,Re.at=qa,Re.before=ja,Re.bind=sc,Re.bindAll=_d,Re.bindKey=lc,Re.castArray=rv,Re.chain=Tm,Re.chunk=bm,Re.compact=Sm,Re.concat=gd,Re.cond=Bh,Re.conforms=Ep,Re.constant=SA,Re.countBy=Tx,Re.create=nv,Re.curry=Ts,Re.curryRight=Oh,Re.debounce=Ul,Re.defaults=wp,Re.defaultsDeep=Jc,Re.defer=Rh,Re.delay=mA,Re.difference=C2,Re.differenceBy=sA,Re.differenceWith=zu,Re.drop=b0,Re.dropRight=ju,Re.dropRightWhile=t1,Re.dropWhile=r1,Re.fill=fu,Re.filter=Oe,Re.flatMap=cA,Re.flatMapDeep=Zi,Re.flatMapDepth=$g,Re.flatten=zl,Re.flattenDeep=Ih,Re.flattenDepth=Sf,Re.flip=wd,Re.flow=C1,Re.flowRight=jm,Re.fromPairs=Xc,Re.functions=jx,Re.functionsIn=Lm,Re.groupBy=hA,Re.initial=_0,Re.intersection=M0,Re.intersectionBy=i1,Re.intersectionWith=vd,Re.invert=Ux,Re.invertBy=Dm,Re.invokeMap=Ad,Re.iteratee=dv,Re.keyBy=fA,Re.keys=Ks,Re.keysIn=du,Re.map=Im,Re.mapKeys=xA,Re.mapValues=Vw,Re.matches=Xx,Re.matchesProperty=Zx,Re.memoize=Pf,Re.merge=Gw,Re.mergeWith=Fh,Re.method=_A,Re.methodOf=Df,Re.mixin=Kx,Re.negate=Zs,Re.nthArg=Md,Re.omit=bp,Re.omitBy=kx,Re.once=d1,Re.orderBy=Ox,Re.over=K0,Re.overArgs=tv,Re.overEvery=Tp,Re.overSome=js,Re.partial=Lh,Re.partialRight=Pm,Re.partition=Zc,Re.pick=Nm,Re.pickBy=k0,Re.property=Um,Re.propertyOf=km,Re.pull=_f,Re.pullAll=E0,Re.pullAllBy=Zg,Re.pullAllWith=Kg,Re.pullAt=T0,Re.range=A1,Re.rangeRight=T2,Re.rearg=uc,Re.reject=ts,Re.remove=yd,Re.rest=gA,Re.reverse=Jg,Re.sampleSize=B0,Re.set=kl,Re.setWith=CA,Re.shuffle=Ko,Re.slice=_m,Re.sortBy=wl,Re.sortedUniq=qg,Re.sortedUniqBy=I0,Re.split=_p,Re.spread=Nx,Re.tail=a1,Re.take=_x,Re.takeRight=Cd,Re.takeRightWhile=mp,Re.takeWhile=P0,Re.tap=xp,Re.throttle=A2,Re.thru=Zo,Re.toArray=Qr,Re.toPairs=Hx,Re.toPairsIn=Vx,Re.toPath=Vo,Re.toPlainObject=Ii,Re.transform=S2,Re.unary=zs,Re.union=gp,Re.unionBy=vp,Re.unionWith=O0,Re.uniq=Mx,Re.uniqBy=s1,Re.uniqWith=R0,Re.unset=Rf,Re.unzip=yp,Re.unzipWith=Qg,Re.update=Gx,Re.updateWith=Ww,Re.values=da,Re.valuesIn=_2,Re.without=L0,Re.words=Xn,Re.wrap=vA,Re.xor=Ex,Re.xorBy=Em,Re.xorWith=l1,Re.zip=D0,Re.zipObject=jl,Re.zipObjectDeep=Ph,Re.zipWith=Tf,Re.entries=Hx,Re.entriesIn=Vx,Re.extend=Sa,Re.extendWith=bl,Kx(Re,Re),Re.add=P2,Re.attempt=Jo,Re.camelCase=dc,Re.capitalize=V0,Re.ceil=TA,Re.clamp=Sd,Re.clone=w2,Re.cloneDeep=cc,Re.cloneDeepWith=p1,Re.cloneWith=j0,Re.conformsTo=b2,Re.deburr=ma,Re.defaultTo=E2,Re.divide=O2,Re.endsWith=y1,Re.eq=Kc,Re.escape=sv,Re.escapeRegExp=Fm,Re.every=Ix,Re.find=N0,Re.findIndex=n1,Re.findKey=iv,Re.findLast=If,Re.findLastIndex=S0,Re.findLastKey=Rm,Re.floor=R2,Re.forEach=ev,Re.forEachRight=Le,Re.forIn=Of,Re.forInRight=ov,Re.forOwn=g1,Re.forOwnRight=zx,Re.get=v1,Re.gt=Om,Re.gte=Fx,Re.has=bd,Re.hasIn=U0,Re.head=dp,Re.identity=Vu,Re.includes=Px,Re.indexOf=Yg,Re.inRange=AA,Re.invoke=yA,Re.isArguments=hc,Re.isArray=Ki,Re.isArrayBuffer=Ap,Re.isArrayLike=ku,Re.isArrayLikeObject=Da,Re.isBoolean=Hu,Re.isBuffer=Dh,Re.isDate=Bx,Re.isElement=m1,Re.isEmpty=C,Re.isEqual=o,Re.isEqualWith=h,Re.isError=u,Re.isFinite=f,Re.isFunction=p,Re.isInteger=S,Re.isLength=x,Re.isMap=G,Re.isMatch=P,Re.isMatchWith=D,Re.isNaN=U,Re.isNative=V,Re.isNil=ne,Re.isNull=J,Re.isNumber=re,Re.isObject=T,Re.isObjectLike=z,Re.isPlainObject=Q,Re.isRegExp=he,Re.isSafeInteger=Me,Re.isSet=De,Re.isString=Ue,Re.isSymbol=Ve,Re.isTypedArray=ht,Re.isUndefined=Je,Re.isWeakMap=Er,Re.isWeakSet=fr,Re.join=o1,Re.kebabCase=Bm,Re.last=Uu,Re.lastIndexOf=lA,Re.lowerCase=zm,Re.lowerFirst=Sp,Re.lt=Pn,Re.lte=yn,Re.max=qx,Re.maxBy=b1,Re.mean=IA,Re.meanBy=L2,Re.min=mv,Re.minBy=gv,Re.stubArray=J0,Re.stubFalse=Ed,Re.stubObject=w1,Re.stubString=I2,Re.stubTrue=Jx,Re.multiply=Qx,Re.nth=Xg,Re.noConflict=MA,Re.noop=pv,Re.now=z0,Re.pad=wA,Re.padEnd=bA,Re.padStart=lv,Re.parseInt=G0,Re.random=av,Re.reduce=F0,Re.reduceRight=Rx,Re.repeat=x1,Re.replace=Wx,Re.result=H0,Re.round=$x,Re.runInContext=Ot,Re.sample=Lx,Re.size=dA,Re.snakeCase=W0,Re.some=pA,Re.sortedIndex=Mf,Re.sortedIndexBy=xd,Re.sortedIndexOf=Al,Re.sortedLastIndex=pp,Re.sortedLastIndexBy=Mm,Re.sortedLastIndexOf=Ef,Re.startCase=Y0,Re.startsWith=uv,Re.subtract=eC,Re.sum=D2,Re.sumBy=PA,Re.template=Mp,Re.times=EA,Re.toFinite=$n,Re.toInteger=zt,Re.toLength=Sr,Re.toLower=M2,Re.toNumber=Jn,Re.toSafeInteger=gi,Re.toString=jn,Re.toUpper=Lf,Re.trim=cv,Re.trimEnd=hv,Re.trimStart=Yw,Re.truncate=Yx,Re.unescape=fv,Re.uniqueId=qc,Re.upperCase=X0,Re.upperFirst=Z0,Re.each=ev,Re.eachRight=Le,Re.first=dp,Kx(Re,function(){var _={};return Tr(Re,function(L,q){ia.call(Re.prototype,q)||(_[q]=L)}),_}(),{chain:!1}),Re.VERSION=We,Pl(["bind","bindKey","curry","curryRight","partial","partialRight"],function(_){Re[_].placeholder=Re}),Pl(["drop","take"],function(_,L){ci.prototype[_]=function(q){q=q===ge?1:Ui(zt(q),0);var fe=this.__filtered__&&!L?new ci(this):this.clone();return fe.__filtered__?fe.__takeCount__=Za(q,fe.__takeCount__):fe.__views__.push({size:Za(q,_a),type:_+(fe.__dir__<0?"Right":"")}),fe},ci.prototype[_+"Right"]=function(q){return this.reverse()[_](q).reverse()}}),Pl(["filter","map","takeWhile"],function(_,L){var q=L+1,fe=q==Do||q==Ai;ci.prototype[_]=function(Ee){var ze=this.clone();return ze.__iteratees__.push({iteratee:Bi(Ee,3),type:q}),ze.__filtered__=ze.__filtered__||fe,ze}}),Pl(["head","last"],function(_,L){var q="take"+(L?"Right":"");ci.prototype[_]=function(){return this[q](1).value()[0]}}),Pl(["initial","tail"],function(_,L){var q="drop"+(L?"":"Right");ci.prototype[_]=function(){return this.__filtered__?new ci(this):this[q](1)}}),ci.prototype.compact=function(){return this.filter(Vu)},ci.prototype.find=function(_){return this.filter(_).head()},ci.prototype.findLast=function(_){return this.reverse().find(_)},ci.prototype.invokeMap=Mo(function(_,L){return typeof _=="function"?new ci(this):this.map(function(q){return ic(q,_,L)})}),ci.prototype.reject=function(_){return this.filter(Zs(Bi(_)))},ci.prototype.slice=function(_,L){_=zt(_);var q=this;return q.__filtered__&&(_>0||L<0)?new ci(q):(_<0?q=q.takeRight(-_):_&&(q=q.drop(_)),L!==ge&&(L=zt(L),q=L<0?q.dropRight(-L):q.take(L-_)),q)},ci.prototype.takeRightWhile=function(_){return this.reverse().takeWhile(_).reverse()},ci.prototype.toArray=function(){return this.take(_a)},Tr(ci.prototype,function(_,L){var q=/^(?:filter|find|map|reject)|While$/.test(L),fe=/^(?:head|last)$/.test(L),Ee=Re[fe?"take"+(L=="last"?"Right":""):L],ze=fe||/^find/.test(L);!Ee||(Re.prototype[L]=function(){var ct=this.__wrapped__,mt=fe?[1]:arguments,Ft=ct instanceof ci,Lr=mt[0],yr=Ft||Ki(ct),Yr=function(Go){var oa=Ee.apply(Re,Ea([Go],mt));return fe&&Un?oa[0]:oa};yr&&q&&typeof Lr=="function"&&Lr.length!=1&&(Ft=yr=!1);var Un=this.__chain__,vi=!!this.__actions__.length,no=ze&&!Un,Oo=Ft&&!vi;if(!ze&&yr){ct=Oo?ct:new ci(this);var oo=_.apply(ct,mt);return oo.__actions__.push({func:Zo,args:[Yr],thisArg:ge}),new Ys(oo,Un)}return no&&Oo?_.apply(this,mt):(oo=this.thru(Yr),no?fe?oo.value()[0]:oo.value():oo)})}),Pl(["pop","push","shift","sort","splice","unshift"],function(_){var L=em[_],q=/^(?:push|sort|unshift)$/.test(_)?"tap":"thru",fe=/^(?:pop|shift)$/.test(_);Re.prototype[_]=function(){var Ee=arguments;if(fe&&!this.__chain__){var ze=this.value();return L.apply(Ki(ze)?ze:[],Ee)}return this[q](function(ct){return L.apply(Ki(ct)?ct:[],Ee)})}}),Tr(ci.prototype,function(_,L){var q=Re[L];if(q){var fe=q.name+"";ia.call(od,fe)||(od[fe]=[]),od[fe].push({name:L,func:q})}}),od[Bs(ge,gn).name]=[{name:"wrapper",func:ge}],ci.prototype.clone=Ou,ci.prototype.reverse=cf,ci.prototype.value=Vy,Re.prototype.at=u1,Re.prototype.chain=c1,Re.prototype.commit=es,Re.prototype.next=h1,Re.prototype.plant=f1,Re.prototype.reverse=ru,Re.prototype.toJSON=Re.prototype.valueOf=Re.prototype.value=uA,Re.prototype.first=Re.prototype.head,Xd&&(Re.prototype[Xd]=Cp),Re},Xl=Ds();An._=Xl,Ne=function(){return Xl}.call(Ye,ae,Ye,Xe),Ne!==ge&&(Xe.exports=Ne)}).call(this)}).call(this,ae("yLpj"),ae("YuTi")(ut))},MMmD:function(ut,Ye,ae){var Be=ae("lSCD"),Xe=ae("shjB");function Ne(ge){return ge!=null&&Xe(ge.length)&&!Be(ge)}ut.exports=Ne},MvSz:function(ut,Ye,ae){var Be=ae("LXxW"),Xe=ae("0ycA"),Ne=Object.prototype,ge=Ne.propertyIsEnumerable,We=Object.getOwnPropertySymbols,Fe=We?function(lt){return lt==null?[]:(lt=Object(lt),Be(We(lt),function(pt){return ge.call(lt,pt)}))}:Xe;ut.exports=Fe},NHCu:function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("mrSG");ae("0uCz");var Xe=ae("g8eg");Object.defineProperty(Ye,"Map",{enumerable:!0,get:function(){return Xe.default}});var Ne=ae("q8ti");Object.defineProperty(Ye,"MapApiLoaderHOC",{enumerable:!0,get:function(){return Ne.default}});var ge=ae("sxwG");Object.defineProperty(Ye,"MapTypeControl",{enumerable:!0,get:function(){return ge.default}});var We=ae("WuJL");Object.defineProperty(Ye,"ScaleControl",{enumerable:!0,get:function(){return We.default}});var Fe=ae("I/il");Object.defineProperty(Ye,"ZoomControl",{enumerable:!0,get:function(){return Fe.default}});var lt=ae("5bzT");Object.defineProperty(Ye,"NavigationControl",{enumerable:!0,get:function(){return lt.default}});var pt=ae("RwCd");Object.defineProperty(Ye,"Marker",{enumerable:!0,get:function(){return pt.default}});var de=ae("SbrR");Object.defineProperty(Ye,"Polyline",{enumerable:!0,get:function(){return de.default}});var xe=ae("aVhU");Object.defineProperty(Ye,"Polygon",{enumerable:!0,get:function(){return xe.default}});var ft=ae("zATX");Object.defineProperty(Ye,"Circle",{enumerable:!0,get:function(){return ft.default}});var N=ae("i5tv");Object.defineProperty(Ye,"InfoWindow",{enumerable:!0,get:function(){return N.default}});var ve=ae("WwoR");Object.defineProperty(Ye,"Label",{enumerable:!0,get:function(){return ve.default}});var Zr=ae("j9lq");Object.defineProperty(Ye,"CustomOverlay",{enumerable:!0,get:function(){return Zr.default}});var st=ae("3Ree");Object.defineProperty(Ye,"MapvglView",{enumerable:!0,get:function(){return st.default}});var zr=ae("ToZM");Object.defineProperty(Ye,"MapvglLayer",{enumerable:!0,get:function(){return zr.default}});var zn=ae("mEKJ");Object.defineProperty(Ye,"TrafficLayer",{enumerable:!0,get:function(){return zn.default}});var $t=ae("oBiK");Object.defineProperty(Ye,"PanoramaLayer",{enumerable:!0,get:function(){return $t.default}});var gn=ae("Z87X");Object.defineProperty(Ye,"DrawingManager",{enumerable:!0,get:function(){return gn.default}});var Ni=ae("dj1d");Object.defineProperty(Ye,"DistanceTool",{enumerable:!0,get:function(){return Ni.default}});var br=ae("e8yt");Object.defineProperty(Ye,"AutoComplete",{enumerable:!0,get:function(){return br.default}});var Tt=ae("PKrl");Object.defineProperty(Ye,"Arc",{enumerable:!0,get:function(){return Tt.default}}),Ye.mapvgl=Be.__importStar(ae("4K7L")),Be.__exportStar(ae("O61G"),Ye)},NKxu:function(ut,Ye,ae){var Be=ae("lSCD"),Xe=ae("E2jh"),Ne=ae("GoyQ"),ge=ae("3Fdi"),We=/[\\^$.*+?()[\]{}|]/g,Fe=/^\[object .+?Constructor\]$/,lt=Function.prototype,pt=Object.prototype,de=lt.toString,xe=pt.hasOwnProperty,ft=RegExp("^"+de.call(xe).replace(We,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function N(ve){if(!Ne(ve)||Xe(ve))return!1;var Zr=Be(ve)?ft:Fe;return Zr.test(ge(ve))}ut.exports=N},NRzi:function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("mrSG"),Xe=ae("q1tI"),Ne=function(ge){Be.__extends(We,ge);function We(){var Fe=ge!==null&&ge.apply(this,arguments)||this;return Fe.options=[],Fe}return We.prototype.getInstance=function(Fe){return Fe.instance},We.prototype.getOptions=function(Fe){Fe===void 0&&(Fe=this.props);var lt={};return this.options.map(function(pt){Fe[pt]!==void 0&&(lt[pt]=Fe[pt])}),lt},We}(Xe.PureComponent);Ye.default=Ne},Npjl:function(ut,Ye){function ae(Be,Xe){return Be==null?void 0:Be[Xe]}ut.exports=ae},O61G:function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("mrSG");Be.__exportStar(ae("gI1Y"),Ye);var Xe=ae("gOxR");Object.defineProperty(Ye,"isString",{enumerable:!0,get:function(){return Xe.default}});var Ne=ae("3RkO");Object.defineProperty(Ye,"getDisplayName",{enumerable:!0,get:function(){return Ne.default}})},O8ob:function(ut,Ye,ae){(function(Be){function Xe(Ne,ge,We){for(var Fe=ge.length,lt=new Uint8Array(3*Fe/4-(ge[Fe-2]=="="?2:ge[Fe-1]=="="?1:0)),pt=new Uint8Array(130),de=0;64>de;de++)pt["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(de)]=de;for(var xe=de=0;de<Fe;de+=4){var ft=pt[ge.charCodeAt(de+1)],N=pt[ge.charCodeAt(de+2)];lt[xe++]=pt[ge.charCodeAt(de)]<<2|ft>>4,lt[xe++]=(ft&15)<<4|N>>2,lt[xe++]=(N&3)<<6|pt[ge.charCodeAt(de+3)]&63}return We&&!Ne?WebAssembly.instantiate(lt,We):We||Ne?(Ne=new WebAssembly.Module(lt),We?new WebAssembly.Instance(Ne,We):Ne):WebAssembly.compile(lt)}(function(Ne,ge){ge(Ye)})(this,function(Ne){function ge(){throw Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function We(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Fe(n,e){return e={exports:{}},n(e,e.exports),e.exports}function lt(n){var e,r;this.promise=new n(function(a,l){if(e!==void 0||r!==void 0)throw TypeError("Bad Promise constructor");e=a,r=l}),this.resolve=yh(e),this.reject=yh(r)}function pt(){}function de(n,e){for(var r in e)n[r]=e[r]}function xe(n,e){this.lng=n,this.lat=e}function ft(n,e){this.x=n,this.y=e}function N(n){for(var e=n.length;0<=--e;)n[e]=0}function ve(n,e){return function(r){return e(n(r))}}function Zr(n){var e=function(a){return a==null?a:(1<arguments.length&&(a=Array.prototype.slice.call(arguments)),n(a))};return"conversion"in n&&(e.conversion=n.conversion),e}function st(n){var e=function(a){if(a==null)return a;1<arguments.length&&(a=Array.prototype.slice.call(arguments));var l=n(a);if((typeof l=="undefined"?"undefined":xd(l))==="object")for(var v=l.length,b=0;b<v;b++)l[b]=Math.round(l[b]);return l};return"conversion"in n&&(e.conversion=n.conversion),e}function zr(n,e){if(!(this instanceof zr))return new zr(n,e);if(e&&e in Bx&&(e=null),e&&!(e in Hu))throw Error("Unknown model: "+e);if(typeof n=="undefined")this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(n instanceof zr)this.model=n.model,this.color=n.color.slice(),this.valpha=n.valpha;else if(typeof n=="string"){if(e=Ki.get(n),e===null)throw Error("Unable to parse color from string: "+n);this.model=e.model;var r=Hu[this.model].channels;this.color=e.value.slice(0,r),this.valpha=typeof e.value[r]=="number"?e.value[r]:1}else if(n.length)this.model=e||"rgb",r=Hu[this.model].channels,e=Dh.call(n,0,r),this.color=Ni(e,r),this.valpha=typeof n[r]=="number"?n[r]:1;else if(typeof n=="number")n&=16777215,this.model="rgb",this.color=[n>>16&255,n>>8&255,n&255],this.valpha=1;else{if(this.valpha=1,e=es(n),"alpha"in n&&(e.splice(e.indexOf("alpha"),1),this.valpha=typeof n.alpha=="number"?n.alpha:0),e=e.sort().join(""),!(e in m1))throw Error("Unable to parse color from object: "+ru(n));this.model=m1[e],r=Hu[this.model].labels;var a=[];for(e=0;e<r.length;e++)a.push(n[r[e]]);this.color=Ni(a)}if(C[this.model])for(r=Hu[this.model].channels,e=0;e<r;e++)(n=C[this.model][e])&&(this.color[e]=n(this.color[e]));this.valpha=Math.max(0,Math.min(1,this.valpha)),Eh&&Eh(this)}function zn(n){return function(e){return Number(e.toFixed(n))}}function $t(n,e,r){return n=Array.isArray(n)?n:[n],n.forEach(function(a){(C[a]||(C[a]=[]))[e]=r}),n=n[0],function(a){if(arguments.length){r&&(a=r(a));var l=this[n]();return l.color[e]=a,l}return l=this[n]().color[e],r&&(l=r(l)),l}}function gn(n){return function(e){return Math.max(0,Math.min(n,e))}}function Ni(n,e){for(var r=0;r<e;r++)typeof n[r]!="number"&&(n[r]=0);return n}function br(){}function Tt(n,e){this.x=n||0,this.y=e||0}function Vr(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function Ar(n,e,r,a,l,v,b,M,R,k){Object.defineProperty(this,"id",{value:ne++}),this.uuid=U.generateUUID(),this.name="",this.image=n!==void 0?n:Ar.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=e!==void 0?e:Ar.DEFAULT_MAPPING,this.wrapS=r!==void 0?r:1001,this.wrapT=a!==void 0?a:1001,this.magFilter=l!==void 0?l:1006,this.minFilter=v!==void 0?v:1008,this.anisotropy=R!==void 0?R:1,this.format=b!==void 0?b:1023,this.internalFormat=null,this.type=M!==void 0?M:1009,this.offset=new Tt(0,0),this.repeat=new Tt(1,1),this.center=new Tt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Vr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=k!==void 0?k:3e3,this.version=0,this.onUpdate=null}function Dt(n,e,r,a){this.x=n||0,this.y=e||0,this.z=r||0,this.w=a!==void 0?a:1}function pr(n,e,r){this.width=n,this.height=e,this.scissor=new Dt(0,0,n,e),this.scissorTest=!1,this.viewport=new Dt(0,0,n,e),r=r||{},this.texture=new Ar(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.image={},this.texture.image.width=n,this.texture.image.height=e,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:1006,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!0,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null}function Gr(n,e,r){pr.call(this,n,e,r),this.samples=4}function lr(n,e,r,a){this._x=n||0,this._y=e||0,this._z=r||0,this._w=a!==void 0?a:1}function Pe(n,e,r){this.x=n||0,this.y=e||0,this.z=r||0}function ir(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function pi(n,e,r,a){this._x=n||0,this._y=e||0,this._z=r||0,this._order=a||pi.DefaultOrder}function Do(){this.mask=1}function an(){Object.defineProperty(this,"id",{value:Pn++}),this.uuid=U.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=an.DefaultUp.clone();var n=new Pe,e=new pi,r=new lr,a=new Pe(1,1,1);e._onChange(function(){r.setFromEuler(e,!1)}),r._onChange(function(){e.setFromQuaternion(r,void 0,!1)}),Zi(this,{position:{configurable:!0,enumerable:!0,value:n},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new ir},normalMatrix:{value:new Vr}}),this.matrix=new ir,this.matrixWorld=new ir,this.matrixAutoUpdate=an.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Do,this.visible=!0,this.receiveShadow=this.castShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function Ai(){an.call(this),this.type="Scene",this.overrideMaterial=this.fog=this.environment=this.background=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Uo(n,e){this.min=n!==void 0?n:new Pe(Infinity,Infinity,Infinity),this.max=e!==void 0?e:new Pe(-Infinity,-Infinity,-Infinity)}function Ga(n,e,r,a,l){var v,b=0;for(v=n.length-3;b<=v;b+=3){Lm.fromArray(n,b);var M=l.x*Math.abs(Lm.x)+l.y*Math.abs(Lm.y)+l.z*Math.abs(Lm.z),R=e.dot(Lm),k=r.dot(Lm),X=a.dot(Lm);if(Math.max(-Math.max(R,k,X),Math.min(R,k,X))>M)return!1}return!0}function Ca(n,e){this.center=n!==void 0?n:new Pe,this.radius=e!==void 0?e:-1}function os(n,e){this.origin=n!==void 0?n:new Pe,this.direction=e!==void 0?e:new Pe(0,0,-1)}function _a(n,e){this.normal=n!==void 0?n:new Pe(1,0,0),this.constant=e!==void 0?e:0}function Qa(n,e,r){this.a=n!==void 0?n:new Pe,this.b=e!==void 0?e:new Pe,this.c=r!==void 0?r:new Pe}function Sn(n,e,r){return e===void 0&&r===void 0?this.set(n):this.setRGB(n,e,r)}function ih(n,e,r){return 0>r&&(r+=1),1<r&&--r,r<1/6?n+6*(e-n)*r:.5>r?e:r<2/3?n+6*(e-n)*(2/3-r):n}function As(n){return .04045>n?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function ur(n){return .0031308>n?12.92*n:1.055*Math.pow(n,.41666)-.055}function ua(n,e,r,a,l,v){this.a=n,this.b=e,this.c=r,this.normal=a&&a.isVector3?a:new Pe,this.vertexNormals=Array.isArray(a)?a:[],this.color=l&&l.isColor?l:new Sn,this.vertexColors=Array.isArray(l)?l:[],this.materialIndex=v!==void 0?v:0}function vn(){Object.defineProperty(this,"id",{value:Ww++}),this.uuid=U.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.vertexColors=this.flatShading=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null,this.depthFunc=3,this.depthWrite=this.depthTest=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilZPass=this.stencilZFail=this.stencilFail=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipShadows=this.clipIntersection=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetUnits=this.polygonOffsetFactor=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.toneMapped=this.visible=!0,this.userData={},this.version=0}function No(n){vn.call(this),this.type="MeshBasicMaterial",this.color=new Sn(16777215),this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.envMap=this.alphaMap=this.specularMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphTargets=this.skinning=!1,this.setValues(n)}function ti(n,e,r){if(Array.isArray(n))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=n,this.itemSize=e,this.count=n!==void 0?n.length/e:0,this.normalized=r===!0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}function Xa(n,e,r){ti.call(this,new Int8Array(n),e,r)}function yu(n,e,r){ti.call(this,new Uint8Array(n),e,r)}function Wh(n,e,r){ti.call(this,new Uint8ClampedArray(n),e,r)}function El(n,e,r){ti.call(this,new Int16Array(n),e,r)}function el(n,e,r){ti.call(this,new Uint16Array(n),e,r)}function Ma(n,e,r){ti.call(this,new Int32Array(n),e,r)}function ws(n,e,r){ti.call(this,new Uint32Array(n),e,r)}function _n(n,e,r){ti.call(this,new Float32Array(n),e,r)}function xu(n,e,r){ti.call(this,new Float64Array(n),e,r)}function oh(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingSphere=this.boundingBox=null,this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1}function bs(n){if(n.length===0)return-Infinity;for(var e=n[0],r=1,a=n.length;r<a;++r)n[r]>e&&(e=n[r]);return e}function Yn(){Object.defineProperty(this,"id",{value:_2+=2}),this.uuid=U.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingSphere=this.boundingBox=null,this.drawRange={start:0,count:Infinity},this.userData={}}function so(n,e){an.call(this),this.type="Mesh",this.geometry=n!==void 0?n:new Yn,this.material=e!==void 0?e:new No,this.updateMorphTargets()}function Vf(n,e,r,a,l,v,b,M){return(e.side===1?a.intersectTriangle(b,v,l,!0,M):a.intersectTriangle(l,v,b,e.side!==2,M))===null?null:(Mp.copy(M),Mp.applyMatrix4(n.matrixWorld),e=r.ray.origin.distanceTo(Mp),e<r.near||e>r.far?null:{distance:e,point:Mp.clone(),object:n})}function dl(n,e,r,a,l,v,b,M,R,k,X,Y){if(Bm.fromBufferAttribute(l,k),zm.fromBufferAttribute(l,X),Sp.fromBufferAttribute(l,Y),l=n.morphTargetInfluences,e.morphTargets&&v&&l){G0.set(0,0,0),x1.set(0,0,0),Wx.set(0,0,0);for(var ie=0,le=v.length;ie<le;ie++){var Ae=l[ie],we=v[ie];Ae!==0&&(wA.fromBufferAttribute(we,k),bA.fromBufferAttribute(we,X),lv.fromBufferAttribute(we,Y),b?(G0.addScaledVector(wA,Ae),x1.addScaledVector(bA,Ae),Wx.addScaledVector(lv,Ae)):(G0.addScaledVector(wA.sub(Bm),Ae),x1.addScaledVector(bA.sub(zm),Ae),Wx.addScaledVector(lv.sub(Sp),Ae)))}Bm.add(G0),zm.add(x1),Sp.add(Wx)}return n.isSkinnedMesh&&(n.boneTransform(k,Bm),n.boneTransform(X,zm),n.boneTransform(Y,Sp)),(n=Vf(n,e,r,a,Bm,zm,Sp,uv))&&(M&&(W0.fromBufferAttribute(M,k),_p.fromBufferAttribute(M,X),Y0.fromBufferAttribute(M,Y),n.uv=Qa.getUV(uv,Bm,zm,Sp,W0,_p,Y0,new Tt)),R&&(W0.fromBufferAttribute(R,k),_p.fromBufferAttribute(R,X),Y0.fromBufferAttribute(R,Y),n.uv2=Qa.getUV(uv,Bm,zm,Sp,W0,_p,Y0,new Tt)),M=new ua(k,X,Y),Qa.getNormal(Bm,zm,Sp,M.normal),n.face=M),n}function Gi(){Object.defineProperty(this,"id",{value:M2+=2}),this.uuid=U.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingSphere=this.boundingBox=null,this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.verticesNeedUpdate=this.elementsNeedUpdate=!1}function Cc(n){var e={},r;for(r in n){e[r]={};for(var a in n[r]){var l=n[r][a];l&&(l.isColor||l.isMatrix3||l.isMatrix4||l.isVector2||l.isVector3||l.isVector4||l.isTexture)?e[r][a]=l.clone():Array.isArray(l)?e[r][a]=l.slice():e[r][a]=l}}return e}function Ba(n){for(var e={},r=0;r<n.length;r++){var a=Cc(n[r]),l;for(l in a)e[l]=a[l]}return e}function Wa(n){vn.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,this.fragmentShader=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,n!==void 0&&(n.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(n))}function Ku(){an.call(this),this.type="Camera",this.matrixWorldInverse=new ir,this.projectionMatrix=new ir,this.projectionMatrixInverse=new ir}function Rs(n,e,r,a){Ku.call(this),this.type="PerspectiveCamera",this.fov=n!==void 0?n:50,this.zoom=1,this.near=r!==void 0?r:.1,this.far=a!==void 0?a:2e3,this.focus=10,this.aspect=e!==void 0?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function ar(n,e,r){if(an.call(this),this.type="CubeCamera",r.isWebGLCubeRenderTarget!==!0)console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");else{this.renderTarget=r;var a=new Rs(90,1,n,e);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new Pe(1,0,0)),this.add(a);var l=new Rs(90,1,n,e);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new Pe(-1,0,0)),this.add(l);var v=new Rs(90,1,n,e);v.layers=this.layers,v.up.set(0,0,1),v.lookAt(new Pe(0,1,0)),this.add(v);var b=new Rs(90,1,n,e);b.layers=this.layers,b.up.set(0,0,-1),b.lookAt(new Pe(0,-1,0)),this.add(b);var M=new Rs(90,1,n,e);M.layers=this.layers,M.up.set(0,-1,0),M.lookAt(new Pe(0,0,1)),this.add(M);var R=new Rs(90,1,n,e);R.layers=this.layers,R.up.set(0,-1,0),R.lookAt(new Pe(0,0,-1)),this.add(R),this.update=function(k,X){this.parent===null&&this.updateMatrixWorld();var Y=k.xr.enabled,ie=k.getRenderTarget();k.xr.enabled=!1;var le=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,k.setRenderTarget(r,0),k.render(X,a),k.setRenderTarget(r,1),k.render(X,l),k.setRenderTarget(r,2),k.render(X,v),k.setRenderTarget(r,3),k.render(X,b),k.setRenderTarget(r,4),k.render(X,M),r.texture.generateMipmaps=le,k.setRenderTarget(r,5),k.render(X,R),k.setRenderTarget(ie),k.xr.enabled=Y},this.clear=function(k,X,Y,ie){for(var le=k.getRenderTarget(),Ae=0;6>Ae;Ae++)k.setRenderTarget(r,Ae),k.clear(X,Y,ie);k.setRenderTarget(le)}}}function Ac(n,e,r){Zc(e)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),e=r),pr.call(this,n,n,e)}function ah(n,e,r,a,l,v,b,M,R,k,X,Y){Ar.call(this,null,v,b,M,R,k,a,l,X,Y),this.image={data:n||null,width:e||1,height:r||1},this.magFilter=R!==void 0?R:1003,this.minFilter=k!==void 0?k:1003,this.flipY=this.generateMipmaps=!1,this.unpackAlignment=1,this.needsUpdate=!0}function pl(n,e,r,a,l,v){this.planes=[n!==void 0?n:new _a,e!==void 0?e:new _a,r!==void 0?r:new _a,a!==void 0?a:new _a,l!==void 0?l:new _a,v!==void 0?v:new _a]}function Wr(){function n(l,v){r!==!1&&(a(l,v),e.requestAnimationFrame(n))}var e=null,r=!1,a=null;return{start:function(){r!==!0&&a!==null&&(e.requestAnimationFrame(n),r=!0)},stop:function(){r=!1},setAnimationLoop:function(v){a=v},setContext:function(v){e=v}}}function sg(n,e){function r(v,b){var M=v.array,R=v.usage,k=n.createBuffer();return n.bindBuffer(b,k),n.bufferData(b,M,R),v.onUploadCallback(),b=5126,M instanceof Float32Array?b=5126:M instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):M instanceof Uint16Array?b=5123:M instanceof Int16Array?b=5122:M instanceof Uint32Array?b=5125:M instanceof Int32Array?b=5124:M instanceof Int8Array?b=5120:M instanceof Uint8Array&&(b=5121),{buffer:k,type:b,bytesPerElement:M.BYTES_PER_ELEMENT,version:v.version}}var a=e.isWebGL2,l=new Zo;return{get:function(b){return b.isInterleavedBufferAttribute&&(b=b.data),l.get(b)},remove:function(b){b.isInterleavedBufferAttribute&&(b=b.data);var M=l.get(b);M&&(n.deleteBuffer(M.buffer),l.delete(b))},update:function(b,M){b.isInterleavedBufferAttribute&&(b=b.data);var R=l.get(b);if(R===void 0)l.set(b,r(b,M));else if(R.version<b.version){var k=b.array,X=b.updateRange;n.bindBuffer(M,R.buffer),X.count===-1?n.bufferSubData(M,0,k):(a?n.bufferSubData(M,X.offset*k.BYTES_PER_ELEMENT,k,X.offset,X.count):n.bufferSubData(M,X.offset*k.BYTES_PER_ELEMENT,k.subarray(X.offset,X.offset+X.count)),X.count=-1),R.version=b.version}}}}function kp(n,e,r,a){Gi.call(this),this.type="PlaneGeometry",this.parameters={width:n,height:e,widthSegments:r,heightSegments:a},this.fromBufferGeometry(new wc(n,e,r,a)),this.mergeVertices()}function wc(n,e,r,a){Yn.call(this),this.type="PlaneBufferGeometry",this.parameters={width:n,height:e,widthSegments:r,heightSegments:a},n=n||1,e=e||1;var l=n/2,v=e/2;r=Math.floor(r)||1,a=Math.floor(a)||1;var b=r+1,M=a+1,R=n/r,k=e/a,X=[],Y=[],ie=[],le=[];for(n=0;n<M;n++){var Ae=n*k-v;for(e=0;e<b;e++)Y.push(e*R-l,-Ae,0),ie.push(0,0,1),le.push(e/r),le.push(1-n/a)}for(n=0;n<a;n++)for(e=0;e<r;e++)l=e+b*(n+1),v=e+1+b*(n+1),M=e+1+b*n,X.push(e+b*n,l,M),X.push(l,v,M);this.setIndex(X),this.setAttribute("position",new _n(Y,3)),this.setAttribute("normal",new _n(ie,3)),this.setAttribute("uv",new _n(le,2))}function kv(n,e,r,a){function l(ie,le){e.buffers.color.setClear(ie.r,ie.g,ie.b,le,a)}var v=new Sn(0),b=0,M,R,k=null,X=0,Y=null;return{getClearColor:function(){return v},setClearColor:function(le,Ae){v.set(le),b=Ae!==void 0?Ae:1,l(v,b)},getClearAlpha:function(){return b},setClearAlpha:function(le){b=le,l(v,b)},render:function(le,Ae,we,Qe){Ae=Ae.background,we=n.xr,(we=we.getSession&&we.getSession())&&we.environmentBlendMode==="additive"&&(Ae=null),Ae===null?l(v,b):Ae&&Ae.isColor&&(l(Ae,1),Qe=!0),(n.autoClear||Qe)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),Ae&&(Ae.isCubeTexture||Ae.isWebGLCubeRenderTarget||Ae.mapping===306)?(R===void 0&&(R=new so(new Yx(1,1,1),new Wa({type:"BackgroundCubeMaterial",uniforms:Cc(_d.cube.uniforms),vertexShader:_d.cube.vertexShader,fragmentShader:_d.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),R.geometry.deleteAttribute("normal"),R.geometry.deleteAttribute("uv"),R.onBeforeRender=function(yt,dt,vt){this.matrixWorld.copyPosition(vt.matrixWorld)},Object.defineProperty(R.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(R)),Qe=Ae.isWebGLCubeRenderTarget?Ae.texture:Ae,R.material.uniforms.envMap.value=Qe,R.material.uniforms.flipEnvMap.value=Qe.isCubeTexture?-1:1,(k!==Ae||X!==Qe.version||Y!==n.toneMapping)&&(R.material.needsUpdate=!0,k=Ae,X=Qe.version,Y=n.toneMapping),le.unshift(R,R.geometry,R.material,0,0,null)):Ae&&Ae.isTexture&&(M===void 0&&(M=new so(new wc(2,2),new Wa({type:"BackgroundMaterial",uniforms:Cc(_d.background.uniforms),vertexShader:_d.background.vertexShader,fragmentShader:_d.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),M.geometry.deleteAttribute("normal"),Object.defineProperty(M.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(M)),M.material.uniforms.t2D.value=Ae,Ae.matrixAutoUpdate===!0&&Ae.updateMatrix(),M.material.uniforms.uvTransform.value.copy(Ae.matrix),(k!==Ae||X!==Ae.version||Y!==n.toneMapping)&&(M.material.needsUpdate=!0,k=Ae,X=Ae.version,Y=n.toneMapping),le.unshift(M,M.geometry,M.material,0,0,null))}}}function Hv(n,e,r,a){var l=a.isWebGL2,v;this.setMode=function(b){v=b},this.render=function(b,M){n.drawArrays(v,b,M),r.update(M,v)},this.renderInstances=function(b,M,R,k){if(k!==0){if(l){b=n;var X="drawArraysInstanced"}else if(b=e.get("ANGLE_instanced_arrays"),X="drawArraysInstancedANGLE",b===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}b[X](v,M,R,k),r.update(R,v,k)}}}function lg(n,e,r){function a(vt){if(vt==="highp"){if(0<n.getShaderPrecisionFormat(35633,36338).precision&&0<n.getShaderPrecisionFormat(35632,36338).precision)return"highp";vt="mediump"}return vt==="mediump"&&0<n.getShaderPrecisionFormat(35633,36337).precision&&0<n.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}var l,v=typeof WebGL2RenderingContext!="undefined"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&n instanceof WebGL2ComputeRenderingContext,b=r.precision!==void 0?r.precision:"highp",M=a(b);M!==b&&(console.warn("THREE.WebGLRenderer:",b,"not supported, using",M,"instead."),b=M),r=r.logarithmicDepthBuffer===!0,M=n.getParameter(34930);var R=n.getParameter(35660),k=n.getParameter(3379),X=n.getParameter(34076),Y=n.getParameter(34921),ie=n.getParameter(36347),le=n.getParameter(36348),Ae=n.getParameter(36349),we=0<R,Qe=v||!!e.get("OES_texture_float"),yt=we&&Qe,dt=v?n.getParameter(36183):0;return{isWebGL2:v,getMaxAnisotropy:function(){if(l!==void 0)return l;var Lt=e.get("EXT_texture_filter_anisotropic");return l=Lt!==null?n.getParameter(Lt.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:a,precision:b,logarithmicDepthBuffer:r,maxTextures:M,maxVertexTextures:R,maxTextureSize:k,maxCubemapSize:X,maxAttributes:Y,maxVertexUniforms:ie,maxVaryings:le,maxFragmentUniforms:Ae,vertexTextures:we,floatFragmentTextures:Qe,floatVertexTextures:yt,maxSamples:dt}}function Yh(){function n(){k.value!==a&&(k.value=a,k.needsUpdate=0<l),r.numPlanes=l,r.numIntersection=0}function e(X,Y,ie,le){var Ae=X!==null?X.length:0,we=null;if(Ae!==0){if(we=k.value,le!==!0||we===null)for(le=ie+4*Ae,Y=Y.matrixWorldInverse,R.getNormalMatrix(Y),(we===null||we.length<le)&&(we=new Float32Array(le)),le=0;le!==Ae;++le,ie+=4)M.copy(X[le]).applyMatrix4(Y,R),M.normal.toArray(we,ie),we[ie+3]=M.constant;k.value=we,k.needsUpdate=!0}return r.numPlanes=Ae,r.numIntersection=0,we}var r=this,a=null,l=0,v=!1,b=!1,M=new _a,R=new Vr,k={value:null,needsUpdate:!1};this.uniform=k,this.numIntersection=this.numPlanes=0,this.init=function(X,Y,ie){var le=X.length!==0||Y||l!==0||v;return v=Y,a=e(X,ie,0),l=X.length,le},this.beginShadows=function(){b=!0,e(null)},this.endShadows=function(){b=!1,n()},this.setState=function(X,Y,ie,le,Ae,we){if(!v||X===null||X.length===0||b&&!ie)b?e(null):n();else{ie=b?0:l;var Qe=4*ie,yt=Ae.clippingState||null;for(k.value=yt,yt=e(X,le,Qe,we),X=0;X!==Qe;++X)yt[X]=a[X];Ae.clippingState=yt,this.numIntersection=Y?this.numPlanes:0,this.numPlanes+=ie}}}function q1(n){var e={};return{get:function(a){if(e[a]!==void 0)return e[a];switch(a){case"WEBGL_depth_texture":var l=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":l=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":l=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":l=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:l=n.getExtension(a)}return l===null&&console.warn("THREE.WebGLRenderer: "+a+" extension not supported."),e[a]=l}}}function JC(n,e,r){function a(M){var R=M.target;M=v.get(R),M.index!==null&&e.remove(M.index);for(var k in M.attributes)e.remove(M.attributes[k]);R.removeEventListener("dispose",a),v.delete(R),(k=b.get(M))&&(e.remove(k),b.delete(M)),r.memory.geometries--}function l(M){var R=[],k=M.index,X=M.attributes.position;if(k!==null){var Y=k.array;k=k.version,X=0;for(var ie=Y.length;X<ie;X+=3){var le=Y[X+0],Ae=Y[X+1],we=Y[X+2];R.push(le,Ae,Ae,we,we,le)}}else for(Y=X.array,k=X.version,X=0,ie=Y.length/3-1;X<ie;X+=3)le=X+0,Ae=X+1,we=X+2,R.push(le,Ae,Ae,we,we,le);R=new(65535<bs(R)?ws:el)(R,1),R.version=k,e.update(R,34963),(Y=b.get(M))&&e.remove(Y),b.set(M,R)}var v=new Zo,b=new Zo;return{get:function(R,k){var X=v.get(k);return X||(k.addEventListener("dispose",a),k.isBufferGeometry?X=k:k.isGeometry&&(k._bufferGeometry===void 0&&(k._bufferGeometry=new Yn().setFromObject(R)),X=k._bufferGeometry),v.set(k,X),r.memory.geometries++,X)},update:function(R){var k=R.index,X=R.attributes;k!==null&&e.update(k,34963);for(var Y in X)e.update(X[Y],34962);R=R.morphAttributes;for(Y in R){k=R[Y],X=0;for(var ie=k.length;X<ie;X++)e.update(k[X],34962)}},getWireframeAttribute:function(R){var k=b.get(R);if(k){var X=R.index;X!==null&&k.version<X.version&&l(R)}else l(R);return b.get(R)}}}function zd(n,e,r,a){var l=a.isWebGL2,v,b,M;this.setMode=function(R){v=R},this.setIndex=function(R){b=R.type,M=R.bytesPerElement},this.render=function(R,k){n.drawElements(v,k,b,R*M),r.update(k,v)},this.renderInstances=function(R,k,X,Y){if(Y!==0){if(l){R=n;var ie="drawElementsInstanced"}else if(R=e.get("ANGLE_instanced_arrays"),ie="drawElementsInstancedANGLE",R===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}R[ie](v,X,b,k*M,Y),r.update(X,v,Y)}}}function Oy(n){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(a,l,v){switch(v=v||1,e.calls++,l){case 4:e.triangles+=a/3*v;break;case 1:e.lines+=a/2*v;break;case 3:e.lines+=v*(a-1);break;case 2:e.lines+=v*a;break;case 0:e.points+=v*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l)}}}}function Q1(n,e){return Math.abs(e[1])-Math.abs(n[1])}function $1(n){var e={},r=new Float32Array(8);return{update:function(l,v,b,M){var R=l.morphTargetInfluences,k=R===void 0?0:R.length;if(l=e[v.id],l===void 0){l=[];for(var X=0;X<k;X++)l[X]=[X,0];e[v.id]=l}var Y=b.morphTargets&&v.morphAttributes.position;for(b=b.morphNormals&&v.morphAttributes.normal,X=0;X<k;X++){var ie=l[X];ie[1]!==0&&(Y&&v.deleteAttribute("morphTarget"+X),b&&v.deleteAttribute("morphNormal"+X))}for(X=0;X<k;X++)ie=l[X],ie[0]=X,ie[1]=R[X];for(l.sort(Q1),X=R=0;8>X;X++){if((ie=l[X])&&(k=ie[0],ie=ie[1])){Y&&v.setAttribute("morphTarget"+X,Y[k]),b&&v.setAttribute("morphNormal"+X,b[k]),r[X]=ie,R+=ie;continue}r[X]=0}v=v.morphTargetsRelative?1:1-R,M.getUniforms().setValue(n,"morphTargetBaseInfluence",v),M.getUniforms().setValue(n,"morphTargetInfluences",r)}}}function tl(n,e,r,a){var l=new Zo;return{update:function(b){var M=a.render.frame,R=b.geometry,k=e.get(b,R);return l.get(k)!==M&&(R.isGeometry&&k.updateFromObject(b),e.update(k),l.set(k,M)),b.isInstancedMesh&&r.update(b.instanceMatrix,34962),k},dispose:function(){l=new Zo}}}function ds(n,e,r,a,l,v,b,M,R,k){n=n!==void 0?n:[],Ar.call(this,n,e!==void 0?e:301,r,a,l,v,b!==void 0?b:1022,M,R,k),this.flipY=!1}function Gf(n,e,r,a){Ar.call(this,null),this.image={data:n||null,width:e||1,height:r||1,depth:a||1},this.minFilter=this.magFilter=1003,this.wrapR=1001,this.flipY=this.generateMipmaps=!1,this.needsUpdate=!0}function bc(n,e,r,a){Ar.call(this,null),this.image={data:n||null,width:e||1,height:r||1,depth:a||1},this.minFilter=this.magFilter=1003,this.wrapR=1001,this.flipY=this.generateMipmaps=!1,this.needsUpdate=!0}function Wf(n,e,r){var a=n[0];if(0>=a||0<a)return n;var l=e*r,v=C1[l];if(v===void 0&&(v=new Float32Array(l),C1[l]=v),e!==0)for(a.toArray(v,0),a=1,l=0;a!==e;++a)l+=r,n[a].toArray(v,l);return v}function Gl(n,e){if(n.length!==e.length)return!1;for(var r=0,a=n.length;r<a;r++)if(n[r]!==e[r])return!1;return!0}function Tl(n,e){for(var r=0,a=e.length;r<a;r++)n[r]=e[r]}function Hp(n,e){var r=jm[e];r===void 0&&(r=new Int32Array(e),jm[e]=r);for(var a=0;a!==e;++a)r[a]=n.allocateTextureUnit();return r}function ex(n,e){var r=this.cache;r[0]!==e&&(n.uniform1f(this.addr,e),r[0]=e)}function qC(n,e){var r=this.cache;e.x!==void 0?(r[0]!==e.x||r[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),r[0]=e.x,r[1]=e.y):Gl(r,e)||(n.uniform2fv(this.addr,e),Tl(r,e))}function Cu(n,e){var r=this.cache;e.x!==void 0?(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),r[0]=e.x,r[1]=e.y,r[2]=e.z):e.r!==void 0?(r[0]!==e.r||r[1]!==e.g||r[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),r[0]=e.r,r[1]=e.g,r[2]=e.b):Gl(r,e)||(n.uniform3fv(this.addr,e),Tl(r,e))}function QC(n,e){var r=this.cache;e.x!==void 0?(r[0]!==e.x||r[1]!==e.y||r[2]!==e.z||r[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),r[0]=e.x,r[1]=e.y,r[2]=e.z,r[3]=e.w):Gl(r,e)||(n.uniform4fv(this.addr,e),Tl(r,e))}function Au(n,e){var r=this.cache,a=e.elements;a===void 0?Gl(r,e)||(n.uniformMatrix2fv(this.addr,!1,e),Tl(r,e)):Gl(r,a)||(Xx.set(a),n.uniformMatrix2fv(this.addr,!1,Xx),Tl(r,a))}function tx(n,e){var r=this.cache,a=e.elements;a===void 0?Gl(r,e)||(n.uniformMatrix3fv(this.addr,!1,e),Tl(r,e)):Gl(r,a)||(dv.set(a),n.uniformMatrix3fv(this.addr,!1,dv),Tl(r,a))}function ug(n,e){var r=this.cache,a=e.elements;a===void 0?Gl(r,e)||(n.uniformMatrix4fv(this.addr,!1,e),Tl(r,e)):Gl(r,a)||(Vu.set(a),n.uniformMatrix4fv(this.addr,!1,Vu),Tl(r,a))}function Xh(n,e,r){var a=this.cache,l=r.allocateTextureUnit();a[0]!==l&&(n.uniform1i(this.addr,l),a[0]=l),r.safeSetTexture2D(e||Bh,l)}function Cn(n,e,r){var a=this.cache,l=r.allocateTextureUnit();a[0]!==l&&(n.uniform1i(this.addr,l),a[0]=l),r.setTexture2DArray(e||Ep,l)}function wu(n,e,r){var a=this.cache,l=r.allocateTextureUnit();a[0]!==l&&(n.uniform1i(this.addr,l),a[0]=l),r.setTexture3D(e||SA,l)}function Ry(n,e,r){var a=this.cache,l=r.allocateTextureUnit();a[0]!==l&&(n.uniform1i(this.addr,l),a[0]=l),r.safeSetTextureCube(e||E2,l)}function jd(n,e){var r=this.cache;r[0]!==e&&(n.uniform1i(this.addr,e),r[0]=e)}function rx(n,e){var r=this.cache;Gl(r,e)||(n.uniform2iv(this.addr,e),Tl(r,e))}function Vp(n,e){var r=this.cache;Gl(r,e)||(n.uniform3iv(this.addr,e),Tl(r,e))}function nx(n,e){var r=this.cache;Gl(r,e)||(n.uniform4iv(this.addr,e),Tl(r,e))}function cg(n,e){var r=this.cache;r[0]!==e&&(n.uniform1ui(this.addr,e),r[0]=e)}function Ly(n){switch(n){case 5126:return ex;case 35664:return qC;case 35665:return Cu;case 35666:return QC;case 35674:return Au;case 35675:return tx;case 35676:return ug;case 5124:case 35670:return jd;case 35667:case 35671:return rx;case 35668:case 35672:return Vp;case 35669:case 35673:return nx;case 5125:return cg;case 35678:case 36198:case 36298:case 36306:case 35682:return Xh;case 35679:case 36299:case 36307:return wu;case 35680:case 36300:case 36308:case 36293:return Ry;case 36289:case 36303:case 36311:case 36292:return Cn}}function Dy(n,e){n.uniform1fv(this.addr,e)}function hg(n,e){n.uniform1iv(this.addr,e)}function ix(n,e){n.uniform2iv(this.addr,e)}function $C(n,e){n.uniform3iv(this.addr,e)}function eA(n,e){n.uniform4iv(this.addr,e)}function Ls(n,e){e=Wf(e,this.size,2),n.uniform2fv(this.addr,e)}function ox(n,e){e=Wf(e,this.size,3),n.uniform3fv(this.addr,e)}function ps(n,e){e=Wf(e,this.size,4),n.uniform4fv(this.addr,e)}function Gp(n,e){e=Wf(e,this.size,4),n.uniformMatrix2fv(this.addr,!1,e)}function ou(n,e){e=Wf(e,this.size,9),n.uniformMatrix3fv(this.addr,!1,e)}function Vv(n,e){e=Wf(e,this.size,16),n.uniformMatrix4fv(this.addr,!1,e)}function ax(n,e,r){var a=e.length,l=Hp(r,a);for(n.uniform1iv(this.addr,l),n=0;n!==a;++n)r.safeSetTexture2D(e[n]||Bh,l[n])}function On(n,e,r){var a=e.length,l=Hp(r,a);for(n.uniform1iv(this.addr,l),n=0;n!==a;++n)r.safeSetTextureCube(e[n]||E2,l[n])}function Sc(n){switch(n){case 5126:return Dy;case 35664:return Ls;case 35665:return ox;case 35666:return ps;case 35674:return Gp;case 35675:return ou;case 35676:return Vv;case 5124:case 35670:return hg;case 35667:case 35671:return ix;case 35668:case 35672:return $C;case 35669:case 35673:return eA;case 35678:case 36198:case 36298:case 36306:case 35682:return ax;case 35680:case 36300:case 36308:case 36293:return On}}function Hs(n,e,r){this.id=n,this.addr=r,this.cache=[],this.setValue=Ly(e.type)}function wo(n,e,r){this.id=n,this.addr=r,this.cache=[],this.size=e.size,this.setValue=Sc(e.type)}function sx(n){this.id=n,this.seq=[],this.map={}}function Ss(n,e){this.seq=[],this.map={};for(var r=n.getProgramParameter(e,35718),a=0;a<r;++a){var l=n.getActiveUniform(e,a),v=n.getUniformLocation(e,l.name),b=this,M=l.name,R=M.length;for(Zx.lastIndex=0;;){var k=Zx.exec(M),X=Zx.lastIndex,Y=k[1],ie=k[3];if(k[2]==="]"&&(Y|=0),ie===void 0||ie==="["&&X+2===R){M=b,l=ie===void 0?new Hs(Y,l,v):new wo(Y,l,v),M.seq.push(l),M.map[l.id]=l;break}else ie=b.map[Y],ie===void 0&&(ie=new sx(Y),Y=b,b=ie,Y.seq.push(b),Y.map[b.id]=b),b=ie}}}function Zh(n,e,r){return e=n.createShader(e),n.shaderSource(e,r),n.compileShader(e),e}function sh(n){switch(n){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:throw Error("unsupported encoding: "+n)}}function lx(n,e,r){var a=n.getShaderParameter(e,35713),l=n.getShaderInfoLog(e).trim();if(a&&l==="")return"";for(n=n.getShaderSource(e).split(`
`),e=0;e<n.length;e++)n[e]=e+1+": "+n[e];return n=n.join(`
`),"THREE.WebGLShader: gl.getShaderInfoLog() "+r+`
`+l+n}function Wp(n,e){return e=sh(e),"vec4 "+n+"( vec4 value ) { return "+e[0]+"ToLinear"+e[1]+"; }"}function Kh(n,e){return e=sh(e),"vec4 "+n+"( vec4 value ) { return LinearTo"+e[0]+e[1]+"; }"}function _c(n,e){switch(e){case 1:e="Linear";break;case 2:e="Reinhard";break;case 3:e="Uncharted2";break;case 4:e="OptimizedCineon";break;case 5:e="ACESFilmic";break;default:throw Error("unsupported toneMapping: "+e)}return"vec3 "+n+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}function Yp(n){var e=[],r;for(r in n){var a=n[r];a!==!1&&e.push("#define "+r+" "+a)}return e.join(`
`)}function Xp(n){return n!==""}function Gv(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function pa(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}function fo(n,e){if(n=Jo[e],n===void 0)throw Error("Can not resolve #include <"+e+">");return n.replace(Df,fo)}function Jh(n,e,r,a){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Ud(n,e,r,a)}function Ud(n,e,r,a){for(n="",e=parseInt(e);e<parseInt(r);e++)n+=a.replace(/\[ i \]/g,"[ "+e+" ]").replace(/UNROLLED_LOOP_INDEX/g,e);return n}function Ny(n){var e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function fg(n){var e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===1?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===2?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===3&&(e="SHADOWMAP_TYPE_VSM"),e}function ux(n){var e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:case 307:e="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:e="ENVMAP_TYPE_EQUIREC";break;case 305:e="ENVMAP_TYPE_SPHERE"}return e}function Wv(n){var e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case 302:case 304:e="ENVMAP_MODE_REFRACTION"}return e}function tA(n){var e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}function rA(n,e,r){var a=n.getContext(),l=r.defines,v=r.vertexShader,b=r.fragmentShader,M=fg(r),R=ux(r),k=Wv(r),X=tA(r),Y=0<n.gammaFactor?n.gammaFactor:1,ie=r.isWebGL2?"":[r.extensionDerivatives||r.envMapCubeUV||r.bumpMap||r.tangentSpaceNormalMap||r.clearcoatNormalMap||r.flatShading||r.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(r.extensionFragDepth||r.logarithmicDepthBuffer)&&r.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",r.extensionDrawBuffers&&r.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(r.extensionShaderTextureLOD||r.envMap)&&r.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Xp).join(`
`),le=Yp(l),Ae=a.createProgram();r.isRawShaderMaterial?(l=[le].filter(Xp).join(`
`),0<l.length&&(l+=`
`),M=[ie,le].filter(Xp).join(`
`),0<M.length&&(M+=`
`)):(l=[Ny(r),"#define SHADER_NAME "+r.shaderName,le,r.instancing?"#define USE_INSTANCING":"",r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+Y,"#define MAX_BONES "+r.maxBones,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+k:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&r.flatShading===!1?"#define USE_MORPHNORMALS":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+M:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Xp).join(`
`),M=[ie,Ny(r),"#define SHADER_NAME "+r.shaderName,le,r.alphaTest?"#define ALPHATEST "+r.alphaTest+(r.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+Y,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+R:"",r.envMap?"#define "+k:"",r.envMap?"#define "+X:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.sheen?"#define USE_SHEEN":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+M:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(r.extensionShaderTextureLOD||r.envMap)&&r.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",r.toneMapping!==0?"#define TONE_MAPPING":"",r.toneMapping!==0?Jo.tonemapping_pars_fragment:"",r.toneMapping!==0?_c("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.outputEncoding||r.mapEncoding||r.matcapEncoding||r.envMapEncoding||r.emissiveMapEncoding||r.lightMapEncoding?Jo.encodings_pars_fragment:"",r.mapEncoding?Wp("mapTexelToLinear",r.mapEncoding):"",r.matcapEncoding?Wp("matcapTexelToLinear",r.matcapEncoding):"",r.envMapEncoding?Wp("envMapTexelToLinear",r.envMapEncoding):"",r.emissiveMapEncoding?Wp("emissiveMapTexelToLinear",r.emissiveMapEncoding):"",r.lightMapEncoding?Wp("lightMapTexelToLinear",r.lightMapEncoding):"",r.outputEncoding?Kh("linearToOutputTexel",r.outputEncoding):"",r.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"",`
`].filter(Xp).join(`
`)),v=v.replace(Df,fo),v=Gv(v,r),v=pa(v,r),b=b.replace(Df,fo),b=Gv(b,r),b=pa(b,r),v=v.replace(MA,Ud).replace(Kx,Jh),b=b.replace(MA,Ud).replace(Kx,Jh),r.isWebGL2&&!r.isRawShaderMaterial&&(R=!1,k=/^\s*#version\s+300\s+es\s*\n/,r.isShaderMaterial&&v.match(k)!==null&&b.match(k)!==null&&(R=!0,v=v.replace(k,""),b=b.replace(k,"")),l=`#version 300 es

#define attribute in
#define varying out
#define texture2D texture
`+l,M=[`#version 300 es

#define varying in`,R?"":"out highp vec4 pc_fragColor;",R?"":"#define gl_FragColor pc_fragColor",`#define gl_FragDepthEXT gl_FragDepth
#define texture2D texture
#define textureCube texture
#define texture2DProj textureProj
#define texture2DLodEXT textureLod
#define texture2DProjLodEXT textureProjLod
#define textureCubeLodEXT textureLod
#define texture2DGradEXT textureGrad
#define texture2DProjGradEXT textureProjGrad
#define textureCubeGradEXT textureGrad`].join(`
`)+`
`+M),b=M+b,v=Zh(a,35633,l+v),b=Zh(a,35632,b),a.attachShader(Ae,v),a.attachShader(Ae,b),r.index0AttributeName!==void 0?a.bindAttribLocation(Ae,0,r.index0AttributeName):r.morphTargets===!0&&a.bindAttribLocation(Ae,0,"position"),a.linkProgram(Ae),n.debug.checkShaderErrors&&(n=a.getProgramInfoLog(Ae).trim(),R=a.getShaderInfoLog(v).trim(),k=a.getShaderInfoLog(b).trim(),Y=X=!0,a.getProgramParameter(Ae,35714)===!1?(X=!1,ie=lx(a,v,"vertex"),le=lx(a,b,"fragment"),console.error("THREE.WebGLProgram: shader error: ",a.getError(),"35715",a.getProgramParameter(Ae,35715),"gl.getProgramInfoLog",n,ie,le)):n!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",n):(R===""||k==="")&&(Y=!1),Y&&(this.diagnostics={runnable:X,programLog:n,vertexShader:{log:R,prefix:l},fragmentShader:{log:k,prefix:M}})),a.deleteShader(v),a.deleteShader(b);var we;this.getUniforms=function(){return we===void 0&&(we=new Ss(a,Ae)),we};var Qe;return this.getAttributes=function(){if(Qe===void 0){for(var yt={},dt=a.getProgramParameter(Ae,35721),vt=0;vt<dt;vt++){var Lt=a.getActiveAttrib(Ae,vt).name;yt[Lt]=a.getAttribLocation(Ae,Lt)}Qe=yt}return Qe},this.destroy=function(){a.deleteProgram(Ae),this.program=void 0},this.name=r.shaderName,this.id=_A++,this.cacheKey=e,this.usedTimes=1,this.program=Ae,this.vertexShader=v,this.fragmentShader=b,this}function kd(n,e,r){function a(le){if(le)le.isTexture?Ae=le.encoding:le.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),Ae=le.texture.encoding);else var Ae=3e3;return Ae}var l=[],v=r.isWebGL2,b=r.logarithmicDepthBuffer,M=r.floatVertexTextures,R=r.precision,k=r.maxVertexUniforms,X=r.vertexTextures,Y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},ie="precision isWebGL2 supportsVertexTextures outputEncoding instancing map mapEncoding matcap matcapEncoding envMap envMapMode envMapEncoding envMapCubeUV lightMap lightMapEncoding aoMap emissiveMap emissiveMapEncoding bumpMap normalMap objectSpaceNormalMap tangentSpaceNormalMap clearcoatMap clearcoatRoughnessMap clearcoatNormalMap displacementMap specularMap roughnessMap metalnessMap gradientMap alphaMap combine vertexColors vertexTangents vertexUvs uvsVertexOnly fog useFog fogExp2 flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights numRectAreaLights numDirLightShadows numPointLightShadows numSpotLightShadows shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes numClipIntersection depthPacking dithering sheen".split(" ");this.getParameters=function(le,Ae,we,Qe,yt,dt,vt){var Lt=Qe.fog;Qe=le.isMeshStandardMaterial?Qe.environment:null,Qe=le.envMap||Qe;var kt=Y[le.type];if(vt.isSkinnedMesh){var Ut=vt.skeleton.bones;if(M)Ut=1024;else{var at=Math.min(Math.floor((k-20)/4),Ut.length);at<Ut.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+Ut.length+" bones. This GPU supports "+at+"."),Ut=0):Ut=at}}else Ut=0;le.precision!==null&&(R=r.getMaxPrecision(le.precision),R!==le.precision&&console.warn("THREE.WebGLProgram.getParameters:",le.precision,"not supported, using",R,"instead.")),kt?(at=_d[kt],at={name:le.type,uniforms:fv.clone(at.uniforms),vertexShader:at.vertexShader,fragmentShader:at.fragmentShader}):at={name:le.type,uniforms:le.uniforms,vertexShader:le.vertexShader,fragmentShader:le.fragmentShader},le.onBeforeCompile(at,n);var jr=n.getRenderTarget();return{isWebGL2:v,shaderID:kt,shaderName:at.name,uniforms:at.uniforms,vertexShader:at.vertexShader,fragmentShader:at.fragmentShader,defines:le.defines,isRawShaderMaterial:le.isRawShaderMaterial,isShaderMaterial:le.isShaderMaterial,precision:R,instancing:vt.isInstancedMesh===!0,supportsVertexTextures:X,outputEncoding:jr!==null?a(jr.texture):n.outputEncoding,map:!!le.map,mapEncoding:a(le.map),matcap:!!le.matcap,matcapEncoding:a(le.matcap),envMap:!!Qe,envMapMode:Qe&&Qe.mapping,envMapEncoding:a(Qe),envMapCubeUV:!!Qe&&(Qe.mapping===306||Qe.mapping===307),lightMap:!!le.lightMap,lightMapEncoding:a(le.lightMap),aoMap:!!le.aoMap,emissiveMap:!!le.emissiveMap,emissiveMapEncoding:a(le.emissiveMap),bumpMap:!!le.bumpMap,normalMap:!!le.normalMap,objectSpaceNormalMap:le.normalMapType===1,tangentSpaceNormalMap:le.normalMapType===0,clearcoatMap:!!le.clearcoatMap,clearcoatRoughnessMap:!!le.clearcoatRoughnessMap,clearcoatNormalMap:!!le.clearcoatNormalMap,displacementMap:!!le.displacementMap,roughnessMap:!!le.roughnessMap,metalnessMap:!!le.metalnessMap,specularMap:!!le.specularMap,alphaMap:!!le.alphaMap,gradientMap:!!le.gradientMap,sheen:!!le.sheen,combine:le.combine,vertexTangents:le.normalMap&&le.vertexTangents,vertexColors:le.vertexColors,vertexUvs:!!le.map||!!le.bumpMap||!!le.normalMap||!!le.specularMap||!!le.alphaMap||!!le.emissiveMap||!!le.roughnessMap||!!le.metalnessMap||!!le.clearcoatMap||!!le.clearcoatRoughnessMap||!!le.clearcoatNormalMap||!!le.displacementMap,uvsVertexOnly:!(le.map||le.bumpMap||le.normalMap||le.specularMap||le.alphaMap||le.emissiveMap||le.roughnessMap||le.metalnessMap||le.clearcoatNormalMap)&&!!le.displacementMap,fog:!!Lt,useFog:le.fog,fogExp2:Lt&&Lt.isFogExp2,flatShading:le.flatShading,sizeAttenuation:le.sizeAttenuation,logarithmicDepthBuffer:b,skinning:le.skinning&&0<Ut,maxBones:Ut,useVertexTexture:M,morphTargets:le.morphTargets,morphNormals:le.morphNormals,maxMorphTargets:n.maxMorphTargets,maxMorphNormals:n.maxMorphNormals,numDirLights:Ae.directional.length,numPointLights:Ae.point.length,numSpotLights:Ae.spot.length,numRectAreaLights:Ae.rectArea.length,numHemiLights:Ae.hemi.length,numDirLightShadows:Ae.directionalShadowMap.length,numPointLightShadows:Ae.pointShadowMap.length,numSpotLightShadows:Ae.spotShadowMap.length,numClippingPlanes:yt,numClipIntersection:dt,dithering:le.dithering,shadowMapEnabled:n.shadowMap.enabled&&0<we.length,shadowMapType:n.shadowMap.type,toneMapping:le.toneMapped?n.toneMapping:0,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:le.premultipliedAlpha,alphaTest:le.alphaTest,doubleSided:le.side===2,flipSided:le.side===1,depthPacking:le.depthPacking!==void 0?le.depthPacking:!1,index0AttributeName:le.index0AttributeName,extensionDerivatives:le.extensions&&le.extensions.derivatives,extensionFragDepth:le.extensions&&le.extensions.fragDepth,extensionDrawBuffers:le.extensions&&le.extensions.drawBuffers,extensionShaderTextureLOD:le.extensions&&le.extensions.shaderTextureLOD,rendererExtensionFragDepth:v||e.get("EXT_frag_depth")!==null,rendererExtensionDrawBuffers:v||e.get("WEBGL_draw_buffers")!==null,rendererExtensionShaderTextureLod:v||e.get("EXT_shader_texture_lod")!==null,onBeforeCompile:le.onBeforeCompile}},this.getProgramCacheKey=function(le){var Ae=[];if(le.shaderID?Ae.push(le.shaderID):(Ae.push(le.fragmentShader),Ae.push(le.vertexShader)),le.defines!==void 0)for(var we in le.defines)Ae.push(we),Ae.push(le.defines[we]);if(le.isRawShaderMaterial===void 0){for(we=0;we<ie.length;we++)Ae.push(le[ie[we]]);Ae.push(n.outputEncoding),Ae.push(n.gammaFactor)}return Ae.push(le.onBeforeCompile.toString()),Ae.join()},this.acquireProgram=function(le,Ae){for(var we,Qe=0,yt=l.length;Qe<yt;Qe++){var dt=l[Qe];if(dt.cacheKey===Ae){we=dt,++we.usedTimes;break}}return we===void 0&&(we=new rA(n,Ae,le),l.push(we)),we},this.releaseProgram=function(le){if(--le.usedTimes==0){var Ae=l.indexOf(le);l[Ae]=l[l.length-1],l.pop(),le.destroy()}},this.programs=l}function dg(){var n=new Zo;return{get:function(r){var a=n.get(r);return a===void 0&&(a={},n.set(r,a)),a},remove:function(r){n.delete(r)},update:function(r,a,l){n.get(r)[a]=l},dispose:function(){n=new Zo}}}function qh(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.program!==e.program?n.program.id-e.program.id:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Yf(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function Vs(){function n(b,M,R,k,X,Y){var ie=e[r];return ie===void 0?(ie={id:b.id,object:b,geometry:M,material:R,program:R.program||v,groupOrder:k,renderOrder:b.renderOrder,z:X,group:Y},e[r]=ie):(ie.id=b.id,ie.object=b,ie.geometry=M,ie.material=R,ie.program=R.program||v,ie.groupOrder=k,ie.renderOrder=b.renderOrder,ie.z=X,ie.group=Y),r++,ie}var e=[],r=0,a=[],l=[],v={id:-1};return{opaque:a,transparent:l,init:function(){r=0,a.length=0,l.length=0},push:function(M,R,k,X,Y,ie){M=n(M,R,k,X,Y,ie),(k.transparent===!0?l:a).push(M)},unshift:function(M,R,k,X,Y,ie){M=n(M,R,k,X,Y,ie),(k.transparent===!0?l:a).unshift(M)},finish:function(){for(var M=r,R=e.length;M<R;M++){var k=e[M];if(k.id===null)break;k.id=null,k.object=null,k.geometry=null,k.material=null,k.program=null,k.group=null}},sort:function(M,R){1<a.length&&a.sort(M||qh),1<l.length&&l.sort(R||Yf)}}}function Il(){function n(r){r=r.target,r.removeEventListener("dispose",n),e.delete(r)}var e=new Zo;return{get:function(a,l){var v=e.get(a);if(v===void 0){var b=new Vs;e.set(a,new Zo),e.get(a).set(l,b),a.addEventListener("dispose",n)}else b=v.get(l),b===void 0&&(b=new Vs,v.set(l,b));return b},dispose:function(){e=new Zo}}}function Wl(){var n={};return{get:function(r){if(n[r.id]!==void 0)return n[r.id];switch(r.type){case"DirectionalLight":var a={direction:new Pe,color:new Sn};break;case"SpotLight":a={position:new Pe,direction:new Pe,color:new Sn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":a={position:new Pe,color:new Sn,distance:0,decay:0};break;case"HemisphereLight":a={direction:new Pe,skyColor:new Sn,groundColor:new Sn};break;case"RectAreaLight":a={color:new Sn,position:new Pe,halfWidth:new Pe,halfHeight:new Pe}}return n[r.id]=a}}}function Xf(){var n={};return{get:function(r){if(n[r.id]!==void 0)return n[r.id];switch(r.type){case"DirectionalLight":var a={shadowBias:0,shadowRadius:1,shadowMapSize:new Tt};break;case"SpotLight":a={shadowBias:0,shadowRadius:1,shadowMapSize:new Tt};break;case"PointLight":a={shadowBias:0,shadowRadius:1,shadowMapSize:new Tt,shadowCameraNear:1,shadowCameraFar:1e3}}return n[r.id]=a}}}function Yo(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function ca(){for(var n=new Wl,e=Xf(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},a=0;9>a;a++)r.probe.push(new Pe);var l=new Pe,v=new ir,b=new ir;return{setup:function(R,k,X){for(var Y=0,ie=0,le=0,Ae=0;9>Ae;Ae++)r.probe[Ae].set(0,0,0);var we=k=0,Qe=0,yt=0,dt=0,vt=0,Lt=0,kt=0;X=X.matrixWorldInverse,R.sort(Yo),Ae=0;for(var Ut=R.length;Ae<Ut;Ae++){var at=R[Ae],jr=at.color,Zt=at.intensity,$r=at.distance,nn=at.shadow&&at.shadow.map?at.shadow.map.texture:null;if(at.isAmbientLight)Y+=jr.r*Zt,ie+=jr.g*Zt,le+=jr.b*Zt;else if(at.isLightProbe)for(nn=0;9>nn;nn++)r.probe[nn].addScaledVector(at.sh.coefficients[nn],Zt);else if(at.isDirectionalLight){var Wt=n.get(at);Wt.color.copy(at.color).multiplyScalar(at.intensity),Wt.direction.setFromMatrixPosition(at.matrixWorld),l.setFromMatrixPosition(at.target.matrixWorld),Wt.direction.sub(l),Wt.direction.transformDirection(X),at.castShadow&&(Zt=at.shadow,jr=e.get(at),jr.shadowBias=Zt.bias,jr.shadowRadius=Zt.radius,jr.shadowMapSize=Zt.mapSize,r.directionalShadow[k]=jr,r.directionalShadowMap[k]=nn,r.directionalShadowMatrix[k]=at.shadow.matrix,vt++),r.directional[k]=Wt,k++}else at.isSpotLight?(Wt=n.get(at),Wt.position.setFromMatrixPosition(at.matrixWorld),Wt.position.applyMatrix4(X),Wt.color.copy(jr).multiplyScalar(Zt),Wt.distance=$r,Wt.direction.setFromMatrixPosition(at.matrixWorld),l.setFromMatrixPosition(at.target.matrixWorld),Wt.direction.sub(l),Wt.direction.transformDirection(X),Wt.coneCos=Math.cos(at.angle),Wt.penumbraCos=Math.cos(at.angle*(1-at.penumbra)),Wt.decay=at.decay,at.castShadow&&(Zt=at.shadow,jr=e.get(at),jr.shadowBias=Zt.bias,jr.shadowRadius=Zt.radius,jr.shadowMapSize=Zt.mapSize,r.spotShadow[Qe]=jr,r.spotShadowMap[Qe]=nn,r.spotShadowMatrix[Qe]=at.shadow.matrix,kt++),r.spot[Qe]=Wt,Qe++):at.isRectAreaLight?(Wt=n.get(at),Wt.color.copy(jr).multiplyScalar(Zt),Wt.position.setFromMatrixPosition(at.matrixWorld),Wt.position.applyMatrix4(X),b.identity(),v.copy(at.matrixWorld),v.premultiply(X),b.extractRotation(v),Wt.halfWidth.set(.5*at.width,0,0),Wt.halfHeight.set(0,.5*at.height,0),Wt.halfWidth.applyMatrix4(b),Wt.halfHeight.applyMatrix4(b),r.rectArea[yt]=Wt,yt++):at.isPointLight?(Wt=n.get(at),Wt.position.setFromMatrixPosition(at.matrixWorld),Wt.position.applyMatrix4(X),Wt.color.copy(at.color).multiplyScalar(at.intensity),Wt.distance=at.distance,Wt.decay=at.decay,at.castShadow&&(Zt=at.shadow,jr=e.get(at),jr.shadowBias=Zt.bias,jr.shadowRadius=Zt.radius,jr.shadowMapSize=Zt.mapSize,jr.shadowCameraNear=Zt.camera.near,jr.shadowCameraFar=Zt.camera.far,r.pointShadow[we]=jr,r.pointShadowMap[we]=nn,r.pointShadowMatrix[we]=at.shadow.matrix,Lt++),r.point[we]=Wt,we++):at.isHemisphereLight&&(Wt=n.get(at),Wt.direction.setFromMatrixPosition(at.matrixWorld),Wt.direction.transformDirection(X),Wt.direction.normalize(),Wt.skyColor.copy(at.color).multiplyScalar(Zt),Wt.groundColor.copy(at.groundColor).multiplyScalar(Zt),r.hemi[dt]=Wt,dt++)}r.ambient[0]=Y,r.ambient[1]=ie,r.ambient[2]=le,R=r.hash,(R.directionalLength!==k||R.pointLength!==we||R.spotLength!==Qe||R.rectAreaLength!==yt||R.hemiLength!==dt||R.numDirectionalShadows!==vt||R.numPointShadows!==Lt||R.numSpotShadows!==kt)&&(r.directional.length=k,r.spot.length=Qe,r.rectArea.length=yt,r.point.length=we,r.hemi.length=dt,r.directionalShadow.length=vt,r.directionalShadowMap.length=vt,r.pointShadow.length=Lt,r.pointShadowMap.length=Lt,r.spotShadow.length=kt,r.spotShadowMap.length=kt,r.directionalShadowMatrix.length=vt,r.pointShadowMatrix.length=Lt,r.spotShadowMatrix.length=kt,R.directionalLength=k,R.pointLength=we,R.spotLength=Qe,R.rectAreaLength=yt,R.hemiLength=dt,R.numDirectionalShadows=vt,R.numPointShadows=Lt,R.numSpotShadows=kt,r.version=pv++)},state:r}}function pg(){var n=new ca,e=[],r=[];return{init:function(){e.length=0,r.length=0},state:{lightsArray:e,shadowsArray:r,lights:n},setupLights:function(l){n.setup(e,r,l)},pushLight:function(l){e.push(l)},pushShadow:function(l){r.push(l)}}}function Qh(){function n(r){r=r.target,r.removeEventListener("dispose",n),e.delete(r)}var e=new Zo;return{get:function(a,l){if(e.has(a)===!1){var v=new pg;e.set(a,new Zo),e.get(a).set(l,v),a.addEventListener("dispose",n)}else e.get(a).has(l)===!1?(v=new pg,e.get(a).set(l,v)):v=e.get(a).get(l);return v},dispose:function(){e=new Zo}}}function Mc(n){vn.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.morphTargets=this.skinning=!1,this.displacementMap=this.alphaMap=this.map=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(n)}function Hd(n){vn.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Pe,this.nearDistance=1,this.farDistance=1e3,this.morphTargets=this.skinning=!1,this.displacementMap=this.alphaMap=this.map=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(n)}function au(n,e,r){function a(Lt,kt,Ut){Ut=Lt<<0|kt<<1|Ut<<2;var at=Y[Ut];return at===void 0&&(at=new Mc({depthPacking:3201,morphTargets:Lt,skinning:kt}),Y[Ut]=at),at}function l(Lt,kt,Ut){Ut=Lt<<0|kt<<1|Ut<<2;var at=ie[Ut];return at===void 0&&(at=new Hd({morphTargets:Lt,skinning:kt}),ie[Ut]=at),at}function v(Lt,kt,Ut,at,jr,Zt,$r){var nn=a,Wt=Lt.customDepthMaterial;return at.isPointLight===!0&&(nn=l,Wt=Lt.customDistanceMaterial),Wt===void 0?(Wt=!1,Ut.morphTargets===!0&&(Wt=kt.morphAttributes&&kt.morphAttributes.position&&0<kt.morphAttributes.position.length),kt=!1,Lt.isSkinnedMesh===!0&&(Ut.skinning===!0?kt=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",Lt)),Lt=nn(Wt,kt,Lt.isInstancedMesh===!0)):Lt=Wt,n.localClippingEnabled&&Ut.clipShadows===!0&&Ut.clippingPlanes.length!==0&&(Wt=Lt.uuid,nn=Ut.uuid,kt=le[Wt],kt===void 0&&(kt={},le[Wt]=kt),Wt=kt[nn],Wt===void 0&&(Wt=Lt.clone(),kt[nn]=Wt),Lt=Wt),Lt.visible=Ut.visible,Lt.wireframe=Ut.wireframe,Lt.side=$r===3?Ut.shadowSide!==null?Ut.shadowSide:Ut.side:Ut.shadowSide!==null?Ut.shadowSide:Ae[Ut.side],Lt.clipShadows=Ut.clipShadows,Lt.clippingPlanes=Ut.clippingPlanes,Lt.clipIntersection=Ut.clipIntersection,Lt.wireframeLinewidth=Ut.wireframeLinewidth,Lt.linewidth=Ut.linewidth,at.isPointLight===!0&&Lt.isMeshDistanceMaterial===!0&&(Lt.referencePosition.setFromMatrixPosition(at.matrixWorld),Lt.nearDistance=jr,Lt.farDistance=Zt),Lt}function b(Lt,kt,Ut,at,jr){if(Lt.visible!==!1){if(Lt.layers.test(kt.layers)&&(Lt.isMesh||Lt.isLine||Lt.isPoints)&&(Lt.castShadow||Lt.receiveShadow&&jr===3)&&(!Lt.frustumCulled||M.intersectsObject(Lt))){Lt.modelViewMatrix.multiplyMatrices(Ut.matrixWorldInverse,Lt.matrixWorld);var Zt=e.update(Lt),$r=Lt.material;if(Array.isArray($r))for(var nn=Zt.groups,Wt=0,si=nn.length;Wt<si;Wt++){var gr=nn[Wt],bi=$r[gr.materialIndex];bi&&bi.visible&&(bi=v(Lt,Zt,bi,at,Ut.near,Ut.far,jr),n.renderBufferDirect(Ut,null,Zt,bi,Lt,gr))}else $r.visible&&(bi=v(Lt,Zt,$r,at,Ut.near,Ut.far,jr),n.renderBufferDirect(Ut,null,Zt,bi,Lt,null))}for(Lt=Lt.children,Zt=0,$r=Lt.length;Zt<$r;Zt++)b(Lt[Zt],kt,Ut,at,jr)}}var M=new pl,R=new Tt,k=new Tt,X=new Dt,Y=[],ie=[],le={},Ae={0:1,1:0,2:2},we=new Wa({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:.125},uniforms:{shadow_pass:{value:null},resolution:{value:new Tt},radius:{value:4}},vertexShader:`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragmentShader:`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
  float mean = 0.0;
  float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );
  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
    #ifdef HORIZONAL_PASS
      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
      mean += distribution.x;
      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
    #else
      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );
      mean += depth;
      squared_mean += depth * depth;
    #endif
  }
  mean = mean * HALF_SAMPLE_RATE;
  squared_mean = squared_mean * HALF_SAMPLE_RATE;
  float std_dev = sqrt( squared_mean - mean * mean );
  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`}),Qe=we.clone();Qe.defines.HORIZONAL_PASS=1;var yt=new Yn;yt.setAttribute("position",new ti(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var dt=new so(yt,we),vt=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(Lt,kt,Ut){if(vt.enabled!==!1&&(vt.autoUpdate!==!1||vt.needsUpdate!==!1)&&Lt.length!==0){var at=n.getRenderTarget(),jr=n.getActiveCubeFace(),Zt=n.getActiveMipmapLevel(),$r=n.state;$r.setBlending(0),$r.buffers.color.setClear(1,1,1,1),$r.buffers.depth.setTest(!0),$r.setScissorTest(!1);for(var nn=0,Wt=Lt.length;nn<Wt;nn++){var si=Lt[nn],gr=si.shadow;if(gr===void 0)console.warn("THREE.WebGLShadowMap:",si,"has no shadow.");else{R.copy(gr.mapSize);var bi=gr.getFrameExtents();R.multiply(bi),k.copy(gr.mapSize),(R.x>r||R.y>r)&&(R.x>r&&(k.x=Math.floor(r/bi.x),R.x=k.x*bi.x,gr.mapSize.x=k.x),R.y>r&&(k.y=Math.floor(r/bi.y),R.y=k.y*bi.y,gr.mapSize.y=k.y)),gr.map!==null||gr.isPointLightShadow||this.type!==3||(bi={minFilter:1006,magFilter:1006,format:1023},gr.map=new pr(R.x,R.y,bi),gr.map.texture.name=si.name+".shadowMap",gr.mapPass=new pr(R.x,R.y,bi),gr.camera.updateProjectionMatrix()),gr.map===null&&(bi={minFilter:1003,magFilter:1003,format:1023},gr.map=new pr(R.x,R.y,bi),gr.map.texture.name=si.name+".shadowMap",gr.camera.updateProjectionMatrix()),n.setRenderTarget(gr.map),n.clear(),bi=gr.getViewportCount();for(var ki=0;ki<bi;ki++){var Pi=gr.getViewport(ki);X.set(k.x*Pi.x,k.y*Pi.y,k.x*Pi.z,k.y*Pi.w),$r.viewport(X),gr.updateMatrices(si,ki),M=gr.getFrustum(),b(kt,Ut,gr.camera,si,this.type)}gr.isPointLightShadow||this.type!==3||(si=gr,gr=Ut,bi=e.update(dt),we.uniforms.shadow_pass.value=si.map.texture,we.uniforms.resolution.value=si.mapSize,we.uniforms.radius.value=si.radius,n.setRenderTarget(si.mapPass),n.clear(),n.renderBufferDirect(gr,null,bi,we,dt,null),Qe.uniforms.shadow_pass.value=si.mapPass.texture,Qe.uniforms.resolution.value=si.mapSize,Qe.uniforms.radius.value=si.radius,n.setRenderTarget(si.map),n.clear(),n.renderBufferDirect(gr,null,bi,Qe,dt,null))}}vt.needsUpdate=!1,n.setRenderTarget(at,jr,Zt)}}}function $h(n,e,r){function a(Vt,Qt,bn){var Hr=new Uint8Array(4),sn=n.createTexture();for(n.bindTexture(Vt,sn),n.texParameteri(Vt,10241,9728),n.texParameteri(Vt,10240,9728),Vt=0;Vt<bn;Vt++)n.texImage2D(Qt+Vt,0,6408,1,1,0,6408,5121,Hr);return sn}function l(Vt,Qt){dt[Vt]=1,vt[Vt]===0&&(n.enableVertexAttribArray(Vt),vt[Vt]=1),Lt[Vt]!==Qt&&((Ae?n:e.get("ANGLE_instanced_arrays"))[Ae?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Vt,Qt),Lt[Vt]=Qt)}function v(Vt){kt[Vt]!==!0&&(n.enable(Vt),kt[Vt]=!0)}function b(Vt){kt[Vt]!==!1&&(n.disable(Vt),kt[Vt]=!1)}function M(Vt,Qt,bn,Hr,sn,mr,Si,mo){if(Vt===0)at&&(b(3042),at=!1);else if(at||(v(3042),at=!0),Vt!==5){if(Vt!==jr||mo!==bi){if((Zt!==100||Wt!==100)&&(n.blendEquation(32774),Wt=Zt=100),mo)switch(Vt){case 1:n.blendFuncSeparate(1,771,1,771);break;case 2:n.blendFunc(1,1);break;case 3:n.blendFuncSeparate(0,0,769,771);break;case 4:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Vt)}else switch(Vt){case 1:n.blendFuncSeparate(770,771,1,771);break;case 2:n.blendFunc(770,1);break;case 3:n.blendFunc(0,769);break;case 4:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Vt)}gr=si=nn=$r=null,jr=Vt,bi=mo}}else sn=sn||Qt,mr=mr||bn,Si=Si||Hr,(Qt!==Zt||sn!==Wt)&&(n.blendEquationSeparate(pn[Qt],pn[sn]),Zt=Qt,Wt=sn),(bn!==$r||Hr!==nn||mr!==si||Si!==gr)&&(n.blendFuncSeparate(Nn[bn],Nn[Hr],Nn[mr],Nn[Si]),$r=bn,nn=Hr,si=mr,gr=Si),jr=Vt,bi=null}function R(Vt){ki!==Vt&&(Vt?n.frontFace(2304):n.frontFace(2305),ki=Vt)}function k(Vt){Vt!==0?(v(2884),Vt!==Pi&&(Vt===1?n.cullFace(1029):Vt===2?n.cullFace(1028):n.cullFace(1032))):b(2884),Pi=Vt}function X(Vt,Qt,bn){Vt?(v(32823),(Oi!==Qt||Ho!==bn)&&(n.polygonOffset(Qt,bn),Oi=Qt,Ho=bn)):b(32823)}function Y(Vt){Vt===void 0&&(Vt=33984+rs-1),qo!==Vt&&(n.activeTexture(Vt),qo=Vt)}var ie,le,Ae=r.isWebGL2,we=new function(){var Vt=!1,Qt=new Dt,bn=null,Hr=new Dt(0,0,0,0);return{setMask:function(mr){bn===mr||Vt||(n.colorMask(mr,mr,mr,mr),bn=mr)},setLocked:function(mr){Vt=mr},setClear:function(mr,Si,mo,xr,Hi){Hi===!0&&(mr*=xr,Si*=xr,mo*=xr),Qt.set(mr,Si,mo,xr),Hr.equals(Qt)===!1&&(n.clearColor(mr,Si,mo,xr),Hr.copy(Qt))},reset:function(){Vt=!1,bn=null,Hr.set(-1,0,0,0)}}},Qe=new function(){var Vt=!1,Qt=null,bn=null,Hr=null;return{setTest:function(mr){mr?v(2929):b(2929)},setMask:function(mr){Qt===mr||Vt||(n.depthMask(mr),Qt=mr)},setFunc:function(mr){if(bn!==mr){if(mr)switch(mr){case 0:n.depthFunc(512);break;case 1:n.depthFunc(519);break;case 2:n.depthFunc(513);break;case 3:n.depthFunc(515);break;case 4:n.depthFunc(514);break;case 5:n.depthFunc(518);break;case 6:n.depthFunc(516);break;case 7:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);bn=mr}},setLocked:function(mr){Vt=mr},setClear:function(mr){Hr!==mr&&(n.clearDepth(mr),Hr=mr)},reset:function(){Vt=!1,Hr=bn=Qt=null}}},yt=new function(){var Vt=!1,Qt=null,bn=null,Hr=null,sn=null,mr=null,Si=null,mo=null,xr=null;return{setTest:function(mi){Vt||(mi?v(2960):b(2960))},setMask:function(mi){Qt===mi||Vt||(n.stencilMask(mi),Qt=mi)},setFunc:function(mi,fi,Ua){(bn!==mi||Hr!==fi||sn!==Ua)&&(n.stencilFunc(mi,fi,Ua),bn=mi,Hr=fi,sn=Ua)},setOp:function(mi,fi,Ua){(mr!==mi||Si!==fi||mo!==Ua)&&(n.stencilOp(mi,fi,Ua),mr=mi,Si=fi,mo=Ua)},setLocked:function(mi){Vt=mi},setClear:function(mi){xr!==mi&&(n.clearStencil(mi),xr=mi)},reset:function(){Vt=!1,xr=mo=Si=mr=sn=Hr=bn=Qt=null}}};r=n.getParameter(34921);var dt=new Uint8Array(r),vt=new Uint8Array(r),Lt=new Uint8Array(r),kt={},Ut=null,at=null,jr=null,Zt=null,$r=null,nn=null,Wt=null,si=null,gr=null,bi=!1,ki=null,Pi=null,ga=null,Oi=null,Ho=null,rs=n.getParameter(35661),tn=!1;r=0,r=n.getParameter(7938),r.indexOf("WebGL")!==-1?(r=parseFloat(/^WebGL ([0-9])/.exec(r)[1]),tn=1<=r):r.indexOf("OpenGL ES")!==-1&&(r=parseFloat(/^OpenGL ES ([0-9])/.exec(r)[1]),tn=2<=r);var qo=null,$e={},xt=new Dt,Et=new Dt,Kt={};Kt[3553]=a(3553,3553,1),Kt[34067]=a(34067,34069,6),we.setClear(0,0,0,1),Qe.setClear(1),yt.setClear(0),v(2929),Qe.setFunc(3),R(!1),k(1),v(2884),M(0);var pn=(ie={},G(ie,100,32774),G(ie,101,32778),G(ie,102,32779),ie);Ae?(pn[103]=32775,pn[104]=32776):(ie=e.get("EXT_blend_minmax"),ie!==null&&(pn[103]=ie.MIN_EXT,pn[104]=ie.MAX_EXT));var Nn=(le={},G(le,200,0),G(le,201,1),G(le,202,768),G(le,204,770),G(le,210,776),G(le,208,774),G(le,206,772),G(le,203,769),G(le,205,771),G(le,209,775),G(le,207,773),le);return{buffers:{color:we,depth:Qe,stencil:yt},initAttributes:function(){for(var Qt=0,bn=dt.length;Qt<bn;Qt++)dt[Qt]=0},enableAttribute:function(Qt){l(Qt,0)},enableAttributeAndDivisor:l,disableUnusedAttributes:function(){for(var Qt=0,bn=vt.length;Qt!==bn;++Qt)vt[Qt]!==dt[Qt]&&(n.disableVertexAttribArray(Qt),vt[Qt]=0)},vertexAttribPointer:function(Qt,bn,Hr,sn,mr,Si){Ae!==!0||Hr!==5124&&Hr!==5125?n.vertexAttribPointer(Qt,bn,Hr,sn,mr,Si):n.vertexAttribIPointer(Qt,bn,Hr,sn,mr,Si)},enable:v,disable:b,useProgram:function(Qt){return Ut!==Qt?(n.useProgram(Qt),Ut=Qt,!0):!1},setBlending:M,setMaterial:function(Qt,bn){Qt.side===2?b(2884):v(2884);var Hr=Qt.side===1;bn&&(Hr=!Hr),R(Hr),Qt.blending===1&&Qt.transparent===!1?M(0):M(Qt.blending,Qt.blendEquation,Qt.blendSrc,Qt.blendDst,Qt.blendEquationAlpha,Qt.blendSrcAlpha,Qt.blendDstAlpha,Qt.premultipliedAlpha),Qe.setFunc(Qt.depthFunc),Qe.setTest(Qt.depthTest),Qe.setMask(Qt.depthWrite),we.setMask(Qt.colorWrite),bn=Qt.stencilWrite,yt.setTest(bn),bn&&(yt.setMask(Qt.stencilWriteMask),yt.setFunc(Qt.stencilFunc,Qt.stencilRef,Qt.stencilFuncMask),yt.setOp(Qt.stencilFail,Qt.stencilZFail,Qt.stencilZPass)),X(Qt.polygonOffset,Qt.polygonOffsetFactor,Qt.polygonOffsetUnits)},setFlipSided:R,setCullFace:k,setLineWidth:function(Qt){Qt!==ga&&(tn&&n.lineWidth(Qt),ga=Qt)},setPolygonOffset:X,setScissorTest:function(Qt){Qt?v(3089):b(3089)},activeTexture:Y,bindTexture:function(Qt,bn){qo===null&&Y();var Hr=$e[qo];Hr===void 0&&(Hr={type:void 0,texture:void 0},$e[qo]=Hr),(Hr.type!==Qt||Hr.texture!==bn)&&(n.bindTexture(Qt,bn||Kt[Qt]),Hr.type=Qt,Hr.texture=bn)},unbindTexture:function(){var Qt=$e[qo];Qt!==void 0&&Qt.type!==void 0&&(n.bindTexture(Qt.type,null),Qt.type=void 0,Qt.texture=void 0)},compressedTexImage2D:function(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Qt){console.error("THREE.WebGLState:",Qt)}},texImage2D:function(){try{n.texImage2D.apply(n,arguments)}catch(Qt){console.error("THREE.WebGLState:",Qt)}},texImage3D:function(){try{n.texImage3D.apply(n,arguments)}catch(Qt){console.error("THREE.WebGLState:",Qt)}},scissor:function(Qt){xt.equals(Qt)===!1&&(n.scissor(Qt.x,Qt.y,Qt.z,Qt.w),xt.copy(Qt))},viewport:function(Qt){Et.equals(Qt)===!1&&(n.viewport(Qt.x,Qt.y,Qt.z,Qt.w),Et.copy(Qt))},reset:function(){for(var Qt=0;Qt<vt.length;Qt++)vt[Qt]===1&&(n.disableVertexAttribArray(Qt),vt[Qt]=0);kt={},qo=null,$e={},Pi=ki=jr=Ut=null,we.reset(),Qe.reset(),yt.reset()}}}function lh(n,e,r,a,l,v,b){function M($e,xt){return ga?new OffscreenCanvas($e,xt):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function R($e,xt,Et,Kt){var pn=1;if(($e.width>Kt||$e.height>Kt)&&(pn=Kt/Math.max($e.width,$e.height)),1>pn||xt===!0){if(typeof HTMLImageElement!="undefined"&&$e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&$e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&$e instanceof ImageBitmap)return Kt=xt?U.floorPowerOfTwo:Math.floor,xt=Kt(pn*$e.width),pn=Kt(pn*$e.height),Pi===void 0&&(Pi=M(xt,pn)),Et=Et?M(xt,pn):Pi,Et.width=xt,Et.height=pn,Et.getContext("2d").drawImage($e,0,0,xt,pn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+$e.width+"x"+$e.height+") to ("+xt+"x"+pn+")."),Et;"data"in $e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+$e.width+"x"+$e.height+").")}return $e}function k($e){return U.isPowerOfTwo($e.width)&&U.isPowerOfTwo($e.height)}function X($e,xt){return $e.generateMipmaps&&xt&&$e.minFilter!==1003&&$e.minFilter!==1006}function Y($e,xt,Et,Kt){n.generateMipmap($e),a.get(xt).__maxMipLevel=Math.log(Math.max(Et,Kt))*Math.LOG2E}function ie($e,xt,Et){if(nn===!1)return xt;if($e!==null){if(n[$e]!==void 0)return n[$e];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+$e+"'")}return $e=xt,xt===6403&&(Et===5126&&($e=33326),Et===5131&&($e=33325),Et===5121&&($e=33321)),xt===6407&&(Et===5126&&($e=34837),Et===5131&&($e=34843),Et===5121&&($e=32849)),xt===6408&&(Et===5126&&($e=34836),Et===5131&&($e=34842),Et===5121&&($e=32856)),$e!==33325&&$e!==33326&&$e!==34842&&$e!==34836||e.get("EXT_color_buffer_float"),$e}function le($e){return $e===1003||$e===1004||$e===1005?9728:9729}function Ae($e){$e=$e.target,$e.removeEventListener("dispose",Ae);var xt=a.get($e);xt.__webglInit!==void 0&&(n.deleteTexture(xt.__webglTexture),a.remove($e)),$e.isVideoTexture&&ki.delete($e),b.memory.textures--}function we($e){$e=$e.target,$e.removeEventListener("dispose",we);var xt=a.get($e),Et=a.get($e.texture);if($e){if(Et.__webglTexture!==void 0&&n.deleteTexture(Et.__webglTexture),$e.depthTexture&&$e.depthTexture.dispose(),$e.isWebGLCubeRenderTarget)for(Et=0;6>Et;Et++)n.deleteFramebuffer(xt.__webglFramebuffer[Et]),xt.__webglDepthbuffer&&n.deleteRenderbuffer(xt.__webglDepthbuffer[Et]);else n.deleteFramebuffer(xt.__webglFramebuffer),xt.__webglDepthbuffer&&n.deleteRenderbuffer(xt.__webglDepthbuffer),xt.__webglMultisampledFramebuffer&&n.deleteFramebuffer(xt.__webglMultisampledFramebuffer),xt.__webglColorRenderbuffer&&n.deleteRenderbuffer(xt.__webglColorRenderbuffer),xt.__webglDepthRenderbuffer&&n.deleteRenderbuffer(xt.__webglDepthRenderbuffer);a.remove($e.texture),a.remove($e)}b.memory.textures--}function Qe($e,xt){var Et=a.get($e);if($e.isVideoTexture){var Kt=b.render.frame;ki.get($e)!==Kt&&(ki.set($e,Kt),$e.update())}if(0<$e.version&&Et.__version!==$e.version)if(Kt=$e.image,Kt===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(Kt.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{kt(Et,$e,xt);return}r.activeTexture(33984+xt),r.bindTexture(3553,Et.__webglTexture)}function yt($e,xt){if($e.image.length===6){var Et=a.get($e);if(0<$e.version&&Et.__version!==$e.version){Lt(Et,$e),r.activeTexture(33984+xt),r.bindTexture(34067,Et.__webglTexture),n.pixelStorei(37440,$e.flipY);var Kt=$e&&($e.isCompressedTexture||$e.image[0].isCompressedTexture);xt=$e.image[0]&&$e.image[0].isDataTexture;for(var pn=[],Nn=0;6>Nn;Nn++)pn[Nn]=Kt||xt?xt?$e.image[Nn].image:$e.image[Nn]:R($e.image[Nn],!1,!0,si);var Vt=pn[0],Qt=k(Vt)||nn,bn=v.convert($e.format),Hr=v.convert($e.type),sn=ie($e.internalFormat,bn,Hr);if(vt(34067,$e,Qt),Kt){for(Nn=0;6>Nn;Nn++){var mr=pn[Nn].mipmaps;for(Kt=0;Kt<mr.length;Kt++){var Si=mr[Kt];$e.format!==1023&&$e.format!==1022?bn!==null?r.compressedTexImage2D(34069+Nn,Kt,sn,Si.width,Si.height,0,Si.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):r.texImage2D(34069+Nn,Kt,sn,Si.width,Si.height,0,bn,Hr,Si.data)}}Et.__maxMipLevel=mr.length-1}else{for(mr=$e.mipmaps,Nn=0;6>Nn;Nn++)if(xt)for(r.texImage2D(34069+Nn,0,sn,pn[Nn].width,pn[Nn].height,0,bn,Hr,pn[Nn].data),Kt=0;Kt<mr.length;Kt++)Si=mr[Kt],Si=Si.image[Nn].image,r.texImage2D(34069+Nn,Kt+1,sn,Si.width,Si.height,0,bn,Hr,Si.data);else for(r.texImage2D(34069+Nn,0,sn,bn,Hr,pn[Nn]),Kt=0;Kt<mr.length;Kt++)Si=mr[Kt],r.texImage2D(34069+Nn,Kt+1,sn,bn,Hr,Si.image[Nn]);Et.__maxMipLevel=mr.length}X($e,Qt)&&Y(34067,$e,Vt.width,Vt.height),Et.__version=$e.version,$e.onUpdate&&$e.onUpdate($e)}else r.activeTexture(33984+xt),r.bindTexture(34067,Et.__webglTexture)}}function dt($e,xt){r.activeTexture(33984+xt),r.bindTexture(34067,a.get($e).__webglTexture)}function vt($e,xt,Et){Et?(n.texParameteri($e,10242,Ho[xt.wrapS]),n.texParameteri($e,10243,Ho[xt.wrapT]),$e!==32879&&$e!==35866||n.texParameteri($e,32882,Ho[xt.wrapR]),n.texParameteri($e,10240,rs[xt.magFilter]),n.texParameteri($e,10241,rs[xt.minFilter])):(n.texParameteri($e,10242,33071),n.texParameteri($e,10243,33071),$e!==32879&&$e!==35866||n.texParameteri($e,32882,33071),xt.wrapS===1001&&xt.wrapT===1001||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri($e,10240,le(xt.magFilter)),n.texParameteri($e,10241,le(xt.minFilter)),xt.minFilter!==1003&&xt.minFilter!==1006&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!(Et=e.get("EXT_texture_filter_anisotropic"))||xt.type===1015&&e.get("OES_texture_float_linear")===null||xt.type===1016&&(nn||e.get("OES_texture_half_float_linear"))===null||!(1<xt.anisotropy||a.get(xt).__currentAnisotropy)||(n.texParameterf($e,Et.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(xt.anisotropy,l.getMaxAnisotropy())),a.get(xt).__currentAnisotropy=xt.anisotropy)}function Lt($e,xt){$e.__webglInit===void 0&&($e.__webglInit=!0,xt.addEventListener("dispose",Ae),$e.__webglTexture=n.createTexture(),b.memory.textures++)}function kt($e,xt,Et){var Kt=3553;xt.isDataTexture2DArray&&(Kt=35866),xt.isDataTexture3D&&(Kt=32879),Lt($e,xt),r.activeTexture(33984+Et),r.bindTexture(Kt,$e.__webglTexture),n.pixelStorei(37440,xt.flipY),n.pixelStorei(37441,xt.premultiplyAlpha),n.pixelStorei(3317,xt.unpackAlignment),Et=nn?!1:xt.wrapS!==1001||xt.wrapT!==1001||xt.minFilter!==1003&&xt.minFilter!==1006,Et=Et&&k(xt.image)===!1,Et=R(xt.image,Et,!1,gr);var pn=k(Et)||nn,Nn=v.convert(xt.format),Vt=v.convert(xt.type),Qt=ie(xt.internalFormat,Nn,Vt);vt(Kt,xt,pn);var bn=xt.mipmaps;if(xt.isDepthTexture)Qt=6402,nn?Qt=xt.type===1015?36012:xt.type===1014?33190:xt.type===1020?35056:33189:xt.type===1015&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),xt.format===1026&&Qt===6402&&xt.type!==1012&&xt.type!==1014&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),xt.type=1012,Vt=v.convert(xt.type)),xt.format===1027&&Qt===6402&&(Qt=34041,xt.type!==1020&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),xt.type=1020,Vt=v.convert(xt.type))),r.texImage2D(3553,0,Qt,Et.width,Et.height,0,Nn,Vt,null);else if(xt.isDataTexture)if(0<bn.length&&pn){for(var Hr=0,sn=bn.length;Hr<sn;Hr++){var mr=bn[Hr];r.texImage2D(3553,Hr,Qt,mr.width,mr.height,0,Nn,Vt,mr.data)}xt.generateMipmaps=!1,$e.__maxMipLevel=bn.length-1}else r.texImage2D(3553,0,Qt,Et.width,Et.height,0,Nn,Vt,Et.data),$e.__maxMipLevel=0;else if(xt.isCompressedTexture){for(Hr=0,sn=bn.length;Hr<sn;Hr++)mr=bn[Hr],xt.format!==1023&&xt.format!==1022?Nn!==null?r.compressedTexImage2D(3553,Hr,Qt,mr.width,mr.height,0,mr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):r.texImage2D(3553,Hr,Qt,mr.width,mr.height,0,Nn,Vt,mr.data);$e.__maxMipLevel=bn.length-1}else if(xt.isDataTexture2DArray)r.texImage3D(35866,0,Qt,Et.width,Et.height,Et.depth,0,Nn,Vt,Et.data),$e.__maxMipLevel=0;else if(xt.isDataTexture3D)r.texImage3D(32879,0,Qt,Et.width,Et.height,Et.depth,0,Nn,Vt,Et.data),$e.__maxMipLevel=0;else if(0<bn.length&&pn){for(Hr=0,sn=bn.length;Hr<sn;Hr++)mr=bn[Hr],r.texImage2D(3553,Hr,Qt,Nn,Vt,mr);xt.generateMipmaps=!1,$e.__maxMipLevel=bn.length-1}else r.texImage2D(3553,0,Qt,Nn,Vt,Et),$e.__maxMipLevel=0;X(xt,pn)&&Y(Kt,xt,Et.width,Et.height),$e.__version=xt.version,xt.onUpdate&&xt.onUpdate(xt)}function Ut($e,xt,Et,Kt){var pn=v.convert(xt.texture.format),Nn=v.convert(xt.texture.type),Vt=ie(xt.texture.internalFormat,pn,Nn);r.texImage2D(Kt,0,Vt,xt.width,xt.height,0,pn,Nn,null),n.bindFramebuffer(36160,$e),n.framebufferTexture2D(36160,Et,Kt,a.get(xt.texture).__webglTexture,0),n.bindFramebuffer(36160,null)}function at($e,xt,Et){if(n.bindRenderbuffer(36161,$e),xt.depthBuffer&&!xt.stencilBuffer){var Kt=33189;Et?((Et=xt.depthTexture)&&Et.isDepthTexture&&(Et.type===1015?Kt=36012:Et.type===1014&&(Kt=33190)),Et=jr(xt),n.renderbufferStorageMultisample(36161,Et,Kt,xt.width,xt.height)):n.renderbufferStorage(36161,Kt,xt.width,xt.height),n.framebufferRenderbuffer(36160,36096,36161,$e)}else xt.depthBuffer&&xt.stencilBuffer?(Et?(Et=jr(xt),n.renderbufferStorageMultisample(36161,Et,35056,xt.width,xt.height)):n.renderbufferStorage(36161,34041,xt.width,xt.height),n.framebufferRenderbuffer(36160,33306,36161,$e)):($e=v.convert(xt.texture.format),Kt=v.convert(xt.texture.type),Kt=ie(xt.texture.internalFormat,$e,Kt),Et?(Et=jr(xt),n.renderbufferStorageMultisample(36161,Et,Kt,xt.width,xt.height)):n.renderbufferStorage(36161,Kt,xt.width,xt.height));n.bindRenderbuffer(36161,null)}function jr($e){return nn&&$e.isWebGLMultisampleRenderTarget?Math.min(bi,$e.samples):0}var Zt,$r,nn=l.isWebGL2,Wt=l.maxTextures,si=l.maxCubemapSize,gr=l.maxTextureSize,bi=l.maxSamples,ki=new Zo,Pi,ga=!1;try{ga=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch($e){}var Oi=0,Ho=(Zt={},G(Zt,1e3,10497),G(Zt,1001,33071),G(Zt,1002,33648),Zt),rs=($r={},G($r,1003,9728),G($r,1004,9984),G($r,1005,9986),G($r,1006,9729),G($r,1007,9985),G($r,1008,9987),$r),tn=!1,qo=!1;this.allocateTextureUnit=function(){var $e=Oi;return $e>=Wt&&console.warn("THREE.WebGLTextures: Trying to use "+$e+" texture units while this GPU supports only "+Wt),Oi+=1,$e},this.resetTextureUnits=function(){Oi=0},this.setTexture2D=Qe,this.setTexture2DArray=function($e,xt){var Et=a.get($e);0<$e.version&&Et.__version!==$e.version?kt(Et,$e,xt):(r.activeTexture(33984+xt),r.bindTexture(35866,Et.__webglTexture))},this.setTexture3D=function($e,xt){var Et=a.get($e);0<$e.version&&Et.__version!==$e.version?kt(Et,$e,xt):(r.activeTexture(33984+xt),r.bindTexture(32879,Et.__webglTexture))},this.setTextureCube=yt,this.setTextureCubeDynamic=dt,this.setupRenderTarget=function($e){var xt=a.get($e),Et=a.get($e.texture);$e.addEventListener("dispose",we),Et.__webglTexture=n.createTexture(),b.memory.textures++;var Kt=$e.isWebGLCubeRenderTarget===!0,pn=$e.isWebGLMultisampleRenderTarget===!0,Nn=k($e)||nn;if(!nn||$e.texture.format!==1022||$e.texture.type!==1015&&$e.texture.type!==1016||($e.texture.format=1023,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),Kt)for(xt.__webglFramebuffer=[],pn=0;6>pn;pn++)xt.__webglFramebuffer[pn]=n.createFramebuffer();else if(xt.__webglFramebuffer=n.createFramebuffer(),pn)if(nn){xt.__webglMultisampledFramebuffer=n.createFramebuffer(),xt.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,xt.__webglColorRenderbuffer),pn=v.convert($e.texture.format);var Vt=v.convert($e.texture.type);pn=ie($e.texture.internalFormat,pn,Vt),Vt=jr($e),n.renderbufferStorageMultisample(36161,Vt,pn,$e.width,$e.height),n.bindFramebuffer(36160,xt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,xt.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),$e.depthBuffer&&(xt.__webglDepthRenderbuffer=n.createRenderbuffer(),at(xt.__webglDepthRenderbuffer,$e,!0)),n.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(Kt){for(r.bindTexture(34067,Et.__webglTexture),vt(34067,$e.texture,Nn),pn=0;6>pn;pn++)Ut(xt.__webglFramebuffer[pn],$e,36064,34069+pn);X($e.texture,Nn)&&Y(34067,$e.texture,$e.width,$e.height),r.bindTexture(34067,null)}else r.bindTexture(3553,Et.__webglTexture),vt(3553,$e.texture,Nn),Ut(xt.__webglFramebuffer,$e,36064,3553),X($e.texture,Nn)&&Y(3553,$e.texture,$e.width,$e.height),r.bindTexture(3553,null);if($e.depthBuffer){if(xt=a.get($e),Et=$e.isWebGLCubeRenderTarget===!0,$e.depthTexture){if(Et)throw Error("target.depthTexture not supported in Cube render targets");if($e&&$e.isWebGLCubeRenderTarget)throw Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,xt.__webglFramebuffer),!$e.depthTexture||!$e.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");if(a.get($e.depthTexture).__webglTexture&&$e.depthTexture.image.width===$e.width&&$e.depthTexture.image.height===$e.height||($e.depthTexture.image.width=$e.width,$e.depthTexture.image.height=$e.height,$e.depthTexture.needsUpdate=!0),Qe($e.depthTexture,0),xt=a.get($e.depthTexture).__webglTexture,$e.depthTexture.format===1026)n.framebufferTexture2D(36160,36096,3553,xt,0);else if($e.depthTexture.format===1027)n.framebufferTexture2D(36160,33306,3553,xt,0);else throw Error("Unknown depthTexture format")}else if(Et)for(xt.__webglDepthbuffer=[],Et=0;6>Et;Et++)n.bindFramebuffer(36160,xt.__webglFramebuffer[Et]),xt.__webglDepthbuffer[Et]=n.createRenderbuffer(),at(xt.__webglDepthbuffer[Et],$e,!1);else n.bindFramebuffer(36160,xt.__webglFramebuffer),xt.__webglDepthbuffer=n.createRenderbuffer(),at(xt.__webglDepthbuffer,$e,!1);n.bindFramebuffer(36160,null)}},this.updateRenderTargetMipmap=function($e){var xt=$e.texture,Et=k($e)||nn;if(X(xt,Et)){Et=$e.isWebGLCubeRenderTarget?34067:3553;var Kt=a.get(xt).__webglTexture;r.bindTexture(Et,Kt),Y(Et,xt,$e.width,$e.height),r.bindTexture(Et,null)}},this.updateMultisampleRenderTarget=function($e){if($e.isWebGLMultisampleRenderTarget)if(nn){var xt=a.get($e);n.bindFramebuffer(36008,xt.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,xt.__webglFramebuffer);var Et=$e.width,Kt=$e.height,pn=16384;$e.depthBuffer&&(pn|=256),$e.stencilBuffer&&(pn|=1024),n.blitFramebuffer(0,0,Et,Kt,0,0,Et,Kt,pn,9728),n.bindFramebuffer(36160,xt.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function($e,xt){$e&&$e.isWebGLRenderTarget&&(tn===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),tn=!0),$e=$e.texture),Qe($e,xt)},this.safeSetTextureCube=function($e,xt){$e&&$e.isWebGLCubeRenderTarget&&(qo===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),qo=!0),$e=$e.texture),$e&&$e.isCubeTexture||Array.isArray($e.image)&&$e.image.length===6?yt($e,xt):dt($e,xt)}}function uh(n,e,r){var a=r.isWebGL2;return{convert:function(v){if(v===1009)return 5121;if(v===1017)return 32819;if(v===1018)return 32820;if(v===1019)return 33635;if(v===1010)return 5120;if(v===1011)return 5122;if(v===1012)return 5123;if(v===1013)return 5124;if(v===1014)return 5125;if(v===1015)return 5126;if(v===1016){if(a)return 5131;var b=e.get("OES_texture_half_float");return b!==null?b.HALF_FLOAT_OES:null}if(v===1021)return 6406;if(v===1022)return 6407;if(v===1023)return 6408;if(v===1024)return 6409;if(v===1025)return 6410;if(v===1026)return 6402;if(v===1027)return 34041;if(v===1028)return 6403;if(v===1029)return 36244;if(v===1030)return 33319;if(v===1031)return 33320;if(v===1032)return 36248;if(v===1033)return 36249;if(v===33776||v===33777||v===33778||v===33779)if(b=e.get("WEBGL_compressed_texture_s3tc"),b!==null){if(v===33776)return b.COMPRESSED_RGB_S3TC_DXT1_EXT;if(v===33777)return b.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(v===33778)return b.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(v===33779)return b.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(v===35840||v===35841||v===35842||v===35843)if(b=e.get("WEBGL_compressed_texture_pvrtc"),b!==null){if(v===35840)return b.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(v===35841)return b.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(v===35842)return b.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(v===35843)return b.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(v===36196)return b=e.get("WEBGL_compressed_texture_etc1"),b!==null?b.COMPRESSED_RGB_ETC1_WEBGL:null;if((v===37492||v===37496)&&(b=e.get("WEBGL_compressed_texture_etc"),b!==null)){if(v===37492)return b.COMPRESSED_RGB8_ETC2;if(v===37496)return b.COMPRESSED_RGBA8_ETC2_EAC}if(v===37808||v===37809||v===37810||v===37811||v===37812||v===37813||v===37814||v===37815||v===37816||v===37817||v===37818||v===37819||v===37820||v===37821||v===37840||v===37841||v===37842||v===37843||v===37844||v===37845||v===37846||v===37847||v===37848||v===37849||v===37850||v===37851||v===37852||v===37853)return b=e.get("WEBGL_compressed_texture_astc"),b!==null?v:null;if(v===36492)return b=e.get("EXT_texture_compression_bptc"),b!==null?v:null;if(v===1020)return a?34042:(b=e.get("WEBGL_depth_texture"),b!==null?b.UNSIGNED_INT_24_8_WEBGL:null)}}}function An(n){Rs.call(this),this.cameras=n||[]}function ch(){an.call(this),this.type="Group"}function bu(){this._grip=this._targetRay=null}function Fy(n,e){function r(Zt){var $r=Ae.get(Zt.inputSource);$r&&$r.dispatchEvent({type:Zt.type})}function a(){Ae.forEach(function(Zt,$r){Zt.disconnect($r)}),Ae.clear(),n.setFramebuffer(null),n.setRenderTarget(n.getRenderTarget()),jr.stop(),M.isPresenting=!1,M.dispatchEvent({type:"sessionend"})}function l(Zt){X=Zt,jr.setContext(R),jr.start(),M.isPresenting=!0,M.dispatchEvent({type:"sessionstart"})}function v(Zt){for(var $r=R.inputSources,nn=0;nn<le.length;nn++)Ae.set($r[nn],le[nn]);for(nn=0;nn<Zt.removed.length;nn++){$r=Zt.removed[nn];var Wt=Ae.get($r);Wt&&(Wt.dispatchEvent({type:"disconnected",data:$r}),Ae.delete($r))}for(nn=0;nn<Zt.added.length;nn++)$r=Zt.added[nn],(Wt=Ae.get($r))&&Wt.dispatchEvent({type:"connected",data:$r})}function b(Zt,$r){$r===null?Zt.matrixWorld.copy(Zt.matrix):Zt.matrixWorld.multiplyMatrices($r.matrixWorld,Zt.matrix),Zt.matrixWorldInverse.getInverse(Zt.matrixWorld)}var M=this,R=null,k=1,X=null,Y="local-floor",ie=null,le=[],Ae=new R0,we=new Rs;we.layers.enable(1),we.viewport=new Dt;var Qe=new Rs;Qe.layers.enable(2),Qe.viewport=new Dt;var yt=[we,Qe],dt=new An;dt.layers.enable(1),dt.layers.enable(2);var vt=null,Lt=null;this.isPresenting=this.enabled=!1,this.getController=function(Zt){var $r=le[Zt];return $r===void 0&&($r=new bu,le[Zt]=$r),$r.getTargetRaySpace()},this.getControllerGrip=function(Zt){var $r=le[Zt];return $r===void 0&&($r=new bu,le[Zt]=$r),$r.getGripSpace()},this.setFramebufferScaleFactor=function(Zt){k=Zt,M.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Zt){Y=Zt,M.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return X},this.getSession=function(){return R},this.setSession=function(Zt){R=Zt,R!==null&&(R.addEventListener("select",r),R.addEventListener("selectstart",r),R.addEventListener("selectend",r),R.addEventListener("squeeze",r),R.addEventListener("squeezestart",r),R.addEventListener("squeezeend",r),R.addEventListener("end",a),Zt=e.getContextAttributes(),Zt.xrCompatible!==!0&&e.makeXRCompatible(),Zt=new XRWebGLLayer(R,e,{antialias:Zt.antialias,alpha:Zt.alpha,depth:Zt.depth,stencil:Zt.stencil,framebufferScaleFactor:k}),R.updateRenderState({baseLayer:Zt}),R.requestReferenceSpace(Y).then(l),R.addEventListener("inputsourceschange",v))};var kt=new Pe,Ut=new Pe;this.getCamera=function(Zt){dt.near=Qe.near=we.near=Zt.near,dt.far=Qe.far=we.far=Zt.far,(vt!==dt.near||Lt!==dt.far)&&(R.updateRenderState({depthNear:dt.near,depthFar:dt.far}),vt=dt.near,Lt=dt.far);var $r=Zt.parent,nn=dt.cameras;b(dt,$r);for(var Wt=0;Wt<nn.length;Wt++)b(nn[Wt],$r);for(Zt.matrixWorld.copy(dt.matrixWorld),Zt=Zt.children,Wt=0,$r=Zt.length;Wt<$r;Wt++)Zt[Wt].updateMatrixWorld(!0);if(nn.length===2){kt.setFromMatrixPosition(we.matrixWorld),Ut.setFromMatrixPosition(Qe.matrixWorld),nn=kt.distanceTo(Ut);var si=we.projectionMatrix.elements,gr=Qe.projectionMatrix.elements,bi=si[14]/(si[10]-1);Wt=si[14]/(si[10]+1),Zt=(si[9]+1)/si[5],$r=(si[9]-1)/si[5];var ki=(si[8]-1)/si[0],Pi=(gr[8]+1)/gr[0];gr=bi*ki,si=bi*Pi,Pi=nn/(-ki+Pi),ki=Pi*-ki,we.matrixWorld.decompose(dt.position,dt.quaternion,dt.scale),dt.translateX(ki),dt.translateZ(Pi),dt.matrixWorld.compose(dt.position,dt.quaternion,dt.scale),dt.matrixWorldInverse.getInverse(dt.matrixWorld),bi+=Pi,Pi=Wt+Pi,dt.projectionMatrix.makePerspective(gr-ki,si+(nn-ki),Zt*Wt/Pi*bi,$r*Wt/Pi*bi,bi,Pi)}else dt.projectionMatrix.copy(we.projectionMatrix);return dt};var at=null,jr=new Wr;jr.setAnimationLoop(function(Zt,$r){if(ie=$r.getViewerPose(X),ie!==null){var nn=ie.views,Wt=R.renderState.baseLayer;n.setFramebuffer(Wt.framebuffer);var si=!1;nn.length!==dt.cameras.length&&(dt.cameras.length=0,si=!0);for(var gr=0;gr<nn.length;gr++){var bi=nn[gr],ki=Wt.getViewport(bi),Pi=yt[gr];Pi.matrix.fromArray(bi.transform.matrix),Pi.projectionMatrix.fromArray(bi.projectionMatrix),Pi.viewport.set(ki.x,ki.y,ki.width,ki.height),gr===0&&dt.matrix.copy(Pi.matrix),si===!0&&dt.cameras.push(Pi)}}for(nn=R.inputSources,gr=0;gr<le.length;gr++)le[gr].update(nn[gr],$r,X);at&&at(Zt,$r)}),this.setAnimationLoop=function(Zt){at=Zt},this.dispose=function(){}}function Gs(n){function e(a,l,v){if(a.opacity.value=l.opacity,l.color&&a.diffuse.value.copy(l.color),l.emissive&&a.emissive.value.copy(l.emissive).multiplyScalar(l.emissiveIntensity),l.map&&(a.map.value=l.map),l.alphaMap&&(a.alphaMap.value=l.alphaMap),l.specularMap&&(a.specularMap.value=l.specularMap),(v=l.envMap||v)&&(a.envMap.value=v,a.flipEnvMap.value=v.isCubeTexture?-1:1,a.reflectivity.value=l.reflectivity,a.refractionRatio.value=l.refractionRatio,a.maxMipLevel.value=n.get(v).__maxMipLevel),l.lightMap&&(a.lightMap.value=l.lightMap,a.lightMapIntensity.value=l.lightMapIntensity),l.aoMap&&(a.aoMap.value=l.aoMap,a.aoMapIntensity.value=l.aoMapIntensity),l.map)var b=l.map;else l.specularMap?b=l.specularMap:l.displacementMap?b=l.displacementMap:l.normalMap?b=l.normalMap:l.bumpMap?b=l.bumpMap:l.roughnessMap?b=l.roughnessMap:l.metalnessMap?b=l.metalnessMap:l.alphaMap?b=l.alphaMap:l.emissiveMap&&(b=l.emissiveMap);if(b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),a.uvTransform.value.copy(b.matrix)),l.aoMap)var M=l.aoMap;else l.lightMap&&(M=l.lightMap);M!==void 0&&(M.isWebGLRenderTarget&&(M=M.texture),M.matrixAutoUpdate===!0&&M.updateMatrix(),a.uv2Transform.value.copy(M.matrix))}function r(a,l,v){a.roughness.value=l.roughness,a.metalness.value=l.metalness,l.roughnessMap&&(a.roughnessMap.value=l.roughnessMap),l.metalnessMap&&(a.metalnessMap.value=l.metalnessMap),l.emissiveMap&&(a.emissiveMap.value=l.emissiveMap),l.bumpMap&&(a.bumpMap.value=l.bumpMap,a.bumpScale.value=l.bumpScale,l.side===1&&(a.bumpScale.value*=-1)),l.normalMap&&(a.normalMap.value=l.normalMap,a.normalScale.value.copy(l.normalScale),l.side===1&&a.normalScale.value.negate()),l.displacementMap&&(a.displacementMap.value=l.displacementMap,a.displacementScale.value=l.displacementScale,a.displacementBias.value=l.displacementBias),(l.envMap||v)&&(a.envMapIntensity.value=l.envMapIntensity)}return{refreshFogUniforms:function(l,v){l.fogColor.value.copy(v.color),v.isFog?(l.fogNear.value=v.near,l.fogFar.value=v.far):v.isFogExp2&&(l.fogDensity.value=v.density)},refreshMaterialUniforms:function(l,v,b,M,R){if(v.isMeshBasicMaterial)e(l,v);else if(v.isMeshLambertMaterial)e(l,v),v.emissiveMap&&(l.emissiveMap.value=v.emissiveMap);else if(v.isMeshToonMaterial)e(l,v),l.specular.value.copy(v.specular),l.shininess.value=Math.max(v.shininess,1e-4),v.gradientMap&&(l.gradientMap.value=v.gradientMap),v.emissiveMap&&(l.emissiveMap.value=v.emissiveMap),v.bumpMap&&(l.bumpMap.value=v.bumpMap,l.bumpScale.value=v.bumpScale,v.side===1&&(l.bumpScale.value*=-1)),v.normalMap&&(l.normalMap.value=v.normalMap,l.normalScale.value.copy(v.normalScale),v.side===1&&l.normalScale.value.negate()),v.displacementMap&&(l.displacementMap.value=v.displacementMap,l.displacementScale.value=v.displacementScale,l.displacementBias.value=v.displacementBias);else if(v.isMeshPhongMaterial)e(l,v),l.specular.value.copy(v.specular),l.shininess.value=Math.max(v.shininess,1e-4),v.emissiveMap&&(l.emissiveMap.value=v.emissiveMap),v.bumpMap&&(l.bumpMap.value=v.bumpMap,l.bumpScale.value=v.bumpScale,v.side===1&&(l.bumpScale.value*=-1)),v.normalMap&&(l.normalMap.value=v.normalMap,l.normalScale.value.copy(v.normalScale),v.side===1&&l.normalScale.value.negate()),v.displacementMap&&(l.displacementMap.value=v.displacementMap,l.displacementScale.value=v.displacementScale,l.displacementBias.value=v.displacementBias);else if(v.isMeshStandardMaterial)e(l,v,b),v.isMeshPhysicalMaterial?(r(l,v,b),l.reflectivity.value=v.reflectivity,l.clearcoat.value=v.clearcoat,l.clearcoatRoughness.value=v.clearcoatRoughness,v.sheen&&l.sheen.value.copy(v.sheen),v.clearcoatMap&&(l.clearcoatMap.value=v.clearcoatMap),v.clearcoatRoughnessMap&&(l.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap),v.clearcoatNormalMap&&(l.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),l.clearcoatNormalMap.value=v.clearcoatNormalMap,v.side===1&&l.clearcoatNormalScale.value.negate()),l.transparency.value=v.transparency):r(l,v,b);else if(v.isMeshMatcapMaterial)e(l,v),v.matcap&&(l.matcap.value=v.matcap),v.bumpMap&&(l.bumpMap.value=v.bumpMap,l.bumpScale.value=v.bumpScale,v.side===1&&(l.bumpScale.value*=-1)),v.normalMap&&(l.normalMap.value=v.normalMap,l.normalScale.value.copy(v.normalScale),v.side===1&&l.normalScale.value.negate()),v.displacementMap&&(l.displacementMap.value=v.displacementMap,l.displacementScale.value=v.displacementScale,l.displacementBias.value=v.displacementBias);else if(v.isMeshDepthMaterial)e(l,v),v.displacementMap&&(l.displacementMap.value=v.displacementMap,l.displacementScale.value=v.displacementScale,l.displacementBias.value=v.displacementBias);else if(v.isMeshDistanceMaterial)e(l,v),v.displacementMap&&(l.displacementMap.value=v.displacementMap,l.displacementScale.value=v.displacementScale,l.displacementBias.value=v.displacementBias),l.referencePosition.value.copy(v.referencePosition),l.nearDistance.value=v.nearDistance,l.farDistance.value=v.farDistance;else if(v.isMeshNormalMaterial)e(l,v),v.bumpMap&&(l.bumpMap.value=v.bumpMap,l.bumpScale.value=v.bumpScale,v.side===1&&(l.bumpScale.value*=-1)),v.normalMap&&(l.normalMap.value=v.normalMap,l.normalScale.value.copy(v.normalScale),v.side===1&&l.normalScale.value.negate()),v.displacementMap&&(l.displacementMap.value=v.displacementMap,l.displacementScale.value=v.displacementScale,l.displacementBias.value=v.displacementBias);else if(v.isLineBasicMaterial)l.diffuse.value.copy(v.color),l.opacity.value=v.opacity,v.isLineDashedMaterial&&(l.dashSize.value=v.dashSize,l.totalSize.value=v.dashSize+v.gapSize,l.scale.value=v.scale);else if(v.isPointsMaterial){if(l.diffuse.value.copy(v.color),l.opacity.value=v.opacity,l.size.value=v.size*M,l.scale.value=.5*R,v.map&&(l.map.value=v.map),v.alphaMap&&(l.alphaMap.value=v.alphaMap),v.map)var k=v.map;else v.alphaMap&&(k=v.alphaMap);k!==void 0&&(k.matrixAutoUpdate===!0&&k.updateMatrix(),l.uvTransform.value.copy(k.matrix))}else if(v.isSpriteMaterial){if(l.diffuse.value.copy(v.color),l.opacity.value=v.opacity,l.rotation.value=v.rotation,v.map&&(l.map.value=v.map),v.alphaMap&&(l.alphaMap.value=v.alphaMap),v.map)var X=v.map;else v.alphaMap&&(X=v.alphaMap);X!==void 0&&(X.matrixAutoUpdate===!0&&X.updateMatrix(),l.uvTransform.value.copy(X.matrix))}else v.isShadowMaterial?(l.color.value.copy(v.color),l.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}}}function Yl(n){var e;function r(){Hi=new q1(xr),mi=new lg(xr,Hi,n),mi.isWebGL2===!1&&(Hi.get("WEBGL_depth_texture"),Hi.get("OES_texture_float"),Hi.get("OES_texture_half_float"),Hi.get("OES_texture_half_float_linear"),Hi.get("OES_standard_derivatives"),Hi.get("OES_element_index_uint"),Hi.get("ANGLE_instanced_arrays")),Hi.get("OES_texture_float_linear"),mc=new uh(xr,Hi,mi),fi=new $h(xr,Hi,mi),fi.scissor(tn.copy(Vt).multiplyScalar(Et).floor()),fi.viewport(rs.copy(Nn).multiplyScalar(Et).floor()),Ua=new Oy(xr),us=new dg,Nf=new lh(xr,Hi,fi,us,mi,mc,Ua),ey=new sg(xr,mi),FA=new JC(xr,ey,Ua),ty=new tl(xr,FA,ey,Ua),G2=new $1(xr),Vm=new kd(Zt,Hi,mi),nC=new Gs(us),Gm=new Il,xv=new Qh,Ff=new kv(Zt,fi,ty,vt),BA=new Hv(xr,Hi,Ua,mi),Id=new zd(xr,Hi,Ua,mi),Ua.programs=Vm.programs,Zt.capabilities=mi,Zt.extensions=Hi,Zt.properties=us,Zt.renderLists=Gm,Zt.state=fi,Zt.info=Ua}function a(rt){rt.preventDefault(),$r=!0}function l(){$r=!1,r()}function v(rt){rt=rt.target,rt.removeEventListener("dispose",v),b(rt),us.remove(rt)}function b(rt){var _r=us.get(rt).program;rt.program=void 0,_r!==void 0&&Vm.releaseProgram(_r)}function M(rt,_r){rt.render(function(jt){Zt.renderBufferImmediate(jt,_r)})}function R(rt,_r,jt,Nr){if(rt.visible!==!1){if(rt.layers.test(_r.layers)){if(rt.isGroup)jt=rt.renderOrder;else if(rt.isLOD)rt.autoUpdate===!0&&rt.update(_r);else if(rt.isLight)jr.pushLight(rt),rt.castShadow&&jr.pushShadow(rt);else if(rt.isSprite){if(!rt.frustumCulled||bn.intersectsSprite(rt)){Nr&&mo.setFromMatrixPosition(rt.matrixWorld).applyMatrix4(Si);var Mn=ty.update(rt),Ro=rt.material;Ro.visible&&at.push(rt,Mn,Ro,jt,mo.z,null)}}else if(rt.isImmediateRenderObject)Nr&&mo.setFromMatrixPosition(rt.matrixWorld).applyMatrix4(Si),at.push(rt,null,rt.material,jt,mo.z,null);else if((rt.isMesh||rt.isLine||rt.isPoints)&&(rt.isSkinnedMesh&&rt.skeleton.frame!==Ua.render.frame&&(rt.skeleton.update(),rt.skeleton.frame=Ua.render.frame),!rt.frustumCulled||bn.intersectsObject(rt)))if(Nr&&mo.setFromMatrixPosition(rt.matrixWorld).applyMatrix4(Si),Mn=ty.update(rt),Ro=rt.material,Array.isArray(Ro))for(var qn=Mn.groups,Yi=0,Io=qn.length;Yi<Io;Yi++){var va=qn[Yi],Qo=Ro[va.materialIndex];Qo&&Qo.visible&&at.push(rt,Mn,Qo,jt,mo.z,va)}else Ro.visible&&at.push(rt,Mn,Ro,jt,mo.z,null)}for(rt=rt.children,Yi=0,Io=rt.length;Yi<Io;Yi++)R(rt[Yi],_r,jt,Nr)}}function k(rt,_r,jt,Nr){for(var Mn=0,Ro=rt.length;Mn<Ro;Mn++){var qn=rt[Mn],Yi=qn.object,Io=qn.geometry,va=Nr===void 0?qn.material:Nr;if(qn=qn.group,jt.isArrayCamera){Ho=jt;for(var Qo=jt.cameras,Pd=0,cs=Qo.length;Pd<cs;Pd++){var ul=Qo[Pd];Yi.layers.test(ul.layers)&&(fi.viewport(rs.copy(ul.viewport)),jr.setupLights(ul),X(Yi,_r,ul,Io,va,qn))}}else Ho=null,X(Yi,_r,jt,Io,va,qn)}}function X(rt,_r,jt,Nr,Mn,Ro){if(rt.onBeforeRender(Zt,_r,jt,Nr,Mn,Ro),jr=xv.get(_r,Ho||jt),rt.modelViewMatrix.multiplyMatrices(jt.matrixWorldInverse,rt.matrixWorld),rt.normalMatrix.getNormalMatrix(rt.modelViewMatrix),rt.isImmediateRenderObject){var qn=ie(jt,_r,Mn,rt);fi.setMaterial(Mn),Pi=e=null,ga=!1,M(rt,qn)}else Zt.renderBufferDirect(jt,_r,Nr,Mn,rt,Ro);rt.onAfterRender(Zt,_r,jt,Nr,Mn,Ro),jr=xv.get(_r,Ho||jt)}function Y(rt,_r,jt){var Nr=us.get(rt),Mn=jr.state.lights,Ro=Mn.state.version;jt=Vm.getParameters(rt,Mn.state,jr.state.shadowsArray,_r,Hr.numPlanes,Hr.numIntersection,jt);var qn=Vm.getProgramCacheKey(jt),Yi=Nr.program,Io=!0;if(Yi===void 0)rt.addEventListener("dispose",v);else if(Yi.cacheKey!==qn)b(rt);else{if(Nr.lightsStateVersion!==Ro)Nr.lightsStateVersion=Ro;else if(jt.shaderID!==void 0)return;Io=!1}if(Io&&(Yi=Vm.acquireProgram(jt,qn),Nr.program=Yi,Nr.uniforms=jt.uniforms,Nr.outputEncoding=jt.outputEncoding,rt.program=Yi),jt=Yi.getAttributes(),rt.morphTargets)for(qn=rt.numSupportedMorphTargets=0;qn<Zt.maxMorphTargets;qn++)0<=jt["morphTarget"+qn]&&rt.numSupportedMorphTargets++;if(rt.morphNormals)for(qn=rt.numSupportedMorphNormals=0;qn<Zt.maxMorphNormals;qn++)0<=jt["morphNormal"+qn]&&rt.numSupportedMorphNormals++;jt=Nr.uniforms,(!rt.isShaderMaterial&&!rt.isRawShaderMaterial||rt.clipping===!0)&&(Nr.numClippingPlanes=Hr.numPlanes,Nr.numIntersection=Hr.numIntersection,jt.clippingPlanes=Hr.uniform),Nr.environment=rt.isMeshStandardMaterial?_r.environment:null,Nr.fog=_r.fog,Nr.needsLights=rt.isMeshLambertMaterial||rt.isMeshToonMaterial||rt.isMeshPhongMaterial||rt.isMeshStandardMaterial||rt.isShadowMaterial||rt.isShaderMaterial&&rt.lights===!0,Nr.lightsStateVersion=Ro,Nr.needsLights&&(jt.ambientLightColor.value=Mn.state.ambient,jt.lightProbe.value=Mn.state.probe,jt.directionalLights.value=Mn.state.directional,jt.directionalLightShadows.value=Mn.state.directionalShadow,jt.spotLights.value=Mn.state.spot,jt.spotLightShadows.value=Mn.state.spotShadow,jt.rectAreaLights.value=Mn.state.rectArea,jt.pointLights.value=Mn.state.point,jt.pointLightShadows.value=Mn.state.pointShadow,jt.hemisphereLights.value=Mn.state.hemi,jt.directionalShadowMap.value=Mn.state.directionalShadowMap,jt.directionalShadowMatrix.value=Mn.state.directionalShadowMatrix,jt.spotShadowMap.value=Mn.state.spotShadowMap,jt.spotShadowMatrix.value=Mn.state.spotShadowMatrix,jt.pointShadowMap.value=Mn.state.pointShadowMap,jt.pointShadowMatrix.value=Mn.state.pointShadowMatrix),rt=Nr.program.getUniforms(),rt=Ss.seqWithValue(rt.seq,jt),Nr.uniformsList=rt}function ie(rt,_r,jt,Nr){Nf.resetTextureUnits();var Mn=_r.fog,Ro=jt.isMeshStandardMaterial?_r.environment:null,qn=gr===null?Zt.outputEncoding:gr.texture.encoding,Yi=us.get(jt),Io=jr.state.lights;sn&&(mr||rt!==Oi)&&Hr.setState(jt.clippingPlanes,jt.clipIntersection,jt.clipShadows,rt,Yi,rt===Oi&&jt.id===ki),jt.version===Yi.__version?Yi.program===void 0||jt.fog&&Yi.fog!==Mn||Yi.environment!==Ro||Yi.needsLights&&Yi.lightsStateVersion!==Io.state.version?Y(jt,_r,Nr):Yi.numClippingPlanes===void 0||Yi.numClippingPlanes===Hr.numPlanes&&Yi.numIntersection===Hr.numIntersection?Yi.outputEncoding!==qn&&Y(jt,_r,Nr):Y(jt,_r,Nr):(Y(jt,_r,Nr),Yi.__version=jt.version);var va=!1,Qo=!1,Pd=!1;if(_r=Yi.program,qn=_r.getUniforms(),Io=Yi.uniforms,fi.useProgram(_r.program)&&(Pd=Qo=va=!0),jt.id!==ki&&(ki=jt.id,Qo=!0),(va||Oi!==rt)&&(qn.setValue(xr,"projectionMatrix",rt.projectionMatrix),mi.logarithmicDepthBuffer&&qn.setValue(xr,"logDepthBufFC",2/(Math.log(rt.far+1)/Math.LN2)),Oi!==rt&&(Oi=rt,Pd=Qo=!0),(jt.isShaderMaterial||jt.isMeshPhongMaterial||jt.isMeshToonMaterial||jt.isMeshStandardMaterial||jt.envMap)&&(va=qn.map.cameraPosition,va!==void 0&&va.setValue(xr,mo.setFromMatrixPosition(rt.matrixWorld))),(jt.isMeshPhongMaterial||jt.isMeshToonMaterial||jt.isMeshLambertMaterial||jt.isMeshBasicMaterial||jt.isMeshStandardMaterial||jt.isShaderMaterial)&&qn.setValue(xr,"isOrthographic",rt.isOrthographicCamera===!0),(jt.isMeshPhongMaterial||jt.isMeshToonMaterial||jt.isMeshLambertMaterial||jt.isMeshBasicMaterial||jt.isMeshStandardMaterial||jt.isShaderMaterial||jt.skinning)&&qn.setValue(xr,"viewMatrix",rt.matrixWorldInverse)),jt.skinning&&(qn.setOptional(xr,Nr,"bindMatrix"),qn.setOptional(xr,Nr,"bindMatrixInverse"),rt=Nr.skeleton))if(va=rt.bones,mi.floatVertexTextures){if(rt.boneTexture===void 0){va=Math.sqrt(4*va.length),va=U.ceilPowerOfTwo(va),va=Math.max(va,4);var cs=new Float32Array(va*va*4);cs.set(rt.boneMatrices);var ul=new ah(cs,va,va,1023,1015);rt.boneMatrices=cs,rt.boneTexture=ul,rt.boneTextureSize=va}qn.setValue(xr,"boneTexture",rt.boneTexture,Nf),qn.setValue(xr,"boneTextureSize",rt.boneTextureSize)}else qn.setOptional(xr,rt,"boneMatrices");return(Qo||Yi.receiveShadow!==Nr.receiveShadow)&&(Yi.receiveShadow=Nr.receiveShadow,qn.setValue(xr,"receiveShadow",Nr.receiveShadow)),Qo&&(qn.setValue(xr,"toneMappingExposure",Zt.toneMappingExposure),qn.setValue(xr,"toneMappingWhitePoint",Zt.toneMappingWhitePoint),Yi.needsLights&&(Qo=Pd,Io.ambientLightColor.needsUpdate=Qo,Io.lightProbe.needsUpdate=Qo,Io.directionalLights.needsUpdate=Qo,Io.directionalLightShadows.needsUpdate=Qo,Io.pointLights.needsUpdate=Qo,Io.pointLightShadows.needsUpdate=Qo,Io.spotLights.needsUpdate=Qo,Io.spotLightShadows.needsUpdate=Qo,Io.rectAreaLights.needsUpdate=Qo,Io.hemisphereLights.needsUpdate=Qo),Mn&&jt.fog&&nC.refreshFogUniforms(Io,Mn),nC.refreshMaterialUniforms(Io,jt,Ro,Et,xt),Io.ltc_1!==void 0&&(Io.ltc_1.value=Xn.LTC_1),Io.ltc_2!==void 0&&(Io.ltc_2.value=Xn.LTC_2),Ss.upload(xr,Yi.uniformsList,Io,Nf)),jt.isShaderMaterial&&jt.uniformsNeedUpdate===!0&&(Ss.upload(xr,Yi.uniformsList,Io,Nf),jt.uniformsNeedUpdate=!1),jt.isSpriteMaterial&&qn.setValue(xr,"center",Nr.center),qn.setValue(xr,"modelViewMatrix",Nr.modelViewMatrix),qn.setValue(xr,"normalMatrix",Nr.normalMatrix),qn.setValue(xr,"modelMatrix",Nr.matrixWorld),_r}n=n||{};var le=n.canvas!==void 0?n.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),Ae=n.context!==void 0?n.context:null,we=n.alpha!==void 0?n.alpha:!1,Qe=n.depth!==void 0?n.depth:!0,yt=n.stencil!==void 0?n.stencil:!0,dt=n.antialias!==void 0?n.antialias:!1,vt=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,Lt=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,kt=n.powerPreference!==void 0?n.powerPreference:"default",Ut=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1,at=null,jr=null;this.domElement=le,this.debug={checkShaderErrors:!0},this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=3e3,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingWhitePoint=this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var Zt=this,$r=!1,nn=null,Wt=0,si=0,gr=null,bi=null,ki=-1,Pi=e=null,ga=!1,Oi=null,Ho=null,rs=new Dt,tn=new Dt,qo=null,$e=le.width,xt=le.height,Et=1,Kt=null,pn=null,Nn=new Dt(0,0,$e,xt),Vt=new Dt(0,0,$e,xt),Qt=!1,bn=new pl,Hr=new Yh,sn=!1,mr=!1,Si=new ir,mo=new Pe;try{we={alpha:we,depth:Qe,stencil:yt,antialias:dt,premultipliedAlpha:vt,preserveDrawingBuffer:Lt,powerPreference:kt,failIfMajorPerformanceCaveat:Ut},le.addEventListener("webglcontextlost",a,!1),le.addEventListener("webglcontextrestored",l,!1);var xr=Ae||le.getContext("webgl",we)||le.getContext("experimental-webgl",we);if(xr===null)throw le.getContext("webgl")!==null?Error("Error creating WebGL context with your selected attributes."):Error("Error creating WebGL context.");xr.getShaderPrecisionFormat===void 0&&(xr.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(rt){throw console.error("THREE.WebGLRenderer: "+rt.message),rt}var Hi,mi,fi,Ua,us,Nf,ey,FA,ty,Vm,nC,Gm,xv,Ff,G2,BA,Id,mc;r();var gc=new Fy(Zt,xr);this.xr=gc;var Cv=new au(Zt,ty,mi.maxTextureSize);this.shadowMap=Cv,this.getContext=function(){return xr},this.getContextAttributes=function(){return xr.getContextAttributes()},this.forceContextLoss=function(){var rt=Hi.get("WEBGL_lose_context");rt&&rt.loseContext()},this.forceContextRestore=function(){var rt=Hi.get("WEBGL_lose_context");rt&&rt.restoreContext()},this.getPixelRatio=function(){return Et},this.setPixelRatio=function(rt){rt!==void 0&&(Et=rt,this.setSize($e,xt,!1))},this.getSize=function(rt){return rt===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),rt=new Tt),rt.set($e,xt)},this.setSize=function(rt,_r,jt){gc.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):($e=rt,xt=_r,le.width=Math.floor(rt*Et),le.height=Math.floor(_r*Et),jt!==!1&&(le.style.width=rt+"px",le.style.height=_r+"px"),this.setViewport(0,0,rt,_r))},this.getDrawingBufferSize=function(rt){return rt===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),rt=new Tt),rt.set($e*Et,xt*Et).floor()},this.setDrawingBufferSize=function(rt,_r,jt){$e=rt,xt=_r,Et=jt,le.width=Math.floor(rt*jt),le.height=Math.floor(_r*jt),this.setViewport(0,0,rt,_r)},this.getCurrentViewport=function(rt){return rt===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),rt=new Dt),rt.copy(rs)},this.getViewport=function(rt){return rt.copy(Nn)},this.setViewport=function(rt,_r,jt,Nr){rt.isVector4?Nn.set(rt.x,rt.y,rt.z,rt.w):Nn.set(rt,_r,jt,Nr),fi.viewport(rs.copy(Nn).multiplyScalar(Et).floor())},this.getScissor=function(rt){return rt.copy(Vt)},this.setScissor=function(rt,_r,jt,Nr){rt.isVector4?Vt.set(rt.x,rt.y,rt.z,rt.w):Vt.set(rt,_r,jt,Nr),fi.scissor(tn.copy(Vt).multiplyScalar(Et).floor())},this.getScissorTest=function(){return Qt},this.setScissorTest=function(rt){fi.setScissorTest(Qt=rt)},this.setOpaqueSort=function(rt){Kt=rt},this.setTransparentSort=function(rt){pn=rt},this.getClearColor=function(){return Ff.getClearColor()},this.setClearColor=function(){Ff.setClearColor.apply(Ff,arguments)},this.getClearAlpha=function(){return Ff.getClearAlpha()},this.setClearAlpha=function(){Ff.setClearAlpha.apply(Ff,arguments)},this.clear=function(rt,_r,jt){var Nr=0;(rt===void 0||rt)&&(Nr|=16384),(_r===void 0||_r)&&(Nr|=256),(jt===void 0||jt)&&(Nr|=1024),xr.clear(Nr)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){le.removeEventListener("webglcontextlost",a,!1),le.removeEventListener("webglcontextrestored",l,!1),Gm.dispose(),xv.dispose(),us.dispose(),ty.dispose(),gc.dispose(),T1.stop()},this.renderBufferImmediate=function(rt,_r){fi.initAttributes();var jt=us.get(rt);rt.hasPositions&&!jt.position&&(jt.position=xr.createBuffer()),rt.hasNormals&&!jt.normal&&(jt.normal=xr.createBuffer()),rt.hasUvs&&!jt.uv&&(jt.uv=xr.createBuffer()),rt.hasColors&&!jt.color&&(jt.color=xr.createBuffer()),_r=_r.getAttributes(),rt.hasPositions&&(xr.bindBuffer(34962,jt.position),xr.bufferData(34962,rt.positionArray,35048),fi.enableAttribute(_r.position),xr.vertexAttribPointer(_r.position,3,5126,!1,0,0)),rt.hasNormals&&(xr.bindBuffer(34962,jt.normal),xr.bufferData(34962,rt.normalArray,35048),fi.enableAttribute(_r.normal),xr.vertexAttribPointer(_r.normal,3,5126,!1,0,0)),rt.hasUvs&&(xr.bindBuffer(34962,jt.uv),xr.bufferData(34962,rt.uvArray,35048),fi.enableAttribute(_r.uv),xr.vertexAttribPointer(_r.uv,2,5126,!1,0,0)),rt.hasColors&&(xr.bindBuffer(34962,jt.color),xr.bufferData(34962,rt.colorArray,35048),fi.enableAttribute(_r.color),xr.vertexAttribPointer(_r.color,3,5126,!1,0,0)),fi.disableUnusedAttributes(),xr.drawArrays(4,0,rt.count),rt.count=0};var jh=new Ai;this.renderBufferDirect=function(rt,_r,jt,Nr,Mn,Ro){_r===null&&(_r=jh);var qn=Mn.isMesh&&0>Mn.matrixWorld.determinant(),Yi=ie(rt,_r,Nr,Mn);fi.setMaterial(Nr,qn);var Io=!1;if((e!==jt.id||Pi!==Yi.id||ga!==(Nr.wireframe===!0))&&(e=jt.id,Pi=Yi.id,ga=Nr.wireframe===!0,Io=!0),(Nr.morphTargets||Nr.morphNormals)&&(G2.update(Mn,jt,Nr,Yi),Io=!0),Mn.isInstancedMesh===!0&&(Io=!0),rt=jt.index,_r=jt.attributes.position,rt===null){if(_r===void 0||_r.count===0)return}else if(rt.count===0)return;var va=1;if(Nr.wireframe===!0&&(rt=FA.getWireframeAttribute(jt),va=2),qn=BA,rt!==null){var Qo=ey.get(rt);qn=Id,qn.setIndex(Qo)}if(Io){if(mi.isWebGL2!==!1||!Mn.isInstancedMesh&&!jt.isInstancedBufferGeometry||Hi.get("ANGLE_instanced_arrays")!==null){fi.initAttributes(),Io=jt.attributes,Yi=Yi.getAttributes();var Pd=Nr.defaultAttributeValues;for(Av in Yi){var cs=Yi[Av];if(0<=cs){var ul=Io[Av];if(ul!==void 0){var Ip=ul.normalized,W2=ul.itemSize,Qc=ey.get(ul);if(Qc!==void 0){var I1=Qc.buffer,Wm=Qc.type;if(Qc=Qc.bytesPerElement,ul.isInterleavedBufferAttribute){var ry=ul.data,tb=ry.stride;ul=ul.offset,ry&&ry.isInstancedInterleavedBuffer?(fi.enableAttributeAndDivisor(cs,ry.meshPerAttribute),jt._maxInstanceCount===void 0&&(jt._maxInstanceCount=ry.meshPerAttribute*ry.count)):fi.enableAttribute(cs),xr.bindBuffer(34962,I1),fi.vertexAttribPointer(cs,W2,Wm,Ip,tb*Qc,ul*Qc)}else ul.isInstancedBufferAttribute?(fi.enableAttributeAndDivisor(cs,ul.meshPerAttribute),jt._maxInstanceCount===void 0&&(jt._maxInstanceCount=ul.meshPerAttribute*ul.count)):fi.enableAttribute(cs),xr.bindBuffer(34962,I1),fi.vertexAttribPointer(cs,W2,Wm,Ip,0,0)}}else if(Av==="instanceMatrix")Qc=ey.get(Mn.instanceMatrix),Qc!==void 0&&(I1=Qc.buffer,Wm=Qc.type,fi.enableAttributeAndDivisor(cs+0,1),fi.enableAttributeAndDivisor(cs+1,1),fi.enableAttributeAndDivisor(cs+2,1),fi.enableAttributeAndDivisor(cs+3,1),xr.bindBuffer(34962,I1),xr.vertexAttribPointer(cs+0,4,Wm,!1,64,0),xr.vertexAttribPointer(cs+1,4,Wm,!1,64,16),xr.vertexAttribPointer(cs+2,4,Wm,!1,64,32),xr.vertexAttribPointer(cs+3,4,Wm,!1,64,48));else if(Pd!==void 0&&(Ip=Pd[Av],Ip!==void 0))switch(Ip.length){case 2:xr.vertexAttrib2fv(cs,Ip);break;case 3:xr.vertexAttrib3fv(cs,Ip);break;case 4:xr.vertexAttrib4fv(cs,Ip);break;default:xr.vertexAttrib1fv(cs,Ip)}}}fi.disableUnusedAttributes()}rt!==null&&xr.bindBuffer(34963,Qo.buffer)}var Av=jt.drawRange.start*va;Io=Ro!==null?Ro.start*va:0,Qo=Math.max(Av,Io),Ro=Math.max(0,Math.min(rt!==null?rt.count:_r.count,Av+jt.drawRange.count*va,Io+(Ro!==null?Ro.count*va:Infinity))-1-Qo+1),Ro!==0&&(Mn.isMesh?Nr.wireframe===!0?(fi.setLineWidth(Nr.wireframeLinewidth*(gr===null?Et:1)),qn.setMode(1)):qn.setMode(4):Mn.isLine?(Nr=Nr.linewidth,Nr===void 0&&(Nr=1),fi.setLineWidth(Nr*(gr===null?Et:1)),Mn.isLineSegments?qn.setMode(1):Mn.isLineLoop?qn.setMode(2):qn.setMode(3)):Mn.isPoints?qn.setMode(0):Mn.isSprite&&qn.setMode(4),Mn.isInstancedMesh?qn.renderInstances(jt,Qo,Ro,Mn.count):jt.isInstancedBufferGeometry?qn.renderInstances(jt,Qo,Ro,Math.min(jt.instanceCount,jt._maxInstanceCount)):qn.render(Qo,Ro))},this.compile=function(rt,_r){jr=xv.get(rt,_r),jr.init(),rt.traverse(function(Nr){Nr.isLight&&(jr.pushLight(Nr),Nr.castShadow&&jr.pushShadow(Nr))}),jr.setupLights(_r);var jt={};rt.traverse(function(Nr){var Mn=Nr.material;if(Mn)if(Array.isArray(Mn))for(var Ro=0;Ro<Mn.length;Ro++){var qn=Mn[Ro];!(qn.uuid in jt)&&(Y(qn,rt,Nr),jt[qn.uuid]=!0)}else!(Mn.uuid in jt)&&(Y(Mn,rt,Nr),jt[Mn.uuid]=!0)})};var Gu=null,T1=new Wr;T1.setAnimationLoop(function(rt){gc.isPresenting||Gu&&Gu(rt)}),typeof window!="undefined"&&T1.setContext(window),this.setAnimationLoop=function(rt){Gu=rt,gc.setAnimationLoop(rt),T1.start()},this.render=function(rt,_r,jt,Nr){if(jt!==void 0){console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.");var Mn=jt}if(Nr!==void 0){console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.");var Ro=Nr}_r&&_r.isCamera?$r||(Pi=e=null,ga=!1,ki=-1,Oi=null,rt.autoUpdate===!0&&rt.updateMatrixWorld(),_r.parent===null&&_r.updateMatrixWorld(),gc.enabled&&gc.isPresenting&&(_r=gc.getCamera(_r)),rt.onBeforeRender(Zt,rt,_r,Mn||gr),jr=xv.get(rt,_r),jr.init(),Si.multiplyMatrices(_r.projectionMatrix,_r.matrixWorldInverse),bn.setFromProjectionMatrix(Si),mr=this.localClippingEnabled,sn=Hr.init(this.clippingPlanes,mr,_r),at=Gm.get(rt,_r),at.init(),R(rt,_r,0,Zt.sortObjects),at.finish(),Zt.sortObjects===!0&&at.sort(Kt,pn),sn&&Hr.beginShadows(),Cv.render(jr.state.shadowsArray,rt,_r),jr.setupLights(_r),sn&&Hr.endShadows(),this.info.autoReset&&this.info.reset(),Mn!==void 0&&this.setRenderTarget(Mn),Ff.render(at,rt,_r,Ro),jt=at.opaque,Nr=at.transparent,rt.overrideMaterial?(Mn=rt.overrideMaterial,jt.length&&k(jt,rt,_r,Mn),Nr.length&&k(Nr,rt,_r,Mn)):(jt.length&&k(jt,rt,_r),Nr.length&&k(Nr,rt,_r)),rt.onAfterRender(Zt,rt,_r),gr!==null&&(Nf.updateRenderTargetMipmap(gr),Nf.updateMultisampleRenderTarget(gr)),fi.buffers.depth.setTest(!0),fi.buffers.depth.setMask(!0),fi.buffers.color.setMask(!0),fi.setPolygonOffset(!1),jr=at=null):console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(rt){nn!==rt&&gr===null&&xr.bindFramebuffer(36160,rt),nn=rt},this.getActiveCubeFace=function(){return Wt},this.getActiveMipmapLevel=function(){return si},this.getRenderTarget=function(){return gr},this.setRenderTarget=function(rt,_r,jt){gr=rt,Wt=_r,si=jt,rt&&us.get(rt).__webglFramebuffer===void 0&&Nf.setupRenderTarget(rt);var Nr=nn,Mn=!1;rt?(Nr=us.get(rt).__webglFramebuffer,rt.isWebGLCubeRenderTarget?(Nr=Nr[_r||0],Mn=!0):Nr=rt.isWebGLMultisampleRenderTarget?us.get(rt).__webglMultisampledFramebuffer:Nr,rs.copy(rt.viewport),tn.copy(rt.scissor),qo=rt.scissorTest):(rs.copy(Nn).multiplyScalar(Et).floor(),tn.copy(Vt).multiplyScalar(Et).floor(),qo=Qt),bi!==Nr&&(xr.bindFramebuffer(36160,Nr),bi=Nr),fi.viewport(rs),fi.scissor(tn),fi.setScissorTest(qo),Mn&&(rt=us.get(rt.texture),xr.framebufferTexture2D(36160,36064,34069+(_r||0),rt.__webglTexture,jt||0))},this.readRenderTargetPixels=function(rt,_r,jt,Nr,Mn,Ro,qn){if(rt&&rt.isWebGLRenderTarget){var Yi=us.get(rt).__webglFramebuffer;if(rt.isWebGLCubeRenderTarget&&qn!==void 0&&(Yi=Yi[qn]),Yi){qn=!1,Yi!==bi&&(xr.bindFramebuffer(36160,Yi),qn=!0);try{var Io=rt.texture,va=Io.format,Qo=Io.type;va!==1023&&mc.convert(va)!==xr.getParameter(35739)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):Qo===1009||mc.convert(Qo)===xr.getParameter(35738)||Qo===1015&&(mi.isWebGL2||Hi.get("OES_texture_float")||Hi.get("WEBGL_color_buffer_float"))||Qo===1016&&(mi.isWebGL2?Hi.get("EXT_color_buffer_float"):Hi.get("EXT_color_buffer_half_float"))?xr.checkFramebufferStatus(36160)===36053?0<=_r&&_r<=rt.width-Nr&&0<=jt&&jt<=rt.height-Mn&&xr.readPixels(_r,jt,Nr,Mn,mc.convert(va),mc.convert(Qo),Ro):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{qn&&xr.bindFramebuffer(36160,bi)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(rt,_r,jt){jt===void 0&&(jt=0);var Nr=Math.pow(2,-jt),Mn=Math.floor(_r.image.width*Nr);Nr=Math.floor(_r.image.height*Nr);var Ro=mc.convert(_r.format);Nf.setTexture2D(_r,0),xr.copyTexImage2D(3553,jt,Ro,rt.x,rt.y,Mn,Nr,0),fi.unbindTexture()},this.copyTextureToTexture=function(rt,_r,jt,Nr){Nr===void 0&&(Nr=0);var Mn=_r.image.width,Ro=_r.image.height,qn=mc.convert(jt.format),Yi=mc.convert(jt.type);Nf.setTexture2D(jt,0),_r.isDataTexture?xr.texSubImage2D(3553,Nr,rt.x,rt.y,Mn,Ro,qn,Yi,_r.image.data):_r.isCompressedTexture?xr.compressedTexSubImage2D(3553,Nr,rt.x,rt.y,_r.mipmaps[0].width,_r.mipmaps[0].height,qn,_r.mipmaps[0].data):xr.texSubImage2D(3553,Nr,rt.x,rt.y,qn,Yi,_r.image),Nr===0&&jt.generateMipmaps&&xr.generateMipmap(3553),fi.unbindTexture()},this.initTexture=function(rt){Nf.setTexture2D(rt,0),fi.unbindTexture()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Vd(n,e){this.name="",this.color=new Sn(n),this.density=e!==void 0?e:25e-5}function ef(n,e,r){this.name="",this.color=new Sn(n),this.near=e!==void 0?e:1,this.far=r!==void 0?r:1e3}function tf(n,e){this.array=n,this.stride=e,this.count=n!==void 0?n.length/e:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}function Zf(n,e,r,a){this.name="",this.data=n,this.itemSize=e,this.offset=r,this.normalized=a===!0}function Ec(n){vn.call(this),this.type="SpriteMaterial",this.color=new Sn(16777215),this.alphaMap=this.map=null,this.rotation=0,this.transparent=this.sizeAttenuation=!0,this.setValues(n)}function _o(n){if(an.call(this),this.type="Sprite",K0===void 0){K0=new Yn;var e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]);e=new tf(e,5),K0.setIndex([0,1,2,0,2,3]),K0.setAttribute("position",new Zf(e,3,0,!1)),K0.setAttribute("uv",new Zf(e,2,3,!1))}this.geometry=K0,this.material=n!==void 0?n:new Ec,this.center=new Tt(.5,.5)}function ml(n,e,r,a,l,v){km.subVectors(n,r).addScalar(.5).multiply(a),l!==void 0?(A1.x=v*km.x-l*km.y,A1.y=l*km.x+v*km.y):A1.copy(km),n.copy(e),n.x+=A1.x,n.y+=A1.y,n.applyMatrix4(T2)}function Yv(){an.call(this),this._currentLevel=0,this.type="LOD",Zi(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function Pl(n,e){n&&n.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),so.call(this,n,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ir,this.bindMatrixInverse=new ir}function By(n,e){if(n=n||[],this.bones=n.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,e===void 0)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else for(console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[],n=0,e=this.bones.length;n<e;n++)this.boneInverses.push(new ir)}function Gd(){an.call(this),this.type="Bone"}function ri(n,e,r){so.call(this,n,e),this.instanceMatrix=new ti(new Float32Array(16*r),16),this.count=r,this.frustumCulled=!1}function Aa(n){vn.call(this),this.type="LineBasicMaterial",this.color=new Sn(16777215),this.linewidth=1,this.linejoin=this.linecap="round",this.morphTargets=!1,this.setValues(n)}function wa(n,e,r){r===1&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),an.call(this),this.type="Line",this.geometry=n!==void 0?n:new Yn,this.material=e!==void 0?e:new Aa,this.updateMorphTargets()}function $i(n,e){wa.call(this,n,e),this.type="LineSegments"}function Ea(n,e){wa.call(this,n,e),this.type="LineLoop"}function rf(n){vn.call(this),this.type="PointsMaterial",this.color=new Sn(16777215),this.alphaMap=this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(n)}function Qn(n,e){an.call(this),this.type="Points",this.geometry=n!==void 0?n:new Yn,this.material=e!==void 0?e:new rf,this.updateMorphTargets()}function Su(n,e,r,a,l,v,b){var M=PA.distanceSqToPoint(n);M<r&&(r=new Pe,PA.closestPointToPoint(n,r),r.applyMatrix4(a),n=l.ray.origin.distanceTo(r),n<l.near||n>l.far||v.push({distance:n,distanceToRay:Math.sqrt(M),point:r,index:e,face:null,object:b}))}function cx(n,e,r,a,l,v,b,M,R){Ar.call(this,n,e,r,a,l,v,b,M,R),this.format=b!==void 0?b:1022,this.minFilter=v!==void 0?v:1006,this.magFilter=l!==void 0?l:1006,this.generateMipmaps=!1}function Zp(n,e,r,a,l,v,b,M,R,k,X,Y){Ar.call(this,null,v,b,M,R,k,a,l,X,Y),this.image={width:e,height:r},this.mipmaps=n,this.generateMipmaps=this.flipY=!1}function Kp(n,e,r,a,l,v,b,M,R){Ar.call(this,n,e,r,a,l,v,b,M,R),this.needsUpdate=!0}function mg(n,e,r,a,l,v,b,M,R,k){if(k=k!==void 0?k:1026,k!==1026&&k!==1027)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&k===1026&&(r=1012),r===void 0&&k===1027&&(r=1020),Ar.call(this,null,a,l,v,b,M,k,r,R),this.image={width:n,height:e},this.magFilter=b!==void 0?b:1003,this.minFilter=M!==void 0?M:1003,this.generateMipmaps=this.flipY=!1}function nf(n){Yn.call(this),this.type="WireframeGeometry";var e=[],r,a,l,v=[0,0],b={},M=["a","b","c"];if(n&&n.isGeometry){var R=n.faces,k=0;for(a=R.length;k<a;k++){var X=R[k];for(r=0;3>r;r++){var Y=X[M[r]],ie=X[M[(r+1)%3]];v[0]=Math.min(Y,ie),v[1]=Math.max(Y,ie),Y=v[0]+","+v[1],b[Y]===void 0&&(b[Y]={index1:v[0],index2:v[1]})}}for(Y in b)k=b[Y],M=n.vertices[k.index1],e.push(M.x,M.y,M.z),M=n.vertices[k.index2],e.push(M.x,M.y,M.z)}else if(n&&n.isBufferGeometry)if(M=new Pe,n.index!==null){R=n.attributes.position,X=n.index;var le=n.groups;for(le.length===0&&(le=[{start:0,count:X.count,materialIndex:0}]),n=0,l=le.length;n<l;++n)for(k=le[n],r=k.start,a=k.count,k=r,a=r+a;k<a;k+=3)for(r=0;3>r;r++)Y=X.getX(k+r),ie=X.getX(k+(r+1)%3),v[0]=Math.min(Y,ie),v[1]=Math.max(Y,ie),Y=v[0]+","+v[1],b[Y]===void 0&&(b[Y]={index1:v[0],index2:v[1]});for(Y in b)k=b[Y],M.fromBufferAttribute(R,k.index1),e.push(M.x,M.y,M.z),M.fromBufferAttribute(R,k.index2),e.push(M.x,M.y,M.z)}else for(R=n.attributes.position,k=0,a=R.count/3;k<a;k++)for(r=0;3>r;r++)b=3*k+r,M.fromBufferAttribute(R,b),e.push(M.x,M.y,M.z),b=3*k+(r+1)%3,M.fromBufferAttribute(R,b),e.push(M.x,M.y,M.z);this.setAttribute("position",new _n(e,3))}function Ju(n,e,r){Gi.call(this),this.type="ParametricGeometry",this.parameters={func:n,slices:e,stacks:r},this.fromBufferGeometry(new qu(n,e,r)),this.mergeVertices()}function qu(n,e,r){Yn.call(this),this.type="ParametricBufferGeometry",this.parameters={func:n,slices:e,stacks:r};var a=[],l=[],v=[],b=[],M=new Pe,R=new Pe,k=new Pe,X=new Pe,Y=new Pe,ie,le;3>n.length&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var Ae=e+1;for(ie=0;ie<=r;ie++){var we=ie/r;for(le=0;le<=e;le++){var Qe=le/e;n(Qe,we,R),l.push(R.x,R.y,R.z),0<=Qe-1e-5?(n(Qe-1e-5,we,k),X.subVectors(R,k)):(n(Qe+1e-5,we,k),X.subVectors(k,R)),0<=we-1e-5?(n(Qe,we-1e-5,k),Y.subVectors(R,k)):(n(Qe,we+1e-5,k),Y.subVectors(k,R)),M.crossVectors(X,Y).normalize(),v.push(M.x,M.y,M.z),b.push(Qe,we)}}for(ie=0;ie<r;ie++)for(le=0;le<e;le++)n=ie*Ae+le+1,M=(ie+1)*Ae+le+1,R=(ie+1)*Ae+le,a.push(ie*Ae+le,n,R),a.push(n,M,R);this.setIndex(a),this.setAttribute("position",new _n(l,3)),this.setAttribute("normal",new _n(v,3)),this.setAttribute("uv",new _n(b,2))}function Ta(n,e,r,a){Gi.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:n,indices:e,radius:r,detail:a},this.fromBufferGeometry(new Ia(n,e,r,a)),this.mergeVertices()}function Ia(n,e,r,a){function l(k){M.push(k.x,k.y,k.z)}function v(k,X){k*=3,X.x=n[k+0],X.y=n[k+1],X.z=n[k+2]}function b(k,X,Y,ie){0>ie&&k.x===1&&(R[X]=k.x-1),Y.x===0&&Y.z===0&&(R[X]=ie/2/Math.PI+.5)}Yn.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:n,indices:e,radius:r,detail:a},r=r||1,a=a||0;var M=[],R=[];(function(k){for(var X=new Pe,Y=new Pe,ie=new Pe,le=0;le<e.length;le+=3){v(e[le+0],X),v(e[le+1],Y),v(e[le+2],ie);var Ae,we,Qe=X,yt=Y,dt=ie,vt=Math.pow(2,k),Lt=[];for(we=0;we<=vt;we++){Lt[we]=[];var kt=Qe.clone().lerp(dt,we/vt),Ut=yt.clone().lerp(dt,we/vt),at=vt-we;for(Ae=0;Ae<=at;Ae++)Lt[we][Ae]=Ae===0&&we===vt?kt:kt.clone().lerp(Ut,Ae/at)}for(we=0;we<vt;we++)for(Ae=0;Ae<2*(vt-we)-1;Ae++)Qe=Math.floor(Ae/2),Ae%2==0?(l(Lt[we][Qe+1]),l(Lt[we+1][Qe]),l(Lt[we][Qe])):(l(Lt[we][Qe+1]),l(Lt[we+1][Qe+1]),l(Lt[we+1][Qe]))}})(a),function(k){for(var X=new Pe,Y=0;Y<M.length;Y+=3)X.x=M[Y+0],X.y=M[Y+1],X.z=M[Y+2],X.normalize().multiplyScalar(k),M[Y+0]=X.x,M[Y+1]=X.y,M[Y+2]=X.z}(r),function(){for(var k=new Pe,X=0;X<M.length;X+=3)k.x=M[X+0],k.y=M[X+1],k.z=M[X+2],R.push(Math.atan2(k.z,-k.x)/2/Math.PI+.5,1-(Math.atan2(-k.y,Math.sqrt(k.x*k.x+k.z*k.z))/Math.PI+.5));k=new Pe,X=new Pe;for(var Y=new Pe,ie=new Pe,le=new Tt,Ae=new Tt,we=new Tt,Qe=0,yt=0;Qe<M.length;Qe+=9,yt+=6){k.set(M[Qe+0],M[Qe+1],M[Qe+2]),X.set(M[Qe+3],M[Qe+4],M[Qe+5]),Y.set(M[Qe+6],M[Qe+7],M[Qe+8]),le.set(R[yt+0],R[yt+1]),Ae.set(R[yt+2],R[yt+3]),we.set(R[yt+4],R[yt+5]),ie.copy(k).add(X).add(Y).divideScalar(3);var dt=Math.atan2(ie.z,-ie.x);b(le,yt+0,k,dt),b(Ae,yt+2,X,dt),b(we,yt+4,Y,dt)}for(k=0;k<R.length;k+=6)X=R[k+0],Y=R[k+2],ie=R[k+4],le=Math.min(X,Y,ie),.9<Math.max(X,Y,ie)&&.1>le&&(.2>X&&(R[k+0]+=1),.2>Y&&(R[k+2]+=1),.2>ie&&(R[k+4]+=1))}(),this.setAttribute("position",new _n(M,3)),this.setAttribute("normal",new _n(M.slice(),3)),this.setAttribute("uv",new _n(R,2)),a===0?this.computeVertexNormals():this.normalizeNormals()}function Jp(n,e){Gi.call(this),this.type="TetrahedronGeometry",this.parameters={radius:n,detail:e},this.fromBufferGeometry(new su(n,e)),this.mergeVertices()}function su(n,e){Ia.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],n,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:n,detail:e}}function qp(n,e){Gi.call(this),this.type="OctahedronGeometry",this.parameters={radius:n,detail:e},this.fromBufferGeometry(new Qp(n,e)),this.mergeVertices()}function Qp(n,e){Ia.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],n,e),this.type="OctahedronBufferGeometry",this.parameters={radius:n,detail:e}}function Kf(n,e){Gi.call(this),this.type="IcosahedronGeometry",this.parameters={radius:n,detail:e},this.fromBufferGeometry(new of(n,e)),this.mergeVertices()}function of(n,e){var r=(1+Math.sqrt(5))/2;Ia.call(this,[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],n,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:n,detail:e}}function Xv(n,e){Gi.call(this),this.type="DodecahedronGeometry",this.parameters={radius:n,detail:e},this.fromBufferGeometry(new Jf(n,e)),this.mergeVertices()}function Jf(n,e){var r=(1+Math.sqrt(5))/2,a=1/r;Ia.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-a,-r,0,-a,r,0,a,-r,0,a,r,-a,-r,0,-a,r,0,a,-r,0,a,r,0,-r,0,-a,r,0,-a,-r,0,a,r,0,a],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],n,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:n,detail:e}}function gl(n,e,r,a,l,v){Gi.call(this),this.type="TubeGeometry",this.parameters={path:n,tubularSegments:e,radius:r,radialSegments:a,closed:l},v!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed."),n=new vl(n,e,r,a,l),this.tangents=n.tangents,this.normals=n.normals,this.binormals=n.binormals,this.fromBufferGeometry(n),this.mergeVertices()}function vl(n,e,r,a,l){function v(yt){X=n.getPointAt(yt/e,X);var dt=b.normals[yt];for(yt=b.binormals[yt],ie=0;ie<=a;ie++){var vt=ie/a*Math.PI*2,Lt=Math.sin(vt);vt=-Math.cos(vt),R.x=vt*dt.x+Lt*yt.x,R.y=vt*dt.y+Lt*yt.y,R.z=vt*dt.z+Lt*yt.z,R.normalize(),Ae.push(R.x,R.y,R.z),M.x=X.x+r*R.x,M.y=X.y+r*R.y,M.z=X.z+r*R.z,le.push(M.x,M.y,M.z)}}Yn.call(this),this.type="TubeBufferGeometry",this.parameters={path:n,tubularSegments:e,radius:r,radialSegments:a,closed:l},e=e||64,r=r||1,a=a||8,l=l||!1;var b=n.computeFrenetFrames(e,l);this.tangents=b.tangents,this.normals=b.normals,this.binormals=b.binormals;var M=new Pe,R=new Pe,k=new Tt,X=new Pe,Y,ie,le=[],Ae=[],we=[],Qe=[];for(Y=0;Y<e;Y++)v(Y);for(v(l===!1?e:0),Y=0;Y<=e;Y++)for(ie=0;ie<=a;ie++)k.x=Y/e,k.y=ie/a,we.push(k.x,k.y);(function(){for(ie=1;ie<=e;ie++)for(Y=1;Y<=a;Y++){var yt=(a+1)*ie+(Y-1),dt=(a+1)*ie+Y,vt=(a+1)*(ie-1)+Y;Qe.push((a+1)*(ie-1)+(Y-1),yt,vt),Qe.push(yt,dt,vt)}})(),this.setIndex(Qe),this.setAttribute("position",new _n(le,3)),this.setAttribute("normal",new _n(Ae,3)),this.setAttribute("uv",new _n(we,2))}function _u(n,e,r,a,l,v,b){Gi.call(this),this.type="TorusKnotGeometry",this.parameters={radius:n,tube:e,tubularSegments:r,radialSegments:a,p:l,q:v},b!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new qf(n,e,r,a,l,v)),this.mergeVertices()}function qf(n,e,r,a,l,v){function b(Ut,at,jr,Zt,$r){var nn=Math.sin(Ut);at=jr/at*Ut,jr=Math.cos(at),$r.x=Zt*(2+jr)*.5*Math.cos(Ut),$r.y=Zt*(2+jr)*nn*.5,$r.z=Zt*Math.sin(at)*.5}Yn.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:n,tube:e,tubularSegments:r,radialSegments:a,p:l,q:v},n=n||1,e=e||.4,r=Math.floor(r)||64,a=Math.floor(a)||8,l=l||2,v=v||3;var M=[],R=[],k=[],X=[],Y,ie=new Pe,le=new Pe,Ae=new Pe,we=new Pe,Qe=new Pe,yt=new Pe,dt=new Pe;for(Y=0;Y<=r;++Y){var vt=Y/r*l*Math.PI*2;for(b(vt,l,v,n,Ae),b(vt+.01,l,v,n,we),yt.subVectors(we,Ae),dt.addVectors(we,Ae),Qe.crossVectors(yt,dt),dt.crossVectors(Qe,yt),Qe.normalize(),dt.normalize(),vt=0;vt<=a;++vt){var Lt=vt/a*Math.PI*2,kt=-e*Math.cos(Lt);Lt=e*Math.sin(Lt),ie.x=Ae.x+(kt*dt.x+Lt*Qe.x),ie.y=Ae.y+(kt*dt.y+Lt*Qe.y),ie.z=Ae.z+(kt*dt.z+Lt*Qe.z),R.push(ie.x,ie.y,ie.z),le.subVectors(ie,Ae).normalize(),k.push(le.x,le.y,le.z),X.push(Y/r),X.push(vt/a)}}for(vt=1;vt<=r;vt++)for(Y=1;Y<=a;Y++)n=(a+1)*vt+(Y-1),e=(a+1)*vt+Y,l=(a+1)*(vt-1)+Y,M.push((a+1)*(vt-1)+(Y-1),n,l),M.push(n,e,l);this.setIndex(M),this.setAttribute("position",new _n(R,3)),this.setAttribute("normal",new _n(k,3)),this.setAttribute("uv",new _n(X,2))}function Qf(n,e,r,a,l){Gi.call(this),this.type="TorusGeometry",this.parameters={radius:n,tube:e,radialSegments:r,tubularSegments:a,arc:l},this.fromBufferGeometry(new $f(n,e,r,a,l)),this.mergeVertices()}function $f(n,e,r,a,l){Yn.call(this),this.type="TorusBufferGeometry",this.parameters={radius:n,tube:e,radialSegments:r,tubularSegments:a,arc:l},n=n||1,e=e||.4,r=Math.floor(r)||8,a=Math.floor(a)||6,l=l||2*Math.PI;var v=[],b=[],M=[],R=[],k=new Pe,X=new Pe,Y=new Pe,ie,le;for(ie=0;ie<=r;ie++)for(le=0;le<=a;le++){var Ae=le/a*l,we=ie/r*Math.PI*2;X.x=(n+e*Math.cos(we))*Math.cos(Ae),X.y=(n+e*Math.cos(we))*Math.sin(Ae),X.z=e*Math.sin(we),b.push(X.x,X.y,X.z),k.x=n*Math.cos(Ae),k.y=n*Math.sin(Ae),Y.subVectors(X,k).normalize(),M.push(Y.x,Y.y,Y.z),R.push(le/a),R.push(ie/r)}for(ie=1;ie<=r;ie++)for(le=1;le<=a;le++)n=(a+1)*(ie-1)+le-1,e=(a+1)*(ie-1)+le,l=(a+1)*ie+le,v.push((a+1)*ie+le-1,n,l),v.push(n,e,l);this.setIndex(v),this.setAttribute("position",new _n(b,3)),this.setAttribute("normal",new _n(M,3)),this.setAttribute("uv",new _n(R,2))}function Zv(n,e,r,a,l){for(var v,b=0,M=e,R=r-a;M<r;M+=a)b+=(n[R]-n[M])*(n[M+1]+n[R+1]),R=M;if(l===0<b)for(l=e;l<r;l+=a)v=$p(l,n[l],n[l+1],v);else for(l=r-a;l>=e;l-=a)v=$p(l,n[l],n[l+1],v);return v&&ed(v,v.next)&&(yg(v),v=v.next),v}function hh(n,e){if(!n)return n;e||(e=n);do{var r=!1;if(n.steiner||!ed(n,n.next)&&ba(n.prev,n,n.next)!==0)n=n.next;else{if(yg(n),n=e=n.prev,n===n.next)break;r=!0}}while(r||n!==e);return e}function Tc(n,e,r,a,l,v,b){if(n){if(!b&&v){var M=n,R=M;do R.z===null&&(R.z=zy(R.x,R.y,a,l,v)),R.prevZ=R.prev,R=R.nextZ=R.next;while(R!==M);R.prevZ.nextZ=null,R.prevZ=null,M=R;var k,X,Y,ie,le=1;do{R=M;var Ae=M=null;for(X=0;R;){X++;var we=R;for(k=Y=0;k<le&&(Y++,we=we.nextZ,we);k++);for(ie=le;0<Y||0<ie&&we;)Y!==0&&(ie===0||!we||R.z<=we.z)?(k=R,R=R.nextZ,Y--):(k=we,we=we.nextZ,ie--),Ae?Ae.nextZ=k:M=k,k.prevZ=Ae,Ae=k;R=we}Ae.nextZ=null,le*=2}while(1<X)}for(M=n;n.prev!==n.next;){if(R=n.prev,we=n.next,v)Ae=nA(n,a,l,v);else e:if(Ae=n,X=Ae.prev,Y=Ae,le=Ae.next,0<=ba(X,Y,le))Ae=!1;else{for(k=Ae.next.next;k!==Ae.prev;){if(Ic(X.x,X.y,Y.x,Y.y,le.x,le.y,k.x,k.y)&&0<=ba(k.prev,k,k.next)){Ae=!1;break e}k=k.next}Ae=!0}if(Ae)e.push(R.i/r),e.push(n.i/r),e.push(we.i/r),yg(n),M=n=we.next;else if(n=we,n===M){if(!b)Tc(hh(n),e,r,a,l,v,1);else if(b===1){n=hh(n),b=e,M=r,R=n;do we=R.prev,Ae=R.next.next,!ed(we,Ae)&&jy(we,R,R.next,Ae)&&Pc(we,Ae)&&Pc(Ae,we)&&(b.push(we.i/M),b.push(R.i/M),b.push(Ae.i/M),yg(R),yg(R.next),R=n=Ae),R=R.next;while(R!==n);n=hh(R),Tc(n,e,r,a,l,v,2)}else if(b===2)e:{b=n;do{for(M=b.next.next;M!==b.prev;){if(R=b.i!==M.i){if(R=b,we=M,Ae=R.next.i!==we.i&&R.prev.i!==we.i){t:{Ae=R;do{if(Ae.i!==R.i&&Ae.next.i!==R.i&&Ae.i!==we.i&&Ae.next.i!==we.i&&jy(Ae,Ae.next,R,we)){Ae=!0;break t}Ae=Ae.next}while(Ae!==R);Ae=!1}Ae=!Ae}if(Ae){if(Ae=Pc(R,we)&&Pc(we,R)){Ae=R,X=!1,Y=(R.x+we.x)/2,le=(R.y+we.y)/2;do Ae.y>le!=Ae.next.y>le&&Ae.next.y!==Ae.y&&Y<(Ae.next.x-Ae.x)*(le-Ae.y)/(Ae.next.y-Ae.y)+Ae.x&&(X=!X),Ae=Ae.next;while(Ae!==R);Ae=X}Ae=Ae&&(ba(R.prev,R,we.prev)||ba(R,we.prev,we))||ed(R,we)&&0<ba(R.prev,R,R.next)&&0<ba(we.prev,we,we.next)}R=Ae}if(R){n=lu(b,M),b=hh(b,b.next),n=hh(n,n.next),Tc(b,e,r,a,l,v),Tc(n,e,r,a,l,v);break e}M=M.next}b=b.next}while(b!==n)}break}}}}function nA(n,e,r,a){var l=n.prev,v=n.next;if(0<=ba(l,n,v))return!1;var b=l.x>n.x?l.x>v.x?l.x:v.x:n.x>v.x?n.x:v.x,M=l.y>n.y?l.y>v.y?l.y:v.y:n.y>v.y?n.y:v.y,R=zy(l.x<n.x?l.x<v.x?l.x:v.x:n.x<v.x?n.x:v.x,l.y<n.y?l.y<v.y?l.y:v.y:n.y<v.y?n.y:v.y,e,r,a);for(e=zy(b,M,e,r,a),r=n.prevZ,a=n.nextZ;r&&r.z>=R&&a&&a.z<=e;){if(r!==n.prev&&r!==n.next&&Ic(l.x,l.y,n.x,n.y,v.x,v.y,r.x,r.y)&&0<=ba(r.prev,r,r.next)||(r=r.prevZ,a!==n.prev&&a!==n.next&&Ic(l.x,l.y,n.x,n.y,v.x,v.y,a.x,a.y)&&0<=ba(a.prev,a,a.next)))return!1;a=a.nextZ}for(;r&&r.z>=R;){if(r!==n.prev&&r!==n.next&&Ic(l.x,l.y,n.x,n.y,v.x,v.y,r.x,r.y)&&0<=ba(r.prev,r,r.next))return!1;r=r.prevZ}for(;a&&a.z<=e;){if(a!==n.prev&&a!==n.next&&Ic(l.x,l.y,n.x,n.y,v.x,v.y,a.x,a.y)&&0<=ba(a.prev,a,a.next))return!1;a=a.nextZ}return!0}function fh(n,e){return n.x-e.x}function gg(n,e){var r=e,a=n.x,l=n.y,v=-Infinity;do{if(l<=r.y&&l>=r.next.y&&r.next.y!==r.y){var b=r.x+(l-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(b<=a&&b>v){if(v=b,b===a){if(l===r.y)return r;if(l===r.next.y)return r.next}var M=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!M)return null;if(a===v)return M;e=M,b=M.x;var R=M.y,k=Infinity;r=M;do{if(a>=r.x&&r.x>=b&&a!==r.x&&Ic(l<R?a:v,l,b,R,l<R?v:a,l,r.x,r.y)){var X=Math.abs(l-r.y)/(a-r.x),Y;if((Y=Pc(r,n))&&!(Y=X<k)&&(Y=X===k)&&!(Y=r.x>M.x)&&(Y=r.x===M.x)){Y=M;var ie=r;Y=0>ba(Y.prev,Y,ie.prev)&&0>ba(ie.next,Y,Y.next)}Y&&(M=r,k=X)}r=r.next}while(r!==e);return M}function zy(n,e,r,a,l){return n=32767*(n-r)*l,e=32767*(e-a)*l,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,(n|n<<1)&1431655765|((e|e<<1)&1431655765)<<1}function vg(n){var e=n,r=n;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==n);return r}function Ic(n,e,r,a,l,v,b,M){return 0<=(l-b)*(e-M)-(n-b)*(v-M)&&0<=(n-b)*(a-M)-(r-b)*(e-M)&&0<=(r-b)*(v-M)-(l-b)*(a-M)}function ba(n,e,r){return(e.y-n.y)*(r.x-e.x)-(e.x-n.x)*(r.y-e.y)}function ed(n,e){return n.x===e.x&&n.y===e.y}function jy(n,e,r,a){var l=td(ba(n,e,r)),v=td(ba(n,e,a)),b=td(ba(r,a,n)),M=td(ba(r,a,e));return!!(l!==v&&b!==M||l===0&&Kv(n,r,e)||v===0&&Kv(n,a,e)||b===0&&Kv(r,n,a)||M===0&&Kv(r,e,a))}function Kv(n,e,r){return e.x<=Math.max(n.x,r.x)&&e.x>=Math.min(n.x,r.x)&&e.y<=Math.max(n.y,r.y)&&e.y>=Math.min(n.y,r.y)}function td(n){return 0<n?1:0>n?-1:0}function Pc(n,e){return 0>ba(n.prev,n,n.next)?0<=ba(n,e,n.next)&&0<=ba(n,n.prev,e):0>ba(n,e,n.prev)||0>ba(n,n.next,e)}function lu(n,e){var r=new Jv(n.i,n.x,n.y),a=new Jv(e.i,e.x,e.y),l=n.next,v=e.prev;return n.next=e,e.prev=n,r.next=l,l.prev=r,a.next=r,r.prev=a,v.next=a,a.prev=v,a}function $p(n,e,r,a){return n=new Jv(n,e,r),a?(n.next=a.next,n.prev=a,a.next.prev=n,a.next=n):(n.prev=n,n.next=n),n}function yg(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function Jv(n,e,r){this.i=n,this.x=e,this.y=r,this.nextZ=this.prevZ=this.z=this.next=this.prev=null,this.steiner=!1}function af(n){var e=n.length;2<e&&n[e-1].equals(n[0])&&n.pop()}function Uy(n,e){for(var r=0;r<e.length;r++)n.push(e[r].x),n.push(e[r].y)}function Ds(n,e){Gi.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:n,options:e},this.fromBufferGeometry(new Xl(n,e)),this.mergeVertices()}function Xl(n,e){function r(R){function k(sn,mr,Si){return mr||console.error("THREE.ExtrudeGeometry: vec does not exist"),mr.clone().multiplyScalar(Si).add(sn)}function X(sn,mr,Si){var mo=sn.x-mr.x,xr=sn.y-mr.y,Hi=Si.x-sn.x,mi=Si.y-sn.y,fi=mo*mo+xr*xr;if(Math.abs(mo*mi-xr*Hi)>ts){var Ua=Math.sqrt(fi),us=Math.sqrt(Hi*Hi+mi*mi);if(fi=mr.x-xr/Ua,mr=mr.y+mo/Ua,mi=((Si.x-mi/us-fi)*mi-(Si.y+Hi/us-mr)*Hi)/(mo*mi-xr*Hi),Hi=fi+mo*mi-sn.x,mo=mr+xr*mi-sn.y,xr=Hi*Hi+mo*mo,2>=xr)return new Tt(Hi,mo);xr=Math.sqrt(xr/2)}else sn=!1,mo>ts?Hi>ts&&(sn=!0):mo<-ts?Hi<-ts&&(sn=!0):Ad(xr)===Ad(mi)&&(sn=!0),sn?(Hi=-xr,xr=Math.sqrt(fi)):(Hi=mo,mo=xr,xr=Math.sqrt(fi/2));return new Tt(Hi/xr,mo/xr)}function Y(sn,mr){for(Kt=sn.length;0<=--Kt;){var Si=Kt,mo=Kt-1;0>mo&&(mo=sn.length-1);var xr,Hi=dt+2*jr;for(xr=0;xr<Hi;xr++){var mi=$e*xr,fi=$e*(xr+1),Ua=mr+mo+mi,us=mr+mo+fi;fi=mr+Si+fi,Ae(mr+Si+mi),Ae(Ua),Ae(fi),Ae(Ua),Ae(us),Ae(fi),mi=l.length/3,mi=$r.generateSideWallUV(a,l,mi-6,mi-3,mi-2,mi-1),we(mi[0]),we(mi[1]),we(mi[3]),we(mi[1]),we(mi[2]),we(mi[3])}}}function ie(sn,mr,Si){Qe.push(sn),Qe.push(mr),Qe.push(Si)}function le(sn,mr,Si){Ae(sn),Ae(mr),Ae(Si),sn=l.length/3,sn=$r.generateTopUV(a,l,sn-3,sn-2,sn-1),we(sn[0]),we(sn[1]),we(sn[2])}function Ae(sn){l.push(Qe[3*sn]),l.push(Qe[3*sn+1]),l.push(Qe[3*sn+2])}function we(sn){v.push(sn.x),v.push(sn.y)}var Qe=[],yt=e.curveSegments!==void 0?e.curveSegments:12,dt=e.steps!==void 0?e.steps:1,vt=e.depth!==void 0?e.depth:100,Lt=e.bevelEnabled!==void 0?e.bevelEnabled:!0,kt=e.bevelThickness!==void 0?e.bevelThickness:6,Ut=e.bevelSize!==void 0?e.bevelSize:kt-2,at=e.bevelOffset!==void 0?e.bevelOffset:0,jr=e.bevelSegments!==void 0?e.bevelSegments:3,Zt=e.extrudePath,$r=e.UVGenerator!==void 0?e.UVGenerator:Ee;e.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),vt=e.amount);var nn=!1;if(Zt){var Wt=Zt.getSpacedPoints(dt);nn=!0,Lt=!1;var si=Zt.computeFrenetFrames(dt,!1),gr=new Pe,bi=new Pe,ki=new Pe}Lt||(at=Ut=kt=jr=0);var Pi;yt=R.extractPoints(yt),R=yt.shape;var ga=yt.holes;if(!fe.isClockWise(R)){R=R.reverse();var Oi=0;for(Pi=ga.length;Oi<Pi;Oi++){var Ho=ga[Oi];fe.isClockWise(Ho)&&(ga[Oi]=Ho.reverse())}}var rs=fe.triangulateShape(R,ga),tn=R;for(Oi=0,Pi=ga.length;Oi<Pi;Oi++)Ho=ga[Oi],R=R.concat(Ho);var qo,$e=R.length,xt,Et=rs.length;yt=[];var Kt=0,pn=tn.length,Nn=pn-1;for(qo=Kt+1;Kt<pn;Kt++,Nn++,qo++)Nn===pn&&(Nn=0),qo===pn&&(qo=0),yt[Kt]=X(tn[Kt],tn[Nn],tn[qo]);Zt=[];var Vt=yt.concat();for(Oi=0,Pi=ga.length;Oi<Pi;Oi++){Ho=ga[Oi];var Qt=[];for(Kt=0,pn=Ho.length,Nn=pn-1,qo=Kt+1;Kt<pn;Kt++,Nn++,qo++)Nn===pn&&(Nn=0),qo===pn&&(qo=0),Qt[Kt]=X(Ho[Kt],Ho[Nn],Ho[qo]);Zt.push(Qt),Vt=Vt.concat(Qt)}for(Nn=0;Nn<jr;Nn++){pn=Nn/jr;var bn=kt*Math.cos(pn*Math.PI/2);for(qo=Ut*Math.sin(pn*Math.PI/2)+at,Kt=0,pn=tn.length;Kt<pn;Kt++){var Hr=k(tn[Kt],yt[Kt],qo);ie(Hr.x,Hr.y,-bn)}for(Oi=0,Pi=ga.length;Oi<Pi;Oi++)for(Ho=ga[Oi],Qt=Zt[Oi],Kt=0,pn=Ho.length;Kt<pn;Kt++)Hr=k(Ho[Kt],Qt[Kt],qo),ie(Hr.x,Hr.y,-bn)}for(qo=Ut+at,Kt=0;Kt<$e;Kt++)Hr=Lt?k(R[Kt],Vt[Kt],qo):R[Kt],nn?(bi.copy(si.normals[0]).multiplyScalar(Hr.x),gr.copy(si.binormals[0]).multiplyScalar(Hr.y),ki.copy(Wt[0]).add(bi).add(gr),ie(ki.x,ki.y,ki.z)):ie(Hr.x,Hr.y,0);for(pn=1;pn<=dt;pn++)for(Kt=0;Kt<$e;Kt++)Hr=Lt?k(R[Kt],Vt[Kt],qo):R[Kt],nn?(bi.copy(si.normals[pn]).multiplyScalar(Hr.x),gr.copy(si.binormals[pn]).multiplyScalar(Hr.y),ki.copy(Wt[pn]).add(bi).add(gr),ie(ki.x,ki.y,ki.z)):ie(Hr.x,Hr.y,vt/dt*pn);for(Nn=jr-1;0<=Nn;Nn--){for(pn=Nn/jr,bn=kt*Math.cos(pn*Math.PI/2),qo=Ut*Math.sin(pn*Math.PI/2)+at,Kt=0,pn=tn.length;Kt<pn;Kt++)Hr=k(tn[Kt],yt[Kt],qo),ie(Hr.x,Hr.y,vt+bn);for(Oi=0,Pi=ga.length;Oi<Pi;Oi++)for(Ho=ga[Oi],Qt=Zt[Oi],Kt=0,pn=Ho.length;Kt<pn;Kt++)Hr=k(Ho[Kt],Qt[Kt],qo),nn?ie(Hr.x,Hr.y+Wt[dt-1].y,Wt[dt-1].x+bn):ie(Hr.x,Hr.y,vt+bn)}(function(){var sn=l.length/3;if(Lt){var mr=0*$e;for(Kt=0;Kt<Et;Kt++)xt=rs[Kt],le(xt[2]+mr,xt[1]+mr,xt[0]+mr);for(mr=$e*(dt+2*jr),Kt=0;Kt<Et;Kt++)xt=rs[Kt],le(xt[0]+mr,xt[1]+mr,xt[2]+mr)}else{for(Kt=0;Kt<Et;Kt++)xt=rs[Kt],le(xt[2],xt[1],xt[0]);for(Kt=0;Kt<Et;Kt++)xt=rs[Kt],le(xt[0]+$e*dt,xt[1]+$e*dt,xt[2]+$e*dt)}a.addGroup(sn,l.length/3-sn,0)})(),function(){var sn=l.length/3,mr=0;for(Y(tn,mr),mr+=tn.length,Oi=0,Pi=ga.length;Oi<Pi;Oi++)Ho=ga[Oi],Y(Ho,mr),mr+=Ho.length;a.addGroup(sn,l.length/3-sn,1)}()}Yn.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:n,options:e},n=Array.isArray(n)?n:[n];for(var a=this,l=[],v=[],b=0,M=n.length;b<M;b++)r(n[b]);this.setAttribute("position",new _n(l,3)),this.setAttribute("uv",new _n(v,2)),this.computeVertexNormals()}function Ot(n,e,r){if(r.shapes=[],Array.isArray(n))for(var a=0,l=n.length;a<l;a++)r.shapes.push(n[a].uuid);else r.shapes.push(n.uuid);return e.extrudePath!==void 0&&(r.options.extrudePath=e.extrudePath.toJSON()),r}function rr(n,e){Gi.call(this),this.type="TextGeometry",this.parameters={text:n,parameters:e},this.fromBufferGeometry(new er(n,e)),this.mergeVertices()}function er(n,e){e=e||{};var r=e.font;if(!r||!r.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Gi;n=r.generateShapes(n,e.size),e.depth=e.height!==void 0?e.height:50,e.bevelThickness===void 0&&(e.bevelThickness=10),e.bevelSize===void 0&&(e.bevelSize=8),e.bevelEnabled===void 0&&(e.bevelEnabled=!1),Xl.call(this,n,e),this.type="TextBufferGeometry"}function Kn(n,e,r,a,l,v,b){Gi.call(this),this.type="SphereGeometry",this.parameters={radius:n,widthSegments:e,heightSegments:r,phiStart:a,phiLength:l,thetaStart:v,thetaLength:b},this.fromBufferGeometry(new Wi(n,e,r,a,l,v,b)),this.mergeVertices()}function Wi(n,e,r,a,l,v,b){Yn.call(this),this.type="SphereBufferGeometry",this.parameters={radius:n,widthSegments:e,heightSegments:r,phiStart:a,phiLength:l,thetaStart:v,thetaLength:b},n=n||1,e=Math.max(3,Math.floor(e)||8),r=Math.max(2,Math.floor(r)||6),a=a!==void 0?a:0,l=l!==void 0?l:2*Math.PI,v=v!==void 0?v:0,b=b!==void 0?b:Math.PI;var M=Math.min(v+b,Math.PI),R,k,X=0,Y=[],ie=new Pe,le=new Pe,Ae=[],we=[],Qe=[],yt=[];for(k=0;k<=r;k++){var dt=[],vt=k/r,Lt=0;for(k==0&&v==0?Lt=.5/e:k==r&&M==Math.PI&&(Lt=-.5/e),R=0;R<=e;R++){var kt=R/e;ie.x=-n*Math.cos(a+kt*l)*Math.sin(v+vt*b),ie.y=n*Math.cos(v+vt*b),ie.z=n*Math.sin(a+kt*l)*Math.sin(v+vt*b),we.push(ie.x,ie.y,ie.z),le.copy(ie).normalize(),Qe.push(le.x,le.y,le.z),yt.push(kt+Lt,1-vt),dt.push(X++)}Y.push(dt)}for(k=0;k<r;k++)for(R=0;R<e;R++)n=Y[k][R+1],a=Y[k][R],l=Y[k+1][R],b=Y[k+1][R+1],(k!==0||0<v)&&Ae.push(n,a,b),(k!==r-1||M<Math.PI)&&Ae.push(a,l,b);this.setIndex(Ae),this.setAttribute("position",new _n(we,3)),this.setAttribute("normal",new _n(Qe,3)),this.setAttribute("uv",new _n(yt,2))}function bo(n,e,r,a,l,v){Gi.call(this),this.type="RingGeometry",this.parameters={innerRadius:n,outerRadius:e,thetaSegments:r,phiSegments:a,thetaStart:l,thetaLength:v},this.fromBufferGeometry(new ha(n,e,r,a,l,v)),this.mergeVertices()}function ha(n,e,r,a,l,v){Yn.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:n,outerRadius:e,thetaSegments:r,phiSegments:a,thetaStart:l,thetaLength:v},n=n||.5,e=e||1,l=l!==void 0?l:0,v=v!==void 0?v:2*Math.PI,r=r!==void 0?Math.max(3,r):8,a=a!==void 0?Math.max(1,a):1;var b=[],M=[],R=[],k=[],X=n,Y=(e-n)/a,ie=new Pe,le=new Tt,Ae,we;for(Ae=0;Ae<=a;Ae++){for(we=0;we<=r;we++)n=l+we/r*v,ie.x=X*Math.cos(n),ie.y=X*Math.sin(n),M.push(ie.x,ie.y,ie.z),R.push(0,0,1),le.x=(ie.x/e+1)/2,le.y=(ie.y/e+1)/2,k.push(le.x,le.y);X+=Y}for(Ae=0;Ae<a;Ae++)for(e=Ae*(r+1),we=0;we<r;we++)n=we+e,l=n+r+1,v=n+r+2,X=n+1,b.push(n,l,X),b.push(l,v,X);this.setIndex(b),this.setAttribute("position",new _n(M,3)),this.setAttribute("normal",new _n(R,3)),this.setAttribute("uv",new _n(k,2))}function Co(n,e,r,a){Gi.call(this),this.type="LatheGeometry",this.parameters={points:n,segments:e,phiStart:r,phiLength:a},this.fromBufferGeometry(new Qu(n,e,r,a)),this.mergeVertices()}function Qu(n,e,r,a){Yn.call(this),this.type="LatheBufferGeometry",this.parameters={points:n,segments:e,phiStart:r,phiLength:a},e=Math.floor(e)||12,r=r||0,a=a||2*Math.PI,a=U.clamp(a,0,2*Math.PI);var l=[],v=[],b=[],M=1/e,R=new Pe,k=new Tt,X;for(X=0;X<=e;X++){var Y=r+X*M*a,ie=Math.sin(Y),le=Math.cos(Y);for(Y=0;Y<=n.length-1;Y++)R.x=n[Y].x*ie,R.y=n[Y].y,R.z=n[Y].x*le,v.push(R.x,R.y,R.z),k.x=X/e,k.y=Y/(n.length-1),b.push(k.x,k.y)}for(X=0;X<e;X++)for(Y=0;Y<n.length-1;Y++)r=Y+X*n.length,M=r+n.length,R=r+n.length+1,k=r+1,l.push(r,M,k),l.push(M,R,k);if(this.setIndex(l),this.setAttribute("position",new _n(v,3)),this.setAttribute("uv",new _n(b,2)),this.computeVertexNormals(),a===2*Math.PI)for(a=this.attributes.normal.array,l=new Pe,v=new Pe,b=new Pe,r=e*n.length*3,Y=X=0;X<n.length;X++,Y+=3)l.x=a[Y+0],l.y=a[Y+1],l.z=a[Y+2],v.x=a[r+Y+0],v.y=a[r+Y+1],v.z=a[r+Y+2],b.addVectors(l,v).normalize(),a[Y+0]=a[r+Y+0]=b.x,a[Y+1]=a[r+Y+1]=b.y,a[Y+2]=a[r+Y+2]=b.z}function Oc(n,e){Gi.call(this),this.type="ShapeGeometry",(typeof e=="undefined"?"undefined":xd(e))==="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:n,curveSegments:e},this.fromBufferGeometry(new Ws(n,e)),this.mergeVertices()}function Ws(n,e){function r(X){var Y,ie=l.length/3;X=X.extractPoints(e);var le=X.shape,Ae=X.holes;for(fe.isClockWise(le)===!1&&(le=le.reverse()),X=0,Y=Ae.length;X<Y;X++){var we=Ae[X];fe.isClockWise(we)===!0&&(Ae[X]=we.reverse())}var Qe=fe.triangulateShape(le,Ae);for(X=0,Y=Ae.length;X<Y;X++)we=Ae[X],le=le.concat(we);for(X=0,Y=le.length;X<Y;X++)we=le[X],l.push(we.x,we.y,0),v.push(0,0,1),b.push(we.x,we.y);for(X=0,Y=Qe.length;X<Y;X++)le=Qe[X],a.push(le[0]+ie,le[1]+ie,le[2]+ie),R+=3}Yn.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:n,curveSegments:e},e=e||12;var a=[],l=[],v=[],b=[],M=0,R=0;if(Array.isArray(n)===!1)r(n);else for(var k=0;k<n.length;k++)r(n[k]),this.addGroup(M,R,k),M+=R,R=0;this.setIndex(a),this.setAttribute("position",new _n(l,3)),this.setAttribute("normal",new _n(v,3)),this.setAttribute("uv",new _n(b,2))}function em(n,e){if(e.shapes=[],Array.isArray(n))for(var r=0,a=n.length;r<a;r++)e.shapes.push(n[r].uuid);else e.shapes.push(n.uuid);return e}function xg(n,e){Yn.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e};var r=[];e=Math.cos(U.DEG2RAD*(e!==void 0?e:1));var a=[0,0],l={},v=["a","b","c"];if(n.isBufferGeometry){var b=new Gi;b.fromBufferGeometry(n)}else b=n.clone();b.mergeVertices(),b.computeFaceNormals(),n=b.vertices,b=b.faces;for(var M=0,R=b.length;M<R;M++)for(var k=b[M],X=0;3>X;X++){var Y=k[v[X]],ie=k[v[(X+1)%3]];a[0]=Math.min(Y,ie),a[1]=Math.max(Y,ie),Y=a[0]+","+a[1],l[Y]===void 0?l[Y]={index1:a[0],index2:a[1],face1:M,face2:void 0}:l[Y].face2=M}for(Y in l)a=l[Y],(a.face2===void 0||b[a.face1].normal.dot(b[a.face2].normal)<=e)&&(v=n[a.index1],r.push(v.x,v.y,v.z),v=n[a.index2],r.push(v.x,v.y,v.z));this.setAttribute("position",new _n(r,3))}function uu(n,e,r,a,l,v,b,M){Gi.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:n,radiusBottom:e,height:r,radialSegments:a,heightSegments:l,openEnded:v,thetaStart:b,thetaLength:M},this.fromBufferGeometry(new Mu(n,e,r,a,l,v,b,M)),this.mergeVertices()}function Mu(n,e,r,a,l,v,b,M){function R(dt){var vt,Lt=new Tt,kt=new Pe,Ut=0,at=dt===!0?n:e,jr=dt===!0?1:-1,Zt=Ae;for(vt=1;vt<=a;vt++)Y.push(0,Qe*jr,0),ie.push(0,jr,0),le.push(.5,.5),Ae++;var $r=Ae;for(vt=0;vt<=a;vt++){var nn=vt/a*M+b,Wt=Math.cos(nn);nn=Math.sin(nn),kt.x=at*nn,kt.y=Qe*jr,kt.z=at*Wt,Y.push(kt.x,kt.y,kt.z),ie.push(0,jr,0),Lt.x=.5*Wt+.5,Lt.y=.5*nn*jr+.5,le.push(Lt.x,Lt.y),Ae++}for(vt=0;vt<a;vt++)Lt=Zt+vt,kt=$r+vt,dt===!0?X.push(kt,kt+1,Lt):X.push(kt+1,kt,Lt),Ut+=3;k.addGroup(yt,Ut,dt===!0?1:2),yt+=Ut}Yn.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:n,radiusBottom:e,height:r,radialSegments:a,heightSegments:l,openEnded:v,thetaStart:b,thetaLength:M};var k=this;n=n!==void 0?n:1,e=e!==void 0?e:1,r=r||1,a=Math.floor(a)||8,l=Math.floor(l)||1,v=v!==void 0?v:!1,b=b!==void 0?b:0,M=M!==void 0?M:2*Math.PI;var X=[],Y=[],ie=[],le=[],Ae=0,we=[],Qe=r/2,yt=0;(function(){var dt,vt,Lt=new Pe,kt=new Pe,Ut=0,at=(e-n)/r;for(vt=0;vt<=l;vt++){var jr=[],Zt=vt/l,$r=Zt*(e-n)+n;for(dt=0;dt<=a;dt++){var nn=dt/a,Wt=nn*M+b,si=Math.sin(Wt);Wt=Math.cos(Wt),kt.x=$r*si,kt.y=-Zt*r+Qe,kt.z=$r*Wt,Y.push(kt.x,kt.y,kt.z),Lt.set(si,at,Wt).normalize(),ie.push(Lt.x,Lt.y,Lt.z),le.push(nn,1-Zt),jr.push(Ae++)}we.push(jr)}for(dt=0;dt<a;dt++)for(vt=0;vt<l;vt++)Lt=we[vt+1][dt],kt=we[vt+1][dt+1],at=we[vt][dt+1],X.push(we[vt][dt],Lt,at),X.push(Lt,kt,at),Ut+=6;k.addGroup(yt,Ut,0),yt+=Ut})(),v===!1&&(0<n&&R(!0),0<e&&R(!1)),this.setIndex(X),this.setAttribute("position",new _n(Y,3)),this.setAttribute("normal",new _n(ie,3)),this.setAttribute("uv",new _n(le,2))}function rd(n,e,r,a,l,v,b){uu.call(this,0,n,e,r,a,l,v,b),this.type="ConeGeometry",this.parameters={radius:n,height:e,radialSegments:r,heightSegments:a,openEnded:l,thetaStart:v,thetaLength:b}}function ia(n,e,r,a,l,v,b){Mu.call(this,0,n,e,r,a,l,v,b),this.type="ConeBufferGeometry",this.parameters={radius:n,height:e,radialSegments:r,heightSegments:a,openEnded:l,thetaStart:v,thetaLength:b}}function Cg(n,e,r,a){Gi.call(this),this.type="CircleGeometry",this.parameters={radius:n,segments:e,thetaStart:r,thetaLength:a},this.fromBufferGeometry(new Wd(n,e,r,a)),this.mergeVertices()}function Wd(n,e,r,a){Yn.call(this),this.type="CircleBufferGeometry",this.parameters={radius:n,segments:e,thetaStart:r,thetaLength:a},n=n||1,e=e!==void 0?Math.max(3,e):8,r=r!==void 0?r:0,a=a!==void 0?a:2*Math.PI;var l=[],v=[],b=[],M=[],R,k=new Pe,X=new Tt;v.push(0,0,0),b.push(0,0,1),M.push(.5,.5);var Y=0;for(R=3;Y<=e;Y++,R+=3){var ie=r+Y/e*a;k.x=n*Math.cos(ie),k.y=n*Math.sin(ie),v.push(k.x,k.y,k.z),b.push(0,0,1),X.x=(v[R]/n+1)/2,X.y=(v[R+1]/n+1)/2,M.push(X.x,X.y)}for(R=1;R<=e;R++)l.push(R,R+1,0);this.setIndex(l),this.setAttribute("position",new _n(v,3)),this.setAttribute("normal",new _n(b,3)),this.setAttribute("uv",new _n(M,2))}function dh(n){vn.call(this),this.type="ShadowMaterial",this.color=new Sn(0),this.transparent=!0,this.setValues(n)}function sf(n){Wa.call(this,n),this.type="RawShaderMaterial"}function ph(n){vn.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Sn(16777215),this.roughness=1,this.metalness=0,this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Sn(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.vertexTangents=this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(n)}function Yd(n){ph.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Tt(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,this.sheen=null,this.transparency=0,this.setValues(n)}function $u(n){vn.call(this),this.type="MeshPhongMaterial",this.color=new Sn(16777215),this.specular=new Sn(1118481),this.shininess=30,this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Sn(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.envMap=this.alphaMap=this.specularMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(n)}function Eu(n){vn.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Sn(16777215),this.specular=new Sn(1118481),this.shininess=30,this.lightMap=this.gradientMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Sn(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=this.specularMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(n)}function Tu(n){vn.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.morphNormals=this.morphTargets=this.skinning=this.fog=!1,this.setValues(n)}function nd(n){vn.call(this),this.type="MeshLambertMaterial",this.color=new Sn(16777215),this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Sn(0),this.emissiveIntensity=1,this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(n)}function Zl(n){vn.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Sn(16777215),this.bumpMap=this.map=this.matcap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(n)}function Ol(n){Aa.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(n)}function cu(n,e,r,a){this.parameterPositions=n,this._cachedIndex=0,this.resultBuffer=a!==void 0?a:new e.constructor(r),this.sampleValues=e,this.valueSize=r}function wi(n,e,r,a){cu.call(this,n,e,r,a),this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0}function Ag(n,e,r,a){cu.call(this,n,e,r,a)}function Xd(n,e,r,a){cu.call(this,n,e,r,a)}function $a(n,e,r,a){if(n===void 0)throw Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw Error("THREE.KeyframeTrack: no keyframes in track named "+n);this.name=n,this.times=mt.convertArray(e,this.TimeBufferType),this.values=mt.convertArray(r,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}function tm(n,e,r){$a.call(this,n,e,r)}function ky(n,e,r,a){$a.call(this,n,e,r,a)}function rm(n,e,r,a){$a.call(this,n,e,r,a)}function Hy(n,e,r,a){cu.call(this,n,e,r,a)}function Zd(n,e,r,a){$a.call(this,n,e,r,a)}function ji(n,e,r,a){$a.call(this,n,e,r,a)}function Kd(n,e,r,a){$a.call(this,n,e,r,a)}function ec(n,e,r,a){this.name=n,this.tracks=r,this.duration=e!==void 0?e:-1,this.blendMode=a!==void 0?a:2500,this.uuid=U.generateUUID(),0>this.duration&&this.resetDuration()}function wg(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return rm;case"vector":case"vector2":case"vector3":case"vector4":return Kd;case"color":return ky;case"quaternion":return Zd;case"bool":case"boolean":return tm;case"string":return ji}throw Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function iA(n){if(n.type===void 0)throw Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=wg(n.type);if(n.times===void 0){var r=[],a=[];mt.flattenJSON(n.keys,r,a,"value"),n.times=r,n.values=a}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}function hx(n,e,r){var a=this,l=!1,v=0,b=0,M=void 0,R=[];this.onStart=void 0,this.onLoad=n,this.onProgress=e,this.onError=r,this.itemStart=function(k){b++,l===!1&&a.onStart!==void 0&&a.onStart(k,v,b),l=!0},this.itemEnd=function(k){v++,a.onProgress!==void 0&&a.onProgress(k,v,b),v===b&&(l=!1,a.onLoad!==void 0)&&a.onLoad()},this.itemError=function(k){a.onError!==void 0&&a.onError(k)},this.resolveURL=function(k){return M?M(k):k},this.setURLModifier=function(k){return M=k,this},this.addHandler=function(k,X){return R.push(k,X),this},this.removeHandler=function(k){return k=R.indexOf(k),k!==-1&&R.splice(k,2),this},this.getHandler=function(k){for(var X=0,Y=R.length;X<Y;X+=2){var ie=R[X],le=R[X+1];if(ie.global&&(ie.lastIndex=0),ie.test(k))return le}return null}}function Ui(n){this.manager=n!==void 0?n:Lr,this.crossOrigin="anonymous",this.resourcePath=this.path="",this.requestHeader={}}function Za(n){Ui.call(this,n)}function bg(n){Ui.call(this,n)}function fx(n){Ui.call(this,n)}function id(n){Ui.call(this,n)}function lf(n){Ui.call(this,n)}function nm(n){Ui.call(this,n)}function ms(n){Ui.call(this,n)}function Ei(){this.type="Curve",this.arcLengthDivisions=200}function Ns(n,e,r,a,l,v,b,M){Ei.call(this),this.type="EllipseCurve",this.aX=n||0,this.aY=e||0,this.xRadius=r||1,this.yRadius=a||1,this.aStartAngle=l||0,this.aEndAngle=v||2*Math.PI,this.aClockwise=b||!1,this.aRotation=M||0}function Rc(n,e,r,a,l,v){Ns.call(this,n,e,r,r,a,l,v),this.type="ArcCurve"}function Xo(){var n=0,e=0,r=0,a=0;return{initCatmullRom:function(v,b,M,R,k){v=k*(M-v),R=k*(R-b),n=b,e=v,r=-3*b+3*M-2*v-R,a=2*b-2*M+v+R},initNonuniformCatmullRom:function(v,b,M,R,k,X,Y){v=((b-v)/k-(M-v)/(k+X)+(M-b)/X)*X,R=((M-b)/X-(R-b)/(X+Y)+(R-M)/Y)*X,n=b,e=v,r=-3*b+3*M-2*v-R,a=2*b-2*M+v+R},calc:function(v){var b=v*v;return n+e*v+r*b+a*b*v}}}function _s(n,e,r,a){Ei.call(this),this.type="CatmullRomCurve3",this.points=n||[],this.closed=e||!1,this.curveType=r||"centripetal",this.tension=a||.5}function od(n,e,r,a,l){e=.5*(a-e),l=.5*(l-r);var v=n*n;return(2*r-2*a+e+l)*n*v+(-3*r+3*a-2*e-l)*v+e*n+r}function Sg(n,e,r,a){var l=1-n;return l*l*e+2*(1-n)*n*r+n*n*a}function uf(n,e,r,a,l){var v=1-n,b=1-n;return v*v*v*e+3*b*b*n*r+3*(1-n)*n*n*a+n*n*n*l}function Lc(n,e,r,a){Ei.call(this),this.type="CubicBezierCurve",this.v0=n||new Tt,this.v1=e||new Tt,this.v2=r||new Tt,this.v3=a||new Tt}function mh(n,e,r,a){Ei.call(this),this.type="CubicBezierCurve3",this.v0=n||new Pe,this.v1=e||new Pe,this.v2=r||new Pe,this.v3=a||new Pe}function ro(n,e){Ei.call(this),this.type="LineCurve",this.v1=n||new Tt,this.v2=e||new Tt}function Iu(n,e){Ei.call(this),this.type="LineCurve3",this.v1=n||new Pe,this.v2=e||new Pe}function Kl(n,e,r){Ei.call(this),this.type="QuadraticBezierCurve",this.v0=n||new Tt,this.v1=e||new Tt,this.v2=r||new Tt}function gh(n,e,r){Ei.call(this),this.type="QuadraticBezierCurve3",this.v0=n||new Pe,this.v1=e||new Pe,this.v2=r||new Pe}function Re(n){Ei.call(this),this.type="SplineCurve",this.points=n||[]}function Rl(){Ei.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Pu(n){Rl.call(this),this.type="Path",this.currentPoint=new Tt,n&&this.setFromPoints(n)}function Ys(n){Pu.call(this,n),this.uuid=U.generateUUID(),this.type="Shape",this.holes=[]}function ci(n,e){an.call(this),this.type="Light",this.color=new Sn(n),this.intensity=e!==void 0?e:1,this.receiveShadow=void 0}function Ou(n,e,r){ci.call(this,n,r),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(an.DefaultUp),this.updateMatrix(),this.groundColor=new Sn(e)}function cf(n){this.camera=n,this.bias=0,this.radius=1,this.mapSize=new Tt(512,512),this.mapPass=this.map=null,this.matrix=new ir,this._frustum=new pl,this._frameExtents=new Tt(1,1),this._viewportCount=1,this._viewports=[new Dt(0,0,1,1)]}function Vy(){cf.call(this,new Rs(50,1,.5,500))}function hf(n,e,r,a,l,v){ci.call(this,n,e),this.type="SpotLight",this.position.copy(an.DefaultUp),this.updateMatrix(),this.target=new an,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(M){this.intensity=M/Math.PI}}),this.distance=r!==void 0?r:0,this.angle=a!==void 0?a:Math.PI/3,this.penumbra=l!==void 0?l:0,this.decay=v!==void 0?v:1,this.shadow=new Vy}function Ya(){cf.call(this,new Rs(90,1,.5,500)),this._frameExtents=new Tt(4,2),this._viewportCount=6,this._viewports=[new Dt(2,1,1,1),new Dt(0,1,1,1),new Dt(3,1,1,1),new Dt(1,1,1,1),new Dt(3,0,1,1),new Dt(1,0,1,1)],this._cubeDirections=[new Pe(1,0,0),new Pe(-1,0,0),new Pe(0,0,1),new Pe(0,0,-1),new Pe(0,1,0),new Pe(0,-1,0)],this._cubeUps=[new Pe(0,1,0),new Pe(0,1,0),new Pe(0,1,0),new Pe(0,1,0),new Pe(0,0,1),new Pe(0,0,-1)]}function Ka(n,e,r,a){ci.call(this,n,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(v){this.intensity=v/(4*Math.PI)}}),this.distance=r!==void 0?r:0,this.decay=a!==void 0?a:1,this.shadow=new Ya}function Dc(n,e,r,a,l,v){Ku.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=n!==void 0?n:-1,this.right=e!==void 0?e:1,this.top=r!==void 0?r:1,this.bottom=a!==void 0?a:-1,this.near=l!==void 0?l:.1,this.far=v!==void 0?v:2e3,this.updateProjectionMatrix()}function Jd(){cf.call(this,new Dc(-5,5,5,-5,.5,500))}function ff(n,e){ci.call(this,n,e),this.type="DirectionalLight",this.position.copy(an.DefaultUp),this.updateMatrix(),this.target=new an,this.shadow=new Jd}function Nc(n,e){ci.call(this,n,e),this.type="AmbientLight",this.castShadow=void 0}function df(n,e,r,a){ci.call(this,n,e),this.type="RectAreaLight",this.width=r!==void 0?r:10,this.height=a!==void 0?a:10}function Jl(){this.coefficients=[];for(var n=0;9>n;n++)this.coefficients.push(new Pe)}function Ru(n,e){ci.call(this,void 0,e),this.type="LightProbe",this.sh=n!==void 0?n:new Jl}function qv(n){Ui.call(this,n),this.textures={}}function qd(){Yn.call(this),this.type="InstancedBufferGeometry",this.instanceCount=Infinity}function ql(n,e,r,a){typeof r=="number"&&(a=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),ti.call(this,n,e,r),this.meshPerAttribute=a||1}function Qv(n){Ui.call(this,n)}function im(n){Ui.call(this,n)}function ad(n){typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Ui.call(this,n),this.options=void 0}function $v(){this.type="ShapePath",this.color=new Sn,this.subPaths=[],this.currentPath=null}function om(n){this.type="Font",this.data=n}function pf(n){Ui.call(this,n)}function am(n){Ui.call(this,n)}function _g(n,e,r){Ru.call(this,void 0,r),n=new Sn().set(n),r=new Sn().set(e),e=new Pe(n.r,n.g,n.b),n=new Pe(r.r,r.g,r.b),r=Math.sqrt(Math.PI);var a=r*Math.sqrt(.75);this.sh.coefficients[0].copy(e).add(n).multiplyScalar(r),this.sh.coefficients[1].copy(e).sub(n).multiplyScalar(a)}function Lu(n,e){Ru.call(this,void 0,e),n=new Sn().set(n),this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}function e0(n){this.autoStart=n!==void 0?n:!0,this.elapsedTime=this.oldTime=this.startTime=0,this.running=!1}function tc(){an.call(this),this.type="AudioListener",this.context=Us.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new e0}function mf(n){an.call(this),this.type="Audio",this.listener=n,this.context=n.context,this.gain=this.context.createGain(),this.gain.connect(n.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.offset=this.loopEnd=this.loopStart=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._progress=this._startedAt=0,this.filters=[]}function sd(n){mf.call(this,n),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function Qd(n,e){this.analyser=n.context.createAnalyser(),this.analyser.fftSize=e!==void 0?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),n.getOutput().connect(this.analyser)}function Mg(n,e,r){switch(this.binding=n,this.valueSize=r,e){case"quaternion":n=this._slerp,e=this._slerpAdditive;var a=this._setAdditiveIdentityQuaternion;this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":e=n=this._select,a=this._setAdditiveIdentityOther,this.buffer=Array(5*r);break;default:n=this._lerp,e=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=n,this._mixBufferRegionAdditive=e,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.referenceCount=this.useCount=this.cumulativeWeightAdditive=this.cumulativeWeight=0}function sm(n,e,r){r=r||Ll.parseTrackName(e),this._targetGroup=n,this._bindings=n.subscribe_(e,r)}function Ll(n,e,r){this.path=e,this.parsedPath=r||Ll.parseTrackName(e),this.node=Ll.findNode(n,this.parsedPath.nodeName)||n,this.rootNode=n}function Gy(n,e,r,a){this._mixer=n,this._clip=e,this._localRoot=r||null,this.blendMode=a||e.blendMode,n=e.tracks,e=n.length,r=Array(e),a={endingStart:2400,endingEnd:2400};for(var l=0;l!==e;++l){var v=n[l].createInterpolant(null);r[l]=v,v.settings=a}this._interpolantSettings=a,this._interpolants=r,this._propertyBindings=Array(e),this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1,this.repetitions=Infinity,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0}function Eg(n){this._root=n,this._initMemoryManager(),this.time=this._accuIndex=0,this.timeScale=1}function Fc(n,e){typeof n=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),n=e),this.value=n}function rl(n,e,r){tf.call(this,n,e),this.meshPerAttribute=r||1}function Bc(n,e,r,a){this.ray=new os(n,e),this.near=r||0,this.far=a||Infinity,this.camera=null,this.layers=new Do,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Zi(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function t0(n,e){return n.distance-e.distance}function r0(n,e,r,a){if(n.layers.test(e.layers)&&n.raycast(e,r),a===!0){n=n.children,a=0;for(var l=n.length;a<l;a++)r0(n[a],e,r,!0)}}function zc(n,e){this.min=n!==void 0?n:new Tt(Infinity,Infinity),this.max=e!==void 0?e:new Tt(-Infinity,-Infinity)}function $d(n,e){this.start=n!==void 0?n:new Pe,this.end=e!==void 0?e:new Pe}function jc(n){an.call(this),this.material=n,this.render=function(){},this.hasUvs=this.hasColors=this.hasNormals=this.hasPositions=!1,this.uvArray=this.colorArray=this.normalArray=this.positionArray=null,this.count=0}function nl(n,e){an.call(this),this.light=n,this.light.updateMatrixWorld(),this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.color=e,n=new Yn,e=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(var r=0,a=1;32>r;r++,a++){var l=r/32*Math.PI*2,v=a/32*Math.PI*2;e.push(Math.cos(l),Math.sin(l),1,Math.cos(v),Math.sin(v),1)}n.setAttribute("position",new _n(e,3)),e=new Aa({fog:!1,toneMapped:!1}),this.cone=new $i(n,e),this.add(this.cone),this.update()}function Wy(n){var e=[];n&&n.isBone&&e.push(n);for(var r=0;r<n.children.length;r++)e.push.apply(e,Wy(n.children[r]));return e}function gf(n){for(var e=Wy(n),r=new Yn,a=[],l=[],v=new Sn(0,0,1),b=new Sn(0,1,0),M=0;M<e.length;M++){var R=e[M];R.parent&&R.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),l.push(v.r,v.g,v.b),l.push(b.r,b.g,b.b))}r.setAttribute("position",new _n(a,3)),r.setAttribute("color",new _n(l,3)),a=new Aa({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0}),$i.call(this,r,a),this.type="SkeletonHelper",this.root=n,this.bones=e,this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1}function ld(n,e,r){this.light=n,this.light.updateMatrixWorld(),this.color=r,n=new Wi(e,4,2),e=new No({wireframe:!0,fog:!1,toneMapped:!1}),so.call(this,n,e),this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function rc(n,e,r){an.call(this),this.light=n,this.light.updateMatrixWorld(),this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,n=new Qp(e),n.rotateY(.5*Math.PI),this.material=new No({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0),e=n.getAttribute("position"),e=new Float32Array(3*e.count),n.setAttribute("color",new ti(e,3)),this.add(new so(n,this.material)),this.update()}function vh(n,e,r,a){n=n||10,e=e||10,r=new Sn(r!==void 0?r:4473924),a=new Sn(a!==void 0?a:8947848);var l=e/2,v=n/e,b=n/2;n=[];for(var M=[],R=0,k=0,X=-b;R<=e;R++,X+=v){n.push(-b,0,X,b,0,X),n.push(X,0,-b,X,0,b);var Y=R===l?r:a;Y.toArray(M,k),k+=3,Y.toArray(M,k),k+=3,Y.toArray(M,k),k+=3,Y.toArray(M,k),k+=3}e=new Yn,e.setAttribute("position",new _n(n,3)),e.setAttribute("color",new _n(M,3)),r=new Aa({vertexColors:!0,toneMapped:!1}),$i.call(this,e,r),this.type="GridHelper"}function Tg(n,e,r,a,l,v){n=n||10,e=e||16,r=r||8,a=a||64,l=new Sn(l!==void 0?l:4473924),v=new Sn(v!==void 0?v:8947848);var b=[],M=[],R;for(R=0;R<=e;R++){var k=R/e*2*Math.PI,X=Math.sin(k)*n;k=Math.cos(k)*n,b.push(0,0,0),b.push(X,0,k);var Y=R&1?l:v;M.push(Y.r,Y.g,Y.b),M.push(Y.r,Y.g,Y.b)}for(R=0;R<=r;R++){Y=R&1?l:v;var ie=n-n/r*R;for(e=0;e<a;e++)k=e/a*2*Math.PI,X=Math.sin(k)*ie,k=Math.cos(k)*ie,b.push(X,0,k),M.push(Y.r,Y.g,Y.b),k=(e+1)/a*2*Math.PI,X=Math.sin(k)*ie,k=Math.cos(k)*ie,b.push(X,0,k),M.push(Y.r,Y.g,Y.b)}n=new Yn,n.setAttribute("position",new _n(b,3)),n.setAttribute("color",new _n(M,3)),b=new Aa({vertexColors:!0,toneMapped:!1}),$i.call(this,n,b),this.type="PolarGridHelper"}function ep(n,e,r){an.call(this),this.light=n,this.light.updateMatrixWorld(),this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,e===void 0&&(e=1),n=new Yn,n.setAttribute("position",new _n([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3)),e=new Aa({fog:!1,toneMapped:!1}),this.lightPlane=new wa(n,e),this.add(this.lightPlane),n=new Yn,n.setAttribute("position",new _n([0,0,0,0,0,1],3)),this.targetLine=new wa(n,e),this.add(this.targetLine),this.update()}function Uc(n){function e(le,Ae,we){r(le,we),r(Ae,we)}function r(le,Ae){v.push(0,0,0),b.push(Ae.r,Ae.g,Ae.b),M[le]===void 0&&(M[le]=[]),M[le].push(v.length/3-1)}var a=new Yn,l=new Aa({color:16777215,vertexColors:!0,toneMapped:!1}),v=[],b=[],M={},R=new Sn(16755200),k=new Sn(16711680),X=new Sn(43775),Y=new Sn(16777215),ie=new Sn(3355443);e("n1","n2",R),e("n2","n4",R),e("n4","n3",R),e("n3","n1",R),e("f1","f2",R),e("f2","f4",R),e("f4","f3",R),e("f3","f1",R),e("n1","f1",R),e("n2","f2",R),e("n3","f3",R),e("n4","f4",R),e("p","n1",k),e("p","n2",k),e("p","n3",k),e("p","n4",k),e("u1","u2",X),e("u2","u3",X),e("u3","u1",X),e("c","t",Y),e("p","c",ie),e("cn1","cn2",ie),e("cn3","cn4",ie),e("cf1","cf2",ie),e("cf3","cf4",ie),a.setAttribute("position",new _n(v,3)),a.setAttribute("color",new _n(b,3)),$i.call(this,a,l),this.type="CameraHelper",this.camera=n,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=M,this.update()}function Ms(n,e,r,a,l,v,b){if(z2.set(l,v,b).unproject(a),n=e[n],n!==void 0)for(r=r.getAttribute("position"),e=0,a=n.length;e<a;e++)r.setXYZ(n[e],z2.x,z2.y,z2.z)}function Oa(n,e){this.object=n,e===void 0&&(e=16776960),n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var r=new Float32Array(24),a=new Yn;a.setIndex(new ti(n,1)),a.setAttribute("position",new ti(r,3)),$i.call(this,a,new Aa({color:e,toneMapped:!1})),this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}function ta(n,e){this.type="Box3Helper",this.box=n,e=e||16776960,n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var r=new Yn;r.setIndex(new ti(n,1)),r.setAttribute("position",new _n([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),$i.call(this,r,new Aa({color:e,toneMapped:!1})),this.type="Box3Helper",this.geometry.computeBoundingSphere()}function Xi(n,e,r){this.plane=n,this.size=e===void 0?1:e,n=r!==void 0?r:16776960,e=new Yn,e.setAttribute("position",new _n([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),e.computeBoundingSphere(),wa.call(this,e,new Aa({color:n,toneMapped:!1})),this.type="PlaneHelper",e=new Yn,e.setAttribute("position",new _n([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),e.computeBoundingSphere(),this.add(new so(e,new No({color:n,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}function Es(n,e,r,a,l,v){an.call(this),this.type="ArrowHelper",n===void 0&&(n=new Pe(0,0,1)),e===void 0&&(e=new Pe(0,0,0)),r===void 0&&(r=1),a===void 0&&(a=16776960),l===void 0&&(l=.2*r),v===void 0&&(v=.2*l),U2===void 0&&(U2=new Yn,U2.setAttribute("position",new _n([0,0,0,0,1,0],3)),qw=new Mu(0,.5,1,5,1),qw.translate(0,-.5,0)),this.position.copy(e),this.line=new wa(U2,new Aa({color:a,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new so(qw,new No({color:a,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(n),this.setLength(r,l,v)}function Tr(n){n=n||1;var e=[0,0,0,n,0,0,0,0,0,0,n,0,0,0,0,0,0,n];n=new Yn,n.setAttribute("position",new _n(e,3)),n.setAttribute("color",new _n([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),e=new Aa({vertexColors:!0,toneMapped:!1}),$i.call(this,n,e),this.type="AxesHelper"}function Ig(n){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),_s.call(this,n),this.type="catmullrom"}function gs(){this.needsSwap=this.enabled=!0,this.renderToScreen=this.clear=!1}var Ql=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof Be!="undefined"?Be:typeof self!="undefined"?self:{},po=Fe(function(n){n=n.exports=typeof window!="undefined"&&Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")(),typeof __g=="number"&&(__g=n)}),Fi=Fe(function(n){n=n.exports={version:"2.6.5"},typeof __e=="number"&&(__e=n)}),yh=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e},za=function(e,r,a){if(yh(e),r===void 0)return e;switch(a){case 1:return function(l){return e.call(r,l)};case 2:return function(l,v){return e.call(r,l,v)};case 3:return function(l,v,b){return e.call(r,l,v,b)}}return function(){return e.apply(r,arguments)}},Ra=function(e){return typeof e=="object"?e!==null:typeof e=="function"},yl=function(e){if(!Ra(e))throw TypeError(e+" is not an object!");return e},kc=function(e){try{return!!e()}catch(r){return!0}},nc=!kc(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7}),ic=po.document,n0=Ra(ic)&&Ra(ic.createElement),oA=!nc&&!kc(function(){return Object.defineProperty(n0?ic.createElement("div"):{},"a",{get:function(){return 7}}).a!=7}),i0=function(e,r){if(!Ra(e))return e;var a,l;if(r&&typeof(a=e.toString)=="function"&&!Ra(l=a.call(e))||typeof(a=e.valueOf)=="function"&&!Ra(l=a.call(e))||!r&&typeof(a=e.toString)=="function"&&!Ra(l=a.call(e)))return l;throw TypeError("Can't convert object to primitive value")},o0=Object.defineProperty,$l={f:nc?Object.defineProperty:function(n,e,r){if(yl(n),e=i0(e,!0),yl(r),oA)try{return o0(n,e,r)}catch(a){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(n[e]=r.value),n}},Dl=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}},Xs=nc?function(n,e,r){return $l.f(n,e,Dl(1,r))}:function(n,e,r){return n[e]=r,n},xh={}.hasOwnProperty,ko=function(e,r){return xh.call(e,r)},Ja=function n(e,r,a){var l=e&n.F,v=e&n.G,b=e&n.S,M=e&n.P,R=e&n.B,k=e&n.W,X=v?Fi:Fi[r]||(Fi[r]={}),Y=X.prototype;b=v?po:b?po[r]:(po[r]||{}).prototype;var ie;v&&(a=r);for(ie in a)if(r=!l&&b&&b[ie]!==void 0,!r||!ko(X,ie)){var le=r?b[ie]:a[ie];X[ie]=v&&typeof b[ie]!="function"?a[ie]:R&&r?za(le,po):k&&b[ie]==le?function(Ae){var we=function(yt,dt,vt){if(this instanceof Ae){switch(arguments.length){case 0:return new Ae;case 1:return new Ae(yt);case 2:return new Ae(yt,dt)}return new Ae(yt,dt,vt)}return Ae.apply(this,arguments)};return we.prototype=Ae.prototype,we}(le):M&&typeof le=="function"?za(Function.call,le):le,M&&((X.virtual||(X.virtual={}))[ie]=le,e&n.R&&Y&&!Y[ie]&&Xs(Y,ie,le))}};Ja.F=1,Ja.G=2,Ja.S=4,Ja.P=8,Ja.B=16,Ja.W=32,Ja.U=64,Ja.R=128;var Kr=Ja;Kr(Kr.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}});var lm=Fi.Math.log2,a0=Fe(function(n){n.exports={default:lm,__esModule:!0}}),tp=We(a0),um=Math.ceil,ud=Math.floor,rp=function(e){return isNaN(e=+e)?0:(0<e?ud:um)(e)},vf=function(e){if(e==null)throw TypeError("Can't call method on  "+e);return e},il={},dx={}.toString,yf=function(e){return dx.call(e).slice(8,-1)},Pg=Object("z").propertyIsEnumerable(0)?Object:function(n){return yf(n)=="String"?n.split(""):Object(n)},eu=function(e){return Pg(vf(e))},Og=Math.min,cd=function(e){return 0<e?Og(rp(e),9007199254740991):0},np=Math.max,ol=Math.min,oc=Fe(function(n){var e=po["__core-js_shared__"]||(po["__core-js_shared__"]={});(n.exports=function(r,a){return e[r]||(e[r]=a!==void 0?a:{})})("versions",[]).push({version:Fi.version,mode:"pure",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"})}),Yy=0,s0=Math.random(),Mo=function(e){return"Symbol(".concat(e===void 0?"":e,")_",(++Yy+s0).toString(36))},px=oc("keys"),l0=function(e){return px[e]||(px[e]=Mo(e))},ip=function(n){return function(e,r,a){e=eu(e);var l=cd(e.length);if(a=rp(a),a=0>a?np(a+l,0):ol(a,l),n&&r!=r){for(;l>a;)if(r=e[a++],r!=r)return!0}else for(;l>a;a++)if((n||a in e)&&e[a]===r)return n||a||0;return!n&&-1}}(!1),Rg=l0("IE_PROTO"),mx=function(e,r){e=eu(e);var a=0,l=[],v;for(v in e)v!=Rg&&ko(e,v)&&l.push(v);for(;r.length>a;)ko(e,v=r[a++])&&(~ip(l,v)||l.push(v));return l},u0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),al=Object.keys||function(n){return mx(n,u0)},gx=nc?Object.defineProperties:function(n,e){yl(n);for(var r=al(e),a=r.length,l=0,v;a>l;)$l.f(n,v=r[l++],e[v]);return n},cm=po.document,Lg=cm&&cm.documentElement,vx=l0("IE_PROTO"),hm=function(){},Fs=function(){var e=n0?ic.createElement("iframe"):{},r=u0.length;for(e.style.display="none",Lg.appendChild(e),e.src="javascript:",e=e.contentWindow.document,e.open(),e.write("<script>document.F=Object</script>"),e.close(),Fs=e.F;r--;)delete Fs.prototype[u0[r]];return Fs()},xl=Object.create||function(n,e){if(n!==null){hm.prototype=yl(n);var r=new hm;hm.prototype=null,r[vx]=n}else r=Fs();return e===void 0?r:gx(r,e)},as=Fe(function(n){var e=oc("wks"),r=po.Symbol,a=typeof r=="function";(n.exports=function(l){return e[l]||(e[l]=a&&r[l]||(a?r:Mo)("Symbol."+l))}).store=e}),Dg=$l.f,Hc=as("toStringTag"),xf=function(e,r,a){e&&!ko(e=a?e:e.prototype,Hc)&&Dg(e,Hc,{configurable:!0,value:r})},c0={};Xs(c0,as("iterator"),function(){return this});var Du=function(e,r,a){e.prototype=xl(c0,{next:Dl(1,a)}),xf(e,r+" Iterator")},fm=l0("IE_PROTO"),h0=Object.prototype,Vc=Object.getPrototypeOf||function(n){return n=Object(vf(n)),ko(n,fm)?n[fm]:typeof n.constructor=="function"&&n instanceof n.constructor?n.constructor.prototype:n instanceof Object?h0:null},dm=as("iterator"),Ch=!([].keys&&"next"in[].keys()),Xy=function(){return this},Ng=function(e,r,a,l,v,b,M){Du(a,r,l),l=function(vt){return!Ch&&vt in Y?Y[vt]:function(){return new a(this,vt)}};var R=r+" Iterator",k=v=="values",X=!1,Y=e.prototype,ie=Y[dm]||Y["@@iterator"]||v&&Y[v],le=ie||l(v),Ae=v?k?l("entries"):le:void 0,we=r=="Array"&&Y.entries||ie,Qe;if(we&&(e=Vc(we.call(new e)),e!==Object.prototype&&e.next&&xf(e,R,!0)),k&&ie&&ie.name!=="values"&&(X=!0,le=function(){return ie.call(this)}),M&&(Ch||X||!Y[dm])&&Xs(Y,dm,le),il[r]=le,il[R]=Xy,v){var yt={values:k?le:l("values"),keys:b?le:l("keys"),entries:Ae};if(M)for(Qe in yt)Qe in Y||Xs(Y,Qe,yt[Qe]);else Kr(Kr.P+Kr.F*(Ch||X),r,yt)}return yt},f0=function(n){return function(e,r){e=String(vf(e)),r=rp(r);var a=e.length,l;if(0>r||r>=a)return n?"":void 0;var v=e.charCodeAt(r);return 55296>v||56319<v||r+1===a||56320>(l=e.charCodeAt(r+1))||57343<l?n?e.charAt(r):v:n?e.slice(r,r+2):(v-55296<<10)+(l-56320)+65536}}(!0);Ng(String,"String",function(n){this._t=String(n),this._i=0},function(){var n=this._t,e=this._i;return e>=n.length?{value:void 0,done:!0}:(n=f0(n,e),this._i+=n.length,{value:n,done:!1})});var d0=function(e,r,a,l){try{return l?r(yl(a)[0],a[1]):r(a)}catch(v){throw r=e.return,r!==void 0&&yl(r.call(e)),v}},Zy=as("iterator"),p0=Array.prototype,m0=as("toStringTag"),Ky=yf(function(){return arguments}())=="Arguments",Nu=function(e){var r;if(e===void 0)var a="Undefined";else{if(e===null)var l="Null";else{e:{var v=e=Object(e);try{l=v[m0];break e}catch(b){}l=void 0}l=typeof(a=l)=="string"?a:Ky?yf(e):(r=yf(e))=="Object"&&typeof e.callee=="function"?"Arguments":r}a=l}return a},yx=as("iterator"),Fg=Fi.getIteratorMethod=function(n){if(n!=null)return n[yx]||n["@@iterator"]||il[Nu(n)]},Nl=as("iterator"),Gc=!1;try{[7][Nl]().return=function(){Gc=!0}}catch(n){}var op=function(e,r){if(!r&&!Gc)return!1;var a=!1;try{r=[7];var l=r[Nl]();l.next=function(){return{done:a=!0}},r[Nl]=function(){return l},e(r)}catch(v){}return a};Kr(Kr.S+Kr.F*!op(function(n){}),"Array",{from:function(e){var r=Object(vf(e)),a=typeof this=="function"?this:Array,l=arguments.length,v=1<l?arguments[1]:void 0,b=v!==void 0,M=0,R=Fg(r),k;if(b&&(v=za(v,2<l?arguments[2]:void 0,2)),R!=null&&(a!=Array||R===void 0||il.Array!==R&&p0[Zy]!==R))for(r=R.call(r),a=new a;!(k=r.next()).done;M++)l=a,R=M,k=b?d0(r,v,[k.value,M],!0):k.value,R in l?$l.f(l,R,Dl(0,k)):l[R]=k;else for(l=cd(r.length),a=new a(l);l>M;M++){R=a,k=M;var X=b?v(r[M],M):r[M];k in R?$l.f(R,k,Dl(0,X)):R[k]=X}return a.length=M,a}});var Jy=Fi.Array.from,Ah=Fe(function(n){n.exports={default:Jy,__esModule:!0}}),Cl=We(Ah),Wc=function(e,r){return{value:r,done:!!e}};Ng(Array,"Array",function(n,e){this._t=eu(n),this._i=0,this._k=e},function(){var n=this._t,e=this._k,r=this._i++;return!n||r>=n.length?(this._t=void 0,Wc(1)):e=="keys"?Wc(0,r):e=="values"?Wc(0,n[r]):Wc(0,[r,n[r]])},"values"),il.Arguments=il.Array;for(var Bg=as("toStringTag"),g0="CSSRuleList CSSStyleDeclaration CSSValueList ClientRectList DOMRectList DOMStringList DOMTokenList DataTransferItemList FileList HTMLAllCollection HTMLCollection HTMLFormElement HTMLSelectElement MediaList MimeTypeArray NamedNodeMap NodeList PaintRequestList Plugin PluginArray SVGLengthList SVGNumberList SVGPathSegList SVGPointList SVGStringList SVGTransformList SourceBufferList StyleSheetList TextTrackCueList TextTrackList TouchList".split(" "),ap=0;ap<g0.length;ap++){var yo=g0[ap],pm=po[yo],Ti=pm&&pm.prototype;Ti&&!Ti[Bg]&&Xs(Ti,Bg,yo),il[yo]=il.Array}var zg=function(e,r,a,l){if(!(e instanceof r)||l!==void 0&&l in e)throw TypeError(a+": incorrect invocation!");return e},La=Fe(function(n){var e={},r={};n=n.exports=function(a,l,v,b,M){M=M?function(){return a}:Fg(a),v=za(v,b,l?2:1),b=0;var R,k;if(typeof M!="function")throw TypeError(a+" is not iterable!");if(M===void 0||il.Array!==M&&p0[Zy]!==M){for(b=M.call(a);!(k=b.next()).done;)if(M=d0(b,v,k.value,l),M===e||M===r)return M}else for(R=cd(a.length);R>b;b++)if(M=l?v(yl(k=a[b])[0],k[1]):v(a[b]),M===e||M===r)return M},n.BREAK=e,n.RETURN=r}),Bs=as("species"),hd=function(e,r){e=yl(e).constructor;var a;return e===void 0||(a=yl(e)[Bs])==null?r:yh(a)},qy=function(e,r,a){var l=a===void 0;switch(r.length){case 0:return l?e():e.call(a);case 1:return l?e(r[0]):e.call(a,r[0]);case 2:return l?e(r[0],r[1]):e.call(a,r[0],r[1]);case 3:return l?e(r[0],r[1],r[2]):e.call(a,r[0],r[1],r[2]);case 4:return l?e(r[0],r[1],r[2],r[3]):e.call(a,r[0],r[1],r[2],r[3])}return e.apply(a,r)},mm=po.process,gm=po.setImmediate,xx=po.clearImmediate,Qy=po.MessageChannel,sp=po.Dispatch,jg=0,fa={},Ug=function(){var e=+this;if(fa.hasOwnProperty(e)){var r=fa[e];delete fa[e],r()}},lp=function(e){Ug.call(e.data)};if(!gm||!xx)if(gm=function(e){for(var r=[],a=1;arguments.length>a;)r.push(arguments[a++]);return fa[++jg]=function(){qy(typeof e=="function"?e:Function(e),r)},Fu(jg),jg},xx=function(e){delete fa[e]},yf(mm)=="process")var Fu=function(e){mm.nextTick(za(Ug,e,1))};else if(sp&&sp.now)Fu=function(e){sp.now(za(Ug,e,1))};else if(Qy){var up=new Qy,$y=up.port2;up.port1.onmessage=lp,Fu=za($y.postMessage,$y,1)}else po.addEventListener&&typeof postMessage=="function"&&!po.importScripts?(Fu=function(e){po.postMessage(e+"","*")},po.addEventListener("message",lp,!1)):Fu="onreadystatechange"in(n0?ic.createElement("script"):{})?function(n){Lg.appendChild(n0?ic.createElement("script"):{}).onreadystatechange=function(){Lg.removeChild(this),Ug.call(n)}}:function(n){setTimeout(za(Ug,n,1),0)};var ac=gm,Fl=po.MutationObserver||po.WebKitMutationObserver,v0=po.process,fd=po.Promise,sl=yf(v0)=="process",Cf={f:function(e){return new lt(e)}},dd=function(e){try{return{e:!1,v:e()}}catch(r){return{e:!0,v:r}}},vm=po.navigator,pd=vm&&vm.userAgent||"",Af=function(e,r){if(yl(e),Ra(r)&&r.constructor===e)return r;e=Cf.f(e);var a=e.resolve;return a(r),e.promise},Bi=function(e,r,a){for(var l in r)a&&e[l]?e[l]=r[l]:Xs(e,l,r[l]);return e},ss=as("species"),tu=function(e){e=typeof Fi[e]=="function"?Fi[e]:po[e],nc&&e&&!e[ss]&&$l.f(e,ss,{configurable:!0,get:function(){return this}})},ai=function(){var n,e,r=function(){var R;for(sl&&(R=v0.domain)&&R.exit();n;){var k=n.fn;n=n.next;try{k()}catch(X){throw n?a():e=void 0,X}}e=void 0,R&&R.enter()};if(sl)var a=function(){v0.nextTick(r)};else if(!Fl||po.navigator&&po.navigator.standalone)if(fd&&fd.resolve){var l=fd.resolve(void 0);a=function(){l.then(r)}}else a=function(){ac.call(po,r)};else{var v=!0,b=document.createTextNode("");new Fl(r).observe(b,{characterData:!0}),a=function(){b.data=v=!v}}return function(M){M={fn:M,next:void 0},e&&(e.next=M),n||(n=M,a()),e=M}}(),Ao=po.TypeError,wh=po.process,wf=wh&&wh.versions,dn=wf&&wf.v8||"",bh=po.Promise,ym=Nu(wh)=="process",kg=function(){},Cx,cp=Cx=Cf.f,Hg=!!function(){try{var n=bh.resolve(1),e=(n.constructor={})[as("species")]=function(r){r(kg,kg)};return(ym||typeof PromiseRejectionEvent=="function")&&n.then(kg)instanceof e&&dn.indexOf("6.6")!==0&&pd.indexOf("Chrome/66")===-1}catch(r){}}(),Vg=function(e){var r;return Ra(e)&&typeof(r=e.then)=="function"?r:!1},bf=function(e,r){if(!e._n){e._n=!0;var a=e._c;ai(function(){for(var l=e._v,v=e._s==1,b=0;a.length>b;){var M=void 0,R=void 0,k=void 0,X=a[b++],Y=v?X.ok:X.fail,ie=X.resolve,le=X.reject,Ae=X.domain;try{Y?(v||(e._h==2&&Bl(e),e._h=1),Y===!0?k=l:(Ae&&Ae.enter(),k=Y(l),Ae&&(Ae.exit(),M=!0)),k===X.promise?le(Ao("Promise-chain cycle")):(R=Vg(k))?R.call(k,ie,le):ie(k)):le(l)}catch(we){Ae&&!M&&Ae.exit(),le(we)}}e._c=[],e._n=!1,r&&!e._h&&Sh(e)})}},Sh=function(e){ac.call(po,function(){var r=e._v,a=e._h!==1&&(e._a||e._c).length===0,l,v;if(a){var b=dd(function(){ym?wh.emit("unhandledRejection",r,e):(l=po.onunhandledrejection)?l({promise:e,reason:r}):(v=po.console)&&v.error&&v.error("Unhandled promise rejection",r)});e._h=ym||e._h!==1&&(e._a||e._c).length===0?2:1}if(e._a=void 0,a&&b.e)throw b.v})},Bl=function(e){ac.call(po,function(){var r;ym?wh.emit("rejectionHandled",e):(r=po.onrejectionhandled)&&r({promise:e,reason:e._v})})},_h=function(e){var r=this;r._d||(r._d=!0,r=r._w||r,r._v=e,r._s=2,r._a||(r._a=r._c.slice()),bf(r,!0))},Ax=function n(e){var r=this,a;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw Ao("Promise can't be resolved itself");(a=Vg(e))?ai(function(){var l={_w:r,_d:!1};try{a.call(e,za(n,l,1),za(_h,l,1))}catch(v){_h.call(l,v)}}):(r._v=e,r._s=1,bf(r,!1))}catch(l){_h.call({_w:r,_d:!1},l)}}};if(!Hg){bh=function(e){zg(this,bh,"Promise","_h"),yh(e),xm.call(this);try{e(za(Ax,this,1),za(_h,this,1))}catch(r){_h.call(this,r)}};var xm=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1};xm.prototype=Bi(bh.prototype,{then:function(e,r){var a=cp(hd(this,bh));return a.ok=typeof e=="function"?e:!0,a.fail=typeof r=="function"&&r,a.domain=ym?wh.domain:void 0,this._c.push(a),this._a&&this._a.push(a),this._s&&bf(this,!1),a.promise},catch:function(e){return this.then(void 0,e)}});var y0=function(){var e=new xm;this.promise=e,this.resolve=za(Ax,e,1),this.reject=za(_h,e,1)};Cf.f=cp=function(e){return e===bh||e===x0?new y0(e):Cx(e)}}Kr(Kr.G+Kr.W+Kr.F*!Hg,{Promise:bh}),xf(bh,"Promise"),tu("Promise");var x0=Fi.Promise;Kr(Kr.S+Kr.F*!Hg,"Promise",{reject:function(e){var r=cp(this),a=r.reject;return a(e),r.promise}}),Kr(Kr.S+1*Kr.F,"Promise",{resolve:function(e){return Af(this===x0?bh:this,e)}}),Kr(Kr.S+Kr.F*!(Hg&&op(function(n){bh.all(n).catch(kg)})),"Promise",{all:function(e){var r=this,a=cp(r),l=a.resolve,v=a.reject,b=dd(function(){var M=[],R=0,k=1;La(e,!1,function(X){var Y=R++,ie=!1;M.push(void 0),k++,r.resolve(X).then(function(le){ie||(ie=!0,M[Y]=le,--k||l(M))},v)}),--k||l(M)});return b.e&&v(b.v),a.promise},race:function(e){var r=this,a=cp(r),l=a.reject,v=dd(function(){La(e,!1,function(b){r.resolve(b).then(a.resolve,l)})});return v.e&&l(v.v),a.promise}}),Kr(Kr.P+Kr.R,"Promise",{finally:function(e){var r=hd(this,Fi.Promise||po.Promise),a=typeof e=="function";return this.then(a?function(l){return Af(r,e()).then(function(){return l})}:e,a?function(l){return Af(r,e()).then(function(){throw l})}:e)}}),Kr(Kr.S,"Promise",{try:function(e){var r=Cf.f(this);return e=dd(e),(e.e?r.reject:r.resolve)(e.v),r.promise}});var Bu=Fi.Promise,wx=Fe(function(n){n.exports={default:Bu,__esModule:!0}}),C0=We(wx),hp=Fe(function(n){var e=Mo("meta"),r=$l.f,a=0,l=Object.isExtensible||function(){return!0},v=!kc(function(){return l(Object.preventExtensions({}))}),b=function(k){r(k,e,{value:{i:"O"+ ++a,w:{}}})},M=n.exports={KEY:e,NEED:!1,fastKey:function(k,X){if(!Ra(k))return typeof k=="symbol"?k:(typeof k=="string"?"S":"P")+k;if(!ko(k,e)){if(!l(k))return"F";if(!X)return"E";b(k)}return k[e].i},getWeak:function(k,X){if(!ko(k,e)){if(!l(k))return!0;if(!X)return!1;b(k)}return k[e].w},onFreeze:function(k){return v&&M.NEED&&l(k)&&!ko(k,e)&&b(k),k}}}),A0=function(e,r){var a=(Fi.Object||{})[e]||Object[e],l={};l[e]=r(a),Kr(Kr.S+Kr.F*kc(function(){a(1)}),"Object",l)},bx=hp.onFreeze;A0("freeze",function(n){return function(e){return n&&Ra(e)?n(bx(e)):e}});var Mh=Fi.Object.freeze,hu=Fe(function(n){n.exports={default:Mh,__esModule:!0}}),Eh=We(hu),Gg={f:as},e1=Gg.f("iterator"),Th=Fe(function(n){n.exports={default:e1,__esModule:!0}});We(Th);var Cm=$l.f,Wg=function(e){var r=Fi.Symbol||(Fi.Symbol={});e.charAt(0)=="_"||e in r||Cm(r,e,{value:Gg.f(e)})},Am=Object.getOwnPropertySymbols,wm={}.propertyIsEnumerable,fp=Array.isArray||function(n){return yf(n)=="Array"},w0=u0.concat("length","prototype"),Yc=Object.getOwnPropertyNames||function(n){return mx(n,w0)},md=Yc,aA={}.toString,Sx=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],bm=function(e){if(Sx&&aA.call(e)=="[object Window]")try{var r=md(e)}catch(a){r=Sx.slice()}else r=md(eu(e));return r},Sm=Object.getOwnPropertyDescriptor,gd={f:nc?Sm:function(n,e){if(n=eu(n),e=i0(e,!0),oA)try{return Sm(n,e)}catch(r){}if(ko(n,e))return Dl(!wm.call(n,e),n[e])}},C2=hp.KEY,sA=gd.f,zu=$l.f,b0=bm,ju=po.Symbol,t1=po.JSON,r1=t1&&t1.stringify,fu=as("_hidden"),n1=as("toPrimitive"),S0={}.propertyIsEnumerable,zl=oc("symbol-registry"),Ih=oc("symbols"),Sf=oc("op-symbols"),Xc=Object.prototype,dp=typeof ju=="function",Yg=po.QObject,_0=!Yg||!Yg.prototype||!Yg.prototype.findChild,M0=nc&&kc(function(){return xl(zu({},"a",{get:function(){return zu(this,"a",{value:7}).a}})).a!=7})?function(n,e,r){var a=sA(Xc,e);a&&delete Xc[e],zu(n,e,r),a&&n!==Xc&&zu(Xc,e,a)}:zu,i1=function(e){var r=Ih[e]=xl(ju.prototype);return r._k=e,r},vd=dp&&typeof ju.iterator=="symbol"?function(n){return typeof n=="symbol"}:function(n){return n instanceof ju},o1=function n(e,r,a){return e===Xc&&n(Sf,r,a),yl(e),r=i0(r,!0),yl(a),ko(Ih,r)?(a.enumerable?(ko(e,fu)&&e[fu][r]&&(e[fu][r]=!1),a=xl(a,{enumerable:Dl(0,!1)})):(ko(e,fu)||zu(e,fu,Dl(1,{})),e[fu][r]=!0),M0(e,r,a)):zu(e,r,a)},Uu=function(e,r){yl(e);var a=r=eu(r),l=al(a),v=Am;if(v){v=v(a);for(var b=wm,M=0,R;v.length>M;)b.call(a,R=v[M++])&&l.push(R)}a=0,R=l.length;for(var k;R>a;)o1(e,k=l[a++],r[k]);return e},lA=function(e){var r=S0.call(this,e=i0(e,!0));return this===Xc&&ko(Ih,e)&&!ko(Sf,e)?!1:r||!ko(this,e)||!ko(Ih,e)||ko(this,fu)&&this[fu][e]?r:!0},Xg=function(e,r){if(e=eu(e),r=i0(r,!0),e!==Xc||!ko(Ih,r)||ko(Sf,r)){var a=sA(e,r);return!a||!ko(Ih,r)||ko(e,fu)&&e[fu][r]||(a.enumerable=!0),a}},_f=function(e){e=b0(eu(e));for(var r=[],a=0,l;e.length>a;)ko(Ih,l=e[a++])||l==fu||l==C2||r.push(l);return r},E0=function(e){var r=e===Xc;e=b0(r?Sf:eu(e));for(var a=[],l=0,v;e.length>l;)ko(Ih,v=e[l++])&&(r?ko(Xc,v):1)&&a.push(Ih[v]);return a};dp||(ju=function(){if(this instanceof ju)throw TypeError("Symbol is not a constructor!");var e=Mo(0<arguments.length?arguments[0]:void 0),r=function a(l){this===Xc&&a.call(Sf,l),ko(this,fu)&&ko(this[fu],e)&&(this[fu][e]=!1),M0(this,e,Dl(1,l))};return nc&&_0&&M0(Xc,e,{configurable:!0,set:r}),i1(e)},Xs(ju.prototype,"toString",function(){return this._k}),gd.f=Xg,$l.f=o1,Yc=bm=_f,wm=lA,Am=E0,Gg.f=function(n){return i1(as(n))}),Kr(Kr.G+Kr.W+Kr.F*!dp,{Symbol:ju});for(var Zg="hasInstance isConcatSpreadable iterator match replace search species split toPrimitive toStringTag unscopables".split(" "),Kg=0;Zg.length>Kg;)as(Zg[Kg++]);for(var T0=al(as.store),yd=0;T0.length>yd;)Wg(T0[yd++]);Kr(Kr.S+Kr.F*!dp,"Symbol",{for:function(e){return ko(zl,e+="")?zl[e]:zl[e]=ju(e)},keyFor:function(e){if(!vd(e))throw TypeError(e+" is not a symbol!");for(var r in zl)if(zl[r]===e)return r},useSetter:function(){_0=!0},useSimple:function(){_0=!1}}),Kr(Kr.S+Kr.F*!dp,"Object",{create:function(e,r){return r===void 0?xl(e):Uu(xl(e),r)},defineProperty:o1,defineProperties:Uu,getOwnPropertyDescriptor:Xg,getOwnPropertyNames:_f,getOwnPropertySymbols:E0}),t1&&Kr(Kr.S+Kr.F*(!dp||kc(function(){var n=ju();return r1([n])!="[null]"||r1({a:n})!="{}"||r1(Object(n))!="{}"})),"JSON",{stringify:function(e){for(var r=[e],a=1,l;arguments.length>a;)r.push(arguments[a++]);if(l=a=r[1],(Ra(a)||e!==void 0)&&!vd(e))return fp(a)||(a=function(b,M){if(typeof l=="function"&&(M=l.call(this,b,M)),!vd(M))return M}),r[1]=a,r1.apply(t1,r)}}),ju.prototype[n1]||Xs(ju.prototype,n1,ju.prototype.valueOf),xf(ju,"Symbol"),xf(Math,"Math",!0),xf(po.JSON,"JSON",!0),Wg("asyncIterator"),Wg("observable");var Jg=Fi.Symbol,_m=Fe(function(n){n.exports={default:Jg,__esModule:!0}});We(_m);var Mf=Fe(function(n,e){e.__esModule=!0,n=Th&&Th.__esModule?Th:{default:Th};var r=_m&&_m.__esModule?_m:{default:_m},a=typeof r.default=="function"&&typeof n.default=="symbol"?function(l){return typeof l}:function(l){return l&&typeof r.default=="function"&&l.constructor===r.default&&l!==r.default.prototype?"symbol":typeof l};e.default=typeof r.default=="function"&&a(n.default)==="symbol"?function(l){return typeof l=="undefined"?"undefined":a(l)}:function(l){return l&&typeof r.default=="function"&&l.constructor===r.default&&l!==r.default.prototype?"symbol":typeof l=="undefined"?"undefined":a(l)}}),xd=We(Mf),Al=function(e,r){if(!Ra(e)||e._t!==r)throw TypeError("Incompatible receiver, "+r+" required!");return e},pp=$l.f,Mm=hp.fastKey,Ef=nc?"_s":"size",qg=function(e,r){var a=Mm(r);if(a!=="F")return e._i[a];for(e=e._f;e;e=e.n)if(e.k==r)return e},I0={getConstructor:function(e,r,a,l){var v=e(function(b,M){zg(b,v,r,"_i"),b._t=r,b._i=xl(null),b._f=void 0,b._l=void 0,b[Ef]=0,M!=null&&La(M,a,b[l],b)});return Bi(v.prototype,{clear:function(){for(var M=Al(this,r),R=M._i,k=M._f;k;k=k.n)k.r=!0,k.p&&(k.p=k.p.n=void 0),delete R[k.i];M._f=M._l=void 0,M[Ef]=0},delete:function(M){var R=Al(this,r);if(M=qg(R,M)){var k=M.n,X=M.p;delete R._i[M.i],M.r=!0,X&&(X.n=k),k&&(k.p=X),R._f==M&&(R._f=k),R._l==M&&(R._l=X),R[Ef]--}return!!M},forEach:function(M){Al(this,r);for(var R=za(M,1<arguments.length?arguments[1]:void 0,3),k;k=k?k.n:this._f;)for(R(k.v,k.k,this);k&&k.r;)k=k.p},has:function(M){return!!qg(Al(this,r),M)}}),nc&&pp(v.prototype,"size",{get:function(){return Al(this,r)[Ef]}}),v},def:function(e,r,a){var l=qg(e,r),v;return l?l.v=a:(e._l=l={i:v=Mm(r,!0),k:r,v:a,p:r=e._l,n:void 0,r:!1},e._f||(e._f=l),r&&(r.n=l),e[Ef]++,v!=="F"&&(e._i[v]=l)),e},getEntry:qg,setStrong:function(e,r,a){Ng(e,r,function(l,v){this._t=Al(l,r),this._k=v,this._l=void 0},function(){for(var l=this._k,v=this._l;v&&v.r;)v=v.p;return this._t&&(this._l=v=v?v.n:this._t._f)?l=="keys"?Wc(0,v.k):l=="values"?Wc(0,v.v):Wc(0,[v.k,v.v]):(this._t=void 0,Wc(1))},a?"entries":"values",!a,!0),tu(r)}},a1=as("species"),_x=function(e,r){if(fp(e)){var a=e.constructor;typeof a!="function"||a!==Array&&!fp(a.prototype)||(a=void 0),Ra(a)&&(a=a[a1],a===null&&(a=void 0))}return new(a===void 0?Array:a)(r)},Cd=function(e,r){var a=e==1,l=e==2,v=e==3,b=e==4,M=e==6,R=e==5||M,k=r||_x;return function(X,Y,ie){var le=Object(vf(X)),Ae=Pg(le);Y=za(Y,ie,3),ie=cd(Ae.length);var we=0;X=a?k(X,ie):l?k(X,0):void 0;for(var Qe,yt;ie>we;we++)if((R||we in Ae)&&(Qe=Ae[we],yt=Y(Qe,we,le),e)){if(a)X[we]=yt;else if(yt)switch(e){case 3:return!0;case 5:return Qe;case 6:return we;case 2:X.push(Qe)}else if(b)return!1}return M?-1:v||b?b:X}},mp=$l.f,P0=Cd(0),gp=function(e,r,a,l,v,b){var M=po[e],R=M,k=v?"set":"add",X=R&&R.prototype,Y={};return nc&&typeof R=="function"&&(b||X.forEach&&!kc(function(){new R().entries().next()}))?(R=r(function(ie,le){zg(ie,R,e,"_c"),ie._c=new M,le!=null&&La(le,v,ie[k],ie)}),P0("add clear delete forEach get has set keys values entries toJSON".split(" "),function(ie){var le=ie=="add"||ie=="set";ie in X&&(!b||ie!="clear")&&Xs(R.prototype,ie,function(Ae,we){return zg(this,R,ie),!le&&b&&!Ra(Ae)?ie=="get"?void 0:!1:(Ae=this._c[ie](Ae===0?0:Ae,we),le?this:Ae)})}),b||mp(R.prototype,"size",{get:function(){return this._c.size}})):(R=l.getConstructor(r,e,v,k),Bi(R.prototype,a),hp.NEED=!0),xf(R,e),Y[e]=R,Kr(Kr.G+Kr.W+Kr.F,Y),b||l.setStrong(R,e,v),R};gp("Map",function(n){return function(){return n(this,0<arguments.length?arguments[0]:void 0)}},{get:function(e){return(e=I0.getEntry(Al(this,"Map"),e))&&e.v},set:function(e,r){return I0.def(Al(this,"Map"),e===0?0:e,r)}},I0,!0),Kr(Kr.P+Kr.R,"Map",{toJSON:function(n){return function(){if(Nu(this)!=n)throw TypeError(n+"#toJSON isn't generic");var e=[];return La(this,!1,e.push,e,void 0),e}}("Map")});var vp=function(e){Kr(Kr.S,e,{of:function(){for(var a=arguments.length,l=Array(a);a--;)l[a]=arguments[a];return new this(l)}})};vp("Map");var O0=function(e){Kr(Kr.S,e,{from:function(a,l,v){var b;if(yh(this),(b=l!==void 0)&&yh(l),a==null)return new this;var M=[];if(b){var R=0,k=za(l,v,2);La(a,!1,function(X){M.push(k(X,R++))})}else La(a,!1,M.push,M);return new this(M)}})};O0("Map");var Mx=Fi.Map,s1=Fe(function(n){n.exports={default:Mx,__esModule:!0}}),R0=We(s1),yp=Object.assign,Qg=!yp||kc(function(){var n={},e={},r=Symbol();return n[r]=7,"abcdefghijklmnopqrst".split("").forEach(function(a){e[a]=a}),yp({},n)[r]!=7||Object.keys(yp({},e)).join("")!="abcdefghijklmnopqrst"})?function(n,e){for(var r=Object(vf(n)),a=arguments.length,l=1,v=Am,b=wm;a>l;)for(var M=Pg(arguments[l++]),R=v?al(M).concat(v(M)):al(M),k=R.length,X=0,Y;k>X;)b.call(M,Y=R[X++])&&(r[Y]=M[Y]);return r}:yp,L0=hp.getWeak,Ex=Cd(5),Em=Cd(6),l1=0,D0=function(e){return e._l||(e._l=new jl)},jl=function(){this.a=[]},Ph=function(e,r){return Ex(e.a,function(a){return a[0]===r})};jl.prototype={get:function(e){if(e=Ph(this,e))return e[1]},has:function(e){return!!Ph(this,e)},set:function(e,r){var a=Ph(this,e);a?a[1]=r:this.a.push([e,r])},delete:function(e){var r=Em(this.a,function(a){return a[0]===e});return~r&&this.a.splice(r,1),!!~r}};var Tf={getConstructor:function(e,r,a,l){var v=e(function(b,M){zg(b,v,r,"_i"),b._t=r,b._i=l1++,b._l=void 0,M!=null&&La(M,a,b[l],b)});return Bi(v.prototype,{delete:function(M){if(!Ra(M))return!1;var R=L0(M);return R===!0?D0(Al(this,r)).delete(M):R&&ko(R,this._i)&&delete R[this._i]},has:function(M){if(!Ra(M))return!1;var R=L0(M);return R===!0?D0(Al(this,r)).has(M):R&&ko(R,this._i)}}),v},def:function(e,r,a){var l=L0(yl(r),!0);return l===!0?D0(e).set(r,a):l[e._i]=a,e},ufstore:D0};Fe(function(n){var e=Cd(0),r=!po.ActiveXObject&&"ActiveXObject"in po,a=hp.getWeak,l=Object.isExtensible,v=Tf.ufstore,b=function(Y){return function(){return Y(this,0<arguments.length?arguments[0]:void 0)}},M={get:function(Y){if(Ra(Y)){var ie=a(Y);return ie===!0?v(Al(this,"WeakMap")).get(Y):ie?ie[this._i]:void 0}},set:function(Y,ie){return Tf.def(Al(this,"WeakMap"),Y,ie)}},R=n.exports=gp("WeakMap",b,M,Tf,!0,!0);if(Al&&r){var k=Tf.getConstructor(b,"WeakMap");Qg(k.prototype,M),hp.NEED=!0,e(["delete","has","get","set"],function(X){var Y=R.prototype,ie=Y[X];Xs(Y,X,function(le,Ae){return Ra(le)&&!l(le)?(this._f||(this._f=new k),le=this._f[X](le,Ae),X=="set"?this:le):ie.call(this,le,Ae)})})}}),vp("WeakMap"),O0("WeakMap");var Tm=Fi.WeakMap,xp=Fe(function(n){n.exports={default:Tm,__esModule:!0}}),Zo=We(xp);A0("keys",function(){return function(n){return al(Object(vf(n)))}});var u1=Fi.Object.keys,c1=Fe(function(n){n.exports={default:u1,__esModule:!0}}),es=We(c1),h1=Fi.JSON||(Fi.JSON={stringify:JSON.stringify}),Cp=function(e){return h1.stringify.apply(h1,arguments)},f1=Fe(function(n){n.exports={default:Cp,__esModule:!0}}),ru=We(f1);Kr(Kr.S,"Object",{create:xl});var uA=Fi.Object,Tx=function(e,r){return uA.create(e,r)},Ix=Fe(function(n){n.exports={default:Tx,__esModule:!0}}),Oe=We(Ix);Kr(Kr.S+Kr.F*!nc,"Object",{defineProperties:gx});var N0=Fi.Object,If=function(e,r){return N0.defineProperties(e,r)},cA=Fe(function(n){n.exports={default:If,__esModule:!0}}),Zi=We(cA);Kr(Kr.S+Kr.F,"Object",{assign:Qg});var $g=Fi.Object.assign,ev=Fe(function(n){n.exports={default:$g,__esModule:!0}}),Le=We(ev);Kr(Kr.S,"Math",{sign:Math.sign||function(n){return(n=+n)==0||n!=n?n:0>n?-1:1}});var hA=Fi.Math.sign,Px=Fe(function(n){n.exports={default:hA,__esModule:!0}}),Ad=We(Px),fA=Math.floor;Kr(Kr.S,"Number",{isInteger:function(e){return!Ra(e)&&isFinite(e)&&fA(e)===e}});var Im=Fi.Number.isInteger,Ox=Fe(function(n){n.exports={default:Im,__esModule:!0}}),Zc=We(Ox);Kr(Kr.S,"Number",{EPSILON:Math.pow(2,-52)});var F0=Math.pow(2,-52),Rx=Fe(function(n){n.exports={default:F0,__esModule:!0}}),ts=We(Rx),Lx=Fe(function(n,e){(function(r,a){a(e)})(Ql,function(r){function a(){}function l(s,t){this.x=s||0,this.y=t||0}function v(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function b(s,t,i,m,A,E,O,F,H,K){Object.defineProperty(this,"id",{value:j_++}),this.uuid=Fo.generateUUID(),this.name="",this.image=s!==void 0?s:b.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=t!==void 0?t:b.DEFAULT_MAPPING,this.wrapS=i!==void 0?i:1001,this.wrapT=m!==void 0?m:1001,this.magFilter=A!==void 0?A:1006,this.minFilter=E!==void 0?E:1008,this.anisotropy=H!==void 0?H:1,this.format=O!==void 0?O:1023,this.internalFormat=null,this.type=F!==void 0?F:1009,this.offset=new l(0,0),this.repeat=new l(1,1),this.center=new l(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new v,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=K!==void 0?K:3e3,this.version=0,this.onUpdate=null}function M(s,t,i,m){this.x=s||0,this.y=t||0,this.z=i||0,this.w=m!==void 0?m:1}function R(s,t,i){this.width=s,this.height=t,this.scissor=new M(0,0,s,t),this.scissorTest=!1,this.viewport=new M(0,0,s,t),i=i||{},this.texture=new b(void 0,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.image={},this.texture.image.width=s,this.texture.image.height=t,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:1006,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!0,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null}function k(s,t,i){R.call(this,s,t,i),this.samples=4}function X(s,t,i,m){this._x=s||0,this._y=t||0,this._z=i||0,this._w=m!==void 0?m:1}function Y(s,t,i){this.x=s||0,this.y=t||0,this.z=i||0}function ie(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function le(s,t,i,m){this._x=s||0,this._y=t||0,this._z=i||0,this._order=m||le.DefaultOrder}function Ae(){this.mask=1}function we(){Object.defineProperty(this,"id",{value:GS++}),this.uuid=Fo.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=we.DefaultUp.clone();var s=new Y,t=new le,i=new X,m=new Y(1,1,1);t._onChange(function(){i.setFromEuler(t,!1)}),i._onChange(function(){t.setFromQuaternion(i,void 0,!1)}),Zi(this,{position:{configurable:!0,enumerable:!0,value:s},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:m},modelViewMatrix:{value:new ie},normalMatrix:{value:new v}}),this.matrix=new ie,this.matrixWorld=new ie,this.matrixAutoUpdate=we.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Ae,this.visible=!0,this.receiveShadow=this.castShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function Qe(){we.call(this),this.type="Scene",this.overrideMaterial=this.fog=this.environment=this.background=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function yt(s,t){this.min=s!==void 0?s:new Y(Infinity,Infinity,Infinity),this.max=t!==void 0?t:new Y(-Infinity,-Infinity,-Infinity)}function dt(s,t,i,m,A){var E,O=0;for(E=s.length-3;O<=E;O+=3){Y1.fromArray(s,O);var F=A.x*Math.abs(Y1.x)+A.y*Math.abs(Y1.y)+A.z*Math.abs(Y1.z),H=t.dot(Y1),K=i.dot(Y1),$=m.dot(Y1);if(Math.max(-Math.max(H,K,$),Math.min(H,K,$))>F)return!1}return!0}function vt(s,t){this.center=s!==void 0?s:new Y,this.radius=t!==void 0?t:-1}function Lt(s,t){this.origin=s!==void 0?s:new Y,this.direction=t!==void 0?t:new Y(0,0,-1)}function kt(s,t){this.normal=s!==void 0?s:new Y(1,0,0),this.constant=t!==void 0?t:0}function Ut(s,t,i){this.a=s!==void 0?s:new Y,this.b=t!==void 0?t:new Y,this.c=i!==void 0?i:new Y}function at(s,t,i){return t===void 0&&i===void 0?this.set(s):this.setRGB(s,t,i)}function jr(s,t,i){return 0>i&&(i+=1),1<i&&--i,i<1/6?s+6*(t-s)*i:.5>i?t:i<2/3?s+6*(t-s)*(2/3-i):s}function Zt(s){return .04045>s?.0773993808*s:Math.pow(.9478672986*s+.0521327014,2.4)}function $r(s){return .0031308>s?12.92*s:1.055*Math.pow(s,.41666)-.055}function nn(s,t,i,m,A,E){this.a=s,this.b=t,this.c=i,this.normal=m&&m.isVector3?m:new Y,this.vertexNormals=Array.isArray(m)?m:[],this.color=A&&A.isColor?A:new at,this.vertexColors=Array.isArray(A)?A:[],this.materialIndex=E!==void 0?E:0}function Wt(){Object.defineProperty(this,"id",{value:V_++}),this.uuid=Fo.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.vertexColors=this.flatShading=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null,this.depthFunc=3,this.depthWrite=this.depthTest=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilZPass=this.stencilZFail=this.stencilFail=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipShadows=this.clipIntersection=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetUnits=this.polygonOffsetFactor=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.toneMapped=this.visible=!0,this.userData={},this.version=0}function si(s){Wt.call(this),this.type="MeshBasicMaterial",this.color=new at(16777215),this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.envMap=this.alphaMap=this.specularMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphTargets=this.skinning=!1,this.setValues(s)}function gr(s,t,i){if(Array.isArray(s))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=s,this.itemSize=t,this.count=s!==void 0?s.length/t:0,this.normalized=i===!0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}function bi(s,t,i){gr.call(this,new Int8Array(s),t,i)}function ki(s,t,i){gr.call(this,new Uint8Array(s),t,i)}function Pi(s,t,i){gr.call(this,new Uint8ClampedArray(s),t,i)}function ga(s,t,i){gr.call(this,new Int16Array(s),t,i)}function Oi(s,t,i){gr.call(this,new Uint16Array(s),t,i)}function Ho(s,t,i){gr.call(this,new Int32Array(s),t,i)}function rs(s,t,i){gr.call(this,new Uint32Array(s),t,i)}function tn(s,t,i){gr.call(this,new Float32Array(s),t,i)}function qo(s,t,i){gr.call(this,new Float64Array(s),t,i)}function $e(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingSphere=this.boundingBox=null,this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1}function xt(s){if(s.length===0)return-Infinity;for(var t=s[0],i=1,m=s.length;i<m;++i)s[i]>t&&(t=s[i]);return t}function Et(){Object.defineProperty(this,"id",{value:G_+=2}),this.uuid=Fo.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingSphere=this.boundingBox=null,this.drawRange={start:0,count:Infinity},this.userData={}}function Kt(s,t){we.call(this),this.type="Mesh",this.geometry=s!==void 0?s:new Et,this.material=t!==void 0?t:new si,this.updateMorphTargets()}function pn(s,t,i,m,A,E,O,F){return(t.side===1?m.intersectTriangle(O,E,A,!0,F):m.intersectTriangle(A,E,O,t.side!==2,F))===null?null:(zw.copy(F),zw.applyMatrix4(s.matrixWorld),t=i.ray.origin.distanceTo(zw),t<i.near||t>i.far?null:{distance:t,point:zw.clone(),object:s})}function Nn(s,t,i,m,A,E,O,F,H,K,$,ue){if(My.fromBufferAttribute(A,K),Ey.fromBufferAttribute(A,$),Ty.fromBufferAttribute(A,ue),A=s.morphTargetInfluences,t.morphTargets&&E&&A){Nw.set(0,0,0),Fw.set(0,0,0),GC.set(0,0,0);for(var me=0,pe=E.length;me<pe;me++){var be=A[me],Te=E[me];be!==0&&(Dw.fromBufferAttribute(Te,K),Zb.fromBufferAttribute(Te,$),Kb.fromBufferAttribute(Te,ue),O?(Nw.addScaledVector(Dw,be),Fw.addScaledVector(Zb,be),GC.addScaledVector(Kb,be)):(Nw.addScaledVector(Dw.sub(My),be),Fw.addScaledVector(Zb.sub(Ey),be),GC.addScaledVector(Kb.sub(Ty),be)))}My.add(Nw),Ey.add(Fw),Ty.add(GC)}return s.isSkinnedMesh&&(s.boneTransform(K,My),s.boneTransform($,Ey),s.boneTransform(ue,Ty)),(s=pn(s,t,i,m,My,Ey,Ty,Bw))&&(F&&(Z1.fromBufferAttribute(F,K),WC.fromBufferAttribute(F,$),YC.fromBufferAttribute(F,ue),s.uv=Ut.getUV(Bw,My,Ey,Ty,Z1,WC,YC,new l)),H&&(Z1.fromBufferAttribute(H,K),WC.fromBufferAttribute(H,$),YC.fromBufferAttribute(H,ue),s.uv2=Ut.getUV(Bw,My,Ey,Ty,Z1,WC,YC,new l)),F=new nn(K,$,ue),Ut.getNormal(My,Ey,Ty,F.normal),s.face=F),s}function Vt(){Object.defineProperty(this,"id",{value:W_+=2}),this.uuid=Fo.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingSphere=this.boundingBox=null,this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.verticesNeedUpdate=this.elementsNeedUpdate=!1}function Qt(s){var t={},i;for(i in s){t[i]={};for(var m in s[i]){var A=s[i][m];A&&(A.isColor||A.isMatrix3||A.isMatrix4||A.isVector2||A.isVector3||A.isVector4||A.isTexture)?t[i][m]=A.clone():Array.isArray(A)?t[i][m]=A.slice():t[i][m]=A}}return t}function bn(s){for(var t={},i=0;i<s.length;i++){var m=Qt(s[i]),A;for(A in m)t[A]=m[A]}return t}function Hr(s){Wt.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,this.fragmentShader=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,s!==void 0&&(s.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(s))}function sn(){we.call(this),this.type="Camera",this.matrixWorldInverse=new ie,this.projectionMatrix=new ie,this.projectionMatrixInverse=new ie}function mr(s,t,i,m){sn.call(this),this.type="PerspectiveCamera",this.fov=s!==void 0?s:50,this.zoom=1,this.near=i!==void 0?i:.1,this.far=m!==void 0?m:2e3,this.focus=10,this.aspect=t!==void 0?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function Si(s,t,i){if(we.call(this),this.type="CubeCamera",i.isWebGLCubeRenderTarget!==!0)console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");else{this.renderTarget=i;var m=new mr(90,1,s,t);m.layers=this.layers,m.up.set(0,-1,0),m.lookAt(new Y(1,0,0)),this.add(m);var A=new mr(90,1,s,t);A.layers=this.layers,A.up.set(0,-1,0),A.lookAt(new Y(-1,0,0)),this.add(A);var E=new mr(90,1,s,t);E.layers=this.layers,E.up.set(0,0,1),E.lookAt(new Y(0,1,0)),this.add(E);var O=new mr(90,1,s,t);O.layers=this.layers,O.up.set(0,0,-1),O.lookAt(new Y(0,-1,0)),this.add(O);var F=new mr(90,1,s,t);F.layers=this.layers,F.up.set(0,-1,0),F.lookAt(new Y(0,0,1)),this.add(F);var H=new mr(90,1,s,t);H.layers=this.layers,H.up.set(0,-1,0),H.lookAt(new Y(0,0,-1)),this.add(H),this.update=function(K,$){this.parent===null&&this.updateMatrixWorld();var ue=K.xr.enabled,me=K.getRenderTarget();K.xr.enabled=!1;var pe=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,K.setRenderTarget(i,0),K.render($,m),K.setRenderTarget(i,1),K.render($,A),K.setRenderTarget(i,2),K.render($,E),K.setRenderTarget(i,3),K.render($,O),K.setRenderTarget(i,4),K.render($,F),i.texture.generateMipmaps=pe,K.setRenderTarget(i,5),K.render($,H),K.setRenderTarget(me),K.xr.enabled=ue},this.clear=function(K,$,ue,me){for(var pe=K.getRenderTarget(),be=0;6>be;be++)K.setRenderTarget(i,be),K.clear($,ue,me);K.setRenderTarget(pe)}}}function mo(s,t,i){Zc(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=i),R.call(this,s,s,t)}function xr(s,t,i,m,A,E,O,F,H,K,$,ue){b.call(this,null,E,O,F,H,K,m,A,$,ue),this.image={data:s||null,width:t||1,height:i||1},this.magFilter=H!==void 0?H:1003,this.minFilter=K!==void 0?K:1003,this.flipY=this.generateMipmaps=!1,this.unpackAlignment=1,this.needsUpdate=!0}function Hi(s,t,i,m,A,E){this.planes=[s!==void 0?s:new kt,t!==void 0?t:new kt,i!==void 0?i:new kt,m!==void 0?m:new kt,A!==void 0?A:new kt,E!==void 0?E:new kt]}function mi(){function s(A,E){i!==!1&&(m(A,E),t.requestAnimationFrame(s))}var t=null,i=!1,m=null;return{start:function(){i!==!0&&m!==null&&(t.requestAnimationFrame(s),i=!0)},stop:function(){i=!1},setAnimationLoop:function(E){m=E},setContext:function(E){t=E}}}function fi(s,t){function i(E,O){var F=E.array,H=E.usage,K=s.createBuffer();return s.bindBuffer(O,K),s.bufferData(O,F,H),E.onUploadCallback(),O=5126,F instanceof Float32Array?O=5126:F instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):F instanceof Uint16Array?O=5123:F instanceof Int16Array?O=5122:F instanceof Uint32Array?O=5125:F instanceof Int32Array?O=5124:F instanceof Int8Array?O=5120:F instanceof Uint8Array&&(O=5121),{buffer:K,type:O,bytesPerElement:F.BYTES_PER_ELEMENT,version:E.version}}var m=t.isWebGL2,A=new Zo;return{get:function(O){return O.isInterleavedBufferAttribute&&(O=O.data),A.get(O)},remove:function(O){O.isInterleavedBufferAttribute&&(O=O.data);var F=A.get(O);F&&(s.deleteBuffer(F.buffer),A.delete(O))},update:function(O,F){O.isInterleavedBufferAttribute&&(O=O.data);var H=A.get(O);if(H===void 0)A.set(O,i(O,F));else if(H.version<O.version){var K=O.array,$=O.updateRange;s.bindBuffer(F,H.buffer),$.count===-1?s.bufferSubData(F,0,K):(m?s.bufferSubData(F,$.offset*K.BYTES_PER_ELEMENT,K,$.offset,$.count):s.bufferSubData(F,$.offset*K.BYTES_PER_ELEMENT,K.subarray($.offset,$.offset+$.count)),$.count=-1),H.version=O.version}}}}function Ua(s,t,i,m){Vt.call(this),this.type="PlaneGeometry",this.parameters={width:s,height:t,widthSegments:i,heightSegments:m},this.fromBufferGeometry(new us(s,t,i,m)),this.mergeVertices()}function us(s,t,i,m){Et.call(this),this.type="PlaneBufferGeometry",this.parameters={width:s,height:t,widthSegments:i,heightSegments:m},s=s||1,t=t||1;var A=s/2,E=t/2;i=Math.floor(i)||1,m=Math.floor(m)||1;var O=i+1,F=m+1,H=s/i,K=t/m,$=[],ue=[],me=[],pe=[];for(s=0;s<F;s++){var be=s*K-E;for(t=0;t<O;t++)ue.push(t*H-A,-be,0),me.push(0,0,1),pe.push(t/i),pe.push(1-s/m)}for(s=0;s<m;s++)for(t=0;t<i;t++)A=t+O*(s+1),E=t+1+O*(s+1),F=t+1+O*s,$.push(t+O*s,A,F),$.push(A,E,F);this.setIndex($),this.setAttribute("position",new tn(ue,3)),this.setAttribute("normal",new tn(me,3)),this.setAttribute("uv",new tn(pe,2))}function Nf(s,t,i,m){function A(me,pe){t.buffers.color.setClear(me.r,me.g,me.b,pe,m)}var E=new at(0),O=0,F,H,K=null,$=0,ue=null;return{getClearColor:function(){return E},setClearColor:function(pe,be){E.set(pe),O=be!==void 0?be:1,A(E,O)},getClearAlpha:function(){return O},setClearAlpha:function(pe){O=pe,A(E,O)},render:function(pe,be,Te,it){be=be.background,Te=s.xr,(Te=Te.getSession&&Te.getSession())&&Te.environmentBlendMode==="additive"&&(be=null),be===null?A(E,O):be&&be.isColor&&(A(be,1),it=!0),(s.autoClear||it)&&s.clear(s.autoClearColor,s.autoClearDepth,s.autoClearStencil),be&&(be.isCubeTexture||be.isWebGLCubeRenderTarget||be.mapping===306)?(H===void 0&&(H=new Kt(new v2(1,1,1),new Hr({type:"BackgroundCubeMaterial",uniforms:Qt(ig.cube.uniforms),vertexShader:ig.cube.vertexShader,fragmentShader:ig.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),H.geometry.deleteAttribute("normal"),H.geometry.deleteAttribute("uv"),H.onBeforeRender=function(_t,Mt,It){this.matrixWorld.copyPosition(It.matrixWorld)},Object.defineProperty(H.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(H)),it=be.isWebGLCubeRenderTarget?be.texture:be,H.material.uniforms.envMap.value=it,H.material.uniforms.flipEnvMap.value=it.isCubeTexture?-1:1,(K!==be||$!==it.version||ue!==s.toneMapping)&&(H.material.needsUpdate=!0,K=be,$=it.version,ue=s.toneMapping),pe.unshift(H,H.geometry,H.material,0,0,null)):be&&be.isTexture&&(F===void 0&&(F=new Kt(new us(2,2),new Hr({type:"BackgroundMaterial",uniforms:Qt(ig.background.uniforms),vertexShader:ig.background.vertexShader,fragmentShader:ig.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),F.geometry.deleteAttribute("normal"),Object.defineProperty(F.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(F)),F.material.uniforms.t2D.value=be,be.matrixAutoUpdate===!0&&be.updateMatrix(),F.material.uniforms.uvTransform.value.copy(be.matrix),(K!==be||$!==be.version||ue!==s.toneMapping)&&(F.material.needsUpdate=!0,K=be,$=be.version,ue=s.toneMapping),pe.unshift(F,F.geometry,F.material,0,0,null))}}}function ey(s,t,i,m){var A=m.isWebGL2,E;this.setMode=function(O){E=O},this.render=function(O,F){s.drawArrays(E,O,F),i.update(F,E)},this.renderInstances=function(O,F,H,K){if(K!==0){if(A){O=s;var $="drawArraysInstanced"}else if(O=t.get("ANGLE_instanced_arrays"),$="drawArraysInstancedANGLE",O===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}O[$](E,F,H,K),i.update(H,E,K)}}}function FA(s,t,i){function m(It){if(It==="highp"){if(0<s.getShaderPrecisionFormat(35633,36338).precision&&0<s.getShaderPrecisionFormat(35632,36338).precision)return"highp";It="mediump"}return It==="mediump"&&0<s.getShaderPrecisionFormat(35633,36337).precision&&0<s.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}var A,E=typeof WebGL2RenderingContext!="undefined"&&s instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext!="undefined"&&s instanceof WebGL2ComputeRenderingContext,O=i.precision!==void 0?i.precision:"highp",F=m(O);F!==O&&(console.warn("THREE.WebGLRenderer:",O,"not supported, using",F,"instead."),O=F),i=i.logarithmicDepthBuffer===!0,F=s.getParameter(34930);var H=s.getParameter(35660),K=s.getParameter(3379),$=s.getParameter(34076),ue=s.getParameter(34921),me=s.getParameter(36347),pe=s.getParameter(36348),be=s.getParameter(36349),Te=0<H,it=E||!!t.get("OES_texture_float"),_t=Te&&it,Mt=E?s.getParameter(36183):0;return{isWebGL2:E,getMaxAnisotropy:function(){if(A!==void 0)return A;var Bt=t.get("EXT_texture_filter_anisotropic");return A=Bt!==null?s.getParameter(Bt.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:m,precision:O,logarithmicDepthBuffer:i,maxTextures:F,maxVertexTextures:H,maxTextureSize:K,maxCubemapSize:$,maxAttributes:ue,maxVertexUniforms:me,maxVaryings:pe,maxFragmentUniforms:be,vertexTextures:Te,floatFragmentTextures:it,floatVertexTextures:_t,maxSamples:Mt}}function ty(){function s(){K.value!==m&&(K.value=m,K.needsUpdate=0<A),i.numPlanes=A,i.numIntersection=0}function t($,ue,me,pe){var be=$!==null?$.length:0,Te=null;if(be!==0){if(Te=K.value,pe!==!0||Te===null)for(pe=me+4*be,ue=ue.matrixWorldInverse,H.getNormalMatrix(ue),(Te===null||Te.length<pe)&&(Te=new Float32Array(pe)),pe=0;pe!==be;++pe,me+=4)F.copy($[pe]).applyMatrix4(ue,H),F.normal.toArray(Te,me),Te[me+3]=F.constant;K.value=Te,K.needsUpdate=!0}return i.numPlanes=be,i.numIntersection=0,Te}var i=this,m=null,A=0,E=!1,O=!1,F=new kt,H=new v,K={value:null,needsUpdate:!1};this.uniform=K,this.numIntersection=this.numPlanes=0,this.init=function($,ue,me){var pe=$.length!==0||ue||A!==0||E;return E=ue,m=t($,me,0),A=$.length,pe},this.beginShadows=function(){O=!0,t(null)},this.endShadows=function(){O=!1,s()},this.setState=function($,ue,me,pe,be,Te){if(!E||$===null||$.length===0||O&&!me)O?t(null):s();else{me=O?0:A;var it=4*me,_t=be.clippingState||null;for(K.value=_t,_t=t($,pe,it,Te),$=0;$!==it;++$)_t[$]=m[$];be.clippingState=_t,this.numIntersection=ue?this.numPlanes:0,this.numPlanes+=me}}}function Vm(s){var t={};return{get:function(m){if(t[m]!==void 0)return t[m];switch(m){case"WEBGL_depth_texture":var A=s.getExtension("WEBGL_depth_texture")||s.getExtension("MOZ_WEBGL_depth_texture")||s.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":A=s.getExtension("EXT_texture_filter_anisotropic")||s.getExtension("MOZ_EXT_texture_filter_anisotropic")||s.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":A=s.getExtension("WEBGL_compressed_texture_s3tc")||s.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||s.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":A=s.getExtension("WEBGL_compressed_texture_pvrtc")||s.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:A=s.getExtension(m)}return A===null&&console.warn("THREE.WebGLRenderer: "+m+" extension not supported."),t[m]=A}}}function nC(s,t,i){function m(F){var H=F.target;F=E.get(H),F.index!==null&&t.remove(F.index);for(var K in F.attributes)t.remove(F.attributes[K]);H.removeEventListener("dispose",m),E.delete(H),(K=O.get(F))&&(t.remove(K),O.delete(F)),i.memory.geometries--}function A(F){var H=[],K=F.index,$=F.attributes.position;if(K!==null){var ue=K.array;K=K.version,$=0;for(var me=ue.length;$<me;$+=3){var pe=ue[$+0],be=ue[$+1],Te=ue[$+2];H.push(pe,be,be,Te,Te,pe)}}else for(ue=$.array,K=$.version,$=0,me=ue.length/3-1;$<me;$+=3)pe=$+0,be=$+1,Te=$+2,H.push(pe,be,be,Te,Te,pe);H=new(65535<xt(H)?rs:Oi)(H,1),H.version=K,t.update(H,34963),(ue=O.get(F))&&t.remove(ue),O.set(F,H)}var E=new Zo,O=new Zo;return{get:function(H,K){var $=E.get(K);return $||(K.addEventListener("dispose",m),K.isBufferGeometry?$=K:K.isGeometry&&(K._bufferGeometry===void 0&&(K._bufferGeometry=new Et().setFromObject(H)),$=K._bufferGeometry),E.set(K,$),i.memory.geometries++,$)},update:function(H){var K=H.index,$=H.attributes;K!==null&&t.update(K,34963);for(var ue in $)t.update($[ue],34962);H=H.morphAttributes;for(ue in H){K=H[ue],$=0;for(var me=K.length;$<me;$++)t.update(K[$],34962)}},getWireframeAttribute:function(H){var K=O.get(H);if(K){var $=H.index;$!==null&&K.version<$.version&&A(H)}else A(H);return O.get(H)}}}function Gm(s,t,i,m){var A=m.isWebGL2,E,O,F;this.setMode=function(H){E=H},this.setIndex=function(H){O=H.type,F=H.bytesPerElement},this.render=function(H,K){s.drawElements(E,K,O,H*F),i.update(K,E)},this.renderInstances=function(H,K,$,ue){if(ue!==0){if(A){H=s;var me="drawElementsInstanced"}else if(H=t.get("ANGLE_instanced_arrays"),me="drawElementsInstancedANGLE",H===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}H[me](E,$,O,K*F,ue),i.update($,E,ue)}}}function xv(s){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(m,A,E){switch(E=E||1,t.calls++,A){case 4:t.triangles+=m/3*E;break;case 1:t.lines+=m/2*E;break;case 3:t.lines+=E*(m-1);break;case 2:t.lines+=E*m;break;case 0:t.points+=E*m;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",A)}}}}function Ff(s,t){return Math.abs(t[1])-Math.abs(s[1])}function G2(s){var t={},i=new Float32Array(8);return{update:function(A,E,O,F){var H=A.morphTargetInfluences,K=H===void 0?0:H.length;if(A=t[E.id],A===void 0){A=[];for(var $=0;$<K;$++)A[$]=[$,0];t[E.id]=A}var ue=O.morphTargets&&E.morphAttributes.position;for(O=O.morphNormals&&E.morphAttributes.normal,$=0;$<K;$++){var me=A[$];me[1]!==0&&(ue&&E.deleteAttribute("morphTarget"+$),O&&E.deleteAttribute("morphNormal"+$))}for($=0;$<K;$++)me=A[$],me[0]=$,me[1]=H[$];for(A.sort(Ff),$=H=0;8>$;$++){if((me=A[$])&&(K=me[0],me=me[1])){ue&&E.setAttribute("morphTarget"+$,ue[K]),O&&E.setAttribute("morphNormal"+$,O[K]),i[$]=me,H+=me;continue}i[$]=0}E=E.morphTargetsRelative?1:1-H,F.getUniforms().setValue(s,"morphTargetBaseInfluence",E),F.getUniforms().setValue(s,"morphTargetInfluences",i)}}}function BA(s,t,i,m){var A=new Zo;return{update:function(O){var F=m.render.frame,H=O.geometry,K=t.get(O,H);return A.get(K)!==F&&(H.isGeometry&&K.updateFromObject(O),t.update(K),A.set(K,F)),O.isInstancedMesh&&i.update(O.instanceMatrix,34962),K},dispose:function(){A=new Zo}}}function Id(s,t,i,m,A,E,O,F,H,K){s=s!==void 0?s:[],b.call(this,s,t!==void 0?t:301,i,m,A,E,O!==void 0?O:1022,F,H,K),this.flipY=!1}function mc(s,t,i,m){b.call(this,null),this.image={data:s||null,width:t||1,height:i||1,depth:m||1},this.minFilter=this.magFilter=1003,this.wrapR=1001,this.flipY=this.generateMipmaps=!1,this.needsUpdate=!0}function gc(s,t,i,m){b.call(this,null),this.image={data:s||null,width:t||1,height:i||1,depth:m||1},this.minFilter=this.magFilter=1003,this.wrapR=1001,this.flipY=this.generateMipmaps=!1,this.needsUpdate=!0}function Cv(s,t,i){var m=s[0];if(0>=m||0<m)return s;var A=t*i,E=t_[A];if(E===void 0&&(E=new Float32Array(A),t_[A]=E),t!==0)for(m.toArray(E,0),m=1,A=0;m!==t;++m)A+=i,s[m].toArray(E,A);return E}function jh(s,t){if(s.length!==t.length)return!1;for(var i=0,m=s.length;i<m;i++)if(s[i]!==t[i])return!1;return!0}function Gu(s,t){for(var i=0,m=t.length;i<m;i++)s[i]=t[i]}function T1(s,t){var i=Y_[t];i===void 0&&(i=new Int32Array(t),Y_[t]=i);for(var m=0;m!==t;++m)i[m]=s.allocateTextureUnit();return i}function rt(s,t){var i=this.cache;i[0]!==t&&(s.uniform1f(this.addr,t),i[0]=t)}function _r(s,t){var i=this.cache;t.x!==void 0?(i[0]!==t.x||i[1]!==t.y)&&(s.uniform2f(this.addr,t.x,t.y),i[0]=t.x,i[1]=t.y):jh(i,t)||(s.uniform2fv(this.addr,t),Gu(i,t))}function jt(s,t){var i=this.cache;t.x!==void 0?(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z)&&(s.uniform3f(this.addr,t.x,t.y,t.z),i[0]=t.x,i[1]=t.y,i[2]=t.z):t.r!==void 0?(i[0]!==t.r||i[1]!==t.g||i[2]!==t.b)&&(s.uniform3f(this.addr,t.r,t.g,t.b),i[0]=t.r,i[1]=t.g,i[2]=t.b):jh(i,t)||(s.uniform3fv(this.addr,t),Gu(i,t))}function Nr(s,t){var i=this.cache;t.x!==void 0?(i[0]!==t.x||i[1]!==t.y||i[2]!==t.z||i[3]!==t.w)&&(s.uniform4f(this.addr,t.x,t.y,t.z,t.w),i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=t.w):jh(i,t)||(s.uniform4fv(this.addr,t),Gu(i,t))}function Mn(s,t){var i=this.cache,m=t.elements;m===void 0?jh(i,t)||(s.uniformMatrix2fv(this.addr,!1,t),Gu(i,t)):jh(i,m)||(y.set(m),s.uniformMatrix2fv(this.addr,!1,y),Gu(i,m))}function Ro(s,t){var i=this.cache,m=t.elements;m===void 0?jh(i,t)||(s.uniformMatrix3fv(this.addr,!1,t),Gu(i,t)):jh(i,m)||(d.set(m),s.uniformMatrix3fv(this.addr,!1,d),Gu(i,m))}function qn(s,t){var i=this.cache,m=t.elements;m===void 0?jh(i,t)||(s.uniformMatrix4fv(this.addr,!1,t),Gu(i,t)):jh(i,m)||(c.set(m),s.uniformMatrix4fv(this.addr,!1,c),Gu(i,m))}function Yi(s,t,i){var m=this.cache,A=i.allocateTextureUnit();m[0]!==A&&(s.uniform1i(this.addr,A),m[0]=A),i.safeSetTexture2D(t||e_,A)}function Io(s,t,i){var m=this.cache,A=i.allocateTextureUnit();m[0]!==A&&(s.uniform1i(this.addr,A),m[0]=A),i.setTexture2DArray(t||qb,A)}function va(s,t,i){var m=this.cache,A=i.allocateTextureUnit();m[0]!==A&&(s.uniform1i(this.addr,A),m[0]=A),i.setTexture3D(t||Qb,A)}function Qo(s,t,i){var m=this.cache,A=i.allocateTextureUnit();m[0]!==A&&(s.uniform1i(this.addr,A),m[0]=A),i.safeSetTextureCube(t||kw,A)}function Pd(s,t){var i=this.cache;i[0]!==t&&(s.uniform1i(this.addr,t),i[0]=t)}function cs(s,t){var i=this.cache;jh(i,t)||(s.uniform2iv(this.addr,t),Gu(i,t))}function ul(s,t){var i=this.cache;jh(i,t)||(s.uniform3iv(this.addr,t),Gu(i,t))}function Ip(s,t){var i=this.cache;jh(i,t)||(s.uniform4iv(this.addr,t),Gu(i,t))}function W2(s,t){var i=this.cache;i[0]!==t&&(s.uniform1ui(this.addr,t),i[0]=t)}function Qc(s){switch(s){case 5126:return rt;case 35664:return _r;case 35665:return jt;case 35666:return Nr;case 35674:return Mn;case 35675:return Ro;case 35676:return qn;case 5124:case 35670:return Pd;case 35667:case 35671:return cs;case 35668:case 35672:return ul;case 35669:case 35673:return Ip;case 5125:return W2;case 35678:case 36198:case 36298:case 36306:case 35682:return Yi;case 35679:case 36299:case 36307:return va;case 35680:case 36300:case 36308:case 36293:return Qo;case 36289:case 36303:case 36311:case 36292:return Io}}function I1(s,t){s.uniform1fv(this.addr,t)}function Wm(s,t){s.uniform1iv(this.addr,t)}function ry(s,t){s.uniform2iv(this.addr,t)}function tb(s,t){s.uniform3iv(this.addr,t)}function Av(s,t){s.uniform4iv(this.addr,t)}function rb(s,t){t=Cv(t,this.size,2),s.uniform2fv(this.addr,t)}function cS(s,t){t=Cv(t,this.size,3),s.uniform3fv(this.addr,t)}function hS(s,t){t=Cv(t,this.size,4),s.uniform4fv(this.addr,t)}function m_(s,t){t=Cv(t,this.size,4),s.uniformMatrix2fv(this.addr,!1,t)}function g_(s,t){t=Cv(t,this.size,9),s.uniformMatrix3fv(this.addr,!1,t)}function v_(s,t){t=Cv(t,this.size,16),s.uniformMatrix4fv(this.addr,!1,t)}function y_(s,t,i){var m=t.length,A=T1(i,m);for(s.uniform1iv(this.addr,A),s=0;s!==m;++s)i.safeSetTexture2D(t[s]||e_,A[s])}function fS(s,t,i){var m=t.length,A=T1(i,m);for(s.uniform1iv(this.addr,A),s=0;s!==m;++s)i.safeSetTextureCube(t[s]||kw,A[s])}function x_(s){switch(s){case 5126:return I1;case 35664:return rb;case 35665:return cS;case 35666:return hS;case 35674:return m_;case 35675:return g_;case 35676:return v_;case 5124:case 35670:return Wm;case 35667:case 35671:return ry;case 35668:case 35672:return tb;case 35669:case 35673:return Av;case 35678:case 36198:case 36298:case 36306:case 35682:return y_;case 35680:case 36300:case 36308:case 36293:return fS}}function C_(s,t,i){this.id=s,this.addr=i,this.cache=[],this.setValue=Qc(t.type)}function dS(s,t,i){this.id=s,this.addr=i,this.cache=[],this.size=t.size,this.setValue=x_(t.type)}function pS(s){this.id=s,this.seq=[],this.map={}}function ny(s,t){this.seq=[],this.map={};for(var i=s.getProgramParameter(t,35718),m=0;m<i;++m){var A=s.getActiveUniform(t,m),E=s.getUniformLocation(t,A.name),O=this,F=A.name,H=F.length;for(g.lastIndex=0;;){var K=g.exec(F),$=g.lastIndex,ue=K[1],me=K[3];if(K[2]==="]"&&(ue|=0),me===void 0||me==="["&&$+2===H){F=O,A=me===void 0?new C_(ue,A,E):new dS(ue,A,E),F.seq.push(A),F.map[A.id]=A;break}else me=O.map[ue],me===void 0&&(me=new pS(ue),ue=O,O=me,ue.seq.push(O),ue.map[O.id]=O),O=me}}}function mS(s,t,i){return t=s.createShader(t),s.shaderSource(t,i),s.compileShader(t),t}function nb(s){switch(s){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:throw Error("unsupported encoding: "+s)}}function ib(s,t,i){var m=s.getShaderParameter(t,35713),A=s.getShaderInfoLog(t).trim();if(m&&A==="")return"";for(s=s.getShaderSource(t).split(`
`),t=0;t<s.length;t++)s[t]=t+1+": "+s[t];return s=s.join(`
`),"THREE.WebGLShader: gl.getShaderInfoLog() "+i+`
`+A+s}function zA(s,t){return t=nb(t),"vec4 "+s+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function gS(s,t){return t=nb(t),"vec4 "+s+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function A_(s,t){switch(t){case 1:t="Linear";break;case 2:t="Reinhard";break;case 3:t="Uncharted2";break;case 4:t="OptimizedCineon";break;case 5:t="ACESFilmic";break;default:throw Error("unsupported toneMapping: "+t)}return"vec3 "+s+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function w_(s){var t=[],i;for(i in s){var m=s[i];m!==!1&&t.push("#define "+i+" "+m)}return t.join(`
`)}function jA(s){return s!==""}function vS(s,t){return s.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function yS(s,t){return s.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}function ob(s,t){if(s=ra[t],s===void 0)throw Error("Can not resolve #include <"+t+">");return s.replace(I,ob)}function xS(s,t,i,m){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),UA(s,t,i,m)}function UA(s,t,i,m){for(s="",t=parseInt(t);t<parseInt(i);t++)s+=m.replace(/\[ i \]/g,"[ "+t+" ]").replace(/UNROLLED_LOOP_INDEX/g,t);return s}function ab(s){var t="precision "+s.precision+` float;
precision `+s.precision+" int;";return s.precision==="highp"?t+=`
#define HIGH_PRECISION`:s.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:s.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function CS(s){var t="SHADOWMAP_TYPE_BASIC";return s.shadowMapType===1?t="SHADOWMAP_TYPE_PCF":s.shadowMapType===2?t="SHADOWMAP_TYPE_PCF_SOFT":s.shadowMapType===3&&(t="SHADOWMAP_TYPE_VSM"),t}function b_(s){var t="ENVMAP_TYPE_CUBE";if(s.envMap)switch(s.envMapMode){case 301:case 302:t="ENVMAP_TYPE_CUBE";break;case 306:case 307:t="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:t="ENVMAP_TYPE_EQUIREC";break;case 305:t="ENVMAP_TYPE_SPHERE"}return t}function S_(s){var t="ENVMAP_MODE_REFLECTION";if(s.envMap)switch(s.envMapMode){case 302:case 304:t="ENVMAP_MODE_REFRACTION"}return t}function __(s){var t="ENVMAP_BLENDING_NONE";if(s.envMap)switch(s.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}function M_(s,t,i){var m=s.getContext(),A=i.defines,E=i.vertexShader,O=i.fragmentShader,F=CS(i),H=b_(i),K=S_(i),$=__(i),ue=0<s.gammaFactor?s.gammaFactor:1,me=i.isWebGL2?"":[i.extensionDerivatives||i.envMapCubeUV||i.bumpMap||i.tangentSpaceNormalMap||i.clearcoatNormalMap||i.flatShading||i.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(i.extensionFragDepth||i.logarithmicDepthBuffer)&&i.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",i.extensionDrawBuffers&&i.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(i.extensionShaderTextureLOD||i.envMap)&&i.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(jA).join(`
`),pe=w_(A),be=m.createProgram();i.isRawShaderMaterial?(A=[pe].filter(jA).join(`
`),0<A.length&&(A+=`
`),F=[me,pe].filter(jA).join(`
`),0<F.length&&(F+=`
`)):(A=[ab(i),"#define SHADER_NAME "+i.shaderName,pe,i.instancing?"#define USE_INSTANCING":"",i.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+ue,"#define MAX_BONES "+i.maxBones,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+K:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.displacementMap&&i.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.useVertexTexture?"#define BONE_TEXTURE":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&i.flatShading===!1?"#define USE_MORPHNORMALS":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+F:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(jA).join(`
`),F=[me,ab(i),"#define SHADER_NAME "+i.shaderName,pe,i.alphaTest?"#define ALPHATEST "+i.alphaTest+(i.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+ue,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.matcap?"#define USE_MATCAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+H:"",i.envMap?"#define "+K:"",i.envMap?"#define "+$:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.sheen?"#define USE_SHEEN":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.gradientMap?"#define USE_GRADIENTMAP":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+F:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(i.extensionShaderTextureLOD||i.envMap)&&i.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",i.toneMapping!==0?"#define TONE_MAPPING":"",i.toneMapping!==0?ra.tonemapping_pars_fragment:"",i.toneMapping!==0?A_("toneMapping",i.toneMapping):"",i.dithering?"#define DITHERING":"",i.outputEncoding||i.mapEncoding||i.matcapEncoding||i.envMapEncoding||i.emissiveMapEncoding||i.lightMapEncoding?ra.encodings_pars_fragment:"",i.mapEncoding?zA("mapTexelToLinear",i.mapEncoding):"",i.matcapEncoding?zA("matcapTexelToLinear",i.matcapEncoding):"",i.envMapEncoding?zA("envMapTexelToLinear",i.envMapEncoding):"",i.emissiveMapEncoding?zA("emissiveMapTexelToLinear",i.emissiveMapEncoding):"",i.lightMapEncoding?zA("lightMapTexelToLinear",i.lightMapEncoding):"",i.outputEncoding?gS("linearToOutputTexel",i.outputEncoding):"",i.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"",`
`].filter(jA).join(`
`)),E=E.replace(I,ob),E=vS(E,i),E=yS(E,i),O=O.replace(I,ob),O=vS(O,i),O=yS(O,i),E=E.replace(j,UA).replace(B,xS),O=O.replace(j,UA).replace(B,xS),i.isWebGL2&&!i.isRawShaderMaterial&&(H=!1,K=/^\s*#version\s+300\s+es\s*\n/,i.isShaderMaterial&&E.match(K)!==null&&O.match(K)!==null&&(H=!0,E=E.replace(K,""),O=O.replace(K,"")),A=`#version 300 es

#define attribute in
#define varying out
#define texture2D texture
`+A,F=[`#version 300 es

#define varying in`,H?"":"out highp vec4 pc_fragColor;",H?"":"#define gl_FragColor pc_fragColor",`#define gl_FragDepthEXT gl_FragDepth
#define texture2D texture
#define textureCube texture
#define texture2DProj textureProj
#define texture2DLodEXT textureLod
#define texture2DProjLodEXT textureProjLod
#define textureCubeLodEXT textureLod
#define texture2DGradEXT textureGrad
#define texture2DProjGradEXT textureProjGrad
#define textureCubeGradEXT textureGrad`].join(`
`)+`
`+F),O=F+O,E=mS(m,35633,A+E),O=mS(m,35632,O),m.attachShader(be,E),m.attachShader(be,O),i.index0AttributeName!==void 0?m.bindAttribLocation(be,0,i.index0AttributeName):i.morphTargets===!0&&m.bindAttribLocation(be,0,"position"),m.linkProgram(be),s.debug.checkShaderErrors&&(s=m.getProgramInfoLog(be).trim(),H=m.getShaderInfoLog(E).trim(),K=m.getShaderInfoLog(O).trim(),ue=$=!0,m.getProgramParameter(be,35714)===!1?($=!1,me=ib(m,E,"vertex"),pe=ib(m,O,"fragment"),console.error("THREE.WebGLProgram: shader error: ",m.getError(),"35715",m.getProgramParameter(be,35715),"gl.getProgramInfoLog",s,me,pe)):s!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",s):(H===""||K==="")&&(ue=!1),ue&&(this.diagnostics={runnable:$,programLog:s,vertexShader:{log:H,prefix:A},fragmentShader:{log:K,prefix:F}})),m.deleteShader(E),m.deleteShader(O);var Te;this.getUniforms=function(){return Te===void 0&&(Te=new ny(m,be)),Te};var it;return this.getAttributes=function(){if(it===void 0){for(var _t={},Mt=m.getProgramParameter(be,35721),It=0;It<Mt;It++){var Bt=m.getActiveAttrib(be,It).name;_t[Bt]=m.getAttribLocation(be,Bt)}it=_t}return it},this.destroy=function(){m.deleteProgram(be),this.program=void 0},this.name=i.shaderName,this.id=w++,this.cacheKey=t,this.usedTimes=1,this.program=be,this.vertexShader=E,this.fragmentShader=O,this}function AS(s,t,i){function m(pe){if(pe)pe.isTexture?be=pe.encoding:pe.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),be=pe.texture.encoding);else var be=3e3;return be}var A=[],E=i.isWebGL2,O=i.logarithmicDepthBuffer,F=i.floatVertexTextures,H=i.precision,K=i.maxVertexUniforms,$=i.vertexTextures,ue={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},me="precision isWebGL2 supportsVertexTextures outputEncoding instancing map mapEncoding matcap matcapEncoding envMap envMapMode envMapEncoding envMapCubeUV lightMap lightMapEncoding aoMap emissiveMap emissiveMapEncoding bumpMap normalMap objectSpaceNormalMap tangentSpaceNormalMap clearcoatMap clearcoatRoughnessMap clearcoatNormalMap displacementMap specularMap roughnessMap metalnessMap gradientMap alphaMap combine vertexColors vertexTangents vertexUvs uvsVertexOnly fog useFog fogExp2 flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights numRectAreaLights numDirLightShadows numPointLightShadows numSpotLightShadows shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes numClipIntersection depthPacking dithering sheen".split(" ");this.getParameters=function(pe,be,Te,it,_t,Mt,It){var Bt=it.fog;it=pe.isMeshStandardMaterial?it.environment:null,it=pe.envMap||it;var hr=ue[pe.type];if(It.isSkinnedMesh){var qt=It.skeleton.bones;if(F)qt=1024;else{var Pt=Math.min(Math.floor((K-20)/4),qt.length);Pt<qt.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+qt.length+" bones. This GPU supports "+Pt+"."),qt=0):qt=Pt}}else qt=0;pe.precision!==null&&(H=i.getMaxPrecision(pe.precision),H!==pe.precision&&console.warn("THREE.WebGLProgram.getParameters:",pe.precision,"not supported, using",H,"instead.")),hr?(Pt=ig[hr],Pt={name:pe.type,uniforms:$S.clone(Pt.uniforms),vertexShader:Pt.vertexShader,fragmentShader:Pt.fragmentShader}):Pt={name:pe.type,uniforms:pe.uniforms,vertexShader:pe.vertexShader,fragmentShader:pe.fragmentShader},pe.onBeforeCompile(Pt,s);var Br=s.getRenderTarget();return{isWebGL2:E,shaderID:hr,shaderName:Pt.name,uniforms:Pt.uniforms,vertexShader:Pt.vertexShader,fragmentShader:Pt.fragmentShader,defines:pe.defines,isRawShaderMaterial:pe.isRawShaderMaterial,isShaderMaterial:pe.isShaderMaterial,precision:H,instancing:It.isInstancedMesh===!0,supportsVertexTextures:$,outputEncoding:Br!==null?m(Br.texture):s.outputEncoding,map:!!pe.map,mapEncoding:m(pe.map),matcap:!!pe.matcap,matcapEncoding:m(pe.matcap),envMap:!!it,envMapMode:it&&it.mapping,envMapEncoding:m(it),envMapCubeUV:!!it&&(it.mapping===306||it.mapping===307),lightMap:!!pe.lightMap,lightMapEncoding:m(pe.lightMap),aoMap:!!pe.aoMap,emissiveMap:!!pe.emissiveMap,emissiveMapEncoding:m(pe.emissiveMap),bumpMap:!!pe.bumpMap,normalMap:!!pe.normalMap,objectSpaceNormalMap:pe.normalMapType===1,tangentSpaceNormalMap:pe.normalMapType===0,clearcoatMap:!!pe.clearcoatMap,clearcoatRoughnessMap:!!pe.clearcoatRoughnessMap,clearcoatNormalMap:!!pe.clearcoatNormalMap,displacementMap:!!pe.displacementMap,roughnessMap:!!pe.roughnessMap,metalnessMap:!!pe.metalnessMap,specularMap:!!pe.specularMap,alphaMap:!!pe.alphaMap,gradientMap:!!pe.gradientMap,sheen:!!pe.sheen,combine:pe.combine,vertexTangents:pe.normalMap&&pe.vertexTangents,vertexColors:pe.vertexColors,vertexUvs:!!pe.map||!!pe.bumpMap||!!pe.normalMap||!!pe.specularMap||!!pe.alphaMap||!!pe.emissiveMap||!!pe.roughnessMap||!!pe.metalnessMap||!!pe.clearcoatMap||!!pe.clearcoatRoughnessMap||!!pe.clearcoatNormalMap||!!pe.displacementMap,uvsVertexOnly:!(pe.map||pe.bumpMap||pe.normalMap||pe.specularMap||pe.alphaMap||pe.emissiveMap||pe.roughnessMap||pe.metalnessMap||pe.clearcoatNormalMap)&&!!pe.displacementMap,fog:!!Bt,useFog:pe.fog,fogExp2:Bt&&Bt.isFogExp2,flatShading:pe.flatShading,sizeAttenuation:pe.sizeAttenuation,logarithmicDepthBuffer:O,skinning:pe.skinning&&0<qt,maxBones:qt,useVertexTexture:F,morphTargets:pe.morphTargets,morphNormals:pe.morphNormals,maxMorphTargets:s.maxMorphTargets,maxMorphNormals:s.maxMorphNormals,numDirLights:be.directional.length,numPointLights:be.point.length,numSpotLights:be.spot.length,numRectAreaLights:be.rectArea.length,numHemiLights:be.hemi.length,numDirLightShadows:be.directionalShadowMap.length,numPointLightShadows:be.pointShadowMap.length,numSpotLightShadows:be.spotShadowMap.length,numClippingPlanes:_t,numClipIntersection:Mt,dithering:pe.dithering,shadowMapEnabled:s.shadowMap.enabled&&0<Te.length,shadowMapType:s.shadowMap.type,toneMapping:pe.toneMapped?s.toneMapping:0,physicallyCorrectLights:s.physicallyCorrectLights,premultipliedAlpha:pe.premultipliedAlpha,alphaTest:pe.alphaTest,doubleSided:pe.side===2,flipSided:pe.side===1,depthPacking:pe.depthPacking!==void 0?pe.depthPacking:!1,index0AttributeName:pe.index0AttributeName,extensionDerivatives:pe.extensions&&pe.extensions.derivatives,extensionFragDepth:pe.extensions&&pe.extensions.fragDepth,extensionDrawBuffers:pe.extensions&&pe.extensions.drawBuffers,extensionShaderTextureLOD:pe.extensions&&pe.extensions.shaderTextureLOD,rendererExtensionFragDepth:E||t.get("EXT_frag_depth")!==null,rendererExtensionDrawBuffers:E||t.get("WEBGL_draw_buffers")!==null,rendererExtensionShaderTextureLod:E||t.get("EXT_shader_texture_lod")!==null,onBeforeCompile:pe.onBeforeCompile}},this.getProgramCacheKey=function(pe){var be=[];if(pe.shaderID?be.push(pe.shaderID):(be.push(pe.fragmentShader),be.push(pe.vertexShader)),pe.defines!==void 0)for(var Te in pe.defines)be.push(Te),be.push(pe.defines[Te]);if(pe.isRawShaderMaterial===void 0){for(Te=0;Te<me.length;Te++)be.push(pe[me[Te]]);be.push(s.outputEncoding),be.push(s.gammaFactor)}return be.push(pe.onBeforeCompile.toString()),be.join()},this.acquireProgram=function(pe,be){for(var Te,it=0,_t=A.length;it<_t;it++){var Mt=A[it];if(Mt.cacheKey===be){Te=Mt,++Te.usedTimes;break}}return Te===void 0&&(Te=new M_(s,be,pe),A.push(Te)),Te},this.releaseProgram=function(pe){if(--pe.usedTimes==0){var be=A.indexOf(pe);A[be]=A[A.length-1],A.pop(),pe.destroy()}},this.programs=A}function sb(){var s=new Zo;return{get:function(i){var m=s.get(i);return m===void 0&&(m={},s.set(i,m)),m},remove:function(i){s.delete(i)},update:function(i,m,A){s.get(i)[m]=A},dispose:function(){s=new Zo}}}function lb(s,t){return s.groupOrder!==t.groupOrder?s.groupOrder-t.groupOrder:s.renderOrder!==t.renderOrder?s.renderOrder-t.renderOrder:s.program!==t.program?s.program.id-t.program.id:s.material.id!==t.material.id?s.material.id-t.material.id:s.z!==t.z?s.z-t.z:s.id-t.id}function wS(s,t){return s.groupOrder!==t.groupOrder?s.groupOrder-t.groupOrder:s.renderOrder!==t.renderOrder?s.renderOrder-t.renderOrder:s.z!==t.z?t.z-s.z:s.id-t.id}function bS(){function s(O,F,H,K,$,ue){var me=t[i];return me===void 0?(me={id:O.id,object:O,geometry:F,material:H,program:H.program||E,groupOrder:K,renderOrder:O.renderOrder,z:$,group:ue},t[i]=me):(me.id=O.id,me.object=O,me.geometry=F,me.material=H,me.program=H.program||E,me.groupOrder=K,me.renderOrder=O.renderOrder,me.z=$,me.group=ue),i++,me}var t=[],i=0,m=[],A=[],E={id:-1};return{opaque:m,transparent:A,init:function(){i=0,m.length=0,A.length=0},push:function(F,H,K,$,ue,me){F=s(F,H,K,$,ue,me),(K.transparent===!0?A:m).push(F)},unshift:function(F,H,K,$,ue,me){F=s(F,H,K,$,ue,me),(K.transparent===!0?A:m).unshift(F)},finish:function(){for(var F=i,H=t.length;F<H;F++){var K=t[F];if(K.id===null)break;K.id=null,K.object=null,K.geometry=null,K.material=null,K.program=null,K.group=null}},sort:function(F,H){1<m.length&&m.sort(F||lb),1<A.length&&A.sort(H||wS)}}}function E_(){function s(i){i=i.target,i.removeEventListener("dispose",s),t.delete(i)}var t=new Zo;return{get:function(m,A){var E=t.get(m);if(E===void 0){var O=new bS;t.set(m,new Zo),t.get(m).set(A,O),m.addEventListener("dispose",s)}else O=E.get(A),O===void 0&&(O=new bS,E.set(A,O));return O},dispose:function(){t=new Zo}}}function T_(){var s={};return{get:function(i){if(s[i.id]!==void 0)return s[i.id];switch(i.type){case"DirectionalLight":var m={direction:new Y,color:new at};break;case"SpotLight":m={position:new Y,direction:new Y,color:new at,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":m={position:new Y,color:new at,distance:0,decay:0};break;case"HemisphereLight":m={direction:new Y,skyColor:new at,groundColor:new at};break;case"RectAreaLight":m={color:new at,position:new Y,halfWidth:new Y,halfHeight:new Y}}return s[i.id]=m}}}function I_(){var s={};return{get:function(i){if(s[i.id]!==void 0)return s[i.id];switch(i.type){case"DirectionalLight":var m={shadowBias:0,shadowRadius:1,shadowMapSize:new l};break;case"SpotLight":m={shadowBias:0,shadowRadius:1,shadowMapSize:new l};break;case"PointLight":m={shadowBias:0,shadowRadius:1,shadowMapSize:new l,shadowCameraNear:1,shadowCameraFar:1e3}}return s[i.id]=m}}}function P_(s,t){return(t.castShadow?1:0)-(s.castShadow?1:0)}function O_(){for(var s=new T_,t=I_(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},m=0;9>m;m++)i.probe.push(new Y);var A=new Y,E=new ie,O=new ie;return{setup:function(H,K,$){for(var ue=0,me=0,pe=0,be=0;9>be;be++)i.probe[be].set(0,0,0);var Te=K=0,it=0,_t=0,Mt=0,It=0,Bt=0,hr=0;$=$.matrixWorldInverse,H.sort(P_),be=0;for(var qt=H.length;be<qt;be++){var Pt=H[be],Br=Pt.color,Ht=Pt.intensity,cn=Pt.distance,In=Pt.shadow&&Pt.shadow.map?Pt.shadow.map.texture:null;if(Pt.isAmbientLight)ue+=Br.r*Ht,me+=Br.g*Ht,pe+=Br.b*Ht;else if(Pt.isLightProbe)for(In=0;9>In;In++)i.probe[In].addScaledVector(Pt.sh.coefficients[In],Ht);else if(Pt.isDirectionalLight){var Ur=s.get(Pt);Ur.color.copy(Pt.color).multiplyScalar(Pt.intensity),Ur.direction.setFromMatrixPosition(Pt.matrixWorld),A.setFromMatrixPosition(Pt.target.matrixWorld),Ur.direction.sub(A),Ur.direction.transformDirection($),Pt.castShadow&&(Ht=Pt.shadow,Br=t.get(Pt),Br.shadowBias=Ht.bias,Br.shadowRadius=Ht.radius,Br.shadowMapSize=Ht.mapSize,i.directionalShadow[K]=Br,i.directionalShadowMap[K]=In,i.directionalShadowMatrix[K]=Pt.shadow.matrix,It++),i.directional[K]=Ur,K++}else Pt.isSpotLight?(Ur=s.get(Pt),Ur.position.setFromMatrixPosition(Pt.matrixWorld),Ur.position.applyMatrix4($),Ur.color.copy(Br).multiplyScalar(Ht),Ur.distance=cn,Ur.direction.setFromMatrixPosition(Pt.matrixWorld),A.setFromMatrixPosition(Pt.target.matrixWorld),Ur.direction.sub(A),Ur.direction.transformDirection($),Ur.coneCos=Math.cos(Pt.angle),Ur.penumbraCos=Math.cos(Pt.angle*(1-Pt.penumbra)),Ur.decay=Pt.decay,Pt.castShadow&&(Ht=Pt.shadow,Br=t.get(Pt),Br.shadowBias=Ht.bias,Br.shadowRadius=Ht.radius,Br.shadowMapSize=Ht.mapSize,i.spotShadow[it]=Br,i.spotShadowMap[it]=In,i.spotShadowMatrix[it]=Pt.shadow.matrix,hr++),i.spot[it]=Ur,it++):Pt.isRectAreaLight?(Ur=s.get(Pt),Ur.color.copy(Br).multiplyScalar(Ht),Ur.position.setFromMatrixPosition(Pt.matrixWorld),Ur.position.applyMatrix4($),O.identity(),E.copy(Pt.matrixWorld),E.premultiply($),O.extractRotation(E),Ur.halfWidth.set(.5*Pt.width,0,0),Ur.halfHeight.set(0,.5*Pt.height,0),Ur.halfWidth.applyMatrix4(O),Ur.halfHeight.applyMatrix4(O),i.rectArea[_t]=Ur,_t++):Pt.isPointLight?(Ur=s.get(Pt),Ur.position.setFromMatrixPosition(Pt.matrixWorld),Ur.position.applyMatrix4($),Ur.color.copy(Pt.color).multiplyScalar(Pt.intensity),Ur.distance=Pt.distance,Ur.decay=Pt.decay,Pt.castShadow&&(Ht=Pt.shadow,Br=t.get(Pt),Br.shadowBias=Ht.bias,Br.shadowRadius=Ht.radius,Br.shadowMapSize=Ht.mapSize,Br.shadowCameraNear=Ht.camera.near,Br.shadowCameraFar=Ht.camera.far,i.pointShadow[Te]=Br,i.pointShadowMap[Te]=In,i.pointShadowMatrix[Te]=Pt.shadow.matrix,Bt++),i.point[Te]=Ur,Te++):Pt.isHemisphereLight&&(Ur=s.get(Pt),Ur.direction.setFromMatrixPosition(Pt.matrixWorld),Ur.direction.transformDirection($),Ur.direction.normalize(),Ur.skyColor.copy(Pt.color).multiplyScalar(Ht),Ur.groundColor.copy(Pt.groundColor).multiplyScalar(Ht),i.hemi[Mt]=Ur,Mt++)}i.ambient[0]=ue,i.ambient[1]=me,i.ambient[2]=pe,H=i.hash,(H.directionalLength!==K||H.pointLength!==Te||H.spotLength!==it||H.rectAreaLength!==_t||H.hemiLength!==Mt||H.numDirectionalShadows!==It||H.numPointShadows!==Bt||H.numSpotShadows!==hr)&&(i.directional.length=K,i.spot.length=it,i.rectArea.length=_t,i.point.length=Te,i.hemi.length=Mt,i.directionalShadow.length=It,i.directionalShadowMap.length=It,i.pointShadow.length=Bt,i.pointShadowMap.length=Bt,i.spotShadow.length=hr,i.spotShadowMap.length=hr,i.directionalShadowMatrix.length=It,i.pointShadowMatrix.length=Bt,i.spotShadowMatrix.length=hr,H.directionalLength=K,H.pointLength=Te,H.spotLength=it,H.rectAreaLength=_t,H.hemiLength=Mt,H.numDirectionalShadows=It,H.numPointShadows=Bt,H.numSpotShadows=hr,i.version=W++)},state:i}}function Y2(){var s=new O_,t=[],i=[];return{init:function(){t.length=0,i.length=0},state:{lightsArray:t,shadowsArray:i,lights:s},setupLights:function(A){s.setup(t,i,A)},pushLight:function(A){t.push(A)},pushShadow:function(A){i.push(A)}}}function Pa(){function s(i){i=i.target,i.removeEventListener("dispose",s),t.delete(i)}var t=new Zo;return{get:function(m,A){if(t.has(m)===!1){var E=new Y2;t.set(m,new Zo),t.get(m).set(A,E),m.addEventListener("dispose",s)}else t.get(m).has(A)===!1?(E=new Y2,t.get(m).set(A,E)):E=t.get(m).get(A);return E},dispose:function(){t=new Zo}}}function iy(s){Wt.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.morphTargets=this.skinning=!1,this.displacementMap=this.alphaMap=this.map=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(s)}function wv(s){Wt.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Y,this.nearDistance=1,this.farDistance=1e3,this.morphTargets=this.skinning=!1,this.displacementMap=this.alphaMap=this.map=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(s)}function SS(s,t,i){function m(Bt,hr,qt){qt=Bt<<0|hr<<1|qt<<2;var Pt=ue[qt];return Pt===void 0&&(Pt=new iy({depthPacking:3201,morphTargets:Bt,skinning:hr}),ue[qt]=Pt),Pt}function A(Bt,hr,qt){qt=Bt<<0|hr<<1|qt<<2;var Pt=me[qt];return Pt===void 0&&(Pt=new wv({morphTargets:Bt,skinning:hr}),me[qt]=Pt),Pt}function E(Bt,hr,qt,Pt,Br,Ht,cn){var In=m,Ur=Bt.customDepthMaterial;return Pt.isPointLight===!0&&(In=A,Ur=Bt.customDistanceMaterial),Ur===void 0?(Ur=!1,qt.morphTargets===!0&&(Ur=hr.morphAttributes&&hr.morphAttributes.position&&0<hr.morphAttributes.position.length),hr=!1,Bt.isSkinnedMesh===!0&&(qt.skinning===!0?hr=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",Bt)),Bt=In(Ur,hr,Bt.isInstancedMesh===!0)):Bt=Ur,s.localClippingEnabled&&qt.clipShadows===!0&&qt.clippingPlanes.length!==0&&(Ur=Bt.uuid,In=qt.uuid,hr=pe[Ur],hr===void 0&&(hr={},pe[Ur]=hr),Ur=hr[In],Ur===void 0&&(Ur=Bt.clone(),hr[In]=Ur),Bt=Ur),Bt.visible=qt.visible,Bt.wireframe=qt.wireframe,Bt.side=cn===3?qt.shadowSide!==null?qt.shadowSide:qt.side:qt.shadowSide!==null?qt.shadowSide:be[qt.side],Bt.clipShadows=qt.clipShadows,Bt.clippingPlanes=qt.clippingPlanes,Bt.clipIntersection=qt.clipIntersection,Bt.wireframeLinewidth=qt.wireframeLinewidth,Bt.linewidth=qt.linewidth,Pt.isPointLight===!0&&Bt.isMeshDistanceMaterial===!0&&(Bt.referencePosition.setFromMatrixPosition(Pt.matrixWorld),Bt.nearDistance=Br,Bt.farDistance=Ht),Bt}function O(Bt,hr,qt,Pt,Br){if(Bt.visible!==!1){if(Bt.layers.test(hr.layers)&&(Bt.isMesh||Bt.isLine||Bt.isPoints)&&(Bt.castShadow||Bt.receiveShadow&&Br===3)&&(!Bt.frustumCulled||F.intersectsObject(Bt))){Bt.modelViewMatrix.multiplyMatrices(qt.matrixWorldInverse,Bt.matrixWorld);var Ht=t.update(Bt),cn=Bt.material;if(Array.isArray(cn))for(var In=Ht.groups,Ur=0,Mi=In.length;Ur<Mi;Ur++){var Rn=In[Ur],yi=cn[Rn.materialIndex];yi&&yi.visible&&(yi=E(Bt,Ht,yi,Pt,qt.near,qt.far,Br),s.renderBufferDirect(qt,null,Ht,yi,Bt,Rn))}else cn.visible&&(yi=E(Bt,Ht,cn,Pt,qt.near,qt.far,Br),s.renderBufferDirect(qt,null,Ht,yi,Bt,null))}for(Bt=Bt.children,Ht=0,cn=Bt.length;Ht<cn;Ht++)O(Bt[Ht],hr,qt,Pt,Br)}}var F=new Hi,H=new l,K=new l,$=new M,ue=[],me=[],pe={},be={0:1,1:0,2:2},Te=new Hr({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:.125},uniforms:{shadow_pass:{value:null},resolution:{value:new l},radius:{value:4}},vertexShader:`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragmentShader:`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
  float mean = 0.0;
  float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );
  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
    #ifdef HORIZONAL_PASS
      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
      mean += distribution.x;
      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
    #else
      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );
      mean += depth;
      squared_mean += depth * depth;
    #endif
  }
  mean = mean * HALF_SAMPLE_RATE;
  squared_mean = squared_mean * HALF_SAMPLE_RATE;
  float std_dev = sqrt( squared_mean - mean * mean );
  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`}),it=Te.clone();it.defines.HORIZONAL_PASS=1;var _t=new Et;_t.setAttribute("position",new gr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var Mt=new Kt(_t,Te),It=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(Bt,hr,qt){if(It.enabled!==!1&&(It.autoUpdate!==!1||It.needsUpdate!==!1)&&Bt.length!==0){var Pt=s.getRenderTarget(),Br=s.getActiveCubeFace(),Ht=s.getActiveMipmapLevel(),cn=s.state;cn.setBlending(0),cn.buffers.color.setClear(1,1,1,1),cn.buffers.depth.setTest(!0),cn.setScissorTest(!1);for(var In=0,Ur=Bt.length;In<Ur;In++){var Mi=Bt[In],Rn=Mi.shadow;if(Rn===void 0)console.warn("THREE.WebGLShadowMap:",Mi,"has no shadow.");else{H.copy(Rn.mapSize);var yi=Rn.getFrameExtents();H.multiply(yi),K.copy(Rn.mapSize),(H.x>i||H.y>i)&&(H.x>i&&(K.x=Math.floor(i/yi.x),H.x=K.x*yi.x,Rn.mapSize.x=K.x),H.y>i&&(K.y=Math.floor(i/yi.y),H.y=K.y*yi.y,Rn.mapSize.y=K.y)),Rn.map!==null||Rn.isPointLightShadow||this.type!==3||(yi={minFilter:1006,magFilter:1006,format:1023},Rn.map=new R(H.x,H.y,yi),Rn.map.texture.name=Mi.name+".shadowMap",Rn.mapPass=new R(H.x,H.y,yi),Rn.camera.updateProjectionMatrix()),Rn.map===null&&(yi={minFilter:1003,magFilter:1003,format:1023},Rn.map=new R(H.x,H.y,yi),Rn.map.texture.name=Mi.name+".shadowMap",Rn.camera.updateProjectionMatrix()),s.setRenderTarget(Rn.map),s.clear(),yi=Rn.getViewportCount();for(var Di=0;Di<yi;Di++){var zi=Rn.getViewport(Di);$.set(K.x*zi.x,K.y*zi.y,K.x*zi.z,K.y*zi.w),cn.viewport($),Rn.updateMatrices(Mi,Di),F=Rn.getFrustum(),O(hr,qt,Rn.camera,Mi,this.type)}Rn.isPointLightShadow||this.type!==3||(Mi=Rn,Rn=qt,yi=t.update(Mt),Te.uniforms.shadow_pass.value=Mi.map.texture,Te.uniforms.resolution.value=Mi.mapSize,Te.uniforms.radius.value=Mi.radius,s.setRenderTarget(Mi.mapPass),s.clear(),s.renderBufferDirect(Rn,null,yi,Te,Mt,null),it.uniforms.shadow_pass.value=Mi.mapPass.texture,it.uniforms.resolution.value=Mi.mapSize,it.uniforms.radius.value=Mi.radius,s.setRenderTarget(Mi.map),s.clear(),s.renderBufferDirect(Rn,null,yi,it,Mt,null))}}It.needsUpdate=!1,s.setRenderTarget(Pt,Br,Ht)}}}function X2(s,t,i){function m(or,Yt,oi){var Vn=new Uint8Array(4),lo=s.createTexture();for(s.bindTexture(or,lo),s.texParameteri(or,10241,9728),s.texParameteri(or,10240,9728),or=0;or<oi;or++)s.texImage2D(Yt+or,0,6408,1,1,0,6408,5121,Vn);return lo}function A(or,Yt){it[or]=1,_t[or]===0&&(s.enableVertexAttribArray(or),_t[or]=1),Mt[or]!==Yt&&((me?s:t.get("ANGLE_instanced_arrays"))[me?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](or,Yt),Mt[or]=Yt)}function E(or){It[or]!==!0&&(s.enable(or),It[or]=!0)}function O(or){It[or]!==!1&&(s.disable(or),It[or]=!1)}function F(or,Yt,oi,Vn,lo,en,Dn,vo){if(or===0)hr&&(O(3042),hr=!1);else if(hr||(E(3042),hr=!0),or!==5){if(or!==qt||vo!==Mi){if((Pt!==100||cn!==100)&&(s.blendEquation(32774),cn=Pt=100),vo)switch(or){case 1:s.blendFuncSeparate(1,771,1,771);break;case 2:s.blendFunc(1,1);break;case 3:s.blendFuncSeparate(0,0,769,771);break;case 4:s.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",or)}else switch(or){case 1:s.blendFuncSeparate(770,771,1,771);break;case 2:s.blendFunc(770,1);break;case 3:s.blendFunc(0,769);break;case 4:s.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",or)}Ur=In=Ht=Br=null,qt=or,Mi=vo}}else lo=lo||Yt,en=en||oi,Dn=Dn||Vn,(Yt!==Pt||lo!==cn)&&(s.blendEquationSeparate(Gn[Yt],Gn[lo]),Pt=Yt,cn=lo),(oi!==Br||Vn!==Ht||en!==In||Dn!==Ur)&&(s.blendFuncSeparate(Pr[oi],Pr[Vn],Pr[en],Pr[Dn]),Br=oi,Ht=Vn,In=en,Ur=Dn),qt=or,Mi=null}function H(or){Rn!==or&&(or?s.frontFace(2304):s.frontFace(2305),Rn=or)}function K(or){or!==0?(E(2884),or!==yi&&(or===1?s.cullFace(1029):or===2?s.cullFace(1028):s.cullFace(1032))):O(2884),yi=or}function $(or,Yt,oi){or?(E(32823),(zi!==Yt||To!==oi)&&(s.polygonOffset(Yt,oi),zi=Yt,To=oi)):O(32823)}function ue(or){or===void 0&&(or=33984+ho-1),Fa!==or&&(s.activeTexture(or),Fa=or)}var me=i.isWebGL2,pe=new function(){var or=!1,Yt=new M,oi=null,Vn=new M(0,0,0,0);return{setMask:function(en){oi===en||or||(s.colorMask(en,en,en,en),oi=en)},setLocked:function(en){or=en},setClear:function(en,Dn,vo,Ha,$o){$o===!0&&(en*=Ha,Dn*=Ha,vo*=Ha),Yt.set(en,Dn,vo,Ha),Vn.equals(Yt)===!1&&(s.clearColor(en,Dn,vo,Ha),Vn.copy(Yt))},reset:function(){or=!1,oi=null,Vn.set(-1,0,0,0)}}},be=new function(){var or=!1,Yt=null,oi=null,Vn=null;return{setTest:function(en){en?E(2929):O(2929)},setMask:function(en){Yt===en||or||(s.depthMask(en),Yt=en)},setFunc:function(en){if(oi!==en){if(en)switch(en){case 0:s.depthFunc(512);break;case 1:s.depthFunc(519);break;case 2:s.depthFunc(513);break;case 3:s.depthFunc(515);break;case 4:s.depthFunc(514);break;case 5:s.depthFunc(518);break;case 6:s.depthFunc(516);break;case 7:s.depthFunc(517);break;default:s.depthFunc(515)}else s.depthFunc(515);oi=en}},setLocked:function(en){or=en},setClear:function(en){Vn!==en&&(s.clearDepth(en),Vn=en)},reset:function(){or=!1,Vn=oi=Yt=null}}},Te=new function(){var or=!1,Yt=null,oi=null,Vn=null,lo=null,en=null,Dn=null,vo=null,Ha=null;return{setTest:function(Cr){or||(Cr?E(2960):O(2960))},setMask:function(Cr){Yt===Cr||or||(s.stencilMask(Cr),Yt=Cr)},setFunc:function(Cr,uo,to){(oi!==Cr||Vn!==uo||lo!==to)&&(s.stencilFunc(Cr,uo,to),oi=Cr,Vn=uo,lo=to)},setOp:function(Cr,uo,to){(en!==Cr||Dn!==uo||vo!==to)&&(s.stencilOp(Cr,uo,to),en=Cr,Dn=uo,vo=to)},setLocked:function(Cr){or=Cr},setClear:function(Cr){Ha!==Cr&&(s.clearStencil(Cr),Ha=Cr)},reset:function(){or=!1,Ha=vo=Dn=en=lo=Vn=oi=Yt=null}}};i=s.getParameter(34921);var it=new Uint8Array(i),_t=new Uint8Array(i),Mt=new Uint8Array(i),It={},Bt=null,hr=null,qt=null,Pt=null,Br=null,Ht=null,cn=null,In=null,Ur=null,Mi=!1,Rn=null,yi=null,Di=null,zi=null,To=null,ho=s.getParameter(35661),la=!1;i=0,i=s.getParameter(7938),i.indexOf("WebGL")!==-1?(i=parseFloat(/^WebGL ([0-9])/.exec(i)[1]),la=1<=i):i.indexOf("OpenGL ES")!==-1&&(i=parseFloat(/^OpenGL ES ([0-9])/.exec(i)[1]),la=2<=i);var Fa=null,tt={},Ct=new M,cr=new M,fn={};fn[3553]=m(3553,3553,1),fn[34067]=m(34067,34069,6),pe.setClear(0,0,0,1),be.setClear(1),Te.setClear(0),E(2929),be.setFunc(3),H(!1),K(1),E(2884),F(0);var Gn={100:32774,101:32778,102:32779};me?(Gn[103]=32775,Gn[104]=32776):(i=t.get("EXT_blend_minmax"),i!==null&&(Gn[103]=i.MIN_EXT,Gn[104]=i.MAX_EXT));var Pr={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};return{buffers:{color:pe,depth:be,stencil:Te},initAttributes:function(){for(var Yt=0,oi=it.length;Yt<oi;Yt++)it[Yt]=0},enableAttribute:function(Yt){A(Yt,0)},enableAttributeAndDivisor:A,disableUnusedAttributes:function(){for(var Yt=0,oi=_t.length;Yt!==oi;++Yt)_t[Yt]!==it[Yt]&&(s.disableVertexAttribArray(Yt),_t[Yt]=0)},vertexAttribPointer:function(Yt,oi,Vn,lo,en,Dn){me!==!0||Vn!==5124&&Vn!==5125?s.vertexAttribPointer(Yt,oi,Vn,lo,en,Dn):s.vertexAttribIPointer(Yt,oi,Vn,lo,en,Dn)},enable:E,disable:O,useProgram:function(Yt){return Bt!==Yt?(s.useProgram(Yt),Bt=Yt,!0):!1},setBlending:F,setMaterial:function(Yt,oi){Yt.side===2?O(2884):E(2884);var Vn=Yt.side===1;oi&&(Vn=!Vn),H(Vn),Yt.blending===1&&Yt.transparent===!1?F(0):F(Yt.blending,Yt.blendEquation,Yt.blendSrc,Yt.blendDst,Yt.blendEquationAlpha,Yt.blendSrcAlpha,Yt.blendDstAlpha,Yt.premultipliedAlpha),be.setFunc(Yt.depthFunc),be.setTest(Yt.depthTest),be.setMask(Yt.depthWrite),pe.setMask(Yt.colorWrite),oi=Yt.stencilWrite,Te.setTest(oi),oi&&(Te.setMask(Yt.stencilWriteMask),Te.setFunc(Yt.stencilFunc,Yt.stencilRef,Yt.stencilFuncMask),Te.setOp(Yt.stencilFail,Yt.stencilZFail,Yt.stencilZPass)),$(Yt.polygonOffset,Yt.polygonOffsetFactor,Yt.polygonOffsetUnits)},setFlipSided:H,setCullFace:K,setLineWidth:function(Yt){Yt!==Di&&(la&&s.lineWidth(Yt),Di=Yt)},setPolygonOffset:$,setScissorTest:function(Yt){Yt?E(3089):O(3089)},activeTexture:ue,bindTexture:function(Yt,oi){Fa===null&&ue();var Vn=tt[Fa];Vn===void 0&&(Vn={type:void 0,texture:void 0},tt[Fa]=Vn),(Vn.type!==Yt||Vn.texture!==oi)&&(s.bindTexture(Yt,oi||fn[Yt]),Vn.type=Yt,Vn.texture=oi)},unbindTexture:function(){var Yt=tt[Fa];Yt!==void 0&&Yt.type!==void 0&&(s.bindTexture(Yt.type,null),Yt.type=void 0,Yt.texture=void 0)},compressedTexImage2D:function(){try{s.compressedTexImage2D.apply(s,arguments)}catch(Yt){console.error("THREE.WebGLState:",Yt)}},texImage2D:function(){try{s.texImage2D.apply(s,arguments)}catch(Yt){console.error("THREE.WebGLState:",Yt)}},texImage3D:function(){try{s.texImage3D.apply(s,arguments)}catch(Yt){console.error("THREE.WebGLState:",Yt)}},scissor:function(Yt){Ct.equals(Yt)===!1&&(s.scissor(Yt.x,Yt.y,Yt.z,Yt.w),Ct.copy(Yt))},viewport:function(Yt){cr.equals(Yt)===!1&&(s.viewport(Yt.x,Yt.y,Yt.z,Yt.w),cr.copy(Yt))},reset:function(){for(var Yt=0;Yt<_t.length;Yt++)_t[Yt]===1&&(s.disableVertexAttribArray(Yt),_t[Yt]=0);It={},Fa=null,tt={},yi=Rn=qt=Bt=null,pe.reset(),be.reset(),Te.reset()}}}function _S(s,t,i,m,A,E,O){function F(tt,Ct){return Di?new OffscreenCanvas(tt,Ct):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function H(tt,Ct,cr,fn){var Gn=1;if((tt.width>fn||tt.height>fn)&&(Gn=fn/Math.max(tt.width,tt.height)),1>Gn||Ct===!0){if(typeof HTMLImageElement!="undefined"&&tt instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&tt instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&tt instanceof ImageBitmap)return fn=Ct?Fo.floorPowerOfTwo:Math.floor,Ct=fn(Gn*tt.width),Gn=fn(Gn*tt.height),yi===void 0&&(yi=F(Ct,Gn)),cr=cr?F(Ct,Gn):yi,cr.width=Ct,cr.height=Gn,cr.getContext("2d").drawImage(tt,0,0,Ct,Gn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+tt.width+"x"+tt.height+") to ("+Ct+"x"+Gn+")."),cr;"data"in tt&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+tt.width+"x"+tt.height+").")}return tt}function K(tt){return Fo.isPowerOfTwo(tt.width)&&Fo.isPowerOfTwo(tt.height)}function $(tt,Ct){return tt.generateMipmaps&&Ct&&tt.minFilter!==1003&&tt.minFilter!==1006}function ue(tt,Ct,cr,fn){s.generateMipmap(tt),m.get(Ct).__maxMipLevel=Math.log(Math.max(cr,fn))*Math.LOG2E}function me(tt,Ct,cr){if(Ht===!1)return Ct;if(tt!==null){if(s[tt]!==void 0)return s[tt];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+tt+"'")}return tt=Ct,Ct===6403&&(cr===5126&&(tt=33326),cr===5131&&(tt=33325),cr===5121&&(tt=33321)),Ct===6407&&(cr===5126&&(tt=34837),cr===5131&&(tt=34843),cr===5121&&(tt=32849)),Ct===6408&&(cr===5126&&(tt=34836),cr===5131&&(tt=34842),cr===5121&&(tt=32856)),tt!==33325&&tt!==33326&&tt!==34842&&tt!==34836||t.get("EXT_color_buffer_float"),tt}function pe(tt){return tt===1003||tt===1004||tt===1005?9728:9729}function be(tt){tt=tt.target,tt.removeEventListener("dispose",be);var Ct=m.get(tt);Ct.__webglInit!==void 0&&(s.deleteTexture(Ct.__webglTexture),m.remove(tt)),tt.isVideoTexture&&Rn.delete(tt),O.memory.textures--}function Te(tt){tt=tt.target,tt.removeEventListener("dispose",Te);var Ct=m.get(tt),cr=m.get(tt.texture);if(tt){if(cr.__webglTexture!==void 0&&s.deleteTexture(cr.__webglTexture),tt.depthTexture&&tt.depthTexture.dispose(),tt.isWebGLCubeRenderTarget)for(cr=0;6>cr;cr++)s.deleteFramebuffer(Ct.__webglFramebuffer[cr]),Ct.__webglDepthbuffer&&s.deleteRenderbuffer(Ct.__webglDepthbuffer[cr]);else s.deleteFramebuffer(Ct.__webglFramebuffer),Ct.__webglDepthbuffer&&s.deleteRenderbuffer(Ct.__webglDepthbuffer),Ct.__webglMultisampledFramebuffer&&s.deleteFramebuffer(Ct.__webglMultisampledFramebuffer),Ct.__webglColorRenderbuffer&&s.deleteRenderbuffer(Ct.__webglColorRenderbuffer),Ct.__webglDepthRenderbuffer&&s.deleteRenderbuffer(Ct.__webglDepthRenderbuffer);m.remove(tt.texture),m.remove(tt)}O.memory.textures--}function it(tt,Ct){var cr=m.get(tt);if(tt.isVideoTexture){var fn=O.render.frame;Rn.get(tt)!==fn&&(Rn.set(tt,fn),tt.update())}if(0<tt.version&&cr.__version!==tt.version)if(fn=tt.image,fn===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(fn.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{hr(cr,tt,Ct);return}i.activeTexture(33984+Ct),i.bindTexture(3553,cr.__webglTexture)}function _t(tt,Ct){if(tt.image.length===6){var cr=m.get(tt);if(0<tt.version&&cr.__version!==tt.version){Bt(cr,tt),i.activeTexture(33984+Ct),i.bindTexture(34067,cr.__webglTexture),s.pixelStorei(37440,tt.flipY);var fn=tt&&(tt.isCompressedTexture||tt.image[0].isCompressedTexture);Ct=tt.image[0]&&tt.image[0].isDataTexture;for(var Gn=[],Pr=0;6>Pr;Pr++)Gn[Pr]=fn||Ct?Ct?tt.image[Pr].image:tt.image[Pr]:H(tt.image[Pr],!1,!0,In);var or=Gn[0],Yt=K(or)||Ht,oi=E.convert(tt.format),Vn=E.convert(tt.type),lo=me(tt.internalFormat,oi,Vn);if(It(34067,tt,Yt),fn){for(Pr=0;6>Pr;Pr++){var en=Gn[Pr].mipmaps;for(fn=0;fn<en.length;fn++){var Dn=en[fn];tt.format!==1023&&tt.format!==1022?oi!==null?i.compressedTexImage2D(34069+Pr,fn,lo,Dn.width,Dn.height,0,Dn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):i.texImage2D(34069+Pr,fn,lo,Dn.width,Dn.height,0,oi,Vn,Dn.data)}}cr.__maxMipLevel=en.length-1}else{for(en=tt.mipmaps,Pr=0;6>Pr;Pr++)if(Ct)for(i.texImage2D(34069+Pr,0,lo,Gn[Pr].width,Gn[Pr].height,0,oi,Vn,Gn[Pr].data),fn=0;fn<en.length;fn++)Dn=en[fn],Dn=Dn.image[Pr].image,i.texImage2D(34069+Pr,fn+1,lo,Dn.width,Dn.height,0,oi,Vn,Dn.data);else for(i.texImage2D(34069+Pr,0,lo,oi,Vn,Gn[Pr]),fn=0;fn<en.length;fn++)Dn=en[fn],i.texImage2D(34069+Pr,fn+1,lo,oi,Vn,Dn.image[Pr]);cr.__maxMipLevel=en.length}$(tt,Yt)&&ue(34067,tt,or.width,or.height),cr.__version=tt.version,tt.onUpdate&&tt.onUpdate(tt)}else i.activeTexture(33984+Ct),i.bindTexture(34067,cr.__webglTexture)}}function Mt(tt,Ct){i.activeTexture(33984+Ct),i.bindTexture(34067,m.get(tt).__webglTexture)}function It(tt,Ct,cr){cr?(s.texParameteri(tt,10242,To[Ct.wrapS]),s.texParameteri(tt,10243,To[Ct.wrapT]),tt!==32879&&tt!==35866||s.texParameteri(tt,32882,To[Ct.wrapR]),s.texParameteri(tt,10240,ho[Ct.magFilter]),s.texParameteri(tt,10241,ho[Ct.minFilter])):(s.texParameteri(tt,10242,33071),s.texParameteri(tt,10243,33071),tt!==32879&&tt!==35866||s.texParameteri(tt,32882,33071),Ct.wrapS===1001&&Ct.wrapT===1001||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),s.texParameteri(tt,10240,pe(Ct.magFilter)),s.texParameteri(tt,10241,pe(Ct.minFilter)),Ct.minFilter!==1003&&Ct.minFilter!==1006&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!(cr=t.get("EXT_texture_filter_anisotropic"))||Ct.type===1015&&t.get("OES_texture_float_linear")===null||Ct.type===1016&&(Ht||t.get("OES_texture_half_float_linear"))===null||!(1<Ct.anisotropy||m.get(Ct).__currentAnisotropy)||(s.texParameterf(tt,cr.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Ct.anisotropy,A.getMaxAnisotropy())),m.get(Ct).__currentAnisotropy=Ct.anisotropy)}function Bt(tt,Ct){tt.__webglInit===void 0&&(tt.__webglInit=!0,Ct.addEventListener("dispose",be),tt.__webglTexture=s.createTexture(),O.memory.textures++)}function hr(tt,Ct,cr){var fn=3553;Ct.isDataTexture2DArray&&(fn=35866),Ct.isDataTexture3D&&(fn=32879),Bt(tt,Ct),i.activeTexture(33984+cr),i.bindTexture(fn,tt.__webglTexture),s.pixelStorei(37440,Ct.flipY),s.pixelStorei(37441,Ct.premultiplyAlpha),s.pixelStorei(3317,Ct.unpackAlignment),cr=Ht?!1:Ct.wrapS!==1001||Ct.wrapT!==1001||Ct.minFilter!==1003&&Ct.minFilter!==1006,cr=cr&&K(Ct.image)===!1,cr=H(Ct.image,cr,!1,Ur);var Gn=K(cr)||Ht,Pr=E.convert(Ct.format),or=E.convert(Ct.type),Yt=me(Ct.internalFormat,Pr,or);It(fn,Ct,Gn);var oi=Ct.mipmaps;if(Ct.isDepthTexture)Yt=6402,Ht?Yt=Ct.type===1015?36012:Ct.type===1014?33190:Ct.type===1020?35056:33189:Ct.type===1015&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Ct.format===1026&&Yt===6402&&Ct.type!==1012&&Ct.type!==1014&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Ct.type=1012,or=E.convert(Ct.type)),Ct.format===1027&&Yt===6402&&(Yt=34041,Ct.type!==1020&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Ct.type=1020,or=E.convert(Ct.type))),i.texImage2D(3553,0,Yt,cr.width,cr.height,0,Pr,or,null);else if(Ct.isDataTexture)if(0<oi.length&&Gn){for(var Vn=0,lo=oi.length;Vn<lo;Vn++){var en=oi[Vn];i.texImage2D(3553,Vn,Yt,en.width,en.height,0,Pr,or,en.data)}Ct.generateMipmaps=!1,tt.__maxMipLevel=oi.length-1}else i.texImage2D(3553,0,Yt,cr.width,cr.height,0,Pr,or,cr.data),tt.__maxMipLevel=0;else if(Ct.isCompressedTexture){for(Vn=0,lo=oi.length;Vn<lo;Vn++)en=oi[Vn],Ct.format!==1023&&Ct.format!==1022?Pr!==null?i.compressedTexImage2D(3553,Vn,Yt,en.width,en.height,0,en.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):i.texImage2D(3553,Vn,Yt,en.width,en.height,0,Pr,or,en.data);tt.__maxMipLevel=oi.length-1}else if(Ct.isDataTexture2DArray)i.texImage3D(35866,0,Yt,cr.width,cr.height,cr.depth,0,Pr,or,cr.data),tt.__maxMipLevel=0;else if(Ct.isDataTexture3D)i.texImage3D(32879,0,Yt,cr.width,cr.height,cr.depth,0,Pr,or,cr.data),tt.__maxMipLevel=0;else if(0<oi.length&&Gn){for(Vn=0,lo=oi.length;Vn<lo;Vn++)en=oi[Vn],i.texImage2D(3553,Vn,Yt,Pr,or,en);Ct.generateMipmaps=!1,tt.__maxMipLevel=oi.length-1}else i.texImage2D(3553,0,Yt,Pr,or,cr),tt.__maxMipLevel=0;$(Ct,Gn)&&ue(fn,Ct,cr.width,cr.height),tt.__version=Ct.version,Ct.onUpdate&&Ct.onUpdate(Ct)}function qt(tt,Ct,cr,fn){var Gn=E.convert(Ct.texture.format),Pr=E.convert(Ct.texture.type),or=me(Ct.texture.internalFormat,Gn,Pr);i.texImage2D(fn,0,or,Ct.width,Ct.height,0,Gn,Pr,null),s.bindFramebuffer(36160,tt),s.framebufferTexture2D(36160,cr,fn,m.get(Ct.texture).__webglTexture,0),s.bindFramebuffer(36160,null)}function Pt(tt,Ct,cr){if(s.bindRenderbuffer(36161,tt),Ct.depthBuffer&&!Ct.stencilBuffer){var fn=33189;cr?((cr=Ct.depthTexture)&&cr.isDepthTexture&&(cr.type===1015?fn=36012:cr.type===1014&&(fn=33190)),cr=Br(Ct),s.renderbufferStorageMultisample(36161,cr,fn,Ct.width,Ct.height)):s.renderbufferStorage(36161,fn,Ct.width,Ct.height),s.framebufferRenderbuffer(36160,36096,36161,tt)}else Ct.depthBuffer&&Ct.stencilBuffer?(cr?(cr=Br(Ct),s.renderbufferStorageMultisample(36161,cr,35056,Ct.width,Ct.height)):s.renderbufferStorage(36161,34041,Ct.width,Ct.height),s.framebufferRenderbuffer(36160,33306,36161,tt)):(tt=E.convert(Ct.texture.format),fn=E.convert(Ct.texture.type),fn=me(Ct.texture.internalFormat,tt,fn),cr?(cr=Br(Ct),s.renderbufferStorageMultisample(36161,cr,fn,Ct.width,Ct.height)):s.renderbufferStorage(36161,fn,Ct.width,Ct.height));s.bindRenderbuffer(36161,null)}function Br(tt){return Ht&&tt.isWebGLMultisampleRenderTarget?Math.min(Mi,tt.samples):0}var Ht=A.isWebGL2,cn=A.maxTextures,In=A.maxCubemapSize,Ur=A.maxTextureSize,Mi=A.maxSamples,Rn=new Zo,yi,Di=!1;try{Di=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch(tt){}var zi=0,To={1e3:10497,1001:33071,1002:33648},ho={1003:9728,1004:9984,1005:9986,1006:9729,1007:9985,1008:9987},la=!1,Fa=!1;this.allocateTextureUnit=function(){var tt=zi;return tt>=cn&&console.warn("THREE.WebGLTextures: Trying to use "+tt+" texture units while this GPU supports only "+cn),zi+=1,tt},this.resetTextureUnits=function(){zi=0},this.setTexture2D=it,this.setTexture2DArray=function(tt,Ct){var cr=m.get(tt);0<tt.version&&cr.__version!==tt.version?hr(cr,tt,Ct):(i.activeTexture(33984+Ct),i.bindTexture(35866,cr.__webglTexture))},this.setTexture3D=function(tt,Ct){var cr=m.get(tt);0<tt.version&&cr.__version!==tt.version?hr(cr,tt,Ct):(i.activeTexture(33984+Ct),i.bindTexture(32879,cr.__webglTexture))},this.setTextureCube=_t,this.setTextureCubeDynamic=Mt,this.setupRenderTarget=function(tt){var Ct=m.get(tt),cr=m.get(tt.texture);tt.addEventListener("dispose",Te),cr.__webglTexture=s.createTexture(),O.memory.textures++;var fn=tt.isWebGLCubeRenderTarget===!0,Gn=tt.isWebGLMultisampleRenderTarget===!0,Pr=K(tt)||Ht;if(!Ht||tt.texture.format!==1022||tt.texture.type!==1015&&tt.texture.type!==1016||(tt.texture.format=1023,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),fn)for(Ct.__webglFramebuffer=[],Gn=0;6>Gn;Gn++)Ct.__webglFramebuffer[Gn]=s.createFramebuffer();else if(Ct.__webglFramebuffer=s.createFramebuffer(),Gn)if(Ht){Ct.__webglMultisampledFramebuffer=s.createFramebuffer(),Ct.__webglColorRenderbuffer=s.createRenderbuffer(),s.bindRenderbuffer(36161,Ct.__webglColorRenderbuffer),Gn=E.convert(tt.texture.format);var or=E.convert(tt.texture.type);Gn=me(tt.texture.internalFormat,Gn,or),or=Br(tt),s.renderbufferStorageMultisample(36161,or,Gn,tt.width,tt.height),s.bindFramebuffer(36160,Ct.__webglMultisampledFramebuffer),s.framebufferRenderbuffer(36160,36064,36161,Ct.__webglColorRenderbuffer),s.bindRenderbuffer(36161,null),tt.depthBuffer&&(Ct.__webglDepthRenderbuffer=s.createRenderbuffer(),Pt(Ct.__webglDepthRenderbuffer,tt,!0)),s.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(fn){for(i.bindTexture(34067,cr.__webglTexture),It(34067,tt.texture,Pr),Gn=0;6>Gn;Gn++)qt(Ct.__webglFramebuffer[Gn],tt,36064,34069+Gn);$(tt.texture,Pr)&&ue(34067,tt.texture,tt.width,tt.height),i.bindTexture(34067,null)}else i.bindTexture(3553,cr.__webglTexture),It(3553,tt.texture,Pr),qt(Ct.__webglFramebuffer,tt,36064,3553),$(tt.texture,Pr)&&ue(3553,tt.texture,tt.width,tt.height),i.bindTexture(3553,null);if(tt.depthBuffer){if(Ct=m.get(tt),cr=tt.isWebGLCubeRenderTarget===!0,tt.depthTexture){if(cr)throw Error("target.depthTexture not supported in Cube render targets");if(tt&&tt.isWebGLCubeRenderTarget)throw Error("Depth Texture with cube render targets is not supported");if(s.bindFramebuffer(36160,Ct.__webglFramebuffer),!tt.depthTexture||!tt.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");if(m.get(tt.depthTexture).__webglTexture&&tt.depthTexture.image.width===tt.width&&tt.depthTexture.image.height===tt.height||(tt.depthTexture.image.width=tt.width,tt.depthTexture.image.height=tt.height,tt.depthTexture.needsUpdate=!0),it(tt.depthTexture,0),Ct=m.get(tt.depthTexture).__webglTexture,tt.depthTexture.format===1026)s.framebufferTexture2D(36160,36096,3553,Ct,0);else if(tt.depthTexture.format===1027)s.framebufferTexture2D(36160,33306,3553,Ct,0);else throw Error("Unknown depthTexture format")}else if(cr)for(Ct.__webglDepthbuffer=[],cr=0;6>cr;cr++)s.bindFramebuffer(36160,Ct.__webglFramebuffer[cr]),Ct.__webglDepthbuffer[cr]=s.createRenderbuffer(),Pt(Ct.__webglDepthbuffer[cr],tt,!1);else s.bindFramebuffer(36160,Ct.__webglFramebuffer),Ct.__webglDepthbuffer=s.createRenderbuffer(),Pt(Ct.__webglDepthbuffer,tt,!1);s.bindFramebuffer(36160,null)}},this.updateRenderTargetMipmap=function(tt){var Ct=tt.texture,cr=K(tt)||Ht;if($(Ct,cr)){cr=tt.isWebGLCubeRenderTarget?34067:3553;var fn=m.get(Ct).__webglTexture;i.bindTexture(cr,fn),ue(cr,Ct,tt.width,tt.height),i.bindTexture(cr,null)}},this.updateMultisampleRenderTarget=function(tt){if(tt.isWebGLMultisampleRenderTarget)if(Ht){var Ct=m.get(tt);s.bindFramebuffer(36008,Ct.__webglMultisampledFramebuffer),s.bindFramebuffer(36009,Ct.__webglFramebuffer);var cr=tt.width,fn=tt.height,Gn=16384;tt.depthBuffer&&(Gn|=256),tt.stencilBuffer&&(Gn|=1024),s.blitFramebuffer(0,0,cr,fn,0,0,cr,fn,Gn,9728),s.bindFramebuffer(36160,Ct.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(tt,Ct){tt&&tt.isWebGLRenderTarget&&(la===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),la=!0),tt=tt.texture),it(tt,Ct)},this.safeSetTextureCube=function(tt,Ct){tt&&tt.isWebGLCubeRenderTarget&&(Fa===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),Fa=!0),tt=tt.texture),tt&&tt.isCubeTexture||Array.isArray(tt.image)&&tt.image.length===6?_t(tt,Ct):Mt(tt,Ct)}}function Z2(s,t,i){var m=i.isWebGL2;return{convert:function(E){if(E===1009)return 5121;if(E===1017)return 32819;if(E===1018)return 32820;if(E===1019)return 33635;if(E===1010)return 5120;if(E===1011)return 5122;if(E===1012)return 5123;if(E===1013)return 5124;if(E===1014)return 5125;if(E===1015)return 5126;if(E===1016){if(m)return 5131;var O=t.get("OES_texture_half_float");return O!==null?O.HALF_FLOAT_OES:null}if(E===1021)return 6406;if(E===1022)return 6407;if(E===1023)return 6408;if(E===1024)return 6409;if(E===1025)return 6410;if(E===1026)return 6402;if(E===1027)return 34041;if(E===1028)return 6403;if(E===1029)return 36244;if(E===1030)return 33319;if(E===1031)return 33320;if(E===1032)return 36248;if(E===1033)return 36249;if(E===33776||E===33777||E===33778||E===33779)if(O=t.get("WEBGL_compressed_texture_s3tc"),O!==null){if(E===33776)return O.COMPRESSED_RGB_S3TC_DXT1_EXT;if(E===33777)return O.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(E===33778)return O.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(E===33779)return O.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(E===35840||E===35841||E===35842||E===35843)if(O=t.get("WEBGL_compressed_texture_pvrtc"),O!==null){if(E===35840)return O.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(E===35841)return O.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(E===35842)return O.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(E===35843)return O.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(E===36196)return O=t.get("WEBGL_compressed_texture_etc1"),O!==null?O.COMPRESSED_RGB_ETC1_WEBGL:null;if((E===37492||E===37496)&&(O=t.get("WEBGL_compressed_texture_etc"),O!==null)){if(E===37492)return O.COMPRESSED_RGB8_ETC2;if(E===37496)return O.COMPRESSED_RGBA8_ETC2_EAC}if(E===37808||E===37809||E===37810||E===37811||E===37812||E===37813||E===37814||E===37815||E===37816||E===37817||E===37818||E===37819||E===37820||E===37821||E===37840||E===37841||E===37842||E===37843||E===37844||E===37845||E===37846||E===37847||E===37848||E===37849||E===37850||E===37851||E===37852||E===37853)return O=t.get("WEBGL_compressed_texture_astc"),O!==null?E:null;if(E===36492)return O=t.get("EXT_texture_compression_bptc"),O!==null?E:null;if(E===1020)return m?34042:(O=t.get("WEBGL_depth_texture"),O!==null?O.UNSIGNED_INT_24_8_WEBGL:null)}}}function iC(s){mr.call(this),this.cameras=s||[]}function oy(){we.call(this),this.type="Group"}function oC(){this._grip=this._targetRay=null}function MS(s,t){function i(Ht){var cn=be.get(Ht.inputSource);cn&&cn.dispatchEvent({type:Ht.type})}function m(){be.forEach(function(Ht,cn){Ht.disconnect(cn)}),be.clear(),s.setFramebuffer(null),s.setRenderTarget(s.getRenderTarget()),Br.stop(),F.isPresenting=!1,F.dispatchEvent({type:"sessionend"})}function A(Ht){$=Ht,Br.setContext(H),Br.start(),F.isPresenting=!0,F.dispatchEvent({type:"sessionstart"})}function E(Ht){for(var cn=H.inputSources,In=0;In<pe.length;In++)be.set(cn[In],pe[In]);for(In=0;In<Ht.removed.length;In++){cn=Ht.removed[In];var Ur=be.get(cn);Ur&&(Ur.dispatchEvent({type:"disconnected",data:cn}),be.delete(cn))}for(In=0;In<Ht.added.length;In++)cn=Ht.added[In],(Ur=be.get(cn))&&Ur.dispatchEvent({type:"connected",data:cn})}function O(Ht,cn){cn===null?Ht.matrixWorld.copy(Ht.matrix):Ht.matrixWorld.multiplyMatrices(cn.matrixWorld,Ht.matrix),Ht.matrixWorldInverse.getInverse(Ht.matrixWorld)}var F=this,H=null,K=1,$=null,ue="local-floor",me=null,pe=[],be=new R0,Te=new mr;Te.layers.enable(1),Te.viewport=new M;var it=new mr;it.layers.enable(2),it.viewport=new M;var _t=[Te,it],Mt=new iC;Mt.layers.enable(1),Mt.layers.enable(2);var It=null,Bt=null;this.isPresenting=this.enabled=!1,this.getController=function(Ht){var cn=pe[Ht];return cn===void 0&&(cn=new oC,pe[Ht]=cn),cn.getTargetRaySpace()},this.getControllerGrip=function(Ht){var cn=pe[Ht];return cn===void 0&&(cn=new oC,pe[Ht]=cn),cn.getGripSpace()},this.setFramebufferScaleFactor=function(Ht){K=Ht,F.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Ht){ue=Ht,F.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return $},this.getSession=function(){return H},this.setSession=function(Ht){H=Ht,H!==null&&(H.addEventListener("select",i),H.addEventListener("selectstart",i),H.addEventListener("selectend",i),H.addEventListener("squeeze",i),H.addEventListener("squeezestart",i),H.addEventListener("squeezeend",i),H.addEventListener("end",m),Ht=t.getContextAttributes(),Ht.xrCompatible!==!0&&t.makeXRCompatible(),Ht=new XRWebGLLayer(H,t,{antialias:Ht.antialias,alpha:Ht.alpha,depth:Ht.depth,stencil:Ht.stencil,framebufferScaleFactor:K}),H.updateRenderState({baseLayer:Ht}),H.requestReferenceSpace(ue).then(A),H.addEventListener("inputsourceschange",E))};var hr=new Y,qt=new Y;this.getCamera=function(Ht){Mt.near=it.near=Te.near=Ht.near,Mt.far=it.far=Te.far=Ht.far,(It!==Mt.near||Bt!==Mt.far)&&(H.updateRenderState({depthNear:Mt.near,depthFar:Mt.far}),It=Mt.near,Bt=Mt.far);var cn=Ht.parent,In=Mt.cameras;O(Mt,cn);for(var Ur=0;Ur<In.length;Ur++)O(In[Ur],cn);for(Ht.matrixWorld.copy(Mt.matrixWorld),Ht=Ht.children,Ur=0,cn=Ht.length;Ur<cn;Ur++)Ht[Ur].updateMatrixWorld(!0);if(In.length===2){hr.setFromMatrixPosition(Te.matrixWorld),qt.setFromMatrixPosition(it.matrixWorld),In=hr.distanceTo(qt);var Mi=Te.projectionMatrix.elements,Rn=it.projectionMatrix.elements,yi=Mi[14]/(Mi[10]-1);Ur=Mi[14]/(Mi[10]+1),Ht=(Mi[9]+1)/Mi[5],cn=(Mi[9]-1)/Mi[5];var Di=(Mi[8]-1)/Mi[0],zi=(Rn[8]+1)/Rn[0];Rn=yi*Di,Mi=yi*zi,zi=In/(-Di+zi),Di=zi*-Di,Te.matrixWorld.decompose(Mt.position,Mt.quaternion,Mt.scale),Mt.translateX(Di),Mt.translateZ(zi),Mt.matrixWorld.compose(Mt.position,Mt.quaternion,Mt.scale),Mt.matrixWorldInverse.getInverse(Mt.matrixWorld),yi+=zi,zi=Ur+zi,Mt.projectionMatrix.makePerspective(Rn-Di,Mi+(In-Di),Ht*Ur/zi*yi,cn*Ur/zi*yi,yi,zi)}else Mt.projectionMatrix.copy(Te.projectionMatrix);return Mt};var Pt=null,Br=new mi;Br.setAnimationLoop(function(Ht,cn){if(me=cn.getViewerPose($),me!==null){var In=me.views,Ur=H.renderState.baseLayer;s.setFramebuffer(Ur.framebuffer);var Mi=!1;In.length!==Mt.cameras.length&&(Mt.cameras.length=0,Mi=!0);for(var Rn=0;Rn<In.length;Rn++){var yi=In[Rn],Di=Ur.getViewport(yi),zi=_t[Rn];zi.matrix.fromArray(yi.transform.matrix),zi.projectionMatrix.fromArray(yi.projectionMatrix),zi.viewport.set(Di.x,Di.y,Di.width,Di.height),Rn===0&&Mt.matrix.copy(zi.matrix),Mi===!0&&Mt.cameras.push(zi)}}for(In=H.inputSources,Rn=0;Rn<pe.length;Rn++)pe[Rn].update(In[Rn],cn,$);Pt&&Pt(Ht,cn)}),this.setAnimationLoop=function(Ht){Pt=Ht},this.dispose=function(){}}function ub(s){function t(m,A,E){if(m.opacity.value=A.opacity,A.color&&m.diffuse.value.copy(A.color),A.emissive&&m.emissive.value.copy(A.emissive).multiplyScalar(A.emissiveIntensity),A.map&&(m.map.value=A.map),A.alphaMap&&(m.alphaMap.value=A.alphaMap),A.specularMap&&(m.specularMap.value=A.specularMap),(E=A.envMap||E)&&(m.envMap.value=E,m.flipEnvMap.value=E.isCubeTexture?-1:1,m.reflectivity.value=A.reflectivity,m.refractionRatio.value=A.refractionRatio,m.maxMipLevel.value=s.get(E).__maxMipLevel),A.lightMap&&(m.lightMap.value=A.lightMap,m.lightMapIntensity.value=A.lightMapIntensity),A.aoMap&&(m.aoMap.value=A.aoMap,m.aoMapIntensity.value=A.aoMapIntensity),A.map)var O=A.map;else A.specularMap?O=A.specularMap:A.displacementMap?O=A.displacementMap:A.normalMap?O=A.normalMap:A.bumpMap?O=A.bumpMap:A.roughnessMap?O=A.roughnessMap:A.metalnessMap?O=A.metalnessMap:A.alphaMap?O=A.alphaMap:A.emissiveMap&&(O=A.emissiveMap);if(O!==void 0&&(O.isWebGLRenderTarget&&(O=O.texture),O.matrixAutoUpdate===!0&&O.updateMatrix(),m.uvTransform.value.copy(O.matrix)),A.aoMap)var F=A.aoMap;else A.lightMap&&(F=A.lightMap);F!==void 0&&(F.isWebGLRenderTarget&&(F=F.texture),F.matrixAutoUpdate===!0&&F.updateMatrix(),m.uv2Transform.value.copy(F.matrix))}function i(m,A,E){m.roughness.value=A.roughness,m.metalness.value=A.metalness,A.roughnessMap&&(m.roughnessMap.value=A.roughnessMap),A.metalnessMap&&(m.metalnessMap.value=A.metalnessMap),A.emissiveMap&&(m.emissiveMap.value=A.emissiveMap),A.bumpMap&&(m.bumpMap.value=A.bumpMap,m.bumpScale.value=A.bumpScale,A.side===1&&(m.bumpScale.value*=-1)),A.normalMap&&(m.normalMap.value=A.normalMap,m.normalScale.value.copy(A.normalScale),A.side===1&&m.normalScale.value.negate()),A.displacementMap&&(m.displacementMap.value=A.displacementMap,m.displacementScale.value=A.displacementScale,m.displacementBias.value=A.displacementBias),(A.envMap||E)&&(m.envMapIntensity.value=A.envMapIntensity)}return{refreshFogUniforms:function(A,E){A.fogColor.value.copy(E.color),E.isFog?(A.fogNear.value=E.near,A.fogFar.value=E.far):E.isFogExp2&&(A.fogDensity.value=E.density)},refreshMaterialUniforms:function(A,E,O,F,H){if(E.isMeshBasicMaterial)t(A,E);else if(E.isMeshLambertMaterial)t(A,E),E.emissiveMap&&(A.emissiveMap.value=E.emissiveMap);else if(E.isMeshToonMaterial)t(A,E),A.specular.value.copy(E.specular),A.shininess.value=Math.max(E.shininess,1e-4),E.gradientMap&&(A.gradientMap.value=E.gradientMap),E.emissiveMap&&(A.emissiveMap.value=E.emissiveMap),E.bumpMap&&(A.bumpMap.value=E.bumpMap,A.bumpScale.value=E.bumpScale,E.side===1&&(A.bumpScale.value*=-1)),E.normalMap&&(A.normalMap.value=E.normalMap,A.normalScale.value.copy(E.normalScale),E.side===1&&A.normalScale.value.negate()),E.displacementMap&&(A.displacementMap.value=E.displacementMap,A.displacementScale.value=E.displacementScale,A.displacementBias.value=E.displacementBias);else if(E.isMeshPhongMaterial)t(A,E),A.specular.value.copy(E.specular),A.shininess.value=Math.max(E.shininess,1e-4),E.emissiveMap&&(A.emissiveMap.value=E.emissiveMap),E.bumpMap&&(A.bumpMap.value=E.bumpMap,A.bumpScale.value=E.bumpScale,E.side===1&&(A.bumpScale.value*=-1)),E.normalMap&&(A.normalMap.value=E.normalMap,A.normalScale.value.copy(E.normalScale),E.side===1&&A.normalScale.value.negate()),E.displacementMap&&(A.displacementMap.value=E.displacementMap,A.displacementScale.value=E.displacementScale,A.displacementBias.value=E.displacementBias);else if(E.isMeshStandardMaterial)t(A,E,O),E.isMeshPhysicalMaterial?(i(A,E,O),A.reflectivity.value=E.reflectivity,A.clearcoat.value=E.clearcoat,A.clearcoatRoughness.value=E.clearcoatRoughness,E.sheen&&A.sheen.value.copy(E.sheen),E.clearcoatMap&&(A.clearcoatMap.value=E.clearcoatMap),E.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=E.clearcoatRoughnessMap),E.clearcoatNormalMap&&(A.clearcoatNormalScale.value.copy(E.clearcoatNormalScale),A.clearcoatNormalMap.value=E.clearcoatNormalMap,E.side===1&&A.clearcoatNormalScale.value.negate()),A.transparency.value=E.transparency):i(A,E,O);else if(E.isMeshMatcapMaterial)t(A,E),E.matcap&&(A.matcap.value=E.matcap),E.bumpMap&&(A.bumpMap.value=E.bumpMap,A.bumpScale.value=E.bumpScale,E.side===1&&(A.bumpScale.value*=-1)),E.normalMap&&(A.normalMap.value=E.normalMap,A.normalScale.value.copy(E.normalScale),E.side===1&&A.normalScale.value.negate()),E.displacementMap&&(A.displacementMap.value=E.displacementMap,A.displacementScale.value=E.displacementScale,A.displacementBias.value=E.displacementBias);else if(E.isMeshDepthMaterial)t(A,E),E.displacementMap&&(A.displacementMap.value=E.displacementMap,A.displacementScale.value=E.displacementScale,A.displacementBias.value=E.displacementBias);else if(E.isMeshDistanceMaterial)t(A,E),E.displacementMap&&(A.displacementMap.value=E.displacementMap,A.displacementScale.value=E.displacementScale,A.displacementBias.value=E.displacementBias),A.referencePosition.value.copy(E.referencePosition),A.nearDistance.value=E.nearDistance,A.farDistance.value=E.farDistance;else if(E.isMeshNormalMaterial)t(A,E),E.bumpMap&&(A.bumpMap.value=E.bumpMap,A.bumpScale.value=E.bumpScale,E.side===1&&(A.bumpScale.value*=-1)),E.normalMap&&(A.normalMap.value=E.normalMap,A.normalScale.value.copy(E.normalScale),E.side===1&&A.normalScale.value.negate()),E.displacementMap&&(A.displacementMap.value=E.displacementMap,A.displacementScale.value=E.displacementScale,A.displacementBias.value=E.displacementBias);else if(E.isLineBasicMaterial)A.diffuse.value.copy(E.color),A.opacity.value=E.opacity,E.isLineDashedMaterial&&(A.dashSize.value=E.dashSize,A.totalSize.value=E.dashSize+E.gapSize,A.scale.value=E.scale);else if(E.isPointsMaterial){if(A.diffuse.value.copy(E.color),A.opacity.value=E.opacity,A.size.value=E.size*F,A.scale.value=.5*H,E.map&&(A.map.value=E.map),E.alphaMap&&(A.alphaMap.value=E.alphaMap),E.map)var K=E.map;else E.alphaMap&&(K=E.alphaMap);K!==void 0&&(K.matrixAutoUpdate===!0&&K.updateMatrix(),A.uvTransform.value.copy(K.matrix))}else if(E.isSpriteMaterial){if(A.diffuse.value.copy(E.color),A.opacity.value=E.opacity,A.rotation.value=E.rotation,E.map&&(A.map.value=E.map),E.alphaMap&&(A.alphaMap.value=E.alphaMap),E.map)var $=E.map;else E.alphaMap&&($=E.alphaMap);$!==void 0&&($.matrixAutoUpdate===!0&&$.updateMatrix(),A.uvTransform.value.copy($.matrix))}else E.isShadowMaterial?(A.color.value.copy(E.color),A.opacity.value=E.opacity):E.isShaderMaterial&&(E.uniformsNeedUpdate=!1)}}}function Uh(s){var t;function i(){uo=new Vm(Cr),to=new FA(Cr,uo,s),to.isWebGL2===!1&&(uo.get("WEBGL_depth_texture"),uo.get("OES_texture_float"),uo.get("OES_texture_half_float"),uo.get("OES_texture_half_float_linear"),uo.get("OES_standard_derivatives"),uo.get("OES_element_index_uint"),uo.get("ANGLE_instanced_arrays")),uo.get("OES_texture_float_linear"),Zn=new Z2(Cr,uo,to),xi=new X2(Cr,uo,to),xi.scissor(tt.copy(oi).multiplyScalar(Gn).floor()),xi.viewport(Fa.copy(Yt).multiplyScalar(Gn).floor()),iu=new xv(Cr),fl=new sb,Hf=new _S(Cr,uo,xi,fl,to,Zn,iu),Iy=new fi(Cr,to),KC=new nC(Cr,Iy,iu),Bv=new BA(Cr,KC,Iy,iu),mn=new G2(Cr),og=new AS(Ht,uo,to),K1=new ub(fl),zv=new E_,jv=new Pa,ag=new Nf(Ht,xi,Bv,It),vr=new ey(Cr,uo,iu,to),ln=new Gm(Cr,uo,iu,to),iu.programs=og.programs,Ht.capabilities=to,Ht.extensions=uo,Ht.properties=fl,Ht.renderLists=zv,Ht.state=xi,Ht.info=iu}function m(Ke){Ke.preventDefault(),cn=!0}function A(){cn=!1,i()}function E(Ke){Ke=Ke.target,Ke.removeEventListener("dispose",E),O(Ke),fl.remove(Ke)}function O(Ke){var wr=fl.get(Ke).program;Ke.program=void 0,wr!==void 0&&og.releaseProgram(wr)}function F(Ke,wr){Ke.render(function(Nt){Ht.renderBufferImmediate(Nt,wr)})}function H(Ke,wr,Nt,kr){if(Ke.visible!==!1){if(Ke.layers.test(wr.layers)){if(Ke.isGroup)Nt=Ke.renderOrder;else if(Ke.isLOD)Ke.autoUpdate===!0&&Ke.update(wr);else if(Ke.isLight)Br.pushLight(Ke),Ke.castShadow&&Br.pushShadow(Ke);else if(Ke.isSprite){if(!Ke.frustumCulled||lo.intersectsSprite(Ke)){kr&&$o.setFromMatrixPosition(Ke.matrixWorld).applyMatrix4(Ha);var Wn=Bv.update(Ke),ea=Ke.material;ea.visible&&Pt.push(Ke,Wn,ea,Nt,$o.z,null)}}else if(Ke.isImmediateRenderObject)kr&&$o.setFromMatrixPosition(Ke.matrixWorld).applyMatrix4(Ha),Pt.push(Ke,null,Ke.material,Nt,$o.z,null);else if((Ke.isMesh||Ke.isLine||Ke.isPoints)&&(Ke.isSkinnedMesh&&Ke.skeleton.frame!==iu.render.frame&&(Ke.skeleton.update(),Ke.skeleton.frame=iu.render.frame),!Ke.frustumCulled||lo.intersectsObject(Ke)))if(kr&&$o.setFromMatrixPosition(Ke.matrixWorld).applyMatrix4(Ha),Wn=Bv.update(Ke),ea=Ke.material,Array.isArray(ea))for(var li=Wn.groups,ao=0,Wo=li.length;ao<Wo;ao++){var Va=li[ao],xa=ea[Va.materialIndex];xa&&xa.visible&&Pt.push(Ke,Wn,xa,Nt,$o.z,Va)}else ea.visible&&Pt.push(Ke,Wn,ea,Nt,$o.z,null)}for(Ke=Ke.children,ao=0,Wo=Ke.length;ao<Wo;ao++)H(Ke[ao],wr,Nt,kr)}}function K(Ke,wr,Nt,kr){for(var Wn=0,ea=Ke.length;Wn<ea;Wn++){var li=Ke[Wn],ao=li.object,Wo=li.geometry,Va=kr===void 0?li.material:kr;if(li=li.group,Nt.isArrayCamera){la=Nt;for(var xa=Nt.cameras,Py=0,$s=xa.length;Py<$s;Py++){var vu=xa[Py];ao.layers.test(vu.layers)&&(xi.viewport(Fa.copy(vu.viewport)),Br.setupLights(vu),$(ao,wr,vu,Wo,Va,li))}}else la=null,$(ao,wr,Nt,Wo,Va,li)}}function $(Ke,wr,Nt,kr,Wn,ea){if(Ke.onBeforeRender(Ht,wr,Nt,kr,Wn,ea),Br=jv.get(wr,la||Nt),Ke.modelViewMatrix.multiplyMatrices(Nt.matrixWorldInverse,Ke.matrixWorld),Ke.normalMatrix.getNormalMatrix(Ke.modelViewMatrix),Ke.isImmediateRenderObject){var li=me(Nt,wr,Wn,Ke);xi.setMaterial(Wn),zi=t=null,To=!1,F(Ke,li)}else Ht.renderBufferDirect(Nt,wr,kr,Wn,Ke,ea);Ke.onAfterRender(Ht,wr,Nt,kr,Wn,ea),Br=jv.get(wr,la||Nt)}function ue(Ke,wr,Nt){var kr=fl.get(Ke),Wn=Br.state.lights,ea=Wn.state.version;Nt=og.getParameters(Ke,Wn.state,Br.state.shadowsArray,wr,en.numPlanes,en.numIntersection,Nt);var li=og.getProgramCacheKey(Nt),ao=kr.program,Wo=!0;if(ao===void 0)Ke.addEventListener("dispose",E);else if(ao.cacheKey!==li)O(Ke);else{if(kr.lightsStateVersion!==ea)kr.lightsStateVersion=ea;else if(Nt.shaderID!==void 0)return;Wo=!1}if(Wo&&(ao=og.acquireProgram(Nt,li),kr.program=ao,kr.uniforms=Nt.uniforms,kr.outputEncoding=Nt.outputEncoding,Ke.program=ao),Nt=ao.getAttributes(),Ke.morphTargets)for(li=Ke.numSupportedMorphTargets=0;li<Ht.maxMorphTargets;li++)0<=Nt["morphTarget"+li]&&Ke.numSupportedMorphTargets++;if(Ke.morphNormals)for(li=Ke.numSupportedMorphNormals=0;li<Ht.maxMorphNormals;li++)0<=Nt["morphNormal"+li]&&Ke.numSupportedMorphNormals++;Nt=kr.uniforms,(!Ke.isShaderMaterial&&!Ke.isRawShaderMaterial||Ke.clipping===!0)&&(kr.numClippingPlanes=en.numPlanes,kr.numIntersection=en.numIntersection,Nt.clippingPlanes=en.uniform),kr.environment=Ke.isMeshStandardMaterial?wr.environment:null,kr.fog=wr.fog,kr.needsLights=Ke.isMeshLambertMaterial||Ke.isMeshToonMaterial||Ke.isMeshPhongMaterial||Ke.isMeshStandardMaterial||Ke.isShadowMaterial||Ke.isShaderMaterial&&Ke.lights===!0,kr.lightsStateVersion=ea,kr.needsLights&&(Nt.ambientLightColor.value=Wn.state.ambient,Nt.lightProbe.value=Wn.state.probe,Nt.directionalLights.value=Wn.state.directional,Nt.directionalLightShadows.value=Wn.state.directionalShadow,Nt.spotLights.value=Wn.state.spot,Nt.spotLightShadows.value=Wn.state.spotShadow,Nt.rectAreaLights.value=Wn.state.rectArea,Nt.pointLights.value=Wn.state.point,Nt.pointLightShadows.value=Wn.state.pointShadow,Nt.hemisphereLights.value=Wn.state.hemi,Nt.directionalShadowMap.value=Wn.state.directionalShadowMap,Nt.directionalShadowMatrix.value=Wn.state.directionalShadowMatrix,Nt.spotShadowMap.value=Wn.state.spotShadowMap,Nt.spotShadowMatrix.value=Wn.state.spotShadowMatrix,Nt.pointShadowMap.value=Wn.state.pointShadowMap,Nt.pointShadowMatrix.value=Wn.state.pointShadowMatrix),Ke=kr.program.getUniforms(),Ke=ny.seqWithValue(Ke.seq,Nt),kr.uniformsList=Ke}function me(Ke,wr,Nt,kr){Hf.resetTextureUnits();var Wn=wr.fog,ea=Nt.isMeshStandardMaterial?wr.environment:null,li=Rn===null?Ht.outputEncoding:Rn.texture.encoding,ao=fl.get(Nt),Wo=Br.state.lights;Dn&&(vo||Ke!==ho)&&en.setState(Nt.clippingPlanes,Nt.clipIntersection,Nt.clipShadows,Ke,ao,Ke===ho&&Nt.id===Di),Nt.version===ao.__version?ao.program===void 0||Nt.fog&&ao.fog!==Wn||ao.environment!==ea||ao.needsLights&&ao.lightsStateVersion!==Wo.state.version?ue(Nt,wr,kr):ao.numClippingPlanes===void 0||ao.numClippingPlanes===en.numPlanes&&ao.numIntersection===en.numIntersection?ao.outputEncoding!==li&&ue(Nt,wr,kr):ue(Nt,wr,kr):(ue(Nt,wr,kr),ao.__version=Nt.version);var Va=!1,xa=!1,Py=!1;if(wr=ao.program,li=wr.getUniforms(),Wo=ao.uniforms,xi.useProgram(wr.program)&&(Py=xa=Va=!0),Nt.id!==Di&&(Di=Nt.id,xa=!0),(Va||ho!==Ke)&&(li.setValue(Cr,"projectionMatrix",Ke.projectionMatrix),to.logarithmicDepthBuffer&&li.setValue(Cr,"logDepthBufFC",2/(Math.log(Ke.far+1)/Math.LN2)),ho!==Ke&&(ho=Ke,Py=xa=!0),(Nt.isShaderMaterial||Nt.isMeshPhongMaterial||Nt.isMeshToonMaterial||Nt.isMeshStandardMaterial||Nt.envMap)&&(Va=li.map.cameraPosition,Va!==void 0&&Va.setValue(Cr,$o.setFromMatrixPosition(Ke.matrixWorld))),(Nt.isMeshPhongMaterial||Nt.isMeshToonMaterial||Nt.isMeshLambertMaterial||Nt.isMeshBasicMaterial||Nt.isMeshStandardMaterial||Nt.isShaderMaterial)&&li.setValue(Cr,"isOrthographic",Ke.isOrthographicCamera===!0),(Nt.isMeshPhongMaterial||Nt.isMeshToonMaterial||Nt.isMeshLambertMaterial||Nt.isMeshBasicMaterial||Nt.isMeshStandardMaterial||Nt.isShaderMaterial||Nt.skinning)&&li.setValue(Cr,"viewMatrix",Ke.matrixWorldInverse)),Nt.skinning&&(li.setOptional(Cr,kr,"bindMatrix"),li.setOptional(Cr,kr,"bindMatrixInverse"),Ke=kr.skeleton))if(Va=Ke.bones,to.floatVertexTextures){if(Ke.boneTexture===void 0){Va=Math.sqrt(4*Va.length),Va=Fo.ceilPowerOfTwo(Va),Va=Math.max(Va,4);var $s=new Float32Array(Va*Va*4);$s.set(Ke.boneMatrices);var vu=new xr($s,Va,Va,1023,1015);Ke.boneMatrices=$s,Ke.boneTexture=vu,Ke.boneTextureSize=Va}li.setValue(Cr,"boneTexture",Ke.boneTexture,Hf),li.setValue(Cr,"boneTextureSize",Ke.boneTextureSize)}else li.setOptional(Cr,Ke,"boneMatrices");return(xa||ao.receiveShadow!==kr.receiveShadow)&&(ao.receiveShadow=kr.receiveShadow,li.setValue(Cr,"receiveShadow",kr.receiveShadow)),xa&&(li.setValue(Cr,"toneMappingExposure",Ht.toneMappingExposure),li.setValue(Cr,"toneMappingWhitePoint",Ht.toneMappingWhitePoint),ao.needsLights&&(xa=Py,Wo.ambientLightColor.needsUpdate=xa,Wo.lightProbe.needsUpdate=xa,Wo.directionalLights.needsUpdate=xa,Wo.directionalLightShadows.needsUpdate=xa,Wo.pointLights.needsUpdate=xa,Wo.pointLightShadows.needsUpdate=xa,Wo.spotLights.needsUpdate=xa,Wo.spotLightShadows.needsUpdate=xa,Wo.rectAreaLights.needsUpdate=xa,Wo.hemisphereLights.needsUpdate=xa),Wn&&Nt.fog&&K1.refreshFogUniforms(Wo,Wn),K1.refreshMaterialUniforms(Wo,Nt,ea,Gn,fn),Wo.ltc_1!==void 0&&(Wo.ltc_1.value=ei.LTC_1),Wo.ltc_2!==void 0&&(Wo.ltc_2.value=ei.LTC_2),ny.upload(Cr,ao.uniformsList,Wo,Hf)),Nt.isShaderMaterial&&Nt.uniformsNeedUpdate===!0&&(ny.upload(Cr,ao.uniformsList,Wo,Hf),Nt.uniformsNeedUpdate=!1),Nt.isSpriteMaterial&&li.setValue(Cr,"center",kr.center),li.setValue(Cr,"modelViewMatrix",kr.modelViewMatrix),li.setValue(Cr,"normalMatrix",kr.normalMatrix),li.setValue(Cr,"modelMatrix",kr.matrixWorld),wr}s=s||{};var pe=s.canvas!==void 0?s.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),be=s.context!==void 0?s.context:null,Te=s.alpha!==void 0?s.alpha:!1,it=s.depth!==void 0?s.depth:!0,_t=s.stencil!==void 0?s.stencil:!0,Mt=s.antialias!==void 0?s.antialias:!1,It=s.premultipliedAlpha!==void 0?s.premultipliedAlpha:!0,Bt=s.preserveDrawingBuffer!==void 0?s.preserveDrawingBuffer:!1,hr=s.powerPreference!==void 0?s.powerPreference:"default",qt=s.failIfMajorPerformanceCaveat!==void 0?s.failIfMajorPerformanceCaveat:!1,Pt=null,Br=null;this.domElement=pe,this.debug={checkShaderErrors:!0},this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=3e3,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingWhitePoint=this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var Ht=this,cn=!1,In=null,Ur=0,Mi=0,Rn=null,yi=null,Di=-1,zi=t=null,To=!1,ho=null,la=null,Fa=new M,tt=new M,Ct=null,cr=pe.width,fn=pe.height,Gn=1,Pr=null,or=null,Yt=new M(0,0,cr,fn),oi=new M(0,0,cr,fn),Vn=!1,lo=new Hi,en=new ty,Dn=!1,vo=!1,Ha=new ie,$o=new Y;try{Te={alpha:Te,depth:it,stencil:_t,antialias:Mt,premultipliedAlpha:It,preserveDrawingBuffer:Bt,powerPreference:hr,failIfMajorPerformanceCaveat:qt},pe.addEventListener("webglcontextlost",m,!1),pe.addEventListener("webglcontextrestored",A,!1);var Cr=be||pe.getContext("webgl",Te)||pe.getContext("experimental-webgl",Te);if(Cr===null)throw pe.getContext("webgl")!==null?Error("Error creating WebGL context with your selected attributes."):Error("Error creating WebGL context.");Cr.getShaderPrecisionFormat===void 0&&(Cr.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ke){throw console.error("THREE.WebGLRenderer: "+Ke.message),Ke}var uo,to,xi,iu,fl,Hf,Iy,KC,Bv,og,K1,zv,jv,ag,mn,vr,ln,Zn;i();var io=new MS(Ht,Cr);this.xr=io;var jo=new SS(Ht,Bv,to.maxTextureSize);this.shadowMap=jo,this.getContext=function(){return Cr},this.getContextAttributes=function(){return Cr.getContextAttributes()},this.forceContextLoss=function(){var Ke=uo.get("WEBGL_lose_context");Ke&&Ke.loseContext()},this.forceContextRestore=function(){var Ke=uo.get("WEBGL_lose_context");Ke&&Ke.restoreContext()},this.getPixelRatio=function(){return Gn},this.setPixelRatio=function(Ke){Ke!==void 0&&(Gn=Ke,this.setSize(cr,fn,!1))},this.getSize=function(Ke){return Ke===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),Ke=new l),Ke.set(cr,fn)},this.setSize=function(Ke,wr,Nt){io.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(cr=Ke,fn=wr,pe.width=Math.floor(Ke*Gn),pe.height=Math.floor(wr*Gn),Nt!==!1&&(pe.style.width=Ke+"px",pe.style.height=wr+"px"),this.setViewport(0,0,Ke,wr))},this.getDrawingBufferSize=function(Ke){return Ke===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),Ke=new l),Ke.set(cr*Gn,fn*Gn).floor()},this.setDrawingBufferSize=function(Ke,wr,Nt){cr=Ke,fn=wr,Gn=Nt,pe.width=Math.floor(Ke*Nt),pe.height=Math.floor(wr*Nt),this.setViewport(0,0,Ke,wr)},this.getCurrentViewport=function(Ke){return Ke===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),Ke=new M),Ke.copy(Fa)},this.getViewport=function(Ke){return Ke.copy(Yt)},this.setViewport=function(Ke,wr,Nt,kr){Ke.isVector4?Yt.set(Ke.x,Ke.y,Ke.z,Ke.w):Yt.set(Ke,wr,Nt,kr),xi.viewport(Fa.copy(Yt).multiplyScalar(Gn).floor())},this.getScissor=function(Ke){return Ke.copy(oi)},this.setScissor=function(Ke,wr,Nt,kr){Ke.isVector4?oi.set(Ke.x,Ke.y,Ke.z,Ke.w):oi.set(Ke,wr,Nt,kr),xi.scissor(tt.copy(oi).multiplyScalar(Gn).floor())},this.getScissorTest=function(){return Vn},this.setScissorTest=function(Ke){xi.setScissorTest(Vn=Ke)},this.setOpaqueSort=function(Ke){Pr=Ke},this.setTransparentSort=function(Ke){or=Ke},this.getClearColor=function(){return ag.getClearColor()},this.setClearColor=function(){ag.setClearColor.apply(ag,arguments)},this.getClearAlpha=function(){return ag.getClearAlpha()},this.setClearAlpha=function(){ag.setClearAlpha.apply(ag,arguments)},this.clear=function(Ke,wr,Nt){var kr=0;(Ke===void 0||Ke)&&(kr|=16384),(wr===void 0||wr)&&(kr|=256),(Nt===void 0||Nt)&&(kr|=1024),Cr.clear(kr)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){pe.removeEventListener("webglcontextlost",m,!1),pe.removeEventListener("webglcontextrestored",A,!1),zv.dispose(),jv.dispose(),fl.dispose(),Bv.dispose(),io.dispose(),Os.stop()},this.renderBufferImmediate=function(Ke,wr){xi.initAttributes();var Nt=fl.get(Ke);Ke.hasPositions&&!Nt.position&&(Nt.position=Cr.createBuffer()),Ke.hasNormals&&!Nt.normal&&(Nt.normal=Cr.createBuffer()),Ke.hasUvs&&!Nt.uv&&(Nt.uv=Cr.createBuffer()),Ke.hasColors&&!Nt.color&&(Nt.color=Cr.createBuffer()),wr=wr.getAttributes(),Ke.hasPositions&&(Cr.bindBuffer(34962,Nt.position),Cr.bufferData(34962,Ke.positionArray,35048),xi.enableAttribute(wr.position),Cr.vertexAttribPointer(wr.position,3,5126,!1,0,0)),Ke.hasNormals&&(Cr.bindBuffer(34962,Nt.normal),Cr.bufferData(34962,Ke.normalArray,35048),xi.enableAttribute(wr.normal),Cr.vertexAttribPointer(wr.normal,3,5126,!1,0,0)),Ke.hasUvs&&(Cr.bindBuffer(34962,Nt.uv),Cr.bufferData(34962,Ke.uvArray,35048),xi.enableAttribute(wr.uv),Cr.vertexAttribPointer(wr.uv,2,5126,!1,0,0)),Ke.hasColors&&(Cr.bindBuffer(34962,Nt.color),Cr.bufferData(34962,Ke.colorArray,35048),xi.enableAttribute(wr.color),Cr.vertexAttribPointer(wr.color,3,5126,!1,0,0)),xi.disableUnusedAttributes(),Cr.drawArrays(4,0,Ke.count),Ke.count=0};var Ps=new Qe;this.renderBufferDirect=function(Ke,wr,Nt,kr,Wn,ea){wr===null&&(wr=Ps);var li=Wn.isMesh&&0>Wn.matrixWorld.determinant(),ao=me(Ke,wr,kr,Wn);xi.setMaterial(kr,li);var Wo=!1;if((t!==Nt.id||zi!==ao.id||To!==(kr.wireframe===!0))&&(t=Nt.id,zi=ao.id,To=kr.wireframe===!0,Wo=!0),(kr.morphTargets||kr.morphNormals)&&(mn.update(Wn,Nt,kr,ao),Wo=!0),Wn.isInstancedMesh===!0&&(Wo=!0),Ke=Nt.index,wr=Nt.attributes.position,Ke===null){if(wr===void 0||wr.count===0)return}else if(Ke.count===0)return;var Va=1;if(kr.wireframe===!0&&(Ke=KC.getWireframeAttribute(Nt),Va=2),li=vr,Ke!==null){var xa=Iy.get(Ke);li=ln,li.setIndex(xa)}if(Wo){if(to.isWebGL2!==!1||!Wn.isInstancedMesh&&!Nt.isInstancedBufferGeometry||uo.get("ANGLE_instanced_arrays")!==null){xi.initAttributes(),Wo=Nt.attributes,ao=ao.getAttributes();var Py=kr.defaultAttributeValues;for(x2 in ao){var $s=ao[x2];if(0<=$s){var vu=Wo[x2];if(vu!==void 0){var J1=vu.normalized,X_=vu.itemSize,Uv=Iy.get(vu);if(Uv!==void 0){var r_=Uv.buffer,y2=Uv.type;if(Uv=Uv.bytesPerElement,vu.isInterleavedBufferAttribute){var Hw=vu.data,Z_=Hw.stride;vu=vu.offset,Hw&&Hw.isInstancedInterleavedBuffer?(xi.enableAttributeAndDivisor($s,Hw.meshPerAttribute),Nt._maxInstanceCount===void 0&&(Nt._maxInstanceCount=Hw.meshPerAttribute*Hw.count)):xi.enableAttribute($s),Cr.bindBuffer(34962,r_),xi.vertexAttribPointer($s,X_,y2,J1,Z_*Uv,vu*Uv)}else vu.isInstancedBufferAttribute?(xi.enableAttributeAndDivisor($s,vu.meshPerAttribute),Nt._maxInstanceCount===void 0&&(Nt._maxInstanceCount=vu.meshPerAttribute*vu.count)):xi.enableAttribute($s),Cr.bindBuffer(34962,r_),xi.vertexAttribPointer($s,X_,y2,J1,0,0)}}else if(x2==="instanceMatrix")Uv=Iy.get(Wn.instanceMatrix),Uv!==void 0&&(r_=Uv.buffer,y2=Uv.type,xi.enableAttributeAndDivisor($s+0,1),xi.enableAttributeAndDivisor($s+1,1),xi.enableAttributeAndDivisor($s+2,1),xi.enableAttributeAndDivisor($s+3,1),Cr.bindBuffer(34962,r_),Cr.vertexAttribPointer($s+0,4,y2,!1,64,0),Cr.vertexAttribPointer($s+1,4,y2,!1,64,16),Cr.vertexAttribPointer($s+2,4,y2,!1,64,32),Cr.vertexAttribPointer($s+3,4,y2,!1,64,48));else if(Py!==void 0&&(J1=Py[x2],J1!==void 0))switch(J1.length){case 2:Cr.vertexAttrib2fv($s,J1);break;case 3:Cr.vertexAttrib3fv($s,J1);break;case 4:Cr.vertexAttrib4fv($s,J1);break;default:Cr.vertexAttrib1fv($s,J1)}}}xi.disableUnusedAttributes()}Ke!==null&&Cr.bindBuffer(34963,xa.buffer)}var x2=Nt.drawRange.start*Va;Wo=ea!==null?ea.start*Va:0,xa=Math.max(x2,Wo),ea=Math.max(0,Math.min(Ke!==null?Ke.count:wr.count,x2+Nt.drawRange.count*Va,Wo+(ea!==null?ea.count*Va:Infinity))-1-xa+1),ea!==0&&(Wn.isMesh?kr.wireframe===!0?(xi.setLineWidth(kr.wireframeLinewidth*(Rn===null?Gn:1)),li.setMode(1)):li.setMode(4):Wn.isLine?(kr=kr.linewidth,kr===void 0&&(kr=1),xi.setLineWidth(kr*(Rn===null?Gn:1)),Wn.isLineSegments?li.setMode(1):Wn.isLineLoop?li.setMode(2):li.setMode(3)):Wn.isPoints?li.setMode(0):Wn.isSprite&&li.setMode(4),Wn.isInstancedMesh?li.renderInstances(Nt,xa,ea,Wn.count):Nt.isInstancedBufferGeometry?li.renderInstances(Nt,xa,ea,Math.min(Nt.instanceCount,Nt._maxInstanceCount)):li.render(xa,ea))},this.compile=function(Ke,wr){Br=jv.get(Ke,wr),Br.init(),Ke.traverse(function(kr){kr.isLight&&(Br.pushLight(kr),kr.castShadow&&Br.pushShadow(kr))}),Br.setupLights(wr);var Nt={};Ke.traverse(function(kr){var Wn=kr.material;if(Wn)if(Array.isArray(Wn))for(var ea=0;ea<Wn.length;ea++){var li=Wn[ea];!(li.uuid in Nt)&&(ue(li,Ke,kr),Nt[li.uuid]=!0)}else!(Wn.uuid in Nt)&&(ue(Wn,Ke,kr),Nt[Wn.uuid]=!0)})};var is=null,Os=new mi;Os.setAnimationLoop(function(Ke){io.isPresenting||is&&is(Ke)}),typeof window!="undefined"&&Os.setContext(window),this.setAnimationLoop=function(Ke){is=Ke,io.setAnimationLoop(Ke),Os.start()},this.render=function(Ke,wr,Nt,kr){if(Nt!==void 0){console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.");var Wn=Nt}if(kr!==void 0){console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.");var ea=kr}wr&&wr.isCamera?cn||(zi=t=null,To=!1,Di=-1,ho=null,Ke.autoUpdate===!0&&Ke.updateMatrixWorld(),wr.parent===null&&wr.updateMatrixWorld(),io.enabled&&io.isPresenting&&(wr=io.getCamera(wr)),Ke.onBeforeRender(Ht,Ke,wr,Wn||Rn),Br=jv.get(Ke,wr),Br.init(),Ha.multiplyMatrices(wr.projectionMatrix,wr.matrixWorldInverse),lo.setFromProjectionMatrix(Ha),vo=this.localClippingEnabled,Dn=en.init(this.clippingPlanes,vo,wr),Pt=zv.get(Ke,wr),Pt.init(),H(Ke,wr,0,Ht.sortObjects),Pt.finish(),Ht.sortObjects===!0&&Pt.sort(Pr,or),Dn&&en.beginShadows(),jo.render(Br.state.shadowsArray,Ke,wr),Br.setupLights(wr),Dn&&en.endShadows(),this.info.autoReset&&this.info.reset(),Wn!==void 0&&this.setRenderTarget(Wn),ag.render(Pt,Ke,wr,ea),Nt=Pt.opaque,kr=Pt.transparent,Ke.overrideMaterial?(Wn=Ke.overrideMaterial,Nt.length&&K(Nt,Ke,wr,Wn),kr.length&&K(kr,Ke,wr,Wn)):(Nt.length&&K(Nt,Ke,wr),kr.length&&K(kr,Ke,wr)),Ke.onAfterRender(Ht,Ke,wr),Rn!==null&&(Hf.updateRenderTargetMipmap(Rn),Hf.updateMultisampleRenderTarget(Rn)),xi.buffers.depth.setTest(!0),xi.buffers.depth.setMask(!0),xi.buffers.color.setMask(!0),xi.setPolygonOffset(!1),Br=Pt=null):console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(Ke){In!==Ke&&Rn===null&&Cr.bindFramebuffer(36160,Ke),In=Ke},this.getActiveCubeFace=function(){return Ur},this.getActiveMipmapLevel=function(){return Mi},this.getRenderTarget=function(){return Rn},this.setRenderTarget=function(Ke,wr,Nt){Rn=Ke,Ur=wr,Mi=Nt,Ke&&fl.get(Ke).__webglFramebuffer===void 0&&Hf.setupRenderTarget(Ke);var kr=In,Wn=!1;Ke?(kr=fl.get(Ke).__webglFramebuffer,Ke.isWebGLCubeRenderTarget?(kr=kr[wr||0],Wn=!0):kr=Ke.isWebGLMultisampleRenderTarget?fl.get(Ke).__webglMultisampledFramebuffer:kr,Fa.copy(Ke.viewport),tt.copy(Ke.scissor),Ct=Ke.scissorTest):(Fa.copy(Yt).multiplyScalar(Gn).floor(),tt.copy(oi).multiplyScalar(Gn).floor(),Ct=Vn),yi!==kr&&(Cr.bindFramebuffer(36160,kr),yi=kr),xi.viewport(Fa),xi.scissor(tt),xi.setScissorTest(Ct),Wn&&(Ke=fl.get(Ke.texture),Cr.framebufferTexture2D(36160,36064,34069+(wr||0),Ke.__webglTexture,Nt||0))},this.readRenderTargetPixels=function(Ke,wr,Nt,kr,Wn,ea,li){if(Ke&&Ke.isWebGLRenderTarget){var ao=fl.get(Ke).__webglFramebuffer;if(Ke.isWebGLCubeRenderTarget&&li!==void 0&&(ao=ao[li]),ao){li=!1,ao!==yi&&(Cr.bindFramebuffer(36160,ao),li=!0);try{var Wo=Ke.texture,Va=Wo.format,xa=Wo.type;Va!==1023&&Zn.convert(Va)!==Cr.getParameter(35739)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):xa===1009||Zn.convert(xa)===Cr.getParameter(35738)||xa===1015&&(to.isWebGL2||uo.get("OES_texture_float")||uo.get("WEBGL_color_buffer_float"))||xa===1016&&(to.isWebGL2?uo.get("EXT_color_buffer_float"):uo.get("EXT_color_buffer_half_float"))?Cr.checkFramebufferStatus(36160)===36053?0<=wr&&wr<=Ke.width-kr&&0<=Nt&&Nt<=Ke.height-Wn&&Cr.readPixels(wr,Nt,kr,Wn,Zn.convert(Va),Zn.convert(xa),ea):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{li&&Cr.bindFramebuffer(36160,yi)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(Ke,wr,Nt){Nt===void 0&&(Nt=0);var kr=Math.pow(2,-Nt),Wn=Math.floor(wr.image.width*kr);kr=Math.floor(wr.image.height*kr);var ea=Zn.convert(wr.format);Hf.setTexture2D(wr,0),Cr.copyTexImage2D(3553,Nt,ea,Ke.x,Ke.y,Wn,kr,0),xi.unbindTexture()},this.copyTextureToTexture=function(Ke,wr,Nt,kr){kr===void 0&&(kr=0);var Wn=wr.image.width,ea=wr.image.height,li=Zn.convert(Nt.format),ao=Zn.convert(Nt.type);Hf.setTexture2D(Nt,0),wr.isDataTexture?Cr.texSubImage2D(3553,kr,Ke.x,Ke.y,Wn,ea,li,ao,wr.image.data):wr.isCompressedTexture?Cr.compressedTexSubImage2D(3553,kr,Ke.x,Ke.y,wr.mipmaps[0].width,wr.mipmaps[0].height,li,wr.mipmaps[0].data):Cr.texSubImage2D(3553,kr,Ke.x,Ke.y,li,ao,wr.image),kr===0&&Nt.generateMipmaps&&Cr.generateMipmap(3553),xi.unbindTexture()},this.initTexture=function(Ke){Hf.setTexture2D(Ke,0),xi.unbindTexture()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Ym(s,t){this.name="",this.color=new at(s),this.density=t!==void 0?t:25e-5}function P1(s,t,i){this.name="",this.color=new at(s),this.near=t!==void 0?t:1,this.far=i!==void 0?i:1e3}function Pp(s,t){this.array=s,this.stride=t,this.count=s!==void 0?s.length/t:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}function bv(s,t,i,m){this.name="",this.data=s,this.itemSize=t,this.offset=i,this.normalized=m===!0}function Od(s){Wt.call(this),this.type="SpriteMaterial",this.color=new at(16777215),this.alphaMap=this.map=null,this.rotation=0,this.transparent=this.sizeAttenuation=!0,this.setValues(s)}function ay(s){if(we.call(this),this.type="Sprite",ee===void 0){ee=new Et;var t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]);t=new Pp(t,5),ee.setIndex([0,1,2,0,2,3]),ee.setAttribute("position",new bv(t,3,0,!1)),ee.setAttribute("uv",new bv(t,2,3,!1))}this.geometry=ee,this.material=s!==void 0?s:new Od,this.center=new l(.5,.5)}function aC(s,t,i,m,A,E){se.subVectors(s,i).addScalar(.5).multiply(m),A!==void 0?(Ce.x=E*se.x-A*se.y,Ce.y=A*se.x+E*se.y):Ce.copy(se),s.copy(t),s.x+=Ce.x,s.y+=Ce.y,s.applyMatrix4(ye)}function O1(){we.call(this),this._currentLevel=0,this.type="LOD",Zi(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function K2(s,t){s&&s.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Kt.call(this,s,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ie,this.bindMatrixInverse=new ie}function sC(s,t){if(s=s||[],this.bones=s.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,t===void 0)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else for(console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[],s=0,t=this.bones.length;s<t;s++)this.boneInverses.push(new ie)}function cb(){we.call(this),this.type="Bone"}function J2(s,t,i){Kt.call(this,s,t),this.instanceMatrix=new gr(new Float32Array(16*i),16),this.count=i,this.frustumCulled=!1}function Js(s){Wt.call(this),this.type="LineBasicMaterial",this.color=new at(16777215),this.linewidth=1,this.linejoin=this.linecap="round",this.morphTargets=!1,this.setValues(s)}function kh(s,t,i){i===1&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),we.call(this),this.type="Line",this.geometry=s!==void 0?s:new Et,this.material=t!==void 0?t:new Js,this.updateMorphTargets()}function vs(s,t){kh.call(this,s,t),this.type="LineSegments"}function q2(s,t){kh.call(this,s,t),this.type="LineLoop"}function Op(s){Wt.call(this),this.type="PointsMaterial",this.color=new at(16777215),this.alphaMap=this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(s)}function lC(s,t){we.call(this),this.type="Points",this.geometry=s!==void 0?s:new Et,this.material=t!==void 0?t:new Op,this.updateMorphTargets()}function ES(s,t,i,m,A,E,O){var F=sr.distanceSqToPoint(s);F<i&&(i=new Y,sr.closestPointToPoint(s,i),i.applyMatrix4(m),s=A.ray.origin.distanceTo(i),s<A.near||s>A.far||E.push({distance:s,distanceToRay:Math.sqrt(F),point:i,index:t,face:null,object:O}))}function hb(s,t,i,m,A,E,O,F,H){b.call(this,s,t,i,m,A,E,O,F,H),this.format=O!==void 0?O:1022,this.minFilter=E!==void 0?E:1006,this.magFilter=A!==void 0?A:1006,this.generateMipmaps=!1}function kA(s,t,i,m,A,E,O,F,H,K,$,ue){b.call(this,null,E,O,F,H,K,m,A,$,ue),this.image={width:t,height:i},this.mipmaps=s,this.generateMipmaps=this.flipY=!1}function R1(s,t,i,m,A,E,O,F,H){b.call(this,s,t,i,m,A,E,O,F,H),this.needsUpdate=!0}function HA(s,t,i,m,A,E,O,F,H,K){if(K=K!==void 0?K:1026,K!==1026&&K!==1027)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&K===1026&&(i=1012),i===void 0&&K===1027&&(i=1020),b.call(this,null,m,A,E,O,F,K,i,H),this.image={width:s,height:t},this.magFilter=O!==void 0?O:1003,this.minFilter=F!==void 0?F:1003,this.generateMipmaps=this.flipY=!1}function L1(s){Et.call(this),this.type="WireframeGeometry";var t=[],i,m,A,E=[0,0],O={},F=["a","b","c"];if(s&&s.isGeometry){var H=s.faces,K=0;for(m=H.length;K<m;K++){var $=H[K];for(i=0;3>i;i++){var ue=$[F[i]],me=$[F[(i+1)%3]];E[0]=Math.min(ue,me),E[1]=Math.max(ue,me),ue=E[0]+","+E[1],O[ue]===void 0&&(O[ue]={index1:E[0],index2:E[1]})}}for(ue in O)K=O[ue],F=s.vertices[K.index1],t.push(F.x,F.y,F.z),F=s.vertices[K.index2],t.push(F.x,F.y,F.z)}else if(s&&s.isBufferGeometry)if(F=new Y,s.index!==null){H=s.attributes.position,$=s.index;var pe=s.groups;for(pe.length===0&&(pe=[{start:0,count:$.count,materialIndex:0}]),s=0,A=pe.length;s<A;++s)for(K=pe[s],i=K.start,m=K.count,K=i,m=i+m;K<m;K+=3)for(i=0;3>i;i++)ue=$.getX(K+i),me=$.getX(K+(i+1)%3),E[0]=Math.min(ue,me),E[1]=Math.max(ue,me),ue=E[0]+","+E[1],O[ue]===void 0&&(O[ue]={index1:E[0],index2:E[1]});for(ue in O)K=O[ue],F.fromBufferAttribute(H,K.index1),t.push(F.x,F.y,F.z),F.fromBufferAttribute(H,K.index2),t.push(F.x,F.y,F.z)}else for(H=s.attributes.position,K=0,m=H.count/3;K<m;K++)for(i=0;3>i;i++)O=3*K+i,F.fromBufferAttribute(H,O),t.push(F.x,F.y,F.z),O=3*K+(i+1)%3,F.fromBufferAttribute(H,O),t.push(F.x,F.y,F.z);this.setAttribute("position",new tn(t,3))}function VA(s,t,i){Vt.call(this),this.type="ParametricGeometry",this.parameters={func:s,slices:t,stacks:i},this.fromBufferGeometry(new uC(s,t,i)),this.mergeVertices()}function uC(s,t,i){Et.call(this),this.type="ParametricBufferGeometry",this.parameters={func:s,slices:t,stacks:i};var m=[],A=[],E=[],O=[],F=new Y,H=new Y,K=new Y,$=new Y,ue=new Y,me,pe;3>s.length&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var be=t+1;for(me=0;me<=i;me++){var Te=me/i;for(pe=0;pe<=t;pe++){var it=pe/t;s(it,Te,H),A.push(H.x,H.y,H.z),0<=it-1e-5?(s(it-1e-5,Te,K),$.subVectors(H,K)):(s(it+1e-5,Te,K),$.subVectors(K,H)),0<=Te-1e-5?(s(it,Te-1e-5,K),ue.subVectors(H,K)):(s(it,Te+1e-5,K),ue.subVectors(K,H)),F.crossVectors($,ue).normalize(),E.push(F.x,F.y,F.z),O.push(it,Te)}}for(me=0;me<i;me++)for(pe=0;pe<t;pe++)s=me*be+pe+1,F=(me+1)*be+pe+1,H=(me+1)*be+pe,m.push(me*be+pe,s,H),m.push(s,F,H);this.setIndex(m),this.setAttribute("position",new tn(A,3)),this.setAttribute("normal",new tn(E,3)),this.setAttribute("uv",new tn(O,2))}function cC(s,t,i,m){Vt.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:s,indices:t,radius:i,detail:m},this.fromBufferGeometry(new Hh(s,t,i,m)),this.mergeVertices()}function Hh(s,t,i,m){function A(K){F.push(K.x,K.y,K.z)}function E(K,$){K*=3,$.x=s[K+0],$.y=s[K+1],$.z=s[K+2]}function O(K,$,ue,me){0>me&&K.x===1&&(H[$]=K.x-1),ue.x===0&&ue.z===0&&(H[$]=me/2/Math.PI+.5)}Et.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:s,indices:t,radius:i,detail:m},i=i||1,m=m||0;var F=[],H=[];(function(K){for(var $=new Y,ue=new Y,me=new Y,pe=0;pe<t.length;pe+=3){E(t[pe+0],$),E(t[pe+1],ue),E(t[pe+2],me);var be,Te,it=$,_t=ue,Mt=me,It=Math.pow(2,K),Bt=[];for(Te=0;Te<=It;Te++){Bt[Te]=[];var hr=it.clone().lerp(Mt,Te/It),qt=_t.clone().lerp(Mt,Te/It),Pt=It-Te;for(be=0;be<=Pt;be++)Bt[Te][be]=be===0&&Te===It?hr:hr.clone().lerp(qt,be/Pt)}for(Te=0;Te<It;Te++)for(be=0;be<2*(It-Te)-1;be++)it=Math.floor(be/2),be%2==0?(A(Bt[Te][it+1]),A(Bt[Te+1][it]),A(Bt[Te][it])):(A(Bt[Te][it+1]),A(Bt[Te+1][it+1]),A(Bt[Te+1][it]))}})(m),function(K){for(var $=new Y,ue=0;ue<F.length;ue+=3)$.x=F[ue+0],$.y=F[ue+1],$.z=F[ue+2],$.normalize().multiplyScalar(K),F[ue+0]=$.x,F[ue+1]=$.y,F[ue+2]=$.z}(i),function(){for(var K=new Y,$=0;$<F.length;$+=3)K.x=F[$+0],K.y=F[$+1],K.z=F[$+2],H.push(Math.atan2(K.z,-K.x)/2/Math.PI+.5,1-(Math.atan2(-K.y,Math.sqrt(K.x*K.x+K.z*K.z))/Math.PI+.5));K=new Y,$=new Y;for(var ue=new Y,me=new Y,pe=new l,be=new l,Te=new l,it=0,_t=0;it<F.length;it+=9,_t+=6){K.set(F[it+0],F[it+1],F[it+2]),$.set(F[it+3],F[it+4],F[it+5]),ue.set(F[it+6],F[it+7],F[it+8]),pe.set(H[_t+0],H[_t+1]),be.set(H[_t+2],H[_t+3]),Te.set(H[_t+4],H[_t+5]),me.copy(K).add($).add(ue).divideScalar(3);var Mt=Math.atan2(me.z,-me.x);O(pe,_t+0,K,Mt),O(be,_t+2,$,Mt),O(Te,_t+4,ue,Mt)}for(K=0;K<H.length;K+=6)$=H[K+0],ue=H[K+2],me=H[K+4],pe=Math.min($,ue,me),.9<Math.max($,ue,me)&&.1>pe&&(.2>$&&(H[K+0]+=1),.2>ue&&(H[K+2]+=1),.2>me&&(H[K+4]+=1))}(),this.setAttribute("position",new tn(F,3)),this.setAttribute("normal",new tn(F.slice(),3)),this.setAttribute("uv",new tn(H,2)),m===0?this.computeVertexNormals():this.normalizeNormals()}function GA(s,t){Vt.call(this),this.type="TetrahedronGeometry",this.parameters={radius:s,detail:t},this.fromBufferGeometry(new hC(s,t)),this.mergeVertices()}function hC(s,t){Hh.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],s,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:s,detail:t}}function WA(s,t){Vt.call(this),this.type="OctahedronGeometry",this.parameters={radius:s,detail:t},this.fromBufferGeometry(new Xm(s,t)),this.mergeVertices()}function Xm(s,t){Hh.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],s,t),this.type="OctahedronBufferGeometry",this.parameters={radius:s,detail:t}}function fC(s,t){Vt.call(this),this.type="IcosahedronGeometry",this.parameters={radius:s,detail:t},this.fromBufferGeometry(new dC(s,t)),this.mergeVertices()}function dC(s,t){var i=(1+Math.sqrt(5))/2;Hh.call(this,[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],s,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:s,detail:t}}function YA(s,t){Vt.call(this),this.type="DodecahedronGeometry",this.parameters={radius:s,detail:t},this.fromBufferGeometry(new sy(s,t)),this.mergeVertices()}function sy(s,t){var i=(1+Math.sqrt(5))/2,m=1/i;Hh.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-m,-i,0,-m,i,0,m,-i,0,m,i,-m,-i,0,-m,i,0,m,-i,0,m,i,0,-i,0,-m,i,0,-m,-i,0,m,i,0,m],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],s,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:s,detail:t}}function pC(s,t,i,m,A,E){Vt.call(this),this.type="TubeGeometry",this.parameters={path:s,tubularSegments:t,radius:i,radialSegments:m,closed:A},E!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed."),s=new Zm(s,t,i,m,A),this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals,this.fromBufferGeometry(s),this.mergeVertices()}function Zm(s,t,i,m,A){function E(_t){$=s.getPointAt(_t/t,$);var Mt=O.normals[_t];for(_t=O.binormals[_t],me=0;me<=m;me++){var It=me/m*Math.PI*2,Bt=Math.sin(It);It=-Math.cos(It),H.x=It*Mt.x+Bt*_t.x,H.y=It*Mt.y+Bt*_t.y,H.z=It*Mt.z+Bt*_t.z,H.normalize(),be.push(H.x,H.y,H.z),F.x=$.x+i*H.x,F.y=$.y+i*H.y,F.z=$.z+i*H.z,pe.push(F.x,F.y,F.z)}}Et.call(this),this.type="TubeBufferGeometry",this.parameters={path:s,tubularSegments:t,radius:i,radialSegments:m,closed:A},t=t||64,i=i||1,m=m||8,A=A||!1;var O=s.computeFrenetFrames(t,A);this.tangents=O.tangents,this.normals=O.normals,this.binormals=O.binormals;var F=new Y,H=new Y,K=new l,$=new Y,ue,me,pe=[],be=[],Te=[],it=[];for(ue=0;ue<t;ue++)E(ue);for(E(A===!1?t:0),ue=0;ue<=t;ue++)for(me=0;me<=m;me++)K.x=ue/t,K.y=me/m,Te.push(K.x,K.y);(function(){for(me=1;me<=t;me++)for(ue=1;ue<=m;ue++){var _t=(m+1)*me+(ue-1),Mt=(m+1)*me+ue,It=(m+1)*(me-1)+ue;it.push((m+1)*(me-1)+(ue-1),_t,It),it.push(_t,Mt,It)}})(),this.setIndex(it),this.setAttribute("position",new tn(pe,3)),this.setAttribute("normal",new tn(be,3)),this.setAttribute("uv",new tn(Te,2))}function mC(s,t,i,m,A,E,O){Vt.call(this),this.type="TorusKnotGeometry",this.parameters={radius:s,tube:t,tubularSegments:i,radialSegments:m,p:A,q:E},O!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new gC(s,t,i,m,A,E)),this.mergeVertices()}function gC(s,t,i,m,A,E){function O(qt,Pt,Br,Ht,cn){var In=Math.sin(qt);Pt=Br/Pt*qt,Br=Math.cos(Pt),cn.x=Ht*(2+Br)*.5*Math.cos(qt),cn.y=Ht*(2+Br)*In*.5,cn.z=Ht*Math.sin(Pt)*.5}Et.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:s,tube:t,tubularSegments:i,radialSegments:m,p:A,q:E},s=s||1,t=t||.4,i=Math.floor(i)||64,m=Math.floor(m)||8,A=A||2,E=E||3;var F=[],H=[],K=[],$=[],ue,me=new Y,pe=new Y,be=new Y,Te=new Y,it=new Y,_t=new Y,Mt=new Y;for(ue=0;ue<=i;++ue){var It=ue/i*A*Math.PI*2;for(O(It,A,E,s,be),O(It+.01,A,E,s,Te),_t.subVectors(Te,be),Mt.addVectors(Te,be),it.crossVectors(_t,Mt),Mt.crossVectors(it,_t),it.normalize(),Mt.normalize(),It=0;It<=m;++It){var Bt=It/m*Math.PI*2,hr=-t*Math.cos(Bt);Bt=t*Math.sin(Bt),me.x=be.x+(hr*Mt.x+Bt*it.x),me.y=be.y+(hr*Mt.y+Bt*it.y),me.z=be.z+(hr*Mt.z+Bt*it.z),H.push(me.x,me.y,me.z),pe.subVectors(me,be).normalize(),K.push(pe.x,pe.y,pe.z),$.push(ue/i),$.push(It/m)}}for(It=1;It<=i;It++)for(ue=1;ue<=m;ue++)s=(m+1)*It+(ue-1),t=(m+1)*It+ue,A=(m+1)*(It-1)+ue,F.push((m+1)*(It-1)+(ue-1),s,A),F.push(s,t,A);this.setIndex(F),this.setAttribute("position",new tn(H,3)),this.setAttribute("normal",new tn(K,3)),this.setAttribute("uv",new tn($,2))}function XA(s,t,i,m,A){Vt.call(this),this.type="TorusGeometry",this.parameters={radius:s,tube:t,radialSegments:i,tubularSegments:m,arc:A},this.fromBufferGeometry(new vC(s,t,i,m,A)),this.mergeVertices()}function vC(s,t,i,m,A){Et.call(this),this.type="TorusBufferGeometry",this.parameters={radius:s,tube:t,radialSegments:i,tubularSegments:m,arc:A},s=s||1,t=t||.4,i=Math.floor(i)||8,m=Math.floor(m)||6,A=A||2*Math.PI;var E=[],O=[],F=[],H=[],K=new Y,$=new Y,ue=new Y,me,pe;for(me=0;me<=i;me++)for(pe=0;pe<=m;pe++){var be=pe/m*A,Te=me/i*Math.PI*2;$.x=(s+t*Math.cos(Te))*Math.cos(be),$.y=(s+t*Math.cos(Te))*Math.sin(be),$.z=t*Math.sin(Te),O.push($.x,$.y,$.z),K.x=s*Math.cos(be),K.y=s*Math.sin(be),ue.subVectors($,K).normalize(),F.push(ue.x,ue.y,ue.z),H.push(pe/m),H.push(me/i)}for(me=1;me<=i;me++)for(pe=1;pe<=m;pe++)s=(m+1)*(me-1)+pe-1,t=(m+1)*(me-1)+pe,A=(m+1)*me+pe,E.push((m+1)*me+pe-1,s,A),E.push(s,t,A);this.setIndex(E),this.setAttribute("position",new tn(O,3)),this.setAttribute("normal",new tn(F,3)),this.setAttribute("uv",new tn(H,2))}function TS(s,t,i,m,A){for(var E,O=0,F=t,H=i-m;F<i;F+=m)O+=(s[H]-s[F])*(s[F+1]+s[H+1]),H=F;if(A===0<O)for(A=t;A<i;A+=m)E=N_(A,s[A],s[A+1],E);else for(A=i-m;A>=t;A-=m)E=N_(A,s[A],s[A+1],E);return E&&uy(E,E.next)&&(ZA(E),E=E.next),E}function ly(s,t){if(!s)return s;t||(t=s);do{var i=!1;if(s.steiner||!uy(s,s.next)&&qs(s.prev,s,s.next)!==0)s=s.next;else{if(ZA(s),s=t=s.prev,s===s.next)break;i=!0}}while(i||s!==t);return t}function Q2(s,t,i,m,A,E,O){if(s){if(!O&&E){var F=s,H=F;do H.z===null&&(H.z=fb(H.x,H.y,m,A,E)),H.prevZ=H.prev,H=H.nextZ=H.next;while(H!==F);H.prevZ.nextZ=null,H.prevZ=null,F=H;var K,$,ue,me,pe=1;do{H=F;var be=F=null;for($=0;H;){$++;var Te=H;for(K=ue=0;K<pe&&(ue++,Te=Te.nextZ,Te);K++);for(me=pe;0<ue||0<me&&Te;)ue!==0&&(me===0||!Te||H.z<=Te.z)?(K=H,H=H.nextZ,ue--):(K=Te,Te=Te.nextZ,me--),be?be.nextZ=K:F=K,K.prevZ=be,be=K;H=Te}be.nextZ=null,pe*=2}while(1<$)}for(F=s;s.prev!==s.next;){if(H=s.prev,Te=s.next,E)be=IS(s,m,A,E);else e:if(be=s,$=be.prev,ue=be,pe=be.next,0<=qs($,ue,pe))be=!1;else{for(K=be.next.next;K!==be.prev;){if(yC($.x,$.y,ue.x,ue.y,pe.x,pe.y,K.x,K.y)&&0<=qs(K.prev,K,K.next)){be=!1;break e}K=K.next}be=!0}if(be)t.push(H.i/i),t.push(s.i/i),t.push(Te.i/i),ZA(s),F=s=Te.next;else if(s=Te,s===F){if(!O)Q2(ly(s),t,i,m,A,E,1);else if(O===1){s=ly(s),O=t,F=i,H=s;do Te=H.prev,be=H.next.next,!uy(Te,be)&&PS(Te,H,H.next,be)&&xC(Te,be)&&xC(be,Te)&&(O.push(Te.i/F),O.push(H.i/F),O.push(be.i/F),ZA(H),ZA(H.next),H=s=be),H=H.next;while(H!==s);s=ly(H),Q2(s,t,i,m,A,E,2)}else if(O===2)e:{O=s;do{for(F=O.next.next;F!==O.prev;){if(H=O.i!==F.i){if(H=O,Te=F,be=H.next.i!==Te.i&&H.prev.i!==Te.i){t:{be=H;do{if(be.i!==H.i&&be.next.i!==H.i&&be.i!==Te.i&&be.next.i!==Te.i&&PS(be,be.next,H,Te)){be=!0;break t}be=be.next}while(be!==H);be=!1}be=!be}if(be){if(be=xC(H,Te)&&xC(Te,H)){be=H,$=!1,ue=(H.x+Te.x)/2,pe=(H.y+Te.y)/2;do be.y>pe!=be.next.y>pe&&be.next.y!==be.y&&ue<(be.next.x-be.x)*(pe-be.y)/(be.next.y-be.y)+be.x&&($=!$),be=be.next;while(be!==H);be=$}be=be&&(qs(H.prev,H,Te.prev)||qs(H,Te.prev,Te))||uy(H,Te)&&0<qs(H.prev,H,H.next)&&0<qs(Te.prev,Te,Te.next)}H=be}if(H){s=Rd(O,F),O=ly(O,O.next),s=ly(s,s.next),Q2(O,t,i,m,A,E),Q2(s,t,i,m,A,E);break e}F=F.next}O=O.next}while(O!==s)}break}}}}function IS(s,t,i,m){var A=s.prev,E=s.next;if(0<=qs(A,s,E))return!1;var O=A.x>s.x?A.x>E.x?A.x:E.x:s.x>E.x?s.x:E.x,F=A.y>s.y?A.y>E.y?A.y:E.y:s.y>E.y?s.y:E.y,H=fb(A.x<s.x?A.x<E.x?A.x:E.x:s.x<E.x?s.x:E.x,A.y<s.y?A.y<E.y?A.y:E.y:s.y<E.y?s.y:E.y,t,i,m);for(t=fb(O,F,t,i,m),i=s.prevZ,m=s.nextZ;i&&i.z>=H&&m&&m.z<=t;){if(i!==s.prev&&i!==s.next&&yC(A.x,A.y,s.x,s.y,E.x,E.y,i.x,i.y)&&0<=qs(i.prev,i,i.next)||(i=i.prevZ,m!==s.prev&&m!==s.next&&yC(A.x,A.y,s.x,s.y,E.x,E.y,m.x,m.y)&&0<=qs(m.prev,m,m.next)))return!1;m=m.nextZ}for(;i&&i.z>=H;){if(i!==s.prev&&i!==s.next&&yC(A.x,A.y,s.x,s.y,E.x,E.y,i.x,i.y)&&0<=qs(i.prev,i,i.next))return!1;i=i.prevZ}for(;m&&m.z<=t;){if(m!==s.prev&&m!==s.next&&yC(A.x,A.y,s.x,s.y,E.x,E.y,m.x,m.y)&&0<=qs(m.prev,m,m.next))return!1;m=m.nextZ}return!0}function R_(s,t){return s.x-t.x}function L_(s,t){var i=t,m=s.x,A=s.y,E=-Infinity;do{if(A<=i.y&&A>=i.next.y&&i.next.y!==i.y){var O=i.x+(A-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(O<=m&&O>E){if(E=O,O===m){if(A===i.y)return i;if(A===i.next.y)return i.next}var F=i.x<i.next.x?i:i.next}}i=i.next}while(i!==t);if(!F)return null;if(m===E)return F;t=F,O=F.x;var H=F.y,K=Infinity;i=F;do{if(m>=i.x&&i.x>=O&&m!==i.x&&yC(A<H?m:E,A,O,H,A<H?E:m,A,i.x,i.y)){var $=Math.abs(A-i.y)/(m-i.x),ue;if((ue=xC(i,s))&&!(ue=$<K)&&(ue=$===K)&&!(ue=i.x>F.x)&&(ue=i.x===F.x)){ue=F;var me=i;ue=0>qs(ue.prev,ue,me.prev)&&0>qs(me.next,ue,ue.next)}ue&&(F=i,K=$)}i=i.next}while(i!==t);return F}function fb(s,t,i,m,A){return s=32767*(s-i)*A,t=32767*(t-m)*A,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,(s|s<<1)&1431655765|((t|t<<1)&1431655765)<<1}function D_(s){var t=s,i=s;do(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next;while(t!==s);return i}function yC(s,t,i,m,A,E,O,F){return 0<=(A-O)*(t-F)-(s-O)*(E-F)&&0<=(s-O)*(m-F)-(i-O)*(t-F)&&0<=(i-O)*(E-F)-(A-O)*(m-F)}function qs(s,t,i){return(t.y-s.y)*(i.x-t.x)-(t.x-s.x)*(i.y-t.y)}function uy(s,t){return s.x===t.x&&s.y===t.y}function PS(s,t,i,m){var A=ew(qs(s,t,i)),E=ew(qs(s,t,m)),O=ew(qs(i,m,s)),F=ew(qs(i,m,t));return!!(A!==E&&O!==F||A===0&&$2(s,i,t)||E===0&&$2(s,m,t)||O===0&&$2(i,s,m)||F===0&&$2(i,t,m))}function $2(s,t,i){return t.x<=Math.max(s.x,i.x)&&t.x>=Math.min(s.x,i.x)&&t.y<=Math.max(s.y,i.y)&&t.y>=Math.min(s.y,i.y)}function ew(s){return 0<s?1:0>s?-1:0}function xC(s,t){return 0>qs(s.prev,s,s.next)?0<=qs(s,t,s.next)&&0<=qs(s,s.prev,t):0>qs(s,t,s.prev)||0>qs(s,s.next,t)}function Rd(s,t){var i=new db(s.i,s.x,s.y),m=new db(t.i,t.x,t.y),A=s.next,E=t.prev;return s.next=t,t.prev=s,i.next=A,A.prev=i,m.next=i,i.prev=m,E.next=m,m.prev=E,m}function N_(s,t,i,m){return s=new db(s,t,i),m?(s.next=m.next,s.prev=m,m.next.prev=s,m.next=s):(s.prev=s,s.next=s),s}function ZA(s){s.next.prev=s.prev,s.prev.next=s.next,s.prevZ&&(s.prevZ.nextZ=s.nextZ),s.nextZ&&(s.nextZ.prevZ=s.prevZ)}function db(s,t,i){this.i=s,this.x=t,this.y=i,this.nextZ=this.prevZ=this.z=this.next=this.prev=null,this.steiner=!1}function OS(s){var t=s.length;2<t&&s[t-1].equals(s[0])&&s.pop()}function KA(s,t){for(var i=0;i<t.length;i++)s.push(t[i].x),s.push(t[i].y)}function cy(s,t){Vt.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:s,options:t},this.fromBufferGeometry(new Ld(s,t)),this.mergeVertices()}function Ld(s,t){function i(H){function K(Dn,vo,Ha){return vo||console.error("THREE.ExtrudeGeometry: vec does not exist"),vo.clone().multiplyScalar(Ha).add(Dn)}function $(Dn,vo,Ha){var $o=Dn.x-vo.x,Cr=Dn.y-vo.y,uo=Ha.x-Dn.x,to=Ha.y-Dn.y,xi=$o*$o+Cr*Cr;if(Math.abs($o*to-Cr*uo)>ts){var iu=Math.sqrt(xi),fl=Math.sqrt(uo*uo+to*to);if(xi=vo.x-Cr/iu,vo=vo.y+$o/iu,to=((Ha.x-to/fl-xi)*to-(Ha.y+uo/fl-vo)*uo)/($o*to-Cr*uo),uo=xi+$o*to-Dn.x,$o=vo+Cr*to-Dn.y,Cr=uo*uo+$o*$o,2>=Cr)return new l(uo,$o);Cr=Math.sqrt(Cr/2)}else Dn=!1,$o>ts?uo>ts&&(Dn=!0):$o<-ts?uo<-ts&&(Dn=!0):Ad(Cr)===Ad(to)&&(Dn=!0),Dn?(uo=-Cr,Cr=Math.sqrt(xi)):(uo=$o,$o=Cr,Cr=Math.sqrt(xi/2));return new l(uo/Cr,$o/Cr)}function ue(Dn,vo){for(Pr=Dn.length;0<=--Pr;){var Ha=Pr,$o=Pr-1;0>$o&&($o=Dn.length-1);var Cr,uo=Mt+2*Br;for(Cr=0;Cr<uo;Cr++){var to=cr*Cr,xi=cr*(Cr+1),iu=vo+$o+to,fl=vo+$o+xi;xi=vo+Ha+xi,be(vo+Ha+to),be(iu),be(xi),be(iu),be(fl),be(xi),to=A.length/3,to=cn.generateSideWallUV(m,A,to-6,to-3,to-2,to-1),Te(to[0]),Te(to[1]),Te(to[3]),Te(to[1]),Te(to[2]),Te(to[3])}}}function me(Dn,vo,Ha){it.push(Dn),it.push(vo),it.push(Ha)}function pe(Dn,vo,Ha){be(Dn),be(vo),be(Ha),Dn=A.length/3,Dn=cn.generateTopUV(m,A,Dn-3,Dn-2,Dn-1),Te(Dn[0]),Te(Dn[1]),Te(Dn[2])}function be(Dn){A.push(it[3*Dn]),A.push(it[3*Dn+1]),A.push(it[3*Dn+2])}function Te(Dn){E.push(Dn.x),E.push(Dn.y)}var it=[],_t=t.curveSegments!==void 0?t.curveSegments:12,Mt=t.steps!==void 0?t.steps:1,It=t.depth!==void 0?t.depth:100,Bt=t.bevelEnabled!==void 0?t.bevelEnabled:!0,hr=t.bevelThickness!==void 0?t.bevelThickness:6,qt=t.bevelSize!==void 0?t.bevelSize:hr-2,Pt=t.bevelOffset!==void 0?t.bevelOffset:0,Br=t.bevelSegments!==void 0?t.bevelSegments:3,Ht=t.extrudePath,cn=t.UVGenerator!==void 0?t.UVGenerator:on;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),It=t.amount);var In=!1;if(Ht){var Ur=Ht.getSpacedPoints(Mt);In=!0,Bt=!1;var Mi=Ht.computeFrenetFrames(Mt,!1),Rn=new Y,yi=new Y,Di=new Y}Bt||(Pt=qt=hr=Br=0);var zi;_t=H.extractPoints(_t),H=_t.shape;var To=_t.holes;if(!Mr.isClockWise(H)){H=H.reverse();var ho=0;for(zi=To.length;ho<zi;ho++){var la=To[ho];Mr.isClockWise(la)&&(To[ho]=la.reverse())}}var Fa=Mr.triangulateShape(H,To),tt=H;for(ho=0,zi=To.length;ho<zi;ho++)la=To[ho],H=H.concat(la);var Ct,cr=H.length,fn,Gn=Fa.length;_t=[];var Pr=0,or=tt.length,Yt=or-1;for(Ct=Pr+1;Pr<or;Pr++,Yt++,Ct++)Yt===or&&(Yt=0),Ct===or&&(Ct=0),_t[Pr]=$(tt[Pr],tt[Yt],tt[Ct]);Ht=[];var oi=_t.concat();for(ho=0,zi=To.length;ho<zi;ho++){la=To[ho];var Vn=[];for(Pr=0,or=la.length,Yt=or-1,Ct=Pr+1;Pr<or;Pr++,Yt++,Ct++)Yt===or&&(Yt=0),Ct===or&&(Ct=0),Vn[Pr]=$(la[Pr],la[Yt],la[Ct]);Ht.push(Vn),oi=oi.concat(Vn)}for(Yt=0;Yt<Br;Yt++){or=Yt/Br;var lo=hr*Math.cos(or*Math.PI/2);for(Ct=qt*Math.sin(or*Math.PI/2)+Pt,Pr=0,or=tt.length;Pr<or;Pr++){var en=K(tt[Pr],_t[Pr],Ct);me(en.x,en.y,-lo)}for(ho=0,zi=To.length;ho<zi;ho++)for(la=To[ho],Vn=Ht[ho],Pr=0,or=la.length;Pr<or;Pr++)en=K(la[Pr],Vn[Pr],Ct),me(en.x,en.y,-lo)}for(Ct=qt+Pt,Pr=0;Pr<cr;Pr++)en=Bt?K(H[Pr],oi[Pr],Ct):H[Pr],In?(yi.copy(Mi.normals[0]).multiplyScalar(en.x),Rn.copy(Mi.binormals[0]).multiplyScalar(en.y),Di.copy(Ur[0]).add(yi).add(Rn),me(Di.x,Di.y,Di.z)):me(en.x,en.y,0);for(or=1;or<=Mt;or++)for(Pr=0;Pr<cr;Pr++)en=Bt?K(H[Pr],oi[Pr],Ct):H[Pr],In?(yi.copy(Mi.normals[or]).multiplyScalar(en.x),Rn.copy(Mi.binormals[or]).multiplyScalar(en.y),Di.copy(Ur[or]).add(yi).add(Rn),me(Di.x,Di.y,Di.z)):me(en.x,en.y,It/Mt*or);for(Yt=Br-1;0<=Yt;Yt--){for(or=Yt/Br,lo=hr*Math.cos(or*Math.PI/2),Ct=qt*Math.sin(or*Math.PI/2)+Pt,Pr=0,or=tt.length;Pr<or;Pr++)en=K(tt[Pr],_t[Pr],Ct),me(en.x,en.y,It+lo);for(ho=0,zi=To.length;ho<zi;ho++)for(la=To[ho],Vn=Ht[ho],Pr=0,or=la.length;Pr<or;Pr++)en=K(la[Pr],Vn[Pr],Ct),In?me(en.x,en.y+Ur[Mt-1].y,Ur[Mt-1].x+lo):me(en.x,en.y,It+lo)}(function(){var Dn=A.length/3;if(Bt){var vo=0*cr;for(Pr=0;Pr<Gn;Pr++)fn=Fa[Pr],pe(fn[2]+vo,fn[1]+vo,fn[0]+vo);for(vo=cr*(Mt+2*Br),Pr=0;Pr<Gn;Pr++)fn=Fa[Pr],pe(fn[0]+vo,fn[1]+vo,fn[2]+vo)}else{for(Pr=0;Pr<Gn;Pr++)fn=Fa[Pr],pe(fn[2],fn[1],fn[0]);for(Pr=0;Pr<Gn;Pr++)fn=Fa[Pr],pe(fn[0]+cr*Mt,fn[1]+cr*Mt,fn[2]+cr*Mt)}m.addGroup(Dn,A.length/3-Dn,0)})(),function(){var Dn=A.length/3,vo=0;for(ue(tt,vo),vo+=tt.length,ho=0,zi=To.length;ho<zi;ho++)la=To[ho],ue(la,vo),vo+=la.length;m.addGroup(Dn,A.length/3-Dn,1)}()}Et.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:s,options:t},s=Array.isArray(s)?s:[s];for(var m=this,A=[],E=[],O=0,F=s.length;O<F;O++)i(s[O]);this.setAttribute("position",new tn(A,3)),this.setAttribute("uv",new tn(E,2)),this.computeVertexNormals()}function pb(s,t,i){if(i.shapes=[],Array.isArray(s))for(var m=0,A=s.length;m<A;m++)i.shapes.push(s[m].uuid);else i.shapes.push(s.uuid);return t.extrudePath!==void 0&&(i.options.extrudePath=t.extrudePath.toJSON()),i}function Vh(s,t){Vt.call(this),this.type="TextGeometry",this.parameters={text:s,parameters:t},this.fromBufferGeometry(new D1(s,t)),this.mergeVertices()}function D1(s,t){t=t||{};var i=t.font;if(!i||!i.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Vt;s=i.generateShapes(s,t.size),t.depth=t.height!==void 0?t.height:50,t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1),Ld.call(this,s,t),this.type="TextBufferGeometry"}function CC(s,t,i,m,A,E,O){Vt.call(this),this.type="SphereGeometry",this.parameters={radius:s,widthSegments:t,heightSegments:i,phiStart:m,phiLength:A,thetaStart:E,thetaLength:O},this.fromBufferGeometry(new N1(s,t,i,m,A,E,O)),this.mergeVertices()}function N1(s,t,i,m,A,E,O){Et.call(this),this.type="SphereBufferGeometry",this.parameters={radius:s,widthSegments:t,heightSegments:i,phiStart:m,phiLength:A,thetaStart:E,thetaLength:O},s=s||1,t=Math.max(3,Math.floor(t)||8),i=Math.max(2,Math.floor(i)||6),m=m!==void 0?m:0,A=A!==void 0?A:2*Math.PI,E=E!==void 0?E:0,O=O!==void 0?O:Math.PI;var F=Math.min(E+O,Math.PI),H,K,$=0,ue=[],me=new Y,pe=new Y,be=[],Te=[],it=[],_t=[];for(K=0;K<=i;K++){var Mt=[],It=K/i,Bt=0;for(K==0&&E==0?Bt=.5/t:K==i&&F==Math.PI&&(Bt=-.5/t),H=0;H<=t;H++){var hr=H/t;me.x=-s*Math.cos(m+hr*A)*Math.sin(E+It*O),me.y=s*Math.cos(E+It*O),me.z=s*Math.sin(m+hr*A)*Math.sin(E+It*O),Te.push(me.x,me.y,me.z),pe.copy(me).normalize(),it.push(pe.x,pe.y,pe.z),_t.push(hr+Bt,1-It),Mt.push($++)}ue.push(Mt)}for(K=0;K<i;K++)for(H=0;H<t;H++)s=ue[K][H+1],m=ue[K][H],A=ue[K+1][H],O=ue[K+1][H+1],(K!==0||0<E)&&be.push(s,m,O),(K!==i-1||F<Math.PI)&&be.push(m,A,O);this.setIndex(be),this.setAttribute("position",new tn(Te,3)),this.setAttribute("normal",new tn(it,3)),this.setAttribute("uv",new tn(_t,2))}function Sv(s,t,i,m,A,E){Vt.call(this),this.type="RingGeometry",this.parameters={innerRadius:s,outerRadius:t,thetaSegments:i,phiSegments:m,thetaStart:A,thetaLength:E},this.fromBufferGeometry(new AC(s,t,i,m,A,E)),this.mergeVertices()}function AC(s,t,i,m,A,E){Et.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:s,outerRadius:t,thetaSegments:i,phiSegments:m,thetaStart:A,thetaLength:E},s=s||.5,t=t||1,A=A!==void 0?A:0,E=E!==void 0?E:2*Math.PI,i=i!==void 0?Math.max(3,i):8,m=m!==void 0?Math.max(1,m):1;var O=[],F=[],H=[],K=[],$=s,ue=(t-s)/m,me=new Y,pe=new l,be,Te;for(be=0;be<=m;be++){for(Te=0;Te<=i;Te++)s=A+Te/i*E,me.x=$*Math.cos(s),me.y=$*Math.sin(s),F.push(me.x,me.y,me.z),H.push(0,0,1),pe.x=(me.x/t+1)/2,pe.y=(me.y/t+1)/2,K.push(pe.x,pe.y);$+=ue}for(be=0;be<m;be++)for(t=be*(i+1),Te=0;Te<i;Te++)s=Te+t,A=s+i+1,E=s+i+2,$=s+1,O.push(s,A,$),O.push(A,E,$);this.setIndex(O),this.setAttribute("position",new tn(F,3)),this.setAttribute("normal",new tn(H,3)),this.setAttribute("uv",new tn(K,2))}function JA(s,t,i,m){Vt.call(this),this.type="LatheGeometry",this.parameters={points:s,segments:t,phiStart:i,phiLength:m},this.fromBufferGeometry(new wC(s,t,i,m)),this.mergeVertices()}function wC(s,t,i,m){Et.call(this),this.type="LatheBufferGeometry",this.parameters={points:s,segments:t,phiStart:i,phiLength:m},t=Math.floor(t)||12,i=i||0,m=m||2*Math.PI,m=Fo.clamp(m,0,2*Math.PI);var A=[],E=[],O=[],F=1/t,H=new Y,K=new l,$;for($=0;$<=t;$++){var ue=i+$*F*m,me=Math.sin(ue),pe=Math.cos(ue);for(ue=0;ue<=s.length-1;ue++)H.x=s[ue].x*me,H.y=s[ue].y,H.z=s[ue].x*pe,E.push(H.x,H.y,H.z),K.x=$/t,K.y=ue/(s.length-1),O.push(K.x,K.y)}for($=0;$<t;$++)for(ue=0;ue<s.length-1;ue++)i=ue+$*s.length,F=i+s.length,H=i+s.length+1,K=i+1,A.push(i,F,K),A.push(F,H,K);if(this.setIndex(A),this.setAttribute("position",new tn(E,3)),this.setAttribute("uv",new tn(O,2)),this.computeVertexNormals(),m===2*Math.PI)for(m=this.attributes.normal.array,A=new Y,E=new Y,O=new Y,i=t*s.length*3,ue=$=0;$<s.length;$++,ue+=3)A.x=m[ue+0],A.y=m[ue+1],A.z=m[ue+2],E.x=m[i+ue+0],E.y=m[i+ue+1],E.z=m[i+ue+2],O.addVectors(A,E).normalize(),m[ue+0]=m[i+ue+0]=O.x,m[ue+1]=m[i+ue+1]=O.y,m[ue+2]=m[i+ue+2]=O.z}function Rp(s,t){Vt.call(this),this.type="ShapeGeometry",(typeof t=="undefined"?"undefined":xd(t))==="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:s,curveSegments:t},this.fromBufferGeometry(new F1(s,t)),this.mergeVertices()}function F1(s,t){function i($){var ue,me=A.length/3;$=$.extractPoints(t);var pe=$.shape,be=$.holes;for(Mr.isClockWise(pe)===!1&&(pe=pe.reverse()),$=0,ue=be.length;$<ue;$++){var Te=be[$];Mr.isClockWise(Te)===!0&&(be[$]=Te.reverse())}var it=Mr.triangulateShape(pe,be);for($=0,ue=be.length;$<ue;$++)Te=be[$],pe=pe.concat(Te);for($=0,ue=pe.length;$<ue;$++)Te=pe[$],A.push(Te.x,Te.y,0),E.push(0,0,1),O.push(Te.x,Te.y);for($=0,ue=it.length;$<ue;$++)pe=it[$],m.push(pe[0]+me,pe[1]+me,pe[2]+me),H+=3}Et.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:s,curveSegments:t},t=t||12;var m=[],A=[],E=[],O=[],F=0,H=0;if(Array.isArray(s)===!1)i(s);else for(var K=0;K<s.length;K++)i(s[K]),this.addGroup(F,H,K),F+=H,H=0;this.setIndex(m),this.setAttribute("position",new tn(A,3)),this.setAttribute("normal",new tn(E,3)),this.setAttribute("uv",new tn(O,2))}function RS(s,t){if(t.shapes=[],Array.isArray(s))for(var i=0,m=s.length;i<m;i++)t.shapes.push(s[i].uuid);else t.shapes.push(s.uuid);return t}function B1(s,t){Et.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t};var i=[];t=Math.cos(Fo.DEG2RAD*(t!==void 0?t:1));var m=[0,0],A={},E=["a","b","c"];if(s.isBufferGeometry){var O=new Vt;O.fromBufferGeometry(s)}else O=s.clone();O.mergeVertices(),O.computeFaceNormals(),s=O.vertices,O=O.faces;for(var F=0,H=O.length;F<H;F++)for(var K=O[F],$=0;3>$;$++){var ue=K[E[$]],me=K[E[($+1)%3]];m[0]=Math.min(ue,me),m[1]=Math.max(ue,me),ue=m[0]+","+m[1],A[ue]===void 0?A[ue]={index1:m[0],index2:m[1],face1:F,face2:void 0}:A[ue].face2=F}for(ue in A)m=A[ue],(m.face2===void 0||O[m.face1].normal.dot(O[m.face2].normal)<=t)&&(E=s[m.index1],i.push(E.x,E.y,E.z),E=s[m.index2],i.push(E.x,E.y,E.z));this.setAttribute("position",new tn(i,3))}function z1(s,t,i,m,A,E,O,F){Vt.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:s,radiusBottom:t,height:i,radialSegments:m,heightSegments:A,openEnded:E,thetaStart:O,thetaLength:F},this.fromBufferGeometry(new _v(s,t,i,m,A,E,O,F)),this.mergeVertices()}function _v(s,t,i,m,A,E,O,F){function H(Mt){var It,Bt=new l,hr=new Y,qt=0,Pt=Mt===!0?s:t,Br=Mt===!0?1:-1,Ht=be;for(It=1;It<=m;It++)ue.push(0,it*Br,0),me.push(0,Br,0),pe.push(.5,.5),be++;var cn=be;for(It=0;It<=m;It++){var In=It/m*F+O,Ur=Math.cos(In);In=Math.sin(In),hr.x=Pt*In,hr.y=it*Br,hr.z=Pt*Ur,ue.push(hr.x,hr.y,hr.z),me.push(0,Br,0),Bt.x=.5*Ur+.5,Bt.y=.5*In*Br+.5,pe.push(Bt.x,Bt.y),be++}for(It=0;It<m;It++)Bt=Ht+It,hr=cn+It,Mt===!0?$.push(hr,hr+1,Bt):$.push(hr+1,hr,Bt),qt+=3;K.addGroup(_t,qt,Mt===!0?1:2),_t+=qt}Et.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:s,radiusBottom:t,height:i,radialSegments:m,heightSegments:A,openEnded:E,thetaStart:O,thetaLength:F};var K=this;s=s!==void 0?s:1,t=t!==void 0?t:1,i=i||1,m=Math.floor(m)||8,A=Math.floor(A)||1,E=E!==void 0?E:!1,O=O!==void 0?O:0,F=F!==void 0?F:2*Math.PI;var $=[],ue=[],me=[],pe=[],be=0,Te=[],it=i/2,_t=0;(function(){var Mt,It,Bt=new Y,hr=new Y,qt=0,Pt=(t-s)/i;for(It=0;It<=A;It++){var Br=[],Ht=It/A,cn=Ht*(t-s)+s;for(Mt=0;Mt<=m;Mt++){var In=Mt/m,Ur=In*F+O,Mi=Math.sin(Ur);Ur=Math.cos(Ur),hr.x=cn*Mi,hr.y=-Ht*i+it,hr.z=cn*Ur,ue.push(hr.x,hr.y,hr.z),Bt.set(Mi,Pt,Ur).normalize(),me.push(Bt.x,Bt.y,Bt.z),pe.push(In,1-Ht),Br.push(be++)}Te.push(Br)}for(Mt=0;Mt<m;Mt++)for(It=0;It<A;It++)Bt=Te[It+1][Mt],hr=Te[It+1][Mt+1],Pt=Te[It][Mt+1],$.push(Te[It][Mt],Bt,Pt),$.push(Bt,hr,Pt),qt+=6;K.addGroup(_t,qt,0),_t+=qt})(),E===!1&&(0<s&&H(!0),0<t&&H(!1)),this.setIndex($),this.setAttribute("position",new tn(ue,3)),this.setAttribute("normal",new tn(me,3)),this.setAttribute("uv",new tn(pe,2))}function j1(s,t,i,m,A,E,O){z1.call(this,0,s,t,i,m,A,E,O),this.type="ConeGeometry",this.parameters={radius:s,height:t,radialSegments:i,heightSegments:m,openEnded:A,thetaStart:E,thetaLength:O}}function U1(s,t,i,m,A,E,O){_v.call(this,0,s,t,i,m,A,E,O),this.type="ConeBufferGeometry",this.parameters={radius:s,height:t,radialSegments:i,heightSegments:m,openEnded:A,thetaStart:E,thetaLength:O}}function Km(s,t,i,m){Vt.call(this),this.type="CircleGeometry",this.parameters={radius:s,segments:t,thetaStart:i,thetaLength:m},this.fromBufferGeometry(new hy(s,t,i,m)),this.mergeVertices()}function hy(s,t,i,m){Et.call(this),this.type="CircleBufferGeometry",this.parameters={radius:s,segments:t,thetaStart:i,thetaLength:m},s=s||1,t=t!==void 0?Math.max(3,t):8,i=i!==void 0?i:0,m=m!==void 0?m:2*Math.PI;var A=[],E=[],O=[],F=[],H,K=new Y,$=new l;E.push(0,0,0),O.push(0,0,1),F.push(.5,.5);var ue=0;for(H=3;ue<=t;ue++,H+=3){var me=i+ue/t*m;K.x=s*Math.cos(me),K.y=s*Math.sin(me),E.push(K.x,K.y,K.z),O.push(0,0,1),$.x=(E[H]/s+1)/2,$.y=(E[H+1]/s+1)/2,F.push($.x,$.y)}for(H=1;H<=t;H++)A.push(H,H+1,0);this.setIndex(A),this.setAttribute("position",new tn(E,3)),this.setAttribute("normal",new tn(O,3)),this.setAttribute("uv",new tn(F,2))}function k1(s){Wt.call(this),this.type="ShadowMaterial",this.color=new at(0),this.transparent=!0,this.setValues(s)}function Mv(s){Hr.call(this,s),this.type="RawShaderMaterial"}function Jm(s){Wt.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new at(16777215),this.roughness=1,this.metalness=0,this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new l(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.vertexTangents=this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(s)}function Ev(s){Jm.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new l(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,this.sheen=null,this.transparency=0,this.setValues(s)}function fy(s){Wt.call(this),this.type="MeshPhongMaterial",this.color=new at(16777215),this.specular=new at(1118481),this.shininess=30,this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new l(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.envMap=this.alphaMap=this.specularMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(s)}function H1(s){Wt.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new at(16777215),this.specular=new at(1118481),this.shininess=30,this.lightMap=this.gradientMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new l(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=this.specularMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(s)}function bC(s){Wt.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new l(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.morphNormals=this.morphTargets=this.skinning=this.fog=!1,this.setValues(s)}function Tv(s){Wt.call(this),this.type="MeshLambertMaterial",this.color=new at(16777215),this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(s)}function dy(s){Wt.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new at(16777215),this.bumpMap=this.map=this.matcap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new l(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(s)}function Dd(s){Js.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(s)}function Gh(s,t,i,m){this.parameterPositions=s,this._cachedIndex=0,this.resultBuffer=m!==void 0?m:new t.constructor(i),this.sampleValues=t,this.valueSize=i}function tw(s,t,i,m){Gh.call(this,s,t,i,m),this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0}function qA(s,t,i,m){Gh.call(this,s,t,i,m)}function rw(s,t,i,m){Gh.call(this,s,t,i,m)}function gu(s,t,i,m){if(s===void 0)throw Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw Error("THREE.KeyframeTrack: no keyframes in track named "+s);this.name=s,this.times=Ir.convertArray(t,this.TimeBufferType),this.values=Ir.convertArray(i,this.ValueBufferType),this.setInterpolation(m||this.DefaultInterpolation)}function nw(s,t,i){gu.call(this,s,t,i)}function iw(s,t,i,m){gu.call(this,s,t,i,m)}function SC(s,t,i,m){gu.call(this,s,t,i,m)}function ow(s,t,i,m){Gh.call(this,s,t,i,m)}function QA(s,t,i,m){gu.call(this,s,t,i,m)}function aw(s,t,i,m){gu.call(this,s,t,i,m)}function $A(s,t,i,m){gu.call(this,s,t,i,m)}function Nd(s,t,i,m){this.name=s,this.tracks=i,this.duration=t!==void 0?t:-1,this.blendMode=m!==void 0?m:2500,this.uuid=Fo.generateUUID(),0>this.duration&&this.resetDuration()}function F_(s){switch(s.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return SC;case"vector":case"vector2":case"vector3":case"vector4":return $A;case"color":return iw;case"quaternion":return QA;case"bool":case"boolean":return nw;case"string":return aw}throw Error("THREE.KeyframeTrack: Unsupported typeName: "+s)}function B_(s){if(s.type===void 0)throw Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=F_(s.type);if(s.times===void 0){var i=[],m=[];Ir.flattenJSON(s.keys,i,m,"value"),s.times=i,s.values=m}return t.parse!==void 0?t.parse(s):new t(s.name,s.times,s.values,s.interpolation)}function mb(s,t,i){var m=this,A=!1,E=0,O=0,F=void 0,H=[];this.onStart=void 0,this.onLoad=s,this.onProgress=t,this.onError=i,this.itemStart=function(K){O++,A===!1&&m.onStart!==void 0&&m.onStart(K,E,O),A=!0},this.itemEnd=function(K){E++,m.onProgress!==void 0&&m.onProgress(K,E,O),E===O&&(A=!1,m.onLoad!==void 0)&&m.onLoad()},this.itemError=function(K){m.onError!==void 0&&m.onError(K)},this.resolveURL=function(K){return F?F(K):K},this.setURLModifier=function(K){return F=K,this},this.addHandler=function(K,$){return H.push(K,$),this},this.removeHandler=function(K){return K=H.indexOf(K),K!==-1&&H.splice(K,2),this},this.getHandler=function(K){for(var $=0,ue=H.length;$<ue;$+=2){var me=H[$],pe=H[$+1];if(me.global&&(me.lastIndex=0),me.test(K))return pe}return null}}function ka(s){this.manager=s!==void 0?s:Fn,this.crossOrigin="anonymous",this.resourcePath=this.path="",this.requestHeader={}}function Bf(s){ka.call(this,s)}function gb(s){ka.call(this,s)}function vb(s){ka.call(this,s)}function sw(s){ka.call(this,s)}function _C(s){ka.call(this,s)}function e2(s){ka.call(this,s)}function lw(s){ka.call(this,s)}function eo(){this.type="Curve",this.arcLengthDivisions=200}function $c(s,t,i,m,A,E,O,F){eo.call(this),this.type="EllipseCurve",this.aX=s||0,this.aY=t||0,this.xRadius=i||1,this.yRadius=m||1,this.aStartAngle=A||0,this.aEndAngle=E||2*Math.PI,this.aClockwise=O||!1,this.aRotation=F||0}function V1(s,t,i,m,A,E){$c.call(this,s,t,i,i,m,A,E),this.type="ArcCurve"}function uw(){var s=0,t=0,i=0,m=0;return{initCatmullRom:function(E,O,F,H,K){E=K*(F-E),H=K*(H-O),s=O,t=E,i=-3*O+3*F-2*E-H,m=2*O-2*F+E+H},initNonuniformCatmullRom:function(E,O,F,H,K,$,ue){E=((O-E)/K-(F-E)/(K+$)+(F-O)/$)*$,H=((F-O)/$-(H-O)/($+ue)+(H-F)/ue)*$,s=O,t=E,i=-3*O+3*F-2*E-H,m=2*O-2*F+E+H},calc:function(E){var O=E*E;return s+t*E+i*O+m*O*E}}}function Wu(s,t,i,m){eo.call(this),this.type="CatmullRomCurve3",this.points=s||[],this.closed=t||!1,this.curveType=i||"centripetal",this.tension=m||.5}function LS(s,t,i,m,A){t=.5*(m-t),A=.5*(A-i);var E=s*s;return(2*i-2*m+t+A)*s*E+(-3*i+3*m-2*t-A)*E+t*s+i}function py(s,t,i,m){var A=1-s;return A*A*t+2*(1-s)*s*i+s*s*m}function t2(s,t,i,m,A){var E=1-s,O=1-s;return E*E*E*t+3*O*O*s*i+3*(1-s)*s*s*m+s*s*s*A}function Lp(s,t,i,m){eo.call(this),this.type="CubicBezierCurve",this.v0=s||new l,this.v1=t||new l,this.v2=i||new l,this.v3=m||new l}function Iv(s,t,i,m){eo.call(this),this.type="CubicBezierCurve3",this.v0=s||new Y,this.v1=t||new Y,this.v2=i||new Y,this.v3=m||new Y}function eh(s,t){eo.call(this),this.type="LineCurve",this.v1=s||new l,this.v2=t||new l}function Dp(s,t){eo.call(this),this.type="LineCurve3",this.v1=s||new Y,this.v2=t||new Y}function Np(s,t,i){eo.call(this),this.type="QuadraticBezierCurve",this.v0=s||new l,this.v1=t||new l,this.v2=i||new l}function qm(s,t,i){eo.call(this),this.type="QuadraticBezierCurve3",this.v0=s||new Y,this.v1=t||new Y,this.v2=i||new Y}function zf(s){eo.call(this),this.type="SplineCurve",this.points=s||[]}function Pv(){eo.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function jf(s){Pv.call(this),this.type="Path",this.currentPoint=new l,s&&this.setFromPoints(s)}function Ov(s){jf.call(this,s),this.uuid=Fo.generateUUID(),this.type="Shape",this.holes=[]}function hs(s,t){we.call(this),this.type="Light",this.color=new at(s),this.intensity=t!==void 0?t:1,this.receiveShadow=void 0}function cw(s,t,i){hs.call(this,s,i),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(we.DefaultUp),this.updateMatrix(),this.groundColor=new at(t)}function Qm(s){this.camera=s,this.bias=0,this.radius=1,this.mapSize=new l(512,512),this.mapPass=this.map=null,this.matrix=new ie,this._frustum=new Hi,this._frameExtents=new l(1,1),this._viewportCount=1,this._viewports=[new M(0,0,1,1)]}function hw(){Qm.call(this,new mr(50,1,.5,500))}function MC(s,t,i,m,A,E){hs.call(this,s,t),this.type="SpotLight",this.position.copy(we.DefaultUp),this.updateMatrix(),this.target=new we,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(F){this.intensity=F/Math.PI}}),this.distance=i!==void 0?i:0,this.angle=m!==void 0?m:Math.PI/3,this.penumbra=A!==void 0?A:0,this.decay=E!==void 0?E:1,this.shadow=new hw}function fw(){Qm.call(this,new mr(90,1,.5,500)),this._frameExtents=new l(4,2),this._viewportCount=6,this._viewports=[new M(2,1,1,1),new M(0,1,1,1),new M(3,1,1,1),new M(1,1,1,1),new M(3,0,1,1),new M(1,0,1,1)],this._cubeDirections=[new Y(1,0,0),new Y(-1,0,0),new Y(0,0,1),new Y(0,0,-1),new Y(0,1,0),new Y(0,-1,0)],this._cubeUps=[new Y(0,1,0),new Y(0,1,0),new Y(0,1,0),new Y(0,1,0),new Y(0,0,1),new Y(0,0,-1)]}function r2(s,t,i,m){hs.call(this,s,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(E){this.intensity=E/(4*Math.PI)}}),this.distance=i!==void 0?i:0,this.decay=m!==void 0?m:1,this.shadow=new fw}function EC(s,t,i,m,A,E){sn.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=s!==void 0?s:-1,this.right=t!==void 0?t:1,this.top=i!==void 0?i:1,this.bottom=m!==void 0?m:-1,this.near=A!==void 0?A:.1,this.far=E!==void 0?E:2e3,this.updateProjectionMatrix()}function dw(){Qm.call(this,new EC(-5,5,5,-5,.5,500))}function pw(s,t){hs.call(this,s,t),this.type="DirectionalLight",this.position.copy(we.DefaultUp),this.updateMatrix(),this.target=new we,this.shadow=new dw}function mw(s,t){hs.call(this,s,t),this.type="AmbientLight",this.castShadow=void 0}function gw(s,t,i,m){hs.call(this,s,t),this.type="RectAreaLight",this.width=i!==void 0?i:10,this.height=m!==void 0?m:10}function TC(){this.coefficients=[];for(var s=0;9>s;s++)this.coefficients.push(new Y)}function Uf(s,t){hs.call(this,void 0,t),this.type="LightProbe",this.sh=s!==void 0?s:new TC}function n2(s){ka.call(this,s),this.textures={}}function i2(){Et.call(this),this.type="InstancedBufferGeometry",this.instanceCount=Infinity}function vw(s,t,i,m){typeof i=="number"&&(m=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),gr.call(this,s,t,i),this.meshPerAttribute=m||1}function yw(s){ka.call(this,s)}function xw(s){ka.call(this,s)}function yb(s){typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),ka.call(this,s),this.options=void 0}function xb(){this.type="ShapePath",this.color=new at,this.subPaths=[],this.currentPath=null}function DS(s){this.type="Font",this.data=s}function IC(s){ka.call(this,s)}function o2(s){ka.call(this,s)}function my(s,t,i){Uf.call(this,void 0,i),s=new at().set(s),i=new at().set(t),t=new Y(s.r,s.g,s.b),s=new Y(i.r,i.g,i.b),i=Math.sqrt(Math.PI);var m=i*Math.sqrt(.75);this.sh.coefficients[0].copy(t).add(s).multiplyScalar(i),this.sh.coefficients[1].copy(t).sub(s).multiplyScalar(m)}function Cw(s,t){Uf.call(this,void 0,t),s=new at().set(s),this.sh.coefficients[0].set(s.r,s.g,s.b).multiplyScalar(2*Math.sqrt(Math.PI))}function NS(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new mr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new mr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}function Cb(s){this.autoStart=s!==void 0?s:!0,this.elapsedTime=this.oldTime=this.startTime=0,this.running=!1}function Ab(){we.call(this),this.type="AudioListener",this.context=qi.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Cb}function G1(s){we.call(this),this.type="Audio",this.listener=s,this.context=s.context,this.gain=this.context.createGain(),this.gain.connect(s.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.offset=this.loopEnd=this.loopStart=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._progress=this._startedAt=0,this.filters=[]}function wb(s){G1.call(this,s),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function bb(s,t){this.analyser=s.context.createAnalyser(),this.analyser.fftSize=t!==void 0?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),s.getOutput().connect(this.analyser)}function Sb(s,t,i){switch(this.binding=s,this.valueSize=i,t){case"quaternion":s=this._slerp,t=this._slerpAdditive;var m=this._setAdditiveIdentityQuaternion;this.buffer=new Float64Array(6*i),this._workIndex=5;break;case"string":case"bool":t=s=this._select,m=this._setAdditiveIdentityOther,this.buffer=Array(5*i);break;default:s=this._lerp,t=this._lerpAdditive,m=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*i)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=t,this._setIdentity=m,this._origIndex=3,this._addIndex=4,this.referenceCount=this.useCount=this.cumulativeWeightAdditive=this.cumulativeWeight=0}function FS(s,t,i){i=i||vc.parseTrackName(t),this._targetGroup=s,this._bindings=s.subscribe_(t,i)}function vc(s,t,i){this.path=t,this.parsedPath=i||vc.parseTrackName(t),this.node=vc.findNode(s,this.parsedPath.nodeName)||s,this.rootNode=s}function _b(){this.uuid=Fo.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var s={};this._indicesByUUID=s;for(var t=0,i=arguments.length;t!==i;++t)s[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var m=this;this.stats={objects:{get total(){return m._objects.length},get inUse(){return this.total-m.nCachedObjects_}},get bindingsPerObject(){return m._bindings.length}}}function z_(s,t,i,m){this._mixer=s,this._clip=t,this._localRoot=i||null,this.blendMode=m||t.blendMode,s=t.tracks,t=s.length,i=Array(t),m={endingStart:2400,endingEnd:2400};for(var A=0;A!==t;++A){var E=s[A].createInterpolant(null);i[A]=E,E.settings=m}this._interpolantSettings=m,this._interpolants=i,this._propertyBindings=Array(t),this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1,this.repetitions=Infinity,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0}function Mb(s){this._root=s,this._initMemoryManager(),this.time=this._accuIndex=0,this.timeScale=1}function Aw(s,t){typeof s=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),s=t),this.value=s}function Eb(s,t,i){Pp.call(this,s,t),this.meshPerAttribute=i||1}function ww(s,t,i,m){this.ray=new Lt(s,t),this.near=i||0,this.far=m||Infinity,this.camera=null,this.layers=new Ae,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Zi(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Tb(s,t){return s.distance-t.distance}function Ib(s,t,i,m){if(s.layers.test(t.layers)&&s.raycast(t,i),m===!0){s=s.children,m=0;for(var A=s.length;m<A;m++)Ib(s[m],t,i,!0)}}function Pb(s,t,i){return this.radius=s!==void 0?s:1,this.phi=t!==void 0?t:0,this.theta=i!==void 0?i:0,this}function BS(s,t,i){return this.radius=s!==void 0?s:1,this.theta=t!==void 0?t:0,this.y=i!==void 0?i:0,this}function Ob(s,t){this.min=s!==void 0?s:new l(Infinity,Infinity),this.max=t!==void 0?t:new l(-Infinity,-Infinity)}function bw(s,t){this.start=s!==void 0?s:new Y,this.end=t!==void 0?t:new Y}function PC(s){we.call(this),this.material=s,this.render=function(){},this.hasUvs=this.hasColors=this.hasNormals=this.hasPositions=!1,this.uvArray=this.colorArray=this.normalArray=this.positionArray=null,this.count=0}function OC(s,t){we.call(this),this.light=s,this.light.updateMatrixWorld(),this.matrix=s.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,s=new Et,t=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(var i=0,m=1;32>i;i++,m++){var A=i/32*Math.PI*2,E=m/32*Math.PI*2;t.push(Math.cos(A),Math.sin(A),1,Math.cos(E),Math.sin(E),1)}s.setAttribute("position",new tn(t,3)),t=new Js({fog:!1,toneMapped:!1}),this.cone=new vs(s,t),this.add(this.cone),this.update()}function Rb(s){var t=[];s&&s.isBone&&t.push(s);for(var i=0;i<s.children.length;i++)t.push.apply(t,Rb(s.children[i]));return t}function gy(s){for(var t=Rb(s),i=new Et,m=[],A=[],E=new at(0,0,1),O=new at(0,1,0),F=0;F<t.length;F++){var H=t[F];H.parent&&H.parent.isBone&&(m.push(0,0,0),m.push(0,0,0),A.push(E.r,E.g,E.b),A.push(O.r,O.g,O.b))}i.setAttribute("position",new tn(m,3)),i.setAttribute("color",new tn(A,3)),m=new Js({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0}),vs.call(this,i,m),this.type="SkeletonHelper",this.root=s,this.bones=t,this.matrix=s.matrixWorld,this.matrixAutoUpdate=!1}function RC(s,t,i){this.light=s,this.light.updateMatrixWorld(),this.color=i,s=new N1(t,4,2),t=new si({wireframe:!0,fog:!1,toneMapped:!1}),Kt.call(this,s,t),this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function LC(s,t,i){we.call(this),this.light=s,this.light.updateMatrixWorld(),this.matrix=s.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,s=new Xm(t),s.rotateY(.5*Math.PI),this.material=new si({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0),t=s.getAttribute("position"),t=new Float32Array(3*t.count),s.setAttribute("color",new gr(t,3)),this.add(new Kt(s,this.material)),this.update()}function Sw(s,t,i,m){s=s||10,t=t||10,i=new at(i!==void 0?i:4473924),m=new at(m!==void 0?m:8947848);var A=t/2,E=s/t,O=s/2;s=[];for(var F=[],H=0,K=0,$=-O;H<=t;H++,$+=E){s.push(-O,0,$,O,0,$),s.push($,0,-O,$,0,O);var ue=H===A?i:m;ue.toArray(F,K),K+=3,ue.toArray(F,K),K+=3,ue.toArray(F,K),K+=3,ue.toArray(F,K),K+=3}t=new Et,t.setAttribute("position",new tn(s,3)),t.setAttribute("color",new tn(F,3)),i=new Js({vertexColors:!0,toneMapped:!1}),vs.call(this,t,i),this.type="GridHelper"}function a2(s,t,i,m,A,E){s=s||10,t=t||16,i=i||8,m=m||64,A=new at(A!==void 0?A:4473924),E=new at(E!==void 0?E:8947848);var O=[],F=[],H;for(H=0;H<=t;H++){var K=H/t*2*Math.PI,$=Math.sin(K)*s;K=Math.cos(K)*s,O.push(0,0,0),O.push($,0,K);var ue=H&1?A:E;F.push(ue.r,ue.g,ue.b),F.push(ue.r,ue.g,ue.b)}for(H=0;H<=i;H++){ue=H&1?A:E;var me=s-s/i*H;for(t=0;t<m;t++)K=t/m*2*Math.PI,$=Math.sin(K)*me,K=Math.cos(K)*me,O.push($,0,K),F.push(ue.r,ue.g,ue.b),K=(t+1)/m*2*Math.PI,$=Math.sin(K)*me,K=Math.cos(K)*me,O.push($,0,K),F.push(ue.r,ue.g,ue.b)}s=new Et,s.setAttribute("position",new tn(O,3)),s.setAttribute("color",new tn(F,3)),O=new Js({vertexColors:!0,toneMapped:!1}),vs.call(this,s,O),this.type="PolarGridHelper"}function DC(s,t,i){we.call(this),this.light=s,this.light.updateMatrixWorld(),this.matrix=s.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,t===void 0&&(t=1),s=new Et,s.setAttribute("position",new tn([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3)),t=new Js({fog:!1,toneMapped:!1}),this.lightPlane=new kh(s,t),this.add(this.lightPlane),s=new Et,s.setAttribute("position",new tn([0,0,0,0,0,1],3)),this.targetLine=new kh(s,t),this.add(this.targetLine),this.update()}function W1(s){function t(pe,be,Te){i(pe,Te),i(be,Te)}function i(pe,be){E.push(0,0,0),O.push(be.r,be.g,be.b),F[pe]===void 0&&(F[pe]=[]),F[pe].push(E.length/3-1)}var m=new Et,A=new Js({color:16777215,vertexColors:!0,toneMapped:!1}),E=[],O=[],F={},H=new at(16755200),K=new at(16711680),$=new at(43775),ue=new at(16777215),me=new at(3355443);t("n1","n2",H),t("n2","n4",H),t("n4","n3",H),t("n3","n1",H),t("f1","f2",H),t("f2","f4",H),t("f4","f3",H),t("f3","f1",H),t("n1","f1",H),t("n2","f2",H),t("n3","f3",H),t("n4","f4",H),t("p","n1",K),t("p","n2",K),t("p","n3",K),t("p","n4",K),t("u1","u2",$),t("u2","u3",$),t("u3","u1",$),t("c","t",ue),t("p","c",me),t("cn1","cn2",me),t("cn3","cn4",me),t("cf1","cf2",me),t("cf3","cf4",me),m.setAttribute("position",new tn(E,3)),m.setAttribute("color",new tn(O,3)),vs.call(this,m,A),this.type="CameraHelper",this.camera=s,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=s.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=F,this.update()}function Sl(s,t,i,m,A,E,O){if(hl.set(A,E,O).unproject(m),s=t[s],s!==void 0)for(i=i.getAttribute("position"),t=0,m=s.length;t<m;t++)i.setXYZ(s[t],hl.x,hl.y,hl.z)}function Rv(s,t){this.object=s,t===void 0&&(t=16776960),s=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var i=new Float32Array(24),m=new Et;m.setIndex(new gr(s,1)),m.setAttribute("position",new gr(i,3)),vs.call(this,m,new Js({color:t,toneMapped:!1})),this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}function s2(s,t){this.type="Box3Helper",this.box=s,t=t||16776960,s=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var i=new Et;i.setIndex(new gr(s,1)),i.setAttribute("position",new tn([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),vs.call(this,i,new Js({color:t,toneMapped:!1})),this.type="Box3Helper",this.geometry.computeBoundingSphere()}function NC(s,t,i){this.plane=s,this.size=t===void 0?1:t,s=i!==void 0?i:16776960,t=new Et,t.setAttribute("position",new tn([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),t.computeBoundingSphere(),kh.call(this,t,new Js({color:s,toneMapped:!1})),this.type="PlaneHelper",t=new Et,t.setAttribute("position",new tn([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),t.computeBoundingSphere(),this.add(new Kt(t,new si({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}function $m(s,t,i,m,A,E){we.call(this),this.type="ArrowHelper",s===void 0&&(s=new Y(0,0,1)),t===void 0&&(t=new Y(0,0,0)),i===void 0&&(i=1),m===void 0&&(m=16776960),A===void 0&&(A=.2*i),E===void 0&&(E=.2*A),xo===void 0&&(xo=new Et,xo.setAttribute("position",new tn([0,0,0,0,1,0],3)),_i=new _v(0,.5,1,5,1),_i.translate(0,-.5,0)),this.position.copy(t),this.line=new kh(xo,new Js({color:m,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Kt(_i,new si({color:m,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(s),this.setLength(i,A,E)}function vy(s){s=s||1;var t=[0,0,0,s,0,0,0,0,0,0,s,0,0,0,0,0,0,s];s=new Et,s.setAttribute("position",new tn(t,3)),s.setAttribute("color",new tn([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),t=new Js({vertexColors:!0,toneMapped:!1}),vs.call(this,s,t),this.type="AxesHelper"}function Lb(s){this._renderer=s,this._pingPongRenderTarget=null,s=new Float32Array(20);var t=new Y(0,1,0);s=new Mv({defines:{n:20},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:s},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:t},inputEncoding:{value:Is[3e3]},outputEncoding:{value:Is[3e3]}},vertexShader:Ew(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform sampler2D envMap;
uniform int samples;
uniform float weights[n];
uniform bool latitudinal;
uniform float dTheta;
uniform float mipInt;
uniform vec3 poleAxis;

`+Nb()+`

#define ENVMAP_TYPE_CUBE_UV
#include <cube_uv_reflection_fragment>

vec3 getSample(float theta, vec3 axis) {
	float cosTheta = cos(theta);
	// Rodrigues' axis-angle rotation
	vec3 sampleDirection = vOutputDirection * cosTheta
		+ cross(axis, vOutputDirection) * sin(theta)
		+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);
	return bilinearCubeUV(envMap, sampleDirection, mipInt);
}

void main() {
	vec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);
	if (all(equal(axis, vec3(0.0))))
		axis = vec3(vOutputDirection.z, 0.0, - vOutputDirection.x);
	axis = normalize(axis);
	gl_FragColor = vec4(0.0);
	gl_FragColor.rgb += weights[0] * getSample(0.0, axis);
	for (int i = 1; i < n; i++) {
		if (i >= samples)
			break;
		float theta = dTheta * float(i);
		gl_FragColor.rgb += weights[i] * getSample(-1.0 * theta, axis);
		gl_FragColor.rgb += weights[i] * getSample(theta, axis);
	}
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:0,depthTest:!1,depthWrite:!1}),s.type="SphericalGaussianBlur",this._blurMaterial=s,this._cubemapShader=this._equirectShader=null,this._compileMaterial(this._blurMaterial)}function Db(s){return s=new R(3*ui,3*ui,s),s.texture.mapping=306,s.texture.name="PMREM.cubeUv",s.scissorTest=!0,s}function _w(s,t,i,m,A){s.viewport.set(t,i,m,A),s.scissor.set(t,i,m,A)}function Mw(){var s=new l(1,1);return s=new Mv({uniforms:{envMap:{value:null},texelSize:{value:s},inputEncoding:{value:Is[3e3]},outputEncoding:{value:Is[3e3]}},vertexShader:Ew(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform sampler2D envMap;
uniform vec2 texelSize;

`+Nb()+`

#include <common>

void main() {
	gl_FragColor = vec4(0.0);
	vec3 outputDirection = normalize(vOutputDirection);
	vec2 uv = equirectUv( outputDirection );
	vec2 f = fract(uv / texelSize - 0.5);
	uv -= f * texelSize;
	vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.x += texelSize.x;
	vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.y += texelSize.y;
	vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.x -= texelSize.x;
	vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	vec3 tm = mix(tl, tr, f.x);
	vec3 bm = mix(bl, br, f.x);
	gl_FragColor.rgb = mix(tm, bm, f.y);
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:0,depthTest:!1,depthWrite:!1}),s.type="EquirectangularToCubeUV",s}function zS(){var s=new Mv({uniforms:{envMap:{value:null},inputEncoding:{value:Is[3e3]},outputEncoding:{value:Is[3e3]}},vertexShader:Ew(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform samplerCube envMap;

`+Nb()+`

void main() {
	gl_FragColor = vec4(0.0);
	gl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:0,depthTest:!1,depthWrite:!1});return s.type="CubemapToCubeUV",s}function Ew(){return`
precision mediump float;
precision mediump int;
attribute vec3 position;
attribute vec2 uv;
attribute float faceIndex;
varying vec3 vOutputDirection;

// RH coordinate system; PMREM face-indexing convention
vec3 getDirection(vec2 uv, float face) {
	uv = 2.0 * uv - 1.0;
	vec3 direction = vec3(uv, 1.0);
	if (face == 0.0) {
		direction = direction.zyx; // ( 1, v, u ) pos x
	} else if (face == 1.0) {
		direction = direction.xzy;
		direction.xz *= -1.0; // ( -u, 1, -v ) pos y
	} else if (face == 2.0) {
		direction.x *= -1.0; // ( -u, v, 1 ) pos z
	} else if (face == 3.0) {
		direction = direction.zyx;
		direction.xz *= -1.0; // ( -1, v, -u ) neg x
	} else if (face == 4.0) {
		direction = direction.xzy;
		direction.xy *= -1.0; // ( -u, -1, v ) neg y
	} else if (face == 5.0) {
		direction.z *= -1.0; // ( u, v, -1 ) neg z
	}
	return direction;
}

void main() {
	vOutputDirection = getDirection(uv, faceIndex);
	gl_Position = vec4( position, 1.0 );
}
	`}function Nb(){return`
uniform int inputEncoding;
uniform int outputEncoding;

#include <encodings_pars_fragment>

vec4 inputTexelToLinear(vec4 value){
	if(inputEncoding == 0){
		return value;
	}else if(inputEncoding == 1){
		return sRGBToLinear(value);
	}else if(inputEncoding == 2){
		return RGBEToLinear(value);
	}else if(inputEncoding == 3){
		return RGBMToLinear(value, 7.0);
	}else if(inputEncoding == 4){
		return RGBMToLinear(value, 16.0);
	}else if(inputEncoding == 5){
		return RGBDToLinear(value, 256.0);
	}else{
		return GammaToLinear(value, 2.2);
	}
}

vec4 linearToOutputTexel(vec4 value){
	if(outputEncoding == 0){
		return value;
	}else if(outputEncoding == 1){
		return LinearTosRGB(value);
	}else if(outputEncoding == 2){
		return LinearToRGBE(value);
	}else if(outputEncoding == 3){
		return LinearToRGBM(value, 7.0);
	}else if(outputEncoding == 4){
		return LinearToRGBM(value, 16.0);
	}else if(outputEncoding == 5){
		return LinearToRGBD(value, 256.0);
	}else{
		return LinearToGamma(value, 2.2);
	}
}

vec4 envMapTexelToLinear(vec4 color) {
	return inputTexelToLinear(color);
}
	`}function jS(s){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Wu.call(this,s),this.type="catmullrom",this.closed=!0}function Fb(s){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Wu.call(this,s),this.type="catmullrom"}function Bb(s){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Wu.call(this,s),this.type="catmullrom"}ts===void 0&&(Number.EPSILON=Math.pow(2,-52)),Zc===void 0&&(Number.isInteger=function(s){return typeof s=="number"&&isFinite(s)&&Math.floor(s)===s}),Ad===void 0&&(Math.sign=function(s){return 0>s?-1:0<s?1:+s}),!("name"in Function.prototype)&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),Le===void 0&&(Object.assign=function(s){if(s==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(s),i=1;i<arguments.length;i++){var m=arguments[i];if(m!=null)for(var A in m)Object.prototype.hasOwnProperty.call(m,A)&&(t[A]=m[A])}return t}),Le(a.prototype,{addEventListener:function(t,i){this._listeners===void 0&&(this._listeners={});var m=this._listeners;m[t]===void 0&&(m[t]=[]),m[t].indexOf(i)===-1&&m[t].push(i)},hasEventListener:function(t,i){if(this._listeners===void 0)return!1;var m=this._listeners;return m[t]!==void 0&&m[t].indexOf(i)!==-1},removeEventListener:function(t,i){this._listeners!==void 0&&(t=this._listeners[t],t!==void 0&&(i=t.indexOf(i),i!==-1&&t.splice(i,1)))},dispatchEvent:function(t){if(this._listeners!==void 0){var i=this._listeners[t.type];if(i!==void 0){t.target=this,i=i.slice(0);for(var m=0,A=i.length;m<A;m++)i[m].call(this,t)}}}});for(var Yu=[],l2=0;256>l2;l2++)Yu[l2]=(16>l2?"0":"")+l2.toString(16);var Fo={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t=4294967295*Math.random()|0,i=4294967295*Math.random()|0,m=4294967295*Math.random()|0,A=4294967295*Math.random()|0;return(Yu[t&255]+Yu[t>>8&255]+Yu[t>>16&255]+Yu[t>>24&255]+"-"+Yu[i&255]+Yu[i>>8&255]+"-"+Yu[i>>16&15|64]+Yu[i>>24&255]+"-"+Yu[m&63|128]+Yu[m>>8&255]+"-"+Yu[m>>16&255]+Yu[m>>24&255]+Yu[A&255]+Yu[A>>8&255]+Yu[A>>16&255]+Yu[A>>24&255]).toUpperCase()},clamp:function(t,i,m){return Math.max(i,Math.min(m,t))},euclideanModulo:function(t,i){return(t%i+i)%i},mapLinear:function(t,i,m,A,E){return A+(t-i)*(E-A)/(m-i)},lerp:function(t,i,m){return(1-m)*t+m*i},smoothstep:function(t,i,m){return t<=i?0:t>=m?1:(t=(t-i)/(m-i),t*t*(3-2*t))},smootherstep:function(t,i,m){return t<=i?0:t>=m?1:(t=(t-i)/(m-i),t*t*t*(t*(6*t-15)+10))},randInt:function(t,i){return t+Math.floor(Math.random()*(i-t+1))},randFloat:function(t,i){return t+Math.random()*(i-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*Fo.DEG2RAD},radToDeg:function(t){return t*Fo.RAD2DEG},isPowerOfTwo:function(t){return(t&t-1)==0&&t!==0},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,i,m,A,E){var O=Math.cos,F=Math.sin,H=O(m/2);m=F(m/2);var K=O((i+A)/2),$=F((i+A)/2),ue=O((i-A)/2),me=F((i-A)/2);switch(O=O((A-i)/2),i=F((A-i)/2),E){case"XYX":t.set(H*$,m*ue,m*me,H*K);break;case"YZY":t.set(m*me,H*$,m*ue,H*K);break;case"ZXZ":t.set(m*ue,m*me,H*$,H*K);break;case"XZX":t.set(H*$,m*i,m*O,H*K);break;case"YXY":t.set(m*O,H*$,m*i,H*K);break;case"ZYZ":t.set(m*i,m*O,H*$,H*K);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+E)}}};Zi(l.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Le(l.prototype,{isVector2:!0,set:function(t,i){return this.x=t,this.y=i,this},setScalar:function(t){return this.y=this.x=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,i){switch(t){case 0:this.x=i;break;case 1:this.y=i;break;default:throw Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,i){return i!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,i)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,i){return this.x=t.x+i.x,this.y=t.y+i.y,this},addScaledVector:function(t,i){return this.x+=t.x*i,this.y+=t.y*i,this},sub:function(t,i){return i!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,i)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var i=this.x,m=this.y;return t=t.elements,this.x=t[0]*i+t[3]*m+t[6],this.y=t[1]*i+t[4]*m+t[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,i){return this.x=Math.max(t.x,Math.min(i.x,this.x)),this.y=Math.max(t.y,Math.min(i.y,this.y)),this},clampScalar:function(t,i){return this.x=Math.max(t,Math.min(i,this.x)),this.y=Math.max(t,Math.min(i,this.y)),this},clampLength:function(t,i){var m=this.length();return this.divideScalar(m||1).multiplyScalar(Math.max(t,Math.min(i,m)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){return Math.atan2(-this.y,-this.x)+Math.PI},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var i=this.x-t.x;return t=this.y-t.y,i*i+t*t},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,i){return this.x+=(t.x-this.x)*i,this.y+=(t.y-this.y)*i,this},lerpVectors:function(t,i,m){return this.x=t.x+(i.x-t.x)*m,this.y=t.y+(i.y-t.y)*m,this},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,i){return i===void 0&&(i=0),this.x=t[i],this.y=t[i+1],this},toArray:function(t,i){return t===void 0&&(t=[]),i===void 0&&(i=0),t[i]=this.x,t[i+1]=this.y,t},fromBufferAttribute:function(t,i,m){return m!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(i),this.y=t.getY(i),this},rotateAround:function(t,i){var m=Math.cos(i);i=Math.sin(i);var A=this.x-t.x,E=this.y-t.y;return this.x=A*m-E*i+t.x,this.y=A*i+E*m+t.y,this},random:function(){return this.x=Math.random(),this.y=Math.random(),this}}),Le(v.prototype,{isMatrix3:!0,set:function(t,i,m,A,E,O,F,H,K){var $=this.elements;return $[0]=t,$[1]=A,$[2]=F,$[3]=i,$[4]=E,$[5]=H,$[6]=m,$[7]=O,$[8]=K,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return new this.constructor().fromArray(this.elements)},copy:function(t){var i=this.elements;return t=t.elements,i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],this},extractBasis:function(t,i,m){return t.setFromMatrix3Column(this,0),i.setFromMatrix3Column(this,1),m.setFromMatrix3Column(this,2),this},setFromMatrix4:function(t){return t=t.elements,this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,i){var m=t.elements,A=i.elements;i=this.elements,t=m[0];var E=m[3],O=m[6],F=m[1],H=m[4],K=m[7],$=m[2],ue=m[5];m=m[8];var me=A[0],pe=A[3],be=A[6],Te=A[1],it=A[4],_t=A[7],Mt=A[2],It=A[5];return A=A[8],i[0]=t*me+E*Te+O*Mt,i[3]=t*pe+E*it+O*It,i[6]=t*be+E*_t+O*A,i[1]=F*me+H*Te+K*Mt,i[4]=F*pe+H*it+K*It,i[7]=F*be+H*_t+K*A,i[2]=$*me+ue*Te+m*Mt,i[5]=$*pe+ue*it+m*It,i[8]=$*be+ue*_t+m*A,this},multiplyScalar:function(t){var i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=t,i[4]*=t,i[7]*=t,i[2]*=t,i[5]*=t,i[8]*=t,this},determinant:function(){var t=this.elements,i=t[0],m=t[1],A=t[2],E=t[3],O=t[4],F=t[5],H=t[6],K=t[7];return t=t[8],i*O*t-i*F*K-m*E*t+m*F*H+A*E*K-A*O*H},getInverse:function(t,i){i!==void 0&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");var m=t.elements;t=this.elements,i=m[0];var A=m[1],E=m[2],O=m[3],F=m[4],H=m[5],K=m[6],$=m[7];m=m[8];var ue=m*F-H*$,me=H*K-m*O,pe=$*O-F*K,be=i*ue+A*me+E*pe;return be===0?this.set(0,0,0,0,0,0,0,0,0):(be=1/be,t[0]=ue*be,t[1]=(E*$-m*A)*be,t[2]=(H*A-E*F)*be,t[3]=me*be,t[4]=(m*i-E*K)*be,t[5]=(E*O-H*i)*be,t[6]=pe*be,t[7]=(A*K-$*i)*be,t[8]=(F*i-A*O)*be,this)},transpose:function(){var t=this.elements,i=t[1];return t[1]=t[3],t[3]=i,i=t[2],t[2]=t[6],t[6]=i,i=t[5],t[5]=t[7],t[7]=i,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var i=this.elements;return t[0]=i[0],t[1]=i[3],t[2]=i[6],t[3]=i[1],t[4]=i[4],t[5]=i[7],t[6]=i[2],t[7]=i[5],t[8]=i[8],this},setUvTransform:function(t,i,m,A,E,O,F){var H=Math.cos(E);E=Math.sin(E),this.set(m*H,m*E,-m*(H*O+E*F)+O+t,-A*E,A*H,-A*(-E*O+H*F)+F+i,0,0,1)},scale:function(t,i){var m=this.elements;return m[0]*=t,m[3]*=t,m[6]*=t,m[1]*=i,m[4]*=i,m[7]*=i,this},rotate:function(t){var i=Math.cos(t);t=Math.sin(t);var m=this.elements,A=m[0],E=m[3],O=m[6],F=m[1],H=m[4],K=m[7];return m[0]=i*A+t*F,m[3]=i*E+t*H,m[6]=i*O+t*K,m[1]=-t*A+i*F,m[4]=-t*E+i*H,m[7]=-t*O+i*K,this},translate:function(t,i){var m=this.elements;return m[0]+=t*m[2],m[3]+=t*m[5],m[6]+=t*m[8],m[1]+=i*m[2],m[4]+=i*m[5],m[7]+=i*m[8],this},equals:function(t){var i=this.elements;t=t.elements;for(var m=0;9>m;m++)if(i[m]!==t[m])return!1;return!0},fromArray:function(t,i){i===void 0&&(i=0);for(var m=0;9>m;m++)this.elements[m]=t[m+i];return this},toArray:function(t,i){t===void 0&&(t=[]),i===void 0&&(i=0);var m=this.elements;return t[i]=m[0],t[i+1]=m[1],t[i+2]=m[2],t[i+3]=m[3],t[i+4]=m[4],t[i+5]=m[5],t[i+6]=m[6],t[i+7]=m[7],t[i+8]=m[8],t}});var FC,yy={getDataURL:function(t){if(typeof HTMLCanvasElement=="undefined")return t.src;if(!(t instanceof HTMLCanvasElement)){FC===void 0&&(FC=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),FC.width=t.width,FC.height=t.height;var i=FC.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),t=FC}return 2048<t.width||2048<t.height?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},j_=0;b.DEFAULT_IMAGE=void 0,b.DEFAULT_MAPPING=300,b.prototype=Le(Oe(a.prototype),{constructor:b,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var i=t===void 0||typeof t=="string";if(!i&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];var m={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){var A=this.image;if(A.uuid===void 0&&(A.uuid=Fo.generateUUID()),!i&&t.images[A.uuid]===void 0){if(Array.isArray(A))for(var E=[],O=0,F=A.length;O<F;O++)E.push(yy.getDataURL(A[O]));else E=yy.getDataURL(A);t.images[A.uuid]={uuid:A.uuid,url:E}}m.image=A.uuid}return i||(t.textures[this.uuid]=m),m},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping!==300)return t;if(t.applyMatrix3(this.matrix),0>t.x||1<t.x)switch(this.wrapS){case 1e3:t.x-=Math.floor(t.x);break;case 1001:t.x=0>t.x?0:1;break;case 1002:t.x=Math.abs(Math.floor(t.x)%2)===1?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(0>t.y||1<t.y)switch(this.wrapT){case 1e3:t.y-=Math.floor(t.y);break;case 1001:t.y=0>t.y?0:1;break;case 1002:t.y=Math.abs(Math.floor(t.y)%2)===1?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(b.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}}),Zi(M.prototype,{width:{get:function(){return this.z},set:function(t){this.z=t}},height:{get:function(){return this.w},set:function(t){this.w=t}}}),Le(M.prototype,{isVector4:!0,set:function(t,i,m,A){return this.x=t,this.y=i,this.z=m,this.w=A,this},setScalar:function(t){return this.w=this.z=this.y=this.x=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,i){switch(t){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;case 3:this.w=i;break;default:throw Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this},add:function(t,i){return i!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,i)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,i){return this.x=t.x+i.x,this.y=t.y+i.y,this.z=t.z+i.z,this.w=t.w+i.w,this},addScaledVector:function(t,i){return this.x+=t.x*i,this.y+=t.y*i,this.z+=t.z*i,this.w+=t.w*i,this},sub:function(t,i){return i!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,i)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this.z=t.z-i.z,this.w=t.w-i.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var i=this.x,m=this.y,A=this.z,E=this.w;return t=t.elements,this.x=t[0]*i+t[4]*m+t[8]*A+t[12]*E,this.y=t[1]*i+t[5]*m+t[9]*A+t[13]*E,this.z=t[2]*i+t[6]*m+t[10]*A+t[14]*E,this.w=t[3]*i+t[7]*m+t[11]*A+t[15]*E,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var i=Math.sqrt(1-t.w*t.w);return 1e-4>i?(this.x=1,this.z=this.y=0):(this.x=t.x/i,this.y=t.y/i,this.z=t.z/i),this},setAxisAngleFromRotationMatrix:function(t){t=t.elements;var i=t[0],m=t[4],A=t[8],E=t[1],O=t[5],F=t[9],H=t[2],K=t[6],$=t[10];return .01>Math.abs(m-E)&&.01>Math.abs(A-H)&&.01>Math.abs(F-K)?.1>Math.abs(m+E)&&.1>Math.abs(A+H)&&.1>Math.abs(F+K)&&.1>Math.abs(i+O+$-3)?(this.set(1,0,0,0),this):(t=Math.PI,i=(i+1)/2,O=(O+1)/2,$=($+1)/2,m=(m+E)/4,A=(A+H)/4,F=(F+K)/4,i>O&&i>$?.01>i?(K=0,m=H=.707106781):(K=Math.sqrt(i),H=m/K,m=A/K):O>$?.01>O?(K=.707106781,H=0,m=.707106781):(H=Math.sqrt(O),K=m/H,m=F/H):.01>$?(H=K=.707106781,m=0):(m=Math.sqrt($),K=A/m,H=F/m),this.set(K,H,m,t),this):(t=Math.sqrt((K-F)*(K-F)+(A-H)*(A-H)+(E-m)*(E-m)),.001>Math.abs(t)&&(t=1),this.x=(K-F)/t,this.y=(A-H)/t,this.z=(E-m)/t,this.w=Math.acos((i+O+$-1)/2),this)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,i){return this.x=Math.max(t.x,Math.min(i.x,this.x)),this.y=Math.max(t.y,Math.min(i.y,this.y)),this.z=Math.max(t.z,Math.min(i.z,this.z)),this.w=Math.max(t.w,Math.min(i.w,this.w)),this},clampScalar:function(t,i){return this.x=Math.max(t,Math.min(i,this.x)),this.y=Math.max(t,Math.min(i,this.y)),this.z=Math.max(t,Math.min(i,this.z)),this.w=Math.max(t,Math.min(i,this.w)),this},clampLength:function(t,i){var m=this.length();return this.divideScalar(m||1).multiplyScalar(Math.max(t,Math.min(i,m)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,i){return this.x+=(t.x-this.x)*i,this.y+=(t.y-this.y)*i,this.z+=(t.z-this.z)*i,this.w+=(t.w-this.w)*i,this},lerpVectors:function(t,i,m){return this.x=t.x+(i.x-t.x)*m,this.y=t.y+(i.y-t.y)*m,this.z=t.z+(i.z-t.z)*m,this.w=t.w+(i.w-t.w)*m,this},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,i){return i===void 0&&(i=0),this.x=t[i],this.y=t[i+1],this.z=t[i+2],this.w=t[i+3],this},toArray:function(t,i){return t===void 0&&(t=[]),i===void 0&&(i=0),t[i]=this.x,t[i+1]=this.y,t[i+2]=this.z,t[i+3]=this.w,t},fromBufferAttribute:function(t,i,m){return m!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(i),this.y=t.getY(i),this.z=t.getZ(i),this.w=t.getW(i),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}),R.prototype=Le(Oe(a.prototype),{constructor:R,isWebGLRenderTarget:!0,setSize:function(t,i){(this.width!==t||this.height!==i)&&(this.width=t,this.height=i,this.texture.image.width=t,this.texture.image.height=i,this.dispose()),this.viewport.set(0,0,t,i),this.scissor.set(0,0,t,i)},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),k.prototype=Le(Oe(R.prototype),{constructor:k,isWebGLMultisampleRenderTarget:!0,copy:function(t){return R.prototype.copy.call(this,t),this.samples=t.samples,this}}),Le(X,{slerp:function(t,i,m,A){return m.copy(t).slerp(i,A)},slerpFlat:function(t,i,m,A,E,O,F){var H=m[A+0],K=m[A+1],$=m[A+2];m=m[A+3],A=E[O+0];var ue=E[O+1],me=E[O+2];if(E=E[O+3],m!==E||H!==A||K!==ue||$!==me){O=1-F;var pe=H*A+K*ue+$*me+m*E,be=0<=pe?1:-1,Te=1-pe*pe;Te>ts&&(Te=Math.sqrt(Te),pe=Math.atan2(Te,pe*be),O=Math.sin(O*pe)/Te,F=Math.sin(F*pe)/Te),be*=F,H=H*O+A*be,K=K*O+ue*be,$=$*O+me*be,m=m*O+E*be,O===1-F&&(F=1/Math.sqrt(H*H+K*K+$*$+m*m),H*=F,K*=F,$*=F,m*=F)}t[i]=H,t[i+1]=K,t[i+2]=$,t[i+3]=m},multiplyQuaternionsFlat:function(t,i,m,A,E,O){var F=m[A],H=m[A+1],K=m[A+2];m=m[A+3],A=E[O];var $=E[O+1],ue=E[O+2];return E=E[O+3],t[i]=F*E+m*A+H*ue-K*$,t[i+1]=H*E+m*$+K*A-F*ue,t[i+2]=K*E+m*ue+F*$-H*A,t[i+3]=m*E-F*A-H*$-K*ue,t}}),Zi(X.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()}}}),Le(X.prototype,{isQuaternion:!0,set:function(t,i,m,A){return this._x=t,this._y=i,this._z=m,this._w=A,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this},setFromEuler:function(t,i){if(!t||!t.isEuler)throw Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var m=t._x,A=t._y,E=t._z;t=t.order;var O=Math.cos,F=Math.sin,H=O(m/2),K=O(A/2);switch(O=O(E/2),m=F(m/2),A=F(A/2),E=F(E/2),t){case"XYZ":this._x=m*K*O+H*A*E,this._y=H*A*O-m*K*E,this._z=H*K*E+m*A*O,this._w=H*K*O-m*A*E;break;case"YXZ":this._x=m*K*O+H*A*E,this._y=H*A*O-m*K*E,this._z=H*K*E-m*A*O,this._w=H*K*O+m*A*E;break;case"ZXY":this._x=m*K*O-H*A*E,this._y=H*A*O+m*K*E,this._z=H*K*E+m*A*O,this._w=H*K*O-m*A*E;break;case"ZYX":this._x=m*K*O-H*A*E,this._y=H*A*O+m*K*E,this._z=H*K*E-m*A*O,this._w=H*K*O+m*A*E;break;case"YZX":this._x=m*K*O+H*A*E,this._y=H*A*O+m*K*E,this._z=H*K*E-m*A*O,this._w=H*K*O-m*A*E;break;case"XZY":this._x=m*K*O-H*A*E,this._y=H*A*O-m*K*E,this._z=H*K*E+m*A*O,this._w=H*K*O+m*A*E;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+t)}return i!==!1&&this._onChangeCallback(),this},setFromAxisAngle:function(t,i){i/=2;var m=Math.sin(i);return this._x=t.x*m,this._y=t.y*m,this._z=t.z*m,this._w=Math.cos(i),this._onChangeCallback(),this},setFromRotationMatrix:function(t){var i=t.elements,m=i[0];t=i[4];var A=i[8],E=i[1],O=i[5],F=i[9],H=i[2],K=i[6];i=i[10];var $=m+O+i;return 0<$?(m=.5/Math.sqrt($+1),this._w=.25/m,this._x=(K-F)*m,this._y=(A-H)*m,this._z=(E-t)*m):m>O&&m>i?(m=2*Math.sqrt(1+m-O-i),this._w=(K-F)/m,this._x=.25*m,this._y=(t+E)/m,this._z=(A+H)/m):O>i?(m=2*Math.sqrt(1+O-m-i),this._w=(A-H)/m,this._x=(t+E)/m,this._y=.25*m,this._z=(F+K)/m):(m=2*Math.sqrt(1+i-m-O),this._w=(E-t)/m,this._x=(A+H)/m,this._y=(F+K)/m,this._z=.25*m),this._onChangeCallback(),this},setFromUnitVectors:function(t,i){var m=t.dot(i)+1;return 1e-6>m?(m=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0):(this._x=0,this._y=-t.z,this._z=t.y)):(this._x=t.y*i.z-t.z*i.y,this._y=t.z*i.x-t.x*i.z,this._z=t.x*i.y-t.y*i.x),this._w=m,this.normalize()},angleTo:function(t){return 2*Math.acos(Math.abs(Fo.clamp(this.dot(t),-1,1)))},rotateTowards:function(t,i){var m=this.angleTo(t);return m===0?this:(this.slerp(t,Math.min(1,i/m)),this)},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return t===0?(this._z=this._y=this._x=0,this._w=1):(t=1/t,this._x*=t,this._y*=t,this._z*=t,this._w*=t),this._onChangeCallback(),this},multiply:function(t,i){return i!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,i)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,i){var m=t._x,A=t._y,E=t._z;t=t._w;var O=i._x,F=i._y,H=i._z;return i=i._w,this._x=m*i+t*O+A*H-E*F,this._y=A*i+t*F+E*O-m*H,this._z=E*i+t*H+m*F-A*O,this._w=t*i-m*O-A*F-E*H,this._onChangeCallback(),this},slerp:function(t,i){if(i===0)return this;if(i===1)return this.copy(t);var m=this._x,A=this._y,E=this._z,O=this._w,F=O*t._w+m*t._x+A*t._y+E*t._z;if(0>F?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,F=-F):this.copy(t),1<=F)return this._w=O,this._x=m,this._y=A,this._z=E,this;if(t=1-F*F,t<=ts)return F=1-i,this._w=F*O+i*this._w,this._x=F*m+i*this._x,this._y=F*A+i*this._y,this._z=F*E+i*this._z,this.normalize(),this._onChangeCallback(),this;t=Math.sqrt(t);var H=Math.atan2(t,F);return F=Math.sin((1-i)*H)/t,i=Math.sin(i*H)/t,this._w=O*F+this._w*i,this._x=m*F+this._x*i,this._y=A*F+this._y*i,this._z=E*F+this._z*i,this._onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,i){return i===void 0&&(i=0),this._x=t[i],this._y=t[i+1],this._z=t[i+2],this._w=t[i+3],this._onChangeCallback(),this},toArray:function(t,i){return t===void 0&&(t=[]),i===void 0&&(i=0),t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._w,t},fromBufferAttribute:function(t,i){return this._x=t.getX(i),this._y=t.getY(i),this._z=t.getZ(i),this._w=t.getW(i),this},_onChange:function(t){return this._onChangeCallback=t,this},_onChangeCallback:function(){}});var Tw=new Y,US=new X;Le(Y.prototype,{isVector3:!0,set:function(t,i,m){return this.x=t,this.y=i,this.z=m,this},setScalar:function(t){return this.z=this.y=this.x=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,i){switch(t){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;default:throw Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,i){return i!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,i)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,i){return this.x=t.x+i.x,this.y=t.y+i.y,this.z=t.z+i.z,this},addScaledVector:function(t,i){return this.x+=t.x*i,this.y+=t.y*i,this.z+=t.z*i,this},sub:function(t,i){return i!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,i)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this.z=t.z-i.z,this},multiply:function(t,i){return i!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,i)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,i){return this.x=t.x*i.x,this.y=t.y*i.y,this.z=t.z*i.z,this},applyEuler:function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(US.setFromEuler(t))},applyAxisAngle:function(t,i){return this.applyQuaternion(US.setFromAxisAngle(t,i))},applyMatrix3:function(t){var i=this.x,m=this.y,A=this.z;return t=t.elements,this.x=t[0]*i+t[3]*m+t[6]*A,this.y=t[1]*i+t[4]*m+t[7]*A,this.z=t[2]*i+t[5]*m+t[8]*A,this},applyNormalMatrix:function(t){return this.applyMatrix3(t).normalize()},applyMatrix4:function(t){var i=this.x,m=this.y,A=this.z;t=t.elements;var E=1/(t[3]*i+t[7]*m+t[11]*A+t[15]);return this.x=(t[0]*i+t[4]*m+t[8]*A+t[12])*E,this.y=(t[1]*i+t[5]*m+t[9]*A+t[13])*E,this.z=(t[2]*i+t[6]*m+t[10]*A+t[14])*E,this},applyQuaternion:function(t){var i=this.x,m=this.y,A=this.z,E=t.x,O=t.y,F=t.z;t=t.w;var H=t*i+O*A-F*m,K=t*m+F*i-E*A,$=t*A+E*m-O*i;return i=-E*i-O*m-F*A,this.x=H*t+i*-E+K*-F-$*-O,this.y=K*t+i*-O+$*-E-H*-F,this.z=$*t+i*-F+H*-O-K*-E,this},project:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},unproject:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)},transformDirection:function(t){var i=this.x,m=this.y,A=this.z;return t=t.elements,this.x=t[0]*i+t[4]*m+t[8]*A,this.y=t[1]*i+t[5]*m+t[9]*A,this.z=t[2]*i+t[6]*m+t[10]*A,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,i){return this.x=Math.max(t.x,Math.min(i.x,this.x)),this.y=Math.max(t.y,Math.min(i.y,this.y)),this.z=Math.max(t.z,Math.min(i.z,this.z)),this},clampScalar:function(t,i){return this.x=Math.max(t,Math.min(i,this.x)),this.y=Math.max(t,Math.min(i,this.y)),this.z=Math.max(t,Math.min(i,this.z)),this},clampLength:function(t,i){var m=this.length();return this.divideScalar(m||1).multiplyScalar(Math.max(t,Math.min(i,m)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,i){return this.x+=(t.x-this.x)*i,this.y+=(t.y-this.y)*i,this.z+=(t.z-this.z)*i,this},lerpVectors:function(t,i,m){return this.x=t.x+(i.x-t.x)*m,this.y=t.y+(i.y-t.y)*m,this.z=t.z+(i.z-t.z)*m,this},cross:function(t,i){return i!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,i)):this.crossVectors(this,t)},crossVectors:function(t,i){var m=t.x,A=t.y;t=t.z;var E=i.x,O=i.y;return i=i.z,this.x=A*i-t*O,this.y=t*E-m*i,this.z=m*O-A*E,this},projectOnVector:function(t){var i=t.lengthSq();return i===0?this.set(0,0,0):(i=t.dot(this)/i,this.copy(t).multiplyScalar(i))},projectOnPlane:function(t){return Tw.copy(this).projectOnVector(t),this.sub(Tw)},reflect:function(t){return this.sub(Tw.copy(t).multiplyScalar(2*this.dot(t)))},angleTo:function(t){var i=Math.sqrt(this.lengthSq()*t.lengthSq());return i===0?Math.PI/2:(t=this.dot(t)/i,Math.acos(Fo.clamp(t,-1,1)))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var i=this.x-t.x,m=this.y-t.y;return t=this.z-t.z,i*i+m*m+t*t},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)},setFromSphericalCoords:function(t,i,m){var A=Math.sin(i)*t;return this.x=A*Math.sin(m),this.y=Math.cos(i)*t,this.z=A*Math.cos(m),this},setFromCylindrical:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)},setFromCylindricalCoords:function(t,i,m){return this.x=t*Math.sin(i),this.y=m,this.z=t*Math.cos(i),this},setFromMatrixPosition:function(t){return t=t.elements,this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(t){var i=this.setFromMatrixColumn(t,0).length(),m=this.setFromMatrixColumn(t,1).length();return t=this.setFromMatrixColumn(t,2).length(),this.x=i,this.y=m,this.z=t,this},setFromMatrixColumn:function(t,i){return this.fromArray(t.elements,4*i)},setFromMatrix3Column:function(t,i){return this.fromArray(t.elements,3*i)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,i){return i===void 0&&(i=0),this.x=t[i],this.y=t[i+1],this.z=t[i+2],this},toArray:function(t,i){return t===void 0&&(t=[]),i===void 0&&(i=0),t[i]=this.x,t[i+1]=this.y,t[i+2]=this.z,t},fromBufferAttribute:function(t,i,m){return m!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(i),this.y=t.getY(i),this.z=t.getZ(i),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}});var BC=new Y,Fp=new ie,kS=new Y(0,0,0),U_=new Y(1,1,1),xy=new Y,u2=new Y,kf=new Y;Le(ie.prototype,{isMatrix4:!0,set:function(t,i,m,A,E,O,F,H,K,$,ue,me,pe,be,Te,it){var _t=this.elements;return _t[0]=t,_t[4]=i,_t[8]=m,_t[12]=A,_t[1]=E,_t[5]=O,_t[9]=F,_t[13]=H,_t[2]=K,_t[6]=$,_t[10]=ue,_t[14]=me,_t[3]=pe,_t[7]=be,_t[11]=Te,_t[15]=it,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return new ie().fromArray(this.elements)},copy:function(t){var i=this.elements;return t=t.elements,i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],i[9]=t[9],i[10]=t[10],i[11]=t[11],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15],this},copyPosition:function(t){var i=this.elements;return t=t.elements,i[12]=t[12],i[13]=t[13],i[14]=t[14],this},extractBasis:function(t,i,m){return t.setFromMatrixColumn(this,0),i.setFromMatrixColumn(this,1),m.setFromMatrixColumn(this,2),this},makeBasis:function(t,i,m){return this.set(t.x,i.x,m.x,0,t.y,i.y,m.y,0,t.z,i.z,m.z,0,0,0,0,1),this},extractRotation:function(t){var i=this.elements,m=t.elements,A=1/BC.setFromMatrixColumn(t,0).length(),E=1/BC.setFromMatrixColumn(t,1).length();return t=1/BC.setFromMatrixColumn(t,2).length(),i[0]=m[0]*A,i[1]=m[1]*A,i[2]=m[2]*A,i[3]=0,i[4]=m[4]*E,i[5]=m[5]*E,i[6]=m[6]*E,i[7]=0,i[8]=m[8]*t,i[9]=m[9]*t,i[10]=m[10]*t,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this},makeRotationFromEuler:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var i=this.elements,m=t.x,A=t.y,E=t.z,O=Math.cos(m);m=Math.sin(m);var F=Math.cos(A);A=Math.sin(A);var H=Math.cos(E);if(E=Math.sin(E),t.order==="XYZ"){t=O*H;var K=O*E,$=m*H,ue=m*E;i[0]=F*H,i[4]=-F*E,i[8]=A,i[1]=K+$*A,i[5]=t-ue*A,i[9]=-m*F,i[2]=ue-t*A,i[6]=$+K*A,i[10]=O*F}else t.order==="YXZ"?(t=F*H,K=F*E,$=A*H,ue=A*E,i[0]=t+ue*m,i[4]=$*m-K,i[8]=O*A,i[1]=O*E,i[5]=O*H,i[9]=-m,i[2]=K*m-$,i[6]=ue+t*m,i[10]=O*F):t.order==="ZXY"?(t=F*H,K=F*E,$=A*H,ue=A*E,i[0]=t-ue*m,i[4]=-O*E,i[8]=$+K*m,i[1]=K+$*m,i[5]=O*H,i[9]=ue-t*m,i[2]=-O*A,i[6]=m,i[10]=O*F):t.order==="ZYX"?(t=O*H,K=O*E,$=m*H,ue=m*E,i[0]=F*H,i[4]=$*A-K,i[8]=t*A+ue,i[1]=F*E,i[5]=ue*A+t,i[9]=K*A-$,i[2]=-A,i[6]=m*F,i[10]=O*F):t.order==="YZX"?(t=O*F,K=O*A,$=m*F,ue=m*A,i[0]=F*H,i[4]=ue-t*E,i[8]=$*E+K,i[1]=E,i[5]=O*H,i[9]=-m*H,i[2]=-A*H,i[6]=K*E+$,i[10]=t-ue*E):t.order==="XZY"&&(t=O*F,K=O*A,$=m*F,ue=m*A,i[0]=F*H,i[4]=-E,i[8]=A*H,i[1]=t*E+ue,i[5]=O*H,i[9]=K*E-$,i[2]=$*E-K,i[6]=m*H,i[10]=ue*E+t);return i[3]=0,i[7]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this},makeRotationFromQuaternion:function(t){return this.compose(kS,t,U_)},lookAt:function(t,i,m){var A=this.elements;return kf.subVectors(t,i),kf.lengthSq()===0&&(kf.z=1),kf.normalize(),xy.crossVectors(m,kf),xy.lengthSq()===0&&(Math.abs(m.z)===1?kf.x+=1e-4:kf.z+=1e-4,kf.normalize(),xy.crossVectors(m,kf)),xy.normalize(),u2.crossVectors(kf,xy),A[0]=xy.x,A[4]=u2.x,A[8]=kf.x,A[1]=xy.y,A[5]=u2.y,A[9]=kf.y,A[2]=xy.z,A[6]=u2.z,A[10]=kf.z,this},multiply:function(t,i){return i!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,i)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,i){var m=t.elements,A=i.elements;i=this.elements,t=m[0];var E=m[4],O=m[8],F=m[12],H=m[1],K=m[5],$=m[9],ue=m[13],me=m[2],pe=m[6],be=m[10],Te=m[14],it=m[3],_t=m[7],Mt=m[11];m=m[15];var It=A[0],Bt=A[4],hr=A[8],qt=A[12],Pt=A[1],Br=A[5],Ht=A[9],cn=A[13],In=A[2],Ur=A[6],Mi=A[10],Rn=A[14],yi=A[3],Di=A[7],zi=A[11];return A=A[15],i[0]=t*It+E*Pt+O*In+F*yi,i[4]=t*Bt+E*Br+O*Ur+F*Di,i[8]=t*hr+E*Ht+O*Mi+F*zi,i[12]=t*qt+E*cn+O*Rn+F*A,i[1]=H*It+K*Pt+$*In+ue*yi,i[5]=H*Bt+K*Br+$*Ur+ue*Di,i[9]=H*hr+K*Ht+$*Mi+ue*zi,i[13]=H*qt+K*cn+$*Rn+ue*A,i[2]=me*It+pe*Pt+be*In+Te*yi,i[6]=me*Bt+pe*Br+be*Ur+Te*Di,i[10]=me*hr+pe*Ht+be*Mi+Te*zi,i[14]=me*qt+pe*cn+be*Rn+Te*A,i[3]=it*It+_t*Pt+Mt*In+m*yi,i[7]=it*Bt+_t*Br+Mt*Ur+m*Di,i[11]=it*hr+_t*Ht+Mt*Mi+m*zi,i[15]=it*qt+_t*cn+Mt*Rn+m*A,this},multiplyScalar:function(t){var i=this.elements;return i[0]*=t,i[4]*=t,i[8]*=t,i[12]*=t,i[1]*=t,i[5]*=t,i[9]*=t,i[13]*=t,i[2]*=t,i[6]*=t,i[10]*=t,i[14]*=t,i[3]*=t,i[7]*=t,i[11]*=t,i[15]*=t,this},determinant:function(){var t=this.elements,i=t[0],m=t[4],A=t[8],E=t[12],O=t[1],F=t[5],H=t[9],K=t[13],$=t[2],ue=t[6],me=t[10],pe=t[14];return t[3]*(+E*H*ue-A*K*ue-E*F*me+m*K*me+A*F*pe-m*H*pe)+t[7]*(+i*H*pe-i*K*me+E*O*me-A*O*pe+A*K*$-E*H*$)+t[11]*(+i*K*ue-i*F*pe-E*O*ue+m*O*pe+E*F*$-m*K*$)+t[15]*(-A*F*$-i*H*ue+i*F*me+A*O*ue-m*O*me+m*H*$)},transpose:function(){var t=this.elements,i=t[1];return t[1]=t[4],t[4]=i,i=t[2],t[2]=t[8],t[8]=i,i=t[6],t[6]=t[9],t[9]=i,i=t[3],t[3]=t[12],t[12]=i,i=t[7],t[7]=t[13],t[13]=i,i=t[11],t[11]=t[14],t[14]=i,this},setPosition:function(t,i,m){var A=this.elements;return t.isVector3?(A[12]=t.x,A[13]=t.y,A[14]=t.z):(A[12]=t,A[13]=i,A[14]=m),this},getInverse:function(t,i){i!==void 0&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate."),i=this.elements;var m=t.elements;t=m[0];var A=m[1],E=m[2],O=m[3],F=m[4],H=m[5],K=m[6],$=m[7],ue=m[8],me=m[9],pe=m[10],be=m[11],Te=m[12],it=m[13],_t=m[14];m=m[15];var Mt=me*_t*$-it*pe*$+it*K*be-H*_t*be-me*K*m+H*pe*m,It=Te*pe*$-ue*_t*$-Te*K*be+F*_t*be+ue*K*m-F*pe*m,Bt=ue*it*$-Te*me*$+Te*H*be-F*it*be-ue*H*m+F*me*m,hr=Te*me*K-ue*it*K-Te*H*pe+F*it*pe+ue*H*_t-F*me*_t,qt=t*Mt+A*It+E*Bt+O*hr;return qt===0?this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0):(qt=1/qt,i[0]=Mt*qt,i[1]=(it*pe*O-me*_t*O-it*E*be+A*_t*be+me*E*m-A*pe*m)*qt,i[2]=(H*_t*O-it*K*O+it*E*$-A*_t*$-H*E*m+A*K*m)*qt,i[3]=(me*K*O-H*pe*O-me*E*$+A*pe*$+H*E*be-A*K*be)*qt,i[4]=It*qt,i[5]=(ue*_t*O-Te*pe*O+Te*E*be-t*_t*be-ue*E*m+t*pe*m)*qt,i[6]=(Te*K*O-F*_t*O-Te*E*$+t*_t*$+F*E*m-t*K*m)*qt,i[7]=(F*pe*O-ue*K*O+ue*E*$-t*pe*$-F*E*be+t*K*be)*qt,i[8]=Bt*qt,i[9]=(Te*me*O-ue*it*O-Te*A*be+t*it*be+ue*A*m-t*me*m)*qt,i[10]=(F*it*O-Te*H*O+Te*A*$-t*it*$-F*A*m+t*H*m)*qt,i[11]=(ue*H*O-F*me*O-ue*A*$+t*me*$+F*A*be-t*H*be)*qt,i[12]=hr*qt,i[13]=(ue*it*E-Te*me*E+Te*A*pe-t*it*pe-ue*A*_t+t*me*_t)*qt,i[14]=(Te*H*E-F*it*E-Te*A*K+t*it*K+F*A*_t-t*H*_t)*qt,i[15]=(F*me*E-ue*H*E+ue*A*K-t*me*K-F*A*pe+t*H*pe)*qt,this)},scale:function(t){var i=this.elements,m=t.x,A=t.y;return t=t.z,i[0]*=m,i[4]*=A,i[8]*=t,i[1]*=m,i[5]*=A,i[9]*=t,i[2]*=m,i[6]*=A,i[10]*=t,i[3]*=m,i[7]*=A,i[11]*=t,this},getMaxScaleOnAxis:function(){var t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))},makeTranslation:function(t,i,m){return this.set(1,0,0,t,0,1,0,i,0,0,1,m,0,0,0,1),this},makeRotationX:function(t){var i=Math.cos(t);return t=Math.sin(t),this.set(1,0,0,0,0,i,-t,0,0,t,i,0,0,0,0,1),this},makeRotationY:function(t){var i=Math.cos(t);return t=Math.sin(t),this.set(i,0,t,0,0,1,0,0,-t,0,i,0,0,0,0,1),this},makeRotationZ:function(t){var i=Math.cos(t);return t=Math.sin(t),this.set(i,-t,0,0,t,i,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,i){var m=Math.cos(i);i=Math.sin(i);var A=1-m,E=t.x,O=t.y;t=t.z;var F=A*E,H=A*O;return this.set(F*E+m,F*O-i*t,F*t+i*O,0,F*O+i*t,H*O+m,H*t-i*E,0,F*t-i*O,H*t+i*E,A*t*t+m,0,0,0,0,1),this},makeScale:function(t,i,m){return this.set(t,0,0,0,0,i,0,0,0,0,m,0,0,0,0,1),this},makeShear:function(t,i,m){return this.set(1,i,m,0,t,1,m,0,t,i,1,0,0,0,0,1),this},compose:function(t,i,m){var A=this.elements,E=i._x,O=i._y,F=i._z,H=i._w,K=E+E,$=O+O,ue=F+F;i=E*K;var me=E*$;E*=ue;var pe=O*$;O*=ue,F*=ue,K*=H,$*=H,H*=ue,ue=m.x;var be=m.y;return m=m.z,A[0]=(1-(pe+F))*ue,A[1]=(me+H)*ue,A[2]=(E-$)*ue,A[3]=0,A[4]=(me-H)*be,A[5]=(1-(i+F))*be,A[6]=(O+K)*be,A[7]=0,A[8]=(E+$)*m,A[9]=(O-K)*m,A[10]=(1-(i+pe))*m,A[11]=0,A[12]=t.x,A[13]=t.y,A[14]=t.z,A[15]=1,this},decompose:function(t,i,m){var A=this.elements,E=BC.set(A[0],A[1],A[2]).length(),O=BC.set(A[4],A[5],A[6]).length(),F=BC.set(A[8],A[9],A[10]).length();0>this.determinant()&&(E=-E),t.x=A[12],t.y=A[13],t.z=A[14],Fp.copy(this),t=1/E,A=1/O;var H=1/F;return Fp.elements[0]*=t,Fp.elements[1]*=t,Fp.elements[2]*=t,Fp.elements[4]*=A,Fp.elements[5]*=A,Fp.elements[6]*=A,Fp.elements[8]*=H,Fp.elements[9]*=H,Fp.elements[10]*=H,i.setFromRotationMatrix(Fp),m.x=E,m.y=O,m.z=F,this},makePerspective:function(t,i,m,A,E,O){O===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var F=this.elements;return F[0]=2*E/(i-t),F[4]=0,F[8]=(i+t)/(i-t),F[12]=0,F[1]=0,F[5]=2*E/(m-A),F[9]=(m+A)/(m-A),F[13]=0,F[2]=0,F[6]=0,F[10]=-(O+E)/(O-E),F[14]=-2*O*E/(O-E),F[3]=0,F[7]=0,F[11]=-1,F[15]=0,this},makeOrthographic:function(t,i,m,A,E,O){var F=this.elements,H=1/(i-t),K=1/(m-A),$=1/(O-E);return F[0]=2*H,F[4]=0,F[8]=0,F[12]=-((i+t)*H),F[1]=0,F[5]=2*K,F[9]=0,F[13]=-((m+A)*K),F[2]=0,F[6]=0,F[10]=-2*$,F[14]=-((O+E)*$),F[3]=0,F[7]=0,F[11]=0,F[15]=1,this},equals:function(t){var i=this.elements;t=t.elements;for(var m=0;16>m;m++)if(i[m]!==t[m])return!1;return!0},fromArray:function(t,i){i===void 0&&(i=0);for(var m=0;16>m;m++)this.elements[m]=t[m+i];return this},toArray:function(t,i){t===void 0&&(t=[]),i===void 0&&(i=0);var m=this.elements;return t[i]=m[0],t[i+1]=m[1],t[i+2]=m[2],t[i+3]=m[3],t[i+4]=m[4],t[i+5]=m[5],t[i+6]=m[6],t[i+7]=m[7],t[i+8]=m[8],t[i+9]=m[9],t[i+10]=m[10],t[i+11]=m[11],t[i+12]=m[12],t[i+13]=m[13],t[i+14]=m[14],t[i+15]=m[15],t}});var HS=new ie,VS=new X;le.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" "),le.DefaultOrder="XYZ",Zi(le.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this._onChangeCallback()}}}),Le(le.prototype,{isEuler:!0,set:function(t,i,m,A){return this._x=t,this._y=i,this._z=m,this._order=A||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this},setFromRotationMatrix:function(t,i,m){var A=Fo.clamp,E=t.elements;t=E[0];var O=E[4],F=E[8],H=E[1],K=E[5],$=E[9],ue=E[2],me=E[6];switch(E=E[10],i=i||this._order,i){case"XYZ":this._y=Math.asin(A(F,-1,1)),.9999999>Math.abs(F)?(this._x=Math.atan2(-$,E),this._z=Math.atan2(-O,t)):(this._x=Math.atan2(me,K),this._z=0);break;case"YXZ":this._x=Math.asin(-A($,-1,1)),.9999999>Math.abs($)?(this._y=Math.atan2(F,E),this._z=Math.atan2(H,K)):(this._y=Math.atan2(-ue,t),this._z=0);break;case"ZXY":this._x=Math.asin(A(me,-1,1)),.9999999>Math.abs(me)?(this._y=Math.atan2(-ue,E),this._z=Math.atan2(-O,K)):(this._y=0,this._z=Math.atan2(H,t));break;case"ZYX":this._y=Math.asin(-A(ue,-1,1)),.9999999>Math.abs(ue)?(this._x=Math.atan2(me,E),this._z=Math.atan2(H,t)):(this._x=0,this._z=Math.atan2(-O,K));break;case"YZX":this._z=Math.asin(A(H,-1,1)),.9999999>Math.abs(H)?(this._x=Math.atan2(-$,K),this._y=Math.atan2(-ue,t)):(this._x=0,this._y=Math.atan2(F,E));break;case"XZY":this._z=Math.asin(-A(O,-1,1)),.9999999>Math.abs(O)?(this._x=Math.atan2(me,K),this._y=Math.atan2(F,t)):(this._x=Math.atan2(-$,E),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,m!==!1&&this._onChangeCallback(),this},setFromQuaternion:function(t,i,m){return HS.makeRotationFromQuaternion(t),this.setFromRotationMatrix(HS,i,m)},setFromVector3:function(t,i){return this.set(t.x,t.y,t.z,i||this._order)},reorder:function(t){return VS.setFromEuler(this),this.setFromQuaternion(VS,t)},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this},toArray:function(t,i){return t===void 0&&(t=[]),i===void 0&&(i=0),t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new Y(this._x,this._y,this._z)},_onChange:function(t){return this._onChangeCallback=t,this},_onChangeCallback:function(){}}),Le(Ae.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask=this.mask|1<<t|0},enableAll:function(){this.mask=-1},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},disableAll:function(){this.mask=0},test:function(t){return(this.mask&t.mask)!=0}});var GS=0,WS=new Y,Cy=new X,eg=new ie,c2=new Y,h2=new Y,k_=new Y,YS=new X,XS=new Y(1,0,0),ZS=new Y(0,1,0),f2=new Y(0,0,1),ya={type:"added"},KS={type:"removed"};we.DefaultUp=new Y(0,1,0),we.DefaultMatrixAutoUpdate=!0,we.prototype=Le(Oe(a.prototype),{constructor:we,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,i){this.quaternion.setFromAxisAngle(t,i)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(t,i){return Cy.setFromAxisAngle(t,i),this.quaternion.multiply(Cy),this},rotateOnWorldAxis:function(t,i){return Cy.setFromAxisAngle(t,i),this.quaternion.premultiply(Cy),this},rotateX:function(t){return this.rotateOnAxis(XS,t)},rotateY:function(t){return this.rotateOnAxis(ZS,t)},rotateZ:function(t){return this.rotateOnAxis(f2,t)},translateOnAxis:function(t,i){return WS.copy(t).applyQuaternion(this.quaternion),this.position.add(WS.multiplyScalar(i)),this},translateX:function(t){return this.translateOnAxis(XS,t)},translateY:function(t){return this.translateOnAxis(ZS,t)},translateZ:function(t){return this.translateOnAxis(f2,t)},localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(t){return t.applyMatrix4(eg.getInverse(this.matrixWorld))},lookAt:function(t,i,m){t.isVector3?c2.copy(t):c2.set(t,i,m),t=this.parent,this.updateWorldMatrix(!0,!1),h2.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?eg.lookAt(h2,c2,this.up):eg.lookAt(c2,h2,this.up),this.quaternion.setFromRotationMatrix(eg),t&&(eg.extractRotation(t.matrixWorld),Cy.setFromRotationMatrix(eg),this.quaternion.premultiply(Cy.inverse()))},add:function(t){if(1<arguments.length){for(var i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.parent!==null&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(ya)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(1<arguments.length){for(var i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}return i=this.children.indexOf(t),i!==-1&&(t.parent=null,this.children.splice(i,1),t.dispatchEvent(KS)),this},attach:function(t){return this.updateWorldMatrix(!0,!1),eg.getInverse(this.matrixWorld),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),eg.multiply(t.parent.matrixWorld)),t.applyMatrix4(eg),t.updateWorldMatrix(!1,!1),this.add(t),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,i){if(this[t]===i)return this;for(var m=0,A=this.children.length;m<A;m++){var E=this.children[m].getObjectByProperty(t,i);if(E!==void 0)return E}},getWorldPosition:function(t){return t===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new Y),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(t){return t===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new X),this.updateMatrixWorld(!0),this.matrixWorld.decompose(h2,t,k_),t},getWorldScale:function(t){return t===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new Y),this.updateMatrixWorld(!0),this.matrixWorld.decompose(h2,YS,t),t},getWorldDirection:function(t){t===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new Y),this.updateMatrixWorld(!0);var i=this.matrixWorld.elements;return t.set(i[8],i[9],i[10]).normalize()},raycast:function(){},traverse:function(t){t(this);for(var i=this.children,m=0,A=i.length;m<A;m++)i[m].traverse(t)},traverseVisible:function(t){if(this.visible!==!1){t(this);for(var i=this.children,m=0,A=i.length;m<A;m++)i[m].traverseVisible(t)}},traverseAncestors:function(t){var i=this.parent;i!==null&&(t(i),i.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var i=this.children,m=0,A=i.length;m<A;m++)i[m].updateMatrixWorld(t)},updateWorldMatrix:function(t,i){var m=this.parent;if(t===!0&&m!==null&&m.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),i===!0)for(t=this.children,i=0,m=t.length;i<m;i++)t[i].updateWorldMatrix(!1,!0)},toJSON:function(t){function i(ue,me){return ue[me.uuid]===void 0&&(ue[me.uuid]=me.toJSON(t)),me.uuid}function m(ue){var me=[],pe;for(pe in ue){var be=ue[pe];delete be.metadata,me.push(be)}return me}var A=t===void 0||typeof t=="string",E={};A&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},E.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var O={};if(O.uuid=this.uuid,O.type=this.type,this.name!==""&&(O.name=this.name),this.castShadow===!0&&(O.castShadow=!0),this.receiveShadow===!0&&(O.receiveShadow=!0),this.visible===!1&&(O.visible=!1),this.frustumCulled===!1&&(O.frustumCulled=!1),this.renderOrder!==0&&(O.renderOrder=this.renderOrder),ru(this.userData)!=="{}"&&(O.userData=this.userData),O.layers=this.layers.mask,O.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(O.matrixAutoUpdate=!1),this.isInstancedMesh&&(O.type="InstancedMesh",O.count=this.count,O.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){O.geometry=i(t.geometries,this.geometry);var F=this.geometry.parameters;if(F!==void 0&&F.shapes!==void 0)if(F=F.shapes,Array.isArray(F))for(var H=0,K=F.length;H<K;H++)i(t.shapes,F[H]);else i(t.shapes,F)}if(this.material!==void 0)if(Array.isArray(this.material)){for(F=[],H=0,K=this.material.length;H<K;H++)F.push(i(t.materials,this.material[H]));O.material=F}else O.material=i(t.materials,this.material);if(0<this.children.length)for(O.children=[],H=0;H<this.children.length;H++)O.children.push(this.children[H].toJSON(t).object);if(A){A=m(t.geometries),H=m(t.materials),K=m(t.textures);var $=m(t.images);F=m(t.shapes),0<A.length&&(E.geometries=A),0<H.length&&(E.materials=H),0<K.length&&(E.textures=K),0<$.length&&(E.images=$),0<F.length&&(E.shapes=F)}return E.object=O,E},clone:function(t){return new this.constructor().copy(this,t)},copy:function(t,i){if(i===void 0&&(i=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(ru(t.userData)),i===!0)for(i=0;i<t.children.length;i++)this.add(t.children[i].clone());return this}}),Qe.prototype=Le(Oe(we.prototype),{constructor:Qe,isScene:!0,copy:function(t,i){return we.prototype.copy.call(this,t,i),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var i=we.prototype.toJSON.call(this,t);return this.background!==null&&(i.object.background=this.background.toJSON(t)),this.environment!==null&&(i.object.environment=this.environment.toJSON(t)),this.fog!==null&&(i.object.fog=this.fog.toJSON()),i},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Xu=[new Y,new Y,new Y,new Y,new Y,new Y,new Y,new Y],d2=new Y,zb=new yt,zC=new Y,jC=new Y,Ay=new Y,wy=new Y,by=new Y,Sy=new Y,p2=new Y,Iw=new Y,Pw=new Y,Y1=new Y;Le(yt.prototype,{isBox3:!0,set:function(t,i){return this.min.copy(t),this.max.copy(i),this},setFromArray:function(t){for(var i=Infinity,m=Infinity,A=Infinity,E=-Infinity,O=-Infinity,F=-Infinity,H=0,K=t.length;H<K;H+=3){var $=t[H],ue=t[H+1],me=t[H+2];$<i&&(i=$),ue<m&&(m=ue),me<A&&(A=me),$>E&&(E=$),ue>O&&(O=ue),me>F&&(F=me)}return this.min.set(i,m,A),this.max.set(E,O,F),this},setFromBufferAttribute:function(t){for(var i=Infinity,m=Infinity,A=Infinity,E=-Infinity,O=-Infinity,F=-Infinity,H=0,K=t.count;H<K;H++){var $=t.getX(H),ue=t.getY(H),me=t.getZ(H);$<i&&(i=$),ue<m&&(m=ue),me<A&&(A=me),$>E&&(E=$),ue>O&&(O=ue),me>F&&(F=me)}return this.min.set(i,m,A),this.max.set(E,O,F),this},setFromPoints:function(t){this.makeEmpty();for(var i=0,m=t.length;i<m;i++)this.expandByPoint(t[i]);return this},setFromCenterAndSize:function(t,i){return i=d2.copy(i).multiplyScalar(.5),this.min.copy(t).sub(i),this.max.copy(t).add(i),this},setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=Infinity,this.max.x=this.max.y=this.max.z=-Infinity,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return t===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new Y),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return t===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new Y),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(t){t.updateWorldMatrix(!1,!1);var i=t.geometry;i!==void 0&&(i.boundingBox===null&&i.computeBoundingBox(),zb.copy(i.boundingBox),zb.applyMatrix4(t.matrixWorld),this.union(zb)),t=t.children,i=0;for(var m=t.length;i<m;i++)this.expandByObject(t[i]);return this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,i){return i===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),i=new Y),i.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(t){return this.clampPoint(t.center,d2),d2.distanceToSquared(t.center)<=t.radius*t.radius},intersectsPlane:function(t){if(0<t.normal.x)var i=t.normal.x*this.min.x,m=t.normal.x*this.max.x;else i=t.normal.x*this.max.x,m=t.normal.x*this.min.x;return 0<t.normal.y?(i+=t.normal.y*this.min.y,m+=t.normal.y*this.max.y):(i+=t.normal.y*this.max.y,m+=t.normal.y*this.min.y),0<t.normal.z?(i+=t.normal.z*this.min.z,m+=t.normal.z*this.max.z):(i+=t.normal.z*this.max.z,m+=t.normal.z*this.min.z),i<=-t.constant&&m>=-t.constant},intersectsTriangle:function(t){return this.isEmpty()||(this.getCenter(p2),Iw.subVectors(this.max,p2),zC.subVectors(t.a,p2),jC.subVectors(t.b,p2),Ay.subVectors(t.c,p2),wy.subVectors(jC,zC),by.subVectors(Ay,jC),Sy.subVectors(zC,Ay),t=[0,-wy.z,wy.y,0,-by.z,by.y,0,-Sy.z,Sy.y,wy.z,0,-wy.x,by.z,0,-by.x,Sy.z,0,-Sy.x,-wy.y,wy.x,0,-by.y,by.x,0,-Sy.y,Sy.x,0],!dt(t,zC,jC,Ay,Iw))||(t=[1,0,0,0,1,0,0,0,1],!dt(t,zC,jC,Ay,Iw))?!1:(Pw.crossVectors(wy,by),t=[Pw.x,Pw.y,Pw.z],dt(t,zC,jC,Ay,Iw))},clampPoint:function(t,i){return i===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),i=new Y),i.copy(t).clamp(this.min,this.max)},distanceToPoint:function(t){return d2.copy(t).clamp(this.min,this.max).sub(t).length()},getBoundingSphere:function(t){return t===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize(d2).length(),t},intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(t){return this.isEmpty()?this:(Xu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Xu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Xu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Xu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Xu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Xu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Xu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Xu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Xu),this)},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}});var m2=new yt;Le(vt.prototype,{set:function(t,i){return this.center.copy(t),this.radius=i,this},setFromPoints:function(t,i){var m=this.center;i!==void 0?m.copy(i):m2.setFromPoints(t).getCenter(m);for(var A=i=0,E=t.length;A<E;A++)i=Math.max(i,m.distanceToSquared(t[A]));return this.radius=Math.sqrt(i),this},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},isEmpty:function(){return 0>this.radius},makeEmpty:function(){return this.center.set(0,0,0),this.radius=-1,this},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var i=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=i*i},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,i){var m=this.center.distanceToSquared(t);return i===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),i=new Y),i.copy(t),m>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i},getBoundingBox:function(t){return t===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new yt),this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius*=t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}});var Lv=new Y,jb=new Y,Ow=new Y,X1=new Y,Ub=new Y,Rw=new Y,kb=new Y;Le(Lt.prototype,{set:function(t,i){return this.origin.copy(t),this.direction.copy(i),this},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,i){return i===void 0&&(console.warn("THREE.Ray: .at() target is now required"),i=new Y),i.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(t){return this.origin.copy(this.at(t,Lv)),this},closestPointToPoint:function(t,i){return i===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),i=new Y),i.subVectors(t,this.origin),t=i.dot(this.direction),0>t?i.copy(this.origin):i.copy(this.direction).multiplyScalar(t).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(t){var i=Lv.subVectors(t,this.origin).dot(this.direction);return 0>i?this.origin.distanceToSquared(t):(Lv.copy(this.direction).multiplyScalar(i).add(this.origin),Lv.distanceToSquared(t))},distanceSqToSegment:function(t,i,m,A){jb.copy(t).add(i).multiplyScalar(.5),Ow.copy(i).sub(t).normalize(),X1.copy(this.origin).sub(jb);var E=.5*t.distanceTo(i),O=-this.direction.dot(Ow),F=X1.dot(this.direction),H=-X1.dot(Ow),K=X1.lengthSq(),$=Math.abs(1-O*O);if(0<$){t=O*H-F,i=O*F-H;var ue=E*$;0<=t?i>=-ue?i<=ue?(E=1/$,t*=E,i*=E,O=t*(t+O*i+2*F)+i*(O*t+i+2*H)+K):(i=E,t=Math.max(0,-(O*i+F)),O=-t*t+i*(i+2*H)+K):(i=-E,t=Math.max(0,-(O*i+F)),O=-t*t+i*(i+2*H)+K):i<=-ue?(t=Math.max(0,-(-O*E+F)),i=0<t?-E:Math.min(Math.max(-E,-H),E),O=-t*t+i*(i+2*H)+K):i<=ue?(t=0,i=Math.min(Math.max(-E,-H),E),O=i*(i+2*H)+K):(t=Math.max(0,-(O*E+F)),i=0<t?E:Math.min(Math.max(-E,-H),E),O=-t*t+i*(i+2*H)+K)}else i=0<O?-E:E,t=Math.max(0,-(O*i+F)),O=-t*t+i*(i+2*H)+K;return m&&m.copy(this.direction).multiplyScalar(t).add(this.origin),A&&A.copy(Ow).multiplyScalar(i).add(jb),O},intersectSphere:function(t,i){Lv.subVectors(t.center,this.origin);var m=Lv.dot(this.direction),A=Lv.dot(Lv)-m*m;return t=t.radius*t.radius,A>t?null:(t=Math.sqrt(t-A),A=m-t,m+=t,0>A&&0>m?null:0>A?this.at(m,i):this.at(A,i))},intersectsSphere:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius},distanceToPlane:function(t){var i=t.normal.dot(this.direction);return i===0?t.distanceToPoint(this.origin)===0?0:null:(t=-(this.origin.dot(t.normal)+t.constant)/i,0<=t?t:null)},intersectPlane:function(t,i){return t=this.distanceToPlane(t),t===null?null:this.at(t,i)},intersectsPlane:function(t){var i=t.distanceToPoint(this.origin);return i===0||0>t.normal.dot(this.direction)*i},intersectBox:function(t,i){var m=1/this.direction.x,A=1/this.direction.y,E=1/this.direction.z,O=this.origin;if(0<=m){var F=(t.min.x-O.x)*m;m*=t.max.x-O.x}else F=(t.max.x-O.x)*m,m*=t.min.x-O.x;if(0<=A){var H=(t.min.y-O.y)*A;A*=t.max.y-O.y}else H=(t.max.y-O.y)*A,A*=t.min.y-O.y;return F>A||H>m||((H>F||F!==F)&&(F=H),(A<m||m!==m)&&(m=A),0<=E?(H=(t.min.z-O.z)*E,t=(t.max.z-O.z)*E):(H=(t.max.z-O.z)*E,t=(t.min.z-O.z)*E),F>t||H>m)?null:((H>F||F!==F)&&(F=H),(t<m||m!==m)&&(m=t),0>m?null:this.at(0<=F?F:m,i))},intersectsBox:function(t){return this.intersectBox(t,Lv)!==null},intersectTriangle:function(t,i,m,A,E){if(Ub.subVectors(i,t),Rw.subVectors(m,t),kb.crossVectors(Ub,Rw),i=this.direction.dot(kb),0<i){if(A)return null;A=1}else if(0>i)A=-1,i=-i;else return null;return X1.subVectors(this.origin,t),t=A*this.direction.dot(Rw.crossVectors(X1,Rw)),0>t||(m=A*this.direction.dot(Ub.cross(X1)),0>m||t+m>i)?null:(t=-A*X1.dot(kb),0>t?null:this.at(t/i,E))},applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}});var UC=new Y,H_=new Y,JS=new v;Le(kt.prototype,{isPlane:!0,set:function(t,i){return this.normal.copy(t),this.constant=i,this},setComponents:function(t,i,m,A){return this.normal.set(t,i,m),this.constant=A,this},setFromNormalAndCoplanarPoint:function(t,i){return this.normal.copy(t),this.constant=-i.dot(this.normal),this},setFromCoplanarPoints:function(t,i,m){return i=UC.subVectors(m,i).cross(H_.subVectors(t,i)).normalize(),this.setFromNormalAndCoplanarPoint(i,t),this},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,i){return i===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),i=new Y),i.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(t,i){i===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),i=new Y);var m=t.delta(UC),A=this.normal.dot(m);if(A===0){if(this.distanceToPoint(t.start)===0)return i.copy(t.start)}else if(A=-(t.start.dot(this.normal)+this.constant)/A,!(0>A||1<A))return i.copy(m).multiplyScalar(A).add(t.start)},intersectsLine:function(t){var i=this.distanceToPoint(t.start);return t=this.distanceToPoint(t.end),0>i&&0<t||0>t&&0<i},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return t===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new Y),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(t,i){return i=i||JS.getNormalMatrix(t),t=this.coplanarPoint(UC).applyMatrix4(t),i=this.normal.applyMatrix3(i).normalize(),this.constant=-t.dot(i),this},translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}});var Bp=new Y,Dv=new Y,Hb=new Y,tg=new Y,kC=new Y,HC=new Y,qS=new Y,Vb=new Y,Lw=new Y,Gb=new Y;Le(Ut,{getNormal:function(t,i,m,A){return A===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),A=new Y),A.subVectors(m,i),Bp.subVectors(t,i),A.cross(Bp),t=A.lengthSq(),0<t?A.multiplyScalar(1/Math.sqrt(t)):A.set(0,0,0)},getBarycoord:function(t,i,m,A,E){Bp.subVectors(A,i),Dv.subVectors(m,i),Hb.subVectors(t,i),t=Bp.dot(Bp),i=Bp.dot(Dv),m=Bp.dot(Hb);var O=Dv.dot(Dv);A=Dv.dot(Hb);var F=t*O-i*i;return E===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),E=new Y),F===0?E.set(-2,-1,-1):(F=1/F,O=(O*m-i*A)*F,t=(t*A-i*m)*F,E.set(1-O-t,t,O))},containsPoint:function(t,i,m,A){return Ut.getBarycoord(t,i,m,A,tg),0<=tg.x&&0<=tg.y&&1>=tg.x+tg.y},getUV:function(t,i,m,A,E,O,F,H){return this.getBarycoord(t,i,m,A,tg),H.set(0,0),H.addScaledVector(E,tg.x),H.addScaledVector(O,tg.y),H.addScaledVector(F,tg.z),H},isFrontFacing:function(t,i,m,A){return Bp.subVectors(m,i),Dv.subVectors(t,i),0>Bp.cross(Dv).dot(A)}}),Le(Ut.prototype,{set:function(t,i,m){return this.a.copy(t),this.b.copy(i),this.c.copy(m),this},setFromPointsAndIndices:function(t,i,m,A){return this.a.copy(t[i]),this.b.copy(t[m]),this.c.copy(t[A]),this},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},getArea:function(){return Bp.subVectors(this.c,this.b),Dv.subVectors(this.a,this.b),.5*Bp.cross(Dv).length()},getMidpoint:function(t){return t===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new Y),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(t){return Ut.getNormal(this.a,this.b,this.c,t)},getPlane:function(t){return t===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new kt),t.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(t,i){return Ut.getBarycoord(t,this.a,this.b,this.c,i)},getUV:function(t,i,m,A,E){return Ut.getUV(t,this.a,this.b,this.c,i,m,A,E)},containsPoint:function(t){return Ut.containsPoint(t,this.a,this.b,this.c)},isFrontFacing:function(t){return Ut.isFrontFacing(this.a,this.b,this.c,t)},intersectsBox:function(t){return t.intersectsTriangle(this)},closestPointToPoint:function(t,i){i===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),i=new Y);var m=this.a,A=this.b,E=this.c;kC.subVectors(A,m),HC.subVectors(E,m),Vb.subVectors(t,m);var O=kC.dot(Vb),F=HC.dot(Vb);if(0>=O&&0>=F)return i.copy(m);Lw.subVectors(t,A);var H=kC.dot(Lw),K=HC.dot(Lw);if(0<=H&&K<=H)return i.copy(A);var $=O*K-H*F;if(0>=$&&0<=O&&0>=H)return A=O/(O-H),i.copy(m).addScaledVector(kC,A);Gb.subVectors(t,E),t=kC.dot(Gb);var ue=HC.dot(Gb);return 0<=ue&&t<=ue?i.copy(E):(O=t*F-O*ue,0>=O&&0<=F&&0>=ue?($=F/(F-ue),i.copy(m).addScaledVector(HC,$)):(F=H*ue-t*K,0>=F&&0<=K-H&&0<=t-ue?(qS.subVectors(E,A),$=(K-H)/(K-H+(t-ue)),i.copy(A).addScaledVector(qS,$)):(E=1/(F+O+$),A=O*E,$*=E,i.copy(m).addScaledVector(kC,A).addScaledVector(HC,$))))},equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}});var QS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},zp={h:0,s:0,l:0},VC={h:0,s:0,l:0};Le(at.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):typeof t=="number"?this.setHex(t):typeof t=="string"&&this.setStyle(t),this},setScalar:function(t){return this.b=this.g=this.r=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,this},setRGB:function(t,i,m){return this.r=t,this.g=i,this.b=m,this},setHSL:function(t,i,m){return t=Fo.euclideanModulo(t,1),i=Fo.clamp(i,0,1),m=Fo.clamp(m,0,1),i===0?this.r=this.g=this.b=m:(i=.5>=m?m*(1+i):m+i-m*i,m=2*m-i,this.r=jr(m,i,t+1/3),this.g=jr(m,i,t),this.b=jr(m,i,t-1/3)),this},setStyle:function(t){function i(F){F!==void 0&&1>parseFloat(F)&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var m;if(m=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var A=m[2];switch(m[1]){case"rgb":case"rgba":if(m=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(A))return this.r=Math.min(255,parseInt(m[1],10))/255,this.g=Math.min(255,parseInt(m[2],10))/255,this.b=Math.min(255,parseInt(m[3],10))/255,i(m[5]),this;if(m=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(A))return this.r=Math.min(100,parseInt(m[1],10))/100,this.g=Math.min(100,parseInt(m[2],10))/100,this.b=Math.min(100,parseInt(m[3],10))/100,i(m[5]),this;break;case"hsl":case"hsla":if(m=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(A)){A=parseFloat(m[1])/360;var E=parseInt(m[2],10)/100,O=parseInt(m[3],10)/100;return i(m[5]),this.setHSL(A,E,O)}}}else if(m=/^#([A-Fa-f0-9]+)$/.exec(t)){if(m=m[1],A=m.length,A===3)return this.r=parseInt(m.charAt(0)+m.charAt(0),16)/255,this.g=parseInt(m.charAt(1)+m.charAt(1),16)/255,this.b=parseInt(m.charAt(2)+m.charAt(2),16)/255,this;if(A===6)return this.r=parseInt(m.charAt(0)+m.charAt(1),16)/255,this.g=parseInt(m.charAt(2)+m.charAt(3),16)/255,this.b=parseInt(m.charAt(4)+m.charAt(5),16)/255,this}return t&&0<t.length?this.setColorName(t):this},setColorName:function(t){var i=QS[t];return i!==void 0?this.setHex(i):console.warn("THREE.Color: Unknown color "+t),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,i){return i===void 0&&(i=2),this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this},copyLinearToGamma:function(t,i){return i===void 0&&(i=2),i=0<i?1/i:1,this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(t){return this.r=Zt(t.r),this.g=Zt(t.g),this.b=Zt(t.b),this},copyLinearToSRGB:function(t){return this.r=$r(t.r),this.g=$r(t.g),this.b=$r(t.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){t===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var i=this.r,m=this.g,A=this.b,E=Math.max(i,m,A),O=Math.min(i,m,A),F,H=(O+E)/2;if(O===E)O=F=0;else{var K=E-O;switch(O=.5>=H?K/(E+O):K/(2-E-O),E){case i:F=(m-A)/K+(m<A?6:0);break;case m:F=(A-i)/K+2;break;case A:F=(i-m)/K+4}F/=6}return t.h=F,t.s=O,t.l=H,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,i,m){return this.getHSL(zp),zp.h+=t,zp.s+=i,zp.l+=m,this.setHSL(zp.h,zp.s,zp.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,i){return this.r=t.r+i.r,this.g=t.g+i.g,this.b=t.b+i.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,i){return this.r+=(t.r-this.r)*i,this.g+=(t.g-this.g)*i,this.b+=(t.b-this.b)*i,this},lerpHSL:function(t,i){this.getHSL(zp),t.getHSL(VC),t=Fo.lerp(zp.h,VC.h,i);var m=Fo.lerp(zp.s,VC.s,i);return i=Fo.lerp(zp.l,VC.l,i),this.setHSL(t,m,i),this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,i){return i===void 0&&(i=0),this.r=t[i],this.g=t[i+1],this.b=t[i+2],this},toArray:function(t,i){return t===void 0&&(t=[]),i===void 0&&(i=0),t[i]=this.r,t[i+1]=this.g,t[i+2]=this.b,t},toJSON:function(){return this.getHex()}}),at.NAMES=QS,Le(nn.prototype,{clone:function(){return new this.constructor().copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var i=0,m=t.vertexNormals.length;i<m;i++)this.vertexNormals[i]=t.vertexNormals[i].clone();for(i=0,m=t.vertexColors.length;i<m;i++)this.vertexColors[i]=t.vertexColors[i].clone();return this}});var V_=0;Wt.prototype=Le(Oe(a.prototype),{constructor:Wt,isMaterial:!0,onBeforeCompile:function(){},setValues:function(t){if(t!==void 0)for(var i in t){var m=t[i];if(m===void 0)console.warn("THREE.Material: '"+i+"' parameter is undefined.");else if(i==="shading")console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=m===1;else{var A=this[i];A===void 0?console.warn("THREE."+this.type+": '"+i+"' is not a property of this material."):A&&A.isColor?A.set(m):A&&A.isVector3&&m&&m.isVector3?A.copy(m):this[i]=m}}},toJSON:function(t){function i(E){var O=[],F;for(F in E){var H=E[F];delete H.metadata,O.push(H)}return O}var m=t===void 0||typeof t=="string";m&&(t={textures:{},images:{}});var A={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};return A.uuid=this.uuid,A.type=this.type,this.name!==""&&(A.name=this.name),this.color&&this.color.isColor&&(A.color=this.color.getHex()),this.roughness!==void 0&&(A.roughness=this.roughness),this.metalness!==void 0&&(A.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(A.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(A.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(A.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(A.specular=this.specular.getHex()),this.shininess!==void 0&&(A.shininess=this.shininess),this.clearcoat!==void 0&&(A.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(A.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(A.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(A.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(A.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,A.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(A.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(A.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(A.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(A.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(A.aoMap=this.aoMap.toJSON(t).uuid,A.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(A.bumpMap=this.bumpMap.toJSON(t).uuid,A.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(A.normalMap=this.normalMap.toJSON(t).uuid,A.normalMapType=this.normalMapType,A.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(A.displacementMap=this.displacementMap.toJSON(t).uuid,A.displacementScale=this.displacementScale,A.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(A.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(A.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(A.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(A.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(A.envMap=this.envMap.toJSON(t).uuid,A.reflectivity=this.reflectivity,A.refractionRatio=this.refractionRatio,this.combine!==void 0&&(A.combine=this.combine),this.envMapIntensity!==void 0&&(A.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(A.gradientMap=this.gradientMap.toJSON(t).uuid),this.size!==void 0&&(A.size=this.size),this.sizeAttenuation!==void 0&&(A.sizeAttenuation=this.sizeAttenuation),this.blending!==1&&(A.blending=this.blending),this.flatShading===!0&&(A.flatShading=this.flatShading),this.side!==0&&(A.side=this.side),this.vertexColors&&(A.vertexColors=!0),1>this.opacity&&(A.opacity=this.opacity),this.transparent===!0&&(A.transparent=this.transparent),A.depthFunc=this.depthFunc,A.depthTest=this.depthTest,A.depthWrite=this.depthWrite,A.stencilWrite=this.stencilWrite,A.stencilWriteMask=this.stencilWriteMask,A.stencilFunc=this.stencilFunc,A.stencilRef=this.stencilRef,A.stencilFuncMask=this.stencilFuncMask,A.stencilFail=this.stencilFail,A.stencilZFail=this.stencilZFail,A.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(A.rotation=this.rotation),this.polygonOffset===!0&&(A.polygonOffset=!0),this.polygonOffsetFactor!==0&&(A.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(A.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(A.linewidth=this.linewidth),this.dashSize!==void 0&&(A.dashSize=this.dashSize),this.gapSize!==void 0&&(A.gapSize=this.gapSize),this.scale!==void 0&&(A.scale=this.scale),this.dithering===!0&&(A.dithering=!0),0<this.alphaTest&&(A.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(A.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(A.wireframe=this.wireframe),1<this.wireframeLinewidth&&(A.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(A.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(A.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(A.morphTargets=!0),this.morphNormals===!0&&(A.morphNormals=!0),this.skinning===!0&&(A.skinning=!0),this.visible===!1&&(A.visible=!1),this.toneMapped===!1&&(A.toneMapped=!1),ru(this.userData)!=="{}"&&(A.userData=this.userData),m&&(m=i(t.textures),t=i(t.images),0<m.length&&(A.textures=m),0<t.length&&(A.images=t)),A},clone:function(){return new this.constructor().copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;var i=t.clippingPlanes,m=null;if(i!==null){var A=i.length;m=Array(A);for(var E=0;E!==A;++E)m[E]=i[E].clone()}return this.clippingPlanes=m,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(ru(t.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Wt.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}}),si.prototype=Oe(Wt.prototype),si.prototype.constructor=si,si.prototype.isMeshBasicMaterial=!0,si.prototype.copy=function(s){return Wt.prototype.copy.call(this,s),this.color.copy(s.color),this.map=s.map,this.lightMap=s.lightMap,this.lightMapIntensity=s.lightMapIntensity,this.aoMap=s.aoMap,this.aoMapIntensity=s.aoMapIntensity,this.specularMap=s.specularMap,this.alphaMap=s.alphaMap,this.envMap=s.envMap,this.combine=s.combine,this.reflectivity=s.reflectivity,this.refractionRatio=s.refractionRatio,this.wireframe=s.wireframe,this.wireframeLinewidth=s.wireframeLinewidth,this.wireframeLinecap=s.wireframeLinecap,this.wireframeLinejoin=s.wireframeLinejoin,this.skinning=s.skinning,this.morphTargets=s.morphTargets,this};var ns=new Y;Object.defineProperty(gr.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}}),Le(gr.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this},copyAt:function(t,i,m){t*=this.itemSize,m*=i.itemSize;for(var A=0,E=this.itemSize;A<E;A++)this.array[t+A]=i.array[m+A];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var i=this.array,m=0,A=0,E=t.length;A<E;A++){var O=t[A];O===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",A),O=new at),i[m++]=O.r,i[m++]=O.g,i[m++]=O.b}return this},copyVector2sArray:function(t){for(var i=this.array,m=0,A=0,E=t.length;A<E;A++){var O=t[A];O===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",A),O=new l),i[m++]=O.x,i[m++]=O.y}return this},copyVector3sArray:function(t){for(var i=this.array,m=0,A=0,E=t.length;A<E;A++){var O=t[A];O===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",A),O=new Y),i[m++]=O.x,i[m++]=O.y,i[m++]=O.z}return this},copyVector4sArray:function(t){for(var i=this.array,m=0,A=0,E=t.length;A<E;A++){var O=t[A];O===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",A),O=new M),i[m++]=O.x,i[m++]=O.y,i[m++]=O.z,i[m++]=O.w}return this},applyMatrix3:function(t){for(var i=0,m=this.count;i<m;i++)ns.x=this.getX(i),ns.y=this.getY(i),ns.z=this.getZ(i),ns.applyMatrix3(t),this.setXYZ(i,ns.x,ns.y,ns.z);return this},applyMatrix4:function(t){for(var i=0,m=this.count;i<m;i++)ns.x=this.getX(i),ns.y=this.getY(i),ns.z=this.getZ(i),ns.applyMatrix4(t),this.setXYZ(i,ns.x,ns.y,ns.z);return this},applyNormalMatrix:function(t){for(var i=0,m=this.count;i<m;i++)ns.x=this.getX(i),ns.y=this.getY(i),ns.z=this.getZ(i),ns.applyNormalMatrix(t),this.setXYZ(i,ns.x,ns.y,ns.z);return this},transformDirection:function(t){for(var i=0,m=this.count;i<m;i++)ns.x=this.getX(i),ns.y=this.getY(i),ns.z=this.getZ(i),ns.transformDirection(t),this.setXYZ(i,ns.x,ns.y,ns.z);return this},set:function(t,i){return i===void 0&&(i=0),this.array.set(t,i),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,i){return this.array[t*this.itemSize]=i,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,i){return this.array[t*this.itemSize+1]=i,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,i){return this.array[t*this.itemSize+2]=i,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,i){return this.array[t*this.itemSize+3]=i,this},setXY:function(t,i,m){return t*=this.itemSize,this.array[t+0]=i,this.array[t+1]=m,this},setXYZ:function(t,i,m,A){return t*=this.itemSize,this.array[t+0]=i,this.array[t+1]=m,this.array[t+2]=A,this},setXYZW:function(t,i,m,A,E){return t*=this.itemSize,this.array[t+0]=i,this.array[t+1]=m,this.array[t+2]=A,this.array[t+3]=E,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),bi.prototype=Oe(gr.prototype),bi.prototype.constructor=bi,ki.prototype=Oe(gr.prototype),ki.prototype.constructor=ki,Pi.prototype=Oe(gr.prototype),Pi.prototype.constructor=Pi,ga.prototype=Oe(gr.prototype),ga.prototype.constructor=ga,Oi.prototype=Oe(gr.prototype),Oi.prototype.constructor=Oi,Ho.prototype=Oe(gr.prototype),Ho.prototype.constructor=Ho,rs.prototype=Oe(gr.prototype),rs.prototype.constructor=rs,tn.prototype=Oe(gr.prototype),tn.prototype.constructor=tn,qo.prototype=Oe(gr.prototype),qo.prototype.constructor=qo,Le($e.prototype,{computeGroups:function(t){var i=[],m=void 0;t=t.faces;for(var A=0;A<t.length;A++){var E=t[A];if(E.materialIndex!==m){m=E.materialIndex,O!==void 0&&(O.count=3*A-O.start,i.push(O));var O={start:3*A,materialIndex:m}}}O!==void 0&&(O.count=3*A-O.start,i.push(O)),this.groups=i},fromGeometry:function(t){var i=t.faces,m=t.vertices,A=t.faceVertexUvs,E=A[0]&&0<A[0].length,O=A[1]&&0<A[1].length,F=t.morphTargets,H=F.length;if(0<H){for(var K=[],$=0;$<H;$++)K[$]={name:F[$].name,data:[]};this.morphTargets.position=K}var ue=t.morphNormals,me=ue.length;if(0<me){var pe=[];for($=0;$<me;$++)pe[$]={name:ue[$].name,data:[]};this.morphTargets.normal=pe}var be=t.skinIndices,Te=t.skinWeights,it=be.length===m.length,_t=Te.length===m.length;for(0<m.length&&i.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported."),$=0;$<i.length;$++){var Mt=i[$];this.vertices.push(m[Mt.a],m[Mt.b],m[Mt.c]);var It=Mt.vertexNormals;for(It.length===3?this.normals.push(It[0],It[1],It[2]):(It=Mt.normal,this.normals.push(It,It,It)),It=Mt.vertexColors,It.length===3?this.colors.push(It[0],It[1],It[2]):(It=Mt.color,this.colors.push(It,It,It)),E===!0&&(It=A[0][$],It!==void 0?this.uvs.push(It[0],It[1],It[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",$),this.uvs.push(new l,new l,new l))),O===!0&&(It=A[1][$],It!==void 0?this.uvs2.push(It[0],It[1],It[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",$),this.uvs2.push(new l,new l,new l))),It=0;It<H;It++){var Bt=F[It].vertices;K[It].data.push(Bt[Mt.a],Bt[Mt.b],Bt[Mt.c])}for(It=0;It<me;It++)Bt=ue[It].vertexNormals[$],pe[It].data.push(Bt.a,Bt.b,Bt.c);it&&this.skinIndices.push(be[Mt.a],be[Mt.b],be[Mt.c]),_t&&this.skinWeights.push(Te[Mt.a],Te[Mt.b],Te[Mt.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),this}});var G_=1,rg=new ie,Wb=new we,Nv=new Y,th=new yt,g2=new yt,Hl=new Y;Et.prototype=Le(Oe(a.prototype),{constructor:Et,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(65535<xt(t)?rs:Oi)(t,1):this.index=t},getAttribute:function(t){return this.attributes[t]},setAttribute:function(t,i){return this.attributes[t]=i,this},deleteAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,i,m){this.groups.push({start:t,count:i,materialIndex:m!==void 0?m:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,i){this.drawRange.start=t,this.drawRange.count=i},applyMatrix4:function(t){var i=this.attributes.position;if(i!==void 0&&(i.applyMatrix4(t),i.needsUpdate=!0),i=this.attributes.normal,i!==void 0){var m=new v().getNormalMatrix(t);i.applyNormalMatrix(m),i.needsUpdate=!0}return i=this.attributes.tangent,i!==void 0&&(i.transformDirection(t),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(t){return rg.makeRotationX(t),this.applyMatrix4(rg),this},rotateY:function(t){return rg.makeRotationY(t),this.applyMatrix4(rg),this},rotateZ:function(t){return rg.makeRotationZ(t),this.applyMatrix4(rg),this},translate:function(t,i,m){return rg.makeTranslation(t,i,m),this.applyMatrix4(rg),this},scale:function(t,i,m){return rg.makeScale(t,i,m),this.applyMatrix4(rg),this},lookAt:function(t){return Wb.lookAt(t),Wb.updateMatrix(),this.applyMatrix4(Wb.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Nv).negate(),this.translate(Nv.x,Nv.y,Nv.z),this},setFromObject:function(t){var i=t.geometry;if(t.isPoints||t.isLine){t=new tn(3*i.vertices.length,3);var m=new tn(3*i.colors.length,3);this.setAttribute("position",t.copyVector3sArray(i.vertices)),this.setAttribute("color",m.copyColorsArray(i.colors)),i.lineDistances&&i.lineDistances.length===i.vertices.length&&(t=new tn(i.lineDistances.length,1),this.setAttribute("lineDistance",t.copyArray(i.lineDistances))),i.boundingSphere!==null&&(this.boundingSphere=i.boundingSphere.clone()),i.boundingBox!==null&&(this.boundingBox=i.boundingBox.clone())}else t.isMesh&&i&&i.isGeometry&&this.fromGeometry(i);return this},setFromPoints:function(t){for(var i=[],m=0,A=t.length;m<A;m++){var E=t[m];i.push(E.x,E.y,E.z||0)}return this.setAttribute("position",new tn(i,3)),this},updateFromObject:function(t){var i=t.geometry;if(t.isMesh){var m=i.__directGeometry;if(i.elementsNeedUpdate===!0&&(m=void 0,i.elementsNeedUpdate=!1),m===void 0)return this.fromGeometry(i);m.verticesNeedUpdate=i.verticesNeedUpdate,m.normalsNeedUpdate=i.normalsNeedUpdate,m.colorsNeedUpdate=i.colorsNeedUpdate,m.uvsNeedUpdate=i.uvsNeedUpdate,m.groupsNeedUpdate=i.groupsNeedUpdate,i.verticesNeedUpdate=!1,i.normalsNeedUpdate=!1,i.colorsNeedUpdate=!1,i.uvsNeedUpdate=!1,i.groupsNeedUpdate=!1,i=m}return i.verticesNeedUpdate===!0&&(m=this.attributes.position,m!==void 0&&(m.copyVector3sArray(i.vertices),m.needsUpdate=!0),i.verticesNeedUpdate=!1),i.normalsNeedUpdate===!0&&(m=this.attributes.normal,m!==void 0&&(m.copyVector3sArray(i.normals),m.needsUpdate=!0),i.normalsNeedUpdate=!1),i.colorsNeedUpdate===!0&&(m=this.attributes.color,m!==void 0&&(m.copyColorsArray(i.colors),m.needsUpdate=!0),i.colorsNeedUpdate=!1),i.uvsNeedUpdate&&(m=this.attributes.uv,m!==void 0&&(m.copyVector2sArray(i.uvs),m.needsUpdate=!0),i.uvsNeedUpdate=!1),i.lineDistancesNeedUpdate&&(m=this.attributes.lineDistance,m!==void 0&&(m.copyArray(i.lineDistances),m.needsUpdate=!0),i.lineDistancesNeedUpdate=!1),i.groupsNeedUpdate&&(i.computeGroups(t.geometry),this.groups=i.groups,i.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=new $e().fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var i=new Float32Array(3*t.vertices.length);this.setAttribute("position",new gr(i,3).copyVector3sArray(t.vertices)),0<t.normals.length&&(i=new Float32Array(3*t.normals.length),this.setAttribute("normal",new gr(i,3).copyVector3sArray(t.normals))),0<t.colors.length&&(i=new Float32Array(3*t.colors.length),this.setAttribute("color",new gr(i,3).copyColorsArray(t.colors))),0<t.uvs.length&&(i=new Float32Array(2*t.uvs.length),this.setAttribute("uv",new gr(i,2).copyVector2sArray(t.uvs))),0<t.uvs2.length&&(i=new Float32Array(2*t.uvs2.length),this.setAttribute("uv2",new gr(i,2).copyVector2sArray(t.uvs2))),this.groups=t.groups;for(var m in t.morphTargets){i=[];for(var A=t.morphTargets[m],E=0,O=A.length;E<O;E++){var F=A[E],H=new tn(3*F.data.length,3);H.name=F.name,i.push(H.copyVector3sArray(F.data))}this.morphAttributes[m]=i}return 0<t.skinIndices.length&&(m=new tn(4*t.skinIndices.length,4),this.setAttribute("skinIndex",m.copyVector4sArray(t.skinIndices))),0<t.skinWeights.length&&(m=new tn(4*t.skinWeights.length,4),this.setAttribute("skinWeight",m.copyVector4sArray(t.skinWeights))),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new yt);var t=this.attributes.position,i=this.morphAttributes.position;if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),i){t=0;for(var m=i.length;t<m;t++)th.setFromBufferAttribute(i[t]),this.morphTargetsRelative?(Hl.addVectors(this.boundingBox.min,th.min),this.boundingBox.expandByPoint(Hl),Hl.addVectors(this.boundingBox.max,th.max),this.boundingBox.expandByPoint(Hl)):(this.boundingBox.expandByPoint(th.min),this.boundingBox.expandByPoint(th.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new vt);var t=this.attributes.position,i=this.morphAttributes.position;if(t){var m=this.boundingSphere.center;if(th.setFromBufferAttribute(t),i)for(var A=0,E=i.length;A<E;A++){var O=i[A];g2.setFromBufferAttribute(O),this.morphTargetsRelative?(Hl.addVectors(th.min,g2.min),th.expandByPoint(Hl),Hl.addVectors(th.max,g2.max),th.expandByPoint(Hl)):(th.expandByPoint(g2.min),th.expandByPoint(g2.max))}th.getCenter(m);var F=0;for(A=0,E=t.count;A<E;A++)Hl.fromBufferAttribute(t,A),F=Math.max(F,m.distanceToSquared(Hl));if(i)for(A=0,E=i.length;A<E;A++){O=i[A];for(var H=this.morphTargetsRelative,K=0,$=O.count;K<$;K++)Hl.fromBufferAttribute(O,K),H&&(Nv.fromBufferAttribute(t,K),Hl.add(Nv)),F=Math.max(F,m.distanceToSquared(Hl))}this.boundingSphere.radius=Math.sqrt(F),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,i=this.attributes;if(i.position){var m=i.position.array;if(i.normal===void 0)this.setAttribute("normal",new gr(new Float32Array(m.length),3));else for(var A=i.normal.array,E=0,O=A.length;E<O;E++)A[E]=0;A=i.normal.array;var F=new Y,H=new Y,K=new Y,$=new Y,ue=new Y;if(t){var me=t.array;for(E=0,O=t.count;E<O;E+=3){t=3*me[E+0];var pe=3*me[E+1],be=3*me[E+2];F.fromArray(m,t),H.fromArray(m,pe),K.fromArray(m,be),$.subVectors(K,H),ue.subVectors(F,H),$.cross(ue),A[t]+=$.x,A[t+1]+=$.y,A[t+2]+=$.z,A[pe]+=$.x,A[pe+1]+=$.y,A[pe+2]+=$.z,A[be]+=$.x,A[be+1]+=$.y,A[be+2]+=$.z}}else for(E=0,O=m.length;E<O;E+=9)F.fromArray(m,E),H.fromArray(m,E+3),K.fromArray(m,E+6),$.subVectors(K,H),ue.subVectors(F,H),$.cross(ue),A[E]=$.x,A[E+1]=$.y,A[E+2]=$.z,A[E+3]=$.x,A[E+4]=$.y,A[E+5]=$.z,A[E+6]=$.x,A[E+7]=$.y,A[E+8]=$.z;this.normalizeNormals(),i.normal.needsUpdate=!0}},merge:function(t,i){if(t&&t.isBufferGeometry){i===void 0&&(i=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var m=this.attributes,A;for(A in m)if(t.attributes[A]!==void 0){var E=m[A].array,O=t.attributes[A],F=O.array,H=O.itemSize*i;O=Math.min(F.length,E.length-H);for(var K=0;K<O;K++,H++)E[H]=F[K]}return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:function(){for(var t=this.attributes.normal,i=0,m=t.count;i<m;i++)Hl.x=t.getX(i),Hl.y=t.getY(i),Hl.z=t.getZ(i),Hl.normalize(),t.setXYZ(i,Hl.x,Hl.y,Hl.z)},toNonIndexed:function(){function t(ue,me){var pe=ue.array,be=ue.itemSize;ue=ue.normalized;for(var Te=new pe.constructor(me.length*be),it,_t=0,Mt=0,It=me.length;Mt<It;Mt++){it=me[Mt]*be;for(var Bt=0;Bt<be;Bt++)Te[_t++]=pe[it++]}return new gr(Te,be,ue)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var i=new Et,m=this.index.array,A=this.attributes,E;for(E in A){var O=A[E];O=t(O,m),i.setAttribute(E,O)}var F=this.morphAttributes;for(E in F){var H=[],K=F[E];A=0;for(var $=K.length;A<$;A++)O=K[A],O=t(O,m),H.push(O);i.morphAttributes[E]=H}for(i.morphTargetsRelative=this.morphTargetsRelative,m=this.groups,A=0,E=m.length;A<E;A++)O=m[A],i.addGroup(O.start,O.count,O.materialIndex);return i},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),0<es(this.userData).length&&(t.userData=this.userData),this.parameters!==void 0){var i=this.parameters;for($ in i)i[$]!==void 0&&(t[$]=i[$]);return t}t.data={attributes:{}},i=this.index,i!==null&&(t.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});var m=this.attributes;for($ in m){i=m[$];var A=i.toJSON();i.name!==""&&(A.name=i.name),t.data.attributes[$]=A}m={};var E=!1;for($ in this.morphAttributes){for(var O=this.morphAttributes[$],F=[],H=0,K=O.length;H<K;H++)i=O[H],A=i.toJSON(),i.name!==""&&(A.name=i.name),F.push(A);0<F.length&&(m[$]=F,E=!0)}E&&(t.data.morphAttributes=m,t.data.morphTargetsRelative=this.morphTargetsRelative);var $=this.groups;return 0<$.length&&(t.data.groups=JSON.parse(ru($))),$=this.boundingSphere,$!==null&&(t.data.boundingSphere={center:$.center.toArray(),radius:$.radius}),t},clone:function(){return new Et().copy(this)},copy:function(t){var i;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingSphere=this.boundingBox=null,this.name=t.name;var m=t.index;m!==null&&this.setIndex(m.clone()),m=t.attributes;for(F in m)this.setAttribute(F,m[F].clone());var A=t.morphAttributes;for(F in A){var E=[],O=A[F];for(m=0,i=O.length;m<i;m++)E.push(O[m].clone());this.morphAttributes[F]=E}this.morphTargetsRelative=t.morphTargetsRelative;var F=t.groups;for(m=0,i=F.length;m<i;m++)A=F[m],this.addGroup(A.start,A.count,A.materialIndex);return F=t.boundingBox,F!==null&&(this.boundingBox=F.clone()),F=t.boundingSphere,F!==null&&(this.boundingSphere=F.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Yb=new ie,_y=new Lt,Xb=new vt,My=new Y,Ey=new Y,Ty=new Y,Dw=new Y,Zb=new Y,Kb=new Y,Nw=new Y,Fw=new Y,GC=new Y,Z1=new l,WC=new l,YC=new l,Bw=new Y,zw=new Y;Kt.prototype=Le(Oe(we.prototype),{constructor:Kt,isMesh:!0,copy:function(t){return we.prototype.copy.call(this,t),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Le({},t.morphTargetDictionary)),this},updateMorphTargets:function(){var t=this.geometry;if(t.isBufferGeometry){t=t.morphAttributes;var i=es(t);if(0<i.length){var m=t[i[0]];if(m!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,i=m.length;t<i;t++){var A=m[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[A]=t}}}else t=t.morphTargets,t!==void 0&&0<t.length&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},raycast:function(t,i){var m=this.geometry,A=this.material,E=this.matrixWorld;if(A!==void 0&&(m.boundingSphere===null&&m.computeBoundingSphere(),Xb.copy(m.boundingSphere),Xb.applyMatrix4(E),t.ray.intersectsSphere(Xb)!==!1&&(Yb.getInverse(E),_y.copy(t.ray).applyMatrix4(Yb),m.boundingBox===null||_y.intersectsBox(m.boundingBox)!==!1))){if(m.isBufferGeometry){var O=m.index;E=m.attributes.position;var F=m.morphAttributes.position,H=m.morphTargetsRelative,K=m.attributes.uv,$=m.attributes.uv2,ue=m.groups,me=m.drawRange,pe,be;if(O!==null)if(Array.isArray(A)){var Te=0;for(pe=ue.length;Te<pe;Te++){var it=ue[Te],_t=A[it.materialIndex],Mt=Math.max(it.start,me.start);for(be=m=Math.min(it.start+it.count,me.start+me.count);Mt<be;Mt+=3){m=O.getX(Mt);var It=O.getX(Mt+1),Bt=O.getX(Mt+2);(m=Nn(this,_t,t,_y,E,F,H,K,$,m,It,Bt))&&(m.faceIndex=Math.floor(Mt/3),m.face.materialIndex=it.materialIndex,i.push(m))}}}else for(Mt=Math.max(0,me.start),m=Math.min(O.count,me.start+me.count),Te=Mt,pe=m;Te<pe;Te+=3)m=O.getX(Te),It=O.getX(Te+1),Bt=O.getX(Te+2),(m=Nn(this,A,t,_y,E,F,H,K,$,m,It,Bt))&&(m.faceIndex=Math.floor(Te/3),i.push(m));else if(E!==void 0)if(Array.isArray(A))for(Te=0,pe=ue.length;Te<pe;Te++)for(it=ue[Te],_t=A[it.materialIndex],Mt=Math.max(it.start,me.start),be=m=Math.min(it.start+it.count,me.start+me.count);Mt<be;Mt+=3)m=Mt,It=Mt+1,Bt=Mt+2,(m=Nn(this,_t,t,_y,E,F,H,K,$,m,It,Bt))&&(m.faceIndex=Math.floor(Mt/3),m.face.materialIndex=it.materialIndex,i.push(m));else for(Mt=Math.max(0,me.start),m=Math.min(E.count,me.start+me.count),Te=Mt,pe=m;Te<pe;Te+=3)m=Te,It=Te+1,Bt=Te+2,(m=Nn(this,A,t,_y,E,F,H,K,$,m,It,Bt))&&(m.faceIndex=Math.floor(Te/3),i.push(m))}else if(m.isGeometry)for(E=Array.isArray(A),F=m.vertices,H=m.faces,m=m.faceVertexUvs[0],0<m.length&&(O=m),me=0,Te=H.length;me<Te;me++)pe=H[me],m=E?A[pe.materialIndex]:A,m!==void 0&&(K=F[pe.a],$=F[pe.b],ue=F[pe.c],m=pn(this,m,t,_y,K,$,ue,Bw))&&(O&&O[me]&&(it=O[me],Z1.copy(it[0]),WC.copy(it[1]),YC.copy(it[2]),m.uv=Ut.getUV(Bw,K,$,ue,Z1,WC,YC,new l)),m.face=pe,m.faceIndex=me,i.push(m))}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var W_=0,ng=new ie,Jb=new we,jw=new Y;Vt.prototype=Le(Oe(a.prototype),{constructor:Vt,isGeometry:!0,applyMatrix4:function(t){for(var i=new v().getNormalMatrix(t),m=0,A=this.vertices.length;m<A;m++)this.vertices[m].applyMatrix4(t);for(m=0,A=this.faces.length;m<A;m++){t=this.faces[m],t.normal.applyMatrix3(i).normalize();for(var E=0,O=t.vertexNormals.length;E<O;E++)t.vertexNormals[E].applyMatrix3(i).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.normalsNeedUpdate=this.verticesNeedUpdate=!0,this},rotateX:function(t){return ng.makeRotationX(t),this.applyMatrix4(ng),this},rotateY:function(t){return ng.makeRotationY(t),this.applyMatrix4(ng),this},rotateZ:function(t){return ng.makeRotationZ(t),this.applyMatrix4(ng),this},translate:function(t,i,m){return ng.makeTranslation(t,i,m),this.applyMatrix4(ng),this},scale:function(t,i,m){return ng.makeScale(t,i,m),this.applyMatrix4(ng),this},lookAt:function(t){return Jb.lookAt(t),Jb.updateMatrix(),this.applyMatrix4(Jb.matrix),this},fromBufferGeometry:function(t){function i(be,Te,it,_t){var Mt=H===void 0?[]:[m.colors[be].clone(),m.colors[Te].clone(),m.colors[it].clone()],It=F===void 0?[]:[new Y().fromArray(F,3*be),new Y().fromArray(F,3*Te),new Y().fromArray(F,3*it)];_t=new nn(be,Te,it,It,Mt,_t),m.faces.push(_t),K!==void 0&&m.faceVertexUvs[0].push([new l().fromArray(K,2*be),new l().fromArray(K,2*Te),new l().fromArray(K,2*it)]),$!==void 0&&m.faceVertexUvs[1].push([new l().fromArray($,2*be),new l().fromArray($,2*Te),new l().fromArray($,2*it)])}var m=this,A=t.index!==null?t.index.array:void 0,E=t.attributes;if(E.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var O=E.position.array,F=E.normal!==void 0?E.normal.array:void 0,H=E.color!==void 0?E.color.array:void 0,K=E.uv!==void 0?E.uv.array:void 0,$=E.uv2!==void 0?E.uv2.array:void 0;for($!==void 0&&(this.faceVertexUvs[1]=[]),E=0;E<O.length;E+=3)m.vertices.push(new Y().fromArray(O,E)),H!==void 0&&m.colors.push(new at().fromArray(H,E));var ue=t.groups;if(0<ue.length)for(E=0;E<ue.length;E++){O=ue[E];var me=O.start,pe=me;for(me+=O.count;pe<me;pe+=3)A!==void 0?i(A[pe],A[pe+1],A[pe+2],O.materialIndex):i(pe,pe+1,pe+2,O.materialIndex)}else if(A!==void 0)for(E=0;E<A.length;E+=3)i(A[E],A[E+1],A[E+2]);else for(E=0;E<O.length/3;E+=3)i(E,E+1,E+2);return this.computeFaceNormals(),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(jw).negate(),this.translate(jw.x,jw.y,jw.z),this},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,i=this.boundingSphere.radius;i=i===0?1:1/i;var m=new ie;return m.set(i,0,0,-i*t.x,0,i,0,-i*t.y,0,0,i,-i*t.z,0,0,0,1),this.applyMatrix4(m),this},computeFaceNormals:function(){for(var t=new Y,i=new Y,m=0,A=this.faces.length;m<A;m++){var E=this.faces[m],O=this.vertices[E.a],F=this.vertices[E.b];t.subVectors(this.vertices[E.c],F),i.subVectors(O,F),t.cross(i),t.normalize(),E.normal.copy(t)}},computeVertexNormals:function(t){t===void 0&&(t=!0);var i,m=Array(this.vertices.length),A=0;for(i=this.vertices.length;A<i;A++)m[A]=new Y;if(t){var E=new Y,O=new Y;for(t=0,A=this.faces.length;t<A;t++){i=this.faces[t];var F=this.vertices[i.a],H=this.vertices[i.b],K=this.vertices[i.c];E.subVectors(K,H),O.subVectors(F,H),E.cross(O),m[i.a].add(E),m[i.b].add(E),m[i.c].add(E)}}else for(this.computeFaceNormals(),t=0,A=this.faces.length;t<A;t++)i=this.faces[t],m[i.a].add(i.normal),m[i.b].add(i.normal),m[i.c].add(i.normal);for(A=0,i=this.vertices.length;A<i;A++)m[A].normalize();for(t=0,A=this.faces.length;t<A;t++)i=this.faces[t],F=i.vertexNormals,F.length===3?(F[0].copy(m[i.a]),F[1].copy(m[i.b]),F[2].copy(m[i.c])):(F[0]=m[i.a].clone(),F[1]=m[i.b].clone(),F[2]=m[i.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t;this.computeFaceNormals();var i=0;for(t=this.faces.length;i<t;i++){var m=this.faces[i],A=m.vertexNormals;A.length===3?(A[0].copy(m.normal),A[1].copy(m.normal),A[2].copy(m.normal)):(A[0]=m.normal.clone(),A[1]=m.normal.clone(),A[2]=m.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,i,m=0;for(i=this.faces.length;m<i;m++){var A=this.faces[m];A.__originalFaceNormal?A.__originalFaceNormal.copy(A.normal):A.__originalFaceNormal=A.normal.clone(),A.__originalVertexNormals||(A.__originalVertexNormals=[]);var E=0;for(t=A.vertexNormals.length;E<t;E++)A.__originalVertexNormals[E]?A.__originalVertexNormals[E].copy(A.vertexNormals[E]):A.__originalVertexNormals[E]=A.vertexNormals[E].clone()}var O=new Vt;for(O.faces=this.faces,E=0,t=this.morphTargets.length;E<t;E++){if(!this.morphNormals[E]){this.morphNormals[E]={},this.morphNormals[E].faceNormals=[],this.morphNormals[E].vertexNormals=[],A=this.morphNormals[E].faceNormals;var F=this.morphNormals[E].vertexNormals;for(m=0,i=this.faces.length;m<i;m++){var H=new Y,K={a:new Y,b:new Y,c:new Y};A.push(H),F.push(K)}}for(F=this.morphNormals[E],O.vertices=this.morphTargets[E].vertices,O.computeFaceNormals(),O.computeVertexNormals(),m=0,i=this.faces.length;m<i;m++)A=this.faces[m],H=F.faceNormals[m],K=F.vertexNormals[m],H.copy(A.normal),K.a.copy(A.vertexNormals[0]),K.b.copy(A.vertexNormals[1]),K.c.copy(A.vertexNormals[2])}for(m=0,i=this.faces.length;m<i;m++)A=this.faces[m],A.normal=A.__originalFaceNormal,A.vertexNormals=A.__originalVertexNormals},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new yt),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new vt),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,i,m){if(t&&t.isGeometry){var A,E=this.vertices.length,O=this.vertices,F=t.vertices,H=this.faces,K=t.faces,$=this.colors,ue=t.colors;m===void 0&&(m=0),i!==void 0&&(A=new v().getNormalMatrix(i));for(var me=0,pe=F.length;me<pe;me++){var be=F[me].clone();i!==void 0&&be.applyMatrix4(i),O.push(be)}for(me=0,pe=ue.length;me<pe;me++)$.push(ue[me].clone());for(me=0,pe=K.length;me<pe;me++){F=K[me];var Te=F.vertexNormals;for(ue=F.vertexColors,$=new nn(F.a+E,F.b+E,F.c+E),$.normal.copy(F.normal),A!==void 0&&$.normal.applyMatrix3(A).normalize(),i=0,O=Te.length;i<O;i++)be=Te[i].clone(),A!==void 0&&be.applyMatrix3(A).normalize(),$.vertexNormals.push(be);for($.color.copy(F.color),i=0,O=ue.length;i<O;i++)be=ue[i],$.vertexColors.push(be.clone());$.materialIndex=F.materialIndex+m,H.push($)}for(me=0,pe=t.faceVertexUvs.length;me<pe;me++)for(m=t.faceVertexUvs[me],this.faceVertexUvs[me]===void 0&&(this.faceVertexUvs[me]=[]),i=0,O=m.length;i<O;i++){for(A=m[i],E=[],H=0,K=A.length;H<K;H++)E.push(A[H].clone());this.faceVertexUvs[me].push(E)}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t)},mergeMesh:function(t){t&&t.isMesh?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(){var t={},i=[],m=[],A=Math.pow(10,4),E,O=0;for(E=this.vertices.length;O<E;O++){var F=this.vertices[O];F=Math.round(F.x*A)+"_"+Math.round(F.y*A)+"_"+Math.round(F.z*A),t[F]===void 0?(t[F]=O,i.push(this.vertices[O]),m[O]=i.length-1):m[O]=m[t[F]]}for(t=[],O=0,E=this.faces.length;O<E;O++)for(A=this.faces[O],A.a=m[A.a],A.b=m[A.b],A.c=m[A.c],A=[A.a,A.b,A.c],F=0;3>F;F++)if(A[F]===A[(F+1)%3]){t.push(O);break}for(O=t.length-1;0<=O;O--)for(A=t[O],this.faces.splice(A,1),m=0,E=this.faceVertexUvs.length;m<E;m++)this.faceVertexUvs[m].splice(A,1);return O=this.vertices.length-i.length,this.vertices=i,O},setFromPoints:function(t){this.vertices=[];for(var i=0,m=t.length;i<m;i++){var A=t[i];this.vertices.push(new Y(A.x,A.y,A.z||0))}return this},sortFacesByMaterialIndex:function(){for(var t=this.faces,i=t.length,m=0;m<i;m++)t[m]._id=m;t.sort(function(K,$){return K.materialIndex-$.materialIndex});var A=this.faceVertexUvs[0],E=this.faceVertexUvs[1],O,F;for(A&&A.length===i&&(O=[]),E&&E.length===i&&(F=[]),m=0;m<i;m++){var H=t[m]._id;O&&O.push(A[H]),F&&F.push(E[H])}O&&(this.faceVertexUvs[0]=O),F&&(this.faceVertexUvs[1]=F)},toJSON:function(){function t(qt,Pt,Br){return Br?qt|1<<Pt:qt&~(1<<Pt)}function i(qt){var Pt=qt.x.toString()+qt.y.toString()+qt.z.toString();return $[Pt]!==void 0||($[Pt]=K.length/3,K.push(qt.x,qt.y,qt.z)),$[Pt]}function m(qt){var Pt=qt.r.toString()+qt.g.toString()+qt.b.toString();return me[Pt]!==void 0||(me[Pt]=ue.length,ue.push(qt.getHex())),me[Pt]}function A(qt){var Pt=qt.x.toString()+qt.y.toString();return be[Pt]!==void 0||(be[Pt]=pe.length/2,pe.push(qt.x,qt.y)),be[Pt]}var E={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(E.uuid=this.uuid,E.type=this.type,this.name!==""&&(E.name=this.name),this.parameters!==void 0){var O=this.parameters,F;for(F in O)O[F]!==void 0&&(E[F]=O[F]);return E}for(O=[],F=0;F<this.vertices.length;F++){var H=this.vertices[F];O.push(H.x,H.y,H.z)}H=[];var K=[],$={},ue=[],me={},pe=[],be={};for(F=0;F<this.faces.length;F++){var Te=this.faces[F],it=this.faceVertexUvs[0][F]!==void 0,_t=0<Te.normal.length(),Mt=0<Te.vertexNormals.length,It=Te.color.r!==1||Te.color.g!==1||Te.color.b!==1,Bt=0<Te.vertexColors.length,hr=0;hr=t(hr,0,0),hr=t(hr,1,!0),hr=t(hr,2,!1),hr=t(hr,3,it),hr=t(hr,4,_t),hr=t(hr,5,Mt),hr=t(hr,6,It),hr=t(hr,7,Bt),H.push(hr),H.push(Te.a,Te.b,Te.c),H.push(Te.materialIndex),it&&(it=this.faceVertexUvs[0][F],H.push(A(it[0]),A(it[1]),A(it[2]))),_t&&H.push(i(Te.normal)),Mt&&(_t=Te.vertexNormals,H.push(i(_t[0]),i(_t[1]),i(_t[2]))),It&&H.push(m(Te.color)),Bt&&(Te=Te.vertexColors,H.push(m(Te[0]),m(Te[1]),m(Te[2])))}return E.data={},E.data.vertices=O,E.data.normals=K,0<ue.length&&(E.data.colors=ue),0<pe.length&&(E.data.uvs=[pe]),E.data.faces=H,E},clone:function(){return new Vt().copy(this)},copy:function(t){var i,m,A;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingSphere=this.boundingBox=null,this.name=t.name;var E=t.vertices,O=0;for(i=E.length;O<i;O++)this.vertices.push(E[O].clone());for(E=t.colors,O=0,i=E.length;O<i;O++)this.colors.push(E[O].clone());for(E=t.faces,O=0,i=E.length;O<i;O++)this.faces.push(E[O].clone());for(O=0,i=t.faceVertexUvs.length;O<i;O++){var F=t.faceVertexUvs[O];for(this.faceVertexUvs[O]===void 0&&(this.faceVertexUvs[O]=[]),E=0,m=F.length;E<m;E++){var H=F[E],K=[],$=0;for(A=H.length;$<A;$++)K.push(H[$].clone());this.faceVertexUvs[O].push(K)}}for($=t.morphTargets,O=0,i=$.length;O<i;O++){if(A={},A.name=$[O].name,$[O].vertices!==void 0)for(A.vertices=[],E=0,m=$[O].vertices.length;E<m;E++)A.vertices.push($[O].vertices[E].clone());if($[O].normals!==void 0)for(A.normals=[],E=0,m=$[O].normals.length;E<m;E++)A.normals.push($[O].normals[E].clone());this.morphTargets.push(A)}for($=t.morphNormals,O=0,i=$.length;O<i;O++){if(A={},$[O].vertexNormals!==void 0)for(A.vertexNormals=[],E=0,m=$[O].vertexNormals.length;E<m;E++)F=$[O].vertexNormals[E],H={},H.a=F.a.clone(),H.b=F.b.clone(),H.c=F.c.clone(),A.vertexNormals.push(H);if($[O].faceNormals!==void 0)for(A.faceNormals=[],E=0,m=$[O].faceNormals.length;E<m;E++)A.faceNormals.push($[O].faceNormals[E].clone());this.morphNormals.push(A)}for(E=t.skinWeights,O=0,i=E.length;O<i;O++)this.skinWeights.push(E[O].clone());for(E=t.skinIndices,O=0,i=E.length;O<i;O++)this.skinIndices.push(E[O].clone());for(E=t.lineDistances,O=0,i=E.length;O<i;O++)this.lineDistances.push(E[O]);return O=t.boundingBox,O!==null&&(this.boundingBox=O.clone()),O=t.boundingSphere,O!==null&&(this.boundingSphere=O.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var XC=function(s){function t(i,m,A,E,O,F){s.call(this),this.type="BoxGeometry",this.parameters={width:i,height:m,depth:A,widthSegments:E,heightSegments:O,depthSegments:F},this.fromBufferGeometry(new v2(i,m,A,E,O,F)),this.mergeVertices()}return s&&(t.__proto__=s),t.prototype=Oe(s&&s.prototype),t.prototype.constructor=t}(Vt),v2=function(s){function t(i,m,A,E,O,F){function H(it,_t,Mt,It,Bt,hr,qt,Pt,Br,Ht,cn){var In=hr/Br,Ur=qt/Ht,Mi=hr/2,Rn=qt/2,yi=Pt/2;qt=Br+1;for(var Di=Ht+1,zi=hr=0,To=new Y,ho=0;ho<Di;ho++)for(var la=ho*Ur-Rn,Fa=0;Fa<qt;Fa++)To[it]=(Fa*In-Mi)*It,To[_t]=la*Bt,To[Mt]=yi,ue.push(To.x,To.y,To.z),To[it]=0,To[_t]=0,To[Mt]=0<Pt?1:-1,me.push(To.x,To.y,To.z),pe.push(Fa/Br),pe.push(1-ho/Ht),hr+=1;for(it=0;it<Ht;it++)for(_t=0;_t<Br;_t++)Mt=be+_t+qt*(it+1),It=be+(_t+1)+qt*(it+1),Bt=be+(_t+1)+qt*it,$.push(be+_t+qt*it,Mt,Bt),$.push(Mt,It,Bt),zi+=6;K.addGroup(Te,zi,cn),Te+=zi,be+=hr}s.call(this),this.type="BoxBufferGeometry",this.parameters={width:i,height:m,depth:A,widthSegments:E,heightSegments:O,depthSegments:F};var K=this;i=i||1,m=m||1,A=A||1,E=Math.floor(E)||1,O=Math.floor(O)||1,F=Math.floor(F)||1;var $=[],ue=[],me=[],pe=[],be=0,Te=0;H("z","y","x",-1,-1,A,m,i,F,O,0),H("z","y","x",1,-1,A,m,-i,F,O,1),H("x","z","y",1,1,i,A,m,E,F,2),H("x","z","y",1,-1,i,A,-m,E,F,3),H("x","y","z",1,-1,i,m,A,E,O,4),H("x","y","z",-1,-1,i,m,-A,E,O,5),this.setIndex($),this.setAttribute("position",new tn(ue,3)),this.setAttribute("normal",new tn(me,3)),this.setAttribute("uv",new tn(pe,2))}return s&&(t.__proto__=s),t.prototype=Oe(s&&s.prototype),t.prototype.constructor=t}(Et),$S={clone:Qt,merge:bn};Hr.prototype=Oe(Wt.prototype),Hr.prototype.constructor=Hr,Hr.prototype.isShaderMaterial=!0,Hr.prototype.copy=function(s){return Wt.prototype.copy.call(this,s),this.fragmentShader=s.fragmentShader,this.vertexShader=s.vertexShader,this.uniforms=Qt(s.uniforms),this.defines=Le({},s.defines),this.wireframe=s.wireframe,this.wireframeLinewidth=s.wireframeLinewidth,this.lights=s.lights,this.clipping=s.clipping,this.skinning=s.skinning,this.morphTargets=s.morphTargets,this.morphNormals=s.morphNormals,this.extensions=Le({},s.extensions),this},Hr.prototype.toJSON=function(s){var t=Wt.prototype.toJSON.call(this,s);t.uniforms={};for(var i in this.uniforms){var m=this.uniforms[i].value;t.uniforms[i]=m&&m.isTexture?{type:"t",value:m.toJSON(s).uuid}:m&&m.isColor?{type:"c",value:m.getHex()}:m&&m.isVector2?{type:"v2",value:m.toArray()}:m&&m.isVector3?{type:"v3",value:m.toArray()}:m&&m.isVector4?{type:"v4",value:m.toArray()}:m&&m.isMatrix3?{type:"m3",value:m.toArray()}:m&&m.isMatrix4?{type:"m4",value:m.toArray()}:{value:m}}0<es(this.defines).length&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,s={};for(var A in this.extensions)this.extensions[A]===!0&&(s[A]=!0);return 0<es(s).length&&(t.extensions=s),t},sn.prototype=Le(Oe(we.prototype),{constructor:sn,isCamera:!0,copy:function(t,i){return we.prototype.copy.call(this,t,i),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){t===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new Y),this.updateMatrixWorld(!0);var i=this.matrixWorld.elements;return t.set(-i[8],-i[9],-i[10]).normalize()},updateMatrixWorld:function(t){we.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(t,i){we.prototype.updateWorldMatrix.call(this,t,i),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return new this.constructor().copy(this)}}),mr.prototype=Le(Oe(sn.prototype),{constructor:mr,isPerspectiveCamera:!0,copy:function(t,i){return sn.prototype.copy.call(this,t,i),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Le({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){t=.5*this.getFilmHeight()/t,this.fov=2*Fo.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*Fo.DEG2RAD*this.fov);return .5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Fo.RAD2DEG*Math.atan(Math.tan(.5*Fo.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,i,m,A,E,O){this.aspect=t/i,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=i,this.view.offsetX=m,this.view.offsetY=A,this.view.width=E,this.view.height=O,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,i=t*Math.tan(.5*Fo.DEG2RAD*this.fov)/this.zoom,m=2*i,A=this.aspect*m,E=-.5*A,O=this.view;if(this.view!==null&&this.view.enabled){var F=O.fullWidth,H=O.fullHeight;E+=O.offsetX*A/F,i-=O.offsetY*m/H,A*=O.width/F,m*=O.height/H}O=this.filmOffset,O!==0&&(E+=t*O/this.getFilmWidth()),this.projectionMatrix.makePerspective(E,E+A,i,i-m,t,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){return t=we.prototype.toJSON.call(this,t),t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Le({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}),Si.prototype=Oe(we.prototype),Si.prototype.constructor=Si,mo.prototype=Oe(R.prototype),mo.prototype.constructor=mo,mo.prototype.isWebGLCubeRenderTarget=!0,mo.prototype.fromEquirectangularTexture=function(s,t){this.texture.type=t.type,this.texture.format=t.format,this.texture.encoding=t.encoding;var i=new Qe,m=new Hr({type:"CubemapFromEquirect",uniforms:Qt({tEquirect:{value:null}}),vertexShader:`varying vec3 vWorldDirection;
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragmentShader:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
}`,side:1,blending:0});return m.uniforms.tEquirect.value=t,t=new Kt(new v2(5,5,5),m),i.add(t),new Si(1,10,this).update(s,i),t.geometry.dispose(),t.material.dispose(),this},xr.prototype=Oe(b.prototype),xr.prototype.constructor=xr,xr.prototype.isDataTexture=!0;var ZC=new vt,Uw=new Y;Le(Hi.prototype,{set:function(t,i,m,A,E,O){var F=this.planes;return F[0].copy(t),F[1].copy(i),F[2].copy(m),F[3].copy(A),F[4].copy(E),F[5].copy(O),this},clone:function(){return new this.constructor().copy(this)},copy:function(t){for(var i=this.planes,m=0;6>m;m++)i[m].copy(t.planes[m]);return this},setFromProjectionMatrix:function(t){var i=this.planes,m=t.elements;t=m[0];var A=m[1],E=m[2],O=m[3],F=m[4],H=m[5],K=m[6],$=m[7],ue=m[8],me=m[9],pe=m[10],be=m[11],Te=m[12],it=m[13],_t=m[14];return m=m[15],i[0].setComponents(O-t,$-F,be-ue,m-Te).normalize(),i[1].setComponents(O+t,$+F,be+ue,m+Te).normalize(),i[2].setComponents(O+A,$+H,be+me,m+it).normalize(),i[3].setComponents(O-A,$-H,be-me,m-it).normalize(),i[4].setComponents(O-E,$-K,be-pe,m-_t).normalize(),i[5].setComponents(O+E,$+K,be+pe,m+_t).normalize(),this},intersectsObject:function(t){var i=t.geometry;return i.boundingSphere===null&&i.computeBoundingSphere(),ZC.copy(i.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(ZC)},intersectsSprite:function(t){return ZC.center.set(0,0,0),ZC.radius=.7071067811865476,ZC.applyMatrix4(t.matrixWorld),this.intersectsSphere(ZC)},intersectsSphere:function(t){var i=this.planes,m=t.center;t=-t.radius;for(var A=0;6>A;A++)if(i[A].distanceToPoint(m)<t)return!1;return!0},intersectsBox:function(t){for(var i=this.planes,m=0;6>m;m++){var A=i[m];if(Uw.x=0<A.normal.x?t.max.x:t.min.x,Uw.y=0<A.normal.y?t.max.y:t.min.y,Uw.z=0<A.normal.z?t.max.z:t.min.z,0>A.distanceToPoint(Uw))return!1}return!0},containsPoint:function(t){for(var i=this.planes,m=0;6>m;m++)if(0>i[m].distanceToPoint(t))return!1;return!0}});var ei={common:{diffuse:{value:new at(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new v},uv2Transform:{value:new v},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new l(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new at(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new at(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new v}},sprite:{diffuse:{value:new at(15658734)},opacity:{value:1},center:{value:new l(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new v}}};Ua.prototype=Oe(Vt.prototype),Ua.prototype.constructor=Ua,us.prototype=Oe(Et.prototype),us.prototype.constructor=us;var ra={alphamap_fragment:`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,alphamap_pars_fragment:`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment:`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,aomap_fragment:`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,aomap_pars_fragment:`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs:`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE  = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS  = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha  = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,bumpmap_pars_fragment:`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment:`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment:`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex:`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex:`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment:`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment:`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,color_pars_vertex:`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,color_vertex:`#ifdef USE_COLOR
	vColor.xyz = color.xyz;
#endif`,common:`#define PI 3.14159265359
#define PI2 6.28318530718
#define PI_HALF 1.5707963267949
#define RECIPROCAL_PI 0.31830988618
#define RECIPROCAL_PI2 0.15915494
#define LOG2 1.442695
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
  return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,cube_uv_reflection_fragment:`#ifdef ENVMAP_TYPE_CUBE_UV
#define cubeUV_maxMipLevel 8.0
#define cubeUV_minMipLevel 4.0
#define cubeUV_maxTileSize 256.0
#define cubeUV_minTileSize 16.0
float getFace(vec3 direction) {
    vec3 absDirection = abs(direction);
    float face = -1.0;
    if (absDirection.x > absDirection.z) {
      if (absDirection.x > absDirection.y)
        face = direction.x > 0.0 ? 0.0 : 3.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    } else {
      if (absDirection.z > absDirection.y)
        face = direction.z > 0.0 ? 2.0 : 5.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    }
    return face;
}
vec2 getUV(vec3 direction, float face) {
    vec2 uv;
    if (face == 0.0) {
      uv = vec2(direction.z, direction.y) / abs(direction.x);    } else if (face == 1.0) {
      uv = vec2(-direction.x, -direction.z) / abs(direction.y);    } else if (face == 2.0) {
      uv = vec2(-direction.x, direction.y) / abs(direction.z);    } else if (face == 3.0) {
      uv = vec2(-direction.z, direction.y) / abs(direction.x);    } else if (face == 4.0) {
      uv = vec2(-direction.x, direction.z) / abs(direction.y);    } else {
      uv = vec2(direction.x, direction.y) / abs(direction.z);    }
    return 0.5 * (uv + 1.0);
}
vec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {
  float face = getFace(direction);
  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);
  mipInt = max(mipInt, cubeUV_minMipLevel);
  float faceSize = exp2(mipInt);
  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);
  vec2 uv = getUV(direction, face) * (faceSize - 1.0);
  vec2 f = fract(uv);
  uv += 0.5 - f;
  if (face > 2.0) {
    uv.y += faceSize;
    face -= 3.0;
  }
  uv.x += face * faceSize;
  if(mipInt < cubeUV_maxMipLevel){
    uv.y += 2.0 * cubeUV_maxTileSize;
  }
  uv.y += filterInt * 2.0 * cubeUV_minTileSize;
  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);
  uv *= texelSize;
  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x += texelSize;
  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.y += texelSize;
  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x -= texelSize;
  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  vec3 tm = mix(tl, tr, f.x);
  vec3 bm = mix(bl, br, f.x);
  return mix(tm, bm, f.y);
}
#define r0 1.0
#define v0 0.339
#define m0 -2.0
#define r1 0.8
#define v1 0.276
#define m1 -1.0
#define r4 0.4
#define v4 0.046
#define m4 2.0
#define r5 0.305
#define v5 0.016
#define m5 3.0
#define r6 0.21
#define v6 0.0038
#define m6 4.0
float roughnessToMip(float roughness) {
  float mip = 0.0;
  if (roughness >= r1) {
    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;
  } else if (roughness >= r4) {
    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;
  } else if (roughness >= r5) {
    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;
  } else if (roughness >= r6) {
    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;
  } else {
    mip = -2.0 * log2(1.16 * roughness);  }
  return mip;
}
vec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {
  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);
  float mipF = fract(mip);
  float mipInt = floor(mip);
  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);
  if (mipF == 0.0) {
    return vec4(color0, 1.0);
  } else {
    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);
    return vec4(mix(color0, color1, mipF), 1.0);
  }
}
#endif`,defaultnormal_vertex:`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex:`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex:`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment:`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment:`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value )  {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,envmap_fragment:`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		}  else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#elif defined( ENVMAP_TYPE_EQUIREC )
		reflectVec = normalize( reflectVec );
		vec2 sampleUV = equirectUv( reflectVec );
		vec4 envColor = texture2D( envMap, sampleUV );
	#elif defined( ENVMAP_TYPE_SPHERE )
		reflectVec = normalize( reflectVec );
		vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );
		vec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment:`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment:`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex:`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_physical_pars_fragment:`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
		  vec3 reflectVec = reflect( -viewDir, normal );
		  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
		  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#elif defined( ENVMAP_TYPE_EQUIREC )
			vec2 sampleUV = equirectUv( reflectVec );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_SPHERE )
			vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,envmap_vertex:`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) { 
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex:`#ifdef USE_FOG
	fogDepth = -mvPosition.z;
#endif`,fog_pars_vertex:`#ifdef USE_FOG
	varying float fogDepth;
#endif`,fog_fragment:`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment:`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment:`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,lightmap_fragment:`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,lightmap_pars_fragment:`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_vertex:`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,lights_pars_begin:`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
		struct PointLightShadow {
			float shadowBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,lights_toon_fragment:`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_toon_pars_fragment:`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,lights_phong_fragment:`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment:`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,lights_physical_fragment:`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,lights_physical_pars_fragment:`struct PhysicalMaterial {
	vec3	diffuseColor;
	float	specularRoughness;
	vec3	specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin:`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps:`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,lights_fragment_end:`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment:`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment:`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex:`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex:`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment:`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,map_pars_fragment:`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment:`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment:`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment:`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment:`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphnormal_vertex:`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,morphtarget_pars_vertex:`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
	uniform float morphTargetInfluences[ 8 ];
	#else
	uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,morphtarget_vertex:`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
	transformed += morphTarget4 * morphTargetInfluences[ 4 ];
	transformed += morphTarget5 * morphTargetInfluences[ 5 ];
	transformed += morphTarget6 * morphTargetInfluences[ 6 ];
	transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,normal_fragment_begin:`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			bitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps:`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif`,normalmap_pars_fragment:`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		float scale = sign( st1.t * st0.s - st0.t * st1.s );
		vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
		vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
		vec3 N = normalize( surf_norm );
		mat3 tsn = mat3( S, T, N );
		mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		return normalize( tsn * mapN );
	}
#endif`,clearcoat_normal_fragment_begin:`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps:`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );
	#endif
#endif`,clearcoat_pars_fragment:`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,packing:`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,premultiplied_alpha_fragment:`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex:`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment:`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment:`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment:`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment:`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,shadowmask_pars_fragment:`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex:`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex:`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,skinning_vertex:`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex:`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment:`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment:`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment:`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment:`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
uniform float toneMappingWhitePoint;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )
vec3 Uncharted2ToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );
}`,uv_pars_fragment:`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,uv_pars_vertex:`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uv_vertex:`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uv2_vertex:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,worldpos_vertex:`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,background_frag:`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,cube_frag:`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,depth_vert:`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshbasic_vert:`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSPARENCY
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSPARENCY
	uniform float transparency;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSPARENCY
		diffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,normal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,normal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,shadow_vert:`#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`},ig={basic:{uniforms:bn([ei.common,ei.specularmap,ei.envmap,ei.aomap,ei.lightmap,ei.fog]),vertexShader:ra.meshbasic_vert,fragmentShader:ra.meshbasic_frag},lambert:{uniforms:bn([ei.common,ei.specularmap,ei.envmap,ei.aomap,ei.lightmap,ei.emissivemap,ei.fog,ei.lights,{emissive:{value:new at(0)}}]),vertexShader:ra.meshlambert_vert,fragmentShader:ra.meshlambert_frag},phong:{uniforms:bn([ei.common,ei.specularmap,ei.envmap,ei.aomap,ei.lightmap,ei.emissivemap,ei.bumpmap,ei.normalmap,ei.displacementmap,ei.fog,ei.lights,{emissive:{value:new at(0)},specular:{value:new at(1118481)},shininess:{value:30}}]),vertexShader:ra.meshphong_vert,fragmentShader:ra.meshphong_frag},standard:{uniforms:bn([ei.common,ei.envmap,ei.aomap,ei.lightmap,ei.emissivemap,ei.bumpmap,ei.normalmap,ei.displacementmap,ei.roughnessmap,ei.metalnessmap,ei.fog,ei.lights,{emissive:{value:new at(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ra.meshphysical_vert,fragmentShader:ra.meshphysical_frag},toon:{uniforms:bn([ei.common,ei.specularmap,ei.aomap,ei.lightmap,ei.emissivemap,ei.bumpmap,ei.normalmap,ei.displacementmap,ei.gradientmap,ei.fog,ei.lights,{emissive:{value:new at(0)},specular:{value:new at(1118481)},shininess:{value:30}}]),vertexShader:ra.meshtoon_vert,fragmentShader:ra.meshtoon_frag},matcap:{uniforms:bn([ei.common,ei.bumpmap,ei.normalmap,ei.displacementmap,ei.fog,{matcap:{value:null}}]),vertexShader:ra.meshmatcap_vert,fragmentShader:ra.meshmatcap_frag},points:{uniforms:bn([ei.points,ei.fog]),vertexShader:ra.points_vert,fragmentShader:ra.points_frag},dashed:{uniforms:bn([ei.common,ei.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ra.linedashed_vert,fragmentShader:ra.linedashed_frag},depth:{uniforms:bn([ei.common,ei.displacementmap]),vertexShader:ra.depth_vert,fragmentShader:ra.depth_frag},normal:{uniforms:bn([ei.common,ei.bumpmap,ei.normalmap,ei.displacementmap,{opacity:{value:1}}]),vertexShader:ra.normal_vert,fragmentShader:ra.normal_frag},sprite:{uniforms:bn([ei.sprite,ei.fog]),vertexShader:ra.sprite_vert,fragmentShader:ra.sprite_frag},background:{uniforms:{uvTransform:{value:new v},t2D:{value:null}},vertexShader:ra.background_vert,fragmentShader:ra.background_frag},cube:{uniforms:bn([ei.envmap,{opacity:{value:1}}]),vertexShader:ra.cube_vert,fragmentShader:ra.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ra.equirect_vert,fragmentShader:ra.equirect_frag},distanceRGBA:{uniforms:bn([ei.common,ei.displacementmap,{referencePosition:{value:new Y},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ra.distanceRGBA_vert,fragmentShader:ra.distanceRGBA_frag},shadow:{uniforms:bn([ei.lights,ei.fog,{color:{value:new at(0)},opacity:{value:1}}]),vertexShader:ra.shadow_vert,fragmentShader:ra.shadow_frag}};ig.physical={uniforms:bn([ig.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new l(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new at(0)},transparency:{value:0}}]),vertexShader:ra.meshphysical_vert,fragmentShader:ra.meshphysical_frag},Id.prototype=Oe(b.prototype),Id.prototype.constructor=Id,Id.prototype.isCubeTexture=!0,Object.defineProperty(Id.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),mc.prototype=Oe(b.prototype),mc.prototype.constructor=mc,mc.prototype.isDataTexture2DArray=!0,gc.prototype=Oe(b.prototype),gc.prototype.constructor=gc,gc.prototype.isDataTexture3D=!0;var e_=new b,qb=new mc,Qb=new gc,kw=new Id,t_=[],Y_=[],c=new Float32Array(16),d=new Float32Array(9),y=new Float32Array(4);dS.prototype.updateCache=function(s){var t=this.cache;s instanceof Float32Array&&t.length!==s.length&&(this.cache=new Float32Array(s.length)),Gu(t,s)},pS.prototype.setValue=function(s,t,i){for(var m=this.seq,A=0,E=m.length;A!==E;++A){var O=m[A];O.setValue(s,t[O.id],i)}};var g=/([\w\d_]+)(\])?(\[|\.)?/g;ny.prototype.setValue=function(s,t,i,m){t=this.map[t],t!==void 0&&t.setValue(s,i,m)},ny.prototype.setOptional=function(s,t,i){t=t[i],t!==void 0&&this.setValue(s,i,t)},ny.upload=function(s,t,i,m){for(var A=0,E=t.length;A!==E;++A){var O=t[A],F=i[O.id];F.needsUpdate!==!1&&O.setValue(s,F.value,m)}},ny.seqWithValue=function(s,t){for(var i=[],m=0,A=s.length;m!==A;++m){var E=s[m];E.id in t&&i.push(E)}return i};var w=0,I=/^[ \t]*#include +<([\w\d./]+)>/gm,B=/#pragma unroll_loop[\s]+?for \( int i = (\d+); i < (\d+); i \+\+ \) \{([\s\S]+?)(?=\})\}/g,j=/#pragma unroll_loop_start[\s]+?for \( int i = (\d+); i < (\d+); i \+\+ \) \{([\s\S]+?)(?=\})\}[\s]+?#pragma unroll_loop_end/g,W=0;iy.prototype=Oe(Wt.prototype),iy.prototype.constructor=iy,iy.prototype.isMeshDepthMaterial=!0,iy.prototype.copy=function(s){return Wt.prototype.copy.call(this,s),this.depthPacking=s.depthPacking,this.skinning=s.skinning,this.morphTargets=s.morphTargets,this.map=s.map,this.alphaMap=s.alphaMap,this.displacementMap=s.displacementMap,this.displacementScale=s.displacementScale,this.displacementBias=s.displacementBias,this.wireframe=s.wireframe,this.wireframeLinewidth=s.wireframeLinewidth,this},wv.prototype=Oe(Wt.prototype),wv.prototype.constructor=wv,wv.prototype.isMeshDistanceMaterial=!0,wv.prototype.copy=function(s){return Wt.prototype.copy.call(this,s),this.referencePosition.copy(s.referencePosition),this.nearDistance=s.nearDistance,this.farDistance=s.farDistance,this.skinning=s.skinning,this.morphTargets=s.morphTargets,this.map=s.map,this.alphaMap=s.alphaMap,this.displacementMap=s.displacementMap,this.displacementScale=s.displacementScale,this.displacementBias=s.displacementBias,this},iC.prototype=Le(Oe(mr.prototype),{constructor:iC,isArrayCamera:!0}),oy.prototype=Le(Oe(we.prototype),{constructor:oy,isGroup:!0}),Le(oC.prototype,{constructor:oC,getTargetRaySpace:function(){return this._targetRay===null&&(this._targetRay=new oy,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return this._grip===null&&(this._grip=new oy,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this},disconnect:function(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this},update:function(t,i,m){var A=null,E=null,O=this._targetRay,F=this._grip;return t&&(O!==null&&(A=i.getPose(t.targetRaySpace,m),A!==null&&(O.matrix.fromArray(A.transform.matrix),O.matrix.decompose(O.position,O.rotation,O.scale))),F!==null&&t.gripSpace&&(E=i.getPose(t.gripSpace,m),E!==null&&(F.matrix.fromArray(E.transform.matrix),F.matrix.decompose(F.position,F.rotation,F.scale)))),O!==null&&(O.visible=A!==null),F!==null&&(F.visible=E!==null),this}}),Le(MS.prototype,a.prototype),Le(Ym.prototype,{isFogExp2:!0,clone:function(){return new Ym(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Le(P1.prototype,{isFog:!0,clone:function(){return new P1(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(Pp.prototype,"needsUpdate",{set:function(t){t===!0&&this.version++}}),Le(Pp.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this},copyAt:function(t,i,m){t*=this.stride,m*=i.stride;for(var A=0,E=this.stride;A<E;A++)this.array[t+A]=i.array[m+A];return this},set:function(t,i){return i===void 0&&(i=0),this.array.set(t,i),this},clone:function(){return new this.constructor().copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}});var Z=new Y;Zi(bv.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Le(bv.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(t){for(var i=0,m=this.data.count;i<m;i++)Z.x=this.getX(i),Z.y=this.getY(i),Z.z=this.getZ(i),Z.applyMatrix4(t),this.setXYZ(i,Z.x,Z.y,Z.z);return this},setX:function(t,i){return this.data.array[t*this.data.stride+this.offset]=i,this},setY:function(t,i){return this.data.array[t*this.data.stride+this.offset+1]=i,this},setZ:function(t,i){return this.data.array[t*this.data.stride+this.offset+2]=i,this},setW:function(t,i){return this.data.array[t*this.data.stride+this.offset+3]=i,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,i,m){return t=t*this.data.stride+this.offset,this.data.array[t+0]=i,this.data.array[t+1]=m,this},setXYZ:function(t,i,m,A){return t=t*this.data.stride+this.offset,this.data.array[t+0]=i,this.data.array[t+1]=m,this.data.array[t+2]=A,this},setXYZW:function(t,i,m,A,E){return t=t*this.data.stride+this.offset,this.data.array[t+0]=i,this.data.array[t+1]=m,this.data.array[t+2]=A,this.data.array[t+3]=E,this},clone:function(){for(var t=[],i=0;i<this.count;i++)for(var m=i*this.data.stride+this.offset,A=0;A<this.itemSize;A++)t.push(this.data.array[m+A]);return new gr(new this.array.constructor(t),this.itemSize,this.normalized)},toJSON:function(){for(var t=[],i=0;i<this.count;i++)for(var m=i*this.data.stride+this.offset,A=0;A<this.itemSize;A++)t.push(this.data.array[m+A]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}}),Od.prototype=Oe(Wt.prototype),Od.prototype.constructor=Od,Od.prototype.isSpriteMaterial=!0,Od.prototype.copy=function(s){return Wt.prototype.copy.call(this,s),this.color.copy(s.color),this.map=s.map,this.alphaMap=s.alphaMap,this.rotation=s.rotation,this.sizeAttenuation=s.sizeAttenuation,this};var ee,te=new Y,oe=new Y,ce=new Y,se=new l,Ce=new l,ye=new ie,Se=new Y,_e=new Y,Ie=new Y,Ge=new l,je=new l,ke=new l;ay.prototype=Le(Oe(we.prototype),{constructor:ay,isSprite:!0,raycast:function(t,i){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),oe.setFromMatrixScale(this.matrixWorld),ye.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),ce.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&oe.multiplyScalar(-ce.z);var m=this.material.rotation;if(m!==0)var A=Math.cos(m),E=Math.sin(m);m=this.center,aC(Se.set(-.5,-.5,0),ce,m,oe,E,A),aC(_e.set(.5,-.5,0),ce,m,oe,E,A),aC(Ie.set(.5,.5,0),ce,m,oe,E,A),Ge.set(0,0),je.set(1,0),ke.set(1,1);var O=t.ray.intersectTriangle(Se,_e,Ie,!1,te);O===null&&(aC(_e.set(-.5,.5,0),ce,m,oe,E,A),je.set(0,1),O=t.ray.intersectTriangle(Se,Ie,_e,!1,te),O===null)||(E=t.ray.origin.distanceTo(te),E<t.near||E>t.far||i.push({distance:E,point:te.clone(),uv:Ut.getUV(te,Se,_e,Ie,Ge,je,ke,new l),face:null,object:this}))},clone:function(){return new this.constructor(this.material).copy(this)},copy:function(t){return we.prototype.copy.call(this,t),t.center!==void 0&&this.center.copy(t.center),this}});var Ze=new Y,He=new Y;O1.prototype=Le(Oe(we.prototype),{constructor:O1,isLOD:!0,copy:function(t){we.prototype.copy.call(this,t,!1);for(var i=t.levels,m=0,A=i.length;m<A;m++){var E=i[m];this.addLevel(E.object.clone(),E.distance)}return this.autoUpdate=t.autoUpdate,this},addLevel:function(t,i){i===void 0&&(i=0),i=Math.abs(i);for(var m=this.levels,A=0;A<m.length&&!(i<m[A].distance);A++);return m.splice(A,0,{distance:i,object:t}),this.add(t),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(t){var i=this.levels;if(0<i.length){for(var m=1,A=i.length;m<A&&!(t<i[m].distance);m++);return i[m-1].object}return null},raycast:function(t,i){if(0<this.levels.length){Ze.setFromMatrixPosition(this.matrixWorld);var m=t.ray.origin.distanceTo(Ze);this.getObjectForDistance(m).raycast(t,i)}},update:function(t){var i=this.levels;if(1<i.length){Ze.setFromMatrixPosition(t.matrixWorld),He.setFromMatrixPosition(this.matrixWorld),t=Ze.distanceTo(He)/t.zoom,i[0].object.visible=!0;for(var m=1,A=i.length;m<A&&t>=i[m].distance;m++)i[m-1].object.visible=!1,i[m].object.visible=!0;for(this._currentLevel=m-1;m<A;m++)i[m].object.visible=!1}},toJSON:function(t){t=we.prototype.toJSON.call(this,t),this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];for(var i=this.levels,m=0,A=i.length;m<A;m++){var E=i[m];t.object.levels.push({object:E.object.uuid,distance:E.distance})}return t}}),K2.prototype=Le(Oe(Kt.prototype),{constructor:K2,isSkinnedMesh:!0,bind:function(t,i){this.skeleton=t,i===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),i=this.matrixWorld),this.bindMatrix.copy(i),this.bindMatrixInverse.getInverse(i)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var t=new M,i=this.geometry.attributes.skinWeight,m=0,A=i.count;m<A;m++){t.x=i.getX(m),t.y=i.getY(m),t.z=i.getZ(m),t.w=i.getW(m);var E=1/t.manhattanLength();E!==Infinity?t.multiplyScalar(E):t.set(1,0,0,0),i.setXYZW(m,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){Kt.prototype.updateMatrixWorld.call(this,t),this.bindMode==="attached"?this.bindMatrixInverse.getInverse(this.matrixWorld):this.bindMode==="detached"?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)},boneTransform:function(){var s=new Y,t=new M,i=new M,m=new Y,A=new ie;return function(E,O){var F=this.skeleton,H=this.geometry;for(t.fromBufferAttribute(H.attributes.skinIndex,E),i.fromBufferAttribute(H.attributes.skinWeight,E),s.fromBufferAttribute(H.attributes.position,E).applyMatrix4(this.bindMatrix),O.set(0,0,0),E=0;4>E;E++)if(H=i.getComponent(E),H!==0){var K=t.getComponent(E);A.multiplyMatrices(F.bones[K].matrixWorld,F.boneInverses[K]),O.addScaledVector(m.copy(s).applyMatrix4(A),H)}return O.applyMatrix4(this.bindMatrixInverse)}}()});var qe=new ie,et=new ie;Le(sC.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,i=this.bones.length;t<i;t++){var m=new ie;this.bones[t]&&m.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(m)}},pose:function(){var t,i,m=0;for(i=this.bones.length;m<i;m++)(t=this.bones[m])&&t.matrixWorld.getInverse(this.boneInverses[m]);for(m=0,i=this.bones.length;m<i;m++)(t=this.bones[m])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){for(var t=this.bones,i=this.boneInverses,m=this.boneMatrices,A=this.boneTexture,E=0,O=t.length;E<O;E++)qe.multiplyMatrices(t[E]?t[E].matrixWorld:et,i[E]),qe.toArray(m,16*E);A!==void 0&&(A.needsUpdate=!0)},clone:function(){return new sC(this.bones,this.boneInverses)},getBoneByName:function(t){for(var i=0,m=this.bones.length;i<m;i++){var A=this.bones[i];if(A.name===t)return A}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}}),cb.prototype=Le(Oe(we.prototype),{constructor:cb,isBone:!0});var nt=new ie,At=new ie,ot=[],gt=new Kt;J2.prototype=Le(Oe(Kt.prototype),{constructor:J2,isInstancedMesh:!0,getMatrixAt:function(t,i){i.fromArray(this.instanceMatrix.array,16*t)},raycast:function(t,i){var m=this.matrixWorld,A=this.count;if(gt.geometry=this.geometry,gt.material=this.material,gt.material!==void 0)for(var E=0;E<A;E++){this.getMatrixAt(E,nt),At.multiplyMatrices(m,nt),gt.matrixWorld=At,gt.raycast(t,ot);for(var O=0,F=ot.length;O<F;O++){var H=ot[O];H.instanceId=E,H.object=this,i.push(H)}ot.length=0}},setMatrixAt:function(t,i){i.toArray(this.instanceMatrix.array,16*t)},updateMorphTargets:function(){}}),Js.prototype=Oe(Wt.prototype),Js.prototype.constructor=Js,Js.prototype.isLineBasicMaterial=!0,Js.prototype.copy=function(s){return Wt.prototype.copy.call(this,s),this.color.copy(s.color),this.linewidth=s.linewidth,this.linecap=s.linecap,this.linejoin=s.linejoin,this.morphTargets=s.morphTargets,this};var wt=new Y,St=new Y,bt=new ie,Rt=new Lt,Xt=new vt;kh.prototype=Le(Oe(we.prototype),{constructor:kh,isLine:!0,computeLineDistances:function(){var t=this.geometry;if(t.isBufferGeometry)if(t.index===null){for(var i=t.attributes.position,m=[0],A=1,E=i.count;A<E;A++)wt.fromBufferAttribute(i,A-1),St.fromBufferAttribute(i,A),m[A]=m[A-1],m[A]+=wt.distanceTo(St);t.setAttribute("lineDistance",new tn(m,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry)for(i=t.vertices,m=t.lineDistances,m[0]=0,A=1,E=i.length;A<E;A++)m[A]=m[A-1],m[A]+=i[A-1].distanceTo(i[A]);return this},raycast:function(t,i){var m=this.geometry,A=this.matrixWorld,E=t.params.Line.threshold;if(m.boundingSphere===null&&m.computeBoundingSphere(),Xt.copy(m.boundingSphere),Xt.applyMatrix4(A),Xt.radius+=E,t.ray.intersectsSphere(Xt)!==!1){bt.getInverse(A),Rt.copy(t.ray).applyMatrix4(bt),A=E/((this.scale.x+this.scale.y+this.scale.z)/3),A*=A;var O=new Y,F=new Y;E=new Y;var H=new Y,K=this&&this.isLineSegments?2:1;if(m.isBufferGeometry){var $=m.index,ue=m.attributes.position.array;if($!==null){$=$.array,m=0;for(var me=$.length-1;m<me;m+=K){var pe=$[m+1];O.fromArray(ue,3*$[m]),F.fromArray(ue,3*pe),pe=Rt.distanceSqToSegment(O,F,H,E),pe>A||(H.applyMatrix4(this.matrixWorld),pe=t.ray.origin.distanceTo(H),pe<t.near||pe>t.far||i.push({distance:pe,point:E.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this}))}}else for(m=0,me=ue.length/3-1;m<me;m+=K)O.fromArray(ue,3*m),F.fromArray(ue,3*m+3),pe=Rt.distanceSqToSegment(O,F,H,E),pe>A||(H.applyMatrix4(this.matrixWorld),pe=t.ray.origin.distanceTo(H),pe<t.near||pe>t.far||i.push({distance:pe,point:E.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this}))}else if(m.isGeometry)for(O=m.vertices,F=O.length,m=0;m<F-1;m+=K)pe=Rt.distanceSqToSegment(O[m],O[m+1],H,E),pe>A||(H.applyMatrix4(this.matrixWorld),pe=t.ray.origin.distanceTo(H),pe<t.near||pe>t.far||i.push({distance:pe,point:E.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this}))}},updateMorphTargets:function(){var t=this.geometry;if(t.isBufferGeometry){t=t.morphAttributes;var i=es(t);if(0<i.length){var m=t[i[0]];if(m!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,i=m.length;t<i;t++){var A=m[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[A]=t}}}else t=t.morphTargets,t!==void 0&&0<t.length&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var Gt=new Y,tr=new Y;vs.prototype=Le(Oe(kh.prototype),{constructor:vs,isLineSegments:!0,computeLineDistances:function(){var t=this.geometry;if(t.isBufferGeometry)if(t.index===null){for(var i=t.attributes.position,m=[],A=0,E=i.count;A<E;A+=2)Gt.fromBufferAttribute(i,A),tr.fromBufferAttribute(i,A+1),m[A]=A===0?0:m[A-1],m[A+1]=m[A]+Gt.distanceTo(tr);t.setAttribute("lineDistance",new tn(m,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry)for(i=t.vertices,m=t.lineDistances,A=0,E=i.length;A<E;A+=2)Gt.copy(i[A]),tr.copy(i[A+1]),m[A]=A===0?0:m[A-1],m[A+1]=m[A]+Gt.distanceTo(tr);return this}}),q2.prototype=Le(Oe(kh.prototype),{constructor:q2,isLineLoop:!0}),Op.prototype=Oe(Wt.prototype),Op.prototype.constructor=Op,Op.prototype.isPointsMaterial=!0,Op.prototype.copy=function(s){return Wt.prototype.copy.call(this,s),this.color.copy(s.color),this.map=s.map,this.alphaMap=s.alphaMap,this.size=s.size,this.sizeAttenuation=s.sizeAttenuation,this.morphTargets=s.morphTargets,this};var Jt=new ie,sr=new Lt,nr=new vt,Or=new Y;lC.prototype=Le(Oe(we.prototype),{constructor:lC,isPoints:!0,raycast:function(t,i){var m=this.geometry,A=this.matrixWorld,E=t.params.Points.threshold;if(m.boundingSphere===null&&m.computeBoundingSphere(),nr.copy(m.boundingSphere),nr.applyMatrix4(A),nr.radius+=E,t.ray.intersectsSphere(nr)!==!1)if(Jt.getInverse(A),sr.copy(t.ray).applyMatrix4(Jt),E/=(this.scale.x+this.scale.y+this.scale.z)/3,E*=E,m.isBufferGeometry){var O=m.index;if(m=m.attributes.position.array,O!==null){var F=O.array;O=0;for(var H=F.length;O<H;O++){var K=F[O];Or.fromArray(m,3*K),ES(Or,K,E,A,t,i,this)}}else for(O=0,F=m.length/3;O<F;O++)Or.fromArray(m,3*O),ES(Or,O,E,A,t,i,this)}else for(m=m.vertices,O=0,F=m.length;O<F;O++)ES(m[O],O,E,A,t,i,this)},updateMorphTargets:function(){var t=this.geometry;if(t.isBufferGeometry){t=t.morphAttributes;var i=es(t);if(0<i.length){var m=t[i[0]];if(m!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,i=m.length;t<i;t++){var A=m[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[A]=t}}}else t=t.morphTargets,t!==void 0&&0<t.length&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),hb.prototype=Le(Oe(b.prototype),{constructor:hb,isVideoTexture:!0,update:function(){var t=this.image;t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),kA.prototype=Oe(b.prototype),kA.prototype.constructor=kA,kA.prototype.isCompressedTexture=!0,R1.prototype=Oe(b.prototype),R1.prototype.constructor=R1,R1.prototype.isCanvasTexture=!0,HA.prototype=Oe(b.prototype),HA.prototype.constructor=HA,HA.prototype.isDepthTexture=!0,L1.prototype=Oe(Et.prototype),L1.prototype.constructor=L1,VA.prototype=Oe(Vt.prototype),VA.prototype.constructor=VA,uC.prototype=Oe(Et.prototype),uC.prototype.constructor=uC,cC.prototype=Oe(Vt.prototype),cC.prototype.constructor=cC,Hh.prototype=Oe(Et.prototype),Hh.prototype.constructor=Hh,GA.prototype=Oe(Vt.prototype),GA.prototype.constructor=GA,hC.prototype=Oe(Hh.prototype),hC.prototype.constructor=hC,WA.prototype=Oe(Vt.prototype),WA.prototype.constructor=WA,Xm.prototype=Oe(Hh.prototype),Xm.prototype.constructor=Xm,fC.prototype=Oe(Vt.prototype),fC.prototype.constructor=fC,dC.prototype=Oe(Hh.prototype),dC.prototype.constructor=dC,YA.prototype=Oe(Vt.prototype),YA.prototype.constructor=YA,sy.prototype=Oe(Hh.prototype),sy.prototype.constructor=sy,pC.prototype=Oe(Vt.prototype),pC.prototype.constructor=pC,Zm.prototype=Oe(Et.prototype),Zm.prototype.constructor=Zm,Zm.prototype.toJSON=function(){var s=Et.prototype.toJSON.call(this);return s.path=this.parameters.path.toJSON(),s},mC.prototype=Oe(Vt.prototype),mC.prototype.constructor=mC,gC.prototype=Oe(Et.prototype),gC.prototype.constructor=gC,XA.prototype=Oe(Vt.prototype),XA.prototype.constructor=XA,vC.prototype=Oe(Et.prototype),vC.prototype.constructor=vC;var dr={triangulate:function(t,i,m){m=m||2;var A=i&&i.length,E=A?i[0]*m:t.length,O=TS(t,0,E,m,!0),F=[];if(!O||O.next===O.prev)return F;var H;if(A){var K=m;A=[];var $,ue=0;for($=i.length;ue<$;ue++){var me=i[ue]*K,pe=ue<$-1?i[ue+1]*K:t.length;me=TS(t,me,pe,K,!1),me===me.next&&(me.steiner=!0),A.push(D_(me))}for(A.sort(R_),ue=0;ue<A.length;ue++)K=A[ue],i=O,(i=L_(K,i))&&(K=Rd(i,K),ly(i,i.next),ly(K,K.next)),O=ly(O,O.next)}if(t.length>80*m){var be=H=t[0],Te=A=t[1];for(K=m;K<E;K+=m)ue=t[K],i=t[K+1],ue<be&&(be=ue),i<Te&&(Te=i),ue>H&&(H=ue),i>A&&(A=i);H=Math.max(H-be,A-Te),H=H!==0?1/H:0}return Q2(O,F,m,be,Te,H),F}},Mr={area:function(t){for(var i=t.length,m=0,A=i-1,E=0;E<i;A=E++)m+=t[A].x*t[E].y-t[E].x*t[A].y;return .5*m},isClockWise:function(t){return 0>Mr.area(t)},triangulateShape:function(t,i){var m=[],A=[],E=[];OS(t),KA(m,t);var O=t.length;for(i.forEach(OS),t=0;t<i.length;t++)A.push(O),O+=i[t].length,KA(m,i[t]);for(i=dr.triangulate(m,A),t=0;t<i.length;t+=3)E.push(i.slice(t,t+3));return E}};cy.prototype=Oe(Vt.prototype),cy.prototype.constructor=cy,cy.prototype.toJSON=function(){var s=Vt.prototype.toJSON.call(this);return pb(this.parameters.shapes,this.parameters.options,s)},Ld.prototype=Oe(Et.prototype),Ld.prototype.constructor=Ld,Ld.prototype.toJSON=function(){var s=Et.prototype.toJSON.call(this);return pb(this.parameters.shapes,this.parameters.options,s)};var on={generateTopUV:function(t,i,m,A,E){t=i[3*A],A=i[3*A+1];var O=i[3*E];return E=i[3*E+1],[new l(i[3*m],i[3*m+1]),new l(t,A),new l(O,E)]},generateSideWallUV:function(t,i,m,A,E,O){t=i[3*m];var F=i[3*m+1];m=i[3*m+2];var H=i[3*A],K=i[3*A+1];A=i[3*A+2];var $=i[3*E],ue=i[3*E+1];E=i[3*E+2];var me=i[3*O],pe=i[3*O+1];return i=i[3*O+2],.01>Math.abs(F-K)?[new l(t,1-m),new l(H,1-A),new l($,1-E),new l(me,1-i)]:[new l(F,1-m),new l(K,1-A),new l(ue,1-E),new l(pe,1-i)]}};Vh.prototype=Oe(Vt.prototype),Vh.prototype.constructor=Vh,D1.prototype=Oe(Ld.prototype),D1.prototype.constructor=D1,CC.prototype=Oe(Vt.prototype),CC.prototype.constructor=CC,N1.prototype=Oe(Et.prototype),N1.prototype.constructor=N1,Sv.prototype=Oe(Vt.prototype),Sv.prototype.constructor=Sv,AC.prototype=Oe(Et.prototype),AC.prototype.constructor=AC,JA.prototype=Oe(Vt.prototype),JA.prototype.constructor=JA,wC.prototype=Oe(Et.prototype),wC.prototype.constructor=wC,Rp.prototype=Oe(Vt.prototype),Rp.prototype.constructor=Rp,Rp.prototype.toJSON=function(){var s=Vt.prototype.toJSON.call(this);return RS(this.parameters.shapes,s)},F1.prototype=Oe(Et.prototype),F1.prototype.constructor=F1,F1.prototype.toJSON=function(){var s=Et.prototype.toJSON.call(this);return RS(this.parameters.shapes,s)},B1.prototype=Oe(Et.prototype),B1.prototype.constructor=B1,z1.prototype=Oe(Vt.prototype),z1.prototype.constructor=z1,_v.prototype=Oe(Et.prototype),_v.prototype.constructor=_v,j1.prototype=Oe(z1.prototype),j1.prototype.constructor=j1,U1.prototype=Oe(_v.prototype),U1.prototype.constructor=U1,Km.prototype=Oe(Vt.prototype),Km.prototype.constructor=Km,hy.prototype=Oe(Et.prototype),hy.prototype.constructor=hy;var Fr=Eh({__proto__:null,WireframeGeometry:L1,ParametricGeometry:VA,ParametricBufferGeometry:uC,TetrahedronGeometry:GA,TetrahedronBufferGeometry:hC,OctahedronGeometry:WA,OctahedronBufferGeometry:Xm,IcosahedronGeometry:fC,IcosahedronBufferGeometry:dC,DodecahedronGeometry:YA,DodecahedronBufferGeometry:sy,PolyhedronGeometry:cC,PolyhedronBufferGeometry:Hh,TubeGeometry:pC,TubeBufferGeometry:Zm,TorusKnotGeometry:mC,TorusKnotBufferGeometry:gC,TorusGeometry:XA,TorusBufferGeometry:vC,TextGeometry:Vh,TextBufferGeometry:D1,SphereGeometry:CC,SphereBufferGeometry:N1,RingGeometry:Sv,RingBufferGeometry:AC,PlaneGeometry:Ua,PlaneBufferGeometry:us,LatheGeometry:JA,LatheBufferGeometry:wC,ShapeGeometry:Rp,ShapeBufferGeometry:F1,ExtrudeGeometry:cy,ExtrudeBufferGeometry:Ld,EdgesGeometry:B1,ConeGeometry:j1,ConeBufferGeometry:U1,CylinderGeometry:z1,CylinderBufferGeometry:_v,CircleGeometry:Km,CircleBufferGeometry:hy,BoxGeometry:XC,BoxBufferGeometry:v2});k1.prototype=Oe(Wt.prototype),k1.prototype.constructor=k1,k1.prototype.isShadowMaterial=!0,k1.prototype.copy=function(s){return Wt.prototype.copy.call(this,s),this.color.copy(s.color),this},Mv.prototype=Oe(Hr.prototype),Mv.prototype.constructor=Mv,Mv.prototype.isRawShaderMaterial=!0,Jm.prototype=Oe(Wt.prototype),Jm.prototype.constructor=Jm,Jm.prototype.isMeshStandardMaterial=!0,Jm.prototype.copy=function(s){return Wt.prototype.copy.call(this,s),this.defines={STANDARD:""},this.color.copy(s.color),this.roughness=s.roughness,this.metalness=s.metalness,this.map=s.map,this.lightMap=s.lightMap,this.lightMapIntensity=s.lightMapIntensity,this.aoMap=s.aoMap,this.aoMapIntensity=s.aoMapIntensity,this.emissive.copy(s.emissive),this.emissiveMap=s.emissiveMap,this.emissiveIntensity=s.emissiveIntensity,this.bumpMap=s.bumpMap,this.bumpScale=s.bumpScale,this.normalMap=s.normalMap,this.normalMapType=s.normalMapType,this.normalScale.copy(s.normalScale),this.displacementMap=s.displacementMap,this.displacementScale=s.displacementScale,this.displacementBias=s.displacementBias,this.roughnessMap=s.roughnessMap,this.metalnessMap=s.metalnessMap,this.alphaMap=s.alphaMap,this.envMap=s.envMap,this.envMapIntensity=s.envMapIntensity,this.refractionRatio=s.refractionRatio,this.wireframe=s.wireframe,this.wireframeLinewidth=s.wireframeLinewidth,this.wireframeLinecap=s.wireframeLinecap,this.wireframeLinejoin=s.wireframeLinejoin,this.skinning=s.skinning,this.morphTargets=s.morphTargets,this.morphNormals=s.morphNormals,this.vertexTangents=s.vertexTangents,this},Ev.prototype=Oe(Jm.prototype),Ev.prototype.constructor=Ev,Ev.prototype.isMeshPhysicalMaterial=!0,Ev.prototype.copy=function(s){return Jm.prototype.copy.call(this,s),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=s.clearcoat,this.clearcoatMap=s.clearcoatMap,this.clearcoatRoughness=s.clearcoatRoughness,this.clearcoatRoughnessMap=s.clearcoatRoughnessMap,this.clearcoatNormalMap=s.clearcoatNormalMap,this.clearcoatNormalScale.copy(s.clearcoatNormalScale),this.reflectivity=s.reflectivity,this.sheen=s.sheen?(this.sheen||new at).copy(s.sheen):null,this.transparency=s.transparency,this},fy.prototype=Oe(Wt.prototype),fy.prototype.constructor=fy,fy.prototype.isMeshPhongMaterial=!0,fy.prototype.copy=function(s){return Wt.prototype.copy.call(this,s),this.color.copy(s.color),this.specular.copy(s.specular),this.shininess=s.shininess,this.map=s.map,this.lightMap=s.lightMap,this.lightMapIntensity=s.lightMapIntensity,this.aoMap=s.aoMap,this.aoMapIntensity=s.aoMapIntensity,this.emissive.copy(s.emissive),this.emissiveMap=s.emissiveMap,this.emissiveIntensity=s.emissiveIntensity,this.bumpMap=s.bumpMap,this.bumpScale=s.bumpScale,this.normalMap=s.normalMap,this.normalMapType=s.normalMapType,this.normalScale.copy(s.normalScale),this.displacementMap=s.displacementMap,this.displacementScale=s.displacementScale,this.displacementBias=s.displacementBias,this.specularMap=s.specularMap,this.alphaMap=s.alphaMap,this.envMap=s.envMap,this.combine=s.combine,this.reflectivity=s.reflectivity,this.refractionRatio=s.refractionRatio,this.wireframe=s.wireframe,this.wireframeLinewidth=s.wireframeLinewidth,this.wireframeLinecap=s.wireframeLinecap,this.wireframeLinejoin=s.wireframeLinejoin,this.skinning=s.skinning,this.morphTargets=s.morphTargets,this.morphNormals=s.morphNormals,this},H1.prototype=Oe(Wt.prototype),H1.prototype.constructor=H1,H1.prototype.isMeshToonMaterial=!0,H1.prototype.copy=function(s){return Wt.prototype.copy.call(this,s),this.color.copy(s.color),this.specular.copy(s.specular),this.shininess=s.shininess,this.map=s.map,this.gradientMap=s.gradientMap,this.lightMap=s.lightMap,this.lightMapIntensity=s.lightMapIntensity,this.aoMap=s.aoMap,this.aoMapIntensity=s.aoMapIntensity,this.emissive.copy(s.emissive),this.emissiveMap=s.emissiveMap,this.emissiveIntensity=s.emissiveIntensity,this.bumpMap=s.bumpMap,this.bumpScale=s.bumpScale,this.normalMap=s.normalMap,this.normalMapType=s.normalMapType,this.normalScale.copy(s.normalScale),this.displacementMap=s.displacementMap,this.displacementScale=s.displacementScale,this.displacementBias=s.displacementBias,this.specularMap=s.specularMap,this.alphaMap=s.alphaMap,this.wireframe=s.wireframe,this.wireframeLinewidth=s.wireframeLinewidth,this.wireframeLinecap=s.wireframeLinecap,this.wireframeLinejoin=s.wireframeLinejoin,this.skinning=s.skinning,this.morphTargets=s.morphTargets,this.morphNormals=s.morphNormals,this},bC.prototype=Oe(Wt.prototype),bC.prototype.constructor=bC,bC.prototype.isMeshNormalMaterial=!0,bC.prototype.copy=function(s){return Wt.prototype.copy.call(this,s),this.bumpMap=s.bumpMap,this.bumpScale=s.bumpScale,this.normalMap=s.normalMap,this.normalMapType=s.normalMapType,this.normalScale.copy(s.normalScale),this.displacementMap=s.displacementMap,this.displacementScale=s.displacementScale,this.displacementBias=s.displacementBias,this.wireframe=s.wireframe,this.wireframeLinewidth=s.wireframeLinewidth,this.skinning=s.skinning,this.morphTargets=s.morphTargets,this.morphNormals=s.morphNormals,this},Tv.prototype=Oe(Wt.prototype),Tv.prototype.constructor=Tv,Tv.prototype.isMeshLambertMaterial=!0,Tv.prototype.copy=function(s){return Wt.prototype.copy.call(this,s),this.color.copy(s.color),this.map=s.map,this.lightMap=s.lightMap,this.lightMapIntensity=s.lightMapIntensity,this.aoMap=s.aoMap,this.aoMapIntensity=s.aoMapIntensity,this.emissive.copy(s.emissive),this.emissiveMap=s.emissiveMap,this.emissiveIntensity=s.emissiveIntensity,this.specularMap=s.specularMap,this.alphaMap=s.alphaMap,this.envMap=s.envMap,this.combine=s.combine,this.reflectivity=s.reflectivity,this.refractionRatio=s.refractionRatio,this.wireframe=s.wireframe,this.wireframeLinewidth=s.wireframeLinewidth,this.wireframeLinecap=s.wireframeLinecap,this.wireframeLinejoin=s.wireframeLinejoin,this.skinning=s.skinning,this.morphTargets=s.morphTargets,this.morphNormals=s.morphNormals,this},dy.prototype=Oe(Wt.prototype),dy.prototype.constructor=dy,dy.prototype.isMeshMatcapMaterial=!0,dy.prototype.copy=function(s){return Wt.prototype.copy.call(this,s),this.defines={MATCAP:""},this.color.copy(s.color),this.matcap=s.matcap,this.map=s.map,this.bumpMap=s.bumpMap,this.bumpScale=s.bumpScale,this.normalMap=s.normalMap,this.normalMapType=s.normalMapType,this.normalScale.copy(s.normalScale),this.displacementMap=s.displacementMap,this.displacementScale=s.displacementScale,this.displacementBias=s.displacementBias,this.alphaMap=s.alphaMap,this.skinning=s.skinning,this.morphTargets=s.morphTargets,this.morphNormals=s.morphNormals,this},Dd.prototype=Oe(Js.prototype),Dd.prototype.constructor=Dd,Dd.prototype.isLineDashedMaterial=!0,Dd.prototype.copy=function(s){return Js.prototype.copy.call(this,s),this.scale=s.scale,this.dashSize=s.dashSize,this.gapSize=s.gapSize,this};var wn=Eh({__proto__:null,ShadowMaterial:k1,SpriteMaterial:Od,RawShaderMaterial:Mv,ShaderMaterial:Hr,PointsMaterial:Op,MeshPhysicalMaterial:Ev,MeshStandardMaterial:Jm,MeshPhongMaterial:fy,MeshToonMaterial:H1,MeshNormalMaterial:bC,MeshLambertMaterial:Tv,MeshDepthMaterial:iy,MeshDistanceMaterial:wv,MeshBasicMaterial:si,MeshMatcapMaterial:dy,LineDashedMaterial:Dd,LineBasicMaterial:Js,Material:Wt}),Ir={arraySlice:function(t,i,m){return Ir.isTypedArray(t)?new t.constructor(t.subarray(i,m!==void 0?m:t.length)):t.slice(i,m)},convertArray:function(t,i,m){return!t||!m&&t.constructor===i?t:typeof i.BYTES_PER_ELEMENT=="number"?new i(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var i=t.length,m=Array(i),A=0;A!==i;++A)m[A]=A;return m.sort(function(E,O){return t[E]-t[O]}),m},sortedArray:function(t,i,m){for(var A=t.length,E=new t.constructor(A),O=0,F=0;F!==A;++O)for(var H=m[O]*i,K=0;K!==i;++K)E[F++]=t[H+K];return E},flattenJSON:function(t,i,m,A){for(var E=1,O=t[0];O!==void 0&&O[A]===void 0;)O=t[E++];if(O!==void 0){var F=O[A];if(F!==void 0)if(Array.isArray(F))do F=O[A],F!==void 0&&(i.push(O.time),m.push.apply(m,F)),O=t[E++];while(O!==void 0);else if(F.toArray!==void 0)do F=O[A],F!==void 0&&(i.push(O.time),F.toArray(m,m.length)),O=t[E++];while(O!==void 0);else do F=O[A],F!==void 0&&(i.push(O.time),m.push(F)),O=t[E++];while(O!==void 0)}},subclip:function(t,i,m,A,E){E=E||30,t=t.clone(),t.name=i;var O=[];for(i=0;i<t.tracks.length;++i){for(var F=t.tracks[i],H=F.getValueSize(),K=[],$=[],ue=0;ue<F.times.length;++ue){var me=F.times[ue]*E;if(!(me<m||me>=A))for(K.push(F.times[ue]),me=0;me<H;++me)$.push(F.values[ue*H+me])}K.length!==0&&(F.times=Ir.convertArray(K,F.times.constructor),F.values=Ir.convertArray($,F.values.constructor),O.push(F))}for(t.tracks=O,m=Infinity,i=0;i<t.tracks.length;++i)m>t.tracks[i].times[0]&&(m=t.tracks[i].times[0]);for(i=0;i<t.tracks.length;++i)t.tracks[i].shift(-1*m);return t.resetDuration(),t},makeClipAdditive:function(t,i,m,A){i===void 0&&(i=0),m===void 0&&(m=t),(A===void 0||0>=A)&&(A=30);var E=t.tracks.length;for(i/=A,A=0;A<E;++A){var O=m.tracks[A],F=O.ValueTypeName;if(F!=="bool"&&F!=="string"){var H=t.tracks.find(function(Te){return Te.name===O.name&&Te.ValueTypeName===F});if(H!==void 0){var K=O.getValueSize(),$=O.times.length-1;i<=O.times[0]?$=Ir.arraySlice(O.values,0,O.valueSize):i>=O.times[$]?$=Ir.arraySlice(O.values,$*K):($=O.createInterpolant(),$.evaluate(i),$=$.resultBuffer),F==="quaternion"&&new X($[0],$[1],$[2],$[3]).normalize().conjugate().toArray($);for(var ue=H.times.length,me=0;me<ue;++me){var pe=me*K;if(F==="quaternion")X.multiplyQuaternionsFlat(H.values,pe,$,0,H.values,pe);else for(var be=0;be<K;++be)H.values[pe+be]-=$[be]}}}}return t.blendMode=2501,t}};Le(Gh.prototype,{evaluate:function(t){var i=this.parameterPositions,m=this._cachedIndex,A=i[m],E=i[m-1];e:{t:{r:{n:if(!(t<A)){for(var O=m+2;;){if(A===void 0){if(t<E)break n;return this._cachedIndex=m=i.length,this.afterEnd_(m-1,t,E)}if(m===O)break;if(E=A,A=i[++m],t<A)break t}A=i.length;break r}if(t>=E)break e;for(O=i[1],t<O&&(m=2,E=O),O=m-2;;){if(E===void 0)return this._cachedIndex=0,this.beforeStart_(0,t,A);if(m===O)break;if(A=E,E=i[--m-1],t>=E)break t}A=m,m=0}for(;m<A;)E=m+A>>>1,t<i[E]?A=E:m=E+1;if(A=i[m],E=i[m-1],E===void 0)return this._cachedIndex=0,this.beforeStart_(0,t,A);if(A===void 0)return this._cachedIndex=m=i.length,this.afterEnd_(m-1,E,t)}this._cachedIndex=m,this.intervalChanged_(m,E,A)}return this.interpolate_(m,E,t,A)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){var i=this.resultBuffer,m=this.sampleValues,A=this.valueSize;t*=A;for(var E=0;E!==A;++E)i[E]=m[t+E];return i},interpolate_:function(){throw Error("call to abstract method")},intervalChanged_:function(){}}),Le(Gh.prototype,{beforeStart_:Gh.prototype.copySampleValue_,afterEnd_:Gh.prototype.copySampleValue_}),tw.prototype=Le(Oe(Gh.prototype),{constructor:tw,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(t,i,m){var A=this.parameterPositions,E=t-2,O=t+1,F=A[E],H=A[O];if(F===void 0)switch(this.getSettings_().endingStart){case 2401:E=t,F=2*i-m;break;case 2402:E=A.length-2,F=i+A[E]-A[E+1];break;default:E=t,F=m}if(H===void 0)switch(this.getSettings_().endingEnd){case 2401:O=t,H=2*m-i;break;case 2402:O=1,H=m+A[1]-A[0];break;default:O=t-1,H=i}t=.5*(m-i),A=this.valueSize,this._weightPrev=t/(i-F),this._weightNext=t/(H-m),this._offsetPrev=E*A,this._offsetNext=O*A},interpolate_:function(t,i,m,A){var E=this.resultBuffer,O=this.sampleValues,F=this.valueSize;t*=F;var H=t-F,K=this._offsetPrev,$=this._offsetNext,ue=this._weightPrev,me=this._weightNext,pe=(m-i)/(A-i);for(m=pe*pe,A=m*pe,i=-ue*A+2*ue*m-ue*pe,ue=(1+ue)*A+(-1.5-2*ue)*m+(-.5+ue)*pe+1,pe=(-1-me)*A+(1.5+me)*m+.5*pe,me=me*A-me*m,m=0;m!==F;++m)E[m]=i*O[K+m]+ue*O[H+m]+pe*O[t+m]+me*O[$+m];return E}}),qA.prototype=Le(Oe(Gh.prototype),{constructor:qA,interpolate_:function(t,i,m,A){var E=this.resultBuffer,O=this.sampleValues,F=this.valueSize;t*=F;var H=t-F;for(i=(m-i)/(A-i),m=1-i,A=0;A!==F;++A)E[A]=O[H+A]*m+O[t+A]*i;return E}}),rw.prototype=Le(Oe(Gh.prototype),{constructor:rw,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Le(gu,{toJSON:function(t){var i=t.constructor;if(i.toJSON!==void 0)i=i.toJSON(t);else{i={name:t.name,times:Ir.convertArray(t.times,Array),values:Ir.convertArray(t.values,Array)};var m=t.getInterpolation();m!==t.DefaultInterpolation&&(i.interpolation=m)}return i.type=t.ValueTypeName,i}}),Le(gu.prototype,{constructor:gu,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(t){return new rw(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new qA(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new tw(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){switch(t){case 2300:var i=this.InterpolantFactoryMethodDiscrete;break;case 2301:i=this.InterpolantFactoryMethodLinear;break;case 2302:i=this.InterpolantFactoryMethodSmooth}if(i===void 0){if(i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name,this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=i,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(t!==0)for(var i=this.times,m=0,A=i.length;m!==A;++m)i[m]+=t;return this},scale:function(t){if(t!==1)for(var i=this.times,m=0,A=i.length;m!==A;++m)i[m]*=t;return this},trim:function(t,i){for(var m=this.times,A=m.length,E=0,O=A-1;E!==A&&m[E]<t;)++E;for(;O!==-1&&m[O]>i;)--O;return++O,(E!==0||O!==A)&&(E>=O&&(O=Math.max(O,1),E=O-1),t=this.getValueSize(),this.times=Ir.arraySlice(m,E,O),this.values=Ir.arraySlice(this.values,E*t,O*t)),this},validate:function(){var t=!0,i=this.getValueSize();i-Math.floor(i)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);var m=this.times;i=this.values;var A=m.length;A===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var E=null,O=0;O!==A;O++){var F=m[O];if(typeof F=="number"&&isNaN(F)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,O,F),t=!1;break}if(E!==null&&E>F){console.error("THREE.KeyframeTrack: Out of order keys.",this,O,F,E),t=!1;break}E=F}if(i!==void 0&&Ir.isTypedArray(i)){for(O=0,m=i.length;O!==m;++O)if(A=i[O],isNaN(A)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,O,A),t=!1;break}}return t},optimize:function(){for(var t=Ir.arraySlice(this.times),i=Ir.arraySlice(this.values),m=this.getValueSize(),A=this.getInterpolation()===2302,E=1,O=t.length-1,F=1;F<O;++F){var H=!1,K=t[F];if(K!==t[F+1]&&(F!==1||K!==K[0]))if(A)H=!0;else{var $=F*m,ue=$-m,me=$+m;for(K=0;K!==m;++K){var pe=i[$+K];if(pe!==i[ue+K]||pe!==i[me+K]){H=!0;break}}}if(H){if(F!==E)for(t[E]=t[F],H=F*m,$=E*m,K=0;K!==m;++K)i[$+K]=i[H+K];++E}}if(0<O){for(t[E]=t[O],H=O*m,$=E*m,K=0;K!==m;++K)i[$+K]=i[H+K];++E}return E!==t.length?(this.times=Ir.arraySlice(t,0,E),this.values=Ir.arraySlice(i,0,E*m)):(this.times=t,this.values=i),this},clone:function(){var t=Ir.arraySlice(this.times,0),i=Ir.arraySlice(this.values,0);return t=new this.constructor(this.name,t,i),t.createInterpolant=this.createInterpolant,t}}),nw.prototype=Le(Oe(gu.prototype),{constructor:nw,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),iw.prototype=Le(Oe(gu.prototype),{constructor:iw,ValueTypeName:"color"}),SC.prototype=Le(Oe(gu.prototype),{constructor:SC,ValueTypeName:"number"}),ow.prototype=Le(Oe(Gh.prototype),{constructor:ow,interpolate_:function(t,i,m,A){var E=this.resultBuffer,O=this.sampleValues,F=this.valueSize;for(t*=F,i=(m-i)/(A-i),m=t+F;t!==m;t+=4)X.slerpFlat(E,0,O,t-F,O,t,i);return E}}),QA.prototype=Le(Oe(gu.prototype),{constructor:QA,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(t){return new ow(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),aw.prototype=Le(Oe(gu.prototype),{constructor:aw,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),$A.prototype=Le(Oe(gu.prototype),{constructor:$A,ValueTypeName:"vector"}),Le(Nd,{parse:function(t){for(var i=[],m=t.tracks,A=1/(t.fps||1),E=0,O=m.length;E!==O;++E)i.push(B_(m[E]).scale(A));return new Nd(t.name,t.duration,i,t.blendMode)},toJSON:function(t){var i=[],m=t.tracks;t={name:t.name,duration:t.duration,tracks:i,uuid:t.uuid,blendMode:t.blendMode};for(var A=0,E=m.length;A!==E;++A)i.push(gu.toJSON(m[A]));return t},CreateFromMorphTargetSequence:function(t,i,m,A){for(var E=i.length,O=[],F=0;F<E;F++){var H=[],K=[];H.push((F+E-1)%E,F,(F+1)%E),K.push(0,1,0);var $=Ir.getKeyframeOrder(H);H=Ir.sortedArray(H,1,$),K=Ir.sortedArray(K,1,$),A||H[0]!==0||(H.push(E),K.push(K[0])),O.push(new SC(".morphTargetInfluences["+i[F].name+"]",H,K).scale(1/m))}return new Nd(t,-1,O)},findByName:function(t,i){var m=t;for(Array.isArray(t)||(m=t.geometry&&t.geometry.animations||t.animations),t=0;t<m.length;t++)if(m[t].name===i)return m[t];return null},CreateClipsFromMorphTargetSequences:function(t,i,m){for(var A={},E=/^([\w-]*?)([\d]+)$/,O=0,F=t.length;O<F;O++){var H=t[O],K=H.name.match(E);if(K&&1<K.length){var $=K[1];(K=A[$])||(A[$]=K=[]),K.push(H)}}t=[];for($ in A)t.push(Nd.CreateFromMorphTargetSequence($,A[$],i,m));return t},parseAnimation:function(t,i){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;var m=function(Mt,It,Bt,hr,qt){if(Bt.length!==0){var Pt=[],Br=[];Ir.flattenJSON(Bt,Pt,Br,hr),Pt.length!==0&&qt.push(new Mt(It,Pt,Br))}},A=[],E=t.name||"default",O=t.length||-1,F=t.fps||30,H=t.blendMode;t=t.hierarchy||[];for(var K=0;K<t.length;K++){var $=t[K].keys;if($&&$.length!==0)if($[0].morphTargets){O={};for(var ue=0;ue<$.length;ue++)if($[ue].morphTargets)for(var me=0;me<$[ue].morphTargets.length;me++)O[$[ue].morphTargets[me]]=-1;for(var pe in O){var be=[],Te=[];for(me=0;me!==$[ue].morphTargets.length;++me){var it=$[ue];be.push(it.time),Te.push(it.morphTarget===pe?1:0)}A.push(new SC(".morphTargetInfluence["+pe+"]",be,Te))}O=O.length*(F||1)}else ue=".bones["+i[K].name+"]",m($A,ue+".position",$,"pos",A),m(QA,ue+".quaternion",$,"rot",A),m($A,ue+".scale",$,"scl",A)}return A.length===0?null:new Nd(E,O,A,H)}}),Le(Nd.prototype,{resetDuration:function(){for(var t=0,i=0,m=this.tracks.length;i!==m;++i){var A=this.tracks[i];t=Math.max(t,A.times[A.times.length-1])}return this.duration=t,this},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){for(var t=!0,i=0;i<this.tracks.length;i++)t=t&&this.tracks[i].validate();return t},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){for(var t=[],i=0;i<this.tracks.length;i++)t.push(this.tracks[i].clone());return new Nd(this.name,this.duration,t,this.blendMode)}});var hn={enabled:!1,files:{},add:function(t,i){this.enabled!==!1&&(this.files[t]=i)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},Fn=new mb;Le(ka.prototype,{load:function(){},loadAsync:function(t,i){var m=this;return new C0(function(A,E){m.load(t,A,i,E)})},parse:function(){},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}});var xn={};Bf.prototype=Le(Oe(ka.prototype),{constructor:Bf,load:function(t,i,m,A){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);var E=this,O=hn.get(t);if(O!==void 0)return E.manager.itemStart(t),setTimeout(function(){i&&i(O),E.manager.itemEnd(t)},0),O;if(xn[t]!==void 0)xn[t].push({onLoad:i,onProgress:m,onError:A});else{var F=t.match(/^data:(.*?)(;base64)?,(.*)$/);if(F){m=F[1];var H=!!F[2];F=F[3],F=decodeURIComponent(F),H&&(F=atob(F));try{var K=(this.responseType||"").toLowerCase();switch(K){case"arraybuffer":case"blob":var $=new Uint8Array(F.length);for(H=0;H<F.length;H++)$[H]=F.charCodeAt(H);var ue=K==="blob"?new Blob([$.buffer],{type:m}):$.buffer;break;case"document":ue=new DOMParser().parseFromString(F,m);break;case"json":ue=JSON.parse(F);break;default:ue=F}setTimeout(function(){i&&i(ue),E.manager.itemEnd(t)},0)}catch(pe){setTimeout(function(){A&&A(pe),E.manager.itemError(t),E.manager.itemEnd(t)},0)}}else{xn[t]=[],xn[t].push({onLoad:i,onProgress:m,onError:A});var me=new XMLHttpRequest;me.open("GET",t,!0),me.addEventListener("load",function(pe){var be=this.response,Te=xn[t];if(delete xn[t],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),hn.add(t,be);for(var it=0,_t=Te.length;it<_t;it++){var Mt=Te[it];Mt.onLoad&&Mt.onLoad(be)}}else{for(it=0,_t=Te.length;it<_t;it++)Mt=Te[it],Mt.onError&&Mt.onError(pe);E.manager.itemError(t)}E.manager.itemEnd(t)},!1),me.addEventListener("progress",function(pe){for(var be=xn[t],Te=0,it=be.length;Te<it;Te++){var _t=be[Te];_t.onProgress&&_t.onProgress(pe)}},!1),me.addEventListener("error",function(pe){var be=xn[t];delete xn[t];for(var Te=0,it=be.length;Te<it;Te++){var _t=be[Te];_t.onError&&_t.onError(pe)}E.manager.itemError(t),E.manager.itemEnd(t)},!1),me.addEventListener("abort",function(pe){var be=xn[t];delete xn[t];for(var Te=0,it=be.length;Te<it;Te++){var _t=be[Te];_t.onError&&_t.onError(pe)}E.manager.itemError(t),E.manager.itemEnd(t)},!1),this.responseType!==void 0&&(me.responseType=this.responseType),this.withCredentials!==void 0&&(me.withCredentials=this.withCredentials),me.overrideMimeType&&me.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(H in this.requestHeader)me.setRequestHeader(H,this.requestHeader[H]);me.send(null)}return E.manager.itemStart(t),me}},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this}}),gb.prototype=Le(Oe(ka.prototype),{constructor:gb,load:function(t,i,m,A){var E=this,O=new Bf(E.manager);O.setPath(E.path),O.load(t,function(F){try{i(E.parse(JSON.parse(F)))}catch(H){A?A(H):console.error(H),E.manager.itemError(t)}},m,A)},parse:function(t){for(var i=[],m=0;m<t.length;m++){var A=Nd.parse(t[m]);i.push(A)}return i}}),vb.prototype=Le(Oe(ka.prototype),{constructor:vb,load:function(t,i,m,A){function E(pe){K.load(t[pe],function(be){be=O.parse(be,!0),F[pe]={width:be.width,height:be.height,format:be.format,mipmaps:be.mipmaps},$+=1,$===6&&(be.mipmapCount===1&&(H.minFilter=1006),H.format=be.format,H.needsUpdate=!0,i&&i(H))},m,A)}var O=this,F=[],H=new kA;H.image=F;var K=new Bf(this.manager);if(K.setPath(this.path),K.setResponseType("arraybuffer"),Array.isArray(t))for(var $=0,ue=0,me=t.length;ue<me;++ue)E(ue);else K.load(t,function(pe){if(pe=O.parse(pe,!0),pe.isCubemap)for(var be=pe.mipmaps.length/pe.mipmapCount,Te=0;Te<be;Te++){F[Te]={mipmaps:[]};for(var it=0;it<pe.mipmapCount;it++)F[Te].mipmaps.push(pe.mipmaps[Te*pe.mipmapCount+it]),F[Te].format=pe.format,F[Te].width=pe.width,F[Te].height=pe.height}else H.image.width=pe.width,H.image.height=pe.height,H.mipmaps=pe.mipmaps;pe.mipmapCount===1&&(H.minFilter=1006),H.format=pe.format,H.needsUpdate=!0,i&&i(H)},m,A);return H}}),sw.prototype=Le(Oe(ka.prototype),{constructor:sw,load:function(t,i,m,A){var E=this,O=new xr,F=new Bf(this.manager);return F.setResponseType("arraybuffer"),F.setPath(this.path),F.load(t,function(H){(H=E.parse(H))&&(H.image!==void 0?O.image=H.image:H.data!==void 0&&(O.image.width=H.width,O.image.height=H.height,O.image.data=H.data),O.wrapS=H.wrapS!==void 0?H.wrapS:1001,O.wrapT=H.wrapT!==void 0?H.wrapT:1001,O.magFilter=H.magFilter!==void 0?H.magFilter:1006,O.minFilter=H.minFilter!==void 0?H.minFilter:1006,O.anisotropy=H.anisotropy!==void 0?H.anisotropy:1,H.format!==void 0&&(O.format=H.format),H.type!==void 0&&(O.type=H.type),H.mipmaps!==void 0&&(O.mipmaps=H.mipmaps,O.minFilter=1008),H.mipmapCount===1&&(O.minFilter=1006),O.needsUpdate=!0,i&&i(O,H))},m,A),O}}),_C.prototype=Le(Oe(ka.prototype),{constructor:_C,load:function(t,i,m,A){function E(){K.removeEventListener("load",E,!1),K.removeEventListener("error",O,!1),hn.add(t,this),i&&i(this),F.manager.itemEnd(t)}function O($){K.removeEventListener("load",E,!1),K.removeEventListener("error",O,!1),A&&A($),F.manager.itemError(t),F.manager.itemEnd(t)}this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);var F=this,H=hn.get(t);if(H!==void 0)return F.manager.itemStart(t),setTimeout(function(){i&&i(H),F.manager.itemEnd(t)},0),H;var K=document.createElementNS("http://www.w3.org/1999/xhtml","img");return K.addEventListener("load",E,!1),K.addEventListener("error",O,!1),t.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(K.crossOrigin=this.crossOrigin),F.manager.itemStart(t),K.src=t,K}}),e2.prototype=Le(Oe(ka.prototype),{constructor:e2,load:function(t,i,m,A){function E(K){F.load(t[K],function($){O.images[K]=$,H++,H===6&&(O.needsUpdate=!0,i&&i(O))},void 0,A)}var O=new Id,F=new _C(this.manager);F.setCrossOrigin(this.crossOrigin),F.setPath(this.path);var H=0;for(m=0;m<t.length;++m)E(m);return O}}),lw.prototype=Le(Oe(ka.prototype),{constructor:lw,load:function(t,i,m,A){var E=new b,O=new _C(this.manager);return O.setCrossOrigin(this.crossOrigin),O.setPath(this.path),O.load(t,function(F){E.image=F,F=0<t.search(/\.jpe?g($|\?)/i)||t.search(/^data:image\/jpeg/)===0,E.format=F?1022:1023,E.needsUpdate=!0,i!==void 0&&i(E)},m,A),E}}),Le(eo.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,i){return t=this.getUtoTmapping(t),this.getPoint(t,i)},getPoints:function(t){t===void 0&&(t=5);for(var i=[],m=0;m<=t;m++)i.push(this.getPoint(m/t));return i},getSpacedPoints:function(t){t===void 0&&(t=5);for(var i=[],m=0;m<=t;m++)i.push(this.getPointAt(m/t));return i},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(t===void 0&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var i=[],m=this.getPoint(0),A,E=0;for(i.push(0),A=1;A<=t;A++){var O=this.getPoint(A/t);E+=O.distanceTo(m),i.push(E),m=O}return this.cacheArcLengths=i},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,i){var m=this.getLengths(),A=m.length;i=i||t*m[A-1];for(var E=0,O=A-1,F;E<=O;)if(t=Math.floor(E+(O-E)/2),F=m[t]-i,0>F)E=t+1;else if(0<F)O=t-1;else{O=t;break}return t=O,m[t]===i?t/(A-1):(E=m[t],(t+(i-E)/(m[t+1]-E))/(A-1))},getTangent:function(t,i){var m=t-1e-4;return t+=1e-4,0>m&&(m=0),1<t&&(t=1),m=this.getPoint(m),t=this.getPoint(t),i=i||(m.isVector2?new l:new Y),i.copy(t).sub(m).normalize(),i},getTangentAt:function(t,i){return t=this.getUtoTmapping(t),this.getTangent(t,i)},computeFrenetFrames:function(t,i){var m=new Y,A=[],E=[],O=[],F=new Y,H=new ie,K;for(K=0;K<=t;K++){var $=K/t;A[K]=this.getTangentAt($,new Y),A[K].normalize()}E[0]=new Y,O[0]=new Y,K=Number.MAX_VALUE,$=Math.abs(A[0].x);var ue=Math.abs(A[0].y),me=Math.abs(A[0].z);for($<=K&&(K=$,m.set(1,0,0)),ue<=K&&(K=ue,m.set(0,1,0)),me<=K&&m.set(0,0,1),F.crossVectors(A[0],m).normalize(),E[0].crossVectors(A[0],F),O[0].crossVectors(A[0],E[0]),K=1;K<=t;K++)E[K]=E[K-1].clone(),O[K]=O[K-1].clone(),F.crossVectors(A[K-1],A[K]),F.length()>ts&&(F.normalize(),m=Math.acos(Fo.clamp(A[K-1].dot(A[K]),-1,1)),E[K].applyMatrix4(H.makeRotationAxis(F,m))),O[K].crossVectors(A[K],E[K]);if(i===!0)for(m=Math.acos(Fo.clamp(E[0].dot(E[t]),-1,1)),m/=t,0<A[0].dot(F.crossVectors(E[0],E[t]))&&(m=-m),K=1;K<=t;K++)E[K].applyMatrix4(H.makeRotationAxis(A[K],m*K)),O[K].crossVectors(A[K],E[K]);return{tangents:A,normals:E,binormals:O}},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),$c.prototype=Oe(eo.prototype),$c.prototype.constructor=$c,$c.prototype.isEllipseCurve=!0,$c.prototype.getPoint=function(s,t){t=t||new l;for(var i=2*Math.PI,m=this.aEndAngle-this.aStartAngle,A=Math.abs(m)<ts;0>m;)m+=i;for(;m>i;)m-=i;m<ts&&(m=A?0:i),this.aClockwise!==!0||A||(m=m===i?-i:m-i),i=this.aStartAngle+s*m,s=this.aX+this.xRadius*Math.cos(i);var E=this.aY+this.yRadius*Math.sin(i);return this.aRotation!==0&&(i=Math.cos(this.aRotation),m=Math.sin(this.aRotation),A=s-this.aX,E-=this.aY,s=A*i-E*m+this.aX,E=A*m+E*i+this.aY),t.set(s,E)},$c.prototype.copy=function(s){return eo.prototype.copy.call(this,s),this.aX=s.aX,this.aY=s.aY,this.xRadius=s.xRadius,this.yRadius=s.yRadius,this.aStartAngle=s.aStartAngle,this.aEndAngle=s.aEndAngle,this.aClockwise=s.aClockwise,this.aRotation=s.aRotation,this},$c.prototype.toJSON=function(){var s=eo.prototype.toJSON.call(this);return s.aX=this.aX,s.aY=this.aY,s.xRadius=this.xRadius,s.yRadius=this.yRadius,s.aStartAngle=this.aStartAngle,s.aEndAngle=this.aEndAngle,s.aClockwise=this.aClockwise,s.aRotation=this.aRotation,s},$c.prototype.fromJSON=function(s){return eo.prototype.fromJSON.call(this,s),this.aX=s.aX,this.aY=s.aY,this.xRadius=s.xRadius,this.yRadius=s.yRadius,this.aStartAngle=s.aStartAngle,this.aEndAngle=s.aEndAngle,this.aClockwise=s.aClockwise,this.aRotation=s.aRotation,this},V1.prototype=Oe($c.prototype),V1.prototype.constructor=V1,V1.prototype.isArcCurve=!0;var rn=new Y,Dr=new uw,En=new uw,Jr=new uw;Wu.prototype=Oe(eo.prototype),Wu.prototype.constructor=Wu,Wu.prototype.isCatmullRomCurve3=!0,Wu.prototype.getPoint=function(s,t){t=t||new Y;var i=this.points,m=i.length;s*=m-(this.closed?0:1);var A=Math.floor(s);if(s-=A,this.closed?A+=0<A?0:(Math.floor(Math.abs(A)/m)+1)*m:s===0&&A===m-1&&(A=m-2,s=1),this.closed||0<A)var E=i[(A-1)%m];else rn.subVectors(i[0],i[1]).add(i[0]),E=rn;var O=i[A%m],F=i[(A+1)%m];if(this.closed||A+2<m?i=i[(A+2)%m]:(rn.subVectors(i[m-1],i[m-2]).add(i[m-1]),i=rn),this.curveType==="centripetal"||this.curveType==="chordal"){var H=this.curveType==="chordal"?.5:.25;m=Math.pow(E.distanceToSquared(O),H),A=Math.pow(O.distanceToSquared(F),H),H=Math.pow(F.distanceToSquared(i),H),1e-4>A&&(A=1),1e-4>m&&(m=A),1e-4>H&&(H=A),Dr.initNonuniformCatmullRom(E.x,O.x,F.x,i.x,m,A,H),En.initNonuniformCatmullRom(E.y,O.y,F.y,i.y,m,A,H),Jr.initNonuniformCatmullRom(E.z,O.z,F.z,i.z,m,A,H)}else this.curveType==="catmullrom"&&(Dr.initCatmullRom(E.x,O.x,F.x,i.x,this.tension),En.initCatmullRom(E.y,O.y,F.y,i.y,this.tension),Jr.initCatmullRom(E.z,O.z,F.z,i.z,this.tension));return t.set(Dr.calc(s),En.calc(s),Jr.calc(s)),t},Wu.prototype.copy=function(s){eo.prototype.copy.call(this,s),this.points=[];for(var t=0,i=s.points.length;t<i;t++)this.points.push(s.points[t].clone());return this.closed=s.closed,this.curveType=s.curveType,this.tension=s.tension,this},Wu.prototype.toJSON=function(){var s=eo.prototype.toJSON.call(this);s.points=[];for(var t=0,i=this.points.length;t<i;t++)s.points.push(this.points[t].toArray());return s.closed=this.closed,s.curveType=this.curveType,s.tension=this.tension,s},Wu.prototype.fromJSON=function(s){eo.prototype.fromJSON.call(this,s),this.points=[];for(var t=0,i=s.points.length;t<i;t++){var m=s.points[t];this.points.push(new Y().fromArray(m))}return this.closed=s.closed,this.curveType=s.curveType,this.tension=s.tension,this},Lp.prototype=Oe(eo.prototype),Lp.prototype.constructor=Lp,Lp.prototype.isCubicBezierCurve=!0,Lp.prototype.getPoint=function(s,t){t=t||new l;var i=this.v0,m=this.v1,A=this.v2,E=this.v3;return t.set(t2(s,i.x,m.x,A.x,E.x),t2(s,i.y,m.y,A.y,E.y)),t},Lp.prototype.copy=function(s){return eo.prototype.copy.call(this,s),this.v0.copy(s.v0),this.v1.copy(s.v1),this.v2.copy(s.v2),this.v3.copy(s.v3),this},Lp.prototype.toJSON=function(){var s=eo.prototype.toJSON.call(this);return s.v0=this.v0.toArray(),s.v1=this.v1.toArray(),s.v2=this.v2.toArray(),s.v3=this.v3.toArray(),s},Lp.prototype.fromJSON=function(s){return eo.prototype.fromJSON.call(this,s),this.v0.fromArray(s.v0),this.v1.fromArray(s.v1),this.v2.fromArray(s.v2),this.v3.fromArray(s.v3),this},Iv.prototype=Oe(eo.prototype),Iv.prototype.constructor=Iv,Iv.prototype.isCubicBezierCurve3=!0,Iv.prototype.getPoint=function(s,t){t=t||new Y;var i=this.v0,m=this.v1,A=this.v2,E=this.v3;return t.set(t2(s,i.x,m.x,A.x,E.x),t2(s,i.y,m.y,A.y,E.y),t2(s,i.z,m.z,A.z,E.z)),t},Iv.prototype.copy=function(s){return eo.prototype.copy.call(this,s),this.v0.copy(s.v0),this.v1.copy(s.v1),this.v2.copy(s.v2),this.v3.copy(s.v3),this},Iv.prototype.toJSON=function(){var s=eo.prototype.toJSON.call(this);return s.v0=this.v0.toArray(),s.v1=this.v1.toArray(),s.v2=this.v2.toArray(),s.v3=this.v3.toArray(),s},Iv.prototype.fromJSON=function(s){return eo.prototype.fromJSON.call(this,s),this.v0.fromArray(s.v0),this.v1.fromArray(s.v1),this.v2.fromArray(s.v2),this.v3.fromArray(s.v3),this},eh.prototype=Oe(eo.prototype),eh.prototype.constructor=eh,eh.prototype.isLineCurve=!0,eh.prototype.getPoint=function(s,t){return t=t||new l,s===1?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(s).add(this.v1)),t},eh.prototype.getPointAt=function(s,t){return this.getPoint(s,t)},eh.prototype.getTangent=function(s,t){return s=t||new l,s=s.copy(this.v2).sub(this.v1).normalize()},eh.prototype.copy=function(s){return eo.prototype.copy.call(this,s),this.v1.copy(s.v1),this.v2.copy(s.v2),this},eh.prototype.toJSON=function(){var s=eo.prototype.toJSON.call(this);return s.v1=this.v1.toArray(),s.v2=this.v2.toArray(),s},eh.prototype.fromJSON=function(s){return eo.prototype.fromJSON.call(this,s),this.v1.fromArray(s.v1),this.v2.fromArray(s.v2),this},Dp.prototype=Oe(eo.prototype),Dp.prototype.constructor=Dp,Dp.prototype.isLineCurve3=!0,Dp.prototype.getPoint=function(s,t){return t=t||new Y,s===1?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(s).add(this.v1)),t},Dp.prototype.getPointAt=function(s,t){return this.getPoint(s,t)},Dp.prototype.copy=function(s){return eo.prototype.copy.call(this,s),this.v1.copy(s.v1),this.v2.copy(s.v2),this},Dp.prototype.toJSON=function(){var s=eo.prototype.toJSON.call(this);return s.v1=this.v1.toArray(),s.v2=this.v2.toArray(),s},Dp.prototype.fromJSON=function(s){return eo.prototype.fromJSON.call(this,s),this.v1.fromArray(s.v1),this.v2.fromArray(s.v2),this},Np.prototype=Oe(eo.prototype),Np.prototype.constructor=Np,Np.prototype.isQuadraticBezierCurve=!0,Np.prototype.getPoint=function(s,t){t=t||new l;var i=this.v0,m=this.v1,A=this.v2;return t.set(py(s,i.x,m.x,A.x),py(s,i.y,m.y,A.y)),t},Np.prototype.copy=function(s){return eo.prototype.copy.call(this,s),this.v0.copy(s.v0),this.v1.copy(s.v1),this.v2.copy(s.v2),this},Np.prototype.toJSON=function(){var s=eo.prototype.toJSON.call(this);return s.v0=this.v0.toArray(),s.v1=this.v1.toArray(),s.v2=this.v2.toArray(),s},Np.prototype.fromJSON=function(s){return eo.prototype.fromJSON.call(this,s),this.v0.fromArray(s.v0),this.v1.fromArray(s.v1),this.v2.fromArray(s.v2),this},qm.prototype=Oe(eo.prototype),qm.prototype.constructor=qm,qm.prototype.isQuadraticBezierCurve3=!0,qm.prototype.getPoint=function(s,t){t=t||new Y;var i=this.v0,m=this.v1,A=this.v2;return t.set(py(s,i.x,m.x,A.x),py(s,i.y,m.y,A.y),py(s,i.z,m.z,A.z)),t},qm.prototype.copy=function(s){return eo.prototype.copy.call(this,s),this.v0.copy(s.v0),this.v1.copy(s.v1),this.v2.copy(s.v2),this},qm.prototype.toJSON=function(){var s=eo.prototype.toJSON.call(this);return s.v0=this.v0.toArray(),s.v1=this.v1.toArray(),s.v2=this.v2.toArray(),s},qm.prototype.fromJSON=function(s){return eo.prototype.fromJSON.call(this,s),this.v0.fromArray(s.v0),this.v1.fromArray(s.v1),this.v2.fromArray(s.v2),this},zf.prototype=Oe(eo.prototype),zf.prototype.constructor=zf,zf.prototype.isSplineCurve=!0,zf.prototype.getPoint=function(s,t){t=t||new l;var i=this.points,m=(i.length-1)*s;s=Math.floor(m),m-=s;var A=i[s===0?s:s-1],E=i[s],O=i[s>i.length-2?i.length-1:s+1];return i=i[s>i.length-3?i.length-1:s+2],t.set(LS(m,A.x,E.x,O.x,i.x),LS(m,A.y,E.y,O.y,i.y)),t},zf.prototype.copy=function(s){eo.prototype.copy.call(this,s),this.points=[];for(var t=0,i=s.points.length;t<i;t++)this.points.push(s.points[t].clone());return this},zf.prototype.toJSON=function(){var s=eo.prototype.toJSON.call(this);s.points=[];for(var t=0,i=this.points.length;t<i;t++)s.points.push(this.points[t].toArray());return s},zf.prototype.fromJSON=function(s){eo.prototype.fromJSON.call(this,s),this.points=[];for(var t=0,i=s.points.length;t<i;t++){var m=s.points[t];this.points.push(new l().fromArray(m))}return this};var qr=Eh({__proto__:null,ArcCurve:V1,CatmullRomCurve3:Wu,CubicBezierCurve:Lp,CubicBezierCurve3:Iv,EllipseCurve:$c,LineCurve:eh,LineCurve3:Dp,QuadraticBezierCurve:Np,QuadraticBezierCurve3:qm,SplineCurve:zf});Pv.prototype=Le(Oe(eo.prototype),{constructor:Pv,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),i=this.curves[this.curves.length-1].getPoint(1);t.equals(i)||this.curves.push(new eh(i,t))},getPoint:function(t){var i=t*this.getLength(),m=this.getCurveLengths();for(t=0;t<m.length;){if(m[t]>=i)return i=m[t]-i,t=this.curves[t],m=t.getLength(),t.getPointAt(m===0?0:1-i/m);t++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],i=0,m=0,A=this.curves.length;m<A;m++)i+=this.curves[m].getLength(),t.push(i);return this.cacheLengths=t},getSpacedPoints:function(t){t===void 0&&(t=40);for(var i=[],m=0;m<=t;m++)i.push(this.getPoint(m/t));return this.autoClose&&i.push(i[0]),i},getPoints:function(t){t=t||12;for(var i=[],m,A=0,E=this.curves;A<E.length;A++){var O=E[A];O=O.getPoints(O&&O.isEllipseCurve?2*t:O&&(O.isLineCurve||O.isLineCurve3)?1:O&&O.isSplineCurve?t*O.points.length:t);for(var F=0;F<O.length;F++){var H=O[F];m&&m.equals(H)||(i.push(H),m=H)}}return this.autoClose&&1<i.length&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i},copy:function(t){eo.prototype.copy.call(this,t),this.curves=[];for(var i=0,m=t.curves.length;i<m;i++)this.curves.push(t.curves[i].clone());return this.autoClose=t.autoClose,this},toJSON:function(){var t=eo.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var i=0,m=this.curves.length;i<m;i++)t.curves.push(this.curves[i].toJSON());return t},fromJSON:function(t){eo.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var i=0,m=t.curves.length;i<m;i++){var A=t.curves[i];this.curves.push(new qr[A.type]().fromJSON(A))}return this}}),jf.prototype=Le(Oe(Pv.prototype),{constructor:jf,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var i=1,m=t.length;i<m;i++)this.lineTo(t[i].x,t[i].y);return this},moveTo:function(t,i){return this.currentPoint.set(t,i),this},lineTo:function(t,i){var m=new eh(this.currentPoint.clone(),new l(t,i));return this.curves.push(m),this.currentPoint.set(t,i),this},quadraticCurveTo:function(t,i,m,A){return t=new Np(this.currentPoint.clone(),new l(t,i),new l(m,A)),this.curves.push(t),this.currentPoint.set(m,A),this},bezierCurveTo:function(t,i,m,A,E,O){return t=new Lp(this.currentPoint.clone(),new l(t,i),new l(m,A),new l(E,O)),this.curves.push(t),this.currentPoint.set(E,O),this},splineThru:function(t){var i=[this.currentPoint.clone()].concat(t);return i=new zf(i),this.curves.push(i),this.currentPoint.copy(t[t.length-1]),this},arc:function(t,i,m,A,E,O){return this.absarc(t+this.currentPoint.x,i+this.currentPoint.y,m,A,E,O),this},absarc:function(t,i,m,A,E,O){return this.absellipse(t,i,m,m,A,E,O),this},ellipse:function(t,i,m,A,E,O,F,H){return this.absellipse(t+this.currentPoint.x,i+this.currentPoint.y,m,A,E,O,F,H),this},absellipse:function(t,i,m,A,E,O,F,H){return t=new $c(t,i,m,A,E,O,F,H),0<this.curves.length&&(i=t.getPoint(0),i.equals(this.currentPoint)||this.lineTo(i.x,i.y)),this.curves.push(t),t=t.getPoint(1),this.currentPoint.copy(t),this},copy:function(t){return Pv.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){var t=Pv.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return Pv.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),Ov.prototype=Le(Oe(jf.prototype),{constructor:Ov,getPointsHoles:function(t){for(var i=[],m=0,A=this.holes.length;m<A;m++)i[m]=this.holes[m].getPoints(t);return i},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){jf.prototype.copy.call(this,t),this.holes=[];for(var i=0,m=t.holes.length;i<m;i++)this.holes.push(t.holes[i].clone());return this},toJSON:function(){var t=jf.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(var i=0,m=this.holes.length;i<m;i++)t.holes.push(this.holes[i].toJSON());return t},fromJSON:function(t){jf.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var i=0,m=t.holes.length;i<m;i++){var A=t.holes[i];this.holes.push(new jf().fromJSON(A))}return this}}),hs.prototype=Le(Oe(we.prototype),{constructor:hs,isLight:!0,copy:function(t){return we.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){return t=we.prototype.toJSON.call(this,t),t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}),cw.prototype=Le(Oe(hs.prototype),{constructor:cw,isHemisphereLight:!0,copy:function(t){return hs.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Le(Qm.prototype,{_projScreenMatrix:new ie,_lightPositionWorld:new Y,_lookTarget:new Y,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(t){var i=this.camera,m=this.matrix,A=this._projScreenMatrix,E=this._lookTarget,O=this._lightPositionWorld;O.setFromMatrixPosition(t.matrixWorld),i.position.copy(O),E.setFromMatrixPosition(t.target.matrixWorld),i.lookAt(E),i.updateMatrixWorld(),A.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(A),m.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),m.multiply(i.projectionMatrix),m.multiply(i.matrixWorldInverse)},getViewport:function(t){return this._viewports[t]},getFrameExtents:function(){return this._frameExtents},copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var t={};return this.bias!==0&&(t.bias=this.bias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),hw.prototype=Le(Oe(Qm.prototype),{constructor:hw,isSpotLightShadow:!0,updateMatrices:function(t){var i=this.camera,m=2*Fo.RAD2DEG*t.angle,A=this.mapSize.width/this.mapSize.height,E=t.distance||i.far;(m!==i.fov||A!==i.aspect||E!==i.far)&&(i.fov=m,i.aspect=A,i.far=E,i.updateProjectionMatrix()),Qm.prototype.updateMatrices.call(this,t)}}),MC.prototype=Le(Oe(hs.prototype),{constructor:MC,isSpotLight:!0,copy:function(t){return hs.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),fw.prototype=Le(Oe(Qm.prototype),{constructor:fw,isPointLightShadow:!0,updateMatrices:function(t,i){i===void 0&&(i=0);var m=this.camera,A=this.matrix,E=this._lightPositionWorld,O=this._lookTarget,F=this._projScreenMatrix;E.setFromMatrixPosition(t.matrixWorld),m.position.copy(E),O.copy(m.position),O.add(this._cubeDirections[i]),m.up.copy(this._cubeUps[i]),m.lookAt(O),m.updateMatrixWorld(),A.makeTranslation(-E.x,-E.y,-E.z),F.multiplyMatrices(m.projectionMatrix,m.matrixWorldInverse),this._frustum.setFromProjectionMatrix(F)}}),r2.prototype=Le(Oe(hs.prototype),{constructor:r2,isPointLight:!0,copy:function(t){return hs.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),EC.prototype=Le(Oe(sn.prototype),{constructor:EC,isOrthographicCamera:!0,copy:function(t,i){return sn.prototype.copy.call(this,t,i),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Le({},t.view),this},setViewOffset:function(t,i,m,A,E,O){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=i,this.view.offsetX=m,this.view.offsetY=A,this.view.width=E,this.view.height=O,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),i=(this.top-this.bottom)/(2*this.zoom),m=(this.right+this.left)/2,A=(this.top+this.bottom)/2,E=m-t;m+=t,t=A+i,i=A-i,this.view!==null&&this.view.enabled&&(A=(this.right-this.left)/this.view.fullWidth/this.zoom,i=(this.top-this.bottom)/this.view.fullHeight/this.zoom,E+=A*this.view.offsetX,m=E+A*this.view.width,t-=i*this.view.offsetY,i=t-i*this.view.height),this.projectionMatrix.makeOrthographic(E,m,t,i,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){return t=we.prototype.toJSON.call(this,t),t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Le({},this.view)),t}}),dw.prototype=Le(Oe(Qm.prototype),{constructor:dw,isDirectionalLightShadow:!0,updateMatrices:function(t){Qm.prototype.updateMatrices.call(this,t)}}),pw.prototype=Le(Oe(hs.prototype),{constructor:pw,isDirectionalLight:!0,copy:function(t){return hs.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),mw.prototype=Le(Oe(hs.prototype),{constructor:mw,isAmbientLight:!0}),gw.prototype=Le(Oe(hs.prototype),{constructor:gw,isRectAreaLight:!0,copy:function(t){return hs.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){return t=hs.prototype.toJSON.call(this,t),t.object.width=this.width,t.object.height=this.height,t}}),Le(TC.prototype,{isSphericalHarmonics3:!0,set:function(t){for(var i=0;9>i;i++)this.coefficients[i].copy(t[i]);return this},zero:function(){for(var t=0;9>t;t++)this.coefficients[t].set(0,0,0);return this},getAt:function(t,i){var m=t.x,A=t.y;t=t.z;var E=this.coefficients;return i.copy(E[0]).multiplyScalar(.282095),i.addScaledVector(E[1],.488603*A),i.addScaledVector(E[2],.488603*t),i.addScaledVector(E[3],.488603*m),i.addScaledVector(E[4],1.092548*m*A),i.addScaledVector(E[5],1.092548*A*t),i.addScaledVector(E[6],.315392*(3*t*t-1)),i.addScaledVector(E[7],1.092548*m*t),i.addScaledVector(E[8],.546274*(m*m-A*A)),i},getIrradianceAt:function(t,i){var m=t.x,A=t.y;t=t.z;var E=this.coefficients;return i.copy(E[0]).multiplyScalar(.886227),i.addScaledVector(E[1],1.023328*A),i.addScaledVector(E[2],1.023328*t),i.addScaledVector(E[3],1.023328*m),i.addScaledVector(E[4],.858086*m*A),i.addScaledVector(E[5],.858086*A*t),i.addScaledVector(E[6],.743125*t*t-.247708),i.addScaledVector(E[7],.858086*m*t),i.addScaledVector(E[8],.429043*(m*m-A*A)),i},add:function(t){for(var i=0;9>i;i++)this.coefficients[i].add(t.coefficients[i]);return this},addScaledSH:function(t,i){for(var m=0;9>m;m++)this.coefficients[m].addScaledVector(t.coefficients[m],i);return this},scale:function(t){for(var i=0;9>i;i++)this.coefficients[i].multiplyScalar(t);return this},lerp:function(t,i){for(var m=0;9>m;m++)this.coefficients[m].lerp(t.coefficients[m],i);return this},equals:function(t){for(var i=0;9>i;i++)if(!this.coefficients[i].equals(t.coefficients[i]))return!1;return!0},copy:function(t){return this.set(t.coefficients)},clone:function(){return new this.constructor().copy(this)},fromArray:function(t,i){i===void 0&&(i=0);for(var m=this.coefficients,A=0;9>A;A++)m[A].fromArray(t,i+3*A);return this},toArray:function(t,i){t===void 0&&(t=[]),i===void 0&&(i=0);for(var m=this.coefficients,A=0;9>A;A++)m[A].toArray(t,i+3*A);return t}}),Le(TC,{getBasisAt:function(t,i){var m=t.x,A=t.y;t=t.z,i[0]=.282095,i[1]=.488603*A,i[2]=.488603*t,i[3]=.488603*m,i[4]=1.092548*m*A,i[5]=1.092548*A*t,i[6]=.315392*(3*t*t-1),i[7]=1.092548*m*t,i[8]=.546274*(m*m-A*A)}}),Uf.prototype=Le(Oe(hs.prototype),{constructor:Uf,isLightProbe:!0,copy:function(t){return hs.prototype.copy.call(this,t),this.sh.copy(t.sh),this},fromJSON:function(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this},toJSON:function(t){return t=hs.prototype.toJSON.call(this,t),t.object.sh=this.sh.toArray(),t}}),n2.prototype=Le(Oe(ka.prototype),{constructor:n2,load:function(t,i,m,A){var E=this,O=new Bf(E.manager);O.setPath(E.path),O.load(t,function(F){try{i(E.parse(JSON.parse(F)))}catch(H){A?A(H):console.error(H),E.manager.itemError(t)}},m,A)},parse:function(t){function i(H){return m[H]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",H),m[H]}var m=this.textures,A=new wn[t.type];if(t.uuid!==void 0&&(A.uuid=t.uuid),t.name!==void 0&&(A.name=t.name),t.color!==void 0&&A.color.setHex(t.color),t.roughness!==void 0&&(A.roughness=t.roughness),t.metalness!==void 0&&(A.metalness=t.metalness),t.sheen!==void 0&&(A.sheen=new at().setHex(t.sheen)),t.emissive!==void 0&&A.emissive.setHex(t.emissive),t.specular!==void 0&&A.specular.setHex(t.specular),t.shininess!==void 0&&(A.shininess=t.shininess),t.clearcoat!==void 0&&(A.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&&(A.clearcoatRoughness=t.clearcoatRoughness),t.fog!==void 0&&(A.fog=t.fog),t.flatShading!==void 0&&(A.flatShading=t.flatShading),t.blending!==void 0&&(A.blending=t.blending),t.combine!==void 0&&(A.combine=t.combine),t.side!==void 0&&(A.side=t.side),t.opacity!==void 0&&(A.opacity=t.opacity),t.transparent!==void 0&&(A.transparent=t.transparent),t.alphaTest!==void 0&&(A.alphaTest=t.alphaTest),t.depthTest!==void 0&&(A.depthTest=t.depthTest),t.depthWrite!==void 0&&(A.depthWrite=t.depthWrite),t.colorWrite!==void 0&&(A.colorWrite=t.colorWrite),t.stencilWrite!==void 0&&(A.stencilWrite=t.stencilWrite),t.stencilWriteMask!==void 0&&(A.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&&(A.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&&(A.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&&(A.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&&(A.stencilFail=t.stencilFail),t.stencilZFail!==void 0&&(A.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&&(A.stencilZPass=t.stencilZPass),t.wireframe!==void 0&&(A.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&&(A.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&&(A.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&&(A.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&&(A.rotation=t.rotation),t.linewidth!==1&&(A.linewidth=t.linewidth),t.dashSize!==void 0&&(A.dashSize=t.dashSize),t.gapSize!==void 0&&(A.gapSize=t.gapSize),t.scale!==void 0&&(A.scale=t.scale),t.polygonOffset!==void 0&&(A.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&&(A.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&&(A.polygonOffsetUnits=t.polygonOffsetUnits),t.skinning!==void 0&&(A.skinning=t.skinning),t.morphTargets!==void 0&&(A.morphTargets=t.morphTargets),t.morphNormals!==void 0&&(A.morphNormals=t.morphNormals),t.dithering!==void 0&&(A.dithering=t.dithering),t.vertexTangents!==void 0&&(A.vertexTangents=t.vertexTangents),t.visible!==void 0&&(A.visible=t.visible),t.toneMapped!==void 0&&(A.toneMapped=t.toneMapped),t.userData!==void 0&&(A.userData=t.userData),t.vertexColors!==void 0&&(A.vertexColors=typeof t.vertexColors=="number"?0<t.vertexColors:t.vertexColors),t.uniforms!==void 0)for(var E in t.uniforms){var O=t.uniforms[E];switch(A.uniforms[E]={},O.type){case"t":A.uniforms[E].value=i(O.value);break;case"c":A.uniforms[E].value=new at().setHex(O.value);break;case"v2":A.uniforms[E].value=new l().fromArray(O.value);break;case"v3":A.uniforms[E].value=new Y().fromArray(O.value);break;case"v4":A.uniforms[E].value=new M().fromArray(O.value);break;case"m3":A.uniforms[E].value=new v().fromArray(O.value);case"m4":A.uniforms[E].value=new ie().fromArray(O.value);break;default:A.uniforms[E].value=O.value}}if(t.defines!==void 0&&(A.defines=t.defines),t.vertexShader!==void 0&&(A.vertexShader=t.vertexShader),t.fragmentShader!==void 0&&(A.fragmentShader=t.fragmentShader),t.extensions!==void 0)for(var F in t.extensions)A.extensions[F]=t.extensions[F];return t.shading!==void 0&&(A.flatShading=t.shading===1),t.size!==void 0&&(A.size=t.size),t.sizeAttenuation!==void 0&&(A.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&&(A.map=i(t.map)),t.matcap!==void 0&&(A.matcap=i(t.matcap)),t.alphaMap!==void 0&&(A.alphaMap=i(t.alphaMap)),t.bumpMap!==void 0&&(A.bumpMap=i(t.bumpMap)),t.bumpScale!==void 0&&(A.bumpScale=t.bumpScale),t.normalMap!==void 0&&(A.normalMap=i(t.normalMap)),t.normalMapType!==void 0&&(A.normalMapType=t.normalMapType),t.normalScale!==void 0&&(E=t.normalScale,Array.isArray(E)===!1&&(E=[E,E]),A.normalScale=new l().fromArray(E)),t.displacementMap!==void 0&&(A.displacementMap=i(t.displacementMap)),t.displacementScale!==void 0&&(A.displacementScale=t.displacementScale),t.displacementBias!==void 0&&(A.displacementBias=t.displacementBias),t.roughnessMap!==void 0&&(A.roughnessMap=i(t.roughnessMap)),t.metalnessMap!==void 0&&(A.metalnessMap=i(t.metalnessMap)),t.emissiveMap!==void 0&&(A.emissiveMap=i(t.emissiveMap)),t.emissiveIntensity!==void 0&&(A.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&&(A.specularMap=i(t.specularMap)),t.envMap!==void 0&&(A.envMap=i(t.envMap)),t.envMapIntensity!==void 0&&(A.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&&(A.reflectivity=t.reflectivity),t.refractionRatio!==void 0&&(A.refractionRatio=t.refractionRatio),t.lightMap!==void 0&&(A.lightMap=i(t.lightMap)),t.lightMapIntensity!==void 0&&(A.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&&(A.aoMap=i(t.aoMap)),t.aoMapIntensity!==void 0&&(A.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&&(A.gradientMap=i(t.gradientMap)),t.clearcoatMap!==void 0&&(A.clearcoatMap=i(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&&(A.clearcoatRoughnessMap=i(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&&(A.clearcoatNormalMap=i(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&&(A.clearcoatNormalScale=new l().fromArray(t.clearcoatNormalScale)),A},setTextures:function(t){return this.textures=t,this}});var Tn={decodeText:function(t){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(t);for(var i="",m=0,A=t.length;m<A;m++)i+=String.fromCharCode(t[m]);try{return decodeURIComponent(escape(i))}catch(E){return i}},extractUrlBase:function(t){var i=t.lastIndexOf("/");return i===-1?"./":t.substr(0,i+1)}};i2.prototype=Le(Oe(Et.prototype),{constructor:i2,isInstancedBufferGeometry:!0,copy:function(t){return Et.prototype.copy.call(this,t),this.instanceCount=t.instanceCount,this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var t=Et.prototype.toJSON.call(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}),vw.prototype=Le(Oe(gr.prototype),{constructor:vw,isInstancedBufferAttribute:!0,copy:function(t){return gr.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){var t=gr.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}),yw.prototype=Le(Oe(ka.prototype),{constructor:yw,load:function(t,i,m,A){var E=this,O=new Bf(E.manager);O.setPath(E.path),O.load(t,function(F){try{i(E.parse(JSON.parse(F)))}catch(H){A?A(H):console.error(H),E.manager.itemError(t)}},m,A)},parse:function(t){var i=t.isInstancedBufferGeometry?new i2:new Et,m=t.data.index;if(m!==void 0){var A=new Ln[m.type](m.array);i.setIndex(new gr(A,1))}m=t.data.attributes;for(var E in m){var O=m[E];A=new Ln[O.type](O.array),A=new(O.isInstancedBufferAttribute?vw:gr)(A,O.itemSize,O.normalized),O.name!==void 0&&(A.name=O.name),i.setAttribute(E,A)}var F=t.data.morphAttributes;if(F)for(E in F){var H=F[E],K=[];m=0;for(var $=H.length;m<$;m++)O=H[m],A=new Ln[O.type](O.array),A=new gr(A,O.itemSize,O.normalized),O.name!==void 0&&(A.name=O.name),K.push(A);i.morphAttributes[E]=K}if(t.data.morphTargetsRelative&&(i.morphTargetsRelative=!0),E=t.data.groups||t.data.drawcalls||t.data.offsets,E!==void 0)for(m=0,O=E.length;m!==O;++m)A=E[m],i.addGroup(A.start,A.count,A.materialIndex);return m=t.data.boundingSphere,m!==void 0&&(E=new Y,m.center!==void 0&&E.fromArray(m.center),i.boundingSphere=new vt(E,m.radius)),t.name&&(i.name=t.name),t.userData&&(i.userData=t.userData),i}});var Ln={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray!="undefined"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};xw.prototype=Le(Oe(ka.prototype),{constructor:xw,load:function(t,i,m,A){var E=this,O=this.path===""?Tn.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||O,O=new Bf(E.manager),O.setPath(this.path),O.load(t,function(F){var H=null;try{H=JSON.parse(F)}catch(K){A!==void 0&&A(K),console.error("THREE:ObjectLoader: Can't parse "+t+".",K.message);return}F=H.metadata,F===void 0||F.type===void 0||F.type.toLowerCase()==="geometry"?console.error("THREE.ObjectLoader: Can't load "+t):E.parse(H,i)},m,A)},parse:function(t,i){var m=this.parseShape(t.shapes);m=this.parseGeometries(t.geometries,m);var A=this.parseImages(t.images,function(){i!==void 0&&i(E)});A=this.parseTextures(t.textures,A),A=this.parseMaterials(t.materials,A);var E=this.parseObject(t.object,m,A);return t.animations&&(E.animations=this.parseAnimations(t.animations)),t.images!==void 0&&t.images.length!==0||i===void 0||i(E),E},parseShape:function(t){var i={};if(t!==void 0)for(var m=0,A=t.length;m<A;m++){var E=new Ov().fromJSON(t[m]);i[E.uuid]=E}return i},parseGeometries:function(t,i){var m={};if(t!==void 0)for(var A=new yw,E=0,O=t.length;E<O;E++){var F=t[E];switch(F.type){case"PlaneGeometry":case"PlaneBufferGeometry":var H=new Fr[F.type](F.width,F.height,F.widthSegments,F.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":H=new Fr[F.type](F.width,F.height,F.depth,F.widthSegments,F.heightSegments,F.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":H=new Fr[F.type](F.radius,F.segments,F.thetaStart,F.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":H=new Fr[F.type](F.radiusTop,F.radiusBottom,F.height,F.radialSegments,F.heightSegments,F.openEnded,F.thetaStart,F.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":H=new Fr[F.type](F.radius,F.height,F.radialSegments,F.heightSegments,F.openEnded,F.thetaStart,F.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":H=new Fr[F.type](F.radius,F.widthSegments,F.heightSegments,F.phiStart,F.phiLength,F.thetaStart,F.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":H=new Fr[F.type](F.radius,F.detail);break;case"RingGeometry":case"RingBufferGeometry":H=new Fr[F.type](F.innerRadius,F.outerRadius,F.thetaSegments,F.phiSegments,F.thetaStart,F.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":H=new Fr[F.type](F.radius,F.tube,F.radialSegments,F.tubularSegments,F.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":H=new Fr[F.type](F.radius,F.tube,F.tubularSegments,F.radialSegments,F.p,F.q);break;case"TubeGeometry":case"TubeBufferGeometry":H=new Fr[F.type](new qr[F.path.type]().fromJSON(F.path),F.tubularSegments,F.radius,F.radialSegments,F.closed);break;case"LatheGeometry":case"LatheBufferGeometry":H=new Fr[F.type](F.points,F.segments,F.phiStart,F.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":H=new Fr[F.type](F.vertices,F.indices,F.radius,F.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":H=[];for(var K=0,$=F.shapes.length;K<$;K++){var ue=i[F.shapes[K]];H.push(ue)}H=new Fr[F.type](H,F.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(H=[],K=0,$=F.shapes.length;K<$;K++)ue=i[F.shapes[K]],H.push(ue);K=F.options.extrudePath,K!==void 0&&(F.options.extrudePath=new qr[K.type]().fromJSON(K)),H=new Fr[F.type](H,F.options);break;case"BufferGeometry":case"InstancedBufferGeometry":H=A.parse(F);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+F.type+'"');continue}H.uuid=F.uuid,F.name!==void 0&&(H.name=F.name),H.isBufferGeometry===!0&&F.userData!==void 0&&(H.userData=F.userData),m[F.uuid]=H}return m},parseMaterials:function(t,i){var m={},A={};if(t!==void 0){var E=new n2;E.setTextures(i),i=0;for(var O=t.length;i<O;i++){var F=t[i];if(F.type==="MultiMaterial"){for(var H=[],K=0;K<F.materials.length;K++){var $=F.materials[K];m[$.uuid]===void 0&&(m[$.uuid]=E.parse($)),H.push(m[$.uuid])}A[F.uuid]=H}else m[F.uuid]===void 0&&(m[F.uuid]=E.parse(F)),A[F.uuid]=m[F.uuid]}}return A},parseAnimations:function(t){for(var i=[],m=0;m<t.length;m++){var A=t[m],E=Nd.parse(A);A.uuid!==void 0&&(E.uuid=A.uuid),i.push(E)}return i},parseImages:function(t,i){function m(pe){return A.manager.itemStart(pe),O.load(pe,function(){A.manager.itemEnd(pe)},void 0,function(){A.manager.itemError(pe),A.manager.itemEnd(pe)})}var A=this,E={};if(t!==void 0&&0<t.length){i=new mb(i);var O=new _C(i);O.setCrossOrigin(this.crossOrigin),i=0;for(var F=t.length;i<F;i++){var H=t[i],K=H.url;if(Array.isArray(K)){E[H.uuid]=[];for(var $=0,ue=K.length;$<ue;$++){var me=K[$];me=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(me)?me:A.resourcePath+me,E[H.uuid].push(m(me))}}else me=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(H.url)?H.url:A.resourcePath+H.url,E[H.uuid]=m(me)}}return E},parseTextures:function(t,i){function m(K,$){return typeof K=="number"?K:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",K),$[K])}var A={};if(t!==void 0)for(var E=0,O=t.length;E<O;E++){var F=t[E];F.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',F.uuid),i[F.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",F.image);var H=Array.isArray(i[F.image])?new Id(i[F.image]):new b(i[F.image]);H.needsUpdate=!0,H.uuid=F.uuid,F.name!==void 0&&(H.name=F.name),F.mapping!==void 0&&(H.mapping=m(F.mapping,Ci)),F.offset!==void 0&&H.offset.fromArray(F.offset),F.repeat!==void 0&&H.repeat.fromArray(F.repeat),F.center!==void 0&&H.center.fromArray(F.center),F.rotation!==void 0&&(H.rotation=F.rotation),F.wrap!==void 0&&(H.wrapS=m(F.wrap[0],di),H.wrapT=m(F.wrap[1],di)),F.format!==void 0&&(H.format=F.format),F.type!==void 0&&(H.type=F.type),F.encoding!==void 0&&(H.encoding=F.encoding),F.minFilter!==void 0&&(H.minFilter=m(F.minFilter,Bo)),F.magFilter!==void 0&&(H.magFilter=m(F.magFilter,Bo)),F.anisotropy!==void 0&&(H.anisotropy=F.anisotropy),F.flipY!==void 0&&(H.flipY=F.flipY),F.premultiplyAlpha!==void 0&&(H.premultiplyAlpha=F.premultiplyAlpha),F.unpackAlignment!==void 0&&(H.unpackAlignment=F.unpackAlignment),A[F.uuid]=H}return A},parseObject:function(t,i,m){function A($){return i[$]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",$),i[$]}function E($){if($!==void 0){if(Array.isArray($)){for(var ue=[],me=0,pe=$.length;me<pe;me++){var be=$[me];m[be]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",be),ue.push(m[be])}return ue}return m[$]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",$),m[$]}}switch(t.type){case"Scene":var O=new Qe;t.background!==void 0&&Zc(t.background)&&(O.background=new at(t.background)),t.fog!==void 0&&(t.fog.type==="Fog"?O.fog=new P1(t.fog.color,t.fog.near,t.fog.far):t.fog.type==="FogExp2"&&(O.fog=new Ym(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":O=new mr(t.fov,t.aspect,t.near,t.far),t.focus!==void 0&&(O.focus=t.focus),t.zoom!==void 0&&(O.zoom=t.zoom),t.filmGauge!==void 0&&(O.filmGauge=t.filmGauge),t.filmOffset!==void 0&&(O.filmOffset=t.filmOffset),t.view!==void 0&&(O.view=Le({},t.view));break;case"OrthographicCamera":O=new EC(t.left,t.right,t.top,t.bottom,t.near,t.far),t.zoom!==void 0&&(O.zoom=t.zoom),t.view!==void 0&&(O.view=Le({},t.view));break;case"AmbientLight":O=new mw(t.color,t.intensity);break;case"DirectionalLight":O=new pw(t.color,t.intensity);break;case"PointLight":O=new r2(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":O=new gw(t.color,t.intensity,t.width,t.height);break;case"SpotLight":O=new MC(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":O=new cw(t.color,t.groundColor,t.intensity);break;case"LightProbe":O=new Uf().fromJSON(t);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":O=A(t.geometry);var F=E(t.material);O=new Kt(O,F);break;case"InstancedMesh":O=A(t.geometry),F=E(t.material);var H=t.instanceMatrix;O=new J2(O,F,t.count),O.instanceMatrix=new gr(new Float32Array(H.array),16);break;case"LOD":O=new O1;break;case"Line":O=new kh(A(t.geometry),E(t.material),t.mode);break;case"LineLoop":O=new q2(A(t.geometry),E(t.material));break;case"LineSegments":O=new vs(A(t.geometry),E(t.material));break;case"PointCloud":case"Points":O=new lC(A(t.geometry),E(t.material));break;case"Sprite":O=new ay(E(t.material));break;case"Group":O=new oy;break;default:O=new we}if(O.uuid=t.uuid,t.name!==void 0&&(O.name=t.name),t.matrix!==void 0?(O.matrix.fromArray(t.matrix),t.matrixAutoUpdate!==void 0&&(O.matrixAutoUpdate=t.matrixAutoUpdate),O.matrixAutoUpdate&&O.matrix.decompose(O.position,O.quaternion,O.scale)):(t.position!==void 0&&O.position.fromArray(t.position),t.rotation!==void 0&&O.rotation.fromArray(t.rotation),t.quaternion!==void 0&&O.quaternion.fromArray(t.quaternion),t.scale!==void 0&&O.scale.fromArray(t.scale)),t.castShadow!==void 0&&(O.castShadow=t.castShadow),t.receiveShadow!==void 0&&(O.receiveShadow=t.receiveShadow),t.shadow&&(t.shadow.bias!==void 0&&(O.shadow.bias=t.shadow.bias),t.shadow.radius!==void 0&&(O.shadow.radius=t.shadow.radius),t.shadow.mapSize!==void 0&&O.shadow.mapSize.fromArray(t.shadow.mapSize),t.shadow.camera!==void 0&&(O.shadow.camera=this.parseObject(t.shadow.camera))),t.visible!==void 0&&(O.visible=t.visible),t.frustumCulled!==void 0&&(O.frustumCulled=t.frustumCulled),t.renderOrder!==void 0&&(O.renderOrder=t.renderOrder),t.userData!==void 0&&(O.userData=t.userData),t.layers!==void 0&&(O.layers.mask=t.layers),t.children!==void 0)for(H=t.children,F=0;F<H.length;F++)O.add(this.parseObject(H[F],i,m));if(t.type==="LOD")for(t.autoUpdate!==void 0&&(O.autoUpdate=t.autoUpdate),t=t.levels,H=0;H<t.length;H++){F=t[H];var K=O.getObjectByProperty("uuid",F.object);K!==void 0&&O.addLevel(K,F.distance)}return O}});var Ci={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},di={RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},Bo={NearestFilter:1003,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,LinearFilter:1006,LinearMipmapNearestFilter:1007,LinearMipmapLinearFilter:1008};yb.prototype=Le(Oe(ka.prototype),{constructor:yb,setOptions:function(t){return this.options=t,this},load:function(t,i,m,A){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);var E=this,O=hn.get(t);if(O!==void 0)return E.manager.itemStart(t),setTimeout(function(){i&&i(O),E.manager.itemEnd(t)},0),O;fetch(t).then(function(F){return F.blob()}).then(function(F){return E.options===void 0?createImageBitmap(F):createImageBitmap(F,E.options)}).then(function(F){hn.add(t,F),i&&i(F),E.manager.itemEnd(t)}).catch(function(F){A&&A(F),E.manager.itemError(t),E.manager.itemEnd(t)}),E.manager.itemStart(t)}}),Le(xb.prototype,{moveTo:function(t,i){return this.currentPath=new jf,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,i),this},lineTo:function(t,i){return this.currentPath.lineTo(t,i),this},quadraticCurveTo:function(t,i,m,A){return this.currentPath.quadraticCurveTo(t,i,m,A),this},bezierCurveTo:function(t,i,m,A,E,O){return this.currentPath.bezierCurveTo(t,i,m,A,E,O),this},splineThru:function(t){return this.currentPath.splineThru(t),this},toShapes:function(t,i){function m(_t){for(var Mt=[],It=0,Bt=_t.length;It<Bt;It++){var hr=_t[It],qt=new Ov;qt.curves=hr.curves,Mt.push(qt)}return Mt}function A(_t,Mt){for(var It=Mt.length,Bt=!1,hr=It-1,qt=0;qt<It;hr=qt++){var Pt=Mt[hr],Br=Mt[qt],Ht=Br.x-Pt.x,cn=Br.y-Pt.y;if(Math.abs(cn)>ts){if(0>cn&&(Pt=Mt[qt],Ht=-Ht,Br=Mt[hr],cn=-cn),!(_t.y<Pt.y||_t.y>Br.y))if(_t.y===Pt.y){if(_t.x===Pt.x)return!0}else{if(hr=cn*(_t.x-Pt.x)-Ht*(_t.y-Pt.y),hr===0)return!0;0>hr||(Bt=!Bt)}}else if(_t.y===Pt.y&&(Br.x<=_t.x&&_t.x<=Pt.x||Pt.x<=_t.x&&_t.x<=Br.x))return!0}return Bt}var E=Mr.isClockWise,O=this.subPaths;if(O.length===0)return[];if(i===!0)return m(O);if(i=[],O.length===1){var F=O[0],H=new Ov;return H.curves=F.curves,i.push(H),i}var K=!E(O[0].getPoints());K=t?!K:K,H=[];var $=[],ue=[],me=0;$[me]=void 0,ue[me]=[];for(var pe=0,be=O.length;pe<be;pe++){F=O[pe];var Te=F.getPoints(),it=E(Te);(it=t?!it:it)?(!K&&$[me]&&me++,$[me]={s:new Ov,p:Te},$[me].s.curves=F.curves,K&&me++,ue[me]=[]):ue[me].push({h:F,p:Te[0]})}if(!$[0])return m(O);if(1<$.length){for(pe=!1,t=[],E=0,O=$.length;E<O;E++)H[E]=[];for(E=0,O=$.length;E<O;E++)for(F=ue[E],it=0;it<F.length;it++){for(K=F[it],me=!0,Te=0;Te<$.length;Te++)A(K.p,$[Te].p)&&(E!==Te&&t.push({froms:E,tos:Te,hole:it}),me?(me=!1,H[Te].push(K)):pe=!0);me&&H[E].push(K)}0<t.length&&(pe||(ue=H))}for(pe=0,E=$.length;pe<E;pe++)for(H=$[pe].s,i.push(H),t=ue[pe],O=0,F=t.length;O<F;O++)H.holes.push(t[O].h);return i}}),Le(DS.prototype,{isFont:!0,generateShapes:function(t,i){i===void 0&&(i=100);var m=[],A=i;i=this.data;var E=Cl?Cl(t):String(t).split("");A/=i.resolution;var O=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*A;t=[];for(var F=0,H=0,K=0;K<E.length;K++){var $=E[K];if($===`
`)F=0,H-=O;else{var ue=$;$=A;var me=F,pe=H,be=i,Te=be.glyphs[ue]||be.glyphs["?"];if(Te){if(ue=new xb,Te.o){be=Te._cachedOutline||(Te._cachedOutline=Te.o.split(" "));for(var it=0,_t=be.length;it<_t;)switch(be[it++]){case"m":var Mt=be[it++]*$+me,It=be[it++]*$+pe;ue.moveTo(Mt,It);break;case"l":Mt=be[it++]*$+me,It=be[it++]*$+pe,ue.lineTo(Mt,It);break;case"q":var Bt=be[it++]*$+me,hr=be[it++]*$+pe,qt=be[it++]*$+me,Pt=be[it++]*$+pe;ue.quadraticCurveTo(qt,Pt,Bt,hr);break;case"b":Bt=be[it++]*$+me,hr=be[it++]*$+pe,qt=be[it++]*$+me,Pt=be[it++]*$+pe,Mt=be[it++]*$+me,It=be[it++]*$+pe,ue.bezierCurveTo(qt,Pt,Mt,It,Bt,hr)}}$={offsetX:Te.ha*$,path:ue}}else console.error('THREE.Font: character "'+ue+'" does not exists in font family '+be.familyName+"."),$=void 0;F+=$.offsetX,t.push($.path)}}for(i=0,E=t.length;i<E;i++)Array.prototype.push.apply(m,t[i].toShapes());return m}}),IC.prototype=Le(Oe(ka.prototype),{constructor:IC,load:function(t,i,m,A){var E=this,O=new Bf(this.manager);O.setPath(this.path),O.load(t,function(F){try{var H=JSON.parse(F)}catch(K){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),H=JSON.parse(F.substring(65,F.length-2))}F=E.parse(H),i&&i(F)},m,A)},parse:function(t){return new DS(t)}});var Ji,qi={getContext:function(){return Ji===void 0&&(Ji=new(window.AudioContext||window.webkitAudioContext)),Ji},setContext:function(t){Ji=t}};o2.prototype=Le(Oe(ka.prototype),{constructor:o2,load:function(t,i,m,A){var E=this,O=new Bf(E.manager);O.setResponseType("arraybuffer"),O.setPath(E.path),O.load(t,function(F){try{var H=F.slice(0);qi.getContext().decodeAudioData(H,function(K){i(K)})}catch(K){A?A(K):console.error(K),E.manager.itemError(t)}},m,A)}}),my.prototype=Le(Oe(Uf.prototype),{constructor:my,isHemisphereLightProbe:!0,copy:function(t){return Uf.prototype.copy.call(this,t),this},toJSON:function(t){return Uf.prototype.toJSON.call(this,t)}}),Cw.prototype=Le(Oe(Uf.prototype),{constructor:Cw,isAmbientLightProbe:!0,copy:function(t){return Uf.prototype.copy.call(this,t),this},toJSON:function(t){return Uf.prototype.toJSON.call(this,t)}});var Ri=new ie,zo=new ie;Le(NS.prototype,{update:function(t){var i=this._cache;if(i.focus!==t.focus||i.fov!==t.fov||i.aspect!==t.aspect*this.aspect||i.near!==t.near||i.far!==t.far||i.zoom!==t.zoom||i.eyeSep!==this.eyeSep){i.focus=t.focus,i.fov=t.fov,i.aspect=t.aspect*this.aspect,i.near=t.near,i.far=t.far,i.zoom=t.zoom,i.eyeSep=this.eyeSep;var m=t.projectionMatrix.clone(),A=i.eyeSep/2,E=A*i.near/i.focus,O=i.near*Math.tan(Fo.DEG2RAD*i.fov*.5)/i.zoom;zo.elements[12]=-A,Ri.elements[12]=A,A=-O*i.aspect+E;var F=O*i.aspect+E;m.elements[0]=2*i.near/(F-A),m.elements[8]=(F+A)/(F-A),this.cameraL.projectionMatrix.copy(m),A=-O*i.aspect-E,F=O*i.aspect-E,m.elements[0]=2*i.near/(F-A),m.elements[8]=(F+A)/(F-A),this.cameraR.projectionMatrix.copy(m)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(zo),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Ri)}}),Le(Cb.prototype,{start:function(){this.oldTime=this.startTime=(typeof performance=="undefined"?Date:performance).now(),this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.autoStart=this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var i=(typeof performance=="undefined"?Date:performance).now();t=(i-this.oldTime)/1e3,this.oldTime=i,this.elapsedTime+=t}return t}});var ni=new Y,un=new X,Rr=new Y,Bn=new Y;Ab.prototype=Le(Oe(we.prototype),{constructor:Ab,getInput:function(){return this.gain},removeFilter:function(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(t){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this},updateMatrixWorld:function(t){we.prototype.updateMatrixWorld.call(this,t),t=this.context.listener;var i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ni,un,Rr),Bn.set(0,0,-1).applyQuaternion(un),t.positionX){var m=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ni.x,m),t.positionY.linearRampToValueAtTime(ni.y,m),t.positionZ.linearRampToValueAtTime(ni.z,m),t.forwardX.linearRampToValueAtTime(Bn.x,m),t.forwardY.linearRampToValueAtTime(Bn.y,m),t.forwardZ.linearRampToValueAtTime(Bn.z,m),t.upX.linearRampToValueAtTime(i.x,m),t.upY.linearRampToValueAtTime(i.y,m),t.upZ.linearRampToValueAtTime(i.z,m)}else t.setPosition(ni.x,ni.y,ni.z),t.setOrientation(Bn.x,Bn.y,Bn.z,i.x,i.y,i.z)}}),G1.prototype=Le(Oe(we.prototype),{constructor:G1,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setMediaElementSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this},setMediaStreamSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(t){if(t===void 0&&(t=0),this.isPlaying===!0)console.warn("THREE.Audio: Audio is already playing.");else if(this.hasPlaybackControl===!1)console.warn("THREE.Audio: this Audio has no playback control.");else return this._startedAt=this.context.currentTime+t,t=this.context.createBufferSource(),t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()},pause:function(){if(this.hasPlaybackControl===!1)console.warn("THREE.Audio: this Audio has no playback control.");else return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress%=this.duration||this.buffer.duration),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this},stop:function(){if(this.hasPlaybackControl===!1)console.warn("THREE.Audio: this Audio has no playback control.");else return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var t=1,i=this.filters.length;t<i;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var t=1,i=this.filters.length;t<i;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),this.isPlaying===!0?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},setDetune:function(t){if(this.detune=t,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(this.hasPlaybackControl===!1)console.warn("THREE.Audio: this Audio has no playback control.");else return this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){if(this.hasPlaybackControl===!1)console.warn("THREE.Audio: this Audio has no playback control.");else return this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this},setLoopStart:function(t){return this.loopStart=t,this},setLoopEnd:function(t){return this.loopEnd=t,this},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}});var hi=new Y,Xr=new X,Li=new Y,Vi=new Y;wb.prototype=Le(Oe(G1.prototype),{constructor:wb,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){return this.panner.refDistance=t,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){return this.panner.rolloffFactor=t,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){return this.panner.distanceModel=t,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){return this.panner.maxDistance=t,this},setDirectionalCone:function(t,i,m){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=i,this.panner.coneOuterGain=m,this},updateMatrixWorld:function(t){if(we.prototype.updateMatrixWorld.call(this,t),this.hasPlaybackControl!==!0||this.isPlaying!==!1)if(this.matrixWorld.decompose(hi,Xr,Li),Vi.set(0,0,1).applyQuaternion(Xr),t=this.panner,t.positionX){var i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(hi.x,i),t.positionY.linearRampToValueAtTime(hi.y,i),t.positionZ.linearRampToValueAtTime(hi.z,i),t.orientationX.linearRampToValueAtTime(Vi.x,i),t.orientationY.linearRampToValueAtTime(Vi.y,i),t.orientationZ.linearRampToValueAtTime(Vi.z,i)}else t.setPosition(hi.x,hi.y,hi.z),t.setOrientation(Vi.x,Vi.y,Vi.z)}}),Le(bb.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,i=this.getFrequencyData(),m=0;m<i.length;m++)t+=i[m];return t/i.length}}),Le(Sb.prototype,{accumulate:function(t,i){var m=this.buffer,A=this.valueSize;t=t*A+A;var E=this.cumulativeWeight;if(E===0){for(E=0;E!==A;++E)m[t+E]=m[E];E=i}else E+=i,this._mixBufferRegion(m,t,0,i/E,A);this.cumulativeWeight=E},accumulateAdditive:function(t){var i=this.buffer,m=this.valueSize,A=m*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(i,A,0,t,m),this.cumulativeWeightAdditive+=t},apply:function(t){var i=this.valueSize,m=this.buffer;t=t*i+i;var A=this.cumulativeWeight,E=this.cumulativeWeightAdditive,O=this.binding;for(this.cumulativeWeightAdditive=this.cumulativeWeight=0,1>A&&this._mixBufferRegion(m,t,i*this._origIndex,1-A,i),0<E&&this._mixBufferRegionAdditive(m,t,this._addIndex*i,1,i),A=i,E=i+i;A!==E;++A)if(m[A]!==m[A+i]){O.setValue(m,t);break}},saveOriginalState:function(){var t=this.buffer,i=this.valueSize,m=i*this._origIndex;this.binding.getValue(t,m);for(var A=i;A!==m;++A)t[A]=t[m+A%i];this._setIdentity(),this.cumulativeWeightAdditive=this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_setAdditiveIdentityNumeric:function(){for(var t=this._addIndex*this.valueSize,i=t+this.valueSize;t<i;t++)this.buffer[t]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[4*this._addIndex+3]=1},_setAdditiveIdentityOther:function(){for(var t=this._origIndex*this.valueSize,i=this._addIndex*this.valueSize,m=0;m<this.valueSize;m++)this.buffer[i+m]=this.buffer[t+m]},_select:function(t,i,m,A,E){if(.5<=A)for(A=0;A!==E;++A)t[i+A]=t[m+A]},_slerp:function(t,i,m,A){X.slerpFlat(t,i,t,i,t,m,A)},_slerpAdditive:function(t,i,m,A,E){E*=this._workIndex,X.multiplyQuaternionsFlat(t,E,t,i,t,m),X.slerpFlat(t,i,t,i,t,E,A)},_lerp:function(t,i,m,A,E){for(var O=1-A,F=0;F!==E;++F){var H=i+F;t[H]=t[H]*O+t[m+F]*A}},_lerpAdditive:function(t,i,m,A,E){for(var O=0;O!==E;++O){var F=i+O;t[F]+=t[m+O]*A}}});var ii=/[\[\]\.:\/]/g,co="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",So=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),kn=/(WCOD+)?/.source.replace("WCOD",co),go=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),Eo=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),ys=new RegExp("^"+So+kn+go+Eo+"$"),Zu=["material","materials","bones"];Le(FS.prototype,{getValue:function(t,i){this.bind();var m=this._bindings[this._targetGroup.nCachedObjects_];m!==void 0&&m.getValue(t,i)},setValue:function(t,i){for(var m=this._bindings,A=this._targetGroup.nCachedObjects_,E=m.length;A!==E;++A)m[A].setValue(t,i)},bind:function(){for(var t=this._bindings,i=this._targetGroup.nCachedObjects_,m=t.length;i!==m;++i)t[i].bind()},unbind:function(){for(var t=this._bindings,i=this._targetGroup.nCachedObjects_,m=t.length;i!==m;++i)t[i].unbind()}}),Le(vc,{Composite:FS,create:function(t,i,m){return t&&t.isAnimationObjectGroup?new vc.Composite(t,i,m):new vc(t,i,m)},sanitizeNodeName:function(t){return t.replace(/\s/g,"_").replace(ii,"")},parseTrackName:function(t){var i=ys.exec(t);if(!i)throw Error("PropertyBinding: Cannot parse trackName: "+t);i={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]};var m=i.nodeName&&i.nodeName.lastIndexOf(".");if(m!==void 0&&m!==-1){var A=i.nodeName.substring(m+1);Zu.indexOf(A)!==-1&&(i.nodeName=i.nodeName.substring(0,m),i.objectName=A)}if(i.propertyName===null||i.propertyName.length===0)throw Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i},findNode:function(t,i){if(!i||i===""||i==="."||i===-1||i===t.name||i===t.uuid)return t;if(t.skeleton){var m=t.skeleton.getBoneByName(i);if(m!==void 0)return m}return t.children&&(t=function A(E){for(var O=0;O<E.length;O++){var F=E[O];if(F.name===i||F.uuid===i||(F=A(F.children)))return F}return null}(t.children))?t:null}}),Le(vc.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(s,t){s[t]=this.node[this.propertyName]},function(s,t){for(var i=this.resolvedProperty,m=0,A=i.length;m!==A;++m)s[t++]=i[m]},function(s,t){s[t]=this.resolvedProperty[this.propertyIndex]},function(s,t){this.resolvedProperty.toArray(s,t)}],SetterByBindingTypeAndVersioning:[[function(s,t){this.targetObject[this.propertyName]=s[t]},function(s,t){this.targetObject[this.propertyName]=s[t],this.targetObject.needsUpdate=!0},function(s,t){this.targetObject[this.propertyName]=s[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(s,t){for(var i=this.resolvedProperty,m=0,A=i.length;m!==A;++m)i[m]=s[t++]},function(s,t){for(var i=this.resolvedProperty,m=0,A=i.length;m!==A;++m)i[m]=s[t++];this.targetObject.needsUpdate=!0},function(s,t){for(var i=this.resolvedProperty,m=0,A=i.length;m!==A;++m)i[m]=s[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(s,t){this.resolvedProperty[this.propertyIndex]=s[t]},function(s,t){this.resolvedProperty[this.propertyIndex]=s[t],this.targetObject.needsUpdate=!0},function(s,t){this.resolvedProperty[this.propertyIndex]=s[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(s,t){this.resolvedProperty.fromArray(s,t)},function(s,t){this.resolvedProperty.fromArray(s,t),this.targetObject.needsUpdate=!0},function(s,t){this.resolvedProperty.fromArray(s,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,i){this.bind(),this.getValue(t,i)},setValue:function(t,i){this.bind(),this.setValue(t,i)},bind:function(){var t=this.node,i=this.parsedPath,m=i.objectName,A=i.propertyName,E=i.propertyIndex;if(t||(this.node=t=vc.findNode(this.rootNode,i.nodeName)||this.rootNode),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(m){var O=i.objectIndex;switch(m){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}for(t=t.skeleton.bones,m=0;m<t.length;m++)if(t[m].name===O){O=m;break}break;default:if(t[m]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[m]}if(O!==void 0){if(t[O]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[O]}}if(O=t[A],O===void 0)console.error("THREE.PropertyBinding: Trying to update property for track: "+i.nodeName+"."+A+" but it wasn't found.",t);else{if(i=this.Versioning.None,this.targetObject=t,t.needsUpdate!==void 0?i=this.Versioning.NeedsUpdate:t.matrixWorldNeedsUpdate!==void 0&&(i=this.Versioning.MatrixWorldNeedsUpdate),m=this.BindingType.Direct,E!==void 0){if(A==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[E]!==void 0&&(E=t.morphTargetDictionary[E])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}m=this.BindingType.ArrayElement,this.resolvedProperty=O,this.propertyIndex=E}else O.fromArray!==void 0&&O.toArray!==void 0?(m=this.BindingType.HasFromToArray,this.resolvedProperty=O):Array.isArray(O)?(m=this.BindingType.EntireArray,this.resolvedProperty=O):this.propertyName=A;this.getValue=this.GetterByBindingType[m],this.setValue=this.SetterByBindingTypeAndVersioning[m][i]}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Le(vc.prototype,{_getValue_unbound:vc.prototype.getValue,_setValue_unbound:vc.prototype.setValue}),Le(_b.prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,i=t.length,m=this.nCachedObjects_,A=this._indicesByUUID,E=this._paths,O=this._parsedPaths,F=this._bindings,H=F.length,K=void 0,$=0,ue=arguments.length;$!==ue;++$){var me=arguments[$],pe=me.uuid,be=A[pe];if(be===void 0){be=i++,A[pe]=be,t.push(me),pe=0;for(var Te=H;pe!==Te;++pe)F[pe].push(new vc(me,E[pe],O[pe]))}else if(be<m){K=t[be];var it=--m;for(Te=t[it],A[Te.uuid]=be,t[be]=Te,A[pe]=it,t[it]=me,pe=0,Te=H;pe!==Te;++pe){var _t=F[pe],Mt=_t[be];_t[be]=_t[it],Mt===void 0&&(Mt=new vc(me,E[pe],O[pe])),_t[it]=Mt}}else t[be]!==K&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=m},remove:function(){for(var t=this._objects,i=this.nCachedObjects_,m=this._indicesByUUID,A=this._bindings,E=A.length,O=0,F=arguments.length;O!==F;++O){var H=arguments[O],K=H.uuid,$=m[K];if($!==void 0&&$>=i){var ue=i++,me=t[ue];for(m[me.uuid]=$,t[$]=me,m[K]=ue,t[ue]=H,H=0,K=E;H!==K;++H){me=A[H];var pe=me[$];me[$]=me[ue],me[ue]=pe}}}this.nCachedObjects_=i},uncache:function(){for(var t=this._objects,i=t.length,m=this.nCachedObjects_,A=this._indicesByUUID,E=this._bindings,O=E.length,F=0,H=arguments.length;F!==H;++F){var K=arguments[F].uuid,$=A[K];if($!==void 0)if(delete A[K],$<m){K=--m;var ue=t[K],me=--i,pe=t[me];for(A[ue.uuid]=$,t[$]=ue,A[pe.uuid]=K,t[K]=pe,t.pop(),ue=0,pe=O;ue!==pe;++ue){var be=E[ue],Te=be[me];be[$]=be[K],be[K]=Te,be.pop()}}else for(me=--i,pe=t[me],A[pe.uuid]=$,t[$]=pe,t.pop(),ue=0,pe=O;ue!==pe;++ue)be=E[ue],be[$]=be[me],be.pop()}this.nCachedObjects_=m},subscribe_:function(t,i){var m=this._bindingsIndicesByPath,A=m[t],E=this._bindings;if(A!==void 0)return E[A];var O=this._paths,F=this._parsedPaths,H=this._objects,K=this.nCachedObjects_,$=Array(H.length);for(A=E.length,m[t]=A,O.push(t),F.push(i),E.push($),m=K,A=H.length;m!==A;++m)$[m]=new vc(H[m],t,i);return $},unsubscribe_:function(t){var i=this._bindingsIndicesByPath,m=i[t];if(m!==void 0){var A=this._paths,E=this._parsedPaths,O=this._bindings,F=O.length-1,H=O[F];i[t[F]]=m,O[m]=H,O.pop(),E[m]=E[F],E.pop(),A[m]=A[F],A.pop()}}}),Le(z_.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,i){return this.loop=t,this.repetitions=i,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,i,m){if(t.fadeOut(i),this.fadeIn(i),m){m=this._clip.duration;var A=t._clip.duration,E=m/A;t.warp(1,A/m,i),this.warp(E,1,i)}return this},crossFadeTo:function(t,i,m){return t.crossFadeFrom(this,i,m)},stopFading:function(){var t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,i,m){var A=this._mixer,E=A.time,O=this._timeScaleInterpolant,F=this.timeScale;return O===null&&(this._timeScaleInterpolant=O=A._lendControlInterpolant()),A=O.parameterPositions,O=O.sampleValues,A[0]=E,A[1]=E+m,O[0]=t/F,O[1]=i/F,this},stopWarping:function(){var t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,i,m,A){if(this.enabled){var E=this._startTime;if(E!==null){if(i=(t-E)*m,0>i||m===0)return;this._startTime=null,i*=m}if(i*=this._updateTimeScale(t),m=this._updateTime(i),t=this._updateWeight(t),0<t)switch(i=this._interpolants,E=this._propertyBindings,this.blendMode){case 2501:for(var O=0,F=i.length;O!==F;++O)i[O].evaluate(m),E[O].accumulateAdditive(t);break;default:for(O=0,F=i.length;O!==F;++O)i[O].evaluate(m),E[O].accumulate(A,t)}}else this._updateWeight(t)},_updateWeight:function(t){var i=0;if(this.enabled){i=this.weight;var m=this._weightInterpolant;if(m!==null){var A=m.evaluate(t)[0];i*=A,t>m.parameterPositions[1]&&(this.stopFading(),A===0&&(this.enabled=!1))}}return this._effectiveWeight=i},_updateTimeScale:function(t){var i=0;if(!this.paused){i=this.timeScale;var m=this._timeScaleInterpolant;if(m!==null){var A=m.evaluate(t)[0];i*=A,t>m.parameterPositions[1]&&(this.stopWarping(),i===0?this.paused=!0:this.timeScale=i)}}return this._effectiveTimeScale=i},_updateTime:function(t){var i=this.time+t,m=this._clip.duration,A=this.loop,E=this._loopCount,O=A===2202;if(t===0)return E===-1?i:O&&(E&1)==1?m-i:i;if(A===2200)e:{if(E===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1)),i>=m)i=m;else if(0>i)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:0>t?-1:1})}else{if(E===-1&&(0<=t?(E=0,this._setEndings(!0,this.repetitions===0,O)):this._setEndings(this.repetitions===0,!0,O)),i>=m||0>i){A=Math.floor(i/m),i-=m*A,E+=Math.abs(A);var F=this.repetitions-E;0>=F?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i=0<t?m:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<t?1:-1})):(F===1?(t=0>t,this._setEndings(t,!t,O)):this._setEndings(!1,!1,O),this._loopCount=E,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:A}))}else this.time=i;if(O&&(E&1)==1)return m-i}return i},_setEndings:function(t,i,m){var A=this._interpolantSettings;m?(A.endingStart=2401,A.endingEnd=2401):(A.endingStart=t?this.zeroSlopeAtStart?2401:2400:2402,A.endingEnd=i?this.zeroSlopeAtEnd?2401:2400:2402)},_scheduleFading:function(t,i,m){var A=this._mixer,E=A.time,O=this._weightInterpolant;return O===null&&(this._weightInterpolant=O=A._lendControlInterpolant()),A=O.parameterPositions,O=O.sampleValues,A[0]=E,O[0]=i,A[1]=E+t,O[1]=m,this}}),Mb.prototype=Le(Oe(a.prototype),{constructor:Mb,_bindAction:function(t,i){var m=t._localRoot||this._root,A=t._clip.tracks,E=A.length,O=t._propertyBindings;t=t._interpolants;var F=m.uuid,H=this._bindingsByRootAndName,K=H[F];for(K===void 0&&(K={},H[F]=K),H=0;H!==E;++H){var $=A[H],ue=$.name,me=K[ue];if(me===void 0){if(me=O[H],me!==void 0){me._cacheIndex===null&&(++me.referenceCount,this._addInactiveBinding(me,F,ue));continue}me=new Sb(vc.create(m,ue,i&&i._propertyBindings[H].binding.parsedPath),$.ValueTypeName,$.getValueSize()),++me.referenceCount,this._addInactiveBinding(me,F,ue)}O[H]=me,t[H].resultBuffer=me.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){var i=(t._localRoot||this._root).uuid,m=t._clip.uuid,A=this._actionsByClip[m];this._bindAction(t,A&&A.knownActions[0]),this._addInactiveAction(t,m,i)}for(i=t._propertyBindings,m=0,A=i.length;m!==A;++m){var E=i[m];E.useCount++==0&&(this._lendBinding(E),E.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var i=t._propertyBindings,m=0,A=i.length;m!==A;++m){var E=i[m];--E.useCount==0&&(E.restoreOriginalState(),this._takeBackBinding(E))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){return t=t._cacheIndex,t!==null&&t<this._nActiveActions},_addInactiveAction:function(t,i,m){var A=this._actions,E=this._actionsByClip,O=E[i];O===void 0?(O={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,E[i]=O):(i=O.knownActions,t._byClipCacheIndex=i.length,i.push(t)),t._cacheIndex=A.length,A.push(t),O.actionByRoot[m]=t},_removeInactiveAction:function(t){var i=this._actions,m=i[i.length-1],A=t._cacheIndex;m._cacheIndex=A,i[A]=m,i.pop(),t._cacheIndex=null,i=t._clip.uuid,m=this._actionsByClip,A=m[i];var E=A.knownActions,O=E[E.length-1],F=t._byClipCacheIndex;O._byClipCacheIndex=F,E[F]=O,E.pop(),t._byClipCacheIndex=null,delete A.actionByRoot[(t._localRoot||this._root).uuid],E.length===0&&delete m[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){t=t._propertyBindings;for(var i=0,m=t.length;i!==m;++i){var A=t[i];--A.referenceCount==0&&this._removeInactiveBinding(A)}},_lendAction:function(t){var i=this._actions,m=t._cacheIndex,A=this._nActiveActions++,E=i[A];t._cacheIndex=A,i[A]=t,E._cacheIndex=m,i[m]=E},_takeBackAction:function(t){var i=this._actions,m=t._cacheIndex,A=--this._nActiveActions,E=i[A];t._cacheIndex=A,i[A]=t,E._cacheIndex=m,i[m]=E},_addInactiveBinding:function(t,i,m){var A=this._bindingsByRootAndName,E=A[i],O=this._bindings;E===void 0&&(E={},A[i]=E),E[m]=t,t._cacheIndex=O.length,O.push(t)},_removeInactiveBinding:function(t){var i=this._bindings,m=t.binding,A=m.rootNode.uuid;m=m.path;var E=this._bindingsByRootAndName,O=E[A],F=i[i.length-1];t=t._cacheIndex,F._cacheIndex=t,i[t]=F,i.pop(),delete O[m],es(O).length===0&&delete E[A]},_lendBinding:function(t){var i=this._bindings,m=t._cacheIndex,A=this._nActiveBindings++,E=i[A];t._cacheIndex=A,i[A]=t,E._cacheIndex=m,i[m]=E},_takeBackBinding:function(t){var i=this._bindings,m=t._cacheIndex,A=--this._nActiveBindings,E=i[A];t._cacheIndex=A,i[A]=t,E._cacheIndex=m,i[m]=E},_lendControlInterpolant:function(){var t=this._controlInterpolants,i=this._nActiveControlInterpolants++,m=t[i];return m===void 0&&(m=new qA(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),m.__cacheIndex=i,t[i]=m),m},_takeBackControlInterpolant:function(t){var i=this._controlInterpolants,m=t.__cacheIndex,A=--this._nActiveControlInterpolants,E=i[A];t.__cacheIndex=A,i[A]=t,E.__cacheIndex=m,i[m]=E},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,i,m){var A=i||this._root,E=A.uuid;A=typeof t=="string"?Nd.findByName(A,t):t,t=A!==null?A.uuid:t;var O=this._actionsByClip[t],F=null;if(m===void 0&&(m=A!==null?A.blendMode:2500),O!==void 0){if(F=O.actionByRoot[E],F!==void 0&&F.blendMode===m)return F;F=O.knownActions[0],A===null&&(A=F._clip)}return A===null?null:(i=new z_(this,A,i,m),this._bindAction(i,F),this._addInactiveAction(i,t,E),i)},existingAction:function(t,i){var m=i||this._root;return i=m.uuid,m=typeof t=="string"?Nd.findByName(m,t):t,t=this._actionsByClip[m?m.uuid:t],t!==void 0&&t.actionByRoot[i]||null},stopAllAction:function(){for(var t=this._actions,i=this._nActiveActions-1;0<=i;--i)t[i].stop();return this},update:function(t){t*=this.timeScale;for(var i=this._actions,m=this._nActiveActions,A=this.time+=t,E=Ad(t),O=this._accuIndex^=1,F=0;F!==m;++F)i[F]._update(A,t,E,O);for(t=this._bindings,i=this._nActiveBindings,F=0;F!==i;++F)t[F].apply(O);return this},setTime:function(t){for(var i=this.time=0;i<this._actions.length;i++)this._actions[i].time=0;return this.update(t)},getRoot:function(){return this._root},uncacheClip:function(t){var i=this._actions;t=t.uuid;var m=this._actionsByClip,A=m[t];if(A!==void 0){A=A.knownActions;for(var E=0,O=A.length;E!==O;++E){var F=A[E];this._deactivateAction(F);var H=F._cacheIndex,K=i[i.length-1];F._cacheIndex=null,F._byClipCacheIndex=null,K._cacheIndex=H,i[H]=K,i.pop(),this._removeInactiveBindingsForAction(F)}delete m[t]}},uncacheRoot:function(t){t=t.uuid;var i=this._actionsByClip;for(A in i){var m=i[A].actionByRoot[t];m!==void 0&&(this._deactivateAction(m),this._removeInactiveAction(m))}var A=this._bindingsByRootAndName[t];if(A!==void 0)for(var E in A)t=A[E],t.restoreOriginalState(),this._removeInactiveBinding(t)},uncacheAction:function(t,i){t=this.existingAction(t,i),t!==null&&(this._deactivateAction(t),this._removeInactiveAction(t))}}),Aw.prototype.clone=function(){return new Aw(this.value.clone===void 0?this.value:this.value.clone())},Eb.prototype=Le(Oe(Pp.prototype),{constructor:Eb,isInstancedInterleavedBuffer:!0,copy:function(t){return Pp.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Le(ww.prototype,{set:function(t,i){this.ray.set(t,i)},setFromCamera:function(t,i){i&&i.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(i.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(i).sub(this.ray.origin).normalize(),this.camera=i):i&&i.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(i.near+i.far)/(i.near-i.far)).unproject(i),this.ray.direction.set(0,0,-1).transformDirection(i.matrixWorld),this.camera=i):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,i,m){return m=m||[],Ib(t,this,m,i),m.sort(Tb),m},intersectObjects:function(t,i,m){if(m=m||[],Array.isArray(t)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),m;for(var A=0,E=t.length;A<E;A++)Ib(t[A],this,m,i);return m.sort(Tb),m}}),Le(Pb.prototype,{set:function(t,i,m){return this.radius=t,this.phi=i,this.theta=m,this},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,i,m){return this.radius=Math.sqrt(t*t+i*i+m*m),this.radius===0?this.phi=this.theta=0:(this.theta=Math.atan2(t,m),this.phi=Math.acos(Fo.clamp(i/this.radius,-1,1))),this}}),Le(BS.prototype,{set:function(t,i,m){return this.radius=t,this.theta=i,this.y=m,this},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,i,m){return this.radius=Math.sqrt(t*t+m*m),this.theta=Math.atan2(t,m),this.y=i,this}});var cl=new l;Le(Ob.prototype,{set:function(t,i){return this.min.copy(t),this.max.copy(i),this},setFromPoints:function(t){this.makeEmpty();for(var i=0,m=t.length;i<m;i++)this.expandByPoint(t[i]);return this},setFromCenterAndSize:function(t,i){return i=cl.copy(i).multiplyScalar(.5),this.min.copy(t).sub(i),this.max.copy(t).add(i),this},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=Infinity,this.max.x=this.max.y=-Infinity,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return t===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new l),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return t===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new l),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,i){return i===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),i=new l),i.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,i){return i===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),i=new l),i.copy(t).clamp(this.min,this.max)},distanceToPoint:function(t){return cl.copy(t).clamp(this.min,this.max).sub(t).length()},intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}});var _l=new Y,Na=new Y;Le(bw.prototype,{set:function(t,i){return this.start.copy(t),this.end.copy(i),this},clone:function(){return new this.constructor().copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return t===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),t=new Y),t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return t===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),t=new Y),t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,i){return i===void 0&&(console.warn("THREE.Line3: .at() target is now required"),i=new Y),this.delta(i).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(t,i){return _l.subVectors(t,this.start),Na.subVectors(this.end,this.start),t=Na.dot(Na),t=Na.dot(_l)/t,i&&(t=Fo.clamp(t,0,1)),t},closestPointToPoint:function(t,i,m){return t=this.closestPointToPointParameter(t,i),m===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),m=new Y),this.delta(m).multiplyScalar(t).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),PC.prototype=Oe(we.prototype),PC.prototype.constructor=PC,PC.prototype.isImmediateRenderObject=!0;var Lo=new Y;OC.prototype=Oe(we.prototype),OC.prototype.constructor=OC,OC.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},OC.prototype.update=function(){this.light.updateMatrixWorld();var s=this.light.distance?this.light.distance:1e3,t=s*Math.tan(this.light.angle);this.cone.scale.set(t,t,s),Lo.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Lo),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var Qi=new Y,Hn=new ie,Po=new ie;gy.prototype=Oe(vs.prototype),gy.prototype.constructor=gy,gy.prototype.isSkeletonHelper=!0,gy.prototype.updateMatrixWorld=function(s){var t=this.bones,i=this.geometry,m=i.getAttribute("position");Po.getInverse(this.root.matrixWorld);for(var A=0,E=0;A<t.length;A++){var O=t[A];O.parent&&O.parent.isBone&&(Hn.multiplyMatrices(Po,O.matrixWorld),Qi.setFromMatrixPosition(Hn),m.setXYZ(E,Qi.x,Qi.y,Qi.z),Hn.multiplyMatrices(Po,O.parent.matrixWorld),Qi.setFromMatrixPosition(Hn),m.setXYZ(E+1,Qi.x,Qi.y,Qi.z),E+=2)}i.getAttribute("position").needsUpdate=!0,we.prototype.updateMatrixWorld.call(this,s)},RC.prototype=Oe(Kt.prototype),RC.prototype.constructor=RC,RC.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},RC.prototype.update=function(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)};var aa=new Y,fs=new at,ks=new at;LC.prototype=Oe(we.prototype),LC.prototype.constructor=LC,LC.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},LC.prototype.update=function(){var s=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{var t=s.geometry.getAttribute("color");fs.copy(this.light.color),ks.copy(this.light.groundColor);for(var i=0,m=t.count;i<m;i++){var A=i<m/2?fs:ks;t.setXYZ(i,A.r,A.g,A.b)}t.needsUpdate=!0}s.lookAt(aa.setFromMatrixPosition(this.light.matrixWorld).negate())},Sw.prototype=Le(Oe(vs.prototype),{constructor:Sw,copy:function(t){return vs.prototype.copy.call(this,t),this.geometry.copy(t.geometry),this.material.copy(t.material),this},clone:function(){return new this.constructor().copy(this)}}),a2.prototype=Oe(vs.prototype),a2.prototype.constructor=a2;var yc=new Y,nu=new Y,Vl=new Y;DC.prototype=Oe(we.prototype),DC.prototype.constructor=DC,DC.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},DC.prototype.update=function(){yc.setFromMatrixPosition(this.light.matrixWorld),nu.setFromMatrixPosition(this.light.target.matrixWorld),Vl.subVectors(nu,yc),this.lightPlane.lookAt(nu),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(nu),this.targetLine.scale.z=Vl.length()};var hl=new Y,sa=new sn;W1.prototype=Oe(vs.prototype),W1.prototype.constructor=W1,W1.prototype.update=function(){var s=this.geometry,t=this.pointMap;sa.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Sl("c",t,s,sa,0,0,-1),Sl("t",t,s,sa,0,0,1),Sl("n1",t,s,sa,-1,-1,-1),Sl("n2",t,s,sa,1,-1,-1),Sl("n3",t,s,sa,-1,1,-1),Sl("n4",t,s,sa,1,1,-1),Sl("f1",t,s,sa,-1,-1,1),Sl("f2",t,s,sa,1,-1,1),Sl("f3",t,s,sa,-1,1,1),Sl("f4",t,s,sa,1,1,1),Sl("u1",t,s,sa,.7,1.1,-1),Sl("u2",t,s,sa,-.7,1.1,-1),Sl("u3",t,s,sa,0,2,-1),Sl("cf1",t,s,sa,-1,0,1),Sl("cf2",t,s,sa,1,0,1),Sl("cf3",t,s,sa,0,-1,1),Sl("cf4",t,s,sa,0,1,1),Sl("cn1",t,s,sa,-1,0,-1),Sl("cn2",t,s,sa,1,0,-1),Sl("cn3",t,s,sa,0,-1,-1),Sl("cn4",t,s,sa,0,1,-1),s.getAttribute("position").needsUpdate=!0};var Ml=new yt;Rv.prototype=Oe(vs.prototype),Rv.prototype.constructor=Rv,Rv.prototype.update=function(s){if(s!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Ml.setFromObject(this.object),!Ml.isEmpty()){s=Ml.min;var t=Ml.max,i=this.geometry.attributes.position,m=i.array;m[0]=t.x,m[1]=t.y,m[2]=t.z,m[3]=s.x,m[4]=t.y,m[5]=t.z,m[6]=s.x,m[7]=s.y,m[8]=t.z,m[9]=t.x,m[10]=s.y,m[11]=t.z,m[12]=t.x,m[13]=t.y,m[14]=s.z,m[15]=s.x,m[16]=t.y,m[17]=s.z,m[18]=s.x,m[19]=s.y,m[20]=s.z,m[21]=t.x,m[22]=s.y,m[23]=s.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}},Rv.prototype.setFromObject=function(s){return this.object=s,this.update(),this},Rv.prototype.copy=function(s){return vs.prototype.copy.call(this,s),this.object=s.object,this},Rv.prototype.clone=function(){return new this.constructor().copy(this)},s2.prototype=Oe(vs.prototype),s2.prototype.constructor=s2,s2.prototype.updateMatrixWorld=function(s){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),we.prototype.updateMatrixWorld.call(this,s))},NC.prototype=Oe(kh.prototype),NC.prototype.constructor=NC,NC.prototype.updateMatrixWorld=function(s){var t=-this.plane.constant;1e-8>Math.abs(t)&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=0>t?1:0,this.lookAt(this.plane.normal),we.prototype.updateMatrixWorld.call(this,s)};var xs=new Y,xo,_i;$m.prototype=Oe(we.prototype),$m.prototype.constructor=$m,$m.prototype.setDirection=function(s){.99999<s.y?this.quaternion.set(0,0,0,1):-.99999>s.y?this.quaternion.set(1,0,0,0):(xs.set(s.z,0,-s.x).normalize(),this.quaternion.setFromAxisAngle(xs,Math.acos(s.y)))},$m.prototype.setLength=function(s,t,i){t===void 0&&(t=.2*s),i===void 0&&(i=.2*t),this.line.scale.set(1,Math.max(1e-4,s-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=s,this.cone.updateMatrix()},$m.prototype.setColor=function(s){this.line.material.color.set(s),this.cone.material.color.set(s)},$m.prototype.copy=function(s){return we.prototype.copy.call(this,s,!1),this.line.copy(s.line),this.cone.copy(s.cone),this},$m.prototype.clone=function(){return new this.constructor().copy(this)},vy.prototype=Oe(vs.prototype),vy.prototype.constructor=vy;var ui=Math.pow(2,8),Cs=[.125,.215,.35,.446,.526,.582],na=5+Cs.length,Is={3e3:0,3001:1,3002:2,3004:3,3005:4,3006:5,3007:6},Qs=new EC,Fd=function(){for(var s=[],t=[],i=[],m=8,A=0;A<na;A++){var E=Math.pow(2,m);t.push(E);var O=1/E;4<A?O=Cs[A-8+4-1]:A==0&&(O=0),i.push(O),O=1/(E-1),E=-O/2,O=1+O/2;var F=[E,E,O,E,O,O,E,E,O,O,E,O];E=new Float32Array(108),O=new Float32Array(72);for(var H=new Float32Array(36),K=0;6>K;K++){var $=K%3*2/3-1,ue=2<K?0:-1;E.set([$,ue,0,$+2/3,ue,0,$+2/3,ue+1,0,$,ue,0,$+2/3,ue+1,0,$,ue+1,0],18*K),O.set(F,12*K),H.set([K,K,K,K,K,K],6*K)}F=new Et,F.setAttribute("position",new gr(E,3)),F.setAttribute("uv",new gr(O,2)),F.setAttribute("faceIndex",new gr(H,1)),s.push(F),4<m&&m--}return{_lodPlanes:s,_sizeLods:t,_sigmas:i}}(),xc=Fd._lodPlanes,jp=Fd._sizeLods,rh=Fd._sigmas,nh=null,Bd=(1+Math.sqrt(5))/2,Up=1/Bd,Fv=[new Y(1,1,1),new Y(-1,1,1),new Y(1,1,-1),new Y(-1,1,-1),new Y(0,Bd,Up),new Y(0,Bd,-Up),new Y(Up,0,Bd),new Y(-Up,0,Bd),new Y(Bd,Up,0),new Y(-Bd,Up,0)];Lb.prototype={constructor:Lb,fromScene:function(t,i,m,A){i===void 0&&(i=0),m===void 0&&(m=.1),A===void 0&&(A=100),nh=this._renderer.getRenderTarget();var E=this._allocateTargets();return this._sceneToCubeUV(t,m,A,E),0<i&&this._blur(E,0,0,i),this._applyPMREM(E),this._cleanup(E),E},fromEquirectangular:function(t){return t.magFilter=1003,t.minFilter=1003,t.generateMipmaps=!1,this.fromCubemap(t)},fromCubemap:function(t){nh=this._renderer.getRenderTarget();var i=this._allocateTargets(t);return this._textureToCubeUV(t,i),this._applyPMREM(i),this._cleanup(i),i},compileCubemapShader:function(){this._cubemapShader===null&&(this._cubemapShader=zS(),this._compileMaterial(this._cubemapShader))},compileEquirectangularShader:function(){this._equirectShader===null&&(this._equirectShader=Mw(),this._compileMaterial(this._equirectShader))},dispose:function(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(var t=0;t<xc.length;t++)xc[t].dispose()},_cleanup:function(t){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(nh),t.scissorTest=!1,t.setSize(t.width,t.height)},_allocateTargets:function(t){var i=t===void 0||t.type!==1009?!1:t.encoding===3e3||t.encoding===3001||t.encoding===3007;i={magFilter:1003,minFilter:1003,generateMipmaps:!1,type:1009,format:1023,encoding:i?t.encoding:3002,depthBuffer:!1,stencilBuffer:!1};var m=Db(i);return m.depthBuffer=!t,this._pingPongRenderTarget=Db(i),m},_compileMaterial:function(t){t=new Kt(xc[0],t),this._renderer.compile(t,Qs)},_sceneToCubeUV:function(t,i,m,A){i=new mr(90,1,i,m),m=[1,-1,1,1,1,1];var E=[1,1,1,-1,-1,-1],O=this._renderer,F=O.outputEncoding,H=O.toneMapping,K=O.toneMappingExposure,$=O.getClearColor(),ue=O.getClearAlpha();O.toneMapping=1,O.toneMappingExposure=1,O.outputEncoding=3e3;var me=t.background;if(me&&me.isColor){me.convertSRGBToLinear();var pe=Math.min(Math.max(Math.ceil(tp(Math.max(me.r,me.g,me.b))),-128),127);me=me.multiplyScalar(Math.pow(2,-pe)),O.setClearColor(me,(pe+128)/255),t.background=null}for(me=0;6>me;me++)pe=me%3,pe==0?(i.up.set(0,m[me],0),i.lookAt(E[me],0,0)):pe==1?(i.up.set(0,0,m[me]),i.lookAt(0,E[me],0)):(i.up.set(0,m[me],0),i.lookAt(0,0,E[me])),_w(A,pe*ui,2<me?ui:0,ui,ui),O.setRenderTarget(A),O.render(t,i);O.toneMapping=H,O.toneMappingExposure=K,O.outputEncoding=F,O.setClearColor($,ue)},_textureToCubeUV:function(t,i){var m=this._renderer;t.isCubeTexture?this._cubemapShader==null&&(this._cubemapShader=zS()):this._equirectShader==null&&(this._equirectShader=Mw());var A=t.isCubeTexture?this._cubemapShader:this._equirectShader,E=new Kt(xc[0],A);A=A.uniforms,A.envMap.value=t,t.isCubeTexture||A.texelSize.value.set(1/t.image.width,1/t.image.height),A.inputEncoding.value=Is[t.encoding],A.outputEncoding.value=Is[i.texture.encoding],_w(i,0,0,3*ui,2*ui),m.setRenderTarget(i),m.render(E,Qs)},_applyPMREM:function(t){var i=this._renderer,m=i.autoClear;i.autoClear=!1;for(var A=1;A<na;A++)this._blur(t,A-1,A,Math.sqrt(rh[A]*rh[A]-rh[A-1]*rh[A-1]),Fv[(A-1)%Fv.length]);i.autoClear=m},_blur:function(t,i,m,A,E){var O=this._pingPongRenderTarget;this._halfBlur(t,O,i,m,A,"latitudinal",E),this._halfBlur(O,t,m,m,A,"longitudinal",E)},_halfBlur:function(t,i,m,A,E,O,F){var H=this._renderer,K=this._blurMaterial;O!=="latitudinal"&&O!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");var $=new Kt(xc[A],K);K=K.uniforms;var ue=jp[m]-1;ue=isFinite(E)?Math.PI/(2*ue):2*Math.PI/39;var me=E/ue,pe=isFinite(E)?1+Math.floor(3*me):20;20<pe&&console.warn("sigmaRadians, "+E+", is too large and will clip, as it requested "+pe+" samples when the maximum is set to 20"),E=[];for(var be=0,Te=0;20>Te;++Te){var it=Te/me;it=Math.exp(-it*it/2),E.push(it),Te==0?be+=it:Te<pe&&(be+=2*it)}for(Te=0;Te<E.length;Te++)E[Te]/=be;K.envMap.value=t.texture,K.samples.value=pe,K.weights.value=E,K.latitudinal.value=O==="latitudinal",F&&(K.poleAxis.value=F),K.dTheta.value=ue,K.mipInt.value=8-m,K.inputEncoding.value=Is[t.texture.encoding],K.outputEncoding.value=Is[t.texture.encoding],t=jp[A],it=3*Math.max(0,ui-2*t),_w(i,it,(A===0?0:2*ui)+2*t*(4<A?A-8+4:0),3*t,2*t),H.setRenderTarget(i),H.render($,Qs)}},eo.create=function(s,t){return s.prototype=Oe(eo.prototype),s.prototype.constructor=s,s.prototype.getPoint=t,s},Le(Pv.prototype,{createPointsGeometry:function(t){return console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead."),t=this.getPoints(t),this.createGeometry(t)},createSpacedPointsGeometry:function(t){return console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead."),t=this.getSpacedPoints(t),this.createGeometry(t)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var i=new Vt,m=0,A=t.length;m<A;m++){var E=t[m];i.vertices.push(new Y(E.x,E.y,E.z||0))}return i}}),Le(jf.prototype,{fromPoints:function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),jS.prototype=Oe(Wu.prototype),Fb.prototype=Oe(Wu.prototype),Bb.prototype=Oe(Wu.prototype),Le(Bb.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Sw.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},gy.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Le(ka.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Tn.extractUrlBase(t)}}),ka.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Le(xw.prototype,{setTexturePath:function(t){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(t)}}),Le(Ob.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Le(yt.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Le(vt.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),Hi.prototype.setFromMatrix=function(s){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(s)},bw.prototype.center=function(s){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(s)},Le(Fo,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Fo.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Fo.ceilPowerOfTwo(t)}}),Le(v.prototype,{flattenToArrayOffset:function(t,i){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,i)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Le(ie.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,i){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,i)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new Y().setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,i,m,A,E,O){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,i,A,m,E,O)}}),kt.prototype.isIntersectionLine=function(s){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(s)},X.prototype.multiplyVector3=function(s){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),s.applyQuaternion(this)},Le(Lt.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Le(Ut.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,i)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Le(Ut,{barycoordFromPoint:function(t,i,m,A,E){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Ut.getBarycoord(t,i,m,A,E)},normal:function(t,i,m,A){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Ut.getNormal(t,i,m,A)}}),Le(Ov.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new cy(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Rp(this,t)}}),Le(l.prototype,{fromAttribute:function(t,i,m){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,i,m)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Le(Y.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,i){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(i,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,i,m){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,i,m)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Le(M.prototype,{fromAttribute:function(t,i,m){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,i,m)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Le(Vt.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(t){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Le(we.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,i){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(i,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Zi(we.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Le(Kt.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Zi(Kt.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Zi(O1.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(sC.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),K2.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(eo.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),mr.prototype.setLens=function(s,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),t!==void 0&&(this.filmGauge=t),this.setFocalLength(s)},Zi(hs.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Zi(gr.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===35048},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(35048)}}}),Le(gr.prototype,{setDynamic:function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?35048:35044),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Le(Et.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addAttribute:function(t,i,m){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),i&&i.isBufferAttribute||i&&i.isInterleavedBufferAttribute?t==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(i),this):this.setAttribute(t,i):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new gr(i,m)))},addDrawCall:function(t,i,m){m!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,i)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},applyMatrix:function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Zi(Et.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Zi(i2.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(t){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=t}}}),Zi(ww.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(t){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=t}}}),Zi(Pp.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===35048},set:function(t){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(t)}}}),Le(Pp.prototype,{setDynamic:function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(t===!0?35048:35044),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Le(Ld.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Zi(Aw.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Zi(Wt.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new at}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===1}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}}}),Zi(fy.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Zi(Hr.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Le(Uh.prototype,{clearTarget:function(t,i,m,A){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(i,m,A)},animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Zi(Uh.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=t===!0?3001:3e3}}}),Zi(SS.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Zi(R.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Zi(G1.prototype,{load:{value:function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var i=this;return new o2().load(t,function(m){i.setBuffer(m)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),bb.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Si.prototype.updateCubeMap=function(s,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(s,t)},yy.crossOrigin=void 0,yy.loadTexture=function(s,t,i,m){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var A=new lw;return A.setCrossOrigin(this.crossOrigin),s=A.load(s,i,void 0,m),t&&(s.mapping=t),s},yy.loadTextureCube=function(s,t,i,m){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var A=new e2;return A.setCrossOrigin(this.crossOrigin),s=A.load(s,i,void 0,m),t&&(s.mapping=t),s},yy.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},yy.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"117"}})),r.ACESFilmicToneMapping=5,r.AddEquation=100,r.AddOperation=2,r.AdditiveAnimationBlendMode=2501,r.AdditiveBlending=2,r.AlphaFormat=1021,r.AlwaysDepth=1,r.AlwaysStencilFunc=519,r.AmbientLight=mw,r.AmbientLightProbe=Cw,r.AnimationClip=Nd,r.AnimationLoader=gb,r.AnimationMixer=Mb,r.AnimationObjectGroup=_b,r.AnimationUtils=Ir,r.ArcCurve=V1,r.ArrayCamera=iC,r.ArrowHelper=$m,r.Audio=G1,r.AudioAnalyser=bb,r.AudioContext=qi,r.AudioListener=Ab,r.AudioLoader=o2,r.AxesHelper=vy,r.AxisHelper=function(s){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new vy(s)},r.BackSide=1,r.BasicDepthPacking=3200,r.BasicShadowMap=0,r.BinaryTextureLoader=function(s){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new sw(s)},r.Bone=cb,r.BooleanKeyframeTrack=nw,r.BoundingBoxHelper=function(s,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Rv(s,t)},r.Box2=Ob,r.Box3=yt,r.Box3Helper=s2,r.BoxBufferGeometry=v2,r.BoxGeometry=XC,r.BoxHelper=Rv,r.BufferAttribute=gr,r.BufferGeometry=Et,r.BufferGeometryLoader=yw,r.ByteType=1010,r.Cache=hn,r.Camera=sn,r.CameraHelper=W1,r.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been removed")},r.CanvasTexture=R1,r.CatmullRomCurve3=Wu,r.CineonToneMapping=4,r.CircleBufferGeometry=hy,r.CircleGeometry=Km,r.ClampToEdgeWrapping=1001,r.Clock=Cb,r.ClosedSplineCurve3=jS,r.Color=at,r.ColorKeyframeTrack=iw,r.CompressedTexture=kA,r.CompressedTextureLoader=vb,r.ConeBufferGeometry=U1,r.ConeGeometry=j1,r.CubeCamera=Si,r.CubeGeometry=XC,r.CubeReflectionMapping=301,r.CubeRefractionMapping=302,r.CubeTexture=Id,r.CubeTextureLoader=e2,r.CubeUVReflectionMapping=306,r.CubeUVRefractionMapping=307,r.CubicBezierCurve=Lp,r.CubicBezierCurve3=Iv,r.CubicInterpolant=tw,r.CullFaceBack=1,r.CullFaceFront=2,r.CullFaceFrontBack=3,r.CullFaceNone=0,r.Curve=eo,r.CurvePath=Pv,r.CustomBlending=5,r.CylinderBufferGeometry=_v,r.CylinderGeometry=z1,r.Cylindrical=BS,r.DataTexture=xr,r.DataTexture2DArray=mc,r.DataTexture3D=gc,r.DataTextureLoader=sw,r.DecrementStencilOp=7683,r.DecrementWrapStencilOp=34056,r.DefaultLoadingManager=Fn,r.DepthFormat=1026,r.DepthStencilFormat=1027,r.DepthTexture=HA,r.DirectionalLight=pw,r.DirectionalLightHelper=DC,r.DirectionalLightShadow=dw,r.DiscreteInterpolant=rw,r.DodecahedronBufferGeometry=sy,r.DodecahedronGeometry=YA,r.DoubleSide=2,r.DstAlphaFactor=206,r.DstColorFactor=208,r.DynamicBufferAttribute=function(s,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new gr(s,t).setUsage(35048)},r.DynamicCopyUsage=35050,r.DynamicDrawUsage=35048,r.DynamicReadUsage=35049,r.EdgesGeometry=B1,r.EdgesHelper=function(s,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new vs(new B1(s.geometry),new Js({color:t!==void 0?t:16777215}))},r.EllipseCurve=$c,r.EqualDepth=4,r.EqualStencilFunc=514,r.EquirectangularReflectionMapping=303,r.EquirectangularRefractionMapping=304,r.Euler=le,r.EventDispatcher=a,r.ExtrudeBufferGeometry=Ld,r.ExtrudeGeometry=cy,r.Face3=nn,r.Face4=function(s,t,i,m,A,E,O){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new nn(s,t,i,A,E,O)},r.FaceColors=1,r.FileLoader=Bf,r.FlatShading=1,r.Float32Attribute=function(s,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new tn(s,t)},r.Float32BufferAttribute=tn,r.Float64Attribute=function(s,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new qo(s,t)},r.Float64BufferAttribute=qo,r.FloatType=1015,r.Fog=P1,r.FogExp2=Ym,r.Font=DS,r.FontLoader=IC,r.FrontFaceDirectionCCW=1,r.FrontFaceDirectionCW=0,r.FrontSide=0,r.Frustum=Hi,r.GammaEncoding=3007,r.Geometry=Vt,r.GeometryUtils={merge:function(t,i,m){if(console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),i.isMesh){i.matrixAutoUpdate&&i.updateMatrix();var A=i.matrix;i=i.geometry}t.merge(i,A,m)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}},r.GreaterDepth=6,r.GreaterEqualDepth=5,r.GreaterEqualStencilFunc=518,r.GreaterStencilFunc=516,r.GridHelper=Sw,r.Group=oy,r.HalfFloatType=1016,r.HemisphereLight=cw,r.HemisphereLightHelper=LC,r.HemisphereLightProbe=my,r.IcosahedronBufferGeometry=dC,r.IcosahedronGeometry=fC,r.ImageBitmapLoader=yb,r.ImageLoader=_C,r.ImageUtils=yy,r.ImmediateRenderObject=PC,r.IncrementStencilOp=7682,r.IncrementWrapStencilOp=34055,r.InstancedBufferAttribute=vw,r.InstancedBufferGeometry=i2,r.InstancedInterleavedBuffer=Eb,r.InstancedMesh=J2,r.Int16Attribute=function(s,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new ga(s,t)},r.Int16BufferAttribute=ga,r.Int32Attribute=function(s,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Ho(s,t)},r.Int32BufferAttribute=Ho,r.Int8Attribute=function(s,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new bi(s,t)},r.Int8BufferAttribute=bi,r.IntType=1013,r.InterleavedBuffer=Pp,r.InterleavedBufferAttribute=bv,r.Interpolant=Gh,r.InterpolateDiscrete=2300,r.InterpolateLinear=2301,r.InterpolateSmooth=2302,r.InvertStencilOp=5386,r.JSONLoader=function(){console.error("THREE.JSONLoader has been removed.")},r.KeepStencilOp=7680,r.KeyframeTrack=gu,r.LOD=O1,r.LatheBufferGeometry=wC,r.LatheGeometry=JA,r.Layers=Ae,r.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")},r.LessDepth=2,r.LessEqualDepth=3,r.LessEqualStencilFunc=515,r.LessStencilFunc=513,r.Light=hs,r.LightProbe=Uf,r.LightShadow=Qm,r.Line=kh,r.Line3=bw,r.LineBasicMaterial=Js,r.LineCurve=eh,r.LineCurve3=Dp,r.LineDashedMaterial=Dd,r.LineLoop=q2,r.LinePieces=1,r.LineSegments=vs,r.LineStrip=0,r.LinearEncoding=3e3,r.LinearFilter=1006,r.LinearInterpolant=qA,r.LinearMipMapLinearFilter=1008,r.LinearMipMapNearestFilter=1007,r.LinearMipmapLinearFilter=1008,r.LinearMipmapNearestFilter=1007,r.LinearToneMapping=1,r.Loader=ka,r.LoaderUtils=Tn,r.LoadingManager=mb,r.LogLuvEncoding=3003,r.LoopOnce=2200,r.LoopPingPong=2202,r.LoopRepeat=2201,r.LuminanceAlphaFormat=1025,r.LuminanceFormat=1024,r.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},r.Material=Wt,r.MaterialLoader=n2,r.Math=Fo,r.MathUtils=Fo,r.Matrix3=v,r.Matrix4=ie,r.MaxEquation=104,r.Mesh=Kt,r.MeshBasicMaterial=si,r.MeshDepthMaterial=iy,r.MeshDistanceMaterial=wv,r.MeshFaceMaterial=function(s){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),s},r.MeshLambertMaterial=Tv,r.MeshMatcapMaterial=dy,r.MeshNormalMaterial=bC,r.MeshPhongMaterial=fy,r.MeshPhysicalMaterial=Ev,r.MeshStandardMaterial=Jm,r.MeshToonMaterial=H1,r.MinEquation=103,r.MirroredRepeatWrapping=1002,r.MixOperation=1,r.MultiMaterial=function(s){return s===void 0&&(s=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),s.isMultiMaterial=!0,s.materials=s,s.clone=function(){return s.slice()},s},r.MultiplyBlending=4,r.MultiplyOperation=0,r.NearestFilter=1003,r.NearestMipMapLinearFilter=1005,r.NearestMipMapNearestFilter=1004,r.NearestMipmapLinearFilter=1005,r.NearestMipmapNearestFilter=1004,r.NeverDepth=0,r.NeverStencilFunc=512,r.NoBlending=0,r.NoColors=0,r.NoToneMapping=0,r.NormalAnimationBlendMode=2500,r.NormalBlending=1,r.NotEqualDepth=7,r.NotEqualStencilFunc=517,r.NumberKeyframeTrack=SC,r.Object3D=we,r.ObjectLoader=xw,r.ObjectSpaceNormalMap=1,r.OctahedronBufferGeometry=Xm,r.OctahedronGeometry=WA,r.OneFactor=201,r.OneMinusDstAlphaFactor=207,r.OneMinusDstColorFactor=209,r.OneMinusSrcAlphaFactor=205,r.OneMinusSrcColorFactor=203,r.OrthographicCamera=EC,r.PCFShadowMap=1,r.PCFSoftShadowMap=2,r.PMREMGenerator=Lb,r.ParametricBufferGeometry=uC,r.ParametricGeometry=VA,r.Particle=function(s){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new ay(s)},r.ParticleBasicMaterial=function(s){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Op(s)},r.ParticleSystem=function(s,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new lC(s,t)},r.ParticleSystemMaterial=function(s){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Op(s)},r.Path=jf,r.PerspectiveCamera=mr,r.Plane=kt,r.PlaneBufferGeometry=us,r.PlaneGeometry=Ua,r.PlaneHelper=NC,r.PointCloud=function(s,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new lC(s,t)},r.PointCloudMaterial=function(s){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Op(s)},r.PointLight=r2,r.PointLightHelper=RC,r.Points=lC,r.PointsMaterial=Op,r.PolarGridHelper=a2,r.PolyhedronBufferGeometry=Hh,r.PolyhedronGeometry=cC,r.PositionalAudio=wb,r.PropertyBinding=vc,r.PropertyMixer=Sb,r.QuadraticBezierCurve=Np,r.QuadraticBezierCurve3=qm,r.Quaternion=X,r.QuaternionKeyframeTrack=QA,r.QuaternionLinearInterpolant=ow,r.REVISION="117",r.RGBADepthPacking=3201,r.RGBAFormat=1023,r.RGBAIntegerFormat=1033,r.RGBA_ASTC_10x10_Format=37819,r.RGBA_ASTC_10x5_Format=37816,r.RGBA_ASTC_10x6_Format=37817,r.RGBA_ASTC_10x8_Format=37818,r.RGBA_ASTC_12x10_Format=37820,r.RGBA_ASTC_12x12_Format=37821,r.RGBA_ASTC_4x4_Format=37808,r.RGBA_ASTC_5x4_Format=37809,r.RGBA_ASTC_5x5_Format=37810,r.RGBA_ASTC_6x5_Format=37811,r.RGBA_ASTC_6x6_Format=37812,r.RGBA_ASTC_8x5_Format=37813,r.RGBA_ASTC_8x6_Format=37814,r.RGBA_ASTC_8x8_Format=37815,r.RGBA_BPTC_Format=36492,r.RGBA_ETC2_EAC_Format=37496,r.RGBA_PVRTC_2BPPV1_Format=35843,r.RGBA_PVRTC_4BPPV1_Format=35842,r.RGBA_S3TC_DXT1_Format=33777,r.RGBA_S3TC_DXT3_Format=33778,r.RGBA_S3TC_DXT5_Format=33779,r.RGBDEncoding=3006,r.RGBEEncoding=3002,r.RGBEFormat=1023,r.RGBFormat=1022,r.RGBIntegerFormat=1032,r.RGBM16Encoding=3005,r.RGBM7Encoding=3004,r.RGB_ETC1_Format=36196,r.RGB_ETC2_Format=37492,r.RGB_PVRTC_2BPPV1_Format=35841,r.RGB_PVRTC_4BPPV1_Format=35840,r.RGB_S3TC_DXT1_Format=33776,r.RGFormat=1030,r.RGIntegerFormat=1031,r.RawShaderMaterial=Mv,r.Ray=Lt,r.Raycaster=ww,r.RectAreaLight=gw,r.RedFormat=1028,r.RedIntegerFormat=1029,r.ReinhardToneMapping=2,r.RepeatWrapping=1e3,r.ReplaceStencilOp=7681,r.ReverseSubtractEquation=102,r.RingBufferGeometry=AC,r.RingGeometry=Sv,r.SRGB8_ALPHA8_ASTC_10x10_Format=37851,r.SRGB8_ALPHA8_ASTC_10x5_Format=37848,r.SRGB8_ALPHA8_ASTC_10x6_Format=37849,r.SRGB8_ALPHA8_ASTC_10x8_Format=37850,r.SRGB8_ALPHA8_ASTC_12x10_Format=37852,r.SRGB8_ALPHA8_ASTC_12x12_Format=37853,r.SRGB8_ALPHA8_ASTC_4x4_Format=37840,r.SRGB8_ALPHA8_ASTC_5x4_Format=37841,r.SRGB8_ALPHA8_ASTC_5x5_Format=37842,r.SRGB8_ALPHA8_ASTC_6x5_Format=37843,r.SRGB8_ALPHA8_ASTC_6x6_Format=37844,r.SRGB8_ALPHA8_ASTC_8x5_Format=37845,r.SRGB8_ALPHA8_ASTC_8x6_Format=37846,r.SRGB8_ALPHA8_ASTC_8x8_Format=37847,r.Scene=Qe,r.SceneUtils={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}},r.ShaderChunk=ra,r.ShaderLib=ig,r.ShaderMaterial=Hr,r.ShadowMaterial=k1,r.Shape=Ov,r.ShapeBufferGeometry=F1,r.ShapeGeometry=Rp,r.ShapePath=xb,r.ShapeUtils=Mr,r.ShortType=1011,r.Skeleton=sC,r.SkeletonHelper=gy,r.SkinnedMesh=K2,r.SmoothShading=2,r.Sphere=vt,r.SphereBufferGeometry=N1,r.SphereGeometry=CC,r.Spherical=Pb,r.SphericalHarmonics3=TC,r.SphericalReflectionMapping=305,r.Spline=Bb,r.SplineCurve=zf,r.SplineCurve3=Fb,r.SpotLight=MC,r.SpotLightHelper=OC,r.SpotLightShadow=hw,r.Sprite=ay,r.SpriteMaterial=Od,r.SrcAlphaFactor=204,r.SrcAlphaSaturateFactor=210,r.SrcColorFactor=202,r.StaticCopyUsage=35046,r.StaticDrawUsage=35044,r.StaticReadUsage=35045,r.StereoCamera=NS,r.StreamCopyUsage=35042,r.StreamDrawUsage=35040,r.StreamReadUsage=35041,r.StringKeyframeTrack=aw,r.SubtractEquation=101,r.SubtractiveBlending=3,r.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},r.TangentSpaceNormalMap=0,r.TetrahedronBufferGeometry=hC,r.TetrahedronGeometry=GA,r.TextBufferGeometry=D1,r.TextGeometry=Vh,r.Texture=b,r.TextureLoader=lw,r.TorusBufferGeometry=vC,r.TorusGeometry=XA,r.TorusKnotBufferGeometry=gC,r.TorusKnotGeometry=mC,r.Triangle=Ut,r.TriangleFanDrawMode=2,r.TriangleStripDrawMode=1,r.TrianglesDrawMode=0,r.TubeBufferGeometry=Zm,r.TubeGeometry=pC,r.UVMapping=300,r.Uint16Attribute=function(s,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Oi(s,t)},r.Uint16BufferAttribute=Oi,r.Uint32Attribute=function(s,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new rs(s,t)},r.Uint32BufferAttribute=rs,r.Uint8Attribute=function(s,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new ki(s,t)},r.Uint8BufferAttribute=ki,r.Uint8ClampedAttribute=function(s,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Pi(s,t)},r.Uint8ClampedBufferAttribute=Pi,r.Uncharted2ToneMapping=3,r.Uniform=Aw,r.UniformsLib=ei,r.UniformsUtils=$S,r.UnsignedByteType=1009,r.UnsignedInt248Type=1020,r.UnsignedIntType=1014,r.UnsignedShort4444Type=1017,r.UnsignedShort5551Type=1018,r.UnsignedShort565Type=1019,r.UnsignedShortType=1012,r.VSMShadowMap=3,r.Vector2=l,r.Vector3=Y,r.Vector4=M,r.VectorKeyframeTrack=$A,r.Vertex=function(s,t,i){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Y(s,t,i)},r.VertexColors=2,r.VideoTexture=hb,r.WebGLCubeRenderTarget=mo,r.WebGLMultisampleRenderTarget=k,r.WebGLRenderTarget=R,r.WebGLRenderTargetCube=function(s,t,i){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new mo(s,i)},r.WebGLRenderer=Uh,r.WebGLUtils=Z2,r.WireframeGeometry=L1,r.WireframeHelper=function(s,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new vs(new L1(s.geometry),new Js({color:t!==void 0?t:16777215}))},r.WrapAroundEnding=2402,r.XHRLoader=function(s){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Bf(s)},r.ZeroCurvatureEnding=2400,r.ZeroFactor=200,r.ZeroSlopeEnding=2401,r.ZeroStencilOp=0,r.sRGBEncoding=3001,Object.defineProperty(r,"__esModule",{value:!0})})}),B0=We(Lx);window.THREE&&(B0=window.THREE);var Ko=B0;A0("getPrototypeOf",function(){return function(n){return Vc(Object(vf(n)))}});var dA=Fi.Object.getPrototypeOf,pA=Fe(function(n){n.exports={default:dA,__esModule:!0}}),wl=We(pA),z0=Fe(function(n,e){e.__esModule=!0,e.default=function(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}}),ls=We(z0);Kr(Kr.S+Kr.F*!nc,"Object",{defineProperty:$l.f});var Dx=Fi.Object,ja=function(e,r,a){return Dx.defineProperty(e,r,a)},sc=Fe(function(n){n.exports={default:ja,__esModule:!0}});We(sc);var lc=Fe(function(n,e){e.__esModule=!0;var r=sc&&sc.__esModule?sc:{default:sc};e.default=function(){function a(l,v){for(var b=0;b<v.length;b++){var M=v[b];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),(0,r.default)(l,M.key,M)}}return function(l,v,b){return v&&a(l.prototype,v),b&&a(l,b),l}}()}),Ts=We(lc),Oh=Fe(function(n,e){e.__esModule=!0;var r=Mf&&Mf.__esModule?Mf:{default:Mf};e.default=function(a,l){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||(typeof l=="undefined"?"undefined":(0,r.default)(l))!=="object"&&typeof l!="function"?a:l}}),Ul=We(Oh),Rh=Object.setPrototypeOf||("__proto__"in{}?function(n,e,r){try{r=za(Function.call,gd.f(Object.prototype,"__proto__").set,2),r(n,[]),e=!(n instanceof Array)}catch(a){e=!0}return function(a,l){if(yl(a),!Ra(l)&&l!==null)throw TypeError(l+": can't set as prototype!");return e?a.__proto__=l:r(a,l),a}}({},!1):void 0);Kr(Kr.S,"Object",{setPrototypeOf:Rh});var mA=Fi.Object.setPrototypeOf,wd=Fe(function(n){n.exports={default:mA,__esModule:!0}});We(wd);var Pf=Fe(function(n,e){function r(b){return b&&b.__esModule?b:{default:b}}e.__esModule=!0;var a=r(wd),l=r(Ix),v=r(Mf);e.default=function(b,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof M=="undefined"?"undefined":(0,v.default)(M)));b.prototype=(0,l.default)(M&&M.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),M&&(a.default?(0,a.default)(b,M):b.__proto__=M)}}),Zs=We(Pf);de(xe.prototype,{equals:function(e){return this.lat===e.lat&&this.lng===e.lng},clone:function(){return new xe(this.lat,this.lng)},getLngSpan:function(e){return e=Math.abs(e-this.lng),180<e&&(e=360-e),e},sub:function(e){return new xe(this.lat-e.lat,this.lng-e.lng)},toString:function(){return"Point"}}),de(pt,{EARTHRADIUS:637099681e-2,MCBAND:[1289059486e-2,836237787e-2,5591021,348198983e-2,167804312e-2,0],LLBAND:[75,60,45,30,15,0],MC2LL:[[1410526172116255e-23,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,173379812e-1],[-7435856389565537e-24,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,1026014486e-2],[-3030883460898826e-23,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,685681737e-2],[-1981981304930552e-23,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,448277706e-2],[309191371068437e-23,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,25551644e-1],[2890871144776878e-24,8983055095805407e-21,-3068298e-14,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],LL2MC:[[-.0015702102444,111320.7020616939,1704480524535203,-10338987376042340,26112667856603880,-35149669176653700,26595700718403920,-10725012454188240,1800819912950474,82.5],[.0008277824516172526,111320.7020463578,6477955746671607e-7,-4082003173641316e-6,1077490566351142e-5,-1517187553151559e-5,1205306533862167e-5,-5124939663577472e-6,9133119359512032e-7,67.5],[.00337398766765,111320.7020202162,4481351045890365e-9,-2339375119931662e-8,7968221547186455e-8,-1159649932797253e-7,9723671115602145e-8,-4366194633752821e-8,8477230501135234e-9,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837749470245e-9,992013.7397791013,-122195221711287e-8,1340652697009075e-9,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758690035394e-9,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]],getDistanceByMC:function(e,r){if(!e||!r||(e=this.convertMC2LL(e),!e))return 0;var a=this.toRadians(e.lng);if(e=this.toRadians(e.lat),r=this.convertMC2LL(r),!r)return 0;var l=this.toRadians(r.lng);return r=this.toRadians(r.lat),this.getDistance(a,l,e,r)},getDistanceByLL:function(e,r){if(!e||!r)return 0;e.lng=this.getLoop(e.lng,-180,180),e.lat=this.getRange(e.lat,-74,74),r.lng=this.getLoop(r.lng,-180,180),r.lat=this.getRange(r.lat,-74,74);var a=this.toRadians(e.lng),l=this.toRadians(e.lat);return e=this.toRadians(r.lng),r=this.toRadians(r.lat),this.getDistance(a,e,l,r)},convertMC2LL:function(e){if(e==null)return new xe(0,0);if(180>e.lng&&-180<e.lng&&90>e.lat&&-90<e.lat)return e;for(var r=new xe(Math.abs(e.lng),Math.abs(e.lat)),a=0;a<this.MCBAND.length;a++)if(r.lat>=this.MCBAND[a]){var l=this.MC2LL[a];break}return e=this.convertor(e,l),e=new xe(e.lng.toFixed(6),e.lat.toFixed(6))},convertLL2MC:function(e){if(e==null)return new xe(0,0);if(180<e.lng||-180>e.lng||90<e.lat||-90>e.lat)return e;e.lng=this.getLoop(e.lng,-180,180),e.lat=this.getRange(e.lat,-74,74);for(var r=new xe(e.lng,e.lat),a=0;a<this.LLBAND.length;a++)if(r.lat>=this.LLBAND[a]){var l=this.LL2MC[a];break}if(!l){for(a=0;a<this.LLBAND.length;a++)if(r.lat<=-this.LLBAND[a]){l=this.LL2MC[a];break}}return e=this.convertor(e,l),e=new xe(Number(e.lng.toFixed(2)),Number(e.lat.toFixed(2)))},convertor:function(e,r){if(e&&r){var a=r[0]+r[1]*Math.abs(e.lng),l=Math.abs(e.lat)/r[9];return r=r[2]+r[3]*l+r[4]*l*l+r[5]*l*l*l+r[6]*l*l*l*l+r[7]*l*l*l*l*l+r[8]*l*l*l*l*l*l,a*=0>e.lng?-1:1,r*=0>e.lat?-1:1,new xe(a,r)}},getDistance:function(e,r,a,l){return this.EARTHRADIUS*Math.acos(Math.sin(a)*Math.sin(l)+Math.cos(a)*Math.cos(l)*Math.cos(r-e))},toRadians:function(e){return Math.PI*e/180},toDegrees:function(e){return 180*e/Math.PI},getRange:function(e,r,a){return r!=null&&(e=Math.max(e,r)),a!=null&&(e=Math.min(e,a)),e},getLoop:function(e,r,a){for(;e>a;)e-=a-r;for(;e<r;)e+=a-r;return e}}),de(pt.prototype,{lngLatToMercator:function(e){return pt.convertLL2MC(e)},lngLatToPoint:function(e){return e=pt.convertLL2MC(e),new ft(e.lng,e.lat)},mercatorToLngLat:function(e){return pt.convertMC2LL(e)},pointToLngLat:function(e){return e=new xe(e.x,e.y),pt.convertMC2LL(e)},pointToPixel:function(e,r,a,l,v){if(e)return e=this.lngLatToMercator(e,v),r=this.getZoomUnits(r),new ft(Math.round((e.lng-a.lng)/r+l.width/2),Math.round((a.lat-e.lat)/r+l.height/2))},pixelToPoint:function(e,r,a,l,v){if(e)return r=this.getZoomUnits(r),e=new xe(a.lng+r*(e.x-l.width/2),a.lat-r*(e.y-l.height/2)),this.mercatorToLngLat(e,v)},getZoomUnits:function(e){return Math.pow(2,18-e)}});var d1=Fe(function(n,e){e.__esModule=!0;var r=Ah&&Ah.__esModule?Ah:{default:Ah};e.default=function(a){if(Array.isArray(a)){for(var l=0,v=Array(a.length);l<a.length;l++)v[l]=a[l];return v}return(0,r.default)(a)}}),tv=We(d1);(function(){function n(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};ls(this,n),this.options=e,this._initialize()}return Ts(n,[{key:"_initialize",value:function(){this.points=this.options.points}},{key:"_normalizaCoord",value:function(r){return r?(r instanceof Array&&(r={lng:Number(r[0]),lat:Number(r[1])}),pt.convertLL2MC(r)):null}},{key:"setOptions",value:function(){this.options=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},this._initialize()}},{key:"getPoints",value:function(r){for(var a=[],l=this.points,v=0;v<l.length-1;v++){var b=this.getCurveByTwoPoints(this._normalizaCoord(l[v]),this._normalizaCoord(l[v+1]),r);b&&0<b.length&&(a=a.concat(b))}return a}},{key:"getCurveByTwoPoints",value:function(r,a){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:20;if(!r||!a)return null;var v=[],b=0;if((typeof a=="undefined"?"undefined":xd(a))===void 0)typeof v=="undefined"||xd(v);else{var M=parseFloat(r.lat),R=parseFloat(a.lat),k=parseFloat(r.lng),X=parseFloat(a.lng);X>k&&180<parseFloat(X-k)&&0>k&&(k=parseFloat(360+k),X=parseFloat(360+X));var Y=0;if(R===M)var ie=0,le=k-X;else X===k?(ie=Math.PI/2,le=M-R):(ie=Math.atan((R-M)/(X-k)),le=(R-M)/Math.sin(ie));for(Y===0&&(Y=ie+Math.PI/5),le/=2,ie=le*Math.cos(Y)+k,Y=le*Math.sin(Y)+M,le=0;le<l+1;le++){var Ae=k*(1-2*b+b*b)+ie*(2*b-2*b*b)+X*b*b,we=a.lng;v.push([0>r.lng&&0<we?Ae-360:Ae,M*(1-2*b+b*b)+Y*(2*b-2*b*b)+R*b*b]),b+=1/l}return v}}}]),n})();var Lh=void 0;(function(){if(Lh!==void 0)return Lh;var n=navigator.userAgent,e="Android;iPhone;SymbianOS;Windows Phone;iPad;iPod".split(";");Lh=!1;for(var r=0;r<e.length;r++)if(0<n.indexOf(e[r])){Lh=!0;break}return Lh})(),N(Array(576)),N(Array(60)),N(Array(512)),N(Array(256)),N(Array(29)),N(Array(30)),new Uint32Array(function(){for(var n,e=[],r=0;256>r;r++){n=r;for(var a=0;8>a;a++)n=n&1?3988292384^n>>>1:n>>>1;e[r]=n}return e}());try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(n){}for(var Pm=new Uint8Array(256),uc=0;256>uc;uc++)Pm[uc]=252<=uc?6:248<=uc?5:240<=uc?4:224<=uc?3:192<=uc?2:1;Pm[254]=Pm[254]=1;var gA=function(){function n(e){ls(this,n),this._visible=!0,this.options=this.getCommonDefaultOptions(),this.options=Le(this.options,this.getDefaultOptions()),this.autoUpdate=!1,this.options=Le(this.options,e),this.options.data&&(this.data=this.options.data,delete this.options.data)}return Ts(n,[{key:"getCommonDefaultOptions",value:function(){return{}}},{key:"getDefaultOptions",value:function(){return{}}},{key:"initialize",value:function(r){}},{key:"destroy",value:function(){this.onDestroy&&this.onDestroy()}},{key:"show",value:function(){this._visible=!0}},{key:"hide",value:function(){this._visible=!1}},{key:"render",value:function(){}},{key:"setData",value:function(r,a){a=a||{},this.data=r,this.onDataChanged&&this.onDataChanged(this.getData()),this.onChanged&&this.onChanged(this.getOptions(),this.getData(),a),a.autoRender!==!1&&this.webglLayer&&this.webglLayer.render()}},{key:"getData",value:function(){return this.data||[]}},{key:"setOptions",value:function(r){r=r||{};var a=Le({},this.getOptions());Le(this.options,r),this.onOptionsChanged&&this.onOptionsChanged(this.getOptions(),a),this.onChanged&&this.onChanged(this.getOptions(),this.getData()),r.data?(this.setData(r.data),delete r.data):this.webglLayer&&this.webglLayer.render()}},{key:"getOptions",value:function(){return this.options||{}}},{key:"onOptionsChanged",value:function(r,a){}},{key:"onDataChanged",value:function(r){}},{key:"onChanged",value:function(r,a){}},{key:"onDestroy",value:function(){}},{key:"lnglatToMercator",value:function(r,a){}},{key:"setWebglLayer",value:function(r){this.webglLayer=r}},{key:"getWebglLayer",value:function(){return this.webglLayer}},{key:"isRequestAnimation",value:function(){return this.autoUpdate}}]),n}(),Nx=as("iterator"),A2=Fi.isIterable=function(n){return n=Object(n),n[Nx]!==void 0||"@@iterator"in n||il.hasOwnProperty(Nu(n))},zs=Fe(function(n){n.exports={default:A2,__esModule:!0}});We(zs);var vA=Fi.getIterator=function(n){var e=Fg(n);if(typeof e!="function")throw TypeError(n+" is not iterable!");return yl(e.call(n))},rv=Fe(function(n){n.exports={default:vA,__esModule:!0}});We(rv);var w2=Fe(function(n,e){e.__esModule=!0;var r=zs&&zs.__esModule?zs:{default:zs},a=rv&&rv.__esModule?rv:{default:rv};e.default=function(){return function(l,v){if(Array.isArray(l))return l;if((0,r.default)(Object(l))){var b=[],M=!0,R=!1,k=void 0;try{for(var X=(0,a.default)(l),Y;!(M=(Y=X.next()).done)&&(b.push(Y.value),!v||b.length!==v);M=!0);}catch(ie){R=!0,k=ie}finally{try{!M&&X.return&&X.return()}finally{if(R)throw k}}return b}throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()}),j0=We(w2),cc={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},p1=gd.f;A0("getOwnPropertyDescriptor",function(){return function(n,e){return p1(eu(n),e)}});var b2=Fi.Object,Kc=function(e,r){return b2.getOwnPropertyDescriptor(e,r)},Om=Fe(function(n){n.exports={default:Kc,__esModule:!0}}),Fx=We(Om),hc=Fe(function(n){var e=Array.prototype.concat,r=Array.prototype.slice,a=n.exports=function(l){for(var v=[],b=0,M=l.length;b<M;b++){var R=l[b],k=(k=R)&&typeof k!="string"?k instanceof Array||Array.isArray(k)||0<=k.length&&(k.splice instanceof Function||Fx(k,k.length-1)&&k.constructor.name!=="String"):!1;k?v=e.call(v,r.call(R)):v.push(R)}return v};a.wrap=function(l){return function(){return l(a(arguments))}}}),Ki=Fe(function(n){function e(b,M,R){return Math.min(Math.max(M,b),R)}function r(b){return b=b.toString(16).toUpperCase(),2>b.length?"0"+b:b}var a={},l;for(l in cc)cc.hasOwnProperty(l)&&(a[cc[l]]=l);var v=n.exports={to:{},get:{}};v.get=function(b){switch(b.substring(0,3).toLowerCase()){case"hsl":b=v.get.hsl(b);var M="hsl";break;case"hwb":b=v.get.hwb(b),M="hwb";break;default:b=v.get.rgb(b),M="rgb"}return b?{model:M,value:b}:null},v.get.rgb=function(b){if(!b)return null;var M=/^#([a-f0-9]{3,4})$/i,R=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,k=/^rgba?\(\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,X=/(\D+)/,Y=[0,0,0,1],ie;if(ie=b.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(M=ie[2],ie=ie[1],b=0;3>b;b++)R=2*b,Y[b]=parseInt(ie.slice(R,R+2),16);M&&(Y[3]=Math.round(parseInt(M,16)/255*100)/100)}else if(ie=b.match(M)){for(ie=ie[1],M=ie[3],b=0;3>b;b++)Y[b]=parseInt(ie[b]+ie[b],16);M&&(Y[3]=Math.round(parseInt(M+M,16)/255*100)/100)}else if(ie=b.match(R)){for(b=0;3>b;b++)Y[b]=parseInt(ie[b+1],0);ie[4]&&(Y[3]=parseFloat(ie[4]))}else if(ie=b.match(k)){for(b=0;3>b;b++)Y[b]=Math.round(2.55*parseFloat(ie[b+1]));ie[4]&&(Y[3]=parseFloat(ie[4]))}else return(ie=b.match(X))?ie[1]==="transparent"?[0,0,0,0]:(Y=cc[ie[1]],Y?(Y[3]=1,Y):null):null;for(b=0;3>b;b++)Y[b]=e(Y[b],0,255);return Y[3]=e(Y[3],0,1),Y},v.get.hsl=function(b){if(!b)return null;var M=b.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(M){var R=parseFloat(M[4]);b=(parseFloat(M[1])+360)%360;var k=e(parseFloat(M[2]),0,100);return M=e(parseFloat(M[3]),0,100),R=e(isNaN(R)?1:R,0,1),[b,k,M,R]}return null},v.get.hwb=function(b){if(!b)return null;var M=b.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(M){var R=parseFloat(M[4]);b=(parseFloat(M[1])%360+360)%360;var k=e(parseFloat(M[2]),0,100);return M=e(parseFloat(M[3]),0,100),R=e(isNaN(R)?1:R,0,1),[b,k,M,R]}return null},v.to.hex=function(){var b=hc(arguments);return"#"+r(b[0])+r(b[1])+r(b[2])+(1>b[3]?r(Math.round(255*b[3])):"")},v.to.rgb=function(){var b=hc(arguments);return 4>b.length||b[3]===1?"rgb("+Math.round(b[0])+", "+Math.round(b[1])+", "+Math.round(b[2])+")":"rgba("+Math.round(b[0])+", "+Math.round(b[1])+", "+Math.round(b[2])+", "+b[3]+")"},v.to.rgb.percent=function(){var b=hc(arguments),M=Math.round(b[0]/255*100),R=Math.round(b[1]/255*100),k=Math.round(b[2]/255*100);return 4>b.length||b[3]===1?"rgb("+M+"%, "+R+"%, "+k+"%)":"rgba("+M+"%, "+R+"%, "+k+"%, "+b[3]+")"},v.to.hsl=function(){var b=hc(arguments);return 4>b.length||b[3]===1?"hsl("+b[0]+", "+b[1]+"%, "+b[2]+"%)":"hsla("+b[0]+", "+b[1]+"%, "+b[2]+"%, "+b[3]+")"},v.to.hwb=function(){var b=hc(arguments),M="";return 4<=b.length&&b[3]!==1&&(M=", "+b[3]),"hwb("+b[0]+", "+b[1]+"%, "+b[2]+"%"+M+")"},v.to.keyword=function(b){return a[b.slice(0,3)]}}),Ap=Fe(function(n){var e={};for(l in cc)cc.hasOwnProperty(l)&&(e[cc[l]]=l);var r=n.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},a;for(a in r)if(r.hasOwnProperty(a)){if(!("channels"in r[a]))throw Error("missing channels property: "+a);if(!("labels"in r[a]))throw Error("missing channel labels property: "+a);if(r[a].labels.length!==r[a].channels)throw Error("channel and label counts mismatch: "+a);n=r[a].channels;var l=r[a].labels;delete r[a].channels,delete r[a].labels,Object.defineProperty(r[a],"channels",{value:n}),Object.defineProperty(r[a],"labels",{value:l})}r.rgb.hsl=function(v){var b=v[0]/255,M=v[1]/255,R=v[2]/255;v=Math.min(b,M,R);var k=Math.max(b,M,R),X=k-v,Y;return k===v?Y=0:b===k?Y=(M-R)/X:M===k?Y=2+(R-b)/X:R===k&&(Y=4+(b-M)/X),Y=Math.min(60*Y,360),0>Y&&(Y+=360),b=(v+k)/2,[Y,100*(k===v?0:.5>=b?X/(k+v):X/(2-k-v)),100*b]},r.rgb.hsv=function(v){var b,M=v[0]/255,R=v[1]/255,k=v[2]/255,X=Math.max(M,R,k),Y=X-Math.min(M,R,k);if(Y===0)var ie=b=0;else{b=Y/X,v=(X-M)/6/Y+.5;var le=(X-R)/6/Y+.5;Y=(X-k)/6/Y+.5,M===X?ie=Y-le:R===X?ie=1/3+v-Y:k===X&&(ie=2/3+le-v),0>ie?ie+=1:1<ie&&--ie}return[360*ie,100*b,100*X]},r.rgb.hwb=function(v){var b=v[0],M=v[1],R=v[2];v=r.rgb.hsl(v)[0];var k=1/255*Math.min(b,Math.min(M,R));return R=1-1/255*Math.max(b,Math.max(M,R)),[v,100*k,100*R]},r.rgb.cmyk=function(v){var b=v[0]/255,M=v[1]/255;v=v[2]/255;var R=Math.min(1-b,1-M,1-v);return[100*((1-b-R)/(1-R)||0),100*((1-M-R)/(1-R)||0),100*((1-v-R)/(1-R)||0),100*R]},r.rgb.keyword=function(v){var b=e[v];if(b)return b;b=Infinity;var M;for(M in cc)if(cc.hasOwnProperty(M)){var R=cc[M];if(R=Math.pow(v[0]-R[0],2)+Math.pow(v[1]-R[1],2)+Math.pow(v[2]-R[2],2),R<b){b=R;var k=M}}return k},r.keyword.rgb=function(v){return cc[v]},r.rgb.xyz=function(v){var b=v[0]/255,M=v[1]/255;return v=v[2]/255,b=.04045<b?Math.pow((b+.055)/1.055,2.4):b/12.92,M=.04045<M?Math.pow((M+.055)/1.055,2.4):M/12.92,v=.04045<v?Math.pow((v+.055)/1.055,2.4):v/12.92,[100*(.4124*b+.3576*M+.1805*v),100*(.2126*b+.7152*M+.0722*v),100*(.0193*b+.1192*M+.9505*v)]},r.rgb.lab=function(v){var b=r.rgb.xyz(v);v=b[0];var M=b[1];return b=b[2],v/=95.047,M/=100,b/=108.883,v=.008856<v?Math.pow(v,1/3):7.787*v+16/116,M=.008856<M?Math.pow(M,1/3):7.787*M+16/116,b=.008856<b?Math.pow(b,1/3):7.787*b+16/116,[116*M-16,500*(v-M),200*(M-b)]},r.hsl.rgb=function(v){var b=v[0]/360,M=v[1]/100;if(v=v[2]/100,M===0){var R=255*v;return[R,R,R]}M=.5>v?v*(1+M):v+M-v*M,v=2*v-M;for(var k=[0,0,0],X=0;3>X;X++)R=b+1/3*-(X-1),0>R&&R++,1<R&&R--,R=1>6*R?v+6*(M-v)*R:1>2*R?M:2>3*R?v+(M-v)*(2/3-R)*6:v,k[X]=255*R;return k},r.hsl.hsv=function(v){var b=v[0],M=v[1]/100;v=v[2]/100;var R=M,k=Math.max(v,.01);return v*=2,M*=1>=v?v:2-v,R*=1>=k?k:2-k,[b,100*(v===0?2*R/(k+R):2*M/(v+M)),(v+M)/2*100]},r.hsv.rgb=function(v){var b=v[0]/60,M=v[1]/100;v=v[2]/100;var R=Math.floor(b)%6,k=b-Math.floor(b);b=255*v*(1-M);var X=255*v*(1-M*k);switch(M=255*v*(1-M*(1-k)),v*=255,R){case 0:return[v,M,b];case 1:return[X,v,b];case 2:return[b,v,M];case 3:return[b,X,v];case 4:return[M,b,v];case 5:return[v,b,X]}},r.hsv.hsl=function(v){var b=v[0],M=v[1]/100;v=v[2]/100;var R=Math.max(v,.01),k=(2-M)*R;return R=M*R/(1>=k?k:2-k)||0,[b,100*R,(2-M)*v/2*100]},r.hwb.rgb=function(v){var b=v[0]/360,M=v[1]/100;v=v[2]/100;var R=M+v;switch(1<R&&(M/=R,v/=R),R=Math.floor(6*b),v=1-v,b=6*b-R,(R&1)!=0&&(b=1-b),b=M+b*(v-M),R){default:case 6:case 0:R=v;var k=b;break;case 1:R=b,k=v;break;case 2:R=M,k=v,M=b;break;case 3:R=M,k=b,M=v;break;case 4:R=b,k=M,M=v;break;case 5:R=v,k=M,M=b}return[255*R,255*k,255*M]},r.cmyk.rgb=function(v){var b=v[3]/100;return[255*(1-Math.min(1,v[0]/100*(1-b)+b)),255*(1-Math.min(1,v[1]/100*(1-b)+b)),255*(1-Math.min(1,v[2]/100*(1-b)+b))]},r.xyz.rgb=function(v){var b=v[0]/100,M=v[1]/100,R=v[2]/100;v=3.2406*b+-1.5372*M+-.4986*R;var k=-.9689*b+1.8758*M+.0415*R;return b=.0557*b+-.204*M+1.057*R,v=.0031308<v?1.055*Math.pow(v,1/2.4)-.055:12.92*v,k=.0031308<k?1.055*Math.pow(k,1/2.4)-.055:12.92*k,b=.0031308<b?1.055*Math.pow(b,1/2.4)-.055:12.92*b,v=Math.min(Math.max(0,v),1),k=Math.min(Math.max(0,k),1),b=Math.min(Math.max(0,b),1),[255*v,255*k,255*b]},r.xyz.lab=function(v){var b=v[0],M=v[1];return v=v[2],b/=95.047,M/=100,v/=108.883,b=.008856<b?Math.pow(b,1/3):7.787*b+16/116,M=.008856<M?Math.pow(M,1/3):7.787*M+16/116,v=.008856<v?Math.pow(v,1/3):7.787*v+16/116,[116*M-16,500*(b-M),200*(M-v)]},r.lab.xyz=function(v){var b=v[1],M=v[2];v=(v[0]+16)/116,b=b/500+v,M=v-M/200;var R=Math.pow(v,3),k=Math.pow(b,3),X=Math.pow(M,3);return[95.047*(.008856<k?k:(b-16/116)/7.787),100*(.008856<R?R:(v-16/116)/7.787),108.883*(.008856<X?X:(M-16/116)/7.787)]},r.lab.lch=function(v){var b=v[0],M=v[1];v=v[2];var R=360*Math.atan2(v,M)/2/Math.PI;return 0>R&&(R+=360),[b,Math.sqrt(M*M+v*v),R]},r.lch.lab=function(v){var b=v[0],M=v[1];return v=v[2]/360*2*Math.PI,[b,M*Math.cos(v),M*Math.sin(v)]},r.rgb.ansi16=function(v){var b=v[0],M=v[1],R=v[2],k=1 in arguments?arguments[1]:r.rgb.hsv(v)[2];return k=Math.round(k/50),k===0?30:(b=30+(Math.round(R/255)<<2|Math.round(M/255)<<1|Math.round(b/255)),k===2&&(b+=60),b)},r.hsv.ansi16=function(v){return r.rgb.ansi16(r.hsv.rgb(v),v[2])},r.rgb.ansi256=function(v){var b=v[0],M=v[1];return v=v[2],b===M&&M===v?8>b?16:248<b?231:Math.round((b-8)/247*24)+232:16+36*Math.round(b/255*5)+6*Math.round(M/255*5)+Math.round(v/255*5)},r.ansi16.rgb=function(v){var b=v%10;return b===0||b===7?(50<v&&(b+=3.5),b=b/10.5*255,[b,b,b]):(v=.5*(~~(50<v)+1),[(b&1)*v*255,(b>>1&1)*v*255,(b>>2&1)*v*255])},r.ansi256.rgb=function(v){if(232<=v){var b=10*(v-232)+8;return[b,b,b]}v-=16,b=Math.floor(v/36)/5*255;var M=Math.floor((v%=36)/6)/5*255;return[b,M,v%6/5*255]},r.rgb.hex=function(v){return v=(((Math.round(v[0])&255)<<16)+((Math.round(v[1])&255)<<8)+(Math.round(v[2])&255)).toString(16).toUpperCase(),"000000".substring(v.length)+v},r.hex.rgb=function(v){if(v=v.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i),!v)return[0,0,0];var b=v[0];return v[0].length===3&&(b=b.split("").map(function(M){return M+M}).join("")),v=parseInt(b,16),[v>>16&255,v>>8&255,v&255]},r.rgb.hcg=function(v){var b=v[0]/255,M=v[1]/255;v=v[2]/255;var R=Math.max(Math.max(b,M),v),k=Math.min(Math.min(b,M),v),X=R-k;return[(0>=X?0:R===b?(M-v)/X%6:R===M?2+(v-b)/X:(b-M)/X+8)/6%1*360,100*X,100*(1>X?k/(1-X):0)]},r.hsl.hcg=function(v){var b=v[1]/100,M=v[2]/100,R=0;return b=.5>M?2*b*M:2*b*(1-M),1>b&&(R=(M-.5*b)/(1-b)),[v[0],100*b,100*R]},r.hsv.hcg=function(v){var b=v[2]/100,M=v[1]/100*b,R=0;return 1>M&&(R=(b-M)/(1-M)),[v[0],100*M,100*R]},r.hcg.rgb=function(v){var b=v[1]/100,M=v[2]/100;if(b===0)return[255*M,255*M,255*M];var R=[0,0,0];v=v[0]/360%1*6;var k=v%1,X=1-k;switch(Math.floor(v)){case 0:R[0]=1,R[1]=k,R[2]=0;break;case 1:R[0]=X,R[1]=1,R[2]=0;break;case 2:R[0]=0,R[1]=1,R[2]=k;break;case 3:R[0]=0,R[1]=X,R[2]=1;break;case 4:R[0]=k,R[1]=0,R[2]=1;break;default:R[0]=1,R[1]=0,R[2]=X}return M*=1-b,[255*(b*R[0]+M),255*(b*R[1]+M),255*(b*R[2]+M)]},r.hcg.hsv=function(v){var b=v[1]/100,M=b+v[2]/100*(1-b),R=0;return 0<M&&(R=b/M),[v[0],100*R,100*M]},r.hcg.hsl=function(v){var b=v[1]/100,M=v[2]/100*(1-b)+.5*b,R=0;return 0<M&&.5>M?R=b/(2*M):.5<=M&&1>M&&(R=b/(2*(1-M))),[v[0],100*R,100*M]},r.hcg.hwb=function(v){var b=v[1]/100,M=b+v[2]/100*(1-b);return[v[0],100*(M-b),100*(1-M)]},r.hwb.hcg=function(v){var b=1-v[2]/100,M=b-v[1]/100,R=0;return 1>M&&(R=(b-M)/(1-M)),[v[0],100*M,100*R]},r.apple.rgb=function(v){return[v[0]/65535*255,v[1]/65535*255,v[2]/65535*255]},r.rgb.apple=function(v){return[v[0]/255*65535,v[1]/255*65535,v[2]/255*65535]},r.gray.rgb=function(v){return[v[0]/100*255,v[0]/100*255,v[0]/100*255]},r.gray.hsl=r.gray.hsv=function(v){return[0,0,v[0]]},r.gray.hwb=function(v){return[0,100,v[0]]},r.gray.cmyk=function(v){return[0,0,0,v[0]]},r.gray.lab=function(v){return[v[0],0,0]},r.gray.hex=function(v){return v=Math.round(v[0]/100*255)&255,v=((v<<16)+(v<<8)+v).toString(16).toUpperCase(),"000000".substring(v.length)+v},r.rgb.gray=function(v){return[(v[0]+v[1]+v[2])/3/255*100]}}),ku=function(e){for(var r={},a=es(Ap),l=a.length,v=0;v<l;v++)r[a[v]]={distance:-1,parent:null};for(a=[e],r[e].distance=0;a.length;){e=a.pop(),l=es(Ap[e]),v=l.length;for(var b=0;b<v;b++){var M=l[b],R=r[M];R.distance===-1&&(R.distance=r[e].distance+1,R.parent=e,a.unshift(M))}}for(a={},e=es(r),l=e.length,v=0;v<l;v++){var k=e[v];if(r[k].parent!==null){b=k,M=r,R=[M[k].parent,k];var X=Ap[M[k].parent][k];for(k=M[k].parent;M[k].parent;)R.unshift(M[k].parent),X=ve(Ap[M[k].parent][k],X),k=M[k].parent;X.conversion=R,a[b]=X}}return a},Da={};es(Ap).forEach(function(n){Da[n]={},Object.defineProperty(Da[n],"channels",{value:Ap[n].channels}),Object.defineProperty(Da[n],"labels",{value:Ap[n].labels});var e=ku(n);es(e).forEach(function(r){var a=e[r];Da[n][r]=st(a),Da[n][r].raw=Zr(a)})});var Hu=Da,Dh=[].slice,Bx=["keyword","gray","hex"],m1={};es(Hu).forEach(function(n){m1[Dh.call(Hu[n].labels).sort().join("")]=n});var C={};zr.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var r=this.model in Ki.to?this:this.rgb();return r=r.round(typeof e=="number"?e:1),e=r.valpha===1?r.color:r.color.concat(this.valpha),Ki.to[r.model](e)},percentString:function(e){return e=this.rgb().round(typeof e=="number"?e:1),e=e.valpha===1?e.color:e.color.concat(this.valpha),Ki.to.rgb.percent(e)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},r=Hu[this.model].channels,a=Hu[this.model].labels,l=0;l<r;l++)e[a[l]]=this.color[l];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new zr(this.color.map(zn(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new zr(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:$t("rgb",0,gn(255)),green:$t("rgb",1,gn(255)),blue:$t("rgb",2,gn(255)),hue:$t(["hsl","hsv","hsl","hwb","hcg"],0,function(n){return(n%360+360)%360}),saturationl:$t("hsl",1,gn(100)),lightness:$t("hsl",2,gn(100)),saturationv:$t("hsv",1,gn(100)),value:$t("hsv",2,gn(100)),chroma:$t("hcg",1,gn(100)),gray:$t("hcg",2,gn(100)),white:$t("hwb",1,gn(100)),wblack:$t("hwb",2,gn(100)),cyan:$t("cmyk",0,gn(100)),magenta:$t("cmyk",1,gn(100)),yellow:$t("cmyk",2,gn(100)),black:$t("cmyk",3,gn(100)),x:$t("xyz",0,gn(100)),y:$t("xyz",1,gn(100)),z:$t("xyz",2,gn(100)),l:$t("lab",0,gn(100)),a:$t("lab",1),b:$t("lab",2),keyword:function(e){return arguments.length?new zr(e):Hu[this.model].keyword(this.color)},hex:function(e){return arguments.length?new zr(e):Ki.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity:function(){for(var e=this.rgb().color,r=[],a=0;a<e.length;a++){var l=e[a]/255;r[a]=.03928>=l?l/12.92:Math.pow((l+.055)/1.055,2.4)}return .2126*r[0]+.7152*r[1]+.0722*r[2]},contrast:function(e){var r=this.luminosity();return e=e.luminosity(),r>e?(r+.05)/(e+.05):(e+.05)/(r+.05)},level:function(e){return e=this.contrast(e),7.1<=e?"AAA":4.5<=e?"AA":""},isDark:function(){var e=this.rgb().color;return 128>(299*e[0]+587*e[1]+114*e[2])/1e3},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),r=0;3>r;r++)e.color[r]=255-e.color[r];return e},lighten:function(e){var r=this.hsl();return r.color[2]+=r.color[2]*e,r},darken:function(e){var r=this.hsl();return r.color[2]-=r.color[2]*e,r},saturate:function(e){var r=this.hsl();return r.color[1]+=r.color[1]*e,r},desaturate:function(e){var r=this.hsl();return r.color[1]-=r.color[1]*e,r},whiten:function(e){var r=this.hwb();return r.color[1]+=r.color[1]*e,r},blacken:function(e){var r=this.hwb();return r.color[2]+=r.color[2]*e,r},grayscale:function(){var e=this.rgb().color;return e=.3*e[0]+.59*e[1]+.11*e[2],zr.rgb(e,e,e)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var r=this.hsl(),a=r.color[0];return a=(a+e)%360,r.color[0]=0>a?360+a:a,r},mix:function(e,r){if(!e||!e.rgb)throw Error('Argument to "mix" was not a Color instance, but rather an instance of '+(typeof e=="undefined"?"undefined":xd(e)));e=e.rgb();var a=this.rgb();r=r===void 0?.5:r;var l=2*r-1,v=e.alpha()-a.alpha();return l=((l*v==-1?l:(l+v)/(1+l*v))+1)/2,v=1-l,zr.rgb(l*e.red()+v*a.red(),l*e.green()+v*a.green(),l*e.blue()+v*a.blue(),e.alpha()*r+a.alpha()*(1-r))}},es(Hu).forEach(function(n){if(Bx.indexOf(n)===-1){var e=Hu[n].channels;zr.prototype[n]=function(){if(this.model===n)return new zr(this);if(arguments.length)return new zr(arguments,n);var r=typeof arguments[e]=="number"?e:this.valpha,a=Hu[this.model][n].raw(this.color);return a=Array.isArray(a)?a:[a],new zr(a.concat(r),n)},zr[n]=function(r){return typeof r=="number"&&(r=Ni(Dh.call(arguments),e)),new zr(r,n)}}});var o=function(){function n(e,r,a){ls(this,n),this.options=r,this.gl=e,a&&(this.map=a.map),a=this.getVertexShader(r.vertexShader);var l=this.getFragmentShader(r.fragmentShader);r=e.createShader(e.VERTEX_SHADER),e.shaderSource(r,a),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS)?(a=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(a,l),e.compileShader(a),e.getShaderParameter(a,e.COMPILE_STATUS)?(l=e.createProgram(),e.attachShader(l,r),e.attachShader(l,a),e.deleteShader(r),e.deleteShader(a),e.linkProgram(l),e.getProgramParameter(l,e.LINK_STATUS)?r=l:(r="Shader program failed to link.  The error log is:"+e.getProgramInfoLog(l),console.error(r),r=-1)):(r="Fragment shader failed to compile.  The error log is:"+e.getShaderInfoLog(a),console.error(r),r=-1)):(r="Vertex shader failed to compile.  The error log is:"+e.getShaderInfoLog(r),console.error(r),r=-1),r=this.program=r,a={},l=e.getProgramParameter(r,e.ACTIVE_ATTRIBUTES);for(var v=0;v<l;v++){var b=e.getActiveAttrib(r,v);a[b.name]=e.getAttribLocation(r,b.name)}v={},b={};for(var M=e.getProgramParameter(r,e.ACTIVE_UNIFORMS),R=0;R<M;R++){var k=e.getActiveUniform(r,R);v[k.name]=e.getUniformLocation(r,k.name),b[k.name]=k.type}this.parameter=e={attributes:a,numAttributes:l,uniformsType:b,uniforms:v},this.attributes=e.attributes,this.uniforms=e.uniforms,this.parameter=e}return Ts(n,[{key:"getVertexShader",value:function(r){var a="";return this.map&&this.map.type==="cesium"&&(a=`#define LOG_DEPTH
`),a+=`#ifdef LOG_DEPTH
uniform float currentFrustumX;varying float v_depthFromNearPlusOne;
#endif
uniform vec2 MAPV_resolution;
#if defined(PICK)
uniform bool uIsPickRender;attribute vec3 aPickColor;uniform vec3 uPickedColor;varying vec4 vPickColor;uniform bool uEnablePicked;bool mapvIsPicked(){return uEnablePicked&&aPickColor==uPickedColor;}
#endif
void afterMain(){
#if defined(LOG_DEPTH)
v_depthFromNearPlusOne=(gl_Position.w-currentFrustumX)+1.0;gl_Position.z=clamp(gl_Position.z/gl_Position.w,-1.0,1.0)*gl_Position.w;
#endif
#if defined(PICK)
vPickColor=vec4(aPickColor,0.0);if(mapvIsPicked()){vPickColor.a=1.0;}
#endif
}`,r=this.getDefines()+a+r,r=r.replace("void main","void originMain"),r+"void main() {originMain(); afterMain();}"}},{key:"getFragmentShader",value:function(r){var a="";return this.map&&this.map.type==="cesium"&&(a=`#define LOG_DEPTH
`),a+=`#if defined(LOG_DEPTH)
#extension GL_EXT_frag_depth : enable
#endif
precision highp float;uniform vec2 MAPV_resolution;uniform bool uIsPickRender;
#if defined(PICK)
varying vec4 vPickColor;bool mapvIsPicked(){return vPickColor.a==1.0;}
#endif
#if defined(LOG_DEPTH)
uniform float oneOverLog2FarDepthFromNearPlusOne;uniform float farDepthFromNearPlusOne;varying float v_depthFromNearPlusOne;void writeLogDepth(float depth){if(depth<=0.9999999||depth>farDepthFromNearPlusOne){discard;}gl_FragDepthEXT=log2(depth)*oneOverLog2FarDepthFromNearPlusOne;}
#endif
void afterMain(){
#if defined(PICK)
if(uIsPickRender){gl_FragColor=vec4(vPickColor.rgb,1.0);return;}
#endif
#if defined(LOG_DEPTH)
writeLogDepth(v_depthFromNearPlusOne);
#endif
}`,r=this.getDefines()+a+r,r=r.replace("void main","void originMain"),r+"void main() {originMain(); afterMain();}"}},{key:"getDefines",value:function(){var r="",a=this.options.defines;if(a)for(var l=0;l<a.length;l++)r+="#define "+a[l]+`
`;return r}},{key:"use",value:function(r,a){this.gl=r,r.useProgram(this.program),this.map&&this.map.type==="cesium"&&this.setUniforms({currentFrustumX:this.map.map.scene.camera.frustum.near,oneOverLog2FarDepthFromNearPlusOne:this.map.map.scene.context.uniformState.oneOverLog2FarDepthFromNearPlusOne,farDepthFromNearPlusOne:this.map.map.scene.context.uniformState.farDepthFromNearPlusOne}),this.uniforms.MAPV_resolution&&this.setUniforms({MAPV_resolution:[r.canvas.width,r.canvas.height]})}},{key:"setUniform",value:function(r,a){var l=this.gl,v=this.uniforms[r];if(v)switch(this.parameter.uniformsType[r]){case l.FLOAT:l.uniform1f(v,a);break;case l.FLOAT_VEC2:l.uniform2f(v,a[0],a[1]);break;case l.FLOAT_VEC3:l.uniform3f(v,a[0],a[1],a[2]);break;case l.FLOAT_VEC4:l.uniform4f(v,a[0],a[1],a[2],a[3]);break;case l.SAMPLER_2D:case l.SAMPLER_CUBE:l.activeTexture(l["TEXTURE"+this.textureIndex]),l.uniform1i(v,this.textureIndex),l.bindTexture(l.TEXTURE_2D,a),this.textureIndex++;break;case l.INT:case l.BOOL:l.uniform1i(v,a);break;case l.INT_VEC2:case l.BOOL_VEC2:l.uniform2i(v,a[0],a[1]);break;case l.INT_VEC3:case l.BOOL_VEC3:l.uniform3i(v,a[0],a[1],a[2]);break;case l.INT_VEC4:case l.BOOL_VEC4:l.uniform4i(v,a[0],a[1],a[2],a[3]);break;case l.FLOAT_MAT2:l.uniformMatrix2fv(v,!1,a);break;case l.FLOAT_MAT3:l.uniformMatrix3fv(v,!1,a);break;case l.FLOAT_MAT4:l.uniformMatrix4fv(v,!1,a);break;default:console.error("Unrecognized uniform type: "+r)}else console.warn("Unrecognized uniform type: "+r)}},{key:"setUniforms",value:function(r){this.textureIndex=0;for(var a in r)this.setUniform(a,r[a])}}]),n}();(function(){function n(e){ls(this,n),this.options=e,this.gl=e.gl,this.savedState=[],this.currentState=this.getCurrentState()}return Ts(n,[{key:"setDefaultState",value:function(){this.setState()}},{key:"getDefaultState",value:function(){return{blend:!1,depthTest:!1,cullFace:!1,depthMask:!0,stencilTest:!1}}},{key:"getCurrentState",value:function(){var r=this.gl;return{blend:r.getParameter(r.BLEND),stencilTest:r.getParameter(r.STENCIL_TEST),depthTest:r.getParameter(r.DEPTH_TEST),cullFace:r.getParameter(r.CULL_FACE),depthMask:r.getParameter(r.DEPTH_WRITEMASK)}}},{key:"save",value:function(){this.savedState.push(this.getCurrentState())}},{key:"restore",value:function(){var r=this.savedState.pop();this.setState(r)}},{key:"setState",value:function(r){var a=this.gl,l=this.getCurrentState();r=Le(this.getDefaultState(),r),r.blend!==l.blend&&(r.blend?a.enable(a.BLEND):a.disable(a.BLEND)),r.depthTest!==l.depthTest&&(r.depthTest?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)),r.cullFace!==l.cullFace&&(r.cullFace?a.enable(a.CULL_FACE):a.disable(a.CULL_FACE)),r.depthMask!==l.depthMask&&(r.depthMask?a.depthMask(!0):a.depthMask(!1)),this.currentState=r}}]),n})();var h=function(){function n(e){ls(this,n),this.options=e,this.gl=e.gl,this.buffer=this.gl.createBuffer(),e.data&&this.updateData(e.data)}return Ts(n,[{key:"updateData",value:function(r){var a=this.options,l=this.gl;this.bind(),l.bufferData(l[a.target],r,l[a.usage])}},{key:"bind",value:function(r){r=r||this.gl,r.bindBuffer(r[this.options.target],this.buffer)}},{key:"unBind",value:function(r){r=r||this.gl,r.bindBuffer(r[this.options.target],null)}},{key:"destroy",value:function(){this.buffer=null}}]),n}(),u={BYTE:1,UNSIGNED_BYTE:1,SHORT:2,UNSIGNED_SHORT:2,FLOAT:4},f=function(){function n(e){for(ls(this,n),this.options=e,this.attributes=e.attributes,this.gl=e.gl,this.program=e.program,e=this.stride=0;e<this.attributes.length;e++)this.stride+=u[this.attributes[e].type]*this.attributes[e].size}return Ts(n,[{key:"setVertexAttribPointers",value:function(){for(var r=this.gl,a=this.program,l=0;l<this.attributes.length;l++){var v=this.attributes[l],b=a.attributes[v.name];b!==void 0&&(v.buffer.bind(r),r.vertexAttribPointer(b,v.size,r[v.type],v.normalize||!1,v.stride!==void 0?v.stride:this.stride,v.offset),r.enableVertexAttribArray(b))}}},{key:"bind",value:function(){this.setVertexAttribPointers()}},{key:"destroy",value:function(){}}]),n}(),p=function n(e,r,a){ls(this,n),r=r||e.canvas.width,a=a||e.canvas.height;var l=e.createFramebuffer(),v=e.createTexture();e.bindTexture(e.TEXTURE_2D,v),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r,a,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),l.texture=v;var b=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,b),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,r,a),l.depthBuffer=b,e.bindFramebuffer(e.FRAMEBUFFER,l),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,v,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,b),r=e.checkFramebufferStatus(e.FRAMEBUFFER),e.FRAMEBUFFER_COMPLETE===r&&(e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),this.framebuffer=l)},S=function(){function n(e){ls(this,n),this.options={},Le(this.options,e),this.vertex=[-1,1,0,-1,-1,0,1,1,0,1,1,0,-1,-1,0,1,-1,0],this.sampleCoord=[0,1,0,0,1,1,1,1,0,0,1,0]}return Ts(n,[{key:"getOptions",value:function(){return this.options}},{key:"onResize",value:function(r){}},{key:"render",value:function(r){var a=r.gl;r=r.texture;var l=this.programSample;a.useProgram(l.program);var v=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,v);var b=[-1,-1,0,-1,1,0,1,1,0,1,1,0,-1,-1,0,1,-1,0];a.bufferData(a.ARRAY_BUFFER,new Float32Array(b),a.STATIC_DRAW),a.enableVertexAttribArray(l.attributes.aPos),a.vertexAttribPointer(l.attributes.aPos,3,a.FLOAT,!1,0,0),v=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,v),a.bufferData(a.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,1,1,1,0,0,1,0]),a.STATIC_DRAW),a.enableVertexAttribArray(l.attributes.aTextureCoord),a.vertexAttribPointer(l.attributes.aTextureCoord,2,a.FLOAT,!1,0,0),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,r),a.uniform1i(l.uniforms.uSampler,0),a.drawArrays(a.TRIANGLES,0,b.length/3)}}]),n}();(function(n){function e(r){return ls(this,e),Ul(this,(e.__proto__||wl(e)).call(this,r))}return Zs(e,n),Ts(e,[{key:"getProgram",value:function(a){return this.programSample||(this.programSample=new o(a,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(void){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision highp float;uniform sampler2D uSampler;uniform vec2 canvasSize;varying vec2 vTextureCoord;vec4 fxaa_2_0(sampler2D tex,vec2 fragCoord,vec2 resolution,vec2 v_rgbNW,vec2 v_rgbNE,vec2 v_rgbSW,vec2 v_rgbSE,vec2 v_rgbM){vec4 color;mediump vec2 inverseVP=vec2(1.0/resolution.x,1.0/resolution.y);vec3 rgbNW=texture2D(tex,v_rgbNW).xyz;vec3 rgbNE=texture2D(tex,v_rgbNE).xyz;vec3 rgbSW=texture2D(tex,v_rgbSW).xyz;vec3 rgbSE=texture2D(tex,v_rgbSE).xyz;vec4 texColor=texture2D(tex,v_rgbM);vec3 rgbM=texColor.xyz;vec3 luma=vec3(0.299,0.587,0.114);float lumaNW=dot(rgbNW,luma);float lumaNE=dot(rgbNE,luma);float lumaSW=dot(rgbSW,luma);float lumaSE=dot(rgbSE,luma);float lumaM=dot(rgbM,luma);float lumaMin=min(lumaM,min(min(lumaNW,lumaNE),min(lumaSW,lumaSE)));float lumaMax=max(lumaM,max(max(lumaNW,lumaNE),max(lumaSW,lumaSE)));mediump vec2 dir;dir.x=-((lumaNW+lumaNE)-(lumaSW+lumaSE));dir.y=((lumaNW+lumaSW)-(lumaNE+lumaSE));float dirReduce=max((lumaNW+lumaNE+lumaSW+lumaSE)*(0.25*1.0/8.0),1.0/128.0);float rcpDirMin=1.0/(min(abs(dir.x),abs(dir.y))+dirReduce);dir=min(vec2(8.0,8.0),max(vec2(-8.0,-8.0),dir*rcpDirMin))*inverseVP;vec3 rgbA=0.5*(texture2D(tex,fragCoord*inverseVP+dir*(1.0/3.0-0.5)).xyz+texture2D(tex,fragCoord*inverseVP+dir*(2.0/3.0-0.5)).xyz);vec3 rgbB=rgbA*0.5+0.25*(texture2D(tex,fragCoord*inverseVP+dir*-0.5).xyz+texture2D(tex,fragCoord*inverseVP+dir*0.5).xyz);float lumaB=dot(rgbB,luma);if((lumaB<lumaMin)||(lumaB>lumaMax)){color=vec4(rgbA,texColor.a);}else{color=vec4(rgbB,texColor.a);}return color;}void texcoords_3_1(vec2 fragCoord,vec2 resolution,out vec2 v_rgbNW,out vec2 v_rgbNE,out vec2 v_rgbSW,out vec2 v_rgbSE,out vec2 v_rgbM){vec2 inverseVP=1.0/resolution.xy;v_rgbNW=(fragCoord+vec2(-1.0,-1.0))*inverseVP;v_rgbNE=(fragCoord+vec2(1.0,-1.0))*inverseVP;v_rgbSW=(fragCoord+vec2(-1.0,1.0))*inverseVP;v_rgbSE=(fragCoord+vec2(1.0,1.0))*inverseVP;v_rgbM=vec2(fragCoord*inverseVP);}vec4 apply_1_2(sampler2D tex,vec2 fragCoord,vec2 resolution){mediump vec2 v_rgbNW;mediump vec2 v_rgbNE;mediump vec2 v_rgbSW;mediump vec2 v_rgbSE;mediump vec2 v_rgbM;texcoords_3_1(fragCoord,resolution,v_rgbNW,v_rgbNE,v_rgbSW,v_rgbSE,v_rgbM);return fxaa_2_0(tex,fragCoord,resolution,v_rgbNW,v_rgbNE,v_rgbSW,v_rgbSE,v_rgbM);}void main(void){vec2 fragCoord=vTextureCoord*canvasSize;gl_FragColor=apply_1_2(uSampler,fragCoord,canvasSize);}"})),this.programSample}},{key:"render",value:function(a){var l=a.gl;a=a.texture,this.getOptions(),l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT);var v=this.getProgram(l);l.useProgram(v.program);var b=l.createBuffer();l.bindBuffer(l.ARRAY_BUFFER,b),l.bufferData(l.ARRAY_BUFFER,new Float32Array(this.vertex),l.STATIC_DRAW),l.enableVertexAttribArray(v.attributes.aPos),l.vertexAttribPointer(v.attributes.aPos,3,l.FLOAT,!1,0,0),b=l.createBuffer(),l.bindBuffer(l.ARRAY_BUFFER,b),l.bufferData(l.ARRAY_BUFFER,new Float32Array(this.sampleCoord),l.STATIC_DRAW),l.enableVertexAttribArray(v.attributes.aTextureCoord),l.vertexAttribPointer(v.attributes.aTextureCoord,2,l.FLOAT,!1,0,0),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,a),l.uniform1i(v.uniforms.uSampler,1),l.uniform2fv(v.uniforms.canvasSize,[l.canvas.width,l.canvas.height]),l.drawArrays(l.TRIANGLES,0,this.vertex.length/3),l.bindBuffer(l.ARRAY_BUFFER,null),l.useProgram(null)}}]),e})(S),function(n){function e(r){return ls(this,e),Ul(this,(e.__proto__||wl(e)).call(this,r))}return Zs(e,n),Ts(e,[{key:"getProgram",value:function(a){if(this.program1||(this.program1=new o(a,{vertexShader:"attribute vec3 position;attribute vec2 uv;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];void SMAAEdgeDetectionVS(vec2 texcoord){vOffset[0]=texcoord.xyxy+resolution.xyxy*vec4(-1.0,0.0,0.0,1.0);vOffset[1]=texcoord.xyxy+resolution.xyxy*vec4(1.0,0.0,0.0,-1.0);vOffset[2]=texcoord.xyxy+resolution.xyxy*vec4(-2.0,0.0,0.0,2.0);}void main(){vUv=uv;SMAAEdgeDetectionVS(vUv);gl_Position=vec4(position,1.0);}",fragmentShader:`precision highp float;
#define SMAA_THRESHOLD 0.1
uniform sampler2D tDiffuse;varying vec2 vUv;varying vec4 vOffset[3];vec4 SMAAColorEdgeDetectionPS(vec2 texcoord,vec4 offset[3],sampler2D colorTex){vec2 threshold=vec2(SMAA_THRESHOLD,SMAA_THRESHOLD);vec4 delta;vec3 C=texture2D(colorTex,texcoord).rgb;vec3 Cleft=texture2D(colorTex,offset[0].xy).rgb;vec3 t=abs(C-Cleft);delta.x=max(max(t.r,t.g),t.b);vec3 Ctop=texture2D(colorTex,offset[0].zw).rgb;t=abs(C-Ctop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0,1.0))==0.0)discard;vec3 Cright=texture2D(colorTex,offset[1].xy).rgb;t=abs(C-Cright);delta.z=max(max(t.r,t.g),t.b);vec3 Cbottom=texture2D(colorTex,offset[1].zw).rgb;t=abs(C-Cbottom);delta.w=max(max(t.r,t.g),t.b);float maxDelta=max(max(max(delta.x,delta.y),delta.z),delta.w);vec3 Cleftleft=texture2D(colorTex,offset[2].xy).rgb;t=abs(C-Cleftleft);delta.z=max(max(t.r,t.g),t.b);vec3 Ctoptop=texture2D(colorTex,offset[2].zw).rgb;t=abs(C-Ctoptop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(max(maxDelta,delta.z),delta.w);edges.xy*=step(0.5*maxDelta,delta.xy);return vec4(edges,0.0,0.0);}void main(){gl_FragColor=SMAAColorEdgeDetectionPS(vUv,vOffset,tDiffuse);}`})),this.program2||(this.program2=new o(a,{vertexShader:`precision highp float;
#define SMAA_MAX_SEARCH_STEPS 8
#define SMAA_AREATEX_MAX_DISTANCE 16
#define SMAA_AREATEX_PIXEL_SIZE ( 1.0 / vec2( 160.0, 560.0 ) )
#define SMAA_AREATEX_SUBTEX_SIZE ( 1.0 / 7.0 )
attribute vec3 position;attribute vec2 uv;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixcoord;void SMAABlendingWeightCalculationVS(vec2 texcoord){vPixcoord=texcoord/resolution;vOffset[0]=texcoord.xyxy+resolution.xyxy*vec4(-0.25,0.125,1.25,0.125);vOffset[1]=texcoord.xyxy+resolution.xyxy*vec4(-0.125,0.25,-0.125,-1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*resolution.xxyy*float(SMAA_MAX_SEARCH_STEPS);}void main(){vUv=uv;SMAABlendingWeightCalculationVS(vUv);gl_Position=vec4(position,1.0);}`,fragmentShader:`precision highp float;
#define SMAA_MAX_SEARCH_STEPS 8
#define SMAA_AREATEX_MAX_DISTANCE 16
#define SMAA_AREATEX_PIXEL_SIZE ( 1.0 / vec2( 160.0, 560.0 ) )
#define SMAA_AREATEX_SUBTEX_SIZE ( 1.0 / 7.0 )
#define SMAASampleLevelZeroOffset( tex, coord, offset ) texture2D( tex, coord + float( offset ) * resolution, 0.0 )
uniform sampler2D tDiffuse;uniform sampler2D tArea;uniform sampler2D tSearch;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixcoord;vec2 round(vec2 x){return sign(x)*floor(abs(x)+0.5);}float SMAASearchLength(sampler2D searchTex,vec2 e,float bias,float scale){e.r=bias+e.r*scale;return 255.0*texture2D(searchTex,e,0.0).r;}float SMAASearchXLeft(sampler2D edgesTex,sampler2D searchTex,vec2 texcoord,float end){/***@PSEUDO_GATHER4*This texcoord has been offset by(-0.25,-0.125)in the vertex shader to*sample between edge,thus fetching four edges in a row.*Sampling with different offsets in each direction allows to disambiguate*which edges are active from the four fetched ones.*/vec2 e=vec2(0.0,1.0);for(int i=0;i<SMAA_MAX_SEARCH_STEPS;i++){e=texture2D(edgesTex,texcoord,0.0).rg;texcoord-=vec2(2.0,0.0)*resolution;if(!(texcoord.x>end&&e.g>0.8281&&e.r==0.0))break;}texcoord.x+=0.25*resolution.x;texcoord.x+=resolution.x;texcoord.x+=2.0*resolution.x;texcoord.x-=resolution.x*SMAASearchLength(searchTex,e,0.0,0.5);return texcoord.x;}float SMAASearchXRight(sampler2D edgesTex,sampler2D searchTex,vec2 texcoord,float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<SMAA_MAX_SEARCH_STEPS;i++){e=texture2D(edgesTex,texcoord,0.0).rg;texcoord+=vec2(2.0,0.0)*resolution;if(!(texcoord.x<end&&e.g>0.8281&&e.r==0.0))break;}texcoord.x-=0.25*resolution.x;texcoord.x-=resolution.x;texcoord.x-=2.0*resolution.x;texcoord.x+=resolution.x*SMAASearchLength(searchTex,e,0.5,0.5);return texcoord.x;}float SMAASearchYUp(sampler2D edgesTex,sampler2D searchTex,vec2 texcoord,float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<SMAA_MAX_SEARCH_STEPS;i++){e=texture2D(edgesTex,texcoord,0.0).rg;texcoord+=vec2(0.0,2.0)*resolution;if(!(texcoord.y>end&&e.r>0.8281&&e.g==0.0))break;}texcoord.y-=0.25*resolution.y;texcoord.y-=resolution.y;texcoord.y-=2.0*resolution.y;texcoord.y+=resolution.y*SMAASearchLength(searchTex,e.gr,0.0,0.5);return texcoord.y;}float SMAASearchYDown(sampler2D edgesTex,sampler2D searchTex,vec2 texcoord,float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<SMAA_MAX_SEARCH_STEPS;i++){e=texture2D(edgesTex,texcoord,0.0).rg;texcoord-=vec2(0.0,2.0)*resolution;if(!(texcoord.y<end&&e.r>0.8281&&e.g==0.0))break;}texcoord.y+=0.25*resolution.y;texcoord.y+=resolution.y;texcoord.y+=2.0*resolution.y;texcoord.y-=resolution.y*SMAASearchLength(searchTex,e.gr,0.5,0.5);return texcoord.y;}vec2 SMAAArea(sampler2D areaTex,vec2 dist,float e1,float e2,float offset){vec2 texcoord=float(SMAA_AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texcoord=SMAA_AREATEX_PIXEL_SIZE*texcoord+(0.5*SMAA_AREATEX_PIXEL_SIZE);texcoord.y+=SMAA_AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTex,texcoord,0.0).rg;}vec4 SMAABlendingWeightCalculationPS(vec2 texcoord,vec2 pixcoord,vec4 offset[3],sampler2D edgesTex,sampler2D areaTex,sampler2D searchTex,ivec4 subsampleIndices){vec4 weights=vec4(0.0,0.0,0.0,0.0);vec2 e=texture2D(edgesTex,texcoord).rg;if(e.g>0.0){vec2 d;vec2 coords;coords.x=SMAASearchXLeft(edgesTex,searchTex,offset[0].xy,offset[2].x);coords.y=offset[1].y;d.x=coords.x;float e1=texture2D(edgesTex,coords,0.0).r;coords.x=SMAASearchXRight(edgesTex,searchTex,offset[0].zw,offset[2].y);d.y=coords.x;d=d/resolution.x-pixcoord.x;vec2 sqrt_d=sqrt(abs(d));coords.y-=1.0*resolution.y;float e2=SMAASampleLevelZeroOffset(edgesTex,coords,ivec2(1,0)).r;weights.rg=SMAAArea(areaTex,sqrt_d,e1,e2,float(subsampleIndices.y));}if(e.r>0.0){vec2 d;vec2 coords;coords.y=SMAASearchYUp(edgesTex,searchTex,offset[1].xy,offset[2].z);coords.x=offset[0].x;d.x=coords.y;float e1=texture2D(edgesTex,coords,0.0).g;coords.y=SMAASearchYDown(edgesTex,searchTex,offset[1].zw,offset[2].w);d.y=coords.y;d=d/resolution.y-pixcoord.y;vec2 sqrt_d=sqrt(abs(d));coords.y-=1.0*resolution.y;float e2=SMAASampleLevelZeroOffset(edgesTex,coords,ivec2(0,1)).g;weights.ba=SMAAArea(areaTex,sqrt_d,e1,e2,float(subsampleIndices.x));}return weights;}void main(){gl_FragColor=SMAABlendingWeightCalculationPS(vUv,vPixcoord,vOffset,tDiffuse,tArea,tSearch,ivec4(0.0));}`})),this.program3||(this.program3=new o(a,{vertexShader:"precision highp float;uniform vec2 resolution;attribute vec3 position;attribute vec2 uv;varying vec2 vUv;varying vec4 vOffset[2];void SMAANeighborhoodBlendingVS(vec2 texcoord){vOffset[0]=texcoord.xyxy+resolution.xyxy*vec4(-1.0,0.0,0.0,1.0);vOffset[1]=texcoord.xyxy+resolution.xyxy*vec4(1.0,0.0,0.0,-1.0);}void main(){vUv=uv;SMAANeighborhoodBlendingVS(vUv);gl_Position=vec4(position,1.0);}",fragmentShader:"precision highp float;uniform sampler2D tDiffuse;uniform sampler2D tColor;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[2];vec4 SMAANeighborhoodBlendingPS(vec2 texcoord,vec4 offset[2],sampler2D colorTex,sampler2D blendTex){vec4 a;a.xz=texture2D(blendTex,texcoord).xz;a.y=texture2D(blendTex,offset[1].zw).g;a.w=texture2D(blendTex,offset[1].xy).a;if(dot(a,vec4(1.0,1.0,1.0,1.0))<1e-5){return texture2D(colorTex,texcoord,0.0);}else{vec2 offset;offset.x=a.a>a.b ? a.a :-a.b;offset.y=a.g>a.r ?-a.g : a.r;if(abs(offset.x)>abs(offset.y)){offset.y=0.0;}else{offset.x=0.0;}vec4 C=texture2D(colorTex,texcoord,0.0);texcoord+=sign(offset)*resolution;vec4 Cop=texture2D(colorTex,texcoord,0.0);float s=abs(offset.x)>abs(offset.y)? abs(offset.x): abs(offset.y);C.xyz=pow(C.xyz,vec3(2.2));Cop.xyz=pow(Cop.xyz,vec3(2.2));vec4 mixed=mix(C,Cop,s);mixed.xyz=pow(mixed.xyz,vec3(1.0/2.2));return mixed;}}void main(){gl_FragColor=SMAANeighborhoodBlendingPS(vUv,vOffset,tColor,tDiffuse);}"})),!this.vertexBuffer||!this.sampleBuffer){this.vertexBuffer=new h({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.sampleBuffer=new h({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.vertexBuffer.updateData(new Float32Array(this.vertex)),this.sampleBuffer.updateData(new Float32Array(this.sampleCoord));var l=[{stride:12,name:"position",buffer:this.vertexBuffer,size:3,type:"FLOAT",offset:0},{stride:8,name:"uv",buffer:this.sampleBuffer,size:2,type:"FLOAT",offset:0}];this.vertexArray1=new f({gl:a,program:this.program1,attributes:l}),this.vertexArray2=new f({gl:a,program:this.program2,attributes:l}),this.vertexArray3=new f({gl:a,program:this.program3,attributes:l})}return{program1:this.program1,program2:this.program2,program3:this.program3}}},{key:"onResize",value:function(a){this.collectBrightBuffer=new p(a),this.bloomBuffer=new p(a)}},{key:"getExtraFbo",value:function(a){return this.collectBrightBuffer||(this.collectBrightBuffer=new p(a)),this.bloomBuffer||(this.bloomBuffer=new p(a)),{collectBrightBuffer:this.collectBrightBuffer.framebuffer,bloomBuffer:this.bloomBuffer.framebuffer}}},{key:"render",value:function(a){var l=a.gl,v=a.texture;a=a.fbo,this.getOptions(),l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT);var b=this.getProgram(l),M=b.program1,R=b.program2;b=b.program3;var k=this.getExtraFbo(l),X=k.collectBrightBuffer;k=k.bloomBuffer;var Y=l.createBuffer();l.bindBuffer(l.ARRAY_BUFFER,Y),l.bufferData(l.ARRAY_BUFFER,new Float32Array(this.vertex),l.STATIC_DRAW),l.enableVertexAttribArray(M.attributes.position),l.vertexAttribPointer(M.attributes.position,3,l.FLOAT,!1,0,0),l.enableVertexAttribArray(R.attributes.position),l.vertexAttribPointer(R.attributes.position,3,l.FLOAT,!1,0,0),l.enableVertexAttribArray(b.attributes.position),l.vertexAttribPointer(b.attributes.position,3,l.FLOAT,!1,0,0),Y=l.createBuffer(),l.bindBuffer(l.ARRAY_BUFFER,Y),l.bufferData(l.ARRAY_BUFFER,new Float32Array(this.sampleCoord),l.STATIC_DRAW),l.enableVertexAttribArray(M.attributes.uv),l.vertexAttribPointer(M.attributes.uv,2,l.FLOAT,!1,0,0),l.enableVertexAttribArray(R.attributes.uv),l.vertexAttribPointer(R.attributes.uv,2,l.FLOAT,!1,0,0),l.enableVertexAttribArray(b.attributes.uv),l.vertexAttribPointer(b.attributes.uv,2,l.FLOAT,!1,0,0),l.useProgram(M.program),l.bindFramebuffer(l.FRAMEBUFFER,X),l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT),l.activeTexture(l.TEXTURE2),l.bindTexture(l.TEXTURE_2D,v),l.uniform1i(M.uniforms.tDiffuse,2),l.uniform2fv(M.uniforms.resolution,[l.canvas.width,l.canvas.height]),l.drawArrays(l.TRIANGLES,0,this.vertex.length/3),l.useProgram(R.program),l.bindFramebuffer(l.FRAMEBUFFER,k),l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT),l.activeTexture(l.TEXTURE2),l.bindTexture(l.TEXTURE_2D,X.texture),l.uniform1i(R.uniforms.uSampler,2),l.uniform2fv(R.uniforms.resolution,[l.canvas.width,l.canvas.height]),l.drawArrays(l.TRIANGLES,0,this.vertex.length/3),l.useProgram(b.program),l.bindFramebuffer(l.FRAMEBUFFER,a),l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT),l.activeTexture(l.TEXTURE2),l.bindTexture(l.TEXTURE_2D,v),l.uniform1i(b.uniforms.tDiffuse,2),l.activeTexture(l.TEXTURE3),l.bindTexture(l.TEXTURE_2D,k.texture),l.uniform1i(b.uniforms.tColor,3),l.uniform2fv(b.uniforms.resolution,[l.canvas.width,l.canvas.height]),l.drawArrays(l.TRIANGLES,0,this.vertex.length/3),l.bindBuffer(l.ARRAY_BUFFER,null),l.useProgram(null)}},{key:"getAreaTexture",value:function(){return"data:image/png;base64,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"}},{key:"getSearchTexture",value:function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAhCAIAAADiVupLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFZJREFUeNrs00EKgAAIRNEZ739mTQoiwmhRi4L/FiKiu9ERISkzbXdTVV3H4WhfOG6ehl1rNR7qDSF8hwkVcJXt+3A//I0Nv0GoCBUAAAAAAMA/LAIMAB+Dcg2OE2zsAAAAAElFTkSuQmCC"}}]),e}(S),function(n){function e(r){return ls(this,e),Ul(this,(e.__proto__||wl(e)).call(this,r))}return Zs(e,n),Ts(e,[{key:"getProgram",value:function(a){return this.programSample||(this.programSample=new o(a,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;varying vec2 vTextureCoord;void main(){float fStep=1.0/512.0;vec4 sample11=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t+1.0*fStep));vec4 sample12=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t+1.0*fStep));vec4 sample13=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t+1.0*fStep));vec4 sample21=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t));vec4 sample22=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t));vec4 sample23=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t));vec4 sample31=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t-1.0*fStep));vec4 sample32=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t-1.0*fStep));vec4 sample33=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t-1.0*fStep));vec4 blurSample=(sample11+sample12+sample13+sample21+2.0*sample22+sample23+sample31+sample32+sample33)/10.0;gl_FragColor=blurSample;}"}),this.vertexBuffer=new h({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.sampleBuffer=new h({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}),this.vertexBuffer.updateData(new Float32Array(this.vertex)),this.sampleBuffer.updateData(new Float32Array(this.sampleCoord)),this.vertexArray=new f({gl:a,program:this.programSample,attributes:[{stride:12,name:"aPos",buffer:this.vertexBuffer,size:3,type:"FLOAT",offset:0},{stride:8,name:"aTextureCoord",buffer:this.sampleBuffer,size:2,type:"FLOAT",offset:0}]})),this.programSample}},{key:"render",value:function(a){var l=a.gl;a=a.texture,l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT);var v=this.getProgram(l);v.use(l),this.vertexArray.bind(),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,a),l.uniform1i(v.uniforms.uSampler,1),l.drawArrays(l.TRIANGLES,0,this.vertex.length/3)}}]),e}(S),function(n){function e(r){return ls(this,e),Ul(this,(e.__proto__||wl(e)).call(this,r))}return Zs(e,n),Ts(e,[{key:"getProgram",value:function(a){return this.programBright||(this.programBright=new o(a,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform float threshold;varying vec2 vTextureCoord;void main(){vec4 color=texture2D(uSampler,vTextureCoord);vec4 lightColor=max(vec4(0.0),(color-(1.0-threshold)/5.0));float brightness=dot(color.rgb,vec3(0.2126,0.7152,0.0722));if(brightness>threshold){color=lightColor;}else{color=vec4(0.0);}gl_FragColor=color;}"})),this.programBloom||(this.programBloom=new o(a,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform bool isVertical;uniform vec2 canvasSize;uniform float blurSize;uniform float devicePixelRatio;varying vec2 vTextureCoord;void main(){float weight[10];weight[0]=0.2270270270;weight[1]=0.1945945946;weight[2]=0.1216216216;weight[3]=0.1135135135;weight[4]=0.0972972973;weight[5]=0.0608108108;weight[6]=0.0540540541;weight[7]=0.0270270270;weight[8]=0.0162162162;weight[9]=0.0081081081;vec2 offset=vec2(blurSize/canvasSize.x,blurSize/canvasSize.y)*devicePixelRatio;vec4 result=texture2D(uSampler,vTextureCoord)*weight[0];if(isVertical){for(int i=1;i<10;++i){result+=texture2D(uSampler,vTextureCoord+vec2(0.0,offset.y*float(i)))*weight[i];result+=texture2D(uSampler,vTextureCoord-vec2(0.0,offset.y*float(i)))*weight[i];}}else{for(int i=1;i<10;++i){result+=texture2D(uSampler,vTextureCoord+vec2(offset.x*float(i),0.0))*weight[i];result+=texture2D(uSampler,vTextureCoord-vec2(offset.x*float(i),0.0))*weight[i];}}gl_FragColor=result;}"})),this.programResult||(this.programResult=new o(a,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D originalTexture;uniform sampler2D bloomTexture;varying vec2 vTextureCoord;void main(){vec4 color=texture2D(originalTexture,vTextureCoord);vec4 bloomColor=texture2D(bloomTexture,vTextureCoord);color+=bloomColor;gl_FragColor=color;}"})),{programBright:this.programBright,programBloom:this.programBloom,programResult:this.programResult}}},{key:"onResize",value:function(a){this.collectBrightBuffer=new p(a),this.bloomBuffer=new p(a)}},{key:"getExtraFbo",value:function(a){return this.collectBrightBuffer||(this.collectBrightBuffer=new p(a)),this.bloomBuffer||(this.bloomBuffer=new p(a)),{collectBrightBuffer:this.collectBrightBuffer.framebuffer,bloomBuffer:this.bloomBuffer.framebuffer}}},{key:"render",value:function(a){var l=a.gl,v=a.texture;a=a.fbo;var b=this.getOptions();l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT);var M=this.getProgram(l),R=M.programBright,k=M.programBloom;M=M.programResult;var X=this.getExtraFbo(l),Y=X.collectBrightBuffer;X=X.bloomBuffer;var ie=l.createBuffer();l.bindBuffer(l.ARRAY_BUFFER,ie),l.bufferData(l.ARRAY_BUFFER,new Float32Array(this.vertex),l.STATIC_DRAW),l.enableVertexAttribArray(R.attributes.aPos),l.vertexAttribPointer(R.attributes.aPos,3,l.FLOAT,!1,0,0),l.enableVertexAttribArray(k.attributes.aPos),l.vertexAttribPointer(k.attributes.aPos,3,l.FLOAT,!1,0,0),l.enableVertexAttribArray(M.attributes.aPos),l.vertexAttribPointer(M.attributes.aPos,3,l.FLOAT,!1,0,0),ie=l.createBuffer(),l.bindBuffer(l.ARRAY_BUFFER,ie),l.bufferData(l.ARRAY_BUFFER,new Float32Array(this.sampleCoord),l.STATIC_DRAW),l.enableVertexAttribArray(R.attributes.aTextureCoord),l.vertexAttribPointer(R.attributes.aTextureCoord,2,l.FLOAT,!1,0,0),l.enableVertexAttribArray(k.attributes.aTextureCoord),l.vertexAttribPointer(k.attributes.aTextureCoord,2,l.FLOAT,!1,0,0),l.enableVertexAttribArray(M.attributes.aTextureCoord),l.vertexAttribPointer(M.attributes.aTextureCoord,2,l.FLOAT,!1,0,0),l.useProgram(R.program),l.bindFramebuffer(l.FRAMEBUFFER,Y),l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,v),l.uniform1i(R.uniforms.uSampler,1),l.uniform1f(R.uniforms.threshold,b.threshold||0),l.drawArrays(l.TRIANGLES,0,this.vertex.length/3),l.useProgram(k.program),l.bindFramebuffer(l.FRAMEBUFFER,X),l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,Y.texture),l.uniform1i(k.uniforms.uSampler,1),l.uniform1i(k.uniforms.isVertical,!0),l.uniform1f(k.uniforms.blurSize,b.blurSize||2),l.uniform1f(k.uniforms.devicePixelRatio,window.devicePixelRatio),l.uniform2fv(k.uniforms.canvasSize,[l.canvas.width,l.canvas.height]),l.drawArrays(l.TRIANGLES,0,this.vertex.length/3),l.useProgram(k.program),l.bindFramebuffer(l.FRAMEBUFFER,Y),l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,X.texture),l.uniform1i(k.uniforms.uSampler,1),l.uniform1i(k.uniforms.isVertical,!1),l.uniform1f(k.uniforms.blurSize,b.blurSize||2),l.uniform1f(k.uniforms.devicePixelRatio,window.devicePixelRatio),l.uniform2fv(k.uniforms.canvasSize,[l.canvas.width,l.canvas.height]),l.drawArrays(l.TRIANGLES,0,this.vertex.length/3),l.useProgram(M.program),l.bindFramebuffer(l.FRAMEBUFFER,a),l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,v),l.uniform1i(M.uniforms.originalTexture,1),l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,Y.texture),l.uniform1i(M.uniforms.bloomTexture,0),l.drawArrays(l.TRIANGLES,0,this.vertex.length/3),l.bindBuffer(l.ARRAY_BUFFER,null),l.useProgram(null)}}]),e}(S),function(n){function e(r){return ls(this,e),Ul(this,(e.__proto__||wl(e)).call(this,r))}return Zs(e,n),Ts(e,[{key:"getProgram",value:function(a){return this.programBright||(this.programBright=new o(a,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform float threshold;varying vec2 vTextureCoord;void main(){vec4 color=texture2D(uSampler,vTextureCoord);vec4 lightColor=max(vec4(0.0),(color-threshold));gl_FragColor=lightColor;}"})),this.programBloom||(this.programBloom=new o(a,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform bool isVertical;uniform vec2 canvasSize;uniform float blurSize;uniform float devicePixelRatio;varying vec2 vTextureCoord;void main(){float weight[10];weight[0]=0.2270270270;weight[1]=0.1945945946;weight[2]=0.1216216216;weight[3]=0.1135135135;weight[4]=0.0972972973;weight[5]=0.0608108108;weight[6]=0.0540540541;weight[7]=0.0270270270;weight[8]=0.0162162162;weight[9]=0.0081081081;vec2 offset=vec2(blurSize/canvasSize.x,blurSize/canvasSize.y)*devicePixelRatio;vec4 result=texture2D(uSampler,vTextureCoord)*weight[0];if(isVertical){for(int i=1;i<10;++i){result+=texture2D(uSampler,vTextureCoord+vec2(0.0,offset.y*float(i)))*weight[i];result+=texture2D(uSampler,vTextureCoord-vec2(0.0,offset.y*float(i)))*weight[i];}}else{for(int i=1;i<10;++i){result+=texture2D(uSampler,vTextureCoord+vec2(offset.x*float(i),0.0))*weight[i];result+=texture2D(uSampler,vTextureCoord-vec2(offset.x*float(i),0.0))*weight[i];}}gl_FragColor=result;}"})),this.programResult||(this.programResult=new o(a,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D originalTexture;uniform sampler2D bloomTexture;uniform float toneScale;varying vec2 vTextureCoord;void main(){vec4 color=texture2D(originalTexture,vTextureCoord)*toneScale;vec4 bloomColor=texture2D(bloomTexture,vTextureCoord);color+=bloomColor;gl_FragColor=color;}"})),{programBright:this.programBright,programBloom:this.programBloom,programResult:this.programResult}}},{key:"onResize",value:function(a){this.collectBrightBuffer=new p(a),this.bloomBuffer=new p(a)}},{key:"getExtraFbo",value:function(a){return this.collectBrightBuffer||(this.collectBrightBuffer=new p(a)),this.bloomBuffer||(this.bloomBuffer=new p(a)),{collectBrightBuffer:this.collectBrightBuffer.framebuffer,bloomBuffer:this.bloomBuffer.framebuffer}}},{key:"render",value:function(a){var l=a.gl,v=a.texture;a=a.fbo;var b=this.getOptions(),M="clarity"in b?b.clarity:1;M=Math.max(0,M),M=Math.min(1,M),l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT);var R=this.getProgram(l),k=R.programBright,X=R.programBloom;R=R.programResult;var Y=this.getExtraFbo(l),ie=Y.collectBrightBuffer;Y=Y.bloomBuffer;var le=l.createBuffer();l.bindBuffer(l.ARRAY_BUFFER,le),l.bufferData(l.ARRAY_BUFFER,new Float32Array(this.vertex),l.STATIC_DRAW),l.enableVertexAttribArray(k.attributes.aPos),l.vertexAttribPointer(k.attributes.aPos,3,l.FLOAT,!1,0,0),l.enableVertexAttribArray(X.attributes.aPos),l.vertexAttribPointer(X.attributes.aPos,3,l.FLOAT,!1,0,0),l.enableVertexAttribArray(R.attributes.aPos),l.vertexAttribPointer(R.attributes.aPos,3,l.FLOAT,!1,0,0),le=l.createBuffer(),l.bindBuffer(l.ARRAY_BUFFER,le),l.bufferData(l.ARRAY_BUFFER,new Float32Array(this.sampleCoord),l.STATIC_DRAW),l.enableVertexAttribArray(k.attributes.aTextureCoord),l.vertexAttribPointer(k.attributes.aTextureCoord,2,l.FLOAT,!1,0,0),l.enableVertexAttribArray(X.attributes.aTextureCoord),l.vertexAttribPointer(X.attributes.aTextureCoord,2,l.FLOAT,!1,0,0),l.enableVertexAttribArray(R.attributes.aTextureCoord),l.vertexAttribPointer(R.attributes.aTextureCoord,2,l.FLOAT,!1,0,0),l.useProgram(k.program),l.bindFramebuffer(l.FRAMEBUFFER,ie),l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,v),l.uniform1i(k.uniforms.uSampler,1),l.uniform1f(k.uniforms.threshold,b.threshold||0),l.drawArrays(l.TRIANGLES,0,this.vertex.length/3),l.useProgram(X.program),l.bindFramebuffer(l.FRAMEBUFFER,Y),l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,ie.texture),l.uniform1i(X.uniforms.uSampler,1),l.uniform1i(X.uniforms.isVertical,!0),l.uniform1f(X.uniforms.blurSize,b.blurSize||2),l.uniform1f(X.uniforms.devicePixelRatio,window.devicePixelRatio),l.uniform2fv(X.uniforms.canvasSize,[l.canvas.width,l.canvas.height]),l.drawArrays(l.TRIANGLES,0,this.vertex.length/3),l.useProgram(X.program),l.bindFramebuffer(l.FRAMEBUFFER,ie),l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,Y.texture),l.uniform1i(X.uniforms.uSampler,1),l.uniform1i(X.uniforms.isVertical,!1),l.uniform1f(X.uniforms.blurSize,b.blurSize||2),l.uniform1f(X.uniforms.devicePixelRatio,window.devicePixelRatio),l.uniform2fv(X.uniforms.canvasSize,[l.canvas.width,l.canvas.height]),l.drawArrays(l.TRIANGLES,0,this.vertex.length/3),l.useProgram(R.program),l.bindFramebuffer(l.FRAMEBUFFER,a),l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,v),l.uniform1i(R.uniforms.originalTexture,1),l.uniform1f(R.uniforms.toneScale,M),l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,ie.texture),l.uniform1i(R.uniforms.bloomTexture,0),l.drawArrays(l.TRIANGLES,0,this.vertex.length/3),l.bindBuffer(l.ARRAY_BUFFER,null),l.useProgram(null)}}]),e}(S),function(n){function e(r){return ls(this,e),Ul(this,(e.__proto__||wl(e)).call(this,r))}return Zs(e,n),Ts(e,[{key:"getProgram",value:function(a){return this.programSample||(this.programSample=new o(a,{vertexShader:"attribute vec3 aPos;attribute vec2 aTextureCoord;varying vec2 vTextureCoord;void main(){vTextureCoord=aTextureCoord;gl_Position=vec4(aPos,1.0);}",fragmentShader:"precision mediump float;uniform sampler2D uSampler;uniform vec2 canvasSize;varying vec2 vTextureCoord;void main(){float fStep=1.0/312.0;vec4 sample11=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t+1.0*fStep));vec4 sample12=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t+1.0*fStep));vec4 sample13=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t+1.0*fStep));vec4 sample21=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t));vec4 sample22=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t));vec4 sample23=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t));vec4 sample31=texture2D(uSampler,vec2(vTextureCoord.s-1.0*fStep,vTextureCoord.t-1.0*fStep));vec4 sample32=texture2D(uSampler,vec2(vTextureCoord.s,vTextureCoord.t-1.0*fStep));vec4 sample33=texture2D(uSampler,vec2(vTextureCoord.s+1.0*fStep,vTextureCoord.t-1.0*fStep));vec4 blurSample=(sample11+sample12+sample13+sample21+2.0*sample22+sample23+sample31+sample32+sample33)/10.0;float desX=abs((gl_FragCoord.x-canvasSize.x/2.0)/(canvasSize.x/2.0));float desY=abs((gl_FragCoord.y-canvasSize.y/2.0)/(canvasSize.y/2.0));float factor=max(desX,desY);gl_FragColor=(sample22*(1.0-factor)+blurSample*factor);}"})),this.programSample}},{key:"render",value:function(a){var l=a.gl;a=a.texture;var v=this.getProgram(l);l.useProgram(v.program);var b=l.createBuffer();l.bindBuffer(l.ARRAY_BUFFER,b),l.bufferData(l.ARRAY_BUFFER,new Float32Array(this.vertex),l.STATIC_DRAW),l.enableVertexAttribArray(v.attributes.aPos),l.vertexAttribPointer(v.attributes.aPos,3,l.FLOAT,!1,0,0),b=l.createBuffer(),l.bindBuffer(l.ARRAY_BUFFER,b),l.bufferData(l.ARRAY_BUFFER,new Float32Array(this.sampleCoord),l.STATIC_DRAW),l.enableVertexAttribArray(v.attributes.aTextureCoord),l.vertexAttribPointer(v.attributes.aTextureCoord,2,l.FLOAT,!1,0,0),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,a),l.uniform1i(v.uniforms.uSampler,1),l.uniform2fv(v.uniforms.canvasSize,[l.canvas.width,l.canvas.height]),l.drawArrays(l.TRIANGLES,0,this.vertex.length/3)}}]),e}(S),function(){function n(e){ls(this,n),this.gl=e,this.effects=[],this.initFbo()}return Ts(n,[{key:"addEffect",value:function(r){this.effects.push(r)}},{key:"removeEffect",value:function(r){}},{key:"setEffects",value:function(r){this.effects=r}},{key:"onResize",value:function(){this.initFbo();var r=this.gl,a=this.effects;if(a&&1<a.length)for(var l=1;l<a.length;l++){var v=a[l];v.onResize&&v.onResize(r)}}},{key:"initFbo",value:function(){var r=this.gl;this.fbo=[new p(r),new p(r)]}},{key:"destroy",value:function(){this.effects=[],this.fbo=[],this.gl=null}},{key:"render",value:function(){var r=this.gl,a=this.effects;if(a&&0<a.length)for(var l={},v=0;v<a.length;v++){var b=this.fbo[v%2].framebuffer;v===a.length-1&&(b=null),r.bindFramebuffer(r.FRAMEBUFFER,b);var M=[0,0,0,0];r.clearColor(M[0],M[1],M[2],M[3]),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),a[v].render({isPickRender:!1,gl:r,texture:l.texture,fbo:b}),l=b}}}]),n}();var x=function(n){function e(r){return ls(this,e),r=Ul(this,(e.__proto__||wl(e)).call(this,r)),r.layerType="ThreeLayer",r}return Zs(e,n),Ts(e,[{key:"initialize",value:function(a){this.getOptions();var l=this.webglLayer.map.map;this.webglLayer.map.type==="three"?(this.camera=l.camera,this.scene=l.scene):(this.camera=new Ko.PerspectiveCamera,this.scene=new Ko.Scene),this.world=new Ko.Group,this.scene.add(this.world),this.webglLayer.map.type!=="three"&&(this.camera.matrixAutoUpdate=!1,this.world.matrixAutoUpdate=!1,this.renderer=new Ko.WebGLRenderer({alpha:!0,antialias:!0,canvas:a.canvas,context:a}),this.renderer.autoClear=!1)}},{key:"_add",value:function(a,l){var v=this.getOptions();this.scene.add(a);var b=[0,0];v.enabledPointOffset===!0&&(b=this.getPointOffset()),l?(v=new Ko.Group,v.isGeoGroup=!0,v.object=a,v.point=l,v.add(a),v.position.x=l.lng-b[0],v.position.y=l.lat-b[1],v.position.z=a.position.z,this.world.add(v)):this.world.add(a)}},{key:"add",value:function(a,l){this._add(a,l),this.update()}},{key:"update",value:function(){this.webglLayer.render()}},{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getRenderer",value:function(){return this.renderer}},{key:"getWorld",value:function(){return this.world}},{key:"updatePoint",value:function(a,l){for(var v=this.world.children,b=0;b<v.length;b++)if(v[b].isGeoGroup&&v[b].object===a){var M=v[b];M.position.x=l.lng,M.position.y=l.lat,M.position.z=a.position.z}}},{key:"remove",value:function(a){this.world.remove(a);for(var l=this.world.children,v=0;v<l.length;v++)l[v].children&&0<l[v].children.length&&l[v].children[0]===a&&this.world.remove(l[v]);this.update()}},{key:"updateCamera",value:function(){var a=this.world,l=this.map.getZoomUnits();a=a.children;for(var v=0;v<a.length;v++)a[v].point&&a[v].scale.set(l,l,l)}},{key:"render",value:function(a){var l=this.getOptions();if(a){if(!this.webglLayer.map.map.camera){this.updateCamera();var v=this.getPointOffset(),b=new Ko.Matrix4().fromArray(a.viewMatrix);this.camera.projectionMatrix=new Ko.Matrix4().fromArray(a.projectionMatrix),this.camera.projectionMatrixInverse.getInverse(this.camera.projectionMatrix),l.enabledPointOffset===!0?this.world.matrix=b:(a=new Ko.Matrix4().makeTranslation(-v[0],-v[1],0),this.world.matrix=b.multiply(a)),this.renderer.state.reset(),this.postProcessing?this.postProcessing.render():this.renderer.render(this.scene,this.camera)}}else this.update()}}]),e}(function(n){function e(r){return ls(this,e),r=Ul(this,(e.__proto__||wl(e)).call(this,r)),r.pickedColor=[-1,-1,-1],r}return Zs(e,n),Ts(e,[{key:"getCommonDefaultOptions",value:function(){return{zIndex:0,repeat:!1,enablePicked:!1,autoSelect:!1,selectedIndex:-1,selectedColor:"rgba(20, 20, 200, 1.0)"}}},{key:"commonInitialize",value:function(a){var l=this.getOptions();this.gl=a,l.enablePicked&&(this.pickBuffer=new h({gl:a,target:"ARRAY_BUFFER",usage:"STATIC_DRAW"}))}},{key:"getCommonAttributes",value:function(){var a=[];return this.getOptions().enablePicked&&a.push({name:"aPickColor",buffer:this.pickBuffer,size:3,type:"FLOAT",stride:12,offset:0}),a}},{key:"getProperty",value:function(a,l,v){return Object.prototype.toString.call(l)==="[object Function]"?l(v):(l=v[a]||l,"properties"in v&&a in v.properties&&(l=v.properties[a]),l)}},{key:"normizedColor",value:function(a){var l=a;return a instanceof Array||(l=zr(a).unitArray()),l[3]===void 0&&(l[3]=1),l}},{key:"normizedPoint",value:function(a){var l=this.getPointOffset();if(!a||!a[0]||!a[1])return[l[0],l[1],0];var v=Number(a[0]),b=Number(a[1]);-180<=v&&180>=v&&-90<=b&&90>=b&&(b=this.webglLayer.map.lnglatToMercator(v,b),v=b[0],b=b[1]);var M=Number(a[2])||0;return this.webglLayer&&this.webglLayer.options.mapType==="cesium"&&window.Cesium?(v=this.convertLngLat([v,b]),M=window.Cesium.Cartesian3.fromDegrees(v[0],v[1],M),v=M.x,b=M.y,M=M.z):this.webglLayer&&this.webglLayer.options.mapType==="bmapgl"&&this.webglLayer.map.map.mapType==="B_EARTH_MAP"&&(v=this.convertLngLat([v,b]),M=this.webglLayer.map.map.getEarth().scene.fromLatLngToXYZ({lng:v[0],lat:v[1]}),v=M.x,b=M.y,M=M.z),3<a.length?[v-l[0],b-l[1],M].concat(tv(a.slice(3))):[v-l[0],b-l[1],M]}},{key:"convertLngLat",value:function(a){return[a[0]/2003750834e-2*180,180/Math.PI*(2*Math.atan(Math.exp(a[1]/2003750834e-2*180*Math.PI/180))-Math.PI/2)]}},{key:"getPointOffset",value:function(){var a=[0,0],l=this.getOptions();return this.webglLayer&&this.webglLayer.options.pointOffset?a=this.webglLayer.options.pointOffset:l.pointOffset&&(a=l.pointOffset),a}},{key:"indexToRgb",value:function(a){a++;var l=Math.floor(a/65536);a-=65536*l;var v=Math.floor(a/256);return[a-256*v,v,l]}},{key:"rgbToIndex",value:function(a){return a[0]+256*a[1]+65536*a[2]-1}},{key:"getCommonUniforms",value:function(a){a=a.isPickRender;var l=this.getOptions(),v={};if(l.enablePicked){var b=0<=l.selectedIndex?l.selectedIndex:-1;b=l.autoSelect?this.pickedColor:this.indexToRgb(b),v=Le(v,{uSelectedColor:this.normizedColor(l.selectedColor),uEnablePicked:l.enablePicked,uPickedColor:b.map(function(M){return M/255}),uIsPickRender:!!a})}return v}},{key:"pick",value:function(a,l){var v=this.gl;this.webglLayer.saveFramebuffer(),this.webglLayer.bindFramebuffer(this.webglLayer.pickFBO),this.webglLayer.clear(),this.render({gl:v,isPickRender:!0,matrix:this.webglLayer.matrix,projectionMatrix:this.webglLayer.projectionMatrix,viewMatrix:this.webglLayer.viewMatrix,orthoMatrix:this.webglLayer.orthoMatrix});var b=new Uint8Array(4);return v.readPixels(a*window.devicePixelRatio,v.canvas.height-l*window.devicePixelRatio,1,1,v.RGBA,v.UNSIGNED_BYTE,b),a=this.rgbToIndex(b),l=this.getData(),this.pickedColor=[b[0],b[1],b[2]],this.webglLayer.restoreFramebuffer(),{dataIndex:a,dataItem:l[a]}}},{key:"setGLState",value:function(a){this.webglLayer.stateManager.setState(a)}},{key:"addMultipleCoords",value:function(a,l,v){if(!this.options.repeat||!this.webglLayer||this.webglLayer.options.mapType!=="bmapgl"||this.webglLayer.map.map.mapType==="B_EARTH_MAP")return[a];var b=this.webglLayer.map.map;l=l||b.getZoom();var M=v?b.worldSize(l):4007545274461451e-8;if(l=function(we){return[[we[0]-M,we[1],we[2]||0],[we[0]+M,we[1],we[2]||0]]},a instanceof Array&&!(a[0]instanceof Array))return l=l(a),l=j0(l,2),[a,l[0],l[1]];if(a instanceof Array&&a[0]instanceof Array&&!(a[0][0]instanceof Array)){v=[],b=[];for(var R=0;R<a.length;R++){var k=l(a[R]);k=j0(k,2);var X=k[1];v.push(k[0]),b.push(X)}return[a,v,b]}for(v=[],b=[],R=0;R<a.length;R++){k=[],X=[];for(var Y=0;Y<a[R].length;Y++){var ie=l(a[R][Y]);ie=j0(ie,2);var le=ie[1];k.push(ie[0]),X.push(le)}v.push(k),b.push(X)}return[a,v,b]}}]),e}(gA)),T=function(n){function e(r){ls(this,e);var a=Ul(this,(e.__proto__||wl(e)).call(this,r));return a.layerType="threeLayer",a.setOptions(r),a}return Zs(e,n),Ts(e,[{key:"setWebglLayer",value:function(a){a.threeLayer||(a.threeLayer=new x({enabledPointOffset:!0,webglLayer:a})),this.threeLayer=a.threeLayer}},{key:"getPointOffset",value:function(){return this.threeLayer.getPointOffset()}},{key:"getThreeLayer",value:function(){return this.threeLayer}}]),e}(gA),z=Fe(function(n,e){e.__esModule=!0;var r=sc&&sc.__esModule?sc:{default:sc};e.default=function(a,l,v){return l in a?(0,r.default)(a,l,{value:v,enumerable:!0,configurable:!0,writable:!0}):a[l]=v,a}}),G=We(z);ts===void 0&&(Number.EPSILON=Math.pow(2,-52)),Zc===void 0&&(Number.isInteger=function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}),Ad===void 0&&(Math.sign=function(n){return 0>n?-1:0<n?1:+n}),!("name"in Function.prototype)&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),Le===void 0&&(Object.assign=function(n){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(n),r=1;r<arguments.length;r++){var a=arguments[r];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e}),Le(br.prototype,{addEventListener:function(e,r){this._listeners===void 0&&(this._listeners={});var a=this._listeners;a[e]===void 0&&(a[e]=[]),a[e].indexOf(r)===-1&&a[e].push(r)},hasEventListener:function(e,r){if(this._listeners===void 0)return!1;var a=this._listeners;return a[e]!==void 0&&a[e].indexOf(r)!==-1},removeEventListener:function(e,r){this._listeners!==void 0&&(e=this._listeners[e],e!==void 0&&(r=e.indexOf(r),r!==-1&&e.splice(r,1)))},dispatchEvent:function(e){if(this._listeners!==void 0){var r=this._listeners[e.type];if(r!==void 0){e.target=this,r=r.slice(0);for(var a=0,l=r.length;a<l;a++)r[a].call(this,e)}}}});for(var P=[],D=0;256>D;D++)P[D]=(16>D?"0":"")+D.toString(16);var U={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,r=4294967295*Math.random()|0,a=4294967295*Math.random()|0,l=4294967295*Math.random()|0;return(P[e&255]+P[e>>8&255]+P[e>>16&255]+P[e>>24&255]+"-"+P[r&255]+P[r>>8&255]+"-"+P[r>>16&15|64]+P[r>>24&255]+"-"+P[a&63|128]+P[a>>8&255]+"-"+P[a>>16&255]+P[a>>24&255]+P[l&255]+P[l>>8&255]+P[l>>16&255]+P[l>>24&255]).toUpperCase()},clamp:function(e,r,a){return Math.max(r,Math.min(a,e))},euclideanModulo:function(e,r){return(e%r+r)%r},mapLinear:function(e,r,a,l,v){return l+(e-r)*(v-l)/(a-r)},lerp:function(e,r,a){return(1-a)*e+a*r},smoothstep:function(e,r,a){return e<=r?0:e>=a?1:(e=(e-r)/(a-r),e*e*(3-2*e))},smootherstep:function(e,r,a){return e<=r?0:e>=a?1:(e=(e-r)/(a-r),e*e*e*(e*(6*e-15)+10))},randInt:function(e,r){return e+Math.floor(Math.random()*(r-e+1))},randFloat:function(e,r){return e+Math.random()*(r-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*U.DEG2RAD},radToDeg:function(e){return e*U.RAD2DEG},isPowerOfTwo:function(e){return(e&e-1)==0&&e!==0},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,r,a,l,v){var b=Math.cos,M=Math.sin,R=b(a/2);a=M(a/2);var k=b((r+l)/2),X=M((r+l)/2),Y=b((r-l)/2),ie=M((r-l)/2);switch(b=b((l-r)/2),r=M((l-r)/2),v){case"XYX":e.set(R*X,a*Y,a*ie,R*k);break;case"YZY":e.set(a*ie,R*X,a*Y,R*k);break;case"ZXZ":e.set(a*Y,a*ie,R*X,R*k);break;case"XZX":e.set(R*X,a*r,a*b,R*k);break;case"YXY":e.set(a*b,R*X,a*r,R*k);break;case"ZYZ":e.set(a*r,a*b,R*X,R*k);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+v)}}};Zi(Tt.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Le(Tt.prototype,{isVector2:!0,set:function(e,r){return this.x=e,this.y=r,this},setScalar:function(e){return this.y=this.x=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;default:throw Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,r){return r!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,r)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this},addScaledVector:function(e,r){return this.x+=e.x*r,this.y+=e.y*r,this},sub:function(e,r){return r!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,r)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var r=this.x,a=this.y;return e=e.elements,this.x=e[0]*r+e[3]*a+e[6],this.y=e[1]*r+e[4]*a+e[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this},clampScalar:function(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this},clampLength:function(e,r){var a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(e,Math.min(r,a)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){return Math.atan2(-this.y,-this.x)+Math.PI},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var r=this.x-e.x;return e=this.y-e.y,r*r+e*e},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this},lerpVectors:function(e,r,a){return this.x=e.x+(r.x-e.x)*a,this.y=e.y+(r.y-e.y)*a,this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,r){return r===void 0&&(r=0),this.x=e[r],this.y=e[r+1],this},toArray:function(e,r){return e===void 0&&(e=[]),r===void 0&&(r=0),e[r]=this.x,e[r+1]=this.y,e},fromBufferAttribute:function(e,r,a){return a!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(r),this.y=e.getY(r),this},rotateAround:function(e,r){var a=Math.cos(r);r=Math.sin(r);var l=this.x-e.x,v=this.y-e.y;return this.x=l*a-v*r+e.x,this.y=l*r+v*a+e.y,this},random:function(){return this.x=Math.random(),this.y=Math.random(),this}}),Le(Vr.prototype,{isMatrix3:!0,set:function(e,r,a,l,v,b,M,R,k){var X=this.elements;return X[0]=e,X[1]=l,X[2]=M,X[3]=r,X[4]=v,X[5]=R,X[6]=a,X[7]=b,X[8]=k,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return new this.constructor().fromArray(this.elements)},copy:function(e){var r=this.elements;return e=e.elements,r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],this},extractBasis:function(e,r,a){return e.setFromMatrix3Column(this,0),r.setFromMatrix3Column(this,1),a.setFromMatrix3Column(this,2),this},setFromMatrix4:function(e){return e=e.elements,this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,r){var a=e.elements,l=r.elements;r=this.elements,e=a[0];var v=a[3],b=a[6],M=a[1],R=a[4],k=a[7],X=a[2],Y=a[5];a=a[8];var ie=l[0],le=l[3],Ae=l[6],we=l[1],Qe=l[4],yt=l[7],dt=l[2],vt=l[5];return l=l[8],r[0]=e*ie+v*we+b*dt,r[3]=e*le+v*Qe+b*vt,r[6]=e*Ae+v*yt+b*l,r[1]=M*ie+R*we+k*dt,r[4]=M*le+R*Qe+k*vt,r[7]=M*Ae+R*yt+k*l,r[2]=X*ie+Y*we+a*dt,r[5]=X*le+Y*Qe+a*vt,r[8]=X*Ae+Y*yt+a*l,this},multiplyScalar:function(e){var r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=e,r[4]*=e,r[7]*=e,r[2]*=e,r[5]*=e,r[8]*=e,this},determinant:function(){var e=this.elements,r=e[0],a=e[1],l=e[2],v=e[3],b=e[4],M=e[5],R=e[6],k=e[7];return e=e[8],r*b*e-r*M*k-a*v*e+a*M*R+l*v*k-l*b*R},getInverse:function(e,r){r!==void 0&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");var a=e.elements;e=this.elements,r=a[0];var l=a[1],v=a[2],b=a[3],M=a[4],R=a[5],k=a[6],X=a[7];a=a[8];var Y=a*M-R*X,ie=R*k-a*b,le=X*b-M*k,Ae=r*Y+l*ie+v*le;return Ae===0?this.set(0,0,0,0,0,0,0,0,0):(Ae=1/Ae,e[0]=Y*Ae,e[1]=(v*X-a*l)*Ae,e[2]=(R*l-v*M)*Ae,e[3]=ie*Ae,e[4]=(a*r-v*k)*Ae,e[5]=(v*b-R*r)*Ae,e[6]=le*Ae,e[7]=(l*k-X*r)*Ae,e[8]=(M*r-l*b)*Ae,this)},transpose:function(){var e=this.elements,r=e[1];return e[1]=e[3],e[3]=r,r=e[2],e[2]=e[6],e[6]=r,r=e[5],e[5]=e[7],e[7]=r,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var r=this.elements;return e[0]=r[0],e[1]=r[3],e[2]=r[6],e[3]=r[1],e[4]=r[4],e[5]=r[7],e[6]=r[2],e[7]=r[5],e[8]=r[8],this},setUvTransform:function(e,r,a,l,v,b,M){var R=Math.cos(v);v=Math.sin(v),this.set(a*R,a*v,-a*(R*b+v*M)+b+e,-l*v,l*R,-l*(-v*b+R*M)+M+r,0,0,1)},scale:function(e,r){var a=this.elements;return a[0]*=e,a[3]*=e,a[6]*=e,a[1]*=r,a[4]*=r,a[7]*=r,this},rotate:function(e){var r=Math.cos(e);e=Math.sin(e);var a=this.elements,l=a[0],v=a[3],b=a[6],M=a[1],R=a[4],k=a[7];return a[0]=r*l+e*M,a[3]=r*v+e*R,a[6]=r*b+e*k,a[1]=-e*l+r*M,a[4]=-e*v+r*R,a[7]=-e*b+r*k,this},translate:function(e,r){var a=this.elements;return a[0]+=e*a[2],a[3]+=e*a[5],a[6]+=e*a[8],a[1]+=r*a[2],a[4]+=r*a[5],a[7]+=r*a[8],this},equals:function(e){var r=this.elements;e=e.elements;for(var a=0;9>a;a++)if(r[a]!==e[a])return!1;return!0},fromArray:function(e,r){r===void 0&&(r=0);for(var a=0;9>a;a++)this.elements[a]=e[a+r];return this},toArray:function(e,r){e===void 0&&(e=[]),r===void 0&&(r=0);var a=this.elements;return e[r]=a[0],e[r+1]=a[1],e[r+2]=a[2],e[r+3]=a[3],e[r+4]=a[4],e[r+5]=a[5],e[r+6]=a[6],e[r+7]=a[7],e[r+8]=a[8],e}});var V,J={getDataURL:function(e){if(typeof HTMLCanvasElement=="undefined")return e.src;if(!(e instanceof HTMLCanvasElement)){V===void 0&&(V=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),V.width=e.width,V.height=e.height;var r=V.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),e=V}return 2048<e.width||2048<e.height?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}},ne=0;Ar.DEFAULT_IMAGE=void 0,Ar.DEFAULT_MAPPING=300,Ar.prototype=Le(Oe(br.prototype),{constructor:Ar,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var r=e===void 0||typeof e=="string";if(!r&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];var a={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){var l=this.image;if(l.uuid===void 0&&(l.uuid=U.generateUUID()),!r&&e.images[l.uuid]===void 0){if(Array.isArray(l))for(var v=[],b=0,M=l.length;b<M;b++)v.push(J.getDataURL(l[b]));else v=J.getDataURL(l);e.images[l.uuid]={uuid:l.uuid,url:v}}a.image=l.uuid}return r||(e.textures[this.uuid]=a),a},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==300)return e;if(e.applyMatrix3(this.matrix),0>e.x||1<e.x)switch(this.wrapS){case 1e3:e.x-=Math.floor(e.x);break;case 1001:e.x=0>e.x?0:1;break;case 1002:e.x=Math.abs(Math.floor(e.x)%2)===1?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(0>e.y||1<e.y)switch(this.wrapT){case 1e3:e.y-=Math.floor(e.y);break;case 1001:e.y=0>e.y?0:1;break;case 1002:e.y=Math.abs(Math.floor(e.y)%2)===1?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(Ar.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}}),Zi(Dt.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}}),Le(Dt.prototype,{isVector4:!0,set:function(e,r,a,l){return this.x=e,this.y=r,this.z=a,this.w=l,this},setScalar:function(e){return this.w=this.z=this.y=this.x=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;case 3:this.w=r;break;default:throw Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this},add:function(e,r){return r!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,r)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this.z=e.z+r.z,this.w=e.w+r.w,this},addScaledVector:function(e,r){return this.x+=e.x*r,this.y+=e.y*r,this.z+=e.z*r,this.w+=e.w*r,this},sub:function(e,r){return r!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,r)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this.z=e.z-r.z,this.w=e.w-r.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var r=this.x,a=this.y,l=this.z,v=this.w;return e=e.elements,this.x=e[0]*r+e[4]*a+e[8]*l+e[12]*v,this.y=e[1]*r+e[5]*a+e[9]*l+e[13]*v,this.z=e[2]*r+e[6]*a+e[10]*l+e[14]*v,this.w=e[3]*r+e[7]*a+e[11]*l+e[15]*v,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var r=Math.sqrt(1-e.w*e.w);return 1e-4>r?(this.x=1,this.z=this.y=0):(this.x=e.x/r,this.y=e.y/r,this.z=e.z/r),this},setAxisAngleFromRotationMatrix:function(e){e=e.elements;var r=e[0],a=e[4],l=e[8],v=e[1],b=e[5],M=e[9],R=e[2],k=e[6],X=e[10];return .01>Math.abs(a-v)&&.01>Math.abs(l-R)&&.01>Math.abs(M-k)?.1>Math.abs(a+v)&&.1>Math.abs(l+R)&&.1>Math.abs(M+k)&&.1>Math.abs(r+b+X-3)?(this.set(1,0,0,0),this):(e=Math.PI,r=(r+1)/2,b=(b+1)/2,X=(X+1)/2,a=(a+v)/4,l=(l+R)/4,M=(M+k)/4,r>b&&r>X?.01>r?(k=0,a=R=.707106781):(k=Math.sqrt(r),R=a/k,a=l/k):b>X?.01>b?(k=.707106781,R=0,a=.707106781):(R=Math.sqrt(b),k=a/R,a=M/R):.01>X?(R=k=.707106781,a=0):(a=Math.sqrt(X),k=l/a,R=M/a),this.set(k,R,a,e),this):(e=Math.sqrt((k-M)*(k-M)+(l-R)*(l-R)+(v-a)*(v-a)),.001>Math.abs(e)&&(e=1),this.x=(k-M)/e,this.y=(l-R)/e,this.z=(v-a)/e,this.w=Math.acos((r+b+X-1)/2),this)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this.z=Math.max(e.z,Math.min(r.z,this.z)),this.w=Math.max(e.w,Math.min(r.w,this.w)),this},clampScalar:function(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this.z=Math.max(e,Math.min(r,this.z)),this.w=Math.max(e,Math.min(r,this.w)),this},clampLength:function(e,r){var a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(e,Math.min(r,a)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this.z+=(e.z-this.z)*r,this.w+=(e.w-this.w)*r,this},lerpVectors:function(e,r,a){return this.x=e.x+(r.x-e.x)*a,this.y=e.y+(r.y-e.y)*a,this.z=e.z+(r.z-e.z)*a,this.w=e.w+(r.w-e.w)*a,this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,r){return r===void 0&&(r=0),this.x=e[r],this.y=e[r+1],this.z=e[r+2],this.w=e[r+3],this},toArray:function(e,r){return e===void 0&&(e=[]),r===void 0&&(r=0),e[r]=this.x,e[r+1]=this.y,e[r+2]=this.z,e[r+3]=this.w,e},fromBufferAttribute:function(e,r,a){return a!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(r),this.y=e.getY(r),this.z=e.getZ(r),this.w=e.getW(r),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}),pr.prototype=Le(Oe(br.prototype),{constructor:pr,isWebGLRenderTarget:!0,setSize:function(e,r){(this.width!==e||this.height!==r)&&(this.width=e,this.height=r,this.texture.image.width=e,this.texture.image.height=r,this.dispose()),this.viewport.set(0,0,e,r),this.scissor.set(0,0,e,r)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Gr.prototype=Le(Oe(pr.prototype),{constructor:Gr,isWebGLMultisampleRenderTarget:!0,copy:function(e){return pr.prototype.copy.call(this,e),this.samples=e.samples,this}}),Le(lr,{slerp:function(e,r,a,l){return a.copy(e).slerp(r,l)},slerpFlat:function(e,r,a,l,v,b,M){var R=a[l+0],k=a[l+1],X=a[l+2];a=a[l+3],l=v[b+0];var Y=v[b+1],ie=v[b+2];if(v=v[b+3],a!==v||R!==l||k!==Y||X!==ie){b=1-M;var le=R*l+k*Y+X*ie+a*v,Ae=0<=le?1:-1,we=1-le*le;we>ts&&(we=Math.sqrt(we),le=Math.atan2(we,le*Ae),b=Math.sin(b*le)/we,M=Math.sin(M*le)/we),Ae*=M,R=R*b+l*Ae,k=k*b+Y*Ae,X=X*b+ie*Ae,a=a*b+v*Ae,b===1-M&&(M=1/Math.sqrt(R*R+k*k+X*X+a*a),R*=M,k*=M,X*=M,a*=M)}e[r]=R,e[r+1]=k,e[r+2]=X,e[r+3]=a},multiplyQuaternionsFlat:function(e,r,a,l,v,b){var M=a[l],R=a[l+1],k=a[l+2];a=a[l+3],l=v[b];var X=v[b+1],Y=v[b+2];return v=v[b+3],e[r]=M*v+a*l+R*Y-k*X,e[r+1]=R*v+a*X+k*l-M*Y,e[r+2]=k*v+a*Y+M*X-R*l,e[r+3]=a*v-M*l-R*X-k*Y,e}}),Zi(lr.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}}),Le(lr.prototype,{isQuaternion:!0,set:function(e,r,a,l){return this._x=e,this._y=r,this._z=a,this._w=l,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,r){if(!e||!e.isEuler)throw Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var a=e._x,l=e._y,v=e._z;e=e.order;var b=Math.cos,M=Math.sin,R=b(a/2),k=b(l/2);switch(b=b(v/2),a=M(a/2),l=M(l/2),v=M(v/2),e){case"XYZ":this._x=a*k*b+R*l*v,this._y=R*l*b-a*k*v,this._z=R*k*v+a*l*b,this._w=R*k*b-a*l*v;break;case"YXZ":this._x=a*k*b+R*l*v,this._y=R*l*b-a*k*v,this._z=R*k*v-a*l*b,this._w=R*k*b+a*l*v;break;case"ZXY":this._x=a*k*b-R*l*v,this._y=R*l*b+a*k*v,this._z=R*k*v+a*l*b,this._w=R*k*b-a*l*v;break;case"ZYX":this._x=a*k*b-R*l*v,this._y=R*l*b+a*k*v,this._z=R*k*v-a*l*b,this._w=R*k*b+a*l*v;break;case"YZX":this._x=a*k*b+R*l*v,this._y=R*l*b+a*k*v,this._z=R*k*v-a*l*b,this._w=R*k*b-a*l*v;break;case"XZY":this._x=a*k*b-R*l*v,this._y=R*l*b-a*k*v,this._z=R*k*v+a*l*b,this._w=R*k*b+a*l*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+e)}return r!==!1&&this._onChangeCallback(),this},setFromAxisAngle:function(e,r){r/=2;var a=Math.sin(r);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(r),this._onChangeCallback(),this},setFromRotationMatrix:function(e){var r=e.elements,a=r[0];e=r[4];var l=r[8],v=r[1],b=r[5],M=r[9],R=r[2],k=r[6];r=r[10];var X=a+b+r;return 0<X?(a=.5/Math.sqrt(X+1),this._w=.25/a,this._x=(k-M)*a,this._y=(l-R)*a,this._z=(v-e)*a):a>b&&a>r?(a=2*Math.sqrt(1+a-b-r),this._w=(k-M)/a,this._x=.25*a,this._y=(e+v)/a,this._z=(l+R)/a):b>r?(a=2*Math.sqrt(1+b-a-r),this._w=(l-R)/a,this._x=(e+v)/a,this._y=.25*a,this._z=(M+k)/a):(a=2*Math.sqrt(1+r-a-b),this._w=(v-e)/a,this._x=(l+R)/a,this._y=(M+k)/a,this._z=.25*a),this._onChangeCallback(),this},setFromUnitVectors:function(e,r){var a=e.dot(r)+1;return 1e-6>a?(a=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0):(this._x=0,this._y=-e.z,this._z=e.y)):(this._x=e.y*r.z-e.z*r.y,this._y=e.z*r.x-e.x*r.z,this._z=e.x*r.y-e.y*r.x),this._w=a,this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(U.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,r){var a=this.angleTo(e);return a===0?this:(this.slerp(e,Math.min(1,r/a)),this)},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return e===0?(this._z=this._y=this._x=0,this._w=1):(e=1/e,this._x*=e,this._y*=e,this._z*=e,this._w*=e),this._onChangeCallback(),this},multiply:function(e,r){return r!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,r)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,r){var a=e._x,l=e._y,v=e._z;e=e._w;var b=r._x,M=r._y,R=r._z;return r=r._w,this._x=a*r+e*b+l*R-v*M,this._y=l*r+e*M+v*b-a*R,this._z=v*r+e*R+a*M-l*b,this._w=e*r-a*b-l*M-v*R,this._onChangeCallback(),this},slerp:function(e,r){if(r===0)return this;if(r===1)return this.copy(e);var a=this._x,l=this._y,v=this._z,b=this._w,M=b*e._w+a*e._x+l*e._y+v*e._z;if(0>M?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,M=-M):this.copy(e),1<=M)return this._w=b,this._x=a,this._y=l,this._z=v,this;if(e=1-M*M,e<=ts)return M=1-r,this._w=M*b+r*this._w,this._x=M*a+r*this._x,this._y=M*l+r*this._y,this._z=M*v+r*this._z,this.normalize(),this._onChangeCallback(),this;e=Math.sqrt(e);var R=Math.atan2(e,M);return M=Math.sin((1-r)*R)/e,r=Math.sin(r*R)/e,this._w=b*M+this._w*r,this._x=a*M+this._x*r,this._y=l*M+this._y*r,this._z=v*M+this._z*r,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,r){return r===void 0&&(r=0),this._x=e[r],this._y=e[r+1],this._z=e[r+2],this._w=e[r+3],this._onChangeCallback(),this},toArray:function(e,r){return e===void 0&&(e=[]),r===void 0&&(r=0),e[r]=this._x,e[r+1]=this._y,e[r+2]=this._z,e[r+3]=this._w,e},fromBufferAttribute:function(e,r){return this._x=e.getX(r),this._y=e.getY(r),this._z=e.getZ(r),this._w=e.getW(r),this},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});var re=new Pe,Q=new lr;Le(Pe.prototype,{isVector3:!0,set:function(e,r,a){return this.x=e,this.y=r,this.z=a,this},setScalar:function(e){return this.z=this.y=this.x=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,r){switch(e){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;default:throw Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,r){return r!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,r)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,r){return this.x=e.x+r.x,this.y=e.y+r.y,this.z=e.z+r.z,this},addScaledVector:function(e,r){return this.x+=e.x*r,this.y+=e.y*r,this.z+=e.z*r,this},sub:function(e,r){return r!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,r)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,r){return this.x=e.x-r.x,this.y=e.y-r.y,this.z=e.z-r.z,this},multiply:function(e,r){return r!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,r)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,r){return this.x=e.x*r.x,this.y=e.y*r.y,this.z=e.z*r.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Q.setFromEuler(e))},applyAxisAngle:function(e,r){return this.applyQuaternion(Q.setFromAxisAngle(e,r))},applyMatrix3:function(e){var r=this.x,a=this.y,l=this.z;return e=e.elements,this.x=e[0]*r+e[3]*a+e[6]*l,this.y=e[1]*r+e[4]*a+e[7]*l,this.z=e[2]*r+e[5]*a+e[8]*l,this},applyNormalMatrix:function(e){return this.applyMatrix3(e).normalize()},applyMatrix4:function(e){var r=this.x,a=this.y,l=this.z;e=e.elements;var v=1/(e[3]*r+e[7]*a+e[11]*l+e[15]);return this.x=(e[0]*r+e[4]*a+e[8]*l+e[12])*v,this.y=(e[1]*r+e[5]*a+e[9]*l+e[13])*v,this.z=(e[2]*r+e[6]*a+e[10]*l+e[14])*v,this},applyQuaternion:function(e){var r=this.x,a=this.y,l=this.z,v=e.x,b=e.y,M=e.z;e=e.w;var R=e*r+b*l-M*a,k=e*a+M*r-v*l,X=e*l+v*a-b*r;return r=-v*r-b*a-M*l,this.x=R*e+r*-v+k*-M-X*-b,this.y=k*e+r*-b+X*-v-R*-M,this.z=X*e+r*-M+R*-b-k*-v,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){var r=this.x,a=this.y,l=this.z;return e=e.elements,this.x=e[0]*r+e[4]*a+e[8]*l,this.y=e[1]*r+e[5]*a+e[9]*l,this.z=e[2]*r+e[6]*a+e[10]*l,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,r){return this.x=Math.max(e.x,Math.min(r.x,this.x)),this.y=Math.max(e.y,Math.min(r.y,this.y)),this.z=Math.max(e.z,Math.min(r.z,this.z)),this},clampScalar:function(e,r){return this.x=Math.max(e,Math.min(r,this.x)),this.y=Math.max(e,Math.min(r,this.y)),this.z=Math.max(e,Math.min(r,this.z)),this},clampLength:function(e,r){var a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(e,Math.min(r,a)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,r){return this.x+=(e.x-this.x)*r,this.y+=(e.y-this.y)*r,this.z+=(e.z-this.z)*r,this},lerpVectors:function(e,r,a){return this.x=e.x+(r.x-e.x)*a,this.y=e.y+(r.y-e.y)*a,this.z=e.z+(r.z-e.z)*a,this},cross:function(e,r){return r!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,r)):this.crossVectors(this,e)},crossVectors:function(e,r){var a=e.x,l=e.y;e=e.z;var v=r.x,b=r.y;return r=r.z,this.x=l*r-e*b,this.y=e*v-a*r,this.z=a*b-l*v,this},projectOnVector:function(e){var r=e.lengthSq();return r===0?this.set(0,0,0):(r=e.dot(this)/r,this.copy(e).multiplyScalar(r))},projectOnPlane:function(e){return re.copy(this).projectOnVector(e),this.sub(re)},reflect:function(e){return this.sub(re.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){var r=Math.sqrt(this.lengthSq()*e.lengthSq());return r===0?Math.PI/2:(e=this.dot(e)/r,Math.acos(U.clamp(e,-1,1)))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var r=this.x-e.x,a=this.y-e.y;return e=this.z-e.z,r*r+a*a+e*e},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,r,a){var l=Math.sin(r)*e;return this.x=l*Math.sin(a),this.y=Math.cos(r)*e,this.z=l*Math.cos(a),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,r,a){return this.x=e*Math.sin(r),this.y=a,this.z=e*Math.cos(r),this},setFromMatrixPosition:function(e){return e=e.elements,this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(e){var r=this.setFromMatrixColumn(e,0).length(),a=this.setFromMatrixColumn(e,1).length();return e=this.setFromMatrixColumn(e,2).length(),this.x=r,this.y=a,this.z=e,this},setFromMatrixColumn:function(e,r){return this.fromArray(e.elements,4*r)},setFromMatrix3Column:function(e,r){return this.fromArray(e.elements,3*r)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,r){return r===void 0&&(r=0),this.x=e[r],this.y=e[r+1],this.z=e[r+2],this},toArray:function(e,r){return e===void 0&&(e=[]),r===void 0&&(r=0),e[r]=this.x,e[r+1]=this.y,e[r+2]=this.z,e},fromBufferAttribute:function(e,r,a){return a!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(r),this.y=e.getY(r),this.z=e.getZ(r),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}});var he=new Pe,Me=new ir,De=new Pe(0,0,0),Ue=new Pe(1,1,1),Ve=new Pe,ht=new Pe,Je=new Pe;Le(ir.prototype,{isMatrix4:!0,set:function(e,r,a,l,v,b,M,R,k,X,Y,ie,le,Ae,we,Qe){var yt=this.elements;return yt[0]=e,yt[4]=r,yt[8]=a,yt[12]=l,yt[1]=v,yt[5]=b,yt[9]=M,yt[13]=R,yt[2]=k,yt[6]=X,yt[10]=Y,yt[14]=ie,yt[3]=le,yt[7]=Ae,yt[11]=we,yt[15]=Qe,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return new ir().fromArray(this.elements)},copy:function(e){var r=this.elements;return e=e.elements,r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],this},copyPosition:function(e){var r=this.elements;return e=e.elements,r[12]=e[12],r[13]=e[13],r[14]=e[14],this},extractBasis:function(e,r,a){return e.setFromMatrixColumn(this,0),r.setFromMatrixColumn(this,1),a.setFromMatrixColumn(this,2),this},makeBasis:function(e,r,a){return this.set(e.x,r.x,a.x,0,e.y,r.y,a.y,0,e.z,r.z,a.z,0,0,0,0,1),this},extractRotation:function(e){var r=this.elements,a=e.elements,l=1/he.setFromMatrixColumn(e,0).length(),v=1/he.setFromMatrixColumn(e,1).length();return e=1/he.setFromMatrixColumn(e,2).length(),r[0]=a[0]*l,r[1]=a[1]*l,r[2]=a[2]*l,r[3]=0,r[4]=a[4]*v,r[5]=a[5]*v,r[6]=a[6]*v,r[7]=0,r[8]=a[8]*e,r[9]=a[9]*e,r[10]=a[10]*e,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var r=this.elements,a=e.x,l=e.y,v=e.z,b=Math.cos(a);a=Math.sin(a);var M=Math.cos(l);l=Math.sin(l);var R=Math.cos(v);if(v=Math.sin(v),e.order==="XYZ"){e=b*R;var k=b*v,X=a*R,Y=a*v;r[0]=M*R,r[4]=-M*v,r[8]=l,r[1]=k+X*l,r[5]=e-Y*l,r[9]=-a*M,r[2]=Y-e*l,r[6]=X+k*l,r[10]=b*M}else e.order==="YXZ"?(e=M*R,k=M*v,X=l*R,Y=l*v,r[0]=e+Y*a,r[4]=X*a-k,r[8]=b*l,r[1]=b*v,r[5]=b*R,r[9]=-a,r[2]=k*a-X,r[6]=Y+e*a,r[10]=b*M):e.order==="ZXY"?(e=M*R,k=M*v,X=l*R,Y=l*v,r[0]=e-Y*a,r[4]=-b*v,r[8]=X+k*a,r[1]=k+X*a,r[5]=b*R,r[9]=Y-e*a,r[2]=-b*l,r[6]=a,r[10]=b*M):e.order==="ZYX"?(e=b*R,k=b*v,X=a*R,Y=a*v,r[0]=M*R,r[4]=X*l-k,r[8]=e*l+Y,r[1]=M*v,r[5]=Y*l+e,r[9]=k*l-X,r[2]=-l,r[6]=a*M,r[10]=b*M):e.order==="YZX"?(e=b*M,k=b*l,X=a*M,Y=a*l,r[0]=M*R,r[4]=Y-e*v,r[8]=X*v+k,r[1]=v,r[5]=b*R,r[9]=-a*R,r[2]=-l*R,r[6]=k*v+X,r[10]=e-Y*v):e.order==="XZY"&&(e=b*M,k=b*l,X=a*M,Y=a*l,r[0]=M*R,r[4]=-v,r[8]=l*R,r[1]=e*v+Y,r[5]=b*R,r[9]=k*v-X,r[2]=X*v-k,r[6]=a*R,r[10]=Y*v+e);return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(De,e,Ue)},lookAt:function(e,r,a){var l=this.elements;return Je.subVectors(e,r),Je.lengthSq()===0&&(Je.z=1),Je.normalize(),Ve.crossVectors(a,Je),Ve.lengthSq()===0&&(Math.abs(a.z)===1?Je.x+=1e-4:Je.z+=1e-4,Je.normalize(),Ve.crossVectors(a,Je)),Ve.normalize(),ht.crossVectors(Je,Ve),l[0]=Ve.x,l[4]=ht.x,l[8]=Je.x,l[1]=Ve.y,l[5]=ht.y,l[9]=Je.y,l[2]=Ve.z,l[6]=ht.z,l[10]=Je.z,this},multiply:function(e,r){return r!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,r)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,r){var a=e.elements,l=r.elements;r=this.elements,e=a[0];var v=a[4],b=a[8],M=a[12],R=a[1],k=a[5],X=a[9],Y=a[13],ie=a[2],le=a[6],Ae=a[10],we=a[14],Qe=a[3],yt=a[7],dt=a[11];a=a[15];var vt=l[0],Lt=l[4],kt=l[8],Ut=l[12],at=l[1],jr=l[5],Zt=l[9],$r=l[13],nn=l[2],Wt=l[6],si=l[10],gr=l[14],bi=l[3],ki=l[7],Pi=l[11];return l=l[15],r[0]=e*vt+v*at+b*nn+M*bi,r[4]=e*Lt+v*jr+b*Wt+M*ki,r[8]=e*kt+v*Zt+b*si+M*Pi,r[12]=e*Ut+v*$r+b*gr+M*l,r[1]=R*vt+k*at+X*nn+Y*bi,r[5]=R*Lt+k*jr+X*Wt+Y*ki,r[9]=R*kt+k*Zt+X*si+Y*Pi,r[13]=R*Ut+k*$r+X*gr+Y*l,r[2]=ie*vt+le*at+Ae*nn+we*bi,r[6]=ie*Lt+le*jr+Ae*Wt+we*ki,r[10]=ie*kt+le*Zt+Ae*si+we*Pi,r[14]=ie*Ut+le*$r+Ae*gr+we*l,r[3]=Qe*vt+yt*at+dt*nn+a*bi,r[7]=Qe*Lt+yt*jr+dt*Wt+a*ki,r[11]=Qe*kt+yt*Zt+dt*si+a*Pi,r[15]=Qe*Ut+yt*$r+dt*gr+a*l,this},multiplyScalar:function(e){var r=this.elements;return r[0]*=e,r[4]*=e,r[8]*=e,r[12]*=e,r[1]*=e,r[5]*=e,r[9]*=e,r[13]*=e,r[2]*=e,r[6]*=e,r[10]*=e,r[14]*=e,r[3]*=e,r[7]*=e,r[11]*=e,r[15]*=e,this},determinant:function(){var e=this.elements,r=e[0],a=e[4],l=e[8],v=e[12],b=e[1],M=e[5],R=e[9],k=e[13],X=e[2],Y=e[6],ie=e[10],le=e[14];return e[3]*(+v*R*Y-l*k*Y-v*M*ie+a*k*ie+l*M*le-a*R*le)+e[7]*(+r*R*le-r*k*ie+v*b*ie-l*b*le+l*k*X-v*R*X)+e[11]*(+r*k*Y-r*M*le-v*b*Y+a*b*le+v*M*X-a*k*X)+e[15]*(-l*M*X-r*R*Y+r*M*ie+l*b*Y-a*b*ie+a*R*X)},transpose:function(){var e=this.elements,r=e[1];return e[1]=e[4],e[4]=r,r=e[2],e[2]=e[8],e[8]=r,r=e[6],e[6]=e[9],e[9]=r,r=e[3],e[3]=e[12],e[12]=r,r=e[7],e[7]=e[13],e[13]=r,r=e[11],e[11]=e[14],e[14]=r,this},setPosition:function(e,r,a){var l=this.elements;return e.isVector3?(l[12]=e.x,l[13]=e.y,l[14]=e.z):(l[12]=e,l[13]=r,l[14]=a),this},getInverse:function(e,r){r!==void 0&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate."),r=this.elements;var a=e.elements;e=a[0];var l=a[1],v=a[2],b=a[3],M=a[4],R=a[5],k=a[6],X=a[7],Y=a[8],ie=a[9],le=a[10],Ae=a[11],we=a[12],Qe=a[13],yt=a[14];a=a[15];var dt=ie*yt*X-Qe*le*X+Qe*k*Ae-R*yt*Ae-ie*k*a+R*le*a,vt=we*le*X-Y*yt*X-we*k*Ae+M*yt*Ae+Y*k*a-M*le*a,Lt=Y*Qe*X-we*ie*X+we*R*Ae-M*Qe*Ae-Y*R*a+M*ie*a,kt=we*ie*k-Y*Qe*k-we*R*le+M*Qe*le+Y*R*yt-M*ie*yt,Ut=e*dt+l*vt+v*Lt+b*kt;return Ut===0?this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0):(Ut=1/Ut,r[0]=dt*Ut,r[1]=(Qe*le*b-ie*yt*b-Qe*v*Ae+l*yt*Ae+ie*v*a-l*le*a)*Ut,r[2]=(R*yt*b-Qe*k*b+Qe*v*X-l*yt*X-R*v*a+l*k*a)*Ut,r[3]=(ie*k*b-R*le*b-ie*v*X+l*le*X+R*v*Ae-l*k*Ae)*Ut,r[4]=vt*Ut,r[5]=(Y*yt*b-we*le*b+we*v*Ae-e*yt*Ae-Y*v*a+e*le*a)*Ut,r[6]=(we*k*b-M*yt*b-we*v*X+e*yt*X+M*v*a-e*k*a)*Ut,r[7]=(M*le*b-Y*k*b+Y*v*X-e*le*X-M*v*Ae+e*k*Ae)*Ut,r[8]=Lt*Ut,r[9]=(we*ie*b-Y*Qe*b-we*l*Ae+e*Qe*Ae+Y*l*a-e*ie*a)*Ut,r[10]=(M*Qe*b-we*R*b+we*l*X-e*Qe*X-M*l*a+e*R*a)*Ut,r[11]=(Y*R*b-M*ie*b-Y*l*X+e*ie*X+M*l*Ae-e*R*Ae)*Ut,r[12]=kt*Ut,r[13]=(Y*Qe*v-we*ie*v+we*l*le-e*Qe*le-Y*l*yt+e*ie*yt)*Ut,r[14]=(we*R*v-M*Qe*v-we*l*k+e*Qe*k+M*l*yt-e*R*yt)*Ut,r[15]=(M*ie*v-Y*R*v+Y*l*k-e*ie*k-M*l*le+e*R*le)*Ut,this)},scale:function(e){var r=this.elements,a=e.x,l=e.y;return e=e.z,r[0]*=a,r[4]*=l,r[8]*=e,r[1]*=a,r[5]*=l,r[9]*=e,r[2]*=a,r[6]*=l,r[10]*=e,r[3]*=a,r[7]*=l,r[11]*=e,this},getMaxScaleOnAxis:function(){var e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))},makeTranslation:function(e,r,a){return this.set(1,0,0,e,0,1,0,r,0,0,1,a,0,0,0,1),this},makeRotationX:function(e){var r=Math.cos(e);return e=Math.sin(e),this.set(1,0,0,0,0,r,-e,0,0,e,r,0,0,0,0,1),this},makeRotationY:function(e){var r=Math.cos(e);return e=Math.sin(e),this.set(r,0,e,0,0,1,0,0,-e,0,r,0,0,0,0,1),this},makeRotationZ:function(e){var r=Math.cos(e);return e=Math.sin(e),this.set(r,-e,0,0,e,r,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,r){var a=Math.cos(r);r=Math.sin(r);var l=1-a,v=e.x,b=e.y;e=e.z;var M=l*v,R=l*b;return this.set(M*v+a,M*b-r*e,M*e+r*b,0,M*b+r*e,R*b+a,R*e-r*v,0,M*e-r*b,R*e+r*v,l*e*e+a,0,0,0,0,1),this},makeScale:function(e,r,a){return this.set(e,0,0,0,0,r,0,0,0,0,a,0,0,0,0,1),this},makeShear:function(e,r,a){return this.set(1,r,a,0,e,1,a,0,e,r,1,0,0,0,0,1),this},compose:function(e,r,a){var l=this.elements,v=r._x,b=r._y,M=r._z,R=r._w,k=v+v,X=b+b,Y=M+M;r=v*k;var ie=v*X;v*=Y;var le=b*X;b*=Y,M*=Y,k*=R,X*=R,R*=Y,Y=a.x;var Ae=a.y;return a=a.z,l[0]=(1-(le+M))*Y,l[1]=(ie+R)*Y,l[2]=(v-X)*Y,l[3]=0,l[4]=(ie-R)*Ae,l[5]=(1-(r+M))*Ae,l[6]=(b+k)*Ae,l[7]=0,l[8]=(v+X)*a,l[9]=(b-k)*a,l[10]=(1-(r+le))*a,l[11]=0,l[12]=e.x,l[13]=e.y,l[14]=e.z,l[15]=1,this},decompose:function(e,r,a){var l=this.elements,v=he.set(l[0],l[1],l[2]).length(),b=he.set(l[4],l[5],l[6]).length(),M=he.set(l[8],l[9],l[10]).length();0>this.determinant()&&(v=-v),e.x=l[12],e.y=l[13],e.z=l[14],Me.copy(this),e=1/v,l=1/b;var R=1/M;return Me.elements[0]*=e,Me.elements[1]*=e,Me.elements[2]*=e,Me.elements[4]*=l,Me.elements[5]*=l,Me.elements[6]*=l,Me.elements[8]*=R,Me.elements[9]*=R,Me.elements[10]*=R,r.setFromRotationMatrix(Me),a.x=v,a.y=b,a.z=M,this},makePerspective:function(e,r,a,l,v,b){b===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var M=this.elements;return M[0]=2*v/(r-e),M[4]=0,M[8]=(r+e)/(r-e),M[12]=0,M[1]=0,M[5]=2*v/(a-l),M[9]=(a+l)/(a-l),M[13]=0,M[2]=0,M[6]=0,M[10]=-(b+v)/(b-v),M[14]=-2*b*v/(b-v),M[3]=0,M[7]=0,M[11]=-1,M[15]=0,this},makeOrthographic:function(e,r,a,l,v,b){var M=this.elements,R=1/(r-e),k=1/(a-l),X=1/(b-v);return M[0]=2*R,M[4]=0,M[8]=0,M[12]=-((r+e)*R),M[1]=0,M[5]=2*k,M[9]=0,M[13]=-((a+l)*k),M[2]=0,M[6]=0,M[10]=-2*X,M[14]=-((b+v)*X),M[3]=0,M[7]=0,M[11]=0,M[15]=1,this},equals:function(e){var r=this.elements;e=e.elements;for(var a=0;16>a;a++)if(r[a]!==e[a])return!1;return!0},fromArray:function(e,r){r===void 0&&(r=0);for(var a=0;16>a;a++)this.elements[a]=e[a+r];return this},toArray:function(e,r){e===void 0&&(e=[]),r===void 0&&(r=0);var a=this.elements;return e[r]=a[0],e[r+1]=a[1],e[r+2]=a[2],e[r+3]=a[3],e[r+4]=a[4],e[r+5]=a[5],e[r+6]=a[6],e[r+7]=a[7],e[r+8]=a[8],e[r+9]=a[9],e[r+10]=a[10],e[r+11]=a[11],e[r+12]=a[12],e[r+13]=a[13],e[r+14]=a[14],e[r+15]=a[15],e}});var Er=new ir,fr=new lr;pi.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" "),pi.DefaultOrder="XYZ",Zi(pi.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}}),Le(pi.prototype,{isEuler:!0,set:function(e,r,a,l){return this._x=e,this._y=r,this._z=a,this._order=l||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,r,a){var l=U.clamp,v=e.elements;e=v[0];var b=v[4],M=v[8],R=v[1],k=v[5],X=v[9],Y=v[2],ie=v[6];switch(v=v[10],r=r||this._order,r){case"XYZ":this._y=Math.asin(l(M,-1,1)),.9999999>Math.abs(M)?(this._x=Math.atan2(-X,v),this._z=Math.atan2(-b,e)):(this._x=Math.atan2(ie,k),this._z=0);break;case"YXZ":this._x=Math.asin(-l(X,-1,1)),.9999999>Math.abs(X)?(this._y=Math.atan2(M,v),this._z=Math.atan2(R,k)):(this._y=Math.atan2(-Y,e),this._z=0);break;case"ZXY":this._x=Math.asin(l(ie,-1,1)),.9999999>Math.abs(ie)?(this._y=Math.atan2(-Y,v),this._z=Math.atan2(-b,k)):(this._y=0,this._z=Math.atan2(R,e));break;case"ZYX":this._y=Math.asin(-l(Y,-1,1)),.9999999>Math.abs(Y)?(this._x=Math.atan2(ie,v),this._z=Math.atan2(R,e)):(this._x=0,this._z=Math.atan2(-b,k));break;case"YZX":this._z=Math.asin(l(R,-1,1)),.9999999>Math.abs(R)?(this._x=Math.atan2(-X,k),this._y=Math.atan2(-Y,e)):(this._x=0,this._y=Math.atan2(M,v));break;case"XZY":this._z=Math.asin(-l(b,-1,1)),.9999999>Math.abs(b)?(this._x=Math.atan2(ie,k),this._y=Math.atan2(M,e)):(this._x=Math.atan2(-X,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+r)}return this._order=r,a!==!1&&this._onChangeCallback(),this},setFromQuaternion:function(e,r,a){return Er.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Er,r,a)},setFromVector3:function(e,r){return this.set(e.x,e.y,e.z,r||this._order)},reorder:function(e){return fr.setFromEuler(this),this.setFromQuaternion(fr,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,r){return e===void 0&&(e=[]),r===void 0&&(r=0),e[r]=this._x,e[r+1]=this._y,e[r+2]=this._z,e[r+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new Pe(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}}),Le(Do.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask=this.mask|1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return(this.mask&e.mask)!=0}});var Pn=0,yn=new Pe,Qr=new lr,$n=new ir,zt=new Pe,Sr=new Pe,Jn=new Pe,Ii=new lr,gi=new Pe(1,0,0),jn=new Pe(0,1,0),fc=new Pe(0,0,1),Sa={type:"added"},bl={type:"removed"};an.DefaultUp=new Pe(0,1,0),an.DefaultMatrixAutoUpdate=!0,an.prototype=Le(Oe(br.prototype),{constructor:an,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,r){this.quaternion.setFromAxisAngle(e,r)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,r){return Qr.setFromAxisAngle(e,r),this.quaternion.multiply(Qr),this},rotateOnWorldAxis:function(e,r){return Qr.setFromAxisAngle(e,r),this.quaternion.premultiply(Qr),this},rotateX:function(e){return this.rotateOnAxis(gi,e)},rotateY:function(e){return this.rotateOnAxis(jn,e)},rotateZ:function(e){return this.rotateOnAxis(fc,e)},translateOnAxis:function(e,r){return yn.copy(e).applyQuaternion(this.quaternion),this.position.add(yn.multiplyScalar(r)),this},translateX:function(e){return this.translateOnAxis(gi,e)},translateY:function(e){return this.translateOnAxis(jn,e)},translateZ:function(e){return this.translateOnAxis(fc,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4($n.getInverse(this.matrixWorld))},lookAt:function(e,r,a){e.isVector3?zt.copy(e):zt.set(e,r,a),e=this.parent,this.updateWorldMatrix(!0,!1),Sr.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?$n.lookAt(Sr,zt,this.up):$n.lookAt(zt,Sr,this.up),this.quaternion.setFromRotationMatrix($n),e&&($n.extractRotation(e.matrixWorld),Qr.setFromRotationMatrix($n),this.quaternion.premultiply(Qr.inverse()))},add:function(e){if(1<arguments.length){for(var r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Sa)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(1<arguments.length){for(var r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}return r=this.children.indexOf(e),r!==-1&&(e.parent=null,this.children.splice(r,1),e.dispatchEvent(bl)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),$n.getInverse(this.matrixWorld),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),$n.multiply(e.parent.matrixWorld)),e.applyMatrix4($n),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,r){if(this[e]===r)return this;for(var a=0,l=this.children.length;a<l;a++){var v=this.children[a].getObjectByProperty(e,r);if(v!==void 0)return v}},getWorldPosition:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new Pe),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new lr),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Sr,e,Jn),e},getWorldScale:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new Pe),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Sr,Ii,e),e},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new Pe),this.updateMatrixWorld(!0);var r=this.matrixWorld.elements;return e.set(r[8],r[9],r[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var r=this.children,a=0,l=r.length;a<l;a++)r[a].traverse(e)},traverseVisible:function(e){if(this.visible!==!1){e(this);for(var r=this.children,a=0,l=r.length;a<l;a++)r[a].traverseVisible(e)}},traverseAncestors:function(e){var r=this.parent;r!==null&&(e(r),r.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var r=this.children,a=0,l=r.length;a<l;a++)r[a].updateMatrixWorld(e)},updateWorldMatrix:function(e,r){var a=this.parent;if(e===!0&&a!==null&&a.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),r===!0)for(e=this.children,r=0,a=e.length;r<a;r++)e[r].updateWorldMatrix(!1,!0)},toJSON:function(e){function r(Y,ie){return Y[ie.uuid]===void 0&&(Y[ie.uuid]=ie.toJSON(e)),ie.uuid}function a(Y){var ie=[],le;for(le in Y){var Ae=Y[le];delete Ae.metadata,ie.push(Ae)}return ie}var l=e===void 0||typeof e=="string",v={};l&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},v.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var b={};if(b.uuid=this.uuid,b.type=this.type,this.name!==""&&(b.name=this.name),this.castShadow===!0&&(b.castShadow=!0),this.receiveShadow===!0&&(b.receiveShadow=!0),this.visible===!1&&(b.visible=!1),this.frustumCulled===!1&&(b.frustumCulled=!1),this.renderOrder!==0&&(b.renderOrder=this.renderOrder),ru(this.userData)!=="{}"&&(b.userData=this.userData),b.layers=this.layers.mask,b.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(b.matrixAutoUpdate=!1),this.isInstancedMesh&&(b.type="InstancedMesh",b.count=this.count,b.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){b.geometry=r(e.geometries,this.geometry);var M=this.geometry.parameters;if(M!==void 0&&M.shapes!==void 0)if(M=M.shapes,Array.isArray(M))for(var R=0,k=M.length;R<k;R++)r(e.shapes,M[R]);else r(e.shapes,M)}if(this.material!==void 0)if(Array.isArray(this.material)){for(M=[],R=0,k=this.material.length;R<k;R++)M.push(r(e.materials,this.material[R]));b.material=M}else b.material=r(e.materials,this.material);if(0<this.children.length)for(b.children=[],R=0;R<this.children.length;R++)b.children.push(this.children[R].toJSON(e).object);if(l){l=a(e.geometries),R=a(e.materials),k=a(e.textures);var X=a(e.images);M=a(e.shapes),0<l.length&&(v.geometries=l),0<R.length&&(v.materials=R),0<k.length&&(v.textures=k),0<X.length&&(v.images=X),0<M.length&&(v.shapes=M)}return v.object=b,v},clone:function(e){return new this.constructor().copy(this,e)},copy:function(e,r){if(r===void 0&&(r=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(ru(e.userData)),r===!0)for(r=0;r<e.children.length;r++)this.add(e.children[r].clone());return this}}),Ai.prototype=Le(Oe(an.prototype),{constructor:Ai,isScene:!0,copy:function(e,r){return an.prototype.copy.call(this,e,r),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var r=an.prototype.toJSON.call(this,e);return this.background!==null&&(r.object.background=this.background.toJSON(e)),this.environment!==null&&(r.object.environment=this.environment.toJSON(e)),this.fog!==null&&(r.object.fog=this.fog.toJSON()),r},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Nh=[new Pe,new Pe,new Pe,new Pe,new Pe,new Pe,new Pe,new Pe],qa=new Pe,nv=new Uo,wp=new Pe,Jc=new Pe,iv=new Pe,Rm=new Pe,Of=new Pe,ov=new Pe,g1=new Pe,zx=new Pe,jx=new Pe,Lm=new Pe;Le(Uo.prototype,{isBox3:!0,set:function(e,r){return this.min.copy(e),this.max.copy(r),this},setFromArray:function(e){for(var r=Infinity,a=Infinity,l=Infinity,v=-Infinity,b=-Infinity,M=-Infinity,R=0,k=e.length;R<k;R+=3){var X=e[R],Y=e[R+1],ie=e[R+2];X<r&&(r=X),Y<a&&(a=Y),ie<l&&(l=ie),X>v&&(v=X),Y>b&&(b=Y),ie>M&&(M=ie)}return this.min.set(r,a,l),this.max.set(v,b,M),this},setFromBufferAttribute:function(e){for(var r=Infinity,a=Infinity,l=Infinity,v=-Infinity,b=-Infinity,M=-Infinity,R=0,k=e.count;R<k;R++){var X=e.getX(R),Y=e.getY(R),ie=e.getZ(R);X<r&&(r=X),Y<a&&(a=Y),ie<l&&(l=ie),X>v&&(v=X),Y>b&&(b=Y),ie>M&&(M=ie)}return this.min.set(r,a,l),this.max.set(v,b,M),this},setFromPoints:function(e){this.makeEmpty();for(var r=0,a=e.length;r<a;r++)this.expandByPoint(e[r]);return this},setFromCenterAndSize:function(e,r){return r=qa.copy(r).multiplyScalar(.5),this.min.copy(e).sub(r),this.max.copy(e).add(r),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=Infinity,this.max.x=this.max.y=this.max.z=-Infinity,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return e===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new Pe),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return e===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new Pe),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){e.updateWorldMatrix(!1,!1);var r=e.geometry;r!==void 0&&(r.boundingBox===null&&r.computeBoundingBox(),nv.copy(r.boundingBox),nv.applyMatrix4(e.matrixWorld),this.union(nv)),e=e.children,r=0;for(var a=e.length;r<a;r++)this.expandByObject(e[r]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,r){return r===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),r=new Pe),r.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,qa),qa.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){if(0<e.normal.x)var r=e.normal.x*this.min.x,a=e.normal.x*this.max.x;else r=e.normal.x*this.max.x,a=e.normal.x*this.min.x;return 0<e.normal.y?(r+=e.normal.y*this.min.y,a+=e.normal.y*this.max.y):(r+=e.normal.y*this.max.y,a+=e.normal.y*this.min.y),0<e.normal.z?(r+=e.normal.z*this.min.z,a+=e.normal.z*this.max.z):(r+=e.normal.z*this.max.z,a+=e.normal.z*this.min.z),r<=-e.constant&&a>=-e.constant},intersectsTriangle:function(e){return this.isEmpty()||(this.getCenter(g1),zx.subVectors(this.max,g1),wp.subVectors(e.a,g1),Jc.subVectors(e.b,g1),iv.subVectors(e.c,g1),Rm.subVectors(Jc,wp),Of.subVectors(iv,Jc),ov.subVectors(wp,iv),e=[0,-Rm.z,Rm.y,0,-Of.z,Of.y,0,-ov.z,ov.y,Rm.z,0,-Rm.x,Of.z,0,-Of.x,ov.z,0,-ov.x,-Rm.y,Rm.x,0,-Of.y,Of.x,0,-ov.y,ov.x,0],!Ga(e,wp,Jc,iv,zx))||(e=[1,0,0,0,1,0,0,0,1],!Ga(e,wp,Jc,iv,zx))?!1:(jx.crossVectors(Rm,Of),e=[jx.x,jx.y,jx.z],Ga(e,wp,Jc,iv,zx))},clampPoint:function(e,r){return r===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),r=new Pe),r.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return qa.copy(e).clamp(this.min,this.max).sub(e).length()},getBoundingSphere:function(e){return e===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(qa).length(),e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()?this:(Nh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Nh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Nh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Nh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Nh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Nh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Nh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Nh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Nh),this)},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var v1=new Uo;Le(Ca.prototype,{set:function(e,r){return this.center.copy(e),this.radius=r,this},setFromPoints:function(e,r){var a=this.center;r!==void 0?a.copy(r):v1.setFromPoints(e).getCenter(a);for(var l=r=0,v=e.length;l<v;l++)r=Math.max(r,a.distanceToSquared(e[l]));return this.radius=Math.sqrt(r),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},isEmpty:function(){return 0>this.radius},makeEmpty:function(){return this.center.set(0,0,0),this.radius=-1,this},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var r=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=r*r},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,r){var a=this.center.distanceToSquared(e);return r===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),r=new Pe),r.copy(e),a>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(e){return e===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new Uo),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius*=e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});var bd=new Pe,U0=new Pe,Ux=new Pe,Dm=new Pe,yA=new Pe,Ks=new Pe,du=new Pe;Le(os.prototype,{set:function(e,r){return this.origin.copy(e),this.direction.copy(r),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,r){return r===void 0&&(console.warn("THREE.Ray: .at() target is now required"),r=new Pe),r.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,bd)),this},closestPointToPoint:function(e,r){return r===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),r=new Pe),r.subVectors(e,this.origin),e=r.dot(this.direction),0>e?r.copy(this.origin):r.copy(this.direction).multiplyScalar(e).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){var r=bd.subVectors(e,this.origin).dot(this.direction);return 0>r?this.origin.distanceToSquared(e):(bd.copy(this.direction).multiplyScalar(r).add(this.origin),bd.distanceToSquared(e))},distanceSqToSegment:function(e,r,a,l){U0.copy(e).add(r).multiplyScalar(.5),Ux.copy(r).sub(e).normalize(),Dm.copy(this.origin).sub(U0);var v=.5*e.distanceTo(r),b=-this.direction.dot(Ux),M=Dm.dot(this.direction),R=-Dm.dot(Ux),k=Dm.lengthSq(),X=Math.abs(1-b*b);if(0<X){e=b*R-M,r=b*M-R;var Y=v*X;0<=e?r>=-Y?r<=Y?(v=1/X,e*=v,r*=v,b=e*(e+b*r+2*M)+r*(b*e+r+2*R)+k):(r=v,e=Math.max(0,-(b*r+M)),b=-e*e+r*(r+2*R)+k):(r=-v,e=Math.max(0,-(b*r+M)),b=-e*e+r*(r+2*R)+k):r<=-Y?(e=Math.max(0,-(-b*v+M)),r=0<e?-v:Math.min(Math.max(-v,-R),v),b=-e*e+r*(r+2*R)+k):r<=Y?(e=0,r=Math.min(Math.max(-v,-R),v),b=r*(r+2*R)+k):(e=Math.max(0,-(b*v+M)),r=0<e?v:Math.min(Math.max(-v,-R),v),b=-e*e+r*(r+2*R)+k)}else r=0<b?-v:v,e=Math.max(0,-(b*r+M)),b=-e*e+r*(r+2*R)+k;return a&&a.copy(this.direction).multiplyScalar(e).add(this.origin),l&&l.copy(Ux).multiplyScalar(r).add(U0),b},intersectSphere:function(e,r){bd.subVectors(e.center,this.origin);var a=bd.dot(this.direction),l=bd.dot(bd)-a*a;return e=e.radius*e.radius,l>e?null:(e=Math.sqrt(e-l),l=a-e,a+=e,0>l&&0>a?null:0>l?this.at(a,r):this.at(l,r))},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var r=e.normal.dot(this.direction);return r===0?e.distanceToPoint(this.origin)===0?0:null:(e=-(this.origin.dot(e.normal)+e.constant)/r,0<=e?e:null)},intersectPlane:function(e,r){return e=this.distanceToPlane(e),e===null?null:this.at(e,r)},intersectsPlane:function(e){var r=e.distanceToPoint(this.origin);return r===0||0>e.normal.dot(this.direction)*r},intersectBox:function(e,r){var a=1/this.direction.x,l=1/this.direction.y,v=1/this.direction.z,b=this.origin;if(0<=a){var M=(e.min.x-b.x)*a;a*=e.max.x-b.x}else M=(e.max.x-b.x)*a,a*=e.min.x-b.x;if(0<=l){var R=(e.min.y-b.y)*l;l*=e.max.y-b.y}else R=(e.max.y-b.y)*l,l*=e.min.y-b.y;return M>l||R>a||((R>M||M!==M)&&(M=R),(l<a||a!==a)&&(a=l),0<=v?(R=(e.min.z-b.z)*v,e=(e.max.z-b.z)*v):(R=(e.max.z-b.z)*v,e=(e.min.z-b.z)*v),M>e||R>a)?null:((R>M||M!==M)&&(M=R),(e<a||a!==a)&&(a=e),0>a?null:this.at(0<=M?M:a,r))},intersectsBox:function(e){return this.intersectBox(e,bd)!==null},intersectTriangle:function(e,r,a,l,v){if(yA.subVectors(r,e),Ks.subVectors(a,e),du.crossVectors(yA,Ks),r=this.direction.dot(du),0<r){if(l)return null;l=1}else if(0>r)l=-1,r=-r;else return null;return Dm.subVectors(this.origin,e),e=l*this.direction.dot(Ks.crossVectors(Dm,Ks)),0>e||(a=l*this.direction.dot(yA.cross(Dm)),0>a||e+a>r)?null:(e=-l*Dm.dot(du),0>e?null:this.at(e/r,v))},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});var xA=new Pe,Vw=new Pe,Gw=new Vr;Le(_a.prototype,{isPlane:!0,set:function(e,r){return this.normal.copy(e),this.constant=r,this},setComponents:function(e,r,a,l){return this.normal.set(e,r,a),this.constant=l,this},setFromNormalAndCoplanarPoint:function(e,r){return this.normal.copy(e),this.constant=-r.dot(this.normal),this},setFromCoplanarPoints:function(e,r,a){return r=xA.subVectors(a,r).cross(Vw.subVectors(e,r)).normalize(),this.setFromNormalAndCoplanarPoint(r,e),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,r){return r===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),r=new Pe),r.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,r){r===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),r=new Pe);var a=e.delta(xA),l=this.normal.dot(a);if(l===0){if(this.distanceToPoint(e.start)===0)return r.copy(e.start)}else if(l=-(e.start.dot(this.normal)+this.constant)/l,!(0>l||1<l))return r.copy(a).multiplyScalar(l).add(e.start)},intersectsLine:function(e){var r=this.distanceToPoint(e.start);return e=this.distanceToPoint(e.end),0>r&&0<e||0>e&&0<r},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return e===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new Pe),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,r){return r=r||Gw.getNormalMatrix(e),e=this.coplanarPoint(xA).applyMatrix4(e),r=this.normal.applyMatrix3(r).normalize(),this.constant=-e.dot(r),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});var Fh=new Pe,bp=new Pe,kx=new Pe,Nm=new Pe,k0=new Pe,H0=new Pe,kl=new Pe,CA=new Pe,Hx=new Pe,Vx=new Pe;Le(Qa,{getNormal:function(e,r,a,l){return l===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),l=new Pe),l.subVectors(a,r),Fh.subVectors(e,r),l.cross(Fh),e=l.lengthSq(),0<e?l.multiplyScalar(1/Math.sqrt(e)):l.set(0,0,0)},getBarycoord:function(e,r,a,l,v){Fh.subVectors(l,r),bp.subVectors(a,r),kx.subVectors(e,r),e=Fh.dot(Fh),r=Fh.dot(bp),a=Fh.dot(kx);var b=bp.dot(bp);l=bp.dot(kx);var M=e*b-r*r;return v===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),v=new Pe),M===0?v.set(-2,-1,-1):(M=1/M,b=(b*a-r*l)*M,e=(e*l-r*a)*M,v.set(1-b-e,e,b))},containsPoint:function(e,r,a,l){return Qa.getBarycoord(e,r,a,l,Nm),0<=Nm.x&&0<=Nm.y&&1>=Nm.x+Nm.y},getUV:function(e,r,a,l,v,b,M,R){return this.getBarycoord(e,r,a,l,Nm),R.set(0,0),R.addScaledVector(v,Nm.x),R.addScaledVector(b,Nm.y),R.addScaledVector(M,Nm.z),R},isFrontFacing:function(e,r,a,l){return Fh.subVectors(a,r),bp.subVectors(e,r),0>Fh.cross(bp).dot(l)}}),Le(Qa.prototype,{set:function(e,r,a){return this.a.copy(e),this.b.copy(r),this.c.copy(a),this},setFromPointsAndIndices:function(e,r,a,l){return this.a.copy(e[r]),this.b.copy(e[a]),this.c.copy(e[l]),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return Fh.subVectors(this.c,this.b),bp.subVectors(this.a,this.b),.5*Fh.cross(bp).length()},getMidpoint:function(e){return e===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new Pe),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return Qa.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return e===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new _a),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,r){return Qa.getBarycoord(e,this.a,this.b,this.c,r)},getUV:function(e,r,a,l,v){return Qa.getUV(e,this.a,this.b,this.c,r,a,l,v)},containsPoint:function(e){return Qa.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return Qa.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,r){r===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),r=new Pe);var a=this.a,l=this.b,v=this.c;k0.subVectors(l,a),H0.subVectors(v,a),CA.subVectors(e,a);var b=k0.dot(CA),M=H0.dot(CA);if(0>=b&&0>=M)return r.copy(a);Hx.subVectors(e,l);var R=k0.dot(Hx),k=H0.dot(Hx);if(0<=R&&k<=R)return r.copy(l);var X=b*k-R*M;if(0>=X&&0<=b&&0>=R)return l=b/(b-R),r.copy(a).addScaledVector(k0,l);Vx.subVectors(e,v),e=k0.dot(Vx);var Y=H0.dot(Vx);return 0<=Y&&e<=Y?r.copy(v):(b=e*M-b*Y,0>=b&&0<=M&&0>=Y?(X=M/(M-Y),r.copy(a).addScaledVector(H0,X)):(M=R*Y-e*k,0>=M&&0<=k-R&&0<=e-Y?(kl.subVectors(v,l),X=(k-R)/(k-R+(e-Y)),r.copy(l).addScaledVector(kl,X)):(v=1/(M+b+X),l=b*v,X*=v,r.copy(a).addScaledVector(k0,l).addScaledVector(H0,X))))},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});var S2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Rf={h:0,s:0,l:0},Gx={h:0,s:0,l:0};Le(Sn.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this},setScalar:function(e){return this.b=this.g=this.r=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this},setRGB:function(e,r,a){return this.r=e,this.g=r,this.b=a,this},setHSL:function(e,r,a){return e=U.euclideanModulo(e,1),r=U.clamp(r,0,1),a=U.clamp(a,0,1),r===0?this.r=this.g=this.b=a:(r=.5>=a?a*(1+r):a+r-a*r,a=2*a-r,this.r=ih(a,r,e+1/3),this.g=ih(a,r,e),this.b=ih(a,r,e-1/3)),this},setStyle:function(e){function r(M){M!==void 0&&1>parseFloat(M)&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var a;if(a=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var l=a[2];switch(a[1]){case"rgb":case"rgba":if(a=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(l))return this.r=Math.min(255,parseInt(a[1],10))/255,this.g=Math.min(255,parseInt(a[2],10))/255,this.b=Math.min(255,parseInt(a[3],10))/255,r(a[5]),this;if(a=/^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(l))return this.r=Math.min(100,parseInt(a[1],10))/100,this.g=Math.min(100,parseInt(a[2],10))/100,this.b=Math.min(100,parseInt(a[3],10))/100,r(a[5]),this;break;case"hsl":case"hsla":if(a=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(l)){l=parseFloat(a[1])/360;var v=parseInt(a[2],10)/100,b=parseInt(a[3],10)/100;return r(a[5]),this.setHSL(l,v,b)}}}else if(a=/^#([A-Fa-f0-9]+)$/.exec(e)){if(a=a[1],l=a.length,l===3)return this.r=parseInt(a.charAt(0)+a.charAt(0),16)/255,this.g=parseInt(a.charAt(1)+a.charAt(1),16)/255,this.b=parseInt(a.charAt(2)+a.charAt(2),16)/255,this;if(l===6)return this.r=parseInt(a.charAt(0)+a.charAt(1),16)/255,this.g=parseInt(a.charAt(2)+a.charAt(3),16)/255,this.b=parseInt(a.charAt(4)+a.charAt(5),16)/255,this}return e&&0<e.length?this.setColorName(e):this},setColorName:function(e){var r=S2[e];return r!==void 0?this.setHex(r):console.warn("THREE.Color: Unknown color "+e),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,r){return r===void 0&&(r=2),this.r=Math.pow(e.r,r),this.g=Math.pow(e.g,r),this.b=Math.pow(e.b,r),this},copyLinearToGamma:function(e,r){return r===void 0&&(r=2),r=0<r?1/r:1,this.r=Math.pow(e.r,r),this.g=Math.pow(e.g,r),this.b=Math.pow(e.b,r),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=As(e.r),this.g=As(e.g),this.b=As(e.b),this},copyLinearToSRGB:function(e){return this.r=ur(e.r),this.g=ur(e.g),this.b=ur(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){e===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var r=this.r,a=this.g,l=this.b,v=Math.max(r,a,l),b=Math.min(r,a,l),M,R=(b+v)/2;if(b===v)b=M=0;else{var k=v-b;switch(b=.5>=R?k/(v+b):k/(2-v-b),v){case r:M=(a-l)/k+(a<l?6:0);break;case a:M=(l-r)/k+2;break;case l:M=(r-a)/k+4}M/=6}return e.h=M,e.s=b,e.l=R,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,r,a){return this.getHSL(Rf),Rf.h+=e,Rf.s+=r,Rf.l+=a,this.setHSL(Rf.h,Rf.s,Rf.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,r){return this.r=e.r+r.r,this.g=e.g+r.g,this.b=e.b+r.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,r){return this.r+=(e.r-this.r)*r,this.g+=(e.g-this.g)*r,this.b+=(e.b-this.b)*r,this},lerpHSL:function(e,r){this.getHSL(Rf),e.getHSL(Gx),e=U.lerp(Rf.h,Gx.h,r);var a=U.lerp(Rf.s,Gx.s,r);return r=U.lerp(Rf.l,Gx.l,r),this.setHSL(e,a,r),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,r){return r===void 0&&(r=0),this.r=e[r],this.g=e[r+1],this.b=e[r+2],this},toArray:function(e,r){return e===void 0&&(e=[]),r===void 0&&(r=0),e[r]=this.r,e[r+1]=this.g,e[r+2]=this.b,e},toJSON:function(){return this.getHex()}}),Sn.NAMES=S2,Le(ua.prototype,{clone:function(){return new this.constructor().copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var r=0,a=e.vertexNormals.length;r<a;r++)this.vertexNormals[r]=e.vertexNormals[r].clone();for(r=0,a=e.vertexColors.length;r<a;r++)this.vertexColors[r]=e.vertexColors[r].clone();return this}});var Ww=0;vn.prototype=Le(Oe(br.prototype),{constructor:vn,isMaterial:!0,onBeforeCompile:function(){},setValues:function(e){if(e!==void 0)for(var r in e){var a=e[r];if(a===void 0)console.warn("THREE.Material: '"+r+"' parameter is undefined.");else if(r==="shading")console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=a===1;else{var l=this[r];l===void 0?console.warn("THREE."+this.type+": '"+r+"' is not a property of this material."):l&&l.isColor?l.set(a):l&&l.isVector3&&a&&a.isVector3?l.copy(a):this[r]=a}}},toJSON:function(e){function r(v){var b=[],M;for(M in v){var R=v[M];delete R.metadata,b.push(R)}return b}var a=e===void 0||typeof e=="string";a&&(e={textures:{},images:{}});var l={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};return l.uuid=this.uuid,l.type=this.type,this.name!==""&&(l.name=this.name),this.color&&this.color.isColor&&(l.color=this.color.getHex()),this.roughness!==void 0&&(l.roughness=this.roughness),this.metalness!==void 0&&(l.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(l.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(l.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(l.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(l.specular=this.specular.getHex()),this.shininess!==void 0&&(l.shininess=this.shininess),this.clearcoat!==void 0&&(l.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(l.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(l.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(l.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(l.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,l.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(l.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(l.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(l.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(l.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(l.aoMap=this.aoMap.toJSON(e).uuid,l.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(l.bumpMap=this.bumpMap.toJSON(e).uuid,l.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(l.normalMap=this.normalMap.toJSON(e).uuid,l.normalMapType=this.normalMapType,l.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(l.displacementMap=this.displacementMap.toJSON(e).uuid,l.displacementScale=this.displacementScale,l.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(l.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(l.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(l.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(l.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(l.envMap=this.envMap.toJSON(e).uuid,l.reflectivity=this.reflectivity,l.refractionRatio=this.refractionRatio,this.combine!==void 0&&(l.combine=this.combine),this.envMapIntensity!==void 0&&(l.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(l.gradientMap=this.gradientMap.toJSON(e).uuid),this.size!==void 0&&(l.size=this.size),this.sizeAttenuation!==void 0&&(l.sizeAttenuation=this.sizeAttenuation),this.blending!==1&&(l.blending=this.blending),this.flatShading===!0&&(l.flatShading=this.flatShading),this.side!==0&&(l.side=this.side),this.vertexColors&&(l.vertexColors=!0),1>this.opacity&&(l.opacity=this.opacity),this.transparent===!0&&(l.transparent=this.transparent),l.depthFunc=this.depthFunc,l.depthTest=this.depthTest,l.depthWrite=this.depthWrite,l.stencilWrite=this.stencilWrite,l.stencilWriteMask=this.stencilWriteMask,l.stencilFunc=this.stencilFunc,l.stencilRef=this.stencilRef,l.stencilFuncMask=this.stencilFuncMask,l.stencilFail=this.stencilFail,l.stencilZFail=this.stencilZFail,l.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(l.rotation=this.rotation),this.polygonOffset===!0&&(l.polygonOffset=!0),this.polygonOffsetFactor!==0&&(l.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(l.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(l.linewidth=this.linewidth),this.dashSize!==void 0&&(l.dashSize=this.dashSize),this.gapSize!==void 0&&(l.gapSize=this.gapSize),this.scale!==void 0&&(l.scale=this.scale),this.dithering===!0&&(l.dithering=!0),0<this.alphaTest&&(l.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(l.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(l.wireframe=this.wireframe),1<this.wireframeLinewidth&&(l.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(l.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(l.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(l.morphTargets=!0),this.morphNormals===!0&&(l.morphNormals=!0),this.skinning===!0&&(l.skinning=!0),this.visible===!1&&(l.visible=!1),this.toneMapped===!1&&(l.toneMapped=!1),ru(this.userData)!=="{}"&&(l.userData=this.userData),a&&(a=r(e.textures),e=r(e.images),0<a.length&&(l.textures=a),0<e.length&&(l.images=e)),l},clone:function(){return new this.constructor().copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var r=e.clippingPlanes,a=null;if(r!==null){var l=r.length;a=Array(l);for(var v=0;v!==l;++v)a[v]=r[v].clone()}return this.clippingPlanes=a,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(ru(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(vn.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}}),No.prototype=Oe(vn.prototype),No.prototype.constructor=No,No.prototype.isMeshBasicMaterial=!0,No.prototype.copy=function(n){return vn.prototype.copy.call(this,n),this.color.copy(n.color),this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.combine=n.combine,this.reflectivity=n.reflectivity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this};var da=new Pe;Object.defineProperty(ti.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}}),Le(ti.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,r,a){e*=this.itemSize,a*=r.itemSize;for(var l=0,v=this.itemSize;l<v;l++)this.array[e+l]=r.array[a+l];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var r=this.array,a=0,l=0,v=e.length;l<v;l++){var b=e[l];b===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",l),b=new Sn),r[a++]=b.r,r[a++]=b.g,r[a++]=b.b}return this},copyVector2sArray:function(e){for(var r=this.array,a=0,l=0,v=e.length;l<v;l++){var b=e[l];b===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",l),b=new Tt),r[a++]=b.x,r[a++]=b.y}return this},copyVector3sArray:function(e){for(var r=this.array,a=0,l=0,v=e.length;l<v;l++){var b=e[l];b===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",l),b=new Pe),r[a++]=b.x,r[a++]=b.y,r[a++]=b.z}return this},copyVector4sArray:function(e){for(var r=this.array,a=0,l=0,v=e.length;l<v;l++){var b=e[l];b===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",l),b=new Dt),r[a++]=b.x,r[a++]=b.y,r[a++]=b.z,r[a++]=b.w}return this},applyMatrix3:function(e){for(var r=0,a=this.count;r<a;r++)da.x=this.getX(r),da.y=this.getY(r),da.z=this.getZ(r),da.applyMatrix3(e),this.setXYZ(r,da.x,da.y,da.z);return this},applyMatrix4:function(e){for(var r=0,a=this.count;r<a;r++)da.x=this.getX(r),da.y=this.getY(r),da.z=this.getZ(r),da.applyMatrix4(e),this.setXYZ(r,da.x,da.y,da.z);return this},applyNormalMatrix:function(e){for(var r=0,a=this.count;r<a;r++)da.x=this.getX(r),da.y=this.getY(r),da.z=this.getZ(r),da.applyNormalMatrix(e),this.setXYZ(r,da.x,da.y,da.z);return this},transformDirection:function(e){for(var r=0,a=this.count;r<a;r++)da.x=this.getX(r),da.y=this.getY(r),da.z=this.getZ(r),da.transformDirection(e),this.setXYZ(r,da.x,da.y,da.z);return this},set:function(e,r){return r===void 0&&(r=0),this.array.set(e,r),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,r){return this.array[e*this.itemSize]=r,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,r){return this.array[e*this.itemSize+1]=r,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,r){return this.array[e*this.itemSize+2]=r,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,r){return this.array[e*this.itemSize+3]=r,this},setXY:function(e,r,a){return e*=this.itemSize,this.array[e+0]=r,this.array[e+1]=a,this},setXYZ:function(e,r,a,l){return e*=this.itemSize,this.array[e+0]=r,this.array[e+1]=a,this.array[e+2]=l,this},setXYZW:function(e,r,a,l,v){return e*=this.itemSize,this.array[e+0]=r,this.array[e+1]=a,this.array[e+2]=l,this.array[e+3]=v,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),Xa.prototype=Oe(ti.prototype),Xa.prototype.constructor=Xa,yu.prototype=Oe(ti.prototype),yu.prototype.constructor=yu,Wh.prototype=Oe(ti.prototype),Wh.prototype.constructor=Wh,El.prototype=Oe(ti.prototype),El.prototype.constructor=El,el.prototype=Oe(ti.prototype),el.prototype.constructor=el,Ma.prototype=Oe(ti.prototype),Ma.prototype.constructor=Ma,ws.prototype=Oe(ti.prototype),ws.prototype.constructor=ws,_n.prototype=Oe(ti.prototype),_n.prototype.constructor=_n,xu.prototype=Oe(ti.prototype),xu.prototype.constructor=xu,Le(oh.prototype,{computeGroups:function(e){var r=[],a=void 0;e=e.faces;for(var l=0;l<e.length;l++){var v=e[l];if(v.materialIndex!==a){a=v.materialIndex,b!==void 0&&(b.count=3*l-b.start,r.push(b));var b={start:3*l,materialIndex:a}}}b!==void 0&&(b.count=3*l-b.start,r.push(b)),this.groups=r},fromGeometry:function(e){var r=e.faces,a=e.vertices,l=e.faceVertexUvs,v=l[0]&&0<l[0].length,b=l[1]&&0<l[1].length,M=e.morphTargets,R=M.length;if(0<R){for(var k=[],X=0;X<R;X++)k[X]={name:M[X].name,data:[]};this.morphTargets.position=k}var Y=e.morphNormals,ie=Y.length;if(0<ie){var le=[];for(X=0;X<ie;X++)le[X]={name:Y[X].name,data:[]};this.morphTargets.normal=le}var Ae=e.skinIndices,we=e.skinWeights,Qe=Ae.length===a.length,yt=we.length===a.length;for(0<a.length&&r.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported."),X=0;X<r.length;X++){var dt=r[X];this.vertices.push(a[dt.a],a[dt.b],a[dt.c]);var vt=dt.vertexNormals;for(vt.length===3?this.normals.push(vt[0],vt[1],vt[2]):(vt=dt.normal,this.normals.push(vt,vt,vt)),vt=dt.vertexColors,vt.length===3?this.colors.push(vt[0],vt[1],vt[2]):(vt=dt.color,this.colors.push(vt,vt,vt)),v===!0&&(vt=l[0][X],vt!==void 0?this.uvs.push(vt[0],vt[1],vt[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",X),this.uvs.push(new Tt,new Tt,new Tt))),b===!0&&(vt=l[1][X],vt!==void 0?this.uvs2.push(vt[0],vt[1],vt[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",X),this.uvs2.push(new Tt,new Tt,new Tt))),vt=0;vt<R;vt++){var Lt=M[vt].vertices;k[vt].data.push(Lt[dt.a],Lt[dt.b],Lt[dt.c])}for(vt=0;vt<ie;vt++)Lt=Y[vt].vertexNormals[X],le[vt].data.push(Lt.a,Lt.b,Lt.c);Qe&&this.skinIndices.push(Ae[dt.a],Ae[dt.b],Ae[dt.c]),yt&&this.skinWeights.push(we[dt.a],we[dt.b],we[dt.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this}});var _2=1,Sd=new ir,AA=new an,av=new Pe,dc=new Uo,V0=new Uo,ma=new Pe;Yn.prototype=Le(Oe(br.prototype),{constructor:Yn,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(65535<bs(e)?ws:el)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,r){return this.attributes[e]=r,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,r,a){this.groups.push({start:e,count:r,materialIndex:a!==void 0?a:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,r){this.drawRange.start=e,this.drawRange.count=r},applyMatrix4:function(e){var r=this.attributes.position;if(r!==void 0&&(r.applyMatrix4(e),r.needsUpdate=!0),r=this.attributes.normal,r!==void 0){var a=new Vr().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}return r=this.attributes.tangent,r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(e){return Sd.makeRotationX(e),this.applyMatrix4(Sd),this},rotateY:function(e){return Sd.makeRotationY(e),this.applyMatrix4(Sd),this},rotateZ:function(e){return Sd.makeRotationZ(e),this.applyMatrix4(Sd),this},translate:function(e,r,a){return Sd.makeTranslation(e,r,a),this.applyMatrix4(Sd),this},scale:function(e,r,a){return Sd.makeScale(e,r,a),this.applyMatrix4(Sd),this},lookAt:function(e){return AA.lookAt(e),AA.updateMatrix(),this.applyMatrix4(AA.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(av).negate(),this.translate(av.x,av.y,av.z),this},setFromObject:function(e){var r=e.geometry;if(e.isPoints||e.isLine){e=new _n(3*r.vertices.length,3);var a=new _n(3*r.colors.length,3);this.setAttribute("position",e.copyVector3sArray(r.vertices)),this.setAttribute("color",a.copyColorsArray(r.colors)),r.lineDistances&&r.lineDistances.length===r.vertices.length&&(e=new _n(r.lineDistances.length,1),this.setAttribute("lineDistance",e.copyArray(r.lineDistances))),r.boundingSphere!==null&&(this.boundingSphere=r.boundingSphere.clone()),r.boundingBox!==null&&(this.boundingBox=r.boundingBox.clone())}else e.isMesh&&r&&r.isGeometry&&this.fromGeometry(r);return this},setFromPoints:function(e){for(var r=[],a=0,l=e.length;a<l;a++){var v=e[a];r.push(v.x,v.y,v.z||0)}return this.setAttribute("position",new _n(r,3)),this},updateFromObject:function(e){var r=e.geometry;if(e.isMesh){var a=r.__directGeometry;if(r.elementsNeedUpdate===!0&&(a=void 0,r.elementsNeedUpdate=!1),a===void 0)return this.fromGeometry(r);a.verticesNeedUpdate=r.verticesNeedUpdate,a.normalsNeedUpdate=r.normalsNeedUpdate,a.colorsNeedUpdate=r.colorsNeedUpdate,a.uvsNeedUpdate=r.uvsNeedUpdate,a.groupsNeedUpdate=r.groupsNeedUpdate,r.verticesNeedUpdate=!1,r.normalsNeedUpdate=!1,r.colorsNeedUpdate=!1,r.uvsNeedUpdate=!1,r.groupsNeedUpdate=!1,r=a}return r.verticesNeedUpdate===!0&&(a=this.attributes.position,a!==void 0&&(a.copyVector3sArray(r.vertices),a.needsUpdate=!0),r.verticesNeedUpdate=!1),r.normalsNeedUpdate===!0&&(a=this.attributes.normal,a!==void 0&&(a.copyVector3sArray(r.normals),a.needsUpdate=!0),r.normalsNeedUpdate=!1),r.colorsNeedUpdate===!0&&(a=this.attributes.color,a!==void 0&&(a.copyColorsArray(r.colors),a.needsUpdate=!0),r.colorsNeedUpdate=!1),r.uvsNeedUpdate&&(a=this.attributes.uv,a!==void 0&&(a.copyVector2sArray(r.uvs),a.needsUpdate=!0),r.uvsNeedUpdate=!1),r.lineDistancesNeedUpdate&&(a=this.attributes.lineDistance,a!==void 0&&(a.copyArray(r.lineDistances),a.needsUpdate=!0),r.lineDistancesNeedUpdate=!1),r.groupsNeedUpdate&&(r.computeGroups(e.geometry),this.groups=r.groups,r.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=new oh().fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var r=new Float32Array(3*e.vertices.length);this.setAttribute("position",new ti(r,3).copyVector3sArray(e.vertices)),0<e.normals.length&&(r=new Float32Array(3*e.normals.length),this.setAttribute("normal",new ti(r,3).copyVector3sArray(e.normals))),0<e.colors.length&&(r=new Float32Array(3*e.colors.length),this.setAttribute("color",new ti(r,3).copyColorsArray(e.colors))),0<e.uvs.length&&(r=new Float32Array(2*e.uvs.length),this.setAttribute("uv",new ti(r,2).copyVector2sArray(e.uvs))),0<e.uvs2.length&&(r=new Float32Array(2*e.uvs2.length),this.setAttribute("uv2",new ti(r,2).copyVector2sArray(e.uvs2))),this.groups=e.groups;for(var a in e.morphTargets){r=[];for(var l=e.morphTargets[a],v=0,b=l.length;v<b;v++){var M=l[v],R=new _n(3*M.data.length,3);R.name=M.name,r.push(R.copyVector3sArray(M.data))}this.morphAttributes[a]=r}return 0<e.skinIndices.length&&(a=new _n(4*e.skinIndices.length,4),this.setAttribute("skinIndex",a.copyVector4sArray(e.skinIndices))),0<e.skinWeights.length&&(a=new _n(4*e.skinWeights.length,4),this.setAttribute("skinWeight",a.copyVector4sArray(e.skinWeights))),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Uo);var e=this.attributes.position,r=this.morphAttributes.position;if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),r){e=0;for(var a=r.length;e<a;e++)dc.setFromBufferAttribute(r[e]),this.morphTargetsRelative?(ma.addVectors(this.boundingBox.min,dc.min),this.boundingBox.expandByPoint(ma),ma.addVectors(this.boundingBox.max,dc.max),this.boundingBox.expandByPoint(ma)):(this.boundingBox.expandByPoint(dc.min),this.boundingBox.expandByPoint(dc.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new Ca);var e=this.attributes.position,r=this.morphAttributes.position;if(e){var a=this.boundingSphere.center;if(dc.setFromBufferAttribute(e),r)for(var l=0,v=r.length;l<v;l++){var b=r[l];V0.setFromBufferAttribute(b),this.morphTargetsRelative?(ma.addVectors(dc.min,V0.min),dc.expandByPoint(ma),ma.addVectors(dc.max,V0.max),dc.expandByPoint(ma)):(dc.expandByPoint(V0.min),dc.expandByPoint(V0.max))}dc.getCenter(a);var M=0;for(l=0,v=e.count;l<v;l++)ma.fromBufferAttribute(e,l),M=Math.max(M,a.distanceToSquared(ma));if(r)for(l=0,v=r.length;l<v;l++){b=r[l];for(var R=this.morphTargetsRelative,k=0,X=b.count;k<X;k++)ma.fromBufferAttribute(b,k),R&&(av.fromBufferAttribute(e,k),ma.add(av)),M=Math.max(M,a.distanceToSquared(ma))}this.boundingSphere.radius=Math.sqrt(M),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,r=this.attributes;if(r.position){var a=r.position.array;if(r.normal===void 0)this.setAttribute("normal",new ti(new Float32Array(a.length),3));else for(var l=r.normal.array,v=0,b=l.length;v<b;v++)l[v]=0;l=r.normal.array;var M=new Pe,R=new Pe,k=new Pe,X=new Pe,Y=new Pe;if(e){var ie=e.array;for(v=0,b=e.count;v<b;v+=3){e=3*ie[v+0];var le=3*ie[v+1],Ae=3*ie[v+2];M.fromArray(a,e),R.fromArray(a,le),k.fromArray(a,Ae),X.subVectors(k,R),Y.subVectors(M,R),X.cross(Y),l[e]+=X.x,l[e+1]+=X.y,l[e+2]+=X.z,l[le]+=X.x,l[le+1]+=X.y,l[le+2]+=X.z,l[Ae]+=X.x,l[Ae+1]+=X.y,l[Ae+2]+=X.z}}else for(v=0,b=a.length;v<b;v+=9)M.fromArray(a,v),R.fromArray(a,v+3),k.fromArray(a,v+6),X.subVectors(k,R),Y.subVectors(M,R),X.cross(Y),l[v]=X.x,l[v+1]=X.y,l[v+2]=X.z,l[v+3]=X.x,l[v+4]=X.y,l[v+5]=X.z,l[v+6]=X.x,l[v+7]=X.y,l[v+8]=X.z;this.normalizeNormals(),r.normal.needsUpdate=!0}},merge:function(e,r){if(e&&e.isBufferGeometry){r===void 0&&(r=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var a=this.attributes,l;for(l in a)if(e.attributes[l]!==void 0){var v=a[l].array,b=e.attributes[l],M=b.array,R=b.itemSize*r;b=Math.min(M.length,v.length-R);for(var k=0;k<b;k++,R++)v[R]=M[k]}return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){for(var e=this.attributes.normal,r=0,a=e.count;r<a;r++)ma.x=e.getX(r),ma.y=e.getY(r),ma.z=e.getZ(r),ma.normalize(),e.setXYZ(r,ma.x,ma.y,ma.z)},toNonIndexed:function(){function e(Y,ie){var le=Y.array,Ae=Y.itemSize;Y=Y.normalized;for(var we=new le.constructor(ie.length*Ae),Qe,yt=0,dt=0,vt=ie.length;dt<vt;dt++){Qe=ie[dt]*Ae;for(var Lt=0;Lt<Ae;Lt++)we[yt++]=le[Qe++]}return new ti(we,Ae,Y)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var r=new Yn,a=this.index.array,l=this.attributes,v;for(v in l){var b=l[v];b=e(b,a),r.setAttribute(v,b)}var M=this.morphAttributes;for(v in M){var R=[],k=M[v];l=0;for(var X=k.length;l<X;l++)b=k[l],b=e(b,a),R.push(b);r.morphAttributes[v]=R}for(r.morphTargetsRelative=this.morphTargetsRelative,a=this.groups,l=0,v=a.length;l<v;l++)b=a[l],r.addGroup(b.start,b.count,b.materialIndex);return r},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),0<es(this.userData).length&&(e.userData=this.userData),this.parameters!==void 0){var r=this.parameters;for(X in r)r[X]!==void 0&&(e[X]=r[X]);return e}e.data={attributes:{}},r=this.index,r!==null&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var a=this.attributes;for(X in a){r=a[X];var l=r.toJSON();r.name!==""&&(l.name=r.name),e.data.attributes[X]=l}a={};var v=!1;for(X in this.morphAttributes){for(var b=this.morphAttributes[X],M=[],R=0,k=b.length;R<k;R++)r=b[R],l=r.toJSON(),r.name!==""&&(l.name=r.name),M.push(l);0<M.length&&(a[X]=M,v=!0)}v&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);var X=this.groups;return 0<X.length&&(e.data.groups=JSON.parse(ru(X))),X=this.boundingSphere,X!==null&&(e.data.boundingSphere={center:X.center.toArray(),radius:X.radius}),e},clone:function(){return new Yn().copy(this)},copy:function(e){var r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingSphere=this.boundingBox=null,this.name=e.name;var a=e.index;a!==null&&this.setIndex(a.clone()),a=e.attributes;for(M in a)this.setAttribute(M,a[M].clone());var l=e.morphAttributes;for(M in l){var v=[],b=l[M];for(a=0,r=b.length;a<r;a++)v.push(b[a].clone());this.morphAttributes[M]=v}this.morphTargetsRelative=e.morphTargetsRelative;var M=e.groups;for(a=0,r=M.length;a<r;a++)l=M[a],this.addGroup(l.start,l.count,l.materialIndex);return M=e.boundingBox,M!==null&&(this.boundingBox=M.clone()),M=e.boundingSphere,M!==null&&(this.boundingSphere=M.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var y1=new ir,sv=new os,Fm=new Ca,Bm=new Pe,zm=new Pe,Sp=new Pe,wA=new Pe,bA=new Pe,lv=new Pe,G0=new Pe,x1=new Pe,Wx=new Pe,W0=new Tt,_p=new Tt,Y0=new Tt,uv=new Pe,Mp=new Pe;so.prototype=Le(Oe(an.prototype),{constructor:so,isMesh:!0,copy:function(e){return an.prototype.copy.call(this,e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Le({},e.morphTargetDictionary)),this},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){e=e.morphAttributes;var r=es(e);if(0<r.length){var a=e[r[0]];if(a!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,r=a.length;e<r;e++){var l=a[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=e}}}else e=e.morphTargets,e!==void 0&&0<e.length&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},raycast:function(e,r){var a=this.geometry,l=this.material,v=this.matrixWorld;if(l!==void 0&&(a.boundingSphere===null&&a.computeBoundingSphere(),Fm.copy(a.boundingSphere),Fm.applyMatrix4(v),e.ray.intersectsSphere(Fm)!==!1&&(y1.getInverse(v),sv.copy(e.ray).applyMatrix4(y1),a.boundingBox===null||sv.intersectsBox(a.boundingBox)!==!1))){if(a.isBufferGeometry){var b=a.index;v=a.attributes.position;var M=a.morphAttributes.position,R=a.morphTargetsRelative,k=a.attributes.uv,X=a.attributes.uv2,Y=a.groups,ie=a.drawRange,le,Ae;if(b!==null)if(Array.isArray(l)){var we=0;for(le=Y.length;we<le;we++){var Qe=Y[we],yt=l[Qe.materialIndex],dt=Math.max(Qe.start,ie.start);for(Ae=a=Math.min(Qe.start+Qe.count,ie.start+ie.count);dt<Ae;dt+=3){a=b.getX(dt);var vt=b.getX(dt+1),Lt=b.getX(dt+2);(a=dl(this,yt,e,sv,v,M,R,k,X,a,vt,Lt))&&(a.faceIndex=Math.floor(dt/3),a.face.materialIndex=Qe.materialIndex,r.push(a))}}}else for(dt=Math.max(0,ie.start),a=Math.min(b.count,ie.start+ie.count),we=dt,le=a;we<le;we+=3)a=b.getX(we),vt=b.getX(we+1),Lt=b.getX(we+2),(a=dl(this,l,e,sv,v,M,R,k,X,a,vt,Lt))&&(a.faceIndex=Math.floor(we/3),r.push(a));else if(v!==void 0)if(Array.isArray(l))for(we=0,le=Y.length;we<le;we++)for(Qe=Y[we],yt=l[Qe.materialIndex],dt=Math.max(Qe.start,ie.start),Ae=a=Math.min(Qe.start+Qe.count,ie.start+ie.count);dt<Ae;dt+=3)a=dt,vt=dt+1,Lt=dt+2,(a=dl(this,yt,e,sv,v,M,R,k,X,a,vt,Lt))&&(a.faceIndex=Math.floor(dt/3),a.face.materialIndex=Qe.materialIndex,r.push(a));else for(dt=Math.max(0,ie.start),a=Math.min(v.count,ie.start+ie.count),we=dt,le=a;we<le;we+=3)a=we,vt=we+1,Lt=we+2,(a=dl(this,l,e,sv,v,M,R,k,X,a,vt,Lt))&&(a.faceIndex=Math.floor(we/3),r.push(a))}else if(a.isGeometry)for(v=Array.isArray(l),M=a.vertices,R=a.faces,a=a.faceVertexUvs[0],0<a.length&&(b=a),ie=0,we=R.length;ie<we;ie++)le=R[ie],a=v?l[le.materialIndex]:l,a!==void 0&&(k=M[le.a],X=M[le.b],Y=M[le.c],a=Vf(this,a,e,sv,k,X,Y,uv))&&(b&&b[ie]&&(Qe=b[ie],W0.copy(Qe[0]),_p.copy(Qe[1]),Y0.copy(Qe[2]),a.uv=Qa.getUV(uv,k,X,Y,W0,_p,Y0,new Tt)),a.face=le,a.faceIndex=ie,r.push(a))}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var M2=0,Lf=new ir,cv=new an,hv=new Pe;Gi.prototype=Le(Oe(br.prototype),{constructor:Gi,isGeometry:!0,applyMatrix4:function(e){for(var r=new Vr().getNormalMatrix(e),a=0,l=this.vertices.length;a<l;a++)this.vertices[a].applyMatrix4(e);for(a=0,l=this.faces.length;a<l;a++){e=this.faces[a],e.normal.applyMatrix3(r).normalize();for(var v=0,b=e.vertexNormals.length;v<b;v++)e.vertexNormals[v].applyMatrix3(r).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.normalsNeedUpdate=this.verticesNeedUpdate=!0,this},rotateX:function(e){return Lf.makeRotationX(e),this.applyMatrix4(Lf),this},rotateY:function(e){return Lf.makeRotationY(e),this.applyMatrix4(Lf),this},rotateZ:function(e){return Lf.makeRotationZ(e),this.applyMatrix4(Lf),this},translate:function(e,r,a){return Lf.makeTranslation(e,r,a),this.applyMatrix4(Lf),this},scale:function(e,r,a){return Lf.makeScale(e,r,a),this.applyMatrix4(Lf),this},lookAt:function(e){return cv.lookAt(e),cv.updateMatrix(),this.applyMatrix4(cv.matrix),this},fromBufferGeometry:function(e){function r(Ae,we,Qe,yt){var dt=R===void 0?[]:[a.colors[Ae].clone(),a.colors[we].clone(),a.colors[Qe].clone()],vt=M===void 0?[]:[new Pe().fromArray(M,3*Ae),new Pe().fromArray(M,3*we),new Pe().fromArray(M,3*Qe)];yt=new ua(Ae,we,Qe,vt,dt,yt),a.faces.push(yt),k!==void 0&&a.faceVertexUvs[0].push([new Tt().fromArray(k,2*Ae),new Tt().fromArray(k,2*we),new Tt().fromArray(k,2*Qe)]),X!==void 0&&a.faceVertexUvs[1].push([new Tt().fromArray(X,2*Ae),new Tt().fromArray(X,2*we),new Tt().fromArray(X,2*Qe)])}var a=this,l=e.index!==null?e.index.array:void 0,v=e.attributes;if(v.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var b=v.position.array,M=v.normal!==void 0?v.normal.array:void 0,R=v.color!==void 0?v.color.array:void 0,k=v.uv!==void 0?v.uv.array:void 0,X=v.uv2!==void 0?v.uv2.array:void 0;for(X!==void 0&&(this.faceVertexUvs[1]=[]),v=0;v<b.length;v+=3)a.vertices.push(new Pe().fromArray(b,v)),R!==void 0&&a.colors.push(new Sn().fromArray(R,v));var Y=e.groups;if(0<Y.length)for(v=0;v<Y.length;v++){b=Y[v];var ie=b.start,le=ie;for(ie+=b.count;le<ie;le+=3)l!==void 0?r(l[le],l[le+1],l[le+2],b.materialIndex):r(le,le+1,le+2,b.materialIndex)}else if(l!==void 0)for(v=0;v<l.length;v+=3)r(l[v],l[v+1],l[v+2]);else for(v=0;v<b.length/3;v+=3)r(v,v+1,v+2);return this.computeFaceNormals(),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(hv).negate(),this.translate(hv.x,hv.y,hv.z),this},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,r=this.boundingSphere.radius;r=r===0?1:1/r;var a=new ir;return a.set(r,0,0,-r*e.x,0,r,0,-r*e.y,0,0,r,-r*e.z,0,0,0,1),this.applyMatrix4(a),this},computeFaceNormals:function(){for(var e=new Pe,r=new Pe,a=0,l=this.faces.length;a<l;a++){var v=this.faces[a],b=this.vertices[v.a],M=this.vertices[v.b];e.subVectors(this.vertices[v.c],M),r.subVectors(b,M),e.cross(r),e.normalize(),v.normal.copy(e)}},computeVertexNormals:function(e){e===void 0&&(e=!0);var r,a=Array(this.vertices.length),l=0;for(r=this.vertices.length;l<r;l++)a[l]=new Pe;if(e){var v=new Pe,b=new Pe;for(e=0,l=this.faces.length;e<l;e++){r=this.faces[e];var M=this.vertices[r.a],R=this.vertices[r.b],k=this.vertices[r.c];v.subVectors(k,R),b.subVectors(M,R),v.cross(b),a[r.a].add(v),a[r.b].add(v),a[r.c].add(v)}}else for(this.computeFaceNormals(),e=0,l=this.faces.length;e<l;e++)r=this.faces[e],a[r.a].add(r.normal),a[r.b].add(r.normal),a[r.c].add(r.normal);for(l=0,r=this.vertices.length;l<r;l++)a[l].normalize();for(e=0,l=this.faces.length;e<l;e++)r=this.faces[e],M=r.vertexNormals,M.length===3?(M[0].copy(a[r.a]),M[1].copy(a[r.b]),M[2].copy(a[r.c])):(M[0]=a[r.a].clone(),M[1]=a[r.b].clone(),M[2]=a[r.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e;this.computeFaceNormals();var r=0;for(e=this.faces.length;r<e;r++){var a=this.faces[r],l=a.vertexNormals;l.length===3?(l[0].copy(a.normal),l[1].copy(a.normal),l[2].copy(a.normal)):(l[0]=a.normal.clone(),l[1]=a.normal.clone(),l[2]=a.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,r,a=0;for(r=this.faces.length;a<r;a++){var l=this.faces[a];l.__originalFaceNormal?l.__originalFaceNormal.copy(l.normal):l.__originalFaceNormal=l.normal.clone(),l.__originalVertexNormals||(l.__originalVertexNormals=[]);var v=0;for(e=l.vertexNormals.length;v<e;v++)l.__originalVertexNormals[v]?l.__originalVertexNormals[v].copy(l.vertexNormals[v]):l.__originalVertexNormals[v]=l.vertexNormals[v].clone()}var b=new Gi;for(b.faces=this.faces,v=0,e=this.morphTargets.length;v<e;v++){if(!this.morphNormals[v]){this.morphNormals[v]={},this.morphNormals[v].faceNormals=[],this.morphNormals[v].vertexNormals=[],l=this.morphNormals[v].faceNormals;var M=this.morphNormals[v].vertexNormals;for(a=0,r=this.faces.length;a<r;a++){var R=new Pe,k={a:new Pe,b:new Pe,c:new Pe};l.push(R),M.push(k)}}for(M=this.morphNormals[v],b.vertices=this.morphTargets[v].vertices,b.computeFaceNormals(),b.computeVertexNormals(),a=0,r=this.faces.length;a<r;a++)l=this.faces[a],R=M.faceNormals[a],k=M.vertexNormals[a],R.copy(l.normal),k.a.copy(l.vertexNormals[0]),k.b.copy(l.vertexNormals[1]),k.c.copy(l.vertexNormals[2])}for(a=0,r=this.faces.length;a<r;a++)l=this.faces[a],l.normal=l.__originalFaceNormal,l.vertexNormals=l.__originalVertexNormals},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Uo),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new Ca),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,r,a){if(e&&e.isGeometry){var l,v=this.vertices.length,b=this.vertices,M=e.vertices,R=this.faces,k=e.faces,X=this.colors,Y=e.colors;a===void 0&&(a=0),r!==void 0&&(l=new Vr().getNormalMatrix(r));for(var ie=0,le=M.length;ie<le;ie++){var Ae=M[ie].clone();r!==void 0&&Ae.applyMatrix4(r),b.push(Ae)}for(ie=0,le=Y.length;ie<le;ie++)X.push(Y[ie].clone());for(ie=0,le=k.length;ie<le;ie++){M=k[ie];var we=M.vertexNormals;for(Y=M.vertexColors,X=new ua(M.a+v,M.b+v,M.c+v),X.normal.copy(M.normal),l!==void 0&&X.normal.applyMatrix3(l).normalize(),r=0,b=we.length;r<b;r++)Ae=we[r].clone(),l!==void 0&&Ae.applyMatrix3(l).normalize(),X.vertexNormals.push(Ae);for(X.color.copy(M.color),r=0,b=Y.length;r<b;r++)Ae=Y[r],X.vertexColors.push(Ae.clone());X.materialIndex=M.materialIndex+a,R.push(X)}for(ie=0,le=e.faceVertexUvs.length;ie<le;ie++)for(a=e.faceVertexUvs[ie],this.faceVertexUvs[ie]===void 0&&(this.faceVertexUvs[ie]=[]),r=0,b=a.length;r<b;r++){for(l=a[r],v=[],R=0,k=l.length;R<k;R++)v.push(l[R].clone());this.faceVertexUvs[ie].push(v)}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){var e={},r=[],a=[],l=Math.pow(10,4),v,b=0;for(v=this.vertices.length;b<v;b++){var M=this.vertices[b];M=Math.round(M.x*l)+"_"+Math.round(M.y*l)+"_"+Math.round(M.z*l),e[M]===void 0?(e[M]=b,r.push(this.vertices[b]),a[b]=r.length-1):a[b]=a[e[M]]}for(e=[],b=0,v=this.faces.length;b<v;b++)for(l=this.faces[b],l.a=a[l.a],l.b=a[l.b],l.c=a[l.c],l=[l.a,l.b,l.c],M=0;3>M;M++)if(l[M]===l[(M+1)%3]){e.push(b);break}for(b=e.length-1;0<=b;b--)for(l=e[b],this.faces.splice(l,1),a=0,v=this.faceVertexUvs.length;a<v;a++)this.faceVertexUvs[a].splice(l,1);return b=this.vertices.length-r.length,this.vertices=r,b},setFromPoints:function(e){this.vertices=[];for(var r=0,a=e.length;r<a;r++){var l=e[r];this.vertices.push(new Pe(l.x,l.y,l.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,r=e.length,a=0;a<r;a++)e[a]._id=a;e.sort(function(k,X){return k.materialIndex-X.materialIndex});var l=this.faceVertexUvs[0],v=this.faceVertexUvs[1],b,M;for(l&&l.length===r&&(b=[]),v&&v.length===r&&(M=[]),a=0;a<r;a++){var R=e[a]._id;b&&b.push(l[R]),M&&M.push(v[R])}b&&(this.faceVertexUvs[0]=b),M&&(this.faceVertexUvs[1]=M)},toJSON:function(){function e(Ut,at,jr){return jr?Ut|1<<at:Ut&~(1<<at)}function r(Ut){var at=Ut.x.toString()+Ut.y.toString()+Ut.z.toString();return X[at]!==void 0||(X[at]=k.length/3,k.push(Ut.x,Ut.y,Ut.z)),X[at]}function a(Ut){var at=Ut.r.toString()+Ut.g.toString()+Ut.b.toString();return ie[at]!==void 0||(ie[at]=Y.length,Y.push(Ut.getHex())),ie[at]}function l(Ut){var at=Ut.x.toString()+Ut.y.toString();return Ae[at]!==void 0||(Ae[at]=le.length/2,le.push(Ut.x,Ut.y)),Ae[at]}var v={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(v.uuid=this.uuid,v.type=this.type,this.name!==""&&(v.name=this.name),this.parameters!==void 0){var b=this.parameters,M;for(M in b)b[M]!==void 0&&(v[M]=b[M]);return v}for(b=[],M=0;M<this.vertices.length;M++){var R=this.vertices[M];b.push(R.x,R.y,R.z)}R=[];var k=[],X={},Y=[],ie={},le=[],Ae={};for(M=0;M<this.faces.length;M++){var we=this.faces[M],Qe=this.faceVertexUvs[0][M]!==void 0,yt=0<we.normal.length(),dt=0<we.vertexNormals.length,vt=we.color.r!==1||we.color.g!==1||we.color.b!==1,Lt=0<we.vertexColors.length,kt=0;kt=e(kt,0,0),kt=e(kt,1,!0),kt=e(kt,2,!1),kt=e(kt,3,Qe),kt=e(kt,4,yt),kt=e(kt,5,dt),kt=e(kt,6,vt),kt=e(kt,7,Lt),R.push(kt),R.push(we.a,we.b,we.c),R.push(we.materialIndex),Qe&&(Qe=this.faceVertexUvs[0][M],R.push(l(Qe[0]),l(Qe[1]),l(Qe[2]))),yt&&R.push(r(we.normal)),dt&&(yt=we.vertexNormals,R.push(r(yt[0]),r(yt[1]),r(yt[2]))),vt&&R.push(a(we.color)),Lt&&(we=we.vertexColors,R.push(a(we[0]),a(we[1]),a(we[2])))}return v.data={},v.data.vertices=b,v.data.normals=k,0<Y.length&&(v.data.colors=Y),0<le.length&&(v.data.uvs=[le]),v.data.faces=R,v},clone:function(){return new Gi().copy(this)},copy:function(e){var r,a,l;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingSphere=this.boundingBox=null,this.name=e.name;var v=e.vertices,b=0;for(r=v.length;b<r;b++)this.vertices.push(v[b].clone());for(v=e.colors,b=0,r=v.length;b<r;b++)this.colors.push(v[b].clone());for(v=e.faces,b=0,r=v.length;b<r;b++)this.faces.push(v[b].clone());for(b=0,r=e.faceVertexUvs.length;b<r;b++){var M=e.faceVertexUvs[b];for(this.faceVertexUvs[b]===void 0&&(this.faceVertexUvs[b]=[]),v=0,a=M.length;v<a;v++){var R=M[v],k=[],X=0;for(l=R.length;X<l;X++)k.push(R[X].clone());this.faceVertexUvs[b].push(k)}}for(X=e.morphTargets,b=0,r=X.length;b<r;b++){if(l={},l.name=X[b].name,X[b].vertices!==void 0)for(l.vertices=[],v=0,a=X[b].vertices.length;v<a;v++)l.vertices.push(X[b].vertices[v].clone());if(X[b].normals!==void 0)for(l.normals=[],v=0,a=X[b].normals.length;v<a;v++)l.normals.push(X[b].normals[v].clone());this.morphTargets.push(l)}for(X=e.morphNormals,b=0,r=X.length;b<r;b++){if(l={},X[b].vertexNormals!==void 0)for(l.vertexNormals=[],v=0,a=X[b].vertexNormals.length;v<a;v++)M=X[b].vertexNormals[v],R={},R.a=M.a.clone(),R.b=M.b.clone(),R.c=M.c.clone(),l.vertexNormals.push(R);if(X[b].faceNormals!==void 0)for(l.faceNormals=[],v=0,a=X[b].faceNormals.length;v<a;v++)l.faceNormals.push(X[b].faceNormals[v].clone());this.morphNormals.push(l)}for(v=e.skinWeights,b=0,r=v.length;b<r;b++)this.skinWeights.push(v[b].clone());for(v=e.skinIndices,b=0,r=v.length;b<r;b++)this.skinIndices.push(v[b].clone());for(v=e.lineDistances,b=0,r=v.length;b<r;b++)this.lineDistances.push(v[b]);return b=e.boundingBox,b!==null&&(this.boundingBox=b.clone()),b=e.boundingSphere,b!==null&&(this.boundingSphere=b.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Yw=function(n){function e(r,a,l,v,b,M){ls(this,e);var R=Ul(this,(e.__proto__||wl(e)).call(this));return R.type="BoxGeometry",R.parameters={width:r,height:a,depth:l,widthSegments:v,heightSegments:b,depthSegments:M},R.fromBufferGeometry(new Yx(r,a,l,v,b,M)),R.mergeVertices(),R}return Zs(e,n),e}(Gi),Yx=function(n){function e(r,a,l,v,b,M){function R(yt,dt,vt,Lt,kt,Ut,at,jr,Zt,$r,nn){var Wt=Ut/Zt,si=at/$r,gr=Ut/2,bi=at/2,ki=jr/2;at=Zt+1;for(var Pi=$r+1,ga=Ut=0,Oi=new Pe,Ho=0;Ho<Pi;Ho++)for(var rs=Ho*si-bi,tn=0;tn<at;tn++)Oi[yt]=(tn*Wt-gr)*Lt,Oi[dt]=rs*kt,Oi[vt]=ki,ie.push(Oi.x,Oi.y,Oi.z),Oi[yt]=0,Oi[dt]=0,Oi[vt]=0<jr?1:-1,le.push(Oi.x,Oi.y,Oi.z),Ae.push(tn/Zt),Ae.push(1-Ho/$r),Ut+=1;for(yt=0;yt<$r;yt++)for(dt=0;dt<Zt;dt++)vt=we+dt+at*(yt+1),Lt=we+(dt+1)+at*(yt+1),kt=we+(dt+1)+at*yt,Y.push(we+dt+at*yt,vt,kt),Y.push(vt,Lt,kt),ga+=6;X.addGroup(Qe,ga,nn),Qe+=ga,we+=Ut}ls(this,e);var k=Ul(this,(e.__proto__||wl(e)).call(this));k.type="BoxBufferGeometry",k.parameters={width:r,height:a,depth:l,widthSegments:v,heightSegments:b,depthSegments:M};var X=k;r=r||1,a=a||1,l=l||1,v=Math.floor(v)||1,b=Math.floor(b)||1,M=Math.floor(M)||1;var Y=[],ie=[],le=[],Ae=[],we=0,Qe=0;return R("z","y","x",-1,-1,l,a,r,M,b,0),R("z","y","x",1,-1,l,a,-r,M,b,1),R("x","z","y",1,1,r,l,a,v,M,2),R("x","z","y",1,-1,r,l,-a,v,M,3),R("x","y","z",1,-1,r,a,l,v,b,4),R("x","y","z",-1,-1,r,a,-l,v,b,5),k.setIndex(Y),k.setAttribute("position",new _n(ie,3)),k.setAttribute("normal",new _n(le,3)),k.setAttribute("uv",new _n(Ae,2)),k}return Zs(e,n),e}(Yn),fv={clone:Cc,merge:Ba};Wa.prototype=Oe(vn.prototype),Wa.prototype.constructor=Wa,Wa.prototype.isShaderMaterial=!0,Wa.prototype.copy=function(n){return vn.prototype.copy.call(this,n),this.fragmentShader=n.fragmentShader,this.vertexShader=n.vertexShader,this.uniforms=Cc(n.uniforms),this.defines=Le({},n.defines),this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.lights=n.lights,this.clipping=n.clipping,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this.extensions=Le({},n.extensions),this},Wa.prototype.toJSON=function(n){var e=vn.prototype.toJSON.call(this,n);e.uniforms={};for(var r in this.uniforms){var a=this.uniforms[r].value;e.uniforms[r]=a&&a.isTexture?{type:"t",value:a.toJSON(n).uuid}:a&&a.isColor?{type:"c",value:a.getHex()}:a&&a.isVector2?{type:"v2",value:a.toArray()}:a&&a.isVector3?{type:"v3",value:a.toArray()}:a&&a.isVector4?{type:"v4",value:a.toArray()}:a&&a.isMatrix3?{type:"m3",value:a.toArray()}:a&&a.isMatrix4?{type:"m4",value:a.toArray()}:{value:a}}0<es(this.defines).length&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,n={};for(var l in this.extensions)this.extensions[l]===!0&&(n[l]=!0);return 0<es(n).length&&(e.extensions=n),e},Ku.prototype=Le(Oe(an.prototype),{constructor:Ku,isCamera:!0,copy:function(e,r){return an.prototype.copy.call(this,e,r),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new Pe),this.updateMatrixWorld(!0);var r=this.matrixWorld.elements;return e.set(-r[8],-r[9],-r[10]).normalize()},updateMatrixWorld:function(e){an.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(e,r){an.prototype.updateWorldMatrix.call(this,e,r),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return new this.constructor().copy(this)}}),Rs.prototype=Le(Oe(Ku.prototype),{constructor:Rs,isPerspectiveCamera:!0,copy:function(e,r){return Ku.prototype.copy.call(this,e,r),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Le({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){e=.5*this.getFilmHeight()/e,this.fov=2*U.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*U.DEG2RAD*this.fov);return .5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*U.RAD2DEG*Math.atan(Math.tan(.5*U.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,r,a,l,v,b){this.aspect=e/r,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=r,this.view.offsetX=a,this.view.offsetY=l,this.view.width=v,this.view.height=b,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,r=e*Math.tan(.5*U.DEG2RAD*this.fov)/this.zoom,a=2*r,l=this.aspect*a,v=-.5*l,b=this.view;if(this.view!==null&&this.view.enabled){var M=b.fullWidth,R=b.fullHeight;v+=b.offsetX*l/M,r-=b.offsetY*a/R,l*=b.width/M,a*=b.height/R}b=this.filmOffset,b!==0&&(v+=e*b/this.getFilmWidth()),this.projectionMatrix.makePerspective(v,v+l,r,r-a,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){return e=an.prototype.toJSON.call(this,e),e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Le({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),ar.prototype=Oe(an.prototype),ar.prototype.constructor=ar,Ac.prototype=Oe(pr.prototype),Ac.prototype.constructor=Ac,Ac.prototype.isWebGLCubeRenderTarget=!0,Ac.prototype.fromEquirectangularTexture=function(n,e){this.texture.type=e.type,this.texture.format=e.format,this.texture.encoding=e.encoding;var r=new Ai,a=new Wa({type:"CubemapFromEquirect",uniforms:Cc({tEquirect:{value:null}}),vertexShader:`varying vec3 vWorldDirection;
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragmentShader:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
}`,side:1,blending:0});return a.uniforms.tEquirect.value=e,e=new so(new Yx(5,5,5),a),r.add(e),new ar(1,10,this).update(n,r),e.geometry.dispose(),e.material.dispose(),this},ah.prototype=Oe(Ar.prototype),ah.prototype.constructor=ah,ah.prototype.isDataTexture=!0;var X0=new Ca,Z0=new Pe;Le(pl.prototype,{set:function(e,r,a,l,v,b){var M=this.planes;return M[0].copy(e),M[1].copy(r),M[2].copy(a),M[3].copy(l),M[4].copy(v),M[5].copy(b),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){for(var r=this.planes,a=0;6>a;a++)r[a].copy(e.planes[a]);return this},setFromProjectionMatrix:function(e){var r=this.planes,a=e.elements;e=a[0];var l=a[1],v=a[2],b=a[3],M=a[4],R=a[5],k=a[6],X=a[7],Y=a[8],ie=a[9],le=a[10],Ae=a[11],we=a[12],Qe=a[13],yt=a[14];return a=a[15],r[0].setComponents(b-e,X-M,Ae-Y,a-we).normalize(),r[1].setComponents(b+e,X+M,Ae+Y,a+we).normalize(),r[2].setComponents(b+l,X+R,Ae+ie,a+Qe).normalize(),r[3].setComponents(b-l,X-R,Ae-ie,a-Qe).normalize(),r[4].setComponents(b-v,X-k,Ae-le,a-yt).normalize(),r[5].setComponents(b+v,X+k,Ae+le,a+yt).normalize(),this},intersectsObject:function(e){var r=e.geometry;return r.boundingSphere===null&&r.computeBoundingSphere(),X0.copy(r.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(X0)},intersectsSprite:function(e){return X0.center.set(0,0,0),X0.radius=.7071067811865476,X0.applyMatrix4(e.matrixWorld),this.intersectsSphere(X0)},intersectsSphere:function(e){var r=this.planes,a=e.center;e=-e.radius;for(var l=0;6>l;l++)if(r[l].distanceToPoint(a)<e)return!1;return!0},intersectsBox:function(e){for(var r=this.planes,a=0;6>a;a++){var l=r[a];if(Z0.x=0<l.normal.x?e.max.x:e.min.x,Z0.y=0<l.normal.y?e.max.y:e.min.y,Z0.z=0<l.normal.z?e.max.z:e.min.z,0>l.distanceToPoint(Z0))return!1}return!0},containsPoint:function(e){for(var r=this.planes,a=0;6>a;a++)if(0>r[a].distanceToPoint(e))return!1;return!0}});var Xn={common:{diffuse:{value:new Sn(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Vr},uv2Transform:{value:new Vr},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Tt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Sn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Sn(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Vr}},sprite:{diffuse:{value:new Sn(15658734)},opacity:{value:1},center:{value:new Tt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Vr}}};kp.prototype=Oe(Gi.prototype),kp.prototype.constructor=kp,wc.prototype=Oe(Yn.prototype),wc.prototype.constructor=wc;var Jo={alphamap_fragment:`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,alphamap_pars_fragment:`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment:`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,aomap_fragment:`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,aomap_pars_fragment:`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs:`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE  = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS  = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha  = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,bumpmap_pars_fragment:`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment:`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment:`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex:`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex:`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment:`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment:`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,color_pars_vertex:`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,color_vertex:`#ifdef USE_COLOR
	vColor.xyz = color.xyz;
#endif`,common:`#define PI 3.14159265359
#define PI2 6.28318530718
#define PI_HALF 1.5707963267949
#define RECIPROCAL_PI 0.31830988618
#define RECIPROCAL_PI2 0.15915494
#define LOG2 1.442695
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
  return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,cube_uv_reflection_fragment:`#ifdef ENVMAP_TYPE_CUBE_UV
#define cubeUV_maxMipLevel 8.0
#define cubeUV_minMipLevel 4.0
#define cubeUV_maxTileSize 256.0
#define cubeUV_minTileSize 16.0
float getFace(vec3 direction) {
    vec3 absDirection = abs(direction);
    float face = -1.0;
    if (absDirection.x > absDirection.z) {
      if (absDirection.x > absDirection.y)
        face = direction.x > 0.0 ? 0.0 : 3.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    } else {
      if (absDirection.z > absDirection.y)
        face = direction.z > 0.0 ? 2.0 : 5.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    }
    return face;
}
vec2 getUV(vec3 direction, float face) {
    vec2 uv;
    if (face == 0.0) {
      uv = vec2(direction.z, direction.y) / abs(direction.x);    } else if (face == 1.0) {
      uv = vec2(-direction.x, -direction.z) / abs(direction.y);    } else if (face == 2.0) {
      uv = vec2(-direction.x, direction.y) / abs(direction.z);    } else if (face == 3.0) {
      uv = vec2(-direction.z, direction.y) / abs(direction.x);    } else if (face == 4.0) {
      uv = vec2(-direction.x, direction.z) / abs(direction.y);    } else {
      uv = vec2(direction.x, direction.y) / abs(direction.z);    }
    return 0.5 * (uv + 1.0);
}
vec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {
  float face = getFace(direction);
  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);
  mipInt = max(mipInt, cubeUV_minMipLevel);
  float faceSize = exp2(mipInt);
  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);
  vec2 uv = getUV(direction, face) * (faceSize - 1.0);
  vec2 f = fract(uv);
  uv += 0.5 - f;
  if (face > 2.0) {
    uv.y += faceSize;
    face -= 3.0;
  }
  uv.x += face * faceSize;
  if(mipInt < cubeUV_maxMipLevel){
    uv.y += 2.0 * cubeUV_maxTileSize;
  }
  uv.y += filterInt * 2.0 * cubeUV_minTileSize;
  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);
  uv *= texelSize;
  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x += texelSize;
  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.y += texelSize;
  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x -= texelSize;
  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  vec3 tm = mix(tl, tr, f.x);
  vec3 bm = mix(bl, br, f.x);
  return mix(tm, bm, f.y);
}
#define r0 1.0
#define v0 0.339
#define m0 -2.0
#define r1 0.8
#define v1 0.276
#define m1 -1.0
#define r4 0.4
#define v4 0.046
#define m4 2.0
#define r5 0.305
#define v5 0.016
#define m5 3.0
#define r6 0.21
#define v6 0.0038
#define m6 4.0
float roughnessToMip(float roughness) {
  float mip = 0.0;
  if (roughness >= r1) {
    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;
  } else if (roughness >= r4) {
    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;
  } else if (roughness >= r5) {
    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;
  } else if (roughness >= r6) {
    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;
  } else {
    mip = -2.0 * log2(1.16 * roughness);  }
  return mip;
}
vec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {
  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);
  float mipF = fract(mip);
  float mipInt = floor(mip);
  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);
  if (mipF == 0.0) {
    return vec4(color0, 1.0);
  } else {
    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);
    return vec4(mix(color0, color1, mipF), 1.0);
  }
}
#endif`,defaultnormal_vertex:`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex:`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex:`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment:`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment:`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value )  {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,envmap_fragment:`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		}  else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#elif defined( ENVMAP_TYPE_EQUIREC )
		reflectVec = normalize( reflectVec );
		vec2 sampleUV = equirectUv( reflectVec );
		vec4 envColor = texture2D( envMap, sampleUV );
	#elif defined( ENVMAP_TYPE_SPHERE )
		reflectVec = normalize( reflectVec );
		vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );
		vec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment:`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment:`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex:`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_physical_pars_fragment:`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
		  vec3 reflectVec = reflect( -viewDir, normal );
		  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
		  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#elif defined( ENVMAP_TYPE_EQUIREC )
			vec2 sampleUV = equirectUv( reflectVec );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_SPHERE )
			vec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,envmap_vertex:`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) { 
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex:`#ifdef USE_FOG
	fogDepth = -mvPosition.z;
#endif`,fog_pars_vertex:`#ifdef USE_FOG
	varying float fogDepth;
#endif`,fog_fragment:`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment:`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment:`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,lightmap_fragment:`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,lightmap_pars_fragment:`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_vertex:`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,lights_pars_begin:`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
		struct PointLightShadow {
			float shadowBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,lights_toon_fragment:`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_toon_pars_fragment:`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,lights_phong_fragment:`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment:`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,lights_physical_fragment:`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,lights_physical_pars_fragment:`struct PhysicalMaterial {
	vec3	diffuseColor;
	float	specularRoughness;
	vec3	specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin:`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps:`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,lights_fragment_end:`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment:`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment:`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex:`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex:`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment:`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,map_pars_fragment:`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment:`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment:`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment:`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment:`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphnormal_vertex:`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,morphtarget_pars_vertex:`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
	uniform float morphTargetInfluences[ 8 ];
	#else
	uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,morphtarget_vertex:`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
	transformed += morphTarget4 * morphTargetInfluences[ 4 ];
	transformed += morphTarget5 * morphTargetInfluences[ 5 ];
	transformed += morphTarget6 * morphTargetInfluences[ 6 ];
	transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,normal_fragment_begin:`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			bitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps:`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif`,normalmap_pars_fragment:`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		float scale = sign( st1.t * st0.s - st0.t * st1.s );
		vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
		vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
		vec3 N = normalize( surf_norm );
		mat3 tsn = mat3( S, T, N );
		mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		return normalize( tsn * mapN );
	}
#endif`,clearcoat_normal_fragment_begin:`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps:`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );
	#endif
#endif`,clearcoat_pars_fragment:`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,packing:`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,premultiplied_alpha_fragment:`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex:`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment:`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment:`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment:`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment:`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex:`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,shadowmask_pars_fragment:`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex:`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex:`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,skinning_vertex:`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex:`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment:`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment:`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment:`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment:`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
uniform float toneMappingWhitePoint;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )
vec3 Uncharted2ToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );
}`,uv_pars_fragment:`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,uv_pars_vertex:`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uv_vertex:`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uv2_vertex:`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,worldpos_vertex:`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,background_frag:`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,cube_frag:`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,depth_vert:`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshbasic_vert:`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSPARENCY
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSPARENCY
	uniform float transparency;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSPARENCY
		diffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,normal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,normal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,shadow_vert:`#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`},_d={basic:{uniforms:Ba([Xn.common,Xn.specularmap,Xn.envmap,Xn.aomap,Xn.lightmap,Xn.fog]),vertexShader:Jo.meshbasic_vert,fragmentShader:Jo.meshbasic_frag},lambert:{uniforms:Ba([Xn.common,Xn.specularmap,Xn.envmap,Xn.aomap,Xn.lightmap,Xn.emissivemap,Xn.fog,Xn.lights,{emissive:{value:new Sn(0)}}]),vertexShader:Jo.meshlambert_vert,fragmentShader:Jo.meshlambert_frag},phong:{uniforms:Ba([Xn.common,Xn.specularmap,Xn.envmap,Xn.aomap,Xn.lightmap,Xn.emissivemap,Xn.bumpmap,Xn.normalmap,Xn.displacementmap,Xn.fog,Xn.lights,{emissive:{value:new Sn(0)},specular:{value:new Sn(1118481)},shininess:{value:30}}]),vertexShader:Jo.meshphong_vert,fragmentShader:Jo.meshphong_frag},standard:{uniforms:Ba([Xn.common,Xn.envmap,Xn.aomap,Xn.lightmap,Xn.emissivemap,Xn.bumpmap,Xn.normalmap,Xn.displacementmap,Xn.roughnessmap,Xn.metalnessmap,Xn.fog,Xn.lights,{emissive:{value:new Sn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Jo.meshphysical_vert,fragmentShader:Jo.meshphysical_frag},toon:{uniforms:Ba([Xn.common,Xn.specularmap,Xn.aomap,Xn.lightmap,Xn.emissivemap,Xn.bumpmap,Xn.normalmap,Xn.displacementmap,Xn.gradientmap,Xn.fog,Xn.lights,{emissive:{value:new Sn(0)},specular:{value:new Sn(1118481)},shininess:{value:30}}]),vertexShader:Jo.meshtoon_vert,fragmentShader:Jo.meshtoon_frag},matcap:{uniforms:Ba([Xn.common,Xn.bumpmap,Xn.normalmap,Xn.displacementmap,Xn.fog,{matcap:{value:null}}]),vertexShader:Jo.meshmatcap_vert,fragmentShader:Jo.meshmatcap_frag},points:{uniforms:Ba([Xn.points,Xn.fog]),vertexShader:Jo.points_vert,fragmentShader:Jo.points_frag},dashed:{uniforms:Ba([Xn.common,Xn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Jo.linedashed_vert,fragmentShader:Jo.linedashed_frag},depth:{uniforms:Ba([Xn.common,Xn.displacementmap]),vertexShader:Jo.depth_vert,fragmentShader:Jo.depth_frag},normal:{uniforms:Ba([Xn.common,Xn.bumpmap,Xn.normalmap,Xn.displacementmap,{opacity:{value:1}}]),vertexShader:Jo.normal_vert,fragmentShader:Jo.normal_frag},sprite:{uniforms:Ba([Xn.sprite,Xn.fog]),vertexShader:Jo.sprite_vert,fragmentShader:Jo.sprite_frag},background:{uniforms:{uvTransform:{value:new Vr},t2D:{value:null}},vertexShader:Jo.background_vert,fragmentShader:Jo.background_frag},cube:{uniforms:Ba([Xn.envmap,{opacity:{value:1}}]),vertexShader:Jo.cube_vert,fragmentShader:Jo.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Jo.equirect_vert,fragmentShader:Jo.equirect_frag},distanceRGBA:{uniforms:Ba([Xn.common,Xn.displacementmap,{referencePosition:{value:new Pe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Jo.distanceRGBA_vert,fragmentShader:Jo.distanceRGBA_frag},shadow:{uniforms:Ba([Xn.lights,Xn.fog,{color:{value:new Sn(0)},opacity:{value:1}}]),vertexShader:Jo.shadow_vert,fragmentShader:Jo.shadow_frag}};_d.physical={uniforms:Ba([_d.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Tt(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Sn(0)},transparency:{value:0}}]),vertexShader:Jo.meshphysical_vert,fragmentShader:Jo.meshphysical_frag},ds.prototype=Oe(Ar.prototype),ds.prototype.constructor=ds,ds.prototype.isCubeTexture=!0,Object.defineProperty(ds.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),Gf.prototype=Oe(Ar.prototype),Gf.prototype.constructor=Gf,Gf.prototype.isDataTexture2DArray=!0,bc.prototype=Oe(Ar.prototype),bc.prototype.constructor=bc,bc.prototype.isDataTexture3D=!0;var Bh=new Ar,Ep=new Gf,SA=new bc,E2=new ds,C1=[],jm=[],Vu=new Float32Array(16),dv=new Float32Array(9),Xx=new Float32Array(4);wo.prototype.updateCache=function(n){var e=this.cache;n instanceof Float32Array&&e.length!==n.length&&(this.cache=new Float32Array(n.length)),Tl(e,n)},sx.prototype.setValue=function(n,e,r){for(var a=this.seq,l=0,v=a.length;l!==v;++l){var b=a[l];b.setValue(n,e[b.id],r)}};var Zx=/([\w\d_]+)(\])?(\[|\.)?/g;Ss.prototype.setValue=function(n,e,r,a){e=this.map[e],e!==void 0&&e.setValue(n,r,a)},Ss.prototype.setOptional=function(n,e,r){e=e[r],e!==void 0&&this.setValue(n,r,e)},Ss.upload=function(n,e,r,a){for(var l=0,v=e.length;l!==v;++l){var b=e[l],M=r[b.id];M.needsUpdate!==!1&&b.setValue(n,M.value,a)}},Ss.seqWithValue=function(n,e){for(var r=[],a=0,l=n.length;a!==l;++a){var v=n[a];v.id in e&&r.push(v)}return r};var _A=0,Df=/^[ \t]*#include +<([\w\d./]+)>/gm,Kx=/#pragma unroll_loop[\s]+?for \( int i = (\d+); i < (\d+); i \+\+ \) \{([\s\S]+?)(?=\})\}/g,MA=/#pragma unroll_loop_start[\s]+?for \( int i = (\d+); i < (\d+); i \+\+ \) \{([\s\S]+?)(?=\})\}[\s]+?#pragma unroll_loop_end/g,pv=0;Mc.prototype=Oe(vn.prototype),Mc.prototype.constructor=Mc,Mc.prototype.isMeshDepthMaterial=!0,Mc.prototype.copy=function(n){return vn.prototype.copy.call(this,n),this.depthPacking=n.depthPacking,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.map=n.map,this.alphaMap=n.alphaMap,this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this},Hd.prototype=Oe(vn.prototype),Hd.prototype.constructor=Hd,Hd.prototype.isMeshDistanceMaterial=!0,Hd.prototype.copy=function(n){return vn.prototype.copy.call(this,n),this.referencePosition.copy(n.referencePosition),this.nearDistance=n.nearDistance,this.farDistance=n.farDistance,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.map=n.map,this.alphaMap=n.alphaMap,this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this},An.prototype=Le(Oe(Rs.prototype),{constructor:An,isArrayCamera:!0}),ch.prototype=Le(Oe(an.prototype),{constructor:ch,isGroup:!0}),Le(bu.prototype,{constructor:bu,getTargetRaySpace:function(){return this._targetRay===null&&(this._targetRay=new ch,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return this._grip===null&&(this._grip=new ch,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this},update:function(e,r,a){var l=null,v=null,b=this._targetRay,M=this._grip;return e&&(b!==null&&(l=r.getPose(e.targetRaySpace,a),l!==null&&(b.matrix.fromArray(l.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale))),M!==null&&e.gripSpace&&(v=r.getPose(e.gripSpace,a),v!==null&&(M.matrix.fromArray(v.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale)))),b!==null&&(b.visible=l!==null),M!==null&&(M.visible=v!==null),this}}),Le(Fy.prototype,br.prototype),Le(Vd.prototype,{isFogExp2:!0,clone:function(){return new Vd(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Le(ef.prototype,{isFog:!0,clone:function(){return new ef(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(tf.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}}),Le(tf.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,r,a){e*=this.stride,a*=r.stride;for(var l=0,v=this.stride;l<v;l++)this.array[e+l]=r.array[a+l];return this},set:function(e,r){return r===void 0&&(r=0),this.array.set(e,r),this},clone:function(){return new this.constructor().copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}});var Md=new Pe;Zi(Zf.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Le(Zf.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(var r=0,a=this.data.count;r<a;r++)Md.x=this.getX(r),Md.y=this.getY(r),Md.z=this.getZ(r),Md.applyMatrix4(e),this.setXYZ(r,Md.x,Md.y,Md.z);return this},setX:function(e,r){return this.data.array[e*this.data.stride+this.offset]=r,this},setY:function(e,r){return this.data.array[e*this.data.stride+this.offset+1]=r,this},setZ:function(e,r){return this.data.array[e*this.data.stride+this.offset+2]=r,this},setW:function(e,r){return this.data.array[e*this.data.stride+this.offset+3]=r,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,r,a){return e=e*this.data.stride+this.offset,this.data.array[e+0]=r,this.data.array[e+1]=a,this},setXYZ:function(e,r,a,l){return e=e*this.data.stride+this.offset,this.data.array[e+0]=r,this.data.array[e+1]=a,this.data.array[e+2]=l,this},setXYZW:function(e,r,a,l,v){return e=e*this.data.stride+this.offset,this.data.array[e+0]=r,this.data.array[e+1]=a,this.data.array[e+2]=l,this.data.array[e+3]=v,this},clone:function(){for(var e=[],r=0;r<this.count;r++)for(var a=r*this.data.stride+this.offset,l=0;l<this.itemSize;l++)e.push(this.data.array[a+l]);return new ti(new this.array.constructor(e),this.itemSize,this.normalized)},toJSON:function(){for(var e=[],r=0;r<this.count;r++)for(var a=r*this.data.stride+this.offset,l=0;l<this.itemSize;l++)e.push(this.data.array[a+l]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}}),Ec.prototype=Oe(vn.prototype),Ec.prototype.constructor=Ec,Ec.prototype.isSpriteMaterial=!0,Ec.prototype.copy=function(n){return vn.prototype.copy.call(this,n),this.color.copy(n.color),this.map=n.map,this.alphaMap=n.alphaMap,this.rotation=n.rotation,this.sizeAttenuation=n.sizeAttenuation,this};var K0,Tp=new Pe,js=new Pe,Um=new Pe,km=new Tt,A1=new Tt,T2=new ir,J0=new Pe,Ed=new Pe,w1=new Pe,I2=new Tt,Jx=new Tt,EA=new Tt;_o.prototype=Le(Oe(an.prototype),{constructor:_o,isSprite:!0,raycast:function(e,r){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),js.setFromMatrixScale(this.matrixWorld),T2.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Um.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&js.multiplyScalar(-Um.z);var a=this.material.rotation;if(a!==0)var l=Math.cos(a),v=Math.sin(a);a=this.center,ml(J0.set(-.5,-.5,0),Um,a,js,v,l),ml(Ed.set(.5,-.5,0),Um,a,js,v,l),ml(w1.set(.5,.5,0),Um,a,js,v,l),I2.set(0,0),Jx.set(1,0),EA.set(1,1);var b=e.ray.intersectTriangle(J0,Ed,w1,!1,Tp);b===null&&(ml(Ed.set(-.5,.5,0),Um,a,js,v,l),Jx.set(0,1),b=e.ray.intersectTriangle(J0,w1,Ed,!1,Tp),b===null)||(v=e.ray.origin.distanceTo(Tp),v<e.near||v>e.far||r.push({distance:v,point:Tp.clone(),uv:Qa.getUV(Tp,J0,Ed,w1,I2,Jx,EA,new Tt),face:null,object:this}))},clone:function(){return new this.constructor(this.material).copy(this)},copy:function(e){return an.prototype.copy.call(this,e),e.center!==void 0&&this.center.copy(e.center),this}});var Vo=new Pe,qc=new Pe;Yv.prototype=Le(Oe(an.prototype),{constructor:Yv,isLOD:!0,copy:function(e){an.prototype.copy.call(this,e,!1);for(var r=e.levels,a=0,l=r.length;a<l;a++){var v=r[a];this.addLevel(v.object.clone(),v.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,r){r===void 0&&(r=0),r=Math.abs(r);for(var a=this.levels,l=0;l<a.length&&!(r<a[l].distance);l++);return a.splice(l,0,{distance:r,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){var r=this.levels;if(0<r.length){for(var a=1,l=r.length;a<l&&!(e<r[a].distance);a++);return r[a-1].object}return null},raycast:function(e,r){if(0<this.levels.length){Vo.setFromMatrixPosition(this.matrixWorld);var a=e.ray.origin.distanceTo(Vo);this.getObjectForDistance(a).raycast(e,r)}},update:function(e){var r=this.levels;if(1<r.length){Vo.setFromMatrixPosition(e.matrixWorld),qc.setFromMatrixPosition(this.matrixWorld),e=Vo.distanceTo(qc)/e.zoom,r[0].object.visible=!0;for(var a=1,l=r.length;a<l&&e>=r[a].distance;a++)r[a-1].object.visible=!1,r[a].object.visible=!0;for(this._currentLevel=a-1;a<l;a++)r[a].object.visible=!1}},toJSON:function(e){e=an.prototype.toJSON.call(this,e),this.autoUpdate===!1&&(e.object.autoUpdate=!1),e.object.levels=[];for(var r=this.levels,a=0,l=r.length;a<l;a++){var v=r[a];e.object.levels.push({object:v.object.uuid,distance:v.distance})}return e}}),Pl.prototype=Le(Oe(so.prototype),{constructor:Pl,isSkinnedMesh:!0,bind:function(e,r){this.skeleton=e,r===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),r=this.matrixWorld),this.bindMatrix.copy(r),this.bindMatrixInverse.getInverse(r)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new Dt,r=this.geometry.attributes.skinWeight,a=0,l=r.count;a<l;a++){e.x=r.getX(a),e.y=r.getY(a),e.z=r.getZ(a),e.w=r.getW(a);var v=1/e.manhattanLength();v!==Infinity?e.multiplyScalar(v):e.set(1,0,0,0),r.setXYZW(a,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){so.prototype.updateMatrixWorld.call(this,e),this.bindMode==="attached"?this.bindMatrixInverse.getInverse(this.matrixWorld):this.bindMode==="detached"?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)},boneTransform:function(){var n=new Pe,e=new Dt,r=new Dt,a=new Pe,l=new ir;return function(v,b){var M=this.skeleton,R=this.geometry;for(e.fromBufferAttribute(R.attributes.skinIndex,v),r.fromBufferAttribute(R.attributes.skinWeight,v),n.fromBufferAttribute(R.attributes.position,v).applyMatrix4(this.bindMatrix),b.set(0,0,0),v=0;4>v;v++)if(R=r.getComponent(v),R!==0){var k=e.getComponent(v);l.multiplyMatrices(M.bones[k].matrixWorld,M.boneInverses[k]),b.addScaledVector(a.copy(n).applyMatrix4(l),R)}return b.applyMatrix4(this.bindMatrixInverse)}}()});var P2=new ir,TA=new ir;Le(By.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,r=this.bones.length;e<r;e++){var a=new ir;this.bones[e]&&a.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(a)}},pose:function(){var e,r,a=0;for(r=this.bones.length;a<r;a++)(e=this.bones[a])&&e.matrixWorld.getInverse(this.boneInverses[a]);for(a=0,r=this.bones.length;a<r;a++)(e=this.bones[a])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){for(var e=this.bones,r=this.boneInverses,a=this.boneMatrices,l=this.boneTexture,v=0,b=e.length;v<b;v++)P2.multiplyMatrices(e[v]?e[v].matrixWorld:TA,r[v]),P2.toArray(a,16*v);l!==void 0&&(l.needsUpdate=!0)},clone:function(){return new By(this.bones,this.boneInverses)},getBoneByName:function(e){for(var r=0,a=this.bones.length;r<a;r++){var l=this.bones[r];if(l.name===e)return l}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}}),Gd.prototype=Le(Oe(an.prototype),{constructor:Gd,isBone:!0});var O2=new ir,R2=new ir,qx=[],b1=new so;ri.prototype=Le(Oe(so.prototype),{constructor:ri,isInstancedMesh:!0,getMatrixAt:function(e,r){r.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,r){var a=this.matrixWorld,l=this.count;if(b1.geometry=this.geometry,b1.material=this.material,b1.material!==void 0)for(var v=0;v<l;v++){this.getMatrixAt(v,O2),R2.multiplyMatrices(a,O2),b1.matrixWorld=R2,b1.raycast(e,qx);for(var b=0,M=qx.length;b<M;b++){var R=qx[b];R.instanceId=v,R.object=this,r.push(R)}qx.length=0}},setMatrixAt:function(e,r){r.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){}}),Aa.prototype=Oe(vn.prototype),Aa.prototype.constructor=Aa,Aa.prototype.isLineBasicMaterial=!0,Aa.prototype.copy=function(n){return vn.prototype.copy.call(this,n),this.color.copy(n.color),this.linewidth=n.linewidth,this.linecap=n.linecap,this.linejoin=n.linejoin,this.morphTargets=n.morphTargets,this};var IA=new Pe,L2=new Pe,mv=new ir,gv=new os,Qx=new Ca;wa.prototype=Le(Oe(an.prototype),{constructor:wa,isLine:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(e.index===null){for(var r=e.attributes.position,a=[0],l=1,v=r.count;l<v;l++)IA.fromBufferAttribute(r,l-1),L2.fromBufferAttribute(r,l),a[l]=a[l-1],a[l]+=IA.distanceTo(L2);e.setAttribute("lineDistance",new _n(a,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry)for(r=e.vertices,a=e.lineDistances,a[0]=0,l=1,v=r.length;l<v;l++)a[l]=a[l-1],a[l]+=r[l-1].distanceTo(r[l]);return this},raycast:function(e,r){var a=this.geometry,l=this.matrixWorld,v=e.params.Line.threshold;if(a.boundingSphere===null&&a.computeBoundingSphere(),Qx.copy(a.boundingSphere),Qx.applyMatrix4(l),Qx.radius+=v,e.ray.intersectsSphere(Qx)!==!1){mv.getInverse(l),gv.copy(e.ray).applyMatrix4(mv),l=v/((this.scale.x+this.scale.y+this.scale.z)/3),l*=l;var b=new Pe,M=new Pe;v=new Pe;var R=new Pe,k=this&&this.isLineSegments?2:1;if(a.isBufferGeometry){var X=a.index,Y=a.attributes.position.array;if(X!==null){X=X.array,a=0;for(var ie=X.length-1;a<ie;a+=k){var le=X[a+1];b.fromArray(Y,3*X[a]),M.fromArray(Y,3*le),le=gv.distanceSqToSegment(b,M,R,v),le>l||(R.applyMatrix4(this.matrixWorld),le=e.ray.origin.distanceTo(R),le<e.near||le>e.far||r.push({distance:le,point:v.clone().applyMatrix4(this.matrixWorld),index:a,face:null,faceIndex:null,object:this}))}}else for(a=0,ie=Y.length/3-1;a<ie;a+=k)b.fromArray(Y,3*a),M.fromArray(Y,3*a+3),le=gv.distanceSqToSegment(b,M,R,v),le>l||(R.applyMatrix4(this.matrixWorld),le=e.ray.origin.distanceTo(R),le<e.near||le>e.far||r.push({distance:le,point:v.clone().applyMatrix4(this.matrixWorld),index:a,face:null,faceIndex:null,object:this}))}else if(a.isGeometry)for(b=a.vertices,M=b.length,a=0;a<M-1;a+=k)le=gv.distanceSqToSegment(b[a],b[a+1],R,v),le>l||(R.applyMatrix4(this.matrixWorld),le=e.ray.origin.distanceTo(R),le<e.near||le>e.far||r.push({distance:le,point:v.clone().applyMatrix4(this.matrixWorld),index:a,face:null,faceIndex:null,object:this}))}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){e=e.morphAttributes;var r=es(e);if(0<r.length){var a=e[r[0]];if(a!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,r=a.length;e<r;e++){var l=a[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=e}}}else e=e.morphTargets,e!==void 0&&0<e.length&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var $x=new Pe,eC=new Pe;$i.prototype=Le(Oe(wa.prototype),{constructor:$i,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(e.index===null){for(var r=e.attributes.position,a=[],l=0,v=r.count;l<v;l+=2)$x.fromBufferAttribute(r,l),eC.fromBufferAttribute(r,l+1),a[l]=l===0?0:a[l-1],a[l+1]=a[l]+$x.distanceTo(eC);e.setAttribute("lineDistance",new _n(a,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry)for(r=e.vertices,a=e.lineDistances,l=0,v=r.length;l<v;l+=2)$x.copy(r[l]),eC.copy(r[l+1]),a[l]=l===0?0:a[l-1],a[l+1]=a[l]+$x.distanceTo(eC);return this}}),Ea.prototype=Le(Oe(wa.prototype),{constructor:Ea,isLineLoop:!0}),rf.prototype=Oe(vn.prototype),rf.prototype.constructor=rf,rf.prototype.isPointsMaterial=!0,rf.prototype.copy=function(n){return vn.prototype.copy.call(this,n),this.color.copy(n.color),this.map=n.map,this.alphaMap=n.alphaMap,this.size=n.size,this.sizeAttenuation=n.sizeAttenuation,this.morphTargets=n.morphTargets,this};var D2=new ir,PA=new os,_=new Ca,L=new Pe;Qn.prototype=Le(Oe(an.prototype),{constructor:Qn,isPoints:!0,raycast:function(e,r){var a=this.geometry,l=this.matrixWorld,v=e.params.Points.threshold;if(a.boundingSphere===null&&a.computeBoundingSphere(),_.copy(a.boundingSphere),_.applyMatrix4(l),_.radius+=v,e.ray.intersectsSphere(_)!==!1)if(D2.getInverse(l),PA.copy(e.ray).applyMatrix4(D2),v/=(this.scale.x+this.scale.y+this.scale.z)/3,v*=v,a.isBufferGeometry){var b=a.index;if(a=a.attributes.position.array,b!==null){var M=b.array;b=0;for(var R=M.length;b<R;b++){var k=M[b];L.fromArray(a,3*k),Su(L,k,v,l,e,r,this)}}else for(b=0,M=a.length/3;b<M;b++)L.fromArray(a,3*b),Su(L,b,v,l,e,r,this)}else for(a=a.vertices,b=0,M=a.length;b<M;b++)Su(a[b],b,v,l,e,r,this)},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){e=e.morphAttributes;var r=es(e);if(0<r.length){var a=e[r[0]];if(a!==void 0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},e=0,r=a.length;e<r;e++){var l=a[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=e}}}else e=e.morphTargets,e!==void 0&&0<e.length&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),cx.prototype=Le(Oe(Ar.prototype),{constructor:cx,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Zp.prototype=Oe(Ar.prototype),Zp.prototype.constructor=Zp,Zp.prototype.isCompressedTexture=!0,Kp.prototype=Oe(Ar.prototype),Kp.prototype.constructor=Kp,Kp.prototype.isCanvasTexture=!0,mg.prototype=Oe(Ar.prototype),mg.prototype.constructor=mg,mg.prototype.isDepthTexture=!0,nf.prototype=Oe(Yn.prototype),nf.prototype.constructor=nf,Ju.prototype=Oe(Gi.prototype),Ju.prototype.constructor=Ju,qu.prototype=Oe(Yn.prototype),qu.prototype.constructor=qu,Ta.prototype=Oe(Gi.prototype),Ta.prototype.constructor=Ta,Ia.prototype=Oe(Yn.prototype),Ia.prototype.constructor=Ia,Jp.prototype=Oe(Gi.prototype),Jp.prototype.constructor=Jp,su.prototype=Oe(Ia.prototype),su.prototype.constructor=su,qp.prototype=Oe(Gi.prototype),qp.prototype.constructor=qp,Qp.prototype=Oe(Ia.prototype),Qp.prototype.constructor=Qp,Kf.prototype=Oe(Gi.prototype),Kf.prototype.constructor=Kf,of.prototype=Oe(Ia.prototype),of.prototype.constructor=of,Xv.prototype=Oe(Gi.prototype),Xv.prototype.constructor=Xv,Jf.prototype=Oe(Ia.prototype),Jf.prototype.constructor=Jf,gl.prototype=Oe(Gi.prototype),gl.prototype.constructor=gl,vl.prototype=Oe(Yn.prototype),vl.prototype.constructor=vl,vl.prototype.toJSON=function(){var n=Yn.prototype.toJSON.call(this);return n.path=this.parameters.path.toJSON(),n},_u.prototype=Oe(Gi.prototype),_u.prototype.constructor=_u,qf.prototype=Oe(Yn.prototype),qf.prototype.constructor=qf,Qf.prototype=Oe(Gi.prototype),Qf.prototype.constructor=Qf,$f.prototype=Oe(Yn.prototype),$f.prototype.constructor=$f;var q={triangulate:function(e,r,a){a=a||2;var l=r&&r.length,v=l?r[0]*a:e.length,b=Zv(e,0,v,a,!0),M=[];if(!b||b.next===b.prev)return M;var R;if(l){var k=a;l=[];var X,Y=0;for(X=r.length;Y<X;Y++){var ie=r[Y]*k,le=Y<X-1?r[Y+1]*k:e.length;ie=Zv(e,ie,le,k,!1),ie===ie.next&&(ie.steiner=!0),l.push(vg(ie))}for(l.sort(fh),Y=0;Y<l.length;Y++)k=l[Y],r=b,(r=gg(k,r))&&(k=lu(r,k),hh(r,r.next),hh(k,k.next)),b=hh(b,b.next)}if(e.length>80*a){var Ae=R=e[0],we=l=e[1];for(k=a;k<v;k+=a)Y=e[k],r=e[k+1],Y<Ae&&(Ae=Y),r<we&&(we=r),Y>R&&(R=Y),r>l&&(l=r);R=Math.max(R-Ae,l-we),R=R!==0?1/R:0}return Tc(b,M,a,Ae,we,R),M}},fe={area:function(e){for(var r=e.length,a=0,l=r-1,v=0;v<r;l=v++)a+=e[l].x*e[v].y-e[v].x*e[l].y;return .5*a},isClockWise:function(e){return 0>fe.area(e)},triangulateShape:function(e,r){var a=[],l=[],v=[];af(e),Uy(a,e);var b=e.length;for(r.forEach(af),e=0;e<r.length;e++)l.push(b),b+=r[e].length,Uy(a,r[e]);for(r=q.triangulate(a,l),e=0;e<r.length;e+=3)v.push(r.slice(e,e+3));return v}};Ds.prototype=Oe(Gi.prototype),Ds.prototype.constructor=Ds,Ds.prototype.toJSON=function(){var n=Gi.prototype.toJSON.call(this);return Ot(this.parameters.shapes,this.parameters.options,n)},Xl.prototype=Oe(Yn.prototype),Xl.prototype.constructor=Xl,Xl.prototype.toJSON=function(){var n=Yn.prototype.toJSON.call(this);return Ot(this.parameters.shapes,this.parameters.options,n)};var Ee={generateTopUV:function(e,r,a,l,v){e=r[3*l],l=r[3*l+1];var b=r[3*v];return v=r[3*v+1],[new Tt(r[3*a],r[3*a+1]),new Tt(e,l),new Tt(b,v)]},generateSideWallUV:function(e,r,a,l,v,b){e=r[3*a];var M=r[3*a+1];a=r[3*a+2];var R=r[3*l],k=r[3*l+1];l=r[3*l+2];var X=r[3*v],Y=r[3*v+1];v=r[3*v+2];var ie=r[3*b],le=r[3*b+1];return r=r[3*b+2],.01>Math.abs(M-k)?[new Tt(e,1-a),new Tt(R,1-l),new Tt(X,1-v),new Tt(ie,1-r)]:[new Tt(M,1-a),new Tt(k,1-l),new Tt(Y,1-v),new Tt(le,1-r)]}};rr.prototype=Oe(Gi.prototype),rr.prototype.constructor=rr,er.prototype=Oe(Xl.prototype),er.prototype.constructor=er,Kn.prototype=Oe(Gi.prototype),Kn.prototype.constructor=Kn,Wi.prototype=Oe(Yn.prototype),Wi.prototype.constructor=Wi,bo.prototype=Oe(Gi.prototype),bo.prototype.constructor=bo,ha.prototype=Oe(Yn.prototype),ha.prototype.constructor=ha,Co.prototype=Oe(Gi.prototype),Co.prototype.constructor=Co,Qu.prototype=Oe(Yn.prototype),Qu.prototype.constructor=Qu,Oc.prototype=Oe(Gi.prototype),Oc.prototype.constructor=Oc,Oc.prototype.toJSON=function(){var n=Gi.prototype.toJSON.call(this);return em(this.parameters.shapes,n)},Ws.prototype=Oe(Yn.prototype),Ws.prototype.constructor=Ws,Ws.prototype.toJSON=function(){var n=Yn.prototype.toJSON.call(this);return em(this.parameters.shapes,n)},xg.prototype=Oe(Yn.prototype),xg.prototype.constructor=xg,uu.prototype=Oe(Gi.prototype),uu.prototype.constructor=uu,Mu.prototype=Oe(Yn.prototype),Mu.prototype.constructor=Mu,rd.prototype=Oe(uu.prototype),rd.prototype.constructor=rd,ia.prototype=Oe(Mu.prototype),ia.prototype.constructor=ia,Cg.prototype=Oe(Gi.prototype),Cg.prototype.constructor=Cg,Wd.prototype=Oe(Yn.prototype),Wd.prototype.constructor=Wd;var ze=Eh({__proto__:null,WireframeGeometry:nf,ParametricGeometry:Ju,ParametricBufferGeometry:qu,TetrahedronGeometry:Jp,TetrahedronBufferGeometry:su,OctahedronGeometry:qp,OctahedronBufferGeometry:Qp,IcosahedronGeometry:Kf,IcosahedronBufferGeometry:of,DodecahedronGeometry:Xv,DodecahedronBufferGeometry:Jf,PolyhedronGeometry:Ta,PolyhedronBufferGeometry:Ia,TubeGeometry:gl,TubeBufferGeometry:vl,TorusKnotGeometry:_u,TorusKnotBufferGeometry:qf,TorusGeometry:Qf,TorusBufferGeometry:$f,TextGeometry:rr,TextBufferGeometry:er,SphereGeometry:Kn,SphereBufferGeometry:Wi,RingGeometry:bo,RingBufferGeometry:ha,PlaneGeometry:kp,PlaneBufferGeometry:wc,LatheGeometry:Co,LatheBufferGeometry:Qu,ShapeGeometry:Oc,ShapeBufferGeometry:Ws,ExtrudeGeometry:Ds,ExtrudeBufferGeometry:Xl,EdgesGeometry:xg,ConeGeometry:rd,ConeBufferGeometry:ia,CylinderGeometry:uu,CylinderBufferGeometry:Mu,CircleGeometry:Cg,CircleBufferGeometry:Wd,BoxGeometry:Yw,BoxBufferGeometry:Yx});dh.prototype=Oe(vn.prototype),dh.prototype.constructor=dh,dh.prototype.isShadowMaterial=!0,dh.prototype.copy=function(n){return vn.prototype.copy.call(this,n),this.color.copy(n.color),this},sf.prototype=Oe(Wa.prototype),sf.prototype.constructor=sf,sf.prototype.isRawShaderMaterial=!0,ph.prototype=Oe(vn.prototype),ph.prototype.constructor=ph,ph.prototype.isMeshStandardMaterial=!0,ph.prototype.copy=function(n){return vn.prototype.copy.call(this,n),this.defines={STANDARD:""},this.color.copy(n.color),this.roughness=n.roughness,this.metalness=n.metalness,this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.roughnessMap=n.roughnessMap,this.metalnessMap=n.metalnessMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.envMapIntensity=n.envMapIntensity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this.vertexTangents=n.vertexTangents,this},Yd.prototype=Oe(ph.prototype),Yd.prototype.constructor=Yd,Yd.prototype.isMeshPhysicalMaterial=!0,Yd.prototype.copy=function(n){return ph.prototype.copy.call(this,n),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=n.clearcoat,this.clearcoatMap=n.clearcoatMap,this.clearcoatRoughness=n.clearcoatRoughness,this.clearcoatRoughnessMap=n.clearcoatRoughnessMap,this.clearcoatNormalMap=n.clearcoatNormalMap,this.clearcoatNormalScale.copy(n.clearcoatNormalScale),this.reflectivity=n.reflectivity,this.sheen=n.sheen?(this.sheen||new Sn).copy(n.sheen):null,this.transparency=n.transparency,this},$u.prototype=Oe(vn.prototype),$u.prototype.constructor=$u,$u.prototype.isMeshPhongMaterial=!0,$u.prototype.copy=function(n){return vn.prototype.copy.call(this,n),this.color.copy(n.color),this.specular.copy(n.specular),this.shininess=n.shininess,this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.combine=n.combine,this.reflectivity=n.reflectivity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this},Eu.prototype=Oe(vn.prototype),Eu.prototype.constructor=Eu,Eu.prototype.isMeshToonMaterial=!0,Eu.prototype.copy=function(n){return vn.prototype.copy.call(this,n),this.color.copy(n.color),this.specular.copy(n.specular),this.shininess=n.shininess,this.map=n.map,this.gradientMap=n.gradientMap,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this},Tu.prototype=Oe(vn.prototype),Tu.prototype.constructor=Tu,Tu.prototype.isMeshNormalMaterial=!0,Tu.prototype.copy=function(n){return vn.prototype.copy.call(this,n),this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this},nd.prototype=Oe(vn.prototype),nd.prototype.constructor=nd,nd.prototype.isMeshLambertMaterial=!0,nd.prototype.copy=function(n){return vn.prototype.copy.call(this,n),this.color.copy(n.color),this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.combine=n.combine,this.reflectivity=n.reflectivity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this},Zl.prototype=Oe(vn.prototype),Zl.prototype.constructor=Zl,Zl.prototype.isMeshMatcapMaterial=!0,Zl.prototype.copy=function(n){return vn.prototype.copy.call(this,n),this.defines={MATCAP:""},this.color.copy(n.color),this.matcap=n.matcap,this.map=n.map,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.alphaMap=n.alphaMap,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this},Ol.prototype=Oe(Aa.prototype),Ol.prototype.constructor=Ol,Ol.prototype.isLineDashedMaterial=!0,Ol.prototype.copy=function(n){return Aa.prototype.copy.call(this,n),this.scale=n.scale,this.dashSize=n.dashSize,this.gapSize=n.gapSize,this};var ct=Eh({__proto__:null,ShadowMaterial:dh,SpriteMaterial:Ec,RawShaderMaterial:sf,ShaderMaterial:Wa,PointsMaterial:rf,MeshPhysicalMaterial:Yd,MeshStandardMaterial:ph,MeshPhongMaterial:$u,MeshToonMaterial:Eu,MeshNormalMaterial:Tu,MeshLambertMaterial:nd,MeshDepthMaterial:Mc,MeshDistanceMaterial:Hd,MeshBasicMaterial:No,MeshMatcapMaterial:Zl,LineDashedMaterial:Ol,LineBasicMaterial:Aa,Material:vn}),mt={arraySlice:function(e,r,a){return mt.isTypedArray(e)?new e.constructor(e.subarray(r,a!==void 0?a:e.length)):e.slice(r,a)},convertArray:function(e,r,a){return!e||!a&&e.constructor===r?e:typeof r.BYTES_PER_ELEMENT=="number"?new r(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var r=e.length,a=Array(r),l=0;l!==r;++l)a[l]=l;return a.sort(function(v,b){return e[v]-e[b]}),a},sortedArray:function(e,r,a){for(var l=e.length,v=new e.constructor(l),b=0,M=0;M!==l;++b)for(var R=a[b]*r,k=0;k!==r;++k)v[M++]=e[R+k];return v},flattenJSON:function(e,r,a,l){for(var v=1,b=e[0];b!==void 0&&b[l]===void 0;)b=e[v++];if(b!==void 0){var M=b[l];if(M!==void 0)if(Array.isArray(M))do M=b[l],M!==void 0&&(r.push(b.time),a.push.apply(a,M)),b=e[v++];while(b!==void 0);else if(M.toArray!==void 0)do M=b[l],M!==void 0&&(r.push(b.time),M.toArray(a,a.length)),b=e[v++];while(b!==void 0);else do M=b[l],M!==void 0&&(r.push(b.time),a.push(M)),b=e[v++];while(b!==void 0)}},subclip:function(e,r,a,l,v){v=v||30,e=e.clone(),e.name=r;var b=[];for(r=0;r<e.tracks.length;++r){for(var M=e.tracks[r],R=M.getValueSize(),k=[],X=[],Y=0;Y<M.times.length;++Y){var ie=M.times[Y]*v;if(!(ie<a||ie>=l))for(k.push(M.times[Y]),ie=0;ie<R;++ie)X.push(M.values[Y*R+ie])}k.length!==0&&(M.times=mt.convertArray(k,M.times.constructor),M.values=mt.convertArray(X,M.values.constructor),b.push(M))}for(e.tracks=b,a=Infinity,r=0;r<e.tracks.length;++r)a>e.tracks[r].times[0]&&(a=e.tracks[r].times[0]);for(r=0;r<e.tracks.length;++r)e.tracks[r].shift(-1*a);return e.resetDuration(),e},makeClipAdditive:function(e,r,a,l){r===void 0&&(r=0),a===void 0&&(a=e),(l===void 0||0>=l)&&(l=30);var v=e.tracks.length;for(r/=l,l=0;l<v;++l){var b=a.tracks[l],M=b.ValueTypeName;if(M!=="bool"&&M!=="string"){var R=e.tracks.find(function(we){return we.name===b.name&&we.ValueTypeName===M});if(R!==void 0){var k=b.getValueSize(),X=b.times.length-1;r<=b.times[0]?X=mt.arraySlice(b.values,0,b.valueSize):r>=b.times[X]?X=mt.arraySlice(b.values,X*k):(X=b.createInterpolant(),X.evaluate(r),X=X.resultBuffer),M==="quaternion"&&new lr(X[0],X[1],X[2],X[3]).normalize().conjugate().toArray(X);for(var Y=R.times.length,ie=0;ie<Y;++ie){var le=ie*k;if(M==="quaternion")lr.multiplyQuaternionsFlat(R.values,le,X,0,R.values,le);else for(var Ae=0;Ae<k;++Ae)R.values[le+Ae]-=X[Ae]}}}}return e.blendMode=2501,e}};Le(cu.prototype,{evaluate:function(e){var r=this.parameterPositions,a=this._cachedIndex,l=r[a],v=r[a-1];e:{t:{r:{n:if(!(e<l)){for(var b=a+2;;){if(l===void 0){if(e<v)break n;return this._cachedIndex=a=r.length,this.afterEnd_(a-1,e,v)}if(a===b)break;if(v=l,l=r[++a],e<l)break t}l=r.length;break r}if(e>=v)break e;for(b=r[1],e<b&&(a=2,v=b),b=a-2;;){if(v===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,l);if(a===b)break;if(l=v,v=r[--a-1],e>=v)break t}l=a,a=0}for(;a<l;)v=a+l>>>1,e<r[v]?l=v:a=v+1;if(l=r[a],v=r[a-1],v===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,l);if(l===void 0)return this._cachedIndex=a=r.length,this.afterEnd_(a-1,v,e)}this._cachedIndex=a,this.intervalChanged_(a,v,l)}return this.interpolate_(a,v,e,l)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){var r=this.resultBuffer,a=this.sampleValues,l=this.valueSize;e*=l;for(var v=0;v!==l;++v)r[v]=a[e+v];return r},interpolate_:function(){throw Error("call to abstract method")},intervalChanged_:function(){}}),Le(cu.prototype,{beforeStart_:cu.prototype.copySampleValue_,afterEnd_:cu.prototype.copySampleValue_}),wi.prototype=Le(Oe(cu.prototype),{constructor:wi,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(e,r,a){var l=this.parameterPositions,v=e-2,b=e+1,M=l[v],R=l[b];if(M===void 0)switch(this.getSettings_().endingStart){case 2401:v=e,M=2*r-a;break;case 2402:v=l.length-2,M=r+l[v]-l[v+1];break;default:v=e,M=a}if(R===void 0)switch(this.getSettings_().endingEnd){case 2401:b=e,R=2*a-r;break;case 2402:b=1,R=a+l[1]-l[0];break;default:b=e-1,R=r}e=.5*(a-r),l=this.valueSize,this._weightPrev=e/(r-M),this._weightNext=e/(R-a),this._offsetPrev=v*l,this._offsetNext=b*l},interpolate_:function(e,r,a,l){var v=this.resultBuffer,b=this.sampleValues,M=this.valueSize;e*=M;var R=e-M,k=this._offsetPrev,X=this._offsetNext,Y=this._weightPrev,ie=this._weightNext,le=(a-r)/(l-r);for(a=le*le,l=a*le,r=-Y*l+2*Y*a-Y*le,Y=(1+Y)*l+(-1.5-2*Y)*a+(-.5+Y)*le+1,le=(-1-ie)*l+(1.5+ie)*a+.5*le,ie=ie*l-ie*a,a=0;a!==M;++a)v[a]=r*b[k+a]+Y*b[R+a]+le*b[e+a]+ie*b[X+a];return v}}),Ag.prototype=Le(Oe(cu.prototype),{constructor:Ag,interpolate_:function(e,r,a,l){var v=this.resultBuffer,b=this.sampleValues,M=this.valueSize;e*=M;var R=e-M;for(r=(a-r)/(l-r),a=1-r,l=0;l!==M;++l)v[l]=b[R+l]*a+b[e+l]*r;return v}}),Xd.prototype=Le(Oe(cu.prototype),{constructor:Xd,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Le($a,{toJSON:function(e){var r=e.constructor;if(r.toJSON!==void 0)r=r.toJSON(e);else{r={name:e.name,times:mt.convertArray(e.times,Array),values:mt.convertArray(e.values,Array)};var a=e.getInterpolation();a!==e.DefaultInterpolation&&(r.interpolation=a)}return r.type=e.ValueTypeName,r}}),Le($a.prototype,{constructor:$a,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(e){return new Xd(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Ag(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new wi(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){switch(e){case 2300:var r=this.InterpolantFactoryMethodDiscrete;break;case 2301:r=this.InterpolantFactoryMethodLinear;break;case 2302:r=this.InterpolantFactoryMethodSmooth}if(r===void 0){if(r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name,this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=r,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(e!==0)for(var r=this.times,a=0,l=r.length;a!==l;++a)r[a]+=e;return this},scale:function(e){if(e!==1)for(var r=this.times,a=0,l=r.length;a!==l;++a)r[a]*=e;return this},trim:function(e,r){for(var a=this.times,l=a.length,v=0,b=l-1;v!==l&&a[v]<e;)++v;for(;b!==-1&&a[b]>r;)--b;return++b,(v!==0||b!==l)&&(v>=b&&(b=Math.max(b,1),v=b-1),e=this.getValueSize(),this.times=mt.arraySlice(a,v,b),this.values=mt.arraySlice(this.values,v*e,b*e)),this},validate:function(){var e=!0,r=this.getValueSize();r-Math.floor(r)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var a=this.times;r=this.values;var l=a.length;l===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var v=null,b=0;b!==l;b++){var M=a[b];if(typeof M=="number"&&isNaN(M)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,b,M),e=!1;break}if(v!==null&&v>M){console.error("THREE.KeyframeTrack: Out of order keys.",this,b,M,v),e=!1;break}v=M}if(r!==void 0&&mt.isTypedArray(r)){for(b=0,a=r.length;b!==a;++b)if(l=r[b],isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,b,l),e=!1;break}}return e},optimize:function(){for(var e=mt.arraySlice(this.times),r=mt.arraySlice(this.values),a=this.getValueSize(),l=this.getInterpolation()===2302,v=1,b=e.length-1,M=1;M<b;++M){var R=!1,k=e[M];if(k!==e[M+1]&&(M!==1||k!==k[0]))if(l)R=!0;else{var X=M*a,Y=X-a,ie=X+a;for(k=0;k!==a;++k){var le=r[X+k];if(le!==r[Y+k]||le!==r[ie+k]){R=!0;break}}}if(R){if(M!==v)for(e[v]=e[M],R=M*a,X=v*a,k=0;k!==a;++k)r[X+k]=r[R+k];++v}}if(0<b){for(e[v]=e[b],R=b*a,X=v*a,k=0;k!==a;++k)r[X+k]=r[R+k];++v}return v!==e.length?(this.times=mt.arraySlice(e,0,v),this.values=mt.arraySlice(r,0,v*a)):(this.times=e,this.values=r),this},clone:function(){var e=mt.arraySlice(this.times,0),r=mt.arraySlice(this.values,0);return e=new this.constructor(this.name,e,r),e.createInterpolant=this.createInterpolant,e}}),tm.prototype=Le(Oe($a.prototype),{constructor:tm,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),ky.prototype=Le(Oe($a.prototype),{constructor:ky,ValueTypeName:"color"}),rm.prototype=Le(Oe($a.prototype),{constructor:rm,ValueTypeName:"number"}),Hy.prototype=Le(Oe(cu.prototype),{constructor:Hy,interpolate_:function(e,r,a,l){var v=this.resultBuffer,b=this.sampleValues,M=this.valueSize;for(e*=M,r=(a-r)/(l-r),a=e+M;e!==a;e+=4)lr.slerpFlat(v,0,b,e-M,b,e,r);return v}}),Zd.prototype=Le(Oe($a.prototype),{constructor:Zd,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(e){return new Hy(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),ji.prototype=Le(Oe($a.prototype),{constructor:ji,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Kd.prototype=Le(Oe($a.prototype),{constructor:Kd,ValueTypeName:"vector"}),Le(ec,{parse:function(e){for(var r=[],a=e.tracks,l=1/(e.fps||1),v=0,b=a.length;v!==b;++v)r.push(iA(a[v]).scale(l));return new ec(e.name,e.duration,r,e.blendMode)},toJSON:function(e){var r=[],a=e.tracks;e={name:e.name,duration:e.duration,tracks:r,uuid:e.uuid,blendMode:e.blendMode};for(var l=0,v=a.length;l!==v;++l)r.push($a.toJSON(a[l]));return e},CreateFromMorphTargetSequence:function(e,r,a,l){for(var v=r.length,b=[],M=0;M<v;M++){var R=[],k=[];R.push((M+v-1)%v,M,(M+1)%v),k.push(0,1,0);var X=mt.getKeyframeOrder(R);R=mt.sortedArray(R,1,X),k=mt.sortedArray(k,1,X),l||R[0]!==0||(R.push(v),k.push(k[0])),b.push(new rm(".morphTargetInfluences["+r[M].name+"]",R,k).scale(1/a))}return new ec(e,-1,b)},findByName:function(e,r){var a=e;for(Array.isArray(e)||(a=e.geometry&&e.geometry.animations||e.animations),e=0;e<a.length;e++)if(a[e].name===r)return a[e];return null},CreateClipsFromMorphTargetSequences:function(e,r,a){for(var l={},v=/^([\w-]*?)([\d]+)$/,b=0,M=e.length;b<M;b++){var R=e[b],k=R.name.match(v);if(k&&1<k.length){var X=k[1];(k=l[X])||(l[X]=k=[]),k.push(R)}}e=[];for(X in l)e.push(ec.CreateFromMorphTargetSequence(X,l[X],r,a));return e},parseAnimation:function(e,r){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;var a=function(dt,vt,Lt,kt,Ut){if(Lt.length!==0){var at=[],jr=[];mt.flattenJSON(Lt,at,jr,kt),at.length!==0&&Ut.push(new dt(vt,at,jr))}},l=[],v=e.name||"default",b=e.length||-1,M=e.fps||30,R=e.blendMode;e=e.hierarchy||[];for(var k=0;k<e.length;k++){var X=e[k].keys;if(X&&X.length!==0)if(X[0].morphTargets){b={};for(var Y=0;Y<X.length;Y++)if(X[Y].morphTargets)for(var ie=0;ie<X[Y].morphTargets.length;ie++)b[X[Y].morphTargets[ie]]=-1;for(var le in b){var Ae=[],we=[];for(ie=0;ie!==X[Y].morphTargets.length;++ie){var Qe=X[Y];Ae.push(Qe.time),we.push(Qe.morphTarget===le?1:0)}l.push(new rm(".morphTargetInfluence["+le+"]",Ae,we))}b=b.length*(M||1)}else Y=".bones["+r[k].name+"]",a(Kd,Y+".position",X,"pos",l),a(Zd,Y+".quaternion",X,"rot",l),a(Kd,Y+".scale",X,"scl",l)}return l.length===0?null:new ec(v,b,l,R)}}),Le(ec.prototype,{resetDuration:function(){for(var e=0,r=0,a=this.tracks.length;r!==a;++r){var l=this.tracks[r];e=Math.max(e,l.times[l.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,r=0;r<this.tracks.length;r++)e=e&&this.tracks[r].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());return new ec(this.name,this.duration,e,this.blendMode)}});var Ft={enabled:!1,files:{},add:function(e,r){this.enabled!==!1&&(this.files[e]=r)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Lr=new hx;Le(Ui.prototype,{load:function(){},loadAsync:function(e,r){var a=this;return new C0(function(l,v){a.load(e,l,r,v)})},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});var yr={};Za.prototype=Le(Oe(Ui.prototype),{constructor:Za,load:function(e,r,a,l){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);var v=this,b=Ft.get(e);if(b!==void 0)return v.manager.itemStart(e),setTimeout(function(){r&&r(b),v.manager.itemEnd(e)},0),b;if(yr[e]!==void 0)yr[e].push({onLoad:r,onProgress:a,onError:l});else{var M=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(M){a=M[1];var R=!!M[2];M=M[3],M=decodeURIComponent(M),R&&(M=atob(M));try{var k=(this.responseType||"").toLowerCase();switch(k){case"arraybuffer":case"blob":var X=new Uint8Array(M.length);for(R=0;R<M.length;R++)X[R]=M.charCodeAt(R);var Y=k==="blob"?new Blob([X.buffer],{type:a}):X.buffer;break;case"document":Y=new DOMParser().parseFromString(M,a);break;case"json":Y=JSON.parse(M);break;default:Y=M}setTimeout(function(){r&&r(Y),v.manager.itemEnd(e)},0)}catch(le){setTimeout(function(){l&&l(le),v.manager.itemError(e),v.manager.itemEnd(e)},0)}}else{yr[e]=[],yr[e].push({onLoad:r,onProgress:a,onError:l});var ie=new XMLHttpRequest;ie.open("GET",e,!0),ie.addEventListener("load",function(le){var Ae=this.response,we=yr[e];if(delete yr[e],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Ft.add(e,Ae);for(var Qe=0,yt=we.length;Qe<yt;Qe++){var dt=we[Qe];dt.onLoad&&dt.onLoad(Ae)}}else{for(Qe=0,yt=we.length;Qe<yt;Qe++)dt=we[Qe],dt.onError&&dt.onError(le);v.manager.itemError(e)}v.manager.itemEnd(e)},!1),ie.addEventListener("progress",function(le){for(var Ae=yr[e],we=0,Qe=Ae.length;we<Qe;we++){var yt=Ae[we];yt.onProgress&&yt.onProgress(le)}},!1),ie.addEventListener("error",function(le){var Ae=yr[e];delete yr[e];for(var we=0,Qe=Ae.length;we<Qe;we++){var yt=Ae[we];yt.onError&&yt.onError(le)}v.manager.itemError(e),v.manager.itemEnd(e)},!1),ie.addEventListener("abort",function(le){var Ae=yr[e];delete yr[e];for(var we=0,Qe=Ae.length;we<Qe;we++){var yt=Ae[we];yt.onError&&yt.onError(le)}v.manager.itemError(e),v.manager.itemEnd(e)},!1),this.responseType!==void 0&&(ie.responseType=this.responseType),this.withCredentials!==void 0&&(ie.withCredentials=this.withCredentials),ie.overrideMimeType&&ie.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(R in this.requestHeader)ie.setRequestHeader(R,this.requestHeader[R]);ie.send(null)}return v.manager.itemStart(e),ie}},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this}}),bg.prototype=Le(Oe(Ui.prototype),{constructor:bg,load:function(e,r,a,l){var v=this,b=new Za(v.manager);b.setPath(v.path),b.load(e,function(M){try{r(v.parse(JSON.parse(M)))}catch(R){l?l(R):console.error(R),v.manager.itemError(e)}},a,l)},parse:function(e){for(var r=[],a=0;a<e.length;a++){var l=ec.parse(e[a]);r.push(l)}return r}}),fx.prototype=Le(Oe(Ui.prototype),{constructor:fx,load:function(e,r,a,l){function v(le){k.load(e[le],function(Ae){Ae=b.parse(Ae,!0),M[le]={width:Ae.width,height:Ae.height,format:Ae.format,mipmaps:Ae.mipmaps},X+=1,X===6&&(Ae.mipmapCount===1&&(R.minFilter=1006),R.format=Ae.format,R.needsUpdate=!0,r&&r(R))},a,l)}var b=this,M=[],R=new Zp;R.image=M;var k=new Za(this.manager);if(k.setPath(this.path),k.setResponseType("arraybuffer"),Array.isArray(e))for(var X=0,Y=0,ie=e.length;Y<ie;++Y)v(Y);else k.load(e,function(le){if(le=b.parse(le,!0),le.isCubemap)for(var Ae=le.mipmaps.length/le.mipmapCount,we=0;we<Ae;we++){M[we]={mipmaps:[]};for(var Qe=0;Qe<le.mipmapCount;Qe++)M[we].mipmaps.push(le.mipmaps[we*le.mipmapCount+Qe]),M[we].format=le.format,M[we].width=le.width,M[we].height=le.height}else R.image.width=le.width,R.image.height=le.height,R.mipmaps=le.mipmaps;le.mipmapCount===1&&(R.minFilter=1006),R.format=le.format,R.needsUpdate=!0,r&&r(R)},a,l);return R}}),id.prototype=Le(Oe(Ui.prototype),{constructor:id,load:function(e,r,a,l){var v=this,b=new ah,M=new Za(this.manager);return M.setResponseType("arraybuffer"),M.setPath(this.path),M.load(e,function(R){(R=v.parse(R))&&(R.image!==void 0?b.image=R.image:R.data!==void 0&&(b.image.width=R.width,b.image.height=R.height,b.image.data=R.data),b.wrapS=R.wrapS!==void 0?R.wrapS:1001,b.wrapT=R.wrapT!==void 0?R.wrapT:1001,b.magFilter=R.magFilter!==void 0?R.magFilter:1006,b.minFilter=R.minFilter!==void 0?R.minFilter:1006,b.anisotropy=R.anisotropy!==void 0?R.anisotropy:1,R.format!==void 0&&(b.format=R.format),R.type!==void 0&&(b.type=R.type),R.mipmaps!==void 0&&(b.mipmaps=R.mipmaps,b.minFilter=1008),R.mipmapCount===1&&(b.minFilter=1006),b.needsUpdate=!0,r&&r(b,R))},a,l),b}}),lf.prototype=Le(Oe(Ui.prototype),{constructor:lf,load:function(e,r,a,l){function v(){k.removeEventListener("load",v,!1),k.removeEventListener("error",b,!1),Ft.add(e,this),r&&r(this),M.manager.itemEnd(e)}function b(X){k.removeEventListener("load",v,!1),k.removeEventListener("error",b,!1),l&&l(X),M.manager.itemError(e),M.manager.itemEnd(e)}this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);var M=this,R=Ft.get(e);if(R!==void 0)return M.manager.itemStart(e),setTimeout(function(){r&&r(R),M.manager.itemEnd(e)},0),R;var k=document.createElementNS("http://www.w3.org/1999/xhtml","img");return k.addEventListener("load",v,!1),k.addEventListener("error",b,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(k.crossOrigin=this.crossOrigin),M.manager.itemStart(e),k.src=e,k}}),nm.prototype=Le(Oe(Ui.prototype),{constructor:nm,load:function(e,r,a,l){function v(k){M.load(e[k],function(X){b.images[k]=X,R++,R===6&&(b.needsUpdate=!0,r&&r(b))},void 0,l)}var b=new ds,M=new lf(this.manager);M.setCrossOrigin(this.crossOrigin),M.setPath(this.path);var R=0;for(a=0;a<e.length;++a)v(a);return b}}),ms.prototype=Le(Oe(Ui.prototype),{constructor:ms,load:function(e,r,a,l){var v=new Ar,b=new lf(this.manager);return b.setCrossOrigin(this.crossOrigin),b.setPath(this.path),b.load(e,function(M){v.image=M,M=0<e.search(/\.jpe?g($|\?)/i)||e.search(/^data:image\/jpeg/)===0,v.format=M?1022:1023,v.needsUpdate=!0,r!==void 0&&r(v)},a,l),v}}),Le(Ei.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,r){return e=this.getUtoTmapping(e),this.getPoint(e,r)},getPoints:function(e){e===void 0&&(e=5);for(var r=[],a=0;a<=e;a++)r.push(this.getPoint(a/e));return r},getSpacedPoints:function(e){e===void 0&&(e=5);for(var r=[],a=0;a<=e;a++)r.push(this.getPointAt(a/e));return r},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var r=[],a=this.getPoint(0),l,v=0;for(r.push(0),l=1;l<=e;l++){var b=this.getPoint(l/e);v+=b.distanceTo(a),r.push(v),a=b}return this.cacheArcLengths=r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,r){var a=this.getLengths(),l=a.length;r=r||e*a[l-1];for(var v=0,b=l-1,M;v<=b;)if(e=Math.floor(v+(b-v)/2),M=a[e]-r,0>M)v=e+1;else if(0<M)b=e-1;else{b=e;break}return e=b,a[e]===r?e/(l-1):(v=a[e],(e+(r-v)/(a[e+1]-v))/(l-1))},getTangent:function(e,r){var a=e-1e-4;return e+=1e-4,0>a&&(a=0),1<e&&(e=1),a=this.getPoint(a),e=this.getPoint(e),r=r||(a.isVector2?new Tt:new Pe),r.copy(e).sub(a).normalize(),r},getTangentAt:function(e,r){return e=this.getUtoTmapping(e),this.getTangent(e,r)},computeFrenetFrames:function(e,r){var a=new Pe,l=[],v=[],b=[],M=new Pe,R=new ir,k;for(k=0;k<=e;k++){var X=k/e;l[k]=this.getTangentAt(X,new Pe),l[k].normalize()}v[0]=new Pe,b[0]=new Pe,k=Number.MAX_VALUE,X=Math.abs(l[0].x);var Y=Math.abs(l[0].y),ie=Math.abs(l[0].z);for(X<=k&&(k=X,a.set(1,0,0)),Y<=k&&(k=Y,a.set(0,1,0)),ie<=k&&a.set(0,0,1),M.crossVectors(l[0],a).normalize(),v[0].crossVectors(l[0],M),b[0].crossVectors(l[0],v[0]),k=1;k<=e;k++)v[k]=v[k-1].clone(),b[k]=b[k-1].clone(),M.crossVectors(l[k-1],l[k]),M.length()>ts&&(M.normalize(),a=Math.acos(U.clamp(l[k-1].dot(l[k]),-1,1)),v[k].applyMatrix4(R.makeRotationAxis(M,a))),b[k].crossVectors(l[k],v[k]);if(r===!0)for(a=Math.acos(U.clamp(v[0].dot(v[e]),-1,1)),a/=e,0<l[0].dot(M.crossVectors(v[0],v[e]))&&(a=-a),k=1;k<=e;k++)v[k].applyMatrix4(R.makeRotationAxis(l[k],a*k)),b[k].crossVectors(l[k],v[k]);return{tangents:l,normals:v,binormals:b}},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),Ns.prototype=Oe(Ei.prototype),Ns.prototype.constructor=Ns,Ns.prototype.isEllipseCurve=!0,Ns.prototype.getPoint=function(n,e){e=e||new Tt;for(var r=2*Math.PI,a=this.aEndAngle-this.aStartAngle,l=Math.abs(a)<ts;0>a;)a+=r;for(;a>r;)a-=r;a<ts&&(a=l?0:r),this.aClockwise!==!0||l||(a=a===r?-r:a-r),r=this.aStartAngle+n*a,n=this.aX+this.xRadius*Math.cos(r);var v=this.aY+this.yRadius*Math.sin(r);return this.aRotation!==0&&(r=Math.cos(this.aRotation),a=Math.sin(this.aRotation),l=n-this.aX,v-=this.aY,n=l*r-v*a+this.aX,v=l*a+v*r+this.aY),e.set(n,v)},Ns.prototype.copy=function(n){return Ei.prototype.copy.call(this,n),this.aX=n.aX,this.aY=n.aY,this.xRadius=n.xRadius,this.yRadius=n.yRadius,this.aStartAngle=n.aStartAngle,this.aEndAngle=n.aEndAngle,this.aClockwise=n.aClockwise,this.aRotation=n.aRotation,this},Ns.prototype.toJSON=function(){var n=Ei.prototype.toJSON.call(this);return n.aX=this.aX,n.aY=this.aY,n.xRadius=this.xRadius,n.yRadius=this.yRadius,n.aStartAngle=this.aStartAngle,n.aEndAngle=this.aEndAngle,n.aClockwise=this.aClockwise,n.aRotation=this.aRotation,n},Ns.prototype.fromJSON=function(n){return Ei.prototype.fromJSON.call(this,n),this.aX=n.aX,this.aY=n.aY,this.xRadius=n.xRadius,this.yRadius=n.yRadius,this.aStartAngle=n.aStartAngle,this.aEndAngle=n.aEndAngle,this.aClockwise=n.aClockwise,this.aRotation=n.aRotation,this},Rc.prototype=Oe(Ns.prototype),Rc.prototype.constructor=Rc,Rc.prototype.isArcCurve=!0;var Yr=new Pe,Un=new Xo,vi=new Xo,no=new Xo;_s.prototype=Oe(Ei.prototype),_s.prototype.constructor=_s,_s.prototype.isCatmullRomCurve3=!0,_s.prototype.getPoint=function(n,e){e=e||new Pe;var r=this.points,a=r.length;n*=a-(this.closed?0:1);var l=Math.floor(n);if(n-=l,this.closed?l+=0<l?0:(Math.floor(Math.abs(l)/a)+1)*a:n===0&&l===a-1&&(l=a-2,n=1),this.closed||0<l)var v=r[(l-1)%a];else Yr.subVectors(r[0],r[1]).add(r[0]),v=Yr;var b=r[l%a],M=r[(l+1)%a];if(this.closed||l+2<a?r=r[(l+2)%a]:(Yr.subVectors(r[a-1],r[a-2]).add(r[a-1]),r=Yr),this.curveType==="centripetal"||this.curveType==="chordal"){var R=this.curveType==="chordal"?.5:.25;a=Math.pow(v.distanceToSquared(b),R),l=Math.pow(b.distanceToSquared(M),R),R=Math.pow(M.distanceToSquared(r),R),1e-4>l&&(l=1),1e-4>a&&(a=l),1e-4>R&&(R=l),Un.initNonuniformCatmullRom(v.x,b.x,M.x,r.x,a,l,R),vi.initNonuniformCatmullRom(v.y,b.y,M.y,r.y,a,l,R),no.initNonuniformCatmullRom(v.z,b.z,M.z,r.z,a,l,R)}else this.curveType==="catmullrom"&&(Un.initCatmullRom(v.x,b.x,M.x,r.x,this.tension),vi.initCatmullRom(v.y,b.y,M.y,r.y,this.tension),no.initCatmullRom(v.z,b.z,M.z,r.z,this.tension));return e.set(Un.calc(n),vi.calc(n),no.calc(n)),e},_s.prototype.copy=function(n){Ei.prototype.copy.call(this,n),this.points=[];for(var e=0,r=n.points.length;e<r;e++)this.points.push(n.points[e].clone());return this.closed=n.closed,this.curveType=n.curveType,this.tension=n.tension,this},_s.prototype.toJSON=function(){var n=Ei.prototype.toJSON.call(this);n.points=[];for(var e=0,r=this.points.length;e<r;e++)n.points.push(this.points[e].toArray());return n.closed=this.closed,n.curveType=this.curveType,n.tension=this.tension,n},_s.prototype.fromJSON=function(n){Ei.prototype.fromJSON.call(this,n),this.points=[];for(var e=0,r=n.points.length;e<r;e++){var a=n.points[e];this.points.push(new Pe().fromArray(a))}return this.closed=n.closed,this.curveType=n.curveType,this.tension=n.tension,this},Lc.prototype=Oe(Ei.prototype),Lc.prototype.constructor=Lc,Lc.prototype.isCubicBezierCurve=!0,Lc.prototype.getPoint=function(n,e){e=e||new Tt;var r=this.v0,a=this.v1,l=this.v2,v=this.v3;return e.set(uf(n,r.x,a.x,l.x,v.x),uf(n,r.y,a.y,l.y,v.y)),e},Lc.prototype.copy=function(n){return Ei.prototype.copy.call(this,n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this.v3.copy(n.v3),this},Lc.prototype.toJSON=function(){var n=Ei.prototype.toJSON.call(this);return n.v0=this.v0.toArray(),n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n.v3=this.v3.toArray(),n},Lc.prototype.fromJSON=function(n){return Ei.prototype.fromJSON.call(this,n),this.v0.fromArray(n.v0),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this.v3.fromArray(n.v3),this},mh.prototype=Oe(Ei.prototype),mh.prototype.constructor=mh,mh.prototype.isCubicBezierCurve3=!0,mh.prototype.getPoint=function(n,e){e=e||new Pe;var r=this.v0,a=this.v1,l=this.v2,v=this.v3;return e.set(uf(n,r.x,a.x,l.x,v.x),uf(n,r.y,a.y,l.y,v.y),uf(n,r.z,a.z,l.z,v.z)),e},mh.prototype.copy=function(n){return Ei.prototype.copy.call(this,n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this.v3.copy(n.v3),this},mh.prototype.toJSON=function(){var n=Ei.prototype.toJSON.call(this);return n.v0=this.v0.toArray(),n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n.v3=this.v3.toArray(),n},mh.prototype.fromJSON=function(n){return Ei.prototype.fromJSON.call(this,n),this.v0.fromArray(n.v0),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this.v3.fromArray(n.v3),this},ro.prototype=Oe(Ei.prototype),ro.prototype.constructor=ro,ro.prototype.isLineCurve=!0,ro.prototype.getPoint=function(n,e){return e=e||new Tt,n===1?e.copy(this.v2):(e.copy(this.v2).sub(this.v1),e.multiplyScalar(n).add(this.v1)),e},ro.prototype.getPointAt=function(n,e){return this.getPoint(n,e)},ro.prototype.getTangent=function(n,e){return n=e||new Tt,n=n.copy(this.v2).sub(this.v1).normalize()},ro.prototype.copy=function(n){return Ei.prototype.copy.call(this,n),this.v1.copy(n.v1),this.v2.copy(n.v2),this},ro.prototype.toJSON=function(){var n=Ei.prototype.toJSON.call(this);return n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n},ro.prototype.fromJSON=function(n){return Ei.prototype.fromJSON.call(this,n),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this},Iu.prototype=Oe(Ei.prototype),Iu.prototype.constructor=Iu,Iu.prototype.isLineCurve3=!0,Iu.prototype.getPoint=function(n,e){return e=e||new Pe,n===1?e.copy(this.v2):(e.copy(this.v2).sub(this.v1),e.multiplyScalar(n).add(this.v1)),e},Iu.prototype.getPointAt=function(n,e){return this.getPoint(n,e)},Iu.prototype.copy=function(n){return Ei.prototype.copy.call(this,n),this.v1.copy(n.v1),this.v2.copy(n.v2),this},Iu.prototype.toJSON=function(){var n=Ei.prototype.toJSON.call(this);return n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n},Iu.prototype.fromJSON=function(n){return Ei.prototype.fromJSON.call(this,n),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this},Kl.prototype=Oe(Ei.prototype),Kl.prototype.constructor=Kl,Kl.prototype.isQuadraticBezierCurve=!0,Kl.prototype.getPoint=function(n,e){e=e||new Tt;var r=this.v0,a=this.v1,l=this.v2;return e.set(Sg(n,r.x,a.x,l.x),Sg(n,r.y,a.y,l.y)),e},Kl.prototype.copy=function(n){return Ei.prototype.copy.call(this,n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this},Kl.prototype.toJSON=function(){var n=Ei.prototype.toJSON.call(this);return n.v0=this.v0.toArray(),n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n},Kl.prototype.fromJSON=function(n){return Ei.prototype.fromJSON.call(this,n),this.v0.fromArray(n.v0),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this},gh.prototype=Oe(Ei.prototype),gh.prototype.constructor=gh,gh.prototype.isQuadraticBezierCurve3=!0,gh.prototype.getPoint=function(n,e){e=e||new Pe;var r=this.v0,a=this.v1,l=this.v2;return e.set(Sg(n,r.x,a.x,l.x),Sg(n,r.y,a.y,l.y),Sg(n,r.z,a.z,l.z)),e},gh.prototype.copy=function(n){return Ei.prototype.copy.call(this,n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this},gh.prototype.toJSON=function(){var n=Ei.prototype.toJSON.call(this);return n.v0=this.v0.toArray(),n.v1=this.v1.toArray(),n.v2=this.v2.toArray(),n},gh.prototype.fromJSON=function(n){return Ei.prototype.fromJSON.call(this,n),this.v0.fromArray(n.v0),this.v1.fromArray(n.v1),this.v2.fromArray(n.v2),this},Re.prototype=Oe(Ei.prototype),Re.prototype.constructor=Re,Re.prototype.isSplineCurve=!0,Re.prototype.getPoint=function(n,e){e=e||new Tt;var r=this.points,a=(r.length-1)*n;n=Math.floor(a),a-=n;var l=r[n===0?n:n-1],v=r[n],b=r[n>r.length-2?r.length-1:n+1];return r=r[n>r.length-3?r.length-1:n+2],e.set(od(a,l.x,v.x,b.x,r.x),od(a,l.y,v.y,b.y,r.y)),e},Re.prototype.copy=function(n){Ei.prototype.copy.call(this,n),this.points=[];for(var e=0,r=n.points.length;e<r;e++)this.points.push(n.points[e].clone());return this},Re.prototype.toJSON=function(){var n=Ei.prototype.toJSON.call(this);n.points=[];for(var e=0,r=this.points.length;e<r;e++)n.points.push(this.points[e].toArray());return n},Re.prototype.fromJSON=function(n){Ei.prototype.fromJSON.call(this,n),this.points=[];for(var e=0,r=n.points.length;e<r;e++){var a=n.points[e];this.points.push(new Tt().fromArray(a))}return this};var Oo=Eh({__proto__:null,ArcCurve:Rc,CatmullRomCurve3:_s,CubicBezierCurve:Lc,CubicBezierCurve3:mh,EllipseCurve:Ns,LineCurve:ro,LineCurve3:Iu,QuadraticBezierCurve:Kl,QuadraticBezierCurve3:gh,SplineCurve:Re});Rl.prototype=Le(Oe(Ei.prototype),{constructor:Rl,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),r=this.curves[this.curves.length-1].getPoint(1);e.equals(r)||this.curves.push(new ro(r,e))},getPoint:function(e){var r=e*this.getLength(),a=this.getCurveLengths();for(e=0;e<a.length;){if(a[e]>=r)return r=a[e]-r,e=this.curves[e],a=e.getLength(),e.getPointAt(a===0?0:1-r/a);e++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],r=0,a=0,l=this.curves.length;a<l;a++)r+=this.curves[a].getLength(),e.push(r);return this.cacheLengths=e},getSpacedPoints:function(e){e===void 0&&(e=40);for(var r=[],a=0;a<=e;a++)r.push(this.getPoint(a/e));return this.autoClose&&r.push(r[0]),r},getPoints:function(e){e=e||12;for(var r=[],a,l=0,v=this.curves;l<v.length;l++){var b=v[l];b=b.getPoints(b&&b.isEllipseCurve?2*e:b&&(b.isLineCurve||b.isLineCurve3)?1:b&&b.isSplineCurve?e*b.points.length:e);for(var M=0;M<b.length;M++){var R=b[M];a&&a.equals(R)||(r.push(R),a=R)}}return this.autoClose&&1<r.length&&!r[r.length-1].equals(r[0])&&r.push(r[0]),r},copy:function(e){Ei.prototype.copy.call(this,e),this.curves=[];for(var r=0,a=e.curves.length;r<a;r++)this.curves.push(e.curves[r].clone());return this.autoClose=e.autoClose,this},toJSON:function(){var e=Ei.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var r=0,a=this.curves.length;r<a;r++)e.curves.push(this.curves[r].toJSON());return e},fromJSON:function(e){Ei.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var r=0,a=e.curves.length;r<a;r++){var l=e.curves[r];this.curves.push(new Oo[l.type]().fromJSON(l))}return this}}),Pu.prototype=Le(Oe(Rl.prototype),{constructor:Pu,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var r=1,a=e.length;r<a;r++)this.lineTo(e[r].x,e[r].y);return this},moveTo:function(e,r){return this.currentPoint.set(e,r),this},lineTo:function(e,r){var a=new ro(this.currentPoint.clone(),new Tt(e,r));return this.curves.push(a),this.currentPoint.set(e,r),this},quadraticCurveTo:function(e,r,a,l){return e=new Kl(this.currentPoint.clone(),new Tt(e,r),new Tt(a,l)),this.curves.push(e),this.currentPoint.set(a,l),this},bezierCurveTo:function(e,r,a,l,v,b){return e=new Lc(this.currentPoint.clone(),new Tt(e,r),new Tt(a,l),new Tt(v,b)),this.curves.push(e),this.currentPoint.set(v,b),this},splineThru:function(e){var r=[this.currentPoint.clone()].concat(e);return r=new Re(r),this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,r,a,l,v,b){return this.absarc(e+this.currentPoint.x,r+this.currentPoint.y,a,l,v,b),this},absarc:function(e,r,a,l,v,b){return this.absellipse(e,r,a,a,l,v,b),this},ellipse:function(e,r,a,l,v,b,M,R){return this.absellipse(e+this.currentPoint.x,r+this.currentPoint.y,a,l,v,b,M,R),this},absellipse:function(e,r,a,l,v,b,M,R){return e=new Ns(e,r,a,l,v,b,M,R),0<this.curves.length&&(r=e.getPoint(0),r.equals(this.currentPoint)||this.lineTo(r.x,r.y)),this.curves.push(e),e=e.getPoint(1),this.currentPoint.copy(e),this},copy:function(e){return Rl.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=Rl.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Rl.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),Ys.prototype=Le(Oe(Pu.prototype),{constructor:Ys,getPointsHoles:function(e){for(var r=[],a=0,l=this.holes.length;a<l;a++)r[a]=this.holes[a].getPoints(e);return r},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Pu.prototype.copy.call(this,e),this.holes=[];for(var r=0,a=e.holes.length;r<a;r++)this.holes.push(e.holes[r].clone());return this},toJSON:function(){var e=Pu.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var r=0,a=this.holes.length;r<a;r++)e.holes.push(this.holes[r].toJSON());return e},fromJSON:function(e){Pu.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var r=0,a=e.holes.length;r<a;r++){var l=e.holes[r];this.holes.push(new Pu().fromJSON(l))}return this}}),ci.prototype=Le(Oe(an.prototype),{constructor:ci,isLight:!0,copy:function(e){return an.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){return e=an.prototype.toJSON.call(this,e),e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),e}}),Ou.prototype=Le(Oe(ci.prototype),{constructor:Ou,isHemisphereLight:!0,copy:function(e){return ci.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Le(cf.prototype,{_projScreenMatrix:new ir,_lightPositionWorld:new Pe,_lookTarget:new Pe,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var r=this.camera,a=this.matrix,l=this._projScreenMatrix,v=this._lookTarget,b=this._lightPositionWorld;b.setFromMatrixPosition(e.matrixWorld),r.position.copy(b),v.setFromMatrixPosition(e.target.matrixWorld),r.lookAt(v),r.updateMatrixWorld(),l.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(l),a.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),a.multiply(r.projectionMatrix),a.multiply(r.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var e={};return this.bias!==0&&(e.bias=this.bias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),Vy.prototype=Le(Oe(cf.prototype),{constructor:Vy,isSpotLightShadow:!0,updateMatrices:function(e){var r=this.camera,a=2*U.RAD2DEG*e.angle,l=this.mapSize.width/this.mapSize.height,v=e.distance||r.far;(a!==r.fov||l!==r.aspect||v!==r.far)&&(r.fov=a,r.aspect=l,r.far=v,r.updateProjectionMatrix()),cf.prototype.updateMatrices.call(this,e)}}),hf.prototype=Le(Oe(ci.prototype),{constructor:hf,isSpotLight:!0,copy:function(e){return ci.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Ya.prototype=Le(Oe(cf.prototype),{constructor:Ya,isPointLightShadow:!0,updateMatrices:function(e,r){r===void 0&&(r=0);var a=this.camera,l=this.matrix,v=this._lightPositionWorld,b=this._lookTarget,M=this._projScreenMatrix;v.setFromMatrixPosition(e.matrixWorld),a.position.copy(v),b.copy(a.position),b.add(this._cubeDirections[r]),a.up.copy(this._cubeUps[r]),a.lookAt(b),a.updateMatrixWorld(),l.makeTranslation(-v.x,-v.y,-v.z),M.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),this._frustum.setFromProjectionMatrix(M)}}),Ka.prototype=Le(Oe(ci.prototype),{constructor:Ka,isPointLight:!0,copy:function(e){return ci.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Dc.prototype=Le(Oe(Ku.prototype),{constructor:Dc,isOrthographicCamera:!0,copy:function(e,r){return Ku.prototype.copy.call(this,e,r),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Le({},e.view),this},setViewOffset:function(e,r,a,l,v,b){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=r,this.view.offsetX=a,this.view.offsetY=l,this.view.width=v,this.view.height=b,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),r=(this.top-this.bottom)/(2*this.zoom),a=(this.right+this.left)/2,l=(this.top+this.bottom)/2,v=a-e;a+=e,e=l+r,r=l-r,this.view!==null&&this.view.enabled&&(l=(this.right-this.left)/this.view.fullWidth/this.zoom,r=(this.top-this.bottom)/this.view.fullHeight/this.zoom,v+=l*this.view.offsetX,a=v+l*this.view.width,e-=r*this.view.offsetY,r=e-r*this.view.height),this.projectionMatrix.makeOrthographic(v,a,e,r,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){return e=an.prototype.toJSON.call(this,e),e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Le({},this.view)),e}}),Jd.prototype=Le(Oe(cf.prototype),{constructor:Jd,isDirectionalLightShadow:!0,updateMatrices:function(e){cf.prototype.updateMatrices.call(this,e)}}),ff.prototype=Le(Oe(ci.prototype),{constructor:ff,isDirectionalLight:!0,copy:function(e){return ci.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Nc.prototype=Le(Oe(ci.prototype),{constructor:Nc,isAmbientLight:!0}),df.prototype=Le(Oe(ci.prototype),{constructor:df,isRectAreaLight:!0,copy:function(e){return ci.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){return e=ci.prototype.toJSON.call(this,e),e.object.width=this.width,e.object.height=this.height,e}}),Le(Jl.prototype,{isSphericalHarmonics3:!0,set:function(e){for(var r=0;9>r;r++)this.coefficients[r].copy(e[r]);return this},zero:function(){for(var e=0;9>e;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,r){var a=e.x,l=e.y;e=e.z;var v=this.coefficients;return r.copy(v[0]).multiplyScalar(.282095),r.addScaledVector(v[1],.488603*l),r.addScaledVector(v[2],.488603*e),r.addScaledVector(v[3],.488603*a),r.addScaledVector(v[4],1.092548*a*l),r.addScaledVector(v[5],1.092548*l*e),r.addScaledVector(v[6],.315392*(3*e*e-1)),r.addScaledVector(v[7],1.092548*a*e),r.addScaledVector(v[8],.546274*(a*a-l*l)),r},getIrradianceAt:function(e,r){var a=e.x,l=e.y;e=e.z;var v=this.coefficients;return r.copy(v[0]).multiplyScalar(.886227),r.addScaledVector(v[1],1.023328*l),r.addScaledVector(v[2],1.023328*e),r.addScaledVector(v[3],1.023328*a),r.addScaledVector(v[4],.858086*a*l),r.addScaledVector(v[5],.858086*l*e),r.addScaledVector(v[6],.743125*e*e-.247708),r.addScaledVector(v[7],.858086*a*e),r.addScaledVector(v[8],.429043*(a*a-l*l)),r},add:function(e){for(var r=0;9>r;r++)this.coefficients[r].add(e.coefficients[r]);return this},addScaledSH:function(e,r){for(var a=0;9>a;a++)this.coefficients[a].addScaledVector(e.coefficients[a],r);return this},scale:function(e){for(var r=0;9>r;r++)this.coefficients[r].multiplyScalar(e);return this},lerp:function(e,r){for(var a=0;9>a;a++)this.coefficients[a].lerp(e.coefficients[a],r);return this},equals:function(e){for(var r=0;9>r;r++)if(!this.coefficients[r].equals(e.coefficients[r]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return new this.constructor().copy(this)},fromArray:function(e,r){r===void 0&&(r=0);for(var a=this.coefficients,l=0;9>l;l++)a[l].fromArray(e,r+3*l);return this},toArray:function(e,r){e===void 0&&(e=[]),r===void 0&&(r=0);for(var a=this.coefficients,l=0;9>l;l++)a[l].toArray(e,r+3*l);return e}}),Le(Jl,{getBasisAt:function(e,r){var a=e.x,l=e.y;e=e.z,r[0]=.282095,r[1]=.488603*l,r[2]=.488603*e,r[3]=.488603*a,r[4]=1.092548*a*l,r[5]=1.092548*l*e,r[6]=.315392*(3*e*e-1),r[7]=1.092548*a*e,r[8]=.546274*(a*a-l*l)}}),Ru.prototype=Le(Oe(ci.prototype),{constructor:Ru,isLightProbe:!0,copy:function(e){return ci.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){return e=ci.prototype.toJSON.call(this,e),e.object.sh=this.sh.toArray(),e}}),qv.prototype=Le(Oe(Ui.prototype),{constructor:qv,load:function(e,r,a,l){var v=this,b=new Za(v.manager);b.setPath(v.path),b.load(e,function(M){try{r(v.parse(JSON.parse(M)))}catch(R){l?l(R):console.error(R),v.manager.itemError(e)}},a,l)},parse:function(e){function r(R){return a[R]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",R),a[R]}var a=this.textures,l=new ct[e.type];if(e.uuid!==void 0&&(l.uuid=e.uuid),e.name!==void 0&&(l.name=e.name),e.color!==void 0&&l.color.setHex(e.color),e.roughness!==void 0&&(l.roughness=e.roughness),e.metalness!==void 0&&(l.metalness=e.metalness),e.sheen!==void 0&&(l.sheen=new Sn().setHex(e.sheen)),e.emissive!==void 0&&l.emissive.setHex(e.emissive),e.specular!==void 0&&l.specular.setHex(e.specular),e.shininess!==void 0&&(l.shininess=e.shininess),e.clearcoat!==void 0&&(l.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(l.clearcoatRoughness=e.clearcoatRoughness),e.fog!==void 0&&(l.fog=e.fog),e.flatShading!==void 0&&(l.flatShading=e.flatShading),e.blending!==void 0&&(l.blending=e.blending),e.combine!==void 0&&(l.combine=e.combine),e.side!==void 0&&(l.side=e.side),e.opacity!==void 0&&(l.opacity=e.opacity),e.transparent!==void 0&&(l.transparent=e.transparent),e.alphaTest!==void 0&&(l.alphaTest=e.alphaTest),e.depthTest!==void 0&&(l.depthTest=e.depthTest),e.depthWrite!==void 0&&(l.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(l.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(l.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(l.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(l.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(l.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(l.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(l.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(l.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(l.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(l.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(l.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(l.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(l.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(l.rotation=e.rotation),e.linewidth!==1&&(l.linewidth=e.linewidth),e.dashSize!==void 0&&(l.dashSize=e.dashSize),e.gapSize!==void 0&&(l.gapSize=e.gapSize),e.scale!==void 0&&(l.scale=e.scale),e.polygonOffset!==void 0&&(l.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(l.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(l.polygonOffsetUnits=e.polygonOffsetUnits),e.skinning!==void 0&&(l.skinning=e.skinning),e.morphTargets!==void 0&&(l.morphTargets=e.morphTargets),e.morphNormals!==void 0&&(l.morphNormals=e.morphNormals),e.dithering!==void 0&&(l.dithering=e.dithering),e.vertexTangents!==void 0&&(l.vertexTangents=e.vertexTangents),e.visible!==void 0&&(l.visible=e.visible),e.toneMapped!==void 0&&(l.toneMapped=e.toneMapped),e.userData!==void 0&&(l.userData=e.userData),e.vertexColors!==void 0&&(l.vertexColors=typeof e.vertexColors=="number"?0<e.vertexColors:e.vertexColors),e.uniforms!==void 0)for(var v in e.uniforms){var b=e.uniforms[v];switch(l.uniforms[v]={},b.type){case"t":l.uniforms[v].value=r(b.value);break;case"c":l.uniforms[v].value=new Sn().setHex(b.value);break;case"v2":l.uniforms[v].value=new Tt().fromArray(b.value);break;case"v3":l.uniforms[v].value=new Pe().fromArray(b.value);break;case"v4":l.uniforms[v].value=new Dt().fromArray(b.value);break;case"m3":l.uniforms[v].value=new Vr().fromArray(b.value);case"m4":l.uniforms[v].value=new ir().fromArray(b.value);break;default:l.uniforms[v].value=b.value}}if(e.defines!==void 0&&(l.defines=e.defines),e.vertexShader!==void 0&&(l.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(l.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(var M in e.extensions)l.extensions[M]=e.extensions[M];return e.shading!==void 0&&(l.flatShading=e.shading===1),e.size!==void 0&&(l.size=e.size),e.sizeAttenuation!==void 0&&(l.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(l.map=r(e.map)),e.matcap!==void 0&&(l.matcap=r(e.matcap)),e.alphaMap!==void 0&&(l.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(l.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(l.bumpScale=e.bumpScale),e.normalMap!==void 0&&(l.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(l.normalMapType=e.normalMapType),e.normalScale!==void 0&&(v=e.normalScale,Array.isArray(v)===!1&&(v=[v,v]),l.normalScale=new Tt().fromArray(v)),e.displacementMap!==void 0&&(l.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(l.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(l.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(l.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(l.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(l.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(l.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(l.specularMap=r(e.specularMap)),e.envMap!==void 0&&(l.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(l.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(l.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(l.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(l.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(l.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(l.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(l.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(l.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(l.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(l.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(l.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(l.clearcoatNormalScale=new Tt().fromArray(e.clearcoatNormalScale)),l},setTextures:function(e){return this.textures=e,this}});var oo={decodeText:function(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);for(var r="",a=0,l=e.length;a<l;a++)r+=String.fromCharCode(e[a]);try{return decodeURIComponent(escape(r))}catch(v){return r}},extractUrlBase:function(e){var r=e.lastIndexOf("/");return r===-1?"./":e.substr(0,r+1)}};qd.prototype=Le(Oe(Yn.prototype),{constructor:qd,isInstancedBufferGeometry:!0,copy:function(e){return Yn.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){var e=Yn.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}),ql.prototype=Le(Oe(ti.prototype),{constructor:ql,isInstancedBufferAttribute:!0,copy:function(e){return ti.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=ti.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),Qv.prototype=Le(Oe(Ui.prototype),{constructor:Qv,load:function(e,r,a,l){var v=this,b=new Za(v.manager);b.setPath(v.path),b.load(e,function(M){try{r(v.parse(JSON.parse(M)))}catch(R){l?l(R):console.error(R),v.manager.itemError(e)}},a,l)},parse:function(e){var r=e.isInstancedBufferGeometry?new qd:new Yn,a=e.data.index;if(a!==void 0){var l=new Go[a.type](a.array);r.setIndex(new ti(l,1))}a=e.data.attributes;for(var v in a){var b=a[v];l=new Go[b.type](b.array),l=new(b.isInstancedBufferAttribute?ql:ti)(l,b.itemSize,b.normalized),b.name!==void 0&&(l.name=b.name),r.setAttribute(v,l)}var M=e.data.morphAttributes;if(M)for(v in M){var R=M[v],k=[];a=0;for(var X=R.length;a<X;a++)b=R[a],l=new Go[b.type](b.array),l=new ti(l,b.itemSize,b.normalized),b.name!==void 0&&(l.name=b.name),k.push(l);r.morphAttributes[v]=k}if(e.data.morphTargetsRelative&&(r.morphTargetsRelative=!0),v=e.data.groups||e.data.drawcalls||e.data.offsets,v!==void 0)for(a=0,b=v.length;a!==b;++a)l=v[a],r.addGroup(l.start,l.count,l.materialIndex);return a=e.data.boundingSphere,a!==void 0&&(v=new Pe,a.center!==void 0&&v.fromArray(a.center),r.boundingSphere=new Ca(v,a.radius)),e.name&&(r.name=e.name),e.userData&&(r.userData=e.userData),r}});var Go={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray!="undefined"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};im.prototype=Le(Oe(Ui.prototype),{constructor:im,load:function(e,r,a,l){var v=this,b=this.path===""?oo.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||b,b=new Za(v.manager),b.setPath(this.path),b.load(e,function(M){var R=null;try{R=JSON.parse(M)}catch(k){l!==void 0&&l(k),console.error("THREE:ObjectLoader: Can't parse "+e+".",k.message);return}M=R.metadata,M===void 0||M.type===void 0||M.type.toLowerCase()==="geometry"?console.error("THREE.ObjectLoader: Can't load "+e):v.parse(R,r)},a,l)},parse:function(e,r){var a=this.parseShape(e.shapes);a=this.parseGeometries(e.geometries,a);var l=this.parseImages(e.images,function(){r!==void 0&&r(v)});l=this.parseTextures(e.textures,l),l=this.parseMaterials(e.materials,l);var v=this.parseObject(e.object,a,l);return e.animations&&(v.animations=this.parseAnimations(e.animations)),e.images!==void 0&&e.images.length!==0||r===void 0||r(v),v},parseShape:function(e){var r={};if(e!==void 0)for(var a=0,l=e.length;a<l;a++){var v=new Ys().fromJSON(e[a]);r[v.uuid]=v}return r},parseGeometries:function(e,r){var a={};if(e!==void 0)for(var l=new Qv,v=0,b=e.length;v<b;v++){var M=e[v];switch(M.type){case"PlaneGeometry":case"PlaneBufferGeometry":var R=new ze[M.type](M.width,M.height,M.widthSegments,M.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":R=new ze[M.type](M.width,M.height,M.depth,M.widthSegments,M.heightSegments,M.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":R=new ze[M.type](M.radius,M.segments,M.thetaStart,M.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":R=new ze[M.type](M.radiusTop,M.radiusBottom,M.height,M.radialSegments,M.heightSegments,M.openEnded,M.thetaStart,M.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":R=new ze[M.type](M.radius,M.height,M.radialSegments,M.heightSegments,M.openEnded,M.thetaStart,M.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":R=new ze[M.type](M.radius,M.widthSegments,M.heightSegments,M.phiStart,M.phiLength,M.thetaStart,M.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":R=new ze[M.type](M.radius,M.detail);break;case"RingGeometry":case"RingBufferGeometry":R=new ze[M.type](M.innerRadius,M.outerRadius,M.thetaSegments,M.phiSegments,M.thetaStart,M.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":R=new ze[M.type](M.radius,M.tube,M.radialSegments,M.tubularSegments,M.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":R=new ze[M.type](M.radius,M.tube,M.tubularSegments,M.radialSegments,M.p,M.q);break;case"TubeGeometry":case"TubeBufferGeometry":R=new ze[M.type](new Oo[M.path.type]().fromJSON(M.path),M.tubularSegments,M.radius,M.radialSegments,M.closed);break;case"LatheGeometry":case"LatheBufferGeometry":R=new ze[M.type](M.points,M.segments,M.phiStart,M.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":R=new ze[M.type](M.vertices,M.indices,M.radius,M.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":R=[];for(var k=0,X=M.shapes.length;k<X;k++){var Y=r[M.shapes[k]];R.push(Y)}R=new ze[M.type](R,M.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(R=[],k=0,X=M.shapes.length;k<X;k++)Y=r[M.shapes[k]],R.push(Y);k=M.options.extrudePath,k!==void 0&&(M.options.extrudePath=new Oo[k.type]().fromJSON(k)),R=new ze[M.type](R,M.options);break;case"BufferGeometry":case"InstancedBufferGeometry":R=l.parse(M);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+M.type+'"');continue}R.uuid=M.uuid,M.name!==void 0&&(R.name=M.name),R.isBufferGeometry===!0&&M.userData!==void 0&&(R.userData=M.userData),a[M.uuid]=R}return a},parseMaterials:function(e,r){var a={},l={};if(e!==void 0){var v=new qv;v.setTextures(r),r=0;for(var b=e.length;r<b;r++){var M=e[r];if(M.type==="MultiMaterial"){for(var R=[],k=0;k<M.materials.length;k++){var X=M.materials[k];a[X.uuid]===void 0&&(a[X.uuid]=v.parse(X)),R.push(a[X.uuid])}l[M.uuid]=R}else a[M.uuid]===void 0&&(a[M.uuid]=v.parse(M)),l[M.uuid]=a[M.uuid]}}return l},parseAnimations:function(e){for(var r=[],a=0;a<e.length;a++){var l=e[a],v=ec.parse(l);l.uuid!==void 0&&(v.uuid=l.uuid),r.push(v)}return r},parseImages:function(e,r){function a(le){return l.manager.itemStart(le),b.load(le,function(){l.manager.itemEnd(le)},void 0,function(){l.manager.itemError(le),l.manager.itemEnd(le)})}var l=this,v={};if(e!==void 0&&0<e.length){r=new hx(r);var b=new lf(r);b.setCrossOrigin(this.crossOrigin),r=0;for(var M=e.length;r<M;r++){var R=e[r],k=R.url;if(Array.isArray(k)){v[R.uuid]=[];for(var X=0,Y=k.length;X<Y;X++){var ie=k[X];ie=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(ie)?ie:l.resourcePath+ie,v[R.uuid].push(a(ie))}}else ie=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(R.url)?R.url:l.resourcePath+R.url,v[R.uuid]=a(ie)}}return v},parseTextures:function(e,r){function a(k,X){return typeof k=="number"?k:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",k),X[k])}var l={};if(e!==void 0)for(var v=0,b=e.length;v<b;v++){var M=e[v];M.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',M.uuid),r[M.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",M.image);var R=Array.isArray(r[M.image])?new ds(r[M.image]):new Ar(r[M.image]);R.needsUpdate=!0,R.uuid=M.uuid,M.name!==void 0&&(R.name=M.name),M.mapping!==void 0&&(R.mapping=a(M.mapping,oa)),M.offset!==void 0&&R.offset.fromArray(M.offset),M.repeat!==void 0&&R.repeat.fromArray(M.repeat),M.center!==void 0&&R.center.fromArray(M.center),M.rotation!==void 0&&(R.rotation=M.rotation),M.wrap!==void 0&&(R.wrapS=a(M.wrap[0],pc),R.wrapT=a(M.wrap[1],pc)),M.format!==void 0&&(R.format=M.format),M.type!==void 0&&(R.type=M.type),M.encoding!==void 0&&(R.encoding=M.encoding),M.minFilter!==void 0&&(R.minFilter=a(M.minFilter,pu)),M.magFilter!==void 0&&(R.magFilter=a(M.magFilter,pu)),M.anisotropy!==void 0&&(R.anisotropy=M.anisotropy),M.flipY!==void 0&&(R.flipY=M.flipY),M.premultiplyAlpha!==void 0&&(R.premultiplyAlpha=M.premultiplyAlpha),M.unpackAlignment!==void 0&&(R.unpackAlignment=M.unpackAlignment),l[M.uuid]=R}return l},parseObject:function(e,r,a){function l(X){return r[X]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",X),r[X]}function v(X){if(X!==void 0){if(Array.isArray(X)){for(var Y=[],ie=0,le=X.length;ie<le;ie++){var Ae=X[ie];a[Ae]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",Ae),Y.push(a[Ae])}return Y}return a[X]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",X),a[X]}}switch(e.type){case"Scene":var b=new Ai;e.background!==void 0&&Zc(e.background)&&(b.background=new Sn(e.background)),e.fog!==void 0&&(e.fog.type==="Fog"?b.fog=new ef(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(b.fog=new Vd(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":b=new Rs(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(b.focus=e.focus),e.zoom!==void 0&&(b.zoom=e.zoom),e.filmGauge!==void 0&&(b.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(b.filmOffset=e.filmOffset),e.view!==void 0&&(b.view=Le({},e.view));break;case"OrthographicCamera":b=new Dc(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(b.zoom=e.zoom),e.view!==void 0&&(b.view=Le({},e.view));break;case"AmbientLight":b=new Nc(e.color,e.intensity);break;case"DirectionalLight":b=new ff(e.color,e.intensity);break;case"PointLight":b=new Ka(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":b=new df(e.color,e.intensity,e.width,e.height);break;case"SpotLight":b=new hf(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":b=new Ou(e.color,e.groundColor,e.intensity);break;case"LightProbe":b=new Ru().fromJSON(e);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":b=l(e.geometry);var M=v(e.material);b=new so(b,M);break;case"InstancedMesh":b=l(e.geometry),M=v(e.material);var R=e.instanceMatrix;b=new ri(b,M,e.count),b.instanceMatrix=new ti(new Float32Array(R.array),16);break;case"LOD":b=new Yv;break;case"Line":b=new wa(l(e.geometry),v(e.material),e.mode);break;case"LineLoop":b=new Ea(l(e.geometry),v(e.material));break;case"LineSegments":b=new $i(l(e.geometry),v(e.material));break;case"PointCloud":case"Points":b=new Qn(l(e.geometry),v(e.material));break;case"Sprite":b=new _o(v(e.material));break;case"Group":b=new ch;break;default:b=new an}if(b.uuid=e.uuid,e.name!==void 0&&(b.name=e.name),e.matrix!==void 0?(b.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(b.matrixAutoUpdate=e.matrixAutoUpdate),b.matrixAutoUpdate&&b.matrix.decompose(b.position,b.quaternion,b.scale)):(e.position!==void 0&&b.position.fromArray(e.position),e.rotation!==void 0&&b.rotation.fromArray(e.rotation),e.quaternion!==void 0&&b.quaternion.fromArray(e.quaternion),e.scale!==void 0&&b.scale.fromArray(e.scale)),e.castShadow!==void 0&&(b.castShadow=e.castShadow),e.receiveShadow!==void 0&&(b.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(b.shadow.bias=e.shadow.bias),e.shadow.radius!==void 0&&(b.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&b.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(b.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(b.visible=e.visible),e.frustumCulled!==void 0&&(b.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(b.renderOrder=e.renderOrder),e.userData!==void 0&&(b.userData=e.userData),e.layers!==void 0&&(b.layers.mask=e.layers),e.children!==void 0)for(R=e.children,M=0;M<R.length;M++)b.add(this.parseObject(R[M],r,a));if(e.type==="LOD")for(e.autoUpdate!==void 0&&(b.autoUpdate=e.autoUpdate),e=e.levels,R=0;R<e.length;R++){M=e[R];var k=b.getObjectByProperty("uuid",M.object);k!==void 0&&b.addLevel(k,M.distance)}return b}});var oa={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},pc={RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},pu={NearestFilter:1003,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,LinearFilter:1006,LinearMipmapNearestFilter:1007,LinearMipmapLinearFilter:1008};ad.prototype=Le(Oe(Ui.prototype),{constructor:ad,setOptions:function(e){return this.options=e,this},load:function(e,r,a,l){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);var v=this,b=Ft.get(e);if(b!==void 0)return v.manager.itemStart(e),setTimeout(function(){r&&r(b),v.manager.itemEnd(e)},0),b;fetch(e).then(function(M){return M.blob()}).then(function(M){return v.options===void 0?createImageBitmap(M):createImageBitmap(M,v.options)}).then(function(M){Ft.add(e,M),r&&r(M),v.manager.itemEnd(e)}).catch(function(M){l&&l(M),v.manager.itemError(e),v.manager.itemEnd(e)}),v.manager.itemStart(e)}}),Le($v.prototype,{moveTo:function(e,r){return this.currentPath=new Pu,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,r),this},lineTo:function(e,r){return this.currentPath.lineTo(e,r),this},quadraticCurveTo:function(e,r,a,l){return this.currentPath.quadraticCurveTo(e,r,a,l),this},bezierCurveTo:function(e,r,a,l,v,b){return this.currentPath.bezierCurveTo(e,r,a,l,v,b),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,r){function a(yt){for(var dt=[],vt=0,Lt=yt.length;vt<Lt;vt++){var kt=yt[vt],Ut=new Ys;Ut.curves=kt.curves,dt.push(Ut)}return dt}function l(yt,dt){for(var vt=dt.length,Lt=!1,kt=vt-1,Ut=0;Ut<vt;kt=Ut++){var at=dt[kt],jr=dt[Ut],Zt=jr.x-at.x,$r=jr.y-at.y;if(Math.abs($r)>ts){if(0>$r&&(at=dt[Ut],Zt=-Zt,jr=dt[kt],$r=-$r),!(yt.y<at.y||yt.y>jr.y))if(yt.y===at.y){if(yt.x===at.x)return!0}else{if(kt=$r*(yt.x-at.x)-Zt*(yt.y-at.y),kt===0)return!0;0>kt||(Lt=!Lt)}}else if(yt.y===at.y&&(jr.x<=yt.x&&yt.x<=at.x||at.x<=yt.x&&yt.x<=jr.x))return!0}return Lt}var v=fe.isClockWise,b=this.subPaths;if(b.length===0)return[];if(r===!0)return a(b);if(r=[],b.length===1){var M=b[0],R=new Ys;return R.curves=M.curves,r.push(R),r}var k=!v(b[0].getPoints());k=e?!k:k,R=[];var X=[],Y=[],ie=0;X[ie]=void 0,Y[ie]=[];for(var le=0,Ae=b.length;le<Ae;le++){M=b[le];var we=M.getPoints(),Qe=v(we);(Qe=e?!Qe:Qe)?(!k&&X[ie]&&ie++,X[ie]={s:new Ys,p:we},X[ie].s.curves=M.curves,k&&ie++,Y[ie]=[]):Y[ie].push({h:M,p:we[0]})}if(!X[0])return a(b);if(1<X.length){for(le=!1,e=[],v=0,b=X.length;v<b;v++)R[v]=[];for(v=0,b=X.length;v<b;v++)for(M=Y[v],Qe=0;Qe<M.length;Qe++){for(k=M[Qe],ie=!0,we=0;we<X.length;we++)l(k.p,X[we].p)&&(v!==we&&e.push({froms:v,tos:we,hole:Qe}),ie?(ie=!1,R[we].push(k)):le=!0);ie&&R[v].push(k)}0<e.length&&(le||(Y=R))}for(le=0,v=X.length;le<v;le++)for(R=X[le].s,r.push(R),e=Y[le],b=0,M=e.length;b<M;b++)R.holes.push(e[b].h);return r}}),Le(om.prototype,{isFont:!0,generateShapes:function(e,r){r===void 0&&(r=100);var a=[],l=r;r=this.data;var v=Cl?Cl(e):String(e).split("");l/=r.resolution;var b=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*l;e=[];for(var M=0,R=0,k=0;k<v.length;k++){var X=v[k];if(X===`
`)M=0,R-=b;else{var Y=X;X=l;var ie=M,le=R,Ae=r,we=Ae.glyphs[Y]||Ae.glyphs["?"];if(we){if(Y=new $v,we.o){Ae=we._cachedOutline||(we._cachedOutline=we.o.split(" "));for(var Qe=0,yt=Ae.length;Qe<yt;)switch(Ae[Qe++]){case"m":var dt=Ae[Qe++]*X+ie,vt=Ae[Qe++]*X+le;Y.moveTo(dt,vt);break;case"l":dt=Ae[Qe++]*X+ie,vt=Ae[Qe++]*X+le,Y.lineTo(dt,vt);break;case"q":var Lt=Ae[Qe++]*X+ie,kt=Ae[Qe++]*X+le,Ut=Ae[Qe++]*X+ie,at=Ae[Qe++]*X+le;Y.quadraticCurveTo(Ut,at,Lt,kt);break;case"b":Lt=Ae[Qe++]*X+ie,kt=Ae[Qe++]*X+le,Ut=Ae[Qe++]*X+ie,at=Ae[Qe++]*X+le,dt=Ae[Qe++]*X+ie,vt=Ae[Qe++]*X+le,Y.bezierCurveTo(Ut,at,dt,vt,Lt,kt)}}X={offsetX:we.ha*X,path:Y}}else console.error('THREE.Font: character "'+Y+'" does not exists in font family '+Ae.familyName+"."),X=void 0;M+=X.offsetX,e.push(X.path)}}for(r=0,v=e.length;r<v;r++)Array.prototype.push.apply(a,e[r].toShapes());return a}}),pf.prototype=Le(Oe(Ui.prototype),{constructor:pf,load:function(e,r,a,l){var v=this,b=new Za(this.manager);b.setPath(this.path),b.load(e,function(M){try{var R=JSON.parse(M)}catch(k){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),R=JSON.parse(M.substring(65,M.length-2))}M=v.parse(R),r&&r(M)},a,l)},parse:function(e){return new om(e)}});var mu,Us={getContext:function(){return mu===void 0&&(mu=new(window.AudioContext||window.webkitAudioContext)),mu},setContext:function(e){mu=e}};am.prototype=Le(Oe(Ui.prototype),{constructor:am,load:function(e,r,a,l){var v=this,b=new Za(v.manager);b.setResponseType("arraybuffer"),b.setPath(v.path),b.load(e,function(M){try{var R=M.slice(0);Us.getContext().decodeAudioData(R,function(k){r(k)})}catch(k){l?l(k):console.error(k),v.manager.itemError(e)}},a,l)}}),_g.prototype=Le(Oe(Ru.prototype),{constructor:_g,isHemisphereLightProbe:!0,copy:function(e){return Ru.prototype.copy.call(this,e),this},toJSON:function(e){return Ru.prototype.toJSON.call(this,e)}}),Lu.prototype=Le(Oe(Ru.prototype),{constructor:Lu,isAmbientLightProbe:!0,copy:function(e){return Ru.prototype.copy.call(this,e),this},toJSON:function(e){return Ru.prototype.toJSON.call(this,e)}});var zh=new ir,Td=new ir;Le(function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Rs,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Rs,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}.prototype,{update:function(e){var r=this._cache;if(r.focus!==e.focus||r.fov!==e.fov||r.aspect!==e.aspect*this.aspect||r.near!==e.near||r.far!==e.far||r.zoom!==e.zoom||r.eyeSep!==this.eyeSep){r.focus=e.focus,r.fov=e.fov,r.aspect=e.aspect*this.aspect,r.near=e.near,r.far=e.far,r.zoom=e.zoom,r.eyeSep=this.eyeSep;var a=e.projectionMatrix.clone(),l=r.eyeSep/2,v=l*r.near/r.focus,b=r.near*Math.tan(U.DEG2RAD*r.fov*.5)/r.zoom;Td.elements[12]=-l,zh.elements[12]=l,l=-b*r.aspect+v;var M=b*r.aspect+v;a.elements[0]=2*r.near/(M-l),a.elements[8]=(M+l)/(M-l),this.cameraL.projectionMatrix.copy(a),l=-b*r.aspect-v,M=b*r.aspect-v,a.elements[0]=2*r.near/(M-l),a.elements[8]=(M+l)/(M-l),this.cameraR.projectionMatrix.copy(a)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Td),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(zh)}}),Le(e0.prototype,{start:function(){this.oldTime=this.startTime=(typeof performance=="undefined"?Date:performance).now(),this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.autoStart=this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var r=(typeof performance=="undefined"?Date:performance).now();e=(r-this.oldTime)/1e3,this.oldTime=r,this.elapsedTime+=e}return e}});var Hm=new Pe,N2=new lr,$b=new Pe,S1=new Pe;tc.prototype=Le(Oe(an.prototype),{constructor:tc,getInput:function(){return this.gain},removeFilter:function(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){an.prototype.updateMatrixWorld.call(this,e),e=this.context.listener;var r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Hm,N2,$b),S1.set(0,0,-1).applyQuaternion(N2),e.positionX){var a=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(Hm.x,a),e.positionY.linearRampToValueAtTime(Hm.y,a),e.positionZ.linearRampToValueAtTime(Hm.z,a),e.forwardX.linearRampToValueAtTime(S1.x,a),e.forwardY.linearRampToValueAtTime(S1.y,a),e.forwardZ.linearRampToValueAtTime(S1.z,a),e.upX.linearRampToValueAtTime(r.x,a),e.upY.linearRampToValueAtTime(r.y,a),e.upZ.linearRampToValueAtTime(r.z,a)}else e.setPosition(Hm.x,Hm.y,Hm.z),e.setOrientation(S1.x,S1.y,S1.z,r.x,r.y,r.z)}}),mf.prototype=Le(Oe(an.prototype),{constructor:mf,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(e){if(e===void 0&&(e=0),this.isPlaying===!0)console.warn("THREE.Audio: Audio is already playing.");else if(this.hasPlaybackControl===!1)console.warn("THREE.Audio: this Audio has no playback control.");else return this._startedAt=this.context.currentTime+e,e=this.context.createBufferSource(),e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()},pause:function(){if(this.hasPlaybackControl===!1)console.warn("THREE.Audio: this Audio has no playback control.");else return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress%=this.duration||this.buffer.duration),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this},stop:function(){if(this.hasPlaybackControl===!1)console.warn("THREE.Audio: this Audio has no playback control.");else return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var e=1,r=this.filters.length;e<r;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var e=1,r=this.filters.length;e<r;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),this.isPlaying===!0?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(this.hasPlaybackControl===!1)console.warn("THREE.Audio: this Audio has no playback control.");else return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(this.hasPlaybackControl===!1)console.warn("THREE.Audio: this Audio has no playback control.");else return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this},setLoopStart:function(e){return this.loopStart=e,this},setLoopEnd:function(e){return this.loopEnd=e,this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});var _1=new Pe,vv=new lr,n_=new Pe,M1=new Pe;sd.prototype=Le(Oe(mf.prototype),{constructor:sd,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,r,a){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=r,this.panner.coneOuterGain=a,this},updateMatrixWorld:function(e){if(an.prototype.updateMatrixWorld.call(this,e),this.hasPlaybackControl!==!0||this.isPlaying!==!1)if(this.matrixWorld.decompose(_1,vv,n_),M1.set(0,0,1).applyQuaternion(vv),e=this.panner,e.positionX){var r=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(_1.x,r),e.positionY.linearRampToValueAtTime(_1.y,r),e.positionZ.linearRampToValueAtTime(_1.z,r),e.orientationX.linearRampToValueAtTime(M1.x,r),e.orientationY.linearRampToValueAtTime(M1.y,r),e.orientationZ.linearRampToValueAtTime(M1.z,r)}else e.setPosition(_1.x,_1.y,_1.z),e.setOrientation(M1.x,M1.y,M1.z)}}),Le(Qd.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,r=this.getFrequencyData(),a=0;a<r.length;a++)e+=r[a];return e/r.length}}),Le(Mg.prototype,{accumulate:function(e,r){var a=this.buffer,l=this.valueSize;e=e*l+l;var v=this.cumulativeWeight;if(v===0){for(v=0;v!==l;++v)a[e+v]=a[v];v=r}else v+=r,this._mixBufferRegion(a,e,0,r/v,l);this.cumulativeWeight=v},accumulateAdditive:function(e){var r=this.buffer,a=this.valueSize,l=a*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(r,l,0,e,a),this.cumulativeWeightAdditive+=e},apply:function(e){var r=this.valueSize,a=this.buffer;e=e*r+r;var l=this.cumulativeWeight,v=this.cumulativeWeightAdditive,b=this.binding;for(this.cumulativeWeightAdditive=this.cumulativeWeight=0,1>l&&this._mixBufferRegion(a,e,r*this._origIndex,1-l,r),0<v&&this._mixBufferRegionAdditive(a,e,this._addIndex*r,1,r),l=r,v=r+r;l!==v;++l)if(a[l]!==a[l+r]){b.setValue(a,e);break}},saveOriginalState:function(){var e=this.buffer,r=this.valueSize,a=r*this._origIndex;this.binding.getValue(e,a);for(var l=r;l!==a;++l)e[l]=e[a+l%r];this._setIdentity(),this.cumulativeWeightAdditive=this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_setAdditiveIdentityNumeric:function(){for(var e=this._addIndex*this.valueSize,r=e+this.valueSize;e<r;e++)this.buffer[e]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[4*this._addIndex+3]=1},_setAdditiveIdentityOther:function(){for(var e=this._origIndex*this.valueSize,r=this._addIndex*this.valueSize,a=0;a<this.valueSize;a++)this.buffer[r+a]=this.buffer[e+a]},_select:function(e,r,a,l,v){if(.5<=l)for(l=0;l!==v;++l)e[r+l]=e[a+l]},_slerp:function(e,r,a,l){lr.slerpFlat(e,r,e,r,e,a,l)},_slerpAdditive:function(e,r,a,l,v){v*=this._workIndex,lr.multiplyQuaternionsFlat(e,v,e,r,e,a),lr.slerpFlat(e,r,e,r,e,v,l)},_lerp:function(e,r,a,l,v){for(var b=1-l,M=0;M!==v;++M){var R=r+M;e[R]=e[R]*b+e[a+M]*l}},_lerpAdditive:function(e,r,a,l,v){for(var b=0;b!==v;++b){var M=r+b;e[M]+=e[a+b]*l}}});var eS=/[\[\]\.:\/]/g,tS="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",i_=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),rS=/(WCOD+)?/.source.replace("WCOD",tS),o_=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),a_=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),nS=new RegExp("^"+i_+rS+o_+a_+"$"),Xw=["material","materials","bones"];Le(sm.prototype,{getValue:function(e,r){this.bind();var a=this._bindings[this._targetGroup.nCachedObjects_];a!==void 0&&a.getValue(e,r)},setValue:function(e,r){for(var a=this._bindings,l=this._targetGroup.nCachedObjects_,v=a.length;l!==v;++l)a[l].setValue(e,r)},bind:function(){for(var e=this._bindings,r=this._targetGroup.nCachedObjects_,a=e.length;r!==a;++r)e[r].bind()},unbind:function(){for(var e=this._bindings,r=this._targetGroup.nCachedObjects_,a=e.length;r!==a;++r)e[r].unbind()}}),Le(Ll,{Composite:sm,create:function(e,r,a){return e&&e.isAnimationObjectGroup?new Ll.Composite(e,r,a):new Ll(e,r,a)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(eS,"")},parseTrackName:function(e){var r=nS.exec(e);if(!r)throw Error("PropertyBinding: Cannot parse trackName: "+e);r={nodeName:r[2],objectName:r[3],objectIndex:r[4],propertyName:r[5],propertyIndex:r[6]};var a=r.nodeName&&r.nodeName.lastIndexOf(".");if(a!==void 0&&a!==-1){var l=r.nodeName.substring(a+1);Xw.indexOf(l)!==-1&&(r.nodeName=r.nodeName.substring(0,a),r.objectName=l)}if(r.propertyName===null||r.propertyName.length===0)throw Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r},findNode:function(e,r){if(!r||r===""||r==="."||r===-1||r===e.name||r===e.uuid)return e;if(e.skeleton){var a=e.skeleton.getBoneByName(r);if(a!==void 0)return a}return e.children&&(e=function l(v){for(var b=0;b<v.length;b++){var M=v[b];if(M.name===r||M.uuid===r||(M=l(M.children)))return M}return null}(e.children))?e:null}}),Le(Ll.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(n,e){n[e]=this.node[this.propertyName]},function(n,e){for(var r=this.resolvedProperty,a=0,l=r.length;a!==l;++a)n[e++]=r[a]},function(n,e){n[e]=this.resolvedProperty[this.propertyIndex]},function(n,e){this.resolvedProperty.toArray(n,e)}],SetterByBindingTypeAndVersioning:[[function(n,e){this.targetObject[this.propertyName]=n[e]},function(n,e){this.targetObject[this.propertyName]=n[e],this.targetObject.needsUpdate=!0},function(n,e){this.targetObject[this.propertyName]=n[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(n,e){for(var r=this.resolvedProperty,a=0,l=r.length;a!==l;++a)r[a]=n[e++]},function(n,e){for(var r=this.resolvedProperty,a=0,l=r.length;a!==l;++a)r[a]=n[e++];this.targetObject.needsUpdate=!0},function(n,e){for(var r=this.resolvedProperty,a=0,l=r.length;a!==l;++a)r[a]=n[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(n,e){this.resolvedProperty[this.propertyIndex]=n[e]},function(n,e){this.resolvedProperty[this.propertyIndex]=n[e],this.targetObject.needsUpdate=!0},function(n,e){this.resolvedProperty[this.propertyIndex]=n[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(n,e){this.resolvedProperty.fromArray(n,e)},function(n,e){this.resolvedProperty.fromArray(n,e),this.targetObject.needsUpdate=!0},function(n,e){this.resolvedProperty.fromArray(n,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,r){this.bind(),this.getValue(e,r)},setValue:function(e,r){this.bind(),this.setValue(e,r)},bind:function(){var e=this.node,r=this.parsedPath,a=r.objectName,l=r.propertyName,v=r.propertyIndex;if(e||(this.node=e=Ll.findNode(this.rootNode,r.nodeName)||this.rootNode),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(a){var b=r.objectIndex;switch(a){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}for(e=e.skeleton.bones,a=0;a<e.length;a++)if(e[a].name===b){b=a;break}break;default:if(e[a]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[a]}if(b!==void 0){if(e[b]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[b]}}if(b=e[l],b===void 0)console.error("THREE.PropertyBinding: Trying to update property for track: "+r.nodeName+"."+l+" but it wasn't found.",e);else{if(r=this.Versioning.None,this.targetObject=e,e.needsUpdate!==void 0?r=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(r=this.Versioning.MatrixWorldNeedsUpdate),a=this.BindingType.Direct,v!==void 0){if(l==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[v]!==void 0&&(v=e.morphTargetDictionary[v])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}a=this.BindingType.ArrayElement,this.resolvedProperty=b,this.propertyIndex=v}else b.fromArray!==void 0&&b.toArray!==void 0?(a=this.BindingType.HasFromToArray,this.resolvedProperty=b):Array.isArray(b)?(a=this.BindingType.EntireArray,this.resolvedProperty=b):this.propertyName=l;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][r]}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Le(Ll.prototype,{_getValue_unbound:Ll.prototype.getValue,_setValue_unbound:Ll.prototype.setValue}),Le(function(){this.uuid=U.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var n={};this._indicesByUUID=n;for(var e=0,r=arguments.length;e!==r;++e)n[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var a=this;this.stats={objects:{get total(){return a._objects.length},get inUse(){return this.total-a.nCachedObjects_}},get bindingsPerObject(){return a._bindings.length}}}.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,r=e.length,a=this.nCachedObjects_,l=this._indicesByUUID,v=this._paths,b=this._parsedPaths,M=this._bindings,R=M.length,k=void 0,X=0,Y=arguments.length;X!==Y;++X){var ie=arguments[X],le=ie.uuid,Ae=l[le];if(Ae===void 0){Ae=r++,l[le]=Ae,e.push(ie),le=0;for(var we=R;le!==we;++le)M[le].push(new Ll(ie,v[le],b[le]))}else if(Ae<a){k=e[Ae];var Qe=--a;for(we=e[Qe],l[we.uuid]=Ae,e[Ae]=we,l[le]=Qe,e[Qe]=ie,le=0,we=R;le!==we;++le){var yt=M[le],dt=yt[Ae];yt[Ae]=yt[Qe],dt===void 0&&(dt=new Ll(ie,v[le],b[le])),yt[Qe]=dt}}else e[Ae]!==k&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=a},remove:function(){for(var e=this._objects,r=this.nCachedObjects_,a=this._indicesByUUID,l=this._bindings,v=l.length,b=0,M=arguments.length;b!==M;++b){var R=arguments[b],k=R.uuid,X=a[k];if(X!==void 0&&X>=r){var Y=r++,ie=e[Y];for(a[ie.uuid]=X,e[X]=ie,a[k]=Y,e[Y]=R,R=0,k=v;R!==k;++R){ie=l[R];var le=ie[X];ie[X]=ie[Y],ie[Y]=le}}}this.nCachedObjects_=r},uncache:function(){for(var e=this._objects,r=e.length,a=this.nCachedObjects_,l=this._indicesByUUID,v=this._bindings,b=v.length,M=0,R=arguments.length;M!==R;++M){var k=arguments[M].uuid,X=l[k];if(X!==void 0)if(delete l[k],X<a){k=--a;var Y=e[k],ie=--r,le=e[ie];for(l[Y.uuid]=X,e[X]=Y,l[le.uuid]=k,e[k]=le,e.pop(),Y=0,le=b;Y!==le;++Y){var Ae=v[Y],we=Ae[ie];Ae[X]=Ae[k],Ae[k]=we,Ae.pop()}}else for(ie=--r,le=e[ie],l[le.uuid]=X,e[X]=le,e.pop(),Y=0,le=b;Y!==le;++Y)Ae=v[Y],Ae[X]=Ae[ie],Ae.pop()}this.nCachedObjects_=a},subscribe_:function(e,r){var a=this._bindingsIndicesByPath,l=a[e],v=this._bindings;if(l!==void 0)return v[l];var b=this._paths,M=this._parsedPaths,R=this._objects,k=this.nCachedObjects_,X=Array(R.length);for(l=v.length,a[e]=l,b.push(e),M.push(r),v.push(X),a=k,l=R.length;a!==l;++a)X[a]=new Ll(R[a],e,r);return X},unsubscribe_:function(e){var r=this._bindingsIndicesByPath,a=r[e];if(a!==void 0){var l=this._paths,v=this._parsedPaths,b=this._bindings,M=b.length-1,R=b[M];r[e[M]]=a,b[a]=R,b.pop(),v[a]=v[M],v.pop(),l[a]=l[M],l.pop()}}}),Le(Gy.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,r){return this.loop=e,this.repetitions=r,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,r,a){if(e.fadeOut(r),this.fadeIn(r),a){a=this._clip.duration;var l=e._clip.duration,v=a/l;e.warp(1,l/a,r),this.warp(v,1,r)}return this},crossFadeTo:function(e,r,a){return e.crossFadeFrom(this,r,a)},stopFading:function(){var e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,r,a){var l=this._mixer,v=l.time,b=this._timeScaleInterpolant,M=this.timeScale;return b===null&&(this._timeScaleInterpolant=b=l._lendControlInterpolant()),l=b.parameterPositions,b=b.sampleValues,l[0]=v,l[1]=v+a,b[0]=e/M,b[1]=r/M,this},stopWarping:function(){var e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,r,a,l){if(this.enabled){var v=this._startTime;if(v!==null){if(r=(e-v)*a,0>r||a===0)return;this._startTime=null,r*=a}if(r*=this._updateTimeScale(e),a=this._updateTime(r),e=this._updateWeight(e),0<e)switch(r=this._interpolants,v=this._propertyBindings,this.blendMode){case 2501:for(var b=0,M=r.length;b!==M;++b)r[b].evaluate(a),v[b].accumulateAdditive(e);break;default:for(b=0,M=r.length;b!==M;++b)r[b].evaluate(a),v[b].accumulate(l,e)}}else this._updateWeight(e)},_updateWeight:function(e){var r=0;if(this.enabled){r=this.weight;var a=this._weightInterpolant;if(a!==null){var l=a.evaluate(e)[0];r*=l,e>a.parameterPositions[1]&&(this.stopFading(),l===0&&(this.enabled=!1))}}return this._effectiveWeight=r},_updateTimeScale:function(e){var r=0;if(!this.paused){r=this.timeScale;var a=this._timeScaleInterpolant;if(a!==null){var l=a.evaluate(e)[0];r*=l,e>a.parameterPositions[1]&&(this.stopWarping(),r===0?this.paused=!0:this.timeScale=r)}}return this._effectiveTimeScale=r},_updateTime:function(e){var r=this.time+e,a=this._clip.duration,l=this.loop,v=this._loopCount,b=l===2202;if(e===0)return v===-1?r:b&&(v&1)==1?a-r:r;if(l===2200)e:{if(v===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1)),r>=a)r=a;else if(0>r)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:0>e?-1:1})}else{if(v===-1&&(0<=e?(v=0,this._setEndings(!0,this.repetitions===0,b)):this._setEndings(this.repetitions===0,!0,b)),r>=a||0>r){l=Math.floor(r/a),r-=a*l,v+=Math.abs(l);var M=this.repetitions-v;0>=M?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r=0<e?a:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<e?1:-1})):(M===1?(e=0>e,this._setEndings(e,!e,b)):this._setEndings(!1,!1,b),this._loopCount=v,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l}))}else this.time=r;if(b&&(v&1)==1)return a-r}return r},_setEndings:function(e,r,a){var l=this._interpolantSettings;a?(l.endingStart=2401,l.endingEnd=2401):(l.endingStart=e?this.zeroSlopeAtStart?2401:2400:2402,l.endingEnd=r?this.zeroSlopeAtEnd?2401:2400:2402)},_scheduleFading:function(e,r,a){var l=this._mixer,v=l.time,b=this._weightInterpolant;return b===null&&(this._weightInterpolant=b=l._lendControlInterpolant()),l=b.parameterPositions,b=b.sampleValues,l[0]=v,b[0]=r,l[1]=v+e,b[1]=a,this}}),Eg.prototype=Le(Oe(br.prototype),{constructor:Eg,_bindAction:function(e,r){var a=e._localRoot||this._root,l=e._clip.tracks,v=l.length,b=e._propertyBindings;e=e._interpolants;var M=a.uuid,R=this._bindingsByRootAndName,k=R[M];for(k===void 0&&(k={},R[M]=k),R=0;R!==v;++R){var X=l[R],Y=X.name,ie=k[Y];if(ie===void 0){if(ie=b[R],ie!==void 0){ie._cacheIndex===null&&(++ie.referenceCount,this._addInactiveBinding(ie,M,Y));continue}ie=new Mg(Ll.create(a,Y,r&&r._propertyBindings[R].binding.parsedPath),X.ValueTypeName,X.getValueSize()),++ie.referenceCount,this._addInactiveBinding(ie,M,Y)}b[R]=ie,e[R].resultBuffer=ie.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){var r=(e._localRoot||this._root).uuid,a=e._clip.uuid,l=this._actionsByClip[a];this._bindAction(e,l&&l.knownActions[0]),this._addInactiveAction(e,a,r)}for(r=e._propertyBindings,a=0,l=r.length;a!==l;++a){var v=r[a];v.useCount++==0&&(this._lendBinding(v),v.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var r=e._propertyBindings,a=0,l=r.length;a!==l;++a){var v=r[a];--v.useCount==0&&(v.restoreOriginalState(),this._takeBackBinding(v))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){return e=e._cacheIndex,e!==null&&e<this._nActiveActions},_addInactiveAction:function(e,r,a){var l=this._actions,v=this._actionsByClip,b=v[r];b===void 0?(b={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,v[r]=b):(r=b.knownActions,e._byClipCacheIndex=r.length,r.push(e)),e._cacheIndex=l.length,l.push(e),b.actionByRoot[a]=e},_removeInactiveAction:function(e){var r=this._actions,a=r[r.length-1],l=e._cacheIndex;a._cacheIndex=l,r[l]=a,r.pop(),e._cacheIndex=null,r=e._clip.uuid,a=this._actionsByClip,l=a[r];var v=l.knownActions,b=v[v.length-1],M=e._byClipCacheIndex;b._byClipCacheIndex=M,v[M]=b,v.pop(),e._byClipCacheIndex=null,delete l.actionByRoot[(e._localRoot||this._root).uuid],v.length===0&&delete a[r],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){e=e._propertyBindings;for(var r=0,a=e.length;r!==a;++r){var l=e[r];--l.referenceCount==0&&this._removeInactiveBinding(l)}},_lendAction:function(e){var r=this._actions,a=e._cacheIndex,l=this._nActiveActions++,v=r[l];e._cacheIndex=l,r[l]=e,v._cacheIndex=a,r[a]=v},_takeBackAction:function(e){var r=this._actions,a=e._cacheIndex,l=--this._nActiveActions,v=r[l];e._cacheIndex=l,r[l]=e,v._cacheIndex=a,r[a]=v},_addInactiveBinding:function(e,r,a){var l=this._bindingsByRootAndName,v=l[r],b=this._bindings;v===void 0&&(v={},l[r]=v),v[a]=e,e._cacheIndex=b.length,b.push(e)},_removeInactiveBinding:function(e){var r=this._bindings,a=e.binding,l=a.rootNode.uuid;a=a.path;var v=this._bindingsByRootAndName,b=v[l],M=r[r.length-1];e=e._cacheIndex,M._cacheIndex=e,r[e]=M,r.pop(),delete b[a],es(b).length===0&&delete v[l]},_lendBinding:function(e){var r=this._bindings,a=e._cacheIndex,l=this._nActiveBindings++,v=r[l];e._cacheIndex=l,r[l]=e,v._cacheIndex=a,r[a]=v},_takeBackBinding:function(e){var r=this._bindings,a=e._cacheIndex,l=--this._nActiveBindings,v=r[l];e._cacheIndex=l,r[l]=e,v._cacheIndex=a,r[a]=v},_lendControlInterpolant:function(){var e=this._controlInterpolants,r=this._nActiveControlInterpolants++,a=e[r];return a===void 0&&(a=new Ag(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),a.__cacheIndex=r,e[r]=a),a},_takeBackControlInterpolant:function(e){var r=this._controlInterpolants,a=e.__cacheIndex,l=--this._nActiveControlInterpolants,v=r[l];e.__cacheIndex=l,r[l]=e,v.__cacheIndex=a,r[a]=v},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,r,a){var l=r||this._root,v=l.uuid;l=typeof e=="string"?ec.findByName(l,e):e,e=l!==null?l.uuid:e;var b=this._actionsByClip[e],M=null;if(a===void 0&&(a=l!==null?l.blendMode:2500),b!==void 0){if(M=b.actionByRoot[v],M!==void 0&&M.blendMode===a)return M;M=b.knownActions[0],l===null&&(l=M._clip)}return l===null?null:(r=new Gy(this,l,r,a),this._bindAction(r,M),this._addInactiveAction(r,e,v),r)},existingAction:function(e,r){var a=r||this._root;return r=a.uuid,a=typeof e=="string"?ec.findByName(a,e):e,e=this._actionsByClip[a?a.uuid:e],e!==void 0&&e.actionByRoot[r]||null},stopAllAction:function(){for(var e=this._actions,r=this._nActiveActions-1;0<=r;--r)e[r].stop();return this},update:function(e){e*=this.timeScale;for(var r=this._actions,a=this._nActiveActions,l=this.time+=e,v=Ad(e),b=this._accuIndex^=1,M=0;M!==a;++M)r[M]._update(l,e,v,b);for(e=this._bindings,r=this._nActiveBindings,M=0;M!==r;++M)e[M].apply(b);return this},setTime:function(e){for(var r=this.time=0;r<this._actions.length;r++)this._actions[r].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){var r=this._actions;e=e.uuid;var a=this._actionsByClip,l=a[e];if(l!==void 0){l=l.knownActions;for(var v=0,b=l.length;v!==b;++v){var M=l[v];this._deactivateAction(M);var R=M._cacheIndex,k=r[r.length-1];M._cacheIndex=null,M._byClipCacheIndex=null,k._cacheIndex=R,r[R]=k,r.pop(),this._removeInactiveBindingsForAction(M)}delete a[e]}},uncacheRoot:function(e){e=e.uuid;var r=this._actionsByClip;for(l in r){var a=r[l].actionByRoot[e];a!==void 0&&(this._deactivateAction(a),this._removeInactiveAction(a))}var l=this._bindingsByRootAndName[e];if(l!==void 0)for(var v in l)e=l[v],e.restoreOriginalState(),this._removeInactiveBinding(e)},uncacheAction:function(e,r){e=this.existingAction(e,r),e!==null&&(this._deactivateAction(e),this._removeInactiveAction(e))}}),Fc.prototype.clone=function(){return new Fc(this.value.clone===void 0?this.value:this.value.clone())},rl.prototype=Le(Oe(tf.prototype),{constructor:rl,isInstancedInterleavedBuffer:!0,copy:function(e){return tf.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}}),Le(Bc.prototype,{set:function(e,r){this.ray.set(e,r)},setFromCamera:function(e,r){r&&r.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(r.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(r).sub(this.ray.origin).normalize(),this.camera=r):r&&r.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(r.near+r.far)/(r.near-r.far)).unproject(r),this.ray.direction.set(0,0,-1).transformDirection(r.matrixWorld),this.camera=r):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,r,a){return a=a||[],r0(e,this,a,r),a.sort(t0),a},intersectObjects:function(e,r,a){if(a=a||[],Array.isArray(e)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),a;for(var l=0,v=e.length;l<v;l++)r0(e[l],this,a,r);return a.sort(t0),a}}),Le(function(n,e,r){return this.radius=n!==void 0?n:1,this.phi=e!==void 0?e:0,this.theta=r!==void 0?r:0,this}.prototype,{set:function(e,r,a){return this.radius=e,this.phi=r,this.theta=a,this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,r,a){return this.radius=Math.sqrt(e*e+r*r+a*a),this.radius===0?this.phi=this.theta=0:(this.theta=Math.atan2(e,a),this.phi=Math.acos(U.clamp(r/this.radius,-1,1))),this}}),Le(function(n,e,r){return this.radius=n!==void 0?n:1,this.theta=e!==void 0?e:0,this.y=r!==void 0?r:0,this}.prototype,{set:function(e,r,a){return this.radius=e,this.theta=r,this.y=a,this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,r,a){return this.radius=Math.sqrt(e*e+a*a),this.theta=Math.atan2(e,a),this.y=r,this}});var F2=new Tt;Le(zc.prototype,{set:function(e,r){return this.min.copy(e),this.max.copy(r),this},setFromPoints:function(e){this.makeEmpty();for(var r=0,a=e.length;r<a;r++)this.expandByPoint(e[r]);return this},setFromCenterAndSize:function(e,r){return r=F2.copy(r).multiplyScalar(.5),this.min.copy(e).sub(r),this.max.copy(e).add(r),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=Infinity,this.max.x=this.max.y=-Infinity,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return e===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new Tt),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return e===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new Tt),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,r){return r===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),r=new Tt),r.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,r){return r===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),r=new Tt),r.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return F2.copy(e).clamp(this.min,this.max).sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var OA=new Pe,tC=new Pe;Le($d.prototype,{set:function(e,r){return this.start.copy(e),this.end.copy(r),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return e===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new Pe),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return e===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),e=new Pe),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,r){return r===void 0&&(console.warn("THREE.Line3: .at() target is now required"),r=new Pe),this.delta(r).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,r){return OA.subVectors(e,this.start),tC.subVectors(this.end,this.start),e=tC.dot(tC),e=tC.dot(OA)/e,r&&(e=U.clamp(e,0,1)),e},closestPointToPoint:function(e,r,a){return e=this.closestPointToPointParameter(e,r),a===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),a=new Pe),this.delta(a).multiplyScalar(e).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),jc.prototype=Oe(an.prototype),jc.prototype.constructor=jc,jc.prototype.isImmediateRenderObject=!0;var iS=new Pe;nl.prototype=Oe(an.prototype),nl.prototype.constructor=nl,nl.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},nl.prototype.update=function(){this.light.updateMatrixWorld();var n=this.light.distance?this.light.distance:1e3,e=n*Math.tan(this.light.angle);this.cone.scale.set(e,e,n),iS.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(iS),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var q0=new Pe,B2=new ir,Zw=new ir;gf.prototype=Oe($i.prototype),gf.prototype.constructor=gf,gf.prototype.isSkeletonHelper=!0,gf.prototype.updateMatrixWorld=function(n){var e=this.bones,r=this.geometry,a=r.getAttribute("position");Zw.getInverse(this.root.matrixWorld);for(var l=0,v=0;l<e.length;l++){var b=e[l];b.parent&&b.parent.isBone&&(B2.multiplyMatrices(Zw,b.matrixWorld),q0.setFromMatrixPosition(B2),a.setXYZ(v,q0.x,q0.y,q0.z),B2.multiplyMatrices(Zw,b.parent.matrixWorld),q0.setFromMatrixPosition(B2),a.setXYZ(v+1,q0.x,q0.y,q0.z),v+=2)}r.getAttribute("position").needsUpdate=!0,an.prototype.updateMatrixWorld.call(this,n)},ld.prototype=Oe(so.prototype),ld.prototype.constructor=ld,ld.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},ld.prototype.update=function(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)};var s_=new Pe,oS=new Sn,aS=new Sn;rc.prototype=Oe(an.prototype),rc.prototype.constructor=rc,rc.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},rc.prototype.update=function(){var n=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{var e=n.geometry.getAttribute("color");oS.copy(this.light.color),aS.copy(this.light.groundColor);for(var r=0,a=e.count;r<a;r++){var l=r<a/2?oS:aS;e.setXYZ(r,l.r,l.g,l.b)}e.needsUpdate=!0}n.lookAt(s_.setFromMatrixPosition(this.light.matrixWorld).negate())},vh.prototype=Le(Oe($i.prototype),{constructor:vh,copy:function(e){return $i.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return new this.constructor().copy(this)}}),Tg.prototype=Oe($i.prototype),Tg.prototype.constructor=Tg;var Kw=new Pe,RA=new Pe,sS=new Pe;ep.prototype=Oe(an.prototype),ep.prototype.constructor=ep,ep.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},ep.prototype.update=function(){Kw.setFromMatrixPosition(this.light.matrixWorld),RA.setFromMatrixPosition(this.light.target.matrixWorld),sS.subVectors(RA,Kw),this.lightPlane.lookAt(RA),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(RA),this.targetLine.scale.z=sS.length()};var z2=new Pe,ll=new Ku;Uc.prototype=Oe($i.prototype),Uc.prototype.constructor=Uc,Uc.prototype.update=function(){var n=this.geometry,e=this.pointMap;ll.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Ms("c",e,n,ll,0,0,-1),Ms("t",e,n,ll,0,0,1),Ms("n1",e,n,ll,-1,-1,-1),Ms("n2",e,n,ll,1,-1,-1),Ms("n3",e,n,ll,-1,1,-1),Ms("n4",e,n,ll,1,1,-1),Ms("f1",e,n,ll,-1,-1,1),Ms("f2",e,n,ll,1,-1,1),Ms("f3",e,n,ll,-1,1,1),Ms("f4",e,n,ll,1,1,1),Ms("u1",e,n,ll,.7,1.1,-1),Ms("u2",e,n,ll,-.7,1.1,-1),Ms("u3",e,n,ll,0,2,-1),Ms("cf1",e,n,ll,-1,0,1),Ms("cf2",e,n,ll,1,0,1),Ms("cf3",e,n,ll,0,-1,1),Ms("cf4",e,n,ll,0,1,1),Ms("cn1",e,n,ll,-1,0,-1),Ms("cn2",e,n,ll,1,0,-1),Ms("cn3",e,n,ll,0,-1,-1),Ms("cn4",e,n,ll,0,1,-1),n.getAttribute("position").needsUpdate=!0};var j2=new Uo;Oa.prototype=Oe($i.prototype),Oa.prototype.constructor=Oa,Oa.prototype.update=function(n){if(n!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&j2.setFromObject(this.object),!j2.isEmpty()){n=j2.min;var e=j2.max,r=this.geometry.attributes.position,a=r.array;a[0]=e.x,a[1]=e.y,a[2]=e.z,a[3]=n.x,a[4]=e.y,a[5]=e.z,a[6]=n.x,a[7]=n.y,a[8]=e.z,a[9]=e.x,a[10]=n.y,a[11]=e.z,a[12]=e.x,a[13]=e.y,a[14]=n.z,a[15]=n.x,a[16]=e.y,a[17]=n.z,a[18]=n.x,a[19]=n.y,a[20]=n.z,a[21]=e.x,a[22]=n.y,a[23]=n.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}},Oa.prototype.setFromObject=function(n){return this.object=n,this.update(),this},Oa.prototype.copy=function(n){return $i.prototype.copy.call(this,n),this.object=n.object,this},Oa.prototype.clone=function(){return new this.constructor().copy(this)},ta.prototype=Oe($i.prototype),ta.prototype.constructor=ta,ta.prototype.updateMatrixWorld=function(n){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),an.prototype.updateMatrixWorld.call(this,n))},Xi.prototype=Oe(wa.prototype),Xi.prototype.constructor=Xi,Xi.prototype.updateMatrixWorld=function(n){var e=-this.plane.constant;1e-8>Math.abs(e)&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=0>e?1:0,this.lookAt(this.plane.normal),an.prototype.updateMatrixWorld.call(this,n)};var Jw=new Pe,U2,qw;Es.prototype=Oe(an.prototype),Es.prototype.constructor=Es,Es.prototype.setDirection=function(n){.99999<n.y?this.quaternion.set(0,0,0,1):-.99999>n.y?this.quaternion.set(1,0,0,0):(Jw.set(n.z,0,-n.x).normalize(),this.quaternion.setFromAxisAngle(Jw,Math.acos(n.y)))},Es.prototype.setLength=function(n,e,r){e===void 0&&(e=.2*n),r===void 0&&(r=.2*e),this.line.scale.set(1,Math.max(1e-4,n-e),1),this.line.updateMatrix(),this.cone.scale.set(r,e,r),this.cone.position.y=n,this.cone.updateMatrix()},Es.prototype.setColor=function(n){this.line.material.color.set(n),this.cone.material.color.set(n)},Es.prototype.copy=function(n){return an.prototype.copy.call(this,n,!1),this.line.copy(n.line),this.cone.copy(n.cone),this},Es.prototype.clone=function(){return new this.constructor().copy(this)},Tr.prototype=Oe($i.prototype),Tr.prototype.constructor=Tr;var lS=[.125,.215,.35,.446,.526,.582],l_=5+lS.length,E1={};G(E1,3e3,0),G(E1,3001,1),G(E1,3002,2),G(E1,3004,3),G(E1,3005,4),G(E1,3006,5),G(E1,3007,6),new Dc,function(){for(var n=[],e=[],r=[],a=8,l=0;l<l_;l++){var v=Math.pow(2,a);e.push(v);var b=1/v;4<l?b=lS[l-8+4-1]:l==0&&(b=0),r.push(b),b=1/(v-1),v=-b/2,b=1+b/2;var M=[v,v,b,v,b,b,v,v,b,b,v,b];v=new Float32Array(108),b=new Float32Array(72);for(var R=new Float32Array(36),k=0;6>k;k++){var X=k%3*2/3-1,Y=2<k?0:-1;v.set([X,Y,0,X+2/3,Y,0,X+2/3,Y+1,0,X,Y,0,X+2/3,Y+1,0,X,Y+1,0],18*k),b.set(M,12*k),R.set([k,k,k,k,k,k],6*k)}M=new Yn,M.setAttribute("position",new ti(v,3)),M.setAttribute("uv",new ti(b,2)),M.setAttribute("faceIndex",new ti(R,1)),n.push(M),4<a&&a--}return{_lodPlanes:n,_sizeLods:e,_sigmas:r}}(),Ei.create=function(n,e){return n.prototype=Oe(Ei.prototype),n.prototype.constructor=n,n.prototype.getPoint=e,n},Le(Rl.prototype,{createPointsGeometry:function(e){return console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead."),e=this.getPoints(e),this.createGeometry(e)},createSpacedPointsGeometry:function(e){return console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead."),e=this.getSpacedPoints(e),this.createGeometry(e)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var r=new Gi,a=0,l=e.length;a<l;a++){var v=e[a];r.vertices.push(new Pe(v.x,v.y,v.z||0))}return r}}),Le(Pu.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),function(n){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),_s.call(this,n),this.type="catmullrom",this.closed=!0}.prototype=Oe(_s.prototype),function(n){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),_s.call(this,n),this.type="catmullrom"}.prototype=Oe(_s.prototype),Ig.prototype=Oe(_s.prototype),Le(Ig.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),vh.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},gf.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Le(Ui.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),oo.extractUrlBase(e)}}),Ui.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Le(im.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Le(zc.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Le(Uo.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Le(Ca.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),pl.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)},$d.prototype.center=function(n){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(n)},Le(U,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),U.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),U.ceilPowerOfTwo(e)}}),Le(Vr.prototype,{flattenToArrayOffset:function(e,r){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,r)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Le(ir.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,r){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,r)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new Pe().setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,r,a,l,v,b){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,r,l,a,v,b)}}),_a.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)},lr.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)},Le(os.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Le(Qa.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,r)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Le(Qa,{barycoordFromPoint:function(e,r,a,l,v){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Qa.getBarycoord(e,r,a,l,v)},normal:function(e,r,a,l){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Qa.getNormal(e,r,a,l)}}),Le(Ys.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ds(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Oc(this,e)}}),Le(Tt.prototype,{fromAttribute:function(e,r,a){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,r,a)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Le(Pe.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,r){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(r,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,r,a){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,r,a)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Le(Dt.prototype,{fromAttribute:function(e,r,a){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,r,a)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Le(Gi.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Le(an.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,r){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(r,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Zi(an.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Le(so.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Zi(so.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Zi(Yv.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(By.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Pl.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Ei.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),Rs.prototype.setLens=function(n,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),e!==void 0&&(this.filmGauge=e),this.setFocalLength(n)},Zi(ci.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Zi(ti.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===35048},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(35048)}}}),Le(ti.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?35048:35044),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Le(Yn.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,r,a){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),r&&r.isBufferAttribute||r&&r.isInterleavedBufferAttribute?e==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(r),this):this.setAttribute(e,r):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new ti(r,a)))},addDrawCall:function(e,r,a){a!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,r)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Zi(Yn.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Zi(qd.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}}),Zi(Bc.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}}),Zi(tf.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===35048},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Le(tf.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?35048:35044),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Le(Xl.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Zi(Fc.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Zi(vn.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Sn}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===1}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Zi($u.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Zi(Wa.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Le(Yl.prototype,{clearTarget:function(e,r,a,l){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(r,a,l)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Zi(Yl.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=e===!0?3001:3e3}}}),Zi(au.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Zi(pr.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Zi(mf.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var r=this;return new am().load(e,function(a){r.setBuffer(a)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),Qd.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},ar.prototype.updateCubeMap=function(n,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,e)},J.crossOrigin=void 0,J.loadTexture=function(n,e,r,a){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var l=new ms;return l.setCrossOrigin(this.crossOrigin),n=l.load(n,r,void 0,a),e&&(n.mapping=e),n},J.loadTextureCube=function(n,e,r,a){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var l=new nm;return l.setCrossOrigin(this.crossOrigin),n=l.load(n,r,void 0,a),e&&(n.mapping=e),n},J.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},J.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"117"}}));var rC={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`varying vec2 vUv;
void main() {
	vUv = uv;
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,fragmentShader:`uniform float opacity;
uniform sampler2D tDiffuse;
varying vec2 vUv;
void main() {
	vec4 texel = texture2D( tDiffuse, vUv );
	gl_FragColor = opacity * texel;
}`};Le(gs.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),gs.FullScreenQuad=function(){var n=new Dc(-1,1,1,-1,0,1),e=new wc(2,2),r=function(l){this._mesh=new so(e,l)};return Object.defineProperty(r.prototype,"material",{get:function(){return this._mesh.material},set:function(l){this._mesh.material=l}}),Le(r.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(l){l.render(this._mesh,n)}}),r}();var LA=function(e,r){gs.call(this),this.textureID=r!==void 0?r:"tDiffuse",e instanceof Wa?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=fv.clone(e.uniforms),this.material=new Wa({defines:Le({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new gs.FullScreenQuad(this.material)};LA.prototype=Le(Oe(gs.prototype),{constructor:LA,render:function(e,r,a){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=a.texture),this.fsQuad.material=this.material,this.renderToScreen?e.setRenderTarget(null):(e.setRenderTarget(r),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil)),this.fsQuad.render(e)}});var k2=function(e,r){gs.call(this),this.scene=e,this.camera=r,this.clear=!0,this.inverse=this.needsSwap=!1};k2.prototype=Le(Oe(gs.prototype),{constructor:k2,render:function(e,r,a){var l=e.getContext(),v=e.state;if(v.buffers.color.setMask(!1),v.buffers.depth.setMask(!1),v.buffers.color.setLocked(!0),v.buffers.depth.setLocked(!0),this.inverse)var b=0,M=1;else b=1,M=0;v.buffers.stencil.setTest(!0),v.buffers.stencil.setOp(l.REPLACE,l.REPLACE,l.REPLACE),v.buffers.stencil.setFunc(l.ALWAYS,b,4294967295),v.buffers.stencil.setClear(M),v.buffers.stencil.setLocked(!0),e.setRenderTarget(a),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),v.buffers.color.setLocked(!1),v.buffers.depth.setLocked(!1),v.buffers.stencil.setLocked(!1),v.buffers.stencil.setFunc(l.EQUAL,1,4294967295),v.buffers.stencil.setOp(l.KEEP,l.KEEP,l.KEEP),v.buffers.stencil.setLocked(!0)}});var Qw=function(){gs.call(this),this.needsSwap=!1};Qw.prototype=Oe(gs.prototype),Le(Qw.prototype,{render:function(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}});var uS=function(e,r){this.renderer=e,r===void 0?(r=e.getSize(new Tt),this._pixelRatio=e.getPixelRatio(),this._width=r.width,this._height=r.height,r=new pr(this._width*this._pixelRatio,this._height*this._pixelRatio,{minFilter:1006,magFilter:1006,format:1023,stencilBuffer:!1}),r.texture.name="EffectComposer.rt1"):(this._pixelRatio=1,this._width=r.width,this._height=r.height),this.renderTarget1=r,this.renderTarget2=r.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],rC===void 0&&console.error("THREE.EffectComposer relies on CopyShader"),LA===void 0&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new LA(rC),this.clock=new e0};Le(uS.prototype,{swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},insertPass:function(e,r){this.passes.splice(r,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)},isLastEnabledPass:function(e){for(e+=1;e<this.passes.length;e++)if(this.passes[e].enabled)return!1;return!0},render:function(e){e===void 0&&(e=this.clock.getDelta());var r=this.renderer.getRenderTarget(),a=!1,l,v=this.passes.length;for(l=0;l<v;l++){var b=this.passes[l];if(b.enabled!==!1){if(b.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(l),b.render(this.renderer,this.writeBuffer,this.readBuffer,e,a),b.needsSwap){if(a){var M=this.renderer.getContext(),R=this.renderer.state.buffers.stencil;R.setFunc(M.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),R.setFunc(M.EQUAL,1,4294967295)}this.swapBuffers()}k2!==void 0&&(b instanceof k2?a=!0:b instanceof Qw&&(a=!1))}}this.renderer.setRenderTarget(r)},reset:function(e){e===void 0&&(e=this.renderer.getSize(new Tt),this._pixelRatio=this.renderer.getPixelRatio(),this._width=e.width,this._height=e.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)),this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,r){this._width=e,this._height=r,e=this._width*this._pixelRatio,r=this._height*this._pixelRatio,this.renderTarget1.setSize(e,r),this.renderTarget2.setSize(e,r);for(var a=0;a<this.passes.length;a++)this.passes[a].setSize(e,r)},setPixelRatio:function(e){this._pixelRatio=e,this.setSize(this._width,this._height)}});var $w=function(){this.needsSwap=this.enabled=!0,this.renderToScreen=this.clear=!1};Le($w.prototype,{setSize:function(){},render:function(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),$w.FullScreenQuad=function(){var n=new Dc(-1,1,1,-1,0,1),e=new wc(2,2),r=function(l){this._mesh=new so(e,l)};return Object.defineProperty(r.prototype,"material",{get:function(){return this._mesh.material},set:function(l){this._mesh.material=l}}),Le(r.prototype,{dispose:function(){this._mesh.geometry.dispose()},render:function(l){l.render(this._mesh,n)}}),r}();var DA=function(e,r,a,l,v){gs.call(this),this.scene=e,this.camera=r,this.overrideMaterial=a,this.clearColor=l,this.clearAlpha=v!==void 0?v:0,this.clear=!0,this.needsSwap=this.clearDepth=!1};DA.prototype=Le(Oe(gs.prototype),{constructor:DA,render:function(e,r,a){if(r=e.autoClear,e.autoClear=!1,this.overrideMaterial!==void 0){var l=this.scene.overrideMaterial;this.scene.overrideMaterial=this.overrideMaterial}if(this.clearColor){var v=e.getClearColor().getHex(),b=e.getClearAlpha();e.setClearColor(this.clearColor,this.clearAlpha)}this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:a),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(v,b),this.overrideMaterial!==void 0&&(this.scene.overrideMaterial=l),e.autoClear=r}});var Q0={defines:{SMAA_THRESHOLD:"0.1"},uniforms:{tDiffuse:{value:null},resolution:{value:new Tt(1/1024,1/512)}},vertexShader:`uniform vec2 resolution;
varying vec2 vUv;
varying vec4 vOffset[ 3 ];
void SMAAEdgeDetectionVS( vec2 texcoord ) {
	vOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0,  1.0 );
	vOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4(  1.0, 0.0, 0.0, -1.0 );
	vOffset[ 2 ] = texcoord.xyxy + resolution.xyxy * vec4( -2.0, 0.0, 0.0,  2.0 );
}
void main() {
	vUv = uv;
	SMAAEdgeDetectionVS( vUv );
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,fragmentShader:`uniform sampler2D tDiffuse;
varying vec2 vUv;
varying vec4 vOffset[ 3 ];
vec4 SMAAColorEdgeDetectionPS( vec2 texcoord, vec4 offset[3], sampler2D colorTex ) {
	vec2 threshold = vec2( SMAA_THRESHOLD, SMAA_THRESHOLD );
	vec4 delta;
	vec3 C = texture2D( colorTex, texcoord ).rgb;
	vec3 Cleft = texture2D( colorTex, offset[0].xy ).rgb;
	vec3 t = abs( C - Cleft );
	delta.x = max( max( t.r, t.g ), t.b );
	vec3 Ctop = texture2D( colorTex, offset[0].zw ).rgb;
	t = abs( C - Ctop );
	delta.y = max( max( t.r, t.g ), t.b );
	vec2 edges = step( threshold, delta.xy );
	if ( dot( edges, vec2( 1.0, 1.0 ) ) == 0.0 )
		discard;
	vec3 Cright = texture2D( colorTex, offset[1].xy ).rgb;
	t = abs( C - Cright );
	delta.z = max( max( t.r, t.g ), t.b );
	vec3 Cbottom  = texture2D( colorTex, offset[1].zw ).rgb;
	t = abs( C - Cbottom );
	delta.w = max( max( t.r, t.g ), t.b );
	float maxDelta = max( max( max( delta.x, delta.y ), delta.z ), delta.w );
	vec3 Cleftleft  = texture2D( colorTex, offset[2].xy ).rgb;
	t = abs( C - Cleftleft );
	delta.z = max( max( t.r, t.g ), t.b );
	vec3 Ctoptop = texture2D( colorTex, offset[2].zw ).rgb;
	t = abs( C - Ctoptop );
	delta.w = max( max( t.r, t.g ), t.b );
	maxDelta = max( max( maxDelta, delta.z ), delta.w );
	edges.xy *= step( 0.5 * maxDelta, delta.xy );
	return vec4( edges, 0.0, 0.0 );
}
void main() {
	gl_FragColor = SMAAColorEdgeDetectionPS( vUv, vOffset, tDiffuse );
}`},u_={SMAA_MAX_SEARCH_STEPS:"8",SMAA_AREATEX_MAX_DISTANCE:"16",SMAA_AREATEX_PIXEL_SIZE:"( 1.0 / vec2( 160.0, 560.0 ) )",SMAA_AREATEX_SUBTEX_SIZE:"( 1.0 / 7.0 )"},c_={tDiffuse:{value:null},tArea:{value:null},tSearch:{value:null},resolution:{value:new Tt(1/1024,1/512)}},h_={tDiffuse:{value:null},tColor:{value:null},resolution:{value:new Tt(1/1024,1/512)}},yv=function(e,r){gs.call(this),this.edgesRT=new pr(e,r,{depthBuffer:!1,stencilBuffer:!1,generateMipmaps:!1,minFilter:1006,format:1022}),this.edgesRT.texture.name="SMAAPass.edges",this.weightsRT=new pr(e,r,{depthBuffer:!1,stencilBuffer:!1,generateMipmaps:!1,minFilter:1006,format:1023}),this.weightsRT.texture.name="SMAAPass.weights";var a=this,l=new Image;l.src=this.getAreaTexture(),l.onload=function(){a.areaTexture.needsUpdate=!0},this.areaTexture=new Ar,this.areaTexture.name="SMAAPass.area",this.areaTexture.image=l,this.areaTexture.format=1022,this.areaTexture.minFilter=1006,this.areaTexture.generateMipmaps=!1,this.areaTexture.flipY=!1,l=new Image,l.src=this.getSearchTexture(),l.onload=function(){a.searchTexture.needsUpdate=!0},this.searchTexture=new Ar,this.searchTexture.name="SMAAPass.search",this.searchTexture.image=l,this.searchTexture.magFilter=1003,this.searchTexture.minFilter=1003,this.searchTexture.generateMipmaps=!1,this.searchTexture.flipY=!1,Q0===void 0&&console.error("SMAAPass relies on SMAAShader"),this.uniformsEdges=fv.clone(Q0.uniforms),this.uniformsEdges.resolution.value.set(1/e,1/r),this.materialEdges=new Wa({defines:Le({},Q0.defines),uniforms:this.uniformsEdges,vertexShader:Q0.vertexShader,fragmentShader:Q0.fragmentShader}),this.uniformsWeights=fv.clone(c_),this.uniformsWeights.resolution.value.set(1/e,1/r),this.uniformsWeights.tDiffuse.value=this.edgesRT.texture,this.uniformsWeights.tArea.value=this.areaTexture,this.uniformsWeights.tSearch.value=this.searchTexture,this.materialWeights=new Wa({defines:Le({},u_),uniforms:this.uniformsWeights,vertexShader:`uniform vec2 resolution;
varying vec2 vUv;
varying vec4 vOffset[ 3 ];
varying vec2 vPixcoord;
void SMAABlendingWeightCalculationVS( vec2 texcoord ) {
	vPixcoord = texcoord / resolution;
	vOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.25, 0.125, 1.25, 0.125 );
	vOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( -0.125, 0.25, -0.125, -1.25 );
	vOffset[ 2 ] = vec4( vOffset[ 0 ].xz, vOffset[ 1 ].yw ) + vec4( -2.0, 2.0, -2.0, 2.0 ) * resolution.xxyy * float( SMAA_MAX_SEARCH_STEPS );
}
void main() {
	vUv = uv;
	SMAABlendingWeightCalculationVS( vUv );
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,fragmentShader:`#define SMAASampleLevelZeroOffset( tex, coord, offset ) texture2D( tex, coord + float( offset ) * resolution, 0.0 )
uniform sampler2D tDiffuse;
uniform sampler2D tArea;
uniform sampler2D tSearch;
uniform vec2 resolution;
varying vec2 vUv;
varying vec4 vOffset[3];
varying vec2 vPixcoord;
#if __VERSION__ == 100
vec2 round( vec2 x ) {
	return sign( x ) * floor( abs( x ) + 0.5 );
}
#endif
float SMAASearchLength( sampler2D searchTex, vec2 e, float bias, float scale ) {
	e.r = bias + e.r * scale;
	return 255.0 * texture2D( searchTex, e, 0.0 ).r;
}
float SMAASearchXLeft( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {
	vec2 e = vec2( 0.0, 1.0 );
	for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {
		e = texture2D( edgesTex, texcoord, 0.0 ).rg;
		texcoord -= vec2( 2.0, 0.0 ) * resolution;
		if ( ! ( texcoord.x > end && e.g > 0.8281 && e.r == 0.0 ) ) break;
	}
	texcoord.x += 0.25 * resolution.x;
	texcoord.x += resolution.x;
	texcoord.x += 2.0 * resolution.x;
	texcoord.x -= resolution.x * SMAASearchLength(searchTex, e, 0.0, 0.5);
	return texcoord.x;
}
float SMAASearchXRight( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {
	vec2 e = vec2( 0.0, 1.0 );
	for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {
		e = texture2D( edgesTex, texcoord, 0.0 ).rg;
		texcoord += vec2( 2.0, 0.0 ) * resolution;
		if ( ! ( texcoord.x < end && e.g > 0.8281 && e.r == 0.0 ) ) break;
	}
	texcoord.x -= 0.25 * resolution.x;
	texcoord.x -= resolution.x;
	texcoord.x -= 2.0 * resolution.x;
	texcoord.x += resolution.x * SMAASearchLength( searchTex, e, 0.5, 0.5 );
	return texcoord.x;
}
float SMAASearchYUp( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {
	vec2 e = vec2( 1.0, 0.0 );
	for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {
		e = texture2D( edgesTex, texcoord, 0.0 ).rg;
		texcoord += vec2( 0.0, 2.0 ) * resolution;
		if ( ! ( texcoord.y > end && e.r > 0.8281 && e.g == 0.0 ) ) break;
	}
	texcoord.y -= 0.25 * resolution.y;
	texcoord.y -= resolution.y;
	texcoord.y -= 2.0 * resolution.y;
	texcoord.y += resolution.y * SMAASearchLength( searchTex, e.gr, 0.0, 0.5 );
	return texcoord.y;
}
float SMAASearchYDown( sampler2D edgesTex, sampler2D searchTex, vec2 texcoord, float end ) {
	vec2 e = vec2( 1.0, 0.0 );
	for ( int i = 0; i < SMAA_MAX_SEARCH_STEPS; i ++ ) {
		e = texture2D( edgesTex, texcoord, 0.0 ).rg;
		texcoord -= vec2( 0.0, 2.0 ) * resolution;
		if ( ! ( texcoord.y < end && e.r > 0.8281 && e.g == 0.0 ) ) break;
	}
	texcoord.y += 0.25 * resolution.y;
	texcoord.y += resolution.y;
	texcoord.y += 2.0 * resolution.y;
	texcoord.y -= resolution.y * SMAASearchLength( searchTex, e.gr, 0.5, 0.5 );
	return texcoord.y;
}
vec2 SMAAArea( sampler2D areaTex, vec2 dist, float e1, float e2, float offset ) {
	vec2 texcoord = float( SMAA_AREATEX_MAX_DISTANCE ) * round( 4.0 * vec2( e1, e2 ) ) + dist;
	texcoord = SMAA_AREATEX_PIXEL_SIZE * texcoord + ( 0.5 * SMAA_AREATEX_PIXEL_SIZE );
	texcoord.y += SMAA_AREATEX_SUBTEX_SIZE * offset;
	return texture2D( areaTex, texcoord, 0.0 ).rg;
}
vec4 SMAABlendingWeightCalculationPS( vec2 texcoord, vec2 pixcoord, vec4 offset[ 3 ], sampler2D edgesTex, sampler2D areaTex, sampler2D searchTex, ivec4 subsampleIndices ) {
	vec4 weights = vec4( 0.0, 0.0, 0.0, 0.0 );
	vec2 e = texture2D( edgesTex, texcoord ).rg;
	if ( e.g > 0.0 ) {
		vec2 d;
		vec2 coords;
		coords.x = SMAASearchXLeft( edgesTex, searchTex, offset[ 0 ].xy, offset[ 2 ].x );
		coords.y = offset[ 1 ].y;
		d.x = coords.x;
		float e1 = texture2D( edgesTex, coords, 0.0 ).r;
		coords.x = SMAASearchXRight( edgesTex, searchTex, offset[ 0 ].zw, offset[ 2 ].y );
		d.y = coords.x;
		d = d / resolution.x - pixcoord.x;
		vec2 sqrt_d = sqrt( abs( d ) );
		coords.y -= 1.0 * resolution.y;
		float e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 1, 0 ) ).r;
		weights.rg = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.y ) );
	}
	if ( e.r > 0.0 ) {
		vec2 d;
		vec2 coords;
		coords.y = SMAASearchYUp( edgesTex, searchTex, offset[ 1 ].xy, offset[ 2 ].z );
		coords.x = offset[ 0 ].x;
		d.x = coords.y;
		float e1 = texture2D( edgesTex, coords, 0.0 ).g;
		coords.y = SMAASearchYDown( edgesTex, searchTex, offset[ 1 ].zw, offset[ 2 ].w );
		d.y = coords.y;
		d = d / resolution.y - pixcoord.y;
		vec2 sqrt_d = sqrt( abs( d ) );
		coords.y -= 1.0 * resolution.y;
		float e2 = SMAASampleLevelZeroOffset( edgesTex, coords, ivec2( 0, 1 ) ).g;
		weights.ba = SMAAArea( areaTex, sqrt_d, e1, e2, float( subsampleIndices.x ) );
	}
	return weights;
}
void main() {
	gl_FragColor = SMAABlendingWeightCalculationPS( vUv, vPixcoord, vOffset, tDiffuse, tArea, tSearch, ivec4( 0.0 ) );
}`}),this.uniformsBlend=fv.clone(h_),this.uniformsBlend.resolution.value.set(1/e,1/r),this.uniformsBlend.tDiffuse.value=this.weightsRT.texture,this.materialBlend=new Wa({uniforms:this.uniformsBlend,vertexShader:`uniform vec2 resolution;
varying vec2 vUv;
varying vec4 vOffset[ 2 ];
void SMAANeighborhoodBlendingVS( vec2 texcoord ) {
	vOffset[ 0 ] = texcoord.xyxy + resolution.xyxy * vec4( -1.0, 0.0, 0.0, 1.0 );
	vOffset[ 1 ] = texcoord.xyxy + resolution.xyxy * vec4( 1.0, 0.0, 0.0, -1.0 );
}
void main() {
	vUv = uv;
	SMAANeighborhoodBlendingVS( vUv );
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,fragmentShader:`uniform sampler2D tDiffuse;
uniform sampler2D tColor;
uniform vec2 resolution;
varying vec2 vUv;
varying vec4 vOffset[ 2 ];
vec4 SMAANeighborhoodBlendingPS( vec2 texcoord, vec4 offset[ 2 ], sampler2D colorTex, sampler2D blendTex ) {
	vec4 a;
	a.xz = texture2D( blendTex, texcoord ).xz;
	a.y = texture2D( blendTex, offset[ 1 ].zw ).g;
	a.w = texture2D( blendTex, offset[ 1 ].xy ).a;
	if ( dot(a, vec4( 1.0, 1.0, 1.0, 1.0 )) < 1e-5 ) {
		return texture2D( colorTex, texcoord, 0.0 );
	} else {
		vec2 offset;
		offset.x = a.a > a.b ? a.a : -a.b;
		offset.y = a.g > a.r ? -a.g : a.r;
		if ( abs( offset.x ) > abs( offset.y )) {
			offset.y = 0.0;
		} else {
			offset.x = 0.0;
		}
		vec4 C = texture2D( colorTex, texcoord, 0.0 );
		texcoord += sign( offset ) * resolution;
		vec4 Cop = texture2D( colorTex, texcoord, 0.0 );
		float s = abs( offset.x ) > abs( offset.y ) ? abs( offset.x ) : abs( offset.y );
		C.xyz = pow(C.xyz, vec3(2.2));
		Cop.xyz = pow(Cop.xyz, vec3(2.2));
		vec4 mixed = mix(C, Cop, s);
		mixed.xyz = pow(mixed.xyz, vec3(1.0 / 2.2));
		return mixed;
	}
}
void main() {
	gl_FragColor = SMAANeighborhoodBlendingPS( vUv, vOffset, tColor, tDiffuse );
}`}),this.needsSwap=!1,this.fsQuad=new gs.FullScreenQuad(null)};yv.prototype=Le(Oe(gs.prototype),{constructor:yv,render:function(e,r,a){this.uniformsEdges.tDiffuse.value=a.texture,this.fsQuad.material=this.materialEdges,e.setRenderTarget(this.edgesRT),this.clear&&e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialWeights,e.setRenderTarget(this.weightsRT),this.clear&&e.clear(),this.fsQuad.render(e),this.uniformsBlend.tColor.value=a.texture,this.fsQuad.material=this.materialBlend,this.renderToScreen?e.setRenderTarget(null):(e.setRenderTarget(r),this.clear&&e.clear()),this.fsQuad.render(e)},setSize:function(e,r){this.edgesRT.setSize(e,r),this.weightsRT.setSize(e,r),this.materialEdges.uniforms.resolution.value.set(1/e,1/r),this.materialWeights.uniforms.resolution.value.set(1/e,1/r),this.materialBlend.uniforms.resolution.value.set(1/e,1/r)},getAreaTexture:function(){return"data:image/png;base64,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"},getSearchTexture:function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAAAhCAAAAABIXyLAAAAAOElEQVRIx2NgGAWjYBSMglEwEICREYRgFBZBqDCSLA2MGPUIVQETE9iNUAqLR5gIeoQKRgwXjwAAGn4AtaFeYLEAAAAASUVORK5CYII="}});var H2={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Sn(0)},defaultOpacity:{value:0}},vertexShader:`varying vec2 vUv;
void main() {
	vUv = uv;
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,fragmentShader:`uniform sampler2D tDiffuse;
uniform vec3 defaultColor;
uniform float defaultOpacity;
uniform float luminosityThreshold;
uniform float smoothWidth;
varying vec2 vUv;
void main() {
	vec4 texel = texture2D( tDiffuse, vUv );
	vec3 luma = vec3( 0.299, 0.587, 0.114 );
	float v = dot( texel.xyz, luma );
	vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );
	float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );
	gl_FragColor = mix( outputColor, texel, alpha );
}`},$0=function(e,r,a,l){gs.call(this),this.strength=r!==void 0?r:1,this.radius=a,this.threshold=l,this.resolution=e!==void 0?new Tt(e.x,e.y):new Tt(256,256),this.clearColor=new Sn(0,0,0);var v={minFilter:1006,magFilter:1006,format:1023};this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5,e=Math.round(this.resolution.x/2),a=Math.round(this.resolution.y/2),this.renderTargetBright=new pr(e,a,v),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(var b=0;b<this.nMips;b++){var M=new pr(e,a,v);M.texture.name="UnrealBloomPass.h"+b,M.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(M),M=new pr(e,a,v),M.texture.name="UnrealBloomPass.v"+b,M.texture.generateMipmaps=!1,this.renderTargetsVertical.push(M),e=Math.round(e/2),a=Math.round(a/2)}for(H2===void 0&&console.error("UnrealBloomPass relies on LuminosityHighPassShader"),this.highPassUniforms=fv.clone(H2.uniforms),this.highPassUniforms.luminosityThreshold.value=l,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new Wa({uniforms:this.highPassUniforms,vertexShader:H2.vertexShader,fragmentShader:H2.fragmentShader,defines:{}}),this.separableBlurMaterials=[],l=[3,5,7,9,11],e=Math.round(this.resolution.x/2),a=Math.round(this.resolution.y/2),b=0;b<this.nMips;b++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(l[b])),this.separableBlurMaterials[b].uniforms.texSize.value=new Tt(e,a),e=Math.round(e/2),a=Math.round(a/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=r,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0,this.compositeMaterial.uniforms.bloomFactors.value=[1,.8,.6,.4,.2],this.bloomTintColors=[new Pe(1,1,1),new Pe(1,1,1),new Pe(1,1,1),new Pe(1,1,1),new Pe(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,rC===void 0&&console.error("UnrealBloomPass relies on CopyShader"),this.copyUniforms=fv.clone(rC.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new Wa({uniforms:this.copyUniforms,vertexShader:rC.vertexShader,fragmentShader:rC.fragmentShader,blending:2,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this.oldClearColor=new Sn,this.oldClearAlpha=1,this.basic=new No,this.fsQuad=new gs.FullScreenQuad(null)};$0.prototype=Le(Oe(gs.prototype),{constructor:$0,dispose:function(){for(var e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose()},setSize:function(e,r){e=Math.round(e/2),r=Math.round(r/2),this.renderTargetBright.setSize(e,r);for(var a=0;a<this.nMips;a++)this.renderTargetsHorizontal[a].setSize(e,r),this.renderTargetsVertical[a].setSize(e,r),this.separableBlurMaterials[a].uniforms.texSize.value=new Tt(e,r),e=Math.round(e/2),r=Math.round(r/2)},render:function(e,r,a,l,v){this.oldClearColor.copy(e.getClearColor()),this.oldClearAlpha=e.getClearAlpha(),r=e.autoClear,e.autoClear=!1,e.setClearColor(this.clearColor,0),v&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=a.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=a.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e),l=this.renderTargetBright;for(var b=0;b<this.nMips;b++)this.fsQuad.material=this.separableBlurMaterials[b],this.separableBlurMaterials[b].uniforms.colorTexture.value=l.texture,this.separableBlurMaterials[b].uniforms.direction.value=$0.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[b]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[b].uniforms.colorTexture.value=this.renderTargetsHorizontal[b].texture,this.separableBlurMaterials[b].uniforms.direction.value=$0.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[b]),e.clear(),this.fsQuad.render(e),l=this.renderTargetsVertical[b];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,v&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?e.setRenderTarget(null):e.setRenderTarget(a),this.fsQuad.render(e),e.setClearColor(this.oldClearColor,this.oldClearAlpha),e.autoClear=r},getSeperableBlurMaterial:function(e){return new Wa({defines:{KERNEL_RADIUS:e,SIGMA:e},uniforms:{colorTexture:{value:null},texSize:{value:new Tt(.5,.5)},direction:{value:new Tt(.5,.5)}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;				uniform vec2 direction;								float gaussianPdf(in float x, in float sigma) {					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;				}				void main() {
					vec2 invSize = 1.0 / texSize;					float fSigma = float(SIGMA);					float weightSum = gaussianPdf(0.0, fSigma);					vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {						float x = float(i);						float w = gaussianPdf(x, fSigma);						vec2 uvOffset = direction * invSize * x;						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;						diffuseSum += (sample1 + sample2) * w;						weightSum += 2.0 * w;					}					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})},getCompositeMaterial:function(e){return new Wa({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},dirtTexture:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:"varying vec2 vUv;				uniform sampler2D blurTexture1;				uniform sampler2D blurTexture2;				uniform sampler2D blurTexture3;				uniform sampler2D blurTexture4;				uniform sampler2D blurTexture5;				uniform sampler2D dirtTexture;				uniform float bloomStrength;				uniform float bloomRadius;				uniform float bloomFactors[NUM_MIPS];				uniform vec3 bloomTintColors[NUM_MIPS];								float lerpBloomFactor(const in float factor) { 					float mirrorFactor = 1.2 - factor;					return mix(factor, mirrorFactor, bloomRadius);				}								void main() {					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) + 													 lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) + 													 lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) + 													 lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) + 													 lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );				}"})}}),$0.BlurDirectionX=new Tt(1,0),$0.BlurDirectionY=new Tt(0,1);var f_=function(n){function e(r){return ls(this,e),Ul(this,(e.__proto__||wl(e)).call(this,r))}return Zs(e,n),Ts(e,[{key:"initialize",value:function(a){var l=a.camera,v=a.renderer;if(!this._initialize){if(this.scene=a.scene,this.camera=l,this.renderer=v,a=this.options.passes,this._initialize=!0,this.renderScene=new DA(this.scene,this.camera),l=new uS(this.renderer),l.addPass(this.renderScene),this.passes=[],a)for(var b=0;b<a.length;b++){var M=a[b],R=void 0;switch(M.name){case"unrealBloom":R=M.strength||1;var k=M.radius||0,X=M.threshold||.5;R=new $0(new Ko.Vector2(window.innerWidth,window.innerHeight),R,k,X);break;case"SMAA":R=new yv(window.innerWidth*v.getPixelRatio(),window.innerHeight*v.getPixelRatio())}if(R){for(var Y in M)R[Y]=M[Y];l.addPass(R)}}this.composer=l}}},{key:"addRender",value:function(a){this.renderScene&&this.renderScene.addRender(a)}},{key:"render",value:function(){this.composer.render(this.scene,this.camera)}}]),e}(T);$0.prototype.getSeperableBlurMaterial=function(n){return new Ko.ShaderMaterial({defines:{KERNEL_RADIUS:n,SIGMA:n},uniforms:{colorTexture:{value:null},texSize:{value:new Ko.Vector2(.5,.5)},direction:{value:new Ko.Vector2(.5,.5)}},vertexShader:`varying vec2 vUv;
            void main() {
                vUv = uv;
                gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
            }`,fragmentShader:`#include <common>            varying vec2 vUv;
            uniform sampler2D colorTexture;
            uniform vec2 texSize;            uniform vec2 direction;                        float gaussianPdf(in float x, in float sigma) {                return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;            }            void main() {
                vec2 invSize = 1.0 / texSize;                float fSigma = float(SIGMA);                float weightSum = gaussianPdf(0.0, fSigma);                vec4 diffuseSum = texture2D( colorTexture, vUv).rgba * weightSum;                for( int i = 1; i < KERNEL_RADIUS; i ++ ) {                    float x = float(i);                    float w = gaussianPdf(x, fSigma);                    vec2 uvOffset = direction * invSize * x;                    vec4 sample1 = texture2D( colorTexture, vUv + uvOffset).rgba;                    vec4 sample2 = texture2D( colorTexture, vUv - uvOffset).rgba;                    diffuseSum += (sample1 + sample2) * w;                    weightSum += 2.0 * w;                }                gl_FragColor = vec4(diffuseSum/weightSum);
            }`})},DA.prototype.addRender=function(n){this.renderCbk=n},DA.prototype.render=function(n,e,r){if(e=n.autoClear,n.autoClear=!1,this.scene.overrideMaterial=this.overrideMaterial,this.clearColor){var a=n.getClearColor().getHex(),l=n.getClearAlpha();n.setClearColor(this.clearColor,this.clearAlpha)}this.clearDepth&&n.clearDepth(),n.setRenderTarget(this.renderToScreen?null:r),this.clear&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),n.render(this.scene,this.camera),this.renderCbk&&this.renderCbk(),this.clearColor&&n.setClearColor(a,l),this.scene.overrideMaterial=null,n.autoClear=e};var NA=function(n){function e(r){return ls(this,e),r=Ul(this,(e.__proto__||wl(e)).call(this,r)),r.time=0,r.autoUpdate=!0,r}return Zs(e,n),Ts(e,[{key:"getDefaultOptions",value:function(){return{totalRadian:Math.PI,color:16711680,radius:50,step:.1}}},{key:"initialize",value:function(a){this.threeLayer=a,this.addOverlay()}},{key:"onChanged",value:function(a,l){this.threeLayer&&(this.removeOverlay(),this.addOverlay())}},{key:"onDestroy",value:function(){this.removeOverlay()}},{key:"render",value:function(){this.time+=this.options.step/10,1<this.time&&(this.time=0);for(var a=this.shapeMarker.children,l=0;l<a.length;l++)a[l].material.uniforms.periodRatio.value=this.time}},{key:"removeOverlay",value:function(){this.threeLayer.remove(this.shapeMarker)}},{key:"addOverlay",value:function(){this.shapeMarker=new Ko.Group;for(var a=this.threeLayer,l=this.getData(),v=0;v<l.length;v++){var b=a.normizedPoint(l[v].geometry.coordinates);b=this.create3dCanvasRipple({originalData:l[v],normizedData:b}),this.shapeMarker.add(b)}a.add(this.shapeMarker)}},{key:"create3dCanvasRipple",value:function(a){var l=this.options,v=l.totalRadian,b=l.color;l=l.size;var M=a.originalData;a=a.normizedData,Object.prototype.toString.call(b)==="[object Function]"&&(b=b(M)),l=Object.prototype.toString.call(l)==="[object Function]"?l(M):Number(l),M={totalRadian:{type:"f",value:v},glowColor:{type:"c",value:new Ko.Color(b)},radius:{type:"f",value:l},periodRatio:{type:"f",value:0}},b=new Ko.Geometry;for(var R=v/(l/2),k=R;k<=v;k+=R){var X=l*Math.sin(k),Y=l*Math.cos(k);b.vertices.push(new Ko.Vector3(0,0,k/v)),b.vertices.push(new Ko.Vector3(Y,X,k/v))}for(v=0,l=b.vertices.length;v<l-2;++v)b.faces.push(new Ko.Face3(v,v+1,v+3));return v=new Ko.ShaderMaterial({uniforms:M,vertexShader:"varying vec4 vFragColor;varying vec4 vPosition;uniform float radius;uniform float totalRadian;uniform float periodRatio;uniform vec3 glowColor;void main(){float radian=radians(360.0*periodRatio);float s=sin(radian);float c=cos(radian);vec2 rotatedPostion=vec2(position.x*s+position.y*c,position.y*s-position.x*c);gl_Position=projectionMatrix*modelViewMatrix*vec4(rotatedPostion,0,1.0);vFragColor=vec4(glowColor,pow(position.z,1.3));}",fragmentShader:"varying vec4 vFragColor;void main(){gl_FragColor=vFragColor;}",blending:Ko.NormalBlending,transparent:!0,depthWrite:!1}),v=new Ko.Mesh(b,v),v.position.set(a[0],a[1],a[2]||0),v}}]),e}(T),d_=Fe(function(n,e){(function(){function r(){this.positions=[],this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],this.counters=[],this.geometry=new v.BufferGeometry,this.widthCallback=null,this.matrixWorld=new v.Matrix4}function a(b,M,R,k,X){if(b=b.subarray||b.slice?b:b.buffer,R=R.subarray||R.slice?R:R.buffer,b=M?b.subarray?b.subarray(M,X&&M+X):b.slice(M,X&&M+X):b,R.set)R.set(b,k);else for(M=0;M<b.length;M++)R[M+k]=b[M];return R}function l(b){v.ShaderMaterial.call(this,{uniforms:Le({},v.UniformsLib.fog,{lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new v.Color(16777215)},opacity:{value:1},resolution:{value:new v.Vector2(1,1)},sizeAttenuation:{value:1},near:{value:1},far:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new v.Vector2(1,1)}}),vertexShader:v.ShaderChunk.meshline_vert,fragmentShader:v.ShaderChunk.meshline_frag}),this.type="MeshLineMaterial",Zi(this,{lineWidth:{enumerable:!0,get:function(){return this.uniforms.lineWidth.value},set:function(R){this.uniforms.lineWidth.value=R}},map:{enumerable:!0,get:function(){return this.uniforms.map.value},set:function(R){this.uniforms.map.value=R}},useMap:{enumerable:!0,get:function(){return this.uniforms.useMap.value},set:function(R){this.uniforms.useMap.value=R}},alphaMap:{enumerable:!0,get:function(){return this.uniforms.alphaMap.value},set:function(R){this.uniforms.alphaMap.value=R}},useAlphaMap:{enumerable:!0,get:function(){return this.uniforms.useAlphaMap.value},set:function(R){this.uniforms.useAlphaMap.value=R}},color:{enumerable:!0,get:function(){return this.uniforms.color.value},set:function(R){this.uniforms.color.value=R}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(R){this.uniforms.opacity.value=R}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(R){this.uniforms.resolution.value.copy(R)}},sizeAttenuation:{enumerable:!0,get:function(){return this.uniforms.sizeAttenuation.value},set:function(R){this.uniforms.sizeAttenuation.value=R}},near:{enumerable:!0,get:function(){return this.uniforms.near.value},set:function(R){this.uniforms.near.value=R}},far:{enumerable:!0,get:function(){return this.uniforms.far.value},set:function(R){this.uniforms.far.value=R}},dashArray:{enumerable:!0,get:function(){return this.uniforms.dashArray.value},set:function(R){this.uniforms.dashArray.value=R,this.useDash=R!==0?1:0}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(R){this.uniforms.dashOffset.value=R}},dashRatio:{enumerable:!0,get:function(){return this.uniforms.dashRatio.value},set:function(R){this.uniforms.dashRatio.value=R}},useDash:{enumerable:!0,get:function(){return this.uniforms.useDash.value},set:function(R){this.uniforms.useDash.value=R}},visibility:{enumerable:!0,get:function(){return this.uniforms.visibility.value},set:function(R){this.uniforms.visibility.value=R}},alphaTest:{enumerable:!0,get:function(){return this.uniforms.alphaTest.value},set:function(R){this.uniforms.alphaTest.value=R}},repeat:{enumerable:!0,get:function(){return this.uniforms.repeat.value},set:function(R){this.uniforms.repeat.value.copy(R)}}}),this.setValues(b)}var v=typeof ge!="undefined"&&Lx||this.THREE;if(!v)throw Error("MeshLine requires three.js");r.prototype.setMatrixWorld=function(b){this.matrixWorld=b},r.prototype.setGeometry=function(b,M){if(this.widthCallback=M,this.positions=[],this.counters=[],b instanceof v.Geometry)for(var R=0;R<b.vertices.length;R++){var k=b.vertices[R];M=R/b.vertices.length,this.positions.push(k.x,k.y,k.z),this.positions.push(k.x,k.y,k.z),this.counters.push(M),this.counters.push(M)}if(b instanceof Float32Array||b instanceof Array)for(R=0;R<b.length;R+=3)M=R/b.length,this.positions.push(b[R],b[R+1],b[R+2]),this.positions.push(b[R],b[R+1],b[R+2]),this.counters.push(M),this.counters.push(M);this.process()},r.prototype.raycast=function(){var b=new v.Matrix4,M=new v.Ray,R=new v.Sphere;return function(k,X){var Y=k.linePrecision;Y*=Y;var ie=this.geometry;if(ie.boundingSphere===null&&ie.computeBoundingSphere(),R.copy(ie.boundingSphere),R.applyMatrix4(this.matrixWorld),k.ray.intersectSphere(R)!==!1){b.getInverse(this.matrixWorld),M.copy(k.ray).applyMatrix4(b);var le=new v.Vector3,Ae=new v.Vector3,we=new v.Vector3,Qe=new v.Vector3,yt=this instanceof v.LineSegments?2:1;if(ie instanceof v.BufferGeometry){var dt=ie.index,vt=ie.attributes;if(dt!==null){ie=dt.array,vt=vt.position.array,dt=0;for(var Lt=ie.length-1;dt<Lt;dt+=yt){var kt=ie[dt+1];le.fromArray(vt,3*ie[dt]),Ae.fromArray(vt,3*kt),kt=M.distanceSqToSegment(le,Ae,Qe,we),kt>Y||(Qe.applyMatrix4(this.matrixWorld),kt=k.ray.origin.distanceTo(Qe),kt<k.near||kt>k.far||X.push({distance:kt,point:we.clone().applyMatrix4(this.matrixWorld),index:dt,face:null,faceIndex:null,object:this}))}}else for(vt=vt.position.array,dt=0,Lt=vt.length/3-1;dt<Lt;dt+=yt)le.fromArray(vt,3*dt),Ae.fromArray(vt,3*dt+3),kt=M.distanceSqToSegment(le,Ae,Qe,we),kt>Y||(Qe.applyMatrix4(this.matrixWorld),kt=k.ray.origin.distanceTo(Qe),kt<k.near||kt>k.far||X.push({distance:kt,point:we.clone().applyMatrix4(this.matrixWorld),index:dt,face:null,faceIndex:null,object:this}))}else if(ie instanceof v.Geometry)for(le=ie.vertices,Ae=le.length,dt=0;dt<Ae-1;dt+=yt)kt=M.distanceSqToSegment(le[dt],le[dt+1],Qe,we),kt>Y||(Qe.applyMatrix4(this.matrixWorld),kt=k.ray.origin.distanceTo(Qe),kt<k.near||kt>k.far||X.push({distance:kt,point:we.clone().applyMatrix4(this.matrixWorld),index:dt,face:null,faceIndex:null,object:this}))}}}(),r.prototype.compareV3=function(b,M){return b*=6,M*=6,this.positions[b]===this.positions[M]&&this.positions[b+1]===this.positions[M+1]&&this.positions[b+2]===this.positions[M+2]},r.prototype.copyV3=function(b){return b*=6,[this.positions[b],this.positions[b+1],this.positions[b+2]]},r.prototype.process=function(){var b=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];for(var M=0;M<b;M++)this.side.push(1),this.side.push(-1);for(M=0;M<b;M++){var R=this.widthCallback?this.widthCallback(M/(b-1)):1;this.width.push(R),this.width.push(R)}for(M=0;M<b;M++)this.uvs.push(M/(b-1),0),this.uvs.push(M/(b-1),1);for(R=this.compareV3(0,b-1)?this.copyV3(b-2):this.copyV3(0),this.previous.push(R[0],R[1],R[2]),this.previous.push(R[0],R[1],R[2]),M=0;M<b-1;M++)R=this.copyV3(M),this.previous.push(R[0],R[1],R[2]),this.previous.push(R[0],R[1],R[2]);for(M=1;M<b;M++)R=this.copyV3(M),this.next.push(R[0],R[1],R[2]),this.next.push(R[0],R[1],R[2]);for(R=this.compareV3(b-1,0)?this.copyV3(1):this.copyV3(b-1),this.next.push(R[0],R[1],R[2]),this.next.push(R[0],R[1],R[2]),M=0;M<b-1;M++)R=2*M,this.indices_array.push(R,R+1,R+2),this.indices_array.push(R+2,R+1,R+3);this.attributes?(this.attributes.position.copyArray(new Float32Array(this.positions)),this.attributes.position.needsUpdate=!0,this.attributes.previous.copyArray(new Float32Array(this.previous)),this.attributes.previous.needsUpdate=!0,this.attributes.next.copyArray(new Float32Array(this.next)),this.attributes.next.needsUpdate=!0,this.attributes.side.copyArray(new Float32Array(this.side)),this.attributes.side.needsUpdate=!0,this.attributes.width.copyArray(new Float32Array(this.width)),this.attributes.width.needsUpdate=!0,this.attributes.uv.copyArray(new Float32Array(this.uvs)),this.attributes.uv.needsUpdate=!0,this.attributes.index.copyArray(new Uint16Array(this.indices_array)),this.attributes.index.needsUpdate=!0):this.attributes={position:new v.BufferAttribute(new Float32Array(this.positions),3),previous:new v.BufferAttribute(new Float32Array(this.previous),3),next:new v.BufferAttribute(new Float32Array(this.next),3),side:new v.BufferAttribute(new Float32Array(this.side),1),width:new v.BufferAttribute(new Float32Array(this.width),1),uv:new v.BufferAttribute(new Float32Array(this.uvs),2),index:new v.BufferAttribute(new Uint16Array(this.indices_array),1),counters:new v.BufferAttribute(new Float32Array(this.counters),1)},this.geometry.setAttribute("position",this.attributes.position),this.geometry.setAttribute("previous",this.attributes.previous),this.geometry.setAttribute("next",this.attributes.next),this.geometry.setAttribute("side",this.attributes.side),this.geometry.setAttribute("width",this.attributes.width),this.geometry.setAttribute("uv",this.attributes.uv),this.geometry.setAttribute("counters",this.attributes.counters),this.geometry.setIndex(this.attributes.index)},r.prototype.advance=function(b){var M=this.attributes.position.array,R=this.attributes.next.array,k=M.length;a(M,0,this.attributes.previous.array,0,k),a(M,6,M,0,k-6),M[k-6]=b.x,M[k-5]=b.y,M[k-4]=b.z,M[k-3]=b.x,M[k-2]=b.y,M[k-1]=b.z,a(M,6,R,0,k-6),R[k-6]=b.x,R[k-5]=b.y,R[k-4]=b.z,R[k-3]=b.x,R[k-2]=b.y,R[k-1]=b.z,this.attributes.position.needsUpdate=!0,this.attributes.previous.needsUpdate=!0,this.attributes.next.needsUpdate=!0},v.ShaderChunk.meshline_vert=["",v.ShaderChunk.logdepthbuf_pars_vertex,v.ShaderChunk.fog_pars_vertex,`\r
attribute vec3 previous;\r
attribute vec3 next;\r
attribute float side;\r
attribute float width;\r
attribute float counters;\r
\r
uniform vec2 resolution;\r
uniform float lineWidth;\r
uniform vec3 color;\r
uniform float opacity;\r
uniform float near;\r
uniform float far;\r
uniform float sizeAttenuation;\r
\r
varying vec2 vUV;\r
varying vec4 vColor;\r
varying float vCounters;\r
\r
vec2 fix( vec4 i, float aspect ) {\r
\r
    vec2 res = i.xy / i.w;\r
    res.x *= aspect;\r
	 vCounters = counters;\r
    return res;\r
\r
}\r
\r
void main() {\r
\r
    float aspect = resolution.x / resolution.y;\r
    float pixelWidthRatio = 1. / (resolution.x * projectionMatrix[0][0]);\r
\r
    vColor = vec4( color, opacity );\r
    vUV = uv;\r
\r
    mat4 m = projectionMatrix * modelViewMatrix;\r
    vec4 finalPosition = m * vec4( position, 1.0 );\r
    vec4 prevPos = m * vec4( previous, 1.0 );\r
    vec4 nextPos = m * vec4( next, 1.0 );\r
\r
    vec2 currentP = fix( finalPosition, aspect );\r
    vec2 prevP = fix( prevPos, aspect );\r
    vec2 nextP = fix( nextPos, aspect );\r
\r
    float pixelWidth = finalPosition.w * pixelWidthRatio;\r
    float w = 1.8 * pixelWidth * lineWidth * width;\r
\r
    if( sizeAttenuation == 1. ) {\r
        w = 1.8 * lineWidth * width;\r
    }\r
\r
    vec2 dir;\r
    if( nextP == currentP ) dir = normalize( currentP - prevP );\r
    else if( prevP == currentP ) dir = normalize( nextP - currentP );\r
    else {\r
        vec2 dir1 = normalize( currentP - prevP );\r
        vec2 dir2 = normalize( nextP - currentP );\r
        dir = normalize( dir1 + dir2 );\r
\r
        vec2 perp = vec2( -dir1.y, dir1.x );\r
        vec2 miter = vec2( -dir.y, dir.x );\r
        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );\r
\r
    }\r
\r
    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;\r
    vec2 normal = vec2( -dir.y, dir.x );\r
    normal.x /= aspect;\r
    normal *= .5 * w;\r
\r
    vec4 offset = vec4( normal * side, 0.0, 1.0 );\r
    finalPosition.xy += offset.xy;\r
\r
    gl_Position = finalPosition;\r
`,v.ShaderChunk.logdepthbuf_vertex,v.ShaderChunk.fog_vertex&&"    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",v.ShaderChunk.fog_vertex,"}"].join(`\r
`),v.ShaderChunk.meshline_frag=["",v.ShaderChunk.fog_pars_fragment,v.ShaderChunk.logdepthbuf_pars_fragment,`\r
uniform sampler2D map;\r
uniform sampler2D alphaMap;\r
uniform float useMap;\r
uniform float useAlphaMap;\r
uniform float useDash;\r
uniform float dashArray;\r
uniform float dashOffset;\r
uniform float dashRatio;\r
uniform float visibility;\r
uniform float alphaTest;\r
uniform vec2 repeat;\r
\r
varying vec2 vUV;\r
varying vec4 vColor;\r
varying float vCounters;\r
\r
void main() {\r
`,v.ShaderChunk.logdepthbuf_fragment,`\r
    vec4 c = vColor;\r
    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );\r
    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;\r
    if( c.a < alphaTest ) discard;\r
    if( useDash == 1. ){\r
        c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));\r
    }\r
    gl_FragColor = c;\r
    gl_FragColor.a *= step(vCounters, visibility);\r
`,v.ShaderChunk.fog_fragment,"}"].join(`\r
`),l.prototype=Oe(v.ShaderMaterial.prototype),l.prototype.constructor=l,l.prototype.isMeshLineMaterial=!0,l.prototype.copy=function(b){return v.ShaderMaterial.prototype.copy.call(this,b),this.lineWidth=b.lineWidth,this.map=b.map,this.useMap=b.useMap,this.alphaMap=b.alphaMap,this.useAlphaMap=b.useAlphaMap,this.color.copy(b.color),this.opacity=b.opacity,this.resolution.copy(b.resolution),this.sizeAttenuation=b.sizeAttenuation,this.near=b.near,this.far=b.far,this.dashArray.copy(b.dashArray),this.dashOffset.copy(b.dashOffset),this.dashRatio.copy(b.dashRatio),this.useDash=b.useDash,this.visibility=b.visibility,this.alphaTest=b.alphaTest,this.repeat.copy(b.repeat),this},n.exports&&(e=n.exports={MeshLine:r,MeshLineMaterial:l}),e.MeshLine=r,e.MeshLineMaterial=l}).call(Ql)}),V2=d_.MeshLine,p_=d_.MeshLineMaterial,eb=function(n){function e(r){return ls(this,e),r=Ul(this,(e.__proto__||wl(e)).call(this,r)),r.staticDashArray=2,r.time=0,r.autoUpdate=!0,r}return Zs(e,n),Ts(e,[{key:"getDefaultOptions",value:function(){return{color:16777215,textureColor:16777215,textureWidth:10,textureLength:30,step:.1}}},{key:"initialize",value:function(a){this.threeLayer=a,this.addOverlay()}},{key:"onChanged",value:function(a,l){this.threeLayer&&(this.removeOverlay(),this.addOverlay())}},{key:"onDestroy",value:function(){this.removeOverlay()}},{key:"render",value:function(){var a=this.getOptions(),l=a.textureWidth,v=a.style;a=a.step/10,this.time+=a,2<this.time&&(this.time=0);for(var b=this.flyLine.children,M=0;M<b.length;M++){var R=b[M],k=R.hash;R.children[0].material.uniforms.lineWidth.value=l*(1+.2*Math.sin(5*this.time)),R.children[0].material.uniforms.dashOffset.value=v==="chaos"?R.children[0].material.uniforms.dashOffset.value-a:(this.staticDashArray+k)*(1-this.time/2)}}},{key:"removeOverlay",value:function(){this.threeLayer.remove(this.flyLine)}},{key:"addOverlay",value:function(){var a=this;this.flyLine=new Ko.Group;var l=this.threeLayer,v=new Ko.TextureLoader,b=this.getData();v.load("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFkAAABZCAQAAAD/AkAkAAAACXBIWXMAAAsTAAALEwEAmpwYAAADGWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjaY2BgnuDo4uTKJMDAUFBUUuQe5BgZERmlwH6egY2BmYGBgYGBITG5uMAxIMCHgYGBIS8/L5UBA3y7xsDIwMDAcFnX0cXJlYE0wJpcUFTCwMBwgIGBwSgltTiZgYHhCwMDQ3p5SUEJAwNjDAMDg0hSdkEJAwNjAQMDg0h2SJAzAwNjCwMDE09JakUJAwMDg3N+QWVRZnpGiYKhpaWlgmNKflKqQnBlcUlqbrGCZ15yflFBflFiSWoKAwMD1A4GBgYGXpf8EgX3xMw8BUNTVQYqg4jIKAX08EGIIUByaVEZhMXIwMDAIMCgxeDHUMmwiuEBozRjFOM8xqdMhkwNTJeYNZgbme+y2LDMY2VmzWa9yubEtoldhX0mhwBHJycrZzMXM1cbNzf3RB4pnqW8xryH+IL5nvFXCwgJrBZ0E3wk1CisKHxYJF2UV3SrWJw4p/hWiRRJYcmjUhXSutJPZObIhsoJyp2V71HwUeRVvKA0RTlKRUnltepWtUZ1Pw1Zjbea+7QmaqfqWOsK6b7SO6I/36DGMMrI0ljS+LfJPdPDZivM+y0qLBOtfKwtbFRtRexY7L7aP3e47XjB6ZjzXpetruvdVrov9VjkudBrgfdCn8W+y/xW+a8P2Bq4N+hY8PmQW6HPwr5EMEUKRilFG8e4xUbF5cW3JMxO3Jx0Nvl5KlOaXLpNRlRmVdas7D059/KY8tULfAqLi2YXHy55WyZR7lJRWDmv6mz131q9uvj6SQ3HGn83G7Skt85ru94h2Ond1d59uJehz76/bsK+if8nO05pnXpiOu+M4JmzZj2aozW3ZN6+BVwLwxYtXvxxqcOyCcsfrjRe1br65lrddU3rb2402NSx+cFWq21Tt3/Y6btr1R6Oven7jh9QP9h56PURv6Obj4ufqD355LT3mS3nZM+3X/h0Ke7yqasW15bdEL3ZeuvrnfS7N+/7PDjwyPTx6qeKz2a+EHzZ9Zr5Td3bn+9LP3z6VPD53de8b+9+5P/88Lv4z7d/Vf//AwAqvx2K829RWwAAOGtpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICAgICAgICAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTktMDYtMjdUMTk6MzE6MTUrMDg6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxOS0wOC0xOVQxNjo1Nzo1MCswODowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6TWV0YWRhdGFEYXRlPjIwMTktMDgtMTlUMTY6NTc6NTArMDg6MDA8L3htcDpNZXRhZGF0YURhdGU+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjE8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5Eb3QgR2FpbiAxNSU8L3Bob3Rvc2hvcDpJQ0NQcm9maWxlPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjQ5MmI1NTQ1LWIwNmQtNGI0Yi1iMWExLTZiN2NiNzExNzA5MjwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDo0OTJiNTU0NS1iMDZkLTRiNGItYjFhMS02YjdjYjcxMTcwOTI8L3htcE1NOkRvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDo0OTJiNTU0NS1iMDZkLTRiNGItYjFhMS02YjdjYjcxMTcwOTI8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jcmVhdGVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NDkyYjU1NDUtYjA2ZC00YjRiLWIxYTEtNmI3Y2I3MTE3MDkyPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE5LTA2LTI3VDE5OjMxOjE1KzA4OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT42NTUzNTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+ODk8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+ODk8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0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",function(M){for(var R=0;R<b.length;R++){var k=b[R].geometry.coordinates.map(function(X){return new(Function.prototype.bind.apply(Ko.Vector3,[null].concat(tv(l.normizedPoint(X)))))});k=a.createFlyLine({originalData:b[R],curveData:k,texture:M}),a.flyLine.add(k)}l.add(a.flyLine)})}},{key:"createFlyLine",value:function(a){var l=this.options,v=l.color,b=l.textureColor,M=l.textureWidth,R=a.originalData,k=a.curveData;a=a.texture;var X=Math.random();l=Math.min(1,1-l.textureLength/100),l=Math.max(0,l),Object.prototype.toString.call(v)==="[object Function]"&&(v=v(R)),Object.prototype.toString.call(b)==="[object Function]"&&(b=b(R)),R=new Ko.Geometry,R.vertices=k,R.verticesNeedUpdate=!0,v=new Ko.LineBasicMaterial({linewidth:1,color:new Ko.Color(v),blending:Ko.AdditiveBlending,depthTest:!0,depthWrite:!1,transparent:!0,opacity:.3,linecap:"round",linejoin:"round"}),v=new Ko.Line(R,v),v.renderDepth=!1,v.hash=X,R=new V2;for(var Y=new Ko.Geometry,ie=0;ie<k.length;ie++){var le=k[ie];Y.vertices.push(new Ko.Vector3(le.x,le.y,le.z))}return R.setGeometry(Y,function(Ae){return 1-Ae}),b=new p_({map:a,useMap:!0,color:new Ko.Color(b),opacity:1,dashArray:this.staticDashArray+X,dashOffset:0,dashRatio:l,sizeAttenuation:!0,lineWidth:M,depthWrite:!1,depthTest:!0,alphaTest:!1,transparent:!0,blending:Ko.AdditiveBlending,side:Ko.DoubleSide}),b=new Ko.Mesh(R.geometry,b),v.add(b),v}}]),e}(T);Ne.THREE=Ko,Ne.PostProcessing=f_,Ne.FanLayer=NA,Ne.FlyLineLayer=eb,Ne.ThreeLayer=x,Object.defineProperty(Ne,"__esModule",{value:!0})})}).call(this,ae("yLpj"))},OaEy:function(ut,Ye,ae){"use strict";var Be=ae("cIOH"),Xe=ae.n(Be),Ne=ae("bKJz"),ge=ae.n(Ne),We=ae("R9oj")},"Of+w":function(ut,Ye,ae){var Be=ae("Cwc5"),Xe=ae("Kz5y"),Ne=Be(Xe,"WeakMap");ut.exports=Ne},OujY:function(ut,Ye,ae){ut.exports={stepForm:"stepForm___26syq",stepFormText:"stepFormText___3xXDZ",result:"result___3gBKF",desc:"desc___3_cbl",information:"information___3DN7D",label:"label___3LM0j",uppercase:"uppercase___iGDjy"}},PKrl:function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("mrSG"),Xe=ae("4K7L"),Ne=Be.__importDefault(ae("Gytx")),ge=ae("W1EI"),We="rgba(60, 50, 200, 0.9)",Fe=function(lt){Be.__extends(pt,lt);function pt(de){var xe=lt.call(this,de)||this;return xe._createLayer=!1,xe}return pt.prototype.componentDidMount=function(){this.initialize()},pt.prototype.componentDidUpdate=function(de){Ne.default(this.props,de)||this.initialize()},pt.prototype.componentWillUnmount=function(){this.destroy()},pt.prototype.destroy=function(){this._createLayer=!1,this.view.destroy(),this.view=void 0,this.linelayer=void 0,this.arrowlayer=void 0,this.flowlayer=void 0,this.pointlayer=void 0,this.textlayer=void 0},pt.prototype.initialize=function(){var de=this,xe=this.map=this.props.map;if(!!xe){this._createLayer||this.createLayers();var ft=[],N=[],ve=new Map;if(this.props.data){var Zr=[],st=new Xe.OdCurve;this.props.data.forEach(function(zr){var zn=zr.from.point||Xe.utilCity.getCenterByCityName(zr.from.city),$t=zr.to.point||Xe.utilCity.getCenterByCityName(zr.to.city);zn=new BMapGL.Point(zn.lng,zn.lat),$t=new BMapGL.Point($t.lng,$t.lat),st.setOptions({points:[zn,$t]});var gn=st.getPoints();de.props.coordType==="bd09mc"?(Zr.push(BMapGL.Projection.convertMC2LL(zn)),Zr.push(BMapGL.Projection.convertMC2LL($t))):(Zr.push(zn),Zr.push($t)),ft.push({geometry:{type:"LineString",coordinates:gn},color:zr.color});var Ni=ve.get(zr.color)||[];Ni.push({geometry:{type:"LineString",coordinates:gn}}),ve.set(zr.color,Ni),de.props.showEndPoint!==!1&&N.push({geometry:{type:"Point",coordinates:[$t.lng,$t.lat]},color:zr.color,properties:{text:zr.to.name||zr.to.city}}),de.props.showStartPoint!==!1&&N.push({geometry:{type:"Point",coordinates:[zn.lng,zn.lat]},color:zr.color,properties:{text:zr.from.name||zr.from.city}}),Zr.length>0&&de.props.autoViewport===!0&&xe.setViewport(Zr,de.props.viewportOptions||{})})}this.linelayer.setData(ft),this.props.lineOptions&&this.linelayer.setOptions(this.props.lineOptions),this.pointlayer.setData(N),this.props.pointOptions&&this.pointlayer.setOptions(this.props.pointOptions),this.textlayer.setData(N),this.props.textOptions&&this.textlayer.setOptions(this.props.textOptions),Array.from(ve.keys()).forEach(function(zr){if(zr===void 0)de.arrowlayer.setData(ve.get(void 0)),de.props.arrowOptions&&de.arrowlayer.setOptions(de.props.arrowOptions);else{var zn=new Xe.LineLayer(Be.__assign(Be.__assign({width:10},de.props.arrowOptions),{style:"arrow",color:"rgba(255, 255, 255, 0)",styleOptions:{color:zr}}));de.view.addLayer(zn),zn.setData(ve.get(zr))}}),this.props.enableAnimation&&(this.flowlayer.setData(ft),this.props.animationOptions&&this.flowlayer.setOptions(this.props.animationOptions))}},pt.prototype.createLayers=function(){this._createLayer=!0;var de=this.map,xe=this.view=new Xe.View({map:de}),ft=this.linelayer=new Xe.LineLayer({blend:"ligher",color:We,width:4});xe.addLayer(ft);var N=this.arrowlayer=new Xe.LineLayer({width:10,style:"arrow",color:"rgba(255, 255, 255, 0)",styleOptions:{color:We}});xe.addLayer(N);var ve=this.pointlayer=new Xe.PointLayer({blend:"ligher",color:We,size:10});xe.addLayer(ve);var Zr=this.textlayer=new Xe.TextLayer({offset:[0,15],color:"#333"});xe.addLayer(Zr);var st=this.flowlayer=new Xe.LineFlowLayer({color:function(){return"rgb(240, 200, 200)"},interval:.4,duration:1,trailLength:.8});xe.addLayer(st)},pt.prototype.render=function(){return null},pt.defaultProps={enableAnimation:!0,showStartPoint:!0,showEndPoint:!0},pt}(ge.Component);Ye.default=Fe},PQMj:function(ut,Ye,ae){},PdkY:function(ut,Ye,ae){},QbM5:function(ut,Ye,ae){},QeVK:function(ut,Ye,ae){},QkVE:function(ut,Ye,ae){var Be=ae("EpBk");function Xe(Ne,ge){var We=Ne.__data__;return Be(ge)?We[typeof ge=="string"?"string":"hash"]:We.map}ut.exports=Xe},QoRX:function(ut,Ye){function ae(Be,Xe){for(var Ne=-1,ge=Be==null?0:Be.length;++Ne<ge;)if(Xe(Be[Ne],Ne,Be))return!0;return!1}ut.exports=ae},QqLw:function(ut,Ye,ae){var Be=ae("tadb"),Xe=ae("ebwN"),Ne=ae("HOxn"),ge=ae("yGk4"),We=ae("Of+w"),Fe=ae("NykK"),lt=ae("3Fdi"),pt="[object Map]",de="[object Object]",xe="[object Promise]",ft="[object Set]",N="[object WeakMap]",ve="[object DataView]",Zr=lt(Be),st=lt(Xe),zr=lt(Ne),zn=lt(ge),$t=lt(We),gn=Fe;(Be&&gn(new Be(new ArrayBuffer(1)))!=ve||Xe&&gn(new Xe)!=pt||Ne&&gn(Ne.resolve())!=xe||ge&&gn(new ge)!=ft||We&&gn(new We)!=N)&&(gn=function(Ni){var br=Fe(Ni),Tt=br==de?Ni.constructor:void 0,Vr=Tt?lt(Tt):"";if(Vr)switch(Vr){case Zr:return ve;case st:return pt;case zr:return xe;case zn:return ft;case $t:return N}return br}),ut.exports=gn},R9oj:function(ut,Ye,ae){"use strict";var Be=ae("cIOH"),Xe=ae.n(Be),Ne=ae("pwpV"),ge=ae.n(Ne)},RwCd:function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("mrSG"),Xe=ae("W1EI"),Ne=Be.__importDefault(ae("s+10")),ge=Be.__importDefault(ae("Gytx"));function We(){for(var de="//huiyan.baidu.com/cms/react-bmap/markers_new2x_fbb9e99.png",xe={simple_red:new BMapGL.Icon(de,new BMapGL.Size(42/2,66/2),{imageOffset:new BMapGL.Size(454/2,378/2),imageSize:new BMapGL.Size(600/2,600/2)}),simple_blue:new BMapGL.Icon(de,new BMapGL.Size(42/2,66/2),{imageOffset:new BMapGL.Size(454/2,450/2),imageSize:new BMapGL.Size(600/2,600/2)}),loc_red:new BMapGL.Icon(de,new BMapGL.Size(46/2,70/2),{imageOffset:new BMapGL.Size(400/2,378/2),imageSize:new BMapGL.Size(600/2,600/2)}),loc_blue:new BMapGL.Icon(de,new BMapGL.Size(46/2,70/2),{imageOffset:new BMapGL.Size(400/2,450/2),imageSize:new BMapGL.Size(600/2,600/2)}),start:new BMapGL.Icon(de,new BMapGL.Size(50/2,80/2),{imageOffset:new BMapGL.Size(400/2,278/2),imageSize:new BMapGL.Size(600/2,600/2)}),end:new BMapGL.Icon(de,new BMapGL.Size(50/2,80/2),{imageOffset:new BMapGL.Size(450/2,278/2),imageSize:new BMapGL.Size(600/2,600/2)}),location:new BMapGL.Icon(de,new BMapGL.Size(28/2,40/2),{imageOffset:new BMapGL.Size(248/2,466/2),imageSize:new BMapGL.Size(600/2,600/2)})},ft=1;ft<=10;ft++)xe["red"+ft]=new BMapGL.Icon(de,new BMapGL.Size(42/2,66/2),{imageOffset:new BMapGL.Size(42/2*(ft-1),0),imageSize:new BMapGL.Size(600/2,600/2)});for(var ft=1;ft<=10;ft++)xe["blue"+ft]=new BMapGL.Icon(de,new BMapGL.Size(42/2,66/2),{imageOffset:new BMapGL.Size(42/2*(ft-1),132/2),imageSize:new BMapGL.Size(600/2,600/2)});return xe}var Fe=["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","infowindowclose","infowindowopen","dragstart","dragging","dragend","rightclick"],lt={enableMassClear:["enableMassClear","disableMassClear"],enableDragging:["enableDragging","disableDragging"]},pt=function(de){Be.__extends(xe,de);function xe(ft){var N=de.call(this,ft)||this;return N.options=["offset","icon","enableMassClear","enableDragging","enableClicking","raiseOnDrag","draggingCursor","rotation","title"],N.defaultIcons=We(),N}return xe.prototype.componentDidUpdate=function(ft){var N=this.props,ve=N.position,Zr=N.icon,st=N.autoViewport,zr=N.offset,zn=N.isTop,$t=ft.position,gn=ft.icon,Ni=ft.autoViewport,br=ft.offset,Tt=ft.isTop,Vr=ve&&!ge.default(ve,$t),Ar=!!(Zr&&!ge.default(Zr,gn)),Dt=!ge.default(st,Ni),pr=!!(zr&&!ge.default(zr,br)),Gr=!ge.default(zn,Tt),lr=this.parsePosition(ve);if(Vr&&this.marker.setPosition(lr),Ar){var Pe=this.parseIcon(Zr);this.marker.setIcon(Pe)}pr&&this.marker.setOffset(zr),Gr&&this.marker.setTop(!!zn),st&&(Vr||Dt)&&this.props.map.setCenter(lr)},xe.prototype.componentDidMount=function(){this.initialize()},xe.prototype.componentWillUnmount=function(){this.destroy()},xe.prototype.destroy=function(){this.marker&&(this.props.map.removeOverlay(this.marker),this.instance=this.marker=void 0)},xe.prototype.initialize=function(){var ft=this.props.map;this.destroy();var N=this.parseIcon(this.props.icon),ve=this.parsePosition(this.props.position),Zr=this.getOptions();Zr.icon=N,this.instance=this.marker=new BMapGL.Marker(ve,Zr),this.props.isTop&&this.marker.setTop(!0),ft.addOverlay(this.marker),this.props.autoViewport&&ft.setCenter(ve)},xe.prototype.parsePosition=function(ft){var N=this.props.coordType==="bd09mc",ve;return ft instanceof Array?ve=new BMapGL.Point(ft[0],ft[1]):ft instanceof BMapGL.Point?ve=ft:ve=new BMapGL.Point(ft.lng,ft.lat),N&&(ve=BMapGL.Projection.convertMC2LL(ve)),ve},xe.prototype.parseIcon=function(ft){var N;return ft&&ft instanceof BMapGL.Icon?N=ft:ft&&this.defaultIcons[ft]?N=this.defaultIcons[ft]:N=this.defaultIcons.simple_red,N},xe.prototype.render=function(){return null},xe}(Xe.Component);pt.defaultProps={icon:"simple_red"},Ye.default=Ne.default(pt,Fe,lt)},S76h:function(ut,Ye,ae){},SbrR:function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("mrSG"),Xe=Be.__importDefault(ae("0GZW")),Ne=Be.__importDefault(ae("Gytx")),ge=function(We){Be.__extends(Fe,We);function Fe(lt){var pt=We.call(this,lt)||this;return pt.options=["strokeColor","strokeWeight","strokeOpacity","strokeStyle","dashArray","enableMassClear","enableEditing"],pt}return Fe.prototype.onDataUpdate=function(lt){var pt=this.props,de=pt.path,xe=pt.autoViewport,ft=lt.path,N=lt.autoViewport,ve=de&&!Ne.default(de,ft),Zr=!Ne.default(xe,N);if(ve&&this.overlay.setPath(this.parsePath(de)),xe&&(ve||Zr)){var st=this.overlay.getPath(),zr=this.props.map.getViewport(st,this.props.viewportOptions||{});this.props.map.setViewport(zr)}},Fe.prototype.getOverlay=function(){var lt=this.parsePath(this.props.path);return new BMapGL.Polyline(lt,this.getOptions())},Fe.prototype.parsePath=function(lt){var pt=this.props.coordType==="bd09mc",de=lt.map(function(xe){var ft;return xe instanceof Array?ft=new BMapGL.Point(xe[0],xe[1]):xe instanceof BMapGL.Point?ft=xe:ft=new BMapGL.Point(xe.lng,xe.lat),pt&&(ft=BMapGL.Projection.convertMC2LL(ft)),ft});return de},Fe.prototype.render=function(){return null},Fe}(Xe.default);Ye.default=ge},SfRM:function(ut,Ye,ae){var Be=ae("YESw");function Xe(){this.__data__=Be?Be(null):{},this.size=0}ut.exports=Xe},TLLU:function(ut,Ye,ae){"use strict";var Be=ae("5OYt");Ye.a={useBreakpoint:Be.a}},ToZM:function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("mrSG"),Xe=Be.__importStar(ae("4K7L")),Ne=Be.__importStar(ae("O8ob")),ge=ae("W1EI"),We=function(Fe){Be.__extends(lt,Fe);function lt(pt){var de=Fe.call(this,pt)||this;return de._createLayer=!1,de}return lt.prototype.componentDidMount=function(){this.initialize()},lt.prototype.componentWillUnmount=function(){this.layer&&(this.props.view.removeLayer(this.layer),this.layer.destroy(),this.layer=null)},lt.prototype.componentDidUpdate=function(pt){if(!this.map||!this.layer){this.initialize();return}var de=this.props,xe=de.data,ft=de.options,N=de.autoViewport,ve=pt.data,Zr=pt.options,st=pt.autoViewport;JSON.stringify(Zr)!==JSON.stringify(ft)&&this.layer.setOptions(ft),JSON.stringify(ve)!==JSON.stringify(xe)&&this.layer.setData(xe),N&&(JSON.stringify(ve)!==JSON.stringify(xe)||N!==st)&&this.setViewport()},lt.prototype.initialize=function(){var pt=this.props.map;!pt||(this.map=pt,this._createLayer||this.createLayers(),this.props.autoViewport&&this.setViewport())},lt.prototype.setViewport=function(){var pt=this.props.coordType==="bd09mc",de=function(N){var ve=new BMapGL.Point(N[0],N[1]);return pt?BMapGL.Projection.convertMC2LL(ve):ve},xe=[];this.props.data.forEach(function(ft){ft.geometry.type==="Point"?xe.push(de(ft.geometry.coordinates)):ft.geometry.type==="LineString"?ft.geometry.coordinates.map(function(N){xe.push(de(N))}):ft.geometry.type==="Polygon"&&ft.geometry.coordinates[0].map(function(N){xe.push(de(N))})}),xe.length>0&&this.map.setViewport(xe,this.props.options.viewportOptions||{})},lt.prototype.createLayers=function(){if(Xe[this.props.type]||Ne[this.props.type]){this._createLayer=!0;var pt=Xe[this.props.type]?Xe:Ne;this.layer=new pt[this.props.type](this.props.options),this.props.view.addLayer(this.layer),this.layer.setData(this.props.data)}else console.error("mapvgl doesn't have layer "+this.props.type+"!")},lt.prototype.render=function(){return null},lt}(ge.Component);Ye.default=We},"UNi/":function(ut,Ye){function ae(Be,Xe){for(var Ne=-1,ge=Array(Be);++Ne<Be;)ge[Ne]=Xe(Ne);return ge}ut.exports=ae},Urep:function(ut,Ye,ae){},V6Ve:function(ut,Ye,ae){var Be=ae("kekF"),Xe=Be(Object.keys,Object);ut.exports=Xe},VaNO:function(ut,Ye){function ae(Be){return this.__data__.has(Be)}ut.exports=ae},VzZb:function(ut,Ye,ae){},W1EI:function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("s+10");Object.defineProperty(Ye,"Wrapper",{enumerable:!0,get:function(){return Be.default}});var Xe=ae("NRzi");Object.defineProperty(Ye,"Component",{enumerable:!0,get:function(){return Xe.default}})},WuJL:function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("mrSG"),Xe=Be.__importDefault(ae("hODF")),Ne=function(ge){Be.__extends(We,ge);function We(Fe){return ge.call(this,Fe)||this}return We.prototype.getControl=function(){return new BMapGL.ScaleControl(this.getOptions())},We.prototype.render=function(){return null},We}(Xe.default);Ye.default=Ne},WwoR:function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("mrSG"),Xe=ae("W1EI"),Ne=Be.__importDefault(ae("s+10")),ge=Be.__importDefault(ae("Gytx")),We=["click","dblclick","rightclick","mousedown","mouseup","mouseout","mouseover","mousemove","remove"],Fe={enableMassClear:["enableMassClear","disableMassClear"]},lt=function(pt){Be.__extends(de,pt);function de(xe){var ft=pt.call(this,xe)||this;return ft.options=["position","offset","enableMassClear"],ft}return de.prototype.componentDidUpdate=function(xe){var ft=this.props,N=ft.position,ve=ft.offset,Zr=ft.text,st=ft.style,zr=xe.position,zn=xe.offset,$t=xe.text,gn=xe.style,Ni=N&&!ge.default(N,zr),br=!!(ve&&!ge.default(ve,zn)),Tt=!ge.default(Zr,$t),Vr=!!(st&&!ge.default(st,gn)),Ar=this.parsePosition(N);Ni&&this.label.setPosition(Ar),br&&this.label.setOffset(ve),Tt&&this.label.setContent(Zr),Vr&&this.label.setStyle(st)},de.prototype.componentDidMount=function(){this.initialize()},de.prototype.componentWillUnmount=function(){this.destroy()},de.prototype.destroy=function(){this.label&&(this.props.map.removeOverlay(this.label),this.instance=this.label=void 0)},de.prototype.initialize=function(){var xe=this.props.map;if(!!xe){this.destroy();var ft=this.getOptions(),N=this.parsePosition(this.props.position);ft.position=N,this.instance=this.label=new BMapGL.Label(this.props.text||"",ft),xe.addOverlay(this.label),this.props.style&&this.label.setStyle(this.props.style)}},de.prototype.parsePosition=function(xe){var ft=this.props.coordType==="bd09mc",N;return xe instanceof Array?N=new BMapGL.Point(xe[0],xe[1]):xe instanceof BMapGL.Point?N=xe:N=new BMapGL.Point(xe.lng,xe.lat),ft&&(N=BMapGL.Projection.convertMC2LL(N)),N},de.prototype.render=function(){return null},de}(Xe.Component);lt.defaultProps={style:{color:"red"}},Ye.default=Ne.default(lt,We,Fe)},Xi7e:function(ut,Ye,ae){var Be=ae("KMkd"),Xe=ae("adU4"),Ne=ae("tMB7"),ge=ae("+6XX"),We=ae("Z8oC");function Fe(lt){var pt=-1,de=lt==null?0:lt.length;for(this.clear();++pt<de;){var xe=lt[pt];this.set(xe[0],xe[1])}}Fe.prototype.clear=Be,Fe.prototype.delete=Xe,Fe.prototype.get=Ne,Fe.prototype.has=ge,Fe.prototype.set=We,ut.exports=Fe},"Y+p1":function(ut,Ye,ae){var Be=ae("wF/u");function Xe(Ne,ge){return Be(Ne,ge)}ut.exports=Xe},YESw:function(ut,Ye,ae){var Be=ae("Cwc5"),Xe=Be(Object,"create");ut.exports=Xe},YNLO:function(ut,Ye,ae){ut.exports={card:"card___KCsQh",heading:"heading___Isyp6",steps:"steps___3fIFU",errorIcon:"errorIcon___2ndjy",anticon:"anticon___ClqxS",errorPopover:"errorPopover___1hcuK",errorListItem:"errorListItem___XPgOv",errorField:"errorField___C0qTe",editable:"editable___19IGK",advancedForm:"advancedForm___3wp9J",optional:"optional___9LBju"}},Z0cm:function(ut,Ye){var ae=Array.isArray;ut.exports=ae},Z1je:function(ut,Ye,ae){},Z87X:function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("mrSG"),Xe=Be.__importDefault(ae("q1tI")),Ne=ae("W1EI"),ge=ae("gI1Y"),We=Be.__importStar(ae("s+10")),Fe=["overlaycomplete"],lt={enableCalculate:["enableCalculate","disableCalculate"],enableSorption:["enableSorption","disableSorption"],enableGpc:["enableGpc","disableGpc"]},pt={strokeColor:"#5E87DB",fillColor:"#5E87DB",strokeWeight:2,strokeOpacity:1,fillOpacity:.2},de={borderRadius:"2px",background:"#FFFBCC",border:"1px solid #E1E1E1",color:"#703A04",fontSize:"12px",letterSpacing:"0",padding:"5px"},xe=function(ft){Be.__extends(N,ft);function N(ve){var Zr=ft.call(this,ve)||this;return Zr.el=Xe.default.createRef(),Zr.options=["isOpen","enableDrawingTool","enableCalculate","enableSorption","enableGpc","enableLimit","sorptionDistance","limitOptions","drawingToolOptions","markerOptions","circleOptions","polylineOptions","polygonOptions","rectangleOptions","labelOptions"],Zr}return N.prototype.componentDidMount=function(){this.initialize()},N.prototype.componentWillUnmount=function(){this.destroy()},N.prototype.destroy=function(){this.drawingmanager&&(this.drawingmanager.close(),this.instance=this.drawingmanager=void 0)},N.prototype.initialize=function(){var ve=this,Zr=this.props.map;this.destroy();for(var st=this.getOptions(),zr=["circleOptions","polylineOptions","polygonOptions","rectangleOptions"],zn=0;zn<zr.length;zn++){var $t=zr[zn];st[$t]||(st[$t]=pt)}st.labelOptions||(st.labelOptions=de),st.drawingToolOptions.customContainer=this.el.current,window.BMapGLLib&&BMapGLLib.DrawingManager&&(this.instance=this.drawingmanager=new BMapGLLib.DrawingManager(Zr,st)),(!window.BMapGLLib||!BMapGLLib.DrawingManager)&&(ge.requireCss("//mapopen.bj.bcebos.com/github/BMapGLLib/DrawingManager/src/DrawingManager.min.css").then(function(){}),ge.requireScript("//mapopen.bj.bcebos.com/github/BMapGLLib/DrawingManager/src/DrawingManager.min.js").then(function(){ve.instance=ve.drawingmanager=new BMapGLLib.DrawingManager(Zr,st),We.registerEvents(ve,ve.getInstance(ve),Fe),We.toggleMethods(ve,ve.getInstance(ve),lt)}))},N.prototype.render=function(){return Xe.default.createElement("div",{className:"react-bmapgl-drawingmanager",ref:this.el,style:this.props.style})},N}(Ne.Component);xe.defaultProps={isOpen:!1,enableDrawingTool:!0,enableCalculate:!1,enableSorption:!1,enableGpc:!1,enableLimit:!1,sorptionDistance:20,limitOptions:{area:5e7,distance:3e4},drawingToolOptions:{},style:{position:"absolute",left:0,top:0,width:360}},Ye.default=We.default(xe,Fe,lt)},Z8oC:function(ut,Ye,ae){var Be=ae("y1pI");function Xe(Ne,ge){var We=this.__data__,Fe=Be(We,Ne);return Fe<0?(++this.size,We.push([Ne,ge])):We[Fe][1]=ge,this}ut.exports=Xe},ZTW2:function(ut,Ye,ae){},aVhU:function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("mrSG"),Xe=Be.__importDefault(ae("0GZW")),Ne=Be.__importDefault(ae("Gytx")),ge=function(We){Be.__extends(Fe,We);function Fe(lt){var pt=We.call(this,lt)||this;return pt.options=["strokeColor","strokeWeight","strokeOpacity","strokeStyle","fillColor","fillOpacity","enableMassClear","enableEditing"],pt}return Fe.prototype.onDataUpdate=function(lt){var pt=this.props,de=pt.path,xe=pt.autoViewport,ft=lt.path,N=lt.autoViewport,ve=de&&!Ne.default(de,ft),Zr=!Ne.default(xe,N);if(ve&&this.overlay.setPath(this.parsePath(de)),xe&&(ve||Zr)){var st=this.overlay.getPath(),zr=this.props.map.getViewport(st,this.props.viewportOptions||{});this.props.map.setViewport(zr)}},Fe.prototype.getOverlay=function(){var lt=this.parsePath(this.props.path);return new BMapGL.Polygon(lt,this.getOptions())},Fe.prototype.parsePath=function(lt){var pt=this.props.coordType==="bd09mc",de=lt.map(function(xe){var ft;return xe instanceof Array?ft=new BMapGL.Point(xe[0],xe[1]):xe instanceof BMapGL.Point?ft=xe:ft=new BMapGL.Point(xe.lng,xe.lat),pt&&(ft=BMapGL.Projection.convertMC2LL(ft)),ft});return de},Fe.prototype.render=function(){return null},Fe}(Xe.default);Ye.default=ge},adU4:function(ut,Ye,ae){var Be=ae("y1pI"),Xe=Array.prototype,Ne=Xe.splice;function ge(We){var Fe=this.__data__,lt=Be(Fe,We);if(lt<0)return!1;var pt=Fe.length-1;return lt==pt?Fe.pop():Ne.call(Fe,lt,1),--this.size,!0}ut.exports=ge},b80T:function(ut,Ye,ae){var Be=ae("UNi/"),Xe=ae("03A+"),Ne=ae("Z0cm"),ge=ae("DSRE"),We=ae("wJg7"),Fe=ae("c6wG"),lt=Object.prototype,pt=lt.hasOwnProperty;function de(xe,ft){var N=Ne(xe),ve=!N&&Xe(xe),Zr=!N&&!ve&&ge(xe),st=!N&&!ve&&!Zr&&Fe(xe),zr=N||ve||Zr||st,zn=zr?Be(xe.length,String):[],$t=zn.length;for(var gn in xe)(ft||pt.call(xe,gn))&&!(zr&&(gn=="length"||Zr&&(gn=="offset"||gn=="parent")||st&&(gn=="buffer"||gn=="byteLength"||gn=="byteOffset")||We(gn,$t)))&&zn.push(gn);return zn}ut.exports=de},bE4E:function(ut,Ye,ae){},bKJz:function(ut,Ye,ae){},c6wG:function(ut,Ye,ae){var Be=ae("dD9F"),Xe=ae("sEf8"),Ne=ae("mdPL"),ge=Ne&&Ne.isTypedArray,We=ge?Xe(ge):Be;ut.exports=We},czTT:function(ut,Ye,ae){},dD9F:function(ut,Ye,ae){var Be=ae("NykK"),Xe=ae("shjB"),Ne=ae("ExA7"),ge="[object Arguments]",We="[object Array]",Fe="[object Boolean]",lt="[object Date]",pt="[object Error]",de="[object Function]",xe="[object Map]",ft="[object Number]",N="[object Object]",ve="[object RegExp]",Zr="[object Set]",st="[object String]",zr="[object WeakMap]",zn="[object ArrayBuffer]",$t="[object DataView]",gn="[object Float32Array]",Ni="[object Float64Array]",br="[object Int8Array]",Tt="[object Int16Array]",Vr="[object Int32Array]",Ar="[object Uint8Array]",Dt="[object Uint8ClampedArray]",pr="[object Uint16Array]",Gr="[object Uint32Array]",lr={};lr[gn]=lr[Ni]=lr[br]=lr[Tt]=lr[Vr]=lr[Ar]=lr[Dt]=lr[pr]=lr[Gr]=!0,lr[ge]=lr[We]=lr[zn]=lr[Fe]=lr[$t]=lr[lt]=lr[pt]=lr[de]=lr[xe]=lr[ft]=lr[N]=lr[ve]=lr[Zr]=lr[st]=lr[zr]=!1;function Pe(ir){return Ne(ir)&&Xe(ir.length)&&!!lr[Be(ir)]}ut.exports=Pe},dj1d:function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("mrSG"),Xe=ae("W1EI"),Ne=ae("gI1Y"),ge=Be.__importStar(ae("s+10")),We=["drawend","addpoint","removepolyline"],Fe={},lt=function(pt){Be.__extends(de,pt);function de(xe){var ft=pt.call(this,xe)||this;return ft.options=["tips","followText","unit","lineColor","lineStroke","opacity","lineStyle","cursor","secIcon","closeIcon"],ft}return de.prototype.componentDidMount=function(){this.initialize()},de.prototype.componentWillUnmount=function(){this.destroy()},de.prototype.destroy=function(){this.distancetool&&(this.distancetool.close(),this.instance=this.distancetool=void 0)},de.prototype.initialize=function(){var xe=this,ft=this.props.map;this.destroy();var N=this.getOptions();window.BMapGLLib&&BMapGLLib.DistanceTool&&(this.instance=this.distancetool=new BMapGLLib.DistanceTool(ft,N),this.props.defaultOpen&&this.distancetool.open()),(!window.BMapGLLib||!BMapGLLib.DistanceTool)&&Ne.requireScript("//mapopen.bj.bcebos.com/github/BMapGLLib/DistanceTool/src/DistanceTool.js").then(function(){xe.instance=xe.distancetool=new BMapGLLib.DistanceTool(ft,N),ge.registerEvents(xe,xe.getInstance(xe),We),ge.toggleMethods(xe,xe.getInstance(xe),Fe),xe.props.defaultOpen&&xe.distancetool.open()})},de.prototype.render=function(){return null},de}(Xe.Component);lt.defaultProps={defaultOpen:!0},Ye.default=ge.default(lt,We,Fe)},e4Nc:function(ut,Ye,ae){var Be=ae("fGT3"),Xe=ae("k+1r"),Ne=ae("JHgL"),ge=ae("pSRY"),We=ae("H8j4");function Fe(lt){var pt=-1,de=lt==null?0:lt.length;for(this.clear();++pt<de;){var xe=lt[pt];this.set(xe[0],xe[1])}}Fe.prototype.clear=Be,Fe.prototype.delete=Xe,Fe.prototype.get=Ne,Fe.prototype.has=ge,Fe.prototype.set=We,ut.exports=Fe},e5cp:function(ut,Ye,ae){var Be=ae("fmRc"),Xe=ae("or5M"),Ne=ae("HDyB"),ge=ae("seXi"),We=ae("QqLw"),Fe=ae("Z0cm"),lt=ae("DSRE"),pt=ae("c6wG"),de=1,xe="[object Arguments]",ft="[object Array]",N="[object Object]",ve=Object.prototype,Zr=ve.hasOwnProperty;function st(zr,zn,$t,gn,Ni,br){var Tt=Fe(zr),Vr=Fe(zn),Ar=Tt?ft:We(zr),Dt=Vr?ft:We(zn);Ar=Ar==xe?N:Ar,Dt=Dt==xe?N:Dt;var pr=Ar==N,Gr=Dt==N,lr=Ar==Dt;if(lr&&lt(zr)){if(!lt(zn))return!1;Tt=!0,pr=!1}if(lr&&!pr)return br||(br=new Be),Tt||pt(zr)?Xe(zr,zn,$t,gn,Ni,br):Ne(zr,zn,Ar,$t,gn,Ni,br);if(!($t&de)){var Pe=pr&&Zr.call(zr,"__wrapped__"),ir=Gr&&Zr.call(zn,"__wrapped__");if(Pe||ir){var pi=Pe?zr.value():zr,Do=ir?zn.value():zn;return br||(br=new Be),Ni(pi,Do,$t,gn,br)}}return lr?(br||(br=new Be),ge(zr,zn,$t,gn,Ni,br)):!1}ut.exports=st},e8yt:function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("mrSG"),Xe=Be.__importStar(ae("q1tI")),Ne=ae("W1EI"),ge=Be.__importDefault(ae("s+10")),We=["confirm","highlight"],Fe={},lt=function(pt){Be.__extends(de,pt);function de(xe){var ft=pt.call(this,xe)||this;return ft.el=Xe.default.createRef(),ft.options=["location","onSearchComplete","input","types"],ft}return de.prototype.componentDidMount=function(){this.initialize()},de.prototype.componentWillUnmount=function(){this.destroy()},de.prototype.destroy=function(){this.ac&&(this.ac.dispose(),this.instance=this.ac=void 0)},de.prototype.initialize=function(){this.destroy();var xe=this.getOptions();xe.input||(xe.input=this.el.current),this.ac=this.instance=new BMapGL.Autocomplete(xe)},de.prototype.render=function(){return Xe.default.createElement(Xe.Fragment,null,!this.props.input&&Xe.default.createElement("input",{className:"react-bmapgl-autocomplete",ref:this.el,style:this.props.style}))},de}(Ne.Component);lt.defaultProps={},Ye.default=ge.default(lt,We,Fe)},ebwN:function(ut,Ye,ae){var Be=ae("Cwc5"),Xe=ae("Kz5y"),Ne=Be(Xe,"Map");ut.exports=Ne},ekgI:function(ut,Ye,ae){var Be=ae("YESw"),Xe=Object.prototype,Ne=Xe.hasOwnProperty;function ge(We){var Fe=this.__data__;return Be?Fe[We]!==void 0:Ne.call(Fe,We)}ut.exports=ge},exNA:function(ut,Ye,ae){"use strict";ae.r(Ye),ae.d(Ye,"initialAlgoData",function(){return Qb}),ae.d(Ye,"initialPointData",function(){return kw});var Be=ae("14J3"),Xe=ae("BMrR"),Ne=ae("jCWc"),ge=ae("kPKH"),We=ae("IzEo"),Fe=ae("bx4M"),lt=ae("cIOH"),pt=ae("oIFs"),de=ae("rePB"),xe=ae("wx14"),ft=ae("U8pU"),N=ae("q1tI"),ve=ae.n(N),Zr=ae("TSYQ"),st=ae.n(Zr),zr=function(d){var y=d.prefixCls,g=d.className,w=d.width,I=d.style;return N.createElement("h3",{className:st()(y,g),style:Object(xe.a)({width:w},I)})},zn=zr,$t=ae("KQm4"),gn=function(d){var y=function(Z){var ee=d.width,te=d.rows,oe=te===void 0?2:te;if(Array.isArray(ee))return ee[Z];if(oe-1===Z)return ee},g=d.prefixCls,w=d.className,I=d.style,B=d.rows,j=Object($t.a)(Array(B)).map(function(W,Z){return N.createElement("li",{key:Z,style:{width:y(Z)}})});return N.createElement("ul",{className:st()(g,w),style:I},j)},Ni=gn,br=ae("H84U"),Tt=function(d){var y,g,w=d.prefixCls,I=d.className,B=d.style,j=d.size,W=d.shape,Z=st()((y={},Object(de.a)(y,"".concat(w,"-lg"),j==="large"),Object(de.a)(y,"".concat(w,"-sm"),j==="small"),y)),ee=st()((g={},Object(de.a)(g,"".concat(w,"-circle"),W==="circle"),Object(de.a)(g,"".concat(w,"-square"),W==="square"),Object(de.a)(g,"".concat(w,"-round"),W==="round"),g)),te=typeof j=="number"?{width:j,height:j,lineHeight:"".concat(j,"px")}:{};return N.createElement("span",{className:st()(w,Z,ee,I),style:Object(xe.a)(Object(xe.a)({},te),B)})},Vr=Tt,Ar=ae("bT9E"),Dt=function(d){var y=function(w){var I=w.getPrefixCls,B=d.prefixCls,j=d.className,W=d.active,Z=I("skeleton",B),ee=Object(Ar.a)(d,["prefixCls"]),te=st()(Z,"".concat(Z,"-element"),Object(de.a)({},"".concat(Z,"-active"),W),j);return N.createElement("div",{className:te},N.createElement(Vr,Object(xe.a)({prefixCls:"".concat(Z,"-avatar")},ee)))};return N.createElement(br.a,null,y)};Dt.defaultProps={size:"default",shape:"circle"};var pr=Dt,Gr=function(d){var y=function(w){var I=w.getPrefixCls,B=d.prefixCls,j=d.className,W=d.active,Z=I("skeleton",B),ee=Object(Ar.a)(d,["prefixCls"]),te=st()(Z,"".concat(Z,"-element"),Object(de.a)({},"".concat(Z,"-active"),W),j);return N.createElement("div",{className:te},N.createElement(Vr,Object(xe.a)({prefixCls:"".concat(Z,"-button")},ee)))};return N.createElement(br.a,null,y)};Gr.defaultProps={size:"default"};var lr=Gr,Pe=function(d){var y=function(w){var I=w.getPrefixCls,B=d.prefixCls,j=d.className,W=d.active,Z=I("skeleton",B),ee=Object(Ar.a)(d,["prefixCls"]),te=st()(Z,"".concat(Z,"-element"),Object(de.a)({},"".concat(Z,"-active"),W),j);return N.createElement("div",{className:te},N.createElement(Vr,Object(xe.a)({prefixCls:"".concat(Z,"-input")},ee)))};return N.createElement(br.a,null,y)};Pe.defaultProps={size:"default"};var ir=Pe,pi="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",Do=function(d){var y=function(w){var I=w.getPrefixCls,B=d.prefixCls,j=d.className,W=d.style,Z=I("skeleton",B),ee=st()(Z,"".concat(Z,"-element"),j);return N.createElement("div",{className:ee},N.createElement("div",{className:st()("".concat(Z,"-image"),j),style:W},N.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(Z,"-image-svg")},N.createElement("path",{d:pi,className:"".concat(Z,"-image-path")}))))};return N.createElement(br.a,null,y)},an=Do;function Ai(c){return c&&Object(ft.a)(c)==="object"?c:{}}function Uo(c,d){return c&&!d?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function Ga(c,d){return!c&&d?{width:"38%"}:c&&d?{width:"50%"}:{}}function Ca(c,d){var y={};return(!c||!d)&&(y.width="61%"),!c&&d?y.rows=3:y.rows=2,y}var os=function(d){var y=function(w){var I=w.getPrefixCls,B=w.direction,j=d.prefixCls,W=d.loading,Z=d.className,ee=d.children,te=d.avatar,oe=d.title,ce=d.paragraph,se=d.active,Ce=d.round,ye=I("skeleton",j);if(W||!("loading"in d)){var Se,_e=!!te,Ie=!!oe,Ge=!!ce,je;if(_e){var ke=Object(xe.a)(Object(xe.a)({prefixCls:"".concat(ye,"-avatar")},Uo(Ie,Ge)),Ai(te));je=N.createElement("div",{className:"".concat(ye,"-header")},N.createElement(Vr,ke))}var Ze;if(Ie||Ge){var He;if(Ie){var qe=Object(xe.a)(Object(xe.a)({prefixCls:"".concat(ye,"-title")},Ga(_e,Ge)),Ai(oe));He=N.createElement(zn,qe)}var et;if(Ge){var nt=Object(xe.a)(Object(xe.a)({prefixCls:"".concat(ye,"-paragraph")},Ca(_e,Ie)),Ai(ce));et=N.createElement(Ni,nt)}Ze=N.createElement("div",{className:"".concat(ye,"-content")},He,et)}var At=st()(ye,(Se={},Object(de.a)(Se,"".concat(ye,"-with-avatar"),_e),Object(de.a)(Se,"".concat(ye,"-active"),se),Object(de.a)(Se,"".concat(ye,"-rtl"),B==="rtl"),Object(de.a)(Se,"".concat(ye,"-round"),Ce),Se),Z);return N.createElement("div",{className:At},je,Ze)}return ee};return N.createElement(br.a,null,y)};os.defaultProps={avatar:!1,title:!0,paragraph:!0},os.Button=lr,os.Avatar=pr,os.Input=ir,os.Image=an;var _a=os,Qa=_a,Sn=ae("tJVT"),ih=ae("8txm"),As=ae("Kvyg"),ur=ae("VTBJ"),ua=ae("Ff2n"),vn=ae("1OyB"),No=ae("vuIU"),ti=ae("Ji7U"),Xa=ae("LK+K"),yu=ae("Zm9Q");function Wh(c){return typeof c=="string"}var El=function(c){Object(ti.a)(y,c);var d=Object(Xa.a)(y);function y(){var g;return Object(vn.a)(this,y),g=d.apply(this,arguments),g.onClick=function(){var w=g.props,I=w.onClick,B=w.onStepClick,j=w.stepIndex;I&&I.apply(void 0,arguments),B(j)},g}return Object(No.a)(y,[{key:"renderIconNode",value:function(){var w,I=this.props,B=I.prefixCls,j=I.progressDot,W=I.stepIcon,Z=I.stepNumber,ee=I.status,te=I.title,oe=I.description,ce=I.icon,se=I.iconPrefix,Ce=I.icons,ye,Se=st()("".concat(B,"-icon"),"".concat(se,"icon"),(w={},Object(de.a)(w,"".concat(se,"icon-").concat(ce),ce&&Wh(ce)),Object(de.a)(w,"".concat(se,"icon-check"),!ce&&ee==="finish"&&(Ce&&!Ce.finish||!Ce)),Object(de.a)(w,"".concat(se,"icon-cross"),!ce&&ee==="error"&&(Ce&&!Ce.error||!Ce)),w)),_e=ve.a.createElement("span",{className:"".concat(B,"-icon-dot")});return j?typeof j=="function"?ye=ve.a.createElement("span",{className:"".concat(B,"-icon")},j(_e,{index:Z-1,status:ee,title:te,description:oe})):ye=ve.a.createElement("span",{className:"".concat(B,"-icon")},_e):ce&&!Wh(ce)?ye=ve.a.createElement("span",{className:"".concat(B,"-icon")},ce):Ce&&Ce.finish&&ee==="finish"?ye=ve.a.createElement("span",{className:"".concat(B,"-icon")},Ce.finish):Ce&&Ce.error&&ee==="error"?ye=ve.a.createElement("span",{className:"".concat(B,"-icon")},Ce.error):ce||ee==="finish"||ee==="error"?ye=ve.a.createElement("span",{className:Se}):ye=ve.a.createElement("span",{className:"".concat(B,"-icon")},Z),W&&(ye=W({index:Z-1,status:ee,title:te,description:oe,node:ye})),ye}},{key:"render",value:function(){var w,I=this.props,B=I.className,j=I.prefixCls,W=I.style,Z=I.active,ee=I.status,te=ee===void 0?"wait":ee,oe=I.iconPrefix,ce=I.icon,se=I.wrapperStyle,Ce=I.stepNumber,ye=I.disabled,Se=I.description,_e=I.title,Ie=I.subTitle,Ge=I.progressDot,je=I.stepIcon,ke=I.tailContent,Ze=I.icons,He=I.stepIndex,qe=I.onStepClick,et=I.onClick,nt=Object(ua.a)(I,["className","prefixCls","style","active","status","iconPrefix","icon","wrapperStyle","stepNumber","disabled","description","title","subTitle","progressDot","stepIcon","tailContent","icons","stepIndex","onStepClick","onClick"]),At=st()("".concat(j,"-item"),"".concat(j,"-item-").concat(te),B,(w={},Object(de.a)(w,"".concat(j,"-item-custom"),ce),Object(de.a)(w,"".concat(j,"-item-active"),Z),Object(de.a)(w,"".concat(j,"-item-disabled"),ye===!0),w)),ot=Object(ur.a)({},W),gt={};return qe&&!ye&&(gt.role="button",gt.tabIndex=0,gt.onClick=this.onClick),ve.a.createElement("div",Object.assign({},nt,{className:At,style:ot}),ve.a.createElement("div",Object.assign({onClick:et},gt,{className:"".concat(j,"-item-container")}),ve.a.createElement("div",{className:"".concat(j,"-item-tail")},ke),ve.a.createElement("div",{className:"".concat(j,"-item-icon")},this.renderIconNode()),ve.a.createElement("div",{className:"".concat(j,"-item-content")},ve.a.createElement("div",{className:"".concat(j,"-item-title")},_e,Ie&&ve.a.createElement("div",{title:typeof Ie=="string"?Ie:void 0,className:"".concat(j,"-item-subtitle")},Ie)),Se&&ve.a.createElement("div",{className:"".concat(j,"-item-description")},Se))))}}]),y}(ve.a.Component),el=function(c){Object(ti.a)(y,c);var d=Object(Xa.a)(y);function y(){var g;return Object(vn.a)(this,y),g=d.apply(this,arguments),g.onStepClick=function(w){var I=g.props,B=I.onChange,j=I.current;B&&j!==w&&B(w)},g}return Object(No.a)(y,[{key:"render",value:function(){var w,I=this,B=this.props,j=B.prefixCls,W=B.style,Z=W===void 0?{}:W,ee=B.className,te=B.children,oe=B.direction,ce=B.type,se=B.labelPlacement,Ce=B.iconPrefix,ye=B.status,Se=B.size,_e=B.current,Ie=B.progressDot,Ge=B.stepIcon,je=B.initial,ke=B.icons,Ze=B.onChange,He=Object(ua.a)(B,["prefixCls","style","className","children","direction","type","labelPlacement","iconPrefix","status","size","current","progressDot","stepIcon","initial","icons","onChange"]),qe=ce==="navigation",et=Ie?"vertical":se,nt=st()(j,"".concat(j,"-").concat(oe),ee,(w={},Object(de.a)(w,"".concat(j,"-").concat(Se),Se),Object(de.a)(w,"".concat(j,"-label-").concat(et),oe==="horizontal"),Object(de.a)(w,"".concat(j,"-dot"),!!Ie),Object(de.a)(w,"".concat(j,"-navigation"),qe),w));return ve.a.createElement("div",Object.assign({className:nt,style:Z},He),Object(yu.a)(te).map(function(At,ot){var gt=je+ot,wt=Object(ur.a)({stepNumber:"".concat(gt+1),stepIndex:gt,key:gt,prefixCls:j,iconPrefix:Ce,wrapperStyle:Z,progressDot:Ie,stepIcon:Ge,icons:ke,onStepClick:Ze&&I.onStepClick},At.props);return ye==="error"&&ot===_e-1&&(wt.className="".concat(j,"-next-error")),At.props.status||(gt===_e?wt.status=ye:gt<_e?wt.status="finish":wt.status="wait"),wt.active=gt===_e,Object(N.cloneElement)(At,wt)}))}}]),y}(ve.a.Component);el.Step=El,el.defaultProps={type:"default",prefixCls:"rc-steps",iconPrefix:"rc",direction:"horizontal",labelPlacement:"horizontal",initial:0,current:0,status:"process",size:"",progressDot:!1};var Ma=el,ws=ae("bRQS"),_n=ae("4i/N"),xu=ae("JX7q"),oh=ae("jO45"),bs=ae("jN4g"),Yn=ae("CWQg"),so=ae("uaoM"),Vf=ae("AJpP");function dl(c){return!c||c<0?0:c>100?100:c}function Gi(c){var d=c.success,y=c.successPercent,g=y;return d&&"progress"in d&&(Object(so.a)(!1,"Progress","`success.progress` is deprecated. Please use `success.percent` instead."),g=d.progress),d&&"percent"in d&&(g=d.percent),g}var Cc=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y},Ba=function(d){var y=[];return Object.keys(d).forEach(function(g){var w=parseFloat(g.replace(/%/g,""));isNaN(w)||y.push({key:w,value:d[g]})}),y=y.sort(function(g,w){return g.key-w.key}),y.map(function(g){var w=g.key,I=g.value;return"".concat(I," ").concat(w,"%")}).join(", ")},Wa=function(d,y){var g=d.from,w=g===void 0?Vf.presetPrimaryColors.blue:g,I=d.to,B=I===void 0?Vf.presetPrimaryColors.blue:I,j=d.direction,W=j===void 0?y==="rtl"?"to left":"to right":j,Z=Cc(d,["from","to","direction"]);if(Object.keys(Z).length!==0){var ee=Ba(Z);return{backgroundImage:"linear-gradient(".concat(W,", ").concat(ee,")")}}return{backgroundImage:"linear-gradient(".concat(W,", ").concat(w,", ").concat(B,")")}},Ku=function(d){var y=d.prefixCls,g=d.direction,w=d.percent,I=d.strokeWidth,B=d.size,j=d.strokeColor,W=d.strokeLinecap,Z=d.children,ee=d.trailColor,te=d.success,oe=j&&typeof j!="string"?Wa(j,g):{background:j},ce=ee?{backgroundColor:ee}:void 0,se=Object(xe.a)({width:"".concat(dl(w),"%"),height:I||(B==="small"?6:8),borderRadius:W==="square"?0:""},oe),Ce=Gi(d),ye={width:"".concat(dl(Ce),"%"),height:I||(B==="small"?6:8),borderRadius:W==="square"?0:"",backgroundColor:te==null?void 0:te.strokeColor},Se=Ce!==void 0?N.createElement("div",{className:"".concat(y,"-success-bg"),style:ye}):null;return N.createElement(N.Fragment,null,N.createElement("div",{className:"".concat(y,"-outer")},N.createElement("div",{className:"".concat(y,"-inner"),style:ce},N.createElement("div",{className:"".concat(y,"-bg"),style:se}),Se)),Z)},Rs=Ku,ar=ae("ODXe"),Ac={className:"",percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,style:{},trailColor:"#D9D9D9",trailWidth:1},ah=function(d){var y=d.map(function(){return Object(N.useRef)()}),g=Object(N.useRef)(null);return Object(N.useEffect)(function(){var w=Date.now(),I=!1;Object.keys(y).forEach(function(B){var j=y[B].current;if(!!j){I=!0;var W=j.style;W.transitionDuration=".3s, .3s, .3s, .06s",g.current&&w-g.current<100&&(W.transitionDuration="0s, 0s")}}),I&&(g.current=Date.now())}),[y]},pl=function(d){var y=d.className,g=d.percent,w=d.prefixCls,I=d.strokeColor,B=d.strokeLinecap,j=d.strokeWidth,W=d.style,Z=d.trailColor,ee=d.trailWidth,te=d.transition,oe=Object(ua.a)(d,["className","percent","prefixCls","strokeColor","strokeLinecap","strokeWidth","style","trailColor","trailWidth","transition"]);delete oe.gapPosition;var ce=Array.isArray(g)?g:[g],se=Array.isArray(I)?I:[I],Ce=ah(ce),ye=Object(ar.a)(Ce,1),Se=ye[0],_e=j/2,Ie=100-j/2,Ge="M ".concat(B==="round"?_e:0,",").concat(_e,`
         L `).concat(B==="round"?Ie:100,",").concat(_e),je="0 0 100 ".concat(j),ke=0;return N.createElement("svg",Object(xe.a)({className:st()("".concat(w,"-line"),y),viewBox:je,preserveAspectRatio:"none",style:W},oe),N.createElement("path",{className:"".concat(w,"-line-trail"),d:Ge,strokeLinecap:B,stroke:Z,strokeWidth:ee||j,fillOpacity:"0"}),ce.map(function(Ze,He){var qe=1;switch(B){case"round":qe=1-j/100;break;case"square":qe=1-j/2/100;break;default:qe=1;break}var et={strokeDasharray:"".concat(Ze*qe,"px, 100px"),strokeDashoffset:"-".concat(ke,"px"),transition:te||"stroke-dashoffset 0.3s ease 0s, stroke-dasharray .3s ease 0s, stroke 0.3s linear"},nt=se[He]||se[se.length-1];return ke+=Ze,N.createElement("path",{key:He,className:"".concat(w,"-line-path"),d:Ge,strokeLinecap:B,stroke:nt,strokeWidth:j,fillOpacity:"0",ref:Se[He],style:et})}))};pl.defaultProps=Ac,pl.displayName="Line";var Wr=pl,sg=0;function kp(c){return+c.replace("%","")}function wc(c){return Array.isArray(c)?c:[c]}function kv(c,d,y,g){var w=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,I=arguments.length>5?arguments[5]:void 0,B=50-g/2,j=0,W=-B,Z=0,ee=-2*B;switch(I){case"left":j=-B,W=0,Z=2*B,ee=0;break;case"right":j=B,W=0,Z=-2*B,ee=0;break;case"bottom":W=B,ee=2*B;break;default:}var te="M 50,50 m ".concat(j,",").concat(W,`
   a `).concat(B,",").concat(B," 0 1 1 ").concat(Z,",").concat(-ee,`
   a `).concat(B,",").concat(B," 0 1 1 ").concat(-Z,",").concat(ee),oe=Math.PI*2*B,ce={stroke:y,strokeDasharray:"".concat(d/100*(oe-w),"px ").concat(oe,"px"),strokeDashoffset:"-".concat(w/2+c/100*(oe-w),"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s"};return{pathString:te,pathStyle:ce}}var Hv=function(d){var y=d.prefixCls,g=d.strokeWidth,w=d.trailWidth,I=d.gapDegree,B=d.gapPosition,j=d.trailColor,W=d.strokeLinecap,Z=d.style,ee=d.className,te=d.strokeColor,oe=d.percent,ce=Object(ua.a)(d,["prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"]),se=N.useMemo(function(){return sg+=1,sg},[]),Ce=kv(0,100,j,g,I,B),ye=Ce.pathString,Se=Ce.pathStyle,_e=wc(oe),Ie=wc(te),Ge=Ie.find(function(qe){return Object.prototype.toString.call(qe)==="[object Object]"}),je=ah(_e),ke=Object(ar.a)(je,1),Ze=ke[0],He=function(){var et=0;return _e.map(function(nt,At){var ot=Ie[At]||Ie[Ie.length-1],gt=Object.prototype.toString.call(ot)==="[object Object]"?"url(#".concat(y,"-gradient-").concat(se,")"):"",wt=kv(et,nt,ot,g,I,B);return et+=nt,N.createElement("path",{key:At,className:"".concat(y,"-circle-path"),d:wt.pathString,stroke:gt,strokeLinecap:W,strokeWidth:g,opacity:nt===0?0:1,fillOpacity:"0",style:wt.pathStyle,ref:Ze[At]})})};return N.createElement("svg",Object(xe.a)({className:st()("".concat(y,"-circle"),ee),viewBox:"0 0 100 100",style:Z},ce),Ge&&N.createElement("defs",null,N.createElement("linearGradient",{id:"".concat(y,"-gradient-").concat(se),x1:"100%",y1:"0%",x2:"0%",y2:"0%"},Object.keys(Ge).sort(function(qe,et){return kp(qe)-kp(et)}).map(function(qe,et){return N.createElement("stop",{key:et,offset:qe,stopColor:Ge[qe]})}))),N.createElement("path",{className:"".concat(y,"-circle-trail"),d:ye,stroke:j,strokeLinecap:W,strokeWidth:w||g,fillOpacity:"0",style:Se}),He().reverse())};Hv.defaultProps=Ac,Hv.displayName="Circle";var lg=Hv,Yh={Line:Wr,Circle:lg};function q1(c){var d=c.percent,y=c.success,g=c.successPercent,w=dl(d),I=Gi({success:y,successPercent:g});return I?[dl(I),dl(w-dl(I))]:w}function JC(c){var d=c.success,y=c.strokeColor,g=c.successPercent,w=y||null,I=Gi({success:d,successPercent:g});return I?[Vf.presetPrimaryColors.green,w]:w}var zd=function(d){var y=d.prefixCls,g=d.width,w=d.strokeWidth,I=d.trailColor,B=d.strokeLinecap,j=d.gapPosition,W=d.gapDegree,Z=d.type,ee=d.children,te=g||120,oe={width:te,height:te,fontSize:te*.15+6},ce=w||6,se=j||Z==="dashboard"&&"bottom"||"top",Ce=function(){if(W||W===0)return W;if(Z==="dashboard")return 75},ye=JC(d),Se=Object.prototype.toString.call(ye)==="[object Object]",_e=st()("".concat(y,"-inner"),Object(de.a)({},"".concat(y,"-circle-gradient"),Se));return N.createElement("div",{className:_e,style:oe},N.createElement(lg,{percent:q1(d),strokeWidth:ce,trailWidth:ce,strokeColor:ye,strokeLinecap:B,trailColor:I,prefixCls:y,gapDegree:Ce(),gapPosition:se}),ee)},Oy=zd,Q1=function(d){for(var y=d.size,g=d.steps,w=d.percent,I=w===void 0?0:w,B=d.strokeWidth,j=B===void 0?8:B,W=d.strokeColor,Z=d.trailColor,ee=d.prefixCls,te=d.children,oe=Math.round(g*(I/100)),ce=y==="small"?2:14,se=[],Ce=0;Ce<g;Ce+=1)se.push(N.createElement("div",{key:Ce,className:st()("".concat(ee,"-steps-item"),Object(de.a)({},"".concat(ee,"-steps-item-active"),Ce<=oe-1)),style:{backgroundColor:Ce<=oe-1?W:Z,width:ce,height:j}}));return N.createElement("div",{className:"".concat(ee,"-steps-outer")},se,te)},$1=Q1,tl=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y},ds=Object(Yn.a)("line","circle","dashboard"),Gf=Object(Yn.a)("normal","exception","active","success"),bc=function(c){Object(ti.a)(y,c);var d=Object(Xa.a)(y);function y(){var g;return Object(vn.a)(this,y),g=d.apply(this,arguments),g.renderProgress=function(w){var I,B=w.getPrefixCls,j=w.direction,W=Object(xu.a)(g),Z=W.props,ee=Z.prefixCls,te=Z.className,oe=Z.size,ce=Z.type,se=Z.steps,Ce=Z.showInfo,ye=Z.strokeColor,Se=tl(Z,["prefixCls","className","size","type","steps","showInfo","strokeColor"]),_e=B("progress",ee),Ie=g.getProgressStatus(),Ge=g.renderProcessInfo(_e,Ie);Object(so.a)(!("successPercent"in Z),"Progress","`successPercent` is deprecated. Please use `success.percent` instead.");var je;ce==="line"?je=se?N.createElement($1,Object(xe.a)({},g.props,{strokeColor:typeof ye=="string"?ye:void 0,prefixCls:_e,steps:se}),Ge):N.createElement(Rs,Object(xe.a)({},g.props,{prefixCls:_e,direction:j}),Ge):(ce==="circle"||ce==="dashboard")&&(je=N.createElement(Oy,Object(xe.a)({},g.props,{prefixCls:_e,progressStatus:Ie}),Ge));var ke=st()(_e,(I={},Object(de.a)(I,"".concat(_e,"-").concat(ce==="dashboard"&&"circle"||se&&"steps"||ce),!0),Object(de.a)(I,"".concat(_e,"-status-").concat(Ie),!0),Object(de.a)(I,"".concat(_e,"-show-info"),Ce),Object(de.a)(I,"".concat(_e,"-").concat(oe),oe),Object(de.a)(I,"".concat(_e,"-rtl"),j==="rtl"),I),te);return N.createElement("div",Object(xe.a)({},Object(Ar.a)(Se,["status","format","trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","percent","success","successPercent"]),{className:ke}),je)},g}return Object(No.a)(y,[{key:"getPercentNumber",value:function(){var w=this.props.percent,I=w===void 0?0:w,B=Gi(this.props);return parseInt(B!==void 0?B.toString():I.toString(),10)}},{key:"getProgressStatus",value:function(){var w=this.props.status;return Gf.indexOf(w)<0&&this.getPercentNumber()>=100?"success":w||"normal"}},{key:"renderProcessInfo",value:function(w,I){var B=this.props,j=B.showInfo,W=B.format,Z=B.type,ee=B.percent,te=Gi(this.props);if(!j)return null;var oe,ce=W||function(Ce){return"".concat(Ce,"%")},se=Z==="line";return W||I!=="exception"&&I!=="success"?oe=ce(dl(ee),dl(te)):I==="exception"?oe=se?N.createElement(bs.a,null):N.createElement(_n.a,null):I==="success"&&(oe=se?N.createElement(oh.a,null):N.createElement(ws.a,null)),N.createElement("span",{className:"".concat(w,"-text"),title:typeof oe=="string"?oe:void 0},oe)}},{key:"render",value:function(){return N.createElement(br.a,null,this.renderProgress)}}]),y}(N.Component);bc.defaultProps={type:"line",percent:0,showInfo:!0,trailColor:null,size:"default",gapDegree:void 0,strokeLinecap:"round"};var Wf=bc,Gl=ae("5OYt"),Tl=function(d){var y,g=d.percent,w=d.size,I=d.className,B=d.direction,j=d.responsive,W=Object(Gl.a)(),Z=W.xs,ee=N.useContext(br.b),te=ee.getPrefixCls,oe=ee.direction,ce=N.useCallback(function(){return j&&Z?"vertical":B},[Z,B]),se=te("steps",d.prefixCls),Ce=te("",d.iconPrefix),ye=st()((y={},Object(de.a)(y,"".concat(se,"-rtl"),oe==="rtl"),Object(de.a)(y,"".concat(se,"-with-progress"),g!==void 0),y),I),Se={finish:N.createElement(ws.a,{className:"".concat(se,"-finish-icon")}),error:N.createElement(_n.a,{className:"".concat(se,"-error-icon")})},_e=function(Ge){var je=Ge.node,ke=Ge.status;if(ke==="process"&&g!==void 0){var Ze=w==="small"?32:40,He=N.createElement("div",{className:"".concat(se,"-progress-icon")},N.createElement(Wf,{type:"circle",percent:g,width:Ze,strokeWidth:4,format:function(){return null}}),je);return He}return je};return N.createElement(Ma,Object(xe.a)({icons:Se},Object(Ar.a)(d,["percent"]),{direction:ce(),stepIcon:_e,prefixCls:se,iconPrefix:Ce,className:ye}))};Tl.Step=Ma.Step,Tl.defaultProps={current:0};var Hp=Tl,ex=ae("Hx5s"),qC=ae("+L6B"),Cu=ae("2/Rp"),QC=ae("bE4E"),Au=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y},tx=function(d){return N.createElement(br.a,null,function(y){var g,w=y.getPrefixCls,I=y.direction,B=d.prefixCls,j=d.type,W=j===void 0?"horizontal":j,Z=d.orientation,ee=Z===void 0?"center":Z,te=d.className,oe=d.children,ce=d.dashed,se=d.plain,Ce=Au(d,["prefixCls","type","orientation","className","children","dashed","plain"]),ye=w("divider",B),Se=ee.length>0?"-".concat(ee):ee,_e=!!oe,Ie=st()(ye,"".concat(ye,"-").concat(W),(g={},Object(de.a)(g,"".concat(ye,"-with-text"),_e),Object(de.a)(g,"".concat(ye,"-with-text").concat(Se),_e),Object(de.a)(g,"".concat(ye,"-dashed"),!!ce),Object(de.a)(g,"".concat(ye,"-plain"),!!se),Object(de.a)(g,"".concat(ye,"-rtl"),I==="rtl"),g),te);return N.createElement("div",Object(xe.a)({className:Ie},Ce,{role:"separator"}),oe&&N.createElement("span",{className:"".concat(ye,"-inner-text")},oe))})},ug=tx,Xh=ae("QbM5"),Cn=ae("4IlW");function wu(){}function Ry(c){c.preventDefault()}var jd=function(d){return d.replace(/[^\w.-]+/g,"")},rx=200,Vp=600,nx=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,cg=function(d){return d!=null},Ly=function(d,y){return y===d||typeof y=="number"&&typeof d=="number"&&isNaN(y)&&isNaN(d)},Dy=function(c){Object(ti.a)(y,c);var d=Object(Xa.a)(y);function y(g){var w;Object(vn.a)(this,y),w=d.call(this,g),w.onKeyDown=function(j){var W=w.props,Z=W.onKeyDown,ee=W.onPressEnter,te=W.keyboard,oe=[Cn.a.UP,Cn.a.DOWN];if(te!==!1&&oe.includes(j.keyCode))switch(j.keyCode){case Cn.a.UP:{var ce=w.getRatio(j);w.up(j,ce,null),w.stop();break}case Cn.a.DOWN:{var se=w.getRatio(j);w.down(j,se,null),w.stop();break}}j.keyCode===Cn.a.ENTER&&(ee==null||ee(j)),w.recordCursorPosition(),w.lastKeyCode=j.keyCode,Z==null||Z(j)},w.onKeyUp=function(j){var W=w.props.onKeyUp;if(w.stop(),w.recordCursorPosition(),W){for(var Z=arguments.length,ee=new Array(Z>1?Z-1:0),te=1;te<Z;te++)ee[te-1]=arguments[te];W.apply(void 0,[j].concat(ee))}},w.onChange=function(j){var W=w.props.onChange;w.state.focused&&(w.inputting=!0),w.rawInput=w.props.parser(w.getValueFromEvent(j)),w.setState({inputValue:w.rawInput}),W(w.toNumber(w.rawInput))},w.onMouseUp=function(){var j=w.props.onMouseUp;w.recordCursorPosition(),j&&j.apply(void 0,arguments)},w.onFocus=function(){var j;w.setState({focused:!0}),(j=w.props).onFocus.apply(j,arguments)},w.onBlur=function(){var j=w.props.onBlur;w.inputting=!1,w.setState({focused:!1});var W=w.getCurrentValidValue(w.state.inputValue),Z=w.setValue(W,wu);if(j){var ee=w.input.value,te=w.getInputDisplayValue({focus:!1,value:Z});w.input.value=te,j.apply(void 0,arguments),w.input.value=ee}},w.getRatio=function(j){var W=1;return j.metaKey||j.ctrlKey?W=.1:j.shiftKey&&(W=10),W},w.getFullNum=function(j){return isNaN(j)||!/e/i.test(String(j))?j:Number(j).toFixed(18).replace(/\.?0+$/,"")},w.getPrecision=function(j){if(cg(w.props.precision))return w.props.precision;var W=String(j);if(W.indexOf("e-")>=0)return parseInt(W.slice(W.indexOf("e-")+2),10);var Z=0;return W.indexOf(".")>=0&&(Z=W.length-W.indexOf(".")-1),Z},w.getInputDisplayValue=function(j){var W=j||w.state,Z=W.focused,ee=W.inputValue,te=W.value,oe;Z?oe=ee:oe=w.toPrecisionAsStep(te),oe==null&&(oe="");var ce=w.formatWrapper(oe);return cg(w.props.decimalSeparator)&&(ce=ce.toString().replace(".",w.props.decimalSeparator)),ce},w.recordCursorPosition=function(){try{w.cursorStart=w.input.selectionStart,w.cursorEnd=w.input.selectionEnd,w.currentValue=w.input.value,w.cursorBefore=w.input.value.substring(0,w.cursorStart),w.cursorAfter=w.input.value.substring(w.cursorEnd)}catch(j){}},w.restoreByAfter=function(j){if(j===void 0)return!1;var W=w.input.value,Z=W.lastIndexOf(j);if(Z===-1)return!1;var ee=w.cursorBefore.length;return w.lastKeyCode===Cn.a.DELETE&&w.cursorBefore.charAt(ee-1)===j[0]?(w.fixCaret(ee,ee),!0):Z+j.length===W.length?(w.fixCaret(Z,Z),!0):!1},w.partRestoreByAfter=function(j){return j===void 0?!1:Array.prototype.some.call(j,function(W,Z){var ee=j.substring(Z);return w.restoreByAfter(ee)})},w.isNotCompleteNumber=function(j){return isNaN(j)||j===""||j===null||j&&j.toString().indexOf(".")===j.toString().length-1},w.stop=function(){w.autoStepTimer&&clearTimeout(w.autoStepTimer)},w.down=function(j,W,Z){w.pressingUpOrDown=!0,w.step("down",j,W,Z)},w.up=function(j,W,Z){w.pressingUpOrDown=!0,w.step("up",j,W,Z)},w.saveInput=function(j){w.input=j};var I=g.value;I===void 0&&(I=g.defaultValue),w.state={focused:g.autoFocus};var B=w.getValidValue(w.toNumber(I));return w.state=Object(ur.a)(Object(ur.a)({},w.state),{},{inputValue:w.toPrecisionAsStep(B),value:B}),w}return Object(No.a)(y,[{key:"componentDidMount",value:function(){this.componentDidUpdate(null)}},{key:"componentDidUpdate",value:function(w){var I=this.props,B=I.value,j=I.onChange,W=I.max,Z=I.min,ee=this.state.focused;if(w){if(!Ly(w.value,B)||!Ly(w.max,W)||!Ly(w.min,Z)){var te=ee?B:this.getValidValue(B),oe;this.pressingUpOrDown?oe=te:this.inputting?oe=this.rawInput:oe=this.toPrecisionAsStep(te),this.setState({value:te,inputValue:oe})}var ce="value"in this.props?B:this.state.value;"max"in this.props&&w.max!==W&&typeof ce=="number"&&ce>W&&j&&j(W),"min"in this.props&&w.min!==Z&&typeof ce=="number"&&ce<Z&&j&&j(Z)}try{if(this.cursorStart!==void 0&&this.state.focused){if(!this.partRestoreByAfter(this.cursorAfter)&&this.state.value!==this.props.value){var se=this.getInputDisplayValue(this.state).length;this.cursorAfter?this.lastKeyCode===Cn.a.BACKSPACE?se=this.cursorStart-1:this.lastKeyCode===Cn.a.DELETE&&(se=this.cursorStart):se=this.input.value.length,this.fixCaret(se,se)}else if(this.currentValue===this.input.value)switch(this.lastKeyCode){case Cn.a.BACKSPACE:this.fixCaret(this.cursorStart-1,this.cursorStart-1);break;case Cn.a.DELETE:this.fixCaret(this.cursorStart+1,this.cursorStart+1);break;default:}}}catch(Ce){}this.lastKeyCode=null,!!this.pressingUpOrDown&&this.props.focusOnUpDown&&this.state.focused&&document.activeElement!==this.input&&this.focus()}},{key:"componentWillUnmount",value:function(){this.stop()}},{key:"getCurrentValidValue",value:function(w){var I=w;return I===""?I="":this.isNotCompleteNumber(parseFloat(I))?I=this.state.value:I=this.getValidValue(I),this.toNumber(I)}},{key:"getValueFromEvent",value:function(w){var I=w.target.value.trim().replace(/。/g,".");return cg(this.props.decimalSeparator)&&(I=I.replace(this.props.decimalSeparator,".")),I}},{key:"getValidValue",value:function(w){var I=this.props,B=I.min,j=I.max,W=parseFloat(w);return isNaN(W)?w:(W<B&&(W=B),W>j&&(W=j),W)}},{key:"setValue",value:function(w,I){var B=this.props.precision,j=this.isNotCompleteNumber(parseFloat(w))?null:parseFloat(w),W=this.state.value,Z=W===void 0?null:W,ee=this.state.inputValue,te=ee===void 0?null:ee,oe=typeof j=="number"?j.toFixed(B):"".concat(j),ce=j!==Z||oe!=="".concat(te);return"value"in this.props?(te=this.toPrecisionAsStep(this.state.value),this.setState({inputValue:te},I)):this.setState({value:j,inputValue:this.toPrecisionAsStep(w)},I),ce&&this.props.onChange(j),j}},{key:"getMaxPrecision",value:function(w){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,B=this.props,j=B.precision,W=B.step;if(cg(j))return j;var Z=this.getPrecision(I),ee=this.getPrecision(W),te=this.getPrecision(w);return w?Math.max(te,Z+ee):Z+ee}},{key:"getPrecisionFactor",value:function(w){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,B=this.getMaxPrecision(w,I);return Math.pow(10,B)}},{key:"focus",value:function(){this.input.focus(),this.recordCursorPosition()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"formatWrapper",value:function(w){return this.props.formatter?this.props.formatter(w):w}},{key:"toPrecisionAsStep",value:function(w){if(this.isNotCompleteNumber(w)||w==="")return w;var I=Math.abs(this.getMaxPrecision(w));return isNaN(I)?w.toString():Number(w).toFixed(I)}},{key:"toNumber",value:function(w){var I=this.props.precision,B=this.state.focused,j=w&&w.length>16&&B;return this.isNotCompleteNumber(w)||j?w:cg(I)?Math.round(w*Math.pow(10,I))/Math.pow(10,I):Number(w)}},{key:"upStep",value:function(w,I){var B=this.props.step,j=this.getPrecisionFactor(w,I),W=Math.abs(this.getMaxPrecision(w,I)),Z=((j*w+j*Number(B)*I)/j).toFixed(W);return this.toNumber(Z)}},{key:"downStep",value:function(w,I){var B=this.props.step,j=this.getPrecisionFactor(w,I),W=Math.abs(this.getMaxPrecision(w,I)),Z=((j*w-j*Number(B)*I)/j).toFixed(W);return this.toNumber(Z)}},{key:"step",value:function(w,I){var B=this,j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,W=arguments.length>3?arguments[3]:void 0;this.stop(),this.recordCursorPosition(),I&&(I.persist(),I.preventDefault());var Z=this.props;if(!Z.disabled){var ee=this.getCurrentValidValue(this.state.inputValue)||0;if(!this.isNotCompleteNumber(ee)){var te=this["".concat(w,"Step")](ee,j),oe=te>Z.max||te<Z.min;te>Z.max?te=Z.max:te<Z.min&&(te=Z.min),this.setValue(te,null),Z.onStep&&Z.onStep(te,{offset:j,type:w}),this.setState({focused:!0},function(){B.pressingUpOrDown=!1}),!oe&&(this.autoStepTimer=setTimeout(function(){B[w](I,j,!0)},W?rx:Vp))}}}},{key:"fixCaret",value:function(w,I){if(!(w===void 0||I===void 0||!this.input||!this.input.value))try{var B=this.input.selectionStart,j=this.input.selectionEnd;(w!==B||I!==j)&&this.input.setSelectionRange(w,I)}catch(W){}}},{key:"render",value:function(){var w,I=this.props,B=I.prefixCls,j=I.disabled,W=I.readOnly,Z=I.useTouch,ee=I.autoComplete,te=I.upHandler,oe=I.downHandler,ce=I.className,se=I.max,Ce=I.min,ye=I.style,Se=I.title,_e=I.onMouseEnter,Ie=I.onMouseLeave,Ge=I.onMouseOver,je=I.onMouseOut,ke=I.required,Ze=I.onClick,He=I.tabIndex,qe=I.type,et=I.placeholder,nt=I.id,At=I.inputMode,ot=I.pattern,gt=I.step,wt=I.maxLength,St=I.autoFocus,bt=I.name,Rt=I.onPaste,Xt=I.onInput,Gt=Object(ua.a)(I,["prefixCls","disabled","readOnly","useTouch","autoComplete","upHandler","downHandler","className","max","min","style","title","onMouseEnter","onMouseLeave","onMouseOver","onMouseOut","required","onClick","tabIndex","type","placeholder","id","inputMode","pattern","step","maxLength","autoFocus","name","onPaste","onInput"]),tr=this.state,Jt=tr.value,sr=tr.focused,nr=st()(B,(w={},Object(de.a)(w,ce,!!ce),Object(de.a)(w,"".concat(B,"-disabled"),j),Object(de.a)(w,"".concat(B,"-focused"),sr),w)),Or={};Object.keys(Gt).forEach(function(Dr){(Dr.substr(0,5)==="data-"||Dr.substr(0,5)==="aria-"||Dr==="role")&&(Or[Dr]=Gt[Dr])});var dr=!W&&!j,Mr=this.getInputDisplayValue(null),on=(Jt||Jt===0)&&(isNaN(Jt)||Number(Jt)>=se),Fr=(Jt||Jt===0)&&(isNaN(Jt)||Number(Jt)<=Ce),wn=on||j||W,Ir=Fr||j||W,hn=st()("".concat(B,"-handler"),"".concat(B,"-handler-up"),Object(de.a)({},"".concat(B,"-handler-up-disabled"),wn)),Fn=st()("".concat(B,"-handler"),"".concat(B,"-handler-down"),Object(de.a)({},"".concat(B,"-handler-down-disabled"),Ir)),xn=Z?{onTouchStart:wn?wu:this.up,onTouchEnd:this.stop}:{onMouseDown:wn?wu:this.up,onMouseUp:this.stop,onMouseLeave:this.stop},rn=Z?{onTouchStart:Ir?wu:this.down,onTouchEnd:this.stop}:{onMouseDown:Ir?wu:this.down,onMouseUp:this.stop,onMouseLeave:this.stop};return ve.a.createElement("div",{className:nr,style:ye,title:Se,onMouseEnter:_e,onMouseLeave:Ie,onMouseOver:Ge,onMouseOut:je,onFocus:function(){return null},onBlur:function(){return null}},ve.a.createElement("div",{className:"".concat(B,"-handler-wrap")},ve.a.createElement("span",Object(xe.a)({unselectable:"on"},xn,{role:"button","aria-label":"Increase Value","aria-disabled":wn,className:hn}),te||ve.a.createElement("span",{unselectable:"on",className:"".concat(B,"-handler-up-inner"),onClick:Ry})),ve.a.createElement("span",Object(xe.a)({unselectable:"on"},rn,{role:"button","aria-label":"Decrease Value","aria-disabled":Ir,className:Fn}),oe||ve.a.createElement("span",{unselectable:"on",className:"".concat(B,"-handler-down-inner"),onClick:Ry}))),ve.a.createElement("div",{className:"".concat(B,"-input-wrap")},ve.a.createElement("input",Object(xe.a)({role:"spinbutton","aria-valuemin":Ce,"aria-valuemax":se,"aria-valuenow":Jt,required:ke,type:qe,placeholder:et,onPaste:Rt,onClick:Ze,onMouseUp:this.onMouseUp,className:"".concat(B,"-input"),tabIndex:He,autoComplete:ee,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:dr?this.onKeyDown:wu,onKeyUp:dr?this.onKeyUp:wu,autoFocus:St,maxLength:wt,readOnly:W,disabled:j,max:se,min:Ce,step:gt,name:bt,title:Se,id:nt,onChange:this.onChange,ref:this.saveInput,value:this.getFullNum(Mr),pattern:ot,inputMode:At,onInput:Xt},Or))))}}]),y}(ve.a.Component);Dy.defaultProps={focusOnUpDown:!0,useTouch:!1,prefixCls:"rc-input-number",max:nx,min:-nx,step:1,style:{},onChange:wu,onKeyDown:wu,onPressEnter:wu,onFocus:wu,onBlur:wu,parser:jd,required:!1,autoComplete:"off"};var hg=Dy,ix=hg,$C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"},eA=$C,Ls=ae("6VBw"),ox=function(d,y){return N.createElement(Ls.a,Object.assign({},d,{ref:y,icon:eA}))};ox.displayName="UpOutlined";var ps=N.forwardRef(ox),Gp=ae("8Skl"),ou=ae("3Nzz"),Vv=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y},ax=N.forwardRef(function(c,d){var y,g=N.useContext(br.b),w=g.getPrefixCls,I=g.direction,B=N.useContext(ou.b),j=c.className,W=c.size,Z=c.prefixCls,ee=c.bordered,te=ee===void 0?!0:ee,oe=c.readOnly,ce=Vv(c,["className","size","prefixCls","bordered","readOnly"]),se=w("input-number",Z),Ce=N.createElement(ps,{className:"".concat(se,"-handler-up-inner")}),ye=N.createElement(Gp.a,{className:"".concat(se,"-handler-down-inner")}),Se=W||B,_e=st()((y={},Object(de.a)(y,"".concat(se,"-lg"),Se==="large"),Object(de.a)(y,"".concat(se,"-sm"),Se==="small"),Object(de.a)(y,"".concat(se,"-rtl"),I==="rtl"),Object(de.a)(y,"".concat(se,"-readonly"),oe),Object(de.a)(y,"".concat(se,"-borderless"),!te),y),j);return N.createElement(ix,Object(xe.a)({ref:d,className:_e,upHandler:Ce,downHandler:ye,prefixCls:se,readOnly:oe},ce))});ax.defaultProps={step:1};var On=ax,Sc=ae("WmNS"),Hs=ae.n(Sc),wo=ae("k1fw"),sx=ae("miYZ"),Ss=ae("tsqr"),Zh=ae("9og8"),sh=ae("gwTy"),lx=ae("1GLa"),Wp=ae("5Dmo"),Kh=ae("85Yc"),_c=N.createContext({labelAlign:"right",vertical:!1,itemRef:function(){}}),Yp=N.createContext({updateItemErrors:function(){}}),Xp=function(d){var y=Object(Ar.a)(d,["prefixCls"]);return N.createElement(Kh.b,y)},Gv=N.createContext({prefixCls:""});function pa(c){return c!=null&&typeof c=="object"&&c.nodeType===1}function fo(c,d){return(!d||c!=="hidden")&&c!=="visible"&&c!=="clip"}function Jh(c,d){if(c.clientHeight<c.scrollHeight||c.clientWidth<c.scrollWidth){var y=getComputedStyle(c,null);return fo(y.overflowY,d)||fo(y.overflowX,d)||function(g){var w=function(I){if(!I.ownerDocument||!I.ownerDocument.defaultView)return null;try{return I.ownerDocument.defaultView.frameElement}catch(B){return null}}(g);return!!w&&(w.clientHeight<g.scrollHeight||w.clientWidth<g.scrollWidth)}(c)}return!1}function Ud(c,d,y,g,w,I,B,j){return I<c&&B>d||I>c&&B<d?0:I<=c&&j<=y||B>=d&&j>=y?I-c-g:B>d&&j<y||I<c&&j>y?B-d+w:0}var Ny=function(c,d){var y=window,g=d.scrollMode,w=d.block,I=d.inline,B=d.boundary,j=d.skipOverflowHiddenElements,W=typeof B=="function"?B:function(wn){return wn!==B};if(!pa(c))throw new TypeError("Invalid target");for(var Z=document.scrollingElement||document.documentElement,ee=[],te=c;pa(te)&&W(te);){if((te=te.parentNode)===Z){ee.push(te);break}te===document.body&&Jh(te)&&!Jh(document.documentElement)||Jh(te,j)&&ee.push(te)}for(var oe=y.visualViewport?y.visualViewport.width:innerWidth,ce=y.visualViewport?y.visualViewport.height:innerHeight,se=window.scrollX||pageXOffset,Ce=window.scrollY||pageYOffset,ye=c.getBoundingClientRect(),Se=ye.height,_e=ye.width,Ie=ye.top,Ge=ye.right,je=ye.bottom,ke=ye.left,Ze=w==="start"||w==="nearest"?Ie:w==="end"?je:Ie+Se/2,He=I==="center"?ke+_e/2:I==="end"?Ge:ke,qe=[],et=0;et<ee.length;et++){var nt=ee[et],At=nt.getBoundingClientRect(),ot=At.height,gt=At.width,wt=At.top,St=At.right,bt=At.bottom,Rt=At.left;if(g==="if-needed"&&Ie>=0&&ke>=0&&je<=ce&&Ge<=oe&&Ie>=wt&&je<=bt&&ke>=Rt&&Ge<=St)return qe;var Xt=getComputedStyle(nt),Gt=parseInt(Xt.borderLeftWidth,10),tr=parseInt(Xt.borderTopWidth,10),Jt=parseInt(Xt.borderRightWidth,10),sr=parseInt(Xt.borderBottomWidth,10),nr=0,Or=0,dr="offsetWidth"in nt?nt.offsetWidth-nt.clientWidth-Gt-Jt:0,Mr="offsetHeight"in nt?nt.offsetHeight-nt.clientHeight-tr-sr:0;if(Z===nt)nr=w==="start"?Ze:w==="end"?Ze-ce:w==="nearest"?Ud(Ce,Ce+ce,ce,tr,sr,Ce+Ze,Ce+Ze+Se,Se):Ze-ce/2,Or=I==="start"?He:I==="center"?He-oe/2:I==="end"?He-oe:Ud(se,se+oe,oe,Gt,Jt,se+He,se+He+_e,_e),nr=Math.max(0,nr+Ce),Or=Math.max(0,Or+se);else{nr=w==="start"?Ze-wt-tr:w==="end"?Ze-bt+sr+Mr:w==="nearest"?Ud(wt,bt,ot,tr,sr+Mr,Ze,Ze+Se,Se):Ze-(wt+ot/2)+Mr/2,Or=I==="start"?He-Rt-Gt:I==="center"?He-(Rt+gt/2)+dr/2:I==="end"?He-St+Jt+dr:Ud(Rt,St,gt,Gt,Jt+dr,He,He+_e,_e);var on=nt.scrollLeft,Fr=nt.scrollTop;Ze+=Fr-(nr=Math.max(0,Math.min(Fr+nr,nt.scrollHeight-ot+Mr))),He+=on-(Or=Math.max(0,Math.min(on+Or,nt.scrollWidth-gt+dr)))}qe.push({el:nt,top:nr,left:Or})}return qe};function fg(c){return c===Object(c)&&Object.keys(c).length!==0}function ux(c,d){d===void 0&&(d="auto");var y="scrollBehavior"in document.body.style;c.forEach(function(g){var w=g.el,I=g.top,B=g.left;w.scroll&&y?w.scroll({top:I,left:B,behavior:d}):(w.scrollTop=I,w.scrollLeft=B)})}function Wv(c){return c===!1?{block:"end",inline:"nearest"}:fg(c)?c:{block:"start",inline:"nearest"}}function tA(c,d){var y=!c.ownerDocument.documentElement.contains(c);if(fg(d)&&typeof d.behavior=="function")return d.behavior(y?[]:Ny(c,d));if(!y){var g=Wv(d);return ux(Ny(c,g),g.behavior)}}var rA=tA;function kd(c){return c===void 0||c===!1?[]:Array.isArray(c)?c:[c]}function dg(c,d){if(!!c.length){var y=c.join("_");return d?"".concat(d,"_").concat(y):y}}function qh(c){var d=kd(c);return d.join("_")}function Yf(c){var d=Object(Kh.e)(),y=Object(ar.a)(d,1),g=y[0],w=N.useRef({}),I=N.useMemo(function(){return c||Object(xe.a)(Object(xe.a)({},g),{__INTERNAL__:{itemRef:function(j){return function(W){var Z=qh(j);W?w.current[Z]=W:delete w.current[Z]}}},scrollToField:function(j){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=kd(j),ee=dg(Z,I.__INTERNAL__.name),te=ee?document.getElementById(ee):null;te&&rA(te,Object(xe.a)({scrollMode:"if-needed",block:"nearest"},W))},getFieldInstance:function(j){var W=qh(j);return w.current[W]}})},[c,g]);return[I]}var Vs=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y},Il=function(d,y){var g,w=N.useContext(ou.b),I=N.useContext(br.b),B=I.getPrefixCls,j=I.direction,W=I.form,Z=d.prefixCls,ee=d.className,te=ee===void 0?"":ee,oe=d.size,ce=oe===void 0?w:oe,se=d.form,Ce=d.colon,ye=d.labelAlign,Se=d.labelCol,_e=d.wrapperCol,Ie=d.hideRequiredMark,Ge=d.layout,je=Ge===void 0?"horizontal":Ge,ke=d.scrollToFirstError,Ze=d.requiredMark,He=d.onFinishFailed,qe=d.name,et=Vs(d,["prefixCls","className","size","form","colon","labelAlign","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name"]),nt=Object(N.useMemo)(function(){return Ze!==void 0?Ze:W&&W.requiredMark!==void 0?W.requiredMark:!Ie},[Ie,Ze,W]),At=B("form",Z),ot=st()(At,(g={},Object(de.a)(g,"".concat(At,"-").concat(je),!0),Object(de.a)(g,"".concat(At,"-hide-required-mark"),nt===!1),Object(de.a)(g,"".concat(At,"-rtl"),j==="rtl"),Object(de.a)(g,"".concat(At,"-").concat(ce),ce),g),te),gt=Yf(se),wt=Object(ar.a)(gt,1),St=wt[0],bt=St.__INTERNAL__;bt.name=qe;var Rt=Object(N.useMemo)(function(){return{name:qe,labelAlign:ye,labelCol:Se,wrapperCol:_e,vertical:je==="vertical",colon:Ce,requiredMark:nt,itemRef:bt.itemRef}},[qe,ye,Se,_e,je,Ce,nt]);N.useImperativeHandle(y,function(){return St});var Xt=function(tr){He&&He(tr);var Jt={block:"nearest"};ke&&tr.errorFields.length&&(Object(ft.a)(ke)==="object"&&(Jt=ke),St.scrollToField(tr.errorFields[0].name,Jt))};return N.createElement(ou.a,{size:ce},N.createElement(_c.Provider,{value:Rt},N.createElement(Kh.d,Object(xe.a)({id:qe},et,{name:qe,onFinishFailed:Xt,form:St,className:ot}))))},Wl=N.forwardRef(Il),Xf=Wl,Yo=ae("Y+p1"),ca=ae.n(Yo),pg=ae("KW7l"),Qh=ae("c+Xe"),Mc=ae("qrJ5"),Hd={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},au=Hd,$h=function(d,y){return N.createElement(Ls.a,Object.assign({},d,{ref:y,icon:au}))};$h.displayName="QuestionCircleOutlined";var lh=N.forwardRef($h),uh=ae("/kpp"),An=ae("YMnH"),ch=ae("ZvpZ"),bu=ae("3S7+"),Fy=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y};function Gs(c){return c?Object(ft.a)(c)==="object"&&!N.isValidElement(c)?c:{title:c}:null}var Yl=function(d){var y=d.prefixCls,g=d.label,w=d.htmlFor,I=d.labelCol,B=d.labelAlign,j=d.colon,W=d.required,Z=d.requiredMark,ee=d.tooltip,te=Object(An.b)("Form"),oe=Object(ar.a)(te,1),ce=oe[0];return g?N.createElement(_c.Consumer,{key:"label"},function(se){var Ce,ye=se.vertical,Se=se.labelAlign,_e=se.labelCol,Ie=se.colon,Ge,je=I||_e||{},ke=B||Se,Ze="".concat(y,"-item-label"),He=st()(Ze,ke==="left"&&"".concat(Ze,"-left"),je.className),qe=g,et=j===!0||Ie!==!1&&j!==!1,nt=et&&!ye;nt&&typeof g=="string"&&g.trim()!==""&&(qe=g.replace(/[:|：]\s*$/,""));var At=Gs(ee);if(At){var ot=At.icon,gt=ot===void 0?N.createElement(lh,null):ot,wt=Fy(At,["icon"]),St=N.createElement(bu.a,wt,N.cloneElement(gt,{className:"".concat(y,"-item-tooltip")}));qe=N.createElement(N.Fragment,null,qe,St)}Z==="optional"&&!W&&(qe=N.createElement(N.Fragment,null,qe,N.createElement("span",{className:"".concat(y,"-item-optional")},(ce==null?void 0:ce.optional)||((Ge=ch.a.Form)===null||Ge===void 0?void 0:Ge.optional))));var bt=st()((Ce={},Object(de.a)(Ce,"".concat(y,"-item-required"),W),Object(de.a)(Ce,"".concat(y,"-item-required-mark-optional"),Z==="optional"),Object(de.a)(Ce,"".concat(y,"-item-no-colon"),!et),Ce));return N.createElement(uh.a,Object(xe.a)({},je,{className:He}),N.createElement("label",{htmlFor:w,className:bt,title:typeof g=="string"?g:""},qe))}):null},Vd=Yl,ef=ae("ye1Q"),tf=ae("IMoZ"),Zf=ae("8XRh"),Ec=ae("YrtM"),_o=ae("hkKa");function ml(c,d,y){var g=N.useRef({errors:c,visible:!!c.length}),w=Object(_o.a)(),I=function(){var j=g.current.visible,W=!!c.length,Z=g.current.errors;g.current.errors=c,g.current.visible=W,j!==W?d(W):(Z.length!==c.length||Z.some(function(ee,te){return ee!==c[te]}))&&w()};return N.useEffect(function(){if(!y){var B=setTimeout(I,10);return function(){return clearTimeout(B)}}},[c]),y&&I(),[g.current.visible,g.current.errors]}var Yv=[];function Pl(c){var d=c.errors,y=d===void 0?Yv:d,g=c.help,w=c.onDomErrorVisibleChange,I=Object(_o.a)(),B=N.useContext(Gv),j=B.prefixCls,W=B.status,Z=ml(y,function(Ie){Ie&&Promise.resolve().then(function(){w==null||w(!0)}),I()},!!g),ee=Object(ar.a)(Z,2),te=ee[0],oe=ee[1],ce=Object(Ec.a)(function(){return oe},te,function(Ie,Ge){return Ge}),se=N.useState(W),Ce=Object(ar.a)(se,2),ye=Ce[0],Se=Ce[1];N.useEffect(function(){te&&W&&Se(W)},[te,W]);var _e="".concat(j,"-item-explain");return N.createElement(Zf.b,{motionDeadline:500,visible:te,motionName:"show-help",onLeaveEnd:function(){w==null||w(!1)},motionAppear:!0,removeOnLeave:!0},function(Ie){var Ge=Ie.className;return N.createElement("div",{className:st()(_e,Object(de.a)({},"".concat(_e,"-").concat(ye),ye),Ge),key:"help"},ce.map(function(je,ke){return N.createElement("div",{key:ke,role:"alert"},je)}))})}var By={success:oh.a,warning:tf.a,error:bs.a,validating:ef.a},Gd=function(d){var y=d.prefixCls,g=d.status,w=d.wrapperCol,I=d.children,B=d.help,j=d.errors,W=d.onDomErrorVisibleChange,Z=d.hasFeedback,ee=d._internalItemRender,te=d.validateStatus,oe=d.extra,ce="".concat(y,"-item"),se=N.useContext(_c),Ce=w||se.wrapperCol||{},ye=st()("".concat(ce,"-control"),Ce.className);N.useEffect(function(){return function(){W(!1)}},[]);var Se=te&&By[te],_e=Z&&Se?N.createElement("span",{className:"".concat(ce,"-children-icon")},N.createElement(Se,null)):null,Ie=Object(xe.a)({},se);delete Ie.labelCol,delete Ie.wrapperCol;var Ge=N.createElement("div",{className:"".concat(ce,"-control-input")},N.createElement("div",{className:"".concat(ce,"-control-input-content")},I),_e),je=N.createElement(Gv.Provider,{value:{prefixCls:y,status:g}},N.createElement(Pl,{errors:j,help:B,onDomErrorVisibleChange:W})),ke=oe?N.createElement("div",{className:"".concat(ce,"-extra")},oe):null,Ze=ee&&ee.mark==="pro_table_render"&&ee.render?ee.render(d,{input:Ge,errorList:je,extra:ke}):N.createElement(N.Fragment,null,Ge,je,ke);return N.createElement(_c.Provider,{value:Ie},N.createElement(uh.a,Object(xe.a)({},Ce,{className:ye}),Ze))},ri=Gd,Aa=ae("0n0R"),wa=ae("wgJM");function $i(c){var d=N.useState(c),y=Object(ar.a)(d,2),g=y[0],w=y[1],I=Object(N.useRef)(null),B=Object(N.useRef)([]),j=Object(N.useRef)(!1);N.useEffect(function(){return function(){j.current=!0,wa.a.cancel(I.current)}},[]);function W(Z){j.current||(I.current===null&&(B.current=[],I.current=Object(wa.a)(function(){I.current=null,w(function(ee){var te=ee;return B.current.forEach(function(oe){te=oe(te)}),te})})),B.current.push(Z))}return[g,W]}function Ea(){var c=N.useContext(_c),d=c.itemRef,y=N.useRef({});function g(w,I){var B=I&&Object(ft.a)(I)==="object"&&I.ref,j=w.join("_");return(y.current.name!==j||y.current.originRef!==B)&&(y.current.name=j,y.current.originRef=B,y.current.ref=Object(Qh.a)(d(w),B)),y.current.ref}return g}var rf=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y},Qn="__SPLIT__",Su=Object(Yn.a)("success","warning","error","validating",""),cx=N.memo(function(c){var d=c.children;return d},function(c,d){return c.value===d.value&&c.update===d.update});function Zp(c){return c===null&&Object(so.a)(!1,"Form.Item","`null` is passed as `name` property"),c!=null}function Kp(c){var d=c.name,y=c.fieldKey,g=c.noStyle,w=c.dependencies,I=c.prefixCls,B=c.style,j=c.className,W=c.shouldUpdate,Z=c.hasFeedback,ee=c.help,te=c.rules,oe=c.validateStatus,ce=c.children,se=c.required,Ce=c.label,ye=c.messageVariables,Se=c.trigger,_e=Se===void 0?"onChange":Se,Ie=c.validateTrigger,Ge=c.hidden,je=rf(c,["name","fieldKey","noStyle","dependencies","prefixCls","style","className","shouldUpdate","hasFeedback","help","rules","validateStatus","children","required","label","messageVariables","trigger","validateTrigger","hidden"]),ke=Object(N.useRef)(!1),Ze=Object(N.useContext)(br.b),He=Ze.getPrefixCls,qe=Object(N.useContext)(_c),et=qe.name,nt=qe.requiredMark,At=Object(N.useContext)(Yp),ot=At.updateItemErrors,gt=N.useState(!!ee),wt=Object(ar.a)(gt,2),St=wt[0],bt=wt[1],Rt=$i({}),Xt=Object(ar.a)(Rt,2),Gt=Xt[0],tr=Xt[1],Jt=Object(N.useContext)(pg.b),sr=Jt.validateTrigger,nr=Ie!==void 0?Ie:sr;function Or(rn){ke.current||bt(rn)}var dr=Zp(d),Mr=Object(N.useRef)([]);N.useEffect(function(){return function(){ke.current=!0,ot(Mr.current.join(Qn),[])}},[]);var on=He("form",I),Fr=g?ot:function(rn,Dr,En){tr(function(){var Jr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return En!==rn&&delete Jr[En],ca()(Jr[rn],Dr)?Jr:Object(xe.a)(Object(xe.a)({},Jr),Object(de.a)({},rn,Dr))})},wn=Ea();function Ir(rn,Dr,En,Jr){var qr,Tn;if(g&&!Ge)return rn;var Ln=[];Object.keys(Gt).forEach(function(Ji){Ln=[].concat(Object($t.a)(Ln),Object($t.a)(Gt[Ji]||[]))});var Ci;ee!=null?Ci=kd(ee):(Ci=En?En.errors:[],Ci=[].concat(Object($t.a)(Ci),Object($t.a)(Ln)));var di="";oe!==void 0?di=oe:(En==null?void 0:En.validating)?di="validating":((Tn=En==null?void 0:En.errors)===null||Tn===void 0?void 0:Tn.length)||Ln.length?di="error":(En==null?void 0:En.touched)&&(di="success");var Bo=(qr={},Object(de.a)(qr,"".concat(on,"-item"),!0),Object(de.a)(qr,"".concat(on,"-item-with-help"),St||ee),Object(de.a)(qr,"".concat(j),!!j),Object(de.a)(qr,"".concat(on,"-item-has-feedback"),di&&Z),Object(de.a)(qr,"".concat(on,"-item-has-success"),di==="success"),Object(de.a)(qr,"".concat(on,"-item-has-warning"),di==="warning"),Object(de.a)(qr,"".concat(on,"-item-has-error"),di==="error"),Object(de.a)(qr,"".concat(on,"-item-is-validating"),di==="validating"),Object(de.a)(qr,"".concat(on,"-item-hidden"),Ge),qr);return N.createElement(Mc.a,Object(xe.a)({className:st()(Bo),style:B,key:"row"},Object(Ar.a)(je,["colon","extra","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","labelAlign","labelCol","normalize","preserve","tooltip","validateFirst","valuePropName","wrapperCol","_internalItemRender"])),N.createElement(Vd,Object(xe.a)({htmlFor:Dr,required:Jr,requiredMark:nt},c,{prefixCls:on})),N.createElement(ri,Object(xe.a)({},c,En,{errors:Ci,prefixCls:on,status:di,onDomErrorVisibleChange:Or,validateStatus:di}),N.createElement(Yp.Provider,{value:{updateItemErrors:Fr}},rn)))}var hn=typeof ce=="function",Fn=Object(N.useRef)(0);if(Fn.current+=1,!dr&&!hn&&!w)return Ir(ce);var xn={};return typeof Ce=="string"&&(xn.label=Ce),ye&&(xn=Object(xe.a)(Object(xe.a)({},xn),ye)),N.createElement(Kh.a,Object(xe.a)({},c,{messageVariables:xn,trigger:_e,validateTrigger:nr,onReset:function(){Or(!1)}}),function(rn,Dr,En){var Jr=Dr.errors,qr=kd(d).length&&Dr?Dr.name:[],Tn=dg(qr,et);if(g){var Ln=Mr.current.join(Qn);if(Mr.current=Object($t.a)(qr),y){var Ci=Array.isArray(y)?y:[y];Mr.current=[].concat(Object($t.a)(qr.slice(0,-1)),Object($t.a)(Ci))}ot(Mr.current.join(Qn),Jr,Ln)}var di=se!==void 0?se:!!(te&&te.some(function(zo){if(zo&&Object(ft.a)(zo)==="object"&&zo.required)return!0;if(typeof zo=="function"){var ni=zo(En);return ni&&ni.required}return!1})),Bo=Object(xe.a)({},rn),Ji=null;if(Object(so.a)(!(W&&w),"Form.Item","`shouldUpdate` and `dependencies` shouldn't be used together. See https://ant.design/components/form/#dependencies."),Array.isArray(ce)&&dr)Object(so.a)(!1,"Form.Item","`children` is array of render props cannot have `name`."),Ji=ce;else if(hn&&(!(W||w)||dr))Object(so.a)(!!(W||w),"Form.Item","`children` of render props only work with `shouldUpdate` or `dependencies`."),Object(so.a)(!dr,"Form.Item","Do not use `name` with `children` of render props since it's not a field.");else if(w&&!hn&&!dr)Object(so.a)(!1,"Form.Item","Must set `name` or use render props when `dependencies` is set.");else if(Object(Aa.b)(ce)){Object(so.a)(ce.props.defaultValue===void 0,"Form.Item","`defaultValue` will not work on controlled Field. You should use `initialValues` of Form instead.");var qi=Object(xe.a)(Object(xe.a)({},ce.props),Bo);qi.id||(qi.id=Tn),Object(Qh.c)(ce)&&(qi.ref=wn(qr,ce));var Ri=new Set([].concat(Object($t.a)(kd(_e)),Object($t.a)(kd(nr))));Ri.forEach(function(zo){qi[zo]=function(){for(var ni,un,Rr,Bn,hi,Xr=arguments.length,Li=new Array(Xr),Vi=0;Vi<Xr;Vi++)Li[Vi]=arguments[Vi];(Rr=Bo[zo])===null||Rr===void 0||(ni=Rr).call.apply(ni,[Bo].concat(Li)),(hi=(Bn=ce.props)[zo])===null||hi===void 0||(un=hi).call.apply(un,[Bn].concat(Li))}}),Ji=N.createElement(cx,{value:Bo[c.valuePropName||"value"],update:Fn.current},Object(Aa.a)(ce,qi))}else hn&&(W||w)&&!dr?Ji=ce(En):(Object(so.a)(!qr.length,"Form.Item","`name` is only used for validate React element. If you are using Form.Item as layout display, please remove `name` instead."),Ji=ce);return Ir(Ji,Tn,Dr,di)})}var mg=Kp,nf=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y},Ju=function(d){var y=d.prefixCls,g=d.children,w=nf(d,["prefixCls","children"]);Object(so.a)(!!w.name,"Form.List","Miss `name` prop.");var I=N.useContext(br.b),B=I.getPrefixCls,j=B("form",y);return N.createElement(Kh.c,w,function(W,Z,ee){return N.createElement(Gv.Provider,{value:{prefixCls:j,status:"error"}},g(W.map(function(te){return Object(xe.a)(Object(xe.a)({},te),{fieldKey:te.key})}),Z,{errors:ee.errors}))})},qu=Ju,Ta=Xf;Ta.Item=mg,Ta.List=qu,Ta.ErrorList=Pl,Ta.useForm=Yf,Ta.Provider=Xp,Ta.create=function(){Object(so.a)(!1,"Form","antd v4 removed `Form.create`. Please remove or use `@ant-design/compatible` instead.")};var Ia=Ta,Jp=ae("OaEy");function su(c,d){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);d&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),y.push.apply(y,g)}return y}function qp(c){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?su(Object(y),!0).forEach(function(g){Object(de.a)(c,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):su(Object(y)).forEach(function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(y,g))})}return c}var Qp=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,Kf=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,of="".concat(Qp," ").concat(Kf).split(/[\s\n]+/),Xv="aria-",Jf="data-";function gl(c,d){return c.indexOf(d)===0}function vl(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y;d===!1?y={aria:!0,data:!0,attr:!0}:d===!0?y={aria:!0}:y=qp({},d);var g={};return Object.keys(c).forEach(function(w){(y.aria&&(w==="role"||gl(w,Xv))||y.data&&gl(w,Jf)||y.attr&&of.includes(w))&&(g[w]=c[w])}),g}var _u=ae("t23M");function qf(c,d){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);d&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),y.push.apply(y,g)}return y}function Qf(c){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?qf(Object(y),!0).forEach(function(g){$f(c,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):qf(Object(y)).forEach(function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(y,g))})}return c}function $f(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}var Zv=N.forwardRef(function(c,d){var y=c.height,g=c.offset,w=c.children,I=c.prefixCls,B=c.onInnerResize,j={},W={display:"flex",flexDirection:"column"};return g!==void 0&&(j={height:y,position:"relative",overflow:"hidden"},W=Qf(Qf({},W),{},{transform:"translateY(".concat(g,"px)"),position:"absolute",left:0,right:0,top:0})),N.createElement("div",{style:j},N.createElement(_u.a,{onResize:function(ee){var te=ee.offsetHeight;te&&B&&B()}},N.createElement("div",{style:W,className:st()($f({},"".concat(I,"-holder-inner"),I)),ref:d},w)))});Zv.displayName="Filler";var hh=Zv;function Tc(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tc=function(y){return typeof y}:Tc=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},Tc(c)}function nA(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}function fh(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function gg(c,d){for(var y=0;y<d.length;y++){var g=d[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}function zy(c,d,y){return d&&gg(c.prototype,d),y&&gg(c,y),c}function vg(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),d&&Ic(c,d)}function Ic(c,d){return Ic=Object.setPrototypeOf||function(g,w){return g.__proto__=w,g},Ic(c,d)}function ba(c){var d=Kv();return function(){var g=td(c),w;if(d){var I=td(this).constructor;w=Reflect.construct(g,arguments,I)}else w=g.apply(this,arguments);return ed(this,w)}}function ed(c,d){return d&&(Tc(d)==="object"||typeof d=="function")?d:jy(c)}function jy(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function Kv(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(c){return!1}}function td(c){return td=Object.setPrototypeOf?Object.getPrototypeOf:function(y){return y.__proto__||Object.getPrototypeOf(y)},td(c)}var Pc=20;function lu(c){return"touches"in c?c.touches[0].pageY:c.pageY}var $p=function(c){vg(y,c);var d=ba(y);function y(){var g;return fh(this,y),g=d.apply(this,arguments),g.moveRaf=null,g.scrollbarRef=N.createRef(),g.thumbRef=N.createRef(),g.visibleTimeout=null,g.state={dragging:!1,pageY:null,startTop:null,visible:!1},g.delayHidden=function(){clearTimeout(g.visibleTimeout),g.setState({visible:!0}),g.visibleTimeout=setTimeout(function(){g.setState({visible:!1})},2e3)},g.onScrollbarTouchStart=function(w){w.preventDefault()},g.onContainerMouseDown=function(w){w.stopPropagation(),w.preventDefault()},g.patchEvents=function(){window.addEventListener("mousemove",g.onMouseMove),window.addEventListener("mouseup",g.onMouseUp),g.thumbRef.current.addEventListener("touchmove",g.onMouseMove),g.thumbRef.current.addEventListener("touchend",g.onMouseUp)},g.removeEvents=function(){window.removeEventListener("mousemove",g.onMouseMove),window.removeEventListener("mouseup",g.onMouseUp),g.scrollbarRef.current.removeEventListener("touchstart",g.onScrollbarTouchStart),g.thumbRef.current.removeEventListener("touchstart",g.onMouseDown),g.thumbRef.current.removeEventListener("touchmove",g.onMouseMove),g.thumbRef.current.removeEventListener("touchend",g.onMouseUp),wa.a.cancel(g.moveRaf)},g.onMouseDown=function(w){var I=g.props.onStartMove;g.setState({dragging:!0,pageY:lu(w),startTop:g.getTop()}),I(),g.patchEvents(),w.stopPropagation(),w.preventDefault()},g.onMouseMove=function(w){var I=g.state,B=I.dragging,j=I.pageY,W=I.startTop,Z=g.props.onScroll;if(wa.a.cancel(g.moveRaf),B){var ee=lu(w)-j,te=W+ee,oe=g.getEnableScrollRange(),ce=g.getEnableHeightRange(),se=ce?te/ce:0,Ce=Math.ceil(se*oe);g.moveRaf=Object(wa.a)(function(){Z(Ce)})}},g.onMouseUp=function(){var w=g.props.onStopMove;g.setState({dragging:!1}),w(),g.removeEvents()},g.getSpinHeight=function(){var w=g.props,I=w.height,B=w.count,j=I/B*10;return j=Math.max(j,Pc),j=Math.min(j,I/2),Math.floor(j)},g.getEnableScrollRange=function(){var w=g.props,I=w.scrollHeight,B=w.height;return I-B||0},g.getEnableHeightRange=function(){var w=g.props.height,I=g.getSpinHeight();return w-I||0},g.getTop=function(){var w=g.props.scrollTop,I=g.getEnableScrollRange(),B=g.getEnableHeightRange();if(w===0||I===0)return 0;var j=w/I;return j*B},g.getVisible=function(){var w=g.state.visible,I=g.props,B=I.height,j=I.scrollHeight;return B>=j?!1:w},g}return zy(y,[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(w){w.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var w=this.state.dragging,I=this.props.prefixCls,B=this.getSpinHeight(),j=this.getTop(),W=this.getVisible();return N.createElement("div",{ref:this.scrollbarRef,className:"".concat(I,"-scrollbar"),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:W?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},N.createElement("div",{ref:this.thumbRef,className:st()("".concat(I,"-scrollbar-thumb"),nA({},"".concat(I,"-scrollbar-thumb-moving"),w)),style:{width:"100%",height:B,top:j,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}]),y}(N.Component);function yg(c){var d=c.children,y=c.setRef,g=N.useCallback(function(w){y(w)},[]);return N.cloneElement(d,{ref:g})}function Jv(c,d,y,g,w,I){var B=I.getKey;return c.slice(d,y+1).map(function(j,W){var Z=d+W,ee=w(j,Z,{}),te=B(j);return N.createElement(yg,{key:te,setRef:function(ce){return g(j,ce)}},ee)})}var af=ae("m+aA");function Uy(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function Ds(c,d){for(var y=0;y<d.length;y++){var g=d[y];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}function Xl(c,d,y){return d&&Ds(c.prototype,d),y&&Ds(c,y),c}var Ot=function(){function c(){Uy(this,c),this.maps={},this.maps.prototype=null}return Xl(c,[{key:"set",value:function(y,g){this.maps[y]=g}},{key:"get",value:function(y){return this.maps[y]}}]),c}(),rr=Ot;function er(c,d){return Co(c)||ha(c,d)||Wi(c,d)||Kn()}function Kn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wi(c,d){if(!!c){if(typeof c=="string")return bo(c,d);var y=Object.prototype.toString.call(c).slice(8,-1);if(y==="Object"&&c.constructor&&(y=c.constructor.name),y==="Map"||y==="Set")return Array.from(c);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return bo(c,d)}}function bo(c,d){(d==null||d>c.length)&&(d=c.length);for(var y=0,g=new Array(d);y<d;y++)g[y]=c[y];return g}function ha(c,d){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(c)))){var y=[],g=!0,w=!1,I=void 0;try{for(var B=c[Symbol.iterator](),j;!(g=(j=B.next()).done)&&(y.push(j.value),!(d&&y.length===d));g=!0);}catch(W){w=!0,I=W}finally{try{!g&&B.return!=null&&B.return()}finally{if(w)throw I}}return y}}function Co(c){if(Array.isArray(c))return c}function Qu(c,d,y){var g=N.useState(0),w=er(g,2),I=w[0],B=w[1],j=Object(N.useRef)(new Map),W=Object(N.useRef)(new rr),Z=Object(N.useRef)(0);function ee(){Z.current+=1;var oe=Z.current;Promise.resolve().then(function(){oe===Z.current&&(j.current.forEach(function(ce,se){if(ce&&ce.offsetParent){var Ce=Object(af.a)(ce),ye=Ce.offsetHeight;W.current.get(se)!==ye&&W.current.set(se,Ce.offsetHeight)}}),B(function(ce){return ce+1}))})}function te(oe,ce){var se=c(oe),Ce=j.current.get(se);ce?(j.current.set(se,ce),ee()):j.current.delete(se),!Ce!=!ce&&(ce?d==null||d(oe):y==null||y(oe))}return[te,ee,W.current,I]}function Oc(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Oc=function(y){return typeof y}:Oc=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},Oc(c)}function Ws(c,d,y,g,w,I,B,j){var W=N.useRef();return function(Z){if(Z==null){j();return}if(wa.a.cancel(W.current),typeof Z=="number")B(Z);else if(Z&&Oc(Z)==="object"){var ee,te=Z.align;"index"in Z?ee=Z.index:ee=d.findIndex(function(Ce){return w(Ce)===Z.key});var oe=Z.offset,ce=oe===void 0?0:oe,se=function Ce(ye,Se){if(!(ye<0||!c.current)){var _e=c.current.clientHeight,Ie=!1,Ge=Se;if(_e){for(var je=Se||te,ke=0,Ze=0,He=0,qe=Math.min(d.length,ee),et=0;et<=qe;et+=1){var nt=w(d[et]);Ze=ke;var At=y.get(nt);He=Ze+(At===void 0?g:At),ke=He,et===ee&&At===void 0&&(Ie=!0)}var ot=null;switch(je){case"top":ot=Ze-ce;break;case"bottom":ot=He-_e+ce;break;default:{var gt=c.current.scrollTop,wt=gt+_e;Ze<gt?Ge="top":He>wt&&(Ge="bottom")}}ot!==null&&ot!==c.current.scrollTop&&B(ot)}W.current=Object(wa.a)(function(){Ie&&I(),Ce(ye-1,Ge)})}};se(3)}}}function em(c,d,y,g){var w=y-c,I=d-y,B=Math.min(w,I)*2;if(g<=B){var j=Math.floor(g/2);return g%2?y+j+1:y-j}return w>I?y-(g-I):y+(g-w)}function xg(c,d,y){var g=c.length,w=d.length,I,B;if(g===0&&w===0)return null;g<w?(I=c,B=d):(I=d,B=c);var j={__EMPTY_ITEM__:!0};function W(se){return se!==void 0?y(se):j}for(var Z=null,ee=Math.abs(g-w)!==1,te=0;te<B.length;te+=1){var oe=W(I[te]),ce=W(B[te]);if(oe!==ce){Z=te,ee=ee||oe!==W(B[te+1]);break}}return Z===null?null:{index:Z,multiple:ee}}function uu(c,d){return Wd(c)||Cg(c,d)||rd(c,d)||Mu()}function Mu(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rd(c,d){if(!!c){if(typeof c=="string")return ia(c,d);var y=Object.prototype.toString.call(c).slice(8,-1);if(y==="Object"&&c.constructor&&(y=c.constructor.name),y==="Map"||y==="Set")return Array.from(c);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return ia(c,d)}}function ia(c,d){(d==null||d>c.length)&&(d=c.length);for(var y=0,g=new Array(d);y<d;y++)g[y]=c[y];return g}function Cg(c,d){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(c)))){var y=[],g=!0,w=!1,I=void 0;try{for(var B=c[Symbol.iterator](),j;!(g=(j=B.next()).done)&&(y.push(j.value),!(d&&y.length===d));g=!0);}catch(W){w=!0,I=W}finally{try{!g&&B.return!=null&&B.return()}finally{if(w)throw I}}return y}}function Wd(c){if(Array.isArray(c))return c}function dh(c,d,y){var g=N.useState(c),w=uu(g,2),I=w[0],B=w[1],j=N.useState(null),W=uu(j,2),Z=W[0],ee=W[1];return N.useEffect(function(){var te=xg(I||[],c||[],d);(te==null?void 0:te.index)!==void 0&&(y==null||y(te.index),ee(c[te.index])),B(c)},[c]),[Z]}function sf(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sf=function(y){return typeof y}:sf=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},sf(c)}var ph=(typeof navigator=="undefined"?"undefined":sf(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),Yd=ph,$u=function(c,d){var y=Object(N.useRef)(!1),g=Object(N.useRef)(null);function w(){clearTimeout(g.current),y.current=!0,g.current=setTimeout(function(){y.current=!1},50)}var I=Object(N.useRef)({top:c,bottom:d});return I.current.top=c,I.current.bottom=d,function(B){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,W=B<0&&I.current.top||B>0&&I.current.bottom;return j&&W?(clearTimeout(g.current),y.current=!1):(!W||y.current)&&w(),!y.current&&W}};function Eu(c,d,y,g){var w=Object(N.useRef)(0),I=Object(N.useRef)(null),B=Object(N.useRef)(null),j=Object(N.useRef)(!1),W=$u(d,y);function Z(te){if(!!c){wa.a.cancel(I.current);var oe=te.deltaY;w.current+=oe,B.current=oe,!W(oe)&&(Yd||te.preventDefault(),I.current=Object(wa.a)(function(){var ce=j.current?10:1;g(w.current*ce),w.current=0}))}}function ee(te){!c||(j.current=te.detail===B.current)}return[Z,ee]}var Tu=14/15;function nd(c,d,y){var g=Object(N.useRef)(!1),w=Object(N.useRef)(0),I=Object(N.useRef)(null),B=Object(N.useRef)(null),j,W=function(oe){if(g.current){var ce=Math.ceil(oe.touches[0].pageY),se=w.current-ce;w.current=ce,y(se)&&oe.preventDefault(),clearInterval(B.current),B.current=setInterval(function(){se*=Tu,(!y(se,!0)||Math.abs(se)<=.1)&&clearInterval(B.current)},16)}},Z=function(){g.current=!1,j()},ee=function(oe){j(),oe.touches.length===1&&!g.current&&(g.current=!0,w.current=Math.ceil(oe.touches[0].pageY),I.current=oe.target,I.current.addEventListener("touchmove",W),I.current.addEventListener("touchend",Z))};j=function(){I.current&&(I.current.removeEventListener("touchmove",W),I.current.removeEventListener("touchend",Z))},N.useLayoutEffect(function(){return c&&d.current.addEventListener("touchstart",ee),function(){d.current.removeEventListener("touchstart",ee),j(),clearInterval(B.current)}},[c])}function Zl(c,d){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);d&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),y.push.apply(y,g)}return y}function Ol(c){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?Zl(Object(y),!0).forEach(function(g){cu(c,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):Zl(Object(y)).forEach(function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(y,g))})}return c}function cu(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}function wi(c,d){return ky(c)||tm(c,d)||Xd(c,d)||Ag()}function Ag(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xd(c,d){if(!!c){if(typeof c=="string")return $a(c,d);var y=Object.prototype.toString.call(c).slice(8,-1);if(y==="Object"&&c.constructor&&(y=c.constructor.name),y==="Map"||y==="Set")return Array.from(c);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return $a(c,d)}}function $a(c,d){(d==null||d>c.length)&&(d=c.length);for(var y=0,g=new Array(d);y<d;y++)g[y]=c[y];return g}function tm(c,d){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(c)))){var y=[],g=!0,w=!1,I=void 0;try{for(var B=c[Symbol.iterator](),j;!(g=(j=B.next()).done)&&(y.push(j.value),!(d&&y.length===d));g=!0);}catch(W){w=!0,I=W}finally{try{!g&&B.return!=null&&B.return()}finally{if(w)throw I}}return y}}function ky(c){if(Array.isArray(c))return c}function rm(c,d){if(c==null)return{};var y=Hy(c,d),g,w;if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(c);for(w=0;w<I.length;w++)g=I[w],!(d.indexOf(g)>=0)&&(!Object.prototype.propertyIsEnumerable.call(c,g)||(y[g]=c[g]))}return y}function Hy(c,d){if(c==null)return{};var y={},g=Object.keys(c),w,I;for(I=0;I<g.length;I++)w=g[I],!(d.indexOf(w)>=0)&&(y[w]=c[w]);return y}var Zd=[],ji={overflowY:"auto",overflowAnchor:"none"};function Kd(c,d){var y=c.prefixCls,g=y===void 0?"rc-virtual-list":y,w=c.className,I=c.height,B=c.itemHeight,j=c.fullHeight,W=j===void 0?!0:j,Z=c.style,ee=c.data,te=c.children,oe=c.itemKey,ce=c.virtual,se=c.component,Ce=se===void 0?"div":se,ye=c.onScroll,Se=rm(c,["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll"]),_e=!!(ce!==!1&&I&&B),Ie=_e&&ee&&B*ee.length>I,Ge=Object(N.useState)(0),je=wi(Ge,2),ke=je[0],Ze=je[1],He=Object(N.useState)(!1),qe=wi(He,2),et=qe[0],nt=qe[1],At=st()(g,w),ot=ee||Zd,gt=Object(N.useRef)(),wt=Object(N.useRef)(),St=Object(N.useRef)(),bt=N.useCallback(function(Rr){return typeof oe=="function"?oe(Rr):Rr==null?void 0:Rr[oe]},[oe]),Rt={getKey:bt};function Xt(Rr){Ze(function(Bn){var hi;typeof Rr=="function"?hi=Rr(Bn):hi=Rr;var Xr=Jr(hi);return gt.current.scrollTop=Xr,Xr})}var Gt=Object(N.useRef)({start:0,end:ot.length}),tr=Object(N.useRef)(),Jt=dh(ot,bt),sr=wi(Jt,1),nr=sr[0];tr.current=nr;var Or=Qu(bt,null,null),dr=wi(Or,4),Mr=dr[0],on=dr[1],Fr=dr[2],wn=dr[3],Ir=N.useMemo(function(){if(!_e)return{scrollHeight:void 0,start:0,end:ot.length-1,offset:void 0};if(!Ie){var Rr;return{scrollHeight:((Rr=wt.current)===null||Rr===void 0?void 0:Rr.offsetHeight)||0,start:0,end:ot.length-1,offset:void 0}}for(var Bn=0,hi,Xr,Li,Vi=ot.length,ii=0;ii<Vi;ii+=1){var co=ot[ii],So=bt(co),kn=Fr.get(So),go=Bn+(kn===void 0?B:kn);go>=ke&&hi===void 0&&(hi=ii,Xr=Bn),go>ke+I&&Li===void 0&&(Li=ii),Bn=go}return hi===void 0&&(hi=0,Xr=0),Li===void 0&&(Li=ot.length-1),Li=Math.min(Li+1,ot.length),{scrollHeight:Bn,start:hi,end:Li,offset:Xr}},[Ie,_e,ke,ot,wn,I]),hn=Ir.scrollHeight,Fn=Ir.start,xn=Ir.end,rn=Ir.offset;Gt.current.start=Fn,Gt.current.end=xn;var Dr=hn-I,En=Object(N.useRef)(Dr);En.current=Dr;function Jr(Rr){var Bn=Rr;return Number.isNaN(En.current)||(Bn=Math.min(Bn,En.current)),Bn=Math.max(Bn,0),Bn}var qr=ke<=0,Tn=ke>=Dr,Ln=$u(qr,Tn);function Ci(Rr){var Bn=Rr;Xt(Bn)}function di(Rr){var Bn=Rr.currentTarget.scrollTop;Bn!==ke&&Xt(Bn),ye==null||ye(Rr)}var Bo=Eu(_e,qr,Tn,function(Rr){Xt(function(Bn){var hi=Bn+Rr;return hi})}),Ji=wi(Bo,2),qi=Ji[0],Ri=Ji[1];nd(_e,gt,function(Rr,Bn){return Ln(Rr,Bn)?!1:(qi({preventDefault:function(){},deltaY:Rr}),!0)}),N.useLayoutEffect(function(){function Rr(Bn){_e&&Bn.preventDefault()}return gt.current.addEventListener("wheel",qi),gt.current.addEventListener("DOMMouseScroll",Ri),gt.current.addEventListener("MozMousePixelScroll",Rr),function(){gt.current.removeEventListener("wheel",qi),gt.current.removeEventListener("DOMMouseScroll",Ri),gt.current.removeEventListener("MozMousePixelScroll",Rr)}},[_e]);var zo=Ws(gt,ot,Fr,B,bt,on,Xt,function(){var Rr;(Rr=St.current)===null||Rr===void 0||Rr.delayHidden()});N.useImperativeHandle(d,function(){return{scrollTo:zo}});var ni=Jv(ot,Fn,xn,Mr,te,Rt),un=null;return I&&(un=Ol(cu({},W?"height":"maxHeight",I),ji),_e&&(un.overflowY="hidden",et&&(un.pointerEvents="none"))),N.createElement("div",Object.assign({style:Ol(Ol({},Z),{},{position:"relative"}),className:At},Se),N.createElement(Ce,{className:"".concat(g,"-holder"),style:un,ref:gt,onScroll:di},N.createElement(hh,{prefixCls:g,height:hn,offset:rn,onInnerResize:on,ref:wt},ni)),_e&&N.createElement($p,{ref:St,prefixCls:g,scrollTop:ke,height:I,scrollHeight:hn,count:ot.length,onScroll:Ci,onStartMove:function(){nt(!0)},onStopMove:function(){nt(!1)}}))}var ec=N.forwardRef(Kd);ec.displayName="List";var wg=ec,iA=wg,hx=function(d){var y=d.className,g=d.customizeIcon,w=d.customizeIconProps,I=d.onMouseDown,B=d.onClick,j=d.children,W;return typeof g=="function"?W=g(w):W=g,N.createElement("span",{className:y,onMouseDown:function(ee){ee.preventDefault(),I&&I(ee)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:B,"aria-hidden":!0},W!==void 0?W:N.createElement("span",{className:st()(y.split(/\s+/).map(function(Z){return"".concat(Z,"-icon")}))},j))},Ui=hx,Za=function(d,y){var g=d.prefixCls,w=d.id,I=d.flattenOptions,B=d.childrenAsData,j=d.values,W=d.searchValue,Z=d.multiple,ee=d.defaultActiveFirstOption,te=d.height,oe=d.itemHeight,ce=d.notFoundContent,se=d.open,Ce=d.menuItemSelectedIcon,ye=d.virtual,Se=d.onSelect,_e=d.onToggleOpen,Ie=d.onActiveValue,Ge=d.onScroll,je=d.onMouseEnter,ke="".concat(g,"-item"),Ze=Object(Ec.a)(function(){return I},[se,I],function(Xt,Gt){return Gt[0]&&Xt[1]!==Gt[1]}),He=N.useRef(null),qe=function(Gt){Gt.preventDefault()},et=function(Gt){He.current&&He.current.scrollTo({index:Gt})},nt=function(Gt){for(var tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Jt=Ze.length,sr=0;sr<Jt;sr+=1){var nr=(Gt+sr*tr+Jt)%Jt,Or=Ze[nr],dr=Or.group,Mr=Or.data;if(!dr&&!Mr.disabled)return nr}return-1},At=N.useState(function(){return nt(0)}),ot=Object(ar.a)(At,2),gt=ot[0],wt=ot[1],St=function(Gt){var tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;wt(Gt);var Jt={source:tr?"keyboard":"mouse"},sr=Ze[Gt];if(!sr){Ie(null,-1,Jt);return}Ie(sr.data.value,Gt,Jt)};N.useEffect(function(){St(ee!==!1?nt(0):-1)},[Ze.length,W]),N.useEffect(function(){var Xt=setTimeout(function(){if(!Z&&se&&j.size===1){var tr=Array.from(j)[0],Jt=Ze.findIndex(function(sr){var nr=sr.data;return nr.value===tr});St(Jt),et(Jt)}});if(se){var Gt;(Gt=He.current)===null||Gt===void 0||Gt.scrollTo(void 0)}return function(){return clearTimeout(Xt)}},[se]);var bt=function(Gt){Gt!==void 0&&Se(Gt,{selected:!j.has(Gt)}),Z||_e(!1)};if(N.useImperativeHandle(y,function(){return{onKeyDown:function(Gt){var tr=Gt.which;switch(tr){case Cn.a.UP:case Cn.a.DOWN:{var Jt=0;if(tr===Cn.a.UP?Jt=-1:tr===Cn.a.DOWN&&(Jt=1),Jt!==0){var sr=nt(gt+Jt,Jt);et(sr),St(sr,!0)}break}case Cn.a.ENTER:{var nr=Ze[gt];nr&&!nr.data.disabled?bt(nr.data.value):bt(void 0),se&&Gt.preventDefault();break}case Cn.a.ESC:_e(!1),se&&Gt.stopPropagation()}},onKeyUp:function(){},scrollTo:function(Gt){et(Gt)}}}),Ze.length===0)return N.createElement("div",{role:"listbox",id:"".concat(w,"_list"),className:"".concat(ke,"-empty"),onMouseDown:qe},ce);function Rt(Xt){var Gt=Ze[Xt];if(!Gt)return null;var tr=Gt.data||{},Jt=tr.value,sr=tr.label,nr=tr.children,Or=vl(tr,!0),dr=B?nr:sr;return Gt?N.createElement("div",Object.assign({"aria-label":typeof dr=="string"?dr:null},Or,{key:Xt,role:"option",id:"".concat(w,"_list_").concat(Xt),"aria-selected":j.has(Jt)}),Jt):null}return N.createElement(N.Fragment,null,N.createElement("div",{role:"listbox",id:"".concat(w,"_list"),style:{height:0,width:0,overflow:"hidden"}},Rt(gt-1),Rt(gt),Rt(gt+1)),N.createElement(iA,{itemKey:"key",ref:He,data:Ze,height:te,itemHeight:oe,fullHeight:!1,onMouseDown:qe,onScroll:Ge,virtual:ye,onMouseEnter:je},function(Xt,Gt){var tr,Jt=Xt.group,sr=Xt.groupOption,nr=Xt.data,Or=nr.label,dr=nr.key;if(Jt)return N.createElement("div",{className:st()(ke,"".concat(ke,"-group"))},Or!==void 0?Or:dr);var Mr=nr.disabled,on=nr.value,Fr=nr.title,wn=nr.children,Ir=nr.style,hn=nr.className,Fn=Object(ua.a)(nr,["disabled","value","title","children","style","className"]),xn=j.has(on),rn="".concat(ke,"-option"),Dr=st()(ke,rn,hn,(tr={},Object(de.a)(tr,"".concat(rn,"-grouped"),sr),Object(de.a)(tr,"".concat(rn,"-active"),gt===Gt&&!Mr),Object(de.a)(tr,"".concat(rn,"-disabled"),Mr),Object(de.a)(tr,"".concat(rn,"-selected"),xn),tr)),En=B?wn:Or,Jr=!Ce||typeof Ce=="function"||xn,qr=En||on,Tn=typeof qr=="string"||typeof qr=="number"?qr.toString():void 0;return Fr!==void 0&&(Tn=Fr),N.createElement("div",Object.assign({},Fn,{"aria-selected":xn,className:Dr,title:Tn,onMouseMove:function(){gt===Gt||Mr||St(Gt)},onClick:function(){Mr||bt(on)},style:Ir}),N.createElement("div",{className:"".concat(rn,"-content")},qr),N.isValidElement(Ce)||xn,Jr&&N.createElement(Ui,{className:"".concat(ke,"-option-state"),customizeIcon:Ce,customizeIconProps:{isSelected:xn}},xn?"\u2713":null))}))},bg=N.forwardRef(Za);bg.displayName="OptionList";var fx=bg,id=function(){return null};id.isSelectOption=!0;var lf=id,nm=function(){return null};nm.isSelectOptGroup=!0;var ms=nm;function Ei(c){var d=c.key,y=c.props,g=y.children,w=y.value,I=Object(ua.a)(y,["children","value"]);return Object(ur.a)({key:d,value:w!==void 0?w:d,children:g},I)}function Ns(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Object(yu.a)(c).map(function(y,g){if(!N.isValidElement(y)||!y.type)return null;var w=y.type.isSelectOptGroup,I=y.key,B=y.props,j=B.children,W=Object(ua.a)(B,["children"]);return d||!w?Ei(y):Object(ur.a)(Object(ur.a)({key:"__RC_SELECT_GRP__".concat(I===null?g:I,"__"),label:I},W),{},{options:Ns(j)})}).filter(function(y){return y})}var Rc=ae("T5bk"),Xo=ae("Kwbf");function _s(c){return Array.isArray(c)?c:c!==void 0?[c]:[]}function od(c,d){var y=d.labelInValue,g=d.combobox,w=new Map;if(c===void 0||c===""&&g)return[[],w];var I=Array.isArray(c)?c:[c],B=I;return y&&(B=I.map(function(j){var W=j.key,Z=j.value,ee=Z!==void 0?Z:W;return w.set(ee,j),ee})),[B,w]}function Sg(c,d){var y=d.optionLabelProp,g=d.labelInValue,w=d.prevValueMap,I=d.options,B=d.getLabeledValue,j=c;return g&&(j=j.map(function(W){return B(W,{options:I,prevValueMap:w,labelInValue:g,optionLabelProp:y})})),j}function uf(c,d){var y=Object($t.a)(d),g;for(g=c.length-1;g>=0&&c[g].disabled;g-=1);var w=null;return g!==-1&&(w=y[g],y.splice(g,1)),{values:y,removedValue:w}}var Lc=typeof window!="undefined"&&window.document&&window.document.documentElement,mh=Lc,ro=0;function Iu(){var c;return mh?(c=ro,ro+=1):c="TEST_OR_SSR",c}function Kl(c,d){var y=c.key,g;return"value"in c&&(g=c.value),y!=null?y:g!==void 0?g:"rc-index-key-".concat(d)}function gh(c){var d=[];function y(g,w){g.forEach(function(I){w||!("options"in I)?d.push({key:Kl(I,d.length),groupOption:w,data:I}):(d.push({key:Kl(I,d.length),group:!0,data:I}),y(I.options,!0))})}return y(c,!1),d}function Re(c){var d=Object(ur.a)({},c);return"props"in d||Object.defineProperty(d,"props",{get:function(){return Object(Xo.a)(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),d}}),d}function Rl(c,d){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=y.prevValueOptions,w=g===void 0?[]:g,I=new Map;return d.forEach(function(B){if(!B.group){var j=B.data;I.set(j.value,j)}}),c.map(function(B){var j=I.get(B);return j||(j=Object(ur.a)({},w.find(function(W){return W._INTERNAL_OPTION_VALUE_===B}))),Re(j)})}var Pu=function(d,y){var g=y.options,w=y.prevValueMap,I=y.labelInValue,B=y.optionLabelProp,j=Rl([d],g)[0],W={value:d},Z=I?w.get(d):void 0;return Z&&Object(ft.a)(Z)==="object"&&"label"in Z?(W.label=Z.label,j&&typeof Z.label=="string"&&typeof j[B]=="string"&&Z.label.trim()!==j[B].trim()&&Object(Xo.a)(!1,"`label` of `value` is not same as `label` in Select options.")):j&&B in j?W.label=j[B]:(W.label=d,W.isCacheable=!0),W.key=W.value,W};function Ys(c){return _s(c).join("")}function ci(c){return function(d,y){var g=d.toLowerCase();if("options"in y)return Ys(y.label).toLowerCase().includes(g);var w=y[c],I=Ys(w).toLowerCase();return I.includes(g)}}function Ou(c,d,y){var g=y.optionFilterProp,w=y.filterOption,I=[],B;return w===!1?Object($t.a)(d):(typeof w=="function"?B=w:B=ci(g),d.forEach(function(j){if("options"in j){var W=B(c,j);if(W)I.push(j);else{var Z=j.options.filter(function(ee){return B(c,ee)});Z.length&&I.push(Object(ur.a)(Object(ur.a)({},j),{},{options:Z}))}return}B(c,Re(j))&&I.push(j)}),I)}function cf(c,d){if(!d||!d.length)return null;var y=!1;function g(I,B){var j=Object(Rc.a)(B),W=j[0],Z=j.slice(1);if(!W)return[I];var ee=I.split(W);return y=y||ee.length>1,ee.reduce(function(te,oe){return[].concat(Object($t.a)(te),Object($t.a)(g(oe,Z)))},[]).filter(function(te){return te})}var w=g(c,d);return y?w:null}function Vy(c,d){var y=Rl([c],d)[0];return y.disabled}function hf(c,d,y,g){var w=_s(d).slice().sort(),I=Object($t.a)(c),B=new Set;return c.forEach(function(j){j.options?j.options.forEach(function(W){B.add(W.value)}):B.add(j.value)}),w.forEach(function(j){var W=g?j.value:j;if(!B.has(W)){var Z;I.push(g?(Z={},Object(de.a)(Z,y,j.label),Object(de.a)(Z,"value",W),Z):{value:W})}}),I}var Ya=ae("6cGi");function Ka(c){var d=c.prefixCls,y=c.item,g=c.renderItem,w=c.responsive,I=c.registerSize,B=c.itemKey,j=c.className,W=c.style,Z=c.children,ee=c.display,te=c.order,oe=w&&!ee;function ce(ye){I(B,ye)}N.useEffect(function(){return function(){ce(null)}},[]);var se=y!==void 0?g(y):Z,Ce=N.createElement("div",{className:st()(d,j),style:Object(ur.a)({opacity:oe?.2:1,height:oe?0:void 0,overflowY:oe?"hidden":void 0,order:w?te:void 0,pointerEvents:oe?"none":void 0},W)},se);return w&&(Ce=N.createElement(_u.a,{onResize:function(Se){var _e=Se.offsetWidth;ce(_e)}},Ce)),Ce}function Dc(){var c=Object(N.useState)({}),d=Object(ar.a)(c,2),y=d[1],g=Object(N.useRef)([]),w=Object(N.useRef)(!1),I=0,B=0;Object(N.useEffect)(function(){return function(){w.current=!0}},[]);function j(W){var Z=I;I+=1,g.current.length<Z+1&&(g.current[Z]=W);var ee=g.current[Z];function te(oe){g.current[Z]=typeof oe=="function"?oe(g.current[Z]):oe,wa.a.cancel(B),B=Object(wa.a)(function(){w.current||y({})})}return[ee,te]}return j}var Jd="responsive";function ff(c){return"+ ".concat(c.length," ...")}function Nc(c,d){var y=c.prefixCls,g=y===void 0?"rc-overflow":y,w=c.data,I=w===void 0?[]:w,B=c.renderItem,j=c.itemKey,W=c.itemWidth,Z=W===void 0?10:W,ee=c.style,te=c.className,oe=c.maxCount,ce=c.renderRest,se=ce===void 0?ff:ce,Ce=c.suffix,ye=Dc(),Se=ye(0),_e=Object(ar.a)(Se,2),Ie=_e[0],Ge=_e[1],je=ye(new Map),ke=Object(ar.a)(je,2),Ze=ke[0],He=ke[1],qe=ye(0),et=Object(ar.a)(qe,2),nt=et[0],At=et[1],ot=ye(0),gt=Object(ar.a)(ot,2),wt=gt[0],St=gt[1],bt=ye(0),Rt=Object(ar.a)(bt,2),Xt=Rt[0],Gt=Rt[1],tr=Object(N.useState)(null),Jt=Object(ar.a)(tr,2),sr=Jt[0],nr=Jt[1],Or=Object(N.useState)(0),dr=Object(ar.a)(Or,2),Mr=dr[0],on=dr[1],Fr=Object(N.useState)(!1),wn=Object(ar.a)(Fr,2),Ir=wn[0],hn=wn[1],Fn="".concat(g,"-item"),xn=Math.max(nt,wt),rn=I.length&&oe===Jd,Dr=rn||typeof oe=="number"&&I.length>oe,En=Object(N.useMemo)(function(){var Rr=I;return rn?Rr=I.slice(0,Math.min(I.length,Ie/Z)):typeof oe=="number"&&(Rr=I.slice(0,oe)),Rr},[I,Z,Ie,oe,rn]),Jr=Object(N.useMemo)(function(){return rn?I.slice(Mr+1):I.slice(En.length)},[I,En,rn,Mr]),qr=Object(N.useCallback)(function(Rr,Bn){var hi;return typeof j=="function"?j(Rr):(hi=j&&(Rr==null?void 0:Rr[j]))!==null&&hi!==void 0?hi:Bn},[j]),Tn=Object(N.useCallback)(B||function(Rr){return Rr},[B]);function Ln(Rr,Bn){on(Rr),Bn||hn(Rr<I.length-1)}function Ci(Rr,Bn){Ge(Bn.clientWidth)}function di(Rr,Bn){He(function(hi){var Xr=new Map(hi);return Bn===null?Xr.delete(Rr):Xr.set(Rr,Bn),Xr})}function Bo(Rr,Bn){St(Bn),At(wt)}function Ji(Rr,Bn){Gt(Bn)}function qi(Rr){return Ze.get(qr(En[Rr],Rr))}N.useLayoutEffect(function(){if(Ie&&xn&&En){var Rr=Xt,Bn=En.length,hi=Bn-1;if(!Bn){Ln(0),nr(null);return}for(var Xr=0;Xr<Bn;Xr+=1){var Li=qi(Xr);if(Li===void 0){Ln(Xr-1,!0);break}if(Rr+=Li,Xr===hi-1&&Rr+qi(hi)<=Ie){Ln(hi),nr(null);break}else if(Rr+xn>Ie){Ln(Xr-1),nr(Rr-Li-Xt+wt);break}else if(Xr===hi){Ln(hi),nr(Rr-Xt);break}}Ce&&qi(0)+Xt>Ie&&nr(null)}},[Ie,Ze,wt,Xt,qr,En]);var Ri=Ir&&!!Jr.length,zo={};sr!==null&&rn&&(zo={position:"absolute",left:sr,top:0});var ni={prefixCls:Fn,responsive:rn},un=N.createElement("div",{className:st()(g,te),style:ee,ref:d},En.map(function(Rr,Bn){var hi=qr(Rr,Bn);return N.createElement(Ka,Object(xe.a)({},ni,{order:Bn,key:hi,item:Rr,renderItem:Tn,itemKey:hi,registerSize:di,display:Bn<=Mr}))}),Dr?N.createElement(Ka,Object(xe.a)({},ni,{order:Ri?Mr:Number.MAX_SAFE_INTEGER,className:"".concat(Fn,"-rest"),registerSize:Bo,display:Ri}),typeof se=="function"?se(Jr):se):null,Ce&&N.createElement(Ka,Object(xe.a)({},ni,{order:Mr,className:"".concat(Fn,"-suffix"),registerSize:Ji,display:!0,style:zo}),Ce));return rn&&(un=N.createElement(_u.a,{onResize:Ci},un)),un}var df=N.forwardRef(Nc);df.displayName="Overflow";var Jl=df,Ru=Jl,qv=function(d,y){var g=d.prefixCls,w=d.id,I=d.inputElement,B=d.disabled,j=d.tabIndex,W=d.autoFocus,Z=d.autoComplete,ee=d.editable,te=d.accessibilityIndex,oe=d.value,ce=d.maxLength,se=d.onKeyDown,Ce=d.onMouseDown,ye=d.onChange,Se=d.onPaste,_e=d.onCompositionStart,Ie=d.onCompositionEnd,Ge=d.open,je=d.attrs,ke=I||N.createElement("input",null),Ze=ke,He=Ze.ref,qe=Ze.props,et=qe.onKeyDown,nt=qe.onChange,At=qe.onMouseDown,ot=qe.onCompositionStart,gt=qe.onCompositionEnd,wt=qe.style;return ke=N.cloneElement(ke,Object(ur.a)(Object(ur.a)({id:w,ref:Object(Qh.a)(y,He),disabled:B,tabIndex:j,autoComplete:Z||"off",type:"search",autoFocus:W,className:"".concat(g,"-selection-search-input"),style:Object(ur.a)(Object(ur.a)({},wt),{},{opacity:ee?null:0}),role:"combobox","aria-expanded":Ge,"aria-haspopup":"listbox","aria-owns":"".concat(w,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(w,"_list"),"aria-activedescendant":"".concat(w,"_list_").concat(te)},je),{},{value:ee?oe:"",maxLength:ce,readOnly:!ee,unselectable:ee?null:"on",onKeyDown:function(bt){se(bt),et&&et(bt)},onMouseDown:function(bt){Ce(bt),At&&At(bt)},onChange:function(bt){ye(bt),nt&&nt(bt)},onCompositionStart:function(bt){_e(bt),ot&&ot(bt)},onCompositionEnd:function(bt){Ie(bt),gt&&gt(bt)},onPaste:Se})),ke},qd=N.forwardRef(qv);qd.displayName="Input";var ql=qd;function Qv(c,d){mh?N.useLayoutEffect(c,d):N.useEffect(c,d)}var im=function(d){d.preventDefault(),d.stopPropagation()},ad=function(d){var y=d.id,g=d.prefixCls,w=d.values,I=d.open,B=d.searchValue,j=d.inputRef,W=d.placeholder,Z=d.disabled,ee=d.mode,te=d.showSearch,oe=d.autoFocus,ce=d.autoComplete,se=d.accessibilityIndex,Ce=d.tabIndex,ye=d.removeIcon,Se=d.maxTagCount,_e=d.maxTagTextLength,Ie=d.maxTagPlaceholder,Ge=Ie===void 0?function(hn){return"+ ".concat(hn.length," ...")}:Ie,je=d.tagRender,ke=d.onToggleOpen,Ze=d.onSelect,He=d.onInputChange,qe=d.onInputPaste,et=d.onInputKeyDown,nt=d.onInputMouseDown,At=d.onInputCompositionStart,ot=d.onInputCompositionEnd,gt=N.useRef(null),wt=Object(N.useState)(0),St=Object(ar.a)(wt,2),bt=St[0],Rt=St[1],Xt=Object(N.useState)(!1),Gt=Object(ar.a)(Xt,2),tr=Gt[0],Jt=Gt[1],sr="".concat(g,"-selection"),nr=I||ee==="tags"?B:"",Or=ee==="tags"||te&&(I||tr);Qv(function(){Rt(gt.current.scrollWidth)},[nr]);function dr(hn,Fn,xn,rn){return N.createElement("span",{className:st()("".concat(sr,"-item"),Object(de.a)({},"".concat(sr,"-item-disabled"),Fn))},N.createElement("span",{className:"".concat(sr,"-item-content")},hn),xn&&N.createElement(Ui,{className:"".concat(sr,"-item-remove"),onMouseDown:im,onClick:rn,customizeIcon:ye},"\xD7"))}function Mr(hn,Fn,xn,rn,Dr){var En=function(qr){im(qr),ke(!0)};return N.createElement("span",{onMouseDown:En},je({label:Fn,value:hn,disabled:xn,closable:rn,onClose:Dr}))}function on(hn){var Fn=hn.disabled,xn=hn.label,rn=hn.value,Dr=!Z&&!Fn,En=xn;if(typeof _e=="number"&&(typeof xn=="string"||typeof xn=="number")){var Jr=String(En);Jr.length>_e&&(En="".concat(Jr.slice(0,_e),"..."))}var qr=function(Ln){Ln&&Ln.stopPropagation(),Ze(rn,{selected:!1})};return typeof je=="function"?Mr(rn,En,Fn,Dr,qr):dr(En,Fn,Dr,qr)}function Fr(hn){var Fn=typeof Ge=="function"?Ge(hn):Ge;return dr(Fn,!1)}var wn=N.createElement("div",{className:"".concat(sr,"-search"),style:{width:bt},onFocus:function(){Jt(!0)},onBlur:function(){Jt(!1)}},N.createElement(ql,{ref:j,open:I,prefixCls:g,id:y,inputElement:null,disabled:Z,autoFocus:oe,autoComplete:ce,editable:Or,accessibilityIndex:se,value:nr,onKeyDown:et,onMouseDown:nt,onChange:He,onPaste:qe,onCompositionStart:At,onCompositionEnd:ot,tabIndex:Ce,attrs:vl(d,!0)}),N.createElement("span",{ref:gt,className:"".concat(sr,"-search-mirror"),"aria-hidden":!0},nr,"\xA0")),Ir=N.createElement(Ru,{prefixCls:"".concat(sr,"-overflow"),data:w,renderItem:on,renderRest:Fr,suffix:wn,itemKey:"key",maxCount:Se});return N.createElement(N.Fragment,null,Ir,!w.length&&!nr&&N.createElement("span",{className:"".concat(sr,"-placeholder")},W))},$v=ad,om=function(d){var y=d.inputElement,g=d.prefixCls,w=d.id,I=d.inputRef,B=d.disabled,j=d.autoFocus,W=d.autoComplete,Z=d.accessibilityIndex,ee=d.mode,te=d.open,oe=d.values,ce=d.placeholder,se=d.tabIndex,Ce=d.showSearch,ye=d.searchValue,Se=d.activeValue,_e=d.maxLength,Ie=d.onInputKeyDown,Ge=d.onInputMouseDown,je=d.onInputChange,ke=d.onInputPaste,Ze=d.onInputCompositionStart,He=d.onInputCompositionEnd,qe=N.useState(!1),et=Object(ar.a)(qe,2),nt=et[0],At=et[1],ot=ee==="combobox",gt=ot||Ce,wt=oe[0],St=ye||"";ot&&Se&&!nt&&(St=Se),N.useEffect(function(){ot&&At(!1)},[ot,Se]);var bt=ee!=="combobox"&&!te?!1:!!St,Rt=wt&&(typeof wt.label=="string"||typeof wt.label=="number")?wt.label.toString():void 0;return N.createElement(N.Fragment,null,N.createElement("span",{className:"".concat(g,"-selection-search")},N.createElement(ql,{ref:I,prefixCls:g,id:w,open:te,inputElement:y,disabled:B,autoFocus:j,autoComplete:W,editable:gt,accessibilityIndex:Z,value:St,onKeyDown:Ie,onMouseDown:Ge,onChange:function(Gt){At(!0),je(Gt)},onPaste:ke,onCompositionStart:Ze,onCompositionEnd:He,tabIndex:se,attrs:vl(d,!0),maxLength:ot?_e:void 0})),!ot&&wt&&!bt&&N.createElement("span",{className:"".concat(g,"-selection-item"),title:Rt},wt.label),!wt&&!bt&&N.createElement("span",{className:"".concat(g,"-selection-placeholder")},ce))},pf=om;function am(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,d=N.useRef(null),y=N.useRef(null);N.useEffect(function(){return function(){window.clearTimeout(y.current)}},[]);function g(w){(w||d.current===null)&&(d.current=w),window.clearTimeout(y.current),y.current=window.setTimeout(function(){d.current=null},c)}return[function(){return d.current},g]}var _g=function(d,y){var g=Object(N.useRef)(null),w=Object(N.useRef)(!1),I=d.prefixCls,B=d.multiple,j=d.open,W=d.mode,Z=d.showSearch,ee=d.tokenWithEnter,te=d.onSearch,oe=d.onSearchSubmit,ce=d.onToggleOpen,se=d.onInputKeyDown,Ce=d.domRef;N.useImperativeHandle(y,function(){return{focus:function(){g.current.focus()},blur:function(){g.current.blur()}}});var ye=am(0),Se=Object(ar.a)(ye,2),_e=Se[0],Ie=Se[1],Ge=function(bt){var Rt=bt.which;(Rt===Cn.a.UP||Rt===Cn.a.DOWN)&&bt.preventDefault(),se&&se(bt),Rt===Cn.a.ENTER&&W==="tags"&&!w.current&&!j&&oe(bt.target.value),[Cn.a.SHIFT,Cn.a.TAB,Cn.a.BACKSPACE,Cn.a.ESC].includes(Rt)||ce(!0)},je=function(){Ie(!0)},ke=Object(N.useRef)(null),Ze=function(bt){te(bt,!0,w.current)!==!1&&ce(!0)},He=function(){w.current=!0},qe=function(bt){w.current=!1,Ze(bt.target.value)},et=function(bt){var Rt=bt.target.value;if(ee&&ke.current&&/[\r\n]/.test(ke.current)){var Xt=ke.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");Rt=Rt.replace(Xt,ke.current)}ke.current=null,Ze(Rt)},nt=function(bt){var Rt=bt.clipboardData,Xt=Rt.getData("text");ke.current=Xt},At=function(bt){var Rt=bt.target;if(Rt!==g.current){var Xt=document.body.style.msTouchAction!==void 0;Xt?setTimeout(function(){g.current.focus()}):g.current.focus()}},ot=function(bt){var Rt=_e();bt.target!==g.current&&!Rt&&bt.preventDefault(),(W!=="combobox"&&(!Z||!Rt)||!j)&&(j&&te("",!0,!1),ce())},gt={inputRef:g,onInputKeyDown:Ge,onInputMouseDown:je,onInputChange:et,onInputPaste:nt,onInputCompositionStart:He,onInputCompositionEnd:qe},wt=B?N.createElement($v,Object.assign({},d,gt)):N.createElement(pf,Object.assign({},d,gt));return N.createElement("div",{ref:Ce,className:"".concat(I,"-selector"),onClick:At,onMouseDown:ot},wt)},Lu=N.forwardRef(_g);Lu.displayName="Selector";var e0=Lu,tc=ae("uciX"),mf=function(d){var y=typeof d!="number"?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:y,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:y,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:y,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:y,adjustY:1}}}},sd=function(d,y){var g=d.prefixCls,w=d.disabled,I=d.visible,B=d.children,j=d.popupElement,W=d.containerWidth,Z=d.animation,ee=d.transitionName,te=d.dropdownStyle,oe=d.dropdownClassName,ce=d.direction,se=ce===void 0?"ltr":ce,Ce=d.dropdownMatchSelectWidth,ye=Ce===void 0?!0:Ce,Se=d.dropdownRender,_e=d.dropdownAlign,Ie=d.getPopupContainer,Ge=d.empty,je=d.getTriggerDOMNode,ke=Object(ua.a)(d,["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode"]),Ze="".concat(g,"-dropdown"),He=j;Se&&(He=Se(j));var qe=N.useMemo(function(){return mf(ye)},[ye]),et=Z?"".concat(Ze,"-").concat(Z):ee,nt=N.useRef(null);N.useImperativeHandle(y,function(){return{getPopupElement:function(){return nt.current}}});var At=Object(ur.a)({minWidth:W},te);return typeof ye=="number"?At.width=ye:ye&&(At.width=W),N.createElement(tc.a,Object.assign({},ke,{showAction:[],hideAction:[],popupPlacement:se==="rtl"?"bottomRight":"bottomLeft",builtinPlacements:qe,prefixCls:Ze,popupTransitionName:et,popup:N.createElement("div",{ref:nt},He),popupAlign:_e,popupVisible:I,getPopupContainer:Ie,popupClassName:st()(oe,Object(de.a)({},"".concat(Ze,"-empty"),Ge)),popupStyle:At,getTriggerDOMNode:je}),B)},Qd=N.forwardRef(sd);Qd.displayName="SelectTrigger";var Mg=Qd,sm="RC_SELECT_INTERNAL_PROPS_MARK";function Ll(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,d=N.useState(!1),y=Object(ar.a)(d,2),g=y[0],w=y[1],I=N.useRef(null),B=function(){window.clearTimeout(I.current)};N.useEffect(function(){return B},[]);var j=function(Z,ee){B(),I.current=window.setTimeout(function(){w(Z),ee&&ee()},c)};return[g,j,B]}function Gy(c,d,y){var g=N.useRef(null);g.current={elements:c.filter(function(w){return w}),open:d,triggerOpen:y},N.useEffect(function(){function w(I){var B=I.target;B.shadowRoot&&I.composed&&(B=I.composedPath()[0]||B),g.current.open&&g.current.elements.every(function(j){return!j.contains(B)&&j!==B})&&g.current.triggerOpen(!1)}return window.addEventListener("mousedown",w),function(){return window.removeEventListener("mousedown",w)}},[])}function Eg(c){var d=N.useRef(c),y=N.useMemo(function(){var g=new Map;d.current.forEach(function(I){var B=I.value,j=I.label;B!==j&&g.set(B,j)});var w=c.map(function(I){var B=g.get(I.value);return I.isCacheable&&B?Object(ur.a)(Object(ur.a)({},I),{},{label:B}):I});return d.current=w,w},[c]);return y}function Fc(c){var d=N.useRef(null),y=N.useMemo(function(){var w=new Map;return c.forEach(function(I){var B=I.data.value;w.set(B,I)}),w},[c]);d.current=y;var g=function(I){return I.map(function(B){return d.current.get(B)}).filter(Boolean)};return g}var rl=["removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","tabIndex"];function Bc(c){var d=c.prefixCls,y=c.components.optionList,g=c.convertChildrenToData,w=c.flattenOptions,I=c.getLabeledValue,B=c.filterOptions,j=c.isValueDisabled,W=c.findValueOption,Z=c.warningProps,ee=c.fillOptionsWithMissingValue,te=c.omitDOMProps;function oe(se,Ce){var ye,Se=se.prefixCls,_e=Se===void 0?d:Se,Ie=se.className,Ge=se.id,je=se.open,ke=se.defaultOpen,Ze=se.options,He=se.children,qe=se.mode,et=se.value,nt=se.defaultValue,At=se.labelInValue,ot=se.showSearch,gt=se.inputValue,wt=se.searchValue,St=se.filterOption,bt=se.filterSort,Rt=se.optionFilterProp,Xt=Rt===void 0?"value":Rt,Gt=se.autoClearSearchValue,tr=Gt===void 0?!0:Gt,Jt=se.onSearch,sr=se.allowClear,nr=se.clearIcon,Or=se.showArrow,dr=se.inputIcon,Mr=se.menuItemSelectedIcon,on=se.disabled,Fr=se.loading,wn=se.defaultActiveFirstOption,Ir=se.notFoundContent,hn=Ir===void 0?"Not Found":Ir,Fn=se.optionLabelProp,xn=se.backfill,rn=se.tabIndex,Dr=se.getInputElement,En=se.getPopupContainer,Jr=se.listHeight,qr=Jr===void 0?200:Jr,Tn=se.listItemHeight,Ln=Tn===void 0?20:Tn,Ci=se.animation,di=se.transitionName,Bo=se.virtual,Ji=se.dropdownStyle,qi=se.dropdownClassName,Ri=se.dropdownMatchSelectWidth,zo=se.dropdownRender,ni=se.dropdownAlign,un=se.showAction,Rr=un===void 0?[]:un,Bn=se.direction,hi=se.tokenSeparators,Xr=se.tagRender,Li=se.onPopupScroll,Vi=se.onDropdownVisibleChange,ii=se.onFocus,co=se.onBlur,So=se.onKeyUp,kn=se.onKeyDown,go=se.onMouseDown,Eo=se.onChange,ys=se.onSelect,Zu=se.onDeselect,cl=se.onClear,_l=se.internalProps,Na=_l===void 0?{}:_l,Lo=Object(ua.a)(se,["prefixCls","className","id","open","defaultOpen","options","children","mode","value","defaultValue","labelInValue","showSearch","inputValue","searchValue","filterOption","filterSort","optionFilterProp","autoClearSearchValue","onSearch","allowClear","clearIcon","showArrow","inputIcon","menuItemSelectedIcon","disabled","loading","defaultActiveFirstOption","notFoundContent","optionLabelProp","backfill","tabIndex","getInputElement","getPopupContainer","listHeight","listItemHeight","animation","transitionName","virtual","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","showAction","direction","tokenSeparators","tagRender","onPopupScroll","onDropdownVisibleChange","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown","onChange","onSelect","onDeselect","onClear","internalProps"]),Qi=Na.mark===sm,Hn=te?te(Lo):Lo;rl.forEach(function(mn){delete Hn[mn]});var Po=Object(N.useRef)(null),aa=Object(N.useRef)(null),fs=Object(N.useRef)(null),ks=Object(N.useRef)(null),yc=Object(N.useMemo)(function(){return(hi||[]).some(function(mn){return[`
`,`\r
`].includes(mn)})},[hi]),nu=Ll(),Vl=Object(ar.a)(nu,3),hl=Vl[0],sa=Vl[1],Ml=Vl[2],xs=Object(N.useState)(),xo=Object(ar.a)(xs,2),_i=xo[0],ui=xo[1];Object(N.useEffect)(function(){ui("rc_select_".concat(Iu()))},[]);var Cs=Ge||_i,na=Fn;na===void 0&&(na=Ze?"label":"children");var Is=qe==="combobox"?!1:At,Qs=qe==="tags"||qe==="multiple",Fd=ot!==void 0?ot:Qs||qe==="combobox",xc=Object(N.useRef)(null);N.useImperativeHandle(Ce,function(){var mn;return{focus:fs.current.focus,blur:fs.current.blur,scrollTo:(mn=ks.current)===null||mn===void 0?void 0:mn.scrollTo}});var jp=Object(Ya.a)(nt,{value:et}),rh=Object(ar.a)(jp,2),nh=rh[0],Bd=rh[1],Up=Object(N.useMemo)(function(){return od(nh,{labelInValue:Is,combobox:qe==="combobox"})},[nh,Is]),Fv=Object(ar.a)(Up,2),s=Fv[0],t=Fv[1],i=Object(N.useMemo)(function(){return new Set(s)},[s]),m=Object(N.useState)(null),A=Object(ar.a)(m,2),E=A[0],O=A[1],F=Object(N.useState)(""),H=Object(ar.a)(F,2),K=H[0],$=H[1],ue=K;qe==="combobox"&&nh!==void 0?ue=nh:wt!==void 0?ue=wt:gt&&(ue=gt);var me=Object(N.useMemo)(function(){var mn=Ze;return mn===void 0&&(mn=g(He)),qe==="tags"&&ee&&(mn=ee(mn,nh,na,At)),mn||[]},[Ze,He,qe,nh]),pe=Object(N.useMemo)(function(){return w(me,se)},[me]),be=Fc(pe),Te=Object(N.useMemo)(function(){if(!ue||!Fd)return Object($t.a)(me);var mn=B(ue,me,{optionFilterProp:Xt,filterOption:qe==="combobox"&&St===void 0?function(){return!0}:St});return qe==="tags"&&mn.every(function(vr){return vr[Xt]!==ue})&&mn.unshift({value:ue,label:ue,key:"__RC_SELECT_TAG_PLACEHOLDER__"}),bt&&Array.isArray(mn)?Object($t.a)(mn).sort(bt):mn},[me,ue,qe,Fd,bt]),it=Object(N.useMemo)(function(){return w(Te,se)},[Te]);Object(N.useEffect)(function(){ks.current&&ks.current.scrollTo&&ks.current.scrollTo(0)},[ue]);var _t=Object(N.useMemo)(function(){var mn=s.map(function(vr){var ln=be([vr]),Zn=I(vr,{options:ln,prevValueMap:t,labelInValue:Is,optionLabelProp:na});return Object(ur.a)(Object(ur.a)({},Zn),{},{disabled:j(vr,ln)})});return!qe&&mn.length===1&&mn[0].value===null&&mn[0].label===null?[]:mn},[nh,me,qe]);_t=Eg(_t);var Mt=function(vr,ln,Zn){var io=be([vr]),jo=W([vr],io)[0];if(!Na.skipTriggerSelect){var Ps=Is?I(vr,{options:io,prevValueMap:t,labelInValue:Is,optionLabelProp:na}):vr;ln&&ys?ys(Ps,jo):!ln&&Zu&&Zu(Ps,jo)}Qi&&(ln&&Na.onRawSelect?Na.onRawSelect(vr,jo,Zn):!ln&&Na.onRawDeselect&&Na.onRawDeselect(vr,jo,Zn))},It=Object(N.useState)([]),Bt=Object(ar.a)(It,2),hr=Bt[0],qt=Bt[1],Pt=function(vr){if(!(Qi&&Na.skipTriggerChange)){var ln=be(vr),Zn=Sg(Array.from(vr),{labelInValue:Is,options:ln,getLabeledValue:I,prevValueMap:t,optionLabelProp:na}),io=Qs?Zn:Zn[0];if(Eo&&(s.length!==0||Zn.length!==0)){var jo=W(vr,ln,{prevValueOptions:hr});qt(jo.map(function(Ps,is){var Os=Object(ur.a)({},Ps);return Object.defineProperty(Os,"_INTERNAL_OPTION_VALUE_",{get:function(){return vr[is]}}),Os})),Eo(io,Qs?jo:jo[0])}Bd(io)}},Br=function(vr,ln){var Zn=ln.selected,io=ln.source;if(!on){var jo;Qs?(jo=new Set(s),Zn?jo.add(vr):jo.delete(vr)):(jo=new Set,jo.add(vr)),(Qs||!Qs&&Array.from(s)[0]!==vr)&&Pt(Array.from(jo)),Mt(vr,!Qs||Zn,io),qe==="combobox"?($(String(vr)),O("")):(!Qs||tr)&&($(""),O(""))}},Ht=function(vr,ln){Br(vr,Object(ur.a)(Object(ur.a)({},ln),{},{source:"option"}))},cn=function(vr,ln){Br(vr,Object(ur.a)(Object(ur.a)({},ln),{},{source:"selection"}))},In=qe==="combobox"&&Dr&&Dr()||null,Ur=Object(Ya.a)(void 0,{defaultValue:ke,value:je}),Mi=Object(ar.a)(Ur,2),Rn=Mi[0],yi=Mi[1],Di=Rn,zi=!hn&&!Te.length;(on||zi&&Di&&qe==="combobox")&&(Di=!1);var To=zi?!1:Di,ho=function(vr){var ln=vr!==void 0?vr:!Di;Rn!==ln&&!on&&(yi(ln),Vi&&Vi(ln))};Gy([Po.current,aa.current&&aa.current.getPopupElement()],To,ho);var la=function(vr,ln,Zn){var io=!0,jo=vr;O(null);var Ps=Zn?null:cf(vr,hi),is=Ps;if(qe==="combobox")ln&&Pt([jo]);else if(Ps){jo="",qe!=="tags"&&(is=Ps.map(function(Ke){var wr=pe.find(function(Nt){var kr=Nt.data;return kr[na]===Ke});return wr?wr.data.value:null}).filter(function(Ke){return Ke!==null}));var Os=Array.from(new Set([].concat(Object($t.a)(s),Object($t.a)(is))));Pt(Os),Os.forEach(function(Ke){Mt(Ke,!0,"input")}),ho(!1),io=!1}return $(jo),Jt&&ue!==jo&&Jt(jo),io},Fa=function(vr){var ln=Array.from(new Set([].concat(Object($t.a)(s),[vr])));Pt(ln),ln.forEach(function(Zn){Mt(Zn,!0,"input")}),$("")};Object(N.useEffect)(function(){Rn&&!!on&&yi(!1)},[on]),Object(N.useEffect)(function(){!Di&&!Qs&&qe!=="combobox"&&la("",!1,!1)},[Di]);var tt=am(),Ct=Object(ar.a)(tt,2),cr=Ct[0],fn=Ct[1],Gn=function(vr){var ln=cr(),Zn=vr.which;if(!Di&&Zn===Cn.a.ENTER&&ho(!0),fn(!!ue),Zn===Cn.a.BACKSPACE&&!ln&&Qs&&!ue&&s.length){var io=uf(_t,s);io.removedValue!==null&&(Pt(io.values),Mt(io.removedValue,!1,"input"))}for(var jo=arguments.length,Ps=new Array(jo>1?jo-1:0),is=1;is<jo;is++)Ps[is-1]=arguments[is];if(Di&&ks.current){var Os;(Os=ks.current).onKeyDown.apply(Os,[vr].concat(Ps))}kn&&kn.apply(void 0,[vr].concat(Ps))},Pr=function(vr){for(var ln=arguments.length,Zn=new Array(ln>1?ln-1:0),io=1;io<ln;io++)Zn[io-1]=arguments[io];if(Di&&ks.current){var jo;(jo=ks.current).onKeyUp.apply(jo,[vr].concat(Zn))}So&&So.apply(void 0,[vr].concat(Zn))},or=Object(N.useRef)(!1),Yt=function(){sa(!0),on||(ii&&!or.current&&ii.apply(void 0,arguments),Rr.includes("focus")&&ho(!0)),or.current=!0},oi=function(){sa(!1,function(){or.current=!1,ho(!1)}),!on&&(ue&&(qe==="tags"?(la("",!1,!1),Pt(Array.from(new Set([].concat(Object($t.a)(s),[ue]))))):qe==="multiple"&&$("")),co&&co.apply(void 0,arguments))},Vn=[];Object(N.useEffect)(function(){return function(){Vn.forEach(function(mn){return clearTimeout(mn)}),Vn.splice(0,Vn.length)}},[]);var lo=function(vr){var ln=vr.target,Zn=aa.current&&aa.current.getPopupElement();if(Zn&&Zn.contains(ln)){var io=setTimeout(function(){var Os=Vn.indexOf(io);Os!==-1&&Vn.splice(Os,1),Ml(),Zn.contains(document.activeElement)||fs.current.focus()});Vn.push(io)}if(go){for(var jo=arguments.length,Ps=new Array(jo>1?jo-1:0),is=1;is<jo;is++)Ps[is-1]=arguments[is];go.apply(void 0,[vr].concat(Ps))}},en=Object(N.useState)(0),Dn=Object(ar.a)(en,2),vo=Dn[0],Ha=Dn[1],$o=wn!==void 0?wn:qe!=="combobox",Cr=function(vr,ln){var Zn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},io=Zn.source,jo=io===void 0?"keyboard":io;Ha(ln),xn&&qe==="combobox"&&vr!==null&&jo==="keyboard"&&O(String(vr))},uo=Object(N.useState)(null),to=Object(ar.a)(uo,2),xi=to[0],iu=to[1],fl=Object(N.useState)({}),Hf=Object(ar.a)(fl,2),Iy=Hf[1];function KC(){Iy({})}Qv(function(){if(To){var mn=Math.ceil(Po.current.offsetWidth);xi!==mn&&iu(mn)}},[To]);var Bv=N.createElement(y,{ref:ks,prefixCls:_e,id:Cs,open:Di,childrenAsData:!Ze,options:Te,flattenOptions:it,multiple:Qs,values:i,height:qr,itemHeight:Ln,onSelect:Ht,onToggleOpen:ho,onActiveValue:Cr,defaultActiveFirstOption:$o,notFoundContent:hn,onScroll:Li,searchValue:ue,menuItemSelectedIcon:Mr,virtual:Bo!==!1&&Ri!==!1,onMouseEnter:KC}),og,K1=function(){Qi&&Na.onClear&&Na.onClear(),cl&&cl(),Pt([]),la("",!1,!1)};!on&&sr&&(s.length||ue)&&(og=N.createElement(Ui,{className:"".concat(_e,"-clear"),onMouseDown:K1,customizeIcon:nr},"\xD7"));var zv=Or!==void 0?Or:Fr||!Qs&&qe!=="combobox",jv;zv&&(jv=N.createElement(Ui,{className:st()("".concat(_e,"-arrow"),Object(de.a)({},"".concat(_e,"-arrow-loading"),Fr)),customizeIcon:dr,customizeIconProps:{loading:Fr,searchValue:ue,open:Di,focused:hl,showSearch:Fd}}));var ag=st()(_e,Ie,(ye={},Object(de.a)(ye,"".concat(_e,"-focused"),hl),Object(de.a)(ye,"".concat(_e,"-multiple"),Qs),Object(de.a)(ye,"".concat(_e,"-single"),!Qs),Object(de.a)(ye,"".concat(_e,"-allow-clear"),sr),Object(de.a)(ye,"".concat(_e,"-show-arrow"),zv),Object(de.a)(ye,"".concat(_e,"-disabled"),on),Object(de.a)(ye,"".concat(_e,"-loading"),Fr),Object(de.a)(ye,"".concat(_e,"-open"),Di),Object(de.a)(ye,"".concat(_e,"-customize-input"),In),Object(de.a)(ye,"".concat(_e,"-show-search"),Fd),ye));return N.createElement("div",Object.assign({className:ag},Hn,{ref:Po,onMouseDown:lo,onKeyDown:Gn,onKeyUp:Pr,onFocus:Yt,onBlur:oi}),hl&&!Di&&N.createElement("span",{style:{width:0,height:0,display:"flex",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(s.join(", "))),N.createElement(Mg,{ref:aa,disabled:on,prefixCls:_e,visible:To,popupElement:Bv,containerWidth:xi,animation:Ci,transitionName:di,dropdownStyle:Ji,dropdownClassName:qi,direction:Bn,dropdownMatchSelectWidth:Ri,dropdownRender:zo,dropdownAlign:ni,getPopupContainer:En,empty:!me.length,getTriggerDOMNode:function(){return xc.current}},N.createElement(e0,Object.assign({},se,{domRef:xc,prefixCls:_e,inputElement:In,ref:fs,id:Cs,showSearch:Fd,mode:qe,accessibilityIndex:vo,multiple:Qs,tagRender:Xr,values:_t,open:Di,onToggleOpen:ho,searchValue:ue,activeValue:E,onSearch:la,onSearchSubmit:Fa,onSelect:cn,tokenWithEnter:yc}))),jv,og)}var ce=N.forwardRef(oe);return ce}function t0(c){var d=c.mode,y=c.options,g=c.children,w=c.backfill,I=c.allowClear,B=c.placeholder,j=c.getInputElement,W=c.showSearch,Z=c.onSearch,ee=c.defaultOpen,te=c.autoFocus,oe=c.labelInValue,ce=c.value,se=c.inputValue,Ce=c.optionLabelProp,ye=d==="multiple"||d==="tags",Se=W!==void 0?W:ye||d==="combobox",_e=y||Ns(g);if(Object(Xo.a)(d!=="tags"||_e.every(function(ke){return!ke.disabled}),"Please avoid setting option to disabled in tags mode since user can always type text as tag."),d==="tags"||d==="combobox"){var Ie=_e.some(function(ke){return ke.options?ke.options.some(function(Ze){return typeof("value"in Ze?Ze.value:Ze.key)=="number"}):typeof("value"in ke?ke.value:ke.key)=="number"});Object(Xo.a)(!Ie,"`value` of Option should not use number type when `mode` is `tags` or `combobox`.")}if(Object(Xo.a)(d!=="combobox"||!Ce,"`combobox` mode not support `optionLabelProp`. Please set `value` on Option directly."),Object(Xo.a)(d==="combobox"||!w,"`backfill` only works with `combobox` mode."),Object(Xo.a)(d==="combobox"||!j,"`getInputElement` only work with `combobox` mode."),Object(Xo.b)(d!=="combobox"||!j||!I||!B,"Customize `getInputElement` should customize clear and placeholder logic instead of configuring `allowClear` and `placeholder`."),Z&&!Se&&d!=="combobox"&&d!=="tags"&&Object(Xo.a)(!1,"`onSearch` should work with `showSearch` instead of use alone."),Object(Xo.b)(!ee||te,"`defaultOpen` makes Select open without focus which means it will not close by click outside. You can set `autoFocus` if needed."),ce!=null){var Ge=_s(ce);Object(Xo.a)(!oe||Ge.every(function(ke){return Object(ft.a)(ke)==="object"&&("key"in ke||"value"in ke)}),"`value` should in shape of `{ value: string | number, label?: ReactNode }` when you set `labelInValue` to `true`"),Object(Xo.a)(!ye||Array.isArray(ce),"`value` should be array when `mode` is `multiple` or `tags`")}if(g){var je=null;Object(yu.a)(g).some(function(ke){if(!N.isValidElement(ke)||!ke.type)return!1;var Ze=ke.type;if(Ze.isSelectOption)return!1;if(Ze.isSelectOptGroup){var He=Object(yu.a)(ke.props.children).every(function(qe){return!N.isValidElement(qe)||!ke.type||qe.type.isSelectOption?!0:(je=qe.type,!1)});return!He}return je=Ze,!0}),je&&Object(Xo.a)(!1,"`children` should be `Select.Option` or `Select.OptGroup` instead of `".concat(je.displayName||je.name||je,"`.")),Object(Xo.a)(se===void 0,"`inputValue` is deprecated, please use `searchValue` instead.")}}var r0=t0,zc=Bc({prefixCls:"rc-select",components:{optionList:fx},convertChildrenToData:Ns,flattenOptions:gh,getLabeledValue:Pu,filterOptions:Ou,isValueDisabled:Vy,findValueOption:Rl,warningProps:r0,fillOptionsWithMissingValue:hf}),$d=function(c){Object(ti.a)(y,c);var d=Object(Xa.a)(y);function y(){var g;return Object(vn.a)(this,y),g=d.apply(this,arguments),g.selectRef=N.createRef(),g.focus=function(){g.selectRef.current.focus()},g.blur=function(){g.selectRef.current.blur()},g}return Object(No.a)(y,[{key:"render",value:function(){return N.createElement(zc,Object.assign({ref:this.selectRef},this.props))}}]),y}(N.Component);$d.Option=lf,$d.OptGroup=ms;var jc=$d,nl=jc,Wy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},gf=Wy,ld=function(d,y){return N.createElement(Ls.a,Object.assign({},d,{ref:y,icon:gf}))};ld.displayName="SearchOutlined";var rc=N.forwardRef(ld);function vh(c){var d=c.suffixIcon,y=c.clearIcon,g=c.menuItemSelectedIcon,w=c.removeIcon,I=c.loading,B=c.multiple,j=c.prefixCls,W=y;y||(W=N.createElement(bs.a,null));var Z=null;if(d!==void 0)Z=d;else if(I)Z=N.createElement(ef.a,{spin:!0});else{var ee="".concat(j,"-suffix");Z=function(se){var Ce=se.open,ye=se.showSearch;return Ce&&ye?N.createElement(rc,{className:ee}):N.createElement(Gp.a,{className:ee})}}var te=null;g!==void 0?te=g:B?te=N.createElement(ws.a,null):te=null;var oe=null;return w!==void 0?oe=w:oe=N.createElement(_n.a,null),{clearIcon:W,suffixIcon:Z,itemIcon:te,removeIcon:oe}}var Tg=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y},ep="SECRET_COMBOBOX_MODE_DO_NOT_USE",Uc=function(d,y){var g,w=d.prefixCls,I=d.bordered,B=I===void 0?!0:I,j=d.className,W=d.getPopupContainer,Z=d.dropdownClassName,ee=d.listHeight,te=ee===void 0?256:ee,oe=d.listItemHeight,ce=oe===void 0?24:oe,se=d.size,Ce=d.notFoundContent,ye=d.transitionName,Se=ye===void 0?"slide-up":ye,_e=Tg(d,["prefixCls","bordered","className","getPopupContainer","dropdownClassName","listHeight","listItemHeight","size","notFoundContent","transitionName"]),Ie=N.useContext(br.b),Ge=Ie.getPopupContainer,je=Ie.getPrefixCls,ke=Ie.renderEmpty,Ze=Ie.direction,He=Ie.virtual,qe=Ie.dropdownMatchSelectWidth,et=N.useContext(ou.b),nt=je("select",w),At=N.useMemo(function(){var nr=_e.mode;if(nr!=="combobox")return nr===ep?"combobox":nr},[_e.mode]),ot=At==="multiple"||At==="tags",gt;Ce!==void 0?gt=Ce:At==="combobox"?gt=null:gt=ke("Select");var wt=vh(Object(xe.a)(Object(xe.a)({},_e),{multiple:ot,prefixCls:nt})),St=wt.suffixIcon,bt=wt.itemIcon,Rt=wt.removeIcon,Xt=wt.clearIcon,Gt=Object(Ar.a)(_e,["suffixIcon","itemIcon"]),tr=st()(Z,Object(de.a)({},"".concat(nt,"-dropdown-").concat(Ze),Ze==="rtl")),Jt=se||et,sr=st()((g={},Object(de.a)(g,"".concat(nt,"-lg"),Jt==="large"),Object(de.a)(g,"".concat(nt,"-sm"),Jt==="small"),Object(de.a)(g,"".concat(nt,"-rtl"),Ze==="rtl"),Object(de.a)(g,"".concat(nt,"-borderless"),!B),g),j);return N.createElement(nl,Object(xe.a)({ref:y,virtual:He,dropdownMatchSelectWidth:qe},Gt,{transitionName:Se,listHeight:te,listItemHeight:ce,mode:At,prefixCls:nt,direction:Ze,inputIcon:St,menuItemSelectedIcon:bt,removeIcon:Rt,clearIcon:Xt,notFoundContent:gt,className:sr,getPopupContainer:W||Ge,dropdownClassName:tr}))},Ms=N.forwardRef(Uc),Oa=Ms;Oa.SECRET_COMBOBOX_MODE_DO_NOT_USE=ep,Oa.Option=lf,Oa.OptGroup=ms;var ta=Oa,Xi=ae("uNoE"),Es=ae.n(Xi),Tr=ae("nKUr"),Ig=ta.Option,gs={labelCol:{span:8},wrapperCol:{span:12}},Ql=function(d){var y=d.rootAlgoData,g=d.setRootAlgoData,w=d.setCurrentStep,I=y.algorithm,B=y.initialTemp,j=y.finalTemp,W=y.coolingRate,Z=y.chainLength,ee=Object(N.useState)(I),te=Object(Sn.a)(ee,2),oe=te[0],ce=te[1],se=Ia.useForm(),Ce=Object(Sn.a)(se,1),ye=Ce[0];if(!y)return null;var Se=function(){var Ge=Object(Zh.a)(Hs.a.mark(function je(){var ke;return Hs.a.wrap(function(He){for(;;)switch(He.prev=He.next){case 0:return He.prev=0,He.next=3,ye.validateFields();case 3:if(ke=He.sent,oe!=="SA"){He.next=10;break}if(!(ke.initialTemp<=0||ke.finalTemp<=0||ke.initialTemp<=ke.finalTemp||ke.coolingRate<=0||ke.coolingRate>=1||ke.chainLength<=1)){He.next=8;break}return Ss.default.error("\u7B97\u6CD5\u7684\u4F20\u5165\u53C2\u6570\u6216\u5176\u7EC4\u5408\u4E0D\u5408\u6CD5\uFF01"),He.abrupt("return");case 8:He.next=12;break;case 10:return Ss.default.error("\u9009\u4E2D\u7B97\u6CD5\u6CA1\u5199"),He.abrupt("return");case 12:g(Object(wo.a)(Object(wo.a)({},y),ke)),w("step2"),He.next=19;break;case 16:He.prev=16,He.t0=He.catch(0),console.log("Save failed:",He.t0);case 19:case"end":return He.stop()}},je,null,[[0,16]])}));return function(){return Ge.apply(this,arguments)}}(),_e=function(je){ce(je)},Ie=function(je){switch(je){case"SA":return Object(Tr.jsxs)(Tr.Fragment,{children:[Object(Tr.jsx)(Ia.Item,{label:"\u521D\u59CB\u6E29\u5EA6",name:"initialTemp",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u521D\u59CB\u6E29\u5EA6"}],"data-inspector-line":"72","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx",children:Object(Tr.jsx)(On,{className:Es.a.numInput,initialValues:B,min:1,step:1e3,formatter:function(Ze){return"".concat(Ze,"  'C")},parser:function(Ze){return Ze?Ze.replace("  'C",""):B},"data-inspector-line":"77","data-inspector-column":"14","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx"})}),Object(Tr.jsx)(Ia.Item,{label:"\u7EC8\u6B62\u6E29\u5EA6",name:"finalTemp",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7EC8\u6B62\u6E29\u5EA6"}],"data-inspector-line":"86","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx",children:Object(Tr.jsx)(On,{className:Es.a.numInput,initialValues:j,min:1,step:1,formatter:function(Ze){return"".concat(Ze,"  'C")},parser:function(Ze){return Ze?Ze.replace("  'C",""):j},"data-inspector-line":"91","data-inspector-column":"14","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx"})}),Object(Tr.jsx)(Ia.Item,{label:"\u964D\u6E29\u901F\u7387",name:"coolingRate",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u964D\u6E29\u901F\u7387"}],"data-inspector-line":"100","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx",children:Object(Tr.jsx)(On,{className:Es.a.numInput,initialValues:W,min:0,max:.99,step:.1,"data-inspector-line":"105","data-inspector-column":"14","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx"})}),Object(Tr.jsx)(Ia.Item,{label:"Markov \u94FE\u957F",name:"chainLength",rules:[{required:!0,message:"\u8BF7\u8F93\u5165 Markov \u94FE\u957F"}],"data-inspector-line":"113","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx",children:Object(Tr.jsx)(On,{className:Es.a.numInput,initialValues:Z,min:1,max:500,step:10,"data-inspector-line":"118","data-inspector-column":"14","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx"})})]});case"GA":return Object(Tr.jsx)(Ia.Item,{label:"\u6F14\u793A",name:"param",rules:[{required:!0,message:"\u8BF7\u8F93\u5165"}],"data-inspector-line":"130","data-inspector-column":"10","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx",children:Object(Tr.jsx)(On,{className:Es.a.numInput,initialValues:1,"data-inspector-line":"135","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx"})});default:return Object(Tr.jsx)(Tr.Fragment,{})}};return Object(Tr.jsxs)(Ia,Object(wo.a)(Object(wo.a)({},gs),{},{form:ye,layout:"horizontal",className:Es.a.stepForm,hideRequiredMark:!0,initialValues:y,"data-inspector-line":"147","data-inspector-column":"4","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx",children:[Object(Tr.jsx)(ug,{"data-inspector-line":"155","data-inspector-column":"6","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx"}),Object(Tr.jsx)(Ia.Item,{label:"\u7B97\u6CD5\u9009\u62E9",name:"algorithm",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7B97\u6CD5"}],"data-inspector-line":"156","data-inspector-column":"6","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx",children:Object(Tr.jsxs)(ta,{placeholder:"\u8BF7\u9009\u62E9",onChange:_e,"data-inspector-line":"161","data-inspector-column":"8","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx",children:[Object(Tr.jsx)(Ig,{value:"SA","data-inspector-line":"162","data-inspector-column":"10","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx",children:"\u6A21\u62DF\u9000\u706B\u7B97\u6CD5"}),Object(Tr.jsx)(Ig,{value:"GA","data-inspector-line":"163","data-inspector-column":"10","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx",children:"\u9057\u4F20\u7B97\u6CD5"})]})}),Ie(oe),Object(Tr.jsx)(Ia.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:gs.wrapperCol.span,offset:gs.labelCol.span}},"data-inspector-line":"167","data-inspector-column":"6","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx",children:Object(Tr.jsx)(Cu.a,{type:"primary",onClick:Se,"data-inspector-line":"176","data-inspector-column":"8","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step1Form\\\\index.tsx",children:"\u4E0B\u4E00\u6B65"})})]}))},po=Ql,Fi=ae("fOrg"),yh=ae("+KLJ"),za=ae("DYRE"),Ra=ae("zeV3"),yl=ae("tU7J"),kc=ae("wFql"),nc=ae("pED+"),ic=ae("R9oj"),n0=ae("KPFz"),oA=ae("KCY9"),i0=ae("qVdP"),o0=ae("T2oS"),$l=ae("DjyN"),Dl=ae("x/xZ"),Xs=ae("Gytx"),xh=ae.n(Xs),ko=ae("qx4F");function Ja(c){return null}var Kr=Ja;function lm(c){return null}var a0=lm,tp="RC_TABLE_KEY";function um(c){return c==null?[]:Array.isArray(c)?c:[c]}function ud(c,d){if(!d&&typeof d!="number")return c;for(var y=um(d),g=c,w=0;w<y.length;w+=1){if(!g)return null;var I=y[w];g=g[I]}return g}function rp(c){var d=[],y={};return c.forEach(function(g){for(var w=g||{},I=w.key,B=w.dataIndex,j=I||um(B).join("-")||tp;y[j];)j="".concat(j,"_next");y[j]=!0,d.push(j)}),d}function vf(){var c={};function d(I,B){B&&Object.keys(B).forEach(function(j){var W=B[j];W&&Object(ft.a)(W)==="object"?(I[j]=I[j]||{},d(I[j],W)):I[j]=W})}for(var y=arguments.length,g=new Array(y),w=0;w<y;w++)g[w]=arguments[w];return g.forEach(function(I){d(c,I)}),c}function il(c){return c!=null}function dx(c){return c&&Object(ft.a)(c)==="object"&&!Array.isArray(c)&&!N.isValidElement(c)}function yf(c){return typeof c=="string"?!0:Object(Qh.c)(c)}function Pg(c,d){var y,g=c.prefixCls,w=c.className,I=c.record,B=c.index,j=c.dataIndex,W=c.render,Z=c.children,ee=c.component,te=ee===void 0?"td":ee,oe=c.colSpan,ce=c.rowSpan,se=c.fixLeft,Ce=c.fixRight,ye=c.firstFixLeft,Se=c.lastFixLeft,_e=c.firstFixRight,Ie=c.lastFixRight,Ge=c.appendNode,je=c.additionalProps,ke=je===void 0?{}:je,Ze=c.ellipsis,He=c.align,qe=c.rowType,et=c.isSticky,nt="".concat(g,"-cell"),At,ot;if(Z)ot=Z;else{var gt=ud(I,j);if(ot=gt,W){var wt=W(gt,I,B);dx(wt)?(ot=wt.children,At=wt.props):ot=wt}}Object(ft.a)(ot)==="object"&&!Array.isArray(ot)&&!N.isValidElement(ot)&&(ot=null),Ze&&(Se||_e)&&(ot=N.createElement("span",{className:"".concat(nt,"-content")},ot));var St=At||{},bt=St.colSpan,Rt=St.rowSpan,Xt=St.style,Gt=St.className,tr=Object(ua.a)(St,["colSpan","rowSpan","style","className"]),Jt=bt!==void 0?bt:oe,sr=Rt!==void 0?Rt:ce;if(Jt===0||sr===0)return null;var nr={},Or=typeof se=="number",dr=typeof Ce=="number";Or&&(nr.position="sticky",nr.left=se),dr&&(nr.position="sticky",nr.right=Ce);var Mr={};He&&(Mr.textAlign=He);var on,Fr=Ze===!0?{showTitle:!0}:Ze;Fr&&(Fr.showTitle||qe==="header")&&(typeof ot=="string"||typeof ot=="number"?on=ot.toString():N.isValidElement(ot)&&typeof ot.props.children=="string"&&(on=ot.props.children));var wn=Object(ur.a)(Object(ur.a)(Object(ur.a)({title:on},tr),ke),{},{colSpan:Jt&&Jt!==1?Jt:null,rowSpan:sr&&sr!==1?sr:null,className:st()(nt,w,(y={},Object(de.a)(y,"".concat(nt,"-fix-left"),Or),Object(de.a)(y,"".concat(nt,"-fix-left-first"),ye),Object(de.a)(y,"".concat(nt,"-fix-left-last"),Se),Object(de.a)(y,"".concat(nt,"-fix-right"),dr),Object(de.a)(y,"".concat(nt,"-fix-right-first"),_e),Object(de.a)(y,"".concat(nt,"-fix-right-last"),Ie),Object(de.a)(y,"".concat(nt,"-ellipsis"),Ze),Object(de.a)(y,"".concat(nt,"-with-append"),Ge),Object(de.a)(y,"".concat(nt,"-fix-sticky"),(Or||dr)&&et),y),ke.className,Gt),style:Object(ur.a)(Object(ur.a)(Object(ur.a)(Object(ur.a)({},ke.style),Mr),nr),Xt),ref:yf(te)?d:null});return N.createElement(te,wn,Ge,ot)}var eu=N.forwardRef(Pg);eu.displayName="Cell";var Og=N.memo(eu,function(c,d){return d.shouldCellUpdate?!d.shouldCellUpdate(d.record,c.record):!1}),cd=Og,np=N.createContext(null),ol=np;function oc(c,d,y,g,w){var I=y[c]||{},B=y[d]||{},j,W;I.fixed==="left"?j=g.left[c]:B.fixed==="right"&&(W=g.right[d]);var Z=!1,ee=!1,te=!1,oe=!1,ce=y[d+1],se=y[c-1];if(w==="rtl"){if(j!==void 0){var Ce=se&&se.fixed==="left";oe=!Ce}else if(W!==void 0){var ye=ce&&ce.fixed==="right";te=!ye}}else if(j!==void 0){var Se=ce&&ce.fixed==="left";Z=!Se}else if(W!==void 0){var _e=se&&se.fixed==="right";ee=!_e}return{fixLeft:j,fixRight:W,lastFixLeft:Z,firstFixRight:ee,lastFixRight:te,firstFixLeft:oe,isSticky:g.isSticky}}function Yy(c){var d=c.cells,y=c.stickyOffsets,g=c.flattenColumns,w=c.rowComponent,I=c.cellComponent,B=c.onHeaderRow,j=c.index,W=N.useContext(ol),Z=W.prefixCls,ee=W.direction,te;B&&(te=B(d.map(function(ce){return ce.column}),j));var oe=rp(d.map(function(ce){return ce.column}));return N.createElement(w,te,d.map(function(ce,se){var Ce=ce.column,ye=oc(ce.colStart,ce.colEnd,g,y,ee),Se;return Ce&&Ce.onHeaderCell&&(Se=ce.column.onHeaderCell(Ce)),N.createElement(cd,Object(xe.a)({},ce,{ellipsis:Ce.ellipsis,align:Ce.align,component:I,prefixCls:Z,key:oe[se]},ye,{additionalProps:Se,rowType:"header"}))}))}Yy.displayName="HeaderRow";var s0=Yy;function Mo(c){var d=[];function y(B,j){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;d[W]=d[W]||[];var Z=j,ee=B.filter(Boolean).map(function(te){var oe={key:te.key,className:te.className||"",children:te.title,column:te,colStart:Z},ce=1,se=te.children;return se&&se.length>0&&(ce=y(se,Z,W+1).reduce(function(Ce,ye){return Ce+ye},0),oe.hasSubColumns=!0),"colSpan"in te&&(ce=te.colSpan),"rowSpan"in te&&(oe.rowSpan=te.rowSpan),oe.colSpan=ce,oe.colEnd=oe.colStart+ce-1,d[W].push(oe),Z+=ce,ce});return ee}y(c,0);for(var g=d.length,w=function(j){d[j].forEach(function(W){!("rowSpan"in W)&&!W.hasSubColumns&&(W.rowSpan=g-j)})},I=0;I<g;I+=1)w(I);return d}function px(c){var d=c.stickyOffsets,y=c.columns,g=c.flattenColumns,w=c.onHeaderRow,I=N.useContext(ol),B=I.prefixCls,j=I.getComponent,W=N.useMemo(function(){return Mo(y)},[y]),Z=j(["header","wrapper"],"thead"),ee=j(["header","row"],"tr"),te=j(["header","cell"],"th");return N.createElement(Z,{className:"".concat(B,"-thead")},W.map(function(oe,ce){var se=N.createElement(s0,{key:ce,flattenColumns:g,cells:oe,stickyOffsets:d,rowComponent:ee,cellComponent:te,onHeaderRow:w,index:ce});return se}))}var l0=px,ip="RC_TABLE_INTERNAL_COL_DEFINE";function Rg(c){var d=c.expandable,y=Object(ua.a)(c,["expandable"]);return"expandable"in c?Object(ur.a)(Object(ur.a)({},y),d):y}function mx(c){return Object.keys(c).reduce(function(d,y){return(y.substr(0,5)==="data-"||y.substr(0,5)==="aria-")&&(d[y]=c[y]),d},{})}function u0(c){for(var d=c.colWidths,y=c.columns,g=c.columCount,w=[],I=g||y.length,B=!1,j=I-1;j>=0;j-=1){var W=d[j],Z=y&&y[j],ee=Z&&Z[ip];(W||ee||B)&&(w.unshift(N.createElement("col",Object(xe.a)({key:j,style:{width:W,minWidth:W}},ee))),B=!0)}return N.createElement("colgroup",null,w)}var al=u0;function gx(c,d){return Object(N.useMemo)(function(){for(var y=[],g=0;g<d;g+=1){var w=c[g];if(w!==void 0)y[g]=w;else return null}return y},[c.join("_"),d])}var cm=N.forwardRef(function(c,d){var y=c.noData,g=c.columns,w=c.flattenColumns,I=c.colWidths,B=c.columCount,j=c.stickyOffsets,W=c.direction,Z=c.fixHeader,ee=c.offsetHeader,te=c.stickyClassName,oe=c.onScroll,ce=Object(ua.a)(c,["noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","offsetHeader","stickyClassName","onScroll"]),se=N.useContext(ol),Ce=se.prefixCls,ye=se.scrollbarSize,Se=se.isSticky,_e=Se&&!Z?0:ye,Ie=N.useRef(null),Ge=N.useCallback(function(nt){Object(Qh.b)(d,nt),Object(Qh.b)(Ie,nt)},[]);N.useEffect(function(){var nt;function At(ot){var gt=ot.currentTarget,wt=ot.deltaX;wt&&(oe({currentTarget:gt,scrollLeft:gt.scrollLeft+wt}),ot.preventDefault())}return(nt=Ie.current)===null||nt===void 0||nt.addEventListener("wheel",At),function(){var ot;(ot=Ie.current)===null||ot===void 0||ot.removeEventListener("wheel",At)}},[]);var je=w[w.length-1],ke={fixed:je?je.fixed:null,onHeaderCell:function(){return{className:"".concat(Ce,"-cell-scrollbar")}}},Ze=Object(N.useMemo)(function(){return _e?[].concat(Object($t.a)(g),[ke]):g},[_e,g]),He=Object(N.useMemo)(function(){return _e?[].concat(Object($t.a)(w),[ke]):w},[_e,w]),qe=Object(N.useMemo)(function(){var nt=j.right,At=j.left;return Object(ur.a)(Object(ur.a)({},j),{},{left:W==="rtl"?[].concat(Object($t.a)(At.map(function(ot){return ot+_e})),[0]):At,right:W==="rtl"?nt:[].concat(Object($t.a)(nt.map(function(ot){return ot+_e})),[0]),isSticky:Se})},[_e,j,Se]),et=gx(I,B);return N.createElement("div",{style:Object(ur.a)({overflow:"hidden"},Se?{top:ee}:{}),ref:Ge,className:st()("".concat(Ce,"-header"),Object(de.a)({},te,!!te))},N.createElement("table",{style:{tableLayout:"fixed",visibility:y||et?null:"hidden"}},N.createElement(al,{colWidths:et?[].concat(Object($t.a)(et),[_e]):[],columCount:B+1,columns:He}),N.createElement(l0,Object(xe.a)({},ce,{stickyOffsets:qe,columns:Ze,flattenColumns:He}))))});cm.displayName="FixedHeader";var Lg=cm,vx=N.createContext(null),hm=vx;function Fs(c){var d=c.prefixCls,y=c.children,g=c.component,w=c.cellComponent,I=c.fixHeader,B=c.fixColumn,j=c.horizonScroll,W=c.className,Z=c.expanded,ee=c.componentWidth,te=c.colSpan,oe=N.useContext(ol),ce=oe.scrollbarSize;return N.useMemo(function(){var se=y;return B&&(se=N.createElement("div",{style:{width:ee-(I?ce:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(d,"-expanded-row-fixed")},se)),N.createElement(g,{className:W,style:{display:Z?null:"none"}},N.createElement(cd,{component:w,prefixCls:d,colSpan:te},se))},[y,g,I,j,W,Z,ee,te,ce])}var xl=Fs;function as(c){var d=c.className,y=c.style,g=c.record,w=c.index,I=c.rowKey,B=c.getRowKey,j=c.rowExpandable,W=c.expandedKeys,Z=c.onRow,ee=c.indent,te=ee===void 0?0:ee,oe=c.rowComponent,ce=c.cellComponent,se=c.childrenColumnName,Ce=N.useContext(ol),ye=Ce.prefixCls,Se=Ce.fixedInfoList,_e=N.useContext(hm),Ie=_e.fixHeader,Ge=_e.fixColumn,je=_e.horizonScroll,ke=_e.componentWidth,Ze=_e.flattenColumns,He=_e.expandableType,qe=_e.expandRowByClick,et=_e.onTriggerExpand,nt=_e.rowClassName,At=_e.expandedRowClassName,ot=_e.indentSize,gt=_e.expandIcon,wt=_e.expandedRowRender,St=_e.expandIconColumnIndex,bt=N.useState(!1),Rt=Object(ar.a)(bt,2),Xt=Rt[0],Gt=Rt[1],tr=W&&W.has(c.recordKey);N.useEffect(function(){tr&&Gt(!0)},[tr]);var Jt=He==="row"&&(!j||j(g)),sr=He==="nest",nr=se&&g&&g[se],Or=Jt||sr,dr;Z&&(dr=Z(g,w));var Mr=function(Dr){if(qe&&Or&&et(g,Dr),dr&&dr.onClick){for(var En,Jr=arguments.length,qr=new Array(Jr>1?Jr-1:0),Tn=1;Tn<Jr;Tn++)qr[Tn-1]=arguments[Tn];(En=dr).onClick.apply(En,[Dr].concat(qr))}},on;typeof nt=="string"?on=nt:typeof nt=="function"&&(on=nt(g,w,te));var Fr=rp(Ze),wn=N.createElement(oe,Object(xe.a)({},dr,{"data-row-key":I,className:st()(d,"".concat(ye,"-row"),"".concat(ye,"-row-level-").concat(te),on,dr&&dr.className),style:Object(ur.a)(Object(ur.a)({},y),dr?dr.style:null),onClick:Mr}),Ze.map(function(rn,Dr){var En=rn.render,Jr=rn.dataIndex,qr=rn.className,Tn=Fr[Dr],Ln=Se[Dr],Ci;Dr===(St||0)&&sr&&(Ci=N.createElement(N.Fragment,null,N.createElement("span",{style:{paddingLeft:"".concat(ot*te,"px")},className:"".concat(ye,"-row-indent indent-level-").concat(te)}),gt({prefixCls:ye,expanded:tr,expandable:nr,record:g,onExpand:et})));var di;return rn.onCell&&(di=rn.onCell(g,w)),N.createElement(cd,Object(xe.a)({className:qr,ellipsis:rn.ellipsis,align:rn.align,component:ce,prefixCls:ye,key:Tn,record:g,index:w,dataIndex:Jr,render:En,shouldCellUpdate:rn.shouldCellUpdate},Ln,{appendNode:Ci,additionalProps:di}))})),Ir;if(Jt&&(Xt||tr)){var hn=wt(g,w,te+1,tr),Fn=At&&At(g,w,te);Ir=N.createElement(xl,{expanded:tr,className:st()("".concat(ye,"-expanded-row"),"".concat(ye,"-expanded-row-level-").concat(te+1),Fn),prefixCls:ye,fixHeader:Ie,fixColumn:Ge,horizonScroll:je,component:oe,componentWidth:ke,cellComponent:ce,colSpan:Ze.length},hn)}var xn;return nr&&tr&&(xn=(g[se]||[]).map(function(rn,Dr){var En=B(rn,Dr);return N.createElement(as,Object(xe.a)({},c,{key:En,rowKey:En,record:rn,recordKey:En,index:Dr,indent:te+1}))})),N.createElement(N.Fragment,null,wn,Ir,xn)}as.displayName="BodyRow";var Dg=as,Hc=N.createContext(null),xf=Hc;function c0(c){var d=c.columnKey,y=c.onColumnResize,g=N.useRef();return N.useEffect(function(){g.current&&y(d,g.current.offsetWidth)},[]),N.createElement(_u.a,{onResize:function(I){var B=I.offsetWidth;y(d,B)}},N.createElement("td",{ref:g,style:{padding:0,border:0,height:0}},N.createElement("div",{style:{height:0,overflow:"hidden"}},"\xA0")))}function Du(c){var d=c.data,y=c.getRowKey,g=c.measureColumnWidth,w=c.expandedKeys,I=c.onRow,B=c.rowExpandable,j=c.emptyNode,W=c.childrenColumnName,Z=N.useContext(xf),ee=Z.onColumnResize,te=N.useContext(ol),oe=te.prefixCls,ce=te.getComponent,se=N.useContext(hm),Ce=se.fixHeader,ye=se.horizonScroll,Se=se.flattenColumns,_e=se.componentWidth;return N.useMemo(function(){var Ie=ce(["body","wrapper"],"tbody"),Ge=ce(["body","row"],"tr"),je=ce(["body","cell"],"td"),ke;d.length?ke=d.map(function(He,qe){var et=y(He,qe);return N.createElement(Dg,{key:et,rowKey:et,record:He,recordKey:et,index:qe,rowComponent:Ge,cellComponent:je,expandedKeys:w,onRow:I,getRowKey:y,rowExpandable:B,childrenColumnName:W})}):ke=N.createElement(xl,{expanded:!0,className:"".concat(oe,"-placeholder"),prefixCls:oe,fixHeader:Ce,fixColumn:ye,horizonScroll:ye,component:Ge,componentWidth:_e,cellComponent:je,colSpan:Se.length},j);var Ze=rp(Se);return N.createElement(Ie,{className:"".concat(oe,"-tbody")},g&&N.createElement("tr",{"aria-hidden":"true",className:"".concat(oe,"-measure-row"),style:{height:0,fontSize:0}},Ze.map(function(He){return N.createElement(c0,{key:He,columnKey:He,onColumnResize:ee})})),ke)},[d,oe,I,g,w,y,ce,_e,j,Se])}var fm=N.memo(Du);fm.displayName="Body";var h0=fm;function Vc(c){return Object(yu.a)(c).filter(function(d){return N.isValidElement(d)}).map(function(d){var y=d.key,g=d.props,w=g.children,I=Object(ua.a)(g,["children"]),B=Object(ur.a)({key:y},I);return w&&(B.children=Vc(w)),B})}function dm(c){return c.reduce(function(d,y){var g=y.fixed,w=g===!0?"left":g,I=y.children;return I&&I.length>0?[].concat(Object($t.a)(d),Object($t.a)(dm(I).map(function(B){return Object(ur.a)({fixed:w},B)}))):[].concat(Object($t.a)(d),[Object(ur.a)(Object(ur.a)({},y),{},{fixed:w})])},[])}function Ch(c){for(var d=!0,y=0;y<c.length;y+=1){var g=c[y];if(d&&g.fixed!=="left")d=!1;else if(!d&&g.fixed==="left"){Object(Xo.a)(!1,"Index ".concat(y-1," of `columns` missing `fixed='left'` prop."));break}}for(var w=!0,I=c.length-1;I>=0;I-=1){var B=c[I];if(w&&B.fixed!=="right")w=!1;else if(!w&&B.fixed==="right"){Object(Xo.a)(!1,"Index ".concat(I+1," of `columns` missing `fixed='right'` prop."));break}}}function Xy(c){return c.map(function(d){var y=d.fixed,g=Object(ua.a)(d,["fixed"]),w=y;return y==="left"?w="right":y==="right"&&(w="left"),Object(ur.a)({fixed:w},g)})}function Ng(c,d){var y=c.prefixCls,g=c.columns,w=c.children,I=c.expandable,B=c.expandedKeys,j=c.getRowKey,W=c.onTriggerExpand,Z=c.expandIcon,ee=c.rowExpandable,te=c.expandIconColumnIndex,oe=c.direction,ce=c.expandRowByClick,se=c.columnWidth,Ce=N.useMemo(function(){return g||Vc(w)},[g,w]),ye=N.useMemo(function(){if(I){var Ie,Ge=te||0,je=Ce[Ge],ke=(Ie={},Object(de.a)(Ie,ip,{className:"".concat(y,"-expand-icon-col")}),Object(de.a)(Ie,"title",""),Object(de.a)(Ie,"fixed",je?je.fixed:null),Object(de.a)(Ie,"className","".concat(y,"-row-expand-icon-cell")),Object(de.a)(Ie,"width",se),Object(de.a)(Ie,"render",function(qe,et,nt){var At=j(et,nt),ot=B.has(At),gt=ee?ee(et):!0,wt=Z({prefixCls:y,expanded:ot,expandable:gt,record:et,onExpand:W});return ce?N.createElement("span",{onClick:function(bt){return bt.stopPropagation()}},wt):wt}),Ie),Ze=Ce.slice();return Ge>=0&&Ze.splice(Ge,0,ke),Ze}return Ce},[I,Ce,j,B,Z,oe]),Se=N.useMemo(function(){var Ie=ye;return d&&(Ie=d(Ie)),Ie.length||(Ie=[{render:function(){return null}}]),Ie},[d,ye,oe]),_e=N.useMemo(function(){return oe==="rtl"?Xy(dm(Se)):dm(Se)},[Se,oe]);return[Se,_e]}var f0=Ng;function d0(c){var d=Object(N.useRef)(c),y=Object(N.useState)({}),g=Object(ar.a)(y,2),w=g[1],I=Object(N.useRef)(null),B=Object(N.useRef)([]);function j(W){B.current.push(W);var Z=Promise.resolve();I.current=Z,Z.then(function(){if(I.current===Z){var ee=B.current,te=d.current;B.current=[],ee.forEach(function(oe){d.current=oe(d.current)}),I.current=null,te!==d.current&&w({})}})}return Object(N.useEffect)(function(){return function(){I.current=null}},[]),[d.current,j]}function Zy(c){var d=Object(N.useRef)(c||null),y=Object(N.useRef)();function g(){window.clearTimeout(y.current)}function w(B){d.current=B,g(),y.current=window.setTimeout(function(){d.current=null,y.current=void 0},100)}function I(){return d.current}return Object(N.useEffect)(function(){return g},[]),[w,I]}function p0(c,d,y){var g=Object(N.useMemo)(function(){for(var w=[],I=[],B=0,j=0,W=0;W<d;W+=1)if(y==="rtl"){I[W]=j,j+=c[W]||0;var Z=d-W-1;w[Z]=B,B+=c[Z]||0}else{w[W]=B,B+=c[W]||0;var ee=d-W-1;I[ee]=j,j+=c[ee]||0}return{left:w,right:I}},[c,d,y]);return g}var m0=p0;function Ky(c){var d=c.className,y=c.children;return N.createElement("div",{className:d},y)}var Nu=Ky;function yx(c){var d=c.className,y=c.index,g=c.children,w=c.colSpan,I=c.rowSpan,B=c.align,j=N.useContext(ol),W=j.prefixCls,Z=j.fixedInfoList,ee=Z[y];return N.createElement(cd,Object(xe.a)({className:d,index:y,component:"td",prefixCls:W,record:null,dataIndex:null,align:B,render:function(){return{children:g,props:{colSpan:w,rowSpan:I}}}},ee))}function Fg(c){return N.createElement("tr",c)}function Nl(c){var d=c.children,y=N.useContext(ol),g=y.prefixCls;return N.createElement("tfoot",{className:"".concat(g,"-summary")},d)}var Gc=Nl,op={Cell:yx,Row:Fg};function Jy(c){var d,y=c.prefixCls,g=c.record,w=c.onExpand,I=c.expanded,B=c.expandable,j="".concat(y,"-row-expand-icon");if(!B)return N.createElement("span",{className:st()(j,"".concat(y,"-row-spaced"))});var W=function(ee){w(g,ee),ee.stopPropagation()};return N.createElement("span",{className:st()(j,(d={},Object(de.a)(d,"".concat(y,"-row-expanded"),I),Object(de.a)(d,"".concat(y,"-row-collapsed"),!I),d)),onClick:W})}function Ah(c,d,y){var g=[];function w(I){(I||[]).forEach(function(B,j){g.push(d(B,j)),w(B[y])})}return w(c),g}var Cl=ae("zT1h"),Wc=/margin|padding|width|height|max|min|offset/,Bg={left:!0,top:!0},g0={cssFloat:1,styleFloat:1,float:1};function ap(c){return c.nodeType===1?c.ownerDocument.defaultView.getComputedStyle(c,null):{}}function yo(c,d,y){if(d=d.toLowerCase(),y==="auto"){if(d==="height")return c.offsetHeight;if(d==="width")return c.offsetWidth}return d in Bg||(Bg[d]=Wc.test(d)),Bg[d]?parseFloat(y)||0:y}function pm(c,d){var y=arguments.length,g=ap(c);return d=g0[d]?"cssFloat"in c.style?"cssFloat":"styleFloat":d,y===1?g:yo(c,d,g[d]||c.style[d])}function Ti(c,d,y){var g=arguments.length;if(d=g0[d]?"cssFloat"in c.style?"cssFloat":"styleFloat":d,g===3)return typeof y=="number"&&Wc.test(d)&&(y="".concat(y,"px")),c.style[d]=y,y;for(var w in d)d.hasOwnProperty(w)&&Ti(c,w,d[w]);return ap(c)}function zg(c){return c===document.body?document.documentElement.clientWidth:c.offsetWidth}function La(c){return c===document.body?window.innerHeight||document.documentElement.clientHeight:c.offsetHeight}function Bs(){var c=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),d=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);return{width:c,height:d}}function hd(){var c=document.documentElement.clientWidth,d=window.innerHeight||document.documentElement.clientHeight;return{width:c,height:d}}function qy(){return{scrollLeft:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),scrollTop:Math.max(document.documentElement.scrollTop,document.body.scrollTop)}}function mm(c){var d=c.getBoundingClientRect(),y=document.documentElement;return{left:d.left+(window.pageXOffset||y.scrollLeft)-(y.clientLeft||document.body.clientLeft||0),top:d.top+(window.pageYOffset||y.scrollTop)-(y.clientTop||document.body.clientTop||0)}}var gm=function(d,y){var g,w,I=d.scrollBodyRef,B=d.onScroll,j=d.offsetScroll,W=d.container,Z=N.useContext(ol),ee=Z.prefixCls,te=((g=I.current)===null||g===void 0?void 0:g.scrollWidth)||0,oe=((w=I.current)===null||w===void 0?void 0:w.clientWidth)||0,ce=te&&oe*(oe/te),se=N.useRef(),Ce=d0({scrollLeft:0,isHiddenScrollBar:!1}),ye=Object(ar.a)(Ce,2),Se=ye[0],_e=ye[1],Ie=N.useRef({delta:0,x:0}),Ge=N.useState(!1),je=Object(ar.a)(Ge,2),ke=je[0],Ze=je[1],He=function(){Ze(!1)},qe=function(gt){gt.persist(),Ie.current.delta=gt.pageX-Se.scrollLeft,Ie.current.x=0,Ze(!0),gt.preventDefault()},et=function(gt){var wt,St=gt||((wt=window)===null||wt===void 0?void 0:wt.event),bt=St.buttons;if(!ke||bt===0){ke&&Ze(!1);return}var Rt=Ie.current.x+gt.pageX-Ie.current.x-Ie.current.delta;Rt<=0&&(Rt=0),Rt+ce>=oe&&(Rt=oe-ce),B({scrollLeft:Rt/oe*(te+2)}),Ie.current.x=gt.pageX},nt=function(){var gt=mm(I.current).top,wt=gt+I.current.offsetHeight,St=W===window?document.documentElement.scrollTop+window.innerHeight:mm(W).top+W.clientHeight;wt-Object(ko.a)()<=St||gt>=St-j?_e(function(bt){return Object(ur.a)(Object(ur.a)({},bt),{},{isHiddenScrollBar:!0})}):_e(function(bt){return Object(ur.a)(Object(ur.a)({},bt),{},{isHiddenScrollBar:!1})})},At=function(gt){_e(function(wt){return Object(ur.a)(Object(ur.a)({},wt),{},{scrollLeft:gt/te*oe||0})})};return N.useImperativeHandle(y,function(){return{setScrollLeft:At}}),N.useEffect(function(){var ot=Object(Cl.a)(document.body,"mouseup",He,!1),gt=Object(Cl.a)(document.body,"mousemove",et,!1);return nt(),function(){ot.remove(),gt.remove()}},[ce,ke]),N.useEffect(function(){var ot=Object(Cl.a)(W,"scroll",nt,!1),gt=Object(Cl.a)(window,"resize",nt,!1);return function(){ot.remove(),gt.remove()}},[W]),N.useEffect(function(){Se.isHiddenScrollBar||_e(function(ot){var gt=I.current;return gt?Object(ur.a)(Object(ur.a)({},ot),{},{scrollLeft:gt.scrollLeft/gt.scrollWidth*gt.clientWidth}):ot})},[Se.isHiddenScrollBar]),te<=oe||!ce||Se.isHiddenScrollBar?null:N.createElement("div",{style:{height:Object(ko.a)(),width:oe,bottom:j},className:"".concat(ee,"-sticky-scroll")},N.createElement("div",{onMouseDown:qe,ref:se,className:st()("".concat(ee,"-sticky-scroll-bar"),Object(de.a)({},"".concat(ee,"-sticky-scroll-bar-active"),ke)),style:{width:"".concat(ce,"px"),transform:"translate3d(".concat(Se.scrollLeft,"px, 0, 0)")}}))},xx=N.forwardRef(gm),Qy=ae("MNnm"),sp=Object(Qy.a)()?window:null;function jg(c,d){var y=Object(ft.a)(c)==="object"?c:{},g=y.offsetHeader,w=g===void 0?0:g,I=y.offsetScroll,B=I===void 0?0:I,j=y.getContainer,W=j===void 0?function(){return sp}:j,Z=W()||sp;return N.useMemo(function(){var ee=!!c;return{isSticky:ee,stickyClassName:ee?"".concat(d,"-sticky-header"):"",offsetHeader:w,offsetScroll:B,container:Z}},[B,w,d,Z])}var fa=[],Ug={},lp="rc-table-internal-hook",Fu=N.memo(function(c){var d=c.children;return d},function(c,d){return xh()(c.props,d.props)?c.pingLeft!==d.pingLeft||c.pingRight!==d.pingRight:!1});function up(c){var d,y=c.prefixCls,g=c.className,w=c.rowClassName,I=c.style,B=c.data,j=c.rowKey,W=c.scroll,Z=c.tableLayout,ee=c.direction,te=c.title,oe=c.footer,ce=c.summary,se=c.id,Ce=c.showHeader,ye=c.components,Se=c.emptyText,_e=c.onRow,Ie=c.onHeaderRow,Ge=c.internalHooks,je=c.transformColumns,ke=c.internalRefs,Ze=c.sticky,He=B||fa,qe=!!He.length,et=N.useState(0),nt=Object(ar.a)(et,2),At=nt[0],ot=nt[1];N.useEffect(function(){ot(Object(ko.a)())});var gt=N.useMemo(function(){return vf(ye,{})},[ye]),wt=N.useCallback(function(H,K){return ud(gt,H)||K},[gt]),St=N.useMemo(function(){return typeof j=="function"?j:function(H){var K=H&&H[j];return K}},[j]),bt=Rg(c),Rt=bt.expandIcon,Xt=bt.expandedRowKeys,Gt=bt.defaultExpandedRowKeys,tr=bt.defaultExpandAllRows,Jt=bt.expandedRowRender,sr=bt.onExpand,nr=bt.onExpandedRowsChange,Or=bt.expandRowByClick,dr=bt.rowExpandable,Mr=bt.expandIconColumnIndex,on=bt.expandedRowClassName,Fr=bt.childrenColumnName,wn=bt.indentSize,Ir=Rt||Jy,hn=Fr||"children",Fn=N.useMemo(function(){return Jt?"row":c.expandable&&Ge===lp&&c.expandable.__PARENT_RENDER_ICON__||He.some(function(H){return H&&Object(ft.a)(H)==="object"&&H[hn]})?"nest":!1},[!!Jt,He]),xn=N.useState(function(){return Gt||(tr?Ah(He,St,hn):[])}),rn=Object(ar.a)(xn,2),Dr=rn[0],En=rn[1],Jr=N.useMemo(function(){return new Set(Xt||Dr||[])},[Xt,Dr]),qr=N.useCallback(function(H){var K=St(H,He.indexOf(H)),$,ue=Jr.has(K);ue?(Jr.delete(K),$=Object($t.a)(Jr)):$=[].concat(Object($t.a)(Jr),[K]),En($),sr&&sr(!ue,H),nr&&nr($)},[St,Jr,He,sr,nr]),Tn=N.useState(0),Ln=Object(ar.a)(Tn,2),Ci=Ln[0],di=Ln[1],Bo=f0(Object(ur.a)(Object(ur.a)(Object(ur.a)({},c),bt),{},{expandable:!!Jt,expandedKeys:Jr,getRowKey:St,onTriggerExpand:qr,expandIcon:Ir,expandIconColumnIndex:Mr,direction:ee}),Ge===lp?je:null),Ji=Object(ar.a)(Bo,2),qi=Ji[0],Ri=Ji[1],zo=N.useMemo(function(){return{columns:qi,flattenColumns:Ri}},[qi,Ri]),ni=N.useRef(),un=N.useRef(),Rr=N.useRef(),Bn=N.useState(!1),hi=Object(ar.a)(Bn,2),Xr=hi[0],Li=hi[1],Vi=N.useState(!1),ii=Object(ar.a)(Vi,2),co=ii[0],So=ii[1],kn=d0(new Map),go=Object(ar.a)(kn,2),Eo=go[0],ys=go[1],Zu=rp(Ri),cl=Zu.map(function(H){return Eo.get(H)}),_l=N.useMemo(function(){return cl},[cl.join("_")]),Na=m0(_l,Ri.length,ee),Lo=W&&il(W.y),Qi=W&&il(W.x),Hn=Qi&&Ri.some(function(H){var K=H.fixed;return K}),Po=N.useRef(),aa=jg(Ze,y),fs=aa.isSticky,ks=aa.offsetHeader,yc=aa.offsetScroll,nu=aa.stickyClassName,Vl=aa.container,hl,sa,Ml;Lo&&(sa={overflowY:"scroll",maxHeight:W.y}),Qi&&(hl={overflowX:"auto"},Lo||(sa={overflowY:"hidden"}),Ml={width:W.x===!0?"auto":W.x,minWidth:"100%"});var xs=N.useCallback(function(H,K){Object(Dl.a)(ni.current)&&ys(function($){if($.get(H)!==K){var ue=new Map($);return ue.set(H,K),ue}return $})},[]),xo=Zy(null),_i=Object(ar.a)(xo,2),ui=_i[0],Cs=_i[1];function na(H,K){!K||(typeof K=="function"?K(H):K.scrollLeft!==H&&(K.scrollLeft=H))}var Is=function(K){var $=K.currentTarget,ue=K.scrollLeft,me=ee==="rtl",pe=typeof ue=="number"?ue:$.scrollLeft,be=$||Ug;if(!Cs()||Cs()===be){var Te;ui(be),na(pe,un.current),na(pe,Rr.current),na(pe,(Te=Po.current)===null||Te===void 0?void 0:Te.setScrollLeft)}if($){var it=$.scrollWidth,_t=$.clientWidth;me?(Li(-pe<it-_t),So(-pe>0)):(Li(pe>0),So(pe<it-_t))}},Qs=function(){Rr.current&&Is({currentTarget:Rr.current})},Fd=function(K){var $=K.width;Qs(),di(ni.current?ni.current.offsetWidth:$)};N.useEffect(function(){return Qs},[]),N.useEffect(function(){Qi&&Qs()},[Qi]),N.useEffect(function(){Ge===lp&&ke&&(ke.body.current=Rr.current)});var xc=wt(["table"],"table"),jp=N.useMemo(function(){return Z||(Hn?W.x==="max-content"?"auto":"fixed":Lo||fs||Ri.some(function(H){var K=H.ellipsis;return K})?"fixed":"auto")},[Lo,Hn,Ri,Z,fs]),rh,nh={colWidths:_l,columCount:Ri.length,stickyOffsets:Na,onHeaderRow:Ie,fixHeader:Lo},Bd=N.useMemo(function(){return qe?null:typeof Se=="function"?Se():Se},[qe,Se]),Up=N.createElement(h0,{data:He,measureColumnWidth:Lo||Qi||fs,expandedKeys:Jr,rowExpandable:dr,getRowKey:St,onRow:_e,emptyNode:Bd,childrenColumnName:hn}),Fv=N.createElement(al,{colWidths:Ri.map(function(H){var K=H.width;return K}),columns:Ri}),s=ce&&N.createElement(Gc,null,ce(He)),t=wt(["body"]);if(Lo||fs){var i;typeof t=="function"?(i=t(He,{scrollbarSize:At,ref:Rr,onScroll:Is}),nh.colWidths=Ri.map(function(H,K){var $=H.width,ue=K===qi.length-1?$-At:$;return typeof ue=="number"&&!Number.isNaN(ue)?ue:(Object(Xo.a)(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0)})):i=N.createElement("div",{style:Object(ur.a)(Object(ur.a)({},hl),sa),onScroll:Is,ref:Rr,className:st()("".concat(y,"-body"))},N.createElement(xc,{style:Object(ur.a)(Object(ur.a)({},Ml),{},{tableLayout:jp})},Fv,Up,s)),rh=N.createElement(N.Fragment,null,Ce!==!1&&N.createElement(Lg,Object(xe.a)({noData:!He.length},nh,zo,{direction:ee,offsetHeader:ks,stickyClassName:nu,ref:un,onScroll:Is})),i,fs&&N.createElement(xx,{ref:Po,offsetScroll:yc,scrollBodyRef:Rr,onScroll:Is,container:Vl}))}else rh=N.createElement("div",{style:Object(ur.a)(Object(ur.a)({},hl),sa),className:st()("".concat(y,"-content")),onScroll:Is,ref:Rr},N.createElement(xc,{style:Object(ur.a)(Object(ur.a)({},Ml),{},{tableLayout:jp})},Fv,Ce!==!1&&N.createElement(l0,Object(xe.a)({},nh,zo)),Up,s));var m=mx(c),A=N.createElement("div",Object(xe.a)({className:st()(y,g,(d={},Object(de.a)(d,"".concat(y,"-rtl"),ee==="rtl"),Object(de.a)(d,"".concat(y,"-ping-left"),Xr),Object(de.a)(d,"".concat(y,"-ping-right"),co),Object(de.a)(d,"".concat(y,"-layout-fixed"),Z==="fixed"),Object(de.a)(d,"".concat(y,"-fixed-header"),Lo),Object(de.a)(d,"".concat(y,"-fixed-column"),Hn),Object(de.a)(d,"".concat(y,"-scroll-horizontal"),Qi),Object(de.a)(d,"".concat(y,"-has-fix-left"),Ri[0]&&Ri[0].fixed),Object(de.a)(d,"".concat(y,"-has-fix-right"),Ri[Ri.length-1]&&Ri[Ri.length-1].fixed==="right"),d)),style:I,id:se,ref:ni},m),N.createElement(Fu,{pingLeft:Xr,pingRight:co,props:Object(ur.a)(Object(ur.a)({},c),{},{stickyOffsets:Na,mergedExpandedKeys:Jr})},te&&N.createElement(Nu,{className:"".concat(y,"-title")},te(He)),N.createElement("div",{className:"".concat(y,"-container")},rh),oe&&N.createElement(Nu,{className:"".concat(y,"-footer")},oe(He))));Qi&&(A=N.createElement(_u.a,{onResize:Fd},A));var E=N.useMemo(function(){return{prefixCls:y,getComponent:wt,scrollbarSize:At,direction:ee,fixedInfoList:Ri.map(function(H,K){return oc(K,K,Ri,Na,ee)}),isSticky:fs}},[y,wt,At,ee,Ri,Na,ee,fs]),O=N.useMemo(function(){return Object(ur.a)(Object(ur.a)({},zo),{},{tableLayout:jp,rowClassName:w,expandedRowClassName:on,componentWidth:Ci,fixHeader:Lo,fixColumn:Hn,horizonScroll:Qi,expandIcon:Ir,expandableType:Fn,expandRowByClick:Or,expandedRowRender:Jt,onTriggerExpand:qr,expandIconColumnIndex:Mr,indentSize:wn})},[zo,jp,w,on,Ci,Lo,Hn,Qi,Ir,Fn,Or,Jt,qr,Mr,wn]),F=N.useMemo(function(){return{onColumnResize:xs}},[xs]);return N.createElement(ol.Provider,{value:E},N.createElement(hm.Provider,{value:O},N.createElement(xf.Provider,{value:F},A)))}up.Column=a0,up.ColumnGroup=Kr,up.Summary=op,up.defaultProps={rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}};var $y=up,ac=$y,Fl=ae("W9HT"),v0=function(d){var y,g="".concat(d.rootPrefixCls,"-item"),w=st()(g,"".concat(g,"-").concat(d.page),(y={},Object(de.a)(y,"".concat(g,"-active"),d.active),Object(de.a)(y,d.className,!!d.className),Object(de.a)(y,"".concat(g,"-disabled"),!d.page),y)),I=function(){d.onClick(d.page)},B=function(W){d.onKeyPress(W,d.onClick,d.page)};return ve.a.createElement("li",{title:d.showTitle?d.page:null,className:w,onClick:I,onKeyPress:B,tabIndex:"0"},d.itemRender(d.page,"page",ve.a.createElement("a",{rel:"nofollow"},d.page)))},fd=v0,sl={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},Cf=function(c){Object(ti.a)(y,c);var d=Object(Xa.a)(y);function y(){var g;Object(vn.a)(this,y);for(var w=arguments.length,I=new Array(w),B=0;B<w;B++)I[B]=arguments[B];return g=d.call.apply(d,[this].concat(I)),g.state={goInputText:""},g.buildOptionText=function(j){return"".concat(j," ").concat(g.props.locale.items_per_page)},g.changeSize=function(j){g.props.changeSize(Number(j))},g.handleChange=function(j){g.setState({goInputText:j.target.value})},g.handleBlur=function(j){var W=g.props,Z=W.goButton,ee=W.quickGo,te=W.rootPrefixCls,oe=g.state.goInputText;Z||oe===""||j.relatedTarget&&(j.relatedTarget.className.indexOf("".concat(te,"-prev"))>=0||j.relatedTarget.className.indexOf("".concat(te,"-next"))>=0)||(g.setState({goInputText:""}),ee(g.getValidValue()))},g.go=function(j){var W=g.state.goInputText;W!==""&&(j.keyCode===sl.ENTER||j.type==="click")&&(g.setState({goInputText:""}),g.props.quickGo(g.getValidValue()))},g}return Object(No.a)(y,[{key:"getValidValue",value:function(){var w=this.state.goInputText;return!w||isNaN(w)?void 0:Number(w)}},{key:"getPageSizeOptions",value:function(){var w=this.props,I=w.pageSize,B=w.pageSizeOptions;return B.some(function(j){return j.toString()===I.toString()})?B:B.concat([I.toString()]).sort(function(j,W){var Z=isNaN(Number(j))?0:Number(j),ee=isNaN(Number(W))?0:Number(W);return Z-ee})}},{key:"render",value:function(){var w=this,I=this.props,B=I.pageSize,j=I.locale,W=I.rootPrefixCls,Z=I.changeSize,ee=I.quickGo,te=I.goButton,oe=I.selectComponentClass,ce=I.buildOptionText,se=I.selectPrefixCls,Ce=I.disabled,ye=this.state.goInputText,Se="".concat(W,"-options"),_e=oe,Ie=null,Ge=null,je=null;if(!Z&&!ee)return null;var ke=this.getPageSizeOptions();if(Z&&_e){var Ze=ke.map(function(He,qe){return ve.a.createElement(_e.Option,{key:qe,value:He.toString()},(ce||w.buildOptionText)(He))});Ie=ve.a.createElement(_e,{disabled:Ce,prefixCls:se,showSearch:!1,className:"".concat(Se,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(B||ke[0]).toString(),onChange:this.changeSize,getPopupContainer:function(qe){return qe.parentNode}},Ze)}return ee&&(te&&(je=typeof te=="boolean"?ve.a.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:Ce,className:"".concat(Se,"-quick-jumper-button")},j.jump_to_confirm):ve.a.createElement("span",{onClick:this.go,onKeyUp:this.go},te)),Ge=ve.a.createElement("div",{className:"".concat(Se,"-quick-jumper")},j.jump_to,ve.a.createElement("input",{disabled:Ce,type:"text",value:ye,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur}),j.page,je)),ve.a.createElement("li",{className:"".concat(Se)},Ie,Ge)}}]),y}(ve.a.Component);Cf.defaultProps={pageSizeOptions:["10","20","50","100"]};var dd=Cf,vm=ae("N2Kk");function pd(){}function Af(c){return typeof c=="number"&&isFinite(c)&&Math.floor(c)===c}function Bi(c,d,y){return y}function ss(c,d,y){var g=typeof c=="undefined"?d.pageSize:c;return Math.floor((y.total-1)/g)+1}var tu=function(c){Object(ti.a)(y,c);var d=Object(Xa.a)(y);function y(g){var w;Object(vn.a)(this,y),w=d.call(this,g),w.getJumpPrevPage=function(){return Math.max(1,w.state.current-(w.props.showLessItems?3:5))},w.getJumpNextPage=function(){return Math.min(ss(void 0,w.state,w.props),w.state.current+(w.props.showLessItems?3:5))},w.getItemIcon=function(Z,ee){var te=w.props.prefixCls,oe=Z||ve.a.createElement("button",{type:"button","aria-label":ee,className:"".concat(te,"-item-link")});return typeof Z=="function"&&(oe=ve.a.createElement(Z,Object(ur.a)({},w.props))),oe},w.savePaginationNode=function(Z){w.paginationNode=Z},w.isValid=function(Z){return Af(Z)&&Z!==w.state.current},w.shouldDisplayQuickJumper=function(){var Z=w.props,ee=Z.showQuickJumper,te=Z.pageSize,oe=Z.total;return oe<=te?!1:ee},w.handleKeyDown=function(Z){(Z.keyCode===sl.ARROW_UP||Z.keyCode===sl.ARROW_DOWN)&&Z.preventDefault()},w.handleKeyUp=function(Z){var ee=w.getValidValue(Z),te=w.state.currentInputValue;ee!==te&&w.setState({currentInputValue:ee}),Z.keyCode===sl.ENTER?w.handleChange(ee):Z.keyCode===sl.ARROW_UP?w.handleChange(ee-1):Z.keyCode===sl.ARROW_DOWN&&w.handleChange(ee+1)},w.changePageSize=function(Z){var ee=w.state.current,te=ss(Z,w.state,w.props);ee=ee>te?te:ee,te===0&&(ee=w.state.current),typeof Z=="number"&&("pageSize"in w.props||w.setState({pageSize:Z}),"current"in w.props||w.setState({current:ee,currentInputValue:ee})),w.props.onShowSizeChange(ee,Z),"onChange"in w.props&&w.props.onChange&&w.props.onChange(ee,Z)},w.handleChange=function(Z){var ee=w.props.disabled,te=Z;if(w.isValid(te)&&!ee){var oe=ss(void 0,w.state,w.props);te>oe?te=oe:te<1&&(te=1),"current"in w.props||w.setState({current:te,currentInputValue:te});var ce=w.state.pageSize;return w.props.onChange(te,ce),te}return w.state.current},w.prev=function(){w.hasPrev()&&w.handleChange(w.state.current-1)},w.next=function(){w.hasNext()&&w.handleChange(w.state.current+1)},w.jumpPrev=function(){w.handleChange(w.getJumpPrevPage())},w.jumpNext=function(){w.handleChange(w.getJumpNextPage())},w.hasPrev=function(){return w.state.current>1},w.hasNext=function(){return w.state.current<ss(void 0,w.state,w.props)},w.runIfEnter=function(Z,ee){if(Z.key==="Enter"||Z.charCode===13){for(var te=arguments.length,oe=new Array(te>2?te-2:0),ce=2;ce<te;ce++)oe[ce-2]=arguments[ce];ee.apply(void 0,oe)}},w.runIfEnterPrev=function(Z){w.runIfEnter(Z,w.prev)},w.runIfEnterNext=function(Z){w.runIfEnter(Z,w.next)},w.runIfEnterJumpPrev=function(Z){w.runIfEnter(Z,w.jumpPrev)},w.runIfEnterJumpNext=function(Z){w.runIfEnter(Z,w.jumpNext)},w.handleGoTO=function(Z){(Z.keyCode===sl.ENTER||Z.type==="click")&&w.handleChange(w.state.currentInputValue)};var I=g.onChange!==pd,B="current"in g;B&&!I&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var j=g.defaultCurrent;"current"in g&&(j=g.current);var W=g.defaultPageSize;return"pageSize"in g&&(W=g.pageSize),j=Math.min(j,ss(W,void 0,g)),w.state={current:j,currentInputValue:j,pageSize:W},w}return Object(No.a)(y,[{key:"componentDidUpdate",value:function(w,I){var B=this.props.prefixCls;if(I.current!==this.state.current&&this.paginationNode){var j=this.paginationNode.querySelector(".".concat(B,"-item-").concat(I.current));j&&document.activeElement===j&&j.blur()}}},{key:"getValidValue",value:function(w){var I=w.target.value,B=ss(void 0,this.state,this.props),j=this.state.currentInputValue,W;return I===""?W=I:isNaN(Number(I))?W=j:I>=B?W=B:W=Number(I),W}},{key:"getShowSizeChanger",value:function(){var w=this.props,I=w.showSizeChanger,B=w.total,j=w.totalBoundaryShowSizeChanger;return typeof I!="undefined"?I:B>j}},{key:"renderPrev",value:function(w){var I=this.props,B=I.prevIcon,j=I.itemRender,W=j(w,"prev",this.getItemIcon(B,"prev page")),Z=!this.hasPrev();return Object(N.isValidElement)(W)?Object(N.cloneElement)(W,{disabled:Z}):W}},{key:"renderNext",value:function(w){var I=this.props,B=I.nextIcon,j=I.itemRender,W=j(w,"next",this.getItemIcon(B,"next page")),Z=!this.hasNext();return Object(N.isValidElement)(W)?Object(N.cloneElement)(W,{disabled:Z}):W}},{key:"render",value:function(){var w=this,I=this.props,B=I.prefixCls,j=I.className,W=I.style,Z=I.disabled,ee=I.hideOnSinglePage,te=I.total,oe=I.locale,ce=I.showQuickJumper,se=I.showLessItems,Ce=I.showTitle,ye=I.showTotal,Se=I.simple,_e=I.itemRender,Ie=I.showPrevNextJumpers,Ge=I.jumpPrevIcon,je=I.jumpNextIcon,ke=I.selectComponentClass,Ze=I.selectPrefixCls,He=I.pageSizeOptions,qe=this.state,et=qe.current,nt=qe.pageSize,At=qe.currentInputValue;if(ee===!0&&te<=nt)return null;var ot=ss(void 0,this.state,this.props),gt=[],wt=null,St=null,bt=null,Rt=null,Xt=null,Gt=ce&&ce.goButton,tr=se?1:2,Jt=et-1>0?et-1:0,sr=et+1<ot?et+1:ot,nr=Object.keys(this.props).reduce(function(En,Jr){return(Jr.substr(0,5)==="data-"||Jr.substr(0,5)==="aria-"||Jr==="role")&&(En[Jr]=w.props[Jr]),En},{});if(Se)return Gt&&(typeof Gt=="boolean"?Xt=ve.a.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},oe.jump_to_confirm):Xt=ve.a.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},Gt),Xt=ve.a.createElement("li",{title:Ce?"".concat(oe.jump_to).concat(et,"/").concat(ot):null,className:"".concat(B,"-simple-pager")},Xt)),ve.a.createElement("ul",Object(xe.a)({className:st()(B,"".concat(B,"-simple"),Object(de.a)({},"".concat(B,"-disabled"),Z),j),style:W,ref:this.savePaginationNode},nr),ve.a.createElement("li",{title:Ce?oe.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:st()("".concat(B,"-prev"),Object(de.a)({},"".concat(B,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},this.renderPrev(Jt)),ve.a.createElement("li",{title:Ce?"".concat(et,"/").concat(ot):null,className:"".concat(B,"-simple-pager")},ve.a.createElement("input",{type:"text",value:At,disabled:Z,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,size:"3"}),ve.a.createElement("span",{className:"".concat(B,"-slash")},"/"),ot),ve.a.createElement("li",{title:Ce?oe.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:st()("".concat(B,"-next"),Object(de.a)({},"".concat(B,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(sr)),Xt);if(ot<=3+tr*2){var Or={locale:oe,rootPrefixCls:B,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:Ce,itemRender:_e};ot||gt.push(ve.a.createElement(fd,Object(xe.a)({},Or,{key:"noPager",page:ot,className:"".concat(B,"-disabled")})));for(var dr=1;dr<=ot;dr+=1){var Mr=et===dr;gt.push(ve.a.createElement(fd,Object(xe.a)({},Or,{key:dr,page:dr,active:Mr})))}}else{var on=se?oe.prev_3:oe.prev_5,Fr=se?oe.next_3:oe.next_5;Ie&&(wt=ve.a.createElement("li",{title:Ce?on:null,key:"prev",onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:st()("".concat(B,"-jump-prev"),Object(de.a)({},"".concat(B,"-jump-prev-custom-icon"),!!Ge))},_e(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(Ge,"prev page"))),St=ve.a.createElement("li",{title:Ce?Fr:null,key:"next",tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:st()("".concat(B,"-jump-next"),Object(de.a)({},"".concat(B,"-jump-next-custom-icon"),!!je))},_e(this.getJumpNextPage(),"jump-next",this.getItemIcon(je,"next page")))),Rt=ve.a.createElement(fd,{locale:oe,last:!0,rootPrefixCls:B,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:ot,page:ot,active:!1,showTitle:Ce,itemRender:_e}),bt=ve.a.createElement(fd,{locale:oe,rootPrefixCls:B,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:Ce,itemRender:_e});var wn=Math.max(1,et-tr),Ir=Math.min(et+tr,ot);et-1<=tr&&(Ir=1+tr*2),ot-et<=tr&&(wn=ot-tr*2);for(var hn=wn;hn<=Ir;hn+=1){var Fn=et===hn;gt.push(ve.a.createElement(fd,{locale:oe,rootPrefixCls:B,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:hn,page:hn,active:Fn,showTitle:Ce,itemRender:_e}))}et-1>=tr*2&&et!==1+2&&(gt[0]=Object(N.cloneElement)(gt[0],{className:"".concat(B,"-item-after-jump-prev")}),gt.unshift(wt)),ot-et>=tr*2&&et!==ot-2&&(gt[gt.length-1]=Object(N.cloneElement)(gt[gt.length-1],{className:"".concat(B,"-item-before-jump-next")}),gt.push(St)),wn!==1&&gt.unshift(bt),Ir!==ot&&gt.push(Rt)}var xn=null;ye&&(xn=ve.a.createElement("li",{className:"".concat(B,"-total-text")},ye(te,[te===0?0:(et-1)*nt+1,et*nt>te?te:et*nt])));var rn=!this.hasPrev()||!ot,Dr=!this.hasNext()||!ot;return ve.a.createElement("ul",Object(xe.a)({className:st()(B,j,Object(de.a)({},"".concat(B,"-disabled"),Z)),style:W,unselectable:"unselectable",ref:this.savePaginationNode},nr),xn,ve.a.createElement("li",{title:Ce?oe.prev_page:null,onClick:this.prev,tabIndex:rn?null:0,onKeyPress:this.runIfEnterPrev,className:st()("".concat(B,"-prev"),Object(de.a)({},"".concat(B,"-disabled"),rn)),"aria-disabled":rn},this.renderPrev(Jt)),gt,ve.a.createElement("li",{title:Ce?oe.next_page:null,onClick:this.next,tabIndex:Dr?null:0,onKeyPress:this.runIfEnterNext,className:st()("".concat(B,"-next"),Object(de.a)({},"".concat(B,"-disabled"),Dr)),"aria-disabled":Dr},this.renderNext(sr)),ve.a.createElement(dd,{disabled:Z,locale:oe,rootPrefixCls:B,selectComponentClass:ke,selectPrefixCls:Ze,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:et,pageSize:nt,pageSizeOptions:He,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:Gt}))}}],[{key:"getDerivedStateFromProps",value:function(w,I){var B={};if("current"in w&&(B.current=w.current,w.current!==I.current&&(B.currentInputValue=B.current)),"pageSize"in w&&w.pageSize!==I.pageSize){var j=I.current,W=ss(w.pageSize,I,w);j=j>W?W:j,"current"in w||(B.current=j,B.currentInputValue=j),B.pageSize=w.pageSize}return B}}]),y}(ve.a.Component);tu.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:pd,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:pd,locale:vm.a,style:{},itemRender:Bi,totalBoundaryShowSizeChanger:50};var ai=tu,Ao=ae("H4fg"),wh=ae("5bA4"),wf=ae("UESt"),dn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},bh=dn,ym=function(d,y){return N.createElement(Ls.a,Object.assign({},d,{ref:y,icon:bh}))};ym.displayName="DoubleLeftOutlined";var kg=N.forwardRef(ym),Cx={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},cp=Cx,Hg=function(d,y){return N.createElement(Ls.a,Object.assign({},d,{ref:y,icon:cp}))};Hg.displayName="DoubleRightOutlined";var Vg=N.forwardRef(Hg),bf=function(d){return N.createElement(ta,Object(xe.a)({size:"small"},d))};bf.Option=ta.Option;var Sh=bf,Bl=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y},_h=function(d){var y=d.prefixCls,g=d.selectPrefixCls,w=d.className,I=d.size,B=d.locale,j=Bl(d,["prefixCls","selectPrefixCls","className","size","locale"]),W=Object(Gl.a)(),Z=W.xs,ee=N.useContext(br.b),te=ee.getPrefixCls,oe=ee.direction,ce=te("pagination",y),se=function(){var Se=N.createElement("span",{className:"".concat(ce,"-item-ellipsis")},"\u2022\u2022\u2022"),_e=N.createElement("button",{className:"".concat(ce,"-item-link"),type:"button",tabIndex:-1},N.createElement(wh.a,null)),Ie=N.createElement("button",{className:"".concat(ce,"-item-link"),type:"button",tabIndex:-1},N.createElement(wf.a,null)),Ge=N.createElement("a",{className:"".concat(ce,"-item-link")},N.createElement("div",{className:"".concat(ce,"-item-container")},N.createElement(kg,{className:"".concat(ce,"-item-link-icon")}),Se)),je=N.createElement("a",{className:"".concat(ce,"-item-link")},N.createElement("div",{className:"".concat(ce,"-item-container")},N.createElement(Vg,{className:"".concat(ce,"-item-link-icon")}),Se));if(oe==="rtl"){var ke=[Ie,_e];_e=ke[0],Ie=ke[1];var Ze=[je,Ge];Ge=Ze[0],je=Ze[1]}return{prevIcon:_e,nextIcon:Ie,jumpPrevIcon:Ge,jumpNextIcon:je}},Ce=function(Se){var _e=Object(xe.a)(Object(xe.a)({},Se),B),Ie=I==="small"||!!(Z&&!I&&j.responsive),Ge=te("select",g),je=st()(Object(de.a)({mini:Ie},"".concat(ce,"-rtl"),oe==="rtl"),w);return N.createElement(ai,Object(xe.a)({},j,{prefixCls:ce,selectPrefixCls:Ge},se(),{className:je,selectComponentClass:Ie?Sh:ta,locale:_e}))};return N.createElement(An.a,{componentName:"Pagination",defaultLocale:Ao.a},Ce)},Ax=_h,xm=Ax,y0=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y},x0=10;function Bu(c,d){var y={current:d.current,pageSize:d.pageSize},g=c&&Object(ft.a)(c)==="object"?c:{};return Object.keys(g).forEach(function(w){var I=d[w];typeof I!="function"&&(y[w]=I)}),y}function wx(){for(var c={},d=arguments.length,y=new Array(d),g=0;g<d;g++)y[g]=arguments[g];return y.forEach(function(w){w&&Object.keys(w).forEach(function(I){var B=w[I];B!==void 0&&(c[I]=B)})}),c}function C0(c,d,y){var g=d&&Object(ft.a)(d)==="object"?d:{},w=g.total,I=w===void 0?0:w,B=y0(g,["total"]),j=Object(N.useState)(function(){return{current:"defaultCurrent"in B?B.defaultCurrent:1,pageSize:"defaultPageSize"in B?B.defaultPageSize:x0}}),W=Object(ar.a)(j,2),Z=W[0],ee=W[1],te=wx(Z,B,{total:I>0?I:c}),oe=Math.ceil((I||c)/te.pageSize);te.current>oe&&(te.current=oe);var ce=function(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,Se=arguments.length>1?arguments[1]:void 0;ee({current:ye,pageSize:Se||te.pageSize})},se=function(ye,Se){var _e;d&&((_e=d.onChange)===null||_e===void 0||_e.call(d,ye,Se)),ce(ye,Se),y(ye,Se||(te==null?void 0:te.pageSize))};return d===!1?[{},function(){}]:[Object(xe.a)(Object(xe.a)({},te),{onChange:se}),ce]}function hp(c,d,y){var g=N.useRef({});function w(I){if(!g.current||g.current.data!==c||g.current.childrenColumnName!==d||g.current.getRowKey!==y){var B=function W(Z){Z.forEach(function(ee,te){var oe=y(ee,te);j.set(oe,ee),ee&&Object(ft.a)(ee)==="object"&&d in ee&&W(ee[d]||[])})},j=new Map;B(c),g.current={data:c,childrenColumnName:d,kvMap:j,getRowKey:y}}return g.current.kvMap.get(I)}return[w]}var A0=N.createContext(null),bx=function(d){for(var y=d.prefixCls,g=d.level,w=d.isStart,I=d.isEnd,B="".concat(y,"-indent-unit"),j=[],W=0;W<g;W+=1){var Z;j.push(N.createElement("span",{key:W,className:st()(B,(Z={},Object(de.a)(Z,"".concat(B,"-start"),w[W]),Object(de.a)(Z,"".concat(B,"-end"),I[W]),Z))}))}return N.createElement("span",{"aria-hidden":"true",className:"".concat(y,"-indent")},j)},Mh=bx,hu="open",Eh="close",Gg="---",e1=function(c){Object(ti.a)(y,c);var d=Object(Xa.a)(y);function y(){var g;return Object(vn.a)(this,y),g=d.apply(this,arguments),g.state={dragNodeHighlight:!1},g.onSelectorClick=function(w){var I=g.props.context.onNodeClick;I(w,zl(g.props)),g.isSelectable()?g.onSelect(w):g.onCheck(w)},g.onSelectorDoubleClick=function(w){var I=g.props.context.onNodeDoubleClick;I(w,zl(g.props))},g.onSelect=function(w){if(!g.isDisabled()){var I=g.props.context.onNodeSelect;w.preventDefault(),I(w,zl(g.props))}},g.onCheck=function(w){if(!g.isDisabled()){var I=g.props,B=I.disableCheckbox,j=I.checked,W=g.props.context.onNodeCheck;if(!(!g.isCheckable()||B)){w.preventDefault();var Z=!j;W(w,zl(g.props),Z)}}},g.onMouseEnter=function(w){var I=g.props.context.onNodeMouseEnter;I(w,zl(g.props))},g.onMouseLeave=function(w){var I=g.props.context.onNodeMouseLeave;I(w,zl(g.props))},g.onContextMenu=function(w){var I=g.props.context.onNodeContextMenu;I(w,zl(g.props))},g.onDragStart=function(w){var I=g.props.context.onNodeDragStart;w.stopPropagation(),g.setState({dragNodeHighlight:!0}),I(w,Object(xu.a)(g));try{w.dataTransfer.setData("text/plain","")}catch(B){}},g.onDragEnter=function(w){var I=g.props.context.onNodeDragEnter;w.preventDefault(),w.stopPropagation(),I(w,Object(xu.a)(g))},g.onDragOver=function(w){var I=g.props.context.onNodeDragOver;w.preventDefault(),w.stopPropagation(),I(w,Object(xu.a)(g))},g.onDragLeave=function(w){var I=g.props.context.onNodeDragLeave;w.stopPropagation(),I(w,Object(xu.a)(g))},g.onDragEnd=function(w){var I=g.props.context.onNodeDragEnd;w.stopPropagation(),g.setState({dragNodeHighlight:!1}),I(w,Object(xu.a)(g))},g.onDrop=function(w){var I=g.props.context.onNodeDrop;w.preventDefault(),w.stopPropagation(),g.setState({dragNodeHighlight:!1}),I(w,Object(xu.a)(g))},g.onExpand=function(w){var I=g.props,B=I.loading,j=I.context.onNodeExpand;B||j(w,zl(g.props))},g.setSelectHandle=function(w){g.selectHandle=w},g.getNodeState=function(){var w=g.props.expanded;return g.isLeaf()?null:w?hu:Eh},g.hasChildren=function(){var w=g.props.eventKey,I=g.props.context.keyEntities,B=I[w]||{},j=B.children;return!!(j||[]).length},g.isLeaf=function(){var w=g.props,I=w.isLeaf,B=w.loaded,j=g.props.context.loadData,W=g.hasChildren();return I===!1?!1:I||!j&&!W||j&&B&&!W},g.isDisabled=function(){var w=g.props.disabled,I=g.props.context.disabled;return!!(I||w)},g.isCheckable=function(){var w=g.props.checkable,I=g.props.context.checkable;return!I||w===!1?!1:I},g.syncLoadData=function(w){var I=w.expanded,B=w.loading,j=w.loaded,W=g.props.context,Z=W.loadData,ee=W.onNodeLoad;B||Z&&I&&!g.isLeaf()&&!g.hasChildren()&&!j&&ee(zl(g.props))},g.renderSwitcher=function(){var w=g.props,I=w.expanded,B=w.switcherIcon,j=g.props.context,W=j.prefixCls,Z=j.switcherIcon,ee=B||Z;if(g.isLeaf())return N.createElement("span",{className:st()("".concat(W,"-switcher"),"".concat(W,"-switcher-noop"))},typeof ee=="function"?ee(Object(ur.a)(Object(ur.a)({},g.props),{},{isLeaf:!0})):ee);var te=st()("".concat(W,"-switcher"),"".concat(W,"-switcher_").concat(I?hu:Eh));return N.createElement("span",{onClick:g.onExpand,className:te},typeof ee=="function"?ee(Object(ur.a)(Object(ur.a)({},g.props),{},{isLeaf:!1})):ee)},g.renderCheckbox=function(){var w=g.props,I=w.checked,B=w.halfChecked,j=w.disableCheckbox,W=g.props.context.prefixCls,Z=g.isDisabled(),ee=g.isCheckable();if(!ee)return null;var te=typeof ee!="boolean"?ee:null;return N.createElement("span",{className:st()("".concat(W,"-checkbox"),I&&"".concat(W,"-checkbox-checked"),!I&&B&&"".concat(W,"-checkbox-indeterminate"),(Z||j)&&"".concat(W,"-checkbox-disabled")),onClick:g.onCheck},te)},g.renderIcon=function(){var w=g.props.loading,I=g.props.context.prefixCls;return N.createElement("span",{className:st()("".concat(I,"-iconEle"),"".concat(I,"-icon__").concat(g.getNodeState()||"docu"),w&&"".concat(I,"-icon_loading"))})},g.renderSelector=function(){var w=g.state.dragNodeHighlight,I=g.props,B=I.title,j=I.selected,W=I.icon,Z=I.loading,ee=I.data,te=g.props.context,oe=te.prefixCls,ce=te.showIcon,se=te.icon,Ce=te.draggable,ye=te.loadData,Se=te.titleRender,_e=g.isDisabled(),Ie=typeof Ce=="function"?Ce(ee):Ce,Ge="".concat(oe,"-node-content-wrapper"),je;if(ce){var ke=W||se;je=ke?N.createElement("span",{className:st()("".concat(oe,"-iconEle"),"".concat(oe,"-icon__customize"))},typeof ke=="function"?ke(g.props):ke):g.renderIcon()}else ye&&Z&&(je=g.renderIcon());var Ze;typeof B=="function"?Ze=B(ee):Se?Ze=Se(ee):Ze=B;var He=N.createElement("span",{className:"".concat(oe,"-title")},Ze);return N.createElement("span",{ref:g.setSelectHandle,title:typeof B=="string"?B:"",className:st()("".concat(Ge),"".concat(Ge,"-").concat(g.getNodeState()||"normal"),!_e&&(j||w)&&"".concat(oe,"-node-selected"),!_e&&Ie&&"draggable"),draggable:!_e&&Ie||void 0,"aria-grabbed":!_e&&Ie||void 0,onMouseEnter:g.onMouseEnter,onMouseLeave:g.onMouseLeave,onContextMenu:g.onContextMenu,onClick:g.onSelectorClick,onDoubleClick:g.onSelectorDoubleClick,onDragStart:Ie?g.onDragStart:void 0},je,He,g.renderDropIndicator())},g.renderDropIndicator=function(){var w=g.props,I=w.disabled,B=w.eventKey,j=g.props.context,W=j.draggable,Z=j.dropLevelOffset,ee=j.dropPosition,te=j.prefixCls,oe=j.indent,ce=j.dropIndicatorRender,se=j.dragOverNodeKey,Ce=j.direction,ye=W!==!1,Se=!I&&ye&&se===B;return Se?ce({dropPosition:ee,dropLevelOffset:Z,indent:oe,prefixCls:te,direction:Ce}):null},g}return Object(No.a)(y,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var w=this.props.selectable,I=this.props.context.selectable;return typeof w=="boolean"?w:I}},{key:"render",value:function(){var w,I=this.props,B=I.eventKey,j=I.className,W=I.style,Z=I.dragOver,ee=I.dragOverGapTop,te=I.dragOverGapBottom,oe=I.isLeaf,ce=I.isStart,se=I.isEnd,Ce=I.expanded,ye=I.selected,Se=I.checked,_e=I.halfChecked,Ie=I.loading,Ge=I.domRef,je=I.active,ke=I.data,Ze=I.onMouseMove,He=Object(ua.a)(I,["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove"]),qe=this.props.context,et=qe.prefixCls,nt=qe.filterTreeNode,At=qe.draggable,ot=qe.keyEntities,gt=qe.dropContainerKey,wt=qe.dropTargetKey,St=this.isDisabled(),bt=zu(He),Rt=ot[B]||{},Xt=Rt.level,Gt=se[se.length-1],tr=typeof At=="function"?At(ke):At;return N.createElement("div",Object(xe.a)({ref:Ge,className:st()(j,"".concat(et,"-treenode"),(w={},Object(de.a)(w,"".concat(et,"-treenode-disabled"),St),Object(de.a)(w,"".concat(et,"-treenode-switcher-").concat(Ce?"open":"close"),!oe),Object(de.a)(w,"".concat(et,"-treenode-checkbox-checked"),Se),Object(de.a)(w,"".concat(et,"-treenode-checkbox-indeterminate"),_e),Object(de.a)(w,"".concat(et,"-treenode-selected"),ye),Object(de.a)(w,"".concat(et,"-treenode-loading"),Ie),Object(de.a)(w,"".concat(et,"-treenode-active"),je),Object(de.a)(w,"".concat(et,"-treenode-leaf-last"),Gt),Object(de.a)(w,"drop-target",wt===B),Object(de.a)(w,"drop-container",gt===B),Object(de.a)(w,"drag-over",!St&&Z),Object(de.a)(w,"drag-over-gap-top",!St&&ee),Object(de.a)(w,"drag-over-gap-bottom",!St&&te),Object(de.a)(w,"filter-node",nt&&nt(zl(this.props))),w)),style:W,onDragEnter:tr?this.onDragEnter:void 0,onDragOver:tr?this.onDragOver:void 0,onDragLeave:tr?this.onDragLeave:void 0,onDrop:tr?this.onDrop:void 0,onDragEnd:tr?this.onDragEnd:void 0,onMouseMove:Ze},bt),N.createElement(Mh,{prefixCls:et,level:Xt,isStart:ce,isEnd:se}),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),y}(N.Component),Th=function(d){return N.createElement(A0.Consumer,null,function(y){return N.createElement(e1,Object(xe.a)({},d,{context:y}))})};Th.displayName="TreeNode",Th.defaultProps={title:Gg},Th.isTreeNode=1;var Cm=Th;function Wg(c,d){var y=c.slice(),g=y.indexOf(d);return g>=0&&y.splice(g,1),y}function Am(c,d){var y=c.slice();return y.indexOf(d)===-1&&y.push(d),y}function wm(c){return c.split("-")}function fp(c,d){return"".concat(c,"-").concat(d)}function w0(c){return c&&c.type&&c.type.isTreeNode}function Yc(c,d){var y=[],g=d[c];function w(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];I.forEach(function(B){var j=B.key,W=B.children;y.push(j),w(W)})}return w(g.children),y}function md(c){if(c.parent){var d=wm(c.pos);return Number(d[d.length-1])===c.parent.children.length-1}return!1}function aA(c){var d=wm(c.pos);return Number(d[d.length-1])===0}function Sx(c,d,y,g,w,I,B,j,W){var Z,ee=c.clientX,te=c.clientY,oe=c.target.getBoundingClientRect(),ce=oe.top,se=oe.height,Ce=(W==="rtl"?-1:1)*(((g==null?void 0:g.x)||0)-ee),ye=(Ce-12)/y,Se=B[d.props.eventKey];if(te<ce+se/2){var _e=I.findIndex(function(At){return At.data.key===Se.key}),Ie=_e<=0?0:_e-1,Ge=I[Ie].data.key;Se=B[Ge]}for(var je=Se,ke=Se.key,Ze=0,He=0,qe=0;qe<ye&&md(Se);qe+=1)Se=Se.parent,He+=1;var et=Se.node,nt=!0;return aA(Se)&&Se.level===0&&te<ce+se/2&&w({dropNode:et,dropPosition:-1})&&Se.key===d.props.eventKey?Ze=-1:(je.children||[]).length&&j.includes(ke)?w({dropNode:et,dropPosition:0})?Ze=0:nt=!1:He===0?ye>-1.5?w({dropNode:et,dropPosition:1})?Ze=1:nt=!1:w({dropNode:et,dropPosition:0})?Ze=0:w({dropNode:et,dropPosition:1})?Ze=1:nt=!1:w({dropNode:et,dropPosition:1})?Ze=1:nt=!1,{dropPosition:Ze,dropLevelOffset:He,dropTargetKey:Se.key,dropTargetPos:Se.pos,dragOverNodeKey:ke,dropContainerKey:Ze===0?null:((Z=Se.parent)===null||Z===void 0?void 0:Z.key)||null,dropAllowed:nt}}function bm(c,d){if(!!c){var y=d.multiple;return y?c.slice():c.length?[c[0]]:c}}var Sm=function(d){return d};function gd(c,d){if(!c)return[];var y=d||{},g=y.processProps,w=g===void 0?Sm:g,I=Array.isArray(c)?c:[c];return I.map(function(B){var j=B.children,W=Object(ua.a)(B,["children"]),Z=gd(j,d);return ve.a.createElement(Cm,w(W),Z)})}function C2(c){if(!c)return null;var d;if(Array.isArray(c))d={checkedKeys:c,halfCheckedKeys:void 0};else if(Object(ft.a)(c)==="object")d={checkedKeys:c.checked||void 0,halfCheckedKeys:c.halfChecked||void 0};else return Object(Xo.a)(!1,"`checkedKeys` is not an array or an object"),null;return d}function sA(c,d){var y=new Set;function g(w){if(!y.has(w)){var I=d[w];if(!!I){y.add(w);var B=I.parent,j=I.node;j.disabled||B&&g(B.key)}}}return(c||[]).forEach(function(w){g(w)}),Object($t.a)(y)}function zu(c){var d={};return Object.keys(c).forEach(function(y){(y.startsWith("data-")||y.startsWith("aria-"))&&(d[y]=c[y])}),d}function b0(c,d){return c!=null?c:d}function ju(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d=new Map;function y(g){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(g||[]).forEach(function(I){var B=I.key,j=I.children;Object(Xo.a)(B!=null,"Tree node must have a certain key: [".concat(w).concat(B,"]"));var W=String(B);Object(Xo.a)(!d.has(W)||B===null||B===void 0,"Same 'key' exist in the Tree: ".concat(W)),d.set(W,!0),y(j,"".concat(w).concat(W," > "))})}y(c)}function t1(c){function d(y){var g=Object(yu.a)(y);return g.map(function(w){if(!w0(w))return Object(Xo.a)(!w,"Tree/TreeNode can only accept TreeNode as children."),null;var I=w.key,B=w.props,j=B.children,W=Object(ua.a)(B,["children"]),Z=Object(ur.a)({key:I},W),ee=d(j);return ee.length&&(Z.children=ee),Z}).filter(function(w){return w})}return d(c)}function r1(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],y=new Set(d===!0?[]:d),g=[];function w(I){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return I.map(function(j,W){var Z=fp(B?B.pos:"0",W),ee=b0(j.key,Z),te=Object(ur.a)(Object(ur.a)({},j),{},{parent:B,pos:Z,children:null,data:j,isStart:[].concat(Object($t.a)(B?B.isStart:[]),[W===0]),isEnd:[].concat(Object($t.a)(B?B.isEnd:[]),[W===I.length-1])});return g.push(te),d===!0||y.has(ee)?te.children=w(j.children||[],te):te.children=[],te})}return w(c),g}function fu(c,d,y){var g=null,w,I=Object(ft.a)(y);I==="function"||I==="string"?g=y:y&&I==="object"&&(w=y.childrenPropName,g=y.externalGetKey),w=w||"children";var B;g?typeof g=="string"?B=function(Z){return Z[g]}:typeof g=="function"&&(B=function(Z){return g(Z)}):B=function(Z,ee){return b0(Z.key,ee)};function j(W,Z,ee){var te=W?W[w]:c,oe=W?fp(ee.pos,Z):"0";if(W){var ce=B(W,oe),se={node:W,index:Z,pos:oe,key:ce,parentPos:ee.node?ee.pos:null,level:ee.level+1};d(se)}te&&te.forEach(function(Ce,ye){j(Ce,ye,{node:W,pos:oe,level:ee?ee.level+1:-1})})}j(null)}function n1(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=d.initWrapper,g=d.processEntity,w=d.onProcessFinished,I=d.externalGetKey,B=d.childrenPropName,j=arguments.length>2?arguments[2]:void 0,W=I||j,Z={},ee={},te={posEntities:Z,keyEntities:ee};return y&&(te=y(te)||te),fu(c,function(oe){var ce=oe.node,se=oe.index,Ce=oe.pos,ye=oe.key,Se=oe.parentPos,_e=oe.level,Ie={node:ce,index:se,key:ye,pos:Ce,level:_e},Ge=b0(ye,Ce);Z[Ce]=Ie,ee[Ge]=Ie,Ie.parent=Z[Se],Ie.parent&&(Ie.parent.children=Ie.parent.children||[],Ie.parent.children.push(Ie)),g&&g(Ie,te)},{externalGetKey:W,childrenPropName:B}),w&&w(te),te}function S0(c,d){var y=d.expandedKeys,g=d.selectedKeys,w=d.loadedKeys,I=d.loadingKeys,B=d.checkedKeys,j=d.halfCheckedKeys,W=d.dragOverNodeKey,Z=d.dropPosition,ee=d.keyEntities,te=ee[c],oe={eventKey:c,expanded:y.indexOf(c)!==-1,selected:g.indexOf(c)!==-1,loaded:w.indexOf(c)!==-1,loading:I.indexOf(c)!==-1,checked:B.indexOf(c)!==-1,halfChecked:j.indexOf(c)!==-1,pos:String(te?te.pos:""),dragOver:W===c&&Z===0,dragOverGapTop:W===c&&Z===-1,dragOverGapBottom:W===c&&Z===1};return oe}function zl(c){var d=c.data,y=c.expanded,g=c.selected,w=c.checked,I=c.loaded,B=c.loading,j=c.halfChecked,W=c.dragOver,Z=c.dragOverGapTop,ee=c.dragOverGapBottom,te=c.pos,oe=c.active,ce=Object(ur.a)(Object(ur.a)({},d),{},{expanded:y,selected:g,checked:w,loaded:I,loading:B,halfChecked:j,dragOver:W,dragOverGapTop:Z,dragOverGapBottom:ee,pos:te,active:oe});return"props"in ce||Object.defineProperty(ce,"props",{get:function(){return Object(Xo.a)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),c}}),ce}function Ih(c,d){var y=new Set;return c.forEach(function(g){d.has(g)||y.add(g)}),y}function Sf(c){var d=c||{},y=d.disabled,g=d.disableCheckbox,w=d.checkable;return!!(y||g)||w===!1}function Xc(c,d,y,g){for(var w=new Set(c),I=new Set,B=0;B<=y;B+=1){var j=d.get(B)||new Set;j.forEach(function(te){var oe=te.key,ce=te.node,se=te.children,Ce=se===void 0?[]:se;w.has(oe)&&!g(ce)&&Ce.filter(function(ye){return!g(ye.node)}).forEach(function(ye){w.add(ye.key)})})}for(var W=new Set,Z=y;Z>=0;Z-=1){var ee=d.get(Z)||new Set;ee.forEach(function(te){var oe=te.parent,ce=te.node;if(!(g(ce)||!te.parent||W.has(te.parent.key))){if(g(te.parent.node)){W.add(oe.key);return}var se=!0,Ce=!1;(oe.children||[]).filter(function(ye){return!g(ye.node)}).forEach(function(ye){var Se=ye.key,_e=w.has(Se);se&&!_e&&(se=!1),!Ce&&(_e||I.has(Se))&&(Ce=!0)}),se&&w.add(oe.key),Ce&&I.add(oe.key),W.add(oe.key)}})}return{checkedKeys:Array.from(w),halfCheckedKeys:Array.from(Ih(I,w))}}function dp(c,d,y,g,w){for(var I=new Set(c),B=new Set(d),j=0;j<=g;j+=1){var W=y.get(j)||new Set;W.forEach(function(oe){var ce=oe.key,se=oe.node,Ce=oe.children,ye=Ce===void 0?[]:Ce;!I.has(ce)&&!B.has(ce)&&!w(se)&&ye.filter(function(Se){return!w(Se.node)}).forEach(function(Se){I.delete(Se.key)})})}B=new Set;for(var Z=new Set,ee=g;ee>=0;ee-=1){var te=y.get(ee)||new Set;te.forEach(function(oe){var ce=oe.parent,se=oe.node;if(!(w(se)||!oe.parent||Z.has(oe.parent.key))){if(w(oe.parent.node)){Z.add(ce.key);return}var Ce=!0,ye=!1;(ce.children||[]).filter(function(Se){return!w(Se.node)}).forEach(function(Se){var _e=Se.key,Ie=I.has(_e);Ce&&!Ie&&(Ce=!1),!ye&&(Ie||B.has(_e))&&(ye=!0)}),Ce||I.delete(ce.key),ye&&B.add(ce.key),Z.add(ce.key)}})}return{checkedKeys:Array.from(I),halfCheckedKeys:Array.from(Ih(B,I))}}function Yg(c,d,y,g){var w=[],I;g?I=g:I=Sf;var B=new Set(c.filter(function(ee){var te=!!y[ee];return te||w.push(ee),te})),j=new Map,W=0;Object.keys(y).forEach(function(ee){var te=y[ee],oe=te.level,ce=j.get(oe);ce||(ce=new Set,j.set(oe,ce)),ce.add(te),W=Math.max(W,oe)}),Object(Xo.a)(!w.length,"Tree missing follow keys: ".concat(w.slice(0,100).map(function(ee){return"'".concat(ee,"'")}).join(", ")));var Z;return d===!0?Z=Xc(B,j,W,I):Z=dp(B,d.halfCheckedKeys,j,W,I),Z}var _0=function(c){Object(ti.a)(y,c);var d=Object(Xa.a)(y);function y(g){var w;Object(vn.a)(this,y),w=d.call(this,g),w.handleChange=function(B){var j=w.props,W=j.disabled,Z=j.onChange;W||("checked"in w.props||w.setState({checked:B.target.checked}),Z&&Z({target:Object(ur.a)(Object(ur.a)({},w.props),{},{checked:B.target.checked}),stopPropagation:function(){B.stopPropagation()},preventDefault:function(){B.preventDefault()},nativeEvent:B.nativeEvent}))},w.saveInput=function(B){w.input=B};var I="checked"in g?g.checked:g.defaultChecked;return w.state={checked:I},w}return Object(No.a)(y,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var w,I=this.props,B=I.prefixCls,j=I.className,W=I.style,Z=I.name,ee=I.id,te=I.type,oe=I.disabled,ce=I.readOnly,se=I.tabIndex,Ce=I.onClick,ye=I.onFocus,Se=I.onBlur,_e=I.onKeyDown,Ie=I.onKeyPress,Ge=I.onKeyUp,je=I.autoFocus,ke=I.value,Ze=I.required,He=Object(ua.a)(I,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),qe=Object.keys(He).reduce(function(At,ot){return(ot.substr(0,5)==="aria-"||ot.substr(0,5)==="data-"||ot==="role")&&(At[ot]=He[ot]),At},{}),et=this.state.checked,nt=st()(B,j,(w={},Object(de.a)(w,"".concat(B,"-checked"),et),Object(de.a)(w,"".concat(B,"-disabled"),oe),w));return ve.a.createElement("span",{className:nt,style:W},ve.a.createElement("input",Object(xe.a)({name:Z,id:ee,type:te,required:Ze,readOnly:ce,disabled:oe,tabIndex:se,className:"".concat(B,"-input"),checked:!!et,onClick:Ce,onFocus:ye,onBlur:Se,onKeyUp:Ge,onKeyDown:_e,onKeyPress:Ie,onChange:this.handleChange,autoFocus:je,ref:this.saveInput,value:ke},qe)),ve.a.createElement("span",{className:"".concat(B,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(w,I){return"checked"in w?Object(ur.a)(Object(ur.a)({},I),{},{checked:w.checked}):null}}]),y}(N.Component);_0.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};var M0=_0,i1=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y},vd=N.createContext(null),o1=function(d){var y=d.defaultValue,g=d.children,w=d.options,I=w===void 0?[]:w,B=d.prefixCls,j=d.className,W=d.style,Z=d.onChange,ee=i1(d,["defaultValue","children","options","prefixCls","className","style","onChange"]),te=N.useContext(br.b),oe=te.getPrefixCls,ce=te.direction,se=N.useState(ee.value||y||[]),Ce=Object(ar.a)(se,2),ye=Ce[0],Se=Ce[1],_e=N.useState([]),Ie=Object(ar.a)(_e,2),Ge=Ie[0],je=Ie[1];N.useEffect(function(){"value"in ee&&Se(ee.value||[])},[ee.value]);var ke=function(){return I.map(function(St){return typeof St=="string"?{label:St,value:St}:St})},Ze=function(St){je(function(bt){return bt.filter(function(Rt){return Rt!==St})})},He=function(St){je(function(bt){return[].concat(Object($t.a)(bt),[St])})},qe=function(St){var bt=ye.indexOf(St.value),Rt=Object($t.a)(ye);if(bt===-1?Rt.push(St.value):Rt.splice(bt,1),"value"in ee||Se(Rt),Z){var Xt=ke();Z(Rt.filter(function(Gt){return Ge.indexOf(Gt)!==-1}).sort(function(Gt,tr){var Jt=Xt.findIndex(function(nr){return nr.value===Gt}),sr=Xt.findIndex(function(nr){return nr.value===tr});return Jt-sr}))}},et=oe("checkbox",B),nt="".concat(et,"-group"),At=Object(Ar.a)(ee,["value","disabled"]);I&&I.length>0&&(g=ke().map(function(wt){return N.createElement(E0,{prefixCls:et,key:wt.value.toString(),disabled:"disabled"in wt?wt.disabled:ee.disabled,value:wt.value,checked:ye.indexOf(wt.value)!==-1,onChange:wt.onChange,className:"".concat(nt,"-item"),style:wt.style},wt.label)}));var ot={toggleOption:qe,value:ye,disabled:ee.disabled,name:ee.name,registerValue:He,cancelValue:Ze},gt=st()(nt,Object(de.a)({},"".concat(nt,"-rtl"),ce==="rtl"),j);return N.createElement("div",Object(xe.a)({className:gt,style:W},At),N.createElement(vd.Provider,{value:ot},g))},Uu=N.memo(o1),lA=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y},Xg=function(d,y){var g,w=d.prefixCls,I=d.className,B=d.children,j=d.indeterminate,W=j===void 0?!1:j,Z=d.style,ee=d.onMouseEnter,te=d.onMouseLeave,oe=d.skipGroup,ce=oe===void 0?!1:oe,se=lA(d,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup"]),Ce=N.useContext(br.b),ye=Ce.getPrefixCls,Se=Ce.direction,_e=N.useContext(vd),Ie=N.useRef(se.value);N.useEffect(function(){_e==null||_e.registerValue(se.value),Object(so.a)("checked"in se||!!_e||!("value"in se),"Checkbox","`value` is not a valid prop, do you mean `checked`?")},[]),N.useEffect(function(){if(!ce)return se.value!==Ie.current&&(_e==null||_e.cancelValue(Ie.current),_e==null||_e.registerValue(se.value)),function(){return _e==null?void 0:_e.cancelValue(se.value)}},[se.value]);var Ge=ye("checkbox",w),je=Object(xe.a)({},se);_e&&!ce&&(je.onChange=function(){se.onChange&&se.onChange.apply(se,arguments),_e.toggleOption&&_e.toggleOption({label:B,value:se.value})},je.name=_e.name,je.checked=_e.value.indexOf(se.value)!==-1,je.disabled=se.disabled||_e.disabled);var ke=st()((g={},Object(de.a)(g,"".concat(Ge,"-wrapper"),!0),Object(de.a)(g,"".concat(Ge,"-rtl"),Se==="rtl"),Object(de.a)(g,"".concat(Ge,"-wrapper-checked"),je.checked),Object(de.a)(g,"".concat(Ge,"-wrapper-disabled"),je.disabled),g),I),Ze=st()(Object(de.a)({},"".concat(Ge,"-indeterminate"),W));return N.createElement("label",{className:ke,style:Z,onMouseEnter:ee,onMouseLeave:te},N.createElement(M0,Object(xe.a)({},je,{prefixCls:Ge,className:Ze,ref:y})),B!==void 0&&N.createElement("span",null,B))},_f=N.forwardRef(Xg);_f.displayName="Checkbox";var E0=_f,Zg=E0;Zg.Group=Uu,Zg.__ANT_CHECKBOX=!0;var Kg=Zg,T0=ae("jsC+"),yd=ae("BvKs"),Jg=N.createContext(null),_m=Jg.Provider,Mf=Jg,xd=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y},Al=function(d,y){var g,w=N.useContext(Mf),I=N.useContext(br.b),B=I.getPrefixCls,j=I.direction,W=N.useRef(),Z=Object(Qh.a)(y,W);N.useEffect(function(){Object(so.a)(!("optionType"in d),"Radio","`optionType` is only support in Radio.Group.")},[]);var ee=function(Ge){d.onChange&&d.onChange(Ge),(w==null?void 0:w.onChange)&&w.onChange(Ge)},te=d.prefixCls,oe=d.className,ce=d.children,se=d.style,Ce=xd(d,["prefixCls","className","children","style"]),ye=B("radio",te),Se=Object(xe.a)({},Ce);w&&(Se.name=w.name,Se.onChange=ee,Se.checked=d.value===w.value,Se.disabled=d.disabled||w.disabled);var _e=st()("".concat(ye,"-wrapper"),(g={},Object(de.a)(g,"".concat(ye,"-wrapper-checked"),Se.checked),Object(de.a)(g,"".concat(ye,"-wrapper-disabled"),Se.disabled),Object(de.a)(g,"".concat(ye,"-wrapper-rtl"),j==="rtl"),g),oe);return N.createElement("label",{className:_e,style:se,onMouseEnter:d.onMouseEnter,onMouseLeave:d.onMouseLeave},N.createElement(M0,Object(xe.a)({},Se,{prefixCls:ye,ref:Z})),ce!==void 0?N.createElement("span",null,ce):null)},pp=N.forwardRef(Al);pp.displayName="Radio",pp.defaultProps={type:"radio"};var Mm=pp,Ef=N.forwardRef(function(c,d){var y=N.useContext(br.b),g=y.getPrefixCls,w=y.direction,I=N.useContext(ou.b),B=Object(Ya.a)(c.defaultValue,{value:c.value}),j=Object(ar.a)(B,2),W=j[0],Z=j[1],ee=function(ce){var se=W,Ce=ce.target.value;"value"in c||Z(Ce);var ye=c.onChange;ye&&Ce!==se&&ye(ce)},te=function(){var ce,se=c.prefixCls,Ce=c.className,ye=Ce===void 0?"":Ce,Se=c.options,_e=c.optionType,Ie=c.buttonStyle,Ge=Ie===void 0?"outline":Ie,je=c.disabled,ke=c.children,Ze=c.size,He=c.style,qe=c.id,et=c.onMouseEnter,nt=c.onMouseLeave,At=g("radio",se),ot="".concat(At,"-group"),gt=ke;if(Se&&Se.length>0){var wt=_e==="button"?"".concat(At,"-button"):At;gt=Se.map(function(Rt){return typeof Rt=="string"?N.createElement(Mm,{key:Rt,prefixCls:wt,disabled:je,value:Rt,checked:W===Rt},Rt):N.createElement(Mm,{key:"radio-group-value-options-".concat(Rt.value),prefixCls:wt,disabled:Rt.disabled||je,value:Rt.value,checked:W===Rt.value,style:Rt.style},Rt.label)})}var St=Ze||I,bt=st()(ot,"".concat(ot,"-").concat(Ge),(ce={},Object(de.a)(ce,"".concat(ot,"-").concat(St),St),Object(de.a)(ce,"".concat(ot,"-rtl"),w==="rtl"),ce),ye);return N.createElement("div",{className:bt,style:He,onMouseEnter:et,onMouseLeave:nt,id:qe,ref:d},gt)};return N.createElement(_m,{value:{onChange:ee,value:W,disabled:c.disabled,name:c.name}},te())}),qg=N.memo(Ef),I0=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y},a1=function(d,y){var g=N.useContext(Mf),w=N.useContext(br.b),I=w.getPrefixCls,B=d.prefixCls,j=I0(d,["prefixCls"]),W=I("radio-button",B);return g&&(j.checked=d.value===g.value,j.disabled=d.disabled||g.disabled),N.createElement(Mm,Object(xe.a)({prefixCls:W},j,{type:"radio",ref:y}))},_x=N.forwardRef(a1),Cd=Mm;Cd.Button=_x,Cd.Group=qg;var mp=Cd,P0="SELECT_ALL",gp="SELECT_INVERT",vp="SELECT_NONE";function O0(c){return c&&c.fixed}function Mx(c,d){var y=[];return(c||[]).forEach(function(g){y.push(g),g&&Object(ft.a)(g)==="object"&&d in g&&(y=[].concat(Object($t.a)(y),Object($t.a)(Mx(g[d],d))))}),y}function s1(c,d){var y=c||{},g=y.preserveSelectedRowKeys,w=y.selectedRowKeys,I=y.getCheckboxProps,B=y.onChange,j=y.onSelect,W=y.onSelectAll,Z=y.onSelectInvert,ee=y.onSelectNone,te=y.onSelectMultiple,oe=y.columnWidth,ce=y.type,se=y.selections,Ce=y.fixed,ye=y.renderCell,Se=y.hideSelectAll,_e=y.checkStrictly,Ie=_e===void 0?!0:_e,Ge=d.prefixCls,je=d.data,ke=d.pageData,Ze=d.getRecordByKey,He=d.getRowKey,qe=d.expandType,et=d.childrenColumnName,nt=d.locale,At=d.expandIconColumnIndex,ot=d.getPopupContainer,gt=N.useRef(new Map),wt=Object(Ya.a)(w||[],{value:w}),St=Object(ar.a)(wt,2),bt=St[0],Rt=St[1],Xt=Object(N.useMemo)(function(){return Ie?{keyEntities:null}:n1(je,{externalGetKey:He,childrenPropName:et})},[je,He,Ie,et]),Gt=Xt.keyEntities,tr=Object(N.useMemo)(function(){return Mx(ke,et)},[ke,et]),Jt=Object(N.useMemo)(function(){var Jr=new Map;return tr.forEach(function(qr,Tn){var Ln=He(qr,Tn),Ci=(I?I(qr):null)||{};Jr.set(Ln,Ci)}),Jr},[tr,He,I]),sr=Object(N.useCallback)(function(Jr){var qr;return!!((qr=Jt.get(He(Jr)))===null||qr===void 0?void 0:qr.disabled)},[Jt,He]),nr=Object(N.useMemo)(function(){if(Ie)return[bt||[],[]];var Jr=Yg(bt,!0,Gt,sr),qr=Jr.checkedKeys,Tn=Jr.halfCheckedKeys;return[qr||[],Tn]},[bt,Ie,Gt,sr]),Or=Object(ar.a)(nr,2),dr=Or[0],Mr=Or[1],on=Object(N.useMemo)(function(){var Jr=ce==="radio"?dr.slice(0,1):dr;return new Set(Jr)},[dr,ce]),Fr=Object(N.useMemo)(function(){return ce==="radio"?new Set:new Set(Mr)},[Mr,ce]),wn=Object(N.useState)(null),Ir=Object(ar.a)(wn,2),hn=Ir[0],Fn=Ir[1];N.useEffect(function(){c||Rt([])},[!!c]);var xn=Object(N.useCallback)(function(Jr){var qr,Tn;if(g){var Ln=new Map;qr=Jr,Tn=Jr.map(function(Ci){var di=Ze(Ci);return!di&&gt.current.has(Ci)&&(di=gt.current.get(Ci)),Ln.set(Ci,di),di}),gt.current=Ln}else qr=[],Tn=[],Jr.forEach(function(Ci){var di=Ze(Ci);di!==void 0&&(qr.push(Ci),Tn.push(di))});Rt(qr),B&&B(qr,Tn)},[Rt,Ze,B,g]),rn=Object(N.useCallback)(function(Jr,qr,Tn,Ln){if(j){var Ci=Tn.map(function(di){return Ze(di)});j(Ze(Jr),qr,Ci,Ln)}xn(Tn)},[j,Ze,xn]),Dr=Object(N.useMemo)(function(){if(!se||Se)return null;var Jr=se===!0?[P0,gp,vp]:se;return Jr.map(function(qr){return qr===P0?{key:"all",text:nt.selectionAll,onSelect:function(){xn(je.map(function(Ln,Ci){return He(Ln,Ci)}))}}:qr===gp?{key:"invert",text:nt.selectInvert,onSelect:function(){var Ln=new Set(on);ke.forEach(function(di,Bo){var Ji=He(di,Bo);Ln.has(Ji)?Ln.delete(Ji):Ln.add(Ji)});var Ci=Array.from(Ln);Z&&(Object(so.a)(!1,"Table","`onSelectInvert` will be removed in future. Please use `onChange` instead."),Z(Ci)),xn(Ci)}}:qr===vp?{key:"none",text:nt.selectNone,onSelect:function(){ee&&ee(),xn([])}}:qr})},[se,on,ke,He,Z,xn]),En=Object(N.useCallback)(function(Jr){if(!c)return Jr;var qr=new Set(on),Tn=tr.map(He).filter(function(Li){return!Jt.get(Li).disabled}),Ln=Tn.every(function(Li){return qr.has(Li)}),Ci=Tn.some(function(Li){return qr.has(Li)}),di=function(){var Vi=[];Ln?Tn.forEach(function(co){qr.delete(co),Vi.push(co)}):Tn.forEach(function(co){qr.has(co)||(qr.add(co),Vi.push(co))});var ii=Array.from(qr);W&&W(!Ln,ii.map(function(co){return Ze(co)}),Vi.map(function(co){return Ze(co)})),xn(ii)},Bo;if(ce!=="radio"){var Ji;if(Dr){var qi=N.createElement(yd.a,{getPopupContainer:ot},Dr.map(function(Li,Vi){var ii=Li.key,co=Li.text,So=Li.onSelect;return N.createElement(yd.a.Item,{key:ii||Vi,onClick:function(){So&&So(Tn)}},co)}));Ji=N.createElement("div",{className:"".concat(Ge,"-selection-extra")},N.createElement(T0.a,{overlay:qi,getPopupContainer:ot},N.createElement("span",null,N.createElement(Gp.a,null))))}var Ri=tr.every(function(Li,Vi){var ii=He(Li,Vi),co=Jt.get(ii)||{};return co.disabled});Bo=!Se&&N.createElement("div",{className:"".concat(Ge,"-selection")},N.createElement(Kg,{checked:!Ri&&!!tr.length&&Ln,indeterminate:!Ln&&Ci,onChange:di,disabled:tr.length===0||Ri,skipGroup:!0}),Ji)}var zo;ce==="radio"?zo=function(Vi,ii,co){var So=He(ii,co),kn=qr.has(So);return{node:N.createElement(mp,Object(xe.a)({},Jt.get(So),{checked:kn,onClick:function(Eo){return Eo.stopPropagation()},onChange:function(Eo){qr.has(So)||rn(So,!0,[So],Eo.nativeEvent)}})),checked:kn}}:zo=function(Vi,ii,co){var So,kn=He(ii,co),go=qr.has(kn),Eo=Fr.has(kn),ys=Jt.get(kn),Zu;return qe==="nest"?(Zu=Eo,Object(so.a)(typeof(ys==null?void 0:ys.indeterminate)!="boolean","Table","set `indeterminate` using `rowSelection.getCheckboxProps` is not allowed with tree structured dataSource.")):Zu=(So=ys==null?void 0:ys.indeterminate)!==null&&So!==void 0?So:Eo,{node:N.createElement(Kg,Object(xe.a)({},ys,{indeterminate:Zu,checked:go,skipGroup:!0,onClick:function(_l){return _l.stopPropagation()},onChange:function(_l){var Na=_l.nativeEvent,Lo=Na.shiftKey,Qi=-1,Hn=-1;if(Lo&&Ie){var Po=new Set([hn,kn]);Tn.some(function(xo,_i){if(Po.has(xo))if(Qi===-1)Qi=_i;else return Hn=_i,!0;return!1})}if(Hn!==-1&&Qi!==Hn&&Ie){var aa=Tn.slice(Qi,Hn+1),fs=[];go?aa.forEach(function(xo){qr.has(xo)&&(fs.push(xo),qr.delete(xo))}):aa.forEach(function(xo){qr.has(xo)||(fs.push(xo),qr.add(xo))});var ks=Array.from(qr);te&&te(!go,ks.map(function(xo){return Ze(xo)}),fs.map(function(xo){return Ze(xo)})),xn(ks)}else{var yc=dr;if(Ie){var nu=go?Wg(yc,kn):Am(yc,kn);rn(kn,!go,nu,Na)}else{var Vl=Yg([].concat(Object($t.a)(yc),[kn]),!0,Gt,sr),hl=Vl.checkedKeys,sa=Vl.halfCheckedKeys,Ml=hl;if(go){var xs=new Set(hl);xs.delete(kn),Ml=Yg(Array.from(xs),{checked:!1,halfCheckedKeys:sa},Gt,sr).checkedKeys}rn(kn,!go,Ml,Na)}}Fn(kn)}})),checked:go}};var ni=function(Vi,ii,co){var So=zo(Vi,ii,co),kn=So.node,go=So.checked;return ye?ye(go,ii,co,kn):kn},un=Object(de.a)({width:oe,className:"".concat(Ge,"-selection-column"),title:c.columnTitle||Bo,render:ni},ip,{className:"".concat(Ge,"-selection-col")});if(qe==="row"&&Jr.length&&!At){var Rr=Object(Rc.a)(Jr),Bn=Rr[0],hi=Rr.slice(1),Xr=Ce||O0(hi[0]);return Xr&&(Bn.fixed=Xr),[Bn,Object(xe.a)(Object(xe.a)({},un),{fixed:Xr})].concat(Object($t.a)(hi))}return[Object(xe.a)(Object(xe.a)({},un),{fixed:Ce||O0(Jr[0])})].concat(Object($t.a)(Jr))},[He,tr,c,dr,on,Fr,oe,Dr,qe,hn,Jt,te,rn,sr]);return[En,on]}var R0={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},yp=R0,Qg=function(d,y){return N.createElement(Ls.a,Object.assign({},d,{ref:y,icon:yp}))};Qg.displayName="CaretDownOutlined";var L0=N.forwardRef(Qg),Ex={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"},Em=Ex,l1=function(d,y){return N.createElement(Ls.a,Object.assign({},d,{ref:y,icon:Em}))};l1.displayName="CaretUpOutlined";var D0=N.forwardRef(l1);function jl(c,d){return"key"in c&&c.key!==void 0&&c.key!==null?c.key:c.dataIndex?Array.isArray(c.dataIndex)?c.dataIndex.join("."):c.dataIndex:d}function Ph(c,d){return d?"".concat(d,"-").concat(c):"".concat(c)}function Tf(c,d){return typeof c=="function"?c(d):c}var Tm="ascend",xp="descend";function Zo(c){return Object(ft.a)(c.sorter)==="object"&&typeof c.sorter.multiple=="number"?c.sorter.multiple:!1}function u1(c){return typeof c=="function"?c:c&&Object(ft.a)(c)==="object"&&c.compare?c.compare:!1}function c1(c,d){return d?c[c.indexOf(d)+1]:c[0]}function es(c,d,y){var g=[];function w(I,B){g.push({column:I,key:jl(I,B),multiplePriority:Zo(I),sortOrder:I.sortOrder})}return(c||[]).forEach(function(I,B){var j=Ph(B,y);I.children?("sortOrder"in I&&w(I,j),g=[].concat(Object($t.a)(g),Object($t.a)(es(I.children,d,j)))):I.sorter&&("sortOrder"in I?w(I,j):d&&I.defaultSortOrder&&g.push({column:I,key:jl(I,j),multiplePriority:Zo(I),sortOrder:I.defaultSortOrder}))}),g}function h1(c,d,y,g,w,I,B,j){return(d||[]).map(function(W,Z){var ee=Ph(Z,j),te=W;if(te.sorter){var oe=te.sortDirections||w,ce=te.showSorterTooltip===void 0?B:te.showSorterTooltip,se=jl(te,ee),Ce=y.find(function(et){var nt=et.key;return nt===se}),ye=Ce?Ce.sortOrder:null,Se=c1(oe,ye),_e=oe.includes(Tm)&&N.createElement(D0,{className:st()("".concat(c,"-column-sorter-up"),{active:ye===Tm})}),Ie=oe.includes(xp)&&N.createElement(L0,{className:st()("".concat(c,"-column-sorter-down"),{active:ye===xp})}),Ge=I||{},je=Ge.cancelSort,ke=Ge.triggerAsc,Ze=Ge.triggerDesc,He=je;Se===xp?He=Ze:Se===Tm&&(He=ke);var qe=Object(ft.a)(ce)==="object"?ce:{title:He};te=Object(xe.a)(Object(xe.a)({},te),{className:st()(te.className,Object(de.a)({},"".concat(c,"-column-sort"),ye)),title:function(nt){var At=N.createElement("div",{className:"".concat(c,"-column-sorters")},N.createElement("span",null,Tf(W.title,nt)),N.createElement("span",{className:st()("".concat(c,"-column-sorter"),Object(de.a)({},"".concat(c,"-column-sorter-full"),_e&&Ie))},N.createElement("span",{className:"".concat(c,"-column-sorter-inner")},_e,Ie)));return ce?N.createElement(bu.a,qe,N.createElement("div",{className:"".concat(c,"-column-sorters-with-tooltip")},At)):At},onHeaderCell:function(nt){var At=W.onHeaderCell&&W.onHeaderCell(nt)||{},ot=At.onClick;return At.onClick=function(gt){g({column:W,key:se,sortOrder:Se,multiplePriority:Zo(W)}),ot&&ot(gt)},At.className=st()(At.className,"".concat(c,"-column-has-sorters")),At}})}return"children"in te&&(te=Object(xe.a)(Object(xe.a)({},te),{children:h1(c,te.children,y,g,w,I,B,ee)})),te})}function Cp(c){var d=c.column,y=c.sortOrder;return{column:d,order:y,field:d.dataIndex,columnKey:d.key}}function f1(c){var d=c.filter(function(y){var g=y.sortOrder;return g}).map(Cp);return d.length===0&&c.length?Object(xe.a)(Object(xe.a)({},Cp(c[c.length-1])),{column:void 0}):d.length<=1?d[0]||{}:d}function ru(c,d,y){var g=d.slice().sort(function(B,j){return j.multiplePriority-B.multiplePriority}),w=c.slice(),I=g.filter(function(B){var j=B.column.sorter,W=B.sortOrder;return u1(j)&&W});return I.length?w.sort(function(B,j){for(var W=0;W<I.length;W+=1){var Z=I[W],ee=Z.column.sorter,te=Z.sortOrder,oe=u1(ee);if(oe&&te){var ce=oe(B,j,te);if(ce!==0)return te===Tm?ce:-ce}}return 0}).map(function(B){var j=B[y];return j?Object(xe.a)(Object(xe.a)({},B),Object(de.a)({},y,ru(j,d,y))):B}):w}function uA(c){var d=c.prefixCls,y=c.mergedColumns,g=c.onSorterChange,w=c.sortDirections,I=c.tableLocale,B=c.showSorterTooltip,j=N.useState(es(y,!0)),W=Object(ar.a)(j,2),Z=W[0],ee=W[1],te=N.useMemo(function(){var ye=!0,Se=es(y,!1);if(!Se.length)return Z;var _e=[];function Ie(je){ye?_e.push(je):_e.push(Object(xe.a)(Object(xe.a)({},je),{sortOrder:null}))}var Ge=null;return Se.forEach(function(je){Ge===null?(Ie(je),je.sortOrder&&(je.multiplePriority===!1?ye=!1:Ge=!0)):(Ge&&je.multiplePriority!==!1||(ye=!1),Ie(je))}),_e},[y,Z]),oe=N.useMemo(function(){var ye=te.map(function(Se){var _e=Se.column,Ie=Se.sortOrder;return{column:_e,order:Ie}});return{sortColumns:ye,sortColumn:ye[0]&&ye[0].column,sortOrder:ye[0]&&ye[0].order}},[te]);function ce(ye){var Se;ye.multiplePriority===!1||!te.length||te[0].multiplePriority===!1?Se=[ye]:Se=[].concat(Object($t.a)(te.filter(function(_e){var Ie=_e.key;return Ie!==ye.key})),[ye]),ee(Se),g(f1(Se),Se)}var se=function(Se){return h1(d,Se,te,ce,w,I,B)},Ce=function(){return f1(te)};return[se,te,oe,Ce]}var Tx={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},Ix=Tx,Oe=function(d,y){return N.createElement(Ls.a,Object.assign({},d,{ref:y,icon:Ix}))};Oe.displayName="FilterFilled";var N0=N.forwardRef(Oe),If=ae("ECub"),cA=function(d){return N.createElement("div",{className:d.className,onClick:function(g){return g.stopPropagation()}},d.children)},Zi=cA;function $g(c){var d=N.useRef(c),y=Object(_o.a)();return[function(){return d.current},function(g){d.current=g,y()}]}var ev=yd.a.SubMenu,Le=yd.a.Item;function hA(c){return c.some(function(d){var y=d.children;return y})}function Px(c){var d=c.filters,y=c.prefixCls,g=c.filteredKeys,w=c.filterMultiple,I=c.locale;return d.length===0?N.createElement("div",{style:{margin:"16px 0"}},N.createElement(If.a,{image:If.a.PRESENTED_IMAGE_SIMPLE,description:I.filterEmptyText,imageStyle:{height:24}})):d.map(function(B,j){var W=String(B.value);if(B.children)return N.createElement(ev,{key:W||j,title:B.text,popupClassName:"".concat(y,"-dropdown-submenu")},Px({filters:B.children,prefixCls:y,filteredKeys:g,filterMultiple:w,locale:I}));var Z=w?Kg:mp;return N.createElement(Le,{key:B.value!==void 0?W:j},N.createElement(Z,{checked:g.includes(W)}),N.createElement("span",null,B.text))})}function Ad(c){var d,y=c.prefixCls,g=c.column,w=c.dropdownPrefixCls,I=c.columnKey,B=c.filterMultiple,j=c.filterState,W=c.triggerFilter,Z=c.locale,ee=c.children,te=c.getPopupContainer,oe=g.filterDropdownVisible,ce=g.onFilterDropdownVisibleChange,se=N.useState(!1),Ce=Object(ar.a)(se,2),ye=Ce[0],Se=Ce[1],_e=!!(j&&(((d=j.filteredKeys)===null||d===void 0?void 0:d.length)||j.forceFiltered)),Ie=function(Ir){Se(Ir),ce&&ce(Ir)},Ge=typeof oe=="boolean"?oe:ye,je=j&&j.filteredKeys,ke=$g(je||[]),Ze=Object(ar.a)(ke,2),He=Ze[0],qe=Ze[1],et=function(Ir){var hn=Ir.selectedKeys;qe(hn)};N.useEffect(function(){et({selectedKeys:je||[]})},[je]);var nt=N.useState([]),At=Object(ar.a)(nt,2),ot=At[0],gt=At[1],wt=N.useRef(),St=function(Ir){wt.current=window.setTimeout(function(){gt(Ir)})},bt=function(){window.clearTimeout(wt.current)};N.useEffect(function(){return function(){window.clearTimeout(wt.current)}},[]);var Rt=function(Ir){var hn=Ir&&Ir.length?Ir:null;if(hn===null&&(!j||!j.filteredKeys)||ca()(hn,j==null?void 0:j.filteredKeys))return null;W({column:g,key:I,filteredKeys:hn})},Xt=function(){Ie(!1),Rt(He())},Gt=function(){qe([]),Ie(!1),Rt([])},tr=function(){var Ir=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0};Ie(!Ir.closeDropdown),Rt(He())},Jt=function(Ir){Ir&&je!==void 0&&qe(je||[]),Ie(Ir),!Ir&&!g.filterDropdown&&Xt()},sr=st()(Object(de.a)({},"".concat(w,"-menu-without-submenu"),!hA(g.filters||[]))),nr;if(typeof g.filterDropdown=="function")nr=g.filterDropdown({prefixCls:"".concat(w,"-custom"),setSelectedKeys:function(Ir){return et({selectedKeys:Ir})},selectedKeys:He(),confirm:tr,clearFilters:Gt,filters:g.filters,visible:Ge});else if(g.filterDropdown)nr=g.filterDropdown;else{var Or=He()||[];nr=N.createElement(N.Fragment,null,N.createElement(yd.a,{multiple:B,prefixCls:"".concat(w,"-menu"),className:sr,onClick:bt,onSelect:et,onDeselect:et,selectedKeys:Or,getPopupContainer:te,openKeys:ot,onOpenChange:St},Px({filters:g.filters||[],prefixCls:y,filteredKeys:He(),filterMultiple:B,locale:Z})),N.createElement("div",{className:"".concat(y,"-dropdown-btns")},N.createElement(Cu.a,{type:"link",size:"small",disabled:Or.length===0,onClick:Gt},Z.filterReset),N.createElement(Cu.a,{type:"primary",size:"small",onClick:Xt},Z.filterConfirm)))}var dr=N.createElement(Zi,{className:"".concat(y,"-dropdown")},nr),Mr;typeof g.filterIcon=="function"?Mr=g.filterIcon(_e):g.filterIcon?Mr=g.filterIcon:Mr=N.createElement(N0,null);var on=N.useContext(br.b),Fr=on.direction;return N.createElement("div",{className:st()("".concat(y,"-column"))},N.createElement("span",{className:"".concat(y,"-column-title")},ee),N.createElement("span",{className:st()("".concat(y,"-trigger-container"),Object(de.a)({},"".concat(y,"-trigger-container-open"),Ge)),onClick:function(Ir){Ir.stopPropagation()}},N.createElement(T0.a,{overlay:dr,trigger:["click"],visible:Ge,onVisibleChange:Jt,getPopupContainer:te,placement:Fr==="rtl"?"bottomLeft":"bottomRight"},N.createElement("span",{role:"button",tabIndex:-1,className:st()("".concat(y,"-trigger"),{active:_e})},Mr))))}var fA=Ad;function Im(c,d,y){var g=[];return(c||[]).forEach(function(w,I){var B,j=Ph(I,y);if("children"in w)g=[].concat(Object($t.a)(g),Object($t.a)(Im(w.children,d,j)));else if(w.filters||"filterDropdown"in w||"onFilter"in w)if("filteredValue"in w){var W=w.filteredValue;"filterDropdown"in w||(W=(B=W==null?void 0:W.map(String))!==null&&B!==void 0?B:W),g.push({column:w,key:jl(w,j),filteredKeys:W,forceFiltered:w.filtered})}else g.push({column:w,key:jl(w,j),filteredKeys:d&&w.defaultFilteredValue?w.defaultFilteredValue:void 0,forceFiltered:w.filtered})}),g}function Ox(c,d,y,g,w,I,B,j){return y.map(function(W,Z){var ee=Ph(Z,j),te=W.filterMultiple,oe=te===void 0?!0:te,ce=W;if(ce.filters||ce.filterDropdown){var se=jl(ce,ee),Ce=g.find(function(ye){var Se=ye.key;return se===Se});ce=Object(xe.a)(Object(xe.a)({},ce),{title:function(Se){return N.createElement(fA,{prefixCls:"".concat(c,"-filter"),dropdownPrefixCls:d,column:ce,columnKey:se,filterState:Ce,filterMultiple:oe,triggerFilter:w,locale:B,getPopupContainer:I},Tf(W.title,Se))}})}return"children"in ce&&(ce=Object(xe.a)(Object(xe.a)({},ce),{children:Ox(c,d,ce.children,g,w,I,B,ee)})),ce})}function Zc(c){var d=[];return(c||[]).forEach(function(y){var g=y.value,w=y.children;d.push(g),w&&(d=[].concat(Object($t.a)(d),Object($t.a)(Zc(w))))}),d}function F0(c){var d={};return c.forEach(function(y){var g=y.key,w=y.filteredKeys,I=y.column,B=I.filters,j=I.filterDropdown;if(j)d[g]=w||null;else if(Array.isArray(w)){var W=Zc(B);d[g]=W.filter(function(Z){return w.includes(String(Z))})}else d[g]=null}),d}function Rx(c,d){return d.reduce(function(y,g){var w=g.column,I=w.onFilter,B=w.filters,j=g.filteredKeys;return I&&j&&j.length?y.filter(function(W){return j.some(function(Z){var ee=Zc(B),te=ee.findIndex(function(ce){return String(ce)===String(Z)}),oe=te!==-1?ee[te]:Z;return I(oe,W)})}):y},c)}function ts(c){var d=c.prefixCls,y=c.dropdownPrefixCls,g=c.mergedColumns,w=c.onFilterChange,I=c.getPopupContainer,B=c.locale,j=N.useState(Im(g,!0)),W=Object(ar.a)(j,2),Z=W[0],ee=W[1],te=N.useMemo(function(){var Ce=Im(g,!1);return Ce.every(function(ye){var Se=ye.filteredKeys;return Se===void 0})?Z:Ce},[g,Z]),oe=N.useCallback(function(){return F0(te)},[te]),ce=function(ye){var Se=te.filter(function(_e){var Ie=_e.key;return Ie!==ye.key});Se.push(ye),ee(Se),w(F0(Se),Se)},se=function(ye){return Ox(d,y,ye,te,ce,I,B)};return[se,te,oe]}var Lx=ts;function B0(c,d){return c.map(function(y){var g=Object(xe.a)({},y);return g.title=Tf(y.title,d),"children"in g&&(g.children=B0(g.children,d)),g})}function Ko(c){var d=N.useCallback(function(y){return B0(y,c)},[c]);return[d]}function dA(c){return function(y){var g,w=y.prefixCls,I=y.onExpand,B=y.record,j=y.expanded,W=y.expandable,Z="".concat(w,"-row-expand-icon");return N.createElement("button",{type:"button",onClick:function(te){I(B,te),te.stopPropagation()},className:st()(Z,(g={},Object(de.a)(g,"".concat(Z,"-spaced"),!W),Object(de.a)(g,"".concat(Z,"-expanded"),W&&j),Object(de.a)(g,"".concat(Z,"-collapsed"),W&&!j),g)),"aria-label":j?c.collapse:c.expand})}}var pA=dA;function wl(c){return c!=null&&c===c.window}function z0(c,d){if(typeof window=="undefined")return 0;var y=d?"scrollTop":"scrollLeft",g=0;return wl(c)?g=c[d?"pageYOffset":"pageXOffset"]:c instanceof Document?g=c.documentElement[y]:c&&(g=c[y]),c&&!wl(c)&&typeof g!="number"&&(g=(c.ownerDocument||c).documentElement[y]),g}function ls(c,d,y,g){var w=y-d;return c/=g/2,c<1?w/2*c*c*c+d:w/2*((c-=2)*c*c+2)+d}function Dx(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},y=d.getContainer,g=y===void 0?function(){return window}:y,w=d.callback,I=d.duration,B=I===void 0?450:I,j=g(),W=z0(j,!0),Z=Date.now(),ee=function te(){var oe=Date.now(),ce=oe-Z,se=ls(ce>B?B:ce,W,c,B);wl(j)?j.scrollTo(window.pageXOffset,se):j instanceof HTMLDocument||j.constructor.name==="HTMLDocument"?j.documentElement.scrollTop=se:j.scrollTop=se,ce<B?Object(wa.a)(te):typeof w=="function"&&w()};Object(wa.a)(ee)}var ja=ch.a;function sc(c){return null}var lc=sc;function Ts(c){return null}var Oh=Ts,Ul=[];function Rh(c){var d,y=c.prefixCls,g=c.className,w=c.style,I=c.size,B=c.bordered,j=c.dropdownPrefixCls,W=c.dataSource,Z=c.pagination,ee=c.rowSelection,te=c.rowKey,oe=c.rowClassName,ce=c.columns,se=c.children,Ce=c.childrenColumnName,ye=c.onChange,Se=c.getPopupContainer,_e=c.loading,Ie=c.expandIcon,Ge=c.expandable,je=c.expandedRowRender,ke=c.expandIconColumnIndex,Ze=c.indentSize,He=c.scroll,qe=c.sortDirections,et=c.locale,nt=c.showSorterTooltip,At=nt===void 0?!0:nt;Object(so.a)(!(typeof te=="function"&&te.length>1),"Table","`index` parameter of `rowKey` function is deprecated. There is no guarantee that it will work as expected.");var ot=Object(Gl.a)(),gt=N.useMemo(function(){var xo=new Set(Object.keys(ot).filter(function(_i){return ot[_i]}));return(ce||Vc(se)).filter(function(_i){return!_i.responsive||_i.responsive.some(function(ui){return xo.has(ui)})})},[se,ce,ot]),wt=Object(Ar.a)(c,["className","style","columns"]),St=N.useContext(ou.b),bt=N.useContext(br.b),Rt=bt.locale,Xt=Rt===void 0?ja:Rt,Gt=bt.renderEmpty,tr=bt.direction,Jt=I||St,sr=Object(xe.a)(Object(xe.a)({},Xt.Table),et),nr=W||Ul,Or=N.useContext(br.b),dr=Or.getPrefixCls,Mr=dr("table",y),on=dr("dropdown",j),Fr=Object(xe.a)({childrenColumnName:Ce,expandIconColumnIndex:ke},Ge),wn=Fr.childrenColumnName,Ir=wn===void 0?"children":wn,hn=N.useMemo(function(){return nr.some(function(xo){var _i;return(_i=xo)===null||_i===void 0?void 0:_i[Ir]})?"nest":je||Ge&&Ge.expandedRowRender?"row":null},[nr]),Fn={body:N.useRef()},xn=N.useMemo(function(){return typeof te=="function"?te:function(xo){var _i;return(_i=xo)===null||_i===void 0?void 0:_i[te]}},[te]),rn=hp(nr,Ir,xn),Dr=Object(ar.a)(rn,1),En=Dr[0],Jr={},qr=function(_i,ui){var Cs=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,na=Object(xe.a)(Object(xe.a)({},Jr),_i);Cs&&(Jr.resetPagination(),na.pagination.current&&(na.pagination.current=1),Z&&Z.onChange&&Z.onChange(1,na.pagination.pageSize)),He&&He.scrollToFirstRowOnChange!==!1&&Fn.body.current&&Dx(0,{getContainer:function(){return Fn.body.current}}),ye&&ye(na.pagination,na.filters,na.sorter,{currentDataSource:Rx(ru(nr,na.sorterStates,Ir),na.filterStates),action:ui})},Tn=function(_i,ui){qr({sorter:_i,sorterStates:ui},"sort",!1)},Ln=uA({prefixCls:Mr,mergedColumns:gt,onSorterChange:Tn,sortDirections:qe||["ascend","descend"],tableLocale:sr,showSorterTooltip:At}),Ci=Object(ar.a)(Ln,4),di=Ci[0],Bo=Ci[1],Ji=Ci[2],qi=Ci[3],Ri=N.useMemo(function(){return ru(nr,Bo,Ir)},[nr,Bo]);Jr.sorter=qi(),Jr.sorterStates=Bo;var zo=function(_i,ui){qr({filters:_i,filterStates:ui},"filter",!0)},ni=Lx({prefixCls:Mr,locale:sr,dropdownPrefixCls:on,mergedColumns:gt,onFilterChange:zo,getPopupContainer:Se}),un=Object(ar.a)(ni,3),Rr=un[0],Bn=un[1],hi=un[2],Xr=Rx(Ri,Bn);Jr.filters=hi(),Jr.filterStates=Bn;var Li=N.useMemo(function(){return Object(xe.a)({},Ji)},[Ji]),Vi=Ko(Li),ii=Object(ar.a)(Vi,1),co=ii[0],So=function(_i,ui){qr({pagination:Object(xe.a)(Object(xe.a)({},Jr.pagination),{current:_i,pageSize:ui})},"paginate")},kn=C0(Xr.length,Z,So),go=Object(ar.a)(kn,2),Eo=go[0],ys=go[1];Jr.pagination=Z===!1?{}:Bu(Z,Eo),Jr.resetPagination=ys;var Zu=N.useMemo(function(){if(Z===!1||!Eo.pageSize)return Xr;var xo=Eo.current,_i=xo===void 0?1:xo,ui=Eo.total,Cs=Eo.pageSize,na=Cs===void 0?x0:Cs;return Xr.length<ui?Xr.length>na?(Object(so.a)(!1,"Table","`dataSource` length is less than `pagination.total` but large than `pagination.pageSize`. Please make sure your config correct data with async mode."),Xr.slice((_i-1)*na,_i*na)):Xr:Xr.slice((_i-1)*na,_i*na)},[!!Z,Xr,Eo&&Eo.current,Eo&&Eo.pageSize,Eo&&Eo.total]),cl=s1(ee,{prefixCls:Mr,data:Xr,pageData:Zu,getRowKey:xn,getRecordByKey:En,expandType:hn,childrenColumnName:Ir,locale:sr,expandIconColumnIndex:Fr.expandIconColumnIndex,getPopupContainer:Se}),_l=Object(ar.a)(cl,2),Na=_l[0],Lo=_l[1],Qi=function(_i,ui,Cs){var na;return typeof oe=="function"?na=st()(oe(_i,ui,Cs)):na=st()(oe),st()(Object(de.a)({},"".concat(Mr,"-row-selected"),Lo.has(xn(_i,ui))),na)};Fr.__PARENT_RENDER_ICON__=Fr.expandIcon,Fr.expandIcon=Fr.expandIcon||Ie||pA(sr),hn==="nest"&&Fr.expandIconColumnIndex===void 0?Fr.expandIconColumnIndex=ee?1:0:Fr.expandIconColumnIndex>0&&ee&&(Fr.expandIconColumnIndex-=1),typeof Fr.indentSize!="number"&&(Fr.indentSize=typeof Ze=="number"?Ze:15);var Hn=N.useCallback(function(xo){return co(Na(Rr(di(xo))))},[di,Rr,Na]),Po,aa;if(Z!==!1&&(Eo==null?void 0:Eo.total)){var fs;Eo.size?fs=Eo.size:fs=Jt==="small"||Jt==="middle"?"small":void 0;var ks=function(_i){return N.createElement(xm,Object(xe.a)({className:"".concat(Mr,"-pagination ").concat(Mr,"-pagination-").concat(_i)},Eo,{size:fs}))},yc=tr==="rtl"?"left":"right",nu=Eo.position;if(nu!==null&&Array.isArray(nu)){var Vl=nu.find(function(xo){return xo.indexOf("top")!==-1}),hl=nu.find(function(xo){return xo.indexOf("bottom")!==-1}),sa=nu.every(function(xo){return"".concat(xo)==="none"});!Vl&&!hl&&!sa&&(aa=ks(yc)),Vl&&(Po=ks(Vl.toLowerCase().replace("top",""))),hl&&(aa=ks(hl.toLowerCase().replace("bottom","")))}else aa=ks(yc)}var Ml;typeof _e=="boolean"?Ml={spinning:_e}:Object(ft.a)(_e)==="object"&&(Ml=Object(xe.a)({spinning:!0},_e));var xs=st()("".concat(Mr,"-wrapper"),Object(de.a)({},"".concat(Mr,"-wrapper-rtl"),tr==="rtl"),g);return N.createElement("div",{className:xs,style:w},N.createElement(Fl.a,Object(xe.a)({spinning:!1},Ml),Po,N.createElement(ac,Object(xe.a)({},wt,{columns:gt,direction:tr,expandable:Fr,prefixCls:Mr,className:st()((d={},Object(de.a)(d,"".concat(Mr,"-middle"),Jt==="middle"),Object(de.a)(d,"".concat(Mr,"-small"),Jt==="small"),Object(de.a)(d,"".concat(Mr,"-bordered"),B),Object(de.a)(d,"".concat(Mr,"-empty"),nr.length===0),d)),data:Zu,rowKey:xn,rowClassName:Qi,emptyText:et&&et.emptyText||Gt("Table"),internalHooks:lp,internalRefs:Fn,transformColumns:Hn})),aa))}Rh.defaultProps={rowKey:"key"},Rh.SELECTION_ALL=P0,Rh.SELECTION_INVERT=gp,Rh.SELECTION_NONE=vp,Rh.Column=lc,Rh.ColumnGroup=Oh,Rh.Summary=op;var mA=Rh,wd=mA,Pf=ae("oBTY"),Zs=ae("fWQN"),d1=ae("mtLc"),tv=ae("yKVA"),Lh=ae("879j"),Pm=ae("jrin"),uc=ae("PpiC"),gA=ae("Znn+"),Nx=ae("ZTPi"),A2=ae("GNNt"),zs=ae("wEI+"),vA=ae("TLLU"),rv=ae("+YFz"),w2=ae("slOs"),j0=function(d){var y=d.label,g=d.tooltip,w=d.subTitle,I=Object(N.useContext)(zs.b.ConfigContext),B=I.getPrefixCls;if(!g&&!w)return ve.a.createElement(ve.a.Fragment,null,y);var j=B("pro-core-label-tip"),W=typeof g=="string"?{title:g}:g;return ve.a.createElement("div",{className:j},y,w&&ve.a.createElement("div",{className:"".concat(j,"-subtitle")},w),g&&ve.a.createElement(bu.a,W,ve.a.createElement(rv.a,{className:"".concat(j,"-icon")})))},cc=ve.a.memo(j0),p1=ae("BGR+"),b2=ae("jryo"),Kc=function(d){var y=d.style,g=d.prefix;return ve.a.createElement("div",{className:"".concat(g,"-loading-content"),style:y},ve.a.createElement(Xe.a,{gutter:8},ve.a.createElement(ge.a,{span:22},ve.a.createElement("div",{className:"".concat(g,"-loading-block")}))),ve.a.createElement(Xe.a,{gutter:8},ve.a.createElement(ge.a,{span:8},ve.a.createElement("div",{className:"".concat(g,"-loading-block")})),ve.a.createElement(ge.a,{span:15},ve.a.createElement("div",{className:"".concat(g,"-loading-block")}))),ve.a.createElement(Xe.a,{gutter:8},ve.a.createElement(ge.a,{span:6},ve.a.createElement("div",{className:"".concat(g,"-loading-block")})),ve.a.createElement(ge.a,{span:18},ve.a.createElement("div",{className:"".concat(g,"-loading-block")}))),ve.a.createElement(Xe.a,{gutter:8},ve.a.createElement(ge.a,{span:13},ve.a.createElement("div",{className:"".concat(g,"-loading-block")})),ve.a.createElement(ge.a,{span:9},ve.a.createElement("div",{className:"".concat(g,"-loading-block")}))),ve.a.createElement(Xe.a,{gutter:8},ve.a.createElement(ge.a,{span:4},ve.a.createElement("div",{className:"".concat(g,"-loading-block")})),ve.a.createElement(ge.a,{span:3},ve.a.createElement("div",{className:"".concat(g,"-loading-block")})),ve.a.createElement(ge.a,{span:16},ve.a.createElement("div",{className:"".concat(g,"-loading-block")}))))},Om=Kc,Fx=ae("u1OI");function hc(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}var Ki=function(d){var y=Object(N.useContext)(zs.b.ConfigContext),g=y.getPrefixCls,w=g("pro-card-divider"),I=d.className,B=d.style,j=B===void 0?{}:B,W=d.children,Z=st()(w,I,hc({},"".concat(w,"-line"),W===void 0));return ve.a.createElement("div",{className:Z,style:j},W)},Ap=Ki,ku=ae("VzZb");function Da(){return Da=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var y=arguments[d];for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&(c[g]=y[g])}return c},Da.apply(this,arguments)}function Hu(c,d){if(c==null)return{};var y=Dh(c,d),g,w;if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(c);for(w=0;w<I.length;w++)g=I[w],!(d.indexOf(g)>=0)&&(!Object.prototype.propertyIsEnumerable.call(c,g)||(y[g]=c[g]))}return y}function Dh(c,d){if(c==null)return{};var y={},g=Object.keys(c),w,I;for(I=0;I<g.length;I++)w=g[I],!(d.indexOf(w)>=0)&&(y[w]=c[w]);return y}var Bx=function(d){var y=d.key,g=d.tab,w=d.tabKey,I=d.disabled,B=d.destroyInactiveTabPane,j=d.children,W=d.className,Z=d.style,ee=d.cardProps,te=Hu(d,["key","tab","tabKey","disabled","destroyInactiveTabPane","children","className","style","cardProps"]),oe=Object(N.useContext)(zs.b.ConfigContext),ce=oe.getPrefixCls,se=ce("pro-card-tabpane"),Ce=st()(se,W);return ve.a.createElement(Nx.a.TabPane,Da({key:y,tabKey:w,tab:g,className:Ce,style:Z,disabled:I,destroyInactiveTabPane:B},te),ve.a.createElement(Me,ee,j))},m1=Bx,C=ae("S76h"),o=function(d){var y=d.actions,g=d.prefixCls;return y&&y.length?ve.a.createElement("ul",{className:"".concat(g,"-actions")},y.map(function(w,I){return ve.a.createElement("li",{style:{width:"".concat(100/y.length,"%")},key:"action-".concat(I)},ve.a.createElement("span",null,w))})):null},h=o,u=ae("lRSW");function f(){return f=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var y=arguments[d];for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&(c[g]=y[g])}return c},f.apply(this,arguments)}function p(c,d){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);d&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),y.push.apply(y,g)}return y}function S(c){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?p(Object(y),!0).forEach(function(g){x(c,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):p(Object(y)).forEach(function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(y,g))})}return c}function x(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}function T(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?T=function(y){return typeof y}:T=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},T(c)}function z(c,d){return V(c)||U(c,d)||P(c,d)||G()}function G(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P(c,d){if(!!c){if(typeof c=="string")return D(c,d);var y=Object.prototype.toString.call(c).slice(8,-1);if(y==="Object"&&c.constructor&&(y=c.constructor.name),y==="Map"||y==="Set")return Array.from(c);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return D(c,d)}}function D(c,d){(d==null||d>c.length)&&(d=c.length);for(var y=0,g=new Array(d);y<d;y++)g[y]=c[y];return g}function U(c,d){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(c)))){var y=[],g=!0,w=!1,I=void 0;try{for(var B=c[Symbol.iterator](),j;!(g=(j=B.next()).done)&&(y.push(j.value),!(d&&y.length===d));g=!0);}catch(W){w=!0,I=W}finally{try{!g&&B.return!=null&&B.return()}finally{if(w)throw I}}return y}}function V(c){if(Array.isArray(c))return c}function J(c,d){if(c==null)return{};var y=ne(c,d),g,w;if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(c);for(w=0;w<I.length;w++)g=I[w],!(d.indexOf(g)>=0)&&(!Object.prototype.propertyIsEnumerable.call(c,g)||(y[g]=c[g]))}return y}function ne(c,d){if(c==null)return{};var y={},g=Object.keys(c),w,I;for(I=0;I<g.length;I++)w=g[I],!(d.indexOf(w)>=0)&&(y[w]=c[w]);return y}var re=vA.a.useBreakpoint,Q=ve.a.forwardRef(function(c,d){var y,g,w=c.className,I=c.style,B=c.bodyStyle,j=B===void 0?{}:B,W=c.headStyle,Z=W===void 0?{}:W,ee=c.title,te=c.subTitle,oe=c.extra,ce=c.tip,se=c.layout,Ce=c.loading,ye=c.colSpan,Se=c.gutter,_e=Se===void 0?0:Se,Ie=c.tooltip,Ge=c.split,je=c.headerBordered,ke=je===void 0?!1:je,Ze=c.bordered,He=Ze===void 0?!1:Ze,qe=c.children,et=c.size,nt=c.actions,At=c.ghost,ot=At===void 0?!1:At,gt=c.hoverable,wt=gt===void 0?!1:gt,St=c.direction,bt=c.collapsed,Rt=c.collapsible,Xt=Rt===void 0?!1:Rt,Gt=c.defaultCollapsed,tr=Gt===void 0?!1:Gt,Jt=c.onCollapse,sr=c.tabs,nr=c.type,Or=J(c,["className","style","bodyStyle","headStyle","title","subTitle","extra","tip","layout","loading","colSpan","gutter","tooltip","split","headerBordered","bordered","children","size","actions","ghost","hoverable","direction","collapsed","collapsible","defaultCollapsed","onCollapse","tabs","type"]),dr=Object(N.useContext)(zs.b.ConfigContext),Mr=dr.getPrefixCls,on=re(),Fr=Object(Ya.a)(tr,{value:bt,onChange:Jt}),wn=z(Fr,2),Ir=wn[0],hn=wn[1],Fn=["xxl","xl","lg","md","sm","xs"],xn=function(Li){var Vi=[0,0],ii=Array.isArray(Li)?Li:[Li,0];return ii.forEach(function(co,So){if(T(co)==="object")for(var kn=0;kn<Fn.length;kn+=1){var go=Fn[kn];if(on[go]&&co[go]!==void 0){Vi[So]=co[go];break}}else Vi[So]=co||0}),Vi},rn=function(Li,Vi){return Li?Vi:{}},Dr=Mr("pro-card"),En=xn(_e),Jr,qr=ve.a.Children.toArray(qe),Tn=qr.map(function(Xr,Li){var Vi;if(Xr==null||(Vi=Xr.type)===null||Vi===void 0?void 0:Vi.isProCard){var ii;Jr=!0;var co=rn(En[0]>0&&Li!==qr.length-1,{marginRight:En[0]}),So=rn(En[1]>0,{marginBottom:En[1]}),kn=rn(Ge==="vertical"||Ge==="horizontal",{borderRadius:0});return ve.a.cloneElement(Xr,{className:st()(Xr.props.className,(ii={},x(ii,"".concat(Dr,"-split-vertical"),Ge==="vertical"&&Li!==qr.length-1),x(ii,"".concat(Dr,"-split-horizontal"),Ge==="horizontal"&&Li!==qr.length-1),ii)),style:S(S(S(S({},co),So),kn),Xr.props.style)})}return Xr}),Ln=ye;if(T(ye)==="object")for(var Ci=0;Ci<Fn.length;Ci+=1){var di=Fn[Ci];if(on[di]&&ye[di]!==void 0){Ln=ye[di];break}}var Bo=rn(typeof Ln=="string"&&/\d%|\dpx/i.test(Ln),{width:Ln,flexShrink:0}),Ji=S(S({},Bo),I),qi=st()("".concat(Dr),w,(y={},x(y,"".concat(Dr,"-span-").concat(Ln),typeof Ln=="number"&&Ln>=0&&Ln<=24),x(y,"".concat(Dr,"-border"),He),x(y,"".concat(Dr,"-contain-card"),Jr),x(y,"".concat(Dr,"-loading"),Ce),x(y,"".concat(Dr,"-split"),Ge==="vertical"||Ge==="horizontal"),x(y,"".concat(Dr,"-ghost"),ot),x(y,"".concat(Dr,"-hoverable"),wt),x(y,"".concat(Dr,"-size-").concat(et),et),x(y,"".concat(Dr,"-type-").concat(nr),nr),x(y,"".concat(Dr,"-collapse"),Ir),y)),Ri=st()("".concat(Dr,"-header"),x({},"".concat(Dr,"-header-border"),ke||nr==="inner")),zo=st()("".concat(Dr,"-body"),(g={},x(g,"".concat(Dr,"-body-center"),se==="center"),x(g,"".concat(Dr,"-body-column"),Ge==="horizontal"||St==="column"),g)),ni=j.padding===0||j.padding==="0px"?{padding:24}:void 0,un=ve.a.isValidElement(Ce)?Ce:ve.a.createElement(Om,{prefix:Dr,style:ni}),Rr=Xt&&bt===void 0&&ve.a.createElement(wf.a,{rotate:Ir?void 0:90,className:"".concat(Dr,"-collapsible-icon")}),Bn=st()("".concat(Dr,"-title"),x({},"".concat(Dr,"-title-collapsible"),Rr)),hi=ve.a.createElement(h,{actions:nt,prefixCls:Dr});return ve.a.createElement("div",f({className:qi,style:Ji,ref:d},Object(p1.a)(Or,["id","prefixCls"])),(ee||oe||Rr)&&ve.a.createElement("div",{className:Ri,style:Z},ve.a.createElement("div",{className:Bn,onClick:function(){Rr&&hn(!Ir)}},Rr,ve.a.createElement(cc,{label:ee,tooltip:Ie||ce,subTitle:te})),ve.a.createElement("div",{className:"".concat(Dr,"-extra")},oe)),sr?ve.a.createElement("div",{className:"".concat(Dr,"-tabs")},ve.a.createElement(Nx.a,f({onChange:sr.onChange},sr),Ce?un:qe)):ve.a.createElement("div",{className:zo,style:j},Ce?un:Tn),hi)}),he=function(d){return ve.a.createElement(Q,f({bodyStyle:{padding:0}},d))};Q.isProCard=!0,Q.TabPane=m1,Q.Divider=Ap,Q.Group=he;var Me=Q,De=ae("Telt"),Ue=ae("Tckk"),Ve="valueType request plain renderFormItem render text formItemProps valueEnum",ht="fieldProps isDefaultDom groupProps contentRender submitterProps submitter";function Je(c){var d="".concat(Ve," ").concat(ht).split(/[\s\n]+/),y={};return Object.keys(c||{}).forEach(function(g){d.includes(g)||(y[g]=c[g])}),y}var Er=ae("PjWh"),fr=ae("LQCs"),Pn=ae("CeSn"),yn=ae.n(Pn);function Qr(c){return c===0?null:c>0?"+":"-"}function $n(c){return c===0?"#595959":c>0?"#ff4d4f":"#52c41a"}function zt(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return d&&d>0?c.toFixed(d):c}function Sr(){return Sr=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var y=arguments[d];for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&(c[g]=y[g])}return c},Sr.apply(this,arguments)}function Jn(c,d){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);d&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),y.push.apply(y,g)}return y}function Ii(c){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?Jn(Object(y),!0).forEach(function(g){gi(c,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):Jn(Object(y)).forEach(function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(y,g))})}return c}function gi(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}function jn(c,d){if(c==null)return{};var y=fc(c,d),g,w;if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(c);for(w=0;w<I.length;w++)g=I[w],!(d.indexOf(g)>=0)&&(!Object.prototype.propertyIsEnumerable.call(c,g)||(y[g]=c[g]))}return y}function fc(c,d){if(c==null)return{};var y={},g=Object.keys(c),w,I;for(I=0;I<g.length;I++)w=g[I],!(d.indexOf(w)>=0)&&(y[w]=c[w]);return y}var Sa=function(d,y){var g=d.text,w=d.prefix,I=d.precision,B=d.showSymbol,j=d.suffix,W=j===void 0?"%":j,Z=d.mode,ee=d.showColor,te=ee===void 0?!1:ee,oe=d.render,ce=d.renderFormItem,se=d.fieldProps,Ce=jn(d,["text","prefix","precision","showSymbol","suffix","mode","showColor","render","renderFormItem","fieldProps"]),ye=Object(N.useMemo)(function(){return typeof g=="string"&&g.includes("%")?yn()(g.replace("%","")):yn()(g)},[g]);if(Z==="read"){var Se=te?{color:$n(ye)}:{},_e=ve.a.createElement("span",{style:Se,ref:y},w&&ve.a.createElement("span",null,w),B&&ve.a.createElement(N.Fragment,null,Qr(ye)," "),zt(Math.abs(ye),I),W&&W);return oe?oe(g,Ii(Ii({mode:Z},se),{},{prefix:w,precision:I,showSymbol:B,suffix:W}),_e):_e}if(Z==="edit"||Z==="update"){var Ie=ve.a.createElement(On,Sr({ref:y,formatter:function(je){return je&&w?"".concat(w," ").concat(je).replace(/\B(?=(\d{3})+(?!\d))/g,","):je},parser:function(je){return je?je.replace(new RegExp("\\".concat(w,"\\s?|(,*)"),"g"),""):""}},se,Ce));return ce?ce(g,Ii({mode:Z},se),Ie):Ie}return null},bl=ve.a.forwardRef(Sa),Nh=ae("75XV");function qa(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}var nv=function(d,y){var g,w=d.border,I=w===void 0?!1:w,B=d.children,j=Object(N.useContext)(zs.b.ConfigContext),W=j.getPrefixCls,Z=W("pro-field-index-column");return ve.a.createElement("div",{ref:y,className:st()(Z,(g={},qa(g,"".concat(Z,"-border"),I),qa(g,"top-three",B>3),g))},B)},wp=ve.a.forwardRef(nv);function Jc(c,d){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);d&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),y.push.apply(y,g)}return y}function iv(c){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?Jc(Object(y),!0).forEach(function(g){Rm(c,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):Jc(Object(y)).forEach(function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(y,g))})}return c}function Rm(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}function Of(){return Of=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var y=arguments[d];for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&(c[g]=y[g])}return c},Of.apply(this,arguments)}function ov(c,d){if(c==null)return{};var y=g1(c,d),g,w;if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(c);for(w=0;w<I.length;w++)g=I[w],!(d.indexOf(g)>=0)&&(!Object.prototype.propertyIsEnumerable.call(c,g)||(y[g]=c[g]))}return y}function g1(c,d){if(c==null)return{};var y={},g=Object.keys(c),w,I;for(I=0;I<g.length;I++)w=g[I],!(d.indexOf(w)>=0)&&(y[w]=c[w]);return y}function zx(c){return typeof c!="number"?"exception":c===100?"success":c<0?"exception":c<100?"active":"normal"}var jx=function(d,y){var g=d.text,w=d.mode,I=d.render,B=d.plain,j=d.renderFormItem,W=d.fieldProps,Z=ov(d,["text","mode","render","plain","renderFormItem","fieldProps"]),ee=Object(N.useMemo)(function(){return typeof g=="string"&&g.includes("%")?yn()(g.replace("%","")):yn()(g)},[g]);if(w==="read"){var te=ve.a.createElement(Wf,Of({ref:y,size:"small",style:{minWidth:100,maxWidth:320},percent:ee,steps:B?10:void 0,status:zx(ee)},W));return I?I(ee,iv({mode:w},W),te):te}if(w==="edit"||w==="update"){var oe=ve.a.createElement(On,Of({ref:y},Z,W));return j?j(g,iv({mode:w},W),oe):oe}return null},Lm=ve.a.forwardRef(jx);function v1(){return v1=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var y=arguments[d];for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&(c[g]=y[g])}return c},v1.apply(this,arguments)}function bd(c,d){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);d&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),y.push.apply(y,g)}return y}function U0(c){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?bd(Object(y),!0).forEach(function(g){Ux(c,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):bd(Object(y)).forEach(function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(y,g))})}return c}function Ux(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}function Dm(c,d){if(c==null)return{};var y=yA(c,d),g,w;if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(c);for(w=0;w<I.length;w++)g=I[w],!(d.indexOf(g)>=0)&&(!Object.prototype.propertyIsEnumerable.call(c,g)||(y[g]=c[g]))}return y}function yA(c,d){if(c==null)return{};var y={},g=Object.keys(c),w,I;for(I=0;I<g.length;I++)w=g[I],!(d.indexOf(w)>=0)&&(y[w]=c[w]);return y}var Ks=new Intl.NumberFormat("zh-Hans-CN",{currency:"CNY"}),du=new Intl.NumberFormat("zh-Hans-CN",{currency:"CNY",style:"currency",minimumFractionDigits:2}),xA=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),Vw=new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB"}),Gw=new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}),Fh=function(d,y){var g=y;return typeof g=="string"&&(g=Number(g)),d==="en_US"?xA.format(g):d==="ru_RU"?Vw.format(g):d==="ms_MY"?Gw.format(g):d===void 0?Ks.format(g):du.format(g)},bp=function(d,y){var g=d.text,w=d.mode,I=d.locale,B=I===void 0?"":I,j=d.render,W=d.renderFormItem,Z=d.fieldProps,ee=Dm(d,["text","mode","locale","render","renderFormItem","fieldProps"]),te=Object(fr.c)(),oe=ee.moneySymbol===void 0?te.getMessage("moneySymbol","\uFFE5"):ee.moneySymbol;if(w==="read"){var ce=ve.a.createElement("span",{ref:y},Fh(oe?B||te.locale||"zh-CN":void 0,g));return j?j(g,U0({mode:w},Z),ce):ce}if(w==="edit"||w==="update"){var se=ve.a.createElement(On,v1({ref:y,min:0,precision:2,formatter:function(ye){return ye?"".concat(oe," ").concat(ye).replace(/\B(?=(\d{3})+(?!\d))/g,","):""},parser:function(ye){return ye?ye.replace(new RegExp("\\".concat(oe,"\\s?|(,*)"),"g"),""):""},style:{width:"100%"}},ee,Z));return W?W(g,U0({mode:w},Z),se):se}return null},kx=ve.a.forwardRef(bp),Nm=ae("ZTW2"),k0=ae("+BJd"),H0=ae("wd/R"),kl=ae.n(H0),CA={getNow:function(){return kl()()},getFixedDate:function(d){return kl()(d,"YYYY-MM-DD")},getEndDate:function(d){var y=d.clone();return y.endOf("month")},getWeekDay:function(d){var y=d.clone().locale("en_US");return y.weekday()+y.localeData().firstDayOfWeek()},getYear:function(d){return d.year()},getMonth:function(d){return d.month()},getDate:function(d){return d.date()},getHour:function(d){return d.hour()},getMinute:function(d){return d.minute()},getSecond:function(d){return d.second()},addYear:function(d,y){var g=d.clone();return g.add(y,"year")},addMonth:function(d,y){var g=d.clone();return g.add(y,"month")},addDate:function(d,y){var g=d.clone();return g.add(y,"day")},setYear:function(d,y){var g=d.clone();return g.year(y)},setMonth:function(d,y){var g=d.clone();return g.month(y)},setDate:function(d,y){var g=d.clone();return g.date(y)},setHour:function(d,y){var g=d.clone();return g.hour(y)},setMinute:function(d,y){var g=d.clone();return g.minute(y)},setSecond:function(d,y){var g=d.clone();return g.second(y)},isAfter:function(d,y){return d.isAfter(y)},isValidate:function(d){return d.isValid()},locale:{getWeekFirstDay:function(d){var y=kl()().locale(d);return y.localeData().firstDayOfWeek()},getWeekFirstDate:function(d,y){var g=y.clone(),w=g.locale(d);return w.weekday(0)},getWeek:function(d,y){var g=y.clone(),w=g.locale(d);return w.week()},getShortWeekDays:function(d){var y=kl()().locale(d);return y.localeData().weekdaysMin()},getShortMonths:function(d){var y=kl()().locale(d);return y.localeData().monthsShort()},format:function(d,y,g){var w=y.clone(),I=w.locale(d);return I.format(g)},parse:function(d,y,g){for(var w=[],I=0;I<g.length;I+=1){var B=g[I],j=y;if(B.includes("wo")||B.includes("Wo")){B=B.replace(/wo/g,"w").replace(/Wo/g,"W");var W=B.match(/[-YyMmDdHhSsWwGg]+/g),Z=j.match(/[-\d]+/g);W&&Z?(B=W.join(""),j=Z.join("")):w.push(B.replace(/o/g,""))}var ee=kl()(j,B,d,!0);if(ee.isValid())return ee}for(var te=0;te<w.length;te+=1){var oe=kl()(y,w[te],d,!1);if(oe.isValid())return Object(Xo.b)(!1,"Not match any format strictly and fallback to fuzzy match. Please help to fire a issue about this."),oe}return null}}},Hx=CA;function Vx(c){return N.createElement(Cu.a,Object(xe.a)({size:"small",type:"primary"},c))}var S2=ae("mr32");function Rf(c){return N.createElement(S2.a,Object(xe.a)({color:"blue"},c))}var Gx={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"},Ww=Gx,da=function(d,y){return N.createElement(Ls.a,Object.assign({},d,{ref:y,icon:Ww}))};da.displayName="CalendarOutlined";var _2=N.forwardRef(da),Sd={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},AA=Sd,av=function(d,y){return N.createElement(Ls.a,Object.assign({},d,{ref:y,icon:AA}))};av.displayName="ClockCircleOutlined";var dc=N.forwardRef(av),V0=N.createContext({}),ma=V0,y1={visibility:"hidden"};function sv(c){var d=c.prefixCls,y=c.prevIcon,g=y===void 0?"\u2039":y,w=c.nextIcon,I=w===void 0?"\u203A":w,B=c.superPrevIcon,j=B===void 0?"\xAB":B,W=c.superNextIcon,Z=W===void 0?"\xBB":W,ee=c.onSuperPrev,te=c.onSuperNext,oe=c.onPrev,ce=c.onNext,se=c.children,Ce=N.useContext(ma),ye=Ce.hideNextBtn,Se=Ce.hidePrevBtn;return N.createElement("div",{className:d},ee&&N.createElement("button",{type:"button",onClick:ee,tabIndex:-1,className:"".concat(d,"-super-prev-btn"),style:Se?y1:{}},j),oe&&N.createElement("button",{type:"button",onClick:oe,tabIndex:-1,className:"".concat(d,"-prev-btn"),style:Se?y1:{}},g),N.createElement("div",{className:"".concat(d,"-view")},se),ce&&N.createElement("button",{type:"button",onClick:ce,tabIndex:-1,className:"".concat(d,"-next-btn"),style:ye?y1:{}},I),te&&N.createElement("button",{type:"button",onClick:te,tabIndex:-1,className:"".concat(d,"-super-next-btn"),style:ye?y1:{}},Z))}var Fm=sv;function Bm(c){var d=c.prefixCls,y=c.generateConfig,g=c.viewDate,w=c.onPrevDecades,I=c.onNextDecades,B=N.useContext(ma),j=B.hideHeader;if(j)return null;var W="".concat(d,"-header"),Z=y.getYear(g),ee=Math.floor(Z/Ep)*Ep,te=ee+Ep-1;return N.createElement(Fm,Object(xe.a)({},c,{prefixCls:W,onSuperPrev:w,onSuperNext:I}),ee,"-",te)}var zm=Bm;function Sp(c,d,y,g,w){var I=c.setHour(d,y);return I=c.setMinute(I,g),I=c.setSecond(I,w),I}function wA(c,d,y,g,w,I){var B=Math.floor(c/g)*g;if(B<c)return[B,60-w,60-I];var j=Math.floor(d/w)*w;if(j<d)return[B,j,60-I];var W=Math.floor(y/I)*I;return[B,j,W]}function bA(c,d){var y=c.getYear(d),g=c.getMonth(d)+1,w=c.getEndDate(c.getFixedDate("".concat(y,"-").concat(g,"-01"))),I=c.getDate(w),B=g<10?"0".concat(g):"".concat(g);return"".concat(y,"-").concat(B,"-").concat(I)}function lv(c){for(var d=c.prefixCls,y=c.disabledDate,g=c.onSelect,w=c.picker,I=c.rowNum,B=c.colNum,j=c.prefixColumn,W=c.rowClassName,Z=c.baseDate,ee=c.getCellClassName,te=c.getCellText,oe=c.getCellNode,ce=c.getCellDate,se=c.generateConfig,Ce=c.titleCell,ye=c.headerCells,Se=N.useContext(ma),_e=Se.onDateMouseEnter,Ie=Se.onDateMouseLeave,Ge=Se.mode,je="".concat(d,"-cell"),ke=[],Ze=0;Ze<I;Ze+=1){for(var He=[],qe=void 0,et=function(ot){var gt,wt=Ze*B+ot,St=ce(Z,wt),bt=km({cellDate:St,mode:Ge,disabledDate:y,generateConfig:se});ot===0&&(qe=St,j&&He.push(j(qe)));var Rt=Ce&&Ce(St);He.push(N.createElement("td",{key:ot,title:Rt,className:st()(je,Object(ur.a)((gt={},Object(de.a)(gt,"".concat(je,"-disabled"),bt),Object(de.a)(gt,"".concat(je,"-start"),te(St)===1||w==="year"&&Number(Rt)%10==0),Object(de.a)(gt,"".concat(je,"-end"),Rt===bA(se,St)||w==="year"&&Number(Rt)%10==9),gt),ee(St))),onClick:function(){bt||g(St)},onMouseEnter:function(){!bt&&_e&&_e(St)},onMouseLeave:function(){!bt&&Ie&&Ie(St)}},oe?oe(St):N.createElement("div",{className:"".concat(je,"-inner")},te(St))))},nt=0;nt<B;nt+=1)et(nt);ke.push(N.createElement("tr",{key:Ze,className:W&&W(qe)},He))}return N.createElement("div",{className:"".concat(d,"-body")},N.createElement("table",{className:"".concat(d,"-content")},ye&&N.createElement("thead",null,N.createElement("tr",null,ye)),N.createElement("tbody",null,ke)))}var G0=3,x1=4;function Wx(c){var d=Bh-1,y=c.prefixCls,g=c.viewDate,w=c.generateConfig,I="".concat(y,"-cell"),B=w.getYear(g),j=Math.floor(B/Bh)*Bh,W=Math.floor(B/Ep)*Ep,Z=W+Ep-1,ee=w.setYear(g,W-Math.ceil((G0*x1*Bh-Ep)/2)),te=function(ce){var se,Ce=w.getYear(ce),ye=Ce+d;return se={},Object(de.a)(se,"".concat(I,"-in-view"),W<=Ce&&ye<=Z),Object(de.a)(se,"".concat(I,"-selected"),Ce===j),se};return N.createElement(lv,Object(xe.a)({},c,{rowNum:x1,colNum:G0,baseDate:ee,getCellText:function(ce){var se=w.getYear(ce);return"".concat(se,"-").concat(se+d)},getCellClassName:te,getCellDate:function(ce,se){return w.addYear(ce,se*Bh)}}))}var W0=Wx,_p=new Map;function Y0(c,d){var y;function g(){Object(Dl.a)(c)?d():y=Object(wa.a)(function(){g()})}return g(),function(){wa.a.cancel(y)}}function uv(c,d,y){if(_p.get(c)&&cancelAnimationFrame(_p.get(c)),y<=0){_p.set(c,requestAnimationFrame(function(){c.scrollTop=d}));return}var g=d-c.scrollTop,w=g/y*10;_p.set(c,requestAnimationFrame(function(){c.scrollTop+=w,c.scrollTop!==d&&uv(c,d,y-10)}))}function Mp(c,d){var y=d.onLeftRight,g=d.onCtrlLeftRight,w=d.onUpDown,I=d.onPageUpDown,B=d.onEnter,j=c.which,W=c.ctrlKey,Z=c.metaKey;switch(j){case Cn.a.LEFT:if(W||Z){if(g)return g(-1),!0}else if(y)return y(-1),!0;break;case Cn.a.RIGHT:if(W||Z){if(g)return g(1),!0}else if(y)return y(1),!0;break;case Cn.a.UP:if(w)return w(-1),!0;break;case Cn.a.DOWN:if(w)return w(1),!0;break;case Cn.a.PAGE_UP:if(I)return I(-1),!0;break;case Cn.a.PAGE_DOWN:if(I)return I(1),!0;break;case Cn.a.ENTER:if(B)return B(),!0;break}return!1}function M2(c,d,y,g){var w=c;if(!w)switch(d){case"time":w=g?"hh:mm:ss a":"HH:mm:ss";break;case"week":w="gggg-wo";break;case"month":w="YYYY-MM";break;case"quarter":w="YYYY-[Q]Q";break;case"year":w="YYYY";break;default:w=y?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD"}return w}function Lf(c,d,y){var g=c==="time"?8:10,w=typeof d=="function"?d(y.getNow()).length:d.length;return Math.max(g,w)+2}var cv=null,hv=new Set;function Yw(c){return!cv&&typeof window!="undefined"&&window.addEventListener&&(cv=function(y){Object($t.a)(hv).forEach(function(g){g(y)})},window.addEventListener("mousedown",cv)),hv.add(c),function(){hv.delete(c),hv.size===0&&(window.removeEventListener("mousedown",cv),cv=null)}}function Yx(c){var d=c.target;if(c.composed&&d.shadowRoot){var y;return((y=c.composedPath)===null||y===void 0?void 0:y.call(c)[0])||d}return d}var fv=function(d){return d==="month"||d==="date"?"year":d},X0=function(d){return d==="date"?"month":d},Z0=function(d){return d==="month"||d==="date"?"quarter":d},Xn=function(d){return d==="date"?"week":d},Jo={year:fv,month:X0,quarter:Z0,week:Xn,time:null,date:null};function _d(c,d){return c.some(function(y){return y&&y.contains(d)})}var Bh=10,Ep=Bh*10;function SA(c){var d=c.prefixCls,y=c.onViewDateChange,g=c.generateConfig,w=c.viewDate,I=c.operationRef,B=c.onSelect,j=c.onPanelChange,W="".concat(d,"-decade-panel");I.current={onKeyDown:function(oe){return Mp(oe,{onLeftRight:function(se){B(g.addYear(w,se*Bh),"key")},onCtrlLeftRight:function(se){B(g.addYear(w,se*Ep),"key")},onUpDown:function(se){B(g.addYear(w,se*Bh*G0),"key")},onEnter:function(){j("year",w)}})}};var Z=function(oe){var ce=g.addYear(w,oe*Ep);y(ce),j(null,ce)},ee=function(oe){B(oe,"mouse"),j("year",oe)};return N.createElement("div",{className:W},N.createElement(zm,Object(xe.a)({},c,{prefixCls:d,onPrevDecades:function(){Z(-1)},onNextDecades:function(){Z(1)}})),N.createElement(W0,Object(xe.a)({},c,{prefixCls:d,onSelect:ee})))}var E2=SA,C1=7;function jm(c,d){if(!c&&!d)return!0;if(!c||!d)return!1}function Vu(c,d,y){var g=jm(d,y);if(typeof g=="boolean")return g;var w=Math.floor(c.getYear(d)/10),I=Math.floor(c.getYear(y)/10);return w===I}function dv(c,d,y){var g=jm(d,y);return typeof g=="boolean"?g:c.getYear(d)===c.getYear(y)}function Xx(c,d){var y=Math.floor(c.getMonth(d)/3);return y+1}function Zx(c,d,y){var g=jm(d,y);return typeof g=="boolean"?g:dv(c,d,y)&&Xx(c,d)===Xx(c,y)}function _A(c,d,y){var g=jm(d,y);return typeof g=="boolean"?g:dv(c,d,y)&&c.getMonth(d)===c.getMonth(y)}function Df(c,d,y){var g=jm(d,y);return typeof g=="boolean"?g:c.getYear(d)===c.getYear(y)&&c.getMonth(d)===c.getMonth(y)&&c.getDate(d)===c.getDate(y)}function Kx(c,d,y){var g=jm(d,y);return typeof g=="boolean"?g:c.getHour(d)===c.getHour(y)&&c.getMinute(d)===c.getMinute(y)&&c.getSecond(d)===c.getSecond(y)}function MA(c,d,y,g){var w=jm(y,g);return typeof w=="boolean"?w:c.locale.getWeek(d,y)===c.locale.getWeek(d,g)}function pv(c,d,y){return Df(c,d,y)&&Kx(c,d,y)}function Md(c,d,y,g){return!d||!y||!g?!1:!Df(c,d,g)&&!Df(c,y,g)&&c.isAfter(g,d)&&c.isAfter(y,g)}function K0(c,d,y){var g=d.locale.getWeekFirstDay(c),w=d.setDate(y,1),I=d.getWeekDay(w),B=d.addDate(w,g-I);return d.getMonth(B)===d.getMonth(y)&&d.getDate(B)>1&&(B=d.addDate(B,-7)),B}function Tp(c,d,y){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;switch(d){case"year":return y.addYear(c,g*10);case"quarter":case"month":return y.addYear(c,g);default:return y.addMonth(c,g)}}function js(c,d){var y=d.generateConfig,g=d.locale,w=d.format;return typeof w=="function"?w(c):y.locale.format(g.locale,c,w)}function Um(c,d){var y=d.generateConfig,g=d.locale,w=d.formatList;return!c||typeof w[0]=="function"?null:y.locale.parse(g.locale,c,w)}function km(c){var d=c.cellDate,y=c.mode,g=c.disabledDate,w=c.generateConfig;if(!g)return!1;var I=function(se,Ce,ye){for(var Se=Ce;Se<=ye;){var _e=void 0;switch(se){case"date":{if(_e=w.setDate(d,Se),!g(_e))return!1;break}case"month":{if(_e=w.setMonth(d,Se),!km({cellDate:_e,mode:"month",generateConfig:w,disabledDate:g}))return!1;break}case"year":{if(_e=w.setYear(d,Se),!km({cellDate:_e,mode:"year",generateConfig:w,disabledDate:g}))return!1;break}}Se+=1}return!0};switch(y){case"date":case"week":return g(d);case"month":{var B=1,j=w.getDate(w.getEndDate(d));return I("date",B,j)}case"quarter":{var W=Math.floor(w.getMonth(d)/3)*3,Z=W+2;return I("month",W,Z)}case"year":return I("month",0,11);case"decade":{var ee=w.getYear(d),te=Math.floor(ee/Bh)*Bh,oe=te+Bh-1;return I("year",te,oe)}}}function A1(c){var d=N.useContext(ma),y=d.hideHeader;if(y)return null;var g=c.prefixCls,w=c.generateConfig,I=c.locale,B=c.value,j=c.format,W="".concat(g,"-header");return N.createElement(Fm,{prefixCls:W},B?js(B,{locale:I,format:j,generateConfig:w}):"\xA0")}var T2=A1;function J0(c){var d=c.prefixCls,y=c.units,g=c.onSelect,w=c.value,I=c.active,B=c.hideDisabledOptions,j="".concat(d,"-cell"),W=N.useContext(ma),Z=W.open,ee=Object(N.useRef)(null),te=Object(N.useRef)(new Map),oe=Object(N.useRef)();return Object(N.useLayoutEffect)(function(){var ce=te.current.get(w);ce&&Z!==!1&&uv(ee.current,ce.offsetTop,120)},[w]),Object(N.useLayoutEffect)(function(){if(Z){var ce=te.current.get(w);ce&&(oe.current=Y0(ce,function(){uv(ee.current,ce.offsetTop,0)}))}return function(){var se;(se=oe.current)===null||se===void 0||se.call(oe)}},[Z]),N.createElement("ul",{className:st()("".concat(d,"-column"),Object(de.a)({},"".concat(d,"-column-active"),I)),ref:ee,style:{position:"relative"}},y.map(function(ce){var se;return B&&ce.disabled?null:N.createElement("li",{key:ce.value,ref:function(ye){te.current.set(ce.value,ye)},className:st()(j,(se={},Object(de.a)(se,"".concat(j,"-disabled"),ce.disabled),Object(de.a)(se,"".concat(j,"-selected"),w===ce.value),se)),onClick:function(){ce.disabled||g(ce.value)}},N.createElement("div",{className:"".concat(j,"-inner")},ce.label))}))}var Ed=J0;function w1(c,d){for(var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0",g=String(c);g.length<d;)g="".concat(y).concat(c);return g}var I2=function(){for(var d=arguments.length,y=new Array(d),g=0;g<d;g++)y[g]=arguments[g];return y};function Jx(c){return c==null?[]:Array.isArray(c)?c:[c]}function EA(c){var d={};return Object.keys(c).forEach(function(y){(y.substr(0,5)==="data-"||y.substr(0,5)==="aria-"||y==="role"||y==="name")&&y.substr(0,7)!=="data-__"&&(d[y]=c[y])}),d}function Vo(c,d){return c?c[d]:null}function qc(c,d,y){var g=[Vo(c,0),Vo(c,1)];return g[y]=typeof d=="function"?d(g[y]):d,!g[0]&&!g[1]?null:g}function P2(c,d){if(c.length!==d.length)return!0;for(var y=0;y<c.length;y+=1)if(c[y].disabled!==d[y].disabled)return!0;return!1}function TA(c,d,y,g){for(var w=[],I=c;I<=d;I+=y)w.push({label:w1(I,2),value:I,disabled:(g||[]).includes(I)});return w}function O2(c){var d=c.generateConfig,y=c.prefixCls,g=c.operationRef,w=c.activeColumnIndex,I=c.value,B=c.showHour,j=c.showMinute,W=c.showSecond,Z=c.use12Hours,ee=c.hourStep,te=ee===void 0?1:ee,oe=c.minuteStep,ce=oe===void 0?1:oe,se=c.secondStep,Ce=se===void 0?1:se,ye=c.disabledHours,Se=c.disabledMinutes,_e=c.disabledSeconds,Ie=c.hideDisabledOptions,Ge=c.onSelect,je=[],ke="".concat(y,"-content"),Ze="".concat(y,"-time-panel"),He,qe=I?d.getHour(I):-1,et=qe,nt=I?d.getMinute(I):-1,At=I?d.getSecond(I):-1,ot=function(dr,Mr,on,Fr){var wn=I||d.getNow(),Ir=Math.max(0,Mr),hn=Math.max(0,on),Fn=Math.max(0,Fr);return wn=Sp(d,wn,!Z||!dr?Ir:Ir+12,hn,Fn),wn},gt=TA(0,23,te,ye&&ye()),wt=Object(Ec.a)(function(){return gt},gt,P2);Z&&(He=et>=12,et%=12);var St=N.useMemo(function(){if(!Z)return[!1,!1];var Or=[!0,!0];return wt.forEach(function(dr){var Mr=dr.disabled,on=dr.value;Mr||(on>=12?Or[1]=!1:Or[0]=!1)}),Or},[Z,wt]),bt=Object(ar.a)(St,2),Rt=bt[0],Xt=bt[1],Gt=N.useMemo(function(){return Z?wt.filter(He?function(Or){return Or.value>=12}:function(Or){return Or.value<12}).map(function(Or){var dr=Or.value%12,Mr=dr===0?"12":w1(dr,2);return Object(ur.a)(Object(ur.a)({},Or),{},{label:Mr,value:dr})}):wt},[Z,He,wt]),tr=TA(0,59,ce,Se&&Se(qe)),Jt=TA(0,59,Ce,_e&&_e(qe,nt));g.current={onUpDown:function(dr){var Mr=je[w];if(Mr)for(var on=Mr.units.findIndex(function(hn){return hn.value===Mr.value}),Fr=Mr.units.length,wn=1;wn<Fr;wn+=1){var Ir=Mr.units[(on+dr*wn+Fr)%Fr];if(Ir.disabled!==!0){Mr.onSelect(Ir.value);break}}}};function sr(Or,dr,Mr,on,Fr){Or!==!1&&je.push({node:N.cloneElement(dr,{prefixCls:Ze,value:Mr,active:w===je.length,onSelect:Fr,units:on,hideDisabledOptions:Ie}),onSelect:Fr,value:Mr,units:on})}sr(B,N.createElement(Ed,{key:"hour"}),et,Gt,function(Or){Ge(ot(He,Or,nt,At),"mouse")}),sr(j,N.createElement(Ed,{key:"minute"}),nt,tr,function(Or){Ge(ot(He,et,Or,At),"mouse")}),sr(W,N.createElement(Ed,{key:"second"}),At,Jt,function(Or){Ge(ot(He,et,nt,Or),"mouse")});var nr=-1;return typeof He=="boolean"&&(nr=He?1:0),sr(Z===!0,N.createElement(Ed,{key:"12hours"}),nr,[{label:"AM",value:0,disabled:Rt},{label:"PM",value:1,disabled:Xt}],function(Or){Ge(ot(!!Or,et,nt,At),"mouse")}),N.createElement("div",{className:ke},je.map(function(Or){var dr=Or.node;return dr}))}var R2=O2,qx=function(d){return d.filter(function(y){return y!==!1}).length};function b1(c){var d=c.generateConfig,y=c.format,g=y===void 0?"HH:mm:ss":y,w=c.prefixCls,I=c.active,B=c.operationRef,j=c.showHour,W=c.showMinute,Z=c.showSecond,ee=c.use12Hours,te=ee===void 0?!1:ee,oe=c.onSelect,ce=c.value,se="".concat(w,"-time-panel"),Ce=N.useRef(),ye=N.useState(-1),Se=Object(ar.a)(ye,2),_e=Se[0],Ie=Se[1],Ge=qx([j,W,Z,te]);return B.current={onKeyDown:function(ke){return Mp(ke,{onLeftRight:function(He){Ie((_e+He+Ge)%Ge)},onUpDown:function(He){_e===-1?Ie(0):Ce.current&&Ce.current.onUpDown(He)},onEnter:function(){oe(ce||d.getNow(),"key"),Ie(-1)}})},onBlur:function(){Ie(-1)}},N.createElement("div",{className:st()(se,Object(de.a)({},"".concat(se,"-active"),I))},N.createElement(T2,Object(xe.a)({},c,{format:g,prefixCls:w})),N.createElement(R2,Object(xe.a)({},c,{prefixCls:w,activeColumnIndex:_e,operationRef:Ce})))}var IA=b1,L2=N.createContext({}),mv=L2;function gv(c){var d=c.cellPrefixCls,y=c.generateConfig,g=c.rangedValue,w=c.hoverRangedValue,I=c.isInView,B=c.isSameCell,j=c.offsetCell,W=c.today,Z=c.value;function ee(te){var oe,ce=j(te,-1),se=j(te,1),Ce=Vo(g,0),ye=Vo(g,1),Se=Vo(w,0),_e=Vo(w,1),Ie=Md(y,Se,_e,te);function Ge(et){return B(Ce,et)}function je(et){return B(ye,et)}var ke=B(Se,te),Ze=B(_e,te),He=(Ie||Ze)&&(!I(ce)||je(ce)),qe=(Ie||ke)&&(!I(se)||Ge(se));return oe={},Object(de.a)(oe,"".concat(d,"-in-view"),I(te)),Object(de.a)(oe,"".concat(d,"-in-range"),Md(y,Ce,ye,te)),Object(de.a)(oe,"".concat(d,"-range-start"),Ge(te)),Object(de.a)(oe,"".concat(d,"-range-end"),je(te)),Object(de.a)(oe,"".concat(d,"-range-start-single"),Ge(te)&&!ye),Object(de.a)(oe,"".concat(d,"-range-end-single"),je(te)&&!Ce),Object(de.a)(oe,"".concat(d,"-range-start-near-hover"),Ge(te)&&(B(ce,Se)||Md(y,Se,_e,ce))),Object(de.a)(oe,"".concat(d,"-range-end-near-hover"),je(te)&&(B(se,_e)||Md(y,Se,_e,se))),Object(de.a)(oe,"".concat(d,"-range-hover"),Ie),Object(de.a)(oe,"".concat(d,"-range-hover-start"),ke),Object(de.a)(oe,"".concat(d,"-range-hover-end"),Ze),Object(de.a)(oe,"".concat(d,"-range-hover-edge-start"),He),Object(de.a)(oe,"".concat(d,"-range-hover-edge-end"),qe),Object(de.a)(oe,"".concat(d,"-range-hover-edge-start-near-range"),He&&B(ce,ye)),Object(de.a)(oe,"".concat(d,"-range-hover-edge-end-near-range"),qe&&B(se,Ce)),Object(de.a)(oe,"".concat(d,"-today"),B(W,te)),Object(de.a)(oe,"".concat(d,"-selected"),B(Z,te)),oe}return ee}function Qx(c){var d=c.prefixCls,y=c.generateConfig,g=c.prefixColumn,w=c.locale,I=c.rowCount,B=c.viewDate,j=c.value,W=c.dateRender,Z=N.useContext(mv),ee=Z.rangedValue,te=Z.hoverRangedValue,oe=K0(w.locale,y,B),ce="".concat(d,"-cell"),se=y.locale.getWeekFirstDay(w.locale),Ce=y.getNow(),ye=[],Se=w.shortWeekDays||(y.locale.getShortWeekDays?y.locale.getShortWeekDays(w.locale):[]);g&&ye.push(N.createElement("th",{key:"empty","aria-label":"empty cell"}));for(var _e=0;_e<C1;_e+=1)ye.push(N.createElement("th",{key:_e},Se[(_e+se)%C1]));var Ie=gv({cellPrefixCls:ce,today:Ce,value:j,generateConfig:y,rangedValue:g?null:ee,hoverRangedValue:g?null:te,isSameCell:function(ke,Ze){return Df(y,ke,Ze)},isInView:function(ke){return _A(y,ke,B)},offsetCell:function(ke,Ze){return y.addDate(ke,Ze)}}),Ge=W?function(je){return W(je,Ce)}:void 0;return N.createElement(lv,Object(xe.a)({},c,{rowNum:I,colNum:C1,baseDate:oe,getCellNode:Ge,getCellText:y.getDate,getCellClassName:Ie,getCellDate:y.addDate,titleCell:function(ke){return js(ke,{locale:w,format:"YYYY-MM-DD",generateConfig:y})},headerCells:ye}))}var $x=Qx;function eC(c){var d=c.prefixCls,y=c.generateConfig,g=c.locale,w=c.viewDate,I=c.onNextMonth,B=c.onPrevMonth,j=c.onNextYear,W=c.onPrevYear,Z=c.onYearClick,ee=c.onMonthClick,te=N.useContext(ma),oe=te.hideHeader;if(oe)return null;var ce="".concat(d,"-header"),se=g.shortMonths||(y.locale.getShortMonths?y.locale.getShortMonths(g.locale):[]),Ce=y.getMonth(w),ye=N.createElement("button",{type:"button",key:"year",onClick:Z,tabIndex:-1,className:"".concat(d,"-year-btn")},js(w,{locale:g,format:g.yearFormat,generateConfig:y})),Se=N.createElement("button",{type:"button",key:"month",onClick:ee,tabIndex:-1,className:"".concat(d,"-month-btn")},g.monthFormat?js(w,{locale:g,format:g.monthFormat,generateConfig:y}):se[Ce]),_e=g.monthBeforeYear?[Se,ye]:[ye,Se];return N.createElement(Fm,Object(xe.a)({},c,{prefixCls:ce,onSuperPrev:W,onPrev:B,onNext:I,onSuperNext:j}),_e)}var D2=eC,PA=6;function _(c){var d=c.prefixCls,y=c.panelName,g=y===void 0?"date":y,w=c.keyboardConfig,I=c.active,B=c.operationRef,j=c.generateConfig,W=c.value,Z=c.viewDate,ee=c.onViewDateChange,te=c.onPanelChange,oe=c.onSelect,ce="".concat(d,"-").concat(g,"-panel");B.current={onKeyDown:function(Se){return Mp(Se,Object(ur.a)({onLeftRight:function(Ie){oe(j.addDate(W||Z,Ie),"key")},onCtrlLeftRight:function(Ie){oe(j.addYear(W||Z,Ie),"key")},onUpDown:function(Ie){oe(j.addDate(W||Z,Ie*C1),"key")},onPageUpDown:function(Ie){oe(j.addMonth(W||Z,Ie),"key")}},w))}};var se=function(Se){var _e=j.addYear(Z,Se);ee(_e),te(null,_e)},Ce=function(Se){var _e=j.addMonth(Z,Se);ee(_e),te(null,_e)};return N.createElement("div",{className:st()(ce,Object(de.a)({},"".concat(ce,"-active"),I))},N.createElement(D2,Object(xe.a)({},c,{prefixCls:d,value:W,viewDate:Z,onPrevYear:function(){se(-1)},onNextYear:function(){se(1)},onPrevMonth:function(){Ce(-1)},onNextMonth:function(){Ce(1)},onMonthClick:function(){te("month",Z)},onYearClick:function(){te("year",Z)}})),N.createElement($x,Object(xe.a)({},c,{onSelect:function(Se){return oe(Se,"mouse")},prefixCls:d,value:W,viewDate:Z,rowCount:PA})))}var L=_;function q(c,d,y){if(!y)return d;var g=d;return g=c.setHour(g,c.getHour(y)),g=c.setMinute(g,c.getMinute(y)),g=c.setSecond(g,c.getSecond(y)),g}var fe=I2("date","time");function Ee(c){var d=c.prefixCls,y=c.operationRef,g=c.generateConfig,w=c.value,I=c.defaultValue,B=c.disabledTime,j=c.showTime,W=c.onSelect,Z="".concat(d,"-datetime-panel"),ee=N.useState(null),te=Object(ar.a)(ee,2),oe=te[0],ce=te[1],se=N.useRef({}),Ce=N.useRef({}),ye=Object(ft.a)(j)==="object"?Object(ur.a)({},j):{};function Se(je){var ke=fe.indexOf(oe)+je,Ze=fe[ke]||null;return Ze}var _e=function(ke){Ce.current.onBlur&&Ce.current.onBlur(ke),ce(null)};y.current={onKeyDown:function(ke){if(ke.which===Cn.a.TAB){var Ze=Se(ke.shiftKey?-1:1);return ce(Ze),Ze&&ke.preventDefault(),!0}if(oe){var He=oe==="date"?se:Ce;return He.current&&He.current.onKeyDown&&He.current.onKeyDown(ke),!0}return[Cn.a.LEFT,Cn.a.RIGHT,Cn.a.UP,Cn.a.DOWN].includes(ke.which)?(ce("date"),!0):!1},onBlur:_e,onClose:_e};var Ie=function(ke,Ze){var He=ke;Ze==="date"&&!w&&ye.defaultValue?(He=g.setHour(He,g.getHour(ye.defaultValue)),He=g.setMinute(He,g.getMinute(ye.defaultValue)),He=g.setSecond(He,g.getSecond(ye.defaultValue))):Ze==="time"&&!w&&I&&(He=g.setYear(He,g.getYear(I)),He=g.setMonth(He,g.getMonth(I)),He=g.setDate(He,g.getDate(I))),W&&W(He,"mouse")},Ge=B?B(w||null):{};return N.createElement("div",{className:st()(Z,Object(de.a)({},"".concat(Z,"-active"),oe))},N.createElement(L,Object(xe.a)({},c,{operationRef:se,active:oe==="date",onSelect:function(ke){Ie(q(g,ke,j&&Object(ft.a)(j)==="object"?j.defaultValue:null),"date")}})),N.createElement(IA,Object(xe.a)({},c,{format:void 0},ye,Ge,{defaultValue:void 0,operationRef:Ce,active:oe==="time",onSelect:function(ke){Ie(ke,"time")}})))}var ze=Ee;function ct(c){var d=c.prefixCls,y=c.generateConfig,g=c.locale,w=c.value,I="".concat(d,"-cell"),B=function(ee){return N.createElement("td",{key:"week",className:st()(I,"".concat(I,"-week"))},y.locale.getWeek(g.locale,ee))},j="".concat(d,"-week-panel-row"),W=function(ee){return st()(j,Object(de.a)({},"".concat(j,"-selected"),MA(y,g.locale,w,ee)))};return N.createElement(L,Object(xe.a)({},c,{panelName:"week",prefixColumn:B,rowClassName:W,keyboardConfig:{onLeftRight:null}}))}var mt=ct;function Ft(c){var d=c.prefixCls,y=c.generateConfig,g=c.locale,w=c.viewDate,I=c.onNextYear,B=c.onPrevYear,j=c.onYearClick,W=N.useContext(ma),Z=W.hideHeader;if(Z)return null;var ee="".concat(d,"-header");return N.createElement(Fm,Object(xe.a)({},c,{prefixCls:ee,onSuperPrev:B,onSuperNext:I}),N.createElement("button",{type:"button",onClick:j,className:"".concat(d,"-year-btn")},js(w,{locale:g,format:g.yearFormat,generateConfig:y})))}var Lr=Ft,yr=3,Yr=4;function Un(c){var d=c.prefixCls,y=c.locale,g=c.value,w=c.viewDate,I=c.generateConfig,B=c.monthCellRender,j=N.useContext(mv),W=j.rangedValue,Z=j.hoverRangedValue,ee="".concat(d,"-cell"),te=gv({cellPrefixCls:ee,value:g,generateConfig:I,rangedValue:W,hoverRangedValue:Z,isSameCell:function(ye,Se){return _A(I,ye,Se)},isInView:function(){return!0},offsetCell:function(ye,Se){return I.addMonth(ye,Se)}}),oe=y.shortMonths||(I.locale.getShortMonths?I.locale.getShortMonths(y.locale):[]),ce=I.setMonth(w,0),se=B?function(Ce){return B(Ce,y)}:void 0;return N.createElement(lv,Object(xe.a)({},c,{rowNum:Yr,colNum:yr,baseDate:ce,getCellNode:se,getCellText:function(ye){return y.monthFormat?js(ye,{locale:y,format:y.monthFormat,generateConfig:I}):oe[I.getMonth(ye)]},getCellClassName:te,getCellDate:I.addMonth,titleCell:function(ye){return js(ye,{locale:y,format:"YYYY-MM",generateConfig:I})}}))}var vi=Un;function no(c){var d=c.prefixCls,y=c.operationRef,g=c.onViewDateChange,w=c.generateConfig,I=c.value,B=c.viewDate,j=c.onPanelChange,W=c.onSelect,Z="".concat(d,"-month-panel");y.current={onKeyDown:function(oe){return Mp(oe,{onLeftRight:function(se){W(w.addMonth(I||B,se),"key")},onCtrlLeftRight:function(se){W(w.addYear(I||B,se),"key")},onUpDown:function(se){W(w.addMonth(I||B,se*yr),"key")},onEnter:function(){j("date",I||B)}})}};var ee=function(oe){var ce=w.addYear(B,oe);g(ce),j(null,ce)};return N.createElement("div",{className:Z},N.createElement(Lr,Object(xe.a)({},c,{prefixCls:d,onPrevYear:function(){ee(-1)},onNextYear:function(){ee(1)},onYearClick:function(){j("year",B)}})),N.createElement(vi,Object(xe.a)({},c,{prefixCls:d,onSelect:function(oe){W(oe,"mouse"),j("date",oe)}})))}var Oo=no;function oo(c){var d=c.prefixCls,y=c.generateConfig,g=c.locale,w=c.viewDate,I=c.onNextYear,B=c.onPrevYear,j=c.onYearClick,W=N.useContext(ma),Z=W.hideHeader;if(Z)return null;var ee="".concat(d,"-header");return N.createElement(Fm,Object(xe.a)({},c,{prefixCls:ee,onSuperPrev:B,onSuperNext:I}),N.createElement("button",{type:"button",onClick:j,className:"".concat(d,"-year-btn")},js(w,{locale:g,format:g.yearFormat,generateConfig:y})))}var Go=oo,oa=4,pc=1;function pu(c){var d=c.prefixCls,y=c.locale,g=c.value,w=c.viewDate,I=c.generateConfig,B=N.useContext(mv),j=B.rangedValue,W=B.hoverRangedValue,Z="".concat(d,"-cell"),ee=gv({cellPrefixCls:Z,value:g,generateConfig:I,rangedValue:j,hoverRangedValue:W,isSameCell:function(ce,se){return Zx(I,ce,se)},isInView:function(){return!0},offsetCell:function(ce,se){return I.addMonth(ce,se*3)}}),te=I.setDate(I.setMonth(w,0),1);return N.createElement(lv,Object(xe.a)({},c,{rowNum:pc,colNum:oa,baseDate:te,getCellText:function(ce){return js(ce,{locale:y,format:y.quarterFormat||"[Q]Q",generateConfig:I})},getCellClassName:ee,getCellDate:function(ce,se){return I.addMonth(ce,se*3)},titleCell:function(ce){return js(ce,{locale:y,format:"YYYY-[Q]Q",generateConfig:I})}}))}var mu=pu;function Us(c){var d=c.prefixCls,y=c.operationRef,g=c.onViewDateChange,w=c.generateConfig,I=c.value,B=c.viewDate,j=c.onPanelChange,W=c.onSelect,Z="".concat(d,"-quarter-panel");y.current={onKeyDown:function(oe){return Mp(oe,{onLeftRight:function(se){W(w.addMonth(I||B,se*3),"key")},onCtrlLeftRight:function(se){W(w.addYear(I||B,se),"key")},onUpDown:function(se){W(w.addYear(I||B,se),"key")}})}};var ee=function(oe){var ce=w.addYear(B,oe);g(ce),j(null,ce)};return N.createElement("div",{className:Z},N.createElement(Go,Object(xe.a)({},c,{prefixCls:d,onPrevYear:function(){ee(-1)},onNextYear:function(){ee(1)},onYearClick:function(){j("year",B)}})),N.createElement(mu,Object(xe.a)({},c,{prefixCls:d,onSelect:function(oe){W(oe,"mouse")}})))}var zh=Us;function Td(c){var d=c.prefixCls,y=c.generateConfig,g=c.viewDate,w=c.onPrevDecade,I=c.onNextDecade,B=c.onDecadeClick,j=N.useContext(ma),W=j.hideHeader;if(W)return null;var Z="".concat(d,"-header"),ee=y.getYear(g),te=Math.floor(ee/vv)*vv,oe=te+vv-1;return N.createElement(Fm,Object(xe.a)({},c,{prefixCls:Z,onSuperPrev:w,onSuperNext:I}),N.createElement("button",{type:"button",onClick:B,className:"".concat(d,"-decade-btn")},te,"-",oe))}var Hm=Td,N2=3,$b=4;function S1(c){var d=c.prefixCls,y=c.value,g=c.viewDate,w=c.locale,I=c.generateConfig,B=N.useContext(mv),j=B.rangedValue,W=B.hoverRangedValue,Z="".concat(d,"-cell"),ee=I.getYear(g),te=Math.floor(ee/vv)*vv,oe=te+vv-1,ce=I.setYear(g,te-Math.ceil((N2*$b-vv)/2)),se=function(Se){var _e=I.getYear(Se);return te<=_e&&_e<=oe},Ce=gv({cellPrefixCls:Z,value:y,generateConfig:I,rangedValue:j,hoverRangedValue:W,isSameCell:function(Se,_e){return dv(I,Se,_e)},isInView:se,offsetCell:function(Se,_e){return I.addYear(Se,_e)}});return N.createElement(lv,Object(xe.a)({},c,{rowNum:$b,colNum:N2,baseDate:ce,getCellText:I.getYear,getCellClassName:Ce,getCellDate:I.addYear,titleCell:function(Se){return js(Se,{locale:w,format:"YYYY",generateConfig:I})}}))}var _1=S1,vv=10;function n_(c){var d=c.prefixCls,y=c.operationRef,g=c.onViewDateChange,w=c.generateConfig,I=c.value,B=c.viewDate,j=c.sourceMode,W=c.onSelect,Z=c.onPanelChange,ee="".concat(d,"-year-panel");y.current={onKeyDown:function(ce){return Mp(ce,{onLeftRight:function(Ce){W(w.addYear(I||B,Ce),"key")},onCtrlLeftRight:function(Ce){W(w.addYear(I||B,Ce*vv),"key")},onUpDown:function(Ce){W(w.addYear(I||B,Ce*N2),"key")},onEnter:function(){Z(j==="date"?"date":"month",I||B)}})}};var te=function(ce){var se=w.addYear(B,ce*10);g(se),Z(null,se)};return N.createElement("div",{className:ee},N.createElement(Hm,Object(xe.a)({},c,{prefixCls:d,onPrevDecade:function(){te(-1)},onNextDecade:function(){te(1)},onDecadeClick:function(){Z("decade",B)}})),N.createElement(_1,Object(xe.a)({},c,{prefixCls:d,onSelect:function(ce){Z(j==="date"?"date":"month",ce),W(ce,"mouse")}})))}var M1=n_;function eS(c,d,y){return y?N.createElement("div",{className:"".concat(c,"-footer-extra")},y(d)):null}function tS(c){var d=c.prefixCls,y=c.rangeList,g=y===void 0?[]:y,w=c.components,I=w===void 0?{}:w,B=c.needConfirmButton,j=c.onNow,W=c.onOk,Z=c.okDisabled,ee=c.showNow,te=c.locale,oe,ce;if(g.length){var se=I.rangeItem||"span";oe=N.createElement(N.Fragment,null,g.map(function(ye){var Se=ye.label,_e=ye.onClick,Ie=ye.onMouseEnter,Ge=ye.onMouseLeave;return N.createElement("li",{key:Se,className:"".concat(d,"-preset")},N.createElement(se,{onClick:_e,onMouseEnter:Ie,onMouseLeave:Ge},Se))}))}if(B){var Ce=I.button||"button";j&&!oe&&ee!==!1&&(oe=N.createElement("li",{className:"".concat(d,"-now")},N.createElement("a",{className:"".concat(d,"-now-btn"),onClick:j},te.now))),ce=B&&N.createElement("li",{className:"".concat(d,"-ok")},N.createElement(Ce,{disabled:Z,onClick:W},te.ok))}return!oe&&!ce?null:N.createElement("ul",{className:"".concat(d,"-ranges")},oe,ce)}function i_(c){var d,y=c.prefixCls,g=y===void 0?"rc-picker":y,w=c.className,I=c.style,B=c.locale,j=c.generateConfig,W=c.value,Z=c.defaultValue,ee=c.pickerValue,te=c.defaultPickerValue,oe=c.disabledDate,ce=c.mode,se=c.picker,Ce=se===void 0?"date":se,ye=c.tabIndex,Se=ye===void 0?0:ye,_e=c.showNow,Ie=c.showTime,Ge=c.showToday,je=c.renderExtraFooter,ke=c.hideHeader,Ze=c.onSelect,He=c.onChange,qe=c.onPanelChange,et=c.onMouseDown,nt=c.onPickerValueChange,At=c.onOk,ot=c.components,gt=c.direction,wt=c.hourStep,St=wt===void 0?1:wt,bt=c.minuteStep,Rt=bt===void 0?1:bt,Xt=c.secondStep,Gt=Xt===void 0?1:Xt,tr=Ce==="date"&&!!Ie||Ce==="time",Jt=24%St==0,sr=60%Rt==0,nr=60%Gt==0,Or=N.useContext(ma),dr=Or.operationRef,Mr=Or.panelRef,on=Or.onSelect,Fr=Or.hideRanges,wn=Or.defaultOpenValue,Ir=N.useContext(mv),hn=Ir.inRange,Fn=Ir.panelPosition,xn=Ir.rangedValue,rn=Ir.hoverRangedValue,Dr=N.useRef({}),En=N.useRef(!0),Jr=Object(Ya.a)(null,{value:W,defaultValue:Z,postState:function(Hn){return!Hn&&wn&&Ce==="time"?wn:Hn}}),qr=Object(ar.a)(Jr,2),Tn=qr[0],Ln=qr[1],Ci=Object(Ya.a)(null,{value:ee,defaultValue:te||Tn,postState:function(Hn){return Hn||j.getNow()}}),di=Object(ar.a)(Ci,2),Bo=di[0],Ji=di[1],qi=function(Hn){Ji(Hn),nt&&nt(Hn)},Ri=function(Hn){var Po=Jo[Ce];return Po?Po(Hn):Hn},zo=Object(Ya.a)(function(){return Ce==="time"?"time":Ri("date")},{value:ce}),ni=Object(ar.a)(zo,2),un=ni[0],Rr=ni[1];N.useEffect(function(){Rr(Ce)},[Ce]);var Bn=N.useState(function(){return un}),hi=Object(ar.a)(Bn,2),Xr=hi[0],Li=hi[1],Vi=function(Hn,Po){var aa=Ri(Hn||un);Li(un),Rr(aa),qe&&(un!==aa||pv(j,Bo,Bo))&&qe(Po,aa)},ii=function(Hn,Po){var aa=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(un===Ce||aa)&&(Ln(Hn),Ze&&Ze(Hn),on&&on(Hn,Po),He&&!pv(j,Hn,Tn)&&!(oe==null?void 0:oe(Hn))&&He(Hn))},co=function(Hn){return Dr.current&&Dr.current.onKeyDown?([Cn.a.LEFT,Cn.a.RIGHT,Cn.a.UP,Cn.a.DOWN,Cn.a.PAGE_UP,Cn.a.PAGE_DOWN,Cn.a.ENTER].includes(Hn.which)&&Hn.preventDefault(),Dr.current.onKeyDown(Hn)):(Object(Xo.a)(!1,"Panel not correct handle keyDown event. Please help to fire issue about this."),!1)},So=function(Hn){Dr.current&&Dr.current.onBlur&&Dr.current.onBlur(Hn)};dr&&Fn!=="right"&&(dr.current={onKeyDown:co,onClose:function(){Dr.current&&Dr.current.onClose&&Dr.current.onClose()}}),N.useEffect(function(){W&&!En.current&&Ji(W)},[W]),N.useEffect(function(){En.current=!1},[]);var kn,go=Object(ur.a)(Object(ur.a)({},c),{},{operationRef:Dr,prefixCls:g,viewDate:Bo,value:Tn,onViewDateChange:qi,sourceMode:Xr,onPanelChange:Vi,disabledDate:oe});switch(delete go.onChange,delete go.onSelect,un){case"decade":kn=N.createElement(E2,Object(xe.a)({},go,{onSelect:function(Hn,Po){qi(Hn),ii(Hn,Po)}}));break;case"year":kn=N.createElement(M1,Object(xe.a)({},go,{onSelect:function(Hn,Po){qi(Hn),ii(Hn,Po)}}));break;case"month":kn=N.createElement(Oo,Object(xe.a)({},go,{onSelect:function(Hn,Po){qi(Hn),ii(Hn,Po)}}));break;case"quarter":kn=N.createElement(zh,Object(xe.a)({},go,{onSelect:function(Hn,Po){qi(Hn),ii(Hn,Po)}}));break;case"week":kn=N.createElement(mt,Object(xe.a)({},go,{onSelect:function(Hn,Po){qi(Hn),ii(Hn,Po)}}));break;case"time":delete go.showTime,kn=N.createElement(IA,Object(xe.a)({},go,Object(ft.a)(Ie)==="object"?Ie:null,{onSelect:function(Hn,Po){qi(Hn),ii(Hn,Po)}}));break;default:Ie?kn=N.createElement(ze,Object(xe.a)({},go,{onSelect:function(Hn,Po){qi(Hn),ii(Hn,Po)}})):kn=N.createElement(L,Object(xe.a)({},go,{onSelect:function(Hn,Po){qi(Hn),ii(Hn,Po)}}))}var Eo,ys,Zu=function(){var Hn=j.getNow(),Po=wA(j.getHour(Hn),j.getMinute(Hn),j.getSecond(Hn),Jt?St:1,sr?Rt:1,nr?Gt:1),aa=Sp(j,Hn,Po[0],Po[1],Po[2]);ii(aa,"submit")};Fr||(Eo=eS(g,un,je),ys=tS({prefixCls:g,components:ot,needConfirmButton:tr,okDisabled:!Tn||oe&&oe(Tn),locale:B,showNow:_e,onNow:tr&&Zu,onOk:function(){Tn&&(ii(Tn,"submit",!0),At&&At(Tn))}}));var cl;if(Ge&&un==="date"&&Ce==="date"&&!Ie){var _l=j.getNow(),Na="".concat(g,"-today-btn"),Lo=oe&&oe(_l);cl=N.createElement("a",{className:st()(Na,Lo&&"".concat(Na,"-disabled")),"aria-disabled":Lo,onClick:function(){Lo||ii(_l,"mouse",!0)}},B.today)}return N.createElement(ma.Provider,{value:Object(ur.a)(Object(ur.a)({},Or),{},{mode:un,hideHeader:"hideHeader"in c?ke:Or.hideHeader,hidePrevBtn:hn&&Fn==="right",hideNextBtn:hn&&Fn==="left"})},N.createElement("div",{tabIndex:Se,className:st()("".concat(g,"-panel"),w,(d={},Object(de.a)(d,"".concat(g,"-panel-has-range"),xn&&xn[0]&&xn[1]),Object(de.a)(d,"".concat(g,"-panel-has-range-hover"),rn&&rn[0]&&rn[1]),Object(de.a)(d,"".concat(g,"-panel-rtl"),gt==="rtl"),d)),style:I,onKeyDown:co,onBlur:So,onMouseDown:et,ref:Mr},kn,Eo||ys||cl?N.createElement("div",{className:"".concat(g,"-footer")},Eo,ys,cl):null))}var rS=i_,o_={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};function a_(c){var d,y=c.prefixCls,g=c.popupElement,w=c.popupStyle,I=c.visible,B=c.dropdownClassName,j=c.dropdownAlign,W=c.transitionName,Z=c.getPopupContainer,ee=c.children,te=c.range,oe=c.popupPlacement,ce=c.direction,se="".concat(y,"-dropdown"),Ce=function(){return oe!==void 0?oe:ce==="rtl"?"bottomRight":"bottomLeft"};return N.createElement(tc.a,{showAction:[],hideAction:[],popupPlacement:Ce(),builtinPlacements:o_,prefixCls:se,popupTransitionName:W,popup:g,popupAlign:j,popupVisible:I,popupClassName:st()(B,(d={},Object(de.a)(d,"".concat(se,"-range"),te),Object(de.a)(d,"".concat(se,"-rtl"),ce==="rtl"),d)),popupStyle:w,getPopupContainer:Z},ee)}var nS=a_;function Xw(c){var d=c.open,y=c.value,g=c.isClickOutside,w=c.triggerOpen,I=c.forwardKeyDown,B=c.onKeyDown,j=c.blurToCancel,W=c.onSubmit,Z=c.onCancel,ee=c.onFocus,te=c.onBlur,oe=Object(N.useState)(!1),ce=Object(ar.a)(oe,2),se=ce[0],Ce=ce[1],ye=Object(N.useState)(!1),Se=Object(ar.a)(ye,2),_e=Se[0],Ie=Se[1],Ge=Object(N.useRef)(!1),je=Object(N.useRef)(!1),ke=Object(N.useRef)(!1),Ze={onMouseDown:function(){Ce(!0),w(!0)},onKeyDown:function(qe){var et=function(){ke.current=!0};if(B(qe,et),!ke.current){switch(qe.which){case Cn.a.ENTER:{d?W()!==!1&&Ce(!0):w(!0),qe.preventDefault();return}case Cn.a.TAB:{se&&d&&!qe.shiftKey?(Ce(!1),qe.preventDefault()):!se&&d&&!I(qe)&&qe.shiftKey&&(Ce(!0),qe.preventDefault());return}case Cn.a.ESC:{Ce(!0),Z();return}}!d&&![Cn.a.SHIFT].includes(qe.which)?w(!0):se||I(qe)}},onFocus:function(qe){Ce(!0),Ie(!0),ee&&ee(qe)},onBlur:function(qe){if(Ge.current||!g(document.activeElement)){Ge.current=!1;return}j?setTimeout(function(){g(document.activeElement)&&Z()},0):d&&(w(!1),je.current&&W()),Ie(!1),te&&te(qe)}};return Object(N.useEffect)(function(){je.current=!1},[d]),Object(N.useEffect)(function(){je.current=!0},[y]),Object(N.useEffect)(function(){return Yw(function(He){var qe=Yx(He);if(d){var et=g(qe);et?(!_e||et)&&w(!1):(Ge.current=!0,requestAnimationFrame(function(){Ge.current=!1}))}})}),[Ze,{focused:_e,typing:se}]}function F2(c){var d=c.valueTexts,y=c.onTextChange,g=N.useState(""),w=Object(ar.a)(g,2),I=w[0],B=w[1],j=N.useRef([]);j.current=d;function W(ee){B(ee),y(ee)}function Z(){B(j.current[0])}return N.useEffect(function(){d.every(function(ee){return ee!==I})&&Z()},[d.join("||")]),[I,W,Z]}function OA(c,d){var y=d.formatList,g=d.generateConfig,w=d.locale;return Object(Ec.a)(function(){if(!c)return[[""],""];for(var I="",B=[],j=0;j<y.length;j+=1){var W=y[j],Z=js(c,{generateConfig:g,locale:w,format:W});B.push(Z),j===0&&(I=Z)}return[B,I]},[c,y],function(I,B){return I[0]!==B[0]||!xh()(I[1],B[1])})}function tC(c,d){var y=d.formatList,g=d.generateConfig,w=d.locale,I=Object(N.useState)(null),B=Object(ar.a)(I,2),j=B[0],W=B[1],Z=Object(N.useRef)(null);function ee(ye){var Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(cancelAnimationFrame(Z.current),Se){W(ye);return}Z.current=requestAnimationFrame(function(){W(ye)})}var te=OA(j,{formatList:y,generateConfig:g,locale:w}),oe=Object(ar.a)(te,2),ce=oe[1];function se(ye){ee(ye)}function Ce(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;ee(null,ye)}return Object(N.useEffect)(function(){Ce(!0)},[c]),Object(N.useEffect)(function(){return function(){return cancelAnimationFrame(Z.current)}},[]),[ce,se,Ce]}function iS(c){var d,y=c.prefixCls,g=y===void 0?"rc-picker":y,w=c.id,I=c.tabIndex,B=c.style,j=c.className,W=c.dropdownClassName,Z=c.dropdownAlign,ee=c.popupStyle,te=c.transitionName,oe=c.generateConfig,ce=c.locale,se=c.inputReadOnly,Ce=c.allowClear,ye=c.autoFocus,Se=c.showTime,_e=c.picker,Ie=_e===void 0?"date":_e,Ge=c.format,je=c.use12Hours,ke=c.value,Ze=c.defaultValue,He=c.open,qe=c.defaultOpen,et=c.defaultOpenValue,nt=c.suffixIcon,At=c.clearIcon,ot=c.disabled,gt=c.disabledDate,wt=c.placeholder,St=c.getPopupContainer,bt=c.pickerRef,Rt=c.panelRender,Xt=c.onChange,Gt=c.onOpenChange,tr=c.onFocus,Jt=c.onBlur,sr=c.onMouseDown,nr=c.onMouseUp,Or=c.onMouseEnter,dr=c.onMouseLeave,Mr=c.onContextMenu,on=c.onClick,Fr=c.onKeyDown,wn=c.onSelect,Ir=c.direction,hn=c.autoComplete,Fn=hn===void 0?"off":hn,xn=N.useRef(null),rn=Ie==="date"&&!!Se||Ie==="time",Dr=Jx(M2(Ge,Ie,Se,je)),En=N.useRef(null),Jr=N.useRef(null),qr=Object(Ya.a)(null,{value:ke,defaultValue:Ze}),Tn=Object(ar.a)(qr,2),Ln=Tn[0],Ci=Tn[1],di=N.useState(Ln),Bo=Object(ar.a)(di,2),Ji=Bo[0],qi=Bo[1],Ri=N.useRef(null),zo=Object(Ya.a)(!1,{value:He,defaultValue:qe,postState:function(ui){return ot?!1:ui},onChange:function(ui){Gt&&Gt(ui),!ui&&Ri.current&&Ri.current.onClose&&Ri.current.onClose()}}),ni=Object(ar.a)(zo,2),un=ni[0],Rr=ni[1],Bn=OA(Ji,{formatList:Dr,generateConfig:oe,locale:ce}),hi=Object(ar.a)(Bn,2),Xr=hi[0],Li=hi[1],Vi=F2({valueTexts:Xr,onTextChange:function(ui){var Cs=Um(ui,{locale:ce,formatList:Dr,generateConfig:oe});Cs&&(!gt||!gt(Cs))&&qi(Cs)}}),ii=Object(ar.a)(Vi,3),co=ii[0],So=ii[1],kn=ii[2],go=function(ui){qi(ui),Ci(ui),Xt&&!pv(oe,Ln,ui)&&Xt(ui,ui?js(ui,{generateConfig:oe,locale:ce,format:Dr[0]}):"")},Eo=function(ui){ot&&ui||Rr(ui)},ys=function(ui){return un&&Ri.current&&Ri.current.onKeyDown?Ri.current.onKeyDown(ui):(Object(Xo.a)(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this."),!1)},Zu=function(){nr&&nr.apply(void 0,arguments),xn.current&&(xn.current.focus(),Eo(!0))},cl=Xw({blurToCancel:rn,open:un,value:co,triggerOpen:Eo,forwardKeyDown:ys,isClickOutside:function(ui){return!_d([En.current,Jr.current],ui)},onSubmit:function(){return gt&&gt(Ji)?!1:(go(Ji),Eo(!1),kn(),!0)},onCancel:function(){Eo(!1),qi(Ln),kn()},onKeyDown:function(ui,Cs){Fr==null||Fr(ui,Cs)},onFocus:tr,onBlur:Jt}),_l=Object(ar.a)(cl,2),Na=_l[0],Lo=_l[1],Qi=Lo.focused,Hn=Lo.typing;N.useEffect(function(){un||(qi(Ln),!Xr.length||Xr[0]===""?So(""):Li!==co&&kn())},[un,Xr]),N.useEffect(function(){un||kn()},[Ie]),N.useEffect(function(){qi(Ln)},[Ln]),bt&&(bt.current={focus:function(){xn.current&&xn.current.focus()},blur:function(){xn.current&&xn.current.blur()}});var Po=tC(co,{formatList:Dr,generateConfig:oe,locale:ce}),aa=Object(ar.a)(Po,3),fs=aa[0],ks=aa[1],yc=aa[2],nu=Object(ur.a)(Object(ur.a)({},c),{},{className:void 0,style:void 0,pickerValue:void 0,onPickerValueChange:void 0,onChange:null}),Vl=N.createElement(rS,Object(xe.a)({},nu,{generateConfig:oe,className:st()(Object(de.a)({},"".concat(g,"-panel-focused"),!Hn)),value:Ji,locale:ce,tabIndex:-1,onSelect:function(ui){wn==null||wn(ui),qi(ui)},direction:Ir,onPanelChange:function(ui,Cs){var na=c.onPanelChange;yc(!0),na==null||na(ui,Cs)}}));Rt&&(Vl=Rt(Vl));var hl=N.createElement("div",{className:"".concat(g,"-panel-container"),onMouseDown:function(ui){ui.preventDefault()}},Vl),sa;nt&&(sa=N.createElement("span",{className:"".concat(g,"-suffix")},nt));var Ml;Ce&&Ln&&!ot&&(Ml=N.createElement("span",{onMouseDown:function(ui){ui.preventDefault(),ui.stopPropagation()},onMouseUp:function(ui){ui.preventDefault(),ui.stopPropagation(),go(null),Eo(!1)},className:"".concat(g,"-clear")},At||N.createElement("span",{className:"".concat(g,"-clear-btn")})));var xs=function(ui,Cs){(Cs==="submit"||Cs!=="key"&&!rn)&&(go(ui),Eo(!1))},xo=Ir==="rtl"?"bottomRight":"bottomLeft";return N.createElement(ma.Provider,{value:{operationRef:Ri,hideHeader:Ie==="time",panelRef:En,onSelect:xs,open:un,defaultOpenValue:et,onDateMouseEnter:ks,onDateMouseLeave:yc}},N.createElement(nS,{visible:un,popupElement:hl,popupStyle:ee,prefixCls:g,dropdownClassName:W,dropdownAlign:Z,getPopupContainer:St,transitionName:te,popupPlacement:xo,direction:Ir},N.createElement("div",{className:st()(g,j,(d={},Object(de.a)(d,"".concat(g,"-disabled"),ot),Object(de.a)(d,"".concat(g,"-focused"),Qi),Object(de.a)(d,"".concat(g,"-rtl"),Ir==="rtl"),d)),style:B,onMouseDown:sr,onMouseUp:Zu,onMouseEnter:Or,onMouseLeave:dr,onContextMenu:Mr,onClick:on},N.createElement("div",{className:st()("".concat(g,"-input"),Object(de.a)({},"".concat(g,"-input-placeholder"),!!fs)),ref:Jr},N.createElement("input",Object(xe.a)({id:w,tabIndex:I,disabled:ot,readOnly:se||typeof Dr[0]=="function"||!Hn,value:fs||co,onChange:function(ui){So(ui.target.value)},autoFocus:ye,placeholder:wt,ref:xn,title:co},Na,{size:Lf(Ie,Dr[0],oe)},EA(c),{autoComplete:Fn})),sa,Ml))))}var q0=function(c){Object(ti.a)(y,c);var d=Object(Xa.a)(y);function y(){var g;return Object(vn.a)(this,y),g=d.apply(this,arguments),g.pickerRef=N.createRef(),g.focus=function(){g.pickerRef.current&&g.pickerRef.current.focus()},g.blur=function(){g.pickerRef.current&&g.pickerRef.current.blur()},g}return Object(No.a)(y,[{key:"render",value:function(){return N.createElement(iS,Object(xe.a)({},this.props,{pickerRef:this.pickerRef}))}}]),y}(N.Component),B2=q0;function Zw(c,d,y){var g=c.picker,w=c.locale,I=c.selectedValue,B=c.disabledDate,j=c.disabled,W=c.generateConfig,Z=Vo(I,0),ee=Vo(I,1);function te(ye){return W.locale.getWeekFirstDate(w.locale,ye)}function oe(ye){var Se=W.getYear(ye),_e=W.getMonth(ye);return Se*100+_e}function ce(ye){var Se=W.getYear(ye),_e=Xx(W,ye);return Se*10+_e}var se=N.useCallback(function(ye){if(B&&B(ye))return!0;if(j[1]&&ee)return!Df(W,ye,ee)&&W.isAfter(ye,ee);if(d&&ee)switch(g){case"quarter":return ce(ye)>ce(ee);case"month":return oe(ye)>oe(ee);case"week":return te(ye)>te(ee);default:return!Df(W,ye,ee)&&W.isAfter(ye,ee)}return!1},[B,j[1],ee,d]),Ce=N.useCallback(function(ye){if(B&&B(ye))return!0;if(j[0]&&Z)return!Df(W,ye,ee)&&W.isAfter(Z,ye);if(y&&Z)switch(g){case"quarter":return ce(ye)<ce(Z);case"month":return oe(ye)<oe(Z);case"week":return te(ye)<te(Z);default:return!Df(W,ye,Z)&&W.isAfter(Z,ye)}return!1},[B,j[0],Z,y]);return[se,Ce]}function s_(c,d,y,g){var w=Tp(c,y,g,1);function I(B){return B(c,d)?"same":B(w,d)?"closing":"far"}switch(y){case"year":return I(function(B,j){return Vu(g,B,j)});case"quarter":case"month":return I(function(B,j){return dv(g,B,j)});default:return I(function(B,j){return _A(g,B,j)})}}function oS(c,d,y,g){var w=Vo(c,0),I=Vo(c,1);if(d===0)return w;if(w&&I){var B=s_(w,I,y,g);switch(B){case"same":return w;case"closing":return w;default:return Tp(I,y,g,-1)}}return w}function aS(c){var d=c.values,y=c.picker,g=c.defaultDates,w=c.generateConfig,I=N.useState(function(){return[Vo(g,0),Vo(g,1)]}),B=Object(ar.a)(I,2),j=B[0],W=B[1],Z=N.useState(null),ee=Object(ar.a)(Z,2),te=ee[0],oe=ee[1],ce=Vo(d,0),se=Vo(d,1);function Ce(Se){return j[Se]?j[Se]:Vo(te,Se)||oS(d,Se,y,w)||ce||se||w.getNow()}function ye(Se,_e){if(Se){var Ie=qc(te,Se,_e);W(qc(j,null,_e)||[null,null]);var Ge=(_e+1)%2;Vo(d,Ge)||(Ie=qc(Ie,Se,Ge)),oe(Ie)}else(ce||se)&&oe(null)}return[Ce,ye]}function Kw(c,d){return c&&c[0]&&c[1]&&d.isAfter(c[0],c[1])?[c[1],c[0]]:c}function RA(c,d,y,g){return!!(c||g&&g[d]||y[(d+1)%2])}function sS(c){var d,y,g,w=c.prefixCls,I=w===void 0?"rc-picker":w,B=c.id,j=c.style,W=c.className,Z=c.popupStyle,ee=c.dropdownClassName,te=c.transitionName,oe=c.dropdownAlign,ce=c.getPopupContainer,se=c.generateConfig,Ce=c.locale,ye=c.placeholder,Se=c.autoFocus,_e=c.disabled,Ie=c.format,Ge=c.picker,je=Ge===void 0?"date":Ge,ke=c.showTime,Ze=c.use12Hours,He=c.separator,qe=He===void 0?"~":He,et=c.value,nt=c.defaultValue,At=c.defaultPickerValue,ot=c.open,gt=c.defaultOpen,wt=c.disabledDate,St=c.disabledTime,bt=c.dateRender,Rt=c.panelRender,Xt=c.ranges,Gt=c.allowEmpty,tr=c.allowClear,Jt=c.suffixIcon,sr=c.clearIcon,nr=c.pickerRef,Or=c.inputReadOnly,dr=c.mode,Mr=c.renderExtraFooter,on=c.onChange,Fr=c.onOpenChange,wn=c.onPanelChange,Ir=c.onCalendarChange,hn=c.onFocus,Fn=c.onBlur,xn=c.onOk,rn=c.onKeyDown,Dr=c.components,En=c.order,Jr=c.direction,qr=c.activePickerIndex,Tn=c.autoComplete,Ln=Tn===void 0?"off":Tn,Ci=je==="date"&&!!ke||je==="time",di=Object(N.useRef)({}),Bo=Object(N.useRef)(null),Ji=Object(N.useRef)(null),qi=Object(N.useRef)(null),Ri=Object(N.useRef)(null),zo=Object(N.useRef)(null),ni=Object(N.useRef)(null),un=Object(N.useRef)(null),Rr=Jx(M2(Ie,je,ke,Ze)),Bn=Object(Ya.a)(0,{value:qr}),hi=Object(ar.a)(Bn,2),Xr=hi[0],Li=hi[1],Vi=Object(N.useRef)(null),ii=N.useMemo(function(){return Array.isArray(_e)?_e:[_e||!1,_e||!1]},[_e]),co=Object(Ya.a)(null,{value:et,defaultValue:nt,postState:function(vr){return je==="time"&&!En?vr:Kw(vr,se)}}),So=Object(ar.a)(co,2),kn=So[0],go=So[1],Eo=aS({values:kn,picker:je,defaultDates:At,generateConfig:se}),ys=Object(ar.a)(Eo,2),Zu=ys[0],cl=ys[1],_l=Object(Ya.a)(kn,{postState:function(vr){var ln=vr;if(ii[0]&&ii[1])return ln;for(var Zn=0;Zn<2;Zn+=1)ii[Zn]&&!Vo(ln,Zn)&&!Vo(Gt,Zn)&&(ln=qc(ln,se.getNow(),Zn));return ln}}),Na=Object(ar.a)(_l,2),Lo=Na[0],Qi=Na[1],Hn=Object(Ya.a)([je,je],{value:dr}),Po=Object(ar.a)(Hn,2),aa=Po[0],fs=Po[1];Object(N.useEffect)(function(){fs([je,je])},[je]);var ks=function(vr,ln){fs(vr),wn&&wn(ln,vr)},yc=Zw({picker:je,selectedValue:Lo,locale:Ce,disabled:ii,disabledDate:wt,generateConfig:se},di.current[1],di.current[0]),nu=Object(ar.a)(yc,2),Vl=nu[0],hl=nu[1],sa=Object(Ya.a)(!1,{value:ot,defaultValue:gt,postState:function(vr){return ii[Xr]?!1:vr},onChange:function(vr){Fr&&Fr(vr),!vr&&Vi.current&&Vi.current.onClose&&Vi.current.onClose()}}),Ml=Object(ar.a)(sa,2),xs=Ml[0],xo=Ml[1],_i=xs&&Xr===0,ui=xs&&Xr===1,Cs=Object(N.useState)(0),na=Object(ar.a)(Cs,2),Is=na[0],Qs=na[1];Object(N.useEffect)(function(){!xs&&Bo.current&&Qs(Bo.current.offsetWidth)},[xs]);var Fd=N.useRef();function xc(mn,vr){if(mn)clearTimeout(Fd.current),di.current[vr]=!0,Li(vr),xo(mn),xs||cl(null,vr);else if(Xr===vr){xo(mn);var ln=di.current;Fd.current=setTimeout(function(){ln===di.current&&(di.current={})})}}function jp(mn){xc(!0,mn),setTimeout(function(){var vr=[ni,un][mn];vr.current&&vr.current.focus()},0)}function rh(mn,vr){var ln=mn,Zn=Vo(ln,0),io=Vo(ln,1);Zn&&io&&se.isAfter(Zn,io)&&(je==="week"&&!MA(se,Ce.locale,Zn,io)||je==="quarter"&&!Zx(se,Zn,io)||je!=="week"&&je!=="quarter"&&je!=="time"&&!Df(se,Zn,io)?(vr===0?(ln=[Zn,null],io=null):(Zn=null,ln=[null,io]),di.current=Object(de.a)({},vr,!0)):(je!=="time"||En!==!1)&&(ln=Kw(ln,se))),Qi(ln);var jo=ln&&ln[0]?js(ln[0],{generateConfig:se,locale:Ce,format:Rr[0]}):"",Ps=ln&&ln[1]?js(ln[1],{generateConfig:se,locale:Ce,format:Rr[0]}):"";if(Ir){var is={range:vr===0?"start":"end"};Ir(ln,[jo,Ps],is)}var Os=RA(Zn,0,ii,Gt),Ke=RA(io,1,ii,Gt),wr=ln===null||Os&&Ke;wr&&(go(ln),on&&(!pv(se,Vo(kn,0),Zn)||!pv(se,Vo(kn,1),io))&&on(ln,[jo,Ps]));var Nt=null;vr===0&&!ii[1]?Nt=1:vr===1&&!ii[0]&&(Nt=0),Nt!==null&&Nt!==Xr&&(!di.current[Nt]||!Vo(ln,Nt))&&Vo(ln,vr)?jp(Nt):xc(!1,vr)}var nh=function(vr){return xs&&Vi.current&&Vi.current.onKeyDown?Vi.current.onKeyDown(vr):(Object(Xo.a)(!1,"Picker not correct forward KeyDown operation. Please help to fire issue about this."),!1)},Bd={formatList:Rr,generateConfig:se,locale:Ce},Up=OA(Vo(Lo,0),Bd),Fv=Object(ar.a)(Up,2),s=Fv[0],t=Fv[1],i=OA(Vo(Lo,1),Bd),m=Object(ar.a)(i,2),A=m[0],E=m[1],O=function(vr,ln){var Zn=Um(vr,{locale:Ce,formatList:Rr,generateConfig:se}),io=ln===0?Vl:hl;Zn&&!io(Zn)&&(Qi(qc(Lo,Zn,ln)),cl(Zn,ln))},F=F2({valueTexts:s,onTextChange:function(vr){return O(vr,0)}}),H=Object(ar.a)(F,3),K=H[0],$=H[1],ue=H[2],me=F2({valueTexts:A,onTextChange:function(vr){return O(vr,1)}}),pe=Object(ar.a)(me,3),be=pe[0],Te=pe[1],it=pe[2],_t=Object(N.useState)(null),Mt=Object(ar.a)(_t,2),It=Mt[0],Bt=Mt[1],hr=Object(N.useState)(null),qt=Object(ar.a)(hr,2),Pt=qt[0],Br=qt[1],Ht=tC(K,{formatList:Rr,generateConfig:se,locale:Ce}),cn=Object(ar.a)(Ht,3),In=cn[0],Ur=cn[1],Mi=cn[2],Rn=tC(be,{formatList:Rr,generateConfig:se,locale:Ce}),yi=Object(ar.a)(Rn,3),Di=yi[0],zi=yi[1],To=yi[2],ho=function(vr){Br(qc(Lo,vr,Xr)),Xr===0?Ur(vr):zi(vr)},la=function(){Br(qc(Lo,null,Xr)),Xr===0?Mi():To()},Fa=function(vr,ln){return{blurToCancel:Ci,forwardKeyDown:nh,onBlur:Fn,isClickOutside:function(io){return!_d([Ji.current,qi.current,Ri.current],io)},onFocus:function(io){Li(vr),hn&&hn(io)},triggerOpen:function(io){xc(io,vr)},onSubmit:function(){rh(Lo,vr),ln()},onCancel:function(){xc(!1,vr),Qi(kn),ln()}}},tt=Xw(Object(ur.a)(Object(ur.a)({},Fa(0,ue)),{},{open:_i,value:K,onKeyDown:function(vr,ln){rn==null||rn(vr,ln)}})),Ct=Object(ar.a)(tt,2),cr=Ct[0],fn=Ct[1],Gn=fn.focused,Pr=fn.typing,or=Xw(Object(ur.a)(Object(ur.a)({},Fa(1,it)),{},{open:ui,value:be,onKeyDown:function(vr,ln){rn==null||rn(vr,ln)}})),Yt=Object(ar.a)(or,2),oi=Yt[0],Vn=Yt[1],lo=Vn.focused,en=Vn.typing,Dn=function(vr){!xs&&!ni.current.contains(vr.target)&&!un.current.contains(vr.target)&&(ii[0]?ii[1]||jp(1):jp(0))},vo=function(vr){xs&&(Gn||lo)&&!ni.current.contains(vr.target)&&!un.current.contains(vr.target)&&vr.preventDefault()},Ha=kn&&kn[0]?js(kn[0],{locale:Ce,format:"YYYYMMDDHHmmss",generateConfig:se}):"",$o=kn&&kn[1]?js(kn[1],{locale:Ce,format:"YYYYMMDDHHmmss",generateConfig:se}):"";Object(N.useEffect)(function(){xs||(Qi(kn),!s.length||s[0]===""?$(""):t!==K&&ue(),!A.length||A[0]===""?Te(""):E!==be&&it())},[xs,s,A]),Object(N.useEffect)(function(){Qi(kn)},[Ha,$o]),nr&&(nr.current={focus:function(){ni.current&&ni.current.focus()},blur:function(){ni.current&&ni.current.blur(),un.current&&un.current.blur()}});var Cr=Object.keys(Xt||{}),uo=Cr.map(function(mn){var vr=Xt[mn],ln=typeof vr=="function"?vr():vr;return{label:mn,onClick:function(){rh(ln,null),xc(!1,Xr)},onMouseEnter:function(){Bt(ln)},onMouseLeave:function(){Bt(null)}}});function to(){var mn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,vr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ln=null;xs&&Pt&&Pt[0]&&Pt[1]&&se.isAfter(Pt[1],Pt[0])&&(ln=Pt);var Zn=ke;if(ke&&Object(ft.a)(ke)==="object"&&ke.defaultValue){var io=ke.defaultValue;Zn=Object(ur.a)(Object(ur.a)({},ke),{},{defaultValue:Vo(io,Xr)||void 0})}var jo=null;return bt&&(jo=function(is,Os){return bt(is,Os,{range:Xr?"end":"start"})}),N.createElement(mv.Provider,{value:{inRange:!0,panelPosition:mn,rangedValue:It||Lo,hoverRangedValue:ln}},N.createElement(rS,Object(xe.a)({},c,vr,{dateRender:jo,showTime:Zn,mode:aa[Xr],generateConfig:se,style:void 0,direction:Jr,disabledDate:Xr===0?Vl:hl,disabledTime:function(is){return St?St(is,Xr===0?"start":"end"):!1},className:st()(Object(de.a)({},"".concat(I,"-panel-focused"),Xr===0?!Pr:!en)),value:Vo(Lo,Xr),locale:Ce,tabIndex:-1,onPanelChange:function(is,Os){Xr===0&&Mi(!0),Xr===1&&To(!0),ks(qc(aa,Os,Xr),qc(Lo,is,Xr));var Ke=is;mn==="right"&&aa[Xr]===Os&&(Ke=Tp(Ke,Os,se,-1)),cl(Ke,Xr)},onOk:null,onSelect:void 0,onChange:void 0,defaultValue:Xr===0?Vo(Lo,1):Vo(Lo,0),defaultPickerValue:void 0})))}var xi=0,iu=0;Xr&&qi.current&&zo.current&&Ji.current&&(xi=qi.current.offsetWidth+zo.current.offsetWidth,Ji.current.offsetWidth&&xi>Ji.current.offsetWidth&&(iu=xi));var fl=Jr==="rtl"?{right:xi}:{left:xi};function Hf(){var mn,vr=eS(I,aa[Xr],Mr),ln=tS({prefixCls:I,components:Dr,needConfirmButton:Ci,okDisabled:!Vo(Lo,Xr)||wt&&wt(Lo[Xr]),locale:Ce,rangeList:uo,onOk:function(){Vo(Lo,Xr)&&(rh(Lo,Xr),xn&&xn(Lo))}});if(je!=="time"&&!ke){var Zn=Zu(Xr),io=Tp(Zn,je,se),jo=aa[Xr],Ps=jo===je,is=to(Ps?"left":!1,{pickerValue:Zn,onPickerValueChange:function(Nt){cl(Nt,Xr)}}),Os=to("right",{pickerValue:io,onPickerValueChange:function(Nt){cl(Tp(Nt,je,se,-1),Xr)}});Jr==="rtl"?mn=N.createElement(N.Fragment,null,Os,Ps&&is):mn=N.createElement(N.Fragment,null,is,Ps&&Os)}else mn=to();var Ke=N.createElement(N.Fragment,null,N.createElement("div",{className:"".concat(I,"-panels")},mn),(vr||ln)&&N.createElement("div",{className:"".concat(I,"-footer")},vr,ln));return Rt&&(Ke=Rt(Ke)),N.createElement("div",{className:"".concat(I,"-panel-container"),style:{marginLeft:iu},ref:Ji,onMouseDown:function(Nt){Nt.preventDefault()}},Ke)}var Iy=N.createElement("div",{className:st()("".concat(I,"-range-wrapper"),"".concat(I,"-").concat(je,"-range-wrapper")),style:{minWidth:Is}},N.createElement("div",{className:"".concat(I,"-range-arrow"),style:fl}),Hf()),KC;Jt&&(KC=N.createElement("span",{className:"".concat(I,"-suffix")},Jt));var Bv;tr&&(Vo(kn,0)&&!ii[0]||Vo(kn,1)&&!ii[1])&&(Bv=N.createElement("span",{onMouseDown:function(vr){vr.preventDefault(),vr.stopPropagation()},onMouseUp:function(vr){vr.preventDefault(),vr.stopPropagation();var ln=kn;ii[0]||(ln=qc(ln,null,0)),ii[1]||(ln=qc(ln,null,1)),rh(ln,null),xc(!1,Xr)},className:"".concat(I,"-clear")},sr||N.createElement("span",{className:"".concat(I,"-clear-btn")})));var og={size:Lf(je,Rr[0],se)},K1=0,zv=0;qi.current&&Ri.current&&zo.current&&(Xr===0?zv=qi.current.offsetWidth:(K1=xi,zv=Ri.current.offsetWidth));var jv=Jr==="rtl"?{right:K1}:{left:K1},ag=function(vr,ln){var Zn=qc(Lo,vr,Xr);ln==="submit"||ln!=="key"&&!Ci?(rh(Zn,Xr),Xr===0?Mi():To()):Qi(Zn)};return N.createElement(ma.Provider,{value:{operationRef:Vi,hideHeader:je==="time",onDateMouseEnter:ho,onDateMouseLeave:la,hideRanges:!0,onSelect:ag,open:xs}},N.createElement(nS,{visible:xs,popupElement:Iy,popupStyle:Z,prefixCls:I,dropdownClassName:ee,dropdownAlign:oe,getPopupContainer:ce,transitionName:te,range:!0,direction:Jr},N.createElement("div",Object(xe.a)({ref:Bo,className:st()(I,"".concat(I,"-range"),W,(d={},Object(de.a)(d,"".concat(I,"-disabled"),ii[0]&&ii[1]),Object(de.a)(d,"".concat(I,"-focused"),Xr===0?Gn:lo),Object(de.a)(d,"".concat(I,"-rtl"),Jr==="rtl"),d)),style:j,onClick:Dn,onMouseDown:vo},EA(c)),N.createElement("div",{className:st()("".concat(I,"-input"),(y={},Object(de.a)(y,"".concat(I,"-input-active"),Xr===0),Object(de.a)(y,"".concat(I,"-input-placeholder"),!!In),y)),ref:qi},N.createElement("input",Object(xe.a)({id:B,disabled:ii[0],readOnly:Or||typeof Rr[0]=="function"||!Pr,value:In||K,onChange:function(vr){$(vr.target.value)},autoFocus:Se,placeholder:Vo(ye,0)||"",ref:ni},cr,og,{autoComplete:Ln}))),N.createElement("div",{className:"".concat(I,"-range-separator"),ref:zo},qe),N.createElement("div",{className:st()("".concat(I,"-input"),(g={},Object(de.a)(g,"".concat(I,"-input-active"),Xr===1),Object(de.a)(g,"".concat(I,"-input-placeholder"),!!Di),g)),ref:Ri},N.createElement("input",Object(xe.a)({disabled:ii[1],readOnly:Or||typeof Rr[0]=="function"||!en,value:Di||be,onChange:function(vr){Te(vr.target.value)},placeholder:Vo(ye,1)||"",ref:un},oi,og,{autoComplete:Ln}))),N.createElement("div",{className:"".concat(I,"-active-bar"),style:Object(ur.a)(Object(ur.a)({},jv),{},{width:zv,position:"absolute"})}),KC,Bv)))}var z2=function(c){Object(ti.a)(y,c);var d=Object(Xa.a)(y);function y(){var g;return Object(vn.a)(this,y),g=d.apply(this,arguments),g.pickerRef=N.createRef(),g.focus=function(){g.pickerRef.current&&g.pickerRef.current.focus()},g.blur=function(){g.pickerRef.current&&g.pickerRef.current.blur()},g}return Object(No.a)(y,[{key:"render",value:function(){return N.createElement(sS,Object(xe.a)({},this.props,{pickerRef:this.pickerRef}))}}]),y}(N.Component),ll=z2,j2=B2,Jw=ae("61s2");function U2(c,d,y){return y!==void 0?y:c==="year"&&d.lang.yearPlaceholder?d.lang.yearPlaceholder:c==="quarter"&&d.lang.quarterPlaceholder?d.lang.quarterPlaceholder:c==="month"&&d.lang.monthPlaceholder?d.lang.monthPlaceholder:c==="week"&&d.lang.weekPlaceholder?d.lang.weekPlaceholder:c==="time"&&d.timePickerLocale.placeholder?d.timePickerLocale.placeholder:d.lang.placeholder}function qw(c,d,y){return y!==void 0?y:c==="year"&&d.lang.yearPlaceholder?d.lang.rangeYearPlaceholder:c==="month"&&d.lang.monthPlaceholder?d.lang.rangeMonthPlaceholder:c==="week"&&d.lang.weekPlaceholder?d.lang.rangeWeekPlaceholder:c==="time"&&d.timePickerLocale.placeholder?d.timePickerLocale.rangePlaceholder:d.lang.rangePlaceholder}var lS=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y};function l_(c){function d(W,Z){var ee=function(te){Object(ti.a)(ce,te);var oe=Object(Xa.a)(ce);function ce(se){var Ce;return Object(vn.a)(this,ce),Ce=oe.call(this,se),Ce.pickerRef=N.createRef(),Ce.focus=function(){Ce.pickerRef.current&&Ce.pickerRef.current.focus()},Ce.blur=function(){Ce.pickerRef.current&&Ce.pickerRef.current.blur()},Ce.getDefaultLocale=function(){var ye=Ce.props.locale,Se=Object(xe.a)(Object(xe.a)({},Jw.a),ye);return Se.lang=Object(xe.a)(Object(xe.a)({},Se.lang),(ye||{}).lang),Se},Ce.renderPicker=function(ye){var Se=Ce.context,_e=Se.getPrefixCls,Ie=Se.direction,Ge=Se.getPopupContainer,je=Ce.props,ke=je.prefixCls,Ze=je.getPopupContainer,He=je.className,qe=je.size,et=je.bordered,nt=et===void 0?!0:et,At=je.placeholder,ot=lS(je,["prefixCls","getPopupContainer","className","size","bordered","placeholder"]),gt=Ce.props,wt=gt.format,St=gt.showTime,bt=_e("picker",ke),Rt={showToday:!0},Xt={};W&&(Xt.picker=W);var Gt=W||Ce.props.picker;return Xt=Object(xe.a)(Object(xe.a)(Object(xe.a)({},Xt),St?Q0(Object(xe.a)({format:wt,picker:Gt},St)):{}),Gt==="time"?Q0(Object(xe.a)(Object(xe.a)({format:wt},Ce.props),{picker:Gt})):{}),N.createElement(ou.b.Consumer,null,function(tr){var Jt,sr=qe||tr;return N.createElement(j2,Object(xe.a)({ref:Ce.pickerRef,placeholder:U2(Gt,ye,At),suffixIcon:Gt==="time"?N.createElement(dc,null):N.createElement(_2,null),clearIcon:N.createElement(bs.a,null),allowClear:!0,transitionName:"slide-up"},Rt,ot,Xt,{locale:ye.lang,className:st()((Jt={},Object(de.a)(Jt,"".concat(bt,"-").concat(sr),sr),Object(de.a)(Jt,"".concat(bt,"-borderless"),!nt),Jt),He),prefixCls:bt,getPopupContainer:Ze||Ge,generateConfig:c,prevIcon:N.createElement("span",{className:"".concat(bt,"-prev-icon")}),nextIcon:N.createElement("span",{className:"".concat(bt,"-next-icon")}),superPrevIcon:N.createElement("span",{className:"".concat(bt,"-super-prev-icon")}),superNextIcon:N.createElement("span",{className:"".concat(bt,"-super-next-icon")}),components:$w,direction:Ie}))})},Object(so.a)(W!=="quarter",Z,"DatePicker.".concat(Z," is legacy usage. Please use DatePicker[picker='").concat(W,"'] directly.")),Ce}return Object(No.a)(ce,[{key:"render",value:function(){return N.createElement(An.a,{componentName:"DatePicker",defaultLocale:this.getDefaultLocale},this.renderPicker)}}]),ce}(N.Component);return ee.contextType=br.b,Z&&(ee.displayName=Z),ee}var y=d(),g=d("week","WeekPicker"),w=d("month","MonthPicker"),I=d("year","YearPicker"),B=d("time","TimePicker"),j=d("quarter","QuarterPicker");return{DatePicker:y,WeekPicker:g,MonthPicker:w,YearPicker:I,TimePicker:B,QuarterPicker:j}}var E1={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"},rC=E1,LA=function(d,y){return N.createElement(Ls.a,Object.assign({},d,{ref:y,icon:rC}))};LA.displayName="SwapRightOutlined";var k2=N.forwardRef(LA),Qw=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y};function uS(c){var d=function(y){Object(ti.a)(w,y);var g=Object(Xa.a)(w);function w(){var I;return Object(vn.a)(this,w),I=g.apply(this,arguments),I.pickerRef=N.createRef(),I.focus=function(){I.pickerRef.current&&I.pickerRef.current.focus()},I.blur=function(){I.pickerRef.current&&I.pickerRef.current.blur()},I.getDefaultLocale=function(){var B=I.props.locale,j=Object(xe.a)(Object(xe.a)({},Jw.a),B);return j.lang=Object(xe.a)(Object(xe.a)({},j.lang),(B||{}).lang),j},I.renderPicker=function(B){var j=I.context,W=j.getPrefixCls,Z=j.direction,ee=j.getPopupContainer,te=I.props,oe=te.prefixCls,ce=te.getPopupContainer,se=te.className,Ce=te.size,ye=te.bordered,Se=ye===void 0?!0:ye,_e=te.placeholder,Ie=Qw(te,["prefixCls","getPopupContainer","className","size","bordered","placeholder"]),Ge=I.props,je=Ge.format,ke=Ge.showTime,Ze=Ge.picker,He=W("picker",oe),qe={};return qe=Object(xe.a)(Object(xe.a)(Object(xe.a)({},qe),ke?Q0(Object(xe.a)({format:je,picker:Ze},ke)):{}),Ze==="time"?Q0(Object(xe.a)(Object(xe.a)({format:je},I.props),{picker:Ze})):{}),N.createElement(ou.b.Consumer,null,function(et){var nt,At=Ce||et;return N.createElement(ll,Object(xe.a)({separator:N.createElement("span",{"aria-label":"to",className:"".concat(He,"-separator")},N.createElement(k2,null)),ref:I.pickerRef,placeholder:qw(Ze,B,_e),suffixIcon:Ze==="time"?N.createElement(dc,null):N.createElement(_2,null),clearIcon:N.createElement(bs.a,null),allowClear:!0,transitionName:"slide-up"},Ie,qe,{className:st()((nt={},Object(de.a)(nt,"".concat(He,"-").concat(At),At),Object(de.a)(nt,"".concat(He,"-borderless"),!Se),nt),se),locale:B.lang,prefixCls:He,getPopupContainer:ce||ee,generateConfig:c,prevIcon:N.createElement("span",{className:"".concat(He,"-prev-icon")}),nextIcon:N.createElement("span",{className:"".concat(He,"-next-icon")}),superPrevIcon:N.createElement("span",{className:"".concat(He,"-super-prev-icon")}),superNextIcon:N.createElement("span",{className:"".concat(He,"-super-next-icon")}),components:$w,direction:Z}))})},I}return Object(No.a)(w,[{key:"render",value:function(){return N.createElement(An.a,{componentName:"DatePicker",defaultLocale:this.getDefaultLocale},this.renderPicker)}}]),w}(N.Component);return d.contextType=br.b,d}var $w={button:Vx,rangeItem:Rf};function DA(c){return c?Array.isArray(c)?c:[c]:[]}function Q0(c){var d=c.format,y=c.picker,g=c.showHour,w=c.showMinute,I=c.showSecond,B=c.use12Hours,j=DA(d)[0],W=Object(xe.a)({},c);return j&&typeof j=="string"&&(!j.includes("s")&&I===void 0&&(W.showSecond=!1),!j.includes("m")&&w===void 0&&(W.showMinute=!1),!j.includes("H")&&!j.includes("h")&&g===void 0&&(W.showHour=!1),(j.includes("a")||j.includes("A"))&&B===void 0&&(W.use12Hours=!0)),y==="time"?W:(typeof j=="function"&&delete W.format,{showTime:W})}function u_(c){var d=l_(c),y=d.DatePicker,g=d.WeekPicker,w=d.MonthPicker,I=d.YearPicker,B=d.TimePicker,j=d.QuarterPicker,W=uS(c),Z=y;return Z.WeekPicker=g,Z.MonthPicker=w,Z.YearPicker=I,Z.RangePicker=W,Z.TimePicker=B,Z.QuarterPicker=j,Z}var c_=u_,h_=c_(Hx),yv=h_,H2=function(d){return d==null},$0=H2,f_=function c(d,y){return $0(d)||kl.a.isMoment(d)?d:Array.isArray(d)?d.map(function(g){return c(g,y)}):kl()(d,y)},NA=f_,d_=ae("pAY0");function V2(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}var p_=function(d){var y,g=d.label,w=d.onClear,I=d.value,B=d.size,j=B===void 0?"middle":B,W=d.disabled,Z=d.ellipsis,ee=d.placeholder,te=d.className,oe=d.style,ce=d.formatter,se=d.bordered,Ce=d.allowClear,ye=Ce===void 0?!0:Ce,Se=Object(N.useContext)(zs.b.ConfigContext),_e=Se.getPrefixCls,Ie=_e("pro-core-field-label"),Ge=Object(fr.c)(),je=function(Ze,He){if(He!=null&&He!==""&&(!Array.isArray(He)||He.length)){var qe;ce?qe=ce(He):qe=Array.isArray(He)?He.join(","):String(He);var et=Ze?ve.a.createElement(ve.a.Fragment,null,Ze,": "):"";if(!Z)return ve.a.createElement("span",null,et,qe);var nt=function(){var gt=Array.isArray(He)&&He.length>1,wt=Ge.getMessage("form.lightFilter.itemUnit","\u9879");return qe.length>32&&gt?"...".concat(He.length).concat(wt):""},At=nt();return ve.a.createElement("span",{title:qe},et,qe.substr(0,32),At)}return ee||Ze};return ve.a.createElement("span",{className:st()(Ie,"".concat(Ie,"-").concat(j),(y={},V2(y,"".concat(Ie,"-active"),!!I||I===0),V2(y,"".concat(Ie,"-disabled"),W),V2(y,"".concat(Ie,"-bordered"),se),V2(y,"".concat(Ie,"-allow-clear"),ye),y),te),style:oe},je(g,I),(I||I===0)&&ye&&ve.a.createElement(_n.a,{className:st()("".concat(Ie,"-icon"),"".concat(Ie,"-close")),onClick:function(Ze){w&&!W&&w(),Ze.stopPropagation()}}),ve.a.createElement(Gp.a,{className:st()("".concat(Ie,"-icon"),"".concat(Ie,"-arrow"))}))},eb=p_,n=ae("Z1je");function e(){return e=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var y=arguments[d];for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&(c[g]=y[g])}return c},e.apply(this,arguments)}function r(c,d){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);d&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),y.push.apply(y,g)}return y}function a(c){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?r(Object(y),!0).forEach(function(g){l(c,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):r(Object(y)).forEach(function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(y,g))})}return c}function l(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}function v(c,d){return X(c)||k(c,d)||M(c,d)||b()}function b(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M(c,d){if(!!c){if(typeof c=="string")return R(c,d);var y=Object.prototype.toString.call(c).slice(8,-1);if(y==="Object"&&c.constructor&&(y=c.constructor.name),y==="Map"||y==="Set")return Array.from(c);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return R(c,d)}}function R(c,d){(d==null||d>c.length)&&(d=c.length);for(var y=0,g=new Array(d);y<d;y++)g[y]=c[y];return g}function k(c,d){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(c)))){var y=[],g=!0,w=!1,I=void 0;try{for(var B=c[Symbol.iterator](),j;!(g=(j=B.next()).done)&&(y.push(j.value),!(d&&y.length===d));g=!0);}catch(W){w=!0,I=W}finally{try{!g&&B.return!=null&&B.return()}finally{if(w)throw I}}return y}}function X(c){if(Array.isArray(c))return c}var Y=function(d,y){var g=d.text,w=d.mode,I=d.format,B=d.label,j=d.light,W=d.render,Z=d.renderFormItem,ee=d.plain,te=d.showTime,oe=d.fieldProps,ce=d.picker,se=d.bordered,Ce=Object(fr.c)(),ye=Object(N.useContext)(zs.b.SizeContext),Se=Object(N.useContext)(zs.b.ConfigContext),_e=Se.getPrefixCls,Ie=_e("pro-field-date-picker"),Ge=Object(N.useState)(!1),je=v(Ge,2),ke=je[0],Ze=je[1];if(w==="read"){var He=ve.a.createElement("span",{ref:y},g?kl()(g).format(I||"YYYY-MM-DD"):"-");return W?W(g,a({mode:w},oe),ve.a.createElement("span",null,He)):He}if(w==="edit"||w==="update"){var qe,et=oe.disabled,nt=oe.value,At=oe.onChange,ot=oe.allowClear,gt=oe.placeholder,wt=gt===void 0?Ce.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9"):gt,St=NA(nt);if(j){var bt=St&&St.format(I)||"";qe=ve.a.createElement("div",{className:"".concat(Ie,"-light"),onClick:function(){Ze(!0)}},ve.a.createElement(yv,e({picker:ce,showTime:te,format:I,ref:y},oe,{value:St,onChange:function(Xt){At&&At(Xt),setTimeout(function(){Ze(!1)},0)},onOpenChange:Ze,open:ke})),ve.a.createElement(eb,{label:B,disabled:et,placeholder:wt,size:ye,value:bt,onClear:function(){At&&At(null)},allowClear:ot,bordered:se,expanded:ke}))}else qe=ve.a.createElement(yv,e({picker:ce,showTime:te,format:I,placeholder:wt,bordered:ee===void 0?!0:!ee,ref:y},oe,{value:St}));return Z?Z(g,a({mode:w},oe),qe):qe}return null},ie=ve.a.forwardRef(Y);function le(){return le=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var y=arguments[d];for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&(c[g]=y[g])}return c},le.apply(this,arguments)}function Ae(c,d){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);d&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),y.push.apply(y,g)}return y}function we(c){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?Ae(Object(y),!0).forEach(function(g){Qe(c,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):Ae(Object(y)).forEach(function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(y,g))})}return c}function Qe(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}var yt=function(d){var y=d.text,g=d.mode,w=d.render,I=d.renderFormItem,B=d.format,j=d.fieldProps,W=Object(fr.c)();if(g==="read"){var Z=ve.a.createElement(bu.a,{title:kl()(y).format(B||"YYYY-MM-DD HH:mm:ss")},kl()(y).fromNow());return w?w(y,we({mode:g},j),ve.a.createElement(ve.a.Fragment,null,Z)):ve.a.createElement(ve.a.Fragment,null,Z)}if(g==="edit"||g==="update"){var ee=W.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9"),te=NA(j.value),oe=ve.a.createElement(yv,le({placeholder:ee},j,{value:te}));return I?I(y,we({mode:g},j),oe):oe}return null},dt=yt;function vt(){return vt=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var y=arguments[d];for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&(c[g]=y[g])}return c},vt.apply(this,arguments)}function Lt(c,d){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);d&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),y.push.apply(y,g)}return y}function kt(c){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?Lt(Object(y),!0).forEach(function(g){Ut(c,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):Lt(Object(y)).forEach(function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(y,g))})}return c}function Ut(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}function at(c,d){return Wt(c)||nn(c,d)||Zt(c,d)||jr()}function jr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zt(c,d){if(!!c){if(typeof c=="string")return $r(c,d);var y=Object.prototype.toString.call(c).slice(8,-1);if(y==="Object"&&c.constructor&&(y=c.constructor.name),y==="Map"||y==="Set")return Array.from(c);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return $r(c,d)}}function $r(c,d){(d==null||d>c.length)&&(d=c.length);for(var y=0,g=new Array(d);y<d;y++)g[y]=c[y];return g}function nn(c,d){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(c)))){var y=[],g=!0,w=!1,I=void 0;try{for(var B=c[Symbol.iterator](),j;!(g=(j=B.next()).done)&&(y.push(j.value),!(d&&y.length===d));g=!0);}catch(W){w=!0,I=W}finally{try{!g&&B.return!=null&&B.return()}finally{if(w)throw I}}return y}}function Wt(c){if(Array.isArray(c))return c}var si=function(d,y){var g=d.text,w=d.mode,I=d.format,B=d.render,j=d.renderFormItem,W=d.plain,Z=d.showTime,ee=d.fieldProps,te=Object(fr.c)(),oe=Array.isArray(g)?g:[],ce=at(oe,2),se=ce[0],Ce=ce[1],ye=se?kl()(se).format(I||"YYYY-MM-DD"):"",Se=Ce?kl()(Ce).format(I||"YYYY-MM-DD"):"";if(w==="read"){var _e=ve.a.createElement("div",{ref:y},ve.a.createElement("div",null,ye||"-"),ve.a.createElement("div",null,Se||"-"));return B?B(g,kt({mode:w},ee),ve.a.createElement("span",null,_e)):_e}if(w==="edit"||w==="update"){var Ie=NA(ee.value),Ge=ve.a.createElement(yv.RangePicker,vt({ref:y,format:I,showTime:Z,placeholder:[te.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9"),te.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9")],bordered:W===void 0?!0:!W},ee,{value:Ie}));return j?j(g,kt({mode:w},ee),Ge):Ge}return null},gr=ve.a.forwardRef(si),bi=ae("5NDa"),ki=ae("mh/l"),Pi=function(d){return N.createElement(br.a,null,function(y){var g,w=y.getPrefixCls,I=y.direction,B=d.prefixCls,j=d.className,W=j===void 0?"":j,Z=w("input-group",B),ee=st()(Z,(g={},Object(de.a)(g,"".concat(Z,"-lg"),d.size==="large"),Object(de.a)(g,"".concat(Z,"-sm"),d.size==="small"),Object(de.a)(g,"".concat(Z,"-compact"),d.compact),Object(de.a)(g,"".concat(Z,"-rtl"),I==="rtl"),g),W);return N.createElement("span",{className:ee,style:d.style,onMouseEnter:d.onMouseEnter,onMouseLeave:d.onMouseLeave,onFocus:d.onFocus,onBlur:d.onBlur},d.children)})},ga=Pi,Oi=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y},Ho=N.forwardRef(function(c,d){var y,g=c.prefixCls,w=c.inputPrefixCls,I=c.className,B=c.size,j=c.suffix,W=c.enterButton,Z=W===void 0?!1:W,ee=c.addonAfter,te=c.loading,oe=c.disabled,ce=c.onSearch,se=c.onChange,Ce=Oi(c,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange"]),ye=N.useContext(br.b),Se=ye.getPrefixCls,_e=ye.direction,Ie=N.useContext(ou.b),Ge=B||Ie,je=N.useRef(null),ke=function(Rt){Rt&&Rt.target&&Rt.type==="click"&&ce&&ce(Rt.target.value,Rt),se&&se(Rt)},Ze=function(Rt){var Xt;document.activeElement===((Xt=je.current)===null||Xt===void 0?void 0:Xt.input)&&Rt.preventDefault()},He=function(Rt){var Xt;ce&&ce((Xt=je.current)===null||Xt===void 0?void 0:Xt.input.value,Rt)},qe=Se("input-search",g),et=Se("input",w),nt=typeof Z=="boolean"||typeof Z=="undefined"?N.createElement(rc,null):null,At="".concat(qe,"-button"),ot,gt=Z||{},wt=gt.type&&gt.type.__ANT_BUTTON===!0;wt||gt.type==="button"?ot=Object(Aa.a)(gt,Object(xe.a)({onMouseDown:Ze,onClick:He,key:"enterButton"},wt?{className:At,size:Ge}:{})):ot=N.createElement(Cu.a,{className:At,type:Z?"primary":void 0,size:Ge,disabled:oe,key:"enterButton",onMouseDown:Ze,onClick:He,loading:te,icon:nt},Z),ee&&(ot=[ot,Object(Aa.a)(ee,{key:"addonAfter"})]);var St=st()(qe,(y={},Object(de.a)(y,"".concat(qe,"-rtl"),_e==="rtl"),Object(de.a)(y,"".concat(qe,"-").concat(Ge),!!Ge),Object(de.a)(y,"".concat(qe,"-with-button"),!!Z),y),I);return N.createElement(ki.a,Object(xe.a)({ref:Object(Qh.a)(je,d),onPressEnter:He},Ce,{size:Ge,prefixCls:et,addonAfter:ot,suffix:j,onChange:ke,className:St,disabled:oe}))});Ho.displayName="Search";var rs=Ho,tn=ae("whJP"),qo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},$e=qo,xt=function(d,y){return N.createElement(Ls.a,Object.assign({},d,{ref:y,icon:$e}))};xt.displayName="EyeOutlined";var Et=N.forwardRef(xt),Kt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},pn=Kt,Nn=function(d,y){return N.createElement(Ls.a,Object.assign({},d,{ref:y,icon:pn}))};Nn.displayName="EyeInvisibleOutlined";var Vt=N.forwardRef(Nn),Qt=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y},bn={click:"onClick",hover:"onMouseOver"},Hr=N.forwardRef(function(c,d){var y=Object(N.useState)(!1),g=Object(ar.a)(y,2),w=g[0],I=g[1],B=function(){var ee=c.disabled;ee||I(!w)},j=function(ee){var te,oe=c.action,ce=c.iconRender,se=ce===void 0?function(){return null}:ce,Ce=bn[oe]||"",ye=se(w),Se=(te={},Object(de.a)(te,Ce,B),Object(de.a)(te,"className","".concat(ee,"-icon")),Object(de.a)(te,"key","passwordIcon"),Object(de.a)(te,"onMouseDown",function(Ie){Ie.preventDefault()}),Object(de.a)(te,"onMouseUp",function(Ie){Ie.preventDefault()}),te);return N.cloneElement(N.isValidElement(ye)?ye:N.createElement("span",null,ye),Se)},W=function(ee){var te=ee.getPrefixCls,oe=c.className,ce=c.prefixCls,se=c.inputPrefixCls,Ce=c.size,ye=c.visibilityToggle,Se=Qt(c,["className","prefixCls","inputPrefixCls","size","visibilityToggle"]),_e=te("input",se),Ie=te("input-password",ce),Ge=ye&&j(Ie),je=st()(Ie,oe,Object(de.a)({},"".concat(Ie,"-").concat(Ce),!!Ce)),ke=Object(xe.a)(Object(xe.a)({},Object(Ar.a)(Se,["suffix","iconRender"])),{type:w?"text":"password",className:je,prefixCls:_e,suffix:Ge});return Ce&&(ke.size=Ce),N.createElement(ki.a,Object(xe.a)({ref:d},ke))};return N.createElement(br.a,null,W)});Hr.defaultProps={action:"click",visibilityToggle:!0,iconRender:function(d){return d?N.createElement(Et,null):N.createElement(Vt,null)}},Hr.displayName="Password";var sn=Hr;ki.a.Group=ga,ki.a.Search=rs,ki.a.TextArea=tn.a,ki.a.Password=sn;var mr=ki.a;function Si(){return Si=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var y=arguments[d];for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&(c[g]=y[g])}return c},Si.apply(this,arguments)}function mo(c,d){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);d&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),y.push.apply(y,g)}return y}function xr(c){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?mo(Object(y),!0).forEach(function(g){Hi(c,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):mo(Object(y)).forEach(function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(y,g))})}return c}function Hi(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}var mi=function(d,y){if(typeof d!="string")return d;try{if(y==="json")return JSON.stringify(JSON.parse(d),null,2)}catch(g){}return d},fi=function(d,y){var g=d.text,w=d.mode,I=d.render,B=d.language,j=B===void 0?"text":B,W=d.renderFormItem,Z=d.plain,ee=d.fieldProps,te=mi(g,j);if(w==="read"){var oe=ve.a.createElement("pre",Si({ref:y},ee,{style:xr({padding:16,overflow:"auto",fontSize:"85%",lineHeight:1.45,backgroundColor:"#f6f8fa",borderRadius:3,width:"min-content"},ee.style)}),ve.a.createElement("code",null,te));return I?I(te,xr(xr({mode:w},ee),{},{ref:y}),oe):oe}if(w==="edit"||w==="update"){var ce=ve.a.createElement(mr.TextArea,Si({rows:5},ee,{ref:y}));return Z&&(ce=ve.a.createElement(mr,Si({},ee,{ref:y}))),W?W(te,xr(xr({mode:w},ee),{},{ref:y}),ce):ce}return null},Ua=ve.a.forwardRef(fi),us=ae("pL63"),Nf=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y},ey=yv.TimePicker,FA=yv.RangePicker,ty=N.forwardRef(function(c,d){return N.createElement(FA,Object(xe.a)({},c,{picker:"time",mode:void 0,ref:d}))}),Vm=N.forwardRef(function(c,d){var y=c.addon,g=c.renderExtraFooter,w=c.popupClassName,I=Nf(c,["addon","renderExtraFooter","popupClassName"]),B=N.useMemo(function(){if(g)return g;if(y)return Object(so.a)(!1,"TimePicker","`addon` is deprecated. Please use `renderExtraFooter` instead."),y},[y,g]);return N.createElement(ey,Object(xe.a)({},I,{dropdownClassName:w,mode:void 0,ref:d,renderExtraFooter:B}))});Vm.displayName="TimePicker",Vm.RangePicker=ty;var nC=Vm;function Gm(){return Gm=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var y=arguments[d];for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&(c[g]=y[g])}return c},Gm.apply(this,arguments)}function xv(c,d){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);d&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),y.push.apply(y,g)}return y}function Ff(c){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?xv(Object(y),!0).forEach(function(g){G2(c,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):xv(Object(y)).forEach(function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(y,g))})}return c}function G2(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}function BA(c,d){return jh(c)||Cv(c,d)||mc(c,d)||Id()}function Id(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mc(c,d){if(!!c){if(typeof c=="string")return gc(c,d);var y=Object.prototype.toString.call(c).slice(8,-1);if(y==="Object"&&c.constructor&&(y=c.constructor.name),y==="Map"||y==="Set")return Array.from(c);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return gc(c,d)}}function gc(c,d){(d==null||d>c.length)&&(d=c.length);for(var y=0,g=new Array(d);y<d;y++)g[y]=c[y];return g}function Cv(c,d){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(c)))){var y=[],g=!0,w=!1,I=void 0;try{for(var B=c[Symbol.iterator](),j;!(g=(j=B.next()).done)&&(y.push(j.value),!(d&&y.length===d));g=!0);}catch(W){w=!0,I=W}finally{try{!g&&B.return!=null&&B.return()}finally{if(w)throw I}}return y}}function jh(c){if(Array.isArray(c))return c}var Gu=function(d,y){var g=d.text,w=d.mode,I=d.light,B=d.label,j=d.format,W=d.render,Z=d.renderFormItem,ee=d.plain,te=d.fieldProps,oe=Object(N.useState)(!1),ce=BA(oe,2),se=ce[0],Ce=ce[1],ye=Object(N.useContext)(zs.b.SizeContext),Se=Object(N.useContext)(zs.b.ConfigContext),_e=Se.getPrefixCls,Ie=_e("pro-field-date-picker");if(w==="read"){var Ge=ve.a.createElement("span",{ref:y},g?kl()(g).format(j||"HH:mm:ss"):"-");return W?W(g,Ff({mode:w},te),ve.a.createElement("span",null,Ge)):Ge}if(w==="edit"||w==="update"){var je,ke=te.disabled,Ze=te.onChange,He=te.placeholder,qe=te.allowClear,et=te.value,nt=NA(et);if(I){var At=nt&&nt.format(j||"HH:mm:ss")||"";je=ve.a.createElement("div",{className:"".concat(Ie,"-light"),onClick:function(){Ce(!0)}},ve.a.createElement(nC,Gm({value:nt,format:j,ref:y},te,{onChange:function(gt){Ze&&Ze(gt),setTimeout(function(){Ce(!1)},0)},onOpenChange:Ce,open:se})),ve.a.createElement(eb,{label:B,disabled:ke,placeholder:He,size:ye,value:At,allowClear:qe,onClear:function(){Ze&&Ze(null)},expanded:se}))}else je=ve.a.createElement(yv.TimePicker,Gm({ref:y,format:j,bordered:ee===void 0?!0:!ee},te,{value:nt}));return Z?Z(g,Ff({mode:w},te),je):je}return null},T1=function(d){var y=d.text,g=d.mode,w=d.format,I=d.render,B=d.renderFormItem,j=d.plain,W=d.fieldProps,Z=Array.isArray(y)?y:[],ee=BA(Z,2),te=ee[0],oe=ee[1],ce=te?kl()(te).format(w||"YYYY-MM-DD"):"",se=oe?kl()(oe).format(w||"YYYY-MM-DD"):"";if(g==="read"){var Ce=ve.a.createElement("div",null,ve.a.createElement("div",null,ce||"-"),ve.a.createElement("div",null,se||"-"));return I?I(y,Ff({mode:g},W),ve.a.createElement("span",null,Ce)):Ce}if(g==="edit"||g==="update"){var ye=W.value,Se=NA(ye),_e=ve.a.createElement(nC.RangePicker,Gm({format:w,bordered:j===void 0?!0:!j},W,{value:Se}));return B?B(y,Ff({mode:g},W),_e):_e}return null},rt=ve.a.forwardRef(Gu);function _r(c,d){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);d&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),y.push.apply(y,g)}return y}function jt(c){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?_r(Object(y),!0).forEach(function(g){Nr(c,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):_r(Object(y)).forEach(function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(y,g))})}return c}function Nr(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}function Mn(){return Mn=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var y=arguments[d];for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&(c[g]=y[g])}return c},Mn.apply(this,arguments)}function Ro(c,d){if(c==null)return{};var y=qn(c,d),g,w;if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(c);for(w=0;w<I.length;w++)g=I[w],!(d.indexOf(g)>=0)&&(!Object.prototype.propertyIsEnumerable.call(c,g)||(y[g]=c[g]))}return y}function qn(c,d){if(c==null)return{};var y={},g=Object.keys(c),w,I;for(I=0;I<g.length;I++)w=g[I],!(d.indexOf(w)>=0)&&(y[w]=c[w]);return y}function Yi(c,d){return cs(c)||Pd(c,d)||va(c,d)||Io()}function Io(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function va(c,d){if(!!c){if(typeof c=="string")return Qo(c,d);var y=Object.prototype.toString.call(c).slice(8,-1);if(y==="Object"&&c.constructor&&(y=c.constructor.name),y==="Map"||y==="Set")return Array.from(c);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return Qo(c,d)}}function Qo(c,d){(d==null||d>c.length)&&(d=c.length);for(var y=0,g=new Array(d);y<d;y++)g[y]=c[y];return g}function Pd(c,d){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(c)))){var y=[],g=!0,w=!1,I=void 0;try{for(var B=c[Symbol.iterator](),j;!(g=(j=B.next()).done)&&(y.push(j.value),!(d&&y.length===d));g=!0);}catch(W){w=!0,I=W}finally{try{!g&&B.return!=null&&B.return()}finally{if(w)throw I}}return y}}function cs(c){if(Array.isArray(c))return c}var ul=ve.a.forwardRef(function(c,d){var y=Object(N.useRef)(!0),g=Object(N.useState)(c.value),w=Yi(g,2),I=w[0],B=w[1];Object(N.useEffect)(function(){B(c.value)},[c.value]);var j=c.composition,W=Ro(c,["composition"]);return ve.a.createElement(mr,Mn({ref:d},W,j?{value:I,onCompositionStart:function(){y.current=!1},onCompositionEnd:function(ee){if(y.current===void 0){var te;c==null||(te=c.onChange)===null||te===void 0||te.call(c,ee)}y.current=!0},onChange:function(ee){if(B(ee.target.value),y.current){var te;c==null||(te=c.onChange)===null||te===void 0||te.call(c,ee)}else y.current=void 0}}:{}))}),Ip=function(d,y){var g=d.text,w=d.mode,I=d.render,B=d.renderFormItem,j=d.fieldProps,W=Object(fr.c)(),Z=Object(N.useRef)();if(Object(N.useImperativeHandle)(y,function(){return jt({},Z.current||{})},[Z.current]),w==="read"){var ee=g||"-";return I?I(g,jt({mode:w},j),ve.a.createElement(ve.a.Fragment,null,ee)):ve.a.createElement(ve.a.Fragment,null,ee)}if(w==="edit"||w==="update"){var te=W.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),oe=ve.a.createElement(ul,Mn({placeholder:te,ref:Z,allowClear:!0},j));return B?B(g,jt({mode:w},j),oe):oe}return null},W2=ve.a.forwardRef(Ip);function Qc(){return Qc=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var y=arguments[d];for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&(c[g]=y[g])}return c},Qc.apply(this,arguments)}function I1(c,d){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);d&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),y.push.apply(y,g)}return y}function Wm(c){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?I1(Object(y),!0).forEach(function(g){ry(c,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):I1(Object(y)).forEach(function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(y,g))})}return c}function ry(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}var tb=function(d,y){var g=d.text,w=d.mode,I=d.render,B=d.renderFormItem,j=d.fieldProps,W=Object(fr.c)();if(w==="read"){var Z=ve.a.createElement("span",{ref:y},g||"-");return I?I(g,Wm({mode:w},j),Z):Z}if(w==="edit"||w==="update"){var ee=ve.a.createElement(mr.TextArea,Qc({rows:3,onKeyPress:function(oe){oe.key==="Enter"&&oe.stopPropagation()},placeholder:W.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),ref:y},j));return B?B(g,Wm({mode:w},j),ee):ee}return null},Av=ve.a.forwardRef(tb);function rb(){return rb=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var y=arguments[d];for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&(c[g]=y[g])}return c},rb.apply(this,arguments)}function cS(c,d){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);d&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),y.push.apply(y,g)}return y}function hS(c){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?cS(Object(y),!0).forEach(function(g){m_(c,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):cS(Object(y)).forEach(function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(y,g))})}return c}function m_(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}function g_(c,d){return C_(c)||x_(c,d)||y_(c,d)||v_()}function v_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y_(c,d){if(!!c){if(typeof c=="string")return fS(c,d);var y=Object.prototype.toString.call(c).slice(8,-1);if(y==="Object"&&c.constructor&&(y=c.constructor.name),y==="Map"||y==="Set")return Array.from(c);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return fS(c,d)}}function fS(c,d){(d==null||d>c.length)&&(d=c.length);for(var y=0,g=new Array(d);y<d;y++)g[y]=c[y];return g}function x_(c,d){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(c)))){var y=[],g=!0,w=!1,I=void 0;try{for(var B=c[Symbol.iterator](),j;!(g=(j=B.next()).done)&&(y.push(j.value),!(d&&y.length===d));g=!0);}catch(W){w=!0,I=W}finally{try{!g&&B.return!=null&&B.return()}finally{if(w)throw I}}return y}}function C_(c){if(Array.isArray(c))return c}function dS(c,d){if(c==null)return{};var y=pS(c,d),g,w;if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(c);for(w=0;w<I.length;w++)g=I[w],!(d.indexOf(g)>=0)&&(!Object.prototype.propertyIsEnumerable.call(c,g)||(y[g]=c[g]))}return y}function pS(c,d){if(c==null)return{};var y={},g=Object.keys(c),w,I;for(I=0;I<g.length;I++)w=g[I],!(d.indexOf(w)>=0)&&(y[w]=c[w]);return y}var ny=function(d,y){var g=d.text,w=d.mode,I=d.render,B=d.renderFormItem,j=d.fieldProps,W=dS(d,["text","mode","render","renderFormItem","fieldProps"]),Z=Object(fr.c)(),ee=Object(Ya.a)(function(){return W.visible||!1},{value:W.visible,onChange:W.onVisible}),te=g_(ee,2),oe=te[0],ce=te[1];if(w==="read"){var se=ve.a.createElement(ve.a.Fragment,null,"-");return g&&(se=ve.a.createElement(Ra.b,null,ve.a.createElement("span",{ref:y},oe?g:"\uFF0A \uFF0A \uFF0A \uFF0A \uFF0A"),ve.a.createElement("a",{onClick:function(){return ce(!oe)}},oe?ve.a.createElement(Et,null):ve.a.createElement(Vt,null)))),I?I(g,hS({mode:w},j),se):se}if(w==="edit"||w==="update"){var Ce=ve.a.createElement(mr.Password,rb({placeholder:Z.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),ref:y},j));return B?B(g,hS({mode:w},j),Ce):Ce}return null},mS=ve.a.forwardRef(ny);function nb(c,d){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);d&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),y.push.apply(y,g)}return y}function ib(c){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?nb(Object(y),!0).forEach(function(g){zA(c,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):nb(Object(y)).forEach(function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(y,g))})}return c}function zA(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}var gS=function(d){return d.map(function(y,g){return ve.a.isValidElement(y)?ve.a.cloneElement(y,ib({key:g},y==null?void 0:y.props)):ve.a.createElement(ve.a.Fragment,{key:g},y)})},A_=function(d){var y=d.text,g=d.mode,w=d.render,I=d.fieldProps,B=Object(N.useContext)(zs.b.ConfigContext),j=B.getPrefixCls,W=j("pro-field-option");if(w){var Z=w(y,ib({mode:g},I),ve.a.createElement(ve.a.Fragment,null));return!Z||(Z==null?void 0:Z.length)<1||!Array.isArray(Z)?null:ve.a.createElement(Ra.b,{size:16,className:W},gS(Z))}return!y||!Array.isArray(y)?ve.a.isValidElement(y)?y:null:ve.a.createElement(Ra.b,{size:16,className:W},gS(y))},w_=A_;function jA(c){return xS(c)||ob(c)||yS(c)||vS()}function vS(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yS(c,d){if(!!c){if(typeof c=="string")return UA(c,d);var y=Object.prototype.toString.call(c).slice(8,-1);if(y==="Object"&&c.constructor&&(y=c.constructor.name),y==="Map"||y==="Set")return Array.from(c);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return UA(c,d)}}function ob(c){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(c))return Array.from(c)}function xS(c){if(Array.isArray(c))return UA(c)}function UA(c,d){(d==null||d>c.length)&&(d=c.length);for(var y=0,g=new Array(d);y<d;y++)g[y]=c[y];return g}function ab(c,d,y,g,w,I,B){try{var j=c[I](B),W=j.value}catch(Z){y(Z);return}j.done?d(W):Promise.resolve(W).then(g,w)}function CS(c){return function(){var d=this,y=arguments;return new Promise(function(g,w){var I=c.apply(d,y);function B(W){ab(I,g,w,B,j,"next",W)}function j(W){ab(I,g,w,B,j,"throw",W)}B(void 0)})}}var b_=function(d,y){var g=Object(N.useRef)(!1);Object(N.useEffect)(function(){if(!g.current)g.current=!0;else return d();return function(){}},y)};function S_(c,d,y){var g=Array.isArray(d)?d:[],w=typeof d=="number"?d:y||0,I=Object(N.useRef)(),B=Object(N.useRef)(c);B.current=c;var j=Object(N.useCallback)(function(){I.current&&clearTimeout(I.current)},[]),W=Object(N.useCallback)(CS(Hs.a.mark(function Z(){var ee,te,oe,ce=arguments;return Hs.a.wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:for(ee=ce.length,te=new Array(ee),oe=0;oe<ee;oe++)te[oe]=ce[oe];return Ce.abrupt("return",new Promise(function(ye){j(),I.current=setTimeout(CS(Hs.a.mark(function Se(){return Hs.a.wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return Ie.next=2,B.current.apply(B,te);case 2:ye();case 3:case"end":return Ie.stop()}},Se)})),w)}));case 2:case"end":return Ce.stop()}},Z)})),[w,j]);return b_(function(){return W(),j},[].concat(jA(g),[W])),Object(N.useEffect)(function(){return j},[]),{run:W,cancel:j}}var __=S_,M_=ae("g5r2"),AS=Object.prototype.hasOwnProperty;function sb(c,d){var y,g;if(c===d)return!0;if(c&&d&&(y=c.constructor)===d.constructor){if(y===Date)return c.getTime()===d.getTime();if(y===RegExp)return c.toString()===d.toString();if(y===Array){if((g=c.length)===d.length)for(;g--&&sb(c[g],d[g]););return g===-1}if(!y||typeof c=="object"){g=0;for(y in c)if(AS.call(c,y)&&++g&&!AS.call(d,y)||!(y in d)||!sb(c[y],d[y]))return!1;return Object.keys(d).length===g}}return c!==c&&d!==d}var lb=new WeakMap,wS=0;function bS(c){if(!c.length)return"";for(var d="arg",y=0;y<c.length;++y){if(c[y]===null){d+="@null";continue}var g=void 0;typeof c[y]!="object"&&typeof c[y]!="function"?typeof c[y]=="string"?g='"'+c[y]+'"':g=String(c[y]):lb.has(c[y])?g=lb.get(c[y]):(g=wS,lb.set(c[y],wS++)),d+="@"+g}return d}var E_=function(){function c(d){d===void 0&&(d={}),this.__cache=new Map(Object.entries(d)),this.__listeners=[]}return c.prototype.get=function(d){var y=this.serializeKey(d)[0];return this.__cache.get(y)},c.prototype.set=function(d,y){var g=this.serializeKey(d)[0];this.__cache.set(g,y),this.notify()},c.prototype.keys=function(){return Array.from(this.__cache.keys())},c.prototype.has=function(d){var y=this.serializeKey(d)[0];return this.__cache.has(y)},c.prototype.clear=function(){this.__cache.clear(),this.notify()},c.prototype.delete=function(d){var y=this.serializeKey(d)[0];this.__cache.delete(y),this.notify()},c.prototype.serializeKey=function(d){var y=null;if(typeof d=="function")try{d=d()}catch(I){d=""}Array.isArray(d)?(y=d,d=bS(d)):d=String(d||"");var g=d?"err@"+d:"",w=d?"validating@"+d:"";return[d,y,g,w]},c.prototype.subscribe=function(d){var y=this;if(typeof d!="function")throw new Error("Expected the listener to be a function.");var g=!0;return this.__listeners.push(d),function(){if(!!g){g=!1;var w=y.__listeners.indexOf(d);w>-1&&(y.__listeners[w]=y.__listeners[y.__listeners.length-1],y.__listeners.length--)}}},c.prototype.notify=function(){for(var d=0,y=this.__listeners;d<y.length;d++){var g=y[d];g()}},c}(),T_=E_;function I_(){return typeof navigator.onLine!="undefined"?navigator.onLine:!0}function P_(){return typeof document!="undefined"&&typeof document.visibilityState!="undefined"?document.visibilityState!=="hidden":!0}var O_=function(d){return fetch(d).then(function(y){return y.json()})},Y2={isOnline:I_,isDocumentVisible:P_,fetcher:O_},Pa=new T_;function iy(c,d,y,g,w){if(!!y.isDocumentVisible()&&!(typeof y.errorRetryCount=="number"&&w.retryCount>y.errorRetryCount)){var I=Math.min(w.retryCount||0,8),B=~~((Math.random()+.5)*(1<<I))*y.errorRetryInterval;setTimeout(g,B,w)}}var wv=typeof window!="undefined"&&navigator.connection&&["slow-2g","2g"].indexOf(navigator.connection.effectiveType)!==-1,SS={onLoadingSlow:function(){},onSuccess:function(){},onError:function(){},onErrorRetry:iy,errorRetryInterval:(wv?10:5)*1e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:(wv?5:3)*1e3,refreshInterval:0,revalidateOnFocus:!0,revalidateOnReconnect:!0,refreshWhenHidden:!1,refreshWhenOffline:!1,shouldRetryOnError:!0,suspense:!1,compare:sb,fetcher:Y2.fetcher,isOnline:Y2.isOnline,isDocumentVisible:Y2.isDocumentVisible},X2=SS,_S=Object(N.createContext)({});_S.displayName="SWRConfigContext";var Z2=_S,iC=function(c,d,y,g){function w(I){return I instanceof y?I:new y(function(B){B(I)})}return new(y||(y=Promise))(function(I,B){function j(ee){try{Z(g.next(ee))}catch(te){B(te)}}function W(ee){try{Z(g.throw(ee))}catch(te){B(te)}}function Z(ee){ee.done?I(ee.value):w(ee.value).then(j,W)}Z((g=g.apply(c,d||[])).next())})},oy=function(c,d){var y={label:0,sent:function(){if(I[0]&1)throw I[1];return I[1]},trys:[],ops:[]},g,w,I,B;return B={next:j(0),throw:j(1),return:j(2)},typeof Symbol=="function"&&(B[Symbol.iterator]=function(){return this}),B;function j(Z){return function(ee){return W([Z,ee])}}function W(Z){if(g)throw new TypeError("Generator is already executing.");for(;y;)try{if(g=1,w&&(I=Z[0]&2?w.return:Z[0]?w.throw||((I=w.return)&&I.call(w),0):w.next)&&!(I=I.call(w,Z[1])).done)return I;switch(w=0,I&&(Z=[Z[0]&2,I.value]),Z[0]){case 0:case 1:I=Z;break;case 4:return y.label++,{value:Z[1],done:!1};case 5:y.label++,w=Z[1],Z=[0];continue;case 7:Z=y.ops.pop(),y.trys.pop();continue;default:if(I=y.trys,!(I=I.length>0&&I[I.length-1])&&(Z[0]===6||Z[0]===2)){y=0;continue}if(Z[0]===3&&(!I||Z[1]>I[0]&&Z[1]<I[3])){y.label=Z[1];break}if(Z[0]===6&&y.label<I[1]){y.label=I[1],I=Z;break}if(I&&y.label<I[2]){y.label=I[2],y.ops.push(Z);break}I[2]&&y.ops.pop(),y.trys.pop();continue}Z=d.call(c,y)}catch(ee){Z=[6,ee],w=0}finally{g=I=0}if(Z[0]&5)throw Z[1];return{value:Z[0]?Z[1]:void 0,done:!0}}},oC=typeof window=="undefined"||!!(typeof Deno!="undefined"&&Deno&&Deno.version&&Deno.version.deno),MS=oC?null:window.requestAnimationFrame||function(c){return setTimeout(c,1)},ub=oC?N.useEffect:N.useLayoutEffect,Uh={},Ym={},P1={},Pp={},bv={},Od={},ay={},aC=function(){var c=0;return function(){return++c}}();if(!oC&&window.addEventListener){var O1=function(d){if(!(!X2.isDocumentVisible()||!X2.isOnline()))for(var y in d)d[y][0]&&d[y][0]()};window.addEventListener("visibilitychange",function(){return O1(P1)},!1),window.addEventListener("focus",function(){return O1(P1)},!1),window.addEventListener("online",function(){return O1(Pp)},!1)}var K2=function(d,y){y===void 0&&(y=!0);var g=Pa.serializeKey(d),w=g[0],I=g[2],B=g[3];if(!w)return Promise.resolve();var j=bv[w];if(w&&j){for(var W=Pa.get(w),Z=Pa.get(I),ee=Pa.get(B),te=[],oe=0;oe<j.length;++oe)te.push(j[oe](y,W,Z,ee,oe>0));return Promise.all(te).then(function(){return Pa.get(w)})}return Promise.resolve(Pa.get(w))},sC=function(d,y,g,w){var I=bv[d];if(d&&I)for(var B=0;B<I.length;++B)I[B](!1,y,g,w)},cb=function(d,y,g){return g===void 0&&(g=!0),iC(void 0,void 0,void 0,function(){var w,I,B,j,W,Z,ee,te,oe,ce,se,Ce,ye;return oy(this,function(Se){switch(Se.label){case 0:if(w=Pa.serializeKey(d),I=w[0],B=w[2],!I)return[2];if(typeof y=="undefined")return[2,K2(d,g)];if(Od[I]=aC()-1,ay[I]=0,j=Od[I],W=Ym[I],te=!1,y&&typeof y=="function")try{y=y(Pa.get(I))}catch(_e){ee=_e}if(!(y&&typeof y.then=="function"))return[3,5];te=!0,Se.label=1;case 1:return Se.trys.push([1,3,,4]),[4,y];case 2:return Z=Se.sent(),[3,4];case 3:return oe=Se.sent(),ee=oe,[3,4];case 4:return[3,6];case 5:Z=y,Se.label=6;case 6:return ce=function(){if(j!==Od[I]||W!==Ym[I]){if(ee)throw ee;return!0}},ce()?[2,Z]:(typeof Z!="undefined"&&Pa.set(I,Z),Pa.set(B,ee),ay[I]=aC()-1,te?[3,8]:[4,0]);case 7:if(Se.sent(),ce())return[2,Z];Se.label=8;case 8:if(se=bv[I],se){for(Ce=[],ye=0;ye<se.length;++ye)Ce.push(se[ye](!!g,Z,ee,void 0,ye>0));return[2,Promise.all(Ce).then(function(){if(ee)throw ee;return Pa.get(I)})]}if(ee)throw ee;return[2,Z]}})})};function J2(){for(var c=this,d=[],y=0;y<arguments.length;y++)d[y]=arguments[y];var g,w,I={};d.length>=1&&(g=d[0]),d.length>2?(w=d[1],I=d[2]):typeof d[1]=="function"?w=d[1]:typeof d[1]=="object"&&(I=d[1]);var B=Pa.serializeKey(g),j=B[0],W=B[1],Z=B[2],ee=B[3];I=Object.assign({},X2,Object(N.useContext)(Z2),I);var te=Object(N.useRef)(I);ub(function(){te.current=I}),typeof w=="undefined"&&(w=I.fetcher);var oe=function(){var St=Pa.get(j);return typeof St=="undefined"?I.initialData:St},ce=oe(),se=Pa.get(Z),Ce=!!Pa.get(ee),ye=Object(N.useRef)({data:!1,error:!1,isValidating:!1}),Se=Object(N.useRef)({data:ce,error:se,isValidating:Ce});Object(N.useDebugValue)(Se.current.data);var _e=Object(N.useState)(null)[1],Ie=Object(N.useCallback)(function(wt){var St=!1;for(var bt in wt)Se.current[bt]!==wt[bt]&&(Se.current[bt]=wt[bt],ye.current[bt]&&(St=!0));if(St||I.suspense){if(Ge.current||!ke.current)return;_e({})}},[]),Ge=Object(N.useRef)(!1),je=Object(N.useRef)(j),ke=Object(N.useRef)(!1),Ze=Object(N.useRef)({emit:function(St){for(var bt,Rt=[],Xt=1;Xt<arguments.length;Xt++)Rt[Xt-1]=arguments[Xt];Ge.current||!ke.current||(bt=te.current)[St].apply(bt,Rt)}}),He=Object(N.useCallback)(function(wt,St){return cb(je.current,wt,St)},[]),qe=function(St,bt){!bt||(St[j]?St[j].push(bt):St[j]=[bt])},et=function(St,bt){if(St[j]){var Rt=St[j],Xt=Rt.indexOf(bt);Xt>=0&&(Rt[Xt]=Rt[Rt.length-1],Rt.pop())}},nt=Object(N.useCallback)(function(wt){return wt===void 0&&(wt={}),iC(c,void 0,void 0,function(){var St,bt,Rt,Xt,Gt,tr,Jt,sr;return oy(this,function(nr){switch(nr.label){case 0:if(!j||!w)return[2,!1];if(Ge.current)return[2,!1];wt=Object.assign({dedupe:!1},wt),St=!0,bt=typeof Uh[j]!="undefined"&&wt.dedupe,nr.label=1;case 1:return nr.trys.push([1,6,,7]),Ie({isValidating:!0}),Pa.set(ee,!0),bt||sC(j,Se.current.data,Se.current.error,!0),Rt=void 0,Xt=void 0,bt?(Xt=Ym[j],[4,Uh[j]]):[3,3];case 2:return Rt=nr.sent(),[3,5];case 3:return I.loadingTimeout&&!Pa.get(j)&&setTimeout(function(){St&&Ze.current.emit("onLoadingSlow",j,I)},I.loadingTimeout),W!==null?Uh[j]=w.apply(void 0,W):Uh[j]=w(j),Ym[j]=Xt=aC(),[4,Uh[j]];case 4:Rt=nr.sent(),setTimeout(function(){delete Uh[j],delete Ym[j]},I.dedupingInterval),Ze.current.emit("onSuccess",Rt,j,I),nr.label=5;case 5:return Gt=Ym[j]>Xt||Od[j]&&(Xt<=Od[j]||Xt<=ay[j]||ay[j]===0),Gt?(Ie({isValidating:!1}),[2,!1]):(Pa.set(j,Rt),Pa.set(Z,void 0),Pa.set(ee,!1),tr={isValidating:!1},typeof Se.current.error!="undefined"&&(tr.error=void 0),I.compare(Se.current.data,Rt)||(tr.data=Rt),Ie(tr),bt||sC(j,Rt,tr.error,!1),[3,7]);case 6:return Jt=nr.sent(),delete Uh[j],delete Ym[j],Pa.set(Z,Jt),Se.current.error!==Jt&&(Ie({isValidating:!1,error:Jt}),bt||sC(j,void 0,Jt,!1)),Ze.current.emit("onError",Jt,j,I),I.shouldRetryOnError&&(sr=(wt.retryCount||0)+1,Ze.current.emit("onErrorRetry",Jt,j,I,nt,Object.assign({dedupe:!0},wt,{retryCount:sr}))),[3,7];case 7:return St=!1,[2,!0]}})})},[j]);ub(function(){if(!!j){Ge.current=!1,ke.current=!0;var wt=Se.current.data,St=oe();je.current!==j&&(je.current=j),I.compare(wt,St)||Ie({data:St});var bt=function(){return nt({dedupe:!0})};(I.revalidateOnMount||!I.initialData&&I.revalidateOnMount===void 0)&&(typeof St!="undefined"?MS(bt):bt());var Rt=!1,Xt=function(){Rt||!te.current.revalidateOnFocus||(Rt=!0,bt(),setTimeout(function(){return Rt=!1},te.current.focusThrottleInterval))},Gt=function(){te.current.revalidateOnReconnect&&bt()},tr=function(sr,nr,Or,dr,Mr){sr===void 0&&(sr=!0),Mr===void 0&&(Mr=!0);var on={},Fr=!1;return typeof nr!="undefined"&&!I.compare(Se.current.data,nr)&&(on.data=nr,Fr=!0),Se.current.error!==Or&&(on.error=Or,Fr=!0),typeof dr!="undefined"&&Se.current.isValidating!==dr&&(on.isValidating=dr,Fr=!0),Fr&&Ie(on),sr?Mr?bt():nt():!1};return qe(P1,Xt),qe(Pp,Gt),qe(bv,tr),function(){Ie=function(){return null},Ge.current=!0,et(P1,Xt),et(Pp,Gt),et(bv,tr)}}},[j,nt]),ub(function(){var wt=null,St=function bt(){return iC(c,void 0,void 0,function(){return oy(this,function(Rt){switch(Rt.label){case 0:return!Se.current.error&&(te.current.refreshWhenHidden||te.current.isDocumentVisible())&&(te.current.refreshWhenOffline||te.current.isOnline())?[4,nt({dedupe:!0})]:[3,2];case 1:Rt.sent(),Rt.label=2;case 2:return te.current.refreshInterval&&(wt=setTimeout(bt,te.current.refreshInterval)),[2]}})})};return te.current.refreshInterval&&(wt=setTimeout(St,te.current.refreshInterval)),function(){wt&&clearTimeout(wt)}},[I.refreshInterval,I.refreshWhenHidden,I.refreshWhenOffline,nt]);var At=Object(N.useMemo)(function(){var wt={revalidate:nt,mutate:He};return Object.defineProperties(wt,{error:{get:function(){return ye.current.error=!0,je.current===j?Se.current.error:se},enumerable:!0},data:{get:function(){return ye.current.data=!0,je.current===j?Se.current.data:ce},enumerable:!0},isValidating:{get:function(){return ye.current.isValidating=!0,j?Se.current.isValidating:!1},enumerable:!0}}),wt},[nt]);if(I.suspense){var ot=Pa.get(j),gt=Pa.get(Z);if(typeof ot=="undefined"&&(ot=ce),typeof gt=="undefined"&&(gt=se),typeof ot=="undefined"&&typeof gt=="undefined"){if(Uh[j]||nt(),Uh[j]&&typeof Uh[j].then=="function")throw Uh[j];ot=Uh[j]}if(typeof ot=="undefined"&&gt)throw gt;return{error:gt,data:ot,revalidate:nt,mutate:He,isValidating:Se.current.isValidating}}return At}var Js=Z2.Provider,kh=J2,vs=function(){return vs=Object.assign||function(c){for(var d,y=1,g=arguments.length;y<g;y++){d=arguments[y];for(var w in d)Object.prototype.hasOwnProperty.call(d,w)&&(c[w]=d[w])}return c},vs.apply(this,arguments)},q2=function(c,d,y,g){function w(I){return I instanceof y?I:new y(function(B){B(I)})}return new(y||(y=Promise))(function(I,B){function j(ee){try{Z(g.next(ee))}catch(te){B(te)}}function W(ee){try{Z(g.throw(ee))}catch(te){B(te)}}function Z(ee){ee.done?I(ee.value):w(ee.value).then(j,W)}Z((g=g.apply(c,d||[])).next())})},Op=function(c,d){var y={label:0,sent:function(){if(I[0]&1)throw I[1];return I[1]},trys:[],ops:[]},g,w,I,B;return B={next:j(0),throw:j(1),return:j(2)},typeof Symbol=="function"&&(B[Symbol.iterator]=function(){return this}),B;function j(Z){return function(ee){return W([Z,ee])}}function W(Z){if(g)throw new TypeError("Generator is already executing.");for(;y;)try{if(g=1,w&&(I=Z[0]&2?w.return:Z[0]?w.throw||((I=w.return)&&I.call(w),0):w.next)&&!(I=I.call(w,Z[1])).done)return I;switch(w=0,I&&(Z=[Z[0]&2,I.value]),Z[0]){case 0:case 1:I=Z;break;case 4:return y.label++,{value:Z[1],done:!1};case 5:y.label++,w=Z[1],Z=[0];continue;case 7:Z=y.ops.pop(),y.trys.pop();continue;default:if(I=y.trys,!(I=I.length>0&&I[I.length-1])&&(Z[0]===6||Z[0]===2)){y=0;continue}if(Z[0]===3&&(!I||Z[1]>I[0]&&Z[1]<I[3])){y.label=Z[1];break}if(Z[0]===6&&y.label<I[1]){y.label=I[1],I=Z;break}if(I&&y.label<I[2]){y.label=I[2],y.ops.push(Z);break}I[2]&&y.ops.pop(),y.trys.pop();continue}Z=d.call(c,y)}catch(ee){Z=[6,ee],w=0}finally{g=I=0}if(Z[0]&5)throw Z[1];return{value:Z[0]?Z[1]:void 0,done:!0}}},lC=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y};function ES(){for(var c=this,d=[],y=0;y<arguments.length;y++)d[y]=arguments[y];var g,w,I={};d.length>=1&&(g=d[0]),d.length>2?(w=d[1],I=d[2]):typeof d[1]=="function"?w=d[1]:typeof d[1]=="object"&&(I=d[1]),I=Object.assign({},X2,Object(N.useContext)(Z2),I);var B=I.initialSize,j=B===void 0?1:B,W=I.revalidateAll,Z=W===void 0?!1:W,ee=I.persistSize,te=ee===void 0?!1:ee,oe=I.fetcher,ce=lC(I,["initialSize","revalidateAll","persistSize","fetcher"]);typeof w=="undefined"&&(w=oe);var se=null;try{se=Pa.serializeKey(g(0,null))[0]}catch(et){}var Ce=Object(N.useState)(!1)[1],ye=null;se&&(ye="context@"+se);var Se=null,_e;se&&(Se="size@"+se,_e=Pa.get(Se));var Ie=Object(N.useRef)(_e||j),Ge=Object(N.useRef)(!1);Object(N.useEffect)(function(){Ge.current?te||(Ie.current=j):Ge.current=!0},[se]);var je=kh(se?["many",se]:null,function(){return q2(c,void 0,void 0,function(){var et,nt,At,ot,gt,wt,St,bt,Rt,Xt,Gt;return Op(this,function(tr){switch(tr.label){case 0:et=Pa.get(ye)||{},nt=et.originalData,At=et.force,ot=[],gt=null,wt=0,tr.label=1;case 1:return wt<Ie.current?(St=Pa.serializeKey(g(wt,gt)),bt=St[0],Rt=St[1],bt?(Xt=Pa.get(bt),Gt=Z||At||typeof At=="undefined"&&wt===0||nt&&!I.compare(nt[wt],Xt)||typeof Xt=="undefined",Gt?Rt===null?[3,3]:[4,w.apply(void 0,Rt)]:[3,6]):[3,8]):[3,8];case 2:return Xt=tr.sent(),[3,5];case 3:return[4,w(bt)];case 4:Xt=tr.sent(),tr.label=5;case 5:Pa.set(bt,Xt),tr.label=6;case 6:ot.push(Xt),gt=Xt,tr.label=7;case 7:return++wt,[3,1];case 8:return Pa.delete(ye),[2,ot]}})})},ce),ke=Object(N.useRef)(je.data);Object(N.useEffect)(function(){ke.current=je.data},[je.data]);var Ze=Object(N.useCallback)(function(et,nt){if(nt===void 0&&(nt=!0),nt&&typeof et!="undefined"){var At=ke.current;Pa.set(ye,{originalData:At,force:!1})}else nt&&Pa.set(ye,{force:!0});return je.mutate(et,nt)},[je.mutate,ye]),He=Ie.current,qe=Object(N.useCallback)(function(et){return typeof et=="function"?Ie.current=et(Ie.current):typeof et=="number"&&(Ie.current=et),Pa.set(Se,Ie.current),Ce(function(nt){return!nt}),Ze(function(nt){return nt})},[Ze,Se]);return vs(vs({},je),{mutate:Ze,size:He,setSize:qe})}var hb=kh,kA=ae("jkmW");function R1(){return R1=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var y=arguments[d];for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&(c[g]=y[g])}return c},R1.apply(this,arguments)}function HA(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}function L1(c,d){return GA(c)||Hh(c,d)||uC(c,d)||VA()}function VA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uC(c,d){if(!!c){if(typeof c=="string")return cC(c,d);var y=Object.prototype.toString.call(c).slice(8,-1);if(y==="Object"&&c.constructor&&(y=c.constructor.name),y==="Map"||y==="Set")return Array.from(c);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return cC(c,d)}}function cC(c,d){(d==null||d>c.length)&&(d=c.length);for(var y=0,g=new Array(d);y<d;y++)g[y]=c[y];return g}function Hh(c,d){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(c)))){var y=[],g=!0,w=!1,I=void 0;try{for(var B=c[Symbol.iterator](),j;!(g=(j=B.next()).done)&&(y.push(j.value),!(d&&y.length===d));g=!0);}catch(W){w=!0,I=W}finally{try{!g&&B.return!=null&&B.return()}finally{if(w)throw I}}return y}}function GA(c){if(Array.isArray(c))return c}function hC(c,d){if(c==null)return{};var y=WA(c,d),g,w;if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(c);for(w=0;w<I.length;w++)g=I[w],!(d.indexOf(g)>=0)&&(!Object.prototype.propertyIsEnumerable.call(c,g)||(y[g]=c[g]))}return y}function WA(c,d){if(c==null)return{};var y={},g=Object.keys(c),w,I;for(I=0;I<g.length;I++)w=g[I],!(d.indexOf(w)>=0)&&(y[w]=c[w]);return y}function Xm(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xm=function(y){return typeof y}:Xm=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},Xm(c)}var fC=function(d,y){return Xm(y)!=="object"?d[y]||y:d[y==null?void 0:y.value]||y.label},dC=function(d,y){var g=d.label,w=d.prefixCls,I=d.onChange,B=d.value,j=d.mode,W=d.children,Z=d.defaultValue,ee=d.size,te=d.showSearch,oe=d.disabled,ce=d.style,se=d.className,Ce=d.bordered,ye=d.options,Se=d.onSearch,_e=d.allowClear,Ie=d.labelInValue,Ge=hC(d,["label","prefixCls","onChange","value","mode","children","defaultValue","size","showSearch","disabled","style","className","bordered","options","onSearch","allowClear","labelInValue"]),je=d.placeholder,ke=je===void 0?g:je,Ze=Object(N.useContext)(zs.b.ConfigContext),He=Ze.getPrefixCls,qe=He("pro-field-select-light-select"),et=Object(N.useState)(!1),nt=L1(et,2),At=nt[0],ot=nt[1],gt=Object(N.useState)(""),wt=L1(gt,2),St=wt[0],bt=wt[1],Rt=Object(N.useMemo)(function(){var Gt={};return ye==null||ye.forEach(function(tr){var Jt=tr.label,sr=tr.value;Gt[sr]=Jt||sr}),Gt},[ye]),Xt=Array.isArray(B)?B.map(function(Gt){return fC(Rt,Gt)}):fC(Rt,B);return ve.a.createElement("div",{className:st()(qe,HA({},"".concat(qe,"-searchable"),te),se),style:ce,onClick:function(){oe||ot(!0)}},ve.a.createElement(ta,R1({},Ge,{allowClear:_e,value:B,mode:j,labelInValue:Ie,size:ee,disabled:oe,onChange:function(tr,Jt){I&&I(tr,Jt),j!=="multiple"&&setTimeout(function(){ot(!1)},0)},bordered:Ce,showSearch:te,onSearch:Se,style:ce,dropdownRender:function(tr){return ve.a.createElement("div",{ref:y},te&&ve.a.createElement("div",{style:{margin:"4px 8px"}},ve.a.createElement(mr,{value:St,allowClear:_e,onChange:function(sr){bt(sr.target.value.toLowerCase()),Se==null||Se(sr.target.value)},onKeyDown:function(sr){sr.stopPropagation()},style:{width:"100%"},prefix:ve.a.createElement(rc,null)})),tr)},open:At,onDropdownVisibleChange:ot,prefixCls:w,options:St?ye==null?void 0:ye.filter(function(Gt){return String(Gt.label).toLowerCase().includes(St)||Gt.value.toLowerCase().includes(St)}):ye})),ve.a.createElement(eb,{ellipsis:!0,size:ee,label:g,placeholder:ke,disabled:oe,expanded:At,bordered:Ce,allowClear:_e,value:Xt||(B==null?void 0:B.label)||B,onClear:function(){I==null||I(void 0,void 0)}}))},YA=ve.a.forwardRef(dC);function sy(){return sy=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var y=arguments[d];for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&(c[g]=y[g])}return c},sy.apply(this,arguments)}function pC(c,d){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);d&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),y.push.apply(y,g)}return y}function Zm(c){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?pC(Object(y),!0).forEach(function(g){mC(c,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):pC(Object(y)).forEach(function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(y,g))})}return c}function mC(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}function gC(c,d){if(c==null)return{};var y=XA(c,d),g,w;if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(c);for(w=0;w<I.length;w++)g=I[w],!(d.indexOf(g)>=0)&&(!Object.prototype.propertyIsEnumerable.call(c,g)||(y[g]=c[g]))}return y}function XA(c,d){if(c==null)return{};var y={},g=Object.keys(c),w,I;for(I=0;I<g.length;I++)w=g[I],!(d.indexOf(w)>=0)&&(y[w]=c[w]);return y}var vC=ta.Option,TS=function(d,y){var g=d.optionItemRender,w=d.mode,I=d.onSearch,B=d.onFocus,j=d.onChange,W=d.searchOnFocus,Z=W===void 0?!1:W,ee=d.resetAfterSelect,te=ee===void 0?!1:ee,oe=d.className,ce=d.disabled,se=d.options,Ce=d.fetchData,ye=d.resetData,Se=d.dropdownMatchSelectWidth,_e=Se===void 0?!1:Se,Ie=d.prefixCls,Ge=gC(d,["optionItemRender","mode","onSearch","onFocus","onChange","searchOnFocus","resetAfterSelect","className","disabled","options","fetchData","resetData","dropdownMatchSelectWidth","prefixCls"]),je=Object(N.useContext)(zs.b.ConfigContext),ke=je.getPrefixCls,Ze=ke("pro-filed-search-select",Ie),He=st()(Ze,oe,mC({},"".concat(Ze,"-disabled"),ce)),qe=function(nt,At){if(w==="multiple"&&Array.isArray(nt)&&nt.length>0)return nt.map(function(gt,wt){var St=At==null?void 0:At[wt],bt=(St==null?void 0:St["data-item"])||{};return Zm(Zm({},bt),gt)});var ot=At&&At["data-item"]||{};return Zm(Zm({},ot),nt)};return ve.a.createElement(ta,sy({ref:y,className:He,showArrow:!1,autoClearSearchValue:!0,filterOption:!1,allowClear:!0,dropdownMatchSelectWidth:_e,disabled:ce,mode:w},Ge,{optionLabelProp:"label",onSearch:(Ge==null?void 0:Ge.showSearch)?function(et){Ce(et),I==null||I(et)}:void 0,onChange:function(nt,At){if(!d.labelInValue){j==null||j(nt);return}var ot=qe(nt,At);j==null||j(ot),te&&ye()},onFocus:function(nt){Z&&Ce(""),B==null||B(nt)}}),(se||[]).map(function(et){var nt=et.label,At=et.value;return ve.a.createElement(vC,{value:At,key:At,"data-item":et,className:"".concat(Ze,"-option"),label:et.label},(g==null?void 0:g(et))||nt)}))},ly=ve.a.forwardRef(TS),Q2=ae("PQMj");function IS(c){var d=c.prefixCls,y=c.value,g=c.current,w=c.offset,I=w===void 0?0:w,B;return I&&(B={position:"absolute",top:"".concat(I,"00%"),left:0}),N.createElement("p",{style:B,className:st()("".concat(d,"-only-unit"),{current:g})},y)}function R_(c,d,y){for(var g=c,w=0;(g+10)%10!==d;)g+=y,w+=y;return w}function L_(c){var d=c.prefixCls,y=c.count,g=c.value,w=Number(g),I=Math.abs(y),B=N.useState(w),j=Object(ar.a)(B,2),W=j[0],Z=j[1],ee=N.useState(I),te=Object(ar.a)(ee,2),oe=te[0],ce=te[1],se=function(){Z(w),ce(I)};N.useEffect(function(){var ke=setTimeout(function(){se()},1e3);return function(){clearTimeout(ke)}},[w]);var Ce,ye;if(W===w||Number.isNaN(w)||Number.isNaN(W))Ce=[N.createElement(IS,Object(xe.a)({},c,{key:w,current:!0}))],ye={transition:"none"};else{Ce=[];for(var Se=w+10,_e=[],Ie=w;Ie<=Se;Ie+=1)_e.push(Ie);var Ge=_e.findIndex(function(ke){return ke%10===W});Ce=_e.map(function(ke,Ze){var He=ke%10;return N.createElement(IS,Object(xe.a)({},c,{key:ke,value:He,offset:Ze-Ge,current:Ze===Ge}))});var je=oe<I?1:-1;ye={transform:"translateY(".concat(-R_(W,w,je),"00%)")}}return N.createElement("span",{className:"".concat(d,"-only"),style:ye,onTransitionEnd:se},Ce)}var fb=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y},D_=function(d){var y=d.prefixCls,g=d.count,w=d.className,I=d.motionClassName,B=d.style,j=d.title,W=d.show,Z=d.component,ee=Z===void 0?"sup":Z,te=d.children,oe=fb(d,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),ce=N.useContext(br.b),se=ce.getPrefixCls,Ce=se("scroll-number",y),ye=Object(xe.a)(Object(xe.a)({},oe),{"data-show":W,style:B,className:st()(Ce,w,I),title:j}),Se=g;if(g&&Number(g)%1==0){var _e=String(g).split("");Se=_e.map(function(Ie,Ge){return N.createElement(L_,{prefixCls:Ce,count:Number(g),value:Ie,key:_e.length-Ge})})}return B&&B.borderColor&&(ye.style=Object(xe.a)(Object(xe.a)({},B),{boxShadow:"0 0 0 1px ".concat(B.borderColor," inset")})),te?Object(Aa.a)(te,function(Ie){return{className:st()("".concat(Ce,"-custom-component"),Ie==null?void 0:Ie.className,I)}}):N.createElement(ee,ye,Se)},yC=D_,qs=ae("09Wf");function uy(c){return qs.a.indexOf(c)!==-1}var PS=function(d){var y,g=d.className,w=d.prefixCls,I=d.style,B=d.color,j=d.children,W=d.text,Z=d.placement,ee=Z===void 0?"end":Z,te=N.useContext(br.b),oe=te.getPrefixCls,ce=te.direction,se=oe("ribbon",w),Ce=uy(B),ye=st()(se,"".concat(se,"-placement-").concat(ee),(y={},Object(de.a)(y,"".concat(se,"-rtl"),ce==="rtl"),Object(de.a)(y,"".concat(se,"-color-").concat(B),Ce),y),g),Se={},_e={};return B&&!Ce&&(Se.background=B,_e.color=B),N.createElement("div",{className:"".concat(se,"-wrapper")},j,N.createElement("div",{className:ye,style:Object(xe.a)(Object(xe.a)({},Se),I)},N.createElement("span",{className:"".concat(se,"-text")},W),N.createElement("div",{className:"".concat(se,"-corner"),style:_e})))},$2=PS,ew=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y},xC=function(d){var y,g,w=d.prefixCls,I=d.scrollNumberPrefixCls,B=d.children,j=d.status,W=d.text,Z=d.color,ee=d.count,te=ee===void 0?null:ee,oe=d.overflowCount,ce=oe===void 0?99:oe,se=d.dot,Ce=se===void 0?!1:se,ye=d.size,Se=ye===void 0?"default":ye,_e=d.title,Ie=d.offset,Ge=d.style,je=d.className,ke=d.showZero,Ze=ke===void 0?!1:ke,He=ew(d,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","showZero"]),qe=N.useContext(br.b),et=qe.getPrefixCls,nt=qe.direction,At=et("badge",w),ot=te>ce?"".concat(ce,"+"):te,gt=j!=null||Z!=null,wt=ot==="0"||ot===0,St=Ce&&!wt||gt,bt=St?"":ot,Rt=Object(N.useMemo)(function(){var hn=bt==null||bt==="";return(hn||wt&&!Ze)&&!St},[bt,wt,Ze,St]),Xt=Object(N.useRef)(te);Rt||(Xt.current=te);var Gt=Xt.current,tr=Object(N.useRef)(bt);Rt||(tr.current=bt);var Jt=tr.current,sr=Object(N.useRef)(St);Rt||(sr.current=St);var nr=Object(N.useMemo)(function(){if(!Ie)return Object(xe.a)({},Ge);var hn={marginTop:Ie[1]};return nt==="rtl"?hn.left=parseInt(Ie[0],10):hn.right=-parseInt(Ie[0],10),Object(xe.a)(Object(xe.a)({},hn),Ge)},[nt,Ie,Ge]),Or=_e!=null?_e:typeof Gt=="string"||typeof Gt=="number"?Gt:void 0,dr=Rt||!W?null:N.createElement("span",{className:"".concat(At,"-status-text")},W),Mr=!Gt||Object(ft.a)(Gt)!=="object"?void 0:Object(Aa.a)(Gt,function(hn){return{style:Object(xe.a)(Object(xe.a)({},nr),hn.style)}}),on=st()((y={},Object(de.a)(y,"".concat(At,"-status-dot"),gt),Object(de.a)(y,"".concat(At,"-status-").concat(j),!!j),Object(de.a)(y,"".concat(At,"-status-").concat(Z),uy(Z)),y)),Fr={};Z&&!uy(Z)&&(Fr.background=Z);var wn=st()(At,(g={},Object(de.a)(g,"".concat(At,"-status"),gt),Object(de.a)(g,"".concat(At,"-not-a-wrapper"),!B),Object(de.a)(g,"".concat(At,"-rtl"),nt==="rtl"),g),je);if(!B&&gt){var Ir=nr.color;return N.createElement("span",Object(xe.a)({},He,{className:wn,style:nr}),N.createElement("span",{className:on,style:Fr}),N.createElement("span",{style:{color:Ir},className:"".concat(At,"-status-text")},W))}return N.createElement("span",Object(xe.a)({},He,{className:wn}),B,N.createElement(Zf.b,{visible:!Rt,motionName:"".concat(At,"-zoom"),motionAppear:!1},function(hn){var Fn,xn=hn.className,rn=et("scroll-number",I),Dr=sr.current,En=st()((Fn={},Object(de.a)(Fn,"".concat(At,"-dot"),Dr),Object(de.a)(Fn,"".concat(At,"-count"),!Dr),Object(de.a)(Fn,"".concat(At,"-count-sm"),Se==="small"),Object(de.a)(Fn,"".concat(At,"-multiple-words"),!Dr&&Jt&&(Jt==null?void 0:Jt.toString().length)>1),Object(de.a)(Fn,"".concat(At,"-status-").concat(j),!!j),Object(de.a)(Fn,"".concat(At,"-status-").concat(Z),uy(Z)),Fn)),Jr=Object(xe.a)({},nr);return Z&&!uy(Z)&&(Jr=Jr||{},Jr.background=Z),N.createElement(yC,{prefixCls:rn,show:!Rt,motionClassName:xn,className:En,count:Jt,title:Or,style:Jr,key:"scrollNumber"},Mr)}),dr)};xC.Ribbon=$2;var Rd=xC,N_=ae("B+1O"),ZA={Success:function(d){var y=d.children;return ve.a.createElement(Rd,{status:"success",text:y})},Error:function(d){var y=d.children;return ve.a.createElement(Rd,{status:"error",text:y})},Default:function(d){var y=d.children;return ve.a.createElement(Rd,{status:"default",text:y})},Processing:function(d){var y=d.children;return ve.a.createElement(Rd,{status:"processing",text:y})},Warning:function(d){var y=d.children;return ve.a.createElement(Rd,{status:"warning",text:y})},success:function(d){var y=d.children;return ve.a.createElement(Rd,{status:"success",text:y})},error:function(d){var y=d.children;return ve.a.createElement(Rd,{status:"error",text:y})},default:function(d){var y=d.children;return ve.a.createElement(Rd,{status:"default",text:y})},processing:function(d){var y=d.children;return ve.a.createElement(Rd,{status:"processing",text:y})},warning:function(d){var y=d.children;return ve.a.createElement(Rd,{status:"warning",text:y})}},db=function(d){var y=d.color,g=d.children;return ve.a.createElement(Rd,{color:y,text:g})},OS=ZA;function KA(){return KA=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var y=arguments[d];for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&(c[g]=y[g])}return c},KA.apply(this,arguments)}function cy(c,d,y,g,w,I,B){try{var j=c[I](B),W=j.value}catch(Z){y(Z);return}j.done?d(W):Promise.resolve(W).then(g,w)}function Ld(c){return function(){var d=this,y=arguments;return new Promise(function(g,w){var I=c.apply(d,y);function B(W){cy(I,g,w,B,j,"next",W)}function j(W){cy(I,g,w,B,j,"throw",W)}B(void 0)})}}function pb(c,d){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);d&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),y.push.apply(y,g)}return y}function Vh(c){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?pb(Object(y),!0).forEach(function(g){D1(c,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):pb(Object(y)).forEach(function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(y,g))})}return c}function D1(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}function CC(c,d){if(c==null)return{};var y=N1(c,d),g,w;if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(c);for(w=0;w<I.length;w++)g=I[w],!(d.indexOf(g)>=0)&&(!Object.prototype.propertyIsEnumerable.call(c,g)||(y[g]=c[g]))}return y}function N1(c,d){if(c==null)return{};var y={},g=Object.keys(c),w,I;for(I=0;I<g.length;I++)w=g[I],!(d.indexOf(w)>=0)&&(y[w]=c[w]);return y}function Sv(c,d){return wC(c)||JA(c,d)||B1(c,d)||AC()}function AC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JA(c,d){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(c)))){var y=[],g=!0,w=!1,I=void 0;try{for(var B=c[Symbol.iterator](),j;!(g=(j=B.next()).done)&&(y.push(j.value),!(d&&y.length===d));g=!0);}catch(W){w=!0,I=W}finally{try{!g&&B.return!=null&&B.return()}finally{if(w)throw I}}return y}}function wC(c){if(Array.isArray(c))return c}function Rp(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rp=function(y){return typeof y}:Rp=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},Rp(c)}function F1(c){return _v(c)||z1(c)||B1(c)||RS()}function RS(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B1(c,d){if(!!c){if(typeof c=="string")return j1(c,d);var y=Object.prototype.toString.call(c).slice(8,-1);if(y==="Object"&&c.constructor&&(y=c.constructor.name),y==="Map"||y==="Set")return Array.from(c);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return j1(c,d)}}function z1(c){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(c))return Array.from(c)}function _v(c){if(Array.isArray(c))return j1(c)}function j1(c,d){(d==null||d>c.length)&&(d=c.length);for(var y=0,g=new Array(d);y<d;y++)g[y]=c[y];return g}var U1=0,Km=function(d){return Mv(d)==="map"?d:new Map(Object.entries(d||{}))},hy=function c(d,y){if(Array.isArray(d))return ve.a.createElement(Ra.b,null,d.map(function(W){return ve.a.createElement(ve.a.Fragment,{key:(W==null?void 0:W.value)||W},c(W,y))}));var g=Km(y);if(!g.has(d)&&!g.has("".concat(d)))return(d==null?void 0:d.label)||d;var w=g.get(d)||g.get("".concat(d));if(!w)return(d==null?void 0:d.label)||d;var I=w.status,B=w.color,j=OS[I||"Init"];return j?ve.a.createElement(j,null,w.text):B?ve.a.createElement(db,{color:B},w.text):w.text||w},k1=function(d){var y=d.label,g=d.words,w=new RegExp(g.join("|"),"g"),I=y.replace(w,"#@$&#"),B=I.split("#").map(function(j){return j[0]==="@"?ve.a.createElement("span",{style:{color:"#1890ff"}},j.slice(1)):j});return ve.a.createElement.apply(ve.a,["div",null].concat(F1(B)))};function Mv(c){var d=Object.prototype.toString.call(c).match(/^\[object (.*)\]$/)[1].toLowerCase();return d==="string"&&Rp(c)==="object"?"object":c===null?"null":c===void 0?"undefined":d}var Jm=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Map,y=[],g=Km(d);return g.forEach(function(w,I){var B=g.get(I)||g.get("".concat(I));if(!!B){if(Rp(B)==="object"&&(B==null?void 0:B.text)){y.push({text:B==null?void 0:B.text,value:I,disabled:B.disabled});return}y.push({text:B,value:I})}}),y},Ev=function(d){var y,g=Object(N.useState)(void 0),w=Sv(g,2),I=w[0],B=w[1],j=Object(N.useState)(function(){return d.proFieldKey?d.proFieldKey:d.request?(U1+=1,U1):"no-fetch"}),W=Sv(j,1),Z=W[0],ee=Object(N.useRef)(Z),te=Object(N.useCallback)(function(qe){return Jm(Km(qe)).map(function(et){var nt=et.value,At=et.text,ot=CC(et,["value","text"]);return Vh({label:At,value:nt,key:nt},ot)})},[]),oe=Object(Ya.a)(function(){return d.valueEnum?te(d.valueEnum):[]},{value:(y=d.fieldProps)===null||y===void 0?void 0:y.options}),ce=Sv(oe,2),se=ce[0],Ce=ce[1];Object(M_.a)(function(){var qe;!d.valueEnum||((qe=d.fieldProps)===null||qe===void 0?void 0:qe.options)||Ce(te(d.valueEnum))},[d.valueEnum]);var ye=Object(N.useState)(!1),Se=Sv(ye,2),_e=Se[0],Ie=Se[1],Ge=function(){var qe=Ld(Hs.a.mark(function et(){var nt;return Hs.a.wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:if(d.request){ot.next=2;break}return ot.abrupt("return",[]);case 2:return Ie(!0),ot.next=5,d.request(Vh(Vh({},d.params),{},{keyWords:I}),d);case 5:return nt=ot.sent,Ie(!1),ot.abrupt("return",nt);case 8:case"end":return ot.stop()}},et)}));return function(){return qe.apply(this,arguments)}}(),je=hb([ee.current,JSON.stringify(d.params)],Ge,{revalidateOnFocus:!1}),ke=je.data,Ze=je.mutate,He=__(Ld(Hs.a.mark(function qe(){return Hs.a.wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:Ze(Ge,!1);case 1:case"end":return nt.stop()}},qe)})),[],200);return[_e,d.request?ke:se==null?void 0:se.filter(function(qe){var et;return!!(!I||(qe==null||(et=qe.label)===null||et===void 0?void 0:et.toString().includes(I))||qe.value.toString().includes(I))}),function(qe){B(qe),He.run()},function(){B(void 0),Ze(Ld(Hs.a.mark(function qe(){return Hs.a.wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return nt.abrupt("return",[]);case 1:case"end":return nt.stop()}},qe)})),!1)}]},fy=function(d,y){var g=d.mode,w=d.valueEnum,I=d.render,B=d.renderFormItem,j=d.request,W=d.fieldProps,Z=d.plain,ee=d.children,te=d.light,oe=d.proFieldKey,ce=CC(d,["mode","valueEnum","render","renderFormItem","request","fieldProps","plain","children","light","proFieldKey"]),se=Object(N.useRef)(),Ce=Object(fr.c)(),ye=Object(N.useRef)("");Object(N.useEffect)(function(){U1+=1},[]);var Se=Ev(d),_e=Sv(Se,4),Ie=_e[0],Ge=_e[1],je=_e[2],ke=_e[3],Ze=Object(N.useContext)(zs.b.SizeContext);if(Object(N.useImperativeHandle)(y,function(){return Vh(Vh({},se.current||{}),{},{fetchData:function(){return je()}})}),g==="read"){var He,qe=(Ge==null?void 0:Ge.length)?Ge==null?void 0:Ge.reduce(function(gt,wt){return Vh(Vh({},gt),{},D1({},wt.value,wt.label))},{}):void 0;if((He=ce.text)===null||He===void 0?void 0:He.label){var et;return(et=ce.text)===null||et===void 0?void 0:et.label}var nt=ve.a.createElement(ve.a.Fragment,null,hy(ce.text,Km(w||qe)));return I?I(ce.text,Vh({mode:g},W),nt)||null:nt}if(g==="edit"||g==="update"){var At=function(){return te?ve.a.createElement(YA,KA({loading:Ie,ref:se,allowClear:!0,size:Ze},ce,{options:Ge},W)):ve.a.createElement(ly,KA({key:"SearchSelect",style:{minWidth:100},loading:Ie,ref:se,allowClear:!0,notFoundContent:Ie?ve.a.createElement(Fl.a,{size:"small"}):W==null?void 0:W.notFoundContent,fetchData:function(St){ye.current=St,je(St)},resetData:ke,optionItemRender:function(St){return typeof St.label=="string"&&ye.current?ve.a.createElement(k1,{label:St.label,words:[ye.current]}):St.label}},ce,{placeholder:Ce.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9")},W,{options:Ge}))},ot=At();return B?B(ce.text,Vh(Vh({mode:g},W),{},{options:Ge}),ot)||null:ot}return null},H1=ve.a.forwardRef(fy),bC=ae("PdkY");function Tv(){return Tv=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var y=arguments[d];for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&(c[g]=y[g])}return c},Tv.apply(this,arguments)}function dy(c,d){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);d&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),y.push.apply(y,g)}return y}function Dd(c){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?dy(Object(y),!0).forEach(function(g){Gh(c,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):dy(Object(y)).forEach(function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(y,g))})}return c}function Gh(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}function tw(c,d){return iw(c)||nw(c,d)||rw(c,d)||qA()}function qA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rw(c,d){if(!!c){if(typeof c=="string")return gu(c,d);var y=Object.prototype.toString.call(c).slice(8,-1);if(y==="Object"&&c.constructor&&(y=c.constructor.name),y==="Map"||y==="Set")return Array.from(c);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return gu(c,d)}}function gu(c,d){(d==null||d>c.length)&&(d=c.length);for(var y=0,g=new Array(d);y<d;y++)g[y]=c[y];return g}function nw(c,d){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(c)))){var y=[],g=!0,w=!1,I=void 0;try{for(var B=c[Symbol.iterator](),j;!(g=(j=B.next()).done)&&(y.push(j.value),!(d&&y.length===d));g=!0);}catch(W){w=!0,I=W}finally{try{!g&&B.return!=null&&B.return()}finally{if(w)throw I}}return y}}function iw(c){if(Array.isArray(c))return c}function SC(c,d){if(c==null)return{};var y=ow(c,d),g,w;if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(c);for(w=0;w<I.length;w++)g=I[w],!(d.indexOf(g)>=0)&&(!Object.prototype.propertyIsEnumerable.call(c,g)||(y[g]=c[g]))}return y}function ow(c,d){if(c==null)return{};var y={},g=Object.keys(c),w,I;for(I=0;I<g.length;I++)w=g[I],!(d.indexOf(w)>=0)&&(y[w]=c[w]);return y}var QA=function(d,y){var g=d.layout,w=g===void 0?"horizontal":g,I=d.renderFormItem,B=d.mode,j=d.render,W=SC(d,["layout","renderFormItem","mode","render"]),Z=Object(N.useContext)(zs.b.ConfigContext),ee=Z.getPrefixCls,te=ee("pro-field-checkbox"),oe=Ev(W),ce=tw(oe,3),se=ce[0],Ce=ce[1],ye=ce[2],Se=Object(N.useRef)();if(Object(N.useImperativeHandle)(y,function(){return Dd(Dd({},Se.current||{}),{},{fetchData:function(){return ye()}})}),se)return ve.a.createElement(Fl.a,{size:"small"});if(B==="read"){var _e=(Ce==null?void 0:Ce.length)?Ce==null?void 0:Ce.reduce(function(ke,Ze){return Dd(Dd({},ke),{},Gh({},Ze.value,Ze.label))},{}):void 0,Ie=hy(W.text,Km(W.valueEnum||_e));return j?j(W.text,Dd({mode:B},W.fieldProps),ve.a.createElement(ve.a.Fragment,null,Ie))||null:ve.a.createElement(Ra.b,null,Ie)}if(B==="edit"){var Ge,je=ve.a.createElement(Kg.Group,Tv({},W.fieldProps,{className:st()((Ge=W.fieldProps)===null||Ge===void 0?void 0:Ge.className,"".concat(te,"-").concat(w)),options:Ce==null?void 0:Ce.map(function(ke){return typeof ke=="string"?{key:ke,label:ke,value:ke}:ke})}));return I?I(W.text,Dd({mode:B},W.fieldProps),je)||null:je}return null},aw=ve.a.forwardRef(QA),$A=ae("xzDV");function Nd(c){var d=c.pageXOffset,y="scrollLeft";if(typeof d!="number"){var g=c.document;d=g.documentElement[y],typeof d!="number"&&(d=g.body[y])}return d}function F_(c){var d,y,g=c.ownerDocument,w=g.body,I=g&&g.documentElement,B=c.getBoundingClientRect();return d=B.left,y=B.top,d-=I.clientLeft||w.clientLeft||0,y-=I.clientTop||w.clientTop||0,{left:d,top:y}}function B_(c){var d=F_(c),y=c.ownerDocument,g=y.defaultView||y.parentWindow;return d.left+=Nd(g),d.left}var mb=function(c){Object(ti.a)(y,c);var d=Object(Xa.a)(y);function y(){var g;return Object(vn.a)(this,y),g=d.apply(this,arguments),g.onHover=function(w){var I=g.props,B=I.onHover,j=I.index;B(w,j)},g.onClick=function(w){var I=g.props,B=I.onClick,j=I.index;B(w,j)},g.onKeyDown=function(w){var I=g.props,B=I.onClick,j=I.index;w.keyCode===13&&B(w,j)},g}return Object(No.a)(y,[{key:"getClassName",value:function(){var w=this.props,I=w.prefixCls,B=w.index,j=w.value,W=w.allowHalf,Z=w.focused,ee=B+1,te=I;return j===0&&B===0&&Z?te+=" ".concat(I,"-focused"):W&&j+.5>=ee&&j<ee?(te+=" ".concat(I,"-half ").concat(I,"-active"),Z&&(te+=" ".concat(I,"-focused"))):(te+=ee<=j?" ".concat(I,"-full"):" ".concat(I,"-zero"),ee===j&&Z&&(te+=" ".concat(I,"-focused"))),te}},{key:"render",value:function(){var w=this.onHover,I=this.onClick,B=this.onKeyDown,j=this.props,W=j.disabled,Z=j.prefixCls,ee=j.character,te=j.characterRender,oe=j.index,ce=j.count,se=j.value,Ce=typeof ee=="function"?ee(this.props):ee,ye=ve.a.createElement("li",{className:this.getClassName()},ve.a.createElement("div",{onClick:W?null:I,onKeyDown:W?null:B,onMouseMove:W?null:w,role:"radio","aria-checked":se>oe?"true":"false","aria-posinset":oe+1,"aria-setsize":ce,tabIndex:W?-1:0},ve.a.createElement("div",{className:"".concat(Z,"-first")},Ce),ve.a.createElement("div",{className:"".concat(Z,"-second")},Ce)));return te&&(ye=te(ye,this.props)),ye}}]),y}(ve.a.Component);function ka(){}var Bf=function(c){Object(ti.a)(y,c);var d=Object(Xa.a)(y);function y(g){var w;Object(vn.a)(this,y),w=d.call(this,g),w.onHover=function(B,j){var W=w.props.onHoverChange,Z=w.getStarValue(j,B.pageX),ee=w.state.cleanedValue;Z!==ee&&w.setState({hoverValue:Z,cleanedValue:null}),W(Z)},w.onMouseLeave=function(){var B=w.props.onHoverChange;w.setState({hoverValue:void 0,cleanedValue:null}),B(void 0)},w.onClick=function(B,j){var W=w.props.allowClear,Z=w.state.value,ee=w.getStarValue(j,B.pageX),te=!1;W&&(te=ee===Z),w.onMouseLeave(),w.changeValue(te?0:ee),w.setState({cleanedValue:te?ee:null})},w.onFocus=function(){var B=w.props.onFocus;w.setState({focused:!0}),B&&B()},w.onBlur=function(){var B=w.props.onBlur;w.setState({focused:!1}),B&&B()},w.onKeyDown=function(B){var j=B.keyCode,W=w.props,Z=W.count,ee=W.allowHalf,te=W.onKeyDown,oe=W.direction,ce=oe==="rtl",se=w.state.value;j===Cn.a.RIGHT&&se<Z&&!ce?(ee?se+=.5:se+=1,w.changeValue(se),B.preventDefault()):j===Cn.a.LEFT&&se>0&&!ce||j===Cn.a.RIGHT&&se>0&&ce?(ee?se-=.5:se-=1,w.changeValue(se),B.preventDefault()):j===Cn.a.LEFT&&se<Z&&ce&&(ee?se+=.5:se+=1,w.changeValue(se),B.preventDefault()),te&&te(B)},w.saveRef=function(B){return function(j){w.stars[B]=j}},w.saveRate=function(B){w.rate=B};var I=g.value;return I===void 0&&(I=g.defaultValue),w.stars={},w.state={value:I,focused:!1,cleanedValue:null},w}return Object(No.a)(y,[{key:"componentDidMount",value:function(){var w=this.props,I=w.autoFocus,B=w.disabled;I&&!B&&this.focus()}},{key:"getStarDOM",value:function(w){return Object(af.a)(this.stars[w])}},{key:"getStarValue",value:function(w,I){var B=this.props,j=B.allowHalf,W=B.direction,Z=W==="rtl",ee=w+1;if(j){var te=this.getStarDOM(w),oe=B_(te),ce=te.clientWidth;(Z&&I-oe>ce/2||!Z&&I-oe<ce/2)&&(ee-=.5)}return ee}},{key:"focus",value:function(){var w=this.props.disabled;w||this.rate.focus()}},{key:"blur",value:function(){var w=this.props.disabled;w||this.rate.blur()}},{key:"changeValue",value:function(w){var I=this.props.onChange;"value"in this.props||this.setState({value:w}),I(w)}},{key:"render",value:function(){for(var w=this.props,I=w.count,B=w.allowHalf,j=w.style,W=w.prefixCls,Z=w.disabled,ee=w.className,te=w.character,oe=w.characterRender,ce=w.tabIndex,se=w.direction,Ce=this.state,ye=Ce.value,Se=Ce.hoverValue,_e=Ce.focused,Ie=[],Ge=Z?"".concat(W,"-disabled"):"",je=0;je<I;je+=1)Ie.push(ve.a.createElement(mb,{ref:this.saveRef(je),index:je,count:I,disabled:Z,prefixCls:"".concat(W,"-star"),allowHalf:B,value:Se===void 0?ye:Se,onClick:this.onClick,onHover:this.onHover,key:je,character:te,characterRender:oe,focused:_e}));var ke=st()(W,Ge,ee,Object(de.a)({},"".concat(W,"-rtl"),se==="rtl"));return ve.a.createElement("ul",{className:ke,style:j,onMouseLeave:Z?null:this.onMouseLeave,tabIndex:Z?-1:ce,onFocus:Z?null:this.onFocus,onBlur:Z?null:this.onBlur,onKeyDown:Z?null:this.onKeyDown,ref:this.saveRate,role:"radiogroup"},Ie)}}],[{key:"getDerivedStateFromProps",value:function(w,I){return"value"in w&&w.value!==void 0?Object(ur.a)(Object(ur.a)({},I),{},{value:w.value}):I}}]),y}(ve.a.Component);Bf.defaultProps={defaultValue:0,count:5,allowHalf:!1,allowClear:!0,style:{},prefixCls:"rc-rate",onChange:ka,character:"\u2605",onHoverChange:ka,tabIndex:0,direction:"ltr"};var gb=Bf,vb=gb,sw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"},_C=sw,e2=function(d,y){return N.createElement(Ls.a,Object.assign({},d,{ref:y,icon:_C}))};e2.displayName="StarFilled";var lw=N.forwardRef(e2),eo=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y},$c=N.forwardRef(function(c,d){var y=c.prefixCls,g=c.tooltips,w=eo(c,["prefixCls","tooltips"]),I=function(te,oe){var ce=oe.index;return g?N.createElement(bu.a,{title:g[ce]},te):te},B=N.useContext(br.b),j=B.getPrefixCls,W=B.direction,Z=j("rate",y);return N.createElement(vb,Object(xe.a)({ref:d,characterRender:I},w,{prefixCls:Z,direction:W}))});$c.displayName="Rate",$c.defaultProps={character:N.createElement(lw,null)};var V1=$c;function uw(c,d){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);d&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),y.push.apply(y,g)}return y}function Wu(c){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?uw(Object(y),!0).forEach(function(g){LS(c,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):uw(Object(y)).forEach(function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(y,g))})}return c}function LS(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}function py(){return py=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var y=arguments[d];for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&(c[g]=y[g])}return c},py.apply(this,arguments)}var t2=function(d,y){var g=d.text,w=d.mode,I=d.render,B=d.renderFormItem,j=d.fieldProps;if(w==="read"){var W=ve.a.createElement(V1,py({allowHalf:!0,disabled:!0,ref:y,value:g},j));return I?I(g,Wu({mode:w},j),ve.a.createElement(ve.a.Fragment,null,W)):W}if(w==="edit"||w==="update"){var Z=ve.a.createElement(V1,py({allowHalf:!0,ref:y},j));return B?B(g,Wu({mode:w},j),Z):Z}return null},Lp=ve.a.forwardRef(t2),Iv=ae("czTT"),eh=N.forwardRef(function(c,d){var y,g=c.prefixCls,w=g===void 0?"rc-switch":g,I=c.className,B=c.checked,j=c.defaultChecked,W=c.disabled,Z=c.loadingIcon,ee=c.checkedChildren,te=c.unCheckedChildren,oe=c.onClick,ce=c.onChange,se=c.onKeyDown,Ce=Object(ua.a)(c,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),ye=Object(Ya.a)(!1,{value:B,defaultValue:j}),Se=Object(ar.a)(ye,2),_e=Se[0],Ie=Se[1];function Ge(He,qe){var et=_e;return W||(et=He,Ie(et),ce==null||ce(et,qe)),et}function je(He){He.which===Cn.a.LEFT?Ge(!1,He):He.which===Cn.a.RIGHT&&Ge(!0,He),se==null||se(He)}function ke(He){var qe=Ge(!_e,He);oe==null||oe(qe,He)}var Ze=st()(w,I,(y={},Object(de.a)(y,"".concat(w,"-checked"),_e),Object(de.a)(y,"".concat(w,"-disabled"),W),y));return N.createElement("button",Object.assign({},Ce,{type:"button",role:"switch","aria-checked":_e,disabled:W,className:Ze,ref:d,onKeyDown:je,onClick:ke}),Z,N.createElement("span",{className:"".concat(w,"-inner")},_e?ee:te))});eh.displayName="Switch";var Dp=eh,Np=ae("g0mS"),qm=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y},zf=N.forwardRef(function(c,d){var y,g=c.prefixCls,w=c.size,I=c.loading,B=c.className,j=B===void 0?"":B,W=c.disabled,Z=qm(c,["prefixCls","size","loading","className","disabled"]);Object(so.a)("checked"in Z||!("value"in Z),"Switch","`value` is not a valid prop, do you mean `checked`?");var ee=N.useContext(br.b),te=ee.getPrefixCls,oe=ee.direction,ce=N.useContext(ou.b),se=te("switch",g),Ce=N.createElement("div",{className:"".concat(se,"-handle")},I&&N.createElement(ef.a,{className:"".concat(se,"-loading-icon")})),ye=st()((y={},Object(de.a)(y,"".concat(se,"-small"),(w||ce)==="small"),Object(de.a)(y,"".concat(se,"-loading"),I),Object(de.a)(y,"".concat(se,"-rtl"),oe==="rtl"),y),j);return N.createElement(Np.a,{insertExtraNode:!0},N.createElement(Dp,Object(xe.a)({},Z,{prefixCls:se,className:ye,disabled:W||I,ref:d,loadingIcon:Ce})))});zf.__ANT_SWITCH=!0,zf.displayName="Switch";var Pv=zf;function jf(){return jf=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var y=arguments[d];for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&(c[g]=y[g])}return c},jf.apply(this,arguments)}function Ov(c,d){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);d&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),y.push.apply(y,g)}return y}function hs(c){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?Ov(Object(y),!0).forEach(function(g){cw(c,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):Ov(Object(y)).forEach(function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(y,g))})}return c}function cw(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}var Qm=function(d,y){var g=d.text,w=d.mode,I=d.render,B=d.renderFormItem,j=d.fieldProps;if(w==="read"){var W=g?j==null?void 0:j.checkedChildren:j==null?void 0:j.unCheckedChildren;return I?I(g,hs({mode:w},j),ve.a.createElement(ve.a.Fragment,null,W)):W||"-"}if(w==="edit"||w==="update"){var Z=ve.a.createElement(Pv,jf({ref:y},Object(p1.a)(j,["value"]),{checked:(j==null?void 0:j.checked)||(j==null?void 0:j.value)}));return B?B(g,hs({mode:w},j),Z):Z}return null},hw=ve.a.forwardRef(Qm);function MC(){return MC=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var y=arguments[d];for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&(c[g]=y[g])}return c},MC.apply(this,arguments)}function fw(c,d){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);d&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),y.push.apply(y,g)}return y}function r2(c){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?fw(Object(y),!0).forEach(function(g){EC(c,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):fw(Object(y)).forEach(function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(y,g))})}return c}function EC(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}function dw(c,d){if(c==null)return{};var y=pw(c,d),g,w;if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(c);for(w=0;w<I.length;w++)g=I[w],!(d.indexOf(g)>=0)&&(!Object.prototype.propertyIsEnumerable.call(c,g)||(y[g]=c[g]))}return y}function pw(c,d){if(c==null)return{};var y={},g=Object.keys(c),w,I;for(I=0;I<g.length;I++)w=g[I],!(d.indexOf(w)>=0)&&(y[w]=c[w]);return y}var mw=function(d,y){var g=d.text,w=d.mode,I=d.render,B=d.renderFormItem,j=d.fieldProps,W=dw(d,["text","mode","render","renderFormItem","fieldProps"]);if(w==="read"){var Z=new Intl.NumberFormat().format(Number(g)),ee=ve.a.createElement("span",{ref:y},Z);return I?I(g,r2({mode:w},j),ee):ee}if(w==="edit"||w==="update"){var te=ve.a.createElement(On,MC({ref:y,min:0,style:{width:"100%"}},W,j));return B?B(g,r2({mode:w},j),te):te}return null},gw=ve.a.forwardRef(mw);function TC(){return TC=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var y=arguments[d];for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&(c[g]=y[g])}return c},TC.apply(this,arguments)}function Uf(c,d){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);d&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),y.push.apply(y,g)}return y}function n2(c){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?Uf(Object(y),!0).forEach(function(g){i2(c,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):Uf(Object(y)).forEach(function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(y,g))})}return c}function i2(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}function vw(c,d){if(c==null)return{};var y=yw(c,d),g,w;if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(c);for(w=0;w<I.length;w++)g=I[w],!(d.indexOf(g)>=0)&&(!Object.prototype.propertyIsEnumerable.call(c,g)||(y[g]=c[g]))}return y}function yw(c,d){if(c==null)return{};var y={},g=Object.keys(c),w,I;for(I=0;I<g.length;I++)w=g[I],!(d.indexOf(w)>=0)&&(y[w]=c[w]);return y}function xw(c){var d="",y=Math.floor(c/3600),g=Math.floor(c/60%60),w=Math.floor(c%60);return d="".concat(w,"\u79D2"),g>0&&(d="".concat(g,"\u5206\u949F").concat(d)),y>0&&(d="".concat(y,"\u5C0F\u65F6").concat(d)),d}var yb=function(d,y){var g=d.text,w=d.mode,I=d.render,B=d.renderFormItem,j=d.fieldProps,W=vw(d,["text","mode","render","renderFormItem","fieldProps"]);if(w==="read"){var Z=xw(Number(g)),ee=ve.a.createElement("span",{ref:y},Z);return I?I(g,n2({mode:w},j),ee):ee}if(w==="edit"||w==="update"){var te=ve.a.createElement(On,TC({ref:y,min:0,style:{width:"100%"}},W,j));return B?B(g,n2({mode:w},j),te):te}return null},xb=ve.a.forwardRef(yb),DS=ae("nSmt");function IC(){return IC=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var y=arguments[d];for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&(c[g]=y[g])}return c},IC.apply(this,arguments)}function o2(c,d){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);d&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),y.push.apply(y,g)}return y}function my(c){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?o2(Object(y),!0).forEach(function(g){Cw(c,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):o2(Object(y)).forEach(function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(y,g))})}return c}function Cw(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}function NS(c,d){return bb(c)||wb(c,d)||Ab(c,d)||Cb()}function Cb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ab(c,d){if(!!c){if(typeof c=="string")return G1(c,d);var y=Object.prototype.toString.call(c).slice(8,-1);if(y==="Object"&&c.constructor&&(y=c.constructor.name),y==="Map"||y==="Set")return Array.from(c);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return G1(c,d)}}function G1(c,d){(d==null||d>c.length)&&(d=c.length);for(var y=0,g=new Array(d);y<d;y++)g[y]=c[y];return g}function wb(c,d){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(c)))){var y=[],g=!0,w=!1,I=void 0;try{for(var B=c[Symbol.iterator](),j;!(g=(j=B.next()).done)&&(y.push(j.value),!(d&&y.length===d));g=!0);}catch(W){w=!0,I=W}finally{try{!g&&B.return!=null&&B.return()}finally{if(w)throw I}}return y}}function bb(c){if(Array.isArray(c))return c}function Sb(c,d){if(c==null)return{};var y=FS(c,d),g,w;if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(c);for(w=0;w<I.length;w++)g=I[w],!(d.indexOf(g)>=0)&&(!Object.prototype.propertyIsEnumerable.call(c,g)||(y[g]=c[g]))}return y}function FS(c,d){if(c==null)return{};var y={},g=Object.keys(c),w,I;for(I=0;I<g.length;I++)w=g[I],!(d.indexOf(w)>=0)&&(y[w]=c[w]);return y}var vc=function(d,y){var g=d.radioType,w=d.renderFormItem,I=d.mode,B=d.render,j=Sb(d,["radioType","renderFormItem","mode","render"]),W=Object(N.useContext)(zs.b.ConfigContext),Z=W.getPrefixCls,ee=Z("pro-field-radio"),te=Ev(j),oe=NS(te,3),ce=oe[0],se=oe[1],Ce=oe[2],ye=Object(N.useRef)();if(Object(N.useImperativeHandle)(y,function(){return my(my({},ye.current||{}),{},{fetchData:function(){return Ce()}})}),ce)return ve.a.createElement(Fl.a,{size:"small"});if(I==="read"){var Se=(se==null?void 0:se.length)?se==null?void 0:se.reduce(function(ke,Ze){return my(my({},ke),{},Cw({},Ze.value,Ze.label))},{}):void 0,_e=ve.a.createElement(ve.a.Fragment,null,hy(j.text,Km(j.valueEnum||Se)));return B?B(j.text,my({mode:I},j.fieldProps),_e)||null:_e}if(I==="edit"){var Ie,Ge=g==="button"?mp.Button:mp,je=ve.a.createElement(mp.Group,IC({ref:ye},j.fieldProps,{className:st()((Ie=j.fieldProps)===null||Ie===void 0?void 0:Ie.className,"".concat(ee,"-").concat(j.fieldProps.layout||"horizontal")),options:void 0}),se==null?void 0:se.map(function(ke){return typeof ke=="string"?{label:ke,value:ke}:ke}).map(function(ke){return ve.a.createElement(Ge,IC({key:ke.value},ke),ke.label)}));return w?w(j.text,my({mode:I},j.fieldProps),je)||null:je}return null},_b=ve.a.forwardRef(vc),z_=ae("QeVK"),Mb=ae("1W/9"),Aw=ae("l4aY");function Eb(c){var d=c.prefixCls,y=c.style,g=c.visible,w=c.maskProps,I=c.motionName;return N.createElement(Zf.b,{key:"mask",visible:g,motionName:I,leavedClassName:"".concat(d,"-mask-hidden")},function(B){var j=B.className,W=B.style;return N.createElement("div",Object(xe.a)({style:Object(ur.a)(Object(ur.a)({},W),y),className:st()("".concat(d,"-mask"),j)},w))})}function ww(c,d,y){var g=d;return!g&&y&&(g="".concat(c,"-").concat(y)),g}var Tb=-1;function Ib(){return Tb+=1,Tb}function Pb(c,d){var y=c["page".concat(d?"Y":"X","Offset")],g="scroll".concat(d?"Top":"Left");if(typeof y!="number"){var w=c.document;y=w.documentElement[g],typeof y!="number"&&(y=w.body[g])}return y}function BS(c){var d=c.getBoundingClientRect(),y={left:d.left,top:d.top},g=c.ownerDocument,w=g.defaultView||g.parentWindow;return y.left+=Pb(w),y.top+=Pb(w,!0),y}var Ob=N.memo(function(c){var d=c.children;return d},function(c,d){var y=d.shouldUpdate;return!y}),bw={width:0,height:0,overflow:"hidden",outline:"none"},PC=N.forwardRef(function(c,d){var y=c.closable,g=c.prefixCls,w=c.width,I=c.height,B=c.footer,j=c.title,W=c.closeIcon,Z=c.style,ee=c.className,te=c.visible,oe=c.forceRender,ce=c.bodyStyle,se=c.bodyProps,Ce=c.children,ye=c.destroyOnClose,Se=c.modalRender,_e=c.motionName,Ie=c.ariaId,Ge=c.onClose,je=c.onVisibleChanged,ke=c.onMouseDown,Ze=c.onMouseUp,He=c.mousePosition,qe=Object(N.useRef)(),et=Object(N.useRef)(),nt=Object(N.useRef)();N.useImperativeHandle(d,function(){return{focus:function(){var sr;(sr=qe.current)===null||sr===void 0||sr.focus()},changeActive:function(sr){var nr=document,Or=nr.activeElement;sr&&Or===et.current?qe.current.focus():!sr&&Or===qe.current&&et.current.focus()}}});var At=N.useState(),ot=Object(ar.a)(At,2),gt=ot[0],wt=ot[1],St={};w!==void 0&&(St.width=w),I!==void 0&&(St.height=I),gt&&(St.transformOrigin=gt);function bt(){var Jt=BS(nt.current);wt(He?"".concat(He.x-Jt.left,"px ").concat(He.y-Jt.top,"px"):"")}var Rt;B&&(Rt=N.createElement("div",{className:"".concat(g,"-footer")},B));var Xt;j&&(Xt=N.createElement("div",{className:"".concat(g,"-header")},N.createElement("div",{className:"".concat(g,"-title"),id:Ie},j)));var Gt;y&&(Gt=N.createElement("button",{type:"button",onClick:Ge,"aria-label":"Close",className:"".concat(g,"-close")},W||N.createElement("span",{className:"".concat(g,"-close-x")})));var tr=N.createElement("div",{className:"".concat(g,"-content")},Gt,Xt,N.createElement("div",Object(xe.a)({className:"".concat(g,"-body"),style:ce},se),Ce),Rt);return N.createElement(Zf.b,{visible:te,onVisibleChanged:je,onAppearPrepare:bt,onEnterPrepare:bt,forceRender:oe,motionName:_e,removeOnLeave:ye,ref:nt},function(Jt,sr){var nr=Jt.className,Or=Jt.style;return N.createElement("div",{key:"dialog-element",role:"document",ref:sr,style:Object(ur.a)(Object(ur.a)(Object(ur.a)({},Or),Z),St),className:st()(g,ee,nr),onMouseDown:ke,onMouseUp:Ze},N.createElement("div",{tabIndex:0,ref:qe,style:bw,"aria-hidden":"true"}),N.createElement(Ob,{shouldUpdate:te||oe},Se?Se(tr):tr),N.createElement("div",{tabIndex:0,ref:et,style:bw,"aria-hidden":"true"}))})});PC.displayName="Content";var OC=PC;function Rb(c){var d=c.prefixCls,y=d===void 0?"rc-dialog":d,g=c.zIndex,w=c.visible,I=w===void 0?!1:w,B=c.keyboard,j=B===void 0?!0:B,W=c.focusTriggerAfterClose,Z=W===void 0?!0:W,ee=c.scrollLocker,te=c.title,oe=c.wrapStyle,ce=c.wrapClassName,se=c.wrapProps,Ce=c.onClose,ye=c.afterClose,Se=c.transitionName,_e=c.animation,Ie=c.closable,Ge=Ie===void 0?!0:Ie,je=c.mask,ke=je===void 0?!0:je,Ze=c.maskTransitionName,He=c.maskAnimation,qe=c.maskClosable,et=qe===void 0?!0:qe,nt=c.maskStyle,At=c.maskProps,ot=Object(N.useRef)(),gt=Object(N.useRef)(),wt=Object(N.useRef)(),St=N.useState(I),bt=Object(ar.a)(St,2),Rt=bt[0],Xt=bt[1],Gt=Object(N.useRef)();Gt.current||(Gt.current="rcDialogTitle".concat(Ib()));function tr(Fr){if(Fr){if(!Object(Aw.a)(gt.current,document.activeElement)){var wn;ot.current=document.activeElement,(wn=wt.current)===null||wn===void 0||wn.focus()}}else{if(Xt(!1),ke&&ot.current&&Z){try{ot.current.focus({preventScroll:!0})}catch(Ir){}ot.current=null}ye==null||ye()}}function Jt(Fr){Ce==null||Ce(Fr)}var sr=Object(N.useRef)(!1),nr=Object(N.useRef)(),Or=function(){clearTimeout(nr.current),sr.current=!0},dr=function(){nr.current=setTimeout(function(){sr.current=!1})},Mr=null;et&&(Mr=function(wn){sr.current?sr.current=!1:gt.current===wn.target&&Jt(wn)});function on(Fr){if(j&&Fr.keyCode===Cn.a.ESC){Fr.stopPropagation(),Jt(Fr);return}I&&Fr.keyCode===Cn.a.TAB&&wt.current.changeActive(!Fr.shiftKey)}return Object(N.useEffect)(function(){return I&&Xt(!0),function(){}},[I]),Object(N.useEffect)(function(){return function(){clearTimeout(nr.current)}},[]),Object(N.useEffect)(function(){return Rt?(ee==null||ee.lock(),ee==null?void 0:ee.unLock):function(){}},[Rt]),N.createElement("div",{className:"".concat(y,"-root")},N.createElement(Eb,{prefixCls:y,visible:ke&&I,motionName:ww(y,Ze,He),style:Object(ur.a)({zIndex:g},nt),maskProps:At}),N.createElement("div",Object(xe.a)({tabIndex:-1,onKeyDown:on,className:st()("".concat(y,"-wrap"),ce),ref:gt,onClick:Mr,role:"dialog","aria-labelledby":te?Gt.current:null,style:Object(ur.a)(Object(ur.a)({zIndex:g},oe),{},{display:Rt?null:"none"})},se),N.createElement(OC,Object(xe.a)({},c,{onMouseDown:Or,onMouseUp:dr,ref:wt,closable:Ge,ariaId:Gt.current,prefixCls:y,visible:I,onClose:Jt,onVisibleChanged:tr,motionName:ww(y,Se,_e)}))))}var gy=function(d){var y=d.visible,g=d.getContainer,w=d.forceRender,I=d.destroyOnClose,B=I===void 0?!1:I,j=d.afterClose,W=N.useState(y),Z=Object(ar.a)(W,2),ee=Z[0],te=Z[1];return N.useEffect(function(){y&&te(!0)},[y]),g===!1?N.createElement(Rb,Object(xe.a)({},d,{getOpenCount:function(){return 2}})):!w&&B&&!ee?null:N.createElement(Mb.a,{visible:y,forceRender:w,getContainer:g},function(oe){return N.createElement(Rb,Object(xe.a)({},d,{destroyOnClose:B,afterClose:function(){j==null||j(),te(!1)}},oe))})};gy.displayName="Dialog";var RC=gy,LC=RC;function Sw(c){var d=N.useRef(null),y=N.useState(c),g=Object(ar.a)(y,2),w=g[0],I=g[1],B=N.useRef([]),j=function(Z){d.current===null&&(B.current=[],d.current=Object(wa.a)(function(){I(function(ee){var te=ee;return B.current.forEach(function(oe){te=Object(ur.a)(Object(ur.a)({},te),oe)}),d.current=null,te})})),B.current.push(Z)};return N.useEffect(function(){return function(){return d.current&&wa.a.cancel(d.current)}},[]),[w,j]}function a2(c,d,y,g){var w=d+y,I=(y-g)/2;if(y>g){if(d>0)return Object(de.a)({},c,I);if(d<0&&w<g)return Object(de.a)({},c,-I)}else if(d<0||w>g)return Object(de.a)({},c,d<0?I:-I);return{}}function DC(c,d,y,g){var w=hd(),I=w.width,B=w.height,j=null;return c<=I&&d<=B?j={x:0,y:0}:(c>I||d>B)&&(j=Object(ur.a)(Object(ur.a)({},a2("x",y,c,I)),a2("y",g,d,B))),j}var W1=N.createContext({previewUrls:new Map,setPreviewUrls:function(){return null},current:null,setCurrent:function(){return null},setShowPreview:function(){return null},setMousePosition:function(){return null},registerImage:function(){return function(){return null}}}),Sl=W1.Provider,Rv=function(d){var y=d.previewPrefixCls,g=y===void 0?"rc-image-preview":y,w=d.children,I=d.icons,B=I===void 0?{}:I,j=d.preview,W=Object(ft.a)(j)==="object"?j:{},Z=W.visible,ee=Z===void 0?void 0:Z,te=W.onVisibleChange,oe=te===void 0?void 0:te,ce=W.getContainer,se=ce===void 0?void 0:ce,Ce=W.current,ye=Ce===void 0?0:Ce,Se=Object(ua.a)(W,["visible","onVisibleChange","getContainer","current"]),_e=Object(N.useState)(new Map),Ie=Object(ar.a)(_e,2),Ge=Ie[0],je=Ie[1],ke=Object(N.useState)(),Ze=Object(ar.a)(ke,2),He=Ze[0],qe=Ze[1],et=Object(Ya.a)(!!ee,{value:ee,onChange:oe}),nt=Object(ar.a)(et,2),At=nt[0],ot=nt[1],gt=Object(N.useState)(null),wt=Object(ar.a)(gt,2),St=wt[0],bt=wt[1],Rt=ee!==void 0,Xt=Array.from(Ge.keys()),Gt=Xt[ye],tr=function(nr,Or){var dr=function(){je(function(on){var Fr=new Map(on),wn=Fr.delete(nr);return wn?Fr:on})};return Ge.get(nr)===Or||je(function(Mr){return new Map(Mr).set(nr,Or)}),dr},Jt=function(nr){nr.stopPropagation(),ot(!1),bt(null)};return N.useEffect(function(){qe(Gt)},[Gt]),N.useEffect(function(){!At&&Rt&&qe(Gt)},[Gt,Rt,At]),N.createElement(Sl,{value:{isPreviewGroup:!0,previewUrls:Ge,setPreviewUrls:je,current:He,setCurrent:qe,setShowPreview:ot,setMousePosition:bt,registerImage:tr}},w,N.createElement(Db,Object(xe.a)({"aria-hidden":!At,visible:At,prefixCls:g,onClose:Jt,mousePosition:St,src:Ge.get(He),icons:B,getContainer:se},Se)))},s2=Rv,NC=N.useState,$m=N.useEffect,vy={x:0,y:0},Lb=function(d){var y=d.prefixCls,g=d.src,w=d.alt,I=d.onClose,B=d.afterClose,j=d.visible,W=d.icons,Z=W===void 0?{}:W,ee=Object(ua.a)(d,["prefixCls","src","alt","onClose","afterClose","visible","icons"]),te=Z.rotateLeft,oe=Z.rotateRight,ce=Z.zoomIn,se=Z.zoomOut,Ce=Z.close,ye=Z.left,Se=Z.right,_e=NC(1),Ie=Object(ar.a)(_e,2),Ge=Ie[0],je=Ie[1],ke=NC(0),Ze=Object(ar.a)(ke,2),He=Ze[0],qe=Ze[1],et=Sw(vy),nt=Object(ar.a)(et,2),At=nt[0],ot=nt[1],gt=N.useRef(),wt=N.useRef({originX:0,originY:0,deltaX:0,deltaY:0}),St=N.useState(!1),bt=Object(ar.a)(St,2),Rt=bt[0],Xt=bt[1],Gt=N.useContext(W1),tr=Gt.previewUrls,Jt=Gt.current,sr=Gt.isPreviewGroup,nr=Gt.setCurrent,Or=tr.size,dr=Array.from(tr.keys()),Mr=dr.indexOf(Jt),on=sr?tr.get(Jt):g,Fr=sr&&Or>1,wn=N.useState({wheelDirection:0}),Ir=Object(ar.a)(wn,2),hn=Ir[0],Fn=Ir[1],xn=function(){je(1),qe(0),ot(vy)},rn=function(){je(function(un){return un+1}),ot(vy)},Dr=function(){Ge>1&&je(function(un){return un-1}),ot(vy)},En=function(){qe(function(un){return un+90})},Jr=function(){qe(function(un){return un-90})},qr=function(un){un.preventDefault(),un.stopPropagation(),Mr>0&&nr(dr[Mr-1])},Tn=function(un){un.preventDefault(),un.stopPropagation(),Mr<Or-1&&nr(dr[Mr+1])},Ln=st()(Object(de.a)({},"".concat(y,"-moving"),Rt)),Ci="".concat(y,"-operations-operation"),di="".concat(y,"-operations-icon"),Bo=[{icon:Ce,onClick:I,type:"close"},{icon:ce,onClick:rn,type:"zoomIn"},{icon:se,onClick:Dr,type:"zoomOut",disabled:Ge===1},{icon:oe,onClick:En,type:"rotateRight"},{icon:te,onClick:Jr,type:"rotateLeft"}],Ji=function(){if(j&&Rt){var un=gt.current.offsetWidth*Ge,Rr=gt.current.offsetHeight*Ge,Bn=gt.current.getBoundingClientRect(),hi=Bn.left,Xr=Bn.top,Li=He%180!=0;Xt(!1);var Vi=DC(Li?Rr:un,Li?un:Rr,hi,Xr);Vi&&ot(Object(ur.a)({},Vi))}},qi=function(un){un.button===0&&(un.preventDefault(),un.stopPropagation(),wt.current.deltaX=un.pageX-At.x,wt.current.deltaY=un.pageY-At.y,wt.current.originX=At.x,wt.current.originY=At.y,Xt(!0))},Ri=function(un){j&&Rt&&ot({x:un.pageX-wt.current.deltaX,y:un.pageY-wt.current.deltaY})},zo=function(un){if(!!j){un.preventDefault();var Rr=un.deltaY;Fn({wheelDirection:Rr})}};return $m(function(){var ni=hn.wheelDirection;ni>0?Dr():ni<0&&rn()},[hn]),$m(function(){var ni,un,Rr=Object(Cl.a)(window,"mouseup",Ji,!1),Bn=Object(Cl.a)(window,"mousemove",Ri,!1),hi=Object(Cl.a)(window,"wheel",zo,{passive:!1});try{window.top!==window.self&&(ni=Object(Cl.a)(window.top,"mouseup",Ji,!1),un=Object(Cl.a)(window.top,"mousemove",Ri,!1))}catch(Xr){Object(Xo.c)(!1,"[rc-image] ".concat(Xr))}return function(){Rr.remove(),Bn.remove(),hi.remove(),ni&&ni.remove(),un&&un.remove()}},[j,Rt]),N.createElement(LC,Object(xe.a)({transitionName:"zoom",maskTransitionName:"fade",closable:!1,keyboard:!0,prefixCls:y,onClose:I,afterClose:xn,visible:j,wrapClassName:Ln},ee),N.createElement("ul",{className:"".concat(y,"-operations")},Bo.map(function(ni){var un=ni.icon,Rr=ni.onClick,Bn=ni.type,hi=ni.disabled;return N.createElement("li",{className:st()(Ci,Object(de.a)({},"".concat(y,"-operations-operation-disabled"),!!hi)),onClick:Rr,key:Bn},N.isValidElement(un)?N.cloneElement(un,{className:di}):un)})),N.createElement("div",{className:"".concat(y,"-img-wrapper"),style:{transform:"translate3d(".concat(At.x,"px, ").concat(At.y,"px, 0)")}},N.createElement("img",{onMouseDown:qi,ref:gt,className:"".concat(y,"-img"),src:on,alt:w,style:{transform:"scale3d(".concat(Ge,", ").concat(Ge,", 1) rotate(").concat(He,"deg)")}})),Fr&&N.createElement("div",{className:st()("".concat(y,"-switch-left"),Object(de.a)({},"".concat(y,"-switch-left-disabled"),Mr===0)),onClick:qr},ye),Fr&&N.createElement("div",{className:st()("".concat(y,"-switch-right"),Object(de.a)({},"".concat(y,"-switch-right-disabled"),Mr===Or-1)),onClick:Tn},Se))},Db=Lb,_w=0,Mw=function(d){var y=d.src,g=d.alt,w=d.onPreviewClose,I=d.prefixCls,B=I===void 0?"rc-image":I,j=d.previewPrefixCls,W=j===void 0?"".concat(B,"-preview"):j,Z=d.placeholder,ee=d.fallback,te=d.width,oe=d.height,ce=d.style,se=d.preview,Ce=se===void 0?!0:se,ye=d.className,Se=d.onClick,_e=d.onError,Ie=d.wrapperClassName,Ge=d.wrapperStyle,je=d.crossOrigin,ke=d.decoding,Ze=d.loading,He=d.referrerPolicy,qe=d.sizes,et=d.srcSet,nt=d.useMap,At=Object(ua.a)(d,["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","crossOrigin","decoding","loading","referrerPolicy","sizes","srcSet","useMap"]),ot=Z&&Z!==!0,gt=Object(ft.a)(Ce)==="object"?Ce:{},wt=gt.src,St=gt.visible,bt=St===void 0?void 0:St,Rt=gt.onVisibleChange,Xt=Rt===void 0?w:Rt,Gt=gt.getContainer,tr=Gt===void 0?void 0:Gt,Jt=gt.mask,sr=gt.maskClassName,nr=gt.icons,Or=Object(ua.a)(gt,["src","visible","onVisibleChange","getContainer","mask","maskClassName","icons"]),dr=wt!=null?wt:y,Mr=bt!==void 0,on=Object(Ya.a)(!!bt,{value:bt,onChange:Xt}),Fr=Object(ar.a)(on,2),wn=Fr[0],Ir=Fr[1],hn=Object(N.useState)(ot?"loading":"normal"),Fn=Object(ar.a)(hn,2),xn=Fn[0],rn=Fn[1],Dr=Object(N.useState)(null),En=Object(ar.a)(Dr,2),Jr=En[0],qr=En[1],Tn=xn==="error",Ln=N.useContext(W1),Ci=Ln.isPreviewGroup,di=Ln.setCurrent,Bo=Ln.setShowPreview,Ji=Ln.setMousePosition,qi=Ln.registerImage,Ri=N.useState(function(){return _w+=1,_w}),zo=Object(ar.a)(Ri,1),ni=zo[0],un=Ce&&!Tn,Rr=function(){rn("normal")},Bn=function(kn){_e&&_e(kn),rn("error")},hi=function(kn){if(!Mr){var go=mm(kn.target),Eo=go.left,ys=go.top;Ci?(di(ni),Ji({x:Eo,y:ys})):qr({x:Eo,y:ys})}Ci?Bo(!0):Ir(!0),Se&&Se(kn)},Xr=function(kn){kn.stopPropagation(),Ir(!1),Mr||qr(null)},Li=function(kn){xn==="loading"&&(kn==null?void 0:kn.complete)&&(kn.naturalWidth||kn.naturalHeight)&&Rr()};N.useEffect(function(){var So=qi(ni,dr);return So},[]),N.useEffect(function(){var So=qi(ni,dr);un||So()},[dr,un]),N.useEffect(function(){Tn&&rn("normal"),ot&&rn("loading")},[y]);var Vi=st()(B,Ie,Object(de.a)({},"".concat(B,"-error"),Tn)),ii=Tn&&ee?ee:dr,co={crossOrigin:je,decoding:ke,loading:Ze,referrerPolicy:He,sizes:qe,srcSet:et,useMap:nt,alt:g,className:st()("".concat(B,"-img"),Object(de.a)({},"".concat(B,"-img-placeholder"),Z===!0),ye),style:Object(ur.a)({height:oe},ce)};return N.createElement(N.Fragment,null,N.createElement("div",Object(xe.a)({},At,{className:Vi,onClick:Ce&&!Tn?hi:Se,style:Object(ur.a)({width:te,height:oe},Ge)}),N.createElement("img",Object(xe.a)({},co,{ref:Li},Tn&&ee?{src:ee}:{onLoad:Rr,onError:Bn,src:y})),xn==="loading"&&N.createElement("div",{"aria-hidden":"true",className:"".concat(B,"-placeholder")},Z),Jt&&un&&N.createElement("div",{className:st()("".concat(B,"-mask"),sr)},Jt)),!Ci&&un&&N.createElement(Db,Object(xe.a)({"aria-hidden":!wn,visible:wn,prefixCls:W,onClose:Xr,mousePosition:Jr,src:ii,alt:g,getContainer:tr,icons:nr},Or)))};Mw.PreviewGroup=s2,Mw.displayName="Image";var zS=Mw,Ew=zS,Nb={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},jS=Nb,Fb=function(d,y){return N.createElement(Ls.a,Object.assign({},d,{ref:y,icon:jS}))};Fb.displayName="RotateLeftOutlined";var Bb=N.forwardRef(Fb),Yu={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},l2=Yu,Fo=function(d,y){return N.createElement(Ls.a,Object.assign({},d,{ref:y,icon:l2}))};Fo.displayName="RotateRightOutlined";var FC=N.forwardRef(Fo),yy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},j_=yy,Tw=function(d,y){return N.createElement(Ls.a,Object.assign({},d,{ref:y,icon:j_}))};Tw.displayName="ZoomInOutlined";var US=N.forwardRef(Tw),BC={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},Fp=BC,kS=function(d,y){return N.createElement(Ls.a,Object.assign({},d,{ref:y,icon:Fp}))};kS.displayName="ZoomOutOutlined";var U_=N.forwardRef(kS),xy=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y},u2={rotateLeft:N.createElement(Bb,null),rotateRight:N.createElement(FC,null),zoomIn:N.createElement(US,null),zoomOut:N.createElement(U_,null),close:N.createElement(_n.a,null),left:N.createElement(wh.a,null),right:N.createElement(wf.a,null)},kf=function(d){var y=d.previewPrefixCls,g=xy(d,["previewPrefixCls"]),w=N.useContext(br.b),I=w.getPrefixCls,B=I("image-preview",y);return N.createElement(Ew.PreviewGroup,Object(xe.a)({previewPrefixCls:B,icons:u2},g))},HS=kf,VS=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y},GS=function(d){var y=d.prefixCls,g=d.preview,w=VS(d,["prefixCls","preview"]),I=Object(N.useContext)(br.b),B=I.getPrefixCls,j=B("image",y),W=Object(N.useContext)(br.b),Z=W.locale,ee=Z===void 0?ja:Z,te=ee.Image||ja.Image,oe=N.useMemo(function(){return g===!1?g:Object(xe.a)({mask:N.createElement("div",{className:"".concat(j,"-mask-info")},N.createElement(Et,null),te==null?void 0:te.preview),icons:u2},Object(ft.a)(g)==="object"?g:null)},[g,te]);return N.createElement(Ew,Object(xe.a)({prefixCls:j,preview:oe},w))};GS.PreviewGroup=HS;var WS=GS;function Cy(){return Cy=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var y=arguments[d];for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&(c[g]=y[g])}return c},Cy.apply(this,arguments)}function eg(c,d){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);d&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),y.push.apply(y,g)}return y}function c2(c){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?eg(Object(y),!0).forEach(function(g){h2(c,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):eg(Object(y)).forEach(function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(y,g))})}return c}function h2(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}var k_=function(d){var y=d.text,g=d.mode,w=d.render,I=d.renderFormItem,B=d.fieldProps,j=d.placeholder,W=d.width;if(g==="read"){var Z=ve.a.createElement(WS,{width:W||32,src:y});return w?w(y,c2({mode:g},B),Z):Z}if(g==="edit"||g==="update"){var ee=ve.a.createElement(mr,Cy({placeholder:j},B));return I?I(y,c2({mode:g},B),ee):ee}return null},YS=k_;function XS(c,d){if(c==null)return{};var y=ZS(c,d),g,w;if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(c);for(w=0;w<I.length;w++)g=I[w],!(d.indexOf(g)>=0)&&(!Object.prototype.propertyIsEnumerable.call(c,g)||(y[g]=c[g]))}return y}function ZS(c,d){if(c==null)return{};var y={},g=Object.keys(c),w,I;for(I=0;I<g.length;I++)w=g[I],!(d.indexOf(w)>=0)&&(y[w]=c[w]);return y}function f2(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f2=function(y){return typeof y}:f2=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},f2(c)}function ya(){return ya=Object.assign||function(c){for(var d=1;d<arguments.length;d++){var y=arguments[d];for(var g in y)Object.prototype.hasOwnProperty.call(y,g)&&(c[g]=y[g])}return c},ya.apply(this,arguments)}function KS(c,d){var y=Object.keys(c);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(c);d&&(g=g.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),y.push.apply(y,g)}return y}function Xu(c){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?KS(Object(y),!0).forEach(function(g){d2(c,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(y)):KS(Object(y)).forEach(function(g){Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(y,g))})}return c}function d2(c,d,y){return d in c?Object.defineProperty(c,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):c[d]=y,c}var zb=function(d,y,g){var w=Je(g.fieldProps);return y.type==="progress"?ve.a.createElement(Lm,ya({},g,{text:d,fieldProps:Xu({status:y.status?y.status:void 0},w)})):y.type==="money"?ve.a.createElement(kx,ya({locale:y.locale},g,{fieldProps:w,text:d,moneySymbol:y.moneySymbol})):y.type==="percent"?ve.a.createElement(bl,ya({},g,{text:d,showSymbol:y.showSymbol,precision:y.precision,fieldProps:w,showColor:y.showColor})):y.type==="image"?ve.a.createElement(YS,ya({},g,{text:d,width:y.width})):d},zC=function(d,y,g,w){if(f2(y)==="object")return zb(d,y,g);var I=g.mode,B=I===void 0?"read":I,j=g.emptyText,W=j===void 0?"-":j,Z=w&&w[y];if(Z){if(delete g.ref,B==="read"){var ee;return(ee=Z.render)===null||ee===void 0?void 0:ee.call(Z,d,Xu(Xu({text:d},g),{},{mode:B||"read"}),ve.a.createElement(ve.a.Fragment,null,d))}if(B==="update"||B==="edit"){var te;return(te=Z.renderFormItem)===null||te===void 0?void 0:te.call(Z,d,Xu({text:d},g),ve.a.createElement(ve.a.Fragment,null,d))}}if(W!==!1&&B==="read"&&y!=="option"&&y!=="switch"&&typeof d!="boolean"&&typeof d!="number"&&!d){var oe=g.fieldProps,ce=g.render;return ce?ce(d,Xu({mode:B},oe),ve.a.createElement(ve.a.Fragment,null,W)):ve.a.createElement(ve.a.Fragment,null,W)}return delete g.emptyText,y==="money"?ve.a.createElement(kx,ya({},g,{text:d})):y==="date"?ve.a.createElement(ie,ya({text:d,format:"YYYY-MM-DD"},g)):y==="dateWeek"?ve.a.createElement(ie,ya({text:d,format:"YYYY-wo",picker:"week"},g)):y==="dateMonth"?ve.a.createElement(ie,ya({text:d,format:"YYYY-MM",picker:"month"},g)):y==="dateQuarter"?ve.a.createElement(ie,ya({text:d,format:"YYYY-\\QQ",picker:"quarter"},g)):y==="dateYear"?ve.a.createElement(ie,ya({text:d,format:"YYYY",picker:"year"},g)):y==="dateRange"?ve.a.createElement(gr,ya({text:d,format:"YYYY-MM-DD"},g)):y==="dateTime"?ve.a.createElement(ie,ya({text:d,format:"YYYY-MM-DD HH:mm:ss",showTime:!0},g)):y==="dateTimeRange"?ve.a.createElement(gr,ya({text:d,format:"YYYY-MM-DD HH:mm:ss",showTime:!0},g)):y==="time"?ve.a.createElement(rt,ya({text:d,format:"HH:mm:ss"},g)):y==="timeRange"?ve.a.createElement(T1,ya({text:d,format:"HH:mm:ss"},g)):y==="fromNow"?ve.a.createElement(dt,ya({text:d},g)):y==="index"?ve.a.createElement(wp,null,d+1):y==="indexBorder"?ve.a.createElement(wp,{border:!0},d+1):y==="progress"?ve.a.createElement(Lm,ya({},g,{text:d})):y==="percent"?ve.a.createElement(bl,ya({text:d},g)):y==="avatar"&&typeof d=="string"&&g.mode==="read"?ve.a.createElement(Ue.a,{src:d,size:22,shape:"circle"}):y==="code"?ve.a.createElement(Ua,ya({text:d},g)):y==="jsonCode"?ve.a.createElement(Ua,ya({text:d,language:"json"},g)):y==="textarea"?ve.a.createElement(Av,ya({text:d},g)):y==="digit"?ve.a.createElement(gw,ya({text:d},g)):y==="second"?ve.a.createElement(xb,ya({text:d},g)):y==="select"||y==="text"&&(g.valueEnum||g.request)?ve.a.createElement(H1,ya({text:d},g)):y==="checkbox"?ve.a.createElement(aw,ya({text:d},g)):y==="radio"?ve.a.createElement(_b,ya({text:d},g)):y==="radioButton"?ve.a.createElement(_b,ya({radioType:"button",text:d},g)):y==="rate"?ve.a.createElement(Lp,ya({text:d},g)):y==="switch"?ve.a.createElement(hw,ya({text:d},g)):y==="option"?ve.a.createElement(w_,ya({text:d},g)):y==="password"?ve.a.createElement(mS,ya({text:d},g)):y==="image"?ve.a.createElement(YS,ya({text:d},g)):ve.a.createElement(W2,ya({text:d},g))},jC=function(d,y){var g,w=d.text,I=d.valueType,B=I===void 0?"text":I,j=d.onChange,W=d.value,Z=XS(d,["text","valueType","onChange","value"]),ee=Object(fr.c)(),te=Object(N.useContext)(fr.b),oe=(W||j||(Z==null?void 0:Z.fieldProps))&&Xu(Xu({value:W},Object(Er.a)(Z==null?void 0:Z.fieldProps)),{},{onChange:function(){for(var se,Ce,ye=arguments.length,Se=new Array(ye),_e=0;_e<ye;_e++)Se[_e]=arguments[_e];j==null||j.apply(void 0,Se),Z==null||(se=Z.fieldProps)===null||se===void 0||(Ce=se.onChange)===null||Ce===void 0||Ce.call.apply(Ce,[se].concat(Se))}});return ve.a.createElement(ve.a.Fragment,null,zC((g=w!=null?w:oe==null?void 0:oe.value)!==null&&g!==void 0?g:"",B||"text",Xu(Xu({},Z),{},{mode:Z.mode||"read",ref:y,placeholder:ee.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),fieldProps:Je(oe)}),te.valueTypeMap))},Ay=ve.a.forwardRef(jC),wy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},by=wy,Sy=function(d,y){return N.createElement(Ls.a,Object.assign({},d,{ref:y,icon:by}))};Sy.displayName="DeleteOutlined";var p2=N.forwardRef(Sy),Iw=ae("LvDl");function Pw(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"\u5317\u4EAC",d=arguments.length>1?arguments[1]:void 0,y=arguments.length>2?arguments[2]:void 0,g=new BMapGL.LocalSearch(c,y);g.search(d)}function Y1(c,d,y){function g(w){var I=w._pois,B=[];I.forEach(function(j){B.push({key:j.uid,name:j.title,lng:j.point.lng,lat:j.point.lat})}),y(B)}Pw(c,d,{onSearchComplete:g})}function m2(){return Math.random().toString(36).slice(-8)}var Lv=ta.Option,jb=function(c){Object(tv.a)(y,c);var d=Object(Lh.a)(y);function y(g){var w;Object(Zs.a)(this,y),w=d.call(this,g),w.handleSearch=function(W){if(W)try{var Z=w.props.priorSearchCity.arr,ee=Z[Z.length-1];Y1(ee,W,function(te){te.length>0&&w.setState({searchResult:te})})}catch(te){console.log("Search failed:",te)}else w.setState({searchResult:[]})},w.debouncedSearch=Object(Iw.debounce)(w.handleSearch,800,{leading:!1,trailing:!0}),w.handleChange=function(W,Z){for(var ee=Object(Pf.a)(w.state.searchResult),te=0;te<ee.length;te+=1){var oe=ee[te];if(oe.key===Z.key){w.setState({pointData:oe});return}}},w.handleBlur=Object(Zh.a)(Hs.a.mark(function W(){return Hs.a.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return ee.next=2,w.props.saveSearchResult(w.state.pointData);case 2:case"end":return ee.stop()}},W)}));var I=w.props.record,B=I.demand,j=Object(uc.a)(I,["demand"]);return w.state={pointData:j,searchResult:[]},w}return Object(d1.a)(y,[{key:"componentWillUnmount",value:function(){this.debouncedSearch.cancel()}},{key:"render",value:function(){var w=this.state.searchResult.map(function(I){return Object(Tr.jsx)(Lv,{value:I.name,"data-inspector-line":"76","data-inspector-column":"74","data-inspector-relative-path":"src\\\\components\\\\SearchInput\\\\index.tsx",children:I.name},I.key)});return Object(Tr.jsx)(ta,{showSearch:!0,autoFocus:!0,value:this.state.pointData.name,placeholder:"input search text",style:{width:"100%"},defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,onSearch:this.debouncedSearch,onChange:this.handleChange,onBlur:this.handleBlur,"data-inspector-line":"79","data-inspector-column":"6","data-inspector-relative-path":"src\\\\components\\\\SearchInput\\\\index.tsx",children:w})}}]),y}(ve.a.Component),Ow=jb,X1=ae("v56E"),Ub=ae("2W6z"),Rw=ae.n(Ub),kb=ae("uK0f"),UC=ae.n(kb);function H_(c,d){if(c===d)return!0;if(!c||!d)return!1;var y=c.length;if(d.length!==y)return!1;for(var g=0;g<y;g++)if(c[g]!==d[g])return!1;return!0}var JS=function(c){Object(ti.a)(y,c);var d=Object(Xa.a)(y);function y(){var g;return Object(vn.a)(this,y),g=d.apply(this,arguments),g.menuItems={},g.saveMenuItem=function(w){return function(I){g.menuItems[w]=I}},g}return Object(No.a)(y,[{key:"componentDidMount",value:function(){this.scrollActiveItemToView()}},{key:"componentDidUpdate",value:function(w){!w.visible&&this.props.visible&&this.scrollActiveItemToView()}},{key:"getFieldName",value:function(w){var I=this.props,B=I.fieldNames,j=I.defaultFieldNames;return B[w]||j[w]}},{key:"getOption",value:function(w,I){var B=this.props,j=B.prefixCls,W=B.expandTrigger,Z=B.expandIcon,ee=B.loadingIcon,te=this.props.onSelect.bind(this,w,I),oe=this.props.onItemDoubleClick.bind(this,w,I),ce={onClick:te,onDoubleClick:oe},se="".concat(j,"-menu-item"),Ce=null,ye=w[this.getFieldName("children")]&&w[this.getFieldName("children")].length>0;(ye||w.isLeaf===!1)&&(se+=" ".concat(j,"-menu-item-expand"),w.loading||(Ce=N.createElement("span",{className:"".concat(j,"-menu-item-expand-icon")},Z))),W==="hover"&&(ye||w.isLeaf===!1)&&(ce={onMouseEnter:this.delayOnSelect.bind(this,te),onMouseLeave:this.delayOnSelect.bind(this),onClick:te}),this.isActiveOption(w,I)&&(se+=" ".concat(j,"-menu-item-active"),ce.ref=this.saveMenuItem(I)),w.disabled&&(se+=" ".concat(j,"-menu-item-disabled"));var Se=null;w.loading&&(se+=" ".concat(j,"-menu-item-loading"),Se=ee||null);var _e="";return"title"in w?_e=w.title:typeof w[this.getFieldName("label")]=="string"&&(_e=w[this.getFieldName("label")]),N.createElement("li",Object.assign({key:w[this.getFieldName("value")],className:se,title:_e},ce,{role:"menuitem",onMouseDown:function(Ge){return Ge.preventDefault()}}),w[this.getFieldName("label")],Ce,Se)}},{key:"getActiveOptions",value:function(w){var I=this,B=this.props.options,j=w||this.props.activeValue;return UC()(B,function(W,Z){return W[I.getFieldName("value")]===j[Z]},{childrenKeyName:this.getFieldName("children")})}},{key:"getShowOptions",value:function(){var w=this,I=this.props.options,B=this.getActiveOptions().map(function(j){return j[w.getFieldName("children")]}).filter(function(j){return!!j});return B.unshift(I),B}},{key:"delayOnSelect",value:function(w){for(var I=this,B=arguments.length,j=new Array(B>1?B-1:0),W=1;W<B;W++)j[W-1]=arguments[W];this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null),typeof w=="function"&&(this.delayTimer=window.setTimeout(function(){w(j),I.delayTimer=null},150))}},{key:"scrollActiveItemToView",value:function(){for(var w=this.getShowOptions().length,I=0;I<w;I++){var B=this.menuItems[I];B&&B.parentElement&&(B.parentElement.scrollTop=B.offsetTop)}}},{key:"isActiveOption",value:function(w,I){var B=this.props.activeValue,j=B===void 0?[]:B;return j[I]===w[this.getFieldName("value")]}},{key:"render",value:function(){var w=this,I=this.props,B=I.prefixCls,j=I.dropdownMenuColumnStyle;return N.createElement("div",null,this.getShowOptions().map(function(W,Z){return N.createElement("ul",{className:"".concat(B,"-menu"),key:Z,style:j},W.map(function(ee){return w.getOption(ee,Z)}))}))}}]),y}(N.Component);JS.defaultProps={options:[],value:[],activeValue:[],onSelect:function(){},prefixCls:"rc-cascader-menus",visible:!1,expandTrigger:"click"};var Bp=JS,Dv={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:1,adjustY:1}}},Hb=Dv,tg=function(c){Object(ti.a)(y,c);var d=Object(Xa.a)(y);function y(g){var w;Object(vn.a)(this,y),w=d.call(this,g),w.setPopupVisible=function(B){var j=w.state.value;"popupVisible"in w.props||w.setState({popupVisible:B}),B&&!w.state.popupVisible&&w.setState({activeValue:j}),w.props.onPopupVisibleChange(B)},w.handleChange=function(B,j,W){var Z=j.visible;(W.type!=="keydown"||W.keyCode===Cn.a.ENTER)&&(w.props.onChange(B.map(function(ee){return ee[w.getFieldName("value")]}),B),w.setPopupVisible(Z))},w.handlePopupVisibleChange=function(B){w.setPopupVisible(B)},w.handleMenuSelect=function(B,j,W){var Z=w.trigger.getRootDomNode();Z&&Z.focus&&Z.focus();var ee=w.props,te=ee.changeOnSelect,oe=ee.loadData,ce=ee.expandTrigger;if(!(!B||B.disabled)){var se=w.state.activeValue;se=se.slice(0,j+1),se[j]=B[w.getFieldName("value")];var Ce=w.getActiveOptions(se);if(B.isLeaf===!1&&!B[w.getFieldName("children")]&&oe){te&&w.handleChange(Ce,{visible:!0},W),w.setState({activeValue:se}),oe(Ce);return}var ye={};!B[w.getFieldName("children")]||!B[w.getFieldName("children")].length?(w.handleChange(Ce,{visible:!1},W),ye.value=se):te&&(W.type==="click"||W.type==="keydown")&&(ce==="hover"?w.handleChange(Ce,{visible:!1},W):w.handleChange(Ce,{visible:!0},W),ye.value=se),ye.activeValue=se,("value"in w.props||W.type==="keydown"&&W.keyCode!==Cn.a.ENTER)&&delete ye.value,w.setState(ye)}},w.handleItemDoubleClick=function(){var B=w.props.changeOnSelect;B&&w.setPopupVisible(!1)},w.handleKeyDown=function(B){var j=w.props.children;if(j&&j.props.onKeyDown){j.props.onKeyDown(B);return}var W=Object($t.a)(w.state.activeValue),Z=W.length-1<0?0:W.length-1,ee=w.getCurrentLevelOptions(),te=ee.map(function(Ce){return Ce[w.getFieldName("value")]}).indexOf(W[Z]);if(!(B.keyCode!==Cn.a.DOWN&&B.keyCode!==Cn.a.UP&&B.keyCode!==Cn.a.LEFT&&B.keyCode!==Cn.a.RIGHT&&B.keyCode!==Cn.a.ENTER&&B.keyCode!==Cn.a.SPACE&&B.keyCode!==Cn.a.BACKSPACE&&B.keyCode!==Cn.a.ESC&&B.keyCode!==Cn.a.TAB)){if(!w.state.popupVisible&&B.keyCode!==Cn.a.BACKSPACE&&B.keyCode!==Cn.a.LEFT&&B.keyCode!==Cn.a.RIGHT&&B.keyCode!==Cn.a.ESC&&B.keyCode!==Cn.a.TAB){w.setPopupVisible(!0),w.props.onKeyDown&&w.props.onKeyDown(B);return}if(B.keyCode===Cn.a.DOWN||B.keyCode===Cn.a.UP){B.preventDefault();var oe=te;oe!==-1?B.keyCode===Cn.a.DOWN?(oe+=1,oe=oe>=ee.length?0:oe):(oe-=1,oe=oe<0?ee.length-1:oe):oe=0,W[Z]=ee[oe][w.getFieldName("value")]}else if(B.keyCode===Cn.a.LEFT||B.keyCode===Cn.a.BACKSPACE)B.preventDefault(),W.splice(W.length-1,1);else if(B.keyCode===Cn.a.RIGHT)B.preventDefault(),ee[te]&&ee[te][w.getFieldName("children")]&&W.push(ee[te][w.getFieldName("children")][0][w.getFieldName("value")]);else if(B.keyCode===Cn.a.ESC||B.keyCode===Cn.a.TAB){w.setPopupVisible(!1),w.props.onKeyDown&&w.props.onKeyDown(B);return}(!W||W.length===0)&&w.setPopupVisible(!1);var ce=w.getActiveOptions(W),se=ce[ce.length-1];w.handleMenuSelect(se,ce.length-1,B),w.props.onKeyDown&&w.props.onKeyDown(B)}},w.saveTrigger=function(B){w.trigger=B};var I=[];return"value"in g?I=g.value||[]:"defaultValue"in g&&(I=g.defaultValue||[]),Rw()(!("filedNames"in g),"`filedNames` of Cascader is a typo usage and deprecated, please use `fieldNames` instead."),w.state={popupVisible:g.popupVisible,activeValue:I,value:I,prevProps:g},w.defaultFieldNames={label:"label",value:"value",children:"children"},w}return Object(No.a)(y,[{key:"getPopupDOMNode",value:function(){return this.trigger.getPopupDomNode()}},{key:"getFieldName",value:function(w){var I=this.defaultFieldNames,B=this.props,j=B.fieldNames,W=B.filedNames;return"filedNames"in this.props?W[w]||I[w]:j[w]||I[w]}},{key:"getFieldNames",value:function(){var w=this.props,I=w.fieldNames,B=w.filedNames;return"filedNames"in this.props?B:I}},{key:"getCurrentLevelOptions",value:function(){var w=this,I=this.props.options,B=I===void 0?[]:I,j=this.state.activeValue,W=j===void 0?[]:j,Z=UC()(B,function(ee,te){return ee[w.getFieldName("value")]===W[te]},{childrenKeyName:this.getFieldName("children")});return Z[Z.length-2]?Z[Z.length-2][this.getFieldName("children")]:Object($t.a)(B).filter(function(ee){return!ee.disabled})}},{key:"getActiveOptions",value:function(w){var I=this;return UC()(this.props.options||[],function(B,j){return B[I.getFieldName("value")]===w[j]},{childrenKeyName:this.getFieldName("children")})}},{key:"render",value:function(){var w=this.props,I=w.prefixCls,B=w.transitionName,j=w.popupClassName,W=w.options,Z=W===void 0?[]:W,ee=w.disabled,te=w.builtinPlacements,oe=w.popupPlacement,ce=w.children,se=w.dropdownRender,Ce=Object(ua.a)(w,["prefixCls","transitionName","popupClassName","options","disabled","builtinPlacements","popupPlacement","children","dropdownRender"]),ye=N.createElement("div",null),Se="";Z&&Z.length>0?ye=N.createElement(Bp,Object.assign({},this.props,{fieldNames:this.getFieldNames(),defaultFieldNames:this.defaultFieldNames,activeValue:this.state.activeValue,onSelect:this.handleMenuSelect,onItemDoubleClick:this.handleItemDoubleClick,visible:this.state.popupVisible})):Se=" ".concat(I,"-menus-empty");var _e=ye;return se&&(_e=se(ye)),N.createElement(tc.a,Object.assign({ref:this.saveTrigger},Ce,{popupPlacement:oe,builtinPlacements:te,popupTransitionName:B,action:ee?[]:["click"],popupVisible:ee?!1:this.state.popupVisible,onPopupVisibleChange:this.handlePopupVisibleChange,prefixCls:"".concat(I,"-menus"),popupClassName:j+Se,popup:_e}),N.cloneElement(ce,{onKeyDown:this.handleKeyDown,tabIndex:ee?void 0:0}))}}],[{key:"getDerivedStateFromProps",value:function(w,I){var B=I.prevProps,j=B===void 0?{}:B,W={prevProps:w};return"value"in w&&!H_(j.value,w.value)&&(W.value=w.value||[],"loadData"in w||(W.activeValue=w.value||[])),"popupVisible"in w&&(W.popupVisible=w.popupVisible),W}}]),y}(N.Component);tg.defaultProps={onChange:function(){},onPopupVisibleChange:function(){},disabled:!1,transitionName:"",prefixCls:"rc-cascader",popupClassName:"",popupPlacement:"bottomLeft",builtinPlacements:Hb,expandTrigger:"click",fieldNames:{label:"label",value:"value",children:"children"},expandIcon:">"};var kC=tg,HC=kC,qS={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"},Vb=qS,Lw=function(d,y){return N.createElement(Ls.a,Object.assign({},d,{ref:y,icon:Vb}))};Lw.displayName="RedoOutlined";var Gb=N.forwardRef(Lw),QS=function(c,d){var y={};for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&d.indexOf(g)<0&&(y[g]=c[g]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,g=Object.getOwnPropertySymbols(c);w<g.length;w++)d.indexOf(g[w])<0&&Object.prototype.propertyIsEnumerable.call(c,g[w])&&(y[g[w]]=c[g[w]]);return y},zp=50,VC="__KEEP_FILTERED_OPTION_VALUE";function V_(c,d,y){return c.split(d).map(function(g,w){return w===0?g:[N.createElement("span",{className:"".concat(y,"-menu-item-keyword"),key:"seperator"},d),g]})}function ns(c,d,y){return d.some(function(g){return g[y.label].indexOf(c)>-1})}function G_(c,d,y,g){return d.map(function(w,I){var B=w[g.label],j=B.indexOf(c)>-1?V_(B,c,y):B;return I===0?j:[" / ",j]})}function rg(c,d,y,g){function w(I){return I[g.label].indexOf(y)>-1}return c.findIndex(w)-d.findIndex(w)}function Wb(c){var d=c.fieldNames;return d}function Nv(c){var d=Wb(c)||{},y={children:d.children||"children",label:d.label||"label",value:d.value||"value"};return y}function th(c,d){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],g=Nv(d),w=[],I=g.children;return c.forEach(function(B){var j=y.concat(B);(d.changeOnSelect||!B[I]||!B[I].length)&&w.push(j),B[I]&&(w=w.concat(th(B[I],d,j)))}),w}var g2=function(d){return d.join(" / ")};function Hl(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(c||[]).forEach(function(y){var g=d.value||"value";Object(so.a)(g in y,"Cascader","Not found `value` in `options`."),Hl(y[d.children||"children"],d)})}function Yb(c,d,y){var g;return g={},Object(de.a)(g,d.value,"ANT_CASCADER_NOT_FOUND"),Object(de.a)(g,d.label,y||c("Cascader")),Object(de.a)(g,"disabled",!0),Object(de.a)(g,"isEmptyNode",!0),g}var _y=function(c){Object(ti.a)(y,c);var d=Object(Xa.a)(y);function y(g){var w;return Object(vn.a)(this,y),w=d.call(this,g),w.cachedOptions=[],w.setValue=function(I){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];"value"in w.props||w.setState({value:I});var j=w.props.onChange;j&&j(I,B)},w.saveInput=function(I){w.input=I},w.handleChange=function(I,B){if(w.setState({inputValue:""}),B[0].__IS_FILTERED_OPTION){var j=B[0][VC]===void 0?I[0]:B[0][VC],W=B[0].path;w.setValue(j,W);return}w.setValue(I,B)},w.handlePopupVisibleChange=function(I){"popupVisible"in w.props||w.setState(function(j){return{popupVisible:I,inputFocused:I,inputValue:I?j.inputValue:""}});var B=w.props.onPopupVisibleChange;B&&B(I)},w.handleInputBlur=function(){w.setState({inputFocused:!1})},w.handleInputClick=function(I){var B=w.state,j=B.inputFocused,W=B.popupVisible;(j||W)&&I.stopPropagation()},w.handleKeyDown=function(I){(I.keyCode===Cn.a.BACKSPACE||I.keyCode===Cn.a.SPACE)&&I.stopPropagation()},w.handleInputChange=function(I){var B=w.state.popupVisible,j=I.target.value;B||w.handlePopupVisibleChange(!0),w.setState({inputValue:j})},w.clearSelection=function(I){var B=w.state.inputValue;I.preventDefault(),I.stopPropagation(),B?w.setState({inputValue:""}):(w.handlePopupVisibleChange(!1),w.clearSelectionTimeout=setTimeout(function(){w.setValue([])},200))},w.renderCascader=function(I,B){var j=I.getPopupContainer,W=I.getPrefixCls,Z=I.renderEmpty,ee=I.direction;return N.createElement(ou.b.Consumer,null,function(te){var oe,ce,se,Ce,ye=Object(xu.a)(w),Se=ye.props,_e=ye.state,Ie=Se.prefixCls,Ge=Se.inputPrefixCls,je=Se.children,ke=Se.placeholder,Ze=ke===void 0?B.placeholder||"Please select":ke,He=Se.size,qe=Se.disabled,et=Se.className,nt=Se.style,At=Se.allowClear,ot=Se.showSearch,gt=ot===void 0?!1:ot,wt=Se.suffixIcon,St=Se.expandIcon,bt=Se.notFoundContent,Rt=Se.popupClassName,Xt=Se.bordered,Gt=Se.dropdownRender,tr=QS(Se,["prefixCls","inputPrefixCls","children","placeholder","size","disabled","className","style","allowClear","showSearch","suffixIcon","expandIcon","notFoundContent","popupClassName","bordered","dropdownRender"]),Jt=He||te,sr=_e.value,nr=_e.inputFocused,Or=ee==="rtl",dr=W("cascader",Ie),Mr=W("input",Ge),on=st()((oe={},Object(de.a)(oe,"".concat(Mr,"-lg"),Jt==="large"),Object(de.a)(oe,"".concat(Mr,"-sm"),Jt==="small"),oe)),Fr=At&&!qe&&sr.length>0||_e.inputValue?N.createElement(bs.a,{className:"".concat(dr,"-picker-clear"),onClick:w.clearSelection}):null,wn=st()((ce={},Object(de.a)(ce,"".concat(dr,"-picker-arrow"),!0),Object(de.a)(ce,"".concat(dr,"-picker-arrow-expand"),_e.popupVisible),ce)),Ir=st()("".concat(dr,"-picker"),(se={},Object(de.a)(se,"".concat(dr,"-picker-rtl"),Or),Object(de.a)(se,"".concat(dr,"-picker-with-value"),_e.inputValue),Object(de.a)(se,"".concat(dr,"-picker-disabled"),qe),Object(de.a)(se,"".concat(dr,"-picker-").concat(Jt),!!Jt),Object(de.a)(se,"".concat(dr,"-picker-show-search"),!!gt),Object(de.a)(se,"".concat(dr,"-picker-focused"),nr),Object(de.a)(se,"".concat(dr,"-picker-borderless"),!Xt),se),et),hn=Object(Ar.a)(tr,["onChange","options","popupPlacement","transitionName","displayRender","onPopupVisibleChange","changeOnSelect","expandTrigger","popupVisible","getPopupContainer","loadData","filterOption","renderFilteredOption","sortFilteredOption","fieldNames"]),Fn=Se.options,xn=Nv(w.props);Fn&&Fn.length>0?_e.inputValue&&(Fn=w.generateFilteredOptions(dr,Z)):Fn=[Yb(Z,xn,bt)],_e.popupVisible?w.cachedOptions=Fn:Fn=w.cachedOptions;var rn={},Dr=(Fn||[]).length===1&&Fn[0].isEmptyNode;Dr&&(rn.height="auto");var En=gt.matchInputWidth!==!1;En&&(_e.inputValue||Dr)&&w.input&&(rn.width=w.input.input.offsetWidth);var Jr;wt?Jr=Object(Aa.c)(wt,N.createElement("span",{className:"".concat(dr,"-picker-arrow")},wt),function(){var Ji;return{className:st()((Ji={},Object(de.a)(Ji,wt.props.className,wt.props.className),Object(de.a)(Ji,"".concat(dr,"-picker-arrow"),!0),Ji))}}):Jr=N.createElement(Gp.a,{className:wn});var qr=je||N.createElement("span",{style:nt,className:Ir},N.createElement("span",{className:"".concat(dr,"-picker-label")},w.getLabel()),N.createElement(mr,Object(xe.a)({},hn,{tabIndex:-1,ref:w.saveInput,prefixCls:Mr,placeholder:sr&&sr.length>0?void 0:Ze,className:"".concat(dr,"-input ").concat(on),value:_e.inputValue,disabled:qe,readOnly:!gt,autoComplete:hn.autoComplete||"off",onClick:gt?w.handleInputClick:void 0,onBlur:gt?w.handleInputBlur:void 0,onKeyDown:w.handleKeyDown,onChange:gt?w.handleInputChange:void 0})),Fr,Jr),Tn;St?Tn=St:Tn=Or?N.createElement(wh.a,null):N.createElement(wf.a,null);var Ln=N.createElement("span",{className:"".concat(dr,"-menu-item-loading-icon")},N.createElement(Gb,{spin:!0})),Ci=Se.getPopupContainer||j,di=Object(Ar.a)(Se,["inputIcon","expandIcon","loadingIcon","bordered","className"]),Bo=st()(Rt,(Ce={},Object(de.a)(Ce,"".concat(dr,"-menu-").concat(ee),ee==="rtl"),Object(de.a)(Ce,"".concat(dr,"-menu-empty"),Fn.length===1&&Fn[0].value==="ANT_CASCADER_NOT_FOUND"),Ce));return N.createElement(HC,Object(xe.a)({},di,{prefixCls:dr,getPopupContainer:Ci,options:Fn,value:sr,popupVisible:_e.popupVisible,onPopupVisibleChange:w.handlePopupVisibleChange,onChange:w.handleChange,dropdownMenuColumnStyle:rn,expandIcon:Tn,loadingIcon:Ln,popupClassName:Bo,popupPlacement:w.getPopupPlacement(ee),dropdownRender:Gt}),qr)})},w.state={value:g.value||g.defaultValue||[],inputValue:"",inputFocused:!1,popupVisible:g.popupVisible,flattenOptions:g.showSearch?th(g.options,g):void 0,prevProps:g},w}return Object(No.a)(y,[{key:"componentWillUnmount",value:function(){this.clearSelectionTimeout&&clearTimeout(this.clearSelectionTimeout)}},{key:"getLabel",value:function(){var w=this.props,I=w.options,B=w.displayRender,j=B===void 0?g2:B,W=Nv(this.props),Z=this.state.value,ee=Array.isArray(Z[0])?Z[0]:Z,te=UC()(I,function(ce,se){return ce[W.value]===ee[se]},{childrenKeyName:W.children}),oe=te.length?te.map(function(ce){return ce[W.label]}):Z;return j(oe,te)}},{key:"generateFilteredOptions",value:function(w,I){var B=this,j=this.props,W=j.showSearch,Z=j.notFoundContent,ee=Nv(this.props),te=W.filter,oe=te===void 0?ns:te,ce=W.render,se=ce===void 0?G_:ce,Ce=W.sort,ye=Ce===void 0?rg:Ce,Se=W.limit,_e=Se===void 0?zp:Se,Ie=this.state,Ge=Ie.flattenOptions,je=Ge===void 0?[]:Ge,ke=Ie.inputValue,Ze;if(_e>0){Ze=[];var He=0;je.some(function(et){var nt=oe(B.state.inputValue,et,ee);return nt&&(Ze.push(et),He+=1),He>=_e})}else Object(so.a)(typeof _e!="number","Cascader","'limit' of showSearch should be positive number or false."),Ze=je.filter(function(et){return oe(B.state.inputValue,et,ee)});if(Ze=Ze.sort(function(et,nt){return ye(et,nt,ke,ee)}),Ze.length>0){var qe=ee.value===ee.label?VC:ee.value;return Ze.map(function(et){var nt;return nt={__IS_FILTERED_OPTION:!0,path:et},Object(de.a)(nt,qe,et.map(function(At){return At[ee.value]})),Object(de.a)(nt,ee.label,se(ke,et,w,ee)),Object(de.a)(nt,"disabled",et.some(function(At){return!!At.disabled})),Object(de.a)(nt,"isEmptyNode",!0),nt})}return[Yb(I,ee,Z)]}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"getPopupPlacement",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ltr",I=this.props.popupPlacement;return I!==void 0?I:w==="rtl"?"bottomRight":"bottomLeft"}},{key:"render",value:function(){var w=this;return N.createElement(br.a,null,function(I){return N.createElement(An.a,null,function(B){return w.renderCascader(I,B)})})}}],[{key:"getDerivedStateFromProps",value:function(w,I){var B=I.prevProps,j={prevProps:w};return"value"in w&&(j.value=w.value||[]),"popupVisible"in w&&(j.popupVisible=w.popupVisible),w.showSearch&&B.options!==w.options&&(j.flattenOptions=th(w.options,w)),j}}]),y}(N.Component);_y.defaultProps={transitionName:"slide-up",options:[],disabled:!1,allowClear:!0,bordered:!0};var Xb=_y,My=[{code:"110000",value:"\u5317\u4EAC\u5E02",label:"\u5317\u4EAC\u5E02"},{code:"120000",value:"\u5929\u6D25\u5E02",label:"\u5929\u6D25\u5E02"},{code:"130000",value:"\u6CB3\u5317\u7701",label:"\u6CB3\u5317\u7701",children:[{code:"130100",value:"\u77F3\u5BB6\u5E84\u5E02",label:"\u77F3\u5BB6\u5E84\u5E02"},{code:"130200",value:"\u5510\u5C71\u5E02",label:"\u5510\u5C71\u5E02"},{code:"130300",value:"\u79E6\u7687\u5C9B\u5E02",label:"\u79E6\u7687\u5C9B\u5E02"},{code:"130400",value:"\u90AF\u90F8\u5E02",label:"\u90AF\u90F8\u5E02"},{code:"130500",value:"\u90A2\u53F0\u5E02",label:"\u90A2\u53F0\u5E02"},{code:"130600",value:"\u4FDD\u5B9A\u5E02",label:"\u4FDD\u5B9A\u5E02"},{code:"130700",value:"\u5F20\u5BB6\u53E3\u5E02",label:"\u5F20\u5BB6\u53E3\u5E02"},{code:"130800",value:"\u627F\u5FB7\u5E02",label:"\u627F\u5FB7\u5E02"},{code:"130900",value:"\u6CA7\u5DDE\u5E02",label:"\u6CA7\u5DDE\u5E02"},{code:"131000",value:"\u5ECA\u574A\u5E02",label:"\u5ECA\u574A\u5E02"},{code:"131100",value:"\u8861\u6C34\u5E02",label:"\u8861\u6C34\u5E02"}]},{code:"140000",value:"\u5C71\u897F\u7701",label:"\u5C71\u897F\u7701",children:[{code:"140100",value:"\u592A\u539F\u5E02",label:"\u592A\u539F\u5E02"},{code:"140200",value:"\u5927\u540C\u5E02",label:"\u5927\u540C\u5E02"},{code:"140300",value:"\u9633\u6CC9\u5E02",label:"\u9633\u6CC9\u5E02"},{code:"140400",value:"\u957F\u6CBB\u5E02",label:"\u957F\u6CBB\u5E02"},{code:"140500",value:"\u664B\u57CE\u5E02",label:"\u664B\u57CE\u5E02"},{code:"140600",value:"\u6714\u5DDE\u5E02",label:"\u6714\u5DDE\u5E02"},{code:"140700",value:"\u664B\u4E2D\u5E02",label:"\u664B\u4E2D\u5E02"},{code:"140800",value:"\u8FD0\u57CE\u5E02",label:"\u8FD0\u57CE\u5E02"},{code:"140900",value:"\u5FFB\u5DDE\u5E02",label:"\u5FFB\u5DDE\u5E02"},{code:"141000",value:"\u4E34\u6C7E\u5E02",label:"\u4E34\u6C7E\u5E02"},{code:"141100",value:"\u5415\u6881\u5E02",label:"\u5415\u6881\u5E02"}]},{code:"150000",value:"\u5185\u8499\u53E4\u81EA\u6CBB\u533A",label:"\u5185\u8499\u53E4\u81EA\u6CBB\u533A",children:[{code:"150100",value:"\u547C\u548C\u6D69\u7279\u5E02",label:"\u547C\u548C\u6D69\u7279\u5E02"},{code:"150200",value:"\u5305\u5934\u5E02",label:"\u5305\u5934\u5E02"},{code:"150300",value:"\u4E4C\u6D77\u5E02",label:"\u4E4C\u6D77\u5E02"},{code:"150400",value:"\u8D64\u5CF0\u5E02",label:"\u8D64\u5CF0\u5E02"},{code:"150500",value:"\u901A\u8FBD\u5E02",label:"\u901A\u8FBD\u5E02"},{code:"150600",value:"\u9102\u5C14\u591A\u65AF\u5E02",label:"\u9102\u5C14\u591A\u65AF\u5E02"},{code:"150700",value:"\u547C\u4F26\u8D1D\u5C14\u5E02",label:"\u547C\u4F26\u8D1D\u5C14\u5E02"},{code:"150800",value:"\u5DF4\u5F66\u6DD6\u5C14\u5E02",label:"\u5DF4\u5F66\u6DD6\u5C14\u5E02"},{code:"150900",value:"\u4E4C\u5170\u5BDF\u5E03\u5E02",label:"\u4E4C\u5170\u5BDF\u5E03\u5E02"},{code:"152200",value:"\u5174\u5B89\u76DF",label:"\u5174\u5B89\u76DF"},{code:"152500",value:"\u9521\u6797\u90ED\u52D2\u76DF",label:"\u9521\u6797\u90ED\u52D2\u76DF"},{code:"152900",value:"\u963F\u62C9\u5584\u76DF",label:"\u963F\u62C9\u5584\u76DF"}]},{code:"210000",value:"\u8FBD\u5B81\u7701",label:"\u8FBD\u5B81\u7701",children:[{code:"210100",value:"\u6C88\u9633\u5E02",label:"\u6C88\u9633\u5E02"},{code:"210200",value:"\u5927\u8FDE\u5E02",label:"\u5927\u8FDE\u5E02"},{code:"210300",value:"\u978D\u5C71\u5E02",label:"\u978D\u5C71\u5E02"},{code:"210400",value:"\u629A\u987A\u5E02",label:"\u629A\u987A\u5E02"},{code:"210500",value:"\u672C\u6EAA\u5E02",label:"\u672C\u6EAA\u5E02"},{code:"210600",value:"\u4E39\u4E1C\u5E02",label:"\u4E39\u4E1C\u5E02"},{code:"210700",value:"\u9526\u5DDE\u5E02",label:"\u9526\u5DDE\u5E02"},{code:"210800",value:"\u8425\u53E3\u5E02",label:"\u8425\u53E3\u5E02"},{code:"210900",value:"\u961C\u65B0\u5E02",label:"\u961C\u65B0\u5E02"},{code:"211000",value:"\u8FBD\u9633\u5E02",label:"\u8FBD\u9633\u5E02"},{code:"211100",value:"\u76D8\u9526\u5E02",label:"\u76D8\u9526\u5E02"},{code:"211200",value:"\u94C1\u5CAD\u5E02",label:"\u94C1\u5CAD\u5E02"},{code:"211300",value:"\u671D\u9633\u5E02",label:"\u671D\u9633\u5E02"},{code:"211400",value:"\u846B\u82A6\u5C9B\u5E02",label:"\u846B\u82A6\u5C9B\u5E02"}]},{code:"220000",value:"\u5409\u6797\u7701",label:"\u5409\u6797\u7701",children:[{code:"220100",value:"\u957F\u6625\u5E02",label:"\u957F\u6625\u5E02"},{code:"220200",value:"\u5409\u6797\u5E02",label:"\u5409\u6797\u5E02"},{code:"220300",value:"\u56DB\u5E73\u5E02",label:"\u56DB\u5E73\u5E02"},{code:"220400",value:"\u8FBD\u6E90\u5E02",label:"\u8FBD\u6E90\u5E02"},{code:"220500",value:"\u901A\u5316\u5E02",label:"\u901A\u5316\u5E02"},{code:"220600",value:"\u767D\u5C71\u5E02",label:"\u767D\u5C71\u5E02"},{code:"220700",value:"\u677E\u539F\u5E02",label:"\u677E\u539F\u5E02"},{code:"220800",value:"\u767D\u57CE\u5E02",label:"\u767D\u57CE\u5E02"},{code:"222400",value:"\u5EF6\u8FB9\u671D\u9C9C\u65CF\u81EA\u6CBB\u5DDE",label:"\u5EF6\u8FB9\u671D\u9C9C\u65CF\u81EA\u6CBB\u5DDE"}]},{code:"230000",value:"\u9ED1\u9F99\u6C5F\u7701",label:"\u9ED1\u9F99\u6C5F\u7701",children:[{code:"230100",value:"\u54C8\u5C14\u6EE8\u5E02",label:"\u54C8\u5C14\u6EE8\u5E02"},{code:"230200",value:"\u9F50\u9F50\u54C8\u5C14\u5E02",label:"\u9F50\u9F50\u54C8\u5C14\u5E02"},{code:"230300",value:"\u9E21\u897F\u5E02",label:"\u9E21\u897F\u5E02"},{code:"230400",value:"\u9E64\u5C97\u5E02",label:"\u9E64\u5C97\u5E02"},{code:"230500",value:"\u53CC\u9E2D\u5C71\u5E02",label:"\u53CC\u9E2D\u5C71\u5E02"},{code:"230600",value:"\u5927\u5E86\u5E02",label:"\u5927\u5E86\u5E02"},{code:"230700",value:"\u4F0A\u6625\u5E02",label:"\u4F0A\u6625\u5E02"},{code:"230800",value:"\u4F73\u6728\u65AF\u5E02",label:"\u4F73\u6728\u65AF\u5E02"},{code:"230900",value:"\u4E03\u53F0\u6CB3\u5E02",label:"\u4E03\u53F0\u6CB3\u5E02"},{code:"231000",value:"\u7261\u4E39\u6C5F\u5E02",label:"\u7261\u4E39\u6C5F\u5E02"},{code:"231100",value:"\u9ED1\u6CB3\u5E02",label:"\u9ED1\u6CB3\u5E02"},{code:"231200",value:"\u7EE5\u5316\u5E02",label:"\u7EE5\u5316\u5E02"},{code:"232700",value:"\u5927\u5174\u5B89\u5CAD\u5730\u533A",label:"\u5927\u5174\u5B89\u5CAD\u5730\u533A"}]},{code:"310000",value:"\u4E0A\u6D77\u5E02",label:"\u4E0A\u6D77\u5E02"},{code:"320000",value:"\u6C5F\u82CF\u7701",label:"\u6C5F\u82CF\u7701",children:[{code:"320100",value:"\u5357\u4EAC\u5E02",label:"\u5357\u4EAC\u5E02"},{code:"320200",value:"\u65E0\u9521\u5E02",label:"\u65E0\u9521\u5E02"},{code:"320300",value:"\u5F90\u5DDE\u5E02",label:"\u5F90\u5DDE\u5E02"},{code:"320400",value:"\u5E38\u5DDE\u5E02",label:"\u5E38\u5DDE\u5E02"},{code:"320500",value:"\u82CF\u5DDE\u5E02",label:"\u82CF\u5DDE\u5E02"},{code:"320600",value:"\u5357\u901A\u5E02",label:"\u5357\u901A\u5E02"},{code:"320700",value:"\u8FDE\u4E91\u6E2F\u5E02",label:"\u8FDE\u4E91\u6E2F\u5E02"},{code:"320800",value:"\u6DEE\u5B89\u5E02",label:"\u6DEE\u5B89\u5E02"},{code:"320900",value:"\u76D0\u57CE\u5E02",label:"\u76D0\u57CE\u5E02"},{code:"321000",value:"\u626C\u5DDE\u5E02",label:"\u626C\u5DDE\u5E02"},{code:"321100",value:"\u9547\u6C5F\u5E02",label:"\u9547\u6C5F\u5E02"},{code:"321200",value:"\u6CF0\u5DDE\u5E02",label:"\u6CF0\u5DDE\u5E02"},{code:"321300",value:"\u5BBF\u8FC1\u5E02",label:"\u5BBF\u8FC1\u5E02"}]},{code:"330000",value:"\u6D59\u6C5F\u7701",label:"\u6D59\u6C5F\u7701",children:[{code:"330100",value:"\u676D\u5DDE\u5E02",label:"\u676D\u5DDE\u5E02"},{code:"330200",value:"\u5B81\u6CE2\u5E02",label:"\u5B81\u6CE2\u5E02"},{code:"330300",value:"\u6E29\u5DDE\u5E02",label:"\u6E29\u5DDE\u5E02"},{code:"330400",value:"\u5609\u5174\u5E02",label:"\u5609\u5174\u5E02"},{code:"330500",value:"\u6E56\u5DDE\u5E02",label:"\u6E56\u5DDE\u5E02"},{code:"330600",value:"\u7ECD\u5174\u5E02",label:"\u7ECD\u5174\u5E02"},{code:"330700",value:"\u91D1\u534E\u5E02",label:"\u91D1\u534E\u5E02"},{code:"330800",value:"\u8862\u5DDE\u5E02",label:"\u8862\u5DDE\u5E02"},{code:"330900",value:"\u821F\u5C71\u5E02",label:"\u821F\u5C71\u5E02"},{code:"331000",value:"\u53F0\u5DDE\u5E02",label:"\u53F0\u5DDE\u5E02"},{code:"331100",value:"\u4E3D\u6C34\u5E02",label:"\u4E3D\u6C34\u5E02"}]},{code:"340000",value:"\u5B89\u5FBD\u7701",label:"\u5B89\u5FBD\u7701",children:[{code:"340100",value:"\u5408\u80A5\u5E02",label:"\u5408\u80A5\u5E02"},{code:"340200",value:"\u829C\u6E56\u5E02",label:"\u829C\u6E56\u5E02"},{code:"340300",value:"\u868C\u57E0\u5E02",label:"\u868C\u57E0\u5E02"},{code:"340400",value:"\u6DEE\u5357\u5E02",label:"\u6DEE\u5357\u5E02"},{code:"340500",value:"\u9A6C\u978D\u5C71\u5E02",label:"\u9A6C\u978D\u5C71\u5E02"},{code:"340600",value:"\u6DEE\u5317\u5E02",label:"\u6DEE\u5317\u5E02"},{code:"340700",value:"\u94DC\u9675\u5E02",label:"\u94DC\u9675\u5E02"},{code:"340800",value:"\u5B89\u5E86\u5E02",label:"\u5B89\u5E86\u5E02"},{code:"341000",value:"\u9EC4\u5C71\u5E02",label:"\u9EC4\u5C71\u5E02"},{code:"341100",value:"\u6EC1\u5DDE\u5E02",label:"\u6EC1\u5DDE\u5E02"},{code:"341200",value:"\u961C\u9633\u5E02",label:"\u961C\u9633\u5E02"},{code:"341300",value:"\u5BBF\u5DDE\u5E02",label:"\u5BBF\u5DDE\u5E02"},{code:"341500",value:"\u516D\u5B89\u5E02",label:"\u516D\u5B89\u5E02"},{code:"341600",value:"\u4EB3\u5DDE\u5E02",label:"\u4EB3\u5DDE\u5E02"},{code:"341700",value:"\u6C60\u5DDE\u5E02",label:"\u6C60\u5DDE\u5E02"},{code:"341800",value:"\u5BA3\u57CE\u5E02",label:"\u5BA3\u57CE\u5E02"}]},{code:"350000",value:"\u798F\u5EFA\u7701",label:"\u798F\u5EFA\u7701",children:[{code:"350100",value:"\u798F\u5DDE\u5E02",label:"\u798F\u5DDE\u5E02"},{code:"350200",value:"\u53A6\u95E8\u5E02",label:"\u53A6\u95E8\u5E02"},{code:"350300",value:"\u8386\u7530\u5E02",label:"\u8386\u7530\u5E02"},{code:"350400",value:"\u4E09\u660E\u5E02",label:"\u4E09\u660E\u5E02"},{code:"350500",value:"\u6CC9\u5DDE\u5E02",label:"\u6CC9\u5DDE\u5E02"},{code:"350600",value:"\u6F33\u5DDE\u5E02",label:"\u6F33\u5DDE\u5E02"},{code:"350700",value:"\u5357\u5E73\u5E02",label:"\u5357\u5E73\u5E02"},{code:"350800",value:"\u9F99\u5CA9\u5E02",label:"\u9F99\u5CA9\u5E02"},{code:"350900",value:"\u5B81\u5FB7\u5E02",label:"\u5B81\u5FB7\u5E02"}]},{code:"360000",value:"\u6C5F\u897F\u7701",label:"\u6C5F\u897F\u7701",children:[{code:"360100",value:"\u5357\u660C\u5E02",label:"\u5357\u660C\u5E02"},{code:"360200",value:"\u666F\u5FB7\u9547\u5E02",label:"\u666F\u5FB7\u9547\u5E02"},{code:"360300",value:"\u840D\u4E61\u5E02",label:"\u840D\u4E61\u5E02"},{code:"360400",value:"\u4E5D\u6C5F\u5E02",label:"\u4E5D\u6C5F\u5E02"},{code:"360500",value:"\u65B0\u4F59\u5E02",label:"\u65B0\u4F59\u5E02"},{code:"360600",value:"\u9E70\u6F6D\u5E02",label:"\u9E70\u6F6D\u5E02"},{code:"360700",value:"\u8D63\u5DDE\u5E02",label:"\u8D63\u5DDE\u5E02"},{code:"360800",value:"\u5409\u5B89\u5E02",label:"\u5409\u5B89\u5E02"},{code:"360900",value:"\u5B9C\u6625\u5E02",label:"\u5B9C\u6625\u5E02"},{code:"361000",value:"\u629A\u5DDE\u5E02",label:"\u629A\u5DDE\u5E02"},{code:"361100",value:"\u4E0A\u9976\u5E02",label:"\u4E0A\u9976\u5E02"}]},{code:"370000",value:"\u5C71\u4E1C\u7701",label:"\u5C71\u4E1C\u7701",children:[{code:"370100",value:"\u6D4E\u5357\u5E02",label:"\u6D4E\u5357\u5E02"},{code:"370200",value:"\u9752\u5C9B\u5E02",label:"\u9752\u5C9B\u5E02"},{code:"370300",value:"\u6DC4\u535A\u5E02",label:"\u6DC4\u535A\u5E02"},{code:"370400",value:"\u67A3\u5E84\u5E02",label:"\u67A3\u5E84\u5E02"},{code:"370500",value:"\u4E1C\u8425\u5E02",label:"\u4E1C\u8425\u5E02"},{code:"370600",value:"\u70DF\u53F0\u5E02",label:"\u70DF\u53F0\u5E02"},{code:"370700",value:"\u6F4D\u574A\u5E02",label:"\u6F4D\u574A\u5E02"},{code:"370800",value:"\u6D4E\u5B81\u5E02",label:"\u6D4E\u5B81\u5E02"},{code:"370900",value:"\u6CF0\u5B89\u5E02",label:"\u6CF0\u5B89\u5E02"},{code:"371000",value:"\u5A01\u6D77\u5E02",label:"\u5A01\u6D77\u5E02"},{code:"371100",value:"\u65E5\u7167\u5E02",label:"\u65E5\u7167\u5E02"},{code:"371300",value:"\u4E34\u6C82\u5E02",label:"\u4E34\u6C82\u5E02"},{code:"371400",value:"\u5FB7\u5DDE\u5E02",label:"\u5FB7\u5DDE\u5E02"},{code:"371500",value:"\u804A\u57CE\u5E02",label:"\u804A\u57CE\u5E02"},{code:"371600",value:"\u6EE8\u5DDE\u5E02",label:"\u6EE8\u5DDE\u5E02"},{code:"371700",value:"\u83CF\u6CFD\u5E02",label:"\u83CF\u6CFD\u5E02"}]},{code:"410000",value:"\u6CB3\u5357\u7701",label:"\u6CB3\u5357\u7701",children:[{code:"410100",value:"\u90D1\u5DDE\u5E02",label:"\u90D1\u5DDE\u5E02"},{code:"410200",value:"\u5F00\u5C01\u5E02",label:"\u5F00\u5C01\u5E02"},{code:"410300",value:"\u6D1B\u9633\u5E02",label:"\u6D1B\u9633\u5E02"},{code:"410400",value:"\u5E73\u9876\u5C71\u5E02",label:"\u5E73\u9876\u5C71\u5E02"},{code:"410500",value:"\u5B89\u9633\u5E02",label:"\u5B89\u9633\u5E02"},{code:"410600",value:"\u9E64\u58C1\u5E02",label:"\u9E64\u58C1\u5E02"},{code:"410700",value:"\u65B0\u4E61\u5E02",label:"\u65B0\u4E61\u5E02"},{code:"410800",value:"\u7126\u4F5C\u5E02",label:"\u7126\u4F5C\u5E02"},{code:"410900",value:"\u6FEE\u9633\u5E02",label:"\u6FEE\u9633\u5E02"},{code:"411000",value:"\u8BB8\u660C\u5E02",label:"\u8BB8\u660C\u5E02"},{code:"411100",value:"\u6F2F\u6CB3\u5E02",label:"\u6F2F\u6CB3\u5E02"},{code:"411200",value:"\u4E09\u95E8\u5CE1\u5E02",label:"\u4E09\u95E8\u5CE1\u5E02"},{code:"411300",value:"\u5357\u9633\u5E02",label:"\u5357\u9633\u5E02"},{code:"411400",value:"\u5546\u4E18\u5E02",label:"\u5546\u4E18\u5E02"},{code:"411500",value:"\u4FE1\u9633\u5E02",label:"\u4FE1\u9633\u5E02"},{code:"411600",value:"\u5468\u53E3\u5E02",label:"\u5468\u53E3\u5E02"},{code:"411700",value:"\u9A7B\u9A6C\u5E97\u5E02",label:"\u9A7B\u9A6C\u5E97\u5E02"},{code:"419001",value:"\u6D4E\u6E90\u5E02",label:"\u6D4E\u6E90\u5E02"}]},{code:"420000",value:"\u6E56\u5317\u7701",label:"\u6E56\u5317\u7701",children:[{code:"420100",value:"\u6B66\u6C49\u5E02",label:"\u6B66\u6C49\u5E02"},{code:"420200",value:"\u9EC4\u77F3\u5E02",label:"\u9EC4\u77F3\u5E02"},{code:"420300",value:"\u5341\u5830\u5E02",label:"\u5341\u5830\u5E02"},{code:"420500",value:"\u5B9C\u660C\u5E02",label:"\u5B9C\u660C\u5E02"},{code:"420600",value:"\u8944\u9633\u5E02",label:"\u8944\u9633\u5E02"},{code:"420700",value:"\u9102\u5DDE\u5E02",label:"\u9102\u5DDE\u5E02"},{code:"420800",value:"\u8346\u95E8\u5E02",label:"\u8346\u95E8\u5E02"},{code:"420900",value:"\u5B5D\u611F\u5E02",label:"\u5B5D\u611F\u5E02"},{code:"421000",value:"\u8346\u5DDE\u5E02",label:"\u8346\u5DDE\u5E02"},{code:"421100",value:"\u9EC4\u5188\u5E02",label:"\u9EC4\u5188\u5E02"},{code:"421200",value:"\u54B8\u5B81\u5E02",label:"\u54B8\u5B81\u5E02"},{code:"421300",value:"\u968F\u5DDE\u5E02",label:"\u968F\u5DDE\u5E02"},{code:"422800",value:"\u6069\u65BD\u571F\u5BB6\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE",label:"\u6069\u65BD\u571F\u5BB6\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE"},{code:"429004",value:"\u4ED9\u6843\u5E02",label:"\u4ED9\u6843\u5E02"},{code:"429005",value:"\u6F5C\u6C5F\u5E02",label:"\u6F5C\u6C5F\u5E02"},{code:"429006",value:"\u5929\u95E8\u5E02",label:"\u5929\u95E8\u5E02"},{code:"429021",value:"\u795E\u519C\u67B6\u6797\u533A",label:"\u795E\u519C\u67B6\u6797\u533A"}]},{code:"430000",value:"\u6E56\u5357\u7701",label:"\u6E56\u5357\u7701",children:[{code:"430100",value:"\u957F\u6C99\u5E02",label:"\u957F\u6C99\u5E02"},{code:"430200",value:"\u682A\u6D32\u5E02",label:"\u682A\u6D32\u5E02"},{code:"430300",value:"\u6E58\u6F6D\u5E02",label:"\u6E58\u6F6D\u5E02"},{code:"430400",value:"\u8861\u9633\u5E02",label:"\u8861\u9633\u5E02"},{code:"430500",value:"\u90B5\u9633\u5E02",label:"\u90B5\u9633\u5E02"},{code:"430600",value:"\u5CB3\u9633\u5E02",label:"\u5CB3\u9633\u5E02"},{code:"430700",value:"\u5E38\u5FB7\u5E02",label:"\u5E38\u5FB7\u5E02"},{code:"430800",value:"\u5F20\u5BB6\u754C\u5E02",label:"\u5F20\u5BB6\u754C\u5E02"},{code:"430900",value:"\u76CA\u9633\u5E02",label:"\u76CA\u9633\u5E02"},{code:"431000",value:"\u90F4\u5DDE\u5E02",label:"\u90F4\u5DDE\u5E02"},{code:"431100",value:"\u6C38\u5DDE\u5E02",label:"\u6C38\u5DDE\u5E02"},{code:"431200",value:"\u6000\u5316\u5E02",label:"\u6000\u5316\u5E02"},{code:"431300",value:"\u5A04\u5E95\u5E02",label:"\u5A04\u5E95\u5E02"},{code:"433100",value:"\u6E58\u897F\u571F\u5BB6\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE",label:"\u6E58\u897F\u571F\u5BB6\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE"}]},{code:"440000",value:"\u5E7F\u4E1C\u7701",label:"\u5E7F\u4E1C\u7701",children:[{code:"440100",value:"\u5E7F\u5DDE\u5E02",label:"\u5E7F\u5DDE\u5E02"},{code:"440200",value:"\u97F6\u5173\u5E02",label:"\u97F6\u5173\u5E02"},{code:"440300",value:"\u6DF1\u5733\u5E02",label:"\u6DF1\u5733\u5E02"},{code:"440400",value:"\u73E0\u6D77\u5E02",label:"\u73E0\u6D77\u5E02"},{code:"440500",value:"\u6C55\u5934\u5E02",label:"\u6C55\u5934\u5E02"},{code:"440600",value:"\u4F5B\u5C71\u5E02",label:"\u4F5B\u5C71\u5E02"},{code:"440700",value:"\u6C5F\u95E8\u5E02",label:"\u6C5F\u95E8\u5E02"},{code:"440800",value:"\u6E5B\u6C5F\u5E02",label:"\u6E5B\u6C5F\u5E02"},{code:"440900",value:"\u8302\u540D\u5E02",label:"\u8302\u540D\u5E02"},{code:"441200",value:"\u8087\u5E86\u5E02",label:"\u8087\u5E86\u5E02"},{code:"441300",value:"\u60E0\u5DDE\u5E02",label:"\u60E0\u5DDE\u5E02"},{code:"441400",value:"\u6885\u5DDE\u5E02",label:"\u6885\u5DDE\u5E02"},{code:"441500",value:"\u6C55\u5C3E\u5E02",label:"\u6C55\u5C3E\u5E02"},{code:"441600",value:"\u6CB3\u6E90\u5E02",label:"\u6CB3\u6E90\u5E02"},{code:"441700",value:"\u9633\u6C5F\u5E02",label:"\u9633\u6C5F\u5E02"},{code:"441800",value:"\u6E05\u8FDC\u5E02",label:"\u6E05\u8FDC\u5E02"},{code:"441900",value:"\u4E1C\u839E\u5E02",label:"\u4E1C\u839E\u5E02"},{code:"442000",value:"\u4E2D\u5C71\u5E02",label:"\u4E2D\u5C71\u5E02"},{code:"445100",value:"\u6F6E\u5DDE\u5E02",label:"\u6F6E\u5DDE\u5E02"},{code:"445200",value:"\u63ED\u9633\u5E02",label:"\u63ED\u9633\u5E02"},{code:"445300",value:"\u4E91\u6D6E\u5E02",label:"\u4E91\u6D6E\u5E02"}]},{code:"450000",value:"\u5E7F\u897F\u58EE\u65CF\u81EA\u6CBB\u533A",label:"\u5E7F\u897F\u58EE\u65CF\u81EA\u6CBB\u533A",children:[{code:"450100",value:"\u5357\u5B81\u5E02",label:"\u5357\u5B81\u5E02"},{code:"450200",value:"\u67F3\u5DDE\u5E02",label:"\u67F3\u5DDE\u5E02"},{code:"450300",value:"\u6842\u6797\u5E02",label:"\u6842\u6797\u5E02"},{code:"450400",value:"\u68A7\u5DDE\u5E02",label:"\u68A7\u5DDE\u5E02"},{code:"450500",value:"\u5317\u6D77\u5E02",label:"\u5317\u6D77\u5E02"},{code:"450600",value:"\u9632\u57CE\u6E2F\u5E02",label:"\u9632\u57CE\u6E2F\u5E02"},{code:"450700",value:"\u94A6\u5DDE\u5E02",label:"\u94A6\u5DDE\u5E02"},{code:"450800",value:"\u8D35\u6E2F\u5E02",label:"\u8D35\u6E2F\u5E02"},{code:"450900",value:"\u7389\u6797\u5E02",label:"\u7389\u6797\u5E02"},{code:"451000",value:"\u767E\u8272\u5E02",label:"\u767E\u8272\u5E02"},{code:"451100",value:"\u8D3A\u5DDE\u5E02",label:"\u8D3A\u5DDE\u5E02"},{code:"451200",value:"\u6CB3\u6C60\u5E02",label:"\u6CB3\u6C60\u5E02"},{code:"451300",value:"\u6765\u5BBE\u5E02",label:"\u6765\u5BBE\u5E02"},{code:"451400",value:"\u5D07\u5DE6\u5E02",label:"\u5D07\u5DE6\u5E02"}]},{code:"460000",value:"\u6D77\u5357\u7701",label:"\u6D77\u5357\u7701",children:[{code:"460100",value:"\u6D77\u53E3\u5E02",label:"\u6D77\u53E3\u5E02"},{code:"460200",value:"\u4E09\u4E9A\u5E02",label:"\u4E09\u4E9A\u5E02"},{code:"460300",value:"\u4E09\u6C99\u5E02",label:"\u4E09\u6C99\u5E02"},{code:"460400",value:"\u510B\u5DDE\u5E02",label:"\u510B\u5DDE\u5E02"},{code:"469001",value:"\u4E94\u6307\u5C71\u5E02",label:"\u4E94\u6307\u5C71\u5E02"},{code:"469002",value:"\u743C\u6D77\u5E02",label:"\u743C\u6D77\u5E02"},{code:"469005",value:"\u6587\u660C\u5E02",label:"\u6587\u660C\u5E02"},{code:"469006",value:"\u4E07\u5B81\u5E02",label:"\u4E07\u5B81\u5E02"},{code:"469007",value:"\u4E1C\u65B9\u5E02",label:"\u4E1C\u65B9\u5E02"},{code:"469021",value:"\u5B9A\u5B89\u53BF",label:"\u5B9A\u5B89\u53BF"},{code:"469022",value:"\u5C6F\u660C\u53BF",label:"\u5C6F\u660C\u53BF"},{code:"469023",value:"\u6F84\u8FC8\u53BF",label:"\u6F84\u8FC8\u53BF"},{code:"469024",value:"\u4E34\u9AD8\u53BF",label:"\u4E34\u9AD8\u53BF"},{code:"469025",value:"\u767D\u6C99\u9ECE\u65CF\u81EA\u6CBB\u53BF",label:"\u767D\u6C99\u9ECE\u65CF\u81EA\u6CBB\u53BF"},{code:"469026",value:"\u660C\u6C5F\u9ECE\u65CF\u81EA\u6CBB\u53BF",label:"\u660C\u6C5F\u9ECE\u65CF\u81EA\u6CBB\u53BF"},{code:"469027",value:"\u4E50\u4E1C\u9ECE\u65CF\u81EA\u6CBB\u53BF",label:"\u4E50\u4E1C\u9ECE\u65CF\u81EA\u6CBB\u53BF"},{code:"469028",value:"\u9675\u6C34\u9ECE\u65CF\u81EA\u6CBB\u53BF",label:"\u9675\u6C34\u9ECE\u65CF\u81EA\u6CBB\u53BF"},{code:"469029",value:"\u4FDD\u4EAD\u9ECE\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF",label:"\u4FDD\u4EAD\u9ECE\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF"},{code:"469030",value:"\u743C\u4E2D\u9ECE\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF",label:"\u743C\u4E2D\u9ECE\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF"}]},{code:"500000",value:"\u91CD\u5E86\u5E02",label:"\u91CD\u5E86\u5E02"},{code:"510000",value:"\u56DB\u5DDD\u7701",label:"\u56DB\u5DDD\u7701",children:[{code:"510100",value:"\u6210\u90FD\u5E02",label:"\u6210\u90FD\u5E02"},{code:"510300",value:"\u81EA\u8D21\u5E02",label:"\u81EA\u8D21\u5E02"},{code:"510400",value:"\u6500\u679D\u82B1\u5E02",label:"\u6500\u679D\u82B1\u5E02"},{code:"510500",value:"\u6CF8\u5DDE\u5E02",label:"\u6CF8\u5DDE\u5E02"},{code:"510600",value:"\u5FB7\u9633\u5E02",label:"\u5FB7\u9633\u5E02"},{code:"510700",value:"\u7EF5\u9633\u5E02",label:"\u7EF5\u9633\u5E02"},{code:"510800",value:"\u5E7F\u5143\u5E02",label:"\u5E7F\u5143\u5E02"},{code:"510900",value:"\u9042\u5B81\u5E02",label:"\u9042\u5B81\u5E02"},{code:"511000",value:"\u5185\u6C5F\u5E02",label:"\u5185\u6C5F\u5E02"},{code:"511100",value:"\u4E50\u5C71\u5E02",label:"\u4E50\u5C71\u5E02"},{code:"511300",value:"\u5357\u5145\u5E02",label:"\u5357\u5145\u5E02"},{code:"511400",value:"\u7709\u5C71\u5E02",label:"\u7709\u5C71\u5E02"},{code:"511500",value:"\u5B9C\u5BBE\u5E02",label:"\u5B9C\u5BBE\u5E02"},{code:"511600",value:"\u5E7F\u5B89\u5E02",label:"\u5E7F\u5B89\u5E02"},{code:"511700",value:"\u8FBE\u5DDE\u5E02",label:"\u8FBE\u5DDE\u5E02"},{code:"511800",value:"\u96C5\u5B89\u5E02",label:"\u96C5\u5B89\u5E02"},{code:"511900",value:"\u5DF4\u4E2D\u5E02",label:"\u5DF4\u4E2D\u5E02"},{code:"512000",value:"\u8D44\u9633\u5E02",label:"\u8D44\u9633\u5E02"},{code:"513200",value:"\u963F\u575D\u85CF\u65CF\u7F8C\u65CF\u81EA\u6CBB\u5DDE",label:"\u963F\u575D\u85CF\u65CF\u7F8C\u65CF\u81EA\u6CBB\u5DDE"},{code:"513300",value:"\u7518\u5B5C\u85CF\u65CF\u81EA\u6CBB\u5DDE",label:"\u7518\u5B5C\u85CF\u65CF\u81EA\u6CBB\u5DDE"},{code:"513400",value:"\u51C9\u5C71\u5F5D\u65CF\u81EA\u6CBB\u5DDE",label:"\u51C9\u5C71\u5F5D\u65CF\u81EA\u6CBB\u5DDE"}]},{code:"520000",value:"\u8D35\u5DDE\u7701",label:"\u8D35\u5DDE\u7701",children:[{code:"520100",value:"\u8D35\u9633\u5E02",label:"\u8D35\u9633\u5E02"},{code:"520200",value:"\u516D\u76D8\u6C34\u5E02",label:"\u516D\u76D8\u6C34\u5E02"},{code:"520300",value:"\u9075\u4E49\u5E02",label:"\u9075\u4E49\u5E02"},{code:"520400",value:"\u5B89\u987A\u5E02",label:"\u5B89\u987A\u5E02"},{code:"520500",value:"\u6BD5\u8282\u5E02",label:"\u6BD5\u8282\u5E02"},{code:"520600",value:"\u94DC\u4EC1\u5E02",label:"\u94DC\u4EC1\u5E02"},{code:"522300",value:"\u9ED4\u897F\u5357\u5E03\u4F9D\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE",label:"\u9ED4\u897F\u5357\u5E03\u4F9D\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE"},{code:"522600",value:"\u9ED4\u4E1C\u5357\u82D7\u65CF\u4F97\u65CF\u81EA\u6CBB\u5DDE",label:"\u9ED4\u4E1C\u5357\u82D7\u65CF\u4F97\u65CF\u81EA\u6CBB\u5DDE"},{code:"522700",value:"\u9ED4\u5357\u5E03\u4F9D\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE",label:"\u9ED4\u5357\u5E03\u4F9D\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE"}]},{code:"530000",value:"\u4E91\u5357\u7701",label:"\u4E91\u5357\u7701",children:[{code:"530100",value:"\u6606\u660E\u5E02",label:"\u6606\u660E\u5E02"},{code:"530300",value:"\u66F2\u9756\u5E02",label:"\u66F2\u9756\u5E02"},{code:"530400",value:"\u7389\u6EAA\u5E02",label:"\u7389\u6EAA\u5E02"},{code:"530500",value:"\u4FDD\u5C71\u5E02",label:"\u4FDD\u5C71\u5E02"},{code:"530600",value:"\u662D\u901A\u5E02",label:"\u662D\u901A\u5E02"},{code:"530700",value:"\u4E3D\u6C5F\u5E02",label:"\u4E3D\u6C5F\u5E02"},{code:"530800",value:"\u666E\u6D31\u5E02",label:"\u666E\u6D31\u5E02"},{code:"530900",value:"\u4E34\u6CA7\u5E02",label:"\u4E34\u6CA7\u5E02"},{code:"532300",value:"\u695A\u96C4\u5F5D\u65CF\u81EA\u6CBB\u5DDE",label:"\u695A\u96C4\u5F5D\u65CF\u81EA\u6CBB\u5DDE"},{code:"532500",value:"\u7EA2\u6CB3\u54C8\u5C3C\u65CF\u5F5D\u65CF\u81EA\u6CBB\u5DDE",label:"\u7EA2\u6CB3\u54C8\u5C3C\u65CF\u5F5D\u65CF\u81EA\u6CBB\u5DDE"},{code:"532600",value:"\u6587\u5C71\u58EE\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE",label:"\u6587\u5C71\u58EE\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE"},{code:"532800",value:"\u897F\u53CC\u7248\u7EB3\u50A3\u65CF\u81EA\u6CBB\u5DDE",label:"\u897F\u53CC\u7248\u7EB3\u50A3\u65CF\u81EA\u6CBB\u5DDE"},{code:"532900",value:"\u5927\u7406\u767D\u65CF\u81EA\u6CBB\u5DDE",label:"\u5927\u7406\u767D\u65CF\u81EA\u6CBB\u5DDE"},{code:"533100",value:"\u5FB7\u5B8F\u50A3\u65CF\u666F\u9887\u65CF\u81EA\u6CBB\u5DDE",label:"\u5FB7\u5B8F\u50A3\u65CF\u666F\u9887\u65CF\u81EA\u6CBB\u5DDE"},{code:"533300",value:"\u6012\u6C5F\u5088\u50F3\u65CF\u81EA\u6CBB\u5DDE",label:"\u6012\u6C5F\u5088\u50F3\u65CF\u81EA\u6CBB\u5DDE"},{code:"533400",value:"\u8FEA\u5E86\u85CF\u65CF\u81EA\u6CBB\u5DDE",label:"\u8FEA\u5E86\u85CF\u65CF\u81EA\u6CBB\u5DDE"}]},{code:"540000",value:"\u897F\u85CF\u81EA\u6CBB\u533A",label:"\u897F\u85CF\u81EA\u6CBB\u533A",children:[{code:"540100",value:"\u62C9\u8428\u5E02",label:"\u62C9\u8428\u5E02"},{code:"540200",value:"\u65E5\u5580\u5219\u5E02",label:"\u65E5\u5580\u5219\u5E02"},{code:"540300",value:"\u660C\u90FD\u5E02",label:"\u660C\u90FD\u5E02"},{code:"540400",value:"\u6797\u829D\u5E02",label:"\u6797\u829D\u5E02"},{code:"540500",value:"\u5C71\u5357\u5E02",label:"\u5C71\u5357\u5E02"},{code:"540600",value:"\u90A3\u66F2\u5E02",label:"\u90A3\u66F2\u5E02"},{code:"542500",value:"\u963F\u91CC\u5730\u533A",label:"\u963F\u91CC\u5730\u533A"}]},{code:"610000",value:"\u9655\u897F\u7701",label:"\u9655\u897F\u7701",children:[{code:"610100",value:"\u897F\u5B89\u5E02",label:"\u897F\u5B89\u5E02"},{code:"610200",value:"\u94DC\u5DDD\u5E02",label:"\u94DC\u5DDD\u5E02"},{code:"610300",value:"\u5B9D\u9E21\u5E02",label:"\u5B9D\u9E21\u5E02"},{code:"610400",value:"\u54B8\u9633\u5E02",label:"\u54B8\u9633\u5E02"},{code:"610500",value:"\u6E2D\u5357\u5E02",label:"\u6E2D\u5357\u5E02"},{code:"610600",value:"\u5EF6\u5B89\u5E02",label:"\u5EF6\u5B89\u5E02"},{code:"610700",value:"\u6C49\u4E2D\u5E02",label:"\u6C49\u4E2D\u5E02"},{code:"610800",value:"\u6986\u6797\u5E02",label:"\u6986\u6797\u5E02"},{code:"610900",value:"\u5B89\u5EB7\u5E02",label:"\u5B89\u5EB7\u5E02"},{code:"611000",value:"\u5546\u6D1B\u5E02",label:"\u5546\u6D1B\u5E02"}]},{code:"620000",value:"\u7518\u8083\u7701",label:"\u7518\u8083\u7701",children:[{code:"620100",value:"\u5170\u5DDE\u5E02",label:"\u5170\u5DDE\u5E02"},{code:"620200",value:"\u5609\u5CEA\u5173\u5E02",label:"\u5609\u5CEA\u5173\u5E02"},{code:"620300",value:"\u91D1\u660C\u5E02",label:"\u91D1\u660C\u5E02"},{code:"620400",value:"\u767D\u94F6\u5E02",label:"\u767D\u94F6\u5E02"},{code:"620500",value:"\u5929\u6C34\u5E02",label:"\u5929\u6C34\u5E02"},{code:"620600",value:"\u6B66\u5A01\u5E02",label:"\u6B66\u5A01\u5E02"},{code:"620700",value:"\u5F20\u6396\u5E02",label:"\u5F20\u6396\u5E02"},{code:"620800",value:"\u5E73\u51C9\u5E02",label:"\u5E73\u51C9\u5E02"},{code:"620900",value:"\u9152\u6CC9\u5E02",label:"\u9152\u6CC9\u5E02"},{code:"621000",value:"\u5E86\u9633\u5E02",label:"\u5E86\u9633\u5E02"},{code:"621100",value:"\u5B9A\u897F\u5E02",label:"\u5B9A\u897F\u5E02"},{code:"621200",value:"\u9647\u5357\u5E02",label:"\u9647\u5357\u5E02"},{code:"622900",value:"\u4E34\u590F\u56DE\u65CF\u81EA\u6CBB\u5DDE",label:"\u4E34\u590F\u56DE\u65CF\u81EA\u6CBB\u5DDE"},{code:"623000",value:"\u7518\u5357\u85CF\u65CF\u81EA\u6CBB\u5DDE",label:"\u7518\u5357\u85CF\u65CF\u81EA\u6CBB\u5DDE"}]},{code:"630000",value:"\u9752\u6D77\u7701",label:"\u9752\u6D77\u7701",children:[{code:"630100",value:"\u897F\u5B81\u5E02",label:"\u897F\u5B81\u5E02"},{code:"630200",value:"\u6D77\u4E1C\u5E02",label:"\u6D77\u4E1C\u5E02"},{code:"632200",value:"\u6D77\u5317\u85CF\u65CF\u81EA\u6CBB\u5DDE",label:"\u6D77\u5317\u85CF\u65CF\u81EA\u6CBB\u5DDE"},{code:"632300",value:"\u9EC4\u5357\u85CF\u65CF\u81EA\u6CBB\u5DDE",label:"\u9EC4\u5357\u85CF\u65CF\u81EA\u6CBB\u5DDE"},{code:"632500",value:"\u6D77\u5357\u85CF\u65CF\u81EA\u6CBB\u5DDE",label:"\u6D77\u5357\u85CF\u65CF\u81EA\u6CBB\u5DDE"},{code:"632600",value:"\u679C\u6D1B\u85CF\u65CF\u81EA\u6CBB\u5DDE",label:"\u679C\u6D1B\u85CF\u65CF\u81EA\u6CBB\u5DDE"},{code:"632700",value:"\u7389\u6811\u85CF\u65CF\u81EA\u6CBB\u5DDE",label:"\u7389\u6811\u85CF\u65CF\u81EA\u6CBB\u5DDE"},{code:"632800",value:"\u6D77\u897F\u8499\u53E4\u65CF\u85CF\u65CF\u81EA\u6CBB\u5DDE",label:"\u6D77\u897F\u8499\u53E4\u65CF\u85CF\u65CF\u81EA\u6CBB\u5DDE"}]},{code:"640000",value:"\u5B81\u590F\u56DE\u65CF\u81EA\u6CBB\u533A",label:"\u5B81\u590F\u56DE\u65CF\u81EA\u6CBB\u533A",children:[{code:"640100",value:"\u94F6\u5DDD\u5E02",label:"\u94F6\u5DDD\u5E02"},{code:"640200",value:"\u77F3\u5634\u5C71\u5E02",label:"\u77F3\u5634\u5C71\u5E02"},{code:"640300",value:"\u5434\u5FE0\u5E02",label:"\u5434\u5FE0\u5E02"},{code:"640400",value:"\u56FA\u539F\u5E02",label:"\u56FA\u539F\u5E02"},{code:"640500",value:"\u4E2D\u536B\u5E02",label:"\u4E2D\u536B\u5E02"}]},{code:"650000",value:"\u65B0\u7586\u7EF4\u543E\u5C14\u81EA\u6CBB\u533A",label:"\u65B0\u7586\u7EF4\u543E\u5C14\u81EA\u6CBB\u533A",children:[{code:"650100",value:"\u4E4C\u9C81\u6728\u9F50\u5E02",label:"\u4E4C\u9C81\u6728\u9F50\u5E02"},{code:"650200",value:"\u514B\u62C9\u739B\u4F9D\u5E02",label:"\u514B\u62C9\u739B\u4F9D\u5E02"},{code:"650400",value:"\u5410\u9C81\u756A\u5E02",label:"\u5410\u9C81\u756A\u5E02"},{code:"650500",value:"\u54C8\u5BC6\u5E02",label:"\u54C8\u5BC6\u5E02"},{code:"652300",value:"\u660C\u5409\u56DE\u65CF\u81EA\u6CBB\u5DDE",label:"\u660C\u5409\u56DE\u65CF\u81EA\u6CBB\u5DDE"},{code:"652700",value:"\u535A\u5C14\u5854\u62C9\u8499\u53E4\u81EA\u6CBB\u5DDE",label:"\u535A\u5C14\u5854\u62C9\u8499\u53E4\u81EA\u6CBB\u5DDE"},{code:"652800",value:"\u5DF4\u97F3\u90ED\u695E\u8499\u53E4\u81EA\u6CBB\u5DDE",label:"\u5DF4\u97F3\u90ED\u695E\u8499\u53E4\u81EA\u6CBB\u5DDE"},{code:"652900",value:"\u963F\u514B\u82CF\u5730\u533A",label:"\u963F\u514B\u82CF\u5730\u533A"},{code:"653000",value:"\u514B\u5B5C\u52D2\u82CF\u67EF\u5C14\u514B\u5B5C\u81EA\u6CBB\u5DDE",label:"\u514B\u5B5C\u52D2\u82CF\u67EF\u5C14\u514B\u5B5C\u81EA\u6CBB\u5DDE"},{code:"653100",value:"\u5580\u4EC0\u5730\u533A",label:"\u5580\u4EC0\u5730\u533A"},{code:"653200",value:"\u548C\u7530\u5730\u533A",label:"\u548C\u7530\u5730\u533A"},{code:"654000",value:"\u4F0A\u7281\u54C8\u8428\u514B\u81EA\u6CBB\u5DDE",label:"\u4F0A\u7281\u54C8\u8428\u514B\u81EA\u6CBB\u5DDE"},{code:"654200",value:"\u5854\u57CE\u5730\u533A",label:"\u5854\u57CE\u5730\u533A"},{code:"654300",value:"\u963F\u52D2\u6CF0\u5730\u533A",label:"\u963F\u52D2\u6CF0\u5730\u533A"},{code:"659001",value:"\u77F3\u6CB3\u5B50\u5E02",label:"\u77F3\u6CB3\u5B50\u5E02"},{code:"659002",value:"\u963F\u62C9\u5C14\u5E02",label:"\u963F\u62C9\u5C14\u5E02"},{code:"659003",value:"\u56FE\u6728\u8212\u514B\u5E02",label:"\u56FE\u6728\u8212\u514B\u5E02"},{code:"659004",value:"\u4E94\u5BB6\u6E20\u5E02",label:"\u4E94\u5BB6\u6E20\u5E02"},{code:"659005",value:"\u5317\u5C6F\u5E02",label:"\u5317\u5C6F\u5E02"},{code:"659006",value:"\u94C1\u95E8\u5173\u5E02",label:"\u94C1\u95E8\u5173\u5E02"},{code:"659007",value:"\u53CC\u6CB3\u5E02",label:"\u53CC\u6CB3\u5E02"},{code:"659008",value:"\u53EF\u514B\u8FBE\u62C9\u5E02",label:"\u53EF\u514B\u8FBE\u62C9\u5E02"}]},{code:"659009",value:"\u6606\u7389\u5E02",label:"\u6606\u7389\u5E02"},{code:"710000",value:"\u53F0\u6E7E\u7701",label:"\u53F0\u6E7E\u7701"},{code:"810000",value:"\u9999\u6E2F\u7279\u522B\u884C\u653F\u533A",label:"\u9999\u6E2F\u7279\u522B\u884C\u653F\u533A"},{code:"820000",value:"\u6FB3\u95E8\u7279\u522B\u884C\u653F\u533A",label:"\u6FB3\u95E8\u7279\u522B\u884C\u653F\u533A"}],Ey=function(c){Object(tv.a)(y,c);var d=Object(Lh.a)(y);function y(){var g;Object(Zs.a)(this,y);for(var w=arguments.length,I=new Array(w),B=0;B<w;B++)I[B]=arguments[B];return g=d.call.apply(d,[this].concat(I)),g.onChange=function(j){g.props.handleDefaultCity(j)},g}return Object(d1.a)(y,[{key:"render",value:function(){return Object(Tr.jsx)(Xb,{allowClear:!1,defaultValue:this.props.priorSearchCity.arr,options:My,expandTrigger:"hover",placeholder:"\u9009\u62E9\u4F18\u5148\u641C\u7D22\u5730\u533A",onChange:this.onChange,style:{width:200},"data-inspector-line":"20","data-inspector-column":"6","data-inspector-relative-path":"src\\\\components\\\\CitySelector\\\\index.tsx"})}}]),y}(ve.a.Component),Ty=kc.a.Text,Dw=ve.a.createContext(null),Zb=function(d){var y=d.index,g=Object(uc.a)(d,["index"]),w=Ia.useForm(),I=Object(Sn.a)(w,1),B=I[0];return Object(Tr.jsx)(Ia,{form:B,component:!1,"data-inspector-line":"28","data-inspector-column":"4","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx",children:Object(Tr.jsx)(Dw.Provider,{value:B,"data-inspector-line":"29","data-inspector-column":"6","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx",children:Object(Tr.jsx)("tr",Object(wo.a)(Object(wo.a)({},g),{},{"data-inspector-line":"30","data-inspector-column":"8","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx"}))})})},Kb=function(d){var y=d.title,g=d.editable,w=d.children,I=d.dataIndex,B=d.record,j=d.priorSearchCity,W=d.handleSave,Z=Object(uc.a)(d,["title","editable","children","dataIndex","record","priorSearchCity","handleSave"]),ee=Object(N.useState)(!1),te=Object(Sn.a)(ee,2),oe=te[0],ce=te[1],se=Object(N.useContext)(Dw),Ce=function(){ce(!oe),se.setFieldsValue(Object(Pm.a)({},I,B[I]))},ye=function(){var Ge=Object(Zh.a)(Hs.a.mark(function je(ke){var Ze,He;return Hs.a.wrap(function(et){for(;;)switch(et.prev=et.next){case 0:return et.prev=0,Ze=ke.key,He=Object(uc.a)(ke,["key"]),et.next=4,se.validateFields();case 4:Ce(),W(Object(wo.a)(Object(wo.a)({},B),He)),et.next=11;break;case 8:et.prev=8,et.t0=et.catch(0),console.log("Save failed:",et.t0);case 11:case"end":return et.stop()}},je,null,[[0,8]])}));return function(ke){return Ge.apply(this,arguments)}}(),Se=function(){var Ge=Object(Zh.a)(Hs.a.mark(function je(){var ke;return Hs.a.wrap(function(He){for(;;)switch(He.prev=He.next){case 0:return He.prev=0,He.next=3,se.validateFields();case 3:ke=He.sent,Ce(),W(Object(wo.a)(Object(wo.a)({},B),ke)),He.next=11;break;case 8:He.prev=8,He.t0=He.catch(0),console.log("Save failed:",He.t0);case 11:case"end":return He.stop()}},je,null,[[0,8]])}));return function(){return Ge.apply(this,arguments)}}(),_e=function(je){switch(je){case"name":return Object(Tr.jsx)(Ow,{record:B,saveSearchResult:ye,priorSearchCity:j,"data-inspector-line":"102","data-inspector-column":"10","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx"});case"demand":return Object(Tr.jsx)(On,{autoFocus:!0,onPressEnter:Se,onBlur:Se,min:0,step:1,style:{width:"100%"},"data-inspector-line":"110","data-inspector-column":"10","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx"});default:return Object(Tr.jsx)(Tr.Fragment,{})}},Ie=w;return g&&(Ie=oe?Object(Tr.jsx)(Ia.Item,{style:{margin:0},name:I,rules:[{required:!0,message:"".concat(y," is required.")}],"data-inspector-line":"128","data-inspector-column":"6","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx",children:_e(I)}):Object(Tr.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:Ce,"data-inspector-line":"141","data-inspector-column":"6","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx",children:w})),Object(Tr.jsx)("td",Object(wo.a)(Object(wo.a)({},Z),{},{"data-inspector-line":"151","data-inspector-column":"9","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx",children:Ie}))},Nw=function(c){Object(tv.a)(y,c);var d=Object(Lh.a)(y);function y(g){var w;return Object(Zs.a)(this,y),w=d.call(this,g),w.columns=void 0,w.priorSearchCity={arr:["\u5317\u4EAC\u5E02"]},w.handleDefaultCity=function(I){w.priorSearchCity.arr=I},w.handleDelete=function(I){try{var B=Object(Pf.a)(w.props.step2POIData);w.props.setStep2POIData(B.filter(function(j){return j.key!==I})),Ss.default.success("\u5220\u9664\u5730\u70B9\u6210\u529F\uFF01")}catch(j){Ss.default.error("\u5220\u9664\u5730\u70B9\u5931\u8D25\uFF0C".concat(j.message," !"))}},w.handleAdd=function(){var I=Object(Pf.a)(w.props.step2POIData),B={key:m2(),name:"[\u65B0\u5730\u70B9]",lng:0,lat:0,demand:1};w.props.setStep2POIData([].concat(Object(Pf.a)(I),[B])),Ss.default.success("\u5DF2\u5728\u5E95\u90E8\u6DFB\u52A0\u4E00\u884C\uFF01")},w.handleSave=function(I){var B=Object(Pf.a)(w.props.step2POIData),j=B.findIndex(function(Z){return I.key===Z.key}),W=B[j];B.splice(j,1,Object(wo.a)(Object(wo.a)({},W),I)),w.props.setStep2POIData(B)},w.columns=[{title:"\u5730\u70B9",dataIndex:"name",editable:!0},{title:"\u9700\u6C42",dataIndex:"demand",width:"25%",editable:!0},{title:"\u64CD\u4F5C",dataIndex:"operation",width:65,render:function(B,j){return w.props.step2POIData.length>=1?Object(Tr.jsx)(p2,{disabled:!0,onClick:function(){return w.handleDelete(j.key)},"data-inspector-line":"190","data-inspector-column":"12","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx"}):null}}],w}return Object(d1.a)(y,[{key:"render",value:function(){var w=this,I=this.props.step2POIData,B={body:{row:Zb,cell:Kb}},j=this.columns.map(function(W){return W.editable?Object(wo.a)(Object(wo.a)({},W),{},{onCell:function(ee){return{record:ee,editable:W.editable,dataIndex:W.dataIndex,title:W.title,priorSearchCity:w.priorSearchCity,handleSave:w.handleSave}}}):W});return Object(Tr.jsxs)(Tr.Fragment,{children:[Object(Tr.jsx)(Cu.a,{onClick:this.handleAdd,type:"primary",style:{marginBottom:20},"data-inspector-line":"266","data-inspector-column":"8","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx",children:"Add a row"}),Object(Tr.jsxs)(Ra.b,{style:{float:"right"},"data-inspector-line":"273","data-inspector-column":"8","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx",children:[Object(Tr.jsx)(bu.a,{title:"\u4F18\u5148\u662F\u6307\u8F93\u5165\u5730\u70B9\u65F6\u65E0\u9700\u8F93\u5165\u57CE\u5E02\u540D\u4E5F\u4F18\u5148\u5728\u8BE5\u57CE\u5E02\u5185\u67E5\u627E\u3002\u4F46\u82E5\u8F93\u5165\u57CE\u5E02+\u5730\u5740\uFF0C\u5219\u5C1D\u8BD5\u5728\u5168\u56FD\u8303\u56F4\u5185\u67E5\u627E\u3002","data-inspector-line":"274","data-inspector-column":"8","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx",children:Object(Tr.jsx)(Ty,{"data-inspector-line":"275","data-inspector-column":"10","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx",children:"\u4F18\u5148\u641C\u7D22\u57CE\u5E02\uFF1A"})}),Object(Tr.jsx)(Ey,{priorSearchCity:this.priorSearchCity,handleDefaultCity:this.handleDefaultCity,"data-inspector-line":"277","data-inspector-column":"10","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx"})]}),Object(Tr.jsx)(wd,{components:B,rowClassName:"editable-row",bordered:!0,sticky:!0,dataSource:I,columns:j,pagination:!1,scroll:{y:300},"data-inspector-line":"282","data-inspector-column":"8","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx"}),Object(Tr.jsx)(Me,{title:"\u8868\u683C\u6570\u636E",collapsible:!0,defaultCollapsed:!0,"data-inspector-line":"292","data-inspector-column":"8","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx",children:Object(Tr.jsx)(Ay,{fieldProps:{style:{width:"100%"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(I),"data-inspector-line":"293","data-inspector-column":"10","data-inspector-relative-path":"src\\\\components\\\\EditableTable\\\\index.tsx"})})]})}}]),y}(ve.a.Component),Fw=Nw,GC=kc.a.Text,Z1=function(d){var y=d.length;if(y<3)throw new Error("\u53EA\u8F93\u5165\u4E86 ".concat(y," \u5904\u5730\u70B9\uFF0C\u8BA1\u7B97\u91CF\u8FC7\u5C11\u3002"));for(var g=d[0].demand,w=0;w<y;w+=1){var I=d[w];if(I.lng===0||I.lat===0)throw new Error("\u7B2C ".concat(w+1," \u884C\u7684 ").concat(I.name," \u4E3A\u65E0\u6548\u5730\u70B9\uFF01"));if(I.demand<=0)throw new Error("\u7B2C ".concat(w+1," \u884C\u7684 ").concat(I.name," \u7684\u9700\u6C42\u91CF\u4E0D\u5408\u6CD5\uFF01"));if(g<I.demand)throw new Error("\u8F66\u8F86\u8F7D\u91CD\u91CF\u8FC7\u5C0F\uFF0C\u4E0D\u8DB3\u4EE5\u88C5\u8F7D\u7B2C ".concat(w+1," \u884C\u7684 ").concat(I.name," \u5904\u8D27\u7269\uFF01"))}},WC=function(d){var y=d.rootPOIData,g=d.setRootPOIData,w=d.setCurrentStep,I=Object(N.useState)(y),B=Object(Sn.a)(I,2),j=B[0],W=B[1],Z=Ia.useForm(),ee=Object(Sn.a)(Z,1),te=ee[0];if(!y)return null;var oe=function(){try{Z1(j),g(j),w("step1")}catch(Ce){Ss.default.error(Ce.message)}},ce=function(){try{Z1(j),g(j),w("result")}catch(Ce){Ss.default.error(Ce.message)}};return Object(Tr.jsxs)(Ia,{form:te,layout:"horizontal","data-inspector-line":"74","data-inspector-column":"4","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step2Form\\\\index.tsx",children:[Object(Tr.jsx)(ug,{"data-inspector-line":"78","data-inspector-column":"6","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step2Form\\\\index.tsx"}),Object(Tr.jsx)(yh.a,{message:Object(Tr.jsxs)(Ra.b,{direction:"vertical","data-inspector-line":"81","data-inspector-column":"10","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step2Form\\\\index.tsx",children:[Object(Tr.jsx)(GC,{"data-inspector-line":"82","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step2Form\\\\index.tsx",children:"1. \u70B9\u51FB\u5730\u70B9\u53EF\u4EE5\u76F4\u63A5\u5728\u7EBF\u641C\u7D22\u5E76\u4FEE\u6539\uFF1B"}),Object(Tr.jsx)(GC,{"data-inspector-line":"83","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step2Form\\\\index.tsx",children:"2. \u9996\u884C\u5730\u70B9\u4E3A\u914D\u9001\u70B9\uFF0C\u5176\u9700\u6C42\u91CF\u4E3A\u6BCF\u8F86\u8F66\u7684\u8F7D\u91CD\uFF1B\u5176\u4F59\u884C\u5730\u70B9\u4E3A\u9700\u6C42\u70B9\u3002"}),Object(Tr.jsx)(GC,{"data-inspector-line":"84","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step2Form\\\\index.tsx",children:"3. \u914D\u9001\u81F3\u9700\u6C42\u70B9\u7684\u8F66\u8F86\u6570\u4E0D\u9700\u8981\u8BBE\u7F6E\uFF0C\u7531\u8BA1\u7B97\u5F97\u51FA\u7ED3\u679C\u3002"})]}),type:"info",showIcon:!0,closable:!0,style:{marginBottom:20},"data-inspector-line":"79","data-inspector-column":"6","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step2Form\\\\index.tsx"}),Object(Tr.jsx)(Ia.Item,{"data-inspector-line":"91","data-inspector-column":"6","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step2Form\\\\index.tsx",children:Object(Tr.jsx)(Fw,{step2POIData:j,setStep2POIData:W,"data-inspector-line":"92","data-inspector-column":"8","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step2Form\\\\index.tsx"})}),Object(Tr.jsx)(Ia.Item,{style:{width:200,margin:"0 auto"},"data-inspector-line":"97","data-inspector-column":"6","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step2Form\\\\index.tsx",children:Object(Tr.jsxs)(Ra.b,{size:"large","data-inspector-line":"98","data-inspector-column":"8","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step2Form\\\\index.tsx",children:[Object(Tr.jsx)(Cu.a,{onClick:oe,"data-inspector-line":"101","data-inspector-column":"10","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step2Form\\\\index.tsx",children:"\u4E0A\u4E00\u6B65"}),Object(Tr.jsx)(Cu.a,{type:"primary",onClick:ce,"data-inspector-line":"104","data-inspector-column":"10","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\Step2Form\\\\index.tsx",children:"\u63D0\u4EA4"})]})})]})},YC=WC,Bw=ae("J+/v"),zw=ae("MoRW"),W_=ae("OujY"),ng=ae.n(W_),Jb=function(d){var y=d.setCurrentStep,g=d.rootAlgoData,w=d.setRootAlgoData,I=d.rootPOIData,B=d.setRootPOIData,j=d.setCalcStatus;if(Object(N.useEffect)(function(){j(1);var ee=setTimeout(function(){return j(2)},3e3);return function(){return clearTimeout(ee)}}),!g)return null;var W=function(){w(Qb),B(kw),y("step1"),j(0)},Z=Object(Tr.jsx)(Cu.a,{type:"primary",onClick:W,"data-inspector-line":"33","data-inspector-column":"4","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\StepResult\\\\index.tsx",children:"\u91CD\u65B0\u5F00\u59CB"});return Object(Tr.jsxs)(Tr.Fragment,{children:[Object(Tr.jsx)(zw.a,{status:"success",title:"\u8BA1\u7B97\u4E2D",extra:Z,className:ng.a.result,"data-inspector-line":"42","data-inspector-column":"6","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\StepResult\\\\index.tsx"}),Object(Tr.jsxs)(Me,{title:"\u8868\u5355\u6570\u636E",collapsible:!0,defaultCollapsed:!0,style:{width:"100%"},"data-inspector-line":"50","data-inspector-column":"6","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\StepResult\\\\index.tsx",children:[Object(Tr.jsx)(Ay,{fieldProps:{style:{width:"48%",float:"left"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(g),"data-inspector-line":"57","data-inspector-column":"8","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\StepResult\\\\index.tsx"}),Object(Tr.jsx)(Ay,{fieldProps:{style:{width:"48%",float:"right"}},mode:"read",valueType:"jsonCode",text:JSON.stringify(I),"data-inspector-line":"68","data-inspector-column":"8","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\components\\\\StepResult\\\\index.tsx"})]})]})},jw=Jb,XC=ae("NHCu"),v2=function(){return Object(Tr.jsxs)(XC.Map,{style:{height:700},center:new BMapGL.Point(116.4,39.91),zoom:11,"data-inspector-line":"11","data-inspector-column":"4","data-inspector-relative-path":"src\\\\components\\\\BaiduMap\\\\index.tsx",children:[Object(Tr.jsx)(XC.Marker,{position:new BMapGL.Point(116.4,39.91),icon:"start","data-inspector-line":"18","data-inspector-column":"6","data-inspector-relative-path":"src\\\\components\\\\BaiduMap\\\\index.tsx"}),Object(Tr.jsx)(XC.NavigationControl,{"data-inspector-line":"19","data-inspector-column":"6","data-inspector-relative-path":"src\\\\components\\\\BaiduMap\\\\index.tsx"})]})},$S=Object(XC.MapApiLoaderHOC)({ak:"OalRnqTPhFKA9F4CwPQwCtprspgDqGG3"})(v2),ZC=[{key:"1",carIndex:"1",route:"\u56DB\u5B63\u9752\u9633\u5149\u79D1\u6280\u56ED\u533A-\u4E1C1\u95E8 (@ 0 min) -> \u5BF9\u5916\u7ECF\u6D4E\u8D38\u6613\u5927\u5B66-\u897F\u95E8 (@ 29 min) -> \u5317\u4EAC\u5E08\u8303\u5927\u5B66\u5317\u9662-\u897F3\u95E8 (@ 46 min) -> \u56DB\u5B63\u9752\u9633\u5149\u79D1\u6280\u56ED\u533A-\u4E1C1\u95E8 (@ 63 min)",distance:"43",loadRate:"100%"},{key:"2",carIndex:"2",route:"\u56DB\u5B63\u9752\u9633\u5149\u79D1\u6280\u56ED\u533A-\u4E1C1\u95E8 (@ 0 min) -> \u4E2D\u592E\u7F8E\u672F\u5B66\u9662-\u4E1C\u95E8 (@ 26 min) -> \u56DB\u5B63\u9752\u9633\u5149\u79D1\u6280\u56ED\u533A-\u4E1C1\u95E8 (@ 51 min)",distance:"31",loadRate:"66%"}],Uw=[{title:"\u8F66\u8F86\u5E8F\u53F7",dataIndex:"carIndex",key:"carIndex"},{title:"\u8DEF\u5F84\uFF08\u5230\u8FBE\u5404\u70B9\u65F6\u95F4\uFF09",dataIndex:"route",key:"route"},{title:"\u884C\u9A76\u8DEF\u7A0B\uFF08km\uFF09",dataIndex:"distance",key:"distance"},{title:"\u6EE1\u8F7D\u7387",dataIndex:"loadRate",key:"loadRate"}],ei=function(){return Object(Tr.jsx)(wd,{dataSource:ZC,columns:Uw,"data-inspector-line":"48","data-inspector-column":"4","data-inspector-relative-path":"src\\\\components\\\\ResultTable\\\\index.tsx"})},ra=ei,ig=ae("YNLO"),e_=ae.n(ig),qb=Hp.Step,Qb={algorithm:"SA",initialTemp:1e3,finalTemp:1,coolingRate:.9,chainLength:10},kw=[{key:m2(),name:"\u56DB\u5B63\u9752\u9633\u5149\u79D1\u6280\u56ED\u533A-\u4E1C1\u95E8\uFF08\u914D\u9001\u70B9\uFF09",lng:116.426549,lat:39.779675,demand:3},{key:m2(),name:"\u5317\u4EAC\u5E08\u8303\u5927\u5B66\u5317\u9662-\u897F3\u95E8",lng:116.409614,lat:39.942402,demand:1},{key:m2(),name:"\u5BF9\u5916\u7ECF\u6D4E\u8D38\u6613\u5927\u5B66-\u897F\u95E8",lng:116.431244,lat:39.986622,demand:2},{key:m2(),name:"\u4E2D\u592E\u7F8E\u672F\u5B66\u9662-\u4E1C\u95E8",lng:116.472828,lat:39.988674,demand:2}],t_=function(){var d=Object(N.useState)("step1"),y=Object(Sn.a)(d,2),g=y[0],w=y[1],I=Object(N.useState)(Qb),B=Object(Sn.a)(I,2),j=B[0],W=B[1],Z=Object(N.useState)(kw),ee=Object(Sn.a)(Z,2),te=ee[0],oe=ee[1],ce=Object(N.useState)(0),se=Object(Sn.a)(ce,2),Ce=se[0],ye=se[1],Se={currentStep:g,setCurrentStep:w,rootAlgoData:j,setRootAlgoData:W,rootPOIData:te,setRootPOIData:oe},_e=function(Ze){switch(Ze){case 1:return Object(Tr.jsxs)(Fe.a,{"data-inspector-line":"87","data-inspector-column":"10","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:[Object(Tr.jsx)("h3",{"data-inspector-line":"88","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:"\u8BA1\u7B97\u7ED3\u679C\uFF1A"}),Object(Tr.jsx)(Qa,{active:!0,"data-inspector-line":"89","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx"})]});case 2:return Object(Tr.jsxs)(Fe.a,{"data-inspector-line":"94","data-inspector-column":"10","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:[Object(Tr.jsx)("h3",{"data-inspector-line":"95","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:"\u8BA1\u7B97\u7ED3\u679C\uFF1A"}),Object(Tr.jsx)(ra,{"data-inspector-line":"96","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx"})]});case 0:default:return Object(Tr.jsx)(Tr.Fragment,{})}},Ie=Object(N.useMemo)(function(){var ke=function(){var He=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"step1",qe={step1:{step:0,component:Object(Tr.jsx)(po,{currentStep:g,setCurrentStep:w,rootAlgoData:j,setRootAlgoData:W,"data-inspector-line":"112","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx"})},step2:{step:1,component:Object(Tr.jsx)(YC,{currentStep:g,setCurrentStep:w,rootPOIData:te,setRootPOIData:oe,"data-inspector-line":"123","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx"})},result:{step:2,component:Object(Tr.jsx)(jw,{currentStep:g,setCurrentStep:w,rootAlgoData:j,setRootAlgoData:W,rootPOIData:te,setRootPOIData:oe,calcStatus:Ce,setCalcStatus:ye,"data-inspector-line":"134","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx"})}};return qe[He]};return ke(g)},[g]),Ge=Ie.step,je=Ie.component;return Object(Tr.jsxs)(Tr.Fragment,{children:[Object(Tr.jsx)(Xe.a,{gutter:[16,16],"data-inspector-line":"155","data-inspector-column":"6","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:Object(Tr.jsx)(ge.a,{span:24,"data-inspector-line":"156","data-inspector-column":"8","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:Object(Tr.jsx)(ex.a,{content:"\u6C42\u89E3\u591A\u8F66\u8F86\u8DEF\u5F84\u95EE\u9898 (VRP)","data-inspector-line":"157","data-inspector-column":"10","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx"})})}),Object(Tr.jsxs)(Xe.a,{gutter:[16,16],"data-inspector-line":"160","data-inspector-column":"6","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:[Object(Tr.jsx)(ge.a,{span:12,"data-inspector-line":"161","data-inspector-column":"8","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:Object(Tr.jsxs)(Fe.a,{"data-inspector-line":"162","data-inspector-column":"10","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:[Object(Tr.jsxs)(Hp,{size:"small",current:Ge,className:e_.a.steps,"data-inspector-line":"163","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:[Object(Tr.jsx)(qb,{title:"\u7B97\u6CD5","data-inspector-line":"164","data-inspector-column":"14","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx"}),Object(Tr.jsx)(qb,{title:"\u9009\u70B9","data-inspector-line":"165","data-inspector-column":"14","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx"}),Object(Tr.jsx)(qb,{title:"\u8BA1\u7B97","data-inspector-line":"166","data-inspector-column":"14","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx"})]}),je]})}),Object(Tr.jsx)(ge.a,{span:12,"data-inspector-line":"171","data-inspector-column":"8","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:Object(Tr.jsx)(Fe.a,{"data-inspector-line":"172","data-inspector-column":"10","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:Object(Tr.jsx)($S,{"data-inspector-line":"173","data-inspector-column":"12","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx"})})})]}),Object(Tr.jsx)(Xe.a,{gutter:[16,16],"data-inspector-line":"177","data-inspector-column":"6","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:Object(Tr.jsx)(ge.a,{span:24,"data-inspector-line":"178","data-inspector-column":"8","data-inspector-relative-path":"src\\\\pages\\\\VRP\\\\index.tsx",children:_e(Ce)})})]})},Y_=Ye.default=t_},fGT3:function(ut,Ye,ae){var Be=ae("4kuk"),Xe=ae("Xi7e"),Ne=ae("ebwN");function ge(){this.size=0,this.__data__={hash:new Be,map:new(Ne||Xe),string:new Be}}ut.exports=ge},"fR/l":function(ut,Ye,ae){var Be=ae("CH3K"),Xe=ae("Z0cm");function Ne(ge,We,Fe){var lt=We(ge);return Xe(ge)?lt:Be(lt,Fe(ge))}ut.exports=Ne},fmRc:function(ut,Ye,ae){var Be=ae("Xi7e"),Xe=ae("77Zs"),Ne=ae("L8xA"),ge=ae("gCq4"),We=ae("VaNO"),Fe=ae("0Cz8");function lt(pt){var de=this.__data__=new Be(pt);this.size=de.size}lt.prototype.clear=Xe,lt.prototype.delete=Ne,lt.prototype.get=ge,lt.prototype.has=We,lt.prototype.set=Fe,ut.exports=lt},ftKO:function(ut,Ye){var ae="__lodash_hash_undefined__";function Be(Xe){return this.__data__.set(Xe,ae),this}ut.exports=Be},g8eg:function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("mrSG"),Xe=Be.__importDefault(ae("q1tI")),Ne=ae("W1EI"),ge=Be.__importDefault(ae("s+10")),We=Be.__importDefault(ae("Gytx")),Fe=Be.__importDefault(ae("gOxR")),lt=["click","dblclick","rightclick","rightdblclick","maptypechange","mousemove","mouseover","mouseout","movestart","moving","moveend","zoomstart","zoomend","addoverlay","addcontrol","removecontrol","removeoverlay","clearoverlays","dragstart","dragging","dragend","addtilelayer","removetilelayer","load","resize","hotspotclick","hotspotover","hotspotout","tilesloaded","touchstart","touchmove","touchend","longpress"],pt={enableScrollWheelZoom:["enableScrollWheelZoom","disableScrollWheelZoom"],enableDragging:["enableDragging","disableDragging"],enableDoubleClickZoom:["enableDoubleClickZoom","disableDoubleClickZoom"],enableKeyboard:["enableKeyboard","disableKeyboard"],enableInertialDragging:["enableInertialDragging","disableInertialDragging"],enableContinuousZoom:["enableContinuousZoom","disableContinuousZoom"],enablePinchToZoom:["enablePinchToZoom","disablePinchToZoom"],enableAutoResize:["enableAutoResize","disableAutoResize"]},de=function(ft){Be.__extends(N,ft);function N(ve){var Zr=ft.call(this,ve)||this;return Zr.el=Xe.default.createRef(),Zr.options=["minZoom","maxZoom","mapType"],Zr}return N.prototype.componentDidMount=function(){this.initialize(),this.forceUpdate()},N.prototype.componentDidUpdate=function(ve){var Zr=ve.center,st=ve.zoom,zr=this.props,zn=zr.center,$t=zr.zoom,gn=!!zn&&!We.default(Zr,zn),Ni=!!($t&&!We.default(st,$t)),br;if(Fe.default(zn))br=zn;else{var Tt=zn,Vr=Tt.lng,Ar=Tt.lat;br=new BMapGL.Point(Vr,Ar)}gn&&Ni?this.map.centerAndZoom(br,$t):gn?this.map.setCenter(br):Ni&&this.map.setZoom($t)},N.prototype.componentWillUnmount=function(){this.map&&this.map.destroy()},N.prototype.initialize=function(){if(!this.map){var ve=this.getOptions();ve.mapType&&(ve.mapType=ve.mapType==="normal"?BMAP_NORMAL_MAP:ve.mapType,ve.mapType=ve.mapType==="earth"?BMAP_EARTH_MAP:ve.mapType),this.props.mapStyleV2&&(ve.style=this.props.mapStyleV2);var Zr=new BMapGL.Map(this.el.current,ve);if(this.map=Zr,this.instance=Zr,Fe.default(this.props.center))Zr.centerAndZoom(this.props.center,this.props.zoom);else{var st=this.props.center,zr=st.lng,zn=st.lat,$t=new BMapGL.Point(zr,zn);Zr.centerAndZoom($t,this.props.zoom)}this.props.heading&&Zr.setHeading(this.props.heading),this.props.tilt&&Zr.setTilt(this.props.tilt)}},N.prototype.renderChildren=function(ve,Zr){var st=this;if(!(!ve||!Zr))return Xe.default.Children.map(ve,function(zr){return zr?typeof zr.type=="string"||!zr.props?zr:Xe.default.cloneElement(zr,{map:Zr},st.renderChildren(zr.props.children,Zr)):null})},N.prototype.render=function(){return Xe.default.createElement("div",{style:this.props.style},Xe.default.createElement("div",{ref:this.el,className:this.props.className,style:{height:"100%"}},"\u52A0\u8F7D\u5730\u56FE\u4E2D..."),this.renderChildren(this.props.children,this.map))},N}(Ne.Component);de.defaultProps={center:{lng:116.404449,lat:39.914889},zoom:12,style:{position:"relative",height:"350px"}},Ye.default=ge.default(de,lt,pt);var xe=ae("q8ti");Object.defineProperty(Ye,"MapApiLoaderHOC",{enumerable:!0,get:function(){return xe.default}})},gCq4:function(ut,Ye){function ae(Be){return this.__data__.get(Be)}ut.exports=ae},gI1Y:function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.requireScript=Ye.requireCss=void 0;var Be=document.head||document.getElementsByTagName("head")[0],Xe={};function Ne(Fe){return new Promise(function(lt,pt){if(Fe in Xe){lt();return}var de=document.createElement("link");de.type="text/css",de.rel="stylesheet",de.href=Fe,de.onerror=function(xe){Be.removeChild(de),pt(new URIError("The css "+Fe+" is no accessible."))},de.onload=function(){Xe[Fe]=!0,lt()},Be.appendChild(de)})}Ye.requireCss=Ne;function ge(Fe){return new Promise(function(lt,pt){if(Fe in Xe){lt();return}var de=document.createElement("script");de.type="text/javascript",de.src=Fe,de.onerror=function(xe){Be.removeChild(de),pt(new URIError("The Script "+Fe+" is no accessible."))},We(de)?de.onload=function(){Xe[Fe]=!0,lt()}:de.onreadystatechange=function(){(de.readyState=="loaded"||de.readyState=="complete")&&(de.onreadystatechange=null,Xe[Fe]=!0,lt())},Be.appendChild(de)})}Ye.requireScript=ge;function We(Fe){return Fe=Fe||document.createElement("script"),"onload"in Fe?!0:(Fe.setAttribute("onload",""),typeof Fe.onload=="function")}},gOxR:function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});function Be(Xe){return Object.prototype.toString.call(Xe)==="[object String]"}Ye.default=Be},gwTy:function(ut,Ye,ae){},hODF:function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("mrSG"),Xe=ae("W1EI"),Ne=Be.__importDefault(ae("Gytx")),ge=function(We){Be.__extends(Fe,We);function Fe(lt){var pt=We.call(this,lt)||this;return pt.options=["anchor","offset"],pt}return Fe.prototype.componentDidUpdate=function(lt){var pt=this.props,de=pt.anchor,xe=pt.offset,ft=lt.anchor,N=lt.offset,ve=!Ne.default(de,ft),Zr=!Ne.default(xe,N);de&&ve&&this.control.setAnchor(de),xe&&Zr&&this.control.setOffset(xe)},Fe.prototype.componentDidMount=function(){this.initialize()},Fe.prototype.componentWillUnmount=function(){this.destroy()},Fe.prototype.destroy=function(){this.control&&(this.props.map.removeControl(this.control),this.control=null)},Fe.prototype.initialize=function(){var lt=this.props.map;!lt||(this.destroy(),this.control=this.getControl(),lt.addControl(this.control))},Fe.prototype.getControl=function(){throw new Error("Method getControl not implemented.")},Fe}(Xe.Component);Ye.default=ge},i5tv:function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("mrSG"),Xe=ae("W1EI"),Ne=Be.__importDefault(ae("s+10")),ge=ae("i8i4"),We=["close","open","maximize","restore","clickclose"],Fe={enableMaximize:["enableMaximize","disableMaximize"],enableAutoPan:["enableAutoPan","disableAutoPan"],enableCloseOnClick:["enableCloseOnClick","disableCloseOnClick"]},lt=function(pt){Be.__extends(de,pt);function de(xe){var ft=pt.call(this,xe)||this;return ft.options=["width","height","maxWidth","offset","title","enableMassClear"],ft}return de.prototype.componentDidUpdate=function(xe){this.initialize()},de.prototype.componentDidMount=function(){this.initialize()},de.prototype.componentWillUnmount=function(){this.destroy()},de.prototype.destroy=function(){this.content&&ge.unmountComponentAtNode(this.content),this.infoWindow&&(this.props.map.closeInfoWindow(),this.instance=this.infoWindow=void 0)},de.prototype.initialize=function(){var xe=this.props.map;if(!!xe){this.destroy();var ft=this.getOptions(),N=this.parsePosition(this.props.position);if(this.instance=this.infoWindow=new BMapGL.InfoWindow(this.props.text||"",ft),xe.openInfoWindow(this.infoWindow,N),this.props.children!==void 0){var ve=this.content=document.createElement("div");ge.render(this.props.children,ve),this.infoWindow.setContent(ve)}}},de.prototype.parsePosition=function(xe){var ft=this.props.coordType==="bd09mc",N;return xe instanceof Array?N=new BMapGL.Point(xe[0],xe[1]):xe instanceof BMapGL.Point?N=xe:N=new BMapGL.Point(xe.lng,xe.lat),ft&&(N=BMapGL.Projection.convertMC2LL(N)),N},de.prototype.render=function(){return null},de}(Xe.Component);lt.defaultProps={},Ye.default=Ne.default(lt,We,Fe)},j9lq:function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("mrSG"),Xe=ae("W1EI"),Ne=Be.__importDefault(ae("Gytx")),ge=Be.__importDefault(ae("5zFI")),We=function(Fe){Be.__extends(lt,Fe);function lt(pt){var de=Fe.call(this,pt)||this;return de.options=["offset"],de}return lt.prototype.componentDidUpdate=function(pt){Ne.default(this.props,pt)||this.initialize()},lt.prototype.componentDidMount=function(){this.initialize()},lt.prototype.componentWillUnmount=function(){this.destroy()},lt.prototype.destroy=function(){this.overlay&&(this.overlay.destroy(),this.props.map.removeOverlay(this.overlay),this.instance=this.overlay=void 0)},lt.prototype.initialize=function(){var pt=this.props.map;this.destroy();var de=this.getOptions();de.html=this.props.children;var xe=this.parsePosition(this.props.position);this.instance=this.overlay=new ge.default(xe,de),pt.addOverlay(this.overlay),this.props.autoViewport&&pt.setCenter(xe)},lt.prototype.parsePosition=function(pt){var de=this.props.coordType==="bd09mc",xe;return pt instanceof Array?xe=new BMapGL.Point(pt[0],pt[1]):pt instanceof BMapGL.Point?xe=pt:xe=new BMapGL.Point(pt.lng,pt.lat),de&&(xe=BMapGL.Projection.convertMC2LL(xe)),xe},lt.prototype.render=function(){return null},lt}(Xe.Component);Ye.default=We},jkmW:function(ut,Ye,ae){},jryo:function(ut,Ye,ae){},"k+1r":function(ut,Ye,ae){var Be=ae("QkVE");function Xe(Ne){var ge=Be(this,Ne).delete(Ne);return this.size-=ge?1:0,ge}ut.exports=Xe},kekF:function(ut,Ye){function ae(Be,Xe){return function(Ne){return Be(Xe(Ne))}}ut.exports=ae},lRSW:function(ut,Ye,ae){},lSCD:function(ut,Ye,ae){var Be=ae("NykK"),Xe=ae("GoyQ"),Ne="[object AsyncFunction]",ge="[object Function]",We="[object GeneratorFunction]",Fe="[object Proxy]";function lt(pt){if(!Xe(pt))return!1;var de=Be(pt);return de==ge||de==We||de==Ne||de==Fe}ut.exports=lt},ljhN:function(ut,Ye){function ae(Be,Xe){return Be===Xe||Be!==Be&&Xe!==Xe}ut.exports=ae},mEKJ:function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("mrSG"),Xe=ae("W1EI"),Ne=function(ge){Be.__extends(We,ge);function We(Fe){var lt=ge.call(this,Fe)||this;return lt._showLayer=!1,lt}return We.prototype.componentDidMount=function(){this.initialize()},We.prototype.componentDidUpdate=function(Fe){this.initialize()},We.prototype.componentWillUnmount=function(){this._showLayer&&(this.props.map.setTrafficOff(),this._showLayer=!1)},We.prototype.initialize=function(){var Fe=this.props.map;!Fe||(this.map=Fe,this._showLayer||(Fe.setTrafficOn(),this._showLayer=!0))},We.prototype.render=function(){return null},We}(Xe.Component);Ye.default=Ne},mdPL:function(ut,Ye,ae){(function(Be){var Xe=ae("WFqU"),Ne=Ye&&!Ye.nodeType&&Ye,ge=Ne&&typeof Be=="object"&&Be&&!Be.nodeType&&Be,We=ge&&ge.exports===Ne,Fe=We&&Xe.process,lt=function(){try{var pt=ge&&ge.require&&ge.require("util").types;return pt||Fe&&Fe.binding&&Fe.binding("util")}catch(de){}}();Be.exports=lt}).call(this,ae("YuTi")(ut))},mr32:function(ut,Ye,ae){"use strict";var Be=ae("rePB"),Xe=ae("wx14"),Ne=ae("ODXe"),ge=ae("q1tI"),We=ae("TSYQ"),Fe=ae.n(We),lt=ae("bT9E"),pt=ae("4i/N"),de=ae("H84U"),xe=function(br,Tt){var Vr={};for(var Ar in br)Object.prototype.hasOwnProperty.call(br,Ar)&&Tt.indexOf(Ar)<0&&(Vr[Ar]=br[Ar]);if(br!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Dt=0,Ar=Object.getOwnPropertySymbols(br);Dt<Ar.length;Dt++)Tt.indexOf(Ar[Dt])<0&&Object.prototype.propertyIsEnumerable.call(br,Ar[Dt])&&(Vr[Ar[Dt]]=br[Ar[Dt]]);return Vr},ft=function(Tt){var Vr,Ar=Tt.prefixCls,Dt=Tt.className,pr=Tt.checked,Gr=Tt.onChange,lr=Tt.onClick,Pe=xe(Tt,["prefixCls","className","checked","onChange","onClick"]),ir=ge.useContext(de.b),pi=ir.getPrefixCls,Do=function(Ga){Gr&&Gr(!pr),lr&&lr(Ga)},an=pi("tag",Ar),Ai=Fe()(an,(Vr={},Object(Be.a)(Vr,"".concat(an,"-checkable"),!0),Object(Be.a)(Vr,"".concat(an,"-checkable-checked"),pr),Vr),Dt);return ge.createElement("span",Object(Xe.a)({},Pe,{className:Ai,onClick:Do}))},N=ft,ve=ae("09Wf"),Zr=ae("g0mS"),st=function(br,Tt){var Vr={};for(var Ar in br)Object.prototype.hasOwnProperty.call(br,Ar)&&Tt.indexOf(Ar)<0&&(Vr[Ar]=br[Ar]);if(br!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Dt=0,Ar=Object.getOwnPropertySymbols(br);Dt<Ar.length;Dt++)Tt.indexOf(Ar[Dt])<0&&Object.prototype.propertyIsEnumerable.call(br,Ar[Dt])&&(Vr[Ar[Dt]]=br[Ar[Dt]]);return Vr},zr=new RegExp("^(".concat(ve.a.join("|"),")(-inverse)?$")),zn=new RegExp("^(".concat(ve.b.join("|"),")$")),$t=function(Tt,Vr){var Ar,Dt=Tt.prefixCls,pr=Tt.className,Gr=Tt.style,lr=Tt.children,Pe=Tt.icon,ir=Tt.color,pi=Tt.onClose,Do=Tt.closeIcon,an=Tt.closable,Ai=an===void 0?!1:an,Uo=st(Tt,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),Ga=ge.useContext(de.b),Ca=Ga.getPrefixCls,os=Ga.direction,_a=ge.useState(!0),Qa=Object(Ne.a)(_a,2),Sn=Qa[0],ih=Qa[1];ge.useEffect(function(){"visible"in Uo&&ih(Uo.visible)},[Uo.visible]);var As=function(){return ir?zr.test(ir)||zn.test(ir):!1},ur=Object(Xe.a)({backgroundColor:ir&&!As()?ir:void 0},Gr),ua=As(),vn=Ca("tag",Dt),No=Fe()(vn,(Ar={},Object(Be.a)(Ar,"".concat(vn,"-").concat(ir),ua),Object(Be.a)(Ar,"".concat(vn,"-has-color"),ir&&!ua),Object(Be.a)(Ar,"".concat(vn,"-hidden"),!Sn),Object(Be.a)(Ar,"".concat(vn,"-rtl"),os==="rtl"),Ar),pr),ti=function(_n){_n.stopPropagation(),pi&&pi(_n),!_n.defaultPrevented&&("visible"in Uo||ih(!1))},Xa=function(){return Ai?Do?ge.createElement("span",{className:"".concat(vn,"-close-icon"),onClick:ti},Do):ge.createElement(pt.a,{className:"".concat(vn,"-close-icon"),onClick:ti}):null},yu="onClick"in Uo||lr&&lr.type==="a",Wh=Object(lt.a)(Uo,["visible"]),El=Pe||null,el=El?ge.createElement(ge.Fragment,null,El,ge.createElement("span",null,lr)):lr,Ma=ge.createElement("span",Object(Xe.a)({},Wh,{ref:Vr,className:No,style:ur}),el,Xa());return yu?ge.createElement(Zr.a,null,Ma):Ma},gn=ge.forwardRef($t);gn.displayName="Tag",gn.CheckableTag=N;var Ni=Ye.a=gn},mrSG:function(ut,Ye,ae){"use strict";ae.r(Ye),ae.d(Ye,"__extends",function(){return Xe}),ae.d(Ye,"__assign",function(){return Ne}),ae.d(Ye,"__rest",function(){return ge}),ae.d(Ye,"__decorate",function(){return We}),ae.d(Ye,"__param",function(){return Fe}),ae.d(Ye,"__metadata",function(){return lt}),ae.d(Ye,"__awaiter",function(){return pt}),ae.d(Ye,"__generator",function(){return de}),ae.d(Ye,"__createBinding",function(){return xe}),ae.d(Ye,"__exportStar",function(){return ft}),ae.d(Ye,"__values",function(){return N}),ae.d(Ye,"__read",function(){return ve}),ae.d(Ye,"__spread",function(){return Zr}),ae.d(Ye,"__spreadArrays",function(){return st}),ae.d(Ye,"__await",function(){return zr}),ae.d(Ye,"__asyncGenerator",function(){return zn}),ae.d(Ye,"__asyncDelegator",function(){return $t}),ae.d(Ye,"__asyncValues",function(){return gn}),ae.d(Ye,"__makeTemplateObject",function(){return Ni}),ae.d(Ye,"__importStar",function(){return br}),ae.d(Ye,"__importDefault",function(){return Tt}),ae.d(Ye,"__classPrivateFieldGet",function(){return Vr}),ae.d(Ye,"__classPrivateFieldSet",function(){return Ar});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Be=function(pr,Gr){return Be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(lr,Pe){lr.__proto__=Pe}||function(lr,Pe){for(var ir in Pe)Pe.hasOwnProperty(ir)&&(lr[ir]=Pe[ir])},Be(pr,Gr)};function Xe(Dt,pr){Be(Dt,pr);function Gr(){this.constructor=Dt}Dt.prototype=pr===null?Object.create(pr):(Gr.prototype=pr.prototype,new Gr)}var Ne=function(){return Ne=Object.assign||function(Gr){for(var lr,Pe=1,ir=arguments.length;Pe<ir;Pe++){lr=arguments[Pe];for(var pi in lr)Object.prototype.hasOwnProperty.call(lr,pi)&&(Gr[pi]=lr[pi])}return Gr},Ne.apply(this,arguments)};function ge(Dt,pr){var Gr={};for(var lr in Dt)Object.prototype.hasOwnProperty.call(Dt,lr)&&pr.indexOf(lr)<0&&(Gr[lr]=Dt[lr]);if(Dt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Pe=0,lr=Object.getOwnPropertySymbols(Dt);Pe<lr.length;Pe++)pr.indexOf(lr[Pe])<0&&Object.prototype.propertyIsEnumerable.call(Dt,lr[Pe])&&(Gr[lr[Pe]]=Dt[lr[Pe]]);return Gr}function We(Dt,pr,Gr,lr){var Pe=arguments.length,ir=Pe<3?pr:lr===null?lr=Object.getOwnPropertyDescriptor(pr,Gr):lr,pi;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ir=Reflect.decorate(Dt,pr,Gr,lr);else for(var Do=Dt.length-1;Do>=0;Do--)(pi=Dt[Do])&&(ir=(Pe<3?pi(ir):Pe>3?pi(pr,Gr,ir):pi(pr,Gr))||ir);return Pe>3&&ir&&Object.defineProperty(pr,Gr,ir),ir}function Fe(Dt,pr){return function(Gr,lr){pr(Gr,lr,Dt)}}function lt(Dt,pr){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(Dt,pr)}function pt(Dt,pr,Gr,lr){function Pe(ir){return ir instanceof Gr?ir:new Gr(function(pi){pi(ir)})}return new(Gr||(Gr=Promise))(function(ir,pi){function Do(Uo){try{Ai(lr.next(Uo))}catch(Ga){pi(Ga)}}function an(Uo){try{Ai(lr.throw(Uo))}catch(Ga){pi(Ga)}}function Ai(Uo){Uo.done?ir(Uo.value):Pe(Uo.value).then(Do,an)}Ai((lr=lr.apply(Dt,pr||[])).next())})}function de(Dt,pr){var Gr={label:0,sent:function(){if(ir[0]&1)throw ir[1];return ir[1]},trys:[],ops:[]},lr,Pe,ir,pi;return pi={next:Do(0),throw:Do(1),return:Do(2)},typeof Symbol=="function"&&(pi[Symbol.iterator]=function(){return this}),pi;function Do(Ai){return function(Uo){return an([Ai,Uo])}}function an(Ai){if(lr)throw new TypeError("Generator is already executing.");for(;Gr;)try{if(lr=1,Pe&&(ir=Ai[0]&2?Pe.return:Ai[0]?Pe.throw||((ir=Pe.return)&&ir.call(Pe),0):Pe.next)&&!(ir=ir.call(Pe,Ai[1])).done)return ir;switch(Pe=0,ir&&(Ai=[Ai[0]&2,ir.value]),Ai[0]){case 0:case 1:ir=Ai;break;case 4:return Gr.label++,{value:Ai[1],done:!1};case 5:Gr.label++,Pe=Ai[1],Ai=[0];continue;case 7:Ai=Gr.ops.pop(),Gr.trys.pop();continue;default:if(ir=Gr.trys,!(ir=ir.length>0&&ir[ir.length-1])&&(Ai[0]===6||Ai[0]===2)){Gr=0;continue}if(Ai[0]===3&&(!ir||Ai[1]>ir[0]&&Ai[1]<ir[3])){Gr.label=Ai[1];break}if(Ai[0]===6&&Gr.label<ir[1]){Gr.label=ir[1],ir=Ai;break}if(ir&&Gr.label<ir[2]){Gr.label=ir[2],Gr.ops.push(Ai);break}ir[2]&&Gr.ops.pop(),Gr.trys.pop();continue}Ai=pr.call(Dt,Gr)}catch(Uo){Ai=[6,Uo],Pe=0}finally{lr=ir=0}if(Ai[0]&5)throw Ai[1];return{value:Ai[0]?Ai[1]:void 0,done:!0}}}function xe(Dt,pr,Gr,lr){lr===void 0&&(lr=Gr),Dt[lr]=pr[Gr]}function ft(Dt,pr){for(var Gr in Dt)Gr!=="default"&&!pr.hasOwnProperty(Gr)&&(pr[Gr]=Dt[Gr])}function N(Dt){var pr=typeof Symbol=="function"&&Symbol.iterator,Gr=pr&&Dt[pr],lr=0;if(Gr)return Gr.call(Dt);if(Dt&&typeof Dt.length=="number")return{next:function(){return Dt&&lr>=Dt.length&&(Dt=void 0),{value:Dt&&Dt[lr++],done:!Dt}}};throw new TypeError(pr?"Object is not iterable.":"Symbol.iterator is not defined.")}function ve(Dt,pr){var Gr=typeof Symbol=="function"&&Dt[Symbol.iterator];if(!Gr)return Dt;var lr=Gr.call(Dt),Pe,ir=[],pi;try{for(;(pr===void 0||pr-- >0)&&!(Pe=lr.next()).done;)ir.push(Pe.value)}catch(Do){pi={error:Do}}finally{try{Pe&&!Pe.done&&(Gr=lr.return)&&Gr.call(lr)}finally{if(pi)throw pi.error}}return ir}function Zr(){for(var Dt=[],pr=0;pr<arguments.length;pr++)Dt=Dt.concat(ve(arguments[pr]));return Dt}function st(){for(var Dt=0,pr=0,Gr=arguments.length;pr<Gr;pr++)Dt+=arguments[pr].length;for(var lr=Array(Dt),Pe=0,pr=0;pr<Gr;pr++)for(var ir=arguments[pr],pi=0,Do=ir.length;pi<Do;pi++,Pe++)lr[Pe]=ir[pi];return lr}function zr(Dt){return this instanceof zr?(this.v=Dt,this):new zr(Dt)}function zn(Dt,pr,Gr){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var lr=Gr.apply(Dt,pr||[]),Pe,ir=[];return Pe={},pi("next"),pi("throw"),pi("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function pi(Ca){lr[Ca]&&(Pe[Ca]=function(os){return new Promise(function(_a,Qa){ir.push([Ca,os,_a,Qa])>1||Do(Ca,os)})})}function Do(Ca,os){try{an(lr[Ca](os))}catch(_a){Ga(ir[0][3],_a)}}function an(Ca){Ca.value instanceof zr?Promise.resolve(Ca.value.v).then(Ai,Uo):Ga(ir[0][2],Ca)}function Ai(Ca){Do("next",Ca)}function Uo(Ca){Do("throw",Ca)}function Ga(Ca,os){Ca(os),ir.shift(),ir.length&&Do(ir[0][0],ir[0][1])}}function $t(Dt){var pr,Gr;return pr={},lr("next"),lr("throw",function(Pe){throw Pe}),lr("return"),pr[Symbol.iterator]=function(){return this},pr;function lr(Pe,ir){pr[Pe]=Dt[Pe]?function(pi){return(Gr=!Gr)?{value:zr(Dt[Pe](pi)),done:Pe==="return"}:ir?ir(pi):pi}:ir}}function gn(Dt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pr=Dt[Symbol.asyncIterator],Gr;return pr?pr.call(Dt):(Dt=typeof N=="function"?N(Dt):Dt[Symbol.iterator](),Gr={},lr("next"),lr("throw"),lr("return"),Gr[Symbol.asyncIterator]=function(){return this},Gr);function lr(ir){Gr[ir]=Dt[ir]&&function(pi){return new Promise(function(Do,an){pi=Dt[ir](pi),Pe(Do,an,pi.done,pi.value)})}}function Pe(ir,pi,Do,an){Promise.resolve(an).then(function(Ai){ir({value:Ai,done:Do})},pi)}}function Ni(Dt,pr){return Object.defineProperty?Object.defineProperty(Dt,"raw",{value:pr}):Dt.raw=pr,Dt}function br(Dt){if(Dt&&Dt.__esModule)return Dt;var pr={};if(Dt!=null)for(var Gr in Dt)Object.hasOwnProperty.call(Dt,Gr)&&(pr[Gr]=Dt[Gr]);return pr.default=Dt,pr}function Tt(Dt){return Dt&&Dt.__esModule?Dt:{default:Dt}}function Vr(Dt,pr){if(!pr.has(Dt))throw new TypeError("attempted to get private field on non-instance");return pr.get(Dt)}function Ar(Dt,pr,Gr){if(!pr.has(Dt))throw new TypeError("attempted to set private field on non-instance");return pr.set(Dt,Gr),Gr}},nSmt:function(ut,Ye,ae){},oBiK:function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("mrSG"),Xe=ae("W1EI"),Ne=function(ge){Be.__extends(We,ge);function We(Fe){return ge.call(this,Fe)||this}return We.prototype.componentDidMount=function(){this.initialize()},We.prototype.componentDidUpdate=function(Fe){this.initialize()},We.prototype.componentWillUnmount=function(){this.destroy()},We.prototype.destroy=function(){this.tilelayer&&(this.props.map.removeTileLayer(this.tilelayer),this.tilelayer=void 0)},We.prototype.initialize=function(){var Fe=this.props.map;if(!!Fe){this.map=Fe,this.destroy();var lt="pl",pt="20190102",de=this.tilelayer=new BMapGL.TileLayer({transparentPng:!0});de.zIndex=110,de.getTilesUrl=function(xe,ft){if(!xe||ft<0)return"";var N=xe.x,ve=xe.y,Zr="//mapsv0.bdimg.com/tile/?udt="+pt+"&qt=tile&styles="+lt+"&x="+N+"&y="+ve+"&z="+ft;return Zr},Fe.addTileLayer(this.tilelayer)}},We.prototype.render=function(){return null},We}(Xe.Component);Ye.default=Ne},oIFs:function(ut,Ye,ae){},or5M:function(ut,Ye,ae){var Be=ae("1hJj"),Xe=ae("QoRX"),Ne=ae("xYSL"),ge=1,We=2;function Fe(lt,pt,de,xe,ft,N){var ve=de&ge,Zr=lt.length,st=pt.length;if(Zr!=st&&!(ve&&st>Zr))return!1;var zr=N.get(lt),zn=N.get(pt);if(zr&&zn)return zr==pt&&zn==lt;var $t=-1,gn=!0,Ni=de&We?new Be:void 0;for(N.set(lt,pt),N.set(pt,lt);++$t<Zr;){var br=lt[$t],Tt=pt[$t];if(xe)var Vr=ve?xe(Tt,br,$t,pt,lt,N):xe(br,Tt,$t,lt,pt,N);if(Vr!==void 0){if(Vr)continue;gn=!1;break}if(Ni){if(!Xe(pt,function(Ar,Dt){if(!Ne(Ni,Dt)&&(br===Ar||ft(br,Ar,de,xe,N)))return Ni.push(Dt)})){gn=!1;break}}else if(!(br===Tt||ft(br,Tt,de,xe,N))){gn=!1;break}}return N.delete(lt),N.delete(pt),gn}ut.exports=Fe},pAY0:function(ut,Ye,ae){},"pED+":function(ut,Ye,ae){},pL63:function(ut,Ye,ae){},pSRY:function(ut,Ye,ae){var Be=ae("QkVE");function Xe(Ne){return Be(this,Ne).has(Ne)}ut.exports=Xe},pwpV:function(ut,Ye,ae){},q8ti:function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("mrSG"),Xe=Be.__importStar(ae("q1tI")),Ne=Be.__importDefault(ae("3RkO"));Ye.default=function(ge){return function(We){var Fe;return Fe=function(lt){Be.__extends(pt,lt);function pt(de){var xe=lt.call(this,de)||this;return xe.state={loaded:xe.isLoadReady()},xe.loadJSAPI=xe.loadJSAPI.bind(xe),xe.handleLoaded=xe.handleLoaded.bind(xe),xe}return pt.prototype.isLoadReady=function(){return!!(window.BMapGL&&window.BMapGL.Map)},pt.prototype.componentDidMount=function(){if(!this.isLoadReady()){if(!ge.ak)throw new TypeError("MapApiLoaderHOC: ak is required");this.loadJSAPI()}},pt.prototype.componentWillUnmount=function(){this.apiTimer&&clearTimeout(this.apiTimer),this.loadedTimer&&clearTimeout(this.loadedTimer)},pt.prototype.loadJSAPI=function(){var de=this;if(this.isLoadReady()){this.handleLoaded();return}if(window.loadingMap)this.apiTimer=window.setTimeout(function(){de.loadJSAPI()},300);else if(!window.MapApiLoaderCallback){window.loadingMap=!0,window.MapApiLoaderCallback=function(){delete window.loadingMap,delete window.MapApiLoaderCallback};var xe=ge.ak,ft=document.createElement("script");ft.type="text/javascript",ft.src="//api.map.baidu.com/api?type=webgl&v=1.0&ak="+xe+"&callback=MapApiLoaderCallback",document.body.appendChild(ft),this.loadedTimer=window.setTimeout(function(){de.handleLoaded()},300)}},pt.prototype.handleLoaded=function(){var de=this;if(!this.isLoadReady()){this.loadedTimer=window.setTimeout(function(){de.handleLoaded()},300);return}this.setState({loaded:!0})},pt.prototype.render=function(){var de=this.state.loaded;return de?Xe.default.createElement(We,Be.__assign({},this.props)):Xe.default.createElement("div",null,"loading...")},pt}(Xe.Component),Fe.displayName="MapApiLoaderHOC("+Ne.default(We)+")",Fe}}},qZTm:function(ut,Ye,ae){var Be=ae("fR/l"),Xe=ae("MvSz"),Ne=ae("7GkX");function ge(We){return Be(We,Ne,Xe)}ut.exports=ge},rEGp:function(ut,Ye){function ae(Be){var Xe=-1,Ne=Array(Be.size);return Be.forEach(function(ge){Ne[++Xe]=ge}),Ne}ut.exports=ae},"s+10":function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.toggleMethods=Ye.unregisterEvents=Ye.registerEvents=void 0;var Be=ae("mrSG"),Xe=Be.__importDefault(ae("Gytx"));function Ne(de,xe,ft){ft&&xe&&xe.addEventListener&&(de.registeredEvents={},ft.forEach(function(N){var ve="on"+N.substr(0,1).toUpperCase()+N.substr(1);de.props[ve]&&typeof de.props[ve]=="function"&&(xe.addEventListener(N,de.props[ve]),de.registeredEvents[N]=de.props[ve])}))}Ye.registerEvents=Ne;function ge(de,xe){de.registeredEvents&&xe&&xe.removeEventListener&&(Object.keys(de.registeredEvents).forEach(function(ft){xe.removeEventListener(ft,de.registeredEvents[ft])}),de.registeredEvents=null)}Ye.unregisterEvents=ge;function We(de,xe,ft,N){ft&&xe&&Object.keys(ft).forEach(function(ve){(N===void 0&&de.props[ve]!==void 0||N!==void 0&&!Xe.default(de.props[ve],N[ve]))&&(de.props[ve]?xe&&xe[ft[ve][0]]():xe&&xe[ft[ve][1]]())})}Ye.toggleMethods=We;function Fe(de,xe){var ft=de.prototype.getInstance,N=de.prototype.componentDidMount,ve=de.prototype.componentDidUpdate;return ft&&xe&&Object.keys(xe).length>0&&(de.prototype.componentDidMount=function(){N&&N.call(this),We(this,ft(this),xe)},de.prototype.componentDidUpdate=function(Zr,st){We(this,ft(this),xe,Zr),ve&&ve.call(this,Zr,st)}),de}function lt(de,xe){var ft=de.prototype.getInstance,N=de.prototype.componentDidUpdate,ve=de.prototype.componentDidMount,Zr=de.prototype.componentWillUnmount;return xe&&xe.length>0&&(de.prototype.componentDidMount=function(){ve&&ve.call(this),Ne(this,ft(this),xe)},de.prototype.componentDidUpdate=function(st,zr){Xe.default(this.props,st)||ge(this,ft(this)),N&&N.call(this,st,zr),Xe.default(this.props,st)||Ne(this,ft(this),xe)},de.prototype.componentWillUnmount=function(){ge(this,ft(this)),Zr&&Zr.call(this)}),de}function pt(de,xe,ft){var N=Fe(de,ft);return N=lt(N,xe),N}Ye.default=pt},sEf8:function(ut,Ye){function ae(Be){return function(Xe){return Be(Xe)}}ut.exports=ae},seXi:function(ut,Ye,ae){var Be=ae("qZTm"),Xe=1,Ne=Object.prototype,ge=Ne.hasOwnProperty;function We(Fe,lt,pt,de,xe,ft){var N=pt&Xe,ve=Be(Fe),Zr=ve.length,st=Be(lt),zr=st.length;if(Zr!=zr&&!N)return!1;for(var zn=Zr;zn--;){var $t=ve[zn];if(!(N?$t in lt:ge.call(lt,$t)))return!1}var gn=ft.get(Fe),Ni=ft.get(lt);if(gn&&Ni)return gn==lt&&Ni==Fe;var br=!0;ft.set(Fe,lt),ft.set(lt,Fe);for(var Tt=N;++zn<Zr;){$t=ve[zn];var Vr=Fe[$t],Ar=lt[$t];if(de)var Dt=N?de(Ar,Vr,$t,lt,Fe,ft):de(Vr,Ar,$t,Fe,lt,ft);if(!(Dt===void 0?Vr===Ar||xe(Vr,Ar,pt,de,ft):Dt)){br=!1;break}Tt||(Tt=$t=="constructor")}if(br&&!Tt){var pr=Fe.constructor,Gr=lt.constructor;pr!=Gr&&"constructor"in Fe&&"constructor"in lt&&!(typeof pr=="function"&&pr instanceof pr&&typeof Gr=="function"&&Gr instanceof Gr)&&(br=!1)}return ft.delete(Fe),ft.delete(lt),br}ut.exports=We},shjB:function(ut,Ye){var ae=9007199254740991;function Be(Xe){return typeof Xe=="number"&&Xe>-1&&Xe%1==0&&Xe<=ae}ut.exports=Be},slOs:function(ut,Ye,ae){},sxwG:function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("mrSG"),Xe=Be.__importDefault(ae("hODF")),Ne=function(ge){Be.__extends(We,ge);function We(Fe){return ge.call(this,Fe)||this}return We.prototype.getControl=function(){return new BMapGL.MapTypeControl(this.getOptions())},We.prototype.render=function(){return null},We}(Xe.default);Ye.default=Ne},tMB7:function(ut,Ye,ae){var Be=ae("y1pI");function Xe(Ne){var ge=this.__data__,We=Be(ge,Ne);return We<0?void 0:ge[We][1]}ut.exports=Xe},tadb:function(ut,Ye,ae){var Be=ae("Cwc5"),Xe=ae("Kz5y"),Ne=Be(Xe,"DataView");ut.exports=Ne},u1OI:function(ut,Ye,ae){},u8Dt:function(ut,Ye,ae){var Be=ae("YESw"),Xe="__lodash_hash_undefined__",Ne=Object.prototype,ge=Ne.hasOwnProperty;function We(Fe){var lt=this.__data__;if(Be){var pt=lt[Fe];return pt===Xe?void 0:pt}return ge.call(lt,Fe)?lt[Fe]:void 0}ut.exports=We},uK0f:function(ut,Ye,ae){(function(Be,Xe){ut.exports=Xe()})(this,function(){"use strict";function Be(Xe,Ne,ge){ge=ge||{},ge.childrenKeyName=ge.childrenKeyName||"children";var We=Xe||[],Fe=[],lt=0;do{var pt=We.filter(function(de){return Ne(de,lt)})[0];if(!pt)break;Fe.push(pt),We=pt[ge.childrenKeyName]||[],lt+=1}while(We.length>0);return Fe}return Be})},uNoE:function(ut,Ye,ae){ut.exports={stepForm:"stepForm___2j1kv",stepFormText:"stepFormText___175Da",result:"result___2CRdD",desc:"desc___2edD4",information:"information___KXNhG",label:"label___3CcgB",money:"money___WHBQ1",uppercase:"uppercase___3_cs6",numInput:"numInput___1LEyY"}},v56E:function(ut,Ye,ae){},"wF/u":function(ut,Ye,ae){var Be=ae("e5cp"),Xe=ae("ExA7");function Ne(ge,We,Fe,lt,pt){return ge===We?!0:ge==null||We==null||!Xe(ge)&&!Xe(We)?ge!==ge&&We!==We:Be(ge,We,Fe,lt,Ne,pt)}ut.exports=Ne},wJg7:function(ut,Ye){var ae=9007199254740991,Be=/^(?:0|[1-9]\d*)$/;function Xe(Ne,ge){var We=typeof Ne;return ge=ge==null?ae:ge,!!ge&&(We=="number"||We!="symbol"&&Be.test(Ne))&&Ne>-1&&Ne%1==0&&Ne<ge}ut.exports=Xe},xYSL:function(ut,Ye){function ae(Be,Xe){return Be.has(Xe)}ut.exports=ae},xzDV:function(ut,Ye,ae){},y1pI:function(ut,Ye,ae){var Be=ae("ljhN");function Xe(Ne,ge){for(var We=Ne.length;We--;)if(Be(Ne[We][0],ge))return We;return-1}ut.exports=Xe},yGk4:function(ut,Ye,ae){var Be=ae("Cwc5"),Xe=ae("Kz5y"),Ne=Be(Xe,"Set");ut.exports=Ne},zATX:function(ut,Ye,ae){"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var Be=ae("mrSG"),Xe=Be.__importDefault(ae("0GZW")),Ne=Be.__importDefault(ae("Gytx")),ge=function(We){Be.__extends(Fe,We);function Fe(lt){var pt=We.call(this,lt)||this;return pt.options=["strokeColor","strokeWeight","strokeOpacity","strokeStyle","fillColor","fillOpacity","enableMassClear","enableEditing"],pt}return Fe.prototype.onDataUpdate=function(lt){var pt=this.props,de=pt.center,xe=pt.radius,ft=pt.autoViewport,N=lt.center,ve=lt.radius,Zr=lt.autoViewport,st=de&&!Ne.default(de,N),zr=!!(xe&&!Ne.default(xe,ve)),zn=!Ne.default(ft,Zr);if(st&&this.overlay.setCenter(this.parseCenter(de)),zr&&this.overlay.setRadius(xe),ft&&(st||zr||zn)){var $t=this.overlay.getBounds(),gn=this.props.map.getViewport($t,this.props.viewportOptions||{});this.props.map.setViewport(gn)}},Fe.prototype.getOverlay=function(){var lt=this.props,pt=lt.center,de=lt.radius;return new BMapGL.Circle(this.parseCenter(pt),de,this.getOptions())},Fe.prototype.parseCenter=function(lt){var pt=this.props.coordType==="bd09mc",de;return lt instanceof Array?de=new BMapGL.Point(lt[0],lt[1]):lt instanceof BMapGL.Point?de=lt:de=new BMapGL.Point(lt.lng,lt.lat),pt&&(de=BMapGL.Projection.convertMC2LL(de)),de},Fe.prototype.render=function(){return null},Fe}(Xe.default);Ye.default=ge}}]);
